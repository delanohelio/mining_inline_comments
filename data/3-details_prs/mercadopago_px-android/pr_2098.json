{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4Mzc4NTM2", "number": 2098, "title": "[Feature] Track High-Risk", "bodyText": "Motivaci\u00f3n y Contexto\n\nSe agrega track de HR.\nSe modifica cuando se trackean los eventos de remedies y los datos que mandamos en el extra info.\n\nDescripci\u00f3n\n\nC\u00f3mo probarlo\n\n\nScreenshots\n\n\nTipo de cambio (para el release manager)\n\n Breaking change (Fix o feature que cambia una funcionalidad existente o rompe firmas)\n\n\n\n Mi cambio afecta a los integradores internos\n\n\nCompartir conocimiento", "createdAt": "2020-04-03T20:46:29Z", "url": "https://github.com/mercadopago/px-android/pull/2098", "merged": true, "mergeCommit": {"oid": "3ad20ca9f706a5c6a6a998cde377ceb83b580de5"}, "closed": true, "closedAt": "2020-04-06T18:55:23Z", "author": {"login": "jorGonzalez291292"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUGaCJAH2gAyMzk4Mzc4NTM2OjU4ZWMxNjM0MzE2MWZlMzk4Yjk3MjM1ODEzMWEyMDIwM2I5NmM0YTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVDYl0AFqTM4ODUyOTQ1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "58ec16343161fe398b972358131a20203b96c4a3", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/58ec16343161fe398b972358131a20203b96c4a3", "committedDate": "2020-04-03T19:52:26Z", "message": "track added"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e18125e1a9d29a8145e105a13e49f0f4e502c5c", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/8e18125e1a9d29a8145e105a13e49f0f4e502c5c", "committedDate": "2020-04-03T20:35:06Z", "message": "track remedies fixed"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NTczNzIz", "url": "https://github.com/mercadopago/px-android/pull/2098#pullrequestreview-387573723", "createdAt": "2020-04-03T20:53:47Z", "commit": {"oid": "8e18125e1a9d29a8145e105a13e49f0f4e502c5c"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMDo1Mzo0N1rOGApOAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMDo1NTo0OFrOGApT8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzMyODUxMw==", "bodyText": "Lo vamos a usar para el caso del remedy PaymentMethodSuggestion", "url": "https://github.com/mercadopago/px-android/pull/2098#discussion_r403328513", "createdAt": "2020-04-03T20:53:47Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/payment_result/remedies/RemediesViewModel.kt", "diffHunk": "@@ -36,16 +37,14 @@ internal class RemediesViewModel(\n \n     init {\n         remediesModel.cvvRemedyModel?.let {\n-            RemedyEvent(RemedyTrackData(RemedyType.CVV_REQUEST.getType(), getExtraInfoTrack())).track()\n             remedyState.value = RemedyState.ShowCvvRemedy(it)\n         }\n         remediesModel.highRiskRemedyModel?.let {\n-            //TODO track\n             remedyState.value = RemedyState.ShowKyCRemedy(it)\n         }\n     }\n \n-    private fun getExtraInfoTrack() = mapOf(\n+    private fun getExtraInfoTrackForPaymentMethodSuggestion() = mapOf(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e18125e1a9d29a8145e105a13e49f0f4e502c5c"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzMyOTg0NA==", "bodyText": "Cambie esto ac\u00e1 por que hay que trackear el remedy que se va a usar, no el que se muestra.", "url": "https://github.com/mercadopago/px-android/pull/2098#discussion_r403329844", "createdAt": "2020-04-03T20:55:31Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/payment_result/remedies/RemediesViewModel.kt", "diffHunk": "@@ -56,6 +55,7 @@ internal class RemediesViewModel(\n                 .recoverWithCVV(cvv)?.let {\n                     paymentSettingRepository.configure(it)\n                     withContext(Dispatchers.Main) {\n+                        RemedyEvent(RemedyTrackData(RemedyType.CVV_REQUEST.getType(), Collections.emptyMap())).track()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e18125e1a9d29a8145e105a13e49f0f4e502c5c"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzMzMDAzMw==", "bodyText": "Idem anterior.", "url": "https://github.com/mercadopago/px-android/pull/2098#discussion_r403330033", "createdAt": "2020-04-03T20:55:48Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/payment_result/remedies/RemediesViewModel.kt", "diffHunk": "@@ -77,7 +77,8 @@ internal class RemediesViewModel(\n         when(action) {\n             RemedyButton.Action.CHANGE_PM -> remedyState.value = RemedyState.ChangePaymentMethod\n             RemedyButton.Action.KYC -> remediesModel.highRiskRemedyModel?.let {\n-                remedyState.value = RemedyState.GoToKyc(it.deepLink)\n+                    RemedyEvent(RemedyTrackData(RemedyType.KYC_REQUEST.getType(), Collections.emptyMap())).track()\n+                    remedyState.value = RemedyState.GoToKyc(it.deepLink)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e18125e1a9d29a8145e105a13e49f0f4e502c5c"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3ODc2OTQ2", "url": "https://github.com/mercadopago/px-android/pull/2098#pullrequestreview-387876946", "createdAt": "2020-04-05T23:55:06Z", "commit": {"oid": "8e18125e1a9d29a8145e105a13e49f0f4e502c5c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4NTI5NDU3", "url": "https://github.com/mercadopago/px-android/pull/2098#pullrequestreview-388529457", "createdAt": "2020-04-06T18:55:04Z", "commit": {"oid": "8e18125e1a9d29a8145e105a13e49f0f4e502c5c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3914, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}