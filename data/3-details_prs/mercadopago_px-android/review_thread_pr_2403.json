{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyMDEyNjkw", "number": 2403, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxNTowNzozNlrOFMK3mQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxNToxNzo1MFrOFMLH6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4MzA1MzA1OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/ExpressPaymentFragment.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxNTowNzozNlrOIPv-qA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxNTowNzozNlrOIPv-qA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzM4NTY0MA==", "bodyText": "qued\u00f3 de m\u00e1s", "url": "https://github.com/mercadopago/px-android/pull/2403#discussion_r553385640", "createdAt": "2021-01-07T15:07:36Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/ExpressPaymentFragment.java", "diffHunk": "@@ -53,10 +61,11 @@\n import com.mercadopago.android.px.internal.features.pay_button.PayButton;\n import com.mercadopago.android.px.internal.features.pay_button.PayButtonFragment;\n import com.mercadopago.android.px.internal.features.security_code.SecurityCodeFragment;\n-import com.mercadopago.android.px.internal.util.CardFormWithFragmentWrapper;\n+import com.mercadopago.android.px.internal.util.CardFormWrapper;\n import com.mercadopago.android.px.internal.util.ErrorUtil;\n import com.mercadopago.android.px.internal.util.Logger;\n import com.mercadopago.android.px.internal.util.VibrationUtils;\n+import com.mercadopago.android.px.internal.util.ViewUtils;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34ca768dedd0bfcfe5c9c5fb7c961c4b87e28ab1"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4MzA5MjgzOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxNToxNzoyOFrOIPwWWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxNToyMDoyNFrOIPwdvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzM5MTcwNw==", "bodyText": "Podemos cambiarle el nombre a solo webpay? no dice mucho TBK", "url": "https://github.com/mercadopago/px-android/pull/2403#discussion_r553391707", "createdAt": "2021-01-07T15:17:28Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodFragment.java", "diffHunk": "@@ -145,15 +174,30 @@ protected void loadImage(@NonNull final View view, @DrawableRes final int imageR\n     }\n \n     @Override\n-    public void startCardForm(@NonNull final CardFormWithFragmentWrapper cardFormWithFragmentWrapper) {\n-        final FragmentManager manager;\n-        if (getParentFragment() != null && (manager = getParentFragment().getFragmentManager()) != null) {\n-            cardFormWithFragmentWrapper.getCardFormWithFragment()\n-                .start(manager, ExpressPaymentFragment.REQ_CODE_CARD_FORM, R.id.one_tap_fragment);\n+    public void startCardForm(@NonNull final CardFormWrapper cardFormWrapper, @NonNull final CardFormInitType initType) {\n+        switch (initType) {\n+            case STANDARD: {\n+                final FragmentManager manager;\n+                if (getParentFragment() != null && (manager = getParentFragment().getFragmentManager()) != null) {\n+                    cardFormWrapper.getCardFormWithFragment()\n+                        .start(manager, REQ_CODE_CARD_FORM, R.id.one_tap_fragment);\n+                }\n+                break;\n+            }\n+            case WEBPAY_TBK: {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34ca768dedd0bfcfe5c9c5fb7c961c4b87e28ab1"}, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzM5MzU5OA==", "bodyText": "Si se puede, lo cambio a WEB_PAY", "url": "https://github.com/mercadopago/px-android/pull/2403#discussion_r553393598", "createdAt": "2021-01-07T15:20:24Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodFragment.java", "diffHunk": "@@ -145,15 +174,30 @@ protected void loadImage(@NonNull final View view, @DrawableRes final int imageR\n     }\n \n     @Override\n-    public void startCardForm(@NonNull final CardFormWithFragmentWrapper cardFormWithFragmentWrapper) {\n-        final FragmentManager manager;\n-        if (getParentFragment() != null && (manager = getParentFragment().getFragmentManager()) != null) {\n-            cardFormWithFragmentWrapper.getCardFormWithFragment()\n-                .start(manager, ExpressPaymentFragment.REQ_CODE_CARD_FORM, R.id.one_tap_fragment);\n+    public void startCardForm(@NonNull final CardFormWrapper cardFormWrapper, @NonNull final CardFormInitType initType) {\n+        switch (initType) {\n+            case STANDARD: {\n+                final FragmentManager manager;\n+                if (getParentFragment() != null && (manager = getParentFragment().getFragmentManager()) != null) {\n+                    cardFormWrapper.getCardFormWithFragment()\n+                        .start(manager, REQ_CODE_CARD_FORM, R.id.one_tap_fragment);\n+                }\n+                break;\n+            }\n+            case WEBPAY_TBK: {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzM5MTcwNw=="}, "originalCommit": {"oid": "34ca768dedd0bfcfe5c9c5fb7c961c4b87e28ab1"}, "originalPosition": 92}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4MzA5NDgyOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodPresenter.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxNToxNzo1MFrOIPwXaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxNTo0MjozMlrOIPxXCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzM5MTk3Ng==", "bodyText": "Es nonnull?", "url": "https://github.com/mercadopago/px-android/pull/2403#discussion_r553391976", "createdAt": "2021-01-07T15:17:50Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodPresenter.java", "diffHunk": "@@ -2,23 +2,19 @@\n \n import androidx.annotation.NonNull;\n import com.mercadopago.android.px.internal.base.BasePresenter;\n-import com.mercadopago.android.px.internal.repository.PaymentSettingRepository;\n-import com.mercadopago.android.px.internal.tracking.TrackingRepository;\n-import com.mercadopago.android.px.internal.util.CardFormWithFragmentWrapper;\n+import com.mercadopago.android.px.internal.util.CardFormWrapper;\n+import com.mercadopago.android.px.model.CardFormInitType;\n \n public class OtherPaymentMethodPresenter extends BasePresenter<AddNewCard.View> implements AddNewCard.Actions {\n \n-    private final PaymentSettingRepository settingRepository;\n-    @NonNull private final TrackingRepository trackingRepository;\n+    @NonNull private final CardFormWrapper cardFormWrapper;\n \n-    /* default */ OtherPaymentMethodPresenter(@NonNull final PaymentSettingRepository settingRepository,\n-        @NonNull final TrackingRepository trackingRepository) {\n-        this.settingRepository = settingRepository;\n-        this.trackingRepository = trackingRepository;\n+    /* default */ OtherPaymentMethodPresenter(@NonNull final CardFormWrapper cardFormWrapper) {\n+        this.cardFormWrapper = cardFormWrapper;\n     }\n \n     @Override\n-    public void onAddNewCardSelected() {\n-        getView().startCardForm(new CardFormWithFragmentWrapper(settingRepository, trackingRepository));\n+    public void onAddNewCardSelected(final CardFormInitType initType) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34ca768dedd0bfcfe5c9c5fb7c961c4b87e28ab1"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzQwODI2Ng==", "bodyText": "Si, agrego el @nonnull.", "url": "https://github.com/mercadopago/px-android/pull/2403#discussion_r553408266", "createdAt": "2021-01-07T15:42:32Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodPresenter.java", "diffHunk": "@@ -2,23 +2,19 @@\n \n import androidx.annotation.NonNull;\n import com.mercadopago.android.px.internal.base.BasePresenter;\n-import com.mercadopago.android.px.internal.repository.PaymentSettingRepository;\n-import com.mercadopago.android.px.internal.tracking.TrackingRepository;\n-import com.mercadopago.android.px.internal.util.CardFormWithFragmentWrapper;\n+import com.mercadopago.android.px.internal.util.CardFormWrapper;\n+import com.mercadopago.android.px.model.CardFormInitType;\n \n public class OtherPaymentMethodPresenter extends BasePresenter<AddNewCard.View> implements AddNewCard.Actions {\n \n-    private final PaymentSettingRepository settingRepository;\n-    @NonNull private final TrackingRepository trackingRepository;\n+    @NonNull private final CardFormWrapper cardFormWrapper;\n \n-    /* default */ OtherPaymentMethodPresenter(@NonNull final PaymentSettingRepository settingRepository,\n-        @NonNull final TrackingRepository trackingRepository) {\n-        this.settingRepository = settingRepository;\n-        this.trackingRepository = trackingRepository;\n+    /* default */ OtherPaymentMethodPresenter(@NonNull final CardFormWrapper cardFormWrapper) {\n+        this.cardFormWrapper = cardFormWrapper;\n     }\n \n     @Override\n-    public void onAddNewCardSelected() {\n-        getView().startCardForm(new CardFormWithFragmentWrapper(settingRepository, trackingRepository));\n+    public void onAddNewCardSelected(final CardFormInitType initType) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzM5MTk3Ng=="}, "originalCommit": {"oid": "34ca768dedd0bfcfe5c9c5fb7c961c4b87e28ab1"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1748, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}