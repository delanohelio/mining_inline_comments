{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwNTYxMjU3", "number": 2340, "reviewThreads": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNTo1MzoyOFrOEmJ2-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNjo0MTo0M1rOEopv8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDQyODc1OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/base/use_case/UseCase.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNTo1MzoyOFrOHWBJPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTo1NTo1NlrOHWo4WQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg0OTQ2OQ==", "bodyText": "Cambiar el mensaje este ahora que le cambiamos el nombre al m\u00e9todo", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r492849469", "createdAt": "2020-09-22T15:53:28Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/base/use_case/UseCase.kt", "diffHunk": "@@ -21,9 +21,8 @@ abstract class UseCase<in P, out R> {\n                     withContext(Dispatchers.Main) { response.resolve(success, failure) }\n                 }\n             } catch (e: Exception) {\n-                failure(MercadoPagoError(\n-                    e.localizedMessage.orIfEmpty(\"Error when build ${this@UseCase.javaClass}\"),\n-                    false))\n+                val errorMessage = e.localizedMessage.orIfEmpty(\"Error when build ${this@UseCase.javaClass}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f0a28c04fb054902996c0671eb1831e5d138b24"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUwMDUwNQ==", "bodyText": "Cambiado", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r493500505", "createdAt": "2020-09-23T11:55:56Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/base/use_case/UseCase.kt", "diffHunk": "@@ -21,9 +21,8 @@ abstract class UseCase<in P, out R> {\n                     withContext(Dispatchers.Main) { response.resolve(success, failure) }\n                 }\n             } catch (e: Exception) {\n-                failure(MercadoPagoError(\n-                    e.localizedMessage.orIfEmpty(\"Error when build ${this@UseCase.javaClass}\"),\n-                    false))\n+                val errorMessage = e.localizedMessage.orIfEmpty(\"Error when build ${this@UseCase.javaClass}\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg0OTQ2OQ=="}, "originalCommit": {"oid": "2f0a28c04fb054902996c0671eb1831e5d138b24"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDQ4MzMzOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/SecurityCodeFragment.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjowNTozNFrOHWBr9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTo1NTo0OVrOHWo3sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg1ODM1Nw==", "bodyText": "El onBack se est\u00e1 haciendo siempre independientemente si backea o no", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r492858357", "createdAt": "2020-09-22T16:05:34Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/SecurityCodeFragment.kt", "diffHunk": "@@ -126,7 +129,11 @@ internal class SecurityCodeFragment : Fragment(), PayButton.Handler, BackHandler\n         securityCodeViewModel.enqueueOnExploding(cvvEditText.text.toString(), callback)\n     }\n \n-    override fun handleBack() = payButtonFragment.isExploding()\n+    override fun onPaymentError(error: MercadoPagoError) {\n+        securityCodeViewModel.onPaymentError()\n+    }\n+\n+    override fun handleBack() = payButtonFragment.isExploding().also { securityCodeViewModel.onBack() }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f0a28c04fb054902996c0671eb1831e5d138b24"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUwMDMzOQ==", "bodyText": "Corregido", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r493500339", "createdAt": "2020-09-23T11:55:49Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/SecurityCodeFragment.kt", "diffHunk": "@@ -126,7 +129,11 @@ internal class SecurityCodeFragment : Fragment(), PayButton.Handler, BackHandler\n         securityCodeViewModel.enqueueOnExploding(cvvEditText.text.toString(), callback)\n     }\n \n-    override fun handleBack() = payButtonFragment.isExploding()\n+    override fun onPaymentError(error: MercadoPagoError) {\n+        securityCodeViewModel.onPaymentError()\n+    }\n+\n+    override fun handleBack() = payButtonFragment.isExploding().also { securityCodeViewModel.onBack() }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg1ODM1Nw=="}, "originalCommit": {"oid": "2f0a28c04fb054902996c0671eb1831e5d138b24"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDUwMjUzOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/pay_button/PayButtonViewModel.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjoxMDowNVrOHWB36w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTo1NTozOVrOHWo3GA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg2MTQxOQ==", "bodyText": "No podemos hacer la clase directamente para que este friction se pueda trackear en cualquier lado? como hacemos con los demas frictions", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r492861419", "createdAt": "2020-09-22T16:10:05Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/pay_button/PayButtonViewModel.kt", "diffHunk": "@@ -228,6 +228,14 @@ internal class PayButtonViewModel(\n             FrictionEventTracker.Id.GENERIC, FrictionEventTracker.Style.CUSTOM_COMPONENT, error).track()\n     }\n \n+    private fun trackNoConnectionFriction() {\n+        val frictionId = FrictionEventTracker.Id.NO_CONNECTION", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f0a28c04fb054902996c0671eb1831e5d138b24"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUwMDE4NA==", "bodyText": "Cambiado", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r493500184", "createdAt": "2020-09-23T11:55:39Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/pay_button/PayButtonViewModel.kt", "diffHunk": "@@ -228,6 +228,14 @@ internal class PayButtonViewModel(\n             FrictionEventTracker.Id.GENERIC, FrictionEventTracker.Style.CUSTOM_COMPONENT, error).track()\n     }\n \n+    private fun trackNoConnectionFriction() {\n+        val frictionId = FrictionEventTracker.Id.NO_CONNECTION", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg2MTQxOQ=="}, "originalCommit": {"oid": "2f0a28c04fb054902996c0671eb1831e5d138b24"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDU2MjQ5OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/data/SecurityCodeDisplayData.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjoyNDowMVrOHWCc0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTo1NzoxNFrOHWo9QA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg3MDg2NQ==", "bodyText": "tenemos que pensar esta estructura, vamos a separar cada feature en las capas o vamos a tener las capas independientes de cada feature?\nlo que me imagino que va a suceder es que vamos a necesitar data de un feature en particular en otro y se van a empezar a mezclar los packages", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r492870865", "createdAt": "2020-09-22T16:24:01Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/data/SecurityCodeDisplayData.kt", "diffHunk": "@@ -0,0 +1,10 @@\n+package com.mercadopago.android.px.internal.features.security_code.data", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f0a28c04fb054902996c0671eb1831e5d138b24"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUwMTc2MA==", "bodyText": "Desde esa perspectiva ten\u00e9s raz\u00f3n. Quer\u00e9s que arme los packges?", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r493501760", "createdAt": "2020-09-23T11:57:14Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/data/SecurityCodeDisplayData.kt", "diffHunk": "@@ -0,0 +1,10 @@\n+package com.mercadopago.android.px.internal.features.security_code.data", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg3MDg2NQ=="}, "originalCommit": {"oid": "2f0a28c04fb054902996c0671eb1831e5d138b24"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNTY0MTMwOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/tracking/SecurityCodeTrack.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxNjo1NzozNVrOHZHb2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNjozOTo0NlrOHZ3bCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjA5ODI2NQ==", "bodyText": "cuando se setea este actionpath? no lo veo", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496098265", "createdAt": "2020-09-28T16:57:35Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/tracking/SecurityCodeTrack.kt", "diffHunk": "@@ -0,0 +1,20 @@\n+package com.mercadopago.android.px.internal.features.security_code.tracking\n+\n+import com.mercadopago.android.px.tracking.internal.TrackWrapper\n+import com.mercadopago.android.px.tracking.internal.model.Reason\n+import com.mercadopago.android.px.tracking.internal.model.TrackingMapModel\n+\n+abstract class SecurityCodeTrack: TrackWrapper() {\n+\n+    protected val data = mutableMapOf<String, Any>()\n+    protected var actionPath: String = \"\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f631325c90449d79ee59a04cfe347b7cb78e0fde"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg4NDQ4OQ==", "bodyText": "Se setean en los hijos", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496884489", "createdAt": "2020-09-29T16:39:46Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/tracking/SecurityCodeTrack.kt", "diffHunk": "@@ -0,0 +1,20 @@\n+package com.mercadopago.android.px.internal.features.security_code.tracking\n+\n+import com.mercadopago.android.px.tracking.internal.TrackWrapper\n+import com.mercadopago.android.px.tracking.internal.model.Reason\n+import com.mercadopago.android.px.tracking.internal.model.TrackingMapModel\n+\n+abstract class SecurityCodeTrack: TrackWrapper() {\n+\n+    protected val data = mutableMapOf<String, Any>()\n+    protected var actionPath: String = \"\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjA5ODI2NQ=="}, "originalCommit": {"oid": "f631325c90449d79ee59a04cfe347b7cb78e0fde"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNTY0MzY0OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/tracking/SecurityCodeTrack.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxNjo1ODoxM1rOHZHdVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOToxODozM1rOHZ9VXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjA5ODY0NA==", "bodyText": "la data a trackear va a cambiar din\u00e1micamente? se puede setear mas de una vez? se puede resolver en el constructor?", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496098644", "createdAt": "2020-09-28T16:58:13Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/tracking/SecurityCodeTrack.kt", "diffHunk": "@@ -0,0 +1,20 @@\n+package com.mercadopago.android.px.internal.features.security_code.tracking\n+\n+import com.mercadopago.android.px.tracking.internal.TrackWrapper\n+import com.mercadopago.android.px.tracking.internal.model.Reason\n+import com.mercadopago.android.px.tracking.internal.model.TrackingMapModel\n+\n+abstract class SecurityCodeTrack: TrackWrapper() {\n+\n+    protected val data = mutableMapOf<String, Any>()\n+    protected var actionPath: String = \"\"\n+\n+    fun setTrackData(securityCodeData: TrackingMapModel, reason: Reason) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f631325c90449d79ee59a04cfe347b7cb78e0fde"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk4MTM0Mg==", "bodyText": "Cambiado", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496981342", "createdAt": "2020-09-29T19:18:33Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/tracking/SecurityCodeTrack.kt", "diffHunk": "@@ -0,0 +1,20 @@\n+package com.mercadopago.android.px.internal.features.security_code.tracking\n+\n+import com.mercadopago.android.px.tracking.internal.TrackWrapper\n+import com.mercadopago.android.px.tracking.internal.model.Reason\n+import com.mercadopago.android.px.tracking.internal.model.TrackingMapModel\n+\n+abstract class SecurityCodeTrack: TrackWrapper() {\n+\n+    protected val data = mutableMapOf<String, Any>()\n+    protected var actionPath: String = \"\"\n+\n+    fun setTrackData(securityCodeData: TrackingMapModel, reason: Reason) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjA5ODY0NA=="}, "originalCommit": {"oid": "f631325c90449d79ee59a04cfe347b7cb78e0fde"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNTY1NDkyOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/tracking/SecurityCodeFrictions.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxNjo1OTo0NFrOHZHjmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxNjo1OTo0NFrOHZHjmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjEwMDI0OQ==", "bodyText": "la data a trackear va a cambiar din\u00e1micamente? se puede setear mas de una vez? se puede resolver en el constructor?", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496100249", "createdAt": "2020-09-28T16:59:44Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/tracking/SecurityCodeFrictions.kt", "diffHunk": "@@ -0,0 +1,33 @@\n+package com.mercadopago.android.px.internal.features.security_code.tracking\n+\n+import com.mercadopago.android.px.tracking.internal.events.FrictionEventTracker\n+import com.mercadopago.android.px.tracking.internal.model.TrackingMapModel\n+import java.util.*\n+\n+class SecurityCodeFrictions {\n+    private val data = mutableMapOf<String, Any>()\n+\n+    fun setTrackData(data: TrackingMapModel) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f631325c90449d79ee59a04cfe347b7cb78e0fde"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNTY4MDI2OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/domain/use_case/SecurityTrackModelUseCase.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxNzowNDoyOFrOHZHx1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxNzowNDoyOFrOHZHx1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjEwMzg5NA==", "bodyText": "Creo que podemos dejarlo as\u00ed por ahora, pero la idea a futuro es dejar de depender de este repositorio, creo que esa card podria ser el input del usecase, y le deberia llegar de alguna forma a la pantalla de cvv tambien", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496103894", "createdAt": "2020-09-28T17:04:28Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/domain/use_case/SecurityTrackModelUseCase.kt", "diffHunk": "@@ -0,0 +1,27 @@\n+package com.mercadopago.android.px.internal.features.security_code.domain.use_case\n+\n+import com.mercadopago.android.px.internal.base.use_case.UseCase\n+import com.mercadopago.android.px.internal.callbacks.Response\n+import com.mercadopago.android.px.internal.extensions.notNull\n+import com.mercadopago.android.px.internal.repository.UserSelectionRepository\n+import com.mercadopago.android.px.model.Card\n+import com.mercadopago.android.px.tracking.internal.model.TrackingMapModel\n+\n+class SecurityTrackModelUseCase(\n+    private val userSelectionRepository: UserSelectionRepository\n+) : UseCase<Unit, TrackingMapModel>() {\n+\n+    override suspend fun doExecute(param: Unit) = notNull(userSelectionRepository.card).let { card ->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f631325c90449d79ee59a04cfe347b7cb78e0fde"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNTY4MDgwOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/domain/use_case/DisplayDataUseCase.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxNzowNDozN1rOHZHyMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxNzowNDozN1rOHZHyMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjEwMzk4Ng==", "bodyText": "Creo que podemos dejarlo as\u00ed por ahora, pero la idea a futuro es dejar de depender de este repositorio, creo que esa card podria ser el input del usecase, y le deberia llegar de alguna forma a la pantalla de cvv tambien", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496103986", "createdAt": "2020-09-28T17:04:37Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/domain/use_case/DisplayDataUseCase.kt", "diffHunk": "@@ -0,0 +1,30 @@\n+package com.mercadopago.android.px.internal.features.security_code.domain.use_case\n+\n+import com.mercadopago.android.px.internal.base.use_case.UseCase\n+import com.mercadopago.android.px.internal.callbacks.Response\n+import com.mercadopago.android.px.internal.callbacks.map\n+import com.mercadopago.android.px.internal.extensions.notNull\n+import com.mercadopago.android.px.internal.features.security_code.data.SecurityCodeDisplayData\n+import com.mercadopago.android.px.internal.features.security_code.domain.model.BusinessSecurityCodeDisplayData\n+import com.mercadopago.android.px.internal.features.security_code.mapper.BusinessSecurityCodeDisplayDataMapper\n+import com.mercadopago.android.px.internal.repository.InitRepository\n+import com.mercadopago.android.px.internal.repository.UserSelectionRepository\n+\n+internal class DisplayDataUseCase(\n+    private val initRepository: InitRepository,\n+    private val userSelectionRepository: UserSelectionRepository,\n+    private val securityCodeDisplayDataMapper: BusinessSecurityCodeDisplayDataMapper\n+) : UseCase<Unit, BusinessSecurityCodeDisplayData>() {\n+\n+    override suspend fun doExecute(param: Unit) = notNull(userSelectionRepository.card).let { card ->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f631325c90449d79ee59a04cfe347b7cb78e0fde"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNTc5NzAwOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/viewmodel/CardUiConfiguration.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxNzozNzo0M1rOHZI6ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOToxNDoxNVrOHZ9G-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjEyMjQ3NA==", "bodyText": "Ver de hacer que no dependa de business models y que ahga un mapper que se encargue, de esta forma podemos unificar con el otro CardDrawerConfiguration", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496122474", "createdAt": "2020-09-28T17:37:43Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/viewmodel/CardUiConfiguration.kt", "diffHunk": "@@ -0,0 +1,84 @@\n+package com.mercadopago.android.px.internal.viewmodel\n+\n+import android.graphics.Color\n+import android.widget.ImageView\n+import com.meli.android.carddrawer.configuration.FontType\n+import com.meli.android.carddrawer.configuration.SecurityCodeLocation\n+import com.meli.android.carddrawer.model.CardAnimationType\n+import com.meli.android.carddrawer.model.CardUI\n+import com.mercadopago.android.px.internal.features.security_code.domain.model.BusinessCardDisplayInfo\n+import com.mercadopago.android.px.internal.util.ViewUtils\n+\n+internal class CardUiConfiguration(\n+    private val businessCardDisplayInfo: BusinessCardDisplayInfo,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f631325c90449d79ee59a04cfe347b7cb78e0fde"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk3NzY1Ng==", "bodyText": "Dale", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496977656", "createdAt": "2020-09-29T19:14:15Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/viewmodel/CardUiConfiguration.kt", "diffHunk": "@@ -0,0 +1,84 @@\n+package com.mercadopago.android.px.internal.viewmodel\n+\n+import android.graphics.Color\n+import android.widget.ImageView\n+import com.meli.android.carddrawer.configuration.FontType\n+import com.meli.android.carddrawer.configuration.SecurityCodeLocation\n+import com.meli.android.carddrawer.model.CardAnimationType\n+import com.meli.android.carddrawer.model.CardUI\n+import com.mercadopago.android.px.internal.features.security_code.domain.model.BusinessCardDisplayInfo\n+import com.mercadopago.android.px.internal.util.ViewUtils\n+\n+internal class CardUiConfiguration(\n+    private val businessCardDisplayInfo: BusinessCardDisplayInfo,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjEyMjQ3NA=="}, "originalCommit": {"oid": "f631325c90449d79ee59a04cfe347b7cb78e0fde"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExMDYyNTEzOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/SecurityCodeFragment.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNjo0MTo0M1rOHZ3gAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNjo0MTo0M1rOHZ3gAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg4NTc2MA==", "bodyText": "Yo tirar\u00eda un error ac\u00e1 si son nulas las dos, y listo. Deber\u00eda ser el \u00fanico chequeo de esto al respecto.", "url": "https://github.com/mercadopago/px-android/pull/2340#discussion_r496885760", "createdAt": "2020-09-29T16:41:43Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/security_code/SecurityCodeFragment.kt", "diffHunk": "@@ -73,10 +74,12 @@ internal class SecurityCodeFragment : Fragment(), PayButton.Handler, BackHandler\n                 \"PaymentRecovery or PaymentConfiguration and Reason are needed\"\n             }\n \n+            val paymentRecovery = getParcelable<PaymentRecovery>(EXTRA_PAYMENT_RECOVERY)\n+            val reason = paymentRecovery?.let { Reason.from(it) } ?: getString(EXTRA_REASON)?.let { Reason.valueOf(it) }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f631325c90449d79ee59a04cfe347b7cb78e0fde"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1809, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}