{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4NDU5NDQy", "number": 2228, "title": "[Feature] Improved discount dialog", "bodyText": "Mejora en c\u00f3mo contamos los descuentos en one tap.\nSe agrega un brief debajo de la descripci\u00f3n del descuento en el summary y se cambia el dise\u00f1o del dialog\nque muestra el detalle del descuento.", "createdAt": "2020-07-13T20:00:47Z", "url": "https://github.com/mercadopago/px-android/pull/2228", "merged": true, "mergeCommit": {"oid": "ef73f150daf3bb8b6d6a5f769c37bf35c3005430"}, "closed": true, "closedAt": "2020-07-23T17:02:28Z", "author": {"login": "guchito9"}, "timelineItems": {"totalCount": 34, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcyPs6uAH2gAyNDQ4NDU5NDQyOmU0NGE2ZDJjNzlhZDYxZTUyZTBlNTViOTVjMTkwZGMxMGIxNzQxYzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3ySVoAH2gAyNDQ4NDU5NDQyOjE1NDI3NWZhMDYxMDBhODRhMGNkNTYxZjIwZTBlYWI2NzkyNTQ4NmQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e44a6d2c79ad61e52e0e55b95c190dc10b1741c6", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/e44a6d2c79ad61e52e0e55b95c190dc10b1741c6", "committedDate": "2020-07-06T11:39:56Z", "message": "brief added"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85a6cdfbbc1699d60ecc0d9f833e3089c8c57d0f", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/85a6cdfbbc1699d60ecc0d9f833e3089c8c57d0f", "committedDate": "2020-07-07T14:52:53Z", "message": "discount dialog changed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "698da22ec8cba52e69aed1d9ce0a28d98e24c0df", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/698da22ec8cba52e69aed1d9ce0a28d98e24c0df", "committedDate": "2020-07-07T21:20:51Z", "message": "new color for intration added, refactor amount descriptor view"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23bd102172e6ab6cf64f85ed5d119cdb3b6c670b", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/23bd102172e6ab6cf64f85ed5d119cdb3b6c670b", "committedDate": "2020-07-08T14:17:40Z", "message": "discount dialog refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a53a400706ff84e32d2d4228b395e171bd709c07", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/a53a400706ff84e32d2d4228b395e171bd709c07", "committedDate": "2020-07-11T17:04:18Z", "message": "change name files, and package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a670d4313f7506e394d5ce6817ef11578a02174", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/8a670d4313f7506e394d5ce6817ef11578a02174", "committedDate": "2020-07-12T16:11:28Z", "message": "dismiss brief"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476", "author": {"user": {"login": "guchito9", "name": "Guche Mantuano"}}, "url": "https://github.com/mercadopago/px-android/commit/7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476", "committedDate": "2020-07-13T20:08:08Z", "message": "Merge branch 'master' into feature/improved-discount-dialog"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MzUzODU5", "url": "https://github.com/mercadopago/px-android/pull/2228#pullrequestreview-448353859", "createdAt": "2020-07-14T18:20:24Z", "commit": {"oid": "8a670d4313f7506e394d5ce6817ef11578a02174"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxODoyMDoyNFrOGxfx7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxODoyMDoyNFrOGxfx7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1NDA5NQ==", "bodyText": "Estuvo mal siempre esto?", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r454554095", "createdAt": "2020-07-14T18:20:24Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/review_and_confirm/models/SummaryModel.java", "diffHunk": "@@ -33,7 +33,7 @@ public SummaryModel createFromParcel(final Parcel in) {\n \n     public static String resolveTitle(@NonNull final List<Item> items, @NonNull final Resources resources) {\n         final int quantity = items.size() == 1 ? items.get(0).getQuantity() : items.size();\n-        return quantity == 1 && TextUtil.isEmpty(items.get(0).getTitle()) ?\n+        return quantity == 1 && TextUtil.isNotEmpty(items.get(0).getTitle()) ?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a670d4313f7506e394d5ce6817ef11578a02174"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4Mzg0NzQz", "url": "https://github.com/mercadopago/px-android/pull/2228#pullrequestreview-448384743", "createdAt": "2020-07-14T19:04:25Z", "commit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOTowNDoyNVrOGxhTZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOTowNDoyNVrOGxhTZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU3OTA0NQ==", "bodyText": "Hay que cambiarle el nombre a esto", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r454579045", "createdAt": "2020-07-14T19:04:25Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/util/ViewUtils.java", "diffHunk": "@@ -352,4 +410,17 @@ public static void setStatusBarColor(@ColorInt final int color, @NonNull final W\n             window.setStatusBarColor(getDarkPrimaryColor(color));\n         }\n     }\n+\n+    public static boolean isDeviceScreenSize(@NonNull final Context context, final int... screenLayoutSize) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 171}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4Mzg1NDk0", "url": "https://github.com/mercadopago/px-android/pull/2228#pullrequestreview-448385494", "createdAt": "2020-07-14T19:05:30Z", "commit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOTowNTozMVrOGxhV2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOTowNTozMVrOGxhV2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU3OTY3NQ==", "bodyText": "Pasar a camel", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r454579675", "createdAt": "2020-07-14T19:05:31Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/AmountDescriptorView.java", "diffHunk": "@@ -12,27 +13,31 @@\n import android.view.animation.AnimationUtils;\n import android.widget.ImageView;\n import android.widget.TextView;\n+import com.mercadolibre.android.picassodiskcache.PicassoDiskLoader;\n import com.mercadopago.android.px.R;\n import com.mercadopago.android.px.core.DynamicDialogCreator;\n import com.mercadopago.android.px.internal.font.PxFont;\n import com.mercadopago.android.px.internal.util.TextUtil;\n import com.mercadopago.android.px.internal.util.ViewUtils;\n+import com.mercadopago.android.px.internal.viewmodel.DiscountBriefColor;\n import com.mercadopago.android.px.internal.viewmodel.EmptyLocalized;\n import com.mercadopago.android.px.internal.viewmodel.IDetailColor;\n import com.mercadopago.android.px.internal.viewmodel.IDetailDrawable;\n import com.mercadopago.android.px.internal.viewmodel.ILocalizedCharSequence;\n import com.mercadopago.android.px.model.DiscountConfigurationModel;\n+import com.mercadopago.android.px.model.DiscountOverview;\n import com.mercadopago.android.px.model.internal.Text;\n \n import static com.mercadopago.android.px.internal.util.AccessibilityUtilsKt.executeIfAccessibilityTalkBackEnable;\n import static com.mercadopago.android.px.internal.util.TextUtil.isEmpty;\n \n public class AmountDescriptorView extends ConstraintLayout {\n \n-    private MPTextView leftLabel;\n-    private View leftContainer;\n-    private TextView rightLabel;\n-    private ImageView imageView;\n+    private MPTextView descriptor;\n+    private MPTextView brief;\n+    private View descriptor_container;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4Mzg1Nzk2", "url": "https://github.com/mercadopago/px-android/pull/2228#pullrequestreview-448385796", "createdAt": "2020-07-14T19:05:59Z", "commit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOTowNTo1OVrOGxhWrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOTowNTo1OVrOGxhWrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU3OTg4NQ==", "bodyText": "Pasar a camel", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r454579885", "createdAt": "2020-07-14T19:05:59Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/AmountDescriptorView.java", "diffHunk": "@@ -12,27 +13,31 @@\n import android.view.animation.AnimationUtils;\n import android.widget.ImageView;\n import android.widget.TextView;\n+import com.mercadolibre.android.picassodiskcache.PicassoDiskLoader;\n import com.mercadopago.android.px.R;\n import com.mercadopago.android.px.core.DynamicDialogCreator;\n import com.mercadopago.android.px.internal.font.PxFont;\n import com.mercadopago.android.px.internal.util.TextUtil;\n import com.mercadopago.android.px.internal.util.ViewUtils;\n+import com.mercadopago.android.px.internal.viewmodel.DiscountBriefColor;\n import com.mercadopago.android.px.internal.viewmodel.EmptyLocalized;\n import com.mercadopago.android.px.internal.viewmodel.IDetailColor;\n import com.mercadopago.android.px.internal.viewmodel.IDetailDrawable;\n import com.mercadopago.android.px.internal.viewmodel.ILocalizedCharSequence;\n import com.mercadopago.android.px.model.DiscountConfigurationModel;\n+import com.mercadopago.android.px.model.DiscountOverview;\n import com.mercadopago.android.px.model.internal.Text;\n \n import static com.mercadopago.android.px.internal.util.AccessibilityUtilsKt.executeIfAccessibilityTalkBackEnable;\n import static com.mercadopago.android.px.internal.util.TextUtil.isEmpty;\n \n public class AmountDescriptorView extends ConstraintLayout {\n \n-    private MPTextView leftLabel;\n-    private View leftContainer;\n-    private TextView rightLabel;\n-    private ImageView imageView;\n+    private MPTextView descriptor;\n+    private MPTextView brief;\n+    private View descriptor_container;\n+    private MPTextView amount;\n+    private ImageView icon_descriptor;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MDMwMjM3", "url": "https://github.com/mercadopago/px-android/pull/2228#pullrequestreview-449030237", "createdAt": "2020-07-15T14:45:01Z", "commit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo0NTowMlrOGyBlGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo0NTowMlrOGyBlGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEwNzg2Ng==", "bodyText": "Creo que 0.5 es como no poner nada", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r455107866", "createdAt": "2020-07-15T14:45:02Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/res/layout/px_view_amount_descriptor.xml", "diffHunk": "@@ -1,61 +1,93 @@\n <?xml version=\"1.0\" encoding=\"utf-8\"?>\n <merge xmlns:android=\"http://schemas.android.com/apk/res/android\"\n-    xmlns:tools=\"http://schemas.android.com/tools\"\n     xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"wrap_content\"\n-    android:orientation=\"horizontal\"\n     android:gravity=\"center_vertical\"\n+    android:orientation=\"horizontal\"\n     tools:background=\"@color/px_colorPrimary\"\n     tools:parentTag=\"android.support.constraint.ConstraintLayout\">\n \n-    <LinearLayout\n-        android:id=\"@+id/title\"\n-        android:layout_width=\"wrap_content\"\n+    <android.support.constraint.ConstraintLayout\n+        android:id=\"@+id/descriptor_container\"\n+        android:layout_width=\"0dp\"\n         android:layout_height=\"wrap_content\"\n         android:gravity=\"center_vertical\"\n         android:orientation=\"horizontal\"\n+        app:layout_constraintBottom_toBottomOf=\"parent\"\n+        app:layout_constraintEnd_toStartOf=\"@+id/amount\"\n+        app:layout_constraintHorizontal_bias=\"0.5\"\n         app:layout_constraintHorizontal_chainStyle=\"spread_inside\"\n         app:layout_constraintStart_toStartOf=\"parent\"\n-        app:layout_constraintEnd_toStartOf=\"@id/space\">\n+        app:layout_constraintTop_toTopOf=\"parent\">\n \n-        <com.mercadopago.android.px.internal.view.MPTextView\n-            android:id=\"@+id/label\"\n+        <android.support.constraint.Guideline\n+            android:id=\"@+id/guide_line\"\n             android:layout_width=\"wrap_content\"\n             android:layout_height=\"wrap_content\"\n+            app:layout_constraintGuide_percent=\".9\"\n+            android:orientation=\"vertical\" />\n+\n+        <ImageView\n+            android:id=\"@+id/icon_descriptor\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\"\n+            android:layout_marginStart=\"@dimen/px_xxxs_margin\"\n+            android:importantForAccessibility=\"no\"\n+            app:layout_constraintBottom_toTopOf=\"@+id/brief\"\n+            app:layout_constraintEnd_toStartOf=\"@+id/guide_line\"\n+            app:layout_constraintHorizontal_bias=\"0.0\"\n+            app:layout_constraintStart_toEndOf=\"@id/descriptor\"\n+            app:layout_constraintTop_toTopOf=\"parent\"\n+            tools:src=\"@drawable/px_helper\" />\n+\n+        <com.mercadopago.android.px.internal.view.MPTextView\n+            android:id=\"@+id/descriptor\"\n+            android:layout_width=\"0dp\"\n+            android:layout_height=\"wrap_content\"\n             android:ellipsize=\"end\"\n             android:importantForAccessibility=\"no\"\n             android:maxLines=\"1\"\n             android:textColor=\"@color/px_expressCheckoutTextColor\"\n             android:textSize=\"@dimen/px_s_text\"\n-            tools:text=\"Total\"/>\n+            app:layout_constraintBottom_toTopOf=\"@+id/brief\"\n+            app:layout_constraintStart_toStartOf=\"parent\"\n+            app:layout_constraintTop_toTopOf=\"parent\"\n+            tools:text=\"20% OFF (Tope: $ 100)\" />\n \n-        <ImageView\n-            android:id=\"@+id/icon_descriptor_amount\"\n-            android:layout_width=\"16dp\"\n-            android:layout_height=\"16dp\"\n+        <com.mercadopago.android.px.internal.view.MPTextView\n+            android:id=\"@+id/brief\"\n+            android:layout_width=\"0dp\"\n+            android:layout_height=\"wrap_content\"\n+            android:ellipsize=\"end\"\n+            android:maxLines=\"2\"\n             android:importantForAccessibility=\"no\"\n-            android:layout_marginLeft=\"@dimen/px_xxxs_margin\"\n-            android:layout_marginStart=\"@dimen/px_xxxs_margin\"\n-            tools:src=\"@drawable/px_helper\"/>\n-    </LinearLayout>\n+            android:textColor=\"@color/px_expressCheckoutTextColor\"\n+            android:textSize=\"@dimen/px_xxs_text\"\n+            android:visibility=\"gone\"\n+            android:lineSpacingExtra=\"3sp\"\n+            app:layout_constraintBottom_toBottomOf=\"parent\"\n+            app:layout_constraintEnd_toEndOf=\"@id/guide_line\"\n+            app:layout_constraintStart_toStartOf=\"parent\"\n+            app:layout_constraintTop_toBottomOf=\"@id/descriptor\"\n+            tools:text=\"Con cada pago en esta marca consumir\u00e1s el tope hasta agotarlo.\" />\n \n-    <Space\n-        android:id=\"@+id/space\"\n-        android:layout_width=\"0dp\"\n-        android:layout_height=\"wrap_content\"\n-        app:layout_constraintStart_toEndOf=\"@id/title\"\n-        app:layout_constraintEnd_toStartOf=\"@id/amount\"\n-        />\n+    </android.support.constraint.ConstraintLayout>\n \n     <com.mercadopago.android.px.internal.view.MPTextView\n         android:id=\"@+id/amount\"\n         android:layout_width=\"wrap_content\"\n         android:layout_height=\"wrap_content\"\n-        android:textColor=\"@color/px_expressCheckoutTextColor\"\n         android:importantForAccessibility=\"no\"\n+        android:textColor=\"@color/px_expressCheckoutTextColor\"\n         android:textSize=\"@dimen/px_s_text\"\n+        app:layout_constraintBottom_toBottomOf=\"parent\"\n         app:layout_constraintEnd_toEndOf=\"parent\"\n-        app:layout_constraintStart_toEndOf=\"@id/space\"\n-        tools:text=\"$124\"/>\n+        app:layout_constraintHorizontal_bias=\"0.5\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 114}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MDQ0Nzcy", "url": "https://github.com/mercadopago/px-android/pull/2228#pullrequestreview-449044772", "createdAt": "2020-07-15T14:56:49Z", "commit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo1Njo1MFrOGyCPqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo1Njo1MFrOGyCPqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTExODc2MA==", "bodyText": "OJO", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r455118760", "createdAt": "2020-07-15T14:56:50Z", "author": {"login": "guchito9"}, "path": "px-services/build.gradle", "diffHunk": "@@ -12,8 +12,8 @@ android {\n \n     buildTypes {\n         debug {\n-            buildConfigField \"String\", \"API_ENVIRONMENT\", \"\\\"beta\\\"\"\n-            buildConfigField \"String\", \"API_ENVIRONMENT_NEW\", \"\\\"beta\\\"\"\n+            buildConfigField \"String\", \"API_ENVIRONMENT\", \"\\\"production\\\"\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MDQ1MDQ1", "url": "https://github.com/mercadopago/px-android/pull/2228#pullrequestreview-449045045", "createdAt": "2020-07-15T14:57:08Z", "commit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo1NzowOFrOGyCQdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo1NzowOFrOGyCQdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTExODk2Ng==", "bodyText": "Borrar esto", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r455118966", "createdAt": "2020-07-15T14:57:08Z", "author": {"login": "guchito9"}, "path": "px-services/src/main/java/com/mercadopago/android/px/internal/services/CheckoutService.java", "diffHunk": "@@ -19,6 +19,14 @@\n \n     String CHECKOUT_VERSION = \"v2\";\n     String ENVIRONMENT = BuildConfig.API_ENVIRONMENT_NEW;\n+//\"https://run.mocky.io/v3/8a4b5d87-8a03-4e82-8942-09dfadcb7cf5/\" xxxhdpi", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MDQ4NzY3", "url": "https://github.com/mercadopago/px-android/pull/2228#pullrequestreview-449048767", "createdAt": "2020-07-15T15:00:55Z", "commit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNTowMDo1NVrOGyCa5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNTowMDo1NVrOGyCa5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEyMTYzNg==", "bodyText": "Es writeTypedList amigo!", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r455121636", "createdAt": "2020-07-15T15:00:55Z", "author": {"login": "guchito9"}, "path": "px-services/src/main/java/com/mercadopago/android/px/model/DiscountOverview.kt", "diffHunk": "@@ -0,0 +1,31 @@\n+package com.mercadopago.android.px.model\n+\n+import android.os.Parcel\n+import android.os.Parcelable\n+import com.mercadopago.android.px.internal.util.KParcelable\n+import com.mercadopago.android.px.model.internal.Text\n+\n+data class DiscountOverview(val description: List<Text>,\n+                            val amount: Text,\n+                            val brief: List<Text>?,\n+                            val url: String?): KParcelable {\n+    constructor(parcel: Parcel) : this(\n+            parcel.createTypedArrayList(Text.CREATOR)!!,\n+            parcel.readParcelable(Text::class.java.classLoader)!!,\n+            parcel.createTypedArrayList(Text.CREATOR),\n+            parcel.readString())\n+\n+    override fun writeToParcel(parcel: Parcel, flags: Int) {\n+        parcel.writeList(description)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "892099d62538dbceffb023efb10ee66334d043cd", "author": {"user": {"login": "guchito9", "name": "Guche Mantuano"}}, "url": "https://github.com/mercadopago/px-android/commit/892099d62538dbceffb023efb10ee66334d043cd", "committedDate": "2020-07-15T16:47:59Z", "message": "Changed screen size check for discount brief"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8dcb41004e3d6b517789e80a36b3f234d4137cd", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/f8dcb41004e3d6b517789e80a36b3f234d4137cd", "committedDate": "2020-07-15T17:22:42Z", "message": "review changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3db166119ba50f447317caaa72072bc06b416b35", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/3db166119ba50f447317caaa72072bc06b416b35", "committedDate": "2020-07-15T17:22:59Z", "message": "Merge branch 'feature/improved-discount-dialog' of github.com:mercadopago/px-android into feature/improved-discount-dialog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb145f3eb8f876facdb86470ddc9907c755bc40c", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/bb145f3eb8f876facdb86470ddc9907c755bc40c", "committedDate": "2020-07-15T17:36:47Z", "message": "remove comments in checkout service"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1eac0b1722080a6d261a003b108d45da316330b0", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/1eac0b1722080a6d261a003b108d45da316330b0", "committedDate": "2020-07-15T21:47:08Z", "message": "key for SummaryViewModelMapper updated"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9cbba7d910ba168526cbd518cc7995b22eefd38d", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/9cbba7d910ba168526cbd518cc7995b22eefd38d", "committedDate": "2020-07-15T21:50:08Z", "message": "review changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3a902aced6e4791d2530f944c0fbd48d835e2f2", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/e3a902aced6e4791d2530f944c0fbd48d835e2f2", "committedDate": "2020-07-16T21:01:45Z", "message": "refactor key for SummaryViewModelMapper"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0", "committedDate": "2020-07-16T21:08:10Z", "message": "revert changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNDgwMTY3", "url": "https://github.com/mercadopago/px-android/pull/2228#pullrequestreview-452480167", "createdAt": "2020-07-21T13:53:34Z", "commit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMzo1MzozNFrOG05E8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMzo1MzozNFrOG05E8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODExNDI5MQ==", "bodyText": "Qued\u00f3 medio raro este m\u00e9todo, que significa que sea screen size?", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r458114291", "createdAt": "2020-07-21T13:53:34Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/util/ViewUtils.java", "diffHunk": "@@ -352,4 +411,11 @@ public static void setStatusBarColor(@ColorInt final int color, @NonNull final W\n             window.setStatusBarColor(getDarkPrimaryColor(color));\n         }\n     }\n+\n+    public static boolean isScreenSize(@NonNull final Context context, final int density) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "originalPosition": 174}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNDg4NzQ4", "url": "https://github.com/mercadopago/px-android/pull/2228#pullrequestreview-452488748", "createdAt": "2020-07-21T14:02:03Z", "commit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNDowMjowM1rOG05emg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNDowMjowM1rOG05emg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODEyMDg1OA==", "bodyText": "No me convence del todo como qued\u00f3 esto, creo que la vista deberia abstraerse de si est\u00e1 dibujando un descuento, pensemos que el dia de ma\u00f1ana quieren que venga un cargo con el mismo formato", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r458120858", "createdAt": "2020-07-21T14:02:03Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/AmountDescriptorView.java", "diffHunk": "@@ -57,37 +63,44 @@ public AmountDescriptorView(final Context context, @Nullable final AttributeSet\n \n     public interface OnClickListener {\n         void onDiscountAmountDescriptorClicked(@NonNull final DiscountConfigurationModel discountModel);\n+\n         void onChargesAmountDescriptorClicked(@NonNull final DynamicDialogCreator dynamicDialogCreator);\n     }\n \n     private void init() {\n         inflate(getContext(), R.layout.px_view_amount_descriptor, this);\n-        leftContainer = findViewById(R.id.title);\n-        leftLabel = leftContainer.findViewById(R.id.label);\n-        rightLabel = findViewById(R.id.amount);\n-        imageView = findViewById(R.id.icon_descriptor_amount);\n+        descriptorContainer = findViewById(R.id.descriptor_container);\n+        descriptor = descriptorContainer.findViewById(R.id.descriptor);\n+        brief = descriptorContainer.findViewById(R.id.brief);\n+        amount = findViewById(R.id.amount);\n+        iconDescriptor = findViewById(R.id.icon_descriptor);\n     }\n \n     public void animateEnter() {\n         final Animation slideLeft = AnimationUtils.loadAnimation(getContext(), R.anim.px_summary_slide_left_in);\n         final Animation slideRight = AnimationUtils.loadAnimation(getContext(), R.anim.px_summary_slide_right_in);\n-        leftContainer.startAnimation(slideRight);\n-        rightLabel.startAnimation(slideLeft);\n+        descriptorContainer.startAnimation(slideRight);\n+        amount.startAnimation(slideLeft);\n     }\n \n     public void update(@NonNull final AmountDescriptorView.Model model) {\n-        updateTextColor(model.detailColor);\n-        updateLeftLabel(model);\n-        updateRightLabel(model);\n-        updateDrawable(model.detailDrawable, model.detailDrawableColor);\n+        if (model.discountOverview != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "originalPosition": 84}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNDk3MTcw", "url": "https://github.com/mercadopago/px-android/pull/2228#pullrequestreview-452497170", "createdAt": "2020-07-21T14:10:48Z", "commit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNDoxMDo0OFrOG053uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNDoxMDo0OFrOG053uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODEyNzI5MQ==", "bodyText": "Que pasa con este dato si la procesadora no admite split? puede que venga true y no haya efectivamente un split? o viceversa, que la configuracion acepte split pero que no sea necesario?", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r458127291", "createdAt": "2020-07-21T14:10:48Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/SummaryDetailDescriptorFactory.java", "diffHunk": "@@ -50,24 +51,18 @@ public SummaryDetailDescriptorFactory(@NonNull final AmountDescriptorView.OnClic\n         if (chargeRule != null && !ChargeRuleHelper.isHighlightCharge(chargeRule)) {\n             addChargesRow(list);\n         }\n-        addTotalRow(list);\n+        addPurchaseRow(list);\n \n         return list;\n     }\n \n     private void addDiscountRow(@NonNull final Collection<AmountDescriptorView.Model> list) {\n-        final Discount discount = discountModel.getDiscount();\n-        if (!discountModel.isAvailable()) {\n-            final AmountDescriptorView.Model model = discountModel.getReason() != null ?\n-                new AmountDescriptorView.Model(discountModel.getReason().getSummary(), new SummaryViewDefaultColor()) :\n-                new AmountDescriptorView.Model(new SoldOutDiscountLocalized(), new SummaryViewDefaultColor());\n-            list.add(model\n-                .setDetailDrawable(new SummaryViewDetailDrawable(), new SummaryViewDefaultColor())\n-                .setListener(v -> listener.onDiscountAmountDescriptorClicked(discountModel)));\n-        } else if (discount != null) {\n-            list.add(new AmountDescriptorView.Model(new DiscountDescriptionLocalized(discount),\n-                new DiscountAmountLocalized(discount.getCouponAmount(), currency), new DiscountDetailColor())\n-                .setDetailDrawable(new SummaryViewDetailDrawable(), new DiscountDetailColor())\n+        final DiscountOverview discountOverview = discountModel.getDiscountOverview();\n+        final IDetailColor detailColor = new DiscountDetailColor();\n+        final boolean hasSplit = amountConfiguration != null && amountConfiguration.allowSplit();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "originalPosition": 67}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNjU2MzEx", "url": "https://github.com/mercadopago/px-android/pull/2228#pullrequestreview-452656311", "createdAt": "2020-07-21T17:00:28Z", "commit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNzowMDoyOVrOG1BZGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNzowMDoyOVrOG1BZGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODI1MDUyMQ==", "bodyText": "No podiamos referenciar otra vista para que siga validando en los tests de descuento?", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r458250521", "createdAt": "2020-07-21T17:00:29Z", "author": {"login": "cgaggino"}, "path": "px-testlib/src/main/java/com/mercadopago/android/px/testcheckout/assertions/DefaultValidator.java", "diffHunk": "@@ -172,12 +172,7 @@ public void validate(@NonNull final ReviewPaymentMethodsPage reviewPaymentMethod\n \n     @Override\n     public void validate(@NonNull final DiscountDetailPage discountDetailPage) {\n-        final Matcher<View> discountDetailLine = withId(com.mercadopago.android.px.R.id.px_discount_detail_line);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNjU2ODg1", "url": "https://github.com/mercadopago/px-android/pull/2228#pullrequestreview-452656885", "createdAt": "2020-07-21T17:00:57Z", "commit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNzowMDo1N1rOG1BaUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNzowMDo1N1rOG1BaUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODI1MDgzMg==", "bodyText": "Idem", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r458250832", "createdAt": "2020-07-21T17:00:57Z", "author": {"login": "cgaggino"}, "path": "px-testlib/src/main/java/com/mercadopago/android/px/testcheckout/assertions/UsedUpDiscountValidator.java", "diffHunk": "@@ -21,12 +21,7 @@\n public class UsedUpDiscountValidator extends DefaultValidator {\n     @Override\n     public void validate(@NonNull final DiscountDetailPage discountDetailPage) {\n-        final Matcher<View> discountDetailLine = withId(com.mercadopago.android.px.R.id.px_discount_detail_line);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNjU4MDA4", "url": "https://github.com/mercadopago/px-android/pull/2228#pullrequestreview-452658008", "createdAt": "2020-07-21T17:02:12Z", "commit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6eb1dbe7c80da1ef6e7a7429289ee2c60075ea6d", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/6eb1dbe7c80da1ef6e7a7429289ee2c60075ea6d", "committedDate": "2020-07-22T12:16:21Z", "message": "model abstraction, method name changed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1e50842164de4e2b31866b17cb8ea9ff6be3f8e", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/f1e50842164de4e2b31866b17cb8ea9ff6be3f8e", "committedDate": "2020-07-22T17:04:05Z", "message": "revert test changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6dd4e9523b784df6e1b66d50ef345f8aa274f0db", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/6dd4e9523b784df6e1b66d50ef345f8aa274f0db", "committedDate": "2020-07-22T18:26:58Z", "message": "update isScreenSize method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b460c86ba2f731739a212874e897abcb1865a98", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/8b460c86ba2f731739a212874e897abcb1865a98", "committedDate": "2020-07-23T15:47:49Z", "message": "added check for discountdescription model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "154275fa06100a84a0cd561f20e0eab67925486d", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/154275fa06100a84a0cd561f20e0eab67925486d", "committedDate": "2020-07-23T16:47:12Z", "message": "update test for discount"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3828, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}