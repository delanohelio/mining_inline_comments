{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0Mjg2MzQy", "number": 2390, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDoxMjozOFrOE855eQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxODoyMToyOFrOE-EvMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyMjk4NjE3OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDoxMjozOFrOH5Td9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDoxMjozOFrOH5Td9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg0OTg0NQ==", "bodyText": "List en vez de ArrayList", "url": "https://github.com/mercadopago/px-android/pull/2390#discussion_r529849845", "createdAt": "2020-11-24T20:12:38Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodFragment.java", "diffHunk": "@@ -81,12 +87,34 @@ public void onViewCreated(@NonNull final View view, @Nullable final Bundle saved\n \n     private void configureAddNewCard(@NonNull final NewCardMetadata newCardMetadata) {\n         addNewCardView.setVisibility(View.VISIBLE);\n+        final ArrayList<CardFormOption> cardFormOptions = newCardMetadata.getSheetOptions();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4d36e27a59bf17960801b8a5544fa93ab4c4361"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyMjk4NzkyOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDoxMzoyMFrOH5TfEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDoxMzoyMFrOH5TfEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg1MDEzMQ==", "bodyText": "onClickListener en vez de onCLickListener", "url": "https://github.com/mercadopago/px-android/pull/2390#discussion_r529850131", "createdAt": "2020-11-24T20:13:20Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodFragment.java", "diffHunk": "@@ -81,12 +87,34 @@ public void onViewCreated(@NonNull final View view, @Nullable final Bundle saved\n \n     private void configureAddNewCard(@NonNull final NewCardMetadata newCardMetadata) {\n         addNewCardView.setVisibility(View.VISIBLE);\n+        final ArrayList<CardFormOption> cardFormOptions = newCardMetadata.getSheetOptions();\n+        final View.OnClickListener onCLickListener;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4d36e27a59bf17960801b8a5544fa93ab4c4361"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyMzAwMzQxOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDoxNzozNFrOH5ToTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDoxNzozNFrOH5ToTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg1MjQ5Mg==", "bodyText": "Meter\u00eda un fromValue que haga internamente un equalsIgnoreCase dentro del enum mejor", "url": "https://github.com/mercadopago/px-android/pull/2390#discussion_r529852492", "createdAt": "2020-11-24T20:17:34Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodFragment.java", "diffHunk": "@@ -81,12 +87,34 @@ public void onViewCreated(@NonNull final View view, @Nullable final Bundle saved\n \n     private void configureAddNewCard(@NonNull final NewCardMetadata newCardMetadata) {\n         addNewCardView.setVisibility(View.VISIBLE);\n+        final ArrayList<CardFormOption> cardFormOptions = newCardMetadata.getSheetOptions();\n+        final View.OnClickListener onCLickListener;\n+\n+        if (ListUtil.isEmpty(cardFormOptions) || cardFormOptions.size() == 1) {\n+            final String initType = newCardMetadata.getCardFormInitType().toUpperCase();\n+            onCLickListener = v -> presenter.onAddNewCardSelected(CardFormInitType.valueOf(initType));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4d36e27a59bf17960801b8a5544fa93ab4c4361"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyMzAyODk2OnYy", "diffSide": "RIGHT", "path": "px-services/src/main/java/com/mercadopago/android/px/model/NewCardMetadata.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDoyNTowMVrOH5T3nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDoyNTowMVrOH5T3nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg1NjQxNQ==", "bodyText": "Esto lo har\u00eda como un enum usando serializedName para los valores exactos que vienen de backend. Cualquier cosa ver la clase Button:\nhttps://github.com/mercadopago/px-android/blob/master/px-services/src/main/java/com/mercadopago/android/px/model/internal/Button.kt", "url": "https://github.com/mercadopago/px-android/pull/2390#discussion_r529856415", "createdAt": "2020-11-24T20:25:01Z", "author": {"login": "guchito9"}, "path": "px-services/src/main/java/com/mercadopago/android/px/model/NewCardMetadata.java", "diffHunk": "@@ -2,14 +2,21 @@\n \n import android.os.Parcel;\n import android.os.Parcelable;\n+import androidx.annotation.Nullable;\n+import com.mercadopago.android.px.model.internal.CardFormOption;\n import com.mercadopago.android.px.model.internal.Text;\n import java.io.Serializable;\n+import java.util.ArrayList;\n \n public final class NewCardMetadata implements Parcelable, Serializable {\n \n     private final Text label;\n     private final Text description;\n     private final String version;\n+    private final String cardFormInitType;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4d36e27a59bf17960801b8a5544fa93ab4c4361"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyMzA1MzI1OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/sheet_options/CardFormBottomSheetFragment.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDozMjowOFrOH5UGMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDozMjowOFrOH5UGMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg2MDE0NA==", "bodyText": "Mandale EXTRA_MODEL por el amor de Dios", "url": "https://github.com/mercadopago/px-android/pull/2390#discussion_r529860144", "createdAt": "2020-11-24T20:32:08Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/sheet_options/CardFormBottomSheetFragment.kt", "diffHunk": "@@ -0,0 +1,95 @@\n+package com.mercadopago.android.px.internal.features.express.add_new_card.sheet_options\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.core.content.ContextCompat\n+import androidx.fragment.app.Fragment\n+import androidx.recyclerview.widget.DividerItemDecoration\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.recyclerview.widget.RecyclerView\n+import com.mercadopago.android.px.R\n+import com.mercadopago.android.px.internal.di.Session\n+import com.mercadopago.android.px.internal.features.express.ExpressPaymentFragment\n+import com.mercadopago.android.px.internal.features.express.add_new_card.CardFormInitType\n+import com.mercadopago.android.px.internal.util.CardFormWrapper\n+\n+private const val CARD_FORM_BOTTOM_SHEET_MODEL_EXTRA = \"card_form_bottom_sheet_model\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4d36e27a59bf17960801b8a5544fa93ab4c4361"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyMzA3MDg3OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/sheet_options/CardFormBottomSheetFragment.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDozNzozOVrOH5UQ2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDozNzozOVrOH5UQ2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg2Mjg3NQ==", "bodyText": "Creo que usando directamente el getParcelable te ahorr\u00e1s el takeIf", "url": "https://github.com/mercadopago/px-android/pull/2390#discussion_r529862875", "createdAt": "2020-11-24T20:37:39Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/sheet_options/CardFormBottomSheetFragment.kt", "diffHunk": "@@ -0,0 +1,95 @@\n+package com.mercadopago.android.px.internal.features.express.add_new_card.sheet_options\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.core.content.ContextCompat\n+import androidx.fragment.app.Fragment\n+import androidx.recyclerview.widget.DividerItemDecoration\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.recyclerview.widget.RecyclerView\n+import com.mercadopago.android.px.R\n+import com.mercadopago.android.px.internal.di.Session\n+import com.mercadopago.android.px.internal.features.express.ExpressPaymentFragment\n+import com.mercadopago.android.px.internal.features.express.add_new_card.CardFormInitType\n+import com.mercadopago.android.px.internal.util.CardFormWrapper\n+\n+private const val CARD_FORM_BOTTOM_SHEET_MODEL_EXTRA = \"card_form_bottom_sheet_model\"\n+\n+internal class CardFormBottomSheetFragment : Fragment() {\n+\n+    private lateinit var cardFormWrapper: CardFormWrapper\n+    private var cardFormOptionClick: CardFormOptionClick? = null\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n+        return inflater.inflate(R.layout.px_fragment_card_form_bottom_sheet, container, false)\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        arguments?.takeIf { it.containsKey(CARD_FORM_BOTTOM_SHEET_MODEL_EXTRA) }?.let {\n+            setUpRecyclerView(view, it.getParcelable(CARD_FORM_BOTTOM_SHEET_MODEL_EXTRA)!!)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4d36e27a59bf17960801b8a5544fa93ab4c4361"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyMzA3MzA2OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/sheet_options/CardFormBottomSheetFragment.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDozODoyN1rOH5USRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDozODoyN1rOH5USRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg2MzIzOQ==", "bodyText": "Ojo, chequear por null y no forzarlo", "url": "https://github.com/mercadopago/px-android/pull/2390#discussion_r529863239", "createdAt": "2020-11-24T20:38:27Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/sheet_options/CardFormBottomSheetFragment.kt", "diffHunk": "@@ -0,0 +1,95 @@\n+package com.mercadopago.android.px.internal.features.express.add_new_card.sheet_options\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.core.content.ContextCompat\n+import androidx.fragment.app.Fragment\n+import androidx.recyclerview.widget.DividerItemDecoration\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.recyclerview.widget.RecyclerView\n+import com.mercadopago.android.px.R\n+import com.mercadopago.android.px.internal.di.Session\n+import com.mercadopago.android.px.internal.features.express.ExpressPaymentFragment\n+import com.mercadopago.android.px.internal.features.express.add_new_card.CardFormInitType\n+import com.mercadopago.android.px.internal.util.CardFormWrapper\n+\n+private const val CARD_FORM_BOTTOM_SHEET_MODEL_EXTRA = \"card_form_bottom_sheet_model\"\n+\n+internal class CardFormBottomSheetFragment : Fragment() {\n+\n+    private lateinit var cardFormWrapper: CardFormWrapper\n+    private var cardFormOptionClick: CardFormOptionClick? = null\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n+        return inflater.inflate(R.layout.px_fragment_card_form_bottom_sheet, container, false)\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        arguments?.takeIf { it.containsKey(CARD_FORM_BOTTOM_SHEET_MODEL_EXTRA) }?.let {\n+            setUpRecyclerView(view, it.getParcelable(CARD_FORM_BOTTOM_SHEET_MODEL_EXTRA)!!)\n+            setUpCardFormWrapper()\n+        } ?: error(\"Arguments should not be null\")\n+    }\n+\n+    private fun setUpRecyclerView(view: View, cardFormBottomSheetModel: CardFormBottomSheetModel) {\n+        val newCardSheetOptions = view.findViewById<RecyclerView>(R.id.sheet_options)\n+        context?.let { context ->\n+            val decoration = DividerItemDecoration(context, LinearLayoutManager.VERTICAL)\n+            decoration.setDrawable(ContextCompat.getDrawable(context, R.drawable.px_item_option_decorator_divider)!!)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4d36e27a59bf17960801b8a5544fa93ab4c4361"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNTIzOTYwOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/sheet_options/CardFormBottomSheetFragment.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxODoxNjo0N1rOH7F0jQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxODoxNjo0N1rOH7F0jQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcyMzQwNQ==", "bodyText": "Yo le pondr\u00eda set, porque reemplaza, no se hace add", "url": "https://github.com/mercadopago/px-android/pull/2390#discussion_r531723405", "createdAt": "2020-11-27T18:16:47Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/sheet_options/CardFormBottomSheetFragment.kt", "diffHunk": "@@ -0,0 +1,98 @@\n+package com.mercadopago.android.px.internal.features.express.add_new_card.sheet_options\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.core.content.ContextCompat\n+import androidx.fragment.app.Fragment\n+import androidx.recyclerview.widget.DividerItemDecoration\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.recyclerview.widget.RecyclerView\n+import com.mercadopago.android.px.R\n+import com.mercadopago.android.px.internal.di.Session\n+import com.mercadopago.android.px.internal.features.express.ExpressPaymentFragment\n+import com.mercadopago.android.px.internal.util.CardFormWrapper\n+import com.mercadopago.android.px.model.CardFormInitType\n+\n+private const val EXTRA_BOTTOM_SHEET_MODEL = \"bottom_sheet_model\"\n+\n+internal class CardFormBottomSheetFragment : Fragment() {\n+\n+    private lateinit var cardFormWrapper: CardFormWrapper\n+    private var cardFormOptionClick: CardFormOptionClick? = null\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n+        return inflater.inflate(R.layout.px_fragment_card_form_bottom_sheet, container, false)\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        arguments?.getParcelable<CardFormBottomSheetModel>(EXTRA_BOTTOM_SHEET_MODEL)?.let { model ->\n+            setUpRecyclerView(view, model)\n+            setUpCardFormWrapper()\n+        } ?: error(\"Arguments should not be null\")\n+    }\n+\n+    private fun setUpRecyclerView(view: View, cardFormBottomSheetModel: CardFormBottomSheetModel) {\n+        val newCardSheetOptions = view.findViewById<RecyclerView>(R.id.sheet_options)\n+        context?.let { context ->\n+            val drawableDecorator = ContextCompat.getDrawable(context, R.drawable.px_item_option_decorator_divider)\n+            drawableDecorator?.let {\n+                val decoration = DividerItemDecoration(context, LinearLayoutManager.VERTICAL)\n+                decoration.setDrawable(it)\n+                newCardSheetOptions.addItemDecoration(decoration)\n+            }\n+        }\n+        newCardSheetOptions.adapter = SheetOptionsRecyclerViewAdapter(\n+            cardFormBottomSheetModel,\n+            this::onCardFormOptionSelected)\n+    }\n+\n+    private fun setUpCardFormWrapper() {\n+        val configurationModule = Session.getInstance().configurationModule\n+        cardFormWrapper = CardFormWrapper(\n+            configurationModule.paymentSettings,\n+            configurationModule.trackingRepository)\n+    }\n+\n+    private fun onCardFormOptionSelected(cardFormInitType: CardFormInitType) {\n+        parentFragment?.fragmentManager?.let { fragmentManager ->\n+\n+            cardFormOptionClick?.onOptionClick()\n+\n+            when (cardFormInitType) {\n+                CardFormInitType.STANDARD -> {\n+                    cardFormWrapper.getCardFormWithFragment().start(\n+                        fragmentManager,\n+                        ExpressPaymentFragment.REQ_CODE_CARD_FORM,\n+                        R.id.one_tap_fragment\n+                    )\n+                }\n+\n+                CardFormInitType.WEBPAY_TBK -> {\n+                    //TODO: Open card form by web view\n+                    cardFormWrapper.getCardFormWithWebView()\n+                }\n+            }\n+        }\n+    }\n+\n+    fun addCardFormOptionClick(cardFormOptionClick: CardFormOptionClick) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9defeccbb2f06f76497dbd5bcf54f48c18986caa"}, "originalPosition": 81}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNTI0Nzg0OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/sheet_options/SheetOptionsRecyclerViewAdapter.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxODoyMToyOFrOH7F5LQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxODoyMToyOFrOH7F5LQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcyNDU4OQ==", "bodyText": "El +1 por el header?", "url": "https://github.com/mercadopago/px-android/pull/2390#discussion_r531724589", "createdAt": "2020-11-27T18:21:28Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/sheet_options/SheetOptionsRecyclerViewAdapter.kt", "diffHunk": "@@ -0,0 +1,87 @@\n+package com.mercadopago.android.px.internal.features.express.add_new_card.sheet_options\n+\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import android.widget.ImageView\n+import android.widget.TextView\n+import androidx.recyclerview.widget.RecyclerView\n+import com.mercadopago.android.px.R\n+import com.mercadopago.android.px.internal.extensions.loadOrElse\n+import com.mercadopago.android.px.internal.extensions.visible\n+import com.mercadopago.android.px.internal.font.FontHelper\n+import com.mercadopago.android.px.internal.font.PxFont\n+import com.mercadopago.android.px.internal.view.MPTextView\n+import com.mercadopago.android.px.model.CardFormInitType\n+import java.util.*\n+\n+internal class SheetOptionsRecyclerViewAdapter(\n+    cardFormBottomSheetModel: CardFormBottomSheetModel,\n+    private val cardFormOptionSelected: (CardFormInitType) -> Unit\n+) : RecyclerView.Adapter<RecyclerView.ViewHolder>() {\n+\n+    private val cardFormOptions = cardFormBottomSheetModel.cardFormOptions\n+    private val cardFormTitleHeader = cardFormBottomSheetModel.titleHeader\n+\n+    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int) = when (SheetOptionViewType.values()[viewType]) {\n+        SheetOptionViewType.HEADER -> {\n+            SheetOptionHeaderViewHolder(inflateViewHolderView(parent, R.layout.sheet_option_header))\n+        }\n+        SheetOptionViewType.OPTION -> {\n+            SheetOptionViewHolder(inflateViewHolderView(parent, R.layout.sheet_option))\n+        }\n+    }\n+\n+    override fun getItemViewType(position: Int): Int {\n+        val viewType = if (position > 0) SheetOptionViewType.OPTION else SheetOptionViewType.HEADER\n+        return viewType.ordinal\n+    }\n+\n+    override fun getItemCount() = cardFormOptions.size + 1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9defeccbb2f06f76497dbd5bcf54f48c18986caa"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1742, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}