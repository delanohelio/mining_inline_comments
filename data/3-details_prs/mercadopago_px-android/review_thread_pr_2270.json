{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzNjE5Mjk5", "number": 2270, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMjozMjoyOFrOEVztXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNDozMTo0MVrOEV2tog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMzAyNzQ4OnYy", "diffSide": "RIGHT", "path": "example/src/main/java/com/mercadopago/android/px/font/FontConfigurator.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMjozMjoyOFrOG8xdUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMjozMjoyOFrOG8xdUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM3ODA2NQ==", "bodyText": "esto es de la testapp? es algo q estamos metiendo nosotros o tb es por el rebase?", "url": "https://github.com/mercadopago/px-android/pull/2270#discussion_r466378065", "createdAt": "2020-08-06T12:32:28Z", "author": {"login": "nmanuelidesML"}, "path": "example/src/main/java/com/mercadopago/android/px/font/FontConfigurator.kt", "diffHunk": "@@ -6,7 +6,7 @@ class FontConfigurator {\n     companion object {\n         @JvmStatic\n         fun configure() {\n-            val sampleFontTypefaceMapper = NunitoSansFontTypefaceMapper()\n+            val sampleFontTypefaceMapper = MontserratFontTypefaceMapper()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d722296cd7436458318cf881f14183e0ed0b311"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMzAyOTU0OnYy", "diffSide": "RIGHT", "path": "gradle.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMjozMzowNVrOG8xeqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMjozOToxOFrOG8xrgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM3ODQwOA==", "bodyText": "estos cambios son por el rebase?", "url": "https://github.com/mercadopago/px-android/pull/2270#discussion_r466378408", "createdAt": "2020-08-06T12:33:05Z", "author": {"login": "nmanuelidesML"}, "path": "gradle.properties", "diffHunk": "@@ -5,7 +5,7 @@ org.gradle.parallel=true\n org.gradle.daemon=true\n org.gradle.jvmargs=-Xmx1g\n # Current lib version\n-version_to_deploy=4.53.0\n+version_to_deploy=4.53.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d722296cd7436458318cf881f14183e0ed0b311"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM4MTY5Nw==", "bodyText": "si, este y el anterior son cambios que se me metieron con la actualizaci\u00f3n de la rama", "url": "https://github.com/mercadopago/px-android/pull/2270#discussion_r466381697", "createdAt": "2020-08-06T12:39:18Z", "author": {"login": "mmunozpatinomeli"}, "path": "gradle.properties", "diffHunk": "@@ -5,7 +5,7 @@ org.gradle.parallel=true\n org.gradle.daemon=true\n org.gradle.jvmargs=-Xmx1g\n # Current lib version\n-version_to_deploy=4.53.0\n+version_to_deploy=4.53.1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM3ODQwOA=="}, "originalCommit": {"oid": "1d722296cd7436458318cf881f14183e0ed0b311"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMzA5Njg4OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/pay_button/PayButtonFragment.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMjo1MjoxOFrOG8yH7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMjo1NTo1MVrOG8yQHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM4ODk3NA==", "bodyText": "no me quedan claros los cambios a esta clase, pq agregamos estos imports pero despues no metemos nada q los use?", "url": "https://github.com/mercadopago/px-android/pull/2270#discussion_r466388974", "createdAt": "2020-08-06T12:52:18Z", "author": {"login": "nmanuelidesML"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/pay_button/PayButtonFragment.kt", "diffHunk": "@@ -36,6 +39,7 @@ import com.mercadopago.android.px.model.PaymentRecovery\n import com.mercadopago.android.px.model.exceptions.MercadoPagoError\n import com.mercadopago.android.px.tracking.internal.events.FrictionEventTracker\n import com.mercadopago.android.px.tracking.internal.model.Reason\n+import java.math.BigDecimal", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d722296cd7436458318cf881f14183e0ed0b311"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM5MTA3MQ==", "bodyText": "ahora lo borro, son imports que quedaron de mi mock que no est\u00e1 en el PR", "url": "https://github.com/mercadopago/px-android/pull/2270#discussion_r466391071", "createdAt": "2020-08-06T12:55:51Z", "author": {"login": "mmunozpatinomeli"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/pay_button/PayButtonFragment.kt", "diffHunk": "@@ -36,6 +39,7 @@ import com.mercadopago.android.px.model.PaymentRecovery\n import com.mercadopago.android.px.model.exceptions.MercadoPagoError\n import com.mercadopago.android.px.tracking.internal.events.FrictionEventTracker\n import com.mercadopago.android.px.tracking.internal.model.Reason\n+import java.math.BigDecimal", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM4ODk3NA=="}, "originalCommit": {"oid": "1d722296cd7436458318cf881f14183e0ed0b311"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMzUxMDI5OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/PaymentResultMethod.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNDoyOTo0N1rOG82JhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNDo1ODoxNVrOG83YyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ1NDkxNw==", "bodyText": "esto quedo asi con todos estos espacios en el medio o es pedo de github?", "url": "https://github.com/mercadopago/px-android/pull/2270#discussion_r466454917", "createdAt": "2020-08-06T14:29:47Z", "author": {"login": "nmanuelidesML"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/PaymentResultMethod.java", "diffHunk": "@@ -139,18 +116,88 @@ public static Model with(@NonNull final PaymentData paymentData, @NonNull final\n             info = builder.info;\n         }\n \n+        public static Model with(@NonNull final PaymentData paymentData, @NonNull final Currency currency) {\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a9d0bef5a042228c633a18bc83d635873b9e893"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ3NTIwOQ==", "bodyText": "ah\u00ed lo arregl\u00e9 :D", "url": "https://github.com/mercadopago/px-android/pull/2270#discussion_r466475209", "createdAt": "2020-08-06T14:58:15Z", "author": {"login": "mmunozpatinomeli"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/PaymentResultMethod.java", "diffHunk": "@@ -139,18 +116,88 @@ public static Model with(@NonNull final PaymentData paymentData, @NonNull final\n             info = builder.info;\n         }\n \n+        public static Model with(@NonNull final PaymentData paymentData, @NonNull final Currency currency) {\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ1NDkxNw=="}, "originalCommit": {"oid": "9a9d0bef5a042228c633a18bc83d635873b9e893"}, "originalPosition": 91}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMzUxOTcwOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/PaymentResultMethod.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNDozMTo0MVrOG82PYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNTozODoxMFrOG85GOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ1NjQxOA==", "bodyText": "tiene usos este despues de nuestras modificaciones?", "url": "https://github.com/mercadopago/px-android/pull/2270#discussion_r466456418", "createdAt": "2020-08-06T14:31:41Z", "author": {"login": "nmanuelidesML"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/PaymentResultMethod.java", "diffHunk": "@@ -139,18 +116,88 @@ public static Model with(@NonNull final PaymentData paymentData, @NonNull final\n             info = builder.info;\n         }\n \n+        public static Model with(@NonNull final PaymentData paymentData, @NonNull final Currency currency) {\n+\n+\n+\n+\n+            final PaymentInfo.Builder paymentInfoBuilder = new PaymentInfo.Builder()\n+                .withLastFourDigits(paymentData.getToken() != null ? paymentData.getToken().getLastFourDigits() : null)\n+                .withPaymentMethodId(paymentData.getPaymentMethod().getId())\n+                .withPaymentMethodName(paymentData.getPaymentMethod().getName())\n+                .withPaymentMethodType(\n+                    PaymentInfo.PaymentMethodType.fromName(paymentData.getPaymentMethod().getPaymentTypeId()))\n+                .withAmountPaid(getPrettyAmount(currency,\n+                    PaymentDataHelper.getPrettyAmountToPay(paymentData)));\n+\n+            if (paymentData.getPaymentMethod().getDisplayInfo() != null) {\n+                final PaymentResultInfo paymentResultInfo = new PaymentResultInfo(\n+                    paymentData.getPaymentMethod().getDisplayInfo().getResultInfo().getTitle()\n+                    , paymentData.getPaymentMethod().getDisplayInfo().getResultInfo().getSubtitle());\n+\n+                final PaymentCongratsText description = new PaymentCongratsText(\n+                    paymentData.getPaymentMethod().getDisplayInfo().getDescription().getMessage(),\n+                    paymentData.getPaymentMethod().getDisplayInfo().getDescription().getBackgroundColor(),\n+                    paymentData.getPaymentMethod().getDisplayInfo().getDescription().getTextColor(),\n+                    paymentData.getPaymentMethod().getDisplayInfo().getDescription().getWeight()\n+                );\n+\n+                paymentInfoBuilder.withConsumerCreditsInfo(paymentResultInfo)\n+                    .withDescription(description);\n+            }\n+            if (paymentData.getDiscount() != null) {\n+                paymentInfoBuilder\n+                    .withDiscountData(paymentData.getDiscount().getName(), getPrettyAmount(currency,paymentData.getRawAmount()));\n+            }\n+\n+            if (paymentData.getPayerCost() != null) {\n+                paymentInfoBuilder.withInstallmentsData(paymentData.getPayerCost().getInstallments(),\n+                    getPrettyAmount(currency,paymentData.getPayerCost().getInstallmentAmount()),\n+                    getPrettyAmount(currency,paymentData.getPayerCost().getTotalAmount()),\n+                    paymentData.getPayerCost().getInstallmentRate());\n+            }\n+            return with(paymentInfoBuilder.build(), null);\n+        }\n+\n+        private static String getPrettyAmount(@NonNull final Currency currency, @NonNull final BigDecimal amount) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a9d0bef5a042228c633a18bc83d635873b9e893"}, "originalPosition": 133}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwMzIyNA==", "bodyText": "si, lo uso para pasar de un PaymenData (que tiene los montos c\u00f3mo BigDecimal) a un PaymentInfo (que espera el String listo, tipo \"$4.000,25\")", "url": "https://github.com/mercadopago/px-android/pull/2270#discussion_r466503224", "createdAt": "2020-08-06T15:38:10Z", "author": {"login": "mmunozpatinomeli"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/PaymentResultMethod.java", "diffHunk": "@@ -139,18 +116,88 @@ public static Model with(@NonNull final PaymentData paymentData, @NonNull final\n             info = builder.info;\n         }\n \n+        public static Model with(@NonNull final PaymentData paymentData, @NonNull final Currency currency) {\n+\n+\n+\n+\n+            final PaymentInfo.Builder paymentInfoBuilder = new PaymentInfo.Builder()\n+                .withLastFourDigits(paymentData.getToken() != null ? paymentData.getToken().getLastFourDigits() : null)\n+                .withPaymentMethodId(paymentData.getPaymentMethod().getId())\n+                .withPaymentMethodName(paymentData.getPaymentMethod().getName())\n+                .withPaymentMethodType(\n+                    PaymentInfo.PaymentMethodType.fromName(paymentData.getPaymentMethod().getPaymentTypeId()))\n+                .withAmountPaid(getPrettyAmount(currency,\n+                    PaymentDataHelper.getPrettyAmountToPay(paymentData)));\n+\n+            if (paymentData.getPaymentMethod().getDisplayInfo() != null) {\n+                final PaymentResultInfo paymentResultInfo = new PaymentResultInfo(\n+                    paymentData.getPaymentMethod().getDisplayInfo().getResultInfo().getTitle()\n+                    , paymentData.getPaymentMethod().getDisplayInfo().getResultInfo().getSubtitle());\n+\n+                final PaymentCongratsText description = new PaymentCongratsText(\n+                    paymentData.getPaymentMethod().getDisplayInfo().getDescription().getMessage(),\n+                    paymentData.getPaymentMethod().getDisplayInfo().getDescription().getBackgroundColor(),\n+                    paymentData.getPaymentMethod().getDisplayInfo().getDescription().getTextColor(),\n+                    paymentData.getPaymentMethod().getDisplayInfo().getDescription().getWeight()\n+                );\n+\n+                paymentInfoBuilder.withConsumerCreditsInfo(paymentResultInfo)\n+                    .withDescription(description);\n+            }\n+            if (paymentData.getDiscount() != null) {\n+                paymentInfoBuilder\n+                    .withDiscountData(paymentData.getDiscount().getName(), getPrettyAmount(currency,paymentData.getRawAmount()));\n+            }\n+\n+            if (paymentData.getPayerCost() != null) {\n+                paymentInfoBuilder.withInstallmentsData(paymentData.getPayerCost().getInstallments(),\n+                    getPrettyAmount(currency,paymentData.getPayerCost().getInstallmentAmount()),\n+                    getPrettyAmount(currency,paymentData.getPayerCost().getTotalAmount()),\n+                    paymentData.getPayerCost().getInstallmentRate());\n+            }\n+            return with(paymentInfoBuilder.build(), null);\n+        }\n+\n+        private static String getPrettyAmount(@NonNull final Currency currency, @NonNull final BigDecimal amount) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ1NjQxOA=="}, "originalCommit": {"oid": "9a9d0bef5a042228c633a18bc83d635873b9e893"}, "originalPosition": 133}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1754, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}