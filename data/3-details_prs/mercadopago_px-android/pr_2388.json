{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzMzAxMDU2", "number": 2388, "title": "[Feature] Pay with debit card in chile", "bodyText": "Motivaci\u00f3n y Contexto\nSe habilitan pagos con tarjetas de debito en chile.\nDescripci\u00f3n\nC\u00f3mo probarlo\n\n\nScreenshots\n\nTipo de cambio (para el release manager)\n\n Breaking change (Fix o feature que cambia una funcionalidad existente o rompe firmas)\n\n\n\n Mi cambio afecta a los integradores internos\n\n\nCompartir conocimiento", "createdAt": "2020-11-18T16:17:50Z", "url": "https://github.com/mercadopago/px-android/pull/2388", "merged": true, "mergeCommit": {"oid": "7ff405f46ee32b696ad94ede3f9b75507f56d5ae"}, "closed": true, "closedAt": "2020-11-26T18:38:10Z", "author": {"login": "jorGonzalez291292"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdccYsrAH2gAyNTIzMzAxMDU2OjczOTgwYWVkZDllMWY3YTY1YmFiYjg4ZDdlOWZiNzMyZTZlZmE0Yjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgXRtHAFqTUzOTUwNDc2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "73980aedd9e1f7a65babb88d7e9fb732e6efa4b9", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/73980aedd9e1f7a65babb88d7e9fb732e6efa4b9", "committedDate": "2020-11-14T14:11:26Z", "message": "not show cvv screen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fbac1736be290ca4fb07fc67fb52554b8f79464", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/6fbac1736be290ca4fb07fc67fb52554b8f79464", "committedDate": "2020-11-17T15:13:40Z", "message": "tokenize with debit card in MLC"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2fdc5b3db74fb918e3b6373674c4e7f1bd4ff299", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/2fdc5b3db74fb918e3b6373674c4e7f1bd4ff299", "committedDate": "2020-11-18T12:52:16Z", "message": "refactor onetapsamples"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4cfb08969de9101bb552b38318ddd306523dd3b", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/e4cfb08969de9101bb552b38318ddd306523dd3b", "committedDate": "2020-11-18T13:34:17Z", "message": "token friction event added"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b1c16014a337c12ca403e3a40d8b5468a3ffc14", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/2b1c16014a337c12ca403e3a40d8b5468a3ffc14", "committedDate": "2020-11-18T16:05:57Z", "message": "refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/48860932437358f9f3166c28a0e0e3c6df33e984", "committedDate": "2020-11-18T16:58:12Z", "message": "test fixed"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNjcyNjQw", "url": "https://github.com/mercadopago/px-android/pull/2388#pullrequestreview-533672640", "createdAt": "2020-11-18T17:11:47Z", "commit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzoxMTo0N1rOH14XhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzoxMTo0N1rOH14XhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjI2MDEwMQ==", "bodyText": "por que declaramos la public key como est\u00e1tica y no as\u00ed la pref id?", "url": "https://github.com/mercadopago/px-android/pull/2388#discussion_r526260101", "createdAt": "2020-11-18T17:11:47Z", "author": {"login": "cgaggino"}, "path": "example/src/main/java/com/mercadopago/android/px/utils/OneTapSamples.java", "diffHunk": "@@ -579,4 +585,18 @@ private static CheckoutPreference getCheckoutPreferenceWithPayerEmail(\n                 new AdvancedConfiguration.Builder().setProductId(PRODUCT_ID).setExpressPaymentEnable(true)\n                     .build());\n     }\n+\n+    private static MercadoPagoCheckout.Builder startOneTapWithDebitCardInChile() {\n+        final SplitPaymentProcessor samplePaymentProcessor = new SamplePaymentProcessor(\n+            PaymentUtils.getGenericPaymentRejected(),\n+            PaymentUtils.getBusinessPaymentApproved());\n+\n+        return new MercadoPagoCheckout.Builder(ONE_TAP_MERCHANT_WEB_PAY_PUBLIC_KEY, \"589235406-850b749b-4dc3-4510-92ab-37e6e0b51a23\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNjczMzQ3", "url": "https://github.com/mercadopago/px-android/pull/2388#pullrequestreview-533673347", "createdAt": "2020-11-18T17:12:19Z", "commit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzoxMjoxOVrOH14ZLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzoxMjoxOVrOH14ZLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjI2MDUyNQ==", "bodyText": "Esto no puede quedar asi, imagino que van a ajustar el filtro de backend, no?", "url": "https://github.com/mercadopago/px-android/pull/2388#discussion_r526260525", "createdAt": "2020-11-18T17:12:19Z", "author": {"login": "cgaggino"}, "path": "gradle.properties", "diffHunk": "@@ -8,7 +8,7 @@ org.gradle.parallel=true\n org.gradle.daemon=true\n org.gradle.jvmargs=-Xmx1g\n # Current lib version\n-version_to_deploy=4.63.0\n+version_to_deploy=4.71.0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNjc1NDEy", "url": "https://github.com/mercadopago/px-android/pull/2388#pullrequestreview-533675412", "createdAt": "2020-11-18T17:14:12Z", "commit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzoxNDoxMlrOH14eVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzoxNDoxMlrOH14eVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjI2MTg0NQ==", "bodyText": "le pondria shouldPayWithCvv o withSecurityCode, conceptualmente esta validaci\u00f3n no nos indica si se debe pagar con esc", "url": "https://github.com/mercadopago/px-android/pull/2388#discussion_r526261845", "createdAt": "2020-11-18T17:14:12Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/datasource/PaymentService.java", "diffHunk": "@@ -222,12 +224,37 @@ public void startPayment() {\n         }\n     }\n \n+    private boolean shouldPayWithEsc(@NonNull final CardInformation card) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNjc4MDg2", "url": "https://github.com/mercadopago/px-android/pull/2388#pullrequestreview-533678086", "createdAt": "2020-11-18T17:16:48Z", "commit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzoxNjo0OFrOH14lxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzoxNjo0OFrOH14lxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjI2Mzc1MA==", "bodyText": "por que \"noRecoverable\"? creo que como lo usamos hoy en dia no importa si es recoverable o no porque queda en one tap no?", "url": "https://github.com/mercadopago/px-android/pull/2388#discussion_r526263750", "createdAt": "2020-11-18T17:16:48Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/datasource/PaymentService.java", "diffHunk": "@@ -222,12 +224,37 @@ public void startPayment() {\n         }\n     }\n \n+    private boolean shouldPayWithEsc(@NonNull final CardInformation card) {\n+        final int securityCodeLength = card.getSecurityCodeLength() != null ? card.getSecurityCodeLength() : 0;\n+        return securityCodeLength > 0;\n+    }\n+\n+    private void payWithoutCvv(@NonNull final Card card) {\n+        tokenRepository.createTokenWithoutEsc(Objects.requireNonNull(card)).enqueue(new Callback<Token>() {\n+            @Override\n+            public void success(final Token token) {\n+                pay();\n+            }\n+\n+            @Override\n+            public void failure(final ApiException apiException) {\n+                // No start CVV screen if fail\n+                final String tokenError = new TokenErrorWrapper(apiException).getValue();\n+                handlerWrapper.onPaymentError(MercadoPagoError.createNotRecoverable(tokenError));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "originalPosition": 36}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNjg1MzY4", "url": "https://github.com/mercadopago/px-android/pull/2388#pullrequestreview-533685368", "createdAt": "2020-11-18T17:22:22Z", "commit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzoyMjoyM1rOH141ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzoyMjoyM1rOH141ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjI2Nzc3MQ==", "bodyText": "Tiene pinta que pasar\u00eda a ser hasPayerCost, no?", "url": "https://github.com/mercadopago/px-android/pull/2388#discussion_r526267771", "createdAt": "2020-11-18T17:22:23Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/datasource/PaymentService.java", "diffHunk": "@@ -268,8 +294,7 @@ public void failure(final ApiException apiException) {\n     }\n \n     private boolean hasValidSavedCardInfo() {\n-        return userSelectionRepository.hasCardSelected()\n-            && userSelectionRepository.getPayerCost() != null;\n+        return userSelectionRepository.getPayerCost() != null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "originalPosition": 74}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNjkwNjM2", "url": "https://github.com/mercadopago/px-android/pull/2388#pullrequestreview-533690636", "createdAt": "2020-11-18T17:24:43Z", "commit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzoyNDo0M1rOH1476A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzoyNDo0M1rOH1476A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjI2OTQxNg==", "bodyText": "tambien queda raro ac\u00e1 el nombre, \"pagar sin cvv\" y lo primero que hace es \"crear token sin esc\", deberia ser crear token sin cvv", "url": "https://github.com/mercadopago/px-android/pull/2388#discussion_r526269416", "createdAt": "2020-11-18T17:24:43Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/datasource/PaymentService.java", "diffHunk": "@@ -222,12 +224,37 @@ public void startPayment() {\n         }\n     }\n \n+    private boolean shouldPayWithEsc(@NonNull final CardInformation card) {\n+        final int securityCodeLength = card.getSecurityCodeLength() != null ? card.getSecurityCodeLength() : 0;\n+        return securityCodeLength > 0;\n+    }\n+\n+    private void payWithoutCvv(@NonNull final Card card) {\n+        tokenRepository.createTokenWithoutEsc(Objects.requireNonNull(card)).enqueue(new Callback<Token>() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNzAxMTg0", "url": "https://github.com/mercadopago/px-android/pull/2388#pullrequestreview-533701184", "createdAt": "2020-11-18T17:29:24Z", "commit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzoyOToyNFrOH15Khg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzoyOToyNFrOH15Khg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjI3MzE1OA==", "bodyText": "esto estar\u00eda mal, porque se est\u00e1 usando como condici\u00f3n para guardar el esc nuevo, si no ten\u00eda esc y tiene un esc nuevo hay que guardarlo", "url": "https://github.com/mercadopago/px-android/pull/2388#discussion_r526273158", "createdAt": "2020-11-18T17:29:24Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/datasource/TokenizeService.java", "diffHunk": "@@ -34,24 +38,44 @@ public TokenizeService(@NonNull final GatewayService gatewayService,\n \n     @Override\n     public MPCall<Token> createToken(@NonNull final Card card) {\n-        return new MPCall<Token>() {\n-            private final String esc =\n-                escManagerBehaviour.getESC(card.getId(), card.getFirstSixDigits(), card.getLastFourDigits());\n+        return callback -> {\n+            final String cardId = Objects.requireNonNull(card.getId());\n+            final String esc = escManagerBehaviour.getESC(cardId, card.getFirstSixDigits(), card.getLastFourDigits());\n \n-            @Override\n-            public void enqueue(final Callback<Token> callback) {\n-                serviceCallWrapp(card.getId(), esc).enqueue(wrap(card, esc, callback));\n-            }\n+            gatewayService.createToken(\n+                paymentSettingRepository.getPublicKey(),\n+                paymentSettingRepository.getPrivateKey(),\n+                SavedESCCardToken.createWithEsc(cardId, esc, device)).enqueue(wrap(card, esc, callback));\n+        };\n+    }\n+\n+    @Override\n+    public MPCall<Token> createTokenWithoutEsc(@NonNull final Card card) {\n+        return callback -> {\n+            final SavedCardToken savedCardToken = new SavedCardToken(Objects.requireNonNull(card.getId()));\n+            savedCardToken.setDevice(device);\n+\n+            gatewayService.createToken(\n+                paymentSettingRepository.getPublicKey(),\n+                paymentSettingRepository.getPrivateKey(),\n+                savedCardToken).enqueue(wrap(card, null, callback));\n         };\n     }\n \n-    /* default */ Callback<Token> wrap(@NonNull final Card card, final String esc, final Callback<Token> callback) {\n+    /* default */ Callback<Token> wrap(@NonNull final Card card, @Nullable final String esc,\n+        final Callback<Token> callback) {\n+\n+        final boolean hasEsc = esc != null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "originalPosition": 62}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNzEwNTgy", "url": "https://github.com/mercadopago/px-android/pull/2388#pullrequestreview-533710582", "createdAt": "2020-11-18T17:36:20Z", "commit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzozNjoyMFrOH153kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzozNjoyMFrOH153kA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjI4NDY4OA==", "bodyText": "deberia extender de FrictionEventTracker", "url": "https://github.com/mercadopago/px-android/pull/2388#discussion_r526284688", "createdAt": "2020-11-18T17:36:20Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/events/TokenFrictionEventTracker.kt", "diffHunk": "@@ -0,0 +1,16 @@\n+package com.mercadopago.android.px.tracking.internal.events\n+\n+import com.mercadopago.android.px.tracking.internal.events.FrictionEventTracker.Companion.with\n+\n+class TokenFrictionEventTracker {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNzEwODY5", "url": "https://github.com/mercadopago/px-android/pull/2388#pullrequestreview-533710869", "createdAt": "2020-11-18T17:36:41Z", "commit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzozNjo0MVrOH155sA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzozNjo0MVrOH155sA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjI4NTIzMg==", "bodyText": "Recordar de revertir esto", "url": "https://github.com/mercadopago/px-android/pull/2388#discussion_r526285232", "createdAt": "2020-11-18T17:36:41Z", "author": {"login": "cgaggino"}, "path": "px-services/build.gradle", "diffHunk": "@@ -12,8 +12,8 @@ android {\n \n     buildTypes {\n         debug {\n-            buildConfigField \"String\", \"API_ENVIRONMENT\", \"\\\"v1\\\"\"\n-            buildConfigField \"String\", \"API_ENVIRONMENT_NEW\", \"\\\"production\\\"\"\n+            buildConfigField \"String\", \"API_ENVIRONMENT\", \"\\\"alpha\\\"\"\n+            buildConfigField \"String\", \"API_ENVIRONMENT_NEW\", \"\\\"alpha\\\"\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNzExNTA3", "url": "https://github.com/mercadopago/px-android/pull/2388#pullrequestreview-533711507", "createdAt": "2020-11-18T17:37:25Z", "commit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzozNzoyNVrOH15_LA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzozNzoyNVrOH15_LA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjI4NjYzNg==", "bodyText": "no vamos a usar un nuevo modelo al final sin securityCode?", "url": "https://github.com/mercadopago/px-android/pull/2388#discussion_r526286636", "createdAt": "2020-11-18T17:37:25Z", "author": {"login": "cgaggino"}, "path": "px-services/src/main/java/com/mercadopago/android/px/model/SavedCardToken.java", "diffHunk": "@@ -12,11 +12,16 @@\n     private String securityCode;\n     private Device device;\n \n-    public SavedCardToken(String cardId, String securityCode) {\n+    public SavedCardToken(final String cardId, final String securityCode) {\n         this.cardId = cardId;\n         this.securityCode = securityCode;\n     }\n \n+    public SavedCardToken(final String cardId) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48860932437358f9f3166c28a0e0e3c6df33e984"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "320d17f93cd043487687d383dd231bb0eb74c740", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/320d17f93cd043487687d383dd231bb0eb74c740", "committedDate": "2020-11-18T18:20:57Z", "message": "review changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzODA1NTcx", "url": "https://github.com/mercadopago/px-android/pull/2388#pullrequestreview-533805571", "createdAt": "2020-11-18T19:32:01Z", "commit": {"oid": "320d17f93cd043487687d383dd231bb0eb74c740"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxOTozMjowMVrOH1-v-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxOTozMjowMVrOH1-v-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM2NDY2Ng==", "bodyText": "deberia usar el constructor de TokenFrictionEventTracker en vez el est\u00e1tico del padre, ac\u00e1 estas devolviendo siempre un FrictionEventTracker, queda medio raro mas que nada", "url": "https://github.com/mercadopago/px-android/pull/2388#discussion_r526364666", "createdAt": "2020-11-18T19:32:01Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/events/TokenFrictionEventTracker.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package com.mercadopago.android.px.tracking.internal.events\n+\n+class TokenFrictionEventTracker private constructor() : FrictionEventTracker(\n+    TOKEN_FRICTION_PATH,\n+    Id.TOKEN_API_ERROR,\n+    Style.NON_SCREEN) {\n+\n+    companion object {\n+        private const val TOKEN_FRICTION_PATH = \"/px_checkout/create_token\"\n+\n+        @JvmStatic\n+        fun create(error: String) = with(TOKEN_FRICTION_PATH, Id.TOKEN_API_ERROR, Style.NON_SCREEN, error)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "320d17f93cd043487687d383dd231bb0eb74c740"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzODA1NjQx", "url": "https://github.com/mercadopago/px-android/pull/2388#pullrequestreview-533805641", "createdAt": "2020-11-18T19:32:08Z", "commit": {"oid": "320d17f93cd043487687d383dd231bb0eb74c740"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff246d5448796fee8a1582a671781f007d3a5a6d", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/ff246d5448796fee8a1582a671781f007d3a5a6d", "committedDate": "2020-11-18T19:42:07Z", "message": "revert changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4d077b826fa15bb64e15795adc7667d4bb4e25c", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/c4d077b826fa15bb64e15795adc7667d4bb4e25c", "committedDate": "2020-11-18T19:52:20Z", "message": "token friction event tracker fixed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f4a9692e681e11a2012e7fbcc06d26a3b746434", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/6f4a9692e681e11a2012e7fbcc06d26a3b746434", "committedDate": "2020-11-18T20:19:15Z", "message": "refactor tracker"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4d570e3fac145ac83a6e52e09a9a1b089102c27", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/c4d570e3fac145ac83a6e52e09a9a1b089102c27", "committedDate": "2020-11-24T18:48:04Z", "message": "sample fixed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea616d7948a20ffd94fb7d221c90845073592faa", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/ea616d7948a20ffd94fb7d221c90845073592faa", "committedDate": "2020-11-26T17:46:32Z", "message": "review changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "450fb76304251fab43a120cf6af13ea0bfea4e56", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/450fb76304251fab43a120cf6af13ea0bfea4e56", "committedDate": "2020-11-26T17:51:37Z", "message": "quit null check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5NDk3MDMy", "url": "https://github.com/mercadopago/px-android/pull/2388#pullrequestreview-539497032", "createdAt": "2020-11-26T18:07:31Z", "commit": {"oid": "450fb76304251fab43a120cf6af13ea0bfea4e56"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxODowNzozMVrOH6kZpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxODowNzozMVrOH6kZpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTE3NTg0Ng==", "bodyText": "Creo que te qued\u00f3 al pedo al final este import", "url": "https://github.com/mercadopago/px-android/pull/2388#discussion_r531175846", "createdAt": "2020-11-26T18:07:31Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/datasource/PaymentService.java", "diffHunk": "@@ -51,6 +52,7 @@\n import java.util.Arrays;\n import java.util.Collections;\n import java.util.List;\n+import java.util.Objects;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "450fb76304251fab43a120cf6af13ea0bfea4e56"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05281c86df6b674884c9abffa3891d97556670fd", "author": {"user": {"login": "jorGonzalez291292", "name": "Jorge Daniel Gonzalez"}}, "url": "https://github.com/mercadopago/px-android/commit/05281c86df6b674884c9abffa3891d97556670fd", "committedDate": "2020-11-26T18:29:18Z", "message": "revert changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5NTA0NzY0", "url": "https://github.com/mercadopago/px-android/pull/2388#pullrequestreview-539504764", "createdAt": "2020-11-26T18:29:58Z", "commit": {"oid": "05281c86df6b674884c9abffa3891d97556670fd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3712, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}