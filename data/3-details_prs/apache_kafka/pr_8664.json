{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3NjczODA3", "number": 8664, "title": "KAFKA-9716: Clarify meaning of compression rate metrics", "bodyText": "There is some confusion over the compression rate metrics, as the meaning of the value isn't clearly stated in the metric description. In this case, it was assumed that a higher compression rate value meant better compression. This PR clarifies the meaning of the value, to prevent misunderstandings.\nAlternative approaches that were considered were to either change the name of the metric or its implementation, but this would have a negative impact on those who are already making use of this metric.\nCommitter Checklist (excluded from commit message)\n\n Verify design and implementation\n Verify test coverage and CI build status\n Verify documentation (including upgrade notes)", "createdAt": "2020-05-13T23:57:02Z", "url": "https://github.com/apache/kafka/pull/8664", "merged": true, "mergeCommit": {"oid": "6fa44a3a14aadaa140fb99962823a0fe2cb55f52"}, "closed": true, "closedAt": "2020-06-09T19:09:33Z", "author": {"login": "rgroothuijsen"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchA-fDAH2gAyNDE3NjczODA3OmZhMjM2NjM0M2VjZDFmYzllYWE5Mjg1NzFjYjBiNTJmZjBmMzZkMzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpZcGnAFqTQyNjY5ODc1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fa2366343ecd1fc9eaa928571cb0b52ff0f36d36", "author": {"user": {"login": "rgroothuijsen", "name": "Rens Groothuijsen"}}, "url": "https://github.com/apache/kafka/commit/fa2366343ecd1fc9eaa928571cb0b52ff0f36d36", "committedDate": "2020-05-13T22:53:50Z", "message": "Clarify meaning of compression rate metrics"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1ODU1MDY3", "url": "https://github.com/apache/kafka/pull/8664#pullrequestreview-425855067", "createdAt": "2020-06-07T21:32:38Z", "commit": {"oid": "fa2366343ecd1fc9eaa928571cb0b52ff0f36d36"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QyMTozMjozOVrOGgL-mA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QyMTozMjozOVrOGgL-mA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQwMzg2NA==", "bodyText": "It might be a little more verbose, but perhaps we could phrase it like this?\nThe average compression rate of record batches, defined as the average ratio of the compressed batch size over the uncompressed size.", "url": "https://github.com/apache/kafka/pull/8664#discussion_r436403864", "createdAt": "2020-06-07T21:32:39Z", "author": {"login": "hachikuji"}, "path": "clients/src/main/java/org/apache/kafka/clients/producer/internals/SenderMetricsRegistry.java", "diffHunk": "@@ -84,7 +84,7 @@ public SenderMetricsRegistry(Metrics metrics) {\n         this.batchSizeMax = createMetricName(\"batch-size-max\",\n                 \"The max number of bytes sent per partition per-request.\");\n         this.compressionRateAvg = createMetricName(\"compression-rate-avg\",\n-                \"The average compression rate of record batches.\");\n+                \"The average compressed-to-uncompressed size ratio of record batches.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa2366343ecd1fc9eaa928571cb0b52ff0f36d36"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eaa75f1d0f7fe3a574078d02539c4352ef4abb61", "author": {"user": {"login": "rgroothuijsen", "name": "Rens Groothuijsen"}}, "url": "https://github.com/apache/kafka/commit/eaa75f1d0f7fe3a574078d02539c4352ef4abb61", "committedDate": "2020-06-08T23:13:29Z", "message": "Include more details in compression rate description"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2Njk4NzUy", "url": "https://github.com/apache/kafka/pull/8664#pullrequestreview-426698752", "createdAt": "2020-06-08T23:55:18Z", "commit": {"oid": "eaa75f1d0f7fe3a574078d02539c4352ef4abb61"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 986, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}