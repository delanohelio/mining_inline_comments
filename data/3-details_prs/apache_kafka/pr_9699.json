{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyODY1MTE5", "number": 9699, "title": "MINOR: remove duplicate code from resetByDuration", "bodyText": "There is a request for putting topicPartition and timestamp into topicPartitionsAndTimes's container from inputTopicPartitions.\nAnd then take topicPartition and topicPartition's offset to call client's seek in the resetByDuration.\nBeacuse I find some code in the resetToDatetime, so I would like to remove them from resetByDuration.\nAnd then I would like to take client, inputTopicPartitions and timestamp to call resetToDatetime from resetByDuration.\nwhere client is Consumer, inputTopicPartitions is container and timestamp is Duration's EpochMilli.\nFinally, I found some error information in the Checks' Tab. I think these problems aren't relative to my pull request. As below information.\nLog tail\n\u2026398 lines\u2026\n[2020-12-05T01\u02d006\u02d029.710Z] > Task \u02d0streams\u02d0test-utils:testClasses\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0test-utils:checkstyleTest\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-0100:processTestResources NO-SOURCE\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-0100:testClasses\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-0100:checkstyleTest\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-0101:processTestResources NO-SOURCE\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-0101:testClasses\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-0101:checkstyleTest\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-0102:processTestResources NO-SOURCE\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-0102:testClasses\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-0102:checkstyleTest\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-0110:processTestResources NO-SOURCE\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-0110:testClasses\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-0110:checkstyleTest\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-10:processTestResources NO-SOURCE\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-10:testClasses\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-10:checkstyleTest\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-11:processTestResources NO-SOURCE\n[2020-12-05T01\u02d006\u02d030.837Z] > Task \u02d0streams\u02d0upgrade-system-tests-11:testClasses\n[2020-12-05T01\u02d006\u02d031.789Z] > Task \u02d0streams\u02d0upgrade-system-tests-11:checkstyleTest\n[2020-12-05T01\u02d006\u02d031.789Z] > Task \u02d0streams\u02d0upgrade-system-tests-20:processTestResources NO-SOURCE\n[2020-12-05T01\u02d006\u02d031.789Z] > Task \u02d0streams\u02d0upgrade-system-tests-20:testClasses\n[2020-12-05T01\u02d006\u02d031.789Z] > Task \u02d0streams\u02d0upgrade-system-tests-20:checkstyleTest\n[2020-12-05T01\u02d006\u02d031.789Z] > Task \u02d0streams\u02d0upgrade-system-tests-21:processTestResources NO-SOURCE\n[2020-12-05T01\u02d006\u02d031.789Z] > Task \u02d0streams\u02d0upgrade-system-tests-21:testClasses\n[2020-12-05T01\u02d006\u02d031.789Z] > Task \u02d0streams\u02d0upgrade-system-tests-21:checkstyleTest\n[2020-12-05T01\u02d006\u02d031.789Z] > Task \u02d0streams\u02d0upgrade-system-tests-22:processTestResources NO-SOURCE\n[2020-12-05T01\u02d006\u02d031.789Z] > Task \u02d0streams\u02d0upgrade-system-tests-22:testClasses\n[2020-12-05T01\u02d006\u02d031.789Z] > Task \u02d0streams\u02d0upgrade-system-tests-22:checkstyleTest\n[2020-12-05T01\u02d006\u02d031.789Z] > Task \u02d0streams\u02d0upgrade-system-tests-23:processTestResources NO-SOURCE\n[2020-12-05T01\u02d006\u02d031.789Z] > Task \u02d0streams\u02d0upgrade-system-tests-23:testClasses\n[2020-12-05T01\u02d006\u02d031.790Z] > Task \u02d0streams\u02d0upgrade-system-tests-23:checkstyleTest\n[2020-12-05T01\u02d006\u02d031.790Z] > Task \u02d0streams\u02d0upgrade-system-tests-24:processTestResources NO-SOURCE\n[2020-12-05T01\u02d006\u02d031.790Z] > Task \u02d0streams\u02d0upgrade-system-tests-24:testClasses\n[2020-12-05T01\u02d006\u02d032.743Z] > Task \u02d0streams\u02d0upgrade-system-tests-24:checkstyleTest\n[2020-12-05T01\u02d006\u02d032.743Z] > Task \u02d0streams\u02d0upgrade-system-tests-25:processTestResources NO-SOURCE\n[2020-12-05T01\u02d006\u02d032.743Z] > Task \u02d0streams\u02d0upgrade-system-tests-25:testClasses\n[2020-12-05T01\u02d006\u02d032.743Z] > Task \u02d0streams\u02d0upgrade-system-tests-25:checkstyleTest\n[2020-12-05T01\u02d006\u02d032.743Z] > Task \u02d0streams\u02d0upgrade-system-tests-26:processTestResources NO-SOURCE\n[2020-12-05T01\u02d006\u02d032.743Z] > Task \u02d0streams\u02d0upgrade-system-tests-26:testClasses\n[2020-12-05T01\u02d006\u02d032.743Z] > Task \u02d0streams\u02d0upgrade-system-tests-26:checkstyleTest\n[2020-12-05T01\u02d006\u02d033.697Z] > Task \u02d0connect\u02d0spotbugsMain NO-SOURCE\n[2020-12-05T01\u02d006\u02d034.655Z] > Task \u02d0streams\u02d0upgrade-system-tests-0100:spotbugsMain NO-SOURCE\n[2020-12-05T01\u02d006\u02d034.655Z] > Task \u02d0streams\u02d0upgrade-system-tests-0101:spotbugsMain NO-SOURCE\n[2020-12-05T01\u02d006\u02d034.655Z] > Task \u02d0streams\u02d0upgrade-system-tests-0102:spotbugsMain NO-SOURCE\n[2020-12-05T01\u02d006\u02d034.655Z] > Task \u02d0streams\u02d0upgrade-system-tests-0110:spotbugsMain NO-SOURCE\n[2020-12-05T01\u02d006\u02d034.655Z] > Task \u02d0streams\u02d0upgrade-system-tests-10:spotbugsMain NO-SOURCE\n[2020-12-05T01\u02d006\u02d034.655Z] > Task \u02d0streams\u02d0upgrade-system-tests-11:spotbugsMain NO-SOURCE\n[2020-12-05T01\u02d006\u02d034.655Z] > Task \u02d0streams\u02d0upgrade-system-tests-20:spotbugsMain NO-SOURCE\n[2020-12-05T01\u02d006\u02d034.655Z] > Task \u02d0streams\u02d0upgrade-system-tests-21:spotbugsMain NO-SOURCE\n[2020-12-05T01\u02d006\u02d034.655Z] > Task \u02d0streams\u02d0upgrade-system-tests-22:spotbugsMain NO-SOURCE\n[2020-12-05T01\u02d006\u02d034.655Z] > Task \u02d0streams\u02d0upgrade-system-tests-23:spotbugsMain NO-SOURCE\n[2020-12-05T01\u02d006\u02d034.655Z] > Task \u02d0streams\u02d0upgrade-system-tests-24:spotbugsMain NO-SOURCE\n[2020-12-05T01\u02d006\u02d034.655Z] > Task \u02d0streams\u02d0upgrade-system-tests-25:spotbugsMain NO-SOURCE\n[2020-12-05T01\u02d006\u02d034.655Z] > Task \u02d0streams\u02d0upgrade-system-tests-26:spotbugsMain NO-SOURCE\n[2020-12-05T01\u02d006\u02d040.856Z]\n[2020-12-05T01\u02d006\u02d040.856Z] > Task :rat\n[2020-12-05T01\u02d006\u02d040.856Z] Rat report: /home/jenkins/jenkins-agent/workspace/Kafka_kafka-pr_PR-9699/build/rat/rat-report.html\n[2020-12-05T01\u02d007\u02d003.231Z]\n[2020-12-05T01\u02d007\u02d003.231Z] > Task \u02d0clients\u02d0spotbugsMain\n[2020-12-05T01\u02d007\u02d003.231Z] > Task \u02d0core\u02d0spotbugsMain\n[2020-12-05T01\u02d007\u02d003.231Z] > Task \u02d0examples\u02d0spotbugsMain\n[2020-12-05T01\u02d007\u02d003.231Z] > Task \u02d0generator\u02d0spotbugsMain\n[2020-12-05T01\u02d007\u02d003.231Z] > Task \u02d0jmh-benchmarks\u02d0spotbugsMain\n[2020-12-05T01\u02d007\u02d003.231Z] > Task \u02d0log4j-appender\u02d0spotbugsMain\n[2020-12-05T01\u02d007\u02d003.231Z] > Task \u02d0raft\u02d0spotbugsMain\n[2020-12-05T01\u02d007\u02d003.231Z] > Task \u02d0streams\u02d0spotbugsMain\n[2020-12-05T01\u02d007\u02d003.231Z] > Task \u02d0tools\u02d0spotbugsMain\n[2020-12-05T01\u02d007\u02d003.231Z] > Task \u02d0connect\u02d0api:spotbugsMain\n[2020-12-05T01\u02d007\u02d004.183Z] > Task \u02d0connect\u02d0basic-auth-extension:spotbugsMain\n[2020-12-05T01\u02d007\u02d004.183Z] > Task \u02d0connect\u02d0file:spotbugsMain\n[2020-12-05T01\u02d007\u02d004.183Z] > Task \u02d0connect\u02d0json:spotbugsMain\n[2020-12-05T01\u02d007\u02d004.183Z] > Task \u02d0connect\u02d0mirror:spotbugsMain\n[2020-12-05T01\u02d007\u02d004.183Z] > Task \u02d0connect\u02d0mirror-client:spotbugsMain\n[2020-12-05T01\u02d007\u02d004.183Z] > Task \u02d0connect\u02d0runtime:spotbugsMain\n[2020-12-05T01\u02d007\u02d004.183Z] > Task \u02d0connect\u02d0transforms:spotbugsMain\n[2020-12-05T01\u02d007\u02d004.183Z] > Task \u02d0streams\u02d0examples:spotbugsMain\n[2020-12-05T01\u02d007\u02d004.183Z] > Task \u02d0streams\u02d0streams-scala:spotbugsMain\n[2020-12-05T01\u02d007\u02d004.183Z] > Task \u02d0streams\u02d0test-utils:spotbugsMain\n[2020-12-05T01\u02d009\u02d009.077Z]\n[2020-12-05T01\u02d009\u02d009.077Z] FAILURE: Build failed with an exception.\n[2020-12-05T01\u02d009\u02d009.077Z]\n[2020-12-05T01\u02d009\u02d009.077Z] * What went wrong:\n[2020-12-05T01\u02d009\u02d009.077Z] Execution failed for task '\u02d0streams\u02d0compileTestJava'.\n[2020-12-05T01\u02d009\u02d009.077Z] > Compilation failed; see the compiler error output for details.\n[2020-12-05T01\u02d009\u02d009.077Z]\n[2020-12-05T01\u02d009\u02d009.077Z] * Try:\n[2020-12-05T01\u02d009\u02d009.077Z] Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n[2020-12-05T01\u02d009\u02d009.077Z]\n[2020-12-05T01\u02d009\u02d009.077Z] * Get more help at https://help.gradle.org\n[2020-12-05T01\u02d009\u02d009.077Z]\n[2020-12-05T01\u02d009\u02d009.077Z] Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\n[2020-12-05T01\u02d009\u02d009.077Z] Use '--warning-mode all' to show the individual deprecation warnings.\n[2020-12-05T01\u02d009\u02d009.077Z] See https://docs.gradle.org/6.7.1/userguide/command_line_interface.html#sec:command_line_warnings\n[2020-12-05T01\u02d009\u02d009.077Z]\n[2020-12-05T01\u02d009\u02d009.077Z] BUILD FAILED in 9m 15s\n[2020-12-05T01\u02d009\u02d009.077Z] 203 actionable tasks: 169 executed, 34 up-to-date\n[2020-12-05T01\u02d009\u02d009.077Z]\n[2020-12-05T01\u02d009\u02d009.077Z] See the profiling report at: file:///home/jenkins/jenkins-agent/workspace/Kafka_kafka-pr_PR-9699/build/reports/profile/profile-2020-12-05-00-59-52.html\n[2020-12-05T01\u02d009\u02d009.077Z] A fine-grained performance profile is available: use the --scan option.", "createdAt": "2020-12-05T00:59:10Z", "url": "https://github.com/apache/kafka/pull/9699", "merged": true, "mergeCommit": {"oid": "db79f86025683346e7a960fbf1ebc7b3b86b3c65"}, "closed": true, "closedAt": "2020-12-10T03:08:18Z", "author": {"login": "bertber"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkMIGYgH2gAyNTMyODY1MTE5OjMyYWRjYTMyNDIxOGU0MDdjZWY4ZWJhNDdhNDBmNmUyNjcwNzZiZmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkfmUMgFqTU0ODIzNjU0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "32adca324218e407cef8eba47a40f6e267076bfb", "author": {"user": {"login": "bertber", "name": null}}, "url": "https://github.com/apache/kafka/commit/32adca324218e407cef8eba47a40f6e267076bfb", "committedDate": "2020-12-08T15:46:13Z", "message": "MINOR: add a description for calling resetToDatetime's function to resetByDuration\n\nAdd a request that it will call resetToDatetime of description to resetByDuration of function."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "37cad7a9310b3611da27c19d6bcad81798a8d700", "author": {"user": {"login": "bertber", "name": null}}, "url": "https://github.com/apache/kafka/commit/37cad7a9310b3611da27c19d6bcad81798a8d700", "committedDate": "2020-12-04T18:51:27Z", "message": "MINOR: add a description for calling resetToDatetime's function to resetByDuration\n\nAdd a request that it will call resetToDatetime of description to resetByDuration of function."}, "afterCommit": {"oid": "32adca324218e407cef8eba47a40f6e267076bfb", "author": {"user": {"login": "bertber", "name": null}}, "url": "https://github.com/apache/kafka/commit/32adca324218e407cef8eba47a40f6e267076bfb", "committedDate": "2020-12-08T15:46:13Z", "message": "MINOR: add a description for calling resetToDatetime's function to resetByDuration\n\nAdd a request that it will call resetToDatetime of description to resetByDuration of function."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NzkzOTI5", "url": "https://github.com/apache/kafka/pull/9699#pullrequestreview-547793929", "createdAt": "2020-12-09T02:43:15Z", "commit": {"oid": "32adca324218e407cef8eba47a40f6e267076bfb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwMjo0MzoxNVrOIB_pnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwMjo0MzoxNVrOIB_pnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk2MjMzMw==", "bodyText": "Could we remove those local variables? For example:\n        resetToDatetime(client, inputTopicPartitions, Instant.now().minus(duration).toEpochMilli());", "url": "https://github.com/apache/kafka/pull/9699#discussion_r538962333", "createdAt": "2020-12-09T02:43:15Z", "author": {"login": "chia7712"}, "path": "core/src/main/scala/kafka/tools/StreamsResetter.java", "diffHunk": "@@ -491,17 +491,8 @@ private void resetByDuration(final Consumer<byte[], byte[]> client,\n                                  final Duration duration) {\n         final Instant now = Instant.now();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32adca324218e407cef8eba47a40f6e267076bfb"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59a880349e4bd5b93ceaac713572979f2fb3e2a1", "author": {"user": {"login": "bertber", "name": null}}, "url": "https://github.com/apache/kafka/commit/59a880349e4bd5b93ceaac713572979f2fb3e2a1", "committedDate": "2020-12-09T14:25:00Z", "message": "remove duplicate code from resetByDuration\n\nremove local variables from resetByDuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4MjM2NTQ2", "url": "https://github.com/apache/kafka/pull/9699#pullrequestreview-548236546", "createdAt": "2020-12-09T14:27:25Z", "commit": {"oid": "59a880349e4bd5b93ceaac713572979f2fb3e2a1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2572, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}