{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2OTEyNjU2", "number": 9083, "title": "KAFKA-9450: Follow-up; Forbid process after closed", "bodyText": "A few cleanup and tighten screws:\n\nWhen a processor is closed (due to topology-closure), we should not allow processing more records.\nLet all built-in processors to extend from AbstractProcessor.\nRemove duplicated override functions.\n\nCommitter Checklist (excluded from commit message)\n\n Verify design and implementation\n Verify test coverage and CI build status\n Verify documentation (including upgrade notes)", "createdAt": "2020-07-27T05:42:37Z", "url": "https://github.com/apache/kafka/pull/9083", "merged": true, "mergeCommit": {"oid": "7abed3dbb092fdbd0c7a3afd1bd4081f2ba63bc4"}, "closed": true, "closedAt": "2020-09-23T21:36:57Z", "author": {"login": "guozhangwang"}, "timelineItems": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwLGiygH2gAyNDU2OTEyNjU2OmE0Yzk0OWY3YTNmNDJkZDc5MjgwMzEwMGIwNjFmY2JhYjViZjk3NmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOA6W3gFqTQ5OTY5NDMwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a4c949f7a3f42dd792803100b061fcbab5bf976d", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/a4c949f7a3f42dd792803100b061fcbab5bf976d", "committedDate": "2020-06-30T01:10:33Z", "message": "first commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36fa307009d3326153a58e702d3598eb7a73a80a", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/36fa307009d3326153a58e702d3598eb7a73a80a", "committedDate": "2020-06-30T23:21:55Z", "message": "major fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1952371dc840c3a70fe246956a1b0285b78390b1", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/1952371dc840c3a70fe246956a1b0285b78390b1", "committedDate": "2020-07-01T01:34:24Z", "message": "flush cache before commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0713dd346101eb098958619b580406b5af6517d", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/e0713dd346101eb098958619b580406b5af6517d", "committedDate": "2020-07-01T01:42:02Z", "message": "Merge branch 'trunk' of https://github.com/apache/kafka into K9450-decouple-flush-state-from-commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cea36626a4e104823dd81775d2efef40d96f7ea5", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/cea36626a4e104823dd81775d2efef40d96f7ea5", "committedDate": "2020-07-01T02:33:06Z", "message": "suppression buffer needs to be flushed too"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2158381e553706f1facbd21989eafef06d73f5b4", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/2158381e553706f1facbd21989eafef06d73f5b4", "committedDate": "2020-07-07T00:29:41Z", "message": "Merge branch 'trunk' of https://github.com/apache/kafka into K9450-decouple-flush-state-from-commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4394dd2316783c286d1b8c042863b558b53fdec7", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/4394dd2316783c286d1b8c042863b558b53fdec7", "committedDate": "2020-07-07T02:20:46Z", "message": "rebased on trunk"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8bef6e1f6289f1c34d6b77336df1abbe91c1102", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/c8bef6e1f6289f1c34d6b77336df1abbe91c1102", "committedDate": "2020-07-24T01:09:31Z", "message": "Merge branch 'trunk' of https://github.com/apache/kafka into K9450-decouple-flush-state-from-commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b49c2a39872b7065b821e0434018ac6dc3fc8d9", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/3b49c2a39872b7065b821e0434018ac6dc3fc8d9", "committedDate": "2020-07-24T18:10:50Z", "message": "github comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9137d40e2dab98ae5b943f796ffe35ea13e5cbf0", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/9137d40e2dab98ae5b943f796ffe35ea13e5cbf0", "committedDate": "2020-07-26T23:46:21Z", "message": "Merge branch 'trunk' of https://github.com/apache/kafka into K9450-decouple-flush-state-from-commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bae8bb5a1118aad6890c60102283ddc463f6c179", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/bae8bb5a1118aad6890c60102283ddc463f6c179", "committedDate": "2020-07-27T04:41:30Z", "message": "re-order commit and suspend"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bafbc8be7c08a9b0f86357b6485b9ed23c20b899", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/bafbc8be7c08a9b0f86357b6485b9ed23c20b899", "committedDate": "2020-07-27T05:40:59Z", "message": "forbid process after closing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "007dde706d72a2cfb9175111abd2ee2d8174b00c", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/007dde706d72a2cfb9175111abd2ee2d8174b00c", "committedDate": "2020-09-16T02:12:20Z", "message": "rebased from trunk and resolved conflicts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5MjM2MjQx", "url": "https://github.com/apache/kafka/pull/9083#pullrequestreview-489236241", "createdAt": "2020-09-16T02:49:23Z", "commit": {"oid": "007dde706d72a2cfb9175111abd2ee2d8174b00c"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQwMjo0OToyNFrOHSeFqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQwMjo1ODowOFrOHSeO5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTEyOTM4Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * If the checkpoint has been loaded form the file and has never been re-written (empty map), then we should re-write the checkpoint;\n          \n          \n            \n                 * If the checkpoint has been loaded from the file and has never been re-written (empty map), then we should re-write the checkpoint;", "url": "https://github.com/apache/kafka/pull/9083#discussion_r489129386", "createdAt": "2020-09-16T02:49:24Z", "author": {"login": "ableegoldman"}, "path": "streams/src/main/java/org/apache/kafka/streams/processor/internals/AbstractTask.java", "diffHunk": "@@ -37,6 +37,7 @@\n \n     /**\n      * If the checkpoint has not been loaded from the file yet (null), then we should not overwrite the checkpoint;\n+     * If the checkpoint has been loaded form the file and has never been re-written (empty map), then we should re-write the checkpoint;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "007dde706d72a2cfb9175111abd2ee2d8174b00c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTEzMDQ5Mg==", "bodyText": "Rebasing error?", "url": "https://github.com/apache/kafka/pull/9083#discussion_r489130492", "createdAt": "2020-09-16T02:53:25Z", "author": {"login": "ableegoldman"}, "path": "streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java", "diffHunk": "@@ -217,7 +217,7 @@ public StateStore getStateStore(final String name) {\n                     forward((ProcessorNode<K, V, ?, ?>) child, key, value);\n                 }\n             } else {\n-                final ProcessorNode<K, V, ?, ?> child = currentNode().getChild(sendTo);\n+                final ProcessorNode child = currentNode().getChild(sendTo);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "007dde706d72a2cfb9175111abd2ee2d8174b00c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTEzMDkyNg==", "bodyText": "Should we throwIfClosed() at the beginning of close() too?", "url": "https://github.com/apache/kafka/pull/9083#discussion_r489130926", "createdAt": "2020-09-16T02:55:01Z", "author": {"login": "ableegoldman"}, "path": "streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorNode.java", "diffHunk": "@@ -149,10 +155,20 @@ public void close() {\n         } catch (final Exception e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "007dde706d72a2cfb9175111abd2ee2d8174b00c"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTEzMTMxOQ==", "bodyText": "Why does this need to change?", "url": "https://github.com/apache/kafka/pull/9083#discussion_r489131319", "createdAt": "2020-09-16T02:56:23Z", "author": {"login": "ableegoldman"}, "path": "streams/src/test/java/org/apache/kafka/streams/processor/internals/StreamTaskTest.java", "diffHunk": "@@ -1310,9 +1310,11 @@ public void shouldNotCheckpointOffsetsAgainOnCommitIfSnapshotNotChangedMuch() {\n         EasyMock.expect(recordCollector.offsets()).andReturn(Collections.singletonMap(changelogPartition, offset)).anyTimes();\n         stateManager.checkpoint();\n         EasyMock.expectLastCall().once();\n+        EasyMock.expect(stateManager.changelogPartitions()).andReturn(Collections.singleton(changelogPartition));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "007dde706d72a2cfb9175111abd2ee2d8174b00c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTEzMTc1MA==", "bodyText": "Should we assert that it's in closed when init is called?", "url": "https://github.com/apache/kafka/pull/9083#discussion_r489131750", "createdAt": "2020-09-16T02:58:08Z", "author": {"login": "ableegoldman"}, "path": "streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorNode.java", "diffHunk": "@@ -118,6 +120,10 @@ public void init(final InternalProcessorContext context) {\n         } catch (final Exception e) {\n             throw new StreamsException(String.format(\"failed to initialize processor %s\", name), e);\n         }\n+\n+        // revived tasks could re-initialize the topology,\n+        // in which case we should reset the flag\n+        closed = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "007dde706d72a2cfb9175111abd2ee2d8174b00c"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26ecbd11ecab8a35e1add0433c430e2db7f1ecb6", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/26ecbd11ecab8a35e1add0433c430e2db7f1ecb6", "committedDate": "2020-09-20T03:11:50Z", "message": "Update streams/src/main/java/org/apache/kafka/streams/processor/internals/AbstractTask.java\n\nCo-authored-by: A. Sophie Blee-Goldman <ableegoldman@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e03c57456cb5a5e6c85698f54a7428db607c12d7", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/e03c57456cb5a5e6c85698f54a7428db607c12d7", "committedDate": "2020-09-20T03:12:42Z", "message": "Merge branch 'trunk' of https://github.com/apache/kafka into K9450-enforce-no-process-after-closure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "109a209efa2eef981b7885bbdd30884316563c2d", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/109a209efa2eef981b7885bbdd30884316563c2d", "committedDate": "2020-09-20T03:42:01Z", "message": "github comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82b6f6f5d238401097e0906c8135c5c189524666", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/82b6f6f5d238401097e0906c8135c5c189524666", "committedDate": "2020-09-20T03:42:21Z", "message": "Merge branch 'K9450-enforce-no-process-after-closure' of https://github.com/guozhangwang/kafka into K9450-enforce-no-process-after-closure"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyODk5ODcy", "url": "https://github.com/apache/kafka/pull/9083#pullrequestreview-492899872", "createdAt": "2020-09-21T19:04:28Z", "commit": {"oid": "82b6f6f5d238401097e0906c8135c5c189524666"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxOTowNDoyOFrOHVeijw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxOTowNDoyOFrOHVeijw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjI4MjUxMQ==", "bodyText": "Why change the K, V to ?, ? -- and if we don't do that, do we still need the cast in the forward call down below?", "url": "https://github.com/apache/kafka/pull/9083#discussion_r492282511", "createdAt": "2020-09-21T19:04:28Z", "author": {"login": "ableegoldman"}, "path": "streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java", "diffHunk": "@@ -217,12 +217,12 @@ public StateStore getStateStore(final String name) {\n                     forward((ProcessorNode<K, V, ?, ?>) child, key, value);\n                 }\n             } else {\n-                final ProcessorNode<K, V, ?, ?> child = currentNode().getChild(sendTo);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82b6f6f5d238401097e0906c8135c5c189524666"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f897fa8969c19c419eeb3d2224590d6da91d3b78", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/f897fa8969c19c419eeb3d2224590d6da91d3b78", "committedDate": "2020-09-22T17:29:33Z", "message": "Merge branch 'trunk' of https://github.com/apache/kafka into K9450-enforce-no-process-after-closure"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNzI5NDYw", "url": "https://github.com/apache/kafka/pull/9083#pullrequestreview-493729460", "createdAt": "2020-09-22T18:18:55Z", "commit": {"oid": "82b6f6f5d238401097e0906c8135c5c189524666"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxODoxODo1NlrOHWGwiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxODoyMjowMlrOHWG35w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk0MTQ0OA==", "bodyText": "nit: not necessary", "url": "https://github.com/apache/kafka/pull/9083#discussion_r492941448", "createdAt": "2020-09-22T18:18:56Z", "author": {"login": "abbccdda"}, "path": "streams/src/test/java/org/apache/kafka/streams/processor/internals/StreamTaskTest.java", "diffHunk": "@@ -1566,6 +1566,7 @@ public void shouldCheckpointForSuspendedTask() {\n         EasyMock.verify(stateManager);\n     }\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82b6f6f5d238401097e0906c8135c5c189524666"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk0MjE0MQ==", "bodyText": "+1", "url": "https://github.com/apache/kafka/pull/9083#discussion_r492942141", "createdAt": "2020-09-22T18:20:11Z", "author": {"login": "abbccdda"}, "path": "streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java", "diffHunk": "@@ -217,12 +217,12 @@ public StateStore getStateStore(final String name) {\n                     forward((ProcessorNode<K, V, ?, ?>) child, key, value);\n                 }\n             } else {\n-                final ProcessorNode<K, V, ?, ?> child = currentNode().getChild(sendTo);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjI4MjUxMQ=="}, "originalCommit": {"oid": "82b6f6f5d238401097e0906c8135c5c189524666"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk0MzMzNQ==", "bodyText": "Could you elaborate why this is better than Processor?", "url": "https://github.com/apache/kafka/pull/9083#discussion_r492943335", "createdAt": "2020-09-22T18:22:02Z", "author": {"login": "abbccdda"}, "path": "streams/src/main/java/org/apache/kafka/streams/kstream/internals/KStreamFlatTransformValues.java", "diffHunk": "@@ -44,19 +45,18 @@ public KStreamFlatTransformValues(final ValueTransformerWithKeySupplier<KIn, VIn\n         return valueTransformerSupplier.stores();\n     }\n \n-    public static class KStreamFlatTransformValuesProcessor<KIn, VIn, VOut> implements Processor<KIn, VIn> {\n+    public static class KStreamFlatTransformValuesProcessor<KIn, VIn, VOut> extends AbstractProcessor<KIn, VIn> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82b6f6f5d238401097e0906c8135c5c189524666"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f9392df8600f9951c1389e911809ab5bd5c7771", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/5f9392df8600f9951c1389e911809ab5bd5c7771", "committedDate": "2020-09-22T18:33:05Z", "message": "checkstyle fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d0fe58b4529ec85b9a5c05dca5c2d3dcb3d8581", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/9d0fe58b4529ec85b9a5c05dca5c2d3dcb3d8581", "committedDate": "2020-09-22T18:33:48Z", "message": "github comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNzQ5NzYy", "url": "https://github.com/apache/kafka/pull/9083#pullrequestreview-493749762", "createdAt": "2020-09-22T18:45:59Z", "commit": {"oid": "9d0fe58b4529ec85b9a5c05dca5c2d3dcb3d8581"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2ca04a7452c3aa18a4995e8a8c8a65d3a5354ed", "author": {"user": {"login": "guozhangwang", "name": "Guozhang Wang"}}, "url": "https://github.com/apache/kafka/commit/e2ca04a7452c3aa18a4995e8a8c8a65d3a5354ed", "committedDate": "2020-09-23T21:31:53Z", "message": "final unit test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5Njk0MzA4", "url": "https://github.com/apache/kafka/pull/9083#pullrequestreview-499694308", "createdAt": "2020-09-30T18:15:54Z", "commit": {"oid": "e2ca04a7452c3aa18a4995e8a8c8a65d3a5354ed"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxODoxNTo1NFrOHapwsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxODoxNTo1NFrOHapwsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzcwOTIzNQ==", "bodyText": "@guozhangwang It's weird to remove the types above and add a cast here. Seems like a step backward with regard to type safety. Not sure if @vvcephei's changes would fix it?", "url": "https://github.com/apache/kafka/pull/9083#discussion_r497709235", "createdAt": "2020-09-30T18:15:54Z", "author": {"login": "mjsax"}, "path": "streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java", "diffHunk": "@@ -217,12 +217,12 @@ public StateStore getStateStore(final String name) {\n                     forward((ProcessorNode<K, V, ?, ?>) child, key, value);\n                 }\n             } else {\n-                final ProcessorNode<K, V, ?, ?> child = currentNode().getChild(sendTo);\n+                final ProcessorNode<?, ?, ?, ?> child = currentNode().getChild(sendTo);\n                 if (child == null) {\n                     throw new StreamsException(\"Unknown downstream node: \" + sendTo\n                         + \" either does not exist or is not connected to this processor.\");\n                 }\n-                forward(child, key, value);\n+                forward((ProcessorNode<K, V, ?, ?>) child, key, value);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2ca04a7452c3aa18a4995e8a8c8a65d3a5354ed"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 949, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}