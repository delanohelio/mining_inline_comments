{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgzMTcxMzI2", "number": 9276, "title": "KAFKA-10473: Add docs on partition size-on-disk, and other log-related metrics", "bodyText": "Add docs on the following JMX metrics\nkafka.log,type=Log,name=Size\nkafka.log,type=Log,name=NumLogSegments\nkafka.log,type=Log,name=LogStartOffset\nkafka.log,type=Log,name=LogEndOffset\nTo test this, I opened the docs in a web browser\nCommitter Checklist (excluded from commit message)\n\n Verify design and implementation\n Verify test coverage and CI build status\n Verify documentation (including upgrade notes)", "createdAt": "2020-09-09T22:20:40Z", "url": "https://github.com/apache/kafka/pull/9276", "merged": true, "mergeCommit": {"oid": "16eb1f5cd13759ff2971a92b0e7a646656bfa2a8"}, "closed": true, "closedAt": "2020-12-03T19:18:13Z", "author": {"login": "wushujames"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHTvWMgH2gAyNDgzMTcxMzI2OmZkNDg2MzFiYmJmMjkwZmIzYWM4NjQyZDkzYTI4OWY2OWU4M2I2Nzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdioJsVgFqTU0NDI5ODA3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fd48631bbbf290fb3ac8642d93a289f69e83b679", "author": {"user": null}, "url": "https://github.com/apache/kafka/commit/fd48631bbbf290fb3ac8642d93a289f69e83b679", "committedDate": "2020-09-09T22:14:37Z", "message": "Add docs on the following JMX metrics\n\nkafka.log,type=Log,name=Size\nkafka.log,type=Log,name=NumLogSegments\nkafka.log,type=Log,name=LogStartOffset\nkafka.log,type=Log,name=LogEndOffset"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1NDQ0NTUz", "url": "https://github.com/apache/kafka/pull/9276#pullrequestreview-485444553", "createdAt": "2020-09-09T22:24:24Z", "commit": {"oid": "fd48631bbbf290fb3ac8642d93a289f69e83b679"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQyMjoyNDoyNFrOHPcWwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQyMjoyNDoyNFrOHPcWwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTk1NTI2Ng==", "bodyText": "I wasn't sure what information to add for this column of \"normal value\".\n\nFor date-based retention topics, it should roughly be sizeOfTopic/segmentSize\nBut for compacted topics, that isn't the case\nIf this is too high, it will mean more file handles.\nIf it is too high, it might inefficient (is this true?)\n\nAnyway, I wasn't sure what to put, so I left it simple.", "url": "https://github.com/apache/kafka/pull/9276#discussion_r485955266", "createdAt": "2020-09-09T22:24:24Z", "author": {"login": "wushujames"}, "path": "docs/ops.html", "diffHunk": "@@ -1129,6 +1128,26 @@ <h4><a id=\"remote_jmx\" href=\"#remote_jmx\">Security Considerations for Remote Mon\n         <td>kafka.server:type=BrokerTopicMetrics,name=ReassignmentBytesInPerSec</td>\n         <td></td>\n       </tr>\n+      <tr>\n+        <td>Size of a partition on disk (in bytes)</td>\n+        <td>kafka.log:type=Log,name=Size,topic=([-.\\w]+),partition=([0-9]+)</td>\n+        <td>The size of a partition on disk, measured in bytes.</td>\n+      </tr>\n+      <tr>\n+        <td>Number of log segments in a partition</td>\n+        <td>kafka.log:type=Log,name=NumLogSegments,topic=([-.\\w]+),partition=([0-9]+)</td>\n+        <td>The number of log segments in a partition.</td>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd48631bbbf290fb3ac8642d93a289f69e83b679"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1NDQ0ODkx", "url": "https://github.com/apache/kafka/pull/9276#pullrequestreview-485444891", "createdAt": "2020-09-09T22:25:17Z", "commit": {"oid": "fd48631bbbf290fb3ac8642d93a289f69e83b679"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQyMjoyNToxOFrOHPcX7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQyMjoyNToxOFrOHPcX7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTk1NTU2Nw==", "bodyText": "Is this the last committed offset? Or, is it uncommitted offsets? Meaning, if a producer appends a record there but the followers haven't yet acked it, will this value get incremented?\nDoes that level of detail matter, in the docs?", "url": "https://github.com/apache/kafka/pull/9276#discussion_r485955567", "createdAt": "2020-09-09T22:25:18Z", "author": {"login": "wushujames"}, "path": "docs/ops.html", "diffHunk": "@@ -1129,6 +1128,26 @@ <h4><a id=\"remote_jmx\" href=\"#remote_jmx\">Security Considerations for Remote Mon\n         <td>kafka.server:type=BrokerTopicMetrics,name=ReassignmentBytesInPerSec</td>\n         <td></td>\n       </tr>\n+      <tr>\n+        <td>Size of a partition on disk (in bytes)</td>\n+        <td>kafka.log:type=Log,name=Size,topic=([-.\\w]+),partition=([0-9]+)</td>\n+        <td>The size of a partition on disk, measured in bytes.</td>\n+      </tr>\n+      <tr>\n+        <td>Number of log segments in a partition</td>\n+        <td>kafka.log:type=Log,name=NumLogSegments,topic=([-.\\w]+),partition=([0-9]+)</td>\n+        <td>The number of log segments in a partition.</td>\n+      </tr>\n+      <tr>\n+        <td>First offset in a partition</td>\n+        <td>kafka.log:type=Log,name=LogStartOffset,topic=([-.\\w]+),partition=([0-9]+)</td>\n+        <td>The first offset in a partition.</td>\n+      </tr>\n+      <tr>\n+        <td>Last offset in a partition</td>\n+        <td>kafka.log:type=Log,name=LogEndOffset,topic=([-.\\w]+),partition=([0-9]+)</td>\n+        <td>The last offset in a partition.</td>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd48631bbbf290fb3ac8642d93a289f69e83b679"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93d93a0686e04fc22ecf70a046f936d55ba2d16f", "author": {"user": null}, "url": "https://github.com/apache/kafka/commit/93d93a0686e04fc22ecf70a046f936d55ba2d16f", "committedDate": "2020-09-23T22:01:31Z", "message": "Merge remote-tracking branch 'origin/trunk' into add-to-docs-kafka-log-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "062c134a833857e13dcd3099c01e42c7e25dced5", "author": {"user": null}, "url": "https://github.com/apache/kafka/commit/062c134a833857e13dcd3099c01e42c7e25dced5", "committedDate": "2020-10-09T18:42:24Z", "message": "Merge remote-tracking branch 'origin/trunk' into add-to-docs-kafka-log-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01bd15304026399663abed54702d40351c0ca7b2", "author": {"user": null}, "url": "https://github.com/apache/kafka/commit/01bd15304026399663abed54702d40351c0ca7b2", "committedDate": "2020-12-03T01:53:21Z", "message": "Merge remote-tracking branch 'upstream/trunk' into add-to-docs-kafka-log-metrics"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0Mjk4MDcw", "url": "https://github.com/apache/kafka/pull/9276#pullrequestreview-544298070", "createdAt": "2020-12-03T19:16:08Z", "commit": {"oid": "01bd15304026399663abed54702d40351c0ca7b2"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxOToxNjowOFrOH-s_rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxOToxNjo1MVrOH-tBcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTUxMDk1OA==", "bodyText": "This is the last uncomitted offset: after the local append it would be incremented, not waiting for other replicas to ack.", "url": "https://github.com/apache/kafka/pull/9276#discussion_r535510958", "createdAt": "2020-12-03T19:16:08Z", "author": {"login": "guozhangwang"}, "path": "docs/ops.html", "diffHunk": "@@ -1129,6 +1128,26 @@ <h4><a id=\"remote_jmx\" href=\"#remote_jmx\">Security Considerations for Remote Mon\n         <td>kafka.server:type=BrokerTopicMetrics,name=ReassignmentBytesInPerSec</td>\n         <td></td>\n       </tr>\n+      <tr>\n+        <td>Size of a partition on disk (in bytes)</td>\n+        <td>kafka.log:type=Log,name=Size,topic=([-.\\w]+),partition=([0-9]+)</td>\n+        <td>The size of a partition on disk, measured in bytes.</td>\n+      </tr>\n+      <tr>\n+        <td>Number of log segments in a partition</td>\n+        <td>kafka.log:type=Log,name=NumLogSegments,topic=([-.\\w]+),partition=([0-9]+)</td>\n+        <td>The number of log segments in a partition.</td>\n+      </tr>\n+      <tr>\n+        <td>First offset in a partition</td>\n+        <td>kafka.log:type=Log,name=LogStartOffset,topic=([-.\\w]+),partition=([0-9]+)</td>\n+        <td>The first offset in a partition.</td>\n+      </tr>\n+      <tr>\n+        <td>Last offset in a partition</td>\n+        <td>kafka.log:type=Log,name=LogEndOffset,topic=([-.\\w]+),partition=([0-9]+)</td>\n+        <td>The last offset in a partition.</td>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTk1NTU2Nw=="}, "originalCommit": {"oid": "fd48631bbbf290fb3ac8642d93a289f69e83b679"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTUxMTQwOQ==", "bodyText": "I think this is fine :)", "url": "https://github.com/apache/kafka/pull/9276#discussion_r535511409", "createdAt": "2020-12-03T19:16:51Z", "author": {"login": "guozhangwang"}, "path": "docs/ops.html", "diffHunk": "@@ -1129,6 +1128,26 @@ <h4><a id=\"remote_jmx\" href=\"#remote_jmx\">Security Considerations for Remote Mon\n         <td>kafka.server:type=BrokerTopicMetrics,name=ReassignmentBytesInPerSec</td>\n         <td></td>\n       </tr>\n+      <tr>\n+        <td>Size of a partition on disk (in bytes)</td>\n+        <td>kafka.log:type=Log,name=Size,topic=([-.\\w]+),partition=([0-9]+)</td>\n+        <td>The size of a partition on disk, measured in bytes.</td>\n+      </tr>\n+      <tr>\n+        <td>Number of log segments in a partition</td>\n+        <td>kafka.log:type=Log,name=NumLogSegments,topic=([-.\\w]+),partition=([0-9]+)</td>\n+        <td>The number of log segments in a partition.</td>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTk1NTI2Ng=="}, "originalCommit": {"oid": "fd48631bbbf290fb3ac8642d93a289f69e83b679"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 600, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}