{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwMjQzODM3", "number": 8171, "title": "Adapt docs about metrics of Streams according to KIP-444", "bodyText": "Adapts the docs about metrics of Streams according to https://cwiki.apache.org/confluence/display/KAFKA/KIP-444%253A+Augment+metrics+for+Kafka+Streams\nCommitter Checklist (excluded from commit message)\n\n Verify design and implementation\n Verify test coverage and CI build status\n Verify documentation (including upgrade notes)", "createdAt": "2020-02-26T13:09:05Z", "url": "https://github.com/apache/kafka/pull/8171", "merged": true, "mergeCommit": {"oid": "d2c42125aad73fdcb063e0cbc45417cf88989d03"}, "closed": true, "closedAt": "2020-02-27T17:48:54Z", "author": {"login": "cadonna"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIGab_gH2gAyMzgwMjQzODM3OmMwYzlhYTgwMjhkZTQ3NmNmMzAwMzZmM2ZlN2UwY2VhYTUyYjM4Yjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIM7YkAFqTM2NTIyMzAxNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c0c9aa8028de476cf30036f3fe7e0ceaa52b38b9", "author": {"user": {"login": "cadonna", "name": "Bruno Cadonna"}}, "url": "https://github.com/apache/kafka/commit/c0c9aa8028de476cf30036f3fe7e0ceaa52b38b9", "committedDate": "2020-02-26T13:05:47Z", "message": "Adapt metrics docs of Streams according to KIP-444"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1MDkwOTEx", "url": "https://github.com/apache/kafka/pull/8171#pullrequestreview-365090911", "createdAt": "2020-02-26T17:19:52Z", "commit": {"oid": "c0c9aa8028de476cf30036f3fe7e0ceaa52b38b9"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxNzoxOTo1M1rOFu0v5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxNzoyOToxNVrOFu1E8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY0MzA0Ng==", "bodyText": "Are those non-streams changes piggy-backed or it was due to unclean rebase?", "url": "https://github.com/apache/kafka/pull/8171#discussion_r384643046", "createdAt": "2020-02-26T17:19:53Z", "author": {"login": "guozhangwang"}, "path": "docs/ops.html", "diffHunk": "@@ -85,16 +85,16 @@ <h4><a id=\"basic_ops_restarting\" href=\"#basic_ops_restarting\">Graceful shutdown<\n \n   <h4><a id=\"basic_ops_leader_balancing\" href=\"#basic_ops_leader_balancing\">Balancing leadership</a></h4>\n \n-  Whenever a broker stops or crashes, leadership for that broker's partitions transfers to other replicas. When the broker is restarted it will only be a follower for all its partitions, meaning it will not be used for client reads and writes.\n+  Whenever a broker stops or crashes leadership for that broker's partitions transfers to other replicas. This means that by default when the broker is restarted it will only be a follower for all its partitions, meaning it will not be used for client reads and writes.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0c9aa8028de476cf30036f3fe7e0ceaa52b38b9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY0Mzg4NA==", "bodyText": "nit: polls -> consumer poll calls? Ditto below.", "url": "https://github.com/apache/kafka/pull/8171#discussion_r384643884", "createdAt": "2020-02-26T17:21:20Z", "author": {"login": "guozhangwang"}, "path": "docs/ops.html", "diffHunk": "@@ -1662,157 +1661,189 @@ <h5><a id=\"kafka_streams_thread_monitoring\" href=\"#kafka_streams_thread_monitori\n         <th>Description</th>\n         <th>Mbean name</th>\n       </tr>\n-       <tr>\n+      <tr>\n         <td>commit-latency-avg</td>\n-        <td>The average execution time in ms for committing, across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-        <tr>\n+        <td>The average execution time in ms, for committing, across all running tasks of this thread.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>commit-latency-max</td>\n-        <td>The maximum execution time in ms for committing across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The maximum execution time in ms, for committing, across all running tasks of this thread.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>poll-latency-avg</td>\n-        <td>The average execution time in ms for polling, across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-        <tr>\n+        <td>The average execution time in ms, for polling.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>poll-latency-max</td>\n-        <td>The maximum execution time in ms for polling across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The maximum execution time in ms, for polling.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>process-latency-avg</td>\n-        <td>The average execution time in ms for processing, across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The average execution time in ms, for processing.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>process-latency-max</td>\n-        <td>The maximum execution time in ms for processing across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The maximum execution time in ms, for processing.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>punctuate-latency-avg</td>\n-        <td>The average execution time in ms for punctuating, across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The average execution time in ms, for punctuating.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>punctuate-latency-max</td>\n-        <td>The maximum execution time in ms for punctuating across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The maximum execution time in ms, for punctuating.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>commit-rate</td>\n         <td>The average number of commits per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n       <tr>\n         <td>commit-total</td>\n-        <td>The total number of commit calls across all tasks.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>The total number of commit calls.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n-       <tr>\n+      <tr>\n         <td>poll-rate</td>\n         <td>The average number of polls per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0c9aa8028de476cf30036f3fe7e0ceaa52b38b9"}, "originalPosition": 152}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY0NjQ5MQ==", "bodyText": "This should be stream-task-metrics right?\nAlso do you remember what's the rationale of adding the processor-node-id=all tag, could we just drop this from this task sensor -- I know it maybe too late to drop, but wondering why we needed this tag in the map.", "url": "https://github.com/apache/kafka/pull/8171#discussion_r384646491", "createdAt": "2020-02-26T17:25:51Z", "author": {"login": "guozhangwang"}, "path": "docs/ops.html", "diffHunk": "@@ -1662,157 +1661,189 @@ <h5><a id=\"kafka_streams_thread_monitoring\" href=\"#kafka_streams_thread_monitori\n         <th>Description</th>\n         <th>Mbean name</th>\n       </tr>\n-       <tr>\n+      <tr>\n         <td>commit-latency-avg</td>\n-        <td>The average execution time in ms for committing, across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-        <tr>\n+        <td>The average execution time in ms, for committing, across all running tasks of this thread.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>commit-latency-max</td>\n-        <td>The maximum execution time in ms for committing across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The maximum execution time in ms, for committing, across all running tasks of this thread.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>poll-latency-avg</td>\n-        <td>The average execution time in ms for polling, across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-        <tr>\n+        <td>The average execution time in ms, for polling.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>poll-latency-max</td>\n-        <td>The maximum execution time in ms for polling across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The maximum execution time in ms, for polling.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>process-latency-avg</td>\n-        <td>The average execution time in ms for processing, across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The average execution time in ms, for processing.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>process-latency-max</td>\n-        <td>The maximum execution time in ms for processing across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The maximum execution time in ms, for processing.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>punctuate-latency-avg</td>\n-        <td>The average execution time in ms for punctuating, across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The average execution time in ms, for punctuating.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>punctuate-latency-max</td>\n-        <td>The maximum execution time in ms for punctuating across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The maximum execution time in ms, for punctuating.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>commit-rate</td>\n         <td>The average number of commits per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n       <tr>\n         <td>commit-total</td>\n-        <td>The total number of commit calls across all tasks.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>The total number of commit calls.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n-       <tr>\n+      <tr>\n         <td>poll-rate</td>\n         <td>The average number of polls per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n       <tr>\n         <td>poll-total</td>\n-        <td>The total number of poll calls across all tasks.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>The total number of poll calls.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n-       <tr>\n+      <tr>\n         <td>process-rate</td>\n-        <td>The average number of process calls per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n+        <td>The average number of processed records per second.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n       <tr>\n         <td>process-total</td>\n-        <td>The total number of process calls across all tasks.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>The total number of processed records.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n-       <tr>\n+      <tr>\n         <td>punctuate-rate</td>\n-        <td>The average number of punctuates per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>The average number of punctuate calls per second.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>punctuate-total</td>\n-        <td>The total number of punctuate calls across all tasks.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>The total number of punctuate calls.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>task-created-rate</td>\n-        <td>The average number of newly created tasks per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>The average number of tasks created per second.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>task-created-total</td>\n         <td>The total number of tasks created.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>task-closed-rate</td>\n         <td>The average number of tasks closed per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>task-closed-total</td>\n         <td>The total number of tasks closed.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>skipped-records-rate</td>\n-        <td>The average number of skipped records per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>skipped-records-total</td>\n-        <td>The total number of skipped records.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n  </tbody>\n </table>\n \n <h5><a id=\"kafka_streams_task_monitoring\" href=\"#kafka_streams_task_monitoring\">Task Metrics</a></h5>\n-All the following metrics have a recording level of <code>debug</code>:\n+All the following metrics have a recording level of <code>debug</code>,\n+except for metrics dropped-records-(rate | total) which have a recording level\n+of <code>info</code>:\n  <table class=\"data-table\">\n       <tbody>\n       <tr>\n         <th>Metric/Attribute name</th>\n         <th>Description</th>\n         <th>Mbean name</th>\n       </tr>\n+      <tr>\n+        <td>process-latency-avg</td>\n+        <td>The average execution time in ns, for processing.</td>\n+        <td>kafka.streams:type=stream-task-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n+        <td>process-latency-max</td>\n+        <td>The maximum execution time in ns, for processing.</td>\n+        <td>kafka.streams:type=stream-task-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n+        <td>process-rate</td>\n+        <td>The average number of processed records per second across all source processor nodes of this task.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),processor-node-id=all</td>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0c9aa8028de476cf30036f3fe7e0ceaa52b38b9"}, "originalPosition": 255}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY0NzE2MQ==", "bodyText": "It's better to add a note at the beginning of Processor Node Metrics that the following four metrics are only available in certain types of nodes, e.g. process-rate and process-total would only be available for source nodes.", "url": "https://github.com/apache/kafka/pull/8171#discussion_r384647161", "createdAt": "2020-02-26T17:26:58Z", "author": {"login": "guozhangwang"}, "path": "docs/ops.html", "diffHunk": "@@ -1826,111 +1857,25 @@ <h5><a id=\"kafka_streams_node_monitoring\" href=\"#kafka_streams_node_monitoring\">\n         <th>Description</th>\n         <th>Mbean name</th>\n       </tr>\n-      <tr>\n-        <td>process-latency-avg</td>\n-        <td>The average process execution time in ns. </td>\n-        <td>kafka.streams:type=stream-processor-node-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),processor-node-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>process-latency-max</td>\n-        <td>The maximum process execution time in ns. </td>\n-        <td>kafka.streams:type=stream-processor-node-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),processor-node-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>punctuate-latency-avg</td>\n-        <td>The average punctuate execution time in ns. </td>\n-        <td>kafka.streams:type=stream-processor-node-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),processor-node-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>punctuate-latency-max</td>\n-        <td>The maximum punctuate execution time in ns. </td>\n-        <td>kafka.streams:type=stream-processor-node-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),processor-node-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>create-latency-avg</td>\n-        <td>The average create execution time in ns. </td>\n-        <td>kafka.streams:type=stream-processor-node-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),processor-node-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>create-latency-max</td>\n-        <td>The maximum create execution time in ns. </td>\n-        <td>kafka.streams:type=stream-processor-node-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),processor-node-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>destroy-latency-avg</td>\n-        <td>The average destroy execution time in ns. </td>\n-        <td>kafka.streams:type=stream-processor-node-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),processor-node-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>destroy-latency-max</td>\n-        <td>The maximum destroy execution time in ns. </td>\n-        <td>kafka.streams:type=stream-processor-node-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),processor-node-id=([-.\\w]+)</td>\n-      </tr>\n       <tr>\n         <td>process-rate</td>\n-        <td>The average number of process operations per second. </td>\n-        <td>kafka.streams:type=stream-processor-node-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),processor-node-id=([-.\\w]+)</td>\n+        <td>The average number of records processed by a source processor node per second.</td>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0c9aa8028de476cf30036f3fe7e0ceaa52b38b9"}, "originalPosition": 373}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY0ODQzNQ==", "bodyText": "Ditto here, mention that the following metrics are only available for certain types of stores.", "url": "https://github.com/apache/kafka/pull/8171#discussion_r384648435", "createdAt": "2020-02-26T17:29:15Z", "author": {"login": "guozhangwang"}, "path": "docs/ops.html", "diffHunk": "@@ -1957,182 +1903,157 @@ <h5><a id=\"kafka_streams_store_monitoring\" href=\"#kafka_streams_store_monitoring\n       <tr>\n         <td>put-latency-avg</td>\n         <td>The average put execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>put-latency-max</td>\n         <td>The maximum put execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>put-if-absent-latency-avg</td>\n         <td>The average put-if-absent execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>put-if-absent-latency-max</td>\n         <td>The maximum put-if-absent execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>get-latency-avg</td>\n         <td>The average get execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>get-latency-max</td>\n         <td>The maximum get execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>delete-latency-avg</td>\n         <td>The average delete execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>delete-latency-max</td>\n         <td>The maximum delete execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>put-all-latency-avg</td>\n         <td>The average put-all execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>put-all-latency-max</td>\n         <td>The maximum put-all execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>all-latency-avg</td>\n         <td>The average all operation execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>all-latency-max</td>\n         <td>The maximum all operation execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>range-latency-avg</td>\n         <td>The average range execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>range-latency-max</td>\n         <td>The maximum range execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n        <tr>\n         <td>flush-latency-avg</td>\n         <td>The average flush execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>flush-latency-max</td>\n         <td>The maximum flush execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>restore-latency-avg</td>\n         <td>The average restore execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>restore-latency-max</td>\n         <td>The maximum restore execution time in ns. </td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>put-rate</td>\n         <td>The average put rate for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>put-total</td>\n-        <td>The total number of put calls for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>put-if-absent-rate</td>\n         <td>The average put-if-absent rate for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>put-if-absent-total</td>\n-        <td>The total number of put-if-absent calls for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>get-rate</td>\n         <td>The average get rate for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>get-total</td>\n-        <td>The total number of get calls for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>delete-rate</td>\n         <td>The average delete rate for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>delete-total</td>\n-        <td>The total number of delete calls for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>put-all-rate</td>\n         <td>The average put-all rate for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>put-all-total</td>\n-        <td>The total number of put-all calls for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>all-rate</td>\n         <td>The average all operation rate for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>all-total</td>\n-        <td>The total number of all operation calls for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>range-rate</td>\n         <td>The average range rate for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>range-total</td>\n-        <td>The total number of range calls for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>flush-rate</td>\n         <td>The average flush rate for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>flush-total</td>\n-        <td>The total number of flush calls for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>restore-rate</td>\n         <td>The average restore rate for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-state-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n-        <td>restore-total</td>\n-        <td>The total number of restore calls for this store.</td>\n-        <td>kafka.streams:type=stream-[store-scope]-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),[store-scope]-id=([-.\\w]+)</td>\n+        <td>suppression-buffer-size-avg</td>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0c9aa8028de476cf30036f3fe7e0ceaa52b38b9"}, "originalPosition": 660}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d2c2f95c2c1761f3151ac53a61d47755ab8f07a", "author": {"user": {"login": "cadonna", "name": "Bruno Cadonna"}}, "url": "https://github.com/apache/kafka/commit/8d2c2f95c2c1761f3151ac53a61d47755ab8f07a", "committedDate": "2020-02-26T18:48:22Z", "message": "Revert \"Adapt metrics docs of Streams according to KIP-444\"\n\nThis reverts commit c0c9aa8028de476cf30036f3fe7e0ceaa52b38b9."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ba7b1429190d1359e577f71388770877c98b2b0", "author": {"user": {"login": "cadonna", "name": "Bruno Cadonna"}}, "url": "https://github.com/apache/kafka/commit/7ba7b1429190d1359e577f71388770877c98b2b0", "committedDate": "2020-02-26T18:55:47Z", "message": "Adapt docs about metrics of Streams according to KIP-444"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f49ab241a5113d20eccedf3c098014218332965", "author": {"user": {"login": "cadonna", "name": "Bruno Cadonna"}}, "url": "https://github.com/apache/kafka/commit/2f49ab241a5113d20eccedf3c098014218332965", "committedDate": "2020-02-26T19:18:58Z", "message": "Include feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1MjIzMDE3", "url": "https://github.com/apache/kafka/pull/8171#pullrequestreview-365223017", "createdAt": "2020-02-26T20:36:21Z", "commit": {"oid": "2f49ab241a5113d20eccedf3c098014218332965"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQyMDozNjoyMVrOFu7SLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQyMDo0MDo1M1rOFu7asA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDc1MDEyNg==", "bodyText": "Just for my own education, why this one is set to ns instead of ms?", "url": "https://github.com/apache/kafka/pull/8171#discussion_r384750126", "createdAt": "2020-02-26T20:36:21Z", "author": {"login": "abbccdda"}, "path": "docs/ops.html", "diffHunk": "@@ -1654,298 +1653,248 @@ <h5><a id=\"kafka_streams_client_monitoring\" href=\"#kafka_streams_client_monitori\n </table>\n \n <h5><a id=\"kafka_streams_thread_monitoring\" href=\"#kafka_streams_thread_monitoring\">Thread Metrics</a></h5>\n-All the following metrics have a recording level of <code>info</code>:\n+All of the following metrics have a recording level of <code>info</code>:\n <table class=\"data-table\">\n     <tbody>\n       <tr>\n         <th>Metric/Attribute name</th>\n         <th>Description</th>\n         <th>Mbean name</th>\n       </tr>\n-       <tr>\n+      <tr>\n         <td>commit-latency-avg</td>\n-        <td>The average execution time in ms for committing, across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-        <tr>\n+        <td>The average execution time in ms, for committing, across all running tasks of this thread.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>commit-latency-max</td>\n-        <td>The maximum execution time in ms for committing across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The maximum execution time in ms, for committing, across all running tasks of this thread.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>poll-latency-avg</td>\n-        <td>The average execution time in ms for polling, across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-        <tr>\n+        <td>The average execution time in ms, for consumer polling.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>poll-latency-max</td>\n-        <td>The maximum execution time in ms for polling across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The maximum execution time in ms, for consumer polling.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>process-latency-avg</td>\n-        <td>The average execution time in ms for processing, across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The average execution time in ms, for processing.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>process-latency-max</td>\n-        <td>The maximum execution time in ms for processing across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The maximum execution time in ms, for processing.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>punctuate-latency-avg</td>\n-        <td>The average execution time in ms for punctuating, across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The average execution time in ms, for punctuating.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>punctuate-latency-max</td>\n-        <td>The maximum execution time in ms for punctuating across all running tasks of this thread.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n-       <tr>\n+        <td>The maximum execution time in ms, for punctuating.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n         <td>commit-rate</td>\n         <td>The average number of commits per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n       <tr>\n         <td>commit-total</td>\n-        <td>The total number of commit calls across all tasks.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>The total number of commit calls.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n-       <tr>\n+      <tr>\n         <td>poll-rate</td>\n-        <td>The average number of polls per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n+        <td>The average number of consumer poll calls per second.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n       <tr>\n         <td>poll-total</td>\n-        <td>The total number of poll calls across all tasks.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>The total number of consumer poll calls.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n-       <tr>\n+      <tr>\n         <td>process-rate</td>\n-        <td>The average number of process calls per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-       </tr>\n+        <td>The average number of processed records per second.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n+      </tr>\n       <tr>\n         <td>process-total</td>\n-        <td>The total number of process calls across all tasks.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>The total number of processed records.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n-       <tr>\n+      <tr>\n         <td>punctuate-rate</td>\n-        <td>The average number of punctuates per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>The average number of punctuate calls per second.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>punctuate-total</td>\n-        <td>The total number of punctuate calls across all tasks.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>The total number of punctuate calls.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>task-created-rate</td>\n-        <td>The average number of newly created tasks per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>The average number of tasks created per second.</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>task-created-total</td>\n         <td>The total number of tasks created.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>task-closed-rate</td>\n         <td>The average number of tasks closed per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n       <tr>\n         <td>task-closed-total</td>\n         <td>The total number of tasks closed.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>skipped-records-rate</td>\n-        <td>The average number of skipped records per second.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>skipped-records-total</td>\n-        <td>The total number of skipped records.</td>\n-        <td>kafka.streams:type=stream-metrics,client-id=([-.\\w]+)</td>\n+        <td>kafka.streams:type=stream-thread-metrics,thread-id=([-.\\w]+)</td>\n       </tr>\n  </tbody>\n </table>\n \n <h5><a id=\"kafka_streams_task_monitoring\" href=\"#kafka_streams_task_monitoring\">Task Metrics</a></h5>\n-All the following metrics have a recording level of <code>debug</code>:\n+All of the following metrics have a recording level of <code>debug</code>, except for metrics\n+dropped-records-rate and dropped-records-total which have a recording level of <code>info</code>:\n  <table class=\"data-table\">\n       <tbody>\n       <tr>\n         <th>Metric/Attribute name</th>\n         <th>Description</th>\n         <th>Mbean name</th>\n       </tr>\n+      <tr>\n+        <td>process-latency-avg</td>\n+        <td>The average execution time in ns, for processing.</td>\n+        <td>kafka.streams:type=stream-task-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n+        <td>process-latency-max</td>\n+        <td>The maximum execution time in ns, for processing.</td>\n+        <td>kafka.streams:type=stream-task-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+)</td>\n+      </tr>\n+      <tr>\n+        <td>process-rate</td>\n+        <td>The average number of processed records per second across all source processor nodes of this task.</td>\n+        <td>kafka.streams:type=stream-task-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+)</td>\n+       </tr>\n+      <tr>\n+        <td>process-total</td>\n+        <td>The total number of processed records across all source processor nodes of this task.</td>\n+        <td>kafka.streams:type=stream-task-metrics,thread-id=([-.\\w]+),task-id=([-.\\w]+)</td>\n+      </tr>\n       <tr>\n         <td>commit-latency-avg</td>\n-        <td>The average commit time in ns for this task. </td>\n-        <td>kafka.streams:type=stream-task-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+)</td>\n+        <td>The average execution time in ns, for committing.</td>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f49ab241a5113d20eccedf3c098014218332965"}, "originalPosition": 241}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDc1MjMwNA==", "bodyText": "Where did we document the deprecation of suppression related metrics?", "url": "https://github.com/apache/kafka/pull/8171#discussion_r384752304", "createdAt": "2020-02-26T20:40:53Z", "author": {"login": "abbccdda"}, "path": "docs/ops.html", "diffHunk": "@@ -2250,57 +2174,19 @@ <h5><a id=\"kafka_streams_cache_monitoring\" href=\"#kafka_streams_cache_monitoring\n         <th>Mbean name</th>\n       </tr>\n       <tr>\n-        <td>hitRatio-avg</td>\n-        <td>The average cache hit ratio defined as the ratio of cache read hits over the total cache read requests. </td>\n-        <td>kafka.streams:type=stream-record-cache-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),record-cache-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>hitRatio-min</td>\n-        <td>The mininum cache hit ratio. </td>\n-        <td>kafka.streams:type=stream-record-cache-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),record-cache-id=([-.\\w]+)</td>\n-      </tr>\n-      <tr>\n-        <td>hitRatio-max</td>\n-        <td>The maximum cache hit ratio. </td>\n-        <td>kafka.streams:type=stream-record-cache-metrics,client-id=([-.\\w]+),task-id=([-.\\w]+),record-cache-id=([-.\\w]+)</td>\n-      </tr>\n-    </tbody>\n- </table>\n-\n-  <h5><a id=\"kafka_streams_buffer_monitoring\" href=\"#kafka_streams_buffer_monitoring\">Suppression Buffer Metrics</a></h5>\n-  All the following metrics have a recording level of <code>debug</code>:\n-\n-  <table class=\"data-table\">\n-      <tbody>\n-      <tr>\n-        <td>suppression-buffer-size-current</td>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f49ab241a5113d20eccedf3c098014218332965"}, "originalPosition": 816}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1577, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}