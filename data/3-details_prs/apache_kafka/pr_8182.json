{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwOTA3MzM2", "number": 8182, "title": "MINOR: Update upgrade guide for ZK", "bodyText": "Adding the ZK upgrade information to the Notable Changes section for 2.4.1\nCommitter Checklist (excluded from commit message)\n\n Verify design and implementation\n Verify test coverage and CI build status\n Verify documentation (including upgrade notes)", "createdAt": "2020-02-27T15:18:49Z", "url": "https://github.com/apache/kafka/pull/8182", "merged": true, "mergeCommit": {"oid": "a696296fe3201291dfb34e5af9d96f2d6a104366"}, "closed": true, "closedAt": "2020-02-27T23:01:44Z", "author": {"login": "bbejeck"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIcwWpAH2gAyMzgwOTA3MzM2OmZmOWM5ZGRiYTM1MGEwMWQ3OGNmYzZhOTY1YTY1YjM3YjE2NzQ0N2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIjcvogH2gAyMzgwOTA3MzM2OjM1NjE2Zjk1YjlkMWE4M2Q1ZWNkZjY2MzJjODhmYTg5YTQ0MDg4M2E=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ff9c9ddba350a01d78cfc6a965a65b37b167447e", "author": {"user": {"login": "bbejeck", "name": "Bill Bejeck"}}, "url": "https://github.com/apache/kafka/commit/ff9c9ddba350a01d78cfc6a965a65b37b167447e", "committedDate": "2020-02-27T15:07:38Z", "message": "MINOR: Add upgrade notable section for 2.4.1 with ZK info"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d28cf11d9c9f8b49ddf0a7083e22ac27f1510bf5", "author": {"user": {"login": "bbejeck", "name": "Bill Bejeck"}}, "url": "https://github.com/apache/kafka/commit/d28cf11d9c9f8b49ddf0a7083e22ac27f1510bf5", "committedDate": "2020-02-27T15:15:09Z", "message": "MINOR: Put upgrade notable section at top"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1ODE4OTEy", "url": "https://github.com/apache/kafka/pull/8182#pullrequestreview-365818912", "createdAt": "2020-02-27T16:44:01Z", "commit": {"oid": "d28cf11d9c9f8b49ddf0a7083e22ac27f1510bf5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNjo0NDowMVrOFvYsaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNjo0NDowMVrOFvYsaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTIzMTk3Nw==", "bodyText": "I think this needs to go down below the upgrade_2_4_0 section.  See, for example, upgrade_221_notable and upgrade_111_notable sections, which appear below the upgrade_2_2_0 and upgrade_1_1_0 sections, respectively.", "url": "https://github.com/apache/kafka/pull/8182#discussion_r385231977", "createdAt": "2020-02-27T16:44:01Z", "author": {"login": "rondagostino"}, "path": "docs/upgrade.html", "diffHunk": "@@ -19,6 +19,17 @@\n \n <script id=\"upgrade-template\" type=\"text/x-handlebars-template\">\n \n+<h5><a id=\"upgrade_241_notable\" href=\"#upgrade_241_notable\">Notable changes in 2.4.1</a></h5>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d28cf11d9c9f8b49ddf0a7083e22ac27f1510bf5"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7afed00a02fe410c6b01af5bd03b5bfa25db32ae", "author": {"user": {"login": "bbejeck", "name": "Bill Bejeck"}}, "url": "https://github.com/apache/kafka/commit/7afed00a02fe410c6b01af5bd03b5bfa25db32ae", "committedDate": "2020-02-27T16:56:15Z", "message": "MINOR: Moving update notable back to 2.4 section"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1ODMxMjIy", "url": "https://github.com/apache/kafka/pull/8182#pullrequestreview-365831222", "createdAt": "2020-02-27T16:58:29Z", "commit": {"oid": "7afed00a02fe410c6b01af5bd03b5bfa25db32ae"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNjo1ODoyOVrOFvZRaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNjo1ODoyOVrOFvZRaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI0MTQ0OQ==", "bodyText": "From what I can see in the file, the notable notes for the current release go before the ones for the previous release.", "url": "https://github.com/apache/kafka/pull/8182#discussion_r385241449", "createdAt": "2020-02-27T16:58:29Z", "author": {"login": "bbejeck"}, "path": "docs/upgrade.html", "diffHunk": "@@ -82,6 +82,17 @@ <h4><a id=\"upgrade_2_4_0\" href=\"#upgrade_2_4_0\">Upgrading from 0.8.x, 0.9.x, 0.1\n     </li>\n </ol>\n \n+<h5><a id=\"upgrade_241_notable\" href=\"#upgrade_241_notable\">Notable changes in 2.4.1</a></h5>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7afed00a02fe410c6b01af5bd03b5bfa25db32ae"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1ODYwOTI4", "url": "https://github.com/apache/kafka/pull/8182#pullrequestreview-365860928", "createdAt": "2020-02-27T17:35:23Z", "commit": {"oid": "7afed00a02fe410c6b01af5bd03b5bfa25db32ae"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNzozNToyNFrOFvaoXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNzozNToyNFrOFvaoXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI2MzcxMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    For more details about the issue please refer to <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3056\">ZOOKEEPER-3056</a>.\n          \n          \n            \n                    For more information, see <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3056\">ZOOKEEPER-3056</a>.", "url": "https://github.com/apache/kafka/pull/8182#discussion_r385263710", "createdAt": "2020-02-27T17:35:24Z", "author": {"login": "JimGalasyn"}, "path": "docs/upgrade.html", "diffHunk": "@@ -82,6 +82,17 @@ <h4><a id=\"upgrade_2_4_0\" href=\"#upgrade_2_4_0\">Upgrading from 0.8.x, 0.9.x, 0.1\n     </li>\n </ol>\n \n+<h5><a id=\"upgrade_241_notable\" href=\"#upgrade_241_notable\">Notable changes in 2.4.1</a></h5>\n+<ul>\n+    <li>\n+        ZooKeeper has been upgraded to 3.5.7, and a ZooKeeper upgrade from 3.4.X to 3.5.7 can fail if there are no snapshot files in the 3.4 data directory.\n+        This usually happens in test upgrades where ZooKeeper 3.5.7 is trying to load an existing 3.4 data dir in which no snapshot file has been created.\n+        For more details about the issue please refer to <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3056\">ZOOKEEPER-3056</a>.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7afed00a02fe410c6b01af5bd03b5bfa25db32ae"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1ODYxNDk0", "url": "https://github.com/apache/kafka/pull/8182#pullrequestreview-365861494", "createdAt": "2020-02-27T17:36:12Z", "commit": {"oid": "7afed00a02fe410c6b01af5bd03b5bfa25db32ae"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNzozNjoxMlrOFvaqJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNzozNjoxMlrOFvaqJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI2NDE2NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    A fix is given in <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3056\">ZOOKEEPER-3056</a>, which is to set <code>snapshot.trust.empty=true</code>\n          \n          \n            \n                    A fix is given in <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3056\">ZOOKEEPER-3056</a>, which is to set the <code>snapshot.trust.empty=true</code>", "url": "https://github.com/apache/kafka/pull/8182#discussion_r385264165", "createdAt": "2020-02-27T17:36:12Z", "author": {"login": "JimGalasyn"}, "path": "docs/upgrade.html", "diffHunk": "@@ -82,6 +82,17 @@ <h4><a id=\"upgrade_2_4_0\" href=\"#upgrade_2_4_0\">Upgrading from 0.8.x, 0.9.x, 0.1\n     </li>\n </ol>\n \n+<h5><a id=\"upgrade_241_notable\" href=\"#upgrade_241_notable\">Notable changes in 2.4.1</a></h5>\n+<ul>\n+    <li>\n+        ZooKeeper has been upgraded to 3.5.7, and a ZooKeeper upgrade from 3.4.X to 3.5.7 can fail if there are no snapshot files in the 3.4 data directory.\n+        This usually happens in test upgrades where ZooKeeper 3.5.7 is trying to load an existing 3.4 data dir in which no snapshot file has been created.\n+        For more details about the issue please refer to <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3056\">ZOOKEEPER-3056</a>.\n+        A fix is given in <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3056\">ZOOKEEPER-3056</a>, which is to set <code>snapshot.trust.empty=true</code>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7afed00a02fe410c6b01af5bd03b5bfa25db32ae"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1ODYxNzI2", "url": "https://github.com/apache/kafka/pull/8182#pullrequestreview-365861726", "createdAt": "2020-02-27T17:36:36Z", "commit": {"oid": "7afed00a02fe410c6b01af5bd03b5bfa25db32ae"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1ODc5Mzky", "url": "https://github.com/apache/kafka/pull/8182#pullrequestreview-365879392", "createdAt": "2020-02-27T18:02:40Z", "commit": {"oid": "7afed00a02fe410c6b01af5bd03b5bfa25db32ae"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35616f95b9d1a83d5ecdf6632c88fa89a440883a", "author": {"user": {"login": "bbejeck", "name": "Bill Bejeck"}}, "url": "https://github.com/apache/kafka/commit/35616f95b9d1a83d5ecdf6632c88fa89a440883a", "committedDate": "2020-02-27T22:55:33Z", "message": "Apply suggestions from code review\n\nCo-Authored-By: Jim Galasyn <jim.galasyn@confluent.io>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1606, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}