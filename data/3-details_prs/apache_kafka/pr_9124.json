{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyOTQ1MjAy", "number": 9124, "title": "MINOR: add additional shutdown log info", "bodyText": "The purpose of this PR is to both enhance the visibility of shutdown progress for Kafka, as well as for the debugging purpose of a delayed process in between socket server close and eventually kafka server close.\nCommitter Checklist (excluded from commit message)\n\n Verify design and implementation\n Verify test coverage and CI build status\n Verify documentation (including upgrade notes)", "createdAt": "2020-08-04T19:01:23Z", "url": "https://github.com/apache/kafka/pull/9124", "merged": true, "mergeCommit": {"oid": "e9ebe39e7c693ef595c68cfe91ce4e3a68788e2c"}, "closed": true, "closedAt": "2020-08-05T05:07:17Z", "author": {"login": "abbccdda"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7rX1fAH2gAyNDYyOTQ1MjAyOmE0YWRjZmZkZGRjN2RiNzgzMjk1MDU3NTI1NGY5NzM5ZjE4ZTgzNmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7vxf2gFqTQ2MTI1NTYwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a4adcffdddc7db7832950575254f9739f18e836a", "author": {"user": {"login": "abbccdda", "name": "Boyang Chen"}}, "url": "https://github.com/apache/kafka/commit/a4adcffdddc7db7832950575254f9739f18e836a", "committedDate": "2020-08-04T18:59:34Z", "message": "add shutdown metrics"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMTQ3MzA1", "url": "https://github.com/apache/kafka/pull/9124#pullrequestreview-461147305", "createdAt": "2020-08-04T20:25:28Z", "commit": {"oid": "a4adcffdddc7db7832950575254f9739f18e836a"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoyNToyOFrOG7wP9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoyNjoyMFrOG7wReQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMwOTY4NQ==", "bodyText": "Would it be reasonable to add a message before closing each individual reporter?", "url": "https://github.com/apache/kafka/pull/9124#discussion_r465309685", "createdAt": "2020-08-04T20:25:28Z", "author": {"login": "hachikuji"}, "path": "clients/src/main/java/org/apache/kafka/common/metrics/Metrics.java", "diffHunk": "@@ -673,6 +673,8 @@ public void close() {\n                 log.error(\"Error when closing \" + reporter.getClass().getName(), e);\n             }\n         }\n+\n+        log.info(\"Metrics closed\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4adcffdddc7db7832950575254f9739f18e836a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMxMDA3Mw==", "bodyText": "nit: this one is probably overkill since we're just clearing collections.", "url": "https://github.com/apache/kafka/pull/9124#discussion_r465310073", "createdAt": "2020-08-04T20:26:20Z", "author": {"login": "hachikuji"}, "path": "core/src/main/scala/kafka/server/DynamicBrokerConfig.scala", "diffHunk": "@@ -225,6 +225,7 @@ class DynamicBrokerConfig(private val kafkaConfig: KafkaConfig) extends Logging\n     dynamicDefaultConfigs.clear()\n     reconfigurables.clear()\n     brokerReconfigurables.clear()\n+    info(s\"Dynamic configs cleared\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4adcffdddc7db7832950575254f9739f18e836a"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2063a05aaa855ad78ab1a5a31b2d8de80ef4a82e", "author": {"user": {"login": "abbccdda", "name": "Boyang Chen"}}, "url": "https://github.com/apache/kafka/commit/2063a05aaa855ad78ab1a5a31b2d8de80ef4a82e", "committedDate": "2020-08-04T20:38:26Z", "message": "address comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7e4ecf2a7bf3c797c4fcd1d2aceb078f91dc93a", "author": {"user": {"login": "abbccdda", "name": "Boyang Chen"}}, "url": "https://github.com/apache/kafka/commit/f7e4ecf2a7bf3c797c4fcd1d2aceb078f91dc93a", "committedDate": "2020-08-04T20:45:23Z", "message": "add printing for reporter class name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjU1NjA3", "url": "https://github.com/apache/kafka/pull/9124#pullrequestreview-461255607", "createdAt": "2020-08-05T00:07:13Z", "commit": {"oid": "f7e4ecf2a7bf3c797c4fcd1d2aceb078f91dc93a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1050, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}