{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwOTg1OTQ1", "number": 9204, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwNTozMjowNlrOE3EJzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwOTo1NTo0MlrOE3JcNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2MTc1MTgzOnYy", "diffSide": "RIGHT", "path": "core/src/main/scala/kafka/tools/DumpLogSegments.scala", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwNTozMjowNlrOHwMcBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwNzowODozN1rOHwOysw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI5NzQ3OA==", "bodyText": "isvalid -> \"isValid\"\nkeysize -> \"keySize\"\nvaluesize -> \"valueSize\"\ncompresscodec -> \"compressionType\"", "url": "https://github.com/apache/kafka/pull/9204#discussion_r520297478", "createdAt": "2020-11-10T05:32:06Z", "author": {"login": "chia7712"}, "path": "core/src/main/scala/kafka/tools/DumpLogSegments.scala", "diffHunk": "@@ -257,8 +257,11 @@ object DumpLogSegments {\n             }\n             lastOffset = record.offset\n \n-            print(s\"$RecordIndent offset: ${record.offset} ${batch.timestampType}: ${record.timestamp} \" +\n-              s\"keysize: ${record.keySize} valuesize: ${record.valueSize}\")\n+            print(s\"$RecordIndent offset: ${record.offset} baseOffset: ${batch.baseOffset} lastOffset: ${batch.lastOffset} baseSequence: ${} ${batch.baseSequence}\" +\n+             s\" lastSequence: ${batch.lastSequence} producerEpoch: ${batch.producerEpoch} partitionLeaderEpoch: ${batch.partitionLeaderEpoch} position: ${validBytes} \" +\n+             s\" ${batch.timestampType}: ${record.timestamp} isvalid: ${record.isValid}\"+\n+             s\" keysize: ${record.keySize} valuesize: ${record.valueSize} size: ${batch.sizeInBytes} magic: ${batch.magic} \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDMzNjA1MQ==", "bodyText": "@chia7712  Have seperated the record details from batch details. Also changed the entries to camel case. Please review this. Thanks.", "url": "https://github.com/apache/kafka/pull/9204#discussion_r520336051", "createdAt": "2020-11-10T07:08:37Z", "author": {"login": "iprithv"}, "path": "core/src/main/scala/kafka/tools/DumpLogSegments.scala", "diffHunk": "@@ -257,8 +257,11 @@ object DumpLogSegments {\n             }\n             lastOffset = record.offset\n \n-            print(s\"$RecordIndent offset: ${record.offset} ${batch.timestampType}: ${record.timestamp} \" +\n-              s\"keysize: ${record.keySize} valuesize: ${record.valueSize}\")\n+            print(s\"$RecordIndent offset: ${record.offset} baseOffset: ${batch.baseOffset} lastOffset: ${batch.lastOffset} baseSequence: ${} ${batch.baseSequence}\" +\n+             s\" lastSequence: ${batch.lastSequence} producerEpoch: ${batch.producerEpoch} partitionLeaderEpoch: ${batch.partitionLeaderEpoch} position: ${validBytes} \" +\n+             s\" ${batch.timestampType}: ${record.timestamp} isvalid: ${record.isValid}\"+\n+             s\" keysize: ${record.keySize} valuesize: ${record.valueSize} size: ${batch.sizeInBytes} magic: ${batch.magic} \" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI5NzQ3OA=="}, "originalCommit": null, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2MjYxODE1OnYy", "diffSide": "RIGHT", "path": "core/src/main/scala/kafka/tools/DumpLogSegments.scala", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwOTo1NTo0MlrOHwUo5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxMToyODowN1rOHwYQmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDQzMTg0Ng==", "bodyText": "size is unclear to me. How about batchSize?", "url": "https://github.com/apache/kafka/pull/9204#discussion_r520431846", "createdAt": "2020-11-10T09:55:42Z", "author": {"login": "chia7712"}, "path": "core/src/main/scala/kafka/tools/DumpLogSegments.scala", "diffHunk": "@@ -257,8 +257,12 @@ object DumpLogSegments {\n             }\n             lastOffset = record.offset\n \n-            print(s\"$RecordIndent offset: ${record.offset} ${batch.timestampType}: ${record.timestamp} \" +\n-              s\"keysize: ${record.keySize} valuesize: ${record.valueSize}\")\n+            print(s\"$RecordIndent offset: ${record.offset} isValid: ${record.isValid} crc: ${record.checksumOrNull} \"+\n+                s\" keySize: ${record.keySize} valueSize: ${record.valueSize} ${batch.timestampType}: ${record.timestamp} \"+\n+                s\" baseOffset: ${batch.baseOffset} lastOffset: ${batch.lastOffset} baseSequence: ${batch.baseSequence} \" +\n+                s\" lastSequence: ${batch.lastSequence} producerEpoch: ${batch.producerEpoch} partitionLeaderEpoch: ${batch.partitionLeaderEpoch}  \" +\n+                s\" size: ${batch.sizeInBytes} magic: ${batch.magic} compressType: ${batch.compressionType} position: ${validBytes} \")", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDQ5MTE2MA==", "bodyText": "Thanks @chia7712, makes sense. Have updated it.", "url": "https://github.com/apache/kafka/pull/9204#discussion_r520491160", "createdAt": "2020-11-10T11:28:07Z", "author": {"login": "iprithv"}, "path": "core/src/main/scala/kafka/tools/DumpLogSegments.scala", "diffHunk": "@@ -257,8 +257,12 @@ object DumpLogSegments {\n             }\n             lastOffset = record.offset\n \n-            print(s\"$RecordIndent offset: ${record.offset} ${batch.timestampType}: ${record.timestamp} \" +\n-              s\"keysize: ${record.keySize} valuesize: ${record.valueSize}\")\n+            print(s\"$RecordIndent offset: ${record.offset} isValid: ${record.isValid} crc: ${record.checksumOrNull} \"+\n+                s\" keySize: ${record.keySize} valueSize: ${record.valueSize} ${batch.timestampType}: ${record.timestamp} \"+\n+                s\" baseOffset: ${batch.baseOffset} lastOffset: ${batch.lastOffset} baseSequence: ${batch.baseSequence} \" +\n+                s\" lastSequence: ${batch.lastSequence} producerEpoch: ${batch.producerEpoch} partitionLeaderEpoch: ${batch.partitionLeaderEpoch}  \" +\n+                s\" size: ${batch.sizeInBytes} magic: ${batch.magic} compressType: ${batch.compressionType} position: ${validBytes} \")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDQzMTg0Ng=="}, "originalCommit": null, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1941, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}