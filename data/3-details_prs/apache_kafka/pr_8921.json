{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4ODkwOTY4", "number": 8921, "title": "KAFKA-10160: Kafka MM2 consumer configuration", "bodyText": "Removed hardcoded auto.offset.reset in MM2 consumer configuration, retained default as earliest unless specified.\nCommitter Checklist (excluded from commit message)\n\n[*] Verify design and implementation\n Verify test coverage and CI build status\n Verify documentation (including upgrade notes)", "createdAt": "2020-06-24T00:24:57Z", "url": "https://github.com/apache/kafka/pull/8921", "merged": true, "mergeCommit": {"oid": "2eb10ecac214ccb28ca1b29a368d836e435f1637"}, "closed": true, "closedAt": "2020-07-16T09:10:46Z", "author": {"login": "satishbellapu"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuOlpBgH2gAyNDM4ODkwOTY4Ojc1YjFjNzc1NDJmZTgyNjliODlmYjRmMjA5NTIwYmI1OWU3MGNhM2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1bfiQgFqTQ0OTY1OTgxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "75b1c77542fe8269b89fb4f209520bb59e70ca3e", "author": {"user": {"login": "satishbellapu", "name": "Satish Bellapu"}}, "url": "https://github.com/apache/kafka/commit/75b1c77542fe8269b89fb4f209520bb59e70ca3e", "committedDate": "2020-06-24T00:06:23Z", "message": "Update MirrorConnectorConfig.java\n\nKAFKA-10160: Removed hardcoded auto.offset.reset in MM2 consumer configuration, defaults to earliest unless specified."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2MjQ3Nzky", "url": "https://github.com/apache/kafka/pull/8921#pullrequestreview-436247792", "createdAt": "2020-06-24T00:32:45Z", "commit": {"oid": "75b1c77542fe8269b89fb4f209520bb59e70ca3e"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwMDozMjo0NVrOGn_BUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwMDozMjo0NVrOGn_BUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU4MDE3Ng==", "bodyText": "can leave off \"unless specified\" -- is redundant with \"default\".", "url": "https://github.com/apache/kafka/pull/8921#discussion_r444580176", "createdAt": "2020-06-24T00:32:45Z", "author": {"login": "ryannedolan"}, "path": "connect/mirror/src/main/java/org/apache/kafka/connect/mirror/MirrorConnectorConfig.java", "diffHunk": "@@ -123,6 +125,10 @@\n     private static final String CONSUMER_POLL_TIMEOUT_MILLIS_DOC = \"Timeout when polling source cluster.\";\n     public static final long CONSUMER_POLL_TIMEOUT_MILLIS_DEFAULT = 1000L;\n \n+    public static final String CONSUMER_AUTO_OFFSET_RESET = \"consumer.auto.offset.reset\";\n+    private static final String CONSUMER_AUTO_OFFSET_RESET_DOC = \"Consumer Auto offset reset, defaults to earliest unless specify.\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "75b1c77542fe8269b89fb4f209520bb59e70ca3e"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8594842653c4d944d8ddc403add123dee62bc8f3", "author": {"user": {"login": "satishbellapu", "name": "Satish Bellapu"}}, "url": "https://github.com/apache/kafka/commit/8594842653c4d944d8ddc403add123dee62bc8f3", "committedDate": "2020-06-24T00:55:30Z", "message": "KAFKA-10160: Kafka MM2 consumer configuration\n\nupdated the doc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNTA4MTg2", "url": "https://github.com/apache/kafka/pull/8921#pullrequestreview-441508186", "createdAt": "2020-07-02T09:29:09Z", "commit": {"oid": "8594842653c4d944d8ddc403add123dee62bc8f3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwOToyOTowOVrOGsE_oA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwOTo0NTo1M1rOGsFmDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg3MjM1Mg==", "bodyText": "Can we reuse ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG instead of defining a new constant?", "url": "https://github.com/apache/kafka/pull/8921#discussion_r448872352", "createdAt": "2020-07-02T09:29:09Z", "author": {"login": "mimaison"}, "path": "connect/mirror/src/main/java/org/apache/kafka/connect/mirror/MirrorConnectorConfig.java", "diffHunk": "@@ -67,6 +67,8 @@\n     protected static final String SYNC_TOPIC_ACLS = \"sync.topic.acls\";\n     protected static final String EMIT_HEARTBEATS = \"emit.heartbeats\";\n     protected static final String EMIT_CHECKPOINTS = \"emit.checkpoints\";\n+    protected static final String AUTH_OFFSET_RESET = \"auto.offset.reset\";\n+    protected static final String ENABLE_AUTO_COMMIT = \"enable.auto.commit\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8594842653c4d944d8ddc403add123dee62bc8f3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg3MjgxNQ==", "bodyText": "Can we reuse ConsumerConfig.AUTO_OFFSET_RESET_CONFIG instead of defining a new constant?", "url": "https://github.com/apache/kafka/pull/8921#discussion_r448872815", "createdAt": "2020-07-02T09:29:51Z", "author": {"login": "mimaison"}, "path": "connect/mirror/src/main/java/org/apache/kafka/connect/mirror/MirrorConnectorConfig.java", "diffHunk": "@@ -67,6 +67,8 @@\n     protected static final String SYNC_TOPIC_ACLS = \"sync.topic.acls\";\n     protected static final String EMIT_HEARTBEATS = \"emit.heartbeats\";\n     protected static final String EMIT_CHECKPOINTS = \"emit.checkpoints\";\n+    protected static final String AUTH_OFFSET_RESET = \"auto.offset.reset\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8594842653c4d944d8ddc403add123dee62bc8f3"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg4MjE4OA==", "bodyText": "If a user sets somesource->sometarget.consumer.auto.offset.reset=latest that should be picked up by line 235-237.\nSo instead of defining a new config on MirrorConnectorConfig, could we do something like:\nprops.putIfAbsent(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"earliest\");\nWDYT?", "url": "https://github.com/apache/kafka/pull/8921#discussion_r448882188", "createdAt": "2020-07-02T09:45:53Z", "author": {"login": "mimaison"}, "path": "connect/mirror/src/main/java/org/apache/kafka/connect/mirror/MirrorConnectorConfig.java", "diffHunk": "@@ -229,8 +235,8 @@ Duration adminTimeout() {\n         props.putAll(originalsWithPrefix(SOURCE_CLUSTER_PREFIX));\n         props.keySet().retainAll(MirrorClientConfig.CLIENT_CONFIG_DEF.names());\n         props.putAll(originalsWithPrefix(CONSUMER_CLIENT_PREFIX));\n-        props.put(\"enable.auto.commit\", \"false\");\n-        props.put(\"auto.offset.reset\", \"earliest\");\n+        props.put(ENABLE_AUTO_COMMIT, \"false\");\n+        props.put(AUTH_OFFSET_RESET, CONSUMER_AUTO_OFFSET_RESET);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8594842653c4d944d8ddc403add123dee62bc8f3"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce7aa32dc402163fdfe4587be2b3042987ec0613", "author": {"user": {"login": "satishbellapu", "name": "Satish Bellapu"}}, "url": "https://github.com/apache/kafka/commit/ce7aa32dc402163fdfe4587be2b3042987ec0613", "committedDate": "2020-07-04T01:25:02Z", "message": "Improved the fix based on the review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eaee882ee0141be107854262fc1bfde9a6a521dc", "author": {"user": {"login": "satishbellapu", "name": "Satish Bellapu"}}, "url": "https://github.com/apache/kafka/commit/eaee882ee0141be107854262fc1bfde9a6a521dc", "committedDate": "2020-07-12T04:25:21Z", "message": "Added testcases"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MzI2MTg5", "url": "https://github.com/apache/kafka/pull/8921#pullrequestreview-448326189", "createdAt": "2020-07-14T17:42:29Z", "commit": {"oid": "eaee882ee0141be107854262fc1bfde9a6a521dc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NjU5ODE0", "url": "https://github.com/apache/kafka/pull/8921#pullrequestreview-449659814", "createdAt": "2020-07-16T09:05:57Z", "commit": {"oid": "eaee882ee0141be107854262fc1bfde9a6a521dc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 717, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}