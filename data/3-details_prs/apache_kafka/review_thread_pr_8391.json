{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2MDgyNDUy", "number": 8391, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNjo1ODoxMVrODs-JDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNjo1ODoyMVrODs-JQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4NDgyMDYyOnYy", "diffSide": "RIGHT", "path": "core/src/main/scala/kafka/security/auth/Operation.scala", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNjo1ODoxMVrOF-HwMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxNjowMzoxNlrOF-dFUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY4MzA1OQ==", "bodyText": "nit: Can we use error message similar to fromString method?", "url": "https://github.com/apache/kafka/pull/8391#discussion_r400683059", "createdAt": "2020-03-31T06:58:11Z", "author": {"login": "omkreddy"}, "path": "core/src/main/scala/kafka/security/auth/Operation.scala", "diffHunk": "@@ -91,7 +91,22 @@ object Operation {\n     op.getOrElse(throw new KafkaException(operation + \" not a valid operation name. The valid names are \" + values.mkString(\",\")))\n   }\n \n-  def fromJava(operation: AclOperation): Operation = fromString(operation.toString.replaceAll(\"_\", \"\"))\n+  def fromJava(operation: AclOperation): Operation = {\n+    operation match {\n+      case AclOperation.READ => Read\n+      case AclOperation.WRITE => Write\n+      case AclOperation.CREATE => Create\n+      case AclOperation.DELETE => Delete\n+      case AclOperation.ALTER => Alter\n+      case AclOperation.DESCRIBE => Describe\n+      case AclOperation.CLUSTER_ACTION => ClusterAction\n+      case AclOperation.ALTER_CONFIGS => AlterConfigs\n+      case AclOperation.DESCRIBE_CONFIGS => DescribeConfigs\n+      case AclOperation.IDEMPOTENT_WRITE => IdempotentWrite\n+      case AclOperation.ALL => All\n+      case _ => throw new KafkaException(\"Unexpected conversion of operation \" + operation)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e84e48d87f2887235dfc741b3e535d4ff7d7999"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTAzMjUyOQ==", "bodyText": "I've made the error messages close to each other.", "url": "https://github.com/apache/kafka/pull/8391#discussion_r401032529", "createdAt": "2020-03-31T16:03:16Z", "author": {"login": "lbradstreet"}, "path": "core/src/main/scala/kafka/security/auth/Operation.scala", "diffHunk": "@@ -91,7 +91,22 @@ object Operation {\n     op.getOrElse(throw new KafkaException(operation + \" not a valid operation name. The valid names are \" + values.mkString(\",\")))\n   }\n \n-  def fromJava(operation: AclOperation): Operation = fromString(operation.toString.replaceAll(\"_\", \"\"))\n+  def fromJava(operation: AclOperation): Operation = {\n+    operation match {\n+      case AclOperation.READ => Read\n+      case AclOperation.WRITE => Write\n+      case AclOperation.CREATE => Create\n+      case AclOperation.DELETE => Delete\n+      case AclOperation.ALTER => Alter\n+      case AclOperation.DESCRIBE => Describe\n+      case AclOperation.CLUSTER_ACTION => ClusterAction\n+      case AclOperation.ALTER_CONFIGS => AlterConfigs\n+      case AclOperation.DESCRIBE_CONFIGS => DescribeConfigs\n+      case AclOperation.IDEMPOTENT_WRITE => IdempotentWrite\n+      case AclOperation.ALL => All\n+      case _ => throw new KafkaException(\"Unexpected conversion of operation \" + operation)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY4MzA1OQ=="}, "originalCommit": {"oid": "6e84e48d87f2887235dfc741b3e535d4ff7d7999"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4NDgyMTEzOnYy", "diffSide": "RIGHT", "path": "core/src/main/scala/kafka/security/auth/ResourceType.scala", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNjo1ODoyMVrOF-HwfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxNjowMzo1N1rOF-dHNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY4MzEzMw==", "bodyText": "nit: Can we use error message similar to fromString method?", "url": "https://github.com/apache/kafka/pull/8391#discussion_r400683133", "createdAt": "2020-03-31T06:58:21Z", "author": {"login": "omkreddy"}, "path": "core/src/main/scala/kafka/security/auth/ResourceType.scala", "diffHunk": "@@ -80,5 +80,14 @@ object ResourceType {\n \n   def values: Seq[ResourceType] = List(Topic, Group, Cluster, TransactionalId, DelegationToken)\n \n-  def fromJava(operation: JResourceType): ResourceType = fromString(operation.toString.replaceAll(\"_\", \"\"))\n+  def fromJava(resourceType: JResourceType): ResourceType = {\n+    resourceType match {\n+      case JResourceType.TOPIC => Topic\n+      case JResourceType.GROUP => Group\n+      case JResourceType.CLUSTER => Cluster\n+      case JResourceType.TRANSACTIONAL_ID => TransactionalId\n+      case JResourceType.DELEGATION_TOKEN => DelegationToken\n+      case _ => throw new KafkaException(\"Unexpected conversion of operation \" + resourceType)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e84e48d87f2887235dfc741b3e535d4ff7d7999"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTAzMzAxNA==", "bodyText": "I've made the error messages close to each other.", "url": "https://github.com/apache/kafka/pull/8391#discussion_r401033014", "createdAt": "2020-03-31T16:03:57Z", "author": {"login": "lbradstreet"}, "path": "core/src/main/scala/kafka/security/auth/ResourceType.scala", "diffHunk": "@@ -80,5 +80,14 @@ object ResourceType {\n \n   def values: Seq[ResourceType] = List(Topic, Group, Cluster, TransactionalId, DelegationToken)\n \n-  def fromJava(operation: JResourceType): ResourceType = fromString(operation.toString.replaceAll(\"_\", \"\"))\n+  def fromJava(resourceType: JResourceType): ResourceType = {\n+    resourceType match {\n+      case JResourceType.TOPIC => Topic\n+      case JResourceType.GROUP => Group\n+      case JResourceType.CLUSTER => Cluster\n+      case JResourceType.TRANSACTIONAL_ID => TransactionalId\n+      case JResourceType.DELEGATION_TOKEN => DelegationToken\n+      case _ => throw new KafkaException(\"Unexpected conversion of operation \" + resourceType)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY4MzEzMw=="}, "originalCommit": {"oid": "6e84e48d87f2887235dfc741b3e535d4ff7d7999"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3156, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}