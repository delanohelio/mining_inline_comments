{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5NjUwMjU4", "number": 8562, "title": "Test compilation fixes for Scala 2.11", "bodyText": "What\nEarlier log test changes went into trunk (for KAFKA-9807, KAFKA-9838) and were cherry-picked to 2.4, but they broke the Scala 2.11 build.\nThis change cherry-picks the fixes needed to make those tests build for 2.11.\nTesting\nThese are compilation errors; rebuild and ran unit tests.\nCommitter Checklist (excluded from commit message)\n\n Verify design and implementation\n Verify test coverage and CI build status\n Verify documentation (including upgrade notes)", "createdAt": "2020-04-27T17:49:15Z", "url": "https://github.com/apache/kafka/pull/8562", "merged": true, "mergeCommit": {"oid": "32e43921bee696b535f10bec6cb9bf5d6a3330e1"}, "closed": true, "closedAt": "2020-04-28T21:49:33Z", "author": {"login": "steverod"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcby04VgH2gAyNDA5NjUwMjU4OmJlNzQzYWUxMTlkNTZlMzI0NWJkYjhkOWUzZjQzMGYwNjQ3NzYxOWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccHYelAFqTQwMjA2MDQ1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "be743ae119d56e3245bdb8d9e3f430f06477619b", "author": {"user": {"login": "hachikuji", "name": "Jason Gustafson"}}, "url": "https://github.com/apache/kafka/commit/be743ae119d56e3245bdb8d9e3f430f06477619b", "committedDate": "2020-04-27T17:35:03Z", "message": "Fix 2.11 compatibility issue with LogConcurrencyTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15634c7e4976775f4d41f5cb41279cf7a741d137", "author": {"user": {"login": "rohitshekhar29", "name": "Rohit Shekhar"}}, "url": "https://github.com/apache/kafka/commit/15634c7e4976775f4d41f5cb41279cf7a741d137", "committedDate": "2020-04-27T17:38:26Z", "message": "Fixed various scala 2.11 issues found during merge. (#297)\n\nReviewer: lucas@confluent.io"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMDE3NDU2", "url": "https://github.com/apache/kafka/pull/8562#pullrequestreview-402017456", "createdAt": "2020-04-28T16:38:10Z", "commit": {"oid": "15634c7e4976775f4d41f5cb41279cf7a741d137"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNjozODoxMFrOGNdCxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNjozODoxMFrOGNdCxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc2MDUxOQ==", "bodyText": "nit: inline usage like this is generally reserved for operators like +", "url": "https://github.com/apache/kafka/pull/8562#discussion_r416760519", "createdAt": "2020-04-28T16:38:10Z", "author": {"login": "hachikuji"}, "path": "core/src/test/scala/unit/kafka/server/ReplicaAlterLogDirsThreadTest.scala", "diffHunk": "@@ -243,9 +245,9 @@ class ReplicaAlterLogDirsThreadTest {\n       responseCallback = callbackCaptor.capture(),\n       isolationLevel = ArgumentMatchers.eq(IsolationLevel.READ_UNCOMMITTED),\n       clientMetadata = ArgumentMatchers.eq(None)\n-    )).thenAnswer(_ => {\n-      callbackCaptor.getValue.apply(Seq((topicPartition, responseData)))\n-    })\n+    )) thenAnswer new Answer[Unit] {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15634c7e4976775f4d41f5cb41279cf7a741d137"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMDE3NTQx", "url": "https://github.com/apache/kafka/pull/8562#pullrequestreview-402017541", "createdAt": "2020-04-28T16:38:16Z", "commit": {"oid": "15634c7e4976775f4d41f5cb41279cf7a741d137"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNjozODoxNlrOGNdDDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNjozODoxNlrOGNdDDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc2MDU4OA==", "bodyText": "Should we keep the . before thenAnswer and use []? The existing convention is the following.\n      when(...)\n      .thenAnswer(new Answer[Unit] {\n          override def answer(invocation: InvocationOnMock): Unit = {\n             ...\n          }\n        })", "url": "https://github.com/apache/kafka/pull/8562#discussion_r416760588", "createdAt": "2020-04-28T16:38:16Z", "author": {"login": "junrao"}, "path": "core/src/test/scala/unit/kafka/server/ReplicaAlterLogDirsThreadTest.scala", "diffHunk": "@@ -243,9 +245,9 @@ class ReplicaAlterLogDirsThreadTest {\n       responseCallback = callbackCaptor.capture(),\n       isolationLevel = ArgumentMatchers.eq(IsolationLevel.READ_UNCOMMITTED),\n       clientMetadata = ArgumentMatchers.eq(None)\n-    )).thenAnswer(_ => {\n-      callbackCaptor.getValue.apply(Seq((topicPartition, responseData)))\n-    })\n+    )) thenAnswer new Answer[Unit] {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15634c7e4976775f4d41f5cb41279cf7a741d137"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36ca569a7754f6e86debdaa6a84f29bd471ddd7e", "author": {"user": {"login": "steverod", "name": "Steve Rodrigues"}}, "url": "https://github.com/apache/kafka/commit/36ca569a7754f6e86debdaa6a84f29bd471ddd7e", "committedDate": "2020-04-28T17:28:18Z", "message": "Review feedback: Remove inline notation and follow coding standards."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMDYwNDUw", "url": "https://github.com/apache/kafka/pull/8562#pullrequestreview-402060450", "createdAt": "2020-04-28T17:32:03Z", "commit": {"oid": "36ca569a7754f6e86debdaa6a84f29bd471ddd7e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1239, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}