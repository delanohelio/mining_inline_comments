{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwOTg1OTQ1", "number": 9204, "title": "KAFKA-6181 Examining log messages with {{--deep-iteration}} should show superset of fields", "bodyText": "adding missing fields for --deep-iteration log messages.\nMissing fields include : partitionLeaderEpoch, baseSequence, lastSequence, etc.,", "createdAt": "2020-08-20T15:23:19Z", "url": "https://github.com/apache/kafka/pull/9204", "merged": true, "mergeCommit": {"oid": "6e3bf1eaab55db531b298dc018779b9cece1e165"}, "closed": true, "closedAt": "2020-11-21T07:55:47Z", "author": {"login": "iprithv"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbCkbBgFqTUyNjg2NTA1Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdd8j-LAH2gAyNDcwOTg1OTQ1OjE3M2RlOGUxMmRlZGFmOTAzYWU4MDg3NzM5ODRmYTY4M2JhODcwYWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2ODY1MDUy", "url": "https://github.com/apache/kafka/pull/9204#pullrequestreview-526865052", "createdAt": "2020-11-10T05:32:06Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwNTozMjowNlrOHwMcBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwNTozMjowNlrOHwMcBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI5NzQ3OA==", "bodyText": "isvalid -> \"isValid\"\nkeysize -> \"keySize\"\nvaluesize -> \"valueSize\"\ncompresscodec -> \"compressionType\"", "url": "https://github.com/apache/kafka/pull/9204#discussion_r520297478", "createdAt": "2020-11-10T05:32:06Z", "author": {"login": "chia7712"}, "path": "core/src/main/scala/kafka/tools/DumpLogSegments.scala", "diffHunk": "@@ -257,8 +257,11 @@ object DumpLogSegments {\n             }\n             lastOffset = record.offset\n \n-            print(s\"$RecordIndent offset: ${record.offset} ${batch.timestampType}: ${record.timestamp} \" +\n-              s\"keysize: ${record.keySize} valuesize: ${record.valueSize}\")\n+            print(s\"$RecordIndent offset: ${record.offset} baseOffset: ${batch.baseOffset} lastOffset: ${batch.lastOffset} baseSequence: ${} ${batch.baseSequence}\" +\n+             s\" lastSequence: ${batch.lastSequence} producerEpoch: ${batch.producerEpoch} partitionLeaderEpoch: ${batch.partitionLeaderEpoch} position: ${validBytes} \" +\n+             s\" ${batch.timestampType}: ${record.timestamp} isvalid: ${record.isValid}\"+\n+             s\" keysize: ${record.keySize} valuesize: ${record.valueSize} size: ${batch.sizeInBytes} magic: ${batch.magic} \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3MDMzNTE5", "url": "https://github.com/apache/kafka/pull/9204#pullrequestreview-527033519", "createdAt": "2020-11-10T09:55:41Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwOTo1NTo0MlrOHwUo5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwOTo1NTo0MlrOHwUo5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDQzMTg0Ng==", "bodyText": "size is unclear to me. How about batchSize?", "url": "https://github.com/apache/kafka/pull/9204#discussion_r520431846", "createdAt": "2020-11-10T09:55:42Z", "author": {"login": "chia7712"}, "path": "core/src/main/scala/kafka/tools/DumpLogSegments.scala", "diffHunk": "@@ -257,8 +257,12 @@ object DumpLogSegments {\n             }\n             lastOffset = record.offset\n \n-            print(s\"$RecordIndent offset: ${record.offset} ${batch.timestampType}: ${record.timestamp} \" +\n-              s\"keysize: ${record.keySize} valuesize: ${record.valueSize}\")\n+            print(s\"$RecordIndent offset: ${record.offset} isValid: ${record.isValid} crc: ${record.checksumOrNull} \"+\n+                s\" keySize: ${record.keySize} valueSize: ${record.valueSize} ${batch.timestampType}: ${record.timestamp} \"+\n+                s\" baseOffset: ${batch.baseOffset} lastOffset: ${batch.lastOffset} baseSequence: ${batch.baseSequence} \" +\n+                s\" lastSequence: ${batch.lastSequence} producerEpoch: ${batch.producerEpoch} partitionLeaderEpoch: ${batch.partitionLeaderEpoch}  \" +\n+                s\" size: ${batch.sizeInBytes} magic: ${batch.magic} compressType: ${batch.compressionType} position: ${validBytes} \")", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3MTMzNjk0", "url": "https://github.com/apache/kafka/pull/9204#pullrequestreview-527133694", "createdAt": "2020-11-10T12:03:20Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ca5d8ddc98d7d800d99a697f95c6eaa9330ab2f", "author": {"user": null}, "url": "https://github.com/apache/kafka/commit/2ca5d8ddc98d7d800d99a697f95c6eaa9330ab2f", "committedDate": "2020-11-19T06:14:38Z", "message": "Added superset of fields for log messages of {{--deep-iteration}}"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "396097dc3423b7871fb55d00fc8f43b86ff23c50", "author": {"user": null}, "url": "https://github.com/apache/kafka/commit/396097dc3423b7871fb55d00fc8f43b86ff23c50", "committedDate": "2020-11-19T06:14:38Z", "message": "nit changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09624b0a7dc44412911378085924e385da7bb54f", "author": {"user": null}, "url": "https://github.com/apache/kafka/commit/09624b0a7dc44412911378085924e385da7bb54f", "committedDate": "2020-11-19T06:14:38Z", "message": "nit changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "173de8e12dedaf903ae808773984fa683ba870ae", "author": {"user": {"login": "iprithv", "name": "Prithvi"}}, "url": "https://github.com/apache/kafka/commit/173de8e12dedaf903ae808773984fa683ba870ae", "committedDate": "2020-11-19T06:14:38Z", "message": "Update DumpLogSegments.scala\n\nnit"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 793, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}