{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzOTExMTQy", "number": 9131, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODowODozM1rOEV8Arg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODoxMDo1MVrOEV8D3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNDM4NzY2OnYy", "diffSide": "RIGHT", "path": "streams/examples/src/main/java/org/apache/kafka/streams/examples/wordcount/WordCountDemo.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODowODozM1rOG8-tQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODowODozM1rOG8-tQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5NTEzNw==", "bodyText": "For args.length > 1 should we log a warning that some parameters are ignored and still use the first parameter as file name? -- Just ignoring all arguments silently (if there is more than one) seems not ideal?", "url": "https://github.com/apache/kafka/pull/9131#discussion_r466595137", "createdAt": "2020-08-06T18:08:33Z", "author": {"login": "mjsax"}, "path": "streams/examples/src/main/java/org/apache/kafka/streams/examples/wordcount/WordCountDemo.java", "diffHunk": "@@ -47,18 +49,23 @@\n     public static final String INPUT_TOPIC = \"streams-plaintext-input\";\n     public static final String OUTPUT_TOPIC = \"streams-wordcount-output\";\n \n-    static Properties getStreamsConfig() {\n+    static Properties getStreamsConfig(final String[] args) throws IOException {\n         final Properties props = new Properties();\n-        props.put(StreamsConfig.APPLICATION_ID_CONFIG, \"streams-wordcount\");\n-        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\n-        props.put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, 0);\n-        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n-        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n+        if (args != null && args.length == 1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2a4683b2656802ef56e083275cf42e21c289939"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNDM5MDUxOnYy", "diffSide": "RIGHT", "path": "streams/examples/src/test/java/org/apache/kafka/streams/examples/wordcount/WordCountDemoTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODowOToxOFrOG8-u9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODowOToxOFrOG8-u9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5NTU3Mw==", "bodyText": "Nit: We can just pass in null ?", "url": "https://github.com/apache/kafka/pull/9131#discussion_r466595573", "createdAt": "2020-08-06T18:09:18Z", "author": {"login": "mjsax"}, "path": "streams/examples/src/test/java/org/apache/kafka/streams/examples/wordcount/WordCountDemoTest.java", "diffHunk": "@@ -47,11 +48,11 @@\n     private TestOutputTopic<String, Long> outputTopic;\n \n     @Before\n-    public void setup() {\n+    public void setup() throws IOException {\n         final StreamsBuilder builder = new StreamsBuilder();\n         //Create Actual Stream Processing pipeline\n         WordCountDemo.createWordCountStream(builder);\n-        testDriver = new TopologyTestDriver(builder.build(), WordCountDemo.getStreamsConfig());\n+        testDriver = new TopologyTestDriver(builder.build(), WordCountDemo.getStreamsConfig(new String[] {}));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2a4683b2656802ef56e083275cf42e21c289939"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNDM5MzUxOnYy", "diffSide": "RIGHT", "path": "streams/examples/src/main/java/org/apache/kafka/streams/examples/wordcount/WordCountDemo.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODoxMDoxM1rOG8-w1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODoxMDoxM1rOG8-w1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5NjA1NA==", "bodyText": "I think this must be final, too", "url": "https://github.com/apache/kafka/pull/9131#discussion_r466596054", "createdAt": "2020-08-06T18:10:13Z", "author": {"login": "mjsax"}, "path": "streams/examples/src/main/java/org/apache/kafka/streams/examples/wordcount/WordCountDemo.java", "diffHunk": "@@ -47,18 +49,23 @@\n     public static final String INPUT_TOPIC = \"streams-plaintext-input\";\n     public static final String OUTPUT_TOPIC = \"streams-wordcount-output\";\n \n-    static Properties getStreamsConfig() {\n+    static Properties getStreamsConfig(final String[] args) throws IOException {\n         final Properties props = new Properties();\n-        props.put(StreamsConfig.APPLICATION_ID_CONFIG, \"streams-wordcount\");\n-        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\n-        props.put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, 0);\n-        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n-        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n+        if (args != null && args.length == 1) {\n+            try (FileInputStream fis = new FileInputStream(args[0])) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2a4683b2656802ef56e083275cf42e21c289939"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNDM5NTQ3OnYy", "diffSide": "RIGHT", "path": "streams/examples/src/main/java/org/apache/kafka/streams/examples/wordcount/WordCountProcessorDemo.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODoxMDo0NVrOG8-yFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODoxMDo0NVrOG8-yFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5NjM3Mw==", "bodyText": "Missing try block to close the FileInputStream properly", "url": "https://github.com/apache/kafka/pull/9131#discussion_r466596373", "createdAt": "2020-08-06T18:10:45Z", "author": {"login": "mjsax"}, "path": "streams/examples/src/main/java/org/apache/kafka/streams/examples/wordcount/WordCountProcessorDemo.java", "diffHunk": "@@ -101,16 +103,20 @@ public void close() {}\n         }\n     }\n \n-    public static void main(final String[] args) {\n+    public static void main(final String[] args) throws IOException {\n         final Properties props = new Properties();\n-        props.put(StreamsConfig.APPLICATION_ID_CONFIG, \"streams-wordcount-processor\");\n-        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\n-        props.put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, 0);\n-        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n-        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n+        if (args != null && args.length == 1) {\n+            props.load(new FileInputStream(args[0]));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2a4683b2656802ef56e083275cf42e21c289939"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNDM5NTgwOnYy", "diffSide": "RIGHT", "path": "streams/examples/src/main/java/org/apache/kafka/streams/examples/wordcount/WordCountTransformerDemo.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODoxMDo1MVrOG8-ySw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODoxMDo1MVrOG8-ySw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5NjQyNw==", "bodyText": "as above", "url": "https://github.com/apache/kafka/pull/9131#discussion_r466596427", "createdAt": "2020-08-06T18:10:51Z", "author": {"login": "mjsax"}, "path": "streams/examples/src/main/java/org/apache/kafka/streams/examples/wordcount/WordCountTransformerDemo.java", "diffHunk": "@@ -120,16 +122,19 @@ public void close() {}\n         }\n     }\n \n-    public static void main(final String[] args) {\n+    public static void main(final String[] args) throws IOException {\n         final Properties props = new Properties();\n-        props.put(StreamsConfig.APPLICATION_ID_CONFIG, \"streams-wordcount-transformer\");\n-        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\n-        props.put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, 0);\n-        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n-        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n+        if (args != null && args.length == 1) {\n+            props.load(new FileInputStream(args[0]));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2a4683b2656802ef56e083275cf42e21c289939"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2109, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}