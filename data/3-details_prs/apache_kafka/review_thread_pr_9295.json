{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4MzIwNjcx", "number": 9295, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxOToxNzoxOVrOElTG4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxOToyMzoxOFrOElTIWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NTQ1ODI2OnYy", "diffSide": "RIGHT", "path": "clients/src/main/java/org/apache/kafka/clients/consumer/internals/AbstractCoordinator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxOToxNzoxOVrOHUt2MQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxOToxNzoxOVrOHUt2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ4NDcyMQ==", "bodyText": "Why promote it from debug to info while leaving others debug?", "url": "https://github.com/apache/kafka/pull/9295#discussion_r491484721", "createdAt": "2020-09-19T19:17:19Z", "author": {"login": "guozhangwang"}, "path": "clients/src/main/java/org/apache/kafka/clients/consumer/internals/AbstractCoordinator.java", "diffHunk": "@@ -598,11 +598,12 @@ public void handle(JoinGroupResponse joinResponse, RequestFuture<ByteBuffer> fut\n                     }\n                 }\n             } else if (error == Errors.COORDINATOR_LOAD_IN_PROGRESS) {\n-                log.debug(\"Attempt to join group rejected since coordinator {} is loading the group.\", coordinator());\n+                log.debug(\"JoinGroup failed: Coordinator {} is loading the group.\", coordinator());\n                 // backoff and retry\n                 future.raise(error);\n             } else if (error == Errors.UNKNOWN_MEMBER_ID) {\n-                log.debug(\"Attempt to join group failed due to unknown member id with {}.\", sentGeneration);\n+                log.info(\"JoinGroup failed: {} Need to re-join the group. Sent generation was {}\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d827a95392a8c408753e1e64607953558ce1293f"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NTQ2MjAwOnYy", "diffSide": "RIGHT", "path": "clients/src/main/java/org/apache/kafka/clients/consumer/internals/AbstractCoordinator.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxOToyMzoxOFrOHUt39g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQyMjo0NjowOFrOHYWR3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ4NTE3NA==", "bodyText": "Ditto here, if we think we should pay attention to any errors excluding things like coordinator loading in progress let's just make them all info.", "url": "https://github.com/apache/kafka/pull/9295#discussion_r491485174", "createdAt": "2020-09-19T19:23:18Z", "author": {"login": "guozhangwang"}, "path": "clients/src/main/java/org/apache/kafka/clients/consumer/internals/AbstractCoordinator.java", "diffHunk": "@@ -769,24 +771,27 @@ public void handle(SyncGroupResponse syncResponse,\n                 if (error == Errors.GROUP_AUTHORIZATION_FAILED) {\n                     future.raise(GroupAuthorizationException.forGroupId(rebalanceConfig.groupId));\n                 } else if (error == Errors.REBALANCE_IN_PROGRESS) {\n-                    log.debug(\"SyncGroup failed because the group began another rebalance\");\n+                    log.info(\"SyncGroup failed: The group began another rebalance. Need to re-join the group. \" +\n+                                 \"Sent generation was {}\", sentGeneration);\n                     future.raise(error);\n                 } else if (error == Errors.FENCED_INSTANCE_ID) {\n                     // for sync-group request, even if the generation has changed we would not expect the instance id\n                     // gets fenced, and hence we always treat this as a fatal error\n-                    log.error(\"SyncGroup with {} failed because the group instance id {} has been fenced by another instance\",\n-                        sentGeneration, rebalanceConfig.groupInstanceId);\n+                    log.error(\"SyncGroup failed: The group instance id {} has been fenced by another instance. \" +\n+                        \"Sent generation was {}\", rebalanceConfig.groupInstanceId, sentGeneration);\n                     future.raise(error);\n                 } else if (error == Errors.UNKNOWN_MEMBER_ID\n                         || error == Errors.ILLEGAL_GENERATION) {\n-                    log.info(\"SyncGroup with {} failed: {}, would request re-join\", sentGeneration, error.message());\n+                    log.info(\"SyncGroup failed: {} Need to re-join the group. Sent generation was {}\",\n+                            error.message(), sentGeneration);\n                     if (generationUnchanged())\n                         resetGenerationOnResponseError(ApiKeys.SYNC_GROUP, error);\n \n                     future.raise(error);\n                 } else if (error == Errors.COORDINATOR_NOT_AVAILABLE\n                         || error == Errors.NOT_COORDINATOR) {\n-                    log.debug(\"SyncGroup failed: {}, marking coordinator unknown\", error.message());\n+                    log.debug(\"SyncGroup failed: {} Marking coordinator unknown. Sent generation was {}\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d827a95392a8c408753e1e64607953558ce1293f"}, "originalPosition": 99}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTI5Mjg5Mw==", "bodyText": "Sounds good", "url": "https://github.com/apache/kafka/pull/9295#discussion_r495292893", "createdAt": "2020-09-25T22:46:08Z", "author": {"login": "ableegoldman"}, "path": "clients/src/main/java/org/apache/kafka/clients/consumer/internals/AbstractCoordinator.java", "diffHunk": "@@ -769,24 +771,27 @@ public void handle(SyncGroupResponse syncResponse,\n                 if (error == Errors.GROUP_AUTHORIZATION_FAILED) {\n                     future.raise(GroupAuthorizationException.forGroupId(rebalanceConfig.groupId));\n                 } else if (error == Errors.REBALANCE_IN_PROGRESS) {\n-                    log.debug(\"SyncGroup failed because the group began another rebalance\");\n+                    log.info(\"SyncGroup failed: The group began another rebalance. Need to re-join the group. \" +\n+                                 \"Sent generation was {}\", sentGeneration);\n                     future.raise(error);\n                 } else if (error == Errors.FENCED_INSTANCE_ID) {\n                     // for sync-group request, even if the generation has changed we would not expect the instance id\n                     // gets fenced, and hence we always treat this as a fatal error\n-                    log.error(\"SyncGroup with {} failed because the group instance id {} has been fenced by another instance\",\n-                        sentGeneration, rebalanceConfig.groupInstanceId);\n+                    log.error(\"SyncGroup failed: The group instance id {} has been fenced by another instance. \" +\n+                        \"Sent generation was {}\", rebalanceConfig.groupInstanceId, sentGeneration);\n                     future.raise(error);\n                 } else if (error == Errors.UNKNOWN_MEMBER_ID\n                         || error == Errors.ILLEGAL_GENERATION) {\n-                    log.info(\"SyncGroup with {} failed: {}, would request re-join\", sentGeneration, error.message());\n+                    log.info(\"SyncGroup failed: {} Need to re-join the group. Sent generation was {}\",\n+                            error.message(), sentGeneration);\n                     if (generationUnchanged())\n                         resetGenerationOnResponseError(ApiKeys.SYNC_GROUP, error);\n \n                     future.raise(error);\n                 } else if (error == Errors.COORDINATOR_NOT_AVAILABLE\n                         || error == Errors.NOT_COORDINATOR) {\n-                    log.debug(\"SyncGroup failed: {}, marking coordinator unknown\", error.message());\n+                    log.debug(\"SyncGroup failed: {} Marking coordinator unknown. Sent generation was {}\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ4NTE3NA=="}, "originalCommit": {"oid": "d827a95392a8c408753e1e64607953558ce1293f"}, "originalPosition": 99}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1835, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}