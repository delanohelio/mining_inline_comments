{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4OTA3Njc1", "number": 8552, "title": "MINOR: Fix some java docs of ReplicaStateMachine", "bodyText": "Modify the java docs of ReplicaStateMachine, the java docs is not in consistent with OfflineReplica.validPreviousStates and OnlineReplica.validPreviousStates\nMove the  repeated if(traceEnabled) before logSuccessfulTransition method to the method\nCommitter Checklist (excluded from commit message)\n\n Verify design and implementation\n Verify test coverage and CI build status\n Verify documentation (including upgrade notes)", "createdAt": "2020-04-25T13:24:03Z", "url": "https://github.com/apache/kafka/pull/8552", "merged": true, "mergeCommit": {"oid": "8e82eaa7116f39f82d11b926d34b5c873f7f05ab"}, "closed": true, "closedAt": "2020-12-10T03:14:36Z", "author": {"login": "dengziming"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcbGk7OABqjMyNzE5NDc0MDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkeEDIgFqTU0ODE0MTk2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1ODU2ODc2", "url": "https://github.com/apache/kafka/pull/8552#pullrequestreview-425856876", "createdAt": "2020-06-07T21:59:51Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QyMTo1OTo1MVrOGgMGPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QyMTo1OTo1MVrOGgMGPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQwNTgyMA==", "bodyText": "Seems like we could just get rid of this. The call to trace will already check isTraceEnabled before building the message, so I'm not sure we're saving anything.", "url": "https://github.com/apache/kafka/pull/8552#discussion_r436405820", "createdAt": "2020-06-07T21:59:51Z", "author": {"login": "hachikuji"}, "path": "core/src/main/scala/kafka/controller/ReplicaStateMachine.scala", "diffHunk": "@@ -423,9 +414,10 @@ class ZkReplicaStateMachine(config: KafkaConfig,\n     (result.toMap, partitionsWithNoLeaderAndIsrInZk)\n   }\n \n-  private def logSuccessfulTransition(logger: StateChangeLogger, replicaId: Int, partition: TopicPartition,\n+  private def logSuccessfulTransition(traceEnabled: Boolean, logger: StateChangeLogger, replicaId: Int, partition: TopicPartition,\n                                       currState: ReplicaState, targetState: ReplicaState): Unit = {\n-    logger.trace(s\"Changed state of replica $replicaId for partition $partition from $currState to $targetState\")\n+    if (traceEnabled)", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 100}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "20cd81b38619bf081f45bae59f5ad662c6506d8d", "author": {"user": null}, "url": "https://github.com/apache/kafka/commit/20cd81b38619bf081f45bae59f5ad662c6506d8d", "committedDate": "2020-06-08T04:53:03Z", "message": "Fix some inconsitent java docs\n\n move repeated if before the same method to the mothod\n\nmove repeated if before the same method to the mothod"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48b310d06d6f86d1690db2ebdef5c8592cb9bbb6", "author": {"user": null}, "url": "https://github.com/apache/kafka/commit/48b310d06d6f86d1690db2ebdef5c8592cb9bbb6", "committedDate": "2020-12-09T09:21:35Z", "message": "Fix some inconsitent java docs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7beaa03885c5bc2520e26e679460e8092836ffdb", "author": {"user": null}, "url": "https://github.com/apache/kafka/commit/7beaa03885c5bc2520e26e679460e8092836ffdb", "committedDate": "2020-11-04T12:13:35Z", "message": "Merge branch 'trunk' into MINOR-java-docs"}, "afterCommit": {"oid": "48b310d06d6f86d1690db2ebdef5c8592cb9bbb6", "author": {"user": null}, "url": "https://github.com/apache/kafka/commit/48b310d06d6f86d1690db2ebdef5c8592cb9bbb6", "committedDate": "2020-12-09T09:21:35Z", "message": "Fix some inconsitent java docs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4MTQxOTYw", "url": "https://github.com/apache/kafka/pull/8552#pullrequestreview-548141960", "createdAt": "2020-12-09T12:40:05Z", "commit": {"oid": "48b310d06d6f86d1690db2ebdef5c8592cb9bbb6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1221, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}