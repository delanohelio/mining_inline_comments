{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ3MTA0ODIx", "number": 9801, "title": "MINOR: code cleanup for Kafka Streams task interface", "bodyText": "Not functional change. Pure code cleanup.\nCall for review @vvcephei (cf. #8852 -- will split up the old PR into multiple smaller ones to simplify reviewing)", "createdAt": "2020-12-30T22:16:37Z", "url": "https://github.com/apache/kafka/pull/9801", "merged": true, "mergeCommit": {"oid": "393139064f79ee664b6d8507ea1f974dad84c82e"}, "closed": true, "closedAt": "2021-01-06T21:51:08Z", "author": {"login": "mjsax"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdrW3cbgH2gAyNTQ3MTA0ODIxOjQ5NGUzZTcwYjQyZDlmMzNmY2M3ODAyNzg3MDZkY2YwOWNiNzhhNTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdtlBvcgFqTU2Mjk5NzM2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "494e3e70b42d9f33fcc780278706dcf09cb78a57", "author": {"user": {"login": "mjsax", "name": "Matthias J. Sax"}}, "url": "https://github.com/apache/kafka/commit/494e3e70b42d9f33fcc780278706dcf09cb78a57", "committedDate": "2020-12-30T22:14:27Z", "message": "MINOR: code cleanup for Kafka Streams task interface\n\nNot functional change. Pure code cleanup."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMjE2OTI1", "url": "https://github.com/apache/kafka/pull/9801#pullrequestreview-560216925", "createdAt": "2020-12-30T22:18:06Z", "commit": {"oid": "494e3e70b42d9f33fcc780278706dcf09cb78a57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjoxODowNlrOIM2P7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjoxODowNlrOIM2P7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0MjYzOA==", "bodyText": "This method is unused. Removing it.", "url": "https://github.com/apache/kafka/pull/9801#discussion_r550342638", "createdAt": "2020-12-30T22:18:06Z", "author": {"login": "mjsax"}, "path": "streams/src/main/java/org/apache/kafka/streams/processor/internals/AbstractTask.java", "diffHunk": "@@ -124,11 +124,6 @@ public StateStore getStore(final String name) {\n         return stateMgr.getStore(name);\n     }\n \n-    @Override\n-    public boolean isClosed() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "494e3e70b42d9f33fcc780278706dcf09cb78a57"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMjE2OTY2", "url": "https://github.com/apache/kafka/pull/9801#pullrequestreview-560216966", "createdAt": "2020-12-30T22:18:18Z", "commit": {"oid": "494e3e70b42d9f33fcc780278706dcf09cb78a57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjoxODoxOFrOIM2QLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjoxODoxOFrOIM2QLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0MjcwMw==", "bodyText": "Renaming to get better name.", "url": "https://github.com/apache/kafka/pull/9801#discussion_r550342703", "createdAt": "2020-12-30T22:18:18Z", "author": {"login": "mjsax"}, "path": "streams/src/main/java/org/apache/kafka/streams/processor/internals/AbstractTask.java", "diffHunk": "@@ -154,7 +149,7 @@ final void transitionTo(final Task.State newState) {\n     }\n \n     @Override\n-    public void update(final Set<TopicPartition> topicPartitions, final Map<String, List<String>> allTopologyNodesToSourceTopics) {\n+    public void updateInputPartitions(final Set<TopicPartition> topicPartitions, final Map<String, List<String>> allTopologyNodesToSourceTopics) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "494e3e70b42d9f33fcc780278706dcf09cb78a57"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMjE3MTU1", "url": "https://github.com/apache/kafka/pull/9801#pullrequestreview-560217155", "createdAt": "2020-12-30T22:19:17Z", "commit": {"oid": "494e3e70b42d9f33fcc780278706dcf09cb78a57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjoxOToxN1rOIM2RBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjoxOToxN1rOIM2RBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0MjkxNw==", "bodyText": "Group and order methods (no functional change)", "url": "https://github.com/apache/kafka/pull/9801#discussion_r550342917", "createdAt": "2020-12-30T22:19:17Z", "author": {"login": "mjsax"}, "path": "streams/src/main/java/org/apache/kafka/streams/processor/internals/Task.java", "diffHunk": "@@ -98,17 +98,9 @@ public boolean isValidTransition(final State newState) {\n         }\n     }\n \n-    TaskId id();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "494e3e70b42d9f33fcc780278706dcf09cb78a57"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMjE3MjIx", "url": "https://github.com/apache/kafka/pull/9801#pullrequestreview-560217221", "createdAt": "2020-12-30T22:19:35Z", "commit": {"oid": "494e3e70b42d9f33fcc780278706dcf09cb78a57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjoxOTozNVrOIM2RQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMjoxOTozNVrOIM2RQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM0Mjk3Ng==", "bodyText": "This method is removed because it's unused.", "url": "https://github.com/apache/kafka/pull/9801#discussion_r550342976", "createdAt": "2020-12-30T22:19:35Z", "author": {"login": "mjsax"}, "path": "streams/src/main/java/org/apache/kafka/streams/processor/internals/Task.java", "diffHunk": "@@ -98,17 +98,9 @@ public boolean isValidTransition(final State newState) {\n         }\n     }\n \n-    TaskId id();\n-\n-    State state();\n-\n-    default boolean needsInitializationOrRestoration() {\n-        return state() == State.CREATED || state() == State.RESTORING;\n-    }\n \n-    boolean isActive();\n \n-    boolean isClosed();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "494e3e70b42d9f33fcc780278706dcf09cb78a57"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "810b312be3193816c0138c32595ff29148950b1a", "author": {"user": {"login": "mjsax", "name": "Matthias J. Sax"}}, "url": "https://github.com/apache/kafka/commit/810b312be3193816c0138c32595ff29148950b1a", "committedDate": "2020-12-30T23:29:28Z", "message": "fix formatting"}, "afterCommit": {"oid": "494e3e70b42d9f33fcc780278706dcf09cb78a57", "author": {"user": {"login": "mjsax", "name": "Matthias J. Sax"}}, "url": "https://github.com/apache/kafka/commit/494e3e70b42d9f33fcc780278706dcf09cb78a57", "committedDate": "2020-12-30T22:14:27Z", "message": "MINOR: code cleanup for Kafka Streams task interface\n\nNot functional change. Pure code cleanup."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22cf629f662ee585387bbb6c8367e991ef8edc44", "author": {"user": {"login": "mjsax", "name": "Matthias J. Sax"}}, "url": "https://github.com/apache/kafka/commit/22cf629f662ee585387bbb6c8367e991ef8edc44", "committedDate": "2020-12-30T23:35:13Z", "message": "Fix formatting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyOTk3MzY0", "url": "https://github.com/apache/kafka/pull/9801#pullrequestreview-562997364", "createdAt": "2021-01-06T19:52:13Z", "commit": {"oid": "22cf629f662ee585387bbb6c8367e991ef8edc44"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2409, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}