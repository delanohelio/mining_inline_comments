{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyNjAxNDY1", "number": 7955, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQyMDozMTo0OFrODZoKVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDo0MjowMFrODdoygw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4MTk4OTk3OnYy", "diffSide": "RIGHT", "path": "clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQyMDozMTo0OFrOFgH3Pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQyMjoxMToxM1rOFgKfpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTIyNzU4Mg==", "bodyText": "We should move this CSS to the website CSS file instead of having it inline here. The CSS file is in kafka-site, see https://github.com/apache/kafka-site/blob/asf-site/css/styles.css#L266.", "url": "https://github.com/apache/kafka/pull/7955#discussion_r369227582", "createdAt": "2020-01-21T20:31:48Z", "author": {"login": "mimaison"}, "path": "clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java", "diffHunk": "@@ -1453,19 +1453,20 @@ public String toHtml(Map<String, String> dynamicUpdateModes) {\n         List<ConfigKey> configs = sortedConfigs();\n         StringBuilder b = new StringBuilder();\n         b.append(\"<ul class=\\\"config-list\\\">\\n\");\n-\n         for (ConfigKey key : configs) {\n             if (key.internalConfig) {\n                 continue;\n             }\n-            b.append(\"<li>\");\n-            b.append(\"<b>\");\n-            b.append(key.name);\n-            b.append(\"</b>: \");\n-            b.append(key.documentation);\n-            b.append(\"<br/>\");\n-            // details\n-            b.append(\"<ul class=\\\"horizontal-list\\\">\");\n+            b.append(\"<li style=\\\"padding: 15 0 15 20; border-bottom: 1px solid black;\\\">\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77af2d2ca269775da3410852d41449313cfb1f31"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTI3MDY5Mw==", "bodyText": "Ok, I'll add it to that file - was hoping to sneak past without having two separate pull requests ;)\nI'll just add a class \"config-list\" and put everything in there?", "url": "https://github.com/apache/kafka/pull/7955#discussion_r369270693", "createdAt": "2020-01-21T22:11:13Z", "author": {"login": "soenkeliebau"}, "path": "clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java", "diffHunk": "@@ -1453,19 +1453,20 @@ public String toHtml(Map<String, String> dynamicUpdateModes) {\n         List<ConfigKey> configs = sortedConfigs();\n         StringBuilder b = new StringBuilder();\n         b.append(\"<ul class=\\\"config-list\\\">\\n\");\n-\n         for (ConfigKey key : configs) {\n             if (key.internalConfig) {\n                 continue;\n             }\n-            b.append(\"<li>\");\n-            b.append(\"<b>\");\n-            b.append(key.name);\n-            b.append(\"</b>: \");\n-            b.append(key.documentation);\n-            b.append(\"<br/>\");\n-            // details\n-            b.append(\"<ul class=\\\"horizontal-list\\\">\");\n+            b.append(\"<li style=\\\"padding: 15 0 15 20; border-bottom: 1px solid black;\\\">\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTIyNzU4Mg=="}, "originalCommit": {"oid": "77af2d2ca269775da3410852d41449313cfb1f31"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4MTk5MzM2OnYy", "diffSide": "RIGHT", "path": "clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQyMDozMzowMFrOFgH5UQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQwODoyNTo0N1rOFgTt-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTIyODExMw==", "bodyText": "Can we add line return after HTML block like tables, rows, list items so the generated HTML stays readable?", "url": "https://github.com/apache/kafka/pull/7955#discussion_r369228113", "createdAt": "2020-01-21T20:33:00Z", "author": {"login": "mimaison"}, "path": "clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java", "diffHunk": "@@ -1474,17 +1475,20 @@ public String toHtml(Map<String, String> dynamicUpdateModes) {\n                 String updateMode = dynamicUpdateModes.get(key.name);\n                 if (updateMode == null)\n                     updateMode = \"read-only\";\n-                addConfigDetail(b, \"Update Mode\", updateMode);\n+                addConfigDetail(b, \"Update Mode:\", updateMode);\n             }\n-            b.append(\"</ul>\");\n-            b.append(\"</li>\\n\");\n+            b.append(\"</tbody></table>\");\n+            b.append(\"</li>\");\n         }\n         b.append(\"</ul>\\n\");\n         return b.toString();\n     }\n \n     private static void addConfigDetail(StringBuilder builder, String name, String value) {\n-        builder.append(\"<li><b>\" + name + \"</b>: \" + value + \"</li>\");\n+        builder.append(\"<tr style=\\\"background-color: transparent; padding: 0 0 0 0;\\\">\" +\n+                \"<th style=\\\"border-width: 0; background-color: transparent; text-align: right; padding: 0 0 0 0; \\\">\" + name + \":</th>\" +\n+                \"<td style=\\\"border-width: 0; background-color: transparent; text-align: left; padding: 0 0 0 10;\\\">\" + value + \"</td>\" +\n+                \"</tr>\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77af2d2ca269775da3410852d41449313cfb1f31"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTQyMTgxNg==", "bodyText": "I've added some newlines to make it more readable. It's still not great due to missing indentation, but I felt that would be taking it too far.", "url": "https://github.com/apache/kafka/pull/7955#discussion_r369421816", "createdAt": "2020-01-22T08:25:47Z", "author": {"login": "soenkeliebau"}, "path": "clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java", "diffHunk": "@@ -1474,17 +1475,20 @@ public String toHtml(Map<String, String> dynamicUpdateModes) {\n                 String updateMode = dynamicUpdateModes.get(key.name);\n                 if (updateMode == null)\n                     updateMode = \"read-only\";\n-                addConfigDetail(b, \"Update Mode\", updateMode);\n+                addConfigDetail(b, \"Update Mode:\", updateMode);\n             }\n-            b.append(\"</ul>\");\n-            b.append(\"</li>\\n\");\n+            b.append(\"</tbody></table>\");\n+            b.append(\"</li>\");\n         }\n         b.append(\"</ul>\\n\");\n         return b.toString();\n     }\n \n     private static void addConfigDetail(StringBuilder builder, String name, String value) {\n-        builder.append(\"<li><b>\" + name + \"</b>: \" + value + \"</li>\");\n+        builder.append(\"<tr style=\\\"background-color: transparent; padding: 0 0 0 0;\\\">\" +\n+                \"<th style=\\\"border-width: 0; background-color: transparent; text-align: right; padding: 0 0 0 0; \\\">\" + name + \":</th>\" +\n+                \"<td style=\\\"border-width: 0; background-color: transparent; text-align: left; padding: 0 0 0 10;\\\">\" + value + \"</td>\" +\n+                \"</tr>\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTIyODExMw=="}, "originalCommit": {"oid": "77af2d2ca269775da3410852d41449313cfb1f31"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyNDAzMzQzOnYy", "diffSide": "RIGHT", "path": "clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDo0MToxOFrOFmWlUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1NTozN1rOFneA4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTc2MDIwOQ==", "bodyText": "This makes stopbugs complain ... We should use %n in the format string instead of \\n", "url": "https://github.com/apache/kafka/pull/7955#discussion_r375760209", "createdAt": "2020-02-06T10:41:18Z", "author": {"login": "mimaison"}, "path": "clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java", "diffHunk": "@@ -1453,19 +1453,20 @@ public String toHtml(Map<String, String> dynamicUpdateModes) {\n         List<ConfigKey> configs = sortedConfigs();\n         StringBuilder b = new StringBuilder();\n         b.append(\"<ul class=\\\"config-list\\\">\\n\");\n-\n         for (ConfigKey key : configs) {\n             if (key.internalConfig) {\n                 continue;\n             }\n-            b.append(\"<li>\");\n-            b.append(\"<b>\");\n-            b.append(key.name);\n-            b.append(\"</b>: \");\n-            b.append(key.documentation);\n-            b.append(\"<br/>\");\n-            // details\n-            b.append(\"<ul class=\\\"horizontal-list\\\">\");\n+            b.append(\"<li>\\n\");\n+            b.append(String.format(\"<h4>\" +\n+                    \"<a id=\\\"%1$s\\\" href=\\\"#%1$s\\\">%1$s</a>\" +\n+                    \"</h4>\\n\", key.name));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cfb27bf4f7bda333dc81759aac1506ae767215d7"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkzMDUzMA==", "bodyText": "Done", "url": "https://github.com/apache/kafka/pull/7955#discussion_r376930530", "createdAt": "2020-02-10T08:55:37Z", "author": {"login": "soenkeliebau"}, "path": "clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java", "diffHunk": "@@ -1453,19 +1453,20 @@ public String toHtml(Map<String, String> dynamicUpdateModes) {\n         List<ConfigKey> configs = sortedConfigs();\n         StringBuilder b = new StringBuilder();\n         b.append(\"<ul class=\\\"config-list\\\">\\n\");\n-\n         for (ConfigKey key : configs) {\n             if (key.internalConfig) {\n                 continue;\n             }\n-            b.append(\"<li>\");\n-            b.append(\"<b>\");\n-            b.append(key.name);\n-            b.append(\"</b>: \");\n-            b.append(key.documentation);\n-            b.append(\"<br/>\");\n-            // details\n-            b.append(\"<ul class=\\\"horizontal-list\\\">\");\n+            b.append(\"<li>\\n\");\n+            b.append(String.format(\"<h4>\" +\n+                    \"<a id=\\\"%1$s\\\" href=\\\"#%1$s\\\">%1$s</a>\" +\n+                    \"</h4>\\n\", key.name));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTc2MDIwOQ=="}, "originalCommit": {"oid": "cfb27bf4f7bda333dc81759aac1506ae767215d7"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyNDAzNTg3OnYy", "diffSide": "RIGHT", "path": "clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDo0MjowMFrOFmWmzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1Mzo0NVrOFnd9ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTc2MDU5MQ==", "bodyText": "No need for the extra :, addConfigDetail() already inserts it", "url": "https://github.com/apache/kafka/pull/7955#discussion_r375760591", "createdAt": "2020-02-06T10:42:00Z", "author": {"login": "mimaison"}, "path": "clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java", "diffHunk": "@@ -1474,17 +1475,20 @@ public String toHtml(Map<String, String> dynamicUpdateModes) {\n                 String updateMode = dynamicUpdateModes.get(key.name);\n                 if (updateMode == null)\n                     updateMode = \"read-only\";\n-                addConfigDetail(b, \"Update Mode\", updateMode);\n+                addConfigDetail(b, \"Update Mode:\", updateMode);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cfb27bf4f7bda333dc81759aac1506ae767215d7"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkyOTczMQ==", "bodyText": "Done", "url": "https://github.com/apache/kafka/pull/7955#discussion_r376929731", "createdAt": "2020-02-10T08:53:45Z", "author": {"login": "soenkeliebau"}, "path": "clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java", "diffHunk": "@@ -1474,17 +1475,20 @@ public String toHtml(Map<String, String> dynamicUpdateModes) {\n                 String updateMode = dynamicUpdateModes.get(key.name);\n                 if (updateMode == null)\n                     updateMode = \"read-only\";\n-                addConfigDetail(b, \"Update Mode\", updateMode);\n+                addConfigDetail(b, \"Update Mode:\", updateMode);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTc2MDU5MQ=="}, "originalCommit": {"oid": "cfb27bf4f7bda333dc81759aac1506ae767215d7"}, "originalPosition": 35}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4359, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}