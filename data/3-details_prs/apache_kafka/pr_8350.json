{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzNzI0NDY2", "number": 8350, "title": "KAFKA-9760: Add KIP-447 protocol change to upgrade notes", "bodyText": "Adding 447 protocol change as part of the upgrade doc notable changes, and some missing stream side change as well.\n\nCommitter Checklist (excluded from commit message)\n\n Verify design and implementation\n Verify test coverage and CI build status\n Verify documentation (including upgrade notes)", "createdAt": "2020-03-25T17:28:00Z", "url": "https://github.com/apache/kafka/pull/8350", "merged": true, "mergeCommit": {"oid": "4018f5e8b3314b142810ad882d43ea610bdcc81e"}, "closed": true, "closedAt": "2020-03-26T16:40:50Z", "author": {"login": "abbccdda"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRK4hdgH2gAyMzkzNzI0NDY2OmYwOTMxNzlhNjJlMWI4NmYzNDFhZjkwOWJiZGQ2YjUwZDI0OTRlZjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcReuxXAH2gAyMzkzNzI0NDY2OjhlMjZlMzM0ZDliNmZhOWU5OWZmY2FhMmZmODZlZTZmYzI2Nzc3OWQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f093179a62e1b86f341af909bbdd6b50d2494ef1", "author": {"user": {"login": "abbccdda", "name": "Boyang Chen"}}, "url": "https://github.com/apache/kafka/commit/f093179a62e1b86f341af909bbdd6b50d2494ef1", "committedDate": "2020-03-25T17:23:35Z", "message": "447 protocol change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxNTk1NTEy", "url": "https://github.com/apache/kafka/pull/8350#pullrequestreview-381595512", "createdAt": "2020-03-25T22:54:18Z", "commit": {"oid": "f093179a62e1b86f341af909bbdd6b50d2494ef1"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQyMjo1NDoxOFrOF7xZxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQyMzowMDozNVrOF7xitw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIxOTcxOQ==", "bodyText": "into a changelog stream -> into a KTable ?", "url": "https://github.com/apache/kafka/pull/8350#discussion_r398219719", "createdAt": "2020-03-25T22:54:18Z", "author": {"login": "mjsax"}, "path": "docs/upgrade.html", "diffHunk": "@@ -30,6 +30,15 @@ <h5><a id=\"upgrade_250_notable\" href=\"#upgrade_250_notable\">Notable changes in 2\n         <code>zookeeper.session.timeout.ms</code> has been increased from 6s to 18s and\n         <code>replica.lag.time.max.ms</code> from 10s to 30s.</li>\n     <li>New DSL operator <code>cogroup()</code> has been added for aggregating multiple streams together at once.</li>\n+    <li>Added a new <code>KStream.toTable()</code> API to translate an input event stream into a changelog stream.</li>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f093179a62e1b86f341af909bbdd6b50d2494ef1"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIxOTgzOA==", "bodyText": "It this worth calling out in the top level notes?", "url": "https://github.com/apache/kafka/pull/8350#discussion_r398219838", "createdAt": "2020-03-25T22:54:40Z", "author": {"login": "mjsax"}, "path": "docs/upgrade.html", "diffHunk": "@@ -30,6 +30,15 @@ <h5><a id=\"upgrade_250_notable\" href=\"#upgrade_250_notable\">Notable changes in 2\n         <code>zookeeper.session.timeout.ms</code> has been increased from 6s to 18s and\n         <code>replica.lag.time.max.ms</code> from 10s to 30s.</li>\n     <li>New DSL operator <code>cogroup()</code> has been added for aggregating multiple streams together at once.</li>\n+    <li>Added a new <code>KStream.toTable()</code> API to translate an input event stream into a changelog stream.</li>\n+    <li>Added a new Serde type <code>Void</code> to represent null keys or null values from input topic.</li>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f093179a62e1b86f341af909bbdd6b50d2494ef1"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIyMDA4MQ==", "bodyText": "semantic[s]\nremove \"in Kafka\" (where else :) )", "url": "https://github.com/apache/kafka/pull/8350#discussion_r398220081", "createdAt": "2020-03-25T22:55:19Z", "author": {"login": "mjsax"}, "path": "docs/upgrade.html", "diffHunk": "@@ -30,6 +30,15 @@ <h5><a id=\"upgrade_250_notable\" href=\"#upgrade_250_notable\">Notable changes in 2\n         <code>zookeeper.session.timeout.ms</code> has been increased from 6s to 18s and\n         <code>replica.lag.time.max.ms</code> from 10s to 30s.</li>\n     <li>New DSL operator <code>cogroup()</code> has been added for aggregating multiple streams together at once.</li>\n+    <li>Added a new <code>KStream.toTable()</code> API to translate an input event stream into a changelog stream.</li>\n+    <li>Added a new Serde type <code>Void</code> to represent null keys or null values from input topic.</li>\n+    <li>Deprecated <code>UsePreviousTimeOnInvalidTimestamp</code> and replaced it with <code>UsePartitionTimeOnInvalidTimeStamp</code>.</li>\n+    <li>In Kafka 2.5.0, we improved EOS semantic in Kafka by adding a pending offset fencing mechanism and stronger transactional commit", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f093179a62e1b86f341af909bbdd6b50d2494ef1"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIyMDg2Nw==", "bodyText": "The impact is that now a consumer-producer group could use the subscription mode to collaborate under EOS instead of manual partition assignment.\nThis is a quite complex sentence. Can we reword it? What is \"subscription mode\"", "url": "https://github.com/apache/kafka/pull/8350#discussion_r398220867", "createdAt": "2020-03-25T22:57:27Z", "author": {"login": "mjsax"}, "path": "docs/upgrade.html", "diffHunk": "@@ -30,6 +30,15 @@ <h5><a id=\"upgrade_250_notable\" href=\"#upgrade_250_notable\">Notable changes in 2\n         <code>zookeeper.session.timeout.ms</code> has been increased from 6s to 18s and\n         <code>replica.lag.time.max.ms</code> from 10s to 30s.</li>\n     <li>New DSL operator <code>cogroup()</code> has been added for aggregating multiple streams together at once.</li>\n+    <li>Added a new <code>KStream.toTable()</code> API to translate an input event stream into a changelog stream.</li>\n+    <li>Added a new Serde type <code>Void</code> to represent null keys or null values from input topic.</li>\n+    <li>Deprecated <code>UsePreviousTimeOnInvalidTimestamp</code> and replaced it with <code>UsePartitionTimeOnInvalidTimeStamp</code>.</li>\n+    <li>In Kafka 2.5.0, we improved EOS semantic in Kafka by adding a pending offset fencing mechanism and stronger transactional commit\n+        consistency check. The impact is that now a consumer-producer group could use the subscription mode to collaborate", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f093179a62e1b86f341af909bbdd6b50d2494ef1"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIyMTM4Nw==", "bodyText": "nit: don't use EOS but exaclty-once semantics\nskeleton -> example\nmaybe replace under <code>examples</code> folder with a link to GitHub file?", "url": "https://github.com/apache/kafka/pull/8350#discussion_r398221387", "createdAt": "2020-03-25T22:58:54Z", "author": {"login": "mjsax"}, "path": "docs/upgrade.html", "diffHunk": "@@ -30,6 +30,15 @@ <h5><a id=\"upgrade_250_notable\" href=\"#upgrade_250_notable\">Notable changes in 2\n         <code>zookeeper.session.timeout.ms</code> has been increased from 6s to 18s and\n         <code>replica.lag.time.max.ms</code> from 10s to 30s.</li>\n     <li>New DSL operator <code>cogroup()</code> has been added for aggregating multiple streams together at once.</li>\n+    <li>Added a new <code>KStream.toTable()</code> API to translate an input event stream into a changelog stream.</li>\n+    <li>Added a new Serde type <code>Void</code> to represent null keys or null values from input topic.</li>\n+    <li>Deprecated <code>UsePreviousTimeOnInvalidTimestamp</code> and replaced it with <code>UsePartitionTimeOnInvalidTimeStamp</code>.</li>\n+    <li>In Kafka 2.5.0, we improved EOS semantic in Kafka by adding a pending offset fencing mechanism and stronger transactional commit\n+        consistency check. The impact is that now a consumer-producer group could use the subscription mode to collaborate\n+        under EOS instead of manual partition assignment. We also added a new EOS skeleton code under <code>examples</code> folder, feel", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f093179a62e1b86f341af909bbdd6b50d2494ef1"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIyMjAwNw==", "bodyText": "feel free to have a try and use it as a starting point (I would remove this -- upgrade note should be written in a neutral / fact style manner) -- and examples always have this purpose.", "url": "https://github.com/apache/kafka/pull/8350#discussion_r398222007", "createdAt": "2020-03-25T23:00:35Z", "author": {"login": "mjsax"}, "path": "docs/upgrade.html", "diffHunk": "@@ -30,6 +30,15 @@ <h5><a id=\"upgrade_250_notable\" href=\"#upgrade_250_notable\">Notable changes in 2\n         <code>zookeeper.session.timeout.ms</code> has been increased from 6s to 18s and\n         <code>replica.lag.time.max.ms</code> from 10s to 30s.</li>\n     <li>New DSL operator <code>cogroup()</code> has been added for aggregating multiple streams together at once.</li>\n+    <li>Added a new <code>KStream.toTable()</code> API to translate an input event stream into a changelog stream.</li>\n+    <li>Added a new Serde type <code>Void</code> to represent null keys or null values from input topic.</li>\n+    <li>Deprecated <code>UsePreviousTimeOnInvalidTimestamp</code> and replaced it with <code>UsePartitionTimeOnInvalidTimeStamp</code>.</li>\n+    <li>In Kafka 2.5.0, we improved EOS semantic in Kafka by adding a pending offset fencing mechanism and stronger transactional commit\n+        consistency check. The impact is that now a consumer-producer group could use the subscription mode to collaborate\n+        under EOS instead of manual partition assignment. We also added a new EOS skeleton code under <code>examples</code> folder, feel\n+        free to have a try and use it as a starting point. Check out", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f093179a62e1b86f341af909bbdd6b50d2494ef1"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e26e334d9b6fa9e99ffcaa2ff86ee6fc267779d", "author": {"user": {"login": "abbccdda", "name": "Boyang Chen"}}, "url": "https://github.com/apache/kafka/commit/8e26e334d9b6fa9e99ffcaa2ff86ee6fc267779d", "committedDate": "2020-03-26T16:31:02Z", "message": "address comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1666, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}