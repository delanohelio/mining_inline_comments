{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4ODYyNTgy", "number": 9102, "title": "KAFKA-10326 Both serializer and deserializer should be able to see th\u2026", "bodyText": "https://issues.apache.org/jira/browse/KAFKA-10326\nCommitter Checklist (excluded from commit message)\n\n Verify design and implementation\n Verify test coverage and CI build status\n Verify documentation (including upgrade notes)", "createdAt": "2020-07-30T04:24:35Z", "url": "https://github.com/apache/kafka/pull/9102", "merged": true, "mergeCommit": {"oid": "b8090add335903e6daf38ea99d0f94be5a5e6ed4"}, "closed": true, "closedAt": "2020-10-01T03:23:09Z", "author": {"login": "chia7712"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6XpntAFqTQ1OTM0MDA4Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNWV4qABqjM4MTU0ODIyNDU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5MzQwMDgz", "url": "https://github.com/apache/kafka/pull/9102#pullrequestreview-459340083", "createdAt": "2020-07-31T17:26:58Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NTUxOTA5", "url": "https://github.com/apache/kafka/pull/9102#pullrequestreview-459551909", "createdAt": "2020-08-01T04:32:51Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMVQwNDozMjo1MVrOG6bd7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMVQwNDozMjo1MVrOG6bd7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzkyMDYyMg==", "bodyText": "s/originals/copyWithOverride?", "url": "https://github.com/apache/kafka/pull/9102#discussion_r463920622", "createdAt": "2020-08-01T04:32:51Z", "author": {"login": "abbccdda"}, "path": "clients/src/main/java/org/apache/kafka/common/config/AbstractConfig.java", "diffHunk": "@@ -228,6 +228,13 @@ public Password getPassword(String key) {\n         return copy;\n     }\n \n+    public Map<String, Object> originals(Map<String, Object> configOverrides) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMDYxMzIy", "url": "https://github.com/apache/kafka/pull/9102#pullrequestreview-462061322", "createdAt": "2020-08-05T22:15:41Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQyMjoxNTo0MlrOG8cfbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQyMjoxNTo0MlrOG8cfbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjAzNDU0MQ==", "bodyText": "This seems beyond the scope of this PR. Why do we also need to let deserializer see whether given consumer instance is auto commit enabled?", "url": "https://github.com/apache/kafka/pull/9102#discussion_r466034541", "createdAt": "2020-08-05T22:15:42Z", "author": {"login": "abbccdda"}, "path": "clients/src/test/java/org/apache/kafka/clients/consumer/KafkaConsumerTest.java", "diffHunk": "@@ -2511,4 +2511,39 @@ public void testEnforceRebalanceTriggersRebalanceOnNextPoll() {\n \n         assertEquals(countingRebalanceListener.revokedCount, 1);\n     }\n+\n+    @Test\n+    public void deserializerShouldSeeGeneratedConfigs() {\n+        Properties props = new Properties();\n+        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9999\");\n+        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, DeserializerForClientId.class.getName());\n+        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, DeserializerForClientId.class.getName());\n+\n+        KafkaConsumer<byte[], byte[]> consumer = new KafkaConsumer<>(props);\n+\n+        assertEquals(2, DeserializerForClientId.CLIENT_IDS.size());\n+        assertEquals(DeserializerForClientId.CLIENT_IDS.get(0), consumer.getClientId());\n+        assertEquals(DeserializerForClientId.CLIENT_IDS.get(1), consumer.getClientId());\n+\n+        assertEquals(2, DeserializerForClientId.AUTO_COMMIT_FLAGS.size());\n+        assertEquals(DeserializerForClientId.AUTO_COMMIT_FLAGS.get(0), consumer.isAutoCommitEnabled());", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 19}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestCommit", "commit": {"oid": "a85593fa2d31807f0a4feff6e8b21fce4627f6e8", "author": {"user": {"login": "chia7712", "name": "Chia-Ping Tsai"}}, "url": "https://github.com/apache/kafka/commit/a85593fa2d31807f0a4feff6e8b21fce4627f6e8", "committedDate": "2020-09-28T15:48:14Z", "message": "KAFKA-10326 Both serializer and deserializer should be able to see the generated client id"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02dedd974246cd820972a7a5c034b951769e4c60", "author": {"user": {"login": "chia7712", "name": "Chia-Ping Tsai"}}, "url": "https://github.com/apache/kafka/commit/02dedd974246cd820972a7a5c034b951769e4c60", "committedDate": "2020-09-28T16:18:10Z", "message": "KAFKA-10326 address review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "696543bfdc32cac43300096384db5de28391b818", "author": {"user": {"login": "chia7712", "name": "Chia-Ping Tsai"}}, "url": "https://github.com/apache/kafka/commit/696543bfdc32cac43300096384db5de28391b818", "committedDate": "2020-09-28T16:18:11Z", "message": "KAFKA-10326 correct test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d94f96b95331415a633c247e340c758b3b453db1", "author": {"user": {"login": "chia7712", "name": "Chia-Ping Tsai"}}, "url": "https://github.com/apache/kafka/commit/d94f96b95331415a633c247e340c758b3b453db1", "committedDate": "2020-09-28T16:18:11Z", "message": "Revert \"KAFKA-10326 correct test\"\n\nThis reverts commit 23313aa03e1e27c648d3c2786fb7bd0ea7df9fdf."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93cf8845128943c2de9e04c55dcfbbf78747e23c", "author": {"user": {"login": "chia7712", "name": "Chia-Ping Tsai"}}, "url": "https://github.com/apache/kafka/commit/93cf8845128943c2de9e04c55dcfbbf78747e23c", "committedDate": "2020-09-28T16:39:20Z", "message": "Revert \"KAFKA-10326 address review comments\"\n\nThis reverts commit d6af4789a69ecd8c5c361351deab178a2b09e500."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "93cf8845128943c2de9e04c55dcfbbf78747e23c", "author": {"user": {"login": "chia7712", "name": "Chia-Ping Tsai"}}, "url": "https://github.com/apache/kafka/commit/93cf8845128943c2de9e04c55dcfbbf78747e23c", "committedDate": "2020-09-28T16:39:20Z", "message": "Revert \"KAFKA-10326 address review comments\"\n\nThis reverts commit d6af4789a69ecd8c5c361351deab178a2b09e500."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 989, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}