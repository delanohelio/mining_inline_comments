{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM3MDA0MjI4", "number": 9735, "title": "KAFKA-10846: Grow buffer in FileSourceStreamTask only when needed", "bodyText": "See KAFKA-10846", "createdAt": "2020-12-11T15:19:30Z", "url": "https://github.com/apache/kafka/pull/9735", "merged": true, "mergeCommit": {"oid": "67150b815ef33a03994bce6210643fd1dcc2855f"}, "closed": true, "closedAt": "2020-12-18T04:01:39Z", "author": {"login": "tombentley"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdlJh4PgH2gAyNTM3MDA0MjI4OjgwYTU0MzY1ZjY2ZDE5ZTVkZGUyYTljYmMyZGQ4Njc1ZmE1OTY1NjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnFuYWAH2gAyNTM3MDA0MjI4OmQ5NzQ2MjBmM2EyNjEwODJmZTMwODVjNmFkOWE3YzE3NDliZjY3ZTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "80a54365f66d19e5dde2a9cbc2dd8675fa596561", "author": {"user": {"login": "tombentley", "name": "Tom Bentley"}}, "url": "https://github.com/apache/kafka/commit/80a54365f66d19e5dde2a9cbc2dd8675fa596561", "committedDate": "2020-12-11T15:18:35Z", "message": "KAFKA-10846: Grow buffer in FileSourceStreamTask only when needed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06d37fa09d138f68519ff639c07669c53fd5e231", "author": {"user": {"login": "tombentley", "name": "Tom Bentley"}}, "url": "https://github.com/apache/kafka/commit/06d37fa09d138f68519ff639c07669c53fd5e231", "committedDate": "2020-12-16T09:39:36Z", "message": "Add a test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzNTE1NjUy", "url": "https://github.com/apache/kafka/pull/9735#pullrequestreview-553515652", "createdAt": "2020-12-16T09:47:02Z", "commit": {"oid": "06d37fa09d138f68519ff639c07669c53fd5e231"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzNjk3NTU0", "url": "https://github.com/apache/kafka/pull/9735#pullrequestreview-553697554", "createdAt": "2020-12-16T13:44:39Z", "commit": {"oid": "06d37fa09d138f68519ff639c07669c53fd5e231"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NzE0Njcy", "url": "https://github.com/apache/kafka/pull/9735#pullrequestreview-554714672", "createdAt": "2020-12-17T15:29:17Z", "commit": {"oid": "06d37fa09d138f68519ff639c07669c53fd5e231"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNToyOToxN1rOIH7F8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNToyOToxN1rOIH7F8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTE3OTEyMA==", "bodyText": "This new test case LGTM. However, it re-create the task. How about setting a small initial size of FileStreamSourceTask to make all test cases meet the resize?", "url": "https://github.com/apache/kafka/pull/9735#discussion_r545179120", "createdAt": "2020-12-17T15:29:17Z", "author": {"login": "chia7712"}, "path": "connect/file/src/test/java/org/apache/kafka/connect/file/FileStreamSourceTaskTest.java", "diffHunk": "@@ -77,6 +78,17 @@ private void replay() {\n \n     @Test\n     public void testNormalLifecycle() throws InterruptedException, IOException {\n+        normalLifecycle();\n+    }\n+\n+    @Test\n+    public void testNormalLifecycleWithResize() throws InterruptedException, IOException {\n+        task = new FileStreamSourceTask(2);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06d37fa09d138f68519ff639c07669c53fd5e231"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47026e2b4950920d86f0b9d771cc34293b989b67", "author": {"user": {"login": "tombentley", "name": "Tom Bentley"}}, "url": "https://github.com/apache/kafka/commit/47026e2b4950920d86f0b9d771cc34293b989b67", "committedDate": "2020-12-17T15:49:10Z", "message": "Review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d974620f3a261082fe3085c6ad9a7c1749bf67e5", "author": {"user": {"login": "tombentley", "name": "Tom Bentley"}}, "url": "https://github.com/apache/kafka/commit/d974620f3a261082fe3085c6ad9a7c1749bf67e5", "committedDate": "2020-12-17T16:00:28Z", "message": "inline"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2258, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}