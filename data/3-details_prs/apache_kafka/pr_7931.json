{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxNTkxMzI5", "number": 7931, "title": "KAFKA-9420: Add flexible version support for converted protocols", "bodyText": "This patch bumps some APIs that have recently been converted to use the generated protocols in order to support flexible versions. This change was documented and approved in KIP-482: https://cwiki.apache.org/confluence/display/KAFKA/KIP-482%3A+The+Kafka+Protocol+should+Support+Optional+Tagged+Fields.\nCommitter Checklist (excluded from commit message)\n\n Verify design and implementation\n Verify test coverage and CI build status\n Verify documentation (including upgrade notes)", "createdAt": "2020-01-10T19:32:39Z", "url": "https://github.com/apache/kafka/pull/7931", "merged": true, "mergeCommit": {"oid": "0a2569e2b9907a1217dd50ccbc320f8ad0b42fd0"}, "closed": true, "closedAt": "2020-01-14T19:36:35Z", "author": {"login": "hachikuji"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb5DvI8gH2gAyMzYxNTkxMzI5OjcwMTczMzZjM2U4YWY5MGM5N2UwZTliMDUxMmQ1NzIxZTQwOTUzYzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb6EAXCgH2gAyMzYxNTkxMzI5OmZlYTg2MmZmNDZhMzJjY2IxZGE0NGRlNjcwZTc3ZWU5NzlkZWQ5YTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7017336c3e8af90c97e0e9b0512d5721e40953c0", "author": {"user": {"login": "hachikuji", "name": "Jason Gustafson"}}, "url": "https://github.com/apache/kafka/commit/7017336c3e8af90c97e0e9b0512d5721e40953c0", "committedDate": "2020-01-10T19:29:49Z", "message": "MINOR: Add flexible version support for converted protocols"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNjEzODc5", "url": "https://github.com/apache/kafka/pull/7931#pullrequestreview-341613879", "createdAt": "2020-01-13T00:59:32Z", "commit": {"oid": "7017336c3e8af90c97e0e9b0512d5721e40953c0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QwMDo1OTozMlrOFcsB8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QwMDo1OTozMlrOFcsB8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTYyNTg0Mw==", "bodyText": "Was this change triggered by a test failure?", "url": "https://github.com/apache/kafka/pull/7931#discussion_r365625843", "createdAt": "2020-01-13T00:59:32Z", "author": {"login": "ijuma"}, "path": "clients/src/main/java/org/apache/kafka/clients/NetworkClient.java", "diffHunk": "@@ -706,9 +708,13 @@ public Node leastLoadedNode(long now) {\n     }\n \n     public static AbstractResponse parseResponse(ByteBuffer responseBuffer, RequestHeader requestHeader) {\n-        Struct responseStruct = parseStructMaybeUpdateThrottleTimeMetrics(responseBuffer, requestHeader, null, 0);\n-        return AbstractResponse.parseResponse(requestHeader.apiKey(), responseStruct,\n-                requestHeader.apiVersion());\n+        try {\n+            Struct responseStruct = parseStructMaybeUpdateThrottleTimeMetrics(responseBuffer, requestHeader, null, 0);\n+            return AbstractResponse.parseResponse(requestHeader.apiKey(), responseStruct,\n+                    requestHeader.apiVersion());\n+        } catch (BufferUnderflowException e) {\n+            throw new SchemaException(\"Buffer underflow while parsing response for request with header \" + requestHeader, e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7017336c3e8af90c97e0e9b0512d5721e40953c0"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fea862ff46a32ccb1da44de670e77ee979ded9a8", "author": {"user": {"login": "hachikuji", "name": "Jason Gustafson"}}, "url": "https://github.com/apache/kafka/commit/fea862ff46a32ccb1da44de670e77ee979ded9a8", "committedDate": "2020-01-13T22:22:33Z", "message": "Revert bump to TxnOffsetCommit"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1947, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}