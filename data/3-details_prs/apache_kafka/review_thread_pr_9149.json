{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY1MzEzMDU1", "number": 9149, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwODoyNzo1MVrOEWszbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwMzowNjozNVrOEtwkug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkyMjM4MTg4OnYy", "diffSide": "RIGHT", "path": "connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSourceTask.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwODoyNzo1MVrOG-FiyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMTo1NDo1NFrOHUfzxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzc1NTcyMQ==", "bodyText": "should be newTopic here for error message.", "url": "https://github.com/apache/kafka/pull/9149#discussion_r467755721", "createdAt": "2020-08-10T08:27:51Z", "author": {"login": "showuon"}, "path": "connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSourceTask.java", "diffHunk": "@@ -430,7 +434,7 @@ private void maybeCreateTopic(String topic) {\n             log.info(\"Created topic '{}' using creation group {}\", newTopic, topicGroup);\n         } else {\n             log.warn(\"Request to create new topic '{}' failed\", topic);\n-            throw new ConnectException(\"Task failed to create new topic \" + topic + \". Ensure \"\n+            throw new ConnectException(\"Task failed to create new topic \" + newTopic + \". Ensure \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI1NDcyNg==", "bodyText": "You are referring to the inclusion of topic properties besides the topic name. Yeah that's fine.", "url": "https://github.com/apache/kafka/pull/9149#discussion_r491254726", "createdAt": "2020-09-19T01:54:54Z", "author": {"login": "kkonstantine"}, "path": "connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSourceTask.java", "diffHunk": "@@ -430,7 +434,7 @@ private void maybeCreateTopic(String topic) {\n             log.info(\"Created topic '{}' using creation group {}\", newTopic, topicGroup);\n         } else {\n             log.warn(\"Request to create new topic '{}' failed\", topic);\n-            throw new ConnectException(\"Task failed to create new topic \" + topic + \". Ensure \"\n+            throw new ConnectException(\"Task failed to create new topic \" + newTopic + \". Ensure \"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzc1NTcyMQ=="}, "originalCommit": null, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3Mzk1ODI3OnYy", "diffSide": "RIGHT", "path": "connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSourceTask.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMToyMDowMlrOHUfjNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwOTo0NDozNFrOHVH-qA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI1MDQ4Nw==", "bodyText": "Writing one log message per record, seems excessive, even for DEBUG\nThere's a trace level message above for the record. Maybe we want to append the topic name there.", "url": "https://github.com/apache/kafka/pull/9149#discussion_r491250487", "createdAt": "2020-09-19T01:20:02Z", "author": {"login": "kkonstantine"}, "path": "connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSourceTask.java", "diffHunk": "@@ -363,6 +363,7 @@ private boolean sendRecords() {\n             try {\n                 maybeCreateTopic(record.topic());\n                 final String topic = producerRecord.topic();\n+                log.debug(\"{} is going to send record to {}\", WorkerSourceTask.this, topic);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1131ffaa1403c581ef5cd5adcae42b1cca9900d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTkxMjg3Mg==", "bodyText": "OK", "url": "https://github.com/apache/kafka/pull/9149#discussion_r491912872", "createdAt": "2020-09-21T09:44:34Z", "author": {"login": "showuon"}, "path": "connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSourceTask.java", "diffHunk": "@@ -363,6 +363,7 @@ private boolean sendRecords() {\n             try {\n                 maybeCreateTopic(record.topic());\n                 final String topic = producerRecord.topic();\n+                log.debug(\"{} is going to send record to {}\", WorkerSourceTask.this, topic);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI1MDQ4Nw=="}, "originalCommit": {"oid": "b1131ffaa1403c581ef5cd5adcae42b1cca9900d"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3Mzk2NzY1OnYy", "diffSide": "RIGHT", "path": "connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSourceTask.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMToyNzo1MlrOHUfoag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwOTo0ODoyMVrOHVINPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI1MTgxOA==", "bodyText": "This is going to be very repetitive after the first time during which the topic might be created.\nWhat's the hint we are trying to extract here?", "url": "https://github.com/apache/kafka/pull/9149#discussion_r491251818", "createdAt": "2020-09-19T01:27:52Z", "author": {"login": "kkonstantine"}, "path": "connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSourceTask.java", "diffHunk": "@@ -409,6 +410,9 @@ private boolean sendRecords() {\n     // RegexRouter) topic creation can not be batched for multiple topics\n     private void maybeCreateTopic(String topic) {\n         if (!topicCreation.isTopicCreationRequired(topic)) {\n+            log.trace(\"The topic creation setting is disabled or the topic name {} is already in the topic cache.\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1131ffaa1403c581ef5cd5adcae42b1cca9900d"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTkxNjYwNA==", "bodyText": "@kkonstantine , thanks for the comment, what I'm trying to do here is to let the user know if the creating topic pending for a long time without response (default timeout is 30 or 60 secs), we let user know earlier that this situation might happen, and it could because the auto.create.topics.enable is disabled.", "url": "https://github.com/apache/kafka/pull/9149#discussion_r491916604", "createdAt": "2020-09-21T09:48:21Z", "author": {"login": "showuon"}, "path": "connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSourceTask.java", "diffHunk": "@@ -409,6 +410,9 @@ private boolean sendRecords() {\n     // RegexRouter) topic creation can not be batched for multiple topics\n     private void maybeCreateTopic(String topic) {\n         if (!topicCreation.isTopicCreationRequired(topic)) {\n+            log.trace(\"The topic creation setting is disabled or the topic name {} is already in the topic cache.\" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI1MTgxOA=="}, "originalCommit": {"oid": "b1131ffaa1403c581ef5cd5adcae42b1cca9900d"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NDE2NzI4OnYy", "diffSide": "RIGHT", "path": "connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSourceTask.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwMzowMzo0MlrOHhvGZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwMzowMzo0MlrOHhvGZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTEzNjc0MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        log.trace(\"The topic creation setting is disabled or the topic name {} is already in the topic cache.\" +\n          \n          \n            \n                        log.trace(\"Topic creation by the connector is disabled or the topic {} was previously created.\" +", "url": "https://github.com/apache/kafka/pull/9149#discussion_r505136741", "createdAt": "2020-10-15T03:03:42Z", "author": {"login": "kkonstantine"}, "path": "connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSourceTask.java", "diffHunk": "@@ -409,6 +409,9 @@ private boolean sendRecords() {\n     // RegexRouter) topic creation can not be batched for multiple topics\n     private void maybeCreateTopic(String topic) {\n         if (!topicCreation.isTopicCreationRequired(topic)) {\n+            log.trace(\"The topic creation setting is disabled or the topic name {} is already in the topic cache.\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ed949d7a7688fac66ce40207079769a5b23ddb28"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NDE3MjEwOnYy", "diffSide": "RIGHT", "path": "connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSourceTask.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwMzowNjozNVrOHhvJNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwMzowNjozNVrOHhvJNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTEzNzQ2Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"If the topic doesn't exist, we'll rely on the auto.create.topics.enable setting in broker side \" +\n          \n          \n            \n                            \"to see if the topic can be auto created or not\", topic);\n          \n          \n            \n                            \"If auto.create.topics.enable is enabled on the broker, the topic will be created with  \" +\n          \n          \n            \n                            \"default settings\", topic);", "url": "https://github.com/apache/kafka/pull/9149#discussion_r505137462", "createdAt": "2020-10-15T03:06:35Z", "author": {"login": "kkonstantine"}, "path": "connect/runtime/src/main/java/org/apache/kafka/connect/runtime/WorkerSourceTask.java", "diffHunk": "@@ -409,6 +409,9 @@ private boolean sendRecords() {\n     // RegexRouter) topic creation can not be batched for multiple topics\n     private void maybeCreateTopic(String topic) {\n         if (!topicCreation.isTopicCreationRequired(topic)) {\n+            log.trace(\"The topic creation setting is disabled or the topic name {} is already in the topic cache.\" +\n+                \"If the topic doesn't exist, we'll rely on the auto.create.topics.enable setting in broker side \" +\n+                \"to see if the topic can be auto created or not\", topic);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ed949d7a7688fac66ce40207079769a5b23ddb28"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2140, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}