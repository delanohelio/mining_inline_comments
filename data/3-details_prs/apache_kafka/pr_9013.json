{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MTQ0NTEw", "number": 9013, "title": "KAFKA-10044 Deprecate ConsumerConfig#addDeserializerToConfig and Prod\u2026", "bodyText": "issue: https://issues.apache.org/jira/browse/KAFKA-10044\nCommitter Checklist (excluded from commit message)\n\n Verify design and implementation\n Verify test coverage and CI build status\n Verify documentation (including upgrade notes)", "createdAt": "2020-07-13T09:52:27Z", "url": "https://github.com/apache/kafka/pull/9013", "merged": true, "mergeCommit": {"oid": "ffdec02e25bb3be52ee5c06fe76d388303f6ea43"}, "closed": true, "closedAt": "2020-07-13T23:23:18Z", "author": {"login": "chia7712"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0jjA8AFqTQ0NzM3NjAzMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0ny9PAH2gAyNDQ4MTQ0NTEwOmRkOWY2MmJkNTU4N2Y2NzhmOTMyNjllYzMyMDExYzhmM2EwZmE3MWE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3Mzc2MDMz", "url": "https://github.com/apache/kafka/pull/9013#pullrequestreview-447376033", "createdAt": "2020-07-13T15:46:57Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNTo0Njo1N1rOGwuoJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNTo1MTo0MlrOGwu0XQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc0ODc3Mg==", "bodyText": "align parameters", "url": "https://github.com/apache/kafka/pull/9013#discussion_r453748772", "createdAt": "2020-07-13T15:46:57Z", "author": {"login": "abbccdda"}, "path": "clients/src/main/java/org/apache/kafka/clients/consumer/ConsumerConfig.java", "diffHunk": "@@ -579,9 +579,19 @@ private void maybeOverrideClientId(Map<String, Object> configs) {\n         }\n     }\n \n+    /**\n+     * @deprecated Since 2.7.0. This will be removed in a future major release.\n+     */\n+    @Deprecated\n     public static Map<String, Object> addDeserializerToConfig(Map<String, Object> configs,\n                                                               Deserializer<?> keyDeserializer,\n                                                               Deserializer<?> valueDeserializer) {\n+        return appendDeserializerToConfig(configs, keyDeserializer, valueDeserializer);\n+    }\n+\n+    static Map<String, Object> appendDeserializerToConfig(Map<String, Object> configs,", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc0OTc3Mg==", "bodyText": "Same here, one parameter per line and align", "url": "https://github.com/apache/kafka/pull/9013#discussion_r453749772", "createdAt": "2020-07-13T15:48:31Z", "author": {"login": "abbccdda"}, "path": "clients/src/main/java/org/apache/kafka/clients/producer/ProducerConfig.java", "diffHunk": "@@ -492,8 +492,17 @@ private static String parseAcks(String acksString) {\n         }\n     }\n \n+    /**\n+     * @deprecated Since 2.7.0. This will be removed in a future major release.\n+     */\n+    @Deprecated\n     public static Map<String, Object> addSerializerToConfig(Map<String, Object> configs,\n                                                             Serializer<?> keySerializer, Serializer<?> valueSerializer) {\n+        return appendSerializerToConfig(configs, keySerializer, valueSerializer);\n+    }\n+\n+    static Map<String, Object> appendSerializerToConfig(Map<String, Object> configs,", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc1MTY5Nw==", "bodyText": "nit: change the test name to testAppendDeserializerToConfig", "url": "https://github.com/apache/kafka/pull/9013#discussion_r453751697", "createdAt": "2020-07-13T15:51:24Z", "author": {"login": "abbccdda"}, "path": "clients/src/test/java/org/apache/kafka/clients/consumer/ConsumerConfigTest.java", "diffHunk": "@@ -100,24 +101,24 @@ public void testDeserializerToMapConfig() {\n         Map<String, Object> configs = new HashMap<>();\n         configs.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, keyDeserializerClass);\n         configs.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, valueDeserializerClass);\n-        Map<String, Object> newConfigs = ConsumerConfig.addDeserializerToConfig(configs, null, null);\n+        Map<String, Object> newConfigs = ConsumerConfig.appendDeserializerToConfig(configs, null, null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc1MTkwMQ==", "bodyText": "Similar here, change test name to match function.", "url": "https://github.com/apache/kafka/pull/9013#discussion_r453751901", "createdAt": "2020-07-13T15:51:42Z", "author": {"login": "abbccdda"}, "path": "clients/src/test/java/org/apache/kafka/clients/producer/ProducerConfigTest.java", "diffHunk": "@@ -68,24 +69,24 @@ public void testSerializerToMapConfig() {\n         Map<String, Object> configs = new HashMap<>();\n         configs.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, keySerializerClass);\n         configs.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, valueSerializerClass);\n-        Map<String, Object> newConfigs = ProducerConfig.addSerializerToConfig(configs, null, null);\n+        Map<String, Object> newConfigs = ProducerConfig.appendSerializerToConfig(configs, null, null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "928fde6c834d507e3e750daccf6f7023edd21c0c", "author": {"user": {"login": "chia7712", "name": "Chia-Ping Tsai"}}, "url": "https://github.com/apache/kafka/commit/928fde6c834d507e3e750daccf6f7023edd21c0c", "committedDate": "2020-07-13T19:41:41Z", "message": "KAFKA-10044 Deprecate ConsumerConfig#addDeserializerToConfig and ProducerConfig#addSerializerToConfig"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68137cdf9de3368dc93b9c3f9a9bfeee6e694afe", "author": {"user": {"login": "chia7712", "name": "Chia-Ping Tsai"}}, "url": "https://github.com/apache/kafka/commit/68137cdf9de3368dc93b9c3f9a9bfeee6e694afe", "committedDate": "2020-07-13T20:01:54Z", "message": "code format"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "68137cdf9de3368dc93b9c3f9a9bfeee6e694afe", "author": {"user": {"login": "chia7712", "name": "Chia-Ping Tsai"}}, "url": "https://github.com/apache/kafka/commit/68137cdf9de3368dc93b9c3f9a9bfeee6e694afe", "committedDate": "2020-07-13T20:01:54Z", "message": "code format"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NTc3NzY4", "url": "https://github.com/apache/kafka/pull/9013#pullrequestreview-447577768", "createdAt": "2020-07-13T20:29:15Z", "commit": {"oid": "68137cdf9de3368dc93b9c3f9a9bfeee6e694afe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMDoyOToxNVrOGw4pvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMDoyOToxNVrOGw4pvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkxMzAyMQ==", "bodyText": "nit: I don't feel strong about the style here, but maybe we should consider align with other functions which has the first parameter on the same line with function name.", "url": "https://github.com/apache/kafka/pull/9013#discussion_r453913021", "createdAt": "2020-07-13T20:29:15Z", "author": {"login": "abbccdda"}, "path": "clients/src/main/java/org/apache/kafka/clients/producer/ProducerConfig.java", "diffHunk": "@@ -492,8 +492,19 @@ private static String parseAcks(String acksString) {\n         }\n     }\n \n+    /**\n+     * @deprecated Since 2.7.0. This will be removed in a future major release.\n+     */\n+    @Deprecated\n     public static Map<String, Object> addSerializerToConfig(Map<String, Object> configs,\n                                                             Serializer<?> keySerializer, Serializer<?> valueSerializer) {\n+        return appendSerializerToConfig(configs, keySerializer, valueSerializer);\n+    }\n+\n+    static Map<String, Object> appendSerializerToConfig(\n+            Map<String, Object> configs,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68137cdf9de3368dc93b9c3f9a9bfeee6e694afe"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NTc3OTMz", "url": "https://github.com/apache/kafka/pull/9013#pullrequestreview-447577933", "createdAt": "2020-07-13T20:29:31Z", "commit": {"oid": "68137cdf9de3368dc93b9c3f9a9bfeee6e694afe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd9f62bd5587f678f93269ec32011c8f3a0fa71a", "author": {"user": {"login": "chia7712", "name": "Chia-Ping Tsai"}}, "url": "https://github.com/apache/kafka/commit/dd9f62bd5587f678f93269ec32011c8f3a0fa71a", "committedDate": "2020-07-13T20:52:06Z", "message": "code format"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1273, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}