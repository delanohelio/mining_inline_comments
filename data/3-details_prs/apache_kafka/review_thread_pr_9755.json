{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQwMTEzNTc2", "number": 9755, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxMzo1MDoyMlrOFFmQhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjozMzo1OFrOFHlV0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxNDE0MDIyOnYy", "diffSide": "RIGHT", "path": "core/src/main/scala/kafka/server/KafkaApis.scala", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxMzo1MDoyMlrOIGL1Jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxMzo1MDoyMlrOIGL1Jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzM1NjE5OA==", "bodyText": "Nit: no need for () after iterator.", "url": "https://github.com/apache/kafka/pull/9755#discussion_r543356198", "createdAt": "2020-12-15T13:50:22Z", "author": {"login": "ijuma"}, "path": "core/src/main/scala/kafka/server/KafkaApis.scala", "diffHunk": "@@ -972,40 +972,13 @@ class KafkaApis(val requestChannel: RequestChannel,\n     }\n   }\n \n-  class SelectingIterator(val partitions: util.LinkedHashMap[TopicPartition, FetchResponse.PartitionData[Records]],\n-                          val quota: ReplicationQuotaManager)\n-                          extends util.Iterator[util.Map.Entry[TopicPartition, FetchResponse.PartitionData[Records]]] {\n-    val iter = partitions.entrySet().iterator()\n-\n-    var nextElement: util.Map.Entry[TopicPartition, FetchResponse.PartitionData[Records]] = null\n-\n-    override def hasNext: Boolean = {\n-      while ((nextElement == null) && iter.hasNext()) {\n-        val element = iter.next()\n-        if (quota.isThrottled(element.getKey)) {\n-          nextElement = element\n-        }\n-      }\n-      nextElement != null\n-    }\n-\n-    override def next(): util.Map.Entry[TopicPartition, FetchResponse.PartitionData[Records]] = {\n-      if (!hasNext()) throw new NoSuchElementException()\n-      val element = nextElement\n-      nextElement = null\n-      element\n-    }\n-\n-    override def remove(): Unit = throw new UnsupportedOperationException()\n-  }\n-\n   // Traffic from both in-sync and out of sync replicas are accounted for in replication quota to ensure total replication\n   // traffic doesn't exceed quota.\n-  private def sizeOfThrottledPartitions(versionId: Short,\n-                                        unconvertedResponse: FetchResponse[Records],\n-                                        quota: ReplicationQuotaManager): Int = {\n-    val iter = new SelectingIterator(unconvertedResponse.responseData, quota)\n-    FetchResponse.sizeOf(versionId, iter)\n+  private[server] def sizeOfThrottledPartitions(versionId: Short,\n+                                                unconvertedResponse: FetchResponse[Records],\n+                                                quota: ReplicationQuotaManager): Int = {\n+    FetchResponse.sizeOf(versionId, unconvertedResponse.responseData.entrySet()\n+      .iterator().asScala.filter(element => quota.isThrottled(element.getKey)).asJava)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05474c3d9f273ace0b5fe28c5426b35eb762e5b1"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxNDE2MDg5OnYy", "diffSide": "RIGHT", "path": "core/src/test/scala/unit/kafka/server/KafkaApisTest.scala", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxMzo1NDozMlrOIGMBQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxMzo1NDozMlrOIGMBQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzM1OTI5OQ==", "bodyText": "Seems like you could use map here?", "url": "https://github.com/apache/kafka/pull/9755#discussion_r543359299", "createdAt": "2020-12-15T13:54:32Z", "author": {"login": "ijuma"}, "path": "core/src/test/scala/unit/kafka/server/KafkaApisTest.scala", "diffHunk": "@@ -3045,4 +3046,32 @@ class KafkaApisTest {\n       Errors.LOG_DIR_NOT_FOUND -> 1,\n       Errors.INVALID_TOPIC_EXCEPTION -> 1).asJava, response.errorCounts)\n   }\n+\n+  @Test\n+  def testSizeOfThrottledPartitions(): Unit = {\n+    def fetchResponse(data: Map[TopicPartition, String]): FetchResponse[Records] = {\n+      val responseData = new util.LinkedHashMap[TopicPartition, FetchResponse.PartitionData[Records]]\n+      data.foreach {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05474c3d9f273ace0b5fe28c5426b35eb762e5b1"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxNDE2MzgwOnYy", "diffSide": "RIGHT", "path": "core/src/test/scala/unit/kafka/server/KafkaApisTest.scala", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxMzo1NTowOVrOIGMC9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxMzo1NTowOVrOIGMC9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzM1OTczNA==", "bodyText": "Nit: no need for ().", "url": "https://github.com/apache/kafka/pull/9755#discussion_r543359734", "createdAt": "2020-12-15T13:55:09Z", "author": {"login": "ijuma"}, "path": "core/src/test/scala/unit/kafka/server/KafkaApisTest.scala", "diffHunk": "@@ -3045,4 +3046,32 @@ class KafkaApisTest {\n       Errors.LOG_DIR_NOT_FOUND -> 1,\n       Errors.INVALID_TOPIC_EXCEPTION -> 1).asJava, response.errorCounts)\n   }\n+\n+  @Test\n+  def testSizeOfThrottledPartitions(): Unit = {\n+    def fetchResponse(data: Map[TopicPartition, String]): FetchResponse[Records] = {\n+      val responseData = new util.LinkedHashMap[TopicPartition, FetchResponse.PartitionData[Records]]\n+      data.foreach {\n+        case (tp, raw) =>\n+          responseData.put(tp, new FetchResponse.PartitionData(Errors.NONE,\n+            105, 105, 0, Optional.empty(), Collections.emptyList(), Optional.empty(),\n+            MemoryRecords.withRecords(CompressionType.NONE, new SimpleRecord(100, raw.getBytes(StandardCharsets.UTF_8)))))\n+      }\n+      new FetchResponse(Errors.NONE, responseData, 100, 100)\n+    }\n+\n+    val throttledPartition = new TopicPartition(\"throttledData\", 0)\n+    val throttledData = Map(throttledPartition -> \"throttledData\")\n+    val expectedSize = FetchResponse.sizeOf(FetchResponseData.HIGHEST_SUPPORTED_VERSION,\n+      fetchResponse(throttledData).responseData().entrySet().iterator())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05474c3d9f273ace0b5fe28c5426b35eb762e5b1"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxNDE2ODA5OnYy", "diffSide": "RIGHT", "path": "core/src/test/scala/unit/kafka/server/KafkaApisTest.scala", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxMzo1NTo1N1rOIGMFdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxMzo1NTo1N1rOIGMFdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzM2MDM3NQ==", "bodyText": "Seems like we could move this method to some utility class or the KafkaApis companion object and then you don't need to mock KafkaApis at all.", "url": "https://github.com/apache/kafka/pull/9755#discussion_r543360375", "createdAt": "2020-12-15T13:55:57Z", "author": {"login": "ijuma"}, "path": "core/src/test/scala/unit/kafka/server/KafkaApisTest.scala", "diffHunk": "@@ -3045,4 +3046,32 @@ class KafkaApisTest {\n       Errors.LOG_DIR_NOT_FOUND -> 1,\n       Errors.INVALID_TOPIC_EXCEPTION -> 1).asJava, response.errorCounts)\n   }\n+\n+  @Test\n+  def testSizeOfThrottledPartitions(): Unit = {\n+    def fetchResponse(data: Map[TopicPartition, String]): FetchResponse[Records] = {\n+      val responseData = new util.LinkedHashMap[TopicPartition, FetchResponse.PartitionData[Records]]\n+      data.foreach {\n+        case (tp, raw) =>\n+          responseData.put(tp, new FetchResponse.PartitionData(Errors.NONE,\n+            105, 105, 0, Optional.empty(), Collections.emptyList(), Optional.empty(),\n+            MemoryRecords.withRecords(CompressionType.NONE, new SimpleRecord(100, raw.getBytes(StandardCharsets.UTF_8)))))\n+      }\n+      new FetchResponse(Errors.NONE, responseData, 100, 100)\n+    }\n+\n+    val throttledPartition = new TopicPartition(\"throttledData\", 0)\n+    val throttledData = Map(throttledPartition -> \"throttledData\")\n+    val expectedSize = FetchResponse.sizeOf(FetchResponseData.HIGHEST_SUPPORTED_VERSION,\n+      fetchResponse(throttledData).responseData().entrySet().iterator())\n+\n+    val response = fetchResponse(throttledData ++ Map(new TopicPartition(\"nonThrottledData\", 0) -> \"nonThrottledData\"))\n+\n+    val quota = Mockito.mock(classOf[ReplicationQuotaManager])\n+    Mockito.when(quota.isThrottled(ArgumentMatchers.any(classOf[TopicPartition])))\n+      .thenAnswer(invocation => throttledPartition == invocation.getArgument(0).asInstanceOf[TopicPartition])\n+\n+    val kafkaApis = createKafkaApis()\n+    assertEquals(expectedSize, kafkaApis.sizeOfThrottledPartitions(FetchResponseData.HIGHEST_SUPPORTED_VERSION, response, quota))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05474c3d9f273ace0b5fe28c5426b35eb762e5b1"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxNDQzMjM3OnYy", "diffSide": "RIGHT", "path": "core/src/main/scala/kafka/server/KafkaApisUtils.scala", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxNDozNjoyMVrOIGOf-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxNDo1MDozMlrOIGPPhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzM5OTkzMA==", "bodyText": "I don't think creating a KafkaApisUtils makes things any better since it's unclear when to use this and when to use KafkaApis. If there is no utilities class related to quotas and requests handling, I would put it in the KafkaApis companion object.", "url": "https://github.com/apache/kafka/pull/9755#discussion_r543399930", "createdAt": "2020-12-15T14:36:21Z", "author": {"login": "ijuma"}, "path": "core/src/main/scala/kafka/server/KafkaApisUtils.scala", "diffHunk": "@@ -0,0 +1,39 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package kafka.server\n+\n+import org.apache.kafka.common.record.Records\n+import org.apache.kafka.common.requests.FetchResponse\n+\n+import scala.jdk.CollectionConverters._\n+\n+/**\n+ * the suites of helpers for KafkaApis class.\n+ * We don't use companion object since KafkaApis is too fat.\n+ */\n+object KafkaApisUtils {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85bcabf7c4fbc3c160ddf1b053974e087de4d66a"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzQxMjEwMQ==", "bodyText": "make sense. will replace utils by companion object.", "url": "https://github.com/apache/kafka/pull/9755#discussion_r543412101", "createdAt": "2020-12-15T14:50:32Z", "author": {"login": "chia7712"}, "path": "core/src/main/scala/kafka/server/KafkaApisUtils.scala", "diffHunk": "@@ -0,0 +1,39 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package kafka.server\n+\n+import org.apache.kafka.common.record.Records\n+import org.apache.kafka.common.requests.FetchResponse\n+\n+import scala.jdk.CollectionConverters._\n+\n+/**\n+ * the suites of helpers for KafkaApis class.\n+ * We don't use companion object since KafkaApis is too fat.\n+ */\n+object KafkaApisUtils {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzM5OTkzMA=="}, "originalCommit": {"oid": "85bcabf7c4fbc3c160ddf1b053974e087de4d66a"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzNDk1NzU5OnYy", "diffSide": "RIGHT", "path": "core/src/main/scala/kafka/server/KafkaApis.scala", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoyOToyMlrOIJFjFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoyOToyMlrOIJFjFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5ODk5OA==", "bodyText": "Indent is not right.", "url": "https://github.com/apache/kafka/pull/9755#discussion_r546398998", "createdAt": "2020-12-20T16:29:22Z", "author": {"login": "ijuma"}, "path": "core/src/main/scala/kafka/server/KafkaApis.scala", "diffHunk": "@@ -3530,3 +3494,14 @@ class KafkaApis(val requestChannel: RequestChannel,\n   }\n \n }\n+\n+object KafkaApis {\n+    // Traffic from both in-sync and out of sync replicas are accounted for in replication quota to ensure total replication", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9d8b9a577d25baf8948a9fddf07bb8d2580ee33"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzNDk1Nzk4OnYy", "diffSide": "RIGHT", "path": "core/src/main/scala/kafka/server/KafkaApis.scala", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjozMDowNVrOIJFjUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjozMDowNVrOIJFjUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5OTA1Nw==", "bodyText": "A couple of unnecessary ().", "url": "https://github.com/apache/kafka/pull/9755#discussion_r546399057", "createdAt": "2020-12-20T16:30:05Z", "author": {"login": "ijuma"}, "path": "core/src/main/scala/kafka/server/KafkaApis.scala", "diffHunk": "@@ -3530,3 +3494,14 @@ class KafkaApis(val requestChannel: RequestChannel,\n   }\n \n }\n+\n+object KafkaApis {\n+    // Traffic from both in-sync and out of sync replicas are accounted for in replication quota to ensure total replication\n+  // traffic doesn't exceed quota.\n+  private[server] def sizeOfThrottledPartitions(versionId: Short,\n+                                                unconvertedResponse: FetchResponse[Records],\n+                                                quota: ReplicationQuotaManager): Int = {\n+    FetchResponse.sizeOf(versionId, unconvertedResponse.responseData.entrySet()\n+      .iterator().asScala.filter(element => quota.isThrottled(element.getKey)).asJava)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9d8b9a577d25baf8948a9fddf07bb8d2580ee33"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzNDk1OTIxOnYy", "diffSide": "RIGHT", "path": "core/src/test/scala/unit/kafka/server/KafkaApisTest.scala", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjozMTozM1rOIJFj7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjozMTozM1rOIJFj7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5OTIxMg==", "bodyText": "Unnecessary () here and in the inner method.", "url": "https://github.com/apache/kafka/pull/9755#discussion_r546399212", "createdAt": "2020-12-20T16:31:33Z", "author": {"login": "ijuma"}, "path": "core/src/test/scala/unit/kafka/server/KafkaApisTest.scala", "diffHunk": "@@ -3067,4 +3067,31 @@ class KafkaApisTest {\n       Errors.LOG_DIR_NOT_FOUND -> 1,\n       Errors.INVALID_TOPIC_EXCEPTION -> 1).asJava, response.errorCounts)\n   }\n+\n+  @Test\n+  def testSizeOfThrottledPartitions(): Unit = {\n+    def fetchResponse(data: Map[TopicPartition, String]): FetchResponse[Records] = {\n+      val responseData = new util.LinkedHashMap[TopicPartition, FetchResponse.PartitionData[Records]](data.map {\n+        case (tp, raw) =>\n+          tp -> new FetchResponse.PartitionData(Errors.NONE,\n+            105, 105, 0, Optional.empty(), Collections.emptyList(), Optional.empty(),\n+            MemoryRecords.withRecords(CompressionType.NONE,\n+              new SimpleRecord(100, raw.getBytes(StandardCharsets.UTF_8))).asInstanceOf[Records])\n+      }.toMap.asJava)\n+      new FetchResponse(Errors.NONE, responseData, 100, 100)\n+    }\n+\n+    val throttledPartition = new TopicPartition(\"throttledData\", 0)\n+    val throttledData = Map(throttledPartition -> \"throttledData\")\n+    val expectedSize = FetchResponse.sizeOf(FetchResponseData.HIGHEST_SUPPORTED_VERSION,\n+      fetchResponse(throttledData).responseData().entrySet().iterator)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9d8b9a577d25baf8948a9fddf07bb8d2580ee33"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzNDk2MTQ3OnYy", "diffSide": "RIGHT", "path": "core/src/test/scala/unit/kafka/server/KafkaApisTest.scala", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjozMzo1OFrOIJFk_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjozMzo1OFrOIJFk_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5OTQ4NQ==", "bodyText": "I think I'd move data to the next line to make it a bit more readable.", "url": "https://github.com/apache/kafka/pull/9755#discussion_r546399485", "createdAt": "2020-12-20T16:33:58Z", "author": {"login": "ijuma"}, "path": "core/src/test/scala/unit/kafka/server/KafkaApisTest.scala", "diffHunk": "@@ -3067,4 +3067,31 @@ class KafkaApisTest {\n       Errors.LOG_DIR_NOT_FOUND -> 1,\n       Errors.INVALID_TOPIC_EXCEPTION -> 1).asJava, response.errorCounts)\n   }\n+\n+  @Test\n+  def testSizeOfThrottledPartitions(): Unit = {\n+    def fetchResponse(data: Map[TopicPartition, String]): FetchResponse[Records] = {\n+      val responseData = new util.LinkedHashMap[TopicPartition, FetchResponse.PartitionData[Records]](data.map {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9d8b9a577d25baf8948a9fddf07bb8d2580ee33"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3512, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}