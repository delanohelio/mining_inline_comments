{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2ODg2MjY2", "number": 9236, "title": "MINOR: Log warn message with details when there's kerberos login issue", "bodyText": "\u2026though we will still retry\nCurrently, we just capture the exception and retry later, we can't figure out what happened at runtime, it would be helpful to log a warn message with details.\nSummary of testing strategy (including rationale)\nfor the feature or bug fix. Unit and/or integration\ntests are expected for any behaviour change and\nsystem tests should be considered for larger changes.\nMinor logging change, so no extra test is required.\nCommitter Checklist (excluded from commit message)\n\n Verify design and implementation\n Verify test coverage and CI build status\n Verify documentation (including upgrade notes)", "createdAt": "2020-09-01T07:41:53Z", "url": "https://github.com/apache/kafka/pull/9236", "merged": true, "mergeCommit": {"oid": "2a27e0ddce9f4d2157522f7a9eaef234b3f24596"}, "closed": true, "closedAt": "2020-09-19T13:31:35Z", "author": {"login": "cnZach"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdE3RjYgFqTQ4MDU3Mjg2Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdKaDdHgFqTQ5MTk5ODE3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNTcyODY3", "url": "https://github.com/apache/kafka/pull/9236#pullrequestreview-480572867", "createdAt": "2020-09-02T07:56:52Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNzo1Njo1M1rOHLiF4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNzo1Njo1M1rOHLiF4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTg1NDk0Nw==", "bodyText": "e => le ?", "url": "https://github.com/apache/kafka/pull/9236#discussion_r481854947", "createdAt": "2020-09-02T07:56:53Z", "author": {"login": "omkreddy"}, "path": "clients/src/main/java/org/apache/kafka/common/security/kerberos/KerberosLogin.java", "diffHunk": "@@ -237,6 +238,7 @@ public LoginContext login() throws LoginException {\n                             break;\n                         } catch (LoginException le) {\n                             if (retry > 0) {\n+                                log.warn(\"[Principal={}]: Error when trying to re-Login, but will retry \", principal, e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestCommit", "commit": {"oid": "582d6753f245243d2e0a99df50959b213ce1374d", "author": {"user": {"login": "cnZach", "name": "Zach Zhang"}}, "url": "https://github.com/apache/kafka/commit/582d6753f245243d2e0a99df50959b213ce1374d", "committedDate": "2020-09-15T01:40:17Z", "message": "log warn message when there's kerberos login exception, though we will still retry"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3fa486b73d5ea89249afaede0241932a6f2e929", "author": {"user": {"login": "cnZach", "name": "Zach Zhang"}}, "url": "https://github.com/apache/kafka/commit/a3fa486b73d5ea89249afaede0241932a6f2e929", "committedDate": "2020-09-15T01:40:17Z", "message": "remove an extra space"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc7da4e8ceb58098a8ae829f6656e11453db5e2a", "author": {"user": {"login": "cnZach", "name": "Zach Zhang"}}, "url": "https://github.com/apache/kafka/commit/cc7da4e8ceb58098a8ae829f6656e11453db5e2a", "committedDate": "2020-09-15T01:40:17Z", "message": "exception is le"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "cc7da4e8ceb58098a8ae829f6656e11453db5e2a", "author": {"user": {"login": "cnZach", "name": "Zach Zhang"}}, "url": "https://github.com/apache/kafka/commit/cc7da4e8ceb58098a8ae829f6656e11453db5e2a", "committedDate": "2020-09-15T01:40:17Z", "message": "exception is le"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4NDkzNjk2", "url": "https://github.com/apache/kafka/pull/9236#pullrequestreview-488493696", "createdAt": "2020-09-15T09:25:12Z", "commit": {"oid": "cc7da4e8ceb58098a8ae829f6656e11453db5e2a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwOToyNToxMlrOHR42yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwOToyNToxMlrOHR42yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODUxOTM3MA==", "bodyText": "@cnZach Looks like the intention was to print out the exception with stack trace? You would want to use:\npublic void warn(String msg, Throwable t);", "url": "https://github.com/apache/kafka/pull/9236#discussion_r488519370", "createdAt": "2020-09-15T09:25:12Z", "author": {"login": "rajinisivaram"}, "path": "clients/src/main/java/org/apache/kafka/common/security/kerberos/KerberosLogin.java", "diffHunk": "@@ -213,6 +213,7 @@ public LoginContext login() throws LoginException {\n                             break;\n                         } catch (Exception e) {\n                             if (retry > 0) {\n+                                log.warn(\"[Principal={}]: Error when trying to renew with TicketCache, but will retry \", principal, e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc7da4e8ceb58098a8ae829f6656e11453db5e2a"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxOTk4MTc3", "url": "https://github.com/apache/kafka/pull/9236#pullrequestreview-491998177", "createdAt": "2020-09-19T13:17:47Z", "commit": {"oid": "cc7da4e8ceb58098a8ae829f6656e11453db5e2a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 854, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}