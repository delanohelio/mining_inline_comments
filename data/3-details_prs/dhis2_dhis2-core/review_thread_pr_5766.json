{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3ODI1ODE4", "number": 5766, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMDozNToyN1rOEHhIVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNjo1NjoyN1rOEH1k9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MzE4Mjk0OnYy", "diffSide": "RIGHT", "path": "dhis-2/dhis-support/dhis-support-db-migration/src/main/resources/org/hisp/dhis/db/migration/2.35/V2_35_7__Add_Uuid_User_Columns.sql", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMDozNToyN1rOGm7HcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMToxMzo0OFrOGm8POg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzQ2NzYzMw==", "bodyText": "Check if we potentially could map to PostgreSQL uuid data type.", "url": "https://github.com/dhis2/dhis2-core/pull/5766#discussion_r443467633", "createdAt": "2020-06-22T10:35:27Z", "author": {"login": "larshelge"}, "path": "dhis-2/dhis-support/dhis-support-db-migration/src/main/resources/org/hisp/dhis/db/migration/2.35/V2_35_7__Add_Uuid_User_Columns.sql", "diffHunk": "@@ -0,0 +1,7 @@\n+\n+\n+ALTER TABLE users ADD COLUMN IF NOT EXISTS \"uuid\" VARCHAR(36);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cf2cb235570ee8c82354931b27e6d398bb33a0b"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzQ4NjAxMA==", "bodyText": "Please check again, its now using uuid type instead, and using pg-uuid hibernate type for conversion.", "url": "https://github.com/dhis2/dhis2-core/pull/5766#discussion_r443486010", "createdAt": "2020-06-22T11:13:48Z", "author": {"login": "mortenoh"}, "path": "dhis-2/dhis-support/dhis-support-db-migration/src/main/resources/org/hisp/dhis/db/migration/2.35/V2_35_7__Add_Uuid_User_Columns.sql", "diffHunk": "@@ -0,0 +1,7 @@\n+\n+\n+ALTER TABLE users ADD COLUMN IF NOT EXISTS \"uuid\" VARCHAR(36);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzQ2NzYzMw=="}, "originalCommit": {"oid": "7cf2cb235570ee8c82354931b27e6d398bb33a0b"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NjUzMzAzOnYy", "diffSide": "RIGHT", "path": "dhis-2/dhis-support/dhis-support-db-migration/src/main/resources/org/hisp/dhis/db/migration/2.35/V2_35_6__Add_Uuid_Generator.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNjo1NjoyN1rOGnbskg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNjo1NjoyN1rOGnbskg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDAwMTQyNg==", "bodyText": "I'm not 100% sure I understand all parts of this function.\nDo you have any links/urls to where you found it or if you made it yourself may write some comments to what is going on.\nA test for its uniqueness properties would also be nice.", "url": "https://github.com/dhis2/dhis2-core/pull/5766#discussion_r444001426", "createdAt": "2020-06-23T06:56:27Z", "author": {"login": "netroms"}, "path": "dhis-2/dhis-support/dhis-support-db-migration/src/main/resources/org/hisp/dhis/db/migration/2.35/V2_35_6__Add_Uuid_Generator.sql", "diffHunk": "@@ -0,0 +1,12 @@\n+\n+\n+CREATE OR REPLACE FUNCTION gen_random_uuid() RETURNS uuid\n+    AS $$\n+        SELECT uuid_in(\n+            overlay(\n+                overlay(md5(random()::text || ':' || clock_timestamp()::text) placing '4' from 13)\n+                placing to_hex(floor(random()*(11-8+1) + 8)::int)::text from 17\n+            )::cstring\n+        )::uuid\n+    $$\n+    LANGUAGE SQL;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd56f9603e76d550062ed53da2a91ac2f0350804"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3394, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}