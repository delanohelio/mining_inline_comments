{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3NzU5Mjk2", "number": 6460, "title": "chore: remove duplicate get in integrity check getter/setter", "bodyText": "This is a non-functional change.  For some reason the getter and setter for one integrity check had an extra get in the name:\nprivate List<ProgramIndicator> getProgramIndicatorWithNoExpression; // not a getter, shouldn't start with get\npublic List<ProgramIndicator> getGetProgramIndicatorWithNoExpression; // extra get in getter name\npublic void setGetProgramIndicatorWithNoExpression; // extra get in setter name\n\nThe variable, getter, and setter names were also singular instead of plural (Indicator not Indicators)\nThis is a purely code quality and readability change - the serializable class FlattenedDataIntegrityReport.java correctly renamed the variable to programIndicatorsWithNoExpression (no prefix, plural), so there is no change in the API response.\nThe pre-commit style plugin caused a lot of noise in this PR, sorry about that...", "createdAt": "2020-10-21T18:01:23Z", "url": "https://github.com/dhis2/dhis2-core/pull/6460", "merged": true, "mergeCommit": {"oid": "b8d7402b0ddd71543dd1bce60384d49d06f63131"}, "closed": true, "closedAt": "2020-11-03T09:27:59Z", "author": {"login": "amcgee"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUxLmEAH2gAyNTA3NzU5Mjk2OjQ1YzdkNTc3ZDBiODEzZWQwZDg2Njc0MWYxMjEzZmJlZTNlOWQ0NjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdY1u9sgFqTUyMjMxMjgxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "45c7d577d0b813ed0d866741f1213fbee3e9d465", "author": {"user": {"login": "amcgee", "name": "Austin McGee"}}, "url": "https://github.com/dhis2/dhis2-core/commit/45c7d577d0b813ed0d866741f1213fbee3e9d465", "committedDate": "2020-10-21T17:53:44Z", "message": "chore: remove duplicate get in integrity check getter/setter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0MDM4NjQz", "url": "https://github.com/dhis2/dhis2-core/pull/6460#pullrequestreview-514038643", "createdAt": "2020-10-21T18:02:54Z", "commit": {"oid": "45c7d577d0b813ed0d866741f1213fbee3e9d465"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxODowMjo1NFrOHl7O1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxODowMjo1NFrOHl7O1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTUyOTgxNA==", "bodyText": "This is the relevant change", "url": "https://github.com/dhis2/dhis2-core/pull/6460#discussion_r509529814", "createdAt": "2020-10-21T18:02:54Z", "author": {"login": "amcgee"}, "path": "dhis-2/dhis-api/src/main/java/org/hisp/dhis/dataintegrity/DataIntegrityReport.java", "diffHunk": "@@ -44,68 +54,58 @@\n import org.hisp.dhis.programrule.ProgramRuleVariable;\n import org.hisp.dhis.validation.ValidationRule;\n \n-import java.util.ArrayList;\n-import java.util.Collection;\n-import java.util.HashMap;\n-import java.util.HashSet;\n-import java.util.List;\n-import java.util.Map;\n-import java.util.Set;\n-import java.util.SortedMap;\n-import java.util.TreeMap;\n-\n /**\n  * @author Halvdan Hoem Grelland <halvdanhg@gmail.com>\n  */\n public class DataIntegrityReport\n {\n     private List<DataElement> dataElementsWithoutDataSet = new ArrayList<>();\n-    \n+\n     private List<DataElement> dataElementsWithoutGroups = new ArrayList<>();\n-    \n+\n     private Map<DataElement, Collection<DataSet>> dataElementsAssignedToDataSetsWithDifferentPeriodTypes = new HashMap<>();\n-    \n+\n     private SortedMap<DataElement, Collection<DataElementGroup>> dataElementsViolatingExclusiveGroupSets = new TreeMap<>();\n \n     private SortedMap<DataSet, Collection<DataElement>> dataElementsInDataSetNotInForm = new TreeMap<>();\n-    \n+\n     private List<CategoryCombo> invalidCategoryCombos = new ArrayList<>();\n \n     private List<DataSet> dataSetsNotAssignedToOrganisationUnits = new ArrayList<>();\n-    \n+\n     private Set<Set<Indicator>> indicatorsWithIdenticalFormulas = new HashSet<>();\n-    \n+\n     private List<Indicator> indicatorsWithoutGroups = new ArrayList<>();\n-    \n+\n     private Map<Indicator, String> invalidIndicatorNumerators = new HashMap<>();\n-    \n+\n     private Map<Indicator, String> invalidIndicatorDenominators = new HashMap<>();\n-    \n+\n     private SortedMap<Indicator, Collection<IndicatorGroup>> indicatorsViolatingExclusiveGroupSets = new TreeMap<>();\n-    \n+\n     private List<Period> duplicatePeriods = new ArrayList<>();\n-    \n+\n     private List<OrganisationUnit> organisationUnitsWithCyclicReferences = new ArrayList<>();\n-    \n+\n     private List<OrganisationUnit> orphanedOrganisationUnits = new ArrayList<>();\n-    \n+\n     private List<OrganisationUnit> organisationUnitsWithoutGroups = new ArrayList<>();\n-    \n+\n     private SortedMap<OrganisationUnit, Collection<OrganisationUnitGroup>> organisationUnitsViolatingExclusiveGroupSets = new TreeMap<>();\n-    \n+\n     private List<OrganisationUnitGroup> organisationUnitGroupsWithoutGroupSets = new ArrayList<>();\n-    \n+\n     private List<ValidationRule> validationRulesWithoutGroups = new ArrayList<>();\n-    \n+\n     private Map<ValidationRule, String> invalidValidationRuleLeftSideExpressions = new HashMap<>();\n-    \n+\n     private Map<ValidationRule, String> invalidValidationRuleRightSideExpressions = new HashMap<>();\n \n     private Map<ProgramIndicator, String> invalidProgramIndicatorExpressions = new HashMap<>();\n \n     private Map<ProgramIndicator, String> invalidProgramIndicatorFilters = new HashMap<>();\n \n-    private List<ProgramIndicator> getProgramIndicatorWithNoExpression = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45c7d577d0b813ed0d866741f1213fbee3e9d465"}, "originalPosition": 103}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0MDM4OTA2", "url": "https://github.com/dhis2/dhis2-core/pull/6460#pullrequestreview-514038906", "createdAt": "2020-10-21T18:03:14Z", "commit": {"oid": "45c7d577d0b813ed0d866741f1213fbee3e9d465"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxODowMzoxNFrOHl7QZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxODowNDozNVrOHl7XKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTUzMDIxMg==", "bodyText": "Along with this", "url": "https://github.com/dhis2/dhis2-core/pull/6460#discussion_r509530212", "createdAt": "2020-10-21T18:03:14Z", "author": {"login": "amcgee"}, "path": "dhis-2/dhis-api/src/main/java/org/hisp/dhis/dataintegrity/DataIntegrityReport.java", "diffHunk": "@@ -358,22 +366,23 @@ public void setInvalidProgramIndicatorFilters( Map<ProgramIndicator, String> inv\n         this.invalidProgramIndicatorFilters = invalidProgramIndicatorFilters;\n     }\n \n-    public List<ProgramIndicator> getGetProgramIndicatorWithNoExpression()\n+    public List<ProgramIndicator> getProgramIndicatorsWithNoExpression()\n     {\n-        return getProgramIndicatorWithNoExpression;\n+        return programIndicatorsWithNoExpression;\n     }\n \n-    public void setGetProgramIndicatorWithNoExpression( List<ProgramIndicator> getProgramIndicatorWithNoExpression )\n+    public void setProgramIndicatorsWithNoExpression( List<ProgramIndicator> programIndicatorsWithNoExpression )\n     {\n-        this.getProgramIndicatorWithNoExpression = getProgramIndicatorWithNoExpression;\n+        this.programIndicatorsWithNoExpression = programIndicatorsWithNoExpression;\n     }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45c7d577d0b813ed0d866741f1213fbee3e9d465"}, "originalPosition": 227}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTUzMDc2MQ==", "bodyText": "And this", "url": "https://github.com/dhis2/dhis2-core/pull/6460#discussion_r509530761", "createdAt": "2020-10-21T18:03:33Z", "author": {"login": "amcgee"}, "path": "dhis-2/dhis-services/dhis-service-administration/src/main/java/org/hisp/dhis/dataintegrity/DefaultDataIntegrityService.java", "diffHunk": "@@ -613,7 +624,7 @@ public DataIntegrityReport getDataIntegrityReport()\n \n         report.setInvalidProgramIndicatorExpressions( getInvalidProgramIndicatorExpressions() );\n         report.setInvalidProgramIndicatorFilters( getInvalidProgramIndicatorFilters() );\n-        report.setGetProgramIndicatorWithNoExpression( getProgramIndicatorsWithNoExpression() );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45c7d577d0b813ed0d866741f1213fbee3e9d465"}, "originalPosition": 162}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTUzMTk0Ng==", "bodyText": "And finally this", "url": "https://github.com/dhis2/dhis2-core/pull/6460#discussion_r509531946", "createdAt": "2020-10-21T18:04:35Z", "author": {"login": "amcgee"}, "path": "dhis-2/dhis-api/src/main/java/org/hisp/dhis/dataintegrity/FlattenedDataIntegrityReport.java", "diffHunk": "@@ -176,23 +182,28 @@ public FlattenedDataIntegrityReport( org.hisp.dhis.dataintegrity.DataIntegrityRe\n \n         duplicatePeriods = transformCollection( report.getDuplicatePeriods() );\n \n-        organisationUnitsWithCyclicReferences = transformCollection( report.getOrganisationUnitsWithCyclicReferences() );\n+        organisationUnitsWithCyclicReferences = transformCollection(\n+            report.getOrganisationUnitsWithCyclicReferences() );\n \n         orphanedOrganisationUnits = transformCollection( report.getOrphanedOrganisationUnits() );\n \n         organisationUnitsWithoutGroups = transformCollection( report.getOrganisationUnitsWithoutGroups() );\n \n-        organisationUnitsViolatingExclusiveGroupSets = transformSortedMap( report.getOrganisationUnitsViolatingExclusiveGroupSets() );\n+        organisationUnitsViolatingExclusiveGroupSets = transformSortedMap(\n+            report.getOrganisationUnitsViolatingExclusiveGroupSets() );\n \n-        organisationUnitGroupsWithoutGroupSets = transformCollection( report.getOrganisationUnitGroupsWithoutGroupSets() );\n+        organisationUnitGroupsWithoutGroupSets = transformCollection(\n+            report.getOrganisationUnitGroupsWithoutGroupSets() );\n \n         validationRulesWithoutGroups = transformCollection( report.getValidationRulesWithoutGroups() );\n \n-        invalidValidationRuleLeftSideExpressions = transformMapOfStrings( report.getInvalidValidationRuleLeftSideExpressions() );\n+        invalidValidationRuleLeftSideExpressions = transformMapOfStrings(\n+            report.getInvalidValidationRuleLeftSideExpressions() );\n \n-        invalidValidationRuleRightSideExpressions = transformMapOfStrings( report.getInvalidValidationRuleRightSideExpressions() );\n+        invalidValidationRuleRightSideExpressions = transformMapOfStrings(\n+            report.getInvalidValidationRuleRightSideExpressions() );\n \n-        programIndicatorsWithNoExpression = transformCollection( report.getGetProgramIndicatorWithNoExpression() );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45c7d577d0b813ed0d866741f1213fbee3e9d465"}, "originalPosition": 85}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d253a49ad384db46f4322442417865a312fe6077", "author": {"user": {"login": "amcgee", "name": "Austin McGee"}}, "url": "https://github.com/dhis2/dhis2-core/commit/d253a49ad384db46f4322442417865a312fe6077", "committedDate": "2020-10-23T12:59:30Z", "message": "chore: fix sonarcloud code smell - don't access static members from derived types"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMzEyODE5", "url": "https://github.com/dhis2/dhis2-core/pull/6460#pullrequestreview-522312819", "createdAt": "2020-11-03T09:27:41Z", "commit": {"oid": "d253a49ad384db46f4322442417865a312fe6077"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2346, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}