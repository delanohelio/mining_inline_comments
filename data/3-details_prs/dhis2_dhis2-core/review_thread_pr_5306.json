{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4NDk2MjYy", "number": 5306, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwNjo0NToxN1rODu_Pyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwNjo0NToxN1rODu_Pyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNTk3MzIzOnYy", "diffSide": "RIGHT", "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/sms/listener/CompressionSMSListener.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwNjo0NToxN1rOGBJwCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMjo0NToxM1rOGBV9Vg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg2MTUxMg==", "bodyText": "@JasperTimm the SDK is not downloading this metadata. Should we do it? Also, I would say that trackedEntityInstances, enrollments, events and relationships are data. In a typical use case the android app would not have all this data because it could be huge", "url": "https://github.com/dhis2/dhis2-core/pull/5306#discussion_r403861512", "createdAt": "2020-04-06T06:45:17Z", "author": {"login": "vgarciabnz"}, "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/sms/listener/CompressionSMSListener.java", "diffHunk": "@@ -245,6 +249,13 @@ private SMSMetadata getMetadata( Date lastSyncDate )\n         meta.trackedEntityAttributes = getTypeUidsBefore( TrackedEntityAttribute.class, lastSyncDate );\n         meta.programs = getTypeUidsBefore( Program.class, lastSyncDate );\n         meta.organisationUnits = getTypeUidsBefore( OrganisationUnit.class, lastSyncDate );\n+        meta.programStages = getTypeUidsBefore( ProgramStage.class, lastSyncDate );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3bf71342ec990b79a93ff5b1dff5ad9db0ef161"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDAyMTIzMQ==", "bodyText": "@vgarciabnz yeah that's a good point, I was going to discuss that with you guys, I sort of came to the same conclusion (that TEIs, enrolments and events are more so data). In that case I'll remove the handling for it from the compression library.\nAlso yes, I think it makes sense for the SDK to download all other metadata. ProgramStages is quite small I imagine.", "url": "https://github.com/dhis2/dhis2-core/pull/5306#discussion_r404021231", "createdAt": "2020-04-06T11:33:05Z", "author": {"login": "JasperTimm"}, "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/sms/listener/CompressionSMSListener.java", "diffHunk": "@@ -245,6 +249,13 @@ private SMSMetadata getMetadata( Date lastSyncDate )\n         meta.trackedEntityAttributes = getTypeUidsBefore( TrackedEntityAttribute.class, lastSyncDate );\n         meta.programs = getTypeUidsBefore( Program.class, lastSyncDate );\n         meta.organisationUnits = getTypeUidsBefore( OrganisationUnit.class, lastSyncDate );\n+        meta.programStages = getTypeUidsBefore( ProgramStage.class, lastSyncDate );", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg2MTUxMg=="}, "originalCommit": {"oid": "c3bf71342ec990b79a93ff5b1dff5ad9db0ef161"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA2MTUyNg==", "bodyText": "Yes, i think it makes sense to include programStages, relationshipTypes and dataSets.", "url": "https://github.com/dhis2/dhis2-core/pull/5306#discussion_r404061526", "createdAt": "2020-04-06T12:45:13Z", "author": {"login": "vgarciabnz"}, "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/sms/listener/CompressionSMSListener.java", "diffHunk": "@@ -245,6 +249,13 @@ private SMSMetadata getMetadata( Date lastSyncDate )\n         meta.trackedEntityAttributes = getTypeUidsBefore( TrackedEntityAttribute.class, lastSyncDate );\n         meta.programs = getTypeUidsBefore( Program.class, lastSyncDate );\n         meta.organisationUnits = getTypeUidsBefore( OrganisationUnit.class, lastSyncDate );\n+        meta.programStages = getTypeUidsBefore( ProgramStage.class, lastSyncDate );", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg2MTUxMg=="}, "originalCommit": {"oid": "c3bf71342ec990b79a93ff5b1dff5ad9db0ef161"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3475, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}