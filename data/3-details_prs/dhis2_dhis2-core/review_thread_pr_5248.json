{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3MDEwMTky", "number": 5248, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQwNzozNjozOVrODt1N8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQwNzozNjozOVrODt1N8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5Mzg0NDM0OnYy", "diffSide": "RIGHT", "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/sms/listener/EnrollmentSMSListener.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQwNzozNjozOVrOF_ezaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QwNzozNjozNlrOGAIYmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjEwOTI5MQ==", "bodyText": "Could we use .getUid() here?", "url": "https://github.com/dhis2/dhis2-core/pull/5248#discussion_r402109291", "createdAt": "2020-04-02T07:36:39Z", "author": {"login": "larshelge"}, "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/sms/listener/EnrollmentSMSListener.java", "diffHunk": "@@ -182,7 +182,7 @@ protected SMSResponse postProcess( IncomingSms sms, SMSSubmission submission )\n         else\n         {\n             enrollment = programInstanceService.enrollTrackedEntityInstance( tei, program, enrollmentDate, incidentDate,\n-                orgUnit );\n+                orgUnit, enrollmentid.uid );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f6bf26a9472ecc021eda9e40ec94c6958fb5ef0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjcyMDk5NQ==", "bodyText": "enrollmentid is a class called UID from the SMS compression library: https://github.com/dhis2/sms-compression/blob/master/src/main/java/org/hisp/dhis/smscompression/models/UID.java\nIt has a toString() method we can use but it can potentially return a hash of the UID if the actual UID is null.\nIt feels like it's probably worthwhile me adding a getUid() to the class.", "url": "https://github.com/dhis2/dhis2-core/pull/5248#discussion_r402720995", "createdAt": "2020-04-03T03:45:17Z", "author": {"login": "JasperTimm"}, "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/sms/listener/EnrollmentSMSListener.java", "diffHunk": "@@ -182,7 +182,7 @@ protected SMSResponse postProcess( IncomingSms sms, SMSSubmission submission )\n         else\n         {\n             enrollment = programInstanceService.enrollTrackedEntityInstance( tei, program, enrollmentDate, incidentDate,\n-                orgUnit );\n+                orgUnit, enrollmentid.uid );", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjEwOTI5MQ=="}, "originalCommit": {"oid": "3f6bf26a9472ecc021eda9e40ec94c6958fb5ef0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjc0NzAyNw==", "bodyText": "this is an external library (sms-compression). Another approach would be to have getUid() in the upcoming versions of sms-compression library.", "url": "https://github.com/dhis2/dhis2-core/pull/5248#discussion_r402747027", "createdAt": "2020-04-03T05:39:30Z", "author": {"login": "zubaira"}, "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/sms/listener/EnrollmentSMSListener.java", "diffHunk": "@@ -182,7 +182,7 @@ protected SMSResponse postProcess( IncomingSms sms, SMSSubmission submission )\n         else\n         {\n             enrollment = programInstanceService.enrollTrackedEntityInstance( tei, program, enrollmentDate, incidentDate,\n-                orgUnit );\n+                orgUnit, enrollmentid.uid );", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjEwOTI5MQ=="}, "originalCommit": {"oid": "3f6bf26a9472ecc021eda9e40ec94c6958fb5ef0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjc5MDU1Mw==", "bodyText": "Yes let's provide public get methods for the methods we would like to callers (instead of using internal properties directly). Change the properties to be private.", "url": "https://github.com/dhis2/dhis2-core/pull/5248#discussion_r402790553", "createdAt": "2020-04-03T07:36:36Z", "author": {"login": "larshelge"}, "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/sms/listener/EnrollmentSMSListener.java", "diffHunk": "@@ -182,7 +182,7 @@ protected SMSResponse postProcess( IncomingSms sms, SMSSubmission submission )\n         else\n         {\n             enrollment = programInstanceService.enrollTrackedEntityInstance( tei, program, enrollmentDate, incidentDate,\n-                orgUnit );\n+                orgUnit, enrollmentid.uid );", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjEwOTI5MQ=="}, "originalCommit": {"oid": "3f6bf26a9472ecc021eda9e40ec94c6958fb5ef0"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3503, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}