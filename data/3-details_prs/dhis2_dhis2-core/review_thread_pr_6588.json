{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2Nzc1MTQy", "number": 6588, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQwNzo1NzozM1rOE2pK1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQwNzo1NzozM1rOE2pK1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1NzMzMDc5OnYy", "diffSide": "RIGHT", "path": "dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/DefaultTrackerImportService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQwNzo1NzozM1rOHviqVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQwODo0NTo0MlrOHvkMjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTYxMzAxNA==", "bodyText": "Is this method ever returning a null bundleReport?", "url": "https://github.com/dhis2/dhis2-core/pull/6588#discussion_r519613014", "createdAt": "2020-11-09T07:57:33Z", "author": {"login": "enricocolasante"}, "path": "dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/DefaultTrackerImportService.java", "diffHunk": "@@ -186,9 +191,10 @@ protected void commitBundle( TrackerImportParams params, TrackerImportReport imp\n \n         TrackerBundleReport bundleReport = trackerBundleService.commit( trackerBundle );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2c823312bec850a9b2682329afc2a75c8d1da1f"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTYzODE1Ng==", "bodyText": "nope, but in case of TrackerBundleMode.VALIDATE it will return an instance where there's no ENROLLMENT nor EVENT keys in typeReportMap, which is why it was going NPE. To make it safer I checked for null starting from bundleReport which is redundant, yet not hitting performances at all, so it should be fine", "url": "https://github.com/dhis2/dhis2-core/pull/6588#discussion_r519638156", "createdAt": "2020-11-09T08:45:42Z", "author": {"login": "gnespolino"}, "path": "dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/DefaultTrackerImportService.java", "diffHunk": "@@ -186,9 +191,10 @@ protected void commitBundle( TrackerImportParams params, TrackerImportReport imp\n \n         TrackerBundleReport bundleReport = trackerBundleService.commit( trackerBundle );", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTYxMzAxNA=="}, "originalCommit": {"oid": "c2c823312bec850a9b2682329afc2a75c8d1da1f"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3763, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}