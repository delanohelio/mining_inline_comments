{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyMTI5NjI2", "number": 5347, "title": "fix: Combined SMS fixes", "bodyText": "This PR includes the following fixes:\n\nThe updates to TEI attributes are done using the value service required to ensure they are saved.\nThe calls to retrieve all TEI, event, enrolment and relationship UIDs is not made anymore.\nThe requests to get UIDs from SMS submissions is done via public methods.", "createdAt": "2020-04-11T02:56:12Z", "url": "https://github.com/dhis2/dhis2-core/pull/5347", "merged": true, "mergeCommit": {"oid": "73ae8ff240e976a2279b329ea5c0362802ead238"}, "closed": true, "closedAt": "2020-06-26T12:57:41Z", "author": {"login": "JasperTimm"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWckJ_gH2gAyNDAyMTI5NjI2OmIwNGJkNDNiN2M3ODQ5OTExZDk4MjA0NzQzZjRmZmI4MWM5MTQwZWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcurQ8_AFqTQzNzMyNTIxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b04bd43b7c7849911d98204743f4ffb81c9140eb", "author": {"user": null}, "url": "https://github.com/dhis2/dhis2-core/commit/b04bd43b7c7849911d98204743f4ffb81c9140eb", "committedDate": "2020-04-11T02:49:15Z", "message": "fix: Use TrackedEntityAttributeValueService to update values in SMS submissions\n\nFix will make sure that values updated through SMS are also reflected on the web."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81b9871dfd6f364919e2daa2c5cc5887aeef1b4d", "author": {"user": null}, "url": "https://github.com/dhis2/dhis2-core/commit/81b9871dfd6f364919e2daa2c5cc5887aeef1b4d", "committedDate": "2020-04-11T02:50:04Z", "message": "refactor: reduce metadata calls for SMS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzMzIxMjgy", "url": "https://github.com/dhis2/dhis2-core/pull/5347#pullrequestreview-393321282", "createdAt": "2020-04-14T21:50:26Z", "commit": {"oid": "81b9871dfd6f364919e2daa2c5cc5887aeef1b4d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQyMTo1MDoyNlrOGFiQXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQyMTo1MDoyNlrOGFiQXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ1NzMxMQ==", "bodyText": "I hate to harp on this, but we use Uid instead of UID in DHIS 2. Using camel case even for acronyms is a standard Java convention. Would you mind changing it to getUid() ?", "url": "https://github.com/dhis2/dhis2-core/pull/5347#discussion_r408457311", "createdAt": "2020-04-14T21:50:26Z", "author": {"login": "larshelge"}, "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/sms/listener/AggregateDataSetSMSListener.java", "diffHunk": "@@ -110,10 +110,10 @@ protected SMSResponse postProcess( IncomingSms sms, SMSSubmission submission )\n         String per = subm.getPeriod();\n         UID aocid = subm.getAttributeOptionCombo();\n \n-        OrganisationUnit orgUnit = organisationUnitService.getOrganisationUnit( ouid.uid );\n-        User user = userService.getUser( subm.getUserID().uid );\n+        OrganisationUnit orgUnit = organisationUnitService.getOrganisationUnit( ouid.getUID() );\n+        User user = userService.getUser( subm.getUserID().getUID() );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81b9871dfd6f364919e2daa2c5cc5887aeef1b4d"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dd00692abcbec24f33c3a055e5be5028c8f56a4", "author": {"user": {"login": "zubaira", "name": "Zubair Asghar"}}, "url": "https://github.com/dhis2/dhis2-core/commit/3dd00692abcbec24f33c3a055e5be5028c8f56a4", "committedDate": "2020-06-06T05:13:17Z", "message": "Merge branch '2.34' into 2.34-sms-fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ae3b1b67eb21e2fcceabc4f52311d737873d54d", "author": {"user": {"login": "zubaira", "name": "Zubair Asghar"}}, "url": "https://github.com/dhis2/dhis2-core/commit/8ae3b1b67eb21e2fcceabc4f52311d737873d54d", "committedDate": "2020-06-06T05:14:19Z", "message": "update pom.xml\n\nchanged sms-compression library version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97ba7ba3c6cb890cbea97ebf2bdee804ae3273cf", "author": {"user": {"login": "zubaira", "name": "Zubair Asghar"}}, "url": "https://github.com/dhis2/dhis2-core/commit/97ba7ba3c6cb890cbea97ebf2bdee804ae3273cf", "committedDate": "2020-06-06T05:47:00Z", "message": "fix compilation errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eba3debab9c62b9268a627a85bdb7c47e2634b2c", "author": {"user": {"login": "zubaira", "name": "Zubair Asghar"}}, "url": "https://github.com/dhis2/dhis2-core/commit/eba3debab9c62b9268a627a85bdb7c47e2634b2c", "committedDate": "2020-06-24T08:49:32Z", "message": "code refactor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MzI1MjE5", "url": "https://github.com/dhis2/dhis2-core/pull/5347#pullrequestreview-437325219", "createdAt": "2020-06-25T09:31:02Z", "commit": {"oid": "eba3debab9c62b9268a627a85bdb7c47e2634b2c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2754, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}