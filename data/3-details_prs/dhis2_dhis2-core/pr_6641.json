{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5NzczNzE0", "number": 6641, "title": "fix: fix data values validation", "bodyText": "", "createdAt": "2020-11-12T10:13:56Z", "url": "https://github.com/dhis2/dhis2-core/pull/6641", "merged": true, "mergeCommit": {"oid": "6dcb425b78bd0ba3600b468c4898464458564431"}, "closed": true, "closedAt": "2020-11-12T14:49:06Z", "author": {"login": "enricocolasante"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbvxRmgH2gAyNTE5NzczNzE0OjBkYzE0MzZhOGI5YzFmYjg4YmY5MjdhMTE3N2Y4MGJmY2FiODM5MzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdbzt_bgFqTUyOTE2MDA2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0dc1436a8b9c1fb88bf927a1177f80bfcab83931", "author": {"user": {"login": "enricocolasante", "name": "Enrico Colasante"}}, "url": "https://github.com/dhis2/dhis2-core/commit/0dc1436a8b9c1fb88bf927a1177f80bfcab83931", "committedDate": "2020-11-12T10:12:33Z", "message": "fix: fix data values validation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4OTYzMjA4", "url": "https://github.com/dhis2/dhis2-core/pull/6641#pullrequestreview-528963208", "createdAt": "2020-11-12T10:46:09Z", "commit": {"oid": "0dc1436a8b9c1fb88bf927a1177f80bfcab83931"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDo0NjowOVrOHx1AqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDo0NjoxNFrOHx1A7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAxMDc5Mg==", "bodyText": "code style", "url": "https://github.com/dhis2/dhis2-core/pull/6641#discussion_r522010792", "createdAt": "2020-11-12T10:46:09Z", "author": {"login": "luciano-fiandesio"}, "path": "dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/validation/hooks/EventDataValuesValidationHook.java", "diffHunk": "@@ -155,6 +161,14 @@ private void validateDataValueDataElementIsConnectedToProgramStage( ValidationEr\n         }\n     }\n \n+    private boolean needsToValidateMandatoryDataValues(Event event, ProgramStage programStage) {\n+        if (event.getStatus().equals(EventStatus.ACTIVE) && programStage.getValidationStrategy().equals(ValidationStrategy.ON_COMPLETE)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dc1436a8b9c1fb88bf927a1177f80bfcab83931"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAxMDg2MQ==", "bodyText": "code style", "url": "https://github.com/dhis2/dhis2-core/pull/6641#discussion_r522010861", "createdAt": "2020-11-12T10:46:14Z", "author": {"login": "luciano-fiandesio"}, "path": "dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/validation/hooks/EventDataValuesValidationHook.java", "diffHunk": "@@ -111,6 +113,10 @@ public void validateMandatoryDataValue( ValidationErrorReporter reporter, Tracke\n \n         ProgramStage programStage = ctx.getProgramStage( event.getProgramStage() );\n \n+        if (!needsToValidateMandatoryDataValues(event, programStage)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dc1436a8b9c1fb88bf927a1177f80bfcab83931"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f4b7e27cc472dcc3abae9f6cd74ef20fe525477", "author": {"user": {"login": "enricocolasante", "name": "Enrico Colasante"}}, "url": "https://github.com/dhis2/dhis2-core/commit/8f4b7e27cc472dcc3abae9f6cd74ef20fe525477", "committedDate": "2020-11-12T10:51:24Z", "message": "Codestyle"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8503db56b11b3f134e3e9c8447318aae3b313237", "author": {"user": {"login": "enricocolasante", "name": "Enrico Colasante"}}, "url": "https://github.com/dhis2/dhis2-core/commit/8503db56b11b3f134e3e9c8447318aae3b313237", "committedDate": "2020-11-12T10:49:58Z", "message": "Codestyle"}, "afterCommit": {"oid": "8f4b7e27cc472dcc3abae9f6cd74ef20fe525477", "author": {"user": {"login": "enricocolasante", "name": "Enrico Colasante"}}, "url": "https://github.com/dhis2/dhis2-core/commit/8f4b7e27cc472dcc3abae9f6cd74ef20fe525477", "committedDate": "2020-11-12T10:51:24Z", "message": "Codestyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5MTYwMDY1", "url": "https://github.com/dhis2/dhis2-core/pull/6641#pullrequestreview-529160065", "createdAt": "2020-11-12T14:48:36Z", "commit": {"oid": "8f4b7e27cc472dcc3abae9f6cd74ef20fe525477"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2336, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}