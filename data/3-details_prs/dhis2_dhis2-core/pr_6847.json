{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0Mjk2NTcy", "number": 6847, "title": "fix: (2.35) Use encryption for SMS confidential parameters [DHIS2-10076]", "bodyText": "", "createdAt": "2020-12-08T09:04:45Z", "url": "https://github.com/dhis2/dhis2-core/pull/6847", "merged": true, "mergeCommit": {"oid": "94c7fcecf87b160b77e1f2ce27034963a9f49c77"}, "closed": true, "closedAt": "2020-12-18T06:19:33Z", "author": {"login": "zubaira"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkFq5EgH2gAyNTM0Mjk2NTcyOjgwNWZlOTVkNWQ2NWY1YTNkNWFmNTZlMTE0Y2MyODYzMzI2YjU3ZDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdm_qFwgFqTU1NDM4NzMyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "805fe95d5d65f5a3d5af56e114cc2863326b57d3", "author": {"user": {"login": "zubaira", "name": "Zubair Asghar"}}, "url": "https://github.com/dhis2/dhis2-core/commit/805fe95d5d65f5a3d5af56e114cc2863326b57d3", "committedDate": "2020-12-08T08:14:53Z", "message": "fix: Add encryption while saving confidential parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6de5df220dafc4c2d36bcb74dc1412967ecea46b", "author": {"user": {"login": "zubaira", "name": "Zubair Asghar"}}, "url": "https://github.com/dhis2/dhis2-core/commit/6de5df220dafc4c2d36bcb74dc1412967ecea46b", "committedDate": "2020-12-08T08:23:33Z", "message": "fix unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd6d5d316734340502cab0996e4c3e1c368d66b0", "author": {"user": {"login": "zubaira", "name": "Zubair Asghar"}}, "url": "https://github.com/dhis2/dhis2-core/commit/dd6d5d316734340502cab0996e4c3e1c368d66b0", "committedDate": "2020-12-08T08:24:18Z", "message": "fix unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14b0b9e170b7f1165f1492bc864873a2c3ad3b4e", "author": {"user": {"login": "zubaira", "name": "Zubair Asghar"}}, "url": "https://github.com/dhis2/dhis2-core/commit/14b0b9e170b7f1165f1492bc864873a2c3ad3b4e", "committedDate": "2020-12-08T08:24:21Z", "message": "fix issues after server reboot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d36588d7f1c7bc39289507d6351eddd82b18d95", "author": {"user": {"login": "zubaira", "name": "Zubair Asghar"}}, "url": "https://github.com/dhis2/dhis2-core/commit/5d36588d7f1c7bc39289507d6351eddd82b18d95", "committedDate": "2020-12-08T08:24:21Z", "message": "sonar code analysis fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a413fc05ae7c5d2124a62ddc4002e66fce58ccde", "author": {"user": {"login": "zubaira", "name": "Zubair Asghar"}}, "url": "https://github.com/dhis2/dhis2-core/commit/a413fc05ae7c5d2124a62ddc4002e66fce58ccde", "committedDate": "2020-12-08T08:24:22Z", "message": "fix compilation issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "981778f6b06b1bd9b8a491f5a85a7dc1e8bd0f85", "author": {"user": {"login": "zubaira", "name": "Zubair Asghar"}}, "url": "https://github.com/dhis2/dhis2-core/commit/981778f6b06b1bd9b8a491f5a85a7dc1e8bd0f85", "committedDate": "2020-12-08T08:24:22Z", "message": "fix unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c13e8d1d66cbfc4abc4c0c08766d59f80d3b144", "author": {"user": {"login": "zubaira", "name": "Zubair Asghar"}}, "url": "https://github.com/dhis2/dhis2-core/commit/2c13e8d1d66cbfc4abc4c0c08766d59f80d3b144", "committedDate": "2020-12-08T09:01:42Z", "message": "incase value is same then no need to update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89926a8f383560989339f808919dbed609e20393", "author": {"user": {"login": "zubaira", "name": "Zubair Asghar"}}, "url": "https://github.com/dhis2/dhis2-core/commit/89926a8f383560989339f808919dbed609e20393", "committedDate": "2020-12-08T11:23:40Z", "message": "Add unit tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMTAxMzI2", "url": "https://github.com/dhis2/dhis2-core/pull/6847#pullrequestreview-551101326", "createdAt": "2020-12-14T07:31:23Z", "commit": {"oid": "89926a8f383560989339f808919dbed609e20393"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0Mzg3MzI1", "url": "https://github.com/dhis2/dhis2-core/pull/6847#pullrequestreview-554387325", "createdAt": "2020-12-17T08:48:00Z", "commit": {"oid": "89926a8f383560989339f808919dbed609e20393"}, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QwODo0ODowMVrOIHqvVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QwODo1NTowMFrOIHrAeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkxMTE5MQ==", "bodyText": "what about using lombok's\n@EqualsAndHashCode( of = {\"key\", \"value\", \"header\", \"encode\", \"confidential\"} )", "url": "https://github.com/dhis2/dhis2-core/pull/6847#discussion_r544911191", "createdAt": "2020-12-17T08:48:01Z", "author": {"login": "gnespolino"}, "path": "dhis-2/dhis-api/src/main/java/org/hisp/dhis/sms/config/GenericGatewayParameter.java", "diffHunk": "@@ -107,4 +108,30 @@ public void setEncode( boolean encode )\n     {\n         this.encode = encode;\n     }\n+\n+    @Override\n+    public boolean equals( Object o )", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89926a8f383560989339f808919dbed609e20393"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkxMjg5OQ==", "bodyText": "Could remove constructor and annotate class with\n@RequiredArgsConstructor\n\nand\n@Qualifier( \"tripleDesStringEncryptor\" )\nprivate final PBEStringEncryptor pbeStringEncryptor;", "url": "https://github.com/dhis2/dhis2-core/pull/6847#discussion_r544912899", "createdAt": "2020-12-17T08:50:42Z", "author": {"login": "gnespolino"}, "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/sms/config/BulkSmsHttpGateway.java", "diffHunk": "@@ -50,6 +52,13 @@\n public class BulkSmsHttpGateway", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89926a8f383560989339f808919dbed609e20393"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkxMzI4Mg==", "bodyText": "same as BulkSmsHttpGateway", "url": "https://github.com/dhis2/dhis2-core/pull/6847#discussion_r544913282", "createdAt": "2020-12-17T08:51:15Z", "author": {"login": "gnespolino"}, "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/sms/config/ClickatellHttpGateway.java", "diffHunk": "@@ -50,6 +52,13 @@\n public class ClickatellHttpGateway", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89926a8f383560989339f808919dbed609e20393"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkxNTU3Ng==", "bodyText": "might be easier to read using:\n        return parameters.stream()\n                .anyMatch(parameter::equals);", "url": "https://github.com/dhis2/dhis2-core/pull/6847#discussion_r544915576", "createdAt": "2020-12-17T08:55:00Z", "author": {"login": "gnespolino"}, "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/sms/config/DefaultGatewayAdministrationService.java", "diffHunk": "@@ -366,4 +385,18 @@ private void initializeSmsConfig()\n \n         loadGatewayConfigurationMap( smsConfiguration );\n     }\n+\n+\n+    private boolean isPresent( List<GenericGatewayParameter> parameters, GenericGatewayParameter parameter )", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89926a8f383560989339f808919dbed609e20393"}, "originalPosition": 195}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2194, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}