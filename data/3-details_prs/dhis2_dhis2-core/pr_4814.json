{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwODIzMzIz", "number": 4814, "title": "feat: Support tracked entity attributes in tracker importer", "bodyText": "DHIS2-8146 DHIS2-8356", "createdAt": "2020-02-04T12:57:27Z", "url": "https://github.com/dhis2/dhis2-core/pull/4814", "merged": true, "mergeCommit": {"oid": "8904fb7ba9e4d396784e49818fd8ac19a3064ef9"}, "closed": true, "closedAt": "2020-02-24T11:14:37Z", "author": {"login": "mortenoh"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBBGToAH2gAyMzcwODIzMzIzOjU3ZWYwOGM1ODc3MTE5Y2FjNzNiMTk2YWM2NWYwOWIxZTY3NWQyZTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHbnk4gH2gAyMzcwODIzMzIzOjUxNzlmYWZkZmYwZmU1ZTZjY2U1MDQ5ZWZlN2M1Y2MxOGEwOWZkZTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "57ef08c5877119cac73b196ac65f09b1e675d2e2", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/57ef08c5877119cac73b196ac65f09b1e675d2e2", "committedDate": "2020-02-04T12:56:48Z", "message": "only return if collectAttributes is empty"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f8883ec5298e980e0418a6c5dae4d1763570aaa", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/4f8883ec5298e980e0418a6c5dae4d1763570aaa", "committedDate": "2020-02-05T10:40:00Z", "message": "Merge remote-tracking branch 'origin/master' into DHIS2-8146"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8a3fd915691fe47090a4203b58980b97fd9a353", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/f8a3fd915691fe47090a4203b58980b97fd9a353", "committedDate": "2020-02-10T07:43:18Z", "message": "Merge remote-tracking branch 'origin/master' into DHIS2-8146"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fec7d589a1e1ab5c545219c449d10dda77d8286", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/7fec7d589a1e1ab5c545219c449d10dda77d8286", "committedDate": "2020-02-10T09:37:37Z", "message": "adds basic tests for TE with attributes, update dbmsManager to delete trackedentitytypeattribute"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a058720e94d213a7b6bd0ed0969c7d18283671b9", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/a058720e94d213a7b6bd0ed0969c7d18283671b9", "committedDate": "2020-02-10T10:12:40Z", "message": "test: test preheat for tracked entity attributes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5516dd6460097b248ca74b69e34d36c5ea1cac3c", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/5516dd6460097b248ca74b69e34d36c5ea1cac3c", "committedDate": "2020-02-10T11:18:21Z", "message": "basic teav saving working"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "752279e755acdce94582ce2b0a47c787f416d992", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/752279e755acdce94582ce2b0a47c787f416d992", "committedDate": "2020-02-11T07:57:46Z", "message": "Minor indent fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b8a4c34a226c975bbcc5d67676810444f2fcb99", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/9b8a4c34a226c975bbcc5d67676810444f2fcb99", "committedDate": "2020-02-12T08:55:23Z", "message": "Merge remote-tracking branch 'origin/master' into DHIS2-8146"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67c659a89447a9b3ebe146b56d6e763fced2945e", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/67c659a89447a9b3ebe146b56d6e763fced2945e", "committedDate": "2020-02-12T11:57:44Z", "message": "move TEA handling out of converters, do TEAV handling directly in commit for both TE and EN"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3cb3e572ad33c8fca46038e54960e9e21d69bbc", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/c3cb3e572ad33c8fca46038e54960e9e21d69bbc", "committedDate": "2020-02-17T05:32:59Z", "message": "Merge remote-tracking branch 'origin/master' into DHIS2-8146"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc906507b21a2e197b6285f7ccd047056aef56dc", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/bc906507b21a2e197b6285f7ccd047056aef56dc", "committedDate": "2020-02-20T04:38:47Z", "message": "Merge remote-tracking branch 'origin/master' into DHIS2-8146"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35be8eef95ef2ea5e453d16c697baa75403652a9", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/35be8eef95ef2ea5e453d16c697baa75403652a9", "committedDate": "2020-02-20T07:36:39Z", "message": "feat: adds support for adding TEAV on both TE and Enrollment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac238d7cb013f86d62a4b977a248b6b7f413a6e7", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/ac238d7cb013f86d62a4b977a248b6b7f413a6e7", "committedDate": "2020-02-21T02:38:17Z", "message": "feat: support update of attribute values"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNDUxNjI0", "url": "https://github.com/dhis2/dhis2-core/pull/4814#pullrequestreview-362451624", "createdAt": "2020-02-21T07:58:56Z", "commit": {"oid": "ac238d7cb013f86d62a4b977a248b6b7f413a6e7"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwNzo1ODo1N1rOFsuYWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwNzo1ODo1N1rOFsuYWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjQ0MTU2MQ==", "bodyText": "I wonder if we should use a TrackerConverterFactory to reduce the number of dependencies in this class, which is quite high and has an impact on testability.", "url": "https://github.com/dhis2/dhis2-core/pull/4814#discussion_r382441561", "createdAt": "2020-02-21T07:58:57Z", "author": {"login": "luciano-fiandesio"}, "path": "dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/bundle/DefaultTrackerBundleService.java", "diffHunk": "@@ -85,14 +92,15 @@ public void setBundleHooks( List<TrackerBundleHook> bundleHooks )\n \n     public DefaultTrackerBundleService(\n         TrackerPreheatService trackerPreheatService,\n-        TrackerConverterService<TrackedEntity, org.hisp.dhis.trackedentity.TrackedEntityInstance> trackedEntityTrackerConverterService,\n+        TrackerConverterService<TrackedEntity, TrackedEntityInstance> trackedEntityTrackerConverterService,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac238d7cb013f86d62a4b977a248b6b7f413a6e7"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f2f7e3904283f25fa4487c1ef71af796d5fc2be", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/3f2f7e3904283f25fa4487c1ef71af796d5fc2be", "committedDate": "2020-02-23T01:34:39Z", "message": "Merge remote-tracking branch 'origin/master' into DHIS2-8146"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6eeec591413ee339e653282e3e6a9ec6379efcc0", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/6eeec591413ee339e653282e3e6a9ec6379efcc0", "committedDate": "2020-02-23T02:38:53Z", "message": "feat: support TEAV deletion (empty strings and nulls)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef5a90718b79224b44ea66e45fe32ca5b3f7db3a", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/ef5a90718b79224b44ea66e45fe32ca5b3f7db3a", "committedDate": "2020-02-23T02:59:53Z", "message": "doc: spelling issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3235bbb838ff9309af7d7d27e0645e402b7be80", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/c3235bbb838ff9309af7d7d27e0645e402b7be80", "committedDate": "2020-02-24T10:23:07Z", "message": "Merge remote-tracking branch 'origin/master' into DHIS2-8146"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5179fafdff0fe5e6cce5049efe7c5cc18a09fde5", "author": {"user": {"login": "mortenoh", "name": "Morten Hansen"}}, "url": "https://github.com/dhis2/dhis2-core/commit/5179fafdff0fe5e6cce5049efe7c5cc18a09fde5", "committedDate": "2020-02-24T11:14:13Z", "message": "fix: remove read-only flag on TrackerBundleService.create for now"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2856, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}