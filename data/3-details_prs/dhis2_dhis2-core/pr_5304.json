{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4MTU5ODAw", "number": 5304, "title": "fix: NPE when Chart.category() is null [DHIS2-8590]", "bodyText": "Backporting the NPE workaround to (2.32)", "createdAt": "2020-04-03T13:00:54Z", "url": "https://github.com/dhis2/dhis2-core/pull/5304", "merged": true, "mergeCommit": {"oid": "f5071d39a238850be39766d0fa0b6ee701d9afb9"}, "closed": true, "closedAt": "2020-04-16T13:27:12Z", "author": {"login": "maikelarabori"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUAU26gH2gAyMzk4MTU5ODAwOjY2YjgzZmVkYTg4MmFhODI0NDY2YTM4NTdlMWYxNGQ5NDA4YjBiNjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYLlE1gH2gAyMzk4MTU5ODAwOmY0Y2FmOTQzMzA5YzczNjE3MjliMTliOTdjMWQxMjBiZDhmNjQzMGY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "66b83feda882aa824466a3857e1f14d9408b0b62", "author": {"user": {"login": "maikelarabori", "name": "Maikel Arabori"}}, "url": "https://github.com/dhis2/dhis2-core/commit/66b83feda882aa824466a3857e1f14d9408b0b62", "committedDate": "2020-04-03T12:47:21Z", "message": "fix: NPE when Chart.category() is null [DHIS2-8590]\n\nBackporting the NPE work around to (2.32)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3MjM3ODE0", "url": "https://github.com/dhis2/dhis2-core/pull/5304#pullrequestreview-387237814", "createdAt": "2020-04-03T13:07:36Z", "commit": {"oid": "66b83feda882aa824466a3857e1f14d9408b0b62"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxMzowNzozNlrOGAUqKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxMzowNzozNlrOGAUqKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjk5MTY1Nw==", "bodyText": "Do we know why this is null? I.e. in what circumstances is it null? I thought category should never be null.", "url": "https://github.com/dhis2/dhis2-core/pull/5304#discussion_r402991657", "createdAt": "2020-04-03T13:07:36Z", "author": {"login": "larshelge"}, "path": "dhis-2/dhis-services/dhis-service-reporting/src/main/java/org/hisp/dhis/chart/impl/DefaultChartService.java", "diffHunk": "@@ -796,7 +798,9 @@ else if ( chart.isAnalyticsType( AnalyticsType.EVENT ) )\n         valueMap = DimensionalObjectUtils.getSortedKeysMap( valueMap );\r\n \r\n         List<NameableObject> seriez = new ArrayList<>( chart.series() );\r\n-        List<NameableObject> categories = new ArrayList<>( chart.category() );\r\n+\r\n+        List<DimensionalItemObject> dimensionalItemObjects = chart.category() != null ? chart.category() : emptyList();\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66b83feda882aa824466a3857e1f14d9408b0b62"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzMzI0ODY2", "url": "https://github.com/dhis2/dhis2-core/pull/5304#pullrequestreview-393324866", "createdAt": "2020-04-14T21:57:08Z", "commit": {"oid": "66b83feda882aa824466a3857e1f14d9408b0b62"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQyMTo1NzowOFrOGFicEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQyMTo1NzowOFrOGFicEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ2MDMwNQ==", "bodyText": "Could we do this?\nList<NameableObject> categories = new ArrayList<>( ObjectUtils.firstNonNull( chart.category(), new ArrayList<>() ) );", "url": "https://github.com/dhis2/dhis2-core/pull/5304#discussion_r408460305", "createdAt": "2020-04-14T21:57:08Z", "author": {"login": "larshelge"}, "path": "dhis-2/dhis-services/dhis-service-reporting/src/main/java/org/hisp/dhis/chart/impl/DefaultChartService.java", "diffHunk": "@@ -796,7 +798,9 @@ else if ( chart.isAnalyticsType( AnalyticsType.EVENT ) )\n         valueMap = DimensionalObjectUtils.getSortedKeysMap( valueMap );\r\n \r\n         List<NameableObject> seriez = new ArrayList<>( chart.series() );\r\n-        List<NameableObject> categories = new ArrayList<>( chart.category() );\r\n+\r\n+        List<DimensionalItemObject> dimensionalItemObjects = chart.category() != null ? chart.category() : emptyList();\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66b83feda882aa824466a3857e1f14d9408b0b62"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44c1b862384dd9676ef49e9eab874b9ce685ccce", "author": {"user": {"login": "maikelarabori", "name": "Maikel Arabori"}}, "url": "https://github.com/dhis2/dhis2-core/commit/44c1b862384dd9676ef49e9eab874b9ce685ccce", "committedDate": "2020-04-15T09:22:00Z", "message": "fix: Using defaultIfNull to check/set the Categories list [DHIS2-8590]"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4caf943309c7361729b19b97c1d120bd8f6430f", "author": {"user": {"login": "maikelarabori", "name": "Maikel Arabori"}}, "url": "https://github.com/dhis2/dhis2-core/commit/f4caf943309c7361729b19b97c1d120bd8f6430f", "committedDate": "2020-04-16T12:09:43Z", "message": "Merge branch '2.32' of https://github.com/dhis2/dhis2-core into 2.32_DHIS2-8590"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2735, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}