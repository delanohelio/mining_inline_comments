{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NzEzMjc4", "number": 6791, "title": "fix: trap all validation analytics errors", "bodyText": "See Jira ticket comment from 30/Nov/2020 at https://jira.dhis2.org/browse/DHIS2-4326#comment-37706", "createdAt": "2020-11-30T17:55:12Z", "url": "https://github.com/dhis2/dhis2-core/pull/6791", "merged": true, "mergeCommit": {"oid": "c8555c0cd83e0051f74ab99a0810a4486c4c159f"}, "closed": true, "closedAt": "2021-01-05T14:33:26Z", "author": {"login": "jimgrace"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhpKRmAH2gAyNTI5NzEzMjc4OjQzOWI2YTJjNjIzMDAxNTVjNjFmNTQ0YjJkNjc4YzAwNTYzNjBhOGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdh5CZ0gFqTU0MTg0Mzc3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "439b6a2c62300155c61f544b2d678c0056360a8c", "author": {"user": {"login": "jimgrace", "name": "Jim Grace"}}, "url": "https://github.com/dhis2/dhis2-core/commit/439b6a2c62300155c61f544b2d678c0056360a8c", "committedDate": "2020-11-30T17:54:04Z", "message": "fix: trap all analytics errors"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxNTI1Nzgw", "url": "https://github.com/dhis2/dhis2-core/pull/6791#pullrequestreview-541525780", "createdAt": "2020-12-01T06:40:51Z", "commit": {"oid": "439b6a2c62300155c61f544b2d678c0056360a8c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxODQzNzcx", "url": "https://github.com/dhis2/dhis2-core/pull/6791#pullrequestreview-541843771", "createdAt": "2020-12-01T12:23:57Z", "commit": {"oid": "439b6a2c62300155c61f544b2d678c0056360a8c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjoyMzo1N1rOH8qQQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjoyMzo1N1rOH8qQQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM2ODg5Ng==", "bodyText": "Could this hide real exceptions? Do we want to return the validation result if exceptions happened and we might get a partial result?", "url": "https://github.com/dhis2/dhis2-core/pull/6791#discussion_r533368896", "createdAt": "2020-12-01T12:23:57Z", "author": {"login": "larshelge"}, "path": "dhis-2/dhis-services/dhis-service-reporting/src/main/java/org/hisp/dhis/validation/DataValidationTask.java", "diffHunk": "@@ -673,10 +673,16 @@ else if ( existingPeriodInterval > periodInterval )\n         {\n             grid = analyticsService.getAggregatedDataValues( params );\n         }\n-        catch ( PersistenceException ex )\n+        catch ( PersistenceException ex ) // No data\n         {\n             return map;\n         }\n+        catch ( RuntimeException ex ) // Other error\n+        {\n+            log.error( DebugUtils.getStackTrace( ex ) );\n+\n+            return map;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "439b6a2c62300155c61f544b2d678c0056360a8c"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2252, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}