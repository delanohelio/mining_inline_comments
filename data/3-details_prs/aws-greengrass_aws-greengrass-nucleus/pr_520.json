{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyMDE2Mzc5", "number": 520, "title": "Use the existing \"parameters\" as new configuration's kernel config ke\u2026", "bodyText": "\u2026y to keep functionality working\nIssue #, if available:\nDescription of changes:\nWhy is this change necessary:\nHow was this change tested:\nAny additional information or context required to review the change:\nChecklist:\n\n Updated the README if applicable\n Updated or added new unit tests\n Updated or added new integration tests\n Updated or added new end-to-end tests\n\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-10-13T06:24:26Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/520", "merged": true, "mergeCommit": {"oid": "608c6031b54b7c281bf073e9637931cd16beb16f"}, "closed": true, "closedAt": "2020-10-13T17:20:57Z", "author": {"login": "leaf94"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSChHNgH2gAyNTAyMDE2Mzc5OjVjM2Y5Y2IwNjViNWNhYTQ1MzI0NmJkYjY0NzQyZWVmZTNkMTEzYzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSLvhWAFqTUwNzY1ODQ3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5c3f9cb065b5caa453246bdb64742eefe3d113c0", "author": {"user": {"login": "leaf94", "name": "Ethan Huang"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/5c3f9cb065b5caa453246bdb64742eefe3d113c0", "committedDate": "2020-10-13T06:23:51Z", "message": "Use the existing \"parameters\" as new configuration's kernel config key to keep functionality working"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06bfaf80bbefeed8d4b7d34d57d3113ea52d5464", "author": {"user": {"login": "leaf94", "name": "Ethan Huang"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/06bfaf80bbefeed8d4b7d34d57d3113ea52d5464", "committedDate": "2020-10-13T07:00:04Z", "message": "checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89dc0f83c69e62eec2a9a6d27e7bebae06f3c891", "author": {"user": {"login": "leaf94", "name": "Ethan Huang"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/89dc0f83c69e62eec2a9a6d27e7bebae06f3c891", "committedDate": "2020-10-13T15:50:26Z", "message": "need to merge for backward compatibility"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1eb44c008026ba43d4d65f9704211eb964569655", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/1eb44c008026ba43d4d65f9704211eb964569655", "committedDate": "2020-10-13T16:27:01Z", "message": "Merge branch 'master' into component_config_kernel_key"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3NjIzMTQw", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/520#pullrequestreview-507623140", "createdAt": "2020-10-13T16:28:52Z", "commit": {"oid": "1eb44c008026ba43d4d65f9704211eb964569655"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNjoyODo1MlrOHgvaUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNjoyODo1MlrOHgvaUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA5MzI2NA==", "bodyText": "not sure I understand this change, shouldn't you just remove CONFIGURATION_CONFIG_KEY and replace all usages of it with the PARAMETERS_CONFIG_KEY?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/520#discussion_r504093264", "createdAt": "2020-10-13T16:28:52Z", "author": {"login": "MikeDombo"}, "path": "src/main/java/com/aws/greengrass/builtin/services/cli/CLIServiceAgent.java", "diffHunk": "@@ -115,13 +114,9 @@ public GetComponentDetailsResponse getComponentDetails(GetComponentDetailsReques\n         if (service.getServiceConfig().find(VERSION_CONFIG_KEY) != null) {\n             componentDetails.setVersion(Coerce.toString(service.getServiceConfig().find(VERSION_CONFIG_KEY).getOnce()));\n         }\n-        if (service.getServiceConfig().findInteriorChild(PARAMETERS_CONFIG_KEY) != null) {\n-            componentDetails\n-                    .setConfiguration(service.getServiceConfig().findInteriorChild(PARAMETERS_CONFIG_KEY).toPOJO());\n-        }\n         if (service.getServiceConfig().findInteriorChild(CONFIGURATION_CONFIG_KEY) != null) {\n-            componentDetails.setNestedConfiguration(\n-                    service.getServiceConfig().findInteriorChild(CONFIGURATION_CONFIG_KEY).toPOJO());\n+            componentDetails\n+                    .setConfiguration(service.getServiceConfig().findInteriorChild(CONFIGURATION_CONFIG_KEY).toPOJO());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1eb44c008026ba43d4d65f9704211eb964569655"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3NjIzNjY0", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/520#pullrequestreview-507623664", "createdAt": "2020-10-13T16:29:27Z", "commit": {"oid": "1eb44c008026ba43d4d65f9704211eb964569655"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3NjU3NTIx", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/520#pullrequestreview-507657521", "createdAt": "2020-10-13T17:07:31Z", "commit": {"oid": "1eb44c008026ba43d4d65f9704211eb964569655"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNzowNzozMVrOHgxFhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNzowNzozMVrOHgxFhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDEyMDcwOQ==", "bodyText": "quick question about the TODO. what will be renamed?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/520#discussion_r504120709", "createdAt": "2020-10-13T17:07:31Z", "author": {"login": "youtuyy"}, "path": "src/main/java/com/aws/greengrass/componentmanager/KernelConfigResolver.java", "diffHunk": "@@ -56,7 +56,9 @@\n     public static final String VERSION_CONFIG_KEY = \"version\";\n     public static final String PREV_VERSION_CONFIG_KEY = \"previousVersion\";\n     public static final String PARAMETERS_CONFIG_KEY = \"parameters\";\n-    public static final String CONFIGURATION_CONFIG_KEY = \"configuration\";\n+\n+    // for easier migration. TODO rename after removing param.\n+    public static final String CONFIGURATION_CONFIG_KEY = \"parameters\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1eb44c008026ba43d4d65f9704211eb964569655"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3NjU4NDcy", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/520#pullrequestreview-507658472", "createdAt": "2020-10-13T17:08:44Z", "commit": {"oid": "1eb44c008026ba43d4d65f9704211eb964569655"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3136, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}