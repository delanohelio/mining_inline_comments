{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5MDE2NTY1", "number": 790, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xM1QyMTowOToyMVrOFEuJ2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xM1QyMTowOToyMVrOFEuJ2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNDk0ODA5OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/greengrass/builtin/services/configstore/ConfigStoreIPCEventStreamAgent.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xM1QyMTowOToyMVrOIE5bSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xM1QyMTowOToyMVrOIE5bSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjAwNjA4OA==", "bodyText": "Don't we remove all the todos as part of the open source effort? @jbutler", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/790#discussion_r542006088", "createdAt": "2020-12-13T21:09:21Z", "author": {"login": "fengwang666"}, "path": "src/main/java/com/aws/greengrass/builtin/services/configstore/ConfigStoreIPCEventStreamAgent.java", "diffHunk": "@@ -524,13 +524,15 @@ public boolean validateConfiguration(String componentName, String deploymentId,\n             throws ValidateEventRegistrationException {\n         for (Map.Entry<String, BiConsumer<String, Map<String, Object>>> e : configValidationListeners.entrySet()) {\n             if (e.getKey().equals(componentName)) {\n+                Pair componentToDeploymentId = new Pair<>(componentName, deploymentId);\n                 try {\n+                    configValidationReportFutures.put(componentToDeploymentId, reportFuture);\n                     e.getValue().accept(deploymentId, configuration);\n-                    configValidationReportFutures.put(new Pair<>(componentName, deploymentId), reportFuture);\n                     return true;\n                 } catch (Exception ex) {\n                     // TODO: [P41211196]: Retries, timeouts & and better exception handling in sending server event to", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e27172de6f6b602027f9c6f70a6905af4bbaa75"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 163, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}