{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY1Njc2NTMy", "number": 359, "title": "Add auto-unarchive option to components", "bodyText": "Issue #, if available:\nDescription of changes:\nAdds a new option \"unarchive\" to each component artifact. If it is set to \"ZIP\", then the provided artifact will be unzipped into the decompressed artifacts directory.\nWhy is this change necessary:\nHow was this change tested:\nAny additional information or context required to review the change:\nChecklist:\n\n Updated the README if applicable\n Updated or added new unit tests\n Updated or added new integration tests\n Updated or added new end-to-end tests\n\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-08-10T19:05:06Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/359", "merged": true, "mergeCommit": {"oid": "f11028e08805f479d361e388d699fa1fe72eb861"}, "closed": true, "closedAt": "2020-08-11T17:44:40Z", "author": {"login": "MikeDombo"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc9nEpRABqjM2NDAxMDM4ODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc96NntAFqTQ2NTI3Njc3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cf3d30799d7851499d6e7bdea44e61e1811698fa", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/cf3d30799d7851499d6e7bdea44e61e1811698fa", "committedDate": "2020-08-10T19:04:32Z", "message": "Add auto-unarchive option to components"}, "afterCommit": {"oid": "c1819a1d9256309a911247007feb89c25ca50b25", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/c1819a1d9256309a911247007feb89c25ca50b25", "committedDate": "2020-08-10T19:06:43Z", "message": "Add auto-unarchive option to components"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c1819a1d9256309a911247007feb89c25ca50b25", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/c1819a1d9256309a911247007feb89c25ca50b25", "committedDate": "2020-08-10T19:06:43Z", "message": "Add auto-unarchive option to components"}, "afterCommit": {"oid": "a42e718988e78cc384c929e6010d91b6fa2774d4", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/a42e718988e78cc384c929e6010d91b6fa2774d4", "committedDate": "2020-08-10T19:16:46Z", "message": "Add auto-unarchive option to components"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a42e718988e78cc384c929e6010d91b6fa2774d4", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/a42e718988e78cc384c929e6010d91b6fa2774d4", "committedDate": "2020-08-10T19:16:46Z", "message": "Add auto-unarchive option to components"}, "afterCommit": {"oid": "2f93ed6c408eba834fe3f263c0fcd1eff792fe51", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/2f93ed6c408eba834fe3f263c0fcd1eff792fe51", "committedDate": "2020-08-10T19:19:18Z", "message": "Add auto-unarchive option to components"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2f93ed6c408eba834fe3f263c0fcd1eff792fe51", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/2f93ed6c408eba834fe3f263c0fcd1eff792fe51", "committedDate": "2020-08-10T19:19:18Z", "message": "Add auto-unarchive option to components"}, "afterCommit": {"oid": "e6639e191c70e2814767cd59a04ad6a877d55665", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/e6639e191c70e2814767cd59a04ad6a877d55665", "committedDate": "2020-08-10T19:55:56Z", "message": "Add auto-unarchive option to components"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0NTkzMjI3", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/359#pullrequestreview-464593227", "createdAt": "2020-08-10T21:15:08Z", "commit": {"oid": "e6639e191c70e2814767cd59a04ad6a877d55665"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQyMToxNTowOFrOG-gDJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQyMToyOTowN1rOG-gctQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODE4OTk4OQ==", "bodyText": "is there any reason you couldn't do:\nZipInputStream zis = new ZipInputStream(Files.newInputStream(zipFile.toPath())) ?\nDo they need to be closed separately?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/359#discussion_r468189989", "createdAt": "2020-08-10T21:15:08Z", "author": {"login": "rbattle"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/Unarchiver.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ * Copyright Amazon.com Inc. or its affiliates.\n+ * SPDX-License-Identifier: Apache-2.0\n+ */\n+\n+package com.aws.iot.evergreen.packagemanager;\n+\n+import com.amazonaws.util.IOUtils;\n+import com.aws.iot.evergreen.packagemanager.models.Unarchive;\n+import com.aws.iot.evergreen.util.Utils;\n+\n+import java.io.File;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.io.OutputStream;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.util.zip.ZipEntry;\n+import java.util.zip.ZipInputStream;\n+\n+public class Unarchiver {\n+    /**\n+     * Unarchive a given file into a given path.\n+     *\n+     * @param method        type of archive to undo\n+     * @param toUnarchive   the file to be unarchived\n+     * @param unarchiveInto the path to unarchive the file into\n+     * @throws IOException if unarchiving fails\n+     */\n+    public void unarchive(Unarchive method, File toUnarchive, Path unarchiveInto) throws IOException {\n+        if (method == Unarchive.ZIP) {\n+            unzip(toUnarchive, unarchiveInto.toFile());\n+        }\n+    }\n+\n+    static void unzip(File zipFile, File destDir) throws IOException {\n+        try (InputStream fis = Files.newInputStream(zipFile.toPath()); ZipInputStream zis = new ZipInputStream(fis)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6639e191c70e2814767cd59a04ad6a877d55665"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODE5NjUzMw==", "bodyText": "is there any worth in checking the zip entry size and ensuring we have enough space to unzip before copying?\nalso, on error do we want to cleanup zip entries?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/359#discussion_r468196533", "createdAt": "2020-08-10T21:29:07Z", "author": {"login": "rbattle"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/Unarchiver.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ * Copyright Amazon.com Inc. or its affiliates.\n+ * SPDX-License-Identifier: Apache-2.0\n+ */\n+\n+package com.aws.iot.evergreen.packagemanager;\n+\n+import com.amazonaws.util.IOUtils;\n+import com.aws.iot.evergreen.packagemanager.models.Unarchive;\n+import com.aws.iot.evergreen.util.Utils;\n+\n+import java.io.File;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.io.OutputStream;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.util.zip.ZipEntry;\n+import java.util.zip.ZipInputStream;\n+\n+public class Unarchiver {\n+    /**\n+     * Unarchive a given file into a given path.\n+     *\n+     * @param method        type of archive to undo\n+     * @param toUnarchive   the file to be unarchived\n+     * @param unarchiveInto the path to unarchive the file into\n+     * @throws IOException if unarchiving fails\n+     */\n+    public void unarchive(Unarchive method, File toUnarchive, Path unarchiveInto) throws IOException {\n+        if (method == Unarchive.ZIP) {\n+            unzip(toUnarchive, unarchiveInto.toFile());\n+        }\n+    }\n+\n+    static void unzip(File zipFile, File destDir) throws IOException {\n+        try (InputStream fis = Files.newInputStream(zipFile.toPath()); ZipInputStream zis = new ZipInputStream(fis)) {\n+            ZipEntry zipEntry = zis.getNextEntry();\n+            while (zipEntry != null) {\n+                File newFile = safeNewZipFile(destDir, zipEntry);\n+                if (zipEntry.isDirectory()) {\n+                    Utils.createPaths(newFile.toPath());\n+                } else {\n+                    try (OutputStream fos = Files.newOutputStream(newFile.toPath())) {\n+                        IOUtils.copy(zis, fos);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6639e191c70e2814767cd59a04ad6a877d55665"}, "originalPosition": 45}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e6639e191c70e2814767cd59a04ad6a877d55665", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/e6639e191c70e2814767cd59a04ad6a877d55665", "committedDate": "2020-08-10T19:55:56Z", "message": "Add auto-unarchive option to components"}, "afterCommit": {"oid": "f2f83ce65daa4730f17b9dd9e49e58100b92aaae", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/f2f83ce65daa4730f17b9dd9e49e58100b92aaae", "committedDate": "2020-08-10T21:37:43Z", "message": "Add auto-unarchive option to components"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f2f83ce65daa4730f17b9dd9e49e58100b92aaae", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/f2f83ce65daa4730f17b9dd9e49e58100b92aaae", "committedDate": "2020-08-10T21:37:43Z", "message": "Add auto-unarchive option to components"}, "afterCommit": {"oid": "92e345fd9cf31e0ef90e3d9639def8cc495e7d3d", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/92e345fd9cf31e0ef90e3d9639def8cc495e7d3d", "committedDate": "2020-08-11T00:25:11Z", "message": "Add auto-unarchive option to components"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "92e345fd9cf31e0ef90e3d9639def8cc495e7d3d", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/92e345fd9cf31e0ef90e3d9639def8cc495e7d3d", "committedDate": "2020-08-11T00:25:11Z", "message": "Add auto-unarchive option to components"}, "afterCommit": {"oid": "33c50a37a530b6f69e3f4565b01943138d572f86", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/33c50a37a530b6f69e3f4565b01943138d572f86", "committedDate": "2020-08-11T02:49:58Z", "message": "Add auto-unarchive option to components"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0Nzc1MDcx", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/359#pullrequestreview-464775071", "createdAt": "2020-08-11T06:14:50Z", "commit": {"oid": "33c50a37a530b6f69e3f4565b01943138d572f86"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwNjoxNDo1MFrOG-pwkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwNjoxNzo0NVrOG-p0zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODM0OTA3Mw==", "bodyText": "haven't you already coerced this to enum on line 231?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/359#discussion_r468349073", "createdAt": "2020-08-11T06:14:50Z", "author": {"login": "rbattle"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/PackageManager.java", "diffHunk": "@@ -202,17 +215,36 @@ void downloadArtifactsIfNecessary(PackageIdentifier packageIdentifier, List<Comp\n         List<ComponentArtifact> artifactsToDownload =\n                 determineArtifactsNeedToDownload(packageArtifactDirectory, artifacts);\n         logger.atDebug().setEventType(\"downloading-package-artifacts\")\n-                .addKeyValue(\"packageIdentifier\", packageIdentifier)\n+                .addKeyValue(PACKAGE_IDENTIFIER, packageIdentifier)\n                 .addKeyValue(\"artifactsNeedToDownload\", artifactsToDownload).log();\n \n         for (ComponentArtifact artifact : artifactsToDownload) {\n             ArtifactDownloader downloader = selectArtifactDownloader(artifact.getArtifactUri());\n+            File downloadedFile;\n             try {\n-                downloader.downloadToPath(packageIdentifier, artifact, packageArtifactDirectory);\n+                downloadedFile = downloader.downloadToPath(packageIdentifier, artifact, packageArtifactDirectory);\n             } catch (IOException e) {\n                 throw new PackageDownloadException(\n                         String.format(\"Failed to download package %s artifact %s\", packageIdentifier, artifact), e);\n             }\n+\n+            Unarchive unarchive = artifact.getUnarchive() == null ? Unarchive.NONE\n+                    : Coerce.toEnum(Unarchive.class, artifact.getUnarchive().toUpperCase(), Unarchive.NONE);\n+\n+            if (downloadedFile != null && !unarchive.equals(Unarchive.NONE)) {\n+                try {\n+                    Path unarchivePath = packageStore.resolveAndSetupArtifactsUnpackDirectory(packageIdentifier)\n+                            .resolve(getFileName(downloadedFile));\n+                    Utils.createPaths(unarchivePath);\n+                    unarchiver.unarchive(\n+                            Coerce.toEnum(Unarchive.class, artifact.getUnarchive().toUpperCase(), Unarchive.NONE),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33c50a37a530b6f69e3f4565b01943138d572f86"}, "originalPosition": 118}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODM1MDE1OQ==", "bodyText": "I know this isn't part of your change, but if the file partially downloads, does this mean it will continue on as if everything went fine?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/359#discussion_r468350159", "createdAt": "2020-08-11T06:17:45Z", "author": {"login": "rbattle"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/plugins/GreengrassRepositoryDownloader.java", "diffHunk": "@@ -77,6 +79,7 @@ public void downloadToPath(PackageIdentifier packageIdentifier, ComponentArtifac\n                     .addKeyValue(\"artifactUri\", artifact.getArtifactUri())\n                     .log(\"Failed to download artifact, but found it locally, using that version\", e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33c50a37a530b6f69e3f4565b01943138d572f86"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MjA0NjI4", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/359#pullrequestreview-465204628", "createdAt": "2020-08-11T15:54:05Z", "commit": {"oid": "33c50a37a530b6f69e3f4565b01943138d572f86"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxNTo1NDowNVrOG--aLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxNTo1NDowNVrOG--aLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODY4NzQwNg==", "bodyText": "Is the original zip file removed after unzip?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/359#discussion_r468687406", "createdAt": "2020-08-11T15:54:05Z", "author": {"login": "fengwang666"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/PackageManager.java", "diffHunk": "@@ -202,17 +215,36 @@ void downloadArtifactsIfNecessary(PackageIdentifier packageIdentifier, List<Comp\n         List<ComponentArtifact> artifactsToDownload =\n                 determineArtifactsNeedToDownload(packageArtifactDirectory, artifacts);\n         logger.atDebug().setEventType(\"downloading-package-artifacts\")\n-                .addKeyValue(\"packageIdentifier\", packageIdentifier)\n+                .addKeyValue(PACKAGE_IDENTIFIER, packageIdentifier)\n                 .addKeyValue(\"artifactsNeedToDownload\", artifactsToDownload).log();\n \n         for (ComponentArtifact artifact : artifactsToDownload) {\n             ArtifactDownloader downloader = selectArtifactDownloader(artifact.getArtifactUri());\n+            File downloadedFile;\n             try {\n-                downloader.downloadToPath(packageIdentifier, artifact, packageArtifactDirectory);\n+                downloadedFile = downloader.downloadToPath(packageIdentifier, artifact, packageArtifactDirectory);\n             } catch (IOException e) {\n                 throw new PackageDownloadException(\n                         String.format(\"Failed to download package %s artifact %s\", packageIdentifier, artifact), e);\n             }\n+\n+            Unarchive unarchive = artifact.getUnarchive() == null ? Unarchive.NONE\n+                    : Coerce.toEnum(Unarchive.class, artifact.getUnarchive().toUpperCase(), Unarchive.NONE);\n+\n+            if (downloadedFile != null && !unarchive.equals(Unarchive.NONE)) {\n+                try {\n+                    Path unarchivePath = packageStore.resolveAndSetupArtifactsUnpackDirectory(packageIdentifier)\n+                            .resolve(getFileName(downloadedFile));\n+                    Utils.createPaths(unarchivePath);\n+                    unarchiver.unarchive(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33c50a37a530b6f69e3f4565b01943138d572f86"}, "originalPosition": 117}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "33c50a37a530b6f69e3f4565b01943138d572f86", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/33c50a37a530b6f69e3f4565b01943138d572f86", "committedDate": "2020-08-11T02:49:58Z", "message": "Add auto-unarchive option to components"}, "afterCommit": {"oid": "f97d8441ffe607959358029ed8f46251f3e710f7", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/f97d8441ffe607959358029ed8f46251f3e710f7", "committedDate": "2020-08-11T16:10:43Z", "message": "Add auto-unarchive option to components"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91e9eea359f8d1b00c9f515f92d936dde888d888", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/91e9eea359f8d1b00c9f515f92d936dde888d888", "committedDate": "2020-08-11T16:34:26Z", "message": "Add auto-unarchive option to components"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f97d8441ffe607959358029ed8f46251f3e710f7", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/f97d8441ffe607959358029ed8f46251f3e710f7", "committedDate": "2020-08-11T16:10:43Z", "message": "Add auto-unarchive option to components"}, "afterCommit": {"oid": "91e9eea359f8d1b00c9f515f92d936dde888d888", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/91e9eea359f8d1b00c9f515f92d936dde888d888", "committedDate": "2020-08-11T16:34:26Z", "message": "Add auto-unarchive option to components"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MjQxOTk1", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/359#pullrequestreview-465241995", "createdAt": "2020-08-11T16:39:12Z", "commit": {"oid": "91e9eea359f8d1b00c9f515f92d936dde888d888"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxNjozOToxM1rOG_AMIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxNjozOToxM1rOG_AMIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODcxNjU3OQ==", "bodyText": "Why lowered?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/359#discussion_r468716579", "createdAt": "2020-08-11T16:39:13Z", "author": {"login": "fengwang666"}, "path": "pom.xml", "diffHunk": "@@ -436,7 +436,7 @@\n                                         <limit>\n                                             <counter>BRANCH</counter>\n                                             <value>COVEREDRATIO</value>\n-                                            <minimum>0.64</minimum>\n+                                            <minimum>0.63</minimum>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91e9eea359f8d1b00c9f515f92d936dde888d888"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MjU5NzU3", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/359#pullrequestreview-465259757", "createdAt": "2020-08-11T17:01:49Z", "commit": {"oid": "91e9eea359f8d1b00c9f515f92d936dde888d888"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1Mjc2Nzc2", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/359#pullrequestreview-465276776", "createdAt": "2020-08-11T17:24:50Z", "commit": {"oid": "91e9eea359f8d1b00c9f515f92d936dde888d888"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2076, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}