{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MzIzMjgy", "number": 47, "title": "Add FindBugs and make fixes to make it happy", "bodyText": "Issue #, if available:\nDescription of changes:\nAdd findbugs and make fixes to make it happy. Also removed class which was only used in a test which tested itself since that class was otherwise unused and it had many issues in findbugs.\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-01-30T22:35:56Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/47", "merged": true, "mergeCommit": {"oid": "19ae962b7cd840649a9cd1202beda26b49746318"}, "closed": true, "closedAt": "2020-01-31T00:14:40Z", "author": {"login": "MikeDombo"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_iXiDAH2gAyMzY5MzIzMjgyOmJkY2RhODJiYmM4YmJlZGZhMTE4ODAyYzllMDMzMGJmYzNhMmUxMTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_jwQwgFqTM1MTIyNjY2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bdcda82bbc8bbedfa118802c9e0330bfc3a2e118", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/bdcda82bbc8bbedfa118802c9e0330bfc3a2e118", "committedDate": "2020-01-30T22:34:38Z", "message": "Add findbugs and make fixes to make it happy. Removed unused classes which had lots of errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77c25ce9a76eb88174a01481c767469dae129724", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/77c25ce9a76eb88174a01481c767469dae129724", "committedDate": "2020-01-30T22:36:07Z", "message": "Merge branch 'master' into findbugs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjA5OTg5", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/47#pullrequestreview-351209989", "createdAt": "2020-01-30T23:21:55Z", "commit": {"oid": "77c25ce9a76eb88174a01481c767469dae129724"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMzoyMTo1NlrOFj9LRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMzoyNjo0MFrOFj9QsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI0Njc4OA==", "bodyText": "[Optional] As we are adding more config files for findbug, checkstyle, IDEs, we could start considering putting these files to a config directory, to keep our top level directory light.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/47#discussion_r373246788", "createdAt": "2020-01-30T23:21:56Z", "author": {"login": "leaf94"}, "path": "findbugs-exclude.xml", "diffHunk": "@@ -0,0 +1,9 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77c25ce9a76eb88174a01481c767469dae129724"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI0NzE0NA==", "bodyText": "Nice!", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/47#discussion_r373247144", "createdAt": "2020-01-30T23:23:14Z", "author": {"login": "leaf94"}, "path": "src/main/java/com/aws/iot/evergreen/util/Log.java", "diffHunk": "@@ -172,7 +173,7 @@ public void logTo(String dest) {\n             logTo(System.err);\n         } else {\n             try {\n-                logTo(new FileWriter(dest), true);\n+                logTo(new OutputStreamWriter(new FileOutputStream(dest, true), StandardCharsets.UTF_8), true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77c25ce9a76eb88174a01481c767469dae129724"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI0ODE3Ng==", "bodyText": "Was this added because of some findbug failure?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/47#discussion_r373248176", "createdAt": "2020-01-30T23:26:40Z", "author": {"login": "leaf94"}, "path": "src/main/java/com/aws/iot/evergreen/dependency/EZPlugins.java", "diffHunk": "@@ -87,9 +88,12 @@ public EZPlugins loadCache() throws IOException {\n         });\n         loadPlugins(true, this.getClass().getClassLoader());\n         if (!trustedFiles.isEmpty()) {\n-            URLClassLoader trusted = new URLClassLoader(trustedFiles.toArray(new URL[trustedFiles.size()]), root);\n-            root = trusted;\n-            loadPlugins(true, trusted);\n+            AccessController.doPrivileged((PrivilegedAction<Object>) () -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77c25ce9a76eb88174a01481c767469dae129724"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjE0MDQz", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/47#pullrequestreview-351214043", "createdAt": "2020-01-30T23:33:16Z", "commit": {"oid": "77c25ce9a76eb88174a01481c767469dae129724"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjI2NjYy", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/47#pullrequestreview-351226662", "createdAt": "2020-01-31T00:11:33Z", "commit": {"oid": "77c25ce9a76eb88174a01481c767469dae129724"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2452, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}