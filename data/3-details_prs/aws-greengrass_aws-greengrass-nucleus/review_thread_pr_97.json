{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0MTA0MDUx", "number": 97, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwNzoxMjoxMlrODlT8zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwMjowNDo0OFrODlqE1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNDUwNzY0OnYy", "diffSide": "RIGHT", "path": "src/test/integration/java/com/aws/iot/evergreen/integ/ipc/IPCAwareServicesTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwNzoxMjoxMlrOFyIf9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxODozNDoyOFrOFyfIUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODExMjM3Mw==", "bodyText": "Since you're now running tests based on the path and not the tag, not sure we should bother including the tag. Or else, undo your change so it runs based on the tag as before.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/97#discussion_r388112373", "createdAt": "2020-03-05T07:12:12Z", "author": {"login": "MikeDombo"}, "path": "src/test/integration/java/com/aws/iot/evergreen/integ/ipc/IPCAwareServicesTest.java", "diffHunk": "@@ -1,17 +1,22 @@\n-package com.aws.iot.evergreen.ipc;\n+/* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ * SPDX-License-Identifier: Apache-2.0 */\n+\n+package com.aws.iot.evergreen.integ.ipc;\n \n import com.aws.iot.evergreen.dependency.State;\n import com.aws.iot.evergreen.kernel.EvergreenService;\n import com.aws.iot.evergreen.kernel.Kernel;\n import org.junit.jupiter.api.AfterEach;\n import org.junit.jupiter.api.BeforeEach;\n+import org.junit.jupiter.api.Tag;\n import org.junit.jupiter.api.Test;\n \n import java.util.concurrent.CountDownLatch;\n import java.util.concurrent.TimeUnit;\n \n import static org.junit.jupiter.api.Assertions.assertTrue;\n \n+@Tag(\"Integration\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bff4163c454073ddf60b50cdbb7c7608e1b404b"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4MzE1Mg==", "bodyText": "Removed the tags since we had to separate the two types of tests anyway", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/97#discussion_r388483152", "createdAt": "2020-03-05T18:34:28Z", "author": {"login": "shaguptashaikh"}, "path": "src/test/integration/java/com/aws/iot/evergreen/integ/ipc/IPCAwareServicesTest.java", "diffHunk": "@@ -1,17 +1,22 @@\n-package com.aws.iot.evergreen.ipc;\n+/* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ * SPDX-License-Identifier: Apache-2.0 */\n+\n+package com.aws.iot.evergreen.integ.ipc;\n \n import com.aws.iot.evergreen.dependency.State;\n import com.aws.iot.evergreen.kernel.EvergreenService;\n import com.aws.iot.evergreen.kernel.Kernel;\n import org.junit.jupiter.api.AfterEach;\n import org.junit.jupiter.api.BeforeEach;\n+import org.junit.jupiter.api.Tag;\n import org.junit.jupiter.api.Test;\n \n import java.util.concurrent.CountDownLatch;\n import java.util.concurrent.TimeUnit;\n \n import static org.junit.jupiter.api.Assertions.assertTrue;\n \n+@Tag(\"Integration\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODExMjM3Mw=="}, "originalCommit": {"oid": "9bff4163c454073ddf60b50cdbb7c7608e1b404b"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwODExNDUzOnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwMTo1MzowNFrOFyqy2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNzoyNzowM1rOFzBE7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY3NDI2Nw==", "bodyText": "Why wasn't surefire able to run the tests without adding the extra plugin? If you just created a different subpackage under the test directory I thought that would work.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/97#discussion_r388674267", "createdAt": "2020-03-06T01:53:04Z", "author": {"login": "MikeDombo"}, "path": "pom.xml", "diffHunk": "@@ -183,8 +218,9 @@\n                         </goals>\n                         <configuration>\n                             <skipTests>false</skipTests>\n-                            <excludedGroups>*</excludedGroups>\n-                            <groups>Integration</groups>\n+                            <includes>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7bf7a847bda85d0bbcce8777d7fbe34ed0ba4b"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODcxMzIyNQ==", "bodyText": "I'm guessing maven tries to look for test source in test/java and test resources in test/resources. It doesn't recognize other directories under test folder by default. Creating java sub packages works but it still looks a little messy in the IDE since it sorts packages alphabetically", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/97#discussion_r388713225", "createdAt": "2020-03-06T04:57:11Z", "author": {"login": "shaguptashaikh"}, "path": "pom.xml", "diffHunk": "@@ -183,8 +218,9 @@\n                         </goals>\n                         <configuration>\n                             <skipTests>false</skipTests>\n-                            <excludedGroups>*</excludedGroups>\n-                            <groups>Integration</groups>\n+                            <includes>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY3NDI2Nw=="}, "originalCommit": {"oid": "ba7bf7a847bda85d0bbcce8777d7fbe34ed0ba4b"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTAzOTM0Mg==", "bodyText": "Both of you are right. It is only required if test classes are not under src/test/java folder.\nDived a bit and put the E2E flow here for people who are interested!\nSurefire uses the ${project.build.testSourceDirectory}.\nIt is specified in the super POM that\n<testSourceDirectory>${project.basedir}/src/test/java</testSourceDirectory>", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/97#discussion_r389039342", "createdAt": "2020-03-06T17:27:03Z", "author": {"login": "leaf94"}, "path": "pom.xml", "diffHunk": "@@ -183,8 +218,9 @@\n                         </goals>\n                         <configuration>\n                             <skipTests>false</skipTests>\n-                            <excludedGroups>*</excludedGroups>\n-                            <groups>Integration</groups>\n+                            <includes>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY3NDI2Nw=="}, "originalCommit": {"oid": "ba7bf7a847bda85d0bbcce8777d7fbe34ed0ba4b"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwODEzMjcxOnYy", "diffSide": "RIGHT", "path": "src/integrationtests/java/com/aws/iot/evergreen/integrationtests/ipc/IPCAwareServicesTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwMjowNDo0OFrOFyq-MA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwNDo1Mzo0MFrOFytIZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY3NzE2OA==", "bodyText": "nit: why do we use src/integrationtests/java/com/aws/iot/evergreen/integrationtests/* instead of src/integrationtests/java/com/aws/iot/evergreen/*", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/97#discussion_r388677168", "createdAt": "2020-03-06T02:04:48Z", "author": {"login": "hui-yang"}, "path": "src/integrationtests/java/com/aws/iot/evergreen/integrationtests/ipc/IPCAwareServicesTest.java", "diffHunk": "@@ -1,17 +1,23 @@\n-package com.aws.iot.evergreen.ipc;\n+/* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ * SPDX-License-Identifier: Apache-2.0 */\n+\n+package com.aws.iot.evergreen.integrationtests.ipc;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7bf7a847bda85d0bbcce8777d7fbe34ed0ba4b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODcxMjU0OQ==", "bodyText": "Not a strong reason, src/integrationtests/java is a directory and com.aws.iot.evergreen.integrationtests.ipc is the java package name, I thought it'd be nice to have integration tests in their own java packages so it's clear when looking at the test class package declaration if it's a unit test or integration", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/97#discussion_r388712549", "createdAt": "2020-03-06T04:53:40Z", "author": {"login": "shaguptashaikh"}, "path": "src/integrationtests/java/com/aws/iot/evergreen/integrationtests/ipc/IPCAwareServicesTest.java", "diffHunk": "@@ -1,17 +1,23 @@\n-package com.aws.iot.evergreen.ipc;\n+/* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ * SPDX-License-Identifier: Apache-2.0 */\n+\n+package com.aws.iot.evergreen.integrationtests.ipc;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY3NzE2OA=="}, "originalCommit": {"oid": "ba7bf7a847bda85d0bbcce8777d7fbe34ed0ba4b"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4853, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}