{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3MzQ0Nzkz", "number": 150, "title": "Use Maven Shade to build uberjar. Capture jar size in benchmark graphs", "bodyText": "Issue #, if available:\nDescription of changes:\nUsing Maven Shade plugin to build a jar file with all our dependencies built in. This allows us to very easily see the total size of our code and our dependencies as well.\nUsing that info we then also add it as a metric uploaded to CloudWatch which will be graphed on the benchmarks graphs over time.\nFYI current jar size is 16842741 bytes (16.8 MB).\nI'm also adding back the GitHub Actions Cache plugin since I believe downloading from Maven for every build step is costing us a lot of time. The caching I'm enabling is quite conservative as it will only persist between jobs for a particular commit hash. This saves at least 4 minutes each for the e2e test as well as the benchmark and flake finder.\nWhy is this change necessary:\nHow was this change tested:\nManually tested that script can read the file size and that the file is generated with all dependencies as far as I can tell.\nAny additional information or context required to review the change:\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-04-02T04:08:42Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/150", "merged": true, "mergeCommit": {"oid": "bd618fae06deb12af266e5db04306a78005b6b88"}, "closed": true, "closedAt": "2020-04-02T23:31:37Z", "author": {"login": "MikeDombo"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTxJ1aAH2gAyMzk3MzQ0NzkzOjE0OGNhNjg0YjI2YzhmMjkzYTdmYThhN2YxYTI2ZmZjMzk5NzJhNjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcT058mAFqTM4Njg0NjM1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "148ca684b26c8f293a7fa8a7f1a26ffc39972a62", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/148ca684b26c8f293a7fa8a7f1a26ffc39972a62", "committedDate": "2020-04-02T19:06:44Z", "message": "Use Maven Shade to build uberjar. Capture jar size in benchmark graphs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbcb0efc4db297816beca738a0dedd0a9320c922", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/bbcb0efc4db297816beca738a0dedd0a9320c922", "committedDate": "2020-04-02T19:06:44Z", "message": "Bring in GitHub Actions Cache again"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a05e6280caa9ec51812db1d496b47986f0d484ff", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/a05e6280caa9ec51812db1d496b47986f0d484ff", "committedDate": "2020-04-02T04:39:59Z", "message": "Bring in GitHub Actions Cache again"}, "afterCommit": {"oid": "bbcb0efc4db297816beca738a0dedd0a9320c922", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/bbcb0efc4db297816beca738a0dedd0a9320c922", "committedDate": "2020-04-02T19:06:44Z", "message": "Bring in GitHub Actions Cache again"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NzYyMTQw", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/150#pullrequestreview-386762140", "createdAt": "2020-04-02T20:16:11Z", "commit": {"oid": "bbcb0efc4db297816beca738a0dedd0a9320c922"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQyMTowMjoxNVrOF_8edA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQyMTowMjoxNVrOF_8edA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU5NTQ0NA==", "bodyText": "<uberjar.name>Evergreen</uberjar.name> -> <evergreenjar.name>Evergreen</evergreenjar.name>", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/150#discussion_r402595444", "createdAt": "2020-04-02T21:02:15Z", "author": {"login": "fahadmohammed01"}, "path": "pom.xml", "diffHunk": "@@ -366,6 +415,7 @@\n         <skipTests>false</skipTests>\n         <excludedGroups>E2E</excludedGroups>\n         <groups></groups>\n+        <uberjar.name>Evergreen</uberjar.name>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbcb0efc4db297816beca738a0dedd0a9320c922"}, "originalPosition": 67}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0d1c63010ad12b48a5a76cf617ac2e3d7440e3a", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/c0d1c63010ad12b48a5a76cf617ac2e3d7440e3a", "committedDate": "2020-04-02T21:07:08Z", "message": "Address PR comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2Nzc2ODQ4", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/150#pullrequestreview-386776848", "createdAt": "2020-04-02T21:07:44Z", "commit": {"oid": "c0d1c63010ad12b48a5a76cf617ac2e3d7440e3a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2ODQ2MzUz", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/150#pullrequestreview-386846353", "createdAt": "2020-04-02T23:29:00Z", "commit": {"oid": "c0d1c63010ad12b48a5a76cf617ac2e3d7440e3a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2401, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}