{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzMTkyMDA5", "number": 278, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxODowODo0NFrOEEy6Wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxODowOToyMFrOEEy7Aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNDYzODk4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/iot/evergreen/packagemanager/PackageManager.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxODowODo0NFrOGipGVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxODo1NzowOVrOGiqqMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk3ODEzNQ==", "bodyText": "Don't need this anymore. Fixed in listAvailablePackageMetadata.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/278#discussion_r438978135", "createdAt": "2020-06-11T18:08:44Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/PackageManager.java", "diffHunk": "@@ -91,7 +92,7 @@ public PackageManager(GreengrassRepositoryDownloader greengrassArtifactDownloade\n \n         // 2. list available packages locally\n         List<PackageMetadata> packageMetadataList =\n-                packageStore.listAvailablePackageMetadata(packageName, versionRequirement);\n+                new ArrayList<>(packageStore.listAvailablePackageMetadata(packageName, versionRequirement));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4451b2d91bd2122b27c4301f02aa55f1a228d85"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAwMzY5OA==", "bodyText": "Discussed offline. Prefer to keep this at the high level so that it's safe even if sub-methods returning immutable list. Good callout from Hui that we could leverage javadoc to indicate the @return is immutable or not.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/278#discussion_r439003698", "createdAt": "2020-06-11T18:57:09Z", "author": {"login": "leaf94"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/PackageManager.java", "diffHunk": "@@ -91,7 +92,7 @@ public PackageManager(GreengrassRepositoryDownloader greengrassArtifactDownloade\n \n         // 2. list available packages locally\n         List<PackageMetadata> packageMetadataList =\n-                packageStore.listAvailablePackageMetadata(packageName, versionRequirement);\n+                new ArrayList<>(packageStore.listAvailablePackageMetadata(packageName, versionRequirement));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk3ODEzNQ=="}, "originalCommit": {"oid": "b4451b2d91bd2122b27c4301f02aa55f1a228d85"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNDY0MDY3OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/iot/evergreen/packagemanager/models/PackageRecipe.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxODowOToyMFrOGipHcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxODo1NToxN1rOGiqmPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk3ODQxOA==", "bodyText": "Don't need this. Fixed in Ln 159", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/278#discussion_r438978418", "createdAt": "2020-06-11T18:09:20Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/models/PackageRecipe.java", "diffHunk": "@@ -173,7 +173,7 @@ public Semver getVersion() {\n                     }\n                 }\n \n-                if (dependencyType.isEmpty()) {\n+                if (dependencyType == null || dependencyType.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4451b2d91bd2122b27c4301f02aa55f1a228d85"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAwMjY4Ng==", "bodyText": "Done.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/278#discussion_r439002686", "createdAt": "2020-06-11T18:55:17Z", "author": {"login": "leaf94"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/models/PackageRecipe.java", "diffHunk": "@@ -173,7 +173,7 @@ public Semver getVersion() {\n                     }\n                 }\n \n-                if (dependencyType.isEmpty()) {\n+                if (dependencyType == null || dependencyType.isEmpty()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk3ODQxOA=="}, "originalCommit": {"oid": "b4451b2d91bd2122b27c4301f02aa55f1a228d85"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4333, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}