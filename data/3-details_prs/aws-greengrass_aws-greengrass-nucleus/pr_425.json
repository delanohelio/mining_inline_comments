{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgzMzkwMTYw", "number": 425, "title": "Make IPC services not services", "bodyText": "Issue #, if available:\nDescription of changes:\nWith this change we save a minimum of 6 threads which were wasted on services that weren't actually services. The main reason for this change is so that we can ensure that IPC is running prior to starting up any customer applications which has been causing us UAT and integration test failures. IPC was not using any of the facilities of being a service, so it doesn't need to be a service at all then.\nWhy is this change necessary:\nHow was this change tested:\nAny additional information or context required to review the change:\nChecklist:\n\n Updated the README if applicable\n Updated or added new unit tests\n Updated or added new integration tests\n Updated or added new end-to-end tests\n\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-09-10T04:57:10Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/425", "merged": true, "mergeCommit": {"oid": "b95d87642d97376afa8f8b9f05e7b098b048f66e"}, "closed": true, "closedAt": "2020-09-11T04:39:27Z", "author": {"login": "MikeDombo"}, "timelineItems": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHZontABqjM3NDg5NjUwMzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHt1PPgFqTQ4NjQ2Nzk5NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c36605eede07e3dd42ac70a797c56941995c5702", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/c36605eede07e3dd42ac70a797c56941995c5702", "committedDate": "2020-09-10T04:56:46Z", "message": "Make IPC services not services"}, "afterCommit": {"oid": "8d978c1fcbdd3f6c9ff6a77346c4dca45a04b148", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/8d978c1fcbdd3f6c9ff6a77346c4dca45a04b148", "committedDate": "2020-09-10T05:06:35Z", "message": "Make IPC services not services"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8d978c1fcbdd3f6c9ff6a77346c4dca45a04b148", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/8d978c1fcbdd3f6c9ff6a77346c4dca45a04b148", "committedDate": "2020-09-10T05:06:35Z", "message": "Make IPC services not services"}, "afterCommit": {"oid": "8bcb98fdee7514d8340dff8d62369ca0b82057ff", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/8bcb98fdee7514d8340dff8d62369ca0b82057ff", "committedDate": "2020-09-10T05:17:07Z", "message": "Make IPC services not services"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8bcb98fdee7514d8340dff8d62369ca0b82057ff", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/8bcb98fdee7514d8340dff8d62369ca0b82057ff", "committedDate": "2020-09-10T05:17:07Z", "message": "Make IPC services not services"}, "afterCommit": {"oid": "287e813bc1380450f5fea96cfdcb1d3a4a04fa19", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/287e813bc1380450f5fea96cfdcb1d3a4a04fa19", "committedDate": "2020-09-10T05:21:51Z", "message": "Make IPC services not services"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "287e813bc1380450f5fea96cfdcb1d3a4a04fa19", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/287e813bc1380450f5fea96cfdcb1d3a4a04fa19", "committedDate": "2020-09-10T05:21:51Z", "message": "Make IPC services not services"}, "afterCommit": {"oid": "d4bce8f9775478d16b97048c24c78c01a5be65f5", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d4bce8f9775478d16b97048c24c78c01a5be65f5", "committedDate": "2020-09-10T05:37:01Z", "message": "Make IPC services not services"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d4bce8f9775478d16b97048c24c78c01a5be65f5", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d4bce8f9775478d16b97048c24c78c01a5be65f5", "committedDate": "2020-09-10T05:37:01Z", "message": "Make IPC services not services"}, "afterCommit": {"oid": "70a43e6d85f59aec4d8c3d13047fd2e202e618e5", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/70a43e6d85f59aec4d8c3d13047fd2e202e618e5", "committedDate": "2020-09-10T05:38:51Z", "message": "Make IPC services not services"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MTM1MTc2", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/425#pullrequestreview-486135176", "createdAt": "2020-09-10T16:59:36Z", "commit": {"oid": "70a43e6d85f59aec4d8c3d13047fd2e202e618e5"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MTM4NDkw", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/425#pullrequestreview-486138490", "createdAt": "2020-09-10T17:03:57Z", "commit": {"oid": "70a43e6d85f59aec4d8c3d13047fd2e202e618e5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNzowMzo1N1rOHP9ibA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNzowMzo1N1rOHP9ibA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ5ODkyNA==", "bodyText": "Nit: is there a better way of doing this instead of having to list them all out here?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/425#discussion_r486498924", "createdAt": "2020-09-10T17:03:57Z", "author": {"login": "avipinku"}, "path": "src/main/java/com/aws/iot/evergreen/kernel/KernelLifecycle.java", "diffHunk": "@@ -48,6 +58,11 @@\n     private final Kernel kernel;\n     private final KernelCommandLine kernelCommandLine;\n     private final Map<String, Class<?>> serviceImplementors = new HashMap<>();\n+    // setter for unit testing\n+    @Setter(AccessLevel.PACKAGE)\n+    private List<Class<? extends Startable>> startables = Arrays.asList(IPCService.class, AuthorizationService.class,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70a43e6d85f59aec4d8c3d13047fd2e202e618e5"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MTM4OTg1", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/425#pullrequestreview-486138985", "createdAt": "2020-09-10T17:04:37Z", "commit": {"oid": "70a43e6d85f59aec4d8c3d13047fd2e202e618e5"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c4630fb1aa38830f0799cf807464314a5a45249d", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/c4630fb1aa38830f0799cf807464314a5a45249d", "committedDate": "2020-09-10T17:12:05Z", "message": "Merge branch 'master' into no-service"}, "afterCommit": {"oid": "b67e02ae0b078884bd17da09a3a247ea748c7137", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b67e02ae0b078884bd17da09a3a247ea748c7137", "committedDate": "2020-09-10T17:41:24Z", "message": "Make IPC services not services"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MTc1Nzc5", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/425#pullrequestreview-486175779", "createdAt": "2020-09-10T17:54:06Z", "commit": {"oid": "b67e02ae0b078884bd17da09a3a247ea748c7137"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MTgzMjQy", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/425#pullrequestreview-486183242", "createdAt": "2020-09-10T18:04:22Z", "commit": {"oid": "ecc63ec55d6be28ba3e4ad001e6b8d5103c347e4"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MTk2ODM3", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/425#pullrequestreview-486196837", "createdAt": "2020-09-10T18:16:28Z", "commit": {"oid": "ecc63ec55d6be28ba3e4ad001e6b8d5103c347e4"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "edd2bc4a6939e6c1f00511bfb4a8b5d6a56519bc", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/edd2bc4a6939e6c1f00511bfb4a8b5d6a56519bc", "committedDate": "2020-09-10T18:28:08Z", "message": "Make IPC services not services"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ecc63ec55d6be28ba3e4ad001e6b8d5103c347e4", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/ecc63ec55d6be28ba3e4ad001e6b8d5103c347e4", "committedDate": "2020-09-10T18:01:20Z", "message": "Rename value to defaultValue"}, "afterCommit": {"oid": "edd2bc4a6939e6c1f00511bfb4a8b5d6a56519bc", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/edd2bc4a6939e6c1f00511bfb4a8b5d6a56519bc", "committedDate": "2020-09-10T18:28:08Z", "message": "Make IPC services not services"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MzA2MjQ3", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/425#pullrequestreview-486306247", "createdAt": "2020-09-10T20:59:40Z", "commit": {"oid": "edd2bc4a6939e6c1f00511bfb4a8b5d6a56519bc"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2Mzg1NTM3", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/425#pullrequestreview-486385537", "createdAt": "2020-09-10T23:53:05Z", "commit": {"oid": "edd2bc4a6939e6c1f00511bfb4a8b5d6a56519bc"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d16e4571a2c2cfb646c52edc313329d1c9e3449", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/9d16e4571a2c2cfb646c52edc313329d1c9e3449", "committedDate": "2020-09-11T00:04:09Z", "message": "Merge branch 'master' into no-service"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7b17e23a8fc110ca94254a554f6860aaba37254b", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/7b17e23a8fc110ca94254a554f6860aaba37254b", "committedDate": "2020-09-11T01:01:06Z", "message": "Fix test"}, "afterCommit": {"oid": "36c797b49bd60c67fa238c19b58b91334ec550a6", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/36c797b49bd60c67fa238c19b58b91334ec550a6", "committedDate": "2020-09-11T01:12:46Z", "message": "Fix test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "36c797b49bd60c67fa238c19b58b91334ec550a6", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/36c797b49bd60c67fa238c19b58b91334ec550a6", "committedDate": "2020-09-11T01:12:46Z", "message": "Fix test"}, "afterCommit": {"oid": "db336ba945d2f6bb9097cb0a64683dd0ce715b8e", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/db336ba945d2f6bb9097cb0a64683dd0ce715b8e", "committedDate": "2020-09-11T01:25:14Z", "message": "Fix test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "db336ba945d2f6bb9097cb0a64683dd0ce715b8e", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/db336ba945d2f6bb9097cb0a64683dd0ce715b8e", "committedDate": "2020-09-11T01:25:14Z", "message": "Fix test"}, "afterCommit": {"oid": "d78fb878d764fe6c2b6ad211490c84e2c580cda2", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d78fb878d764fe6c2b6ad211490c84e2c580cda2", "committedDate": "2020-09-11T01:47:47Z", "message": "Fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f95b3a626e5b027e94d4b062323a97e5b160d4e", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/7f95b3a626e5b027e94d4b062323a97e5b160d4e", "committedDate": "2020-09-11T01:49:11Z", "message": "Fix test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d78fb878d764fe6c2b6ad211490c84e2c580cda2", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d78fb878d764fe6c2b6ad211490c84e2c580cda2", "committedDate": "2020-09-11T01:47:47Z", "message": "Fix test"}, "afterCommit": {"oid": "7f95b3a626e5b027e94d4b062323a97e5b160d4e", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/7f95b3a626e5b027e94d4b062323a97e5b160d4e", "committedDate": "2020-09-11T01:49:11Z", "message": "Fix test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2NDIxMDY1", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/425#pullrequestreview-486421065", "createdAt": "2020-09-11T01:52:07Z", "commit": {"oid": "7f95b3a626e5b027e94d4b062323a97e5b160d4e"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e81c345fdf72194a7fab91efe9b0e3e3f14601c", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/3e81c345fdf72194a7fab91efe9b0e3e3f14601c", "committedDate": "2020-09-11T02:38:06Z", "message": "Try increasing timeout"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2NDU4OTk3", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/425#pullrequestreview-486458997", "createdAt": "2020-09-11T04:04:46Z", "commit": {"oid": "3e81c345fdf72194a7fab91efe9b0e3e3f14601c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2NDY3OTk0", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/425#pullrequestreview-486467994", "createdAt": "2020-09-11T04:38:35Z", "commit": {"oid": "3e81c345fdf72194a7fab91efe9b0e3e3f14601c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3280, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}