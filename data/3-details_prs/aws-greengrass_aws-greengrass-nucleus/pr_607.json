{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0NDAxMjk3", "number": 607, "title": "Use proper keypath in config IPC update", "bodyText": "Issue #, if available:\nDescription of changes:\nUse the last key in the keypath when pulling from the map of updates\nWhy is this change necessary:\nHow was this change tested:\nTested with UAT which is under development.\nAny additional information or context required to review the change:\nChecklist:\n\n Updated the README if applicable\n Updated or added new unit tests\n Updated or added new integration tests\n Updated or added new end-to-end tests\n\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-11-03T00:00:51Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/607", "merged": true, "mergeCommit": {"oid": "4ae809cf1e2eabd4cd6ef5524dc26dbf5349e617"}, "closed": true, "closedAt": "2020-11-03T00:37:50Z", "author": {"login": "MikeDombo"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYtnoZAH2gAyNTE0NDAxMjk3OjFlMzVkZTM1OThkODQ2OWMyMzU4ODYxNmYwMTc3YzRjMjBkNDBkYWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYuHfdAFqTUyMjEyNzEyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1e35de3598d8469c23588616f0177c4c20d40dab", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/1e35de3598d8469c23588616f0177c4c20d40dab", "committedDate": "2020-11-03T00:00:26Z", "message": "Use proper keypath in config IPC update"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMTE4OTg5", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/607#pullrequestreview-522118989", "createdAt": "2020-11-03T00:09:56Z", "commit": {"oid": "1e35de3598d8469c23588616f0177c4c20d40dab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMDowOTo1NlrOHsblCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMDowOTo1NlrOHsblCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjM1MTI0MA==", "bodyText": "I had similar concerns when revoking the auth tokens for CLI. Probably not for this PR. @hui-yang", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/607#discussion_r516351240", "createdAt": "2020-11-03T00:09:56Z", "author": {"login": "abanthiy"}, "path": "src/main/java/com/aws/greengrass/easysetup/DeviceProvisioningHelper.java", "diffHunk": "@@ -256,6 +256,8 @@ public void updateKernelConfigWithIotConfiguration(Kernel kernel, ThingInfo thin\n \n         new DeviceConfiguration(kernel, thing.thingName, thing.dataEndpoint, thing.credEndpoint,\n                 privKeyFilePath.toString(), certFilePath.toString(), caFilePath.toString(), awsRegion, roleAliasName);\n+        // Make sure tlog persists the device configuration\n+        kernel.getContext().waitForPublishQueueToClear();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e35de3598d8469c23588616f0177c4c20d40dab"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMTI2ODE5", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/607#pullrequestreview-522126819", "createdAt": "2020-11-03T00:34:14Z", "commit": {"oid": "1e35de3598d8469c23588616f0177c4c20d40dab"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMTI3MTI2", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/607#pullrequestreview-522127126", "createdAt": "2020-11-03T00:35:14Z", "commit": {"oid": "1e35de3598d8469c23588616f0177c4c20d40dab"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2900, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}