{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2OTQzMTE4", "number": 436, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMzozMDoxNFrOEjXKmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMzozMDo1MVrOEjXLDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NTE1MTYwOnYy", "diffSide": "RIGHT", "path": "GreengrassCore-2.0.0.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMzozMDoxNFrOHRrFWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMzozMDoxNFrOHRrFWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI5MzcyMQ==", "bodyText": "why? We shouldn't be using this as unzip isn't available by default on most systems", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/436#discussion_r488293721", "createdAt": "2020-09-14T23:30:14Z", "author": {"login": "MikeDombo"}, "path": "GreengrassCore-2.0.0.yaml", "diffHunk": "@@ -13,39 +13,39 @@ Manifests:\n         value: -Xms512m -Xmx512m\n         type: STRING\n     Artifacts:\n-      # TODO: set correct URI\n+      # TODO: set correct URI. Use builtin unpack functionality with permission preserved\n       - URI: S3:GreengrassCore-2.0.0.zip\n-        Unarchive: zip\n     Lifecycle:\n       bootstrap:\n           script: |-\n             set -eu\n             KERNEL_ROOT=\"{{kernel:rootPath}}\"\n-            UNPACK_DIR=\"{{artifacts:decompressedPath}}\"\n+            UNPACK_DIR=\"{{artifacts:decompressedPath}}/GreengrassCore-2.0.0\"\n+            unzip \"{{artifacts:path}}/custom.zip\" -d \"$UNPACK_DIR\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a374abd3f9bf712f53ec6e5b0887b2bb11f1c96"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NTE1Mjc4OnYy", "diffSide": "RIGHT", "path": "GreengrassCore-2.0.0.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMzozMDo1MVrOHRrGFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMzozMDo1MVrOHRrGFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI5MzkwOQ==", "bodyText": "what permission?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/436#discussion_r488293909", "createdAt": "2020-09-14T23:30:51Z", "author": {"login": "MikeDombo"}, "path": "GreengrassCore-2.0.0.yaml", "diffHunk": "@@ -13,39 +13,39 @@ Manifests:\n         value: -Xms512m -Xmx512m\n         type: STRING\n     Artifacts:\n-      # TODO: set correct URI\n+      # TODO: set correct URI. Use builtin unpack functionality with permission preserved\n       - URI: S3:GreengrassCore-2.0.0.zip\n-        Unarchive: zip\n     Lifecycle:\n       bootstrap:\n           script: |-\n             set -eu\n             KERNEL_ROOT=\"{{kernel:rootPath}}\"\n-            UNPACK_DIR=\"{{artifacts:decompressedPath}}\"\n+            UNPACK_DIR=\"{{artifacts:decompressedPath}}/GreengrassCore-2.0.0\"\n+            unzip \"{{artifacts:path}}/custom.zip\" -d \"$UNPACK_DIR\"\n \n-            rm -r \"$KERNEL_ROOT/alts/current/*\"\n+            rm -r \"$KERNEL_ROOT\"/alts/current/*\n \n             echo \"{{params:jvmOptions.value}}\" > \"$KERNEL_ROOT/alts/current/launch.params\"\n             ln -sf \"$UNPACK_DIR\" \"$KERNEL_ROOT/alts/current/distro\"\n             exit 100\n \n   - Platform:\n-      os: unbuntu\n+      os: ubuntu\n     Parameters:\n       - name: jvmOptions\n         # TODO: consider change to nested structure\n         value: -Xms512m -Xmx512m\n         type: STRING\n     Artifacts:\n-      # TODO: set correct URI\n+      # TODO: set correct URI. Use builtin unpack functionality with permission preserved", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a374abd3f9bf712f53ec6e5b0887b2bb11f1c96"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 792, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}