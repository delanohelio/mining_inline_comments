{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3NjcwNjkz", "number": 730, "title": "Cache Jobs callbacks to prevent duplicate subscriptions", "bodyText": "Issue #, if available:\nDescription of changes:\nCache the subscribers in our iot jobs client so that we don't get duplicate subscriptions.\nWhy is this change necessary:\nHow was this change tested:\nAny additional information or context required to review the change:\nChecklist:\n\n Updated the README if applicable\n Updated or added new unit tests\n Updated or added new integration tests\n Updated or added new end-to-end tests\n\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-11-25T20:12:42Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/730", "merged": true, "mergeCommit": {"oid": "4d05a0ecffd584450ec143bb00f1b7f5a004fcab"}, "closed": true, "closedAt": "2020-11-27T19:47:35Z", "author": {"login": "MikeDombo"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgEIh-gH2gAyNTI3NjcwNjkzOjJlMjlhMTk3NDU4ODBmZGEwOGY0YjcxMTVmYTQxYWU1YWMyYzdkZjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgqqH1AFqTU0MDEwNTUyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2e29a19745880fda08f4b7115fa41ae5ac2c7df1", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/2e29a19745880fda08f4b7115fa41ae5ac2c7df1", "committedDate": "2020-11-25T20:11:45Z", "message": "Cache Jobs callbacks to prevent duplicate subscriptions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4ODIxNDY0", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/730#pullrequestreview-538821464", "createdAt": "2020-11-25T20:19:00Z", "commit": {"oid": "2e29a19745880fda08f4b7115fa41ae5ac2c7df1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQyMDoxOTowMFrOH6CowQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQyMDoxOTowMFrOH6CowQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDYyMjY1Nw==", "bodyText": "Does this work for resubscribing after mqtt reconnect/network recovery?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/730#discussion_r530622657", "createdAt": "2020-11-25T20:19:00Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/greengrass/deployment/IotJobsClientWrapper.java", "diffHunk": "@@ -54,6 +57,16 @@\n \n     private final MqttClientConnection connection;\n     private final Gson gson = this.getGson();\n+    private final Map<Pair<Consumer<UpdateJobExecutionResponse>, Consumer<Exception>>, Consumer<MqttMessage>>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e29a19745880fda08f4b7115fa41ae5ac2c7df1"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9258e8aaeb28c9a974865eb251df2b1961ef7f7", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/c9258e8aaeb28c9a974865eb251df2b1961ef7f7", "committedDate": "2020-11-25T22:45:16Z", "message": "Merge branch 'master' into cache-jobs-cbs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bab4dc23f714998876f63b4ff42bcab216f6f43", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/3bab4dc23f714998876f63b4ff42bcab216f6f43", "committedDate": "2020-11-26T01:08:20Z", "message": "Merge branch 'master' into cache-jobs-cbs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4OTM3NDEw", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/730#pullrequestreview-538937410", "createdAt": "2020-11-26T01:32:40Z", "commit": {"oid": "3bab4dc23f714998876f63b4ff42bcab216f6f43"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMTA1NTIw", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/730#pullrequestreview-540105520", "createdAt": "2020-11-27T17:04:50Z", "commit": {"oid": "3bab4dc23f714998876f63b4ff42bcab216f6f43"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2759, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}