{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2NDQ0Njk0", "number": 628, "title": "Cleanup other IPC implementations", "bodyText": "Issue #, if available:\nDescription of changes:\nCleanup all other IPC agents other than CLI agent. Reformat all code, regularize logging, remove references to \"service\". Add validation that you cannot report the status of some other service.\nWhy is this change necessary:\nHow was this change tested:\nAny additional information or context required to review the change:\nChecklist:\n\n Updated the README if applicable\n Updated or added new unit tests\n Updated or added new integration tests\n Updated or added new end-to-end tests\n\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-11-06T01:59:08Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/628", "merged": true, "mergeCommit": {"oid": "9008947d11a4e6f4df3018b1f54a55fb44c4eb87"}, "closed": true, "closedAt": "2020-11-06T07:46:17Z", "author": {"login": "MikeDombo"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZtXGVAFqTUyNDgxMTU0Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZyEI7gFqTUyNDkxNzQ3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0ODExNTQy", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/628#pullrequestreview-524811542", "createdAt": "2020-11-06T02:16:17Z", "commit": {"oid": "fcf3ed7dc074f71a6eb55e17ef905648f8e40281"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMjoxNjoxN1rOHudwxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMjoxNjoxN1rOHudwxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODQ4NDE2NQ==", "bodyText": "We should be removing service name from the UpdateStateRequest as it does not make any sense for customer to provide this.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/628#discussion_r518484165", "createdAt": "2020-11-06T02:16:17Z", "author": {"login": "abanthiy"}, "path": "src/main/java/com/aws/greengrass/builtin/services/lifecycle/LifecycleIPCEventStreamAgent.java", "diffHunk": "@@ -103,17 +103,21 @@ protected void onStreamClosed() {\n         @SuppressWarnings(\"PMD.PreserveStackTrace\")\n         public UpdateStateResponse handleRequest(UpdateStateRequest request) {\n             log.atInfo().log(\"Got update state request for service \" + serviceName);\n-            State s = State.valueOf(request.getState().toString());\n             String serviceN = request.getServiceName() == null ? serviceName : request.getServiceName();\n+            if (!serviceN.equals(serviceName)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcf3ed7dc074f71a6eb55e17ef905648f8e40281"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ebab33adeb8a1ba0f9ea62c2f3e845bedc672f0", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/7ebab33adeb8a1ba0f9ea62c2f3e845bedc672f0", "committedDate": "2020-11-06T02:43:42Z", "message": "Cleanup other IPC implementations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fcf3ed7dc074f71a6eb55e17ef905648f8e40281", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/fcf3ed7dc074f71a6eb55e17ef905648f8e40281", "committedDate": "2020-11-06T01:58:10Z", "message": "Cleanup other IPC implementations"}, "afterCommit": {"oid": "7ebab33adeb8a1ba0f9ea62c2f3e845bedc672f0", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/7ebab33adeb8a1ba0f9ea62c2f3e845bedc672f0", "committedDate": "2020-11-06T02:43:42Z", "message": "Cleanup other IPC implementations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd565c0e1001aa926541694ca5ac1f9f27f5392b", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/bd565c0e1001aa926541694ca5ac1f9f27f5392b", "committedDate": "2020-11-06T06:25:30Z", "message": "Merge branch 'master' into lifecycleipc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0ODg1MDkz", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/628#pullrequestreview-524885093", "createdAt": "2020-11-06T06:29:06Z", "commit": {"oid": "bd565c0e1001aa926541694ca5ac1f9f27f5392b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0OTE3NDcx", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/628#pullrequestreview-524917471", "createdAt": "2020-11-06T07:45:07Z", "commit": {"oid": "bd565c0e1001aa926541694ca5ac1f9f27f5392b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2939, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}