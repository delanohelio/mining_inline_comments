{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2NDQ0Njk0", "number": 628, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMjoxNjoxN1rOE163cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMjoxNjoxN1rOE163cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0OTc0NDUwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/greengrass/builtin/services/lifecycle/LifecycleIPCEventStreamAgent.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMjoxNjoxN1rOHudwxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMjo0NDoyM1rOHueOpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODQ4NDE2NQ==", "bodyText": "We should be removing service name from the UpdateStateRequest as it does not make any sense for customer to provide this.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/628#discussion_r518484165", "createdAt": "2020-11-06T02:16:17Z", "author": {"login": "abanthiy"}, "path": "src/main/java/com/aws/greengrass/builtin/services/lifecycle/LifecycleIPCEventStreamAgent.java", "diffHunk": "@@ -103,17 +103,21 @@ protected void onStreamClosed() {\n         @SuppressWarnings(\"PMD.PreserveStackTrace\")\n         public UpdateStateResponse handleRequest(UpdateStateRequest request) {\n             log.atInfo().log(\"Got update state request for service \" + serviceName);\n-            State s = State.valueOf(request.getState().toString());\n             String serviceN = request.getServiceName() == null ? serviceName : request.getServiceName();\n+            if (!serviceN.equals(serviceName)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcf3ed7dc074f71a6eb55e17ef905648f8e40281"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODQ5MTgxNA==", "bodyText": "Removed from model and all (1) usage of it.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/628#discussion_r518491814", "createdAt": "2020-11-06T02:44:23Z", "author": {"login": "MikeDombo"}, "path": "src/main/java/com/aws/greengrass/builtin/services/lifecycle/LifecycleIPCEventStreamAgent.java", "diffHunk": "@@ -103,17 +103,21 @@ protected void onStreamClosed() {\n         @SuppressWarnings(\"PMD.PreserveStackTrace\")\n         public UpdateStateResponse handleRequest(UpdateStateRequest request) {\n             log.atInfo().log(\"Got update state request for service \" + serviceName);\n-            State s = State.valueOf(request.getState().toString());\n             String serviceN = request.getServiceName() == null ? serviceName : request.getServiceName();\n+            if (!serviceN.equals(serviceName)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODQ4NDE2NQ=="}, "originalCommit": {"oid": "fcf3ed7dc074f71a6eb55e17ef905648f8e40281"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 489, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}