{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MzIzMjgy", "number": 47, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMzoyMTo1NlrODcF7Dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMzoyNjo0MFrODcF-bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzgzNzU5OnYy", "diffSide": "RIGHT", "path": "findbugs-exclude.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMzoyMTo1NlrOFj9LRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMzoyMTo1NlrOFj9LRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI0Njc4OA==", "bodyText": "[Optional] As we are adding more config files for findbug, checkstyle, IDEs, we could start considering putting these files to a config directory, to keep our top level directory light.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/47#discussion_r373246788", "createdAt": "2020-01-30T23:21:56Z", "author": {"login": "leaf94"}, "path": "findbugs-exclude.xml", "diffHunk": "@@ -0,0 +1,9 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77c25ce9a76eb88174a01481c767469dae129724"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzgzOTc1OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/iot/evergreen/util/Log.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMzoyMzoxNFrOFj9MqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMzoyMzoxNFrOFj9MqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI0NzE0NA==", "bodyText": "Nice!", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/47#discussion_r373247144", "createdAt": "2020-01-30T23:23:14Z", "author": {"login": "leaf94"}, "path": "src/main/java/com/aws/iot/evergreen/util/Log.java", "diffHunk": "@@ -172,7 +173,7 @@ public void logTo(String dest) {\n             logTo(System.err);\n         } else {\n             try {\n-                logTo(new FileWriter(dest), true);\n+                logTo(new OutputStreamWriter(new FileOutputStream(dest, true), StandardCharsets.UTF_8), true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77c25ce9a76eb88174a01481c767469dae129724"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzg0NjIzOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/iot/evergreen/dependency/EZPlugins.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMzoyNjo0MFrOFj9QsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMzozMjo0NlrOFj9XjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI0ODE3Ng==", "bodyText": "Was this added because of some findbug failure?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/47#discussion_r373248176", "createdAt": "2020-01-30T23:26:40Z", "author": {"login": "leaf94"}, "path": "src/main/java/com/aws/iot/evergreen/dependency/EZPlugins.java", "diffHunk": "@@ -87,9 +88,12 @@ public EZPlugins loadCache() throws IOException {\n         });\n         loadPlugins(true, this.getClass().getClassLoader());\n         if (!trustedFiles.isEmpty()) {\n-            URLClassLoader trusted = new URLClassLoader(trustedFiles.toArray(new URL[trustedFiles.size()]), root);\n-            root = trusted;\n-            loadPlugins(true, trusted);\n+            AccessController.doPrivileged((PrivilegedAction<Object>) () -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77c25ce9a76eb88174a01481c767469dae129724"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI0OTUyNA==", "bodyText": "Yes, FindBugs checks that any class loader occur within a privileged context.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/47#discussion_r373249524", "createdAt": "2020-01-30T23:31:09Z", "author": {"login": "MikeDombo"}, "path": "src/main/java/com/aws/iot/evergreen/dependency/EZPlugins.java", "diffHunk": "@@ -87,9 +88,12 @@ public EZPlugins loadCache() throws IOException {\n         });\n         loadPlugins(true, this.getClass().getClassLoader());\n         if (!trustedFiles.isEmpty()) {\n-            URLClassLoader trusted = new URLClassLoader(trustedFiles.toArray(new URL[trustedFiles.size()]), root);\n-            root = trusted;\n-            loadPlugins(true, trusted);\n+            AccessController.doPrivileged((PrivilegedAction<Object>) () -> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI0ODE3Ng=="}, "originalCommit": {"oid": "77c25ce9a76eb88174a01481c767469dae129724"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI0OTkzMw==", "bodyText": "I see. Thanks!", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/47#discussion_r373249933", "createdAt": "2020-01-30T23:32:46Z", "author": {"login": "leaf94"}, "path": "src/main/java/com/aws/iot/evergreen/dependency/EZPlugins.java", "diffHunk": "@@ -87,9 +88,12 @@ public EZPlugins loadCache() throws IOException {\n         });\n         loadPlugins(true, this.getClass().getClassLoader());\n         if (!trustedFiles.isEmpty()) {\n-            URLClassLoader trusted = new URLClassLoader(trustedFiles.toArray(new URL[trustedFiles.size()]), root);\n-            root = trusted;\n-            loadPlugins(true, trusted);\n+            AccessController.doPrivileged((PrivilegedAction<Object>) () -> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI0ODE3Ng=="}, "originalCommit": {"oid": "77c25ce9a76eb88174a01481c767469dae129724"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 53, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}