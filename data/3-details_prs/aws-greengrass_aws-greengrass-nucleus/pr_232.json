{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2Mjk1OTUx", "number": 232, "title": "Code clean up in config package", "bodyText": "Issue #, if available:\nDescription of changes:\nWhy is this change necessary:\nHow was this change tested:\nAny additional information or context required to review the change:\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-05-11T19:23:25Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/232", "merged": true, "mergeCommit": {"oid": "a46dd556b8ef74811bb6e71f780ab216c23b989f"}, "closed": true, "closedAt": "2020-05-11T23:16:39Z", "author": {"login": "ShirleyZheng92"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgUzkMgFqTQwOTQ2NDAzNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgYCDCgFqTQwOTU5MzE1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NDY0MDM2", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/232#pullrequestreview-409464036", "createdAt": "2020-05-11T19:26:05Z", "commit": {"oid": "cd461ad4cc3818e80930c977b9d137bc3f3412ba"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxOToyNjowNVrOGTqKsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxOToyNjowNVrOGTqKsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI2Njk5Mg==", "bodyText": "this isn't accurate to the real implementation since the service should be under services key.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/232#discussion_r423266992", "createdAt": "2020-05-11T19:26:05Z", "author": {"login": "MikeDombo"}, "path": "src/test/java/com/aws/iot/evergreen/kernel/LifecycleTest.java", "diffHunk": "@@ -78,7 +79,8 @@ void setupContext() {\n         context.put(ExecutorService.class, executorService);\n         context.put(ThreadPoolExecutor.class, ses);\n \n-        config = new Topics(context, \"MockService\", null);\n+        Topics rootConfig = new Configuration(context).getRoot();\n+        config = rootConfig.createInteriorChild(\"MockService\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd461ad4cc3818e80930c977b9d137bc3f3412ba"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NDY0MjAw", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/232#pullrequestreview-409464200", "createdAt": "2020-05-11T19:26:20Z", "commit": {"oid": "cd461ad4cc3818e80930c977b9d137bc3f3412ba"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxOToyNjoyMVrOGTqLPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxOToyNjoyMVrOGTqLPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI2NzEzMg==", "bodyText": "Use the const we have for services.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/232#discussion_r423267132", "createdAt": "2020-05-11T19:26:21Z", "author": {"login": "MikeDombo"}, "path": "src/test/java/com/aws/iot/evergreen/kernel/LifecycleTest.java", "diffHunk": "@@ -342,11 +344,11 @@ private void initLifecycleState(Lifecycle lf, State initState) {\n \n     @Test\n     public void GIVEN_service_starting_WHEN_dependency_errored_THEN_service_restarted() throws Exception {\n-        Topics serviceRoot = new Topics(context, \"services\", null);\n-        Topics testServiceTopics = new Topics(context, \"testService\", serviceRoot);\n+        Topics serviceRoot = new Configuration(context).getRoot().createInteriorChild(\"services\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd461ad4cc3818e80930c977b9d137bc3f3412ba"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NDY0ODQ1", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/232#pullrequestreview-409464845", "createdAt": "2020-05-11T19:27:25Z", "commit": {"oid": "cd461ad4cc3818e80930c977b9d137bc3f3412ba"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxOToyNzoyNVrOGTqNQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxOToyNzoyNVrOGTqNQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI2NzY1MA==", "bodyText": "Please make sure that the internal http server doesn't rely on this, and if it does, then make a PR for that as well with the renaming.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/232#discussion_r423267650", "createdAt": "2020-05-11T19:27:25Z", "author": {"login": "MikeDombo"}, "path": "src/main/java/com/aws/iot/evergreen/config/Node.java", "diffHunk": "@@ -93,7 +93,7 @@ public String toString() {\n      * @param s a watcher to be added\n      * @return true if this is a new watcher; false if its a duplicate\n      */\n-    protected boolean listen(Watcher s) {\n+    protected boolean addWatcher(Watcher s) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd461ad4cc3818e80930c977b9d137bc3f3412ba"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NDY1ODQ4", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/232#pullrequestreview-409465848", "createdAt": "2020-05-11T19:29:01Z", "commit": {"oid": "cd461ad4cc3818e80930c977b9d137bc3f3412ba"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cd461ad4cc3818e80930c977b9d137bc3f3412ba", "author": {"user": {"login": "ShirleyZheng92", "name": "Xueli Zheng "}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/cd461ad4cc3818e80930c977b9d137bc3f3412ba", "committedDate": "2020-05-11T19:20:54Z", "message": "Code clean up in config package"}, "afterCommit": {"oid": "f159277ddf8fea51c37b961013e976deef98d9f5", "author": {"user": {"login": "ShirleyZheng92", "name": "Xueli Zheng "}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/f159277ddf8fea51c37b961013e976deef98d9f5", "committedDate": "2020-05-11T20:13:20Z", "message": "Code clean up in config package"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NTA0NzQ0", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/232#pullrequestreview-409504744", "createdAt": "2020-05-11T20:27:35Z", "commit": {"oid": "f159277ddf8fea51c37b961013e976deef98d9f5"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NTQwMzcw", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/232#pullrequestreview-409540370", "createdAt": "2020-05-11T21:21:34Z", "commit": {"oid": "f159277ddf8fea51c37b961013e976deef98d9f5"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMToyMTozNVrOGTt2mA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMToyMTozNVrOGTt2mA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzMyNzM4NA==", "bodyText": "Remove this from Topics.java below as well", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/232#discussion_r423327384", "createdAt": "2020-05-11T21:21:35Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/iot/evergreen/config/Topic.java", "diffHunk": "@@ -71,15 +71,11 @@ public Object getOnce() {\n         return value;\n     }\n \n-    public void appendValueTo(Appendable a) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f159277ddf8fea51c37b961013e976deef98d9f5"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6544815f4932caa6d54c66d57864819cd74689c5", "author": {"user": {"login": "ShirleyZheng92", "name": "Xueli Zheng "}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/6544815f4932caa6d54c66d57864819cd74689c5", "committedDate": "2020-05-11T22:00:52Z", "message": "Code clean up in config package"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f159277ddf8fea51c37b961013e976deef98d9f5", "author": {"user": {"login": "ShirleyZheng92", "name": "Xueli Zheng "}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/f159277ddf8fea51c37b961013e976deef98d9f5", "committedDate": "2020-05-11T20:13:20Z", "message": "Code clean up in config package"}, "afterCommit": {"oid": "6544815f4932caa6d54c66d57864819cd74689c5", "author": {"user": {"login": "ShirleyZheng92", "name": "Xueli Zheng "}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/6544815f4932caa6d54c66d57864819cd74689c5", "committedDate": "2020-05-11T22:00:52Z", "message": "Code clean up in config package"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NTYzMDQ4", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/232#pullrequestreview-409563048", "createdAt": "2020-05-11T22:02:30Z", "commit": {"oid": "6544815f4932caa6d54c66d57864819cd74689c5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NTkzMTUz", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/232#pullrequestreview-409593153", "createdAt": "2020-05-11T23:11:37Z", "commit": {"oid": "6544815f4932caa6d54c66d57864819cd74689c5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2184, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}