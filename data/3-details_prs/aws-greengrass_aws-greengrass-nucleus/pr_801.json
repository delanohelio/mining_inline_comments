{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyMjEzMzIx", "number": 801, "title": "fix: set permissions on paths that we create to 755 instead of 700", "bodyText": "Issue #, if available:\nDescription of changes:\nPaths created by Greengrass have been created with 700 permissions which is causing issues because if multiple levels of directories are created, then not all users have permissions to traverse the tree. Specifically, ggc_user wouldn't have permission to execute a python script because not all of the directories on the path are readable/executable by ggc_user.\nWhy is this change necessary:\nHow was this change tested:\nAny additional information or context required to review the change:\nChecklist:\n\n Updated the README if applicable\n Updated or added new unit tests\n Updated or added new integration tests\n Updated or added new end-to-end tests\n\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-12-18T00:24:03Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/801", "merged": true, "mergeCommit": {"oid": "e8b597a5d0ab938b6561c691107c8a80a3b48a77"}, "closed": true, "closedAt": "2020-12-18T16:56:41Z", "author": {"login": "MikeDombo"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnM55hgH2gAyNTQyMjEzMzIxOjI4NzBiYmViMjhiODM1MzhhZmY5NGEyYTZkYjJmYTVkNmQ2OGNmNDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnaRK1AFqTU1NTYwOTg0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2870bbeb28b83538aff94a2a6db2fa5d6d68cf42", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/2870bbeb28b83538aff94a2a6db2fa5d6d68cf42", "committedDate": "2020-12-18T00:22:23Z", "message": "fix: set permissions on paths that we create to 755 instead of 700"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MDk1OTg5", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/801#pullrequestreview-555095989", "createdAt": "2020-12-18T00:40:00Z", "commit": {"oid": "2870bbeb28b83538aff94a2a6db2fa5d6d68cf42"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwMDo0MDowMVrOIIOjoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwMDo0MDowMVrOIIOjoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQ5ODAxNw==", "bodyText": "Is this the default permission and can it be overridden? I'm thinking about the cases when a directory needs to be read protected from all.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/801#discussion_r545498017", "createdAt": "2020-12-18T00:40:01Z", "author": {"login": "fengwang666"}, "path": "src/main/java/com/aws/greengrass/util/Utils.java", "diffHunk": "@@ -610,7 +610,7 @@ public static void createPaths(Path... paths) throws IOException {\n                 // This only supports POSIX compliant file permission right now. We will need to\n                 // change this when trying to support Greengrass in Non-POSIX OS.\n                 Files.createDirectories(p,\n-                        PosixFilePermissions.asFileAttribute(PosixFilePermissions.fromString(\"rwx------\")));\n+                        PosixFilePermissions.asFileAttribute(PosixFilePermissions.fromString(\"rwxr-xr-x\")));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2870bbeb28b83538aff94a2a6db2fa5d6d68cf42"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MDk4MDcy", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/801#pullrequestreview-555098072", "createdAt": "2020-12-18T00:45:56Z", "commit": {"oid": "2870bbeb28b83538aff94a2a6db2fa5d6d68cf42"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NjA5ODQ1", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/801#pullrequestreview-555609845", "createdAt": "2020-12-18T15:56:34Z", "commit": {"oid": "2870bbeb28b83538aff94a2a6db2fa5d6d68cf42"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2593, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}