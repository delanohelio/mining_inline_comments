{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwMDAzNzI5", "number": 76, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNDo0MjozOFrODi8PVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNDo0NToyM1rODi8QmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3OTY1MTQzOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/iot/evergreen/packagemanager/models/Package.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNDo0MjozOFrOFueGRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNDo1NzoxMFrOFueReg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI3MTk0Mw==", "bodyText": "How does requires differ from the dependencies?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/76#discussion_r384271943", "createdAt": "2020-02-26T04:42:38Z", "author": {"login": "MikeDombo"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/models/Package.java", "diffHunk": "@@ -33,17 +34,17 @@\n \n     private final String publisher;\n \n-    // TODO: May be more maintainable as a custom deserializer?? This was way faster to get started with\n-    @JsonTypeInfo(\n-            use = JsonTypeInfo.Id.NAME,\n-            include = JsonTypeInfo.As.EXTERNAL_PROPERTY,\n-            property = \"RecipeTemplateVersion\",\n-            visible = true)\n-    @JsonSubTypes({\n-            @JsonSubTypes.Type(value = ConfigFormat25Jan2020.class, name = \"2020-01-25\")\n-    })\n-    @JsonProperty(\"Config\")\n-    private final PackageConfigFormat config;\n+    private final Set<PackageParameter> packageParameters;\n+\n+    private final Map<String, Object> lifecycle;\n+\n+    // TODO: Migrate to artifact objects, this is only a list of URLs at the moment\n+    private final List<String> artifacts;\n+\n+    private final Map<String, String> dependencies;\n+\n+    // TODO: Needs discussion, this should probably be removed after integration demo", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "038d9699cbe39441ae6c22f420fc3d4c99b5e1b9"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI3NDgxMA==", "bodyText": "This should reference to the dependency packages. Discussed offline, we will make further refactoring in the next pull request.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/76#discussion_r384274810", "createdAt": "2020-02-26T04:57:10Z", "author": {"login": "wikimonkey"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/models/Package.java", "diffHunk": "@@ -33,17 +34,17 @@\n \n     private final String publisher;\n \n-    // TODO: May be more maintainable as a custom deserializer?? This was way faster to get started with\n-    @JsonTypeInfo(\n-            use = JsonTypeInfo.Id.NAME,\n-            include = JsonTypeInfo.As.EXTERNAL_PROPERTY,\n-            property = \"RecipeTemplateVersion\",\n-            visible = true)\n-    @JsonSubTypes({\n-            @JsonSubTypes.Type(value = ConfigFormat25Jan2020.class, name = \"2020-01-25\")\n-    })\n-    @JsonProperty(\"Config\")\n-    private final PackageConfigFormat config;\n+    private final Set<PackageParameter> packageParameters;\n+\n+    private final Map<String, Object> lifecycle;\n+\n+    // TODO: Migrate to artifact objects, this is only a list of URLs at the moment\n+    private final List<String> artifacts;\n+\n+    private final Map<String, String> dependencies;\n+\n+    // TODO: Needs discussion, this should probably be removed after integration demo", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI3MTk0Mw=="}, "originalCommit": {"oid": "038d9699cbe39441ae6c22f420fc3d4c99b5e1b9"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3OTY1NDY1OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/iot/evergreen/packagemanager/models/Package.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNDo0NToyM1rOFueILQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNToyNDo1OFrOFuen4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI3MjQyOQ==", "bodyText": "I believe that you can make this whole thing use json subtypes so that we can still deserialize multiple versions easily.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/76#discussion_r384272429", "createdAt": "2020-02-26T04:45:23Z", "author": {"login": "MikeDombo"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/models/Package.java", "diffHunk": "@@ -21,6 +21,7 @@\n @EqualsAndHashCode(onlyExplicitlyIncluded = true)\n public class Package {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "038d9699cbe39441ae6c22f420fc3d4c99b5e1b9"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI3OTk4Mw==", "bodyText": "yup, it'll just have to be individual subtypes per key I think. We'll cross that bridge later.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/76#discussion_r384279983", "createdAt": "2020-02-26T05:22:11Z", "author": {"login": "chaurah"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/models/Package.java", "diffHunk": "@@ -21,6 +21,7 @@\n @EqualsAndHashCode(onlyExplicitlyIncluded = true)\n public class Package {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI3MjQyOQ=="}, "originalCommit": {"oid": "038d9699cbe39441ae6c22f420fc3d4c99b5e1b9"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI4MDU0NQ==", "bodyText": "I could be wrong of course but you don't need to do it at the field level, you can put it on a class and it will choose subtypes from classes with extend the parent.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/76#discussion_r384280545", "createdAt": "2020-02-26T05:24:58Z", "author": {"login": "MikeDombo"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/models/Package.java", "diffHunk": "@@ -21,6 +21,7 @@\n @EqualsAndHashCode(onlyExplicitlyIncluded = true)\n public class Package {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI3MjQyOQ=="}, "originalCommit": {"oid": "038d9699cbe39441ae6c22f420fc3d4c99b5e1b9"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4806, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}