{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM2MzczOTYy", "number": 782, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMToxNDoxN1rOFDw1ZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMToxNDoxN1rOFDw1ZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NDkwMTQ4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/greengrass/lifecyclemanager/UpdateSystemPolicyService.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMToxNDoxN1rOIDkqfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMTozNjo1NlrOIDlLJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDYxNzM0MA==", "bodyText": "What's the reason of changing this from AtomicBoolean to AtomicReference?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/782#discussion_r540617340", "createdAt": "2020-12-11T01:14:17Z", "author": {"login": "fengwang666"}, "path": "src/main/java/com/aws/greengrass/lifecyclemanager/UpdateSystemPolicyService.java", "diffHunk": "@@ -48,7 +48,7 @@\n     // represents the value in seconds the kernel will wait for components to respond to\n     // an precomponent update event\n     private final Map<String, UpdateAction> pendingActions = new LinkedHashMap<>();\n-    private final AtomicBoolean runningUpdateActions = new AtomicBoolean(false);\n+    private final AtomicReference<String> actionInProgress = new AtomicReference<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0b8ded6f97867636a789e3e2566ffd5647420b1"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDYyNTcwMQ==", "bodyText": "For checking the specific deployment id which is the key in the pendingActions map and the tag for the discard method. Just to make this code more accurate and consistent", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/782#discussion_r540625701", "createdAt": "2020-12-11T01:36:56Z", "author": {"login": "shaguptashaikh"}, "path": "src/main/java/com/aws/greengrass/lifecyclemanager/UpdateSystemPolicyService.java", "diffHunk": "@@ -48,7 +48,7 @@\n     // represents the value in seconds the kernel will wait for components to respond to\n     // an precomponent update event\n     private final Map<String, UpdateAction> pendingActions = new LinkedHashMap<>();\n-    private final AtomicBoolean runningUpdateActions = new AtomicBoolean(false);\n+    private final AtomicReference<String> actionInProgress = new AtomicReference<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDYxNzM0MA=="}, "originalCommit": {"oid": "d0b8ded6f97867636a789e3e2566ffd5647420b1"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 155, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}