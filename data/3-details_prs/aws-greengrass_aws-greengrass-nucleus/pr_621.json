{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1NTY3Njcz", "number": 621, "title": "DO NOTHING for failure handling policy for local deployment", "bodyText": "Issue #, if available:\nDescription of changes:\nWhy is this change necessary:\nHow was this change tested:\nAny additional information or context required to review the change:\nChecklist:\n\n Updated the README if applicable\n Updated or added new unit tests\n Updated or added new integration tests\n Updated or added new end-to-end tests\n\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-11-04T18:33:17Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/621", "merged": true, "mergeCommit": {"oid": "a92eb15ab7a8ce32c776d23234243a00c93a771e"}, "closed": true, "closedAt": "2020-11-04T19:08:24Z", "author": {"login": "leaf94"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZSH45gH2gAyNTE1NTY3NjczOjc0ZGZkY2Y2NjYzNzgxN2EwMGMyOGM3YzNlMGE1MzI1ZTA1ZmM5ODA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZSoSJAH2gAyNTE1NTY3NjczOjUyMGZjNDVjYzk4NDk0Mzc5ZTU1NGQxYjNjMzhjNGFmNDNhZWI2NGE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "74dfdcf66637817a00c28c7c3e0a5325e05fc980", "author": {"user": {"login": "leaf94", "name": "Ethan Huang"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/74dfdcf66637817a00c28c7c3e0a5325e05fc980", "committedDate": "2020-11-04T18:32:15Z", "message": "DO NOTHING for failure handling policy for local deployment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzNjMzNTc1", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/621#pullrequestreview-523633575", "createdAt": "2020-11-04T18:36:18Z", "commit": {"oid": "74dfdcf66637817a00c28c7c3e0a5325e05fc980"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzNjQ4ODE5", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/621#pullrequestreview-523648819", "createdAt": "2020-11-04T18:56:57Z", "commit": {"oid": "74dfdcf66637817a00c28c7c3e0a5325e05fc980"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxODo1Njo1N1rOHtlkXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxODo1Njo1N1rOHtlkXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU2MzQ4NQ==", "bodyText": "What's the reason it can't rollback?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/621#discussion_r517563485", "createdAt": "2020-11-04T18:56:57Z", "author": {"login": "shaguptashaikh"}, "path": "src/main/java/com/aws/greengrass/deployment/converter/DeploymentDocumentConverter.java", "diffHunk": "@@ -84,6 +84,7 @@ public static DeploymentDocument convertFromLocalOverrideRequestAndRoot(LocalOve\n         return DeploymentDocument.builder().timestamp(localOverrideRequest.getRequestTimestamp())\n                 .deploymentId(localOverrideRequest.getRequestId())\n                 .deploymentPackageConfigurationList(packageConfigurations)\n+                .failureHandlingPolicy(FailureHandlingPolicy.DO_NOTHING)    // Can't rollback for local deployment", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74dfdcf66637817a00c28c7c3e0a5325e05fc980"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzNjUxNDY3", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/621#pullrequestreview-523651467", "createdAt": "2020-11-04T19:00:28Z", "commit": {"oid": "74dfdcf66637817a00c28c7c3e0a5325e05fc980"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxOTowMDoyOFrOHtlsNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxOTowMDoyOFrOHtlsNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU2NTQ5NQ==", "bodyText": "Is this trying to set default to DO_NOTHING for local deployments?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/621#discussion_r517565495", "createdAt": "2020-11-04T19:00:28Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/greengrass/deployment/converter/DeploymentDocumentConverter.java", "diffHunk": "@@ -84,6 +84,7 @@ public static DeploymentDocument convertFromLocalOverrideRequestAndRoot(LocalOve\n         return DeploymentDocument.builder().timestamp(localOverrideRequest.getRequestTimestamp())\n                 .deploymentId(localOverrideRequest.getRequestId())\n                 .deploymentPackageConfigurationList(packageConfigurations)\n+                .failureHandlingPolicy(FailureHandlingPolicy.DO_NOTHING)    // Can't rollback for local deployment", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU2MzQ4NQ=="}, "originalCommit": {"oid": "74dfdcf66637817a00c28c7c3e0a5325e05fc980"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzNjUzMzc3", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/621#pullrequestreview-523653377", "createdAt": "2020-11-04T19:03:07Z", "commit": {"oid": "74dfdcf66637817a00c28c7c3e0a5325e05fc980"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "520fc45cc98494379e554d1b3c38c4af43aeb64a", "author": {"user": {"login": "leaf94", "name": "Ethan Huang"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/520fc45cc98494379e554d1b3c38c4af43aeb64a", "committedDate": "2020-11-04T19:07:38Z", "message": "Merge branch 'master' into local_deploy_no_roll_back"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2925, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}