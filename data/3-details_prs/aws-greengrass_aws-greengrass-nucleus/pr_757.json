{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyODc2ODEz", "number": 757, "title": "throw error for invalid request params", "bodyText": "Issue #, if available:\nDescription of changes:\nSDKs allow the QoS input to be any arbitrary string. Also, client could send a request without setting either of QoS, topic or payload. So adding validation in server that would throw error in these cases.\nWhy is this change necessary:\nHow was this change tested:\nAdded unit tests for each of the invalid cases for both publish and subscribe APIs\nAny additional information or context required to review the change:\nChecklist:\n\n Updated the README if applicable\n Updated or added new unit tests\n Updated or added new integration tests\n Updated or added new end-to-end tests\n\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-12-05T02:15:17Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/757", "merged": true, "mergeCommit": {"oid": "e1168ada092cd6c1a3aa61c5a7363d7bd9b577d8"}, "closed": true, "closedAt": "2020-12-07T22:44:18Z", "author": {"login": "popanmol"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdjCr1-gH2gAyNTMyODc2ODEzOmQ5ZDlhNTc4YjZiZjJlODBhY2QzYzg1MGEyZjc2ODY5YWE4NmVkOTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdj9WCiAFqTU0NjU5NDU0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d9d9a578b6bf2e80acd3c850a2f76869aa86ed90", "author": {"user": {"login": "popanmol", "name": null}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d9d9a578b6bf2e80acd3c850a2f76869aa86ed90", "committedDate": "2020-12-05T02:12:17Z", "message": "throw error for invalid qos"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1Mzk3NDM4", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/757#pullrequestreview-545397438", "createdAt": "2020-12-05T03:06:35Z", "commit": {"oid": "d9d9a578b6bf2e80acd3c850a2f76869aa86ed90"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQwMzowNjozNVrOH_o1Ww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQwMzowNjozNVrOH_o1Ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ5MTM1NQ==", "bodyText": "Can this happen today with java SDK? If yes, this is backward incompatible for beta customers.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/757#discussion_r536491355", "createdAt": "2020-12-05T03:06:35Z", "author": {"login": "prateek-y"}, "path": "src/main/java/com/aws/greengrass/builtin/services/mqttproxy/MqttProxyIPCAgent.java", "diffHunk": "@@ -200,7 +202,9 @@ private QualityOfService getQualityOfServiceFromQOS(QOS qos) {\n         } else if (qos == QOS.AT_MOST_ONCE) {\n             return QualityOfService.AT_MOST_ONCE;\n         }\n-        return QualityOfService.AT_LEAST_ONCE; //default value", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9d9a578b6bf2e80acd3c850a2f76869aa86ed90"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bff3021e386fa248e29a60f9b7ae468094c8640a", "author": {"user": {"login": "popanmol", "name": null}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/bff3021e386fa248e29a60f9b7ae468094c8640a", "committedDate": "2020-12-05T03:30:38Z", "message": "unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d063cdc43c023677baa0580dca5aa2b22541f5c1", "author": {"user": {"login": "popanmol", "name": null}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d063cdc43c023677baa0580dca5aa2b22541f5c1", "committedDate": "2020-12-05T17:58:32Z", "message": "update error message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d08244bf8ca25668683d26ec552b5c3738291829", "author": {"user": {"login": "popanmol", "name": null}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d08244bf8ca25668683d26ec552b5c3738291829", "committedDate": "2020-12-07T17:25:23Z", "message": "Merge branch 'master' into validate-qos"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0e6865430d613503eefe6fc0ea85af255b347a7", "author": {"user": {"login": "popanmol", "name": null}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/f0e6865430d613503eefe6fc0ea85af255b347a7", "committedDate": "2020-12-07T22:09:38Z", "message": "throw error for invalid request params"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NTg5ODMx", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/757#pullrequestreview-546589831", "createdAt": "2020-12-07T22:25:08Z", "commit": {"oid": "f0e6865430d613503eefe6fc0ea85af255b347a7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NTkwOTEw", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/757#pullrequestreview-546590910", "createdAt": "2020-12-07T22:26:47Z", "commit": {"oid": "f0e6865430d613503eefe6fc0ea85af255b347a7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NTk0NTQx", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/757#pullrequestreview-546594541", "createdAt": "2020-12-07T22:32:52Z", "commit": {"oid": "f0e6865430d613503eefe6fc0ea85af255b347a7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2533, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}