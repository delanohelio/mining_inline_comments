{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxNDc5MDQ0", "number": 251, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNzoyODoyMVrOD-rzlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMDowODozNlrOD-yfFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDU2MDIxOnYy", "diffSide": "LEFT", "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNzoyODoyMVrOGY7-vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODo1MTo0MFrOGY-vUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgwMTcyNw==", "bodyText": "why is the group gone? We do need to know the group for when we handle multi-group deployments", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428801727", "createdAt": "2020-05-21T17:28:21Z", "author": {"login": "MikeDombo"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -38,14 +40,33 @@\n     @JsonProperty(\"Packages\")\n     private List<DeploymentPackageConfiguration> deploymentPackageConfigurationList;\n \n-    @JsonProperty(\"GroupName\")\n-    private String groupName;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df4de171c8b88ef8934f982ad540c89d2c58847d"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg0NjkyOA==", "bodyText": "Right. I'll add it back. It's not used for now, but should be parsed from the configurationArn.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428846928", "createdAt": "2020-05-21T18:51:40Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -38,14 +40,33 @@\n     @JsonProperty(\"Packages\")\n     private List<DeploymentPackageConfiguration> deploymentPackageConfigurationList;\n \n-    @JsonProperty(\"GroupName\")\n-    private String groupName;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgwMTcyNw=="}, "originalCommit": {"oid": "df4de171c8b88ef8934f982ad540c89d2c58847d"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MTQxNzEwOnYy", "diffSide": "RIGHT", "path": "src/integrationtests/java/com/aws/iot/evergreen/integrationtests/e2e/deployment/DeploymentCloudServiceIntegTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQyMjowMToxMFrOGZEbAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQyMjowNjoyN1rOGZEi_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk0MDAzMw==", "bodyText": "will this todo be done for this PR?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428940033", "createdAt": "2020-05-21T22:01:10Z", "author": {"login": "MikeDombo"}, "path": "src/integrationtests/java/com/aws/iot/evergreen/integrationtests/e2e/deployment/DeploymentCloudServiceIntegTest.java", "diffHunk": "@@ -112,6 +112,7 @@ void cleanUp() {\n         createdIotJobIdList.clear();\n     }\n \n+    // TODO: Integrate with Fleet Configuration Service", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd91c99d65dd4c8222013026fd1064c304c0ba9b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk0MjA3OQ==", "bodyText": "Separately. I can integrate now with http request. Will try to get SDK for the actual integration.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428942079", "createdAt": "2020-05-21T22:06:27Z", "author": {"login": "hui-yang"}, "path": "src/integrationtests/java/com/aws/iot/evergreen/integrationtests/e2e/deployment/DeploymentCloudServiceIntegTest.java", "diffHunk": "@@ -112,6 +112,7 @@ void cleanUp() {\n         createdIotJobIdList.clear();\n     }\n \n+    // TODO: Integrate with Fleet Configuration Service", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk0MDAzMw=="}, "originalCommit": {"oid": "bd91c99d65dd4c8222013026fd1064c304c0ba9b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MTQxOTUwOnYy", "diffSide": "RIGHT", "path": "src/integrationtests/java/com/aws/iot/evergreen/integrationtests/e2e/util/Utils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQyMjowMjoxOVrOGZEcpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQyMjowOToxOVrOGZEnEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk0MDQ1NA==", "bodyText": "I'd probably put \"mock\" somewhere in the name since, even though it is in the E2E folder (which uses real accounts), this arn isn't real.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428940454", "createdAt": "2020-05-21T22:02:19Z", "author": {"login": "MikeDombo"}, "path": "src/integrationtests/java/com/aws/iot/evergreen/integrationtests/e2e/util/Utils.java", "diffHunk": "@@ -324,6 +325,11 @@ public static void updateKernelConfigWithIotConfiguration(Kernel kernel, Utils.T\n         deploymentServiceTopics.createLeafChild(DEVICE_PARAM_IOT_CRED_ENDPOINT).withValue(thing.credEndpoint);\n     }\n \n+    public static String generateTestConfigurationArn() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd91c99d65dd4c8222013026fd1064c304c0ba9b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk0MzEyMQ==", "bodyText": "Agree", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428943121", "createdAt": "2020-05-21T22:09:19Z", "author": {"login": "hui-yang"}, "path": "src/integrationtests/java/com/aws/iot/evergreen/integrationtests/e2e/util/Utils.java", "diffHunk": "@@ -324,6 +325,11 @@ public static void updateKernelConfigWithIotConfiguration(Kernel kernel, Utils.T\n         deploymentServiceTopics.createLeafChild(DEVICE_PARAM_IOT_CRED_ENDPOINT).withValue(thing.credEndpoint);\n     }\n \n+    public static String generateTestConfigurationArn() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk0MDQ1NA=="}, "originalCommit": {"oid": "bd91c99d65dd4c8222013026fd1064c304c0ba9b"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MTY0ODE2OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMDowNDo1N1rOGZGsaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMDowOTowOVrOGZGwyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3NzI1Nw==", "bodyText": "Will this be the time when config was drafted or when the job was triggered? Is this in alignment with the experience we needed around timestamps?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428977257", "createdAt": "2020-05-22T00:04:57Z", "author": {"login": "shaguptashaikh"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -48,4 +51,36 @@\n     @JsonProperty(\"FailureHandlingPolicy\")\n     private FailureHandlingPolicy failureHandlingPolicy;\n \n+    /**\n+     * Constructor to wrap around deployment configurations from Fleet Configuration Service.\n+     *\n+     * @param config Fleet Configuration\n+     */\n+    public DeploymentDocument(FleetConfiguration config) {\n+        deploymentId = config.getConfigurationArn();\n+        timestamp = config.getCreationTimestamp();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba14d814c18883ae64cee88dea26533c5b6fc083"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3ODM3OA==", "bodyText": "This is when config was drafted. I thought about this actually. It seems ok to me because in FCS, customers cannot publish an older draft (as in deployment). I cannot imagine a case (at least not in prod, maybe possible in dev), where customer creates a draft, make some config changes in kernel in whichever way, and then publish the draft for deployment.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428978378", "createdAt": "2020-05-22T00:09:09Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -48,4 +51,36 @@\n     @JsonProperty(\"FailureHandlingPolicy\")\n     private FailureHandlingPolicy failureHandlingPolicy;\n \n+    /**\n+     * Constructor to wrap around deployment configurations from Fleet Configuration Service.\n+     *\n+     * @param config Fleet Configuration\n+     */\n+    public DeploymentDocument(FleetConfiguration config) {\n+        deploymentId = config.getConfigurationArn();\n+        timestamp = config.getCreationTimestamp();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3NzI1Nw=="}, "originalCommit": {"oid": "ba14d814c18883ae64cee88dea26533c5b6fc083"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MTY1MTE1OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "isResolved": false, "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMDowNjo0MlrOGZGuLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMTo0Mjo1OFrOGZIIsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3NzcxMQ==", "bodyText": "I used deploymentId to create snapshot files for rollbacks, it might be a bit odd to have an arn in the file name, but technically it doesn't sound like an issue so I'm okay with this for this PR", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428977711", "createdAt": "2020-05-22T00:06:42Z", "author": {"login": "shaguptashaikh"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -48,4 +51,36 @@\n     @JsonProperty(\"FailureHandlingPolicy\")\n     private FailureHandlingPolicy failureHandlingPolicy;\n \n+    /**\n+     * Constructor to wrap around deployment configurations from Fleet Configuration Service.\n+     *\n+     * @param config Fleet Configuration\n+     */\n+    public DeploymentDocument(FleetConfiguration config) {\n+        deploymentId = config.getConfigurationArn();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba14d814c18883ae64cee88dea26533c5b6fc083"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3ODYxMg==", "bodyText": "Arns have characters that we shouldn't have in a file name. This needs to be fixed.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428978612", "createdAt": "2020-05-22T00:10:07Z", "author": {"login": "MikeDombo"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -48,4 +51,36 @@\n     @JsonProperty(\"FailureHandlingPolicy\")\n     private FailureHandlingPolicy failureHandlingPolicy;\n \n+    /**\n+     * Constructor to wrap around deployment configurations from Fleet Configuration Service.\n+     *\n+     * @param config Fleet Configuration\n+     */\n+    public DeploymentDocument(FleetConfiguration config) {\n+        deploymentId = config.getConfigurationArn();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3NzcxMQ=="}, "originalCommit": {"oid": "ba14d814c18883ae64cee88dea26533c5b6fc083"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3ODk2Nw==", "bodyText": "Yes. I talked to Fengyi a few times. He doesn't want to pass a deploymentId to device unless we have a good reason, though a deploymentId is generated in the cloud for tracing logs anyway. But this can always be changed IMO.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428978967", "createdAt": "2020-05-22T00:11:24Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -48,4 +51,36 @@\n     @JsonProperty(\"FailureHandlingPolicy\")\n     private FailureHandlingPolicy failureHandlingPolicy;\n \n+    /**\n+     * Constructor to wrap around deployment configurations from Fleet Configuration Service.\n+     *\n+     * @param config Fleet Configuration\n+     */\n+    public DeploymentDocument(FleetConfiguration config) {\n+        deploymentId = config.getConfigurationArn();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3NzcxMQ=="}, "originalCommit": {"oid": "ba14d814c18883ae64cee88dea26533c5b6fc083"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3OTgyNA==", "bodyText": "How will logs be traced if the deployment id is not present in device logs that were streamed to CW? using the arn? is sending one UUID in the doc that big a deal?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428979824", "createdAt": "2020-05-22T00:14:28Z", "author": {"login": "shaguptashaikh"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -48,4 +51,36 @@\n     @JsonProperty(\"FailureHandlingPolicy\")\n     private FailureHandlingPolicy failureHandlingPolicy;\n \n+    /**\n+     * Constructor to wrap around deployment configurations from Fleet Configuration Service.\n+     *\n+     * @param config Fleet Configuration\n+     */\n+    public DeploymentDocument(FleetConfiguration config) {\n+        deploymentId = config.getConfigurationArn();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3NzcxMQ=="}, "originalCommit": {"oid": "ba14d814c18883ae64cee88dea26533c5b6fc083"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk4MDA1Nw==", "bodyText": "Also I wonder how the rollback test passed if the filename is really problematic", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428980057", "createdAt": "2020-05-22T00:15:25Z", "author": {"login": "shaguptashaikh"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -48,4 +51,36 @@\n     @JsonProperty(\"FailureHandlingPolicy\")\n     private FailureHandlingPolicy failureHandlingPolicy;\n \n+    /**\n+     * Constructor to wrap around deployment configurations from Fleet Configuration Service.\n+     *\n+     * @param config Fleet Configuration\n+     */\n+    public DeploymentDocument(FleetConfiguration config) {\n+        deploymentId = config.getConfigurationArn();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3NzcxMQ=="}, "originalCommit": {"oid": "ba14d814c18883ae64cee88dea26533c5b6fc083"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk4MjI2Mg==", "bodyText": "I'll try follow up again. deploymentId is currently intended to looking up service logs.\nGood point on the test... I'll check what happens during the test.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428982262", "createdAt": "2020-05-22T00:24:01Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -48,4 +51,36 @@\n     @JsonProperty(\"FailureHandlingPolicy\")\n     private FailureHandlingPolicy failureHandlingPolicy;\n \n+    /**\n+     * Constructor to wrap around deployment configurations from Fleet Configuration Service.\n+     *\n+     * @param config Fleet Configuration\n+     */\n+    public DeploymentDocument(FleetConfiguration config) {\n+        deploymentId = config.getConfigurationArn();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3NzcxMQ=="}, "originalCommit": {"oid": "ba14d814c18883ae64cee88dea26533c5b6fc083"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk4Mzg0MQ==", "bodyText": "The path appears to work. {path=/tmp/junit6723446930195798793/config/rollback_snapshot_arn:aws:gg:test-region:1234567890:configuration:test/mock:1.tlog} But I will still update it.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428983841", "createdAt": "2020-05-22T00:30:16Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -48,4 +51,36 @@\n     @JsonProperty(\"FailureHandlingPolicy\")\n     private FailureHandlingPolicy failureHandlingPolicy;\n \n+    /**\n+     * Constructor to wrap around deployment configurations from Fleet Configuration Service.\n+     *\n+     * @param config Fleet Configuration\n+     */\n+    public DeploymentDocument(FleetConfiguration config) {\n+        deploymentId = config.getConfigurationArn();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3NzcxMQ=="}, "originalCommit": {"oid": "ba14d814c18883ae64cee88dea26533c5b6fc083"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk4NDI2Nw==", "bodyText": "I'm pretty sure that : isn't allowed on windows, so definitely should change that.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428984267", "createdAt": "2020-05-22T00:32:06Z", "author": {"login": "MikeDombo"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -48,4 +51,36 @@\n     @JsonProperty(\"FailureHandlingPolicy\")\n     private FailureHandlingPolicy failureHandlingPolicy;\n \n+    /**\n+     * Constructor to wrap around deployment configurations from Fleet Configuration Service.\n+     *\n+     * @param config Fleet Configuration\n+     */\n+    public DeploymentDocument(FleetConfiguration config) {\n+        deploymentId = config.getConfigurationArn();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3NzcxMQ=="}, "originalCommit": {"oid": "ba14d814c18883ae64cee88dea26533c5b6fc083"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk4OTU3Mw==", "bodyText": "Currently deploymentId is not stored in service DDB and cannot be used in FCS requests. Probably not a good indication of what the snapshot contains.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428989573", "createdAt": "2020-05-22T00:53:32Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -48,4 +51,36 @@\n     @JsonProperty(\"FailureHandlingPolicy\")\n     private FailureHandlingPolicy failureHandlingPolicy;\n \n+    /**\n+     * Constructor to wrap around deployment configurations from Fleet Configuration Service.\n+     *\n+     * @param config Fleet Configuration\n+     */\n+    public DeploymentDocument(FleetConfiguration config) {\n+        deploymentId = config.getConfigurationArn();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3NzcxMQ=="}, "originalCommit": {"oid": "ba14d814c18883ae64cee88dea26533c5b6fc083"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAwMDg4Mg==", "bodyText": "Updated file path to {path=/tmp/junit5839896333357434982/config/rollback_snapshot_arn.aws.gg.test-region.1234567890.configuration.fail+rollback.2.tlog}", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r429000882", "createdAt": "2020-05-22T01:42:58Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -48,4 +51,36 @@\n     @JsonProperty(\"FailureHandlingPolicy\")\n     private FailureHandlingPolicy failureHandlingPolicy;\n \n+    /**\n+     * Constructor to wrap around deployment configurations from Fleet Configuration Service.\n+     *\n+     * @param config Fleet Configuration\n+     */\n+    public DeploymentDocument(FleetConfiguration config) {\n+        deploymentId = config.getConfigurationArn();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3NzcxMQ=="}, "originalCommit": {"oid": "ba14d814c18883ae64cee88dea26533c5b6fc083"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MTY1NDYzOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMDowODozNlrOGZGwPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMDoxNTo0NFrOGZG3pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3ODIzNw==", "bodyText": "Do we plan to keep this wrapper or is it temporary to avoid refactoring? Why not replace the contents of DeploymentDocument with that of FleetConfiguration?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428978237", "createdAt": "2020-05-22T00:08:36Z", "author": {"login": "shaguptashaikh"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -48,4 +51,36 @@\n     @JsonProperty(\"FailureHandlingPolicy\")\n     private FailureHandlingPolicy failureHandlingPolicy;\n \n+    /**\n+     * Constructor to wrap around deployment configurations from Fleet Configuration Service.\n+     *\n+     * @param config Fleet Configuration\n+     */\n+    public DeploymentDocument(FleetConfiguration config) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba14d814c18883ae64cee88dea26533c5b6fc083"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk4MDEzNA==", "bodyText": "Initial intention was to avoid conflicts with local deployment. @leaf94 then brought up the idea to keep DeploymentDocument as our internal interface, not bundled with cloud contracts. I think it's worth a discussion after the demo and maybe we can refactor then.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/251#discussion_r428980134", "createdAt": "2020-05-22T00:15:44Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/iot/evergreen/deployment/model/DeploymentDocument.java", "diffHunk": "@@ -48,4 +51,36 @@\n     @JsonProperty(\"FailureHandlingPolicy\")\n     private FailureHandlingPolicy failureHandlingPolicy;\n \n+    /**\n+     * Constructor to wrap around deployment configurations from Fleet Configuration Service.\n+     *\n+     * @param config Fleet Configuration\n+     */\n+    public DeploymentDocument(FleetConfiguration config) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODk3ODIzNw=="}, "originalCommit": {"oid": "ba14d814c18883ae64cee88dea26533c5b6fc083"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4734, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}