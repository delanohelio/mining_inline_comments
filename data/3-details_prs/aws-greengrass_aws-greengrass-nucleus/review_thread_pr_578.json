{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExOTIyODk2", "number": 578, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMzo1NzozNFrOEzC5ZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMzo1NzozNFrOEzC5ZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxOTYwMjkzOnYy", "diffSide": "RIGHT", "path": "src/integrationtests/java/com/aws/greengrass/integrationtests/ipc/IPCCliTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMzo1NzozNFrOHqBu1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwODo1NzowNlrOHqSBTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzgzMDYxMw==", "bodyText": "Why does this fail?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/578#discussion_r513830613", "createdAt": "2020-10-28T23:57:34Z", "author": {"login": "MikeDombo"}, "path": "src/integrationtests/java/com/aws/greengrass/integrationtests/ipc/IPCCliTest.java", "diffHunk": "@@ -351,7 +351,8 @@ void GIVEN_kernel_running_WHEN_change_configuration_and_deployment_THEN_kernel_c\n         GetComponentDetailsResponse componentDetailsResponse =\n                 cli.getComponentDetails(GetComponentDetailsRequest.builder().componentName(\n                         \"Component1\").build());\n-        assertEquals(\"NewWorld\", componentDetailsResponse.getComponentDetails().getConfiguration().get(\"Message\"));\n+        //TODO: re-enable when cli gets moved over to new IPC SDK", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4f001478d5176205f845d2648406e4d92b95fff"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDA5NzQ4NQ==", "bodyText": "Because with this change the updates made by componentToConfiguration get overridden by updates made  using configurationUpdate. For the current test, the value in kernel config store is Message=World.  Using componentToConfiguration its gets updated to Message=NewWorld, using configurationUpdate (which is empty) there is no update i.e Message=World. Since changes made using configurationUpdate overrides componentToConfiguration, the final result is Message=World. All this would go away once we remove the code for componentToConfiguration", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/578#discussion_r514097485", "createdAt": "2020-10-29T08:57:06Z", "author": {"login": "fahadmohammed01"}, "path": "src/integrationtests/java/com/aws/greengrass/integrationtests/ipc/IPCCliTest.java", "diffHunk": "@@ -351,7 +351,8 @@ void GIVEN_kernel_running_WHEN_change_configuration_and_deployment_THEN_kernel_c\n         GetComponentDetailsResponse componentDetailsResponse =\n                 cli.getComponentDetails(GetComponentDetailsRequest.builder().componentName(\n                         \"Component1\").build());\n-        assertEquals(\"NewWorld\", componentDetailsResponse.getComponentDetails().getConfiguration().get(\"Message\"));\n+        //TODO: re-enable when cli gets moved over to new IPC SDK", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzgzMDYxMw=="}, "originalCommit": {"oid": "e4f001478d5176205f845d2648406e4d92b95fff"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 405, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}