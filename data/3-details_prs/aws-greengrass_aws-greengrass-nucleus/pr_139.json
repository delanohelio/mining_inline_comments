{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0Mjg5NTA2", "number": 139, "title": "Add PMD checks and clean up code", "bodyText": "Issue #, if available:\nDescription of changes:\nAdds PMD code quality checks. Supplements our findbugs and checkstyle which have missed some issues that PMD can find. Additionally, it is fairly easy to write our own \"house\" rules. For example, I want to add a rule that all Future.get calls require a timeout. I have now added this rule and it found 8 issues (need to be fixed in future).\nWhy is this change necessary:\nHow was this change tested:\nAny additional information or context required to review the change:\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-03-26T16:46:45Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139", "merged": true, "mergeCommit": {"oid": "2c48a29df6f4639d97ece3f48c3ce40db56bf732"}, "closed": true, "closedAt": "2020-03-27T14:03:28Z", "author": {"login": "MikeDombo"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRfSrNgBqjMxNjkyMzM0Nzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRrjmkAFqTM4MjYyNzgxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aa8d9dc25fecee71aa90f4866c468f9382bfd1ca", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/aa8d9dc25fecee71aa90f4866c468f9382bfd1ca", "committedDate": "2020-03-26T16:42:25Z", "message": "Add PMD checks and clean up code"}, "afterCommit": {"oid": "8499ee8717f3ffa58165a6f734dc0c99f08d6ad3", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/8499ee8717f3ffa58165a6f734dc0c99f08d6ad3", "committedDate": "2020-03-26T17:10:02Z", "message": "Add PMD checks and clean up code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMjU3NTIw", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#pullrequestreview-382257520", "createdAt": "2020-03-26T17:46:28Z", "commit": {"oid": "8499ee8717f3ffa58165a6f734dc0c99f08d6ad3"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxNzo0NjoyOFrOF8S_Nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxNzo0NjoyOFrOF8S_Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODc2OTk3NQ==", "bodyText": "Where is this ruleset copied from? Curious how we decide which to exclude.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#discussion_r398769975", "createdAt": "2020-03-26T17:46:28Z", "author": {"login": "fengwang666"}, "path": "codestyle/pmd-eg-ruleset.xml", "diffHunk": "@@ -0,0 +1,78 @@\n+<?xml version=\"1.0\"?>\n+\n+<!--\n+  ~ Copyright Amazon.com Inc. or its affiliates.\n+  ~ SPDX-License-Identifier: Apache-2.0\n+  -->\n+\n+<ruleset name=\"Custom Rules\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8499ee8717f3ffa58165a6f734dc0c99f08d6ad3"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMjYwMTkw", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#pullrequestreview-382260190", "createdAt": "2020-03-26T17:49:37Z", "commit": {"oid": "8499ee8717f3ffa58165a6f734dc0c99f08d6ad3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxNzo0OTozOFrOF8THow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxNzo0OTozOFrOF8THow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODc3MjEzMQ==", "bodyText": "Is logger initalized at this point?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#discussion_r398772131", "createdAt": "2020-03-26T17:49:38Z", "author": {"login": "ShirleyZheng92"}, "path": "src/main/java/com/aws/iot/evergreen/kernel/Kernel.java", "diffHunk": "@@ -216,7 +213,7 @@ private void initPaths(String rootAbsolutePath) {\n      * Startup the Kernel and all services.\n      */\n     public Kernel launch() {\n-        System.out.println(\"root path = \" + rootPath + \"\\n\\t\" + configPath);\n+        logger.atInfo().log(\"root path = {}. config path = {}\", rootPath, configPath);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8499ee8717f3ffa58165a6f734dc0c99f08d6ad3"}, "originalPosition": 91}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMjY0MDcz", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#pullrequestreview-382264073", "createdAt": "2020-03-26T17:54:15Z", "commit": {"oid": "8499ee8717f3ffa58165a6f734dc0c99f08d6ad3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxNzo1NDoxNVrOF8TUGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxNzo1NDoxNVrOF8TUGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODc3NTMyMA==", "bodyText": "nice!", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#discussion_r398775320", "createdAt": "2020-03-26T17:54:15Z", "author": {"login": "ShirleyZheng92"}, "path": "src/main/java/com/aws/iot/evergreen/kernel/EvergreenService.java", "diffHunk": "@@ -890,31 +891,27 @@ public void postInject() {\n                 }\n             }\n             if (x == null) {\n-                throw new Exception(startWhen + \" does not match any EvergreenService state name\");\n+                throw new InputValidationException(startWhen + \" does not match any EvergreenService state name\");\n             }\n         }\n \n         EvergreenService d = locate(context, name);\n-        if (d != null) {\n-            return new Pair<>(d, x == null ? State.RUNNING : x);\n-        } else {\n-            throw new Exception(\"Could not locate service \" + name);\n-        }\n+        return new Pair<>(d, x == null ? State.RUNNING : x);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8499ee8717f3ffa58165a6f734dc0c99f08d6ad3"}, "originalPosition": 234}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMjY2OTg3", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#pullrequestreview-382266987", "createdAt": "2020-03-26T17:56:41Z", "commit": {"oid": "8499ee8717f3ffa58165a6f734dc0c99f08d6ad3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxNzo1Njo0MVrOF8TbJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxNzo1Njo0MVrOF8TbJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODc3NzEyNw==", "bodyText": "Is this also enforced by the checkstyle rule? Will it be too strict?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#discussion_r398777127", "createdAt": "2020-03-26T17:56:41Z", "author": {"login": "ShirleyZheng92"}, "path": "src/main/java/com/aws/iot/evergreen/kernel/UpdateSystemSafelyService.java", "diffHunk": "@@ -90,7 +92,7 @@ public void startup() {\n             synchronized (pendingActions) {\n                 if (pendingActions.isEmpty()) {\n                     try {\n-                        pendingActions.wait(10000);\n+                        pendingActions.wait(10_000);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8499ee8717f3ffa58165a6f734dc0c99f08d6ad3"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMjcwMTYx", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#pullrequestreview-382270161", "createdAt": "2020-03-26T18:00:20Z", "commit": {"oid": "8499ee8717f3ffa58165a6f734dc0c99f08d6ad3"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxODowMDoyMFrOF8Tk1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxODowMDoyMFrOF8Tk1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODc3OTYwNQ==", "bodyText": "I think rules like TooManyFields and TooManyMethods can be useful for readability as we write more new code, but we can discuss within the team first", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#discussion_r398779605", "createdAt": "2020-03-26T18:00:20Z", "author": {"login": "shaguptashaikh"}, "path": "codestyle/pmd-eg-ruleset.xml", "diffHunk": "@@ -0,0 +1,78 @@\n+<?xml version=\"1.0\"?>\n+\n+<!--\n+  ~ Copyright Amazon.com Inc. or its affiliates.\n+  ~ SPDX-License-Identifier: Apache-2.0\n+  -->\n+\n+<ruleset name=\"Custom Rules\"\n+         xmlns=\"http://pmd.sourceforge.net/ruleset/2.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://pmd.sourceforge.net/ruleset/2.0.0 https://pmd.sourceforge.io/ruleset_2_0_0.xsd\">\n+    <description>\n+        Evergreen Custom Rules\n+    </description>\n+\n+    <rule ref=\"category/java/bestpractices.xml\">\n+        <exclude name=\"AvoidReassigningParameters\"/>\n+        <exclude name=\"AvoidReassigningLoopVariables\"/>\n+        <exclude name=\"ArrayIsStoredDirectly\"/>\n+        <exclude name=\"GuardLogStatement\"/>\n+        <exclude name=\"AccessorMethodGeneration\"/>\n+    </rule>\n+    <rule ref=\"category/java/codestyle.xml\">\n+        <exclude name=\"LocalVariableCouldBeFinal\"/>\n+        <exclude name=\"MethodArgumentCouldBeFinal\"/>\n+        <exclude name=\"ShortVariable\"/>\n+        <exclude name=\"OnlyOneReturn\"/>\n+        <exclude name=\"FieldNamingConventions\"/>\n+        <exclude name=\"ClassNamingConventions\"/>\n+        <exclude name=\"ShortClassName\"/>\n+        <exclude name=\"CommentDefaultAccessModifier\"/>\n+        <exclude name=\"DefaultPackage\"/>\n+        <exclude name=\"ShortMethodName\"/>\n+        <exclude name=\"LongVariable\"/>\n+        <exclude name=\"AtLeastOneConstructor\"/>\n+    </rule>\n+    <rule ref=\"category/java/design.xml\">\n+        <exclude name=\"LoosePackageCoupling\"/>\n+        <exclude name=\"LawOfDemeter\"/>\n+        <exclude name=\"CyclomaticComplexity\"/>\n+        <exclude name=\"NcssCount\"/>\n+        <exclude name=\"TooManyMethods\"/>\n+        <exclude name=\"GodClass\"/>\n+        <exclude name=\"NPathComplexity\"/>\n+        <exclude name=\"AvoidThrowingRawExceptionTypes\"/>\n+        <exclude name=\"SingularField\"/>\n+        <exclude name=\"ExcessiveMethodLength\"/>\n+        <exclude name=\"ExcessiveImports\"/>\n+        <exclude name=\"TooManyFields\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8499ee8717f3ffa58165a6f734dc0c99f08d6ad3"}, "originalPosition": 49}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2778b9056272edf5c77038fe1ff9e7d239b2e2cf", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/2778b9056272edf5c77038fe1ff9e7d239b2e2cf", "committedDate": "2020-03-26T18:37:16Z", "message": "Apply PMD to tests. Add rule for Future.get()"}, "afterCommit": {"oid": "254c2e6e61afae14dd4026d8eef9357b02e487f9", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/254c2e6e61afae14dd4026d8eef9357b02e487f9", "committedDate": "2020-03-26T18:50:32Z", "message": "Apply PMD to tests. Add rule for Future.get()"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "254c2e6e61afae14dd4026d8eef9357b02e487f9", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/254c2e6e61afae14dd4026d8eef9357b02e487f9", "committedDate": "2020-03-26T18:50:32Z", "message": "Apply PMD to tests. Add rule for Future.get()"}, "afterCommit": {"oid": "b2aa0c5af24d743b054b22ae62471befa865f01e", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b2aa0c5af24d743b054b22ae62471befa865f01e", "committedDate": "2020-03-26T19:17:14Z", "message": "Apply PMD to tests. Add rule for Future.get()"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b2aa0c5af24d743b054b22ae62471befa865f01e", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b2aa0c5af24d743b054b22ae62471befa865f01e", "committedDate": "2020-03-26T19:17:14Z", "message": "Apply PMD to tests. Add rule for Future.get()"}, "afterCommit": {"oid": "07965b5b3d792dd3cf30e79d69497b0409426e40", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/07965b5b3d792dd3cf30e79d69497b0409426e40", "committedDate": "2020-03-26T21:48:04Z", "message": "Apply PMD to tests. Add rule for Future.get()"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "07965b5b3d792dd3cf30e79d69497b0409426e40", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/07965b5b3d792dd3cf30e79d69497b0409426e40", "committedDate": "2020-03-26T21:48:04Z", "message": "Apply PMD to tests. Add rule for Future.get()"}, "afterCommit": {"oid": "d01185f2eb6ed4a6693385cb60f24342d7850c60", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d01185f2eb6ed4a6693385cb60f24342d7850c60", "committedDate": "2020-03-26T21:57:06Z", "message": "Apply PMD to tests. Add rule for Future.get()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43bb9a608d7e243cb8b7dbb339d0bccae0ca58f4", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/43bb9a608d7e243cb8b7dbb339d0bccae0ca58f4", "committedDate": "2020-03-27T01:18:07Z", "message": "Add PMD checks and clean up code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a82c536b6e2ff3b271b02cd2a08f3dc063241891", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/a82c536b6e2ff3b271b02cd2a08f3dc063241891", "committedDate": "2020-03-27T01:20:49Z", "message": "Apply PMD to tests. Add rule for Future.get()"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d01185f2eb6ed4a6693385cb60f24342d7850c60", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d01185f2eb6ed4a6693385cb60f24342d7850c60", "committedDate": "2020-03-26T21:57:06Z", "message": "Apply PMD to tests. Add rule for Future.get()"}, "afterCommit": {"oid": "a82c536b6e2ff3b271b02cd2a08f3dc063241891", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/a82c536b6e2ff3b271b02cd2a08f3dc063241891", "committedDate": "2020-03-27T01:20:49Z", "message": "Apply PMD to tests. Add rule for Future.get()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNTMzNDI2", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#pullrequestreview-382533426", "createdAt": "2020-03-27T01:52:33Z", "commit": {"oid": "a82c536b6e2ff3b271b02cd2a08f3dc063241891"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNjAzNjMw", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#pullrequestreview-382603630", "createdAt": "2020-03-27T06:21:53Z", "commit": {"oid": "a82c536b6e2ff3b271b02cd2a08f3dc063241891"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwNjoyMTo1M1rOF8kemA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwNjoyMTo1M1rOF8kemA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA1NjUzNg==", "bodyText": "NIce! I like this rule", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#discussion_r399056536", "createdAt": "2020-03-27T06:21:53Z", "author": {"login": "fahadmohammed01"}, "path": "codestyle/pmd-eg-tests-ruleset.xml", "diffHunk": "@@ -0,0 +1,109 @@\n+<?xml version=\"1.0\"?>\n+\n+<!--\n+  ~ Copyright Amazon.com Inc. or its affiliates.\n+  ~ SPDX-License-Identifier: Apache-2.0\n+  -->\n+\n+<ruleset name=\"Custom Test Class Rules\"\n+         xmlns=\"http://pmd.sourceforge.net/ruleset/2.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://pmd.sourceforge.net/ruleset/2.0.0 https://pmd.sourceforge.io/ruleset_2_0_0.xsd\">\n+    <description>\n+        Evergreen Custom Rules\n+    </description>\n+\n+    <exclude-pattern>.*</exclude-pattern>\n+    <include-pattern>.*Test.*</include-pattern>\n+\n+    <rule ref=\"category/java/bestpractices.xml\">\n+        <exclude name=\"AvoidReassigningParameters\"/>\n+        <exclude name=\"AvoidReassigningLoopVariables\"/>\n+        <exclude name=\"ArrayIsStoredDirectly\"/>\n+        <exclude name=\"GuardLogStatement\"/>\n+        <exclude name=\"AccessorMethodGeneration\"/>\n+        <exclude name=\"JUnitAssertionsShouldIncludeMessage\"/>\n+        <exclude name=\"JUnitTestContainsTooManyAsserts\"/>\n+        <exclude name=\"JUnitTestsShouldIncludeAssert\"/>\n+        <exclude name=\"SystemPrintln\"/>\n+        <exclude name=\"DoubleBraceInitialization\"/>\n+    </rule>\n+    <rule ref=\"category/java/codestyle.xml\">\n+        <exclude name=\"LocalVariableCouldBeFinal\"/>\n+        <exclude name=\"MethodArgumentCouldBeFinal\"/>\n+        <exclude name=\"ShortVariable\"/>\n+        <exclude name=\"OnlyOneReturn\"/>\n+        <exclude name=\"FieldNamingConventions\"/>\n+        <exclude name=\"ClassNamingConventions\"/>\n+        <exclude name=\"ShortClassName\"/>\n+        <exclude name=\"CommentDefaultAccessModifier\"/>\n+        <exclude name=\"DefaultPackage\"/>\n+        <exclude name=\"ShortMethodName\"/>\n+        <exclude name=\"LongVariable\"/>\n+        <exclude name=\"AtLeastOneConstructor\"/>\n+        <exclude name=\"TooManyStaticImports\"/>\n+        <exclude name=\"MethodNamingConventions\"/>\n+        <exclude name=\"UseUnderscoresInNumericLiterals\"/>\n+        <exclude name=\"LocalVariableNamingConventions\"/>\n+    </rule>\n+    <rule ref=\"category/java/design.xml\">\n+        <exclude name=\"LoosePackageCoupling\"/>\n+        <exclude name=\"LawOfDemeter\"/>\n+        <exclude name=\"CyclomaticComplexity\"/>\n+        <exclude name=\"NcssCount\"/>\n+        <exclude name=\"TooManyMethods\"/>\n+        <exclude name=\"GodClass\"/>\n+        <exclude name=\"NPathComplexity\"/>\n+        <exclude name=\"AvoidThrowingRawExceptionTypes\"/>\n+        <exclude name=\"SingularField\"/>\n+        <exclude name=\"ExcessiveMethodLength\"/>\n+        <exclude name=\"ExcessiveImports\"/>\n+        <exclude name=\"TooManyFields\"/>\n+        <exclude name=\"SignatureDeclareThrowsException\"/>\n+        <exclude name=\"CollapsibleIfStatements\"/>\n+    </rule>\n+    <rule ref=\"category/java/errorprone.xml\">\n+        <exclude name=\"DataflowAnomalyAnalysis\"/>\n+        <exclude name=\"UseLocaleWithCaseConversions\"/>\n+        <exclude name=\"AvoidLiteralsInIfCondition\"/>\n+        <exclude name=\"BeanMembersShouldSerialize\"/>\n+        <exclude name=\"EmptyCatchBlock\"/> <!-- Checkstyle already finds this issue -->\n+        <exclude name=\"AvoidFieldNameMatchingMethodName\"/>\n+        <exclude name=\"UseProperClassLoader\"/>\n+        <exclude name=\"AvoidDuplicateLiterals\"/>\n+        <exclude name=\"JUnitSpelling\"/>\n+    </rule>\n+    <rule ref=\"category/java/multithreading.xml\">\n+        <exclude name=\"DoNotUseThreads\"/>\n+        <exclude name=\"AvoidSynchronizedAtMethodLevel\"/>\n+        <exclude name=\"UseConcurrentHashMap\"/> <!-- Not every map is accessed from multiple threads -->\n+        <exclude name=\"AvoidUsingVolatile\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82c536b6e2ff3b271b02cd2a08f3dc063241891"}, "originalPosition": 80}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNjA5ODg1", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#pullrequestreview-382609885", "createdAt": "2020-03-27T06:40:45Z", "commit": {"oid": "a82c536b6e2ff3b271b02cd2a08f3dc063241891"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwNjo0MDo0NVrOF8k0Ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwNjo0MDo0NVrOF8k0Ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA2MjAxOA==", "bodyText": "Did the PMD catch this?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#discussion_r399062018", "createdAt": "2020-03-27T06:40:45Z", "author": {"login": "fahadmohammed01"}, "path": "src/integrationtests/java/com/aws/iot/evergreen/integrationtests/ipc/IPCServicesTest.java", "diffHunk": "@@ -109,7 +109,7 @@ void registerResourceTest() throws Exception {\n         // we're looking it up based on service type only\n         LookupResourceRequest fuzzyLookup =\n                 LookupResourceRequest.builder().resource(resource.toBuilder().name(null).build()).build();\n-        lookupResults = c.lookupResources(lookup);\n+        lookupResults = c.lookupResources(fuzzyLookup);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82c536b6e2ff3b271b02cd2a08f3dc063241891"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNjIzOTMy", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#pullrequestreview-382623932", "createdAt": "2020-03-27T07:18:19Z", "commit": {"oid": "a82c536b6e2ff3b271b02cd2a08f3dc063241891"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwNzoxODoxOVrOF8ljSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwNzoxODoxOVrOF8ljSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA3NDEyMQ==", "bodyText": "Why remove private?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#discussion_r399074121", "createdAt": "2020-03-27T07:18:19Z", "author": {"login": "fahadmohammed01"}, "path": "src/main/java/com/aws/iot/evergreen/util/Exec.java", "diffHunk": "@@ -91,16 +92,16 @@\n     private String[] environment = defaultEnvironment;\n     private String[] cmds;\n     private File dir = userdir;\n-    private Process process;\n+    Process process;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82c536b6e2ff3b271b02cd2a08f3dc063241891"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNjI3ODEw", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/139#pullrequestreview-382627810", "createdAt": "2020-03-27T07:27:36Z", "commit": {"oid": "a82c536b6e2ff3b271b02cd2a08f3dc063241891"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2385, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}