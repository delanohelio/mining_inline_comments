{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMjg5NzE5", "number": 384, "title": "change e2e test artifacts uri to s3", "bodyText": "Issue #, if available:\nDescription of changes:\nMoved all test components in BaseE2ETestCase into componentsWithArtifactsInS3. Changed e2e test recipes artifact uri from greengrass: to s3:.\nRemoved code and test that use CMS upload artifact API.\nWhy is this change necessary:\nTo work with cloud change.\nHow was this change tested:\nRunning all e2e tests.\nAny additional information or context required to review the change:\nChecklist:\n\n Updated the README if applicable\n Updated or added new unit tests\n Updated or added new integration tests\n Updated or added new end-to-end tests\n\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-08-25T15:34:02Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/384", "merged": true, "mergeCommit": {"oid": "ad1ab8c7d85d8becf0e0ae903d7fc2d7c799ba85"}, "closed": true, "closedAt": "2020-08-26T22:18:17Z", "author": {"login": "tilo-chen"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCZ834AFqTQ3NDY1NTIyMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCyS8rAH2gAyNDczMjg5NzE5OmM4YjAzOWFiMjVhOWNhZjEwOWI4NDlhYTRiZTViMTU0NGUyYWMzZWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NjU1MjIz", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/384#pullrequestreview-474655223", "createdAt": "2020-08-25T16:32:33Z", "commit": {"oid": "4950aab6685988975f011ea6a150289078bf00be"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNjozMjozM1rOHGgRYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNjozMjozM1rOHGgRYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU4MjI0Mw==", "bodyText": "I think we should be able to get rid of this method as well", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/384#discussion_r476582243", "createdAt": "2020-08-25T16:32:33Z", "author": {"login": "shaguptashaikh"}, "path": "src/integrationtests/java/com/aws/iot/evergreen/integrationtests/e2e/BaseE2ETestCase.java", "diffHunk": "@@ -159,33 +159,28 @@\n     protected static final IamClient iamClient = IamSdkClientFactory.getIamClient();\n     protected static final S3Client s3Client = S3Client.builder().region(GAMMA_REGION).build();\n \n-    private static final PackageIdentifier[] componentsWithArtifactsInGG =\n-            {createPackageIdentifier(\"CustomerApp\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"CustomerApp\", new Semver(\"0.9.0\")),\n-                    createPackageIdentifier(\"CustomerApp\", new Semver(\"0.9.1\")),\n-                    createPackageIdentifier(\"SomeService\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"SomeOldService\", new Semver(\"0.9.0\")),\n-                    createPackageIdentifier(\"GreenSignal\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"RedSignal\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"YellowSignal\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"Mosquitto\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"Mosquitto\", new Semver(\"0.9.0\")),\n-                    createPackageIdentifier(\"KernelIntegTest\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"KernelIntegTestDependency\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"Log\", new Semver(\"2.0.0\")),\n-                    createPackageIdentifier(\"NonDisruptableService\", new Semver(\"1.0.0\")),\n-                    createPackageIdentifier(\"NonDisruptableService\", new Semver(\"1.0.1\"))};\n     private static final PackageIdentifier[] componentsWithArtifactsInS3 =\n-            {createPackageIdentifier(\"AppWithS3Artifacts\", new Semver(\"1.0.0\"))};\n+            {createPackageIdentifier(\"AppWithS3Artifacts\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"CustomerApp\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"CustomerApp\", new Semver(\"0.9.0\")),\n+            createPackageIdentifier(\"CustomerApp\", new Semver(\"0.9.1\")),\n+            createPackageIdentifier(\"SomeService\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"SomeOldService\", new Semver(\"0.9.0\")),\n+            createPackageIdentifier(\"GreenSignal\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"RedSignal\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"YellowSignal\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"Mosquitto\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"Mosquitto\", new Semver(\"0.9.0\")),\n+            createPackageIdentifier(\"KernelIntegTest\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"KernelIntegTestDependency\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"Log\", new Semver(\"2.0.0\")),\n+            createPackageIdentifier(\"NonDisruptableService\", new Semver(\"1.0.0\")),\n+            createPackageIdentifier(\"NonDisruptableService\", new Semver(\"1.0.1\"))};\n \n     @BeforeAll\n     static void beforeAll() throws Exception {\n         initializePackageStore();\n \n-        uploadTestComponentsToCms(componentsWithArtifactsInGG);\n-        uploadComponentArtifactsToGG(componentsWithArtifactsInGG);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4950aab6685988975f011ea6a150289078bf00be"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0OTM5Mjc1", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/384#pullrequestreview-474939275", "createdAt": "2020-08-25T21:52:52Z", "commit": {"oid": "4950aab6685988975f011ea6a150289078bf00be"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1MTA1Njg0", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/384#pullrequestreview-475105684", "createdAt": "2020-08-26T02:21:51Z", "commit": {"oid": "30f9ac8dd34d19fdb18b6f2852b9373dcae6d336"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39efcd9e2d9f0fb00f300e78f801071457a6c352", "author": {"user": {"login": "tilo-chen", "name": "Tiangang (Tilo) Chen"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/39efcd9e2d9f0fb00f300e78f801071457a6c352", "committedDate": "2020-08-26T16:18:26Z", "message": "change e2e test artifacts uri to s3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16ab28c2cc88d4e638005b777e05a2fb6892a035", "author": {"user": {"login": "tilo-chen", "name": "Tiangang (Tilo) Chen"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/16ab28c2cc88d4e638005b777e05a2fb6892a035", "committedDate": "2020-08-26T16:29:03Z", "message": "remove CMS upload artifact related code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "30f9ac8dd34d19fdb18b6f2852b9373dcae6d336", "author": {"user": {"login": "tilo-chen", "name": "Tiangang (Tilo) Chen"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/30f9ac8dd34d19fdb18b6f2852b9373dcae6d336", "committedDate": "2020-08-26T00:58:39Z", "message": "remove CMS upload artifact related code"}, "afterCommit": {"oid": "16ab28c2cc88d4e638005b777e05a2fb6892a035", "author": {"user": {"login": "tilo-chen", "name": "Tiangang (Tilo) Chen"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/16ab28c2cc88d4e638005b777e05a2fb6892a035", "committedDate": "2020-08-26T16:29:03Z", "message": "remove CMS upload artifact related code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27deb54a607b03bc629de1c56b539fb66e04ef7a", "author": {"user": {"login": "tilo-chen", "name": "Tiangang (Tilo) Chen"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/27deb54a607b03bc629de1c56b539fb66e04ef7a", "committedDate": "2020-08-26T16:48:25Z", "message": "remove unused"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1Njk5OTAx", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/384#pullrequestreview-475699901", "createdAt": "2020-08-26T17:19:46Z", "commit": {"oid": "27deb54a607b03bc629de1c56b539fb66e04ef7a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1ODQ4NjMx", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/384#pullrequestreview-475848631", "createdAt": "2020-08-26T20:50:09Z", "commit": {"oid": "27deb54a607b03bc629de1c56b539fb66e04ef7a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8b039ab25a9caf109b849aa4be5b1544e2ac3ee", "author": {"user": {"login": "shaguptashaikh", "name": "Shagupta Shaikh"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/c8b039ab25a9caf109b849aa4be5b1544e2ac3ee", "committedDate": "2020-08-26T21:01:02Z", "message": "Merge branch 'master' into test-change-s3-uri"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3194, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}