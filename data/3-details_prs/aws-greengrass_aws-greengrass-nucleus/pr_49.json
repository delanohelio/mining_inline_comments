{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5Njk0MzYx", "number": 49, "title": "Automatic code cleanup", "bodyText": "Issue #, if available:\nDescription of changes:\nUsed IntelliJ's builtin code cleanup and code inspections to perform some cleanup. Replaced classes with lambda where appropriate, marked fields as final if they are never reassigned, and removed some unused code (many methods are unused that I left).\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-01-31T17:46:39Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/49", "merged": true, "mergeCommit": {"oid": "ad3b3205dc3733129b5b95f594fb9003ae4bb0ff"}, "closed": true, "closedAt": "2020-01-31T19:54:48Z", "author": {"login": "MikeDombo"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_jtbHgH2gAyMzY5Njk0MzYxOjc1YTJjYmU0NTMyYzcxNjY1NGIzNmY5N2U1ZDBhMzA2ZjM1NmY2ZWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_0qI_gFqTM1MTczNTgwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "75a2cbe4532c716654b36f97e5d0a306f356f6ec", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/75a2cbe4532c716654b36f97e5d0a306f356f6ec", "committedDate": "2020-01-31T00:08:27Z", "message": "Tag tests as integration, separate out test runs for unit and integration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99ffadf5eb88a92f013c4edc5c6f55b15277d5c7", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/99ffadf5eb88a92f013c4edc5c6f55b15277d5c7", "committedDate": "2020-01-31T17:11:42Z", "message": "Ran IntelliJ auto code cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc76e6389810c63e187fbaf6c31a4a726b79b836", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/cc76e6389810c63e187fbaf6c31a4a726b79b836", "committedDate": "2020-01-31T17:38:24Z", "message": "Use IntelliJ code inspection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ceb9685f7982ea384c973099f63b14487cd57d95", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/ceb9685f7982ea384c973099f63b14487cd57d95", "committedDate": "2020-01-31T19:22:05Z", "message": "Merge branch 'master' into code_cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxNzI2NzEw", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/49#pullrequestreview-351726710", "createdAt": "2020-01-31T19:29:27Z", "commit": {"oid": "cc76e6389810c63e187fbaf6c31a4a726b79b836"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxNzM1ODA1", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/49#pullrequestreview-351735805", "createdAt": "2020-01-31T19:45:23Z", "commit": {"oid": "ceb9685f7982ea384c973099f63b14487cd57d95"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxOTo0NToyM1rOFkWCfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxOTo0ODo0N1rOFkWISA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY1NDE0Mg==", "bodyText": "[No Action Needed] Found this post and learned that the version with an empty array outperforms the version with a presized array. Put the link here so people could all take a look at the interesting finding.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/49#discussion_r373654142", "createdAt": "2020-01-31T19:45:23Z", "author": {"login": "leaf94"}, "path": "src/main/java/com/aws/iot/evergreen/dependency/EZPlugins.java", "diffHunk": "@@ -89,7 +89,7 @@ public EZPlugins loadCache() throws IOException {\n         loadPlugins(true, this.getClass().getClassLoader());\n         if (!trustedFiles.isEmpty()) {\n             AccessController.doPrivileged((PrivilegedAction<Object>) () -> {\n-                URLClassLoader trusted = new URLClassLoader(trustedFiles.toArray(new URL[trustedFiles.size()]), root);\n+                URLClassLoader trusted = new URLClassLoader(trustedFiles.toArray(new URL[0]), root);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ceb9685f7982ea384c973099f63b14487cd57d95"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY1NTYyNA==", "bodyText": "Nice...", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/49#discussion_r373655624", "createdAt": "2020-01-31T19:48:47Z", "author": {"login": "leaf94"}, "path": "src/main/java/com/aws/iot/evergreen/kernel/Kernel.java", "diffHunk": "@@ -91,12 +92,7 @@ public Kernel() {\n         context.put(Executor.class, ses);\n         context.put(ExecutorService.class, ses);\n         context.put(ThreadPoolExecutor.class, ses);\n-        Runtime.getRuntime().addShutdownHook(new Thread() {\n-            @Override\n-            public void run() {\n-                shutdown();\n-            }\n-        });\n+        Runtime.getRuntime().addShutdownHook(new Thread(() -> shutdown()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ceb9685f7982ea384c973099f63b14487cd57d95"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2456, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}