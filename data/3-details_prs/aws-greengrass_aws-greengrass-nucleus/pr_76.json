{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwMDAzNzI5", "number": 76, "title": "Flatten recipe structure, add support for package parameters", "bodyText": "This flattens the recipe structure as discussed in yesterday's sync up.\nAlso adds parameter type and updates tests to match the new structure.\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-02-26T04:39:39Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/76", "merged": true, "mergeCommit": {"oid": "51caab0f7924be5b9c37fb6edd4b899697f76221"}, "closed": true, "closedAt": "2020-02-26T05:22:27Z", "author": {"login": "chaurah"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcH_I99AH2gAyMzgwMDAzNzI5OjAzOGQ5Njk5Y2JlMzk0NDFhZTZjMjJmNDIwZmMzZDRjOTliNWUxYjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcH_bQ2gFqTM2NDYyMzE5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "038d9699cbe39441ae6c22f420fc3d4c99b5e1b9", "author": {"user": {"login": "chaurah", "name": "Rahul Singh Chauhan"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/038d9699cbe39441ae6c22f420fc3d4c99b5e1b9", "committedDate": "2020-02-26T04:37:22Z", "message": "Flatten recipe structure, add support for package parameters"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NjE5Nzgz", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/76#pullrequestreview-364619783", "createdAt": "2020-02-26T04:42:38Z", "commit": {"oid": "038d9699cbe39441ae6c22f420fc3d4c99b5e1b9"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNDo0MjozOFrOFueGRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNDo0NToyM1rOFueILQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI3MTk0Mw==", "bodyText": "How does requires differ from the dependencies?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/76#discussion_r384271943", "createdAt": "2020-02-26T04:42:38Z", "author": {"login": "MikeDombo"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/models/Package.java", "diffHunk": "@@ -33,17 +34,17 @@\n \n     private final String publisher;\n \n-    // TODO: May be more maintainable as a custom deserializer?? This was way faster to get started with\n-    @JsonTypeInfo(\n-            use = JsonTypeInfo.Id.NAME,\n-            include = JsonTypeInfo.As.EXTERNAL_PROPERTY,\n-            property = \"RecipeTemplateVersion\",\n-            visible = true)\n-    @JsonSubTypes({\n-            @JsonSubTypes.Type(value = ConfigFormat25Jan2020.class, name = \"2020-01-25\")\n-    })\n-    @JsonProperty(\"Config\")\n-    private final PackageConfigFormat config;\n+    private final Set<PackageParameter> packageParameters;\n+\n+    private final Map<String, Object> lifecycle;\n+\n+    // TODO: Migrate to artifact objects, this is only a list of URLs at the moment\n+    private final List<String> artifacts;\n+\n+    private final Map<String, String> dependencies;\n+\n+    // TODO: Needs discussion, this should probably be removed after integration demo", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "038d9699cbe39441ae6c22f420fc3d4c99b5e1b9"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI3MjQyOQ==", "bodyText": "I believe that you can make this whole thing use json subtypes so that we can still deserialize multiple versions easily.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/76#discussion_r384272429", "createdAt": "2020-02-26T04:45:23Z", "author": {"login": "MikeDombo"}, "path": "src/main/java/com/aws/iot/evergreen/packagemanager/models/Package.java", "diffHunk": "@@ -21,6 +21,7 @@\n @EqualsAndHashCode(onlyExplicitlyIncluded = true)\n public class Package {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "038d9699cbe39441ae6c22f420fc3d4c99b5e1b9"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NjIzMTkw", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/76#pullrequestreview-364623190", "createdAt": "2020-02-26T04:57:21Z", "commit": {"oid": "038d9699cbe39441ae6c22f420fc3d4c99b5e1b9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2272, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}