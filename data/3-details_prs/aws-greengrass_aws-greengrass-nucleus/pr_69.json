{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NTA3NTAy", "number": 69, "title": "Enable config merging to update config and add dependencies", "bodyText": "Issue #, if available:\nDescription of changes:\nAdds new Kernel API for merging in updated services along with newly added dependencies. Does not yet handle shutting down unused dependencies.\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-02-21T22:58:53Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69", "merged": true, "mergeCommit": {"oid": "999fe6d86410138a0e64b28df14d4047200aa4a1"}, "closed": true, "closedAt": "2020-02-26T18:23:02Z", "author": {"login": "MikeDombo"}, "timelineItems": {"totalCount": 49, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGonclgBqjMwNjIyNzA2NTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIK1nCgBqjMwNzQ4NjAzNjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "20b44f8850c0b8cec61aa6c3d477364846ce0858", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/20b44f8850c0b8cec61aa6c3d477364846ce0858", "committedDate": "2020-02-21T22:58:11Z", "message": "Remove calls to setState()"}, "afterCommit": {"oid": "0a3aeea97f8ebabe423f8d9d8935d594521d7931", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/0a3aeea97f8ebabe423f8d9d8935d594521d7931", "committedDate": "2020-02-21T23:48:49Z", "message": "Remove calls to setState()"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0a3aeea97f8ebabe423f8d9d8935d594521d7931", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/0a3aeea97f8ebabe423f8d9d8935d594521d7931", "committedDate": "2020-02-21T23:48:49Z", "message": "Remove calls to setState()"}, "afterCommit": {"oid": "0b976e973a72ee765168ba64cd4f3fd202e37457", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/0b976e973a72ee765168ba64cd4f3fd202e37457", "committedDate": "2020-02-22T00:32:05Z", "message": "Remove calls to setState()"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0b976e973a72ee765168ba64cd4f3fd202e37457", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/0b976e973a72ee765168ba64cd4f3fd202e37457", "committedDate": "2020-02-22T00:32:05Z", "message": "Remove calls to setState()"}, "afterCommit": {"oid": "f16b1d8a197b17a16f25f77bb540846bd94ac997", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/f16b1d8a197b17a16f25f77bb540846bd94ac997", "committedDate": "2020-02-22T00:38:45Z", "message": "Remove calls to setState()"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f16b1d8a197b17a16f25f77bb540846bd94ac997", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/f16b1d8a197b17a16f25f77bb540846bd94ac997", "committedDate": "2020-02-22T00:38:45Z", "message": "Remove calls to setState()"}, "afterCommit": {"oid": "e77f1660bc21c5495951e2c9ef468a9eafdddf7b", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/e77f1660bc21c5495951e2c9ef468a9eafdddf7b", "committedDate": "2020-02-22T00:42:10Z", "message": "Remove calls to setState()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMDA0OTIz", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69#pullrequestreview-363004923", "createdAt": "2020-02-22T02:56:03Z", "commit": {"oid": "e77f1660bc21c5495951e2c9ef468a9eafdddf7b"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQwMjo1NjowNFrOFtJJKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQwMzo0MToxMVrOFtJTnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg4MDA0Mg==", "bodyText": "Nit - might as well Get -> Got?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69#discussion_r382880042", "createdAt": "2020-02-22T02:56:04Z", "author": {"login": "shaguptashaikh"}, "path": "src/main/java/com/aws/iot/evergreen/kernel/EvergreenService.java", "diffHunk": "@@ -370,7 +396,8 @@ private void startStateTransition() throws InterruptedException {\n                                     waitForDependencyReady();\n                                     context.getLog().note(getName(), \"starting\");\n                                 } catch (InterruptedException e) {\n-                                    context.getLog().note(getName(), \"Get interrupted when waiting for dependency ready\");\n+                                    context.getLog()\n+                                            .note(getName(), \"Get interrupted when waiting for dependency ready\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e77f1660bc21c5495951e2c9ef468a9eafdddf7b"}, "originalPosition": 119}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg4MDM2NA==", "bodyText": "How did you decide this interval? Wouldn't 1s be too long?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69#discussion_r382880364", "createdAt": "2020-02-22T03:01:06Z", "author": {"login": "shaguptashaikh"}, "path": "src/main/java/com/aws/iot/evergreen/kernel/EvergreenService.java", "diffHunk": "@@ -627,15 +667,13 @@ private void waitForDependencyReady() throws InterruptedException {\n         synchronized (dependencyReadyLock) {\n             while (!dependencyReady()) {\n                 context.getLog().note(getName(), \"waiting for dependency ready\");\n-                dependencyReadyLock.wait();\n+                dependencyReadyLock.wait(1000);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e77f1660bc21c5495951e2c9ef468a9eafdddf7b"}, "originalPosition": 182}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg4MDcwMg==", "bodyText": "Hmm, I have not written code to format dependencies with this pattern, it's currently just comma separated service names especially since we haven't changed the recipe model to accept dependency states. For now one of us will need to use Running as the default state", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69#discussion_r382880702", "createdAt": "2020-02-22T03:05:50Z", "author": {"login": "shaguptashaikh"}, "path": "src/main/java/com/aws/iot/evergreen/kernel/EvergreenService.java", "diffHunk": "@@ -664,27 +702,22 @@ public void postInject() {\n                 }\n             }\n         }).start();\n+    }\n \n-        Node d = config.getChild(\"requires\");\n-        if (d instanceof Topic) {\n-            String ds = ((Topic) d).getOnce().toString();\n-            Matcher m = DEP_PARSE.matcher(ds);\n-            while (m.find()) {\n-                addDependency(m.group(1), m.group(3));\n-            }\n-            if (!m.hitEnd()) {\n-                errored(\"bad dependency syntax\", ds);\n-            }\n-        } else if (d == null) {\n-            return;\n-        } else {\n-            String errMsg = String.format(\"Unrecognized dependency configuration, config content: %s\", d.toString());\n-            context.getLog().error(getName(), errMsg);\n-            // TODO: invalidate the config file\n+    private Map<EvergreenService, State> parseDependencyList(String dependencyList) throws Exception {\n+        Matcher m = DEP_PARSE.matcher(dependencyList);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e77f1660bc21c5495951e2c9ef468a9eafdddf7b"}, "originalPosition": 218}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg4MTQ5NA==", "bodyText": "This looks like this will restart all services right? For now it's okay since we have not decided if we will send only added/updated services but curious if this can be done only for updated services if we send the full config.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69#discussion_r382881494", "createdAt": "2020-02-22T03:19:42Z", "author": {"login": "shaguptashaikh"}, "path": "src/main/java/com/aws/iot/evergreen/kernel/Kernel.java", "diffHunk": "@@ -508,4 +518,48 @@ public void addServiceSearchURL(Object url) {\n             }\n         }\n     }\n+\n+    public Future<Void> mergeInNewConfig(String deploymentId, long timestamp, Map<Object, Object> newConfig) {\n+        CompletableFuture<Void> totallyCompleteFuture = new CompletableFuture<>();\n+        CompletableFuture<Void> mergeFuture = new CompletableFuture<>();\n+\n+        AtomicInteger allServicesUp = new AtomicInteger(newConfig.size());\n+        EvergreenService.GlobalStateChangeListener listener = (service, was) -> {\n+            if (newConfig.containsKey(service.getName()) && service.getState().equals(State.Running)) {\n+                allServicesUp.decrementAndGet();\n+            }\n+            if (allServicesUp.get() <= 0) {\n+                totallyCompleteFuture.complete(null);\n+            }\n+        };\n+\n+        totallyCompleteFuture.thenRun(() -> {\n+            context.removeGlobalStateChangeListener(listener);\n+        });\n+\n+        context.get(UpdateSystemSafelyService.class)\n+                .addUpdateAction(deploymentId, () -> context.runOnPublishQueueAndWait(() -> {\n+                    try {\n+                        context.addGlobalStateChangeListener(listener);\n+                        mergeMap(timestamp, newConfig);\n+                        mergeFuture.complete(null);\n+                    } catch (IllegalArgumentException e) {\n+                        mergeFuture.completeExceptionally(e);\n+                    }\n+                }));\n+\n+        // Wait for the merge to complete and then have all services start\n+        mergeFuture.thenRun(() -> {\n+            newConfig.keySet().forEach(serviceName -> {\n+                EvergreenService eg = EvergreenService.locate(context, (String) serviceName);\n+                if (eg != null) {\n+                    eg.requestRestart();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e77f1660bc21c5495951e2c9ef468a9eafdddf7b"}, "originalPosition": 110}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg4MTYwNQ==", "bodyText": "Nit - This looks okay for now but ideally it'll be helpful if we keep one test class per class", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69#discussion_r382881605", "createdAt": "2020-02-22T03:21:50Z", "author": {"login": "shaguptashaikh"}, "path": "src/test/java/com/aws/iot/evergreen/kernel/ServiceConfigMergingTest.java", "diffHunk": "@@ -0,0 +1,200 @@\n+package com.aws.iot.evergreen.kernel;\n+\n+import com.aws.iot.evergreen.dependency.State;\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.BeforeEach;\n+import org.junit.jupiter.api.Test;\n+\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.concurrent.CountDownLatch;\n+import java.util.concurrent.TimeUnit;\n+import java.util.stream.Collectors;\n+\n+import static org.hamcrest.CoreMatchers.containsString;\n+import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.hamcrest.Matchers.containsInRelativeOrder;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+public class ServiceConfigMergingTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e77f1660bc21c5495951e2c9ef468a9eafdddf7b"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg4MjQ0OA==", "bodyText": "IIRC the code that processes updates inside this UpdateSystemSafelyService class fails silently on some errors, we would want to capture those as failures and report back, also, not sure how the rest of the code will work, in case of such failures trying to lookup new/updated services and restart them sounds unnecessary", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69#discussion_r382882448", "createdAt": "2020-02-22T03:36:21Z", "author": {"login": "shaguptashaikh"}, "path": "src/main/java/com/aws/iot/evergreen/kernel/Kernel.java", "diffHunk": "@@ -508,4 +518,48 @@ public void addServiceSearchURL(Object url) {\n             }\n         }\n     }\n+\n+    public Future<Void> mergeInNewConfig(String deploymentId, long timestamp, Map<Object, Object> newConfig) {\n+        CompletableFuture<Void> totallyCompleteFuture = new CompletableFuture<>();\n+        CompletableFuture<Void> mergeFuture = new CompletableFuture<>();\n+\n+        AtomicInteger allServicesUp = new AtomicInteger(newConfig.size());\n+        EvergreenService.GlobalStateChangeListener listener = (service, was) -> {\n+            if (newConfig.containsKey(service.getName()) && service.getState().equals(State.Running)) {\n+                allServicesUp.decrementAndGet();\n+            }\n+            if (allServicesUp.get() <= 0) {\n+                totallyCompleteFuture.complete(null);\n+            }\n+        };\n+\n+        totallyCompleteFuture.thenRun(() -> {\n+            context.removeGlobalStateChangeListener(listener);\n+        });\n+\n+        context.get(UpdateSystemSafelyService.class)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e77f1660bc21c5495951e2c9ef468a9eafdddf7b"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg4MjcxNw==", "bodyText": "Also, since this is not starting up services in order, is it possible this executes more than once for certain services? say A depends on B, both A and B are part of the config so A receives restart request twice, once from here and the second time on account of B being restarted.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69#discussion_r382882717", "createdAt": "2020-02-22T03:41:11Z", "author": {"login": "shaguptashaikh"}, "path": "src/main/java/com/aws/iot/evergreen/kernel/Kernel.java", "diffHunk": "@@ -508,4 +518,48 @@ public void addServiceSearchURL(Object url) {\n             }\n         }\n     }\n+\n+    public Future<Void> mergeInNewConfig(String deploymentId, long timestamp, Map<Object, Object> newConfig) {\n+        CompletableFuture<Void> totallyCompleteFuture = new CompletableFuture<>();\n+        CompletableFuture<Void> mergeFuture = new CompletableFuture<>();\n+\n+        AtomicInteger allServicesUp = new AtomicInteger(newConfig.size());\n+        EvergreenService.GlobalStateChangeListener listener = (service, was) -> {\n+            if (newConfig.containsKey(service.getName()) && service.getState().equals(State.Running)) {\n+                allServicesUp.decrementAndGet();\n+            }\n+            if (allServicesUp.get() <= 0) {\n+                totallyCompleteFuture.complete(null);\n+            }\n+        };\n+\n+        totallyCompleteFuture.thenRun(() -> {\n+            context.removeGlobalStateChangeListener(listener);\n+        });\n+\n+        context.get(UpdateSystemSafelyService.class)\n+                .addUpdateAction(deploymentId, () -> context.runOnPublishQueueAndWait(() -> {\n+                    try {\n+                        context.addGlobalStateChangeListener(listener);\n+                        mergeMap(timestamp, newConfig);\n+                        mergeFuture.complete(null);\n+                    } catch (IllegalArgumentException e) {\n+                        mergeFuture.completeExceptionally(e);\n+                    }\n+                }));\n+\n+        // Wait for the merge to complete and then have all services start\n+        mergeFuture.thenRun(() -> {\n+            newConfig.keySet().forEach(serviceName -> {\n+                EvergreenService eg = EvergreenService.locate(context, (String) serviceName);\n+                if (eg != null) {\n+                    eg.requestRestart();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg4MTQ5NA=="}, "originalCommit": {"oid": "e77f1660bc21c5495951e2c9ef468a9eafdddf7b"}, "originalPosition": 110}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a45aef9a651cfc3578adc1e1af59f4b5eeabeb2a", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/a45aef9a651cfc3578adc1e1af59f4b5eeabeb2a", "committedDate": "2020-02-24T16:41:51Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "7c77d5c5dd91a5d34accc1c51d666c0f509f4668", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/7c77d5c5dd91a5d34accc1c51d666c0f509f4668", "committedDate": "2020-02-24T16:51:29Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7c77d5c5dd91a5d34accc1c51d666c0f509f4668", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/7c77d5c5dd91a5d34accc1c51d666c0f509f4668", "committedDate": "2020-02-24T16:51:29Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "d329be57299b45548235c11a220518b889e3bf00", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d329be57299b45548235c11a220518b889e3bf00", "committedDate": "2020-02-24T16:52:57Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d329be57299b45548235c11a220518b889e3bf00", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d329be57299b45548235c11a220518b889e3bf00", "committedDate": "2020-02-24T16:52:57Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "dbd5faa31e1a5f105fae8b3fe7e70a136b50410f", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/dbd5faa31e1a5f105fae8b3fe7e70a136b50410f", "committedDate": "2020-02-24T17:08:17Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dbd5faa31e1a5f105fae8b3fe7e70a136b50410f", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/dbd5faa31e1a5f105fae8b3fe7e70a136b50410f", "committedDate": "2020-02-24T17:08:17Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "45b02a1f2eb236fe7accc183b5bb9b76954181fd", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/45b02a1f2eb236fe7accc183b5bb9b76954181fd", "committedDate": "2020-02-24T17:20:32Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "45b02a1f2eb236fe7accc183b5bb9b76954181fd", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/45b02a1f2eb236fe7accc183b5bb9b76954181fd", "committedDate": "2020-02-24T17:20:32Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "98a73062f1128f12a737094f0f857f16a5f399dd", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/98a73062f1128f12a737094f0f857f16a5f399dd", "committedDate": "2020-02-24T17:26:26Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "98a73062f1128f12a737094f0f857f16a5f399dd", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/98a73062f1128f12a737094f0f857f16a5f399dd", "committedDate": "2020-02-24T17:26:26Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "aa40cf8cd3082fe1fad44503dfc34e6d3620ab91", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/aa40cf8cd3082fe1fad44503dfc34e6d3620ab91", "committedDate": "2020-02-24T17:27:37Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aa40cf8cd3082fe1fad44503dfc34e6d3620ab91", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/aa40cf8cd3082fe1fad44503dfc34e6d3620ab91", "committedDate": "2020-02-24T17:27:37Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "ea8062284604a43c4f8cd90e2f67bd6e704fadad", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/ea8062284604a43c4f8cd90e2f67bd6e704fadad", "committedDate": "2020-02-24T17:33:51Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ea8062284604a43c4f8cd90e2f67bd6e704fadad", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/ea8062284604a43c4f8cd90e2f67bd6e704fadad", "committedDate": "2020-02-24T17:33:51Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "6c523d4fbb5d8f50c2ded957e00e2216ca62cb96", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/6c523d4fbb5d8f50c2ded957e00e2216ca62cb96", "committedDate": "2020-02-24T17:35:59Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6c523d4fbb5d8f50c2ded957e00e2216ca62cb96", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/6c523d4fbb5d8f50c2ded957e00e2216ca62cb96", "committedDate": "2020-02-24T17:35:59Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "bac5ef9f9fc99cd037a8733a33a03817b5d33041", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/bac5ef9f9fc99cd037a8733a33a03817b5d33041", "committedDate": "2020-02-24T17:45:53Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bac5ef9f9fc99cd037a8733a33a03817b5d33041", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/bac5ef9f9fc99cd037a8733a33a03817b5d33041", "committedDate": "2020-02-24T17:45:53Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "2916e573e0781907125065759a7b8021fea68f49", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/2916e573e0781907125065759a7b8021fea68f49", "committedDate": "2020-02-24T18:05:58Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2916e573e0781907125065759a7b8021fea68f49", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/2916e573e0781907125065759a7b8021fea68f49", "committedDate": "2020-02-24T18:05:58Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "ddb35fc135174d6cc9654067205b6fa1d6240dfd", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/ddb35fc135174d6cc9654067205b6fa1d6240dfd", "committedDate": "2020-02-24T18:11:17Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ddb35fc135174d6cc9654067205b6fa1d6240dfd", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/ddb35fc135174d6cc9654067205b6fa1d6240dfd", "committedDate": "2020-02-24T18:11:17Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "446126fda40ac7a871adfb01b4cd1511401ff89a", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/446126fda40ac7a871adfb01b4cd1511401ff89a", "committedDate": "2020-02-24T18:24:16Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "446126fda40ac7a871adfb01b4cd1511401ff89a", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/446126fda40ac7a871adfb01b4cd1511401ff89a", "committedDate": "2020-02-24T18:24:16Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "eb07e1937bca88ca407f23e8b03aba9189247845", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/eb07e1937bca88ca407f23e8b03aba9189247845", "committedDate": "2020-02-24T19:18:35Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eb07e1937bca88ca407f23e8b03aba9189247845", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/eb07e1937bca88ca407f23e8b03aba9189247845", "committedDate": "2020-02-24T19:18:35Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "9491a29cc8f861a07b2e5de0c53e43485b8a621d", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/9491a29cc8f861a07b2e5de0c53e43485b8a621d", "committedDate": "2020-02-24T19:27:34Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9491a29cc8f861a07b2e5de0c53e43485b8a621d", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/9491a29cc8f861a07b2e5de0c53e43485b8a621d", "committedDate": "2020-02-24T19:27:34Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "6fa692601cde17d988783403a88d68c1df18cb9c", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/6fa692601cde17d988783403a88d68c1df18cb9c", "committedDate": "2020-02-24T19:53:48Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6fa692601cde17d988783403a88d68c1df18cb9c", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/6fa692601cde17d988783403a88d68c1df18cb9c", "committedDate": "2020-02-24T19:53:48Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "014078fb917ddf8f44d41d83de8b998e9a313f8c", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/014078fb917ddf8f44d41d83de8b998e9a313f8c", "committedDate": "2020-02-24T20:54:08Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "014078fb917ddf8f44d41d83de8b998e9a313f8c", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/014078fb917ddf8f44d41d83de8b998e9a313f8c", "committedDate": "2020-02-24T20:54:08Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "5a6d983983ad0b8d5ae633d0626fa9691f0f915f", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/5a6d983983ad0b8d5ae633d0626fa9691f0f915f", "committedDate": "2020-02-24T21:01:27Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5a6d983983ad0b8d5ae633d0626fa9691f0f915f", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/5a6d983983ad0b8d5ae633d0626fa9691f0f915f", "committedDate": "2020-02-24T21:01:27Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "96642d5316b167ac03ad58d4a3098bf5ae78efc0", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/96642d5316b167ac03ad58d4a3098bf5ae78efc0", "committedDate": "2020-02-24T21:12:00Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "96642d5316b167ac03ad58d4a3098bf5ae78efc0", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/96642d5316b167ac03ad58d4a3098bf5ae78efc0", "committedDate": "2020-02-24T21:12:00Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "d20d7aa7b775964a4809c99d8b871f75b9bfe3e8", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d20d7aa7b775964a4809c99d8b871f75b9bfe3e8", "committedDate": "2020-02-24T21:17:13Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d20d7aa7b775964a4809c99d8b871f75b9bfe3e8", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d20d7aa7b775964a4809c99d8b871f75b9bfe3e8", "committedDate": "2020-02-24T21:17:13Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "30ac9f9bc272d6ff1d131032db8e89a4a0588dbd", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/30ac9f9bc272d6ff1d131032db8e89a4a0588dbd", "committedDate": "2020-02-24T21:19:05Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "30ac9f9bc272d6ff1d131032db8e89a4a0588dbd", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/30ac9f9bc272d6ff1d131032db8e89a4a0588dbd", "committedDate": "2020-02-24T21:19:05Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "eccda8f7cdff4a6ff1791dbafcc1adb53bed62c1", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/eccda8f7cdff4a6ff1791dbafcc1adb53bed62c1", "committedDate": "2020-02-24T21:28:44Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eccda8f7cdff4a6ff1791dbafcc1adb53bed62c1", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/eccda8f7cdff4a6ff1791dbafcc1adb53bed62c1", "committedDate": "2020-02-24T21:28:44Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "ca8ae27d66e74e0129bfce57806374329ba9c25a", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/ca8ae27d66e74e0129bfce57806374329ba9c25a", "committedDate": "2020-02-24T21:29:01Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ca8ae27d66e74e0129bfce57806374329ba9c25a", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/ca8ae27d66e74e0129bfce57806374329ba9c25a", "committedDate": "2020-02-24T21:29:01Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "31d339844861dbae609a1475d7cf0547fc35d416", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/31d339844861dbae609a1475d7cf0547fc35d416", "committedDate": "2020-02-24T21:41:05Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "31d339844861dbae609a1475d7cf0547fc35d416", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/31d339844861dbae609a1475d7cf0547fc35d416", "committedDate": "2020-02-24T21:41:05Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "407cdcb5b9e3c96a5632163c57012c8c634655b3", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/407cdcb5b9e3c96a5632163c57012c8c634655b3", "committedDate": "2020-02-24T22:05:05Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "407cdcb5b9e3c96a5632163c57012c8c634655b3", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/407cdcb5b9e3c96a5632163c57012c8c634655b3", "committedDate": "2020-02-24T22:05:05Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "fdfb8882c137175402c0ce7d6e3a09117649ddb0", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/fdfb8882c137175402c0ce7d6e3a09117649ddb0", "committedDate": "2020-02-24T22:16:52Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fdfb8882c137175402c0ce7d6e3a09117649ddb0", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/fdfb8882c137175402c0ce7d6e3a09117649ddb0", "committedDate": "2020-02-24T22:16:52Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "01b6a9e913d9675970ae55ed1f7175957ac3df84", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/01b6a9e913d9675970ae55ed1f7175957ac3df84", "committedDate": "2020-02-24T22:36:30Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "01b6a9e913d9675970ae55ed1f7175957ac3df84", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/01b6a9e913d9675970ae55ed1f7175957ac3df84", "committedDate": "2020-02-24T22:36:30Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "cb3e58d2a667a960a14e001f129b79c8cfe2045c", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/cb3e58d2a667a960a14e001f129b79c8cfe2045c", "committedDate": "2020-02-24T23:08:25Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cb3e58d2a667a960a14e001f129b79c8cfe2045c", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/cb3e58d2a667a960a14e001f129b79c8cfe2045c", "committedDate": "2020-02-24T23:08:25Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "181e2faa05ec4a834c7ae00fdf640843cd0dde0c", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/181e2faa05ec4a834c7ae00fdf640843cd0dde0c", "committedDate": "2020-02-24T23:15:39Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "181e2faa05ec4a834c7ae00fdf640843cd0dde0c", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/181e2faa05ec4a834c7ae00fdf640843cd0dde0c", "committedDate": "2020-02-24T23:15:39Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "f59da804f7883fbfc1b8abbc20d5f63f7b8c39f0", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/f59da804f7883fbfc1b8abbc20d5f63f7b8c39f0", "committedDate": "2020-02-25T00:05:37Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f59da804f7883fbfc1b8abbc20d5f63f7b8c39f0", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/f59da804f7883fbfc1b8abbc20d5f63f7b8c39f0", "committedDate": "2020-02-25T00:05:37Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "a14b62543b8122bdc112732886a0cbe1342c6ed9", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/a14b62543b8122bdc112732886a0cbe1342c6ed9", "committedDate": "2020-02-25T00:29:53Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a14b62543b8122bdc112732886a0cbe1342c6ed9", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/a14b62543b8122bdc112732886a0cbe1342c6ed9", "committedDate": "2020-02-25T00:29:53Z", "message": "More logging to debug failure in github actions"}, "afterCommit": {"oid": "12a466e51b1816a04f1d2fe2a9d47d3833145146", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/12a466e51b1816a04f1d2fe2a9d47d3833145146", "committedDate": "2020-02-25T01:17:52Z", "message": "More logging to debug failure in github actions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9e6600f347f416b6c7b7a67f58c7b5417c61ff42", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/9e6600f347f416b6c7b7a67f58c7b5417c61ff42", "committedDate": "2020-02-25T17:55:41Z", "message": "Got all tests working again"}, "afterCommit": {"oid": "a23f3cbc0d11aee569a447a9ad9378ccc56f40a9", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/a23f3cbc0d11aee569a447a9ad9378ccc56f40a9", "committedDate": "2020-02-25T18:18:29Z", "message": "Got all tests working again"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a23f3cbc0d11aee569a447a9ad9378ccc56f40a9", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/a23f3cbc0d11aee569a447a9ad9378ccc56f40a9", "committedDate": "2020-02-25T18:18:29Z", "message": "Got all tests working again"}, "afterCommit": {"oid": "b77ee6f5190523a96b267b551634684578a4787e", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b77ee6f5190523a96b267b551634684578a4787e", "committedDate": "2020-02-25T18:28:58Z", "message": "Got all tests working again"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b77ee6f5190523a96b267b551634684578a4787e", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b77ee6f5190523a96b267b551634684578a4787e", "committedDate": "2020-02-25T18:28:58Z", "message": "Got all tests working again"}, "afterCommit": {"oid": "1a5eb11e7d2b06439d954d7267bfa16c6fbf0f57", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/1a5eb11e7d2b06439d954d7267bfa16c6fbf0f57", "committedDate": "2020-02-25T18:43:45Z", "message": "Got all tests working again"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1a5eb11e7d2b06439d954d7267bfa16c6fbf0f57", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/1a5eb11e7d2b06439d954d7267bfa16c6fbf0f57", "committedDate": "2020-02-25T18:43:45Z", "message": "Got all tests working again"}, "afterCommit": {"oid": "05b1f2e0a3933c55c73cb82a5a5acaffc76b1a2e", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/05b1f2e0a3933c55c73cb82a5a5acaffc76b1a2e", "committedDate": "2020-02-25T20:10:50Z", "message": "Got all tests working again"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NTI2ODQ5", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69#pullrequestreview-364526849", "createdAt": "2020-02-25T23:32:19Z", "commit": {"oid": "240f74b2cdc52eb5a4a20e66c6e9560d33add15b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQyMzozMjoxOVrOFuZLEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQyMzozMjoxOVrOFuZLEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDE5MTI0OQ==", "bodyText": "Throw exception instead of silent failure?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69#discussion_r384191249", "createdAt": "2020-02-25T23:32:19Z", "author": {"login": "chaurah"}, "path": "src/main/java/com/aws/iot/evergreen/kernel/EvergreenService.java", "diffHunk": "@@ -589,12 +627,20 @@ public Context getContext() {\n      * @param dependentEvergreenService\n      * @param when\n      */\n-    public void addDependency(EvergreenService dependentEvergreenService, State when) {\n-        if (dependencies == null) {\n-            dependencies = new ConcurrentHashMap<>();\n+    public synchronized void addDependency(EvergreenService dependentEvergreenService, State when) {\n+        if (dependentEvergreenService == null || when == null) {\n+            return;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "240f74b2cdc52eb5a4a20e66c6e9560d33add15b"}, "originalPosition": 203}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NTI5MjAy", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69#pullrequestreview-364529202", "createdAt": "2020-02-25T23:38:13Z", "commit": {"oid": "240f74b2cdc52eb5a4a20e66c6e9560d33add15b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQyMzozODoxM1rOFuZTbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQyMzozODoxM1rOFuZTbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDE5MzM5MA==", "bodyText": "Why the increase and why to 10? (Not for this PR but : Is this something that we may want to make configurable in the future?)", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69#discussion_r384193390", "createdAt": "2020-02-25T23:38:13Z", "author": {"login": "chaurah"}, "path": "src/main/java/com/aws/iot/evergreen/kernel/Kernel.java", "diffHunk": "@@ -88,7 +91,7 @@ public Kernel() {\n         super(new Context());\n         context.put(Configuration.class, this);\n         context.put(Kernel.class, this);\n-        ScheduledThreadPoolExecutor ses = new ScheduledThreadPoolExecutor(4);\n+        ScheduledThreadPoolExecutor ses = new ScheduledThreadPoolExecutor(10);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "240f74b2cdc52eb5a4a20e66c6e9560d33add15b"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "240f74b2cdc52eb5a4a20e66c6e9560d33add15b", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/240f74b2cdc52eb5a4a20e66c6e9560d33add15b", "committedDate": "2020-02-25T23:10:12Z", "message": "Merge branch 'master' into merge_config"}, "afterCommit": {"oid": "45abbd16d0299c9e6bd53252366fee98825b35d6", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/45abbd16d0299c9e6bd53252366fee98825b35d6", "committedDate": "2020-02-25T23:41:48Z", "message": "Got all tests working again"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NTM5MTAy", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69#pullrequestreview-364539102", "createdAt": "2020-02-26T00:04:08Z", "commit": {"oid": "45abbd16d0299c9e6bd53252366fee98825b35d6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NTU1NzQz", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/69#pullrequestreview-364555743", "createdAt": "2020-02-26T00:52:18Z", "commit": {"oid": "45abbd16d0299c9e6bd53252366fee98825b35d6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "45abbd16d0299c9e6bd53252366fee98825b35d6", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/45abbd16d0299c9e6bd53252366fee98825b35d6", "committedDate": "2020-02-25T23:41:48Z", "message": "Got all tests working again"}, "afterCommit": {"oid": "0618165f85800cb5b06f064ea30569faa2748411", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/0618165f85800cb5b06f064ea30569faa2748411", "committedDate": "2020-02-26T17:54:36Z", "message": "Enable config merging to update config and add dependencies\n\nRemoves calls to setState() as well."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0618165f85800cb5b06f064ea30569faa2748411", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/0618165f85800cb5b06f064ea30569faa2748411", "committedDate": "2020-02-26T17:54:36Z", "message": "Enable config merging to update config and add dependencies\n\nRemoves calls to setState() as well."}, "afterCommit": {"oid": "4b26430f04e811a210f748e1743f1dcc02419701", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/4b26430f04e811a210f748e1743f1dcc02419701", "committedDate": "2020-02-26T18:12:22Z", "message": "Enable config merging to update config and add dependencies\n\nRemoves calls to setState() as well."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b396e9cb5126f9ed40e16966d5d693b165f4cc4e", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b396e9cb5126f9ed40e16966d5d693b165f4cc4e", "committedDate": "2020-02-26T18:14:59Z", "message": "Enable config merging to update config and add dependencies\n\nRemoves calls to setState() as well."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b26430f04e811a210f748e1743f1dcc02419701", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/4b26430f04e811a210f748e1743f1dcc02419701", "committedDate": "2020-02-26T18:12:22Z", "message": "Enable config merging to update config and add dependencies\n\nRemoves calls to setState() as well."}, "afterCommit": {"oid": "b396e9cb5126f9ed40e16966d5d693b165f4cc4e", "author": {"user": {"login": "MikeDombo", "name": "Michael Dombrowski"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b396e9cb5126f9ed40e16966d5d693b165f4cc4e", "committedDate": "2020-02-26T18:14:59Z", "message": "Enable config merging to update config and add dependencies\n\nRemoves calls to setState() as well."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2260, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}