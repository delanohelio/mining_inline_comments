{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5MDUwMzg3", "number": 793, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwMDoyOTowNVrOFEwCXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwMDoyOTowNVrOFEwCXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNTI1NjYwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/greengrass/lifecyclemanager/KernelLifecycle.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwMDoyOTowNVrOIE7n4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwMDozMDoxOVrOIE7ovA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjA0MjA4Mg==", "bodyText": "wonder if we can use the timeout on this call.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/793#discussion_r542042082", "createdAt": "2020-12-14T00:29:05Z", "author": {"login": "abanthiy"}, "path": "src/main/java/com/aws/greengrass/lifecyclemanager/KernelLifecycle.java", "diffHunk": "@@ -271,6 +271,7 @@ public void stopAllServices(int timeoutSeconds) {\n      */\n     public void softShutdown(int timeoutSeconds) {\n         logger.atDebug(\"system-shutdown\").log(\"Start soft shutdown\");\n+        kernel.getContext().waitForPublishQueueToClear();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b4f64442f617af251252c28212a966a43111975"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjA0MjMwMA==", "bodyText": "I don't think that we want to do that, we want to be in a fully consistent state, even if that takes time.", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/793#discussion_r542042300", "createdAt": "2020-12-14T00:30:19Z", "author": {"login": "MikeDombo"}, "path": "src/main/java/com/aws/greengrass/lifecyclemanager/KernelLifecycle.java", "diffHunk": "@@ -271,6 +271,7 @@ public void stopAllServices(int timeoutSeconds) {\n      */\n     public void softShutdown(int timeoutSeconds) {\n         logger.atDebug(\"system-shutdown\").log(\"Start soft shutdown\");\n+        kernel.getContext().waitForPublishQueueToClear();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjA0MjA4Mg=="}, "originalCommit": {"oid": "7b4f64442f617af251252c28212a966a43111975"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 167, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}