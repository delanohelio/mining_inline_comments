{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NzczOTgy", "number": 735, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDowMToxMFrOE-0gBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDowNzowMlrOE-0nzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0MzA3MzM0OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/greengrass/deployment/DeviceConfiguration.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDowMToxMFrOH8Lt5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDowMToxMFrOH8Lt5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2ODU4MQ==", "bodyText": "synchronized?", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/735#discussion_r532868581", "createdAt": "2020-11-30T20:01:10Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/greengrass/deployment/DeviceConfiguration.java", "diffHunk": "@@ -156,6 +153,20 @@ public DeviceConfiguration(Kernel kernel, String thingName, String iotDataEndpoi\n         validate();\n     }\n \n+    /**\n+     * Get the Nucleus component's name.\n+     *\n+     * @return Nucleus component name\n+     */\n+    public String getNucleusComponentName() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95a93a8ab4d4d753c685911bf8d943f00f2f4ad2"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0MzA5MzI3OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/aws/greengrass/deployment/DeviceConfiguration.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDowNzowMlrOH8L6RQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDowNzowMlrOH8L6RQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg3MTc0OQ==", "bodyText": "Just to clarify, here onAnyChange doesn't need to be set up again by callers, because nucleusComponentName change can only happen in a nucleus update deployment, and when the config merges, all application should have been stopped", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/735#discussion_r532871749", "createdAt": "2020-11-30T20:07:02Z", "author": {"login": "hui-yang"}, "path": "src/main/java/com/aws/greengrass/deployment/DeviceConfiguration.java", "diffHunk": "@@ -400,7 +411,7 @@ public Topic getDeploymentPollingFrequencySeconds() {\n      * @param cc Subscribe handler\n      */\n     public void onAnyChange(ChildChanged cc) {\n-        kernel.getConfig().lookupTopics(SERVICES_NAMESPACE_TOPIC, nucleusComponentName, CONFIGURATION_CONFIG_KEY)\n+        kernel.getConfig().lookupTopics(SERVICES_NAMESPACE_TOPIC, getNucleusComponentName(), CONFIGURATION_CONFIG_KEY)\n                 .subscribe(cc);\n         kernel.getConfig().lookupTopics(SYSTEM_NAMESPACE_KEY).subscribe(cc);\n     }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95a93a8ab4d4d753c685911bf8d943f00f2f4ad2"}, "originalPosition": 57}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 325, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}