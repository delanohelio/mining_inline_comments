{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzNTM3NzA0", "number": 526, "title": "Try to fix getDownloadSize", "bodyText": "Issue #, if available:\nDescription of changes:\nWhy is this change necessary:\nHow was this change tested:\nAny additional information or context required to review the change:\nChecklist:\n\n Updated the README if applicable\n Updated or added new unit tests\n Updated or added new integration tests\n Updated or added new end-to-end tests\n\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-10-14T17:42:27Z", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/526", "merged": true, "mergeCommit": {"oid": "00d90cacf6014fa8519d45b23a39e0c3f8f991c9"}, "closed": true, "closedAt": "2020-10-14T19:15:57Z", "author": {"login": "tilo-chen"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSg0cZgH2gAyNTAzNTM3NzA0OjFmNzExMTQ2MzJmMjU5MzhiMDVhMWY1YWFmMjY2ZDY0OTliZDU2NWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSiEUtAFqTUwODY0ODM0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1f71114632f25938b05a1f5aaf266d6499bd565d", "author": {"user": {"login": "tilo-chen", "name": "Tiangang (Tilo) Chen"}}, "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/1f71114632f25938b05a1f5aaf266d6499bd565d", "committedDate": "2020-10-14T17:42:07Z", "message": "Try to fix getDownloadSize"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NTg5NTQ0", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/526#pullrequestreview-508589544", "createdAt": "2020-10-14T17:49:28Z", "commit": {"oid": "1f71114632f25938b05a1f5aaf266d6499bd565d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NTkxNzI2", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/526#pullrequestreview-508591726", "createdAt": "2020-10-14T17:52:22Z", "commit": {"oid": "1f71114632f25938b05a1f5aaf266d6499bd565d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NjI4ODc4", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/526#pullrequestreview-508628878", "createdAt": "2020-10-14T18:42:11Z", "commit": {"oid": "1f71114632f25938b05a1f5aaf266d6499bd565d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxODo0MjoxMVrOHhgTFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxODo0MjoxMVrOHhgTFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg5NDIyOQ==", "bodyText": "This is wasteful because it will actually download the artifact", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/526#discussion_r504894229", "createdAt": "2020-10-14T18:42:11Z", "author": {"login": "MikeDombo"}, "path": "src/main/java/com/aws/greengrass/componentmanager/plugins/GreengrassRepositoryDownloader.java", "diffHunk": "@@ -142,7 +142,6 @@ public long getDownloadSize(ComponentIdentifier componentIdentifier, ComponentAr\n                     getArtifactDownloadURL(componentIdentifier, artifact.getArtifactUri().getSchemeSpecificPart());\n             URL url = new URL(preSignedUrl);\n             HttpURLConnection conn = connect(url);\n-            conn.setRequestMethod(\"HEAD\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f71114632f25938b05a1f5aaf266d6499bd565d"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NjQ3NDE4", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/526#pullrequestreview-508647418", "createdAt": "2020-10-14T19:08:02Z", "commit": {"oid": "1f71114632f25938b05a1f5aaf266d6499bd565d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NjQ4MzQ2", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/526#pullrequestreview-508648346", "createdAt": "2020-10-14T19:09:22Z", "commit": {"oid": "1f71114632f25938b05a1f5aaf266d6499bd565d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3152, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}