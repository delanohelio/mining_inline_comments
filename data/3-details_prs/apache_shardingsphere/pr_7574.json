{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxNTI1OTk2", "number": 7574, "title": "Refactor change YamlRuleSchemaMetaData same with  RuleSchemaMetaData", "bodyText": "Fixes #7559.\nChanges proposed in this pull request:\n\nchange YamlRuleSchemaMetaData same with  RuleSchemaMetaData", "createdAt": "2020-09-23T05:30:55Z", "url": "https://github.com/apache/shardingsphere/pull/7574", "merged": true, "mergeCommit": {"oid": "313dac456b58b0553746efe2d2107f82246fc7c4"}, "closed": true, "closedAt": "2020-09-24T08:19:56Z", "author": {"login": "xbkaishui"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLlwIsAH2gAyNDkxNTI1OTk2OmRjY2I3ZTQ5MTQyY2Y4NWRiZTFjZGM0NjU1YzM5N2E4NjA0ZTU4ZmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdL8yZOgFqTQ5NTMyODE3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dccb7e49142cf85dbe1cdc4655c397a8604e58fd", "author": {"user": {"login": "xbkaishui", "name": null}}, "url": "https://github.com/apache/shardingsphere/commit/dccb7e49142cf85dbe1cdc4655c397a8604e58fd", "committedDate": "2020-09-23T05:29:28Z", "message": "refactor change YamlRuleSchemaMetaData same with  RuleSchemaMetaData"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NDA2Njk5", "url": "https://github.com/apache/shardingsphere/pull/7574#pullrequestreview-494406699", "createdAt": "2020-09-23T08:11:01Z", "commit": {"oid": "dccb7e49142cf85dbe1cdc4655c397a8604e58fd"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODoxMTowMVrOHWcDhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODo1NDoxNlrOHWepPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzI5MDM3Mw==", "bodyText": "Please add a blank line under this line.", "url": "https://github.com/apache/shardingsphere/pull/7574#discussion_r493290373", "createdAt": "2020-09-23T08:11:01Z", "author": {"login": "tristaZero"}, "path": "shardingsphere-governance/shardingsphere-governance-core/shardingsphere-governance-core-config/src/test/resources/yaml/metadata.yaml", "diffHunk": "@@ -30,15 +30,4 @@ configuredSchemaMetaData:\n             name: PRIMARY          \n unconfiguredSchemaMetaDataMap:\n   ds_0:\n-    tables:\n-      t_user:\n-        columns:\n-          id:\n-            caseSensitive: false\n-            dataType: 0\n-            generated: false\n-            name: id\n-            primaryKey: true\n-        indexes:\n-          primary:\n-            name: PRIMARY\n+    - t_user", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dccb7e49142cf85dbe1cdc4655c397a8604e58fd"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMzMjc5Nw==", "bodyText": "This PR looks great. However, I found another issue relevant to what you modified.\n// CreateTableStatementMetaDataRefreshStrategy\n\nprivate void refreshUnconfiguredMetaData(final ShardingSphereMetaData metaData, \n                                             final DatabaseType databaseType, final Map<String, DataSource> dataSourceMap, final String tableName) throws SQLException {\n        for (Entry<String, DataSource> entry : dataSourceMap.entrySet()) {\n            Optional<TableMetaData> tableMetaData = TableMetaDataLoader.loadWithoutColumnMetaData(entry.getValue(), tableName, databaseType.getName());\n            if (tableMetaData.isPresent()) {\n                refreshUnconfiguredMetaData(metaData, tableName, entry.getKey());\n                return;\n            }\n        }\n    }\n\nloadWithoutColumnMetaData is supposed to be simplified, IMO. What do you think?", "url": "https://github.com/apache/shardingsphere/pull/7574#discussion_r493332797", "createdAt": "2020-09-23T08:54:16Z", "author": {"login": "tristaZero"}, "path": "shardingsphere-governance/shardingsphere-governance-core/shardingsphere-governance-core-common/src/main/java/org/apache/shardingsphere/governance/core/yaml/config/metadata/YamlRuleSchemaMetaData.java", "diffHunk": "@@ -32,5 +33,5 @@\n \n     private YamlSchemaMetaData configuredSchemaMetaData;\n \n-    private Map<String, YamlSchemaMetaData> unconfiguredSchemaMetaDataMap;\n+    private Map<String, Collection<String>> unconfiguredSchemaMetaDataMap;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dccb7e49142cf85dbe1cdc4655c397a8604e58fd"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "539ba4095af1e26ff9433427f1846248909a7ec9", "author": {"user": {"login": "xbkaishui", "name": null}}, "url": "https://github.com/apache/shardingsphere/commit/539ba4095af1e26ff9433427f1846248909a7ec9", "committedDate": "2020-09-23T09:36:01Z", "message": "change for cr"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a458b17a8a23cf8ce1c1231edecccd0fff64bc9", "author": {"user": {"login": "xbkaishui", "name": null}}, "url": "https://github.com/apache/shardingsphere/commit/2a458b17a8a23cf8ce1c1231edecccd0fff64bc9", "committedDate": "2020-09-24T00:09:50Z", "message": "add test of default constructor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "948480d16c0f78e9557a0247ff51f3adaa39260f", "author": {"user": {"login": "xbkaishui", "name": null}}, "url": "https://github.com/apache/shardingsphere/commit/948480d16c0f78e9557a0247ff51f3adaa39260f", "committedDate": "2020-09-24T02:58:56Z", "message": "Merge branch 'master' into dev"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MzI4MTc5", "url": "https://github.com/apache/shardingsphere/pull/7574#pullrequestreview-495328179", "createdAt": "2020-09-24T08:19:45Z", "commit": {"oid": "948480d16c0f78e9557a0247ff51f3adaa39260f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3991, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}