{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyMjQ2MTc4", "number": 7778, "title": "Add SQLServer parser select aggregation clause, support except & intersect.", "bodyText": "For #6478 .\nChanges proposed in this pull request:\n\nadd SQLServer parser select aggregation clause, support except & intersect.\nadd SQLServer except & intersect keywords.", "createdAt": "2020-10-13T12:11:47Z", "url": "https://github.com/apache/shardingsphere/pull/7778", "merged": true, "mergeCommit": {"oid": "38f2a47c1ac3efb505af9f7fadf9f89a3d35904d"}, "closed": true, "closedAt": "2020-10-14T06:27:57Z", "author": {"login": "dongzl"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSHbiQgH2gAyNTAyMjQ2MTc4OjRlMWIxNTU4OWY2NjUyOGQxMzliY2ZlYjNlMzMzZjI5ZjdkYjIyMzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSXKS4AFqTUwODAyODk2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4e1b15589f66528d139bcfeb3e333f29f7db2231", "author": {"user": {"login": "dongzl", "name": "Zonglei Dong"}}, "url": "https://github.com/apache/shardingsphere/commit/4e1b15589f66528d139bcfeb3e333f29f7db2231", "committedDate": "2020-10-13T12:07:17Z", "message": "add SQLServer except & intersect keywords."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c5349cbfa8aaaaf52bf1fa9239a2dd7cf4f4e0d", "author": {"user": {"login": "dongzl", "name": "Zonglei Dong"}}, "url": "https://github.com/apache/shardingsphere/commit/6c5349cbfa8aaaaf52bf1fa9239a2dd7cf4f4e0d", "committedDate": "2020-10-13T12:08:49Z", "message": "add SQLServer select aggregation clause, support except & intersect."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3OTQ0NzM4", "url": "https://github.com/apache/shardingsphere/pull/7778#pullrequestreview-507944738", "createdAt": "2020-10-14T02:08:04Z", "commit": {"oid": "6c5349cbfa8aaaaf52bf1fa9239a2dd7cf4f4e0d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMjowODowNVrOHg_i7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMjowODowNVrOHg_i7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDM1NzYxMg==", "bodyText": "Can these two rules be combined? Since the reference in the subquery is unionClause. The subquery and SELECT should have the same semantics,right?", "url": "https://github.com/apache/shardingsphere/pull/7778#discussion_r504357612", "createdAt": "2020-10-14T02:08:05Z", "author": {"login": "jingshanglu"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-sqlserver/src/main/antlr4/imports/sqlserver/DMLStatement.g4", "diffHunk": "@@ -73,11 +73,15 @@ multipleTableNames\n     ;\n \n select \n-    : unionClause\n+    : aggregationClause\n+    ;\n+\n+aggregationClause\n+    : selectClause ((UNION (ALL)? | EXCEPT | INTERSECT) selectClause)*\n     ;\n \n unionClause\n-    : selectClause (UNION (ALL | DISTINCT)? selectClause)*\n+    : selectClause (UNION (ALL)? selectClause)*\n     ;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c5349cbfa8aaaaf52bf1fa9239a2dd7cf4f4e0d"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cfa3d74670a177cc9c902a920c2ce41e329052b", "author": {"user": {"login": "dongzl", "name": "Zonglei Dong"}}, "url": "https://github.com/apache/shardingsphere/commit/5cfa3d74670a177cc9c902a920c2ce41e329052b", "committedDate": "2020-10-14T03:19:56Z", "message": "merge SQLServer unionClause to aggregationClause."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4MDI4OTYw", "url": "https://github.com/apache/shardingsphere/pull/7778#pullrequestreview-508028960", "createdAt": "2020-10-14T06:26:56Z", "commit": {"oid": "5cfa3d74670a177cc9c902a920c2ce41e329052b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3969, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}