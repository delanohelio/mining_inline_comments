{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczNjUzMjM2", "number": 7076, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzozMjo0NVrOEddjFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNDowNjo0OVrOEdd37g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzI4Mjc3OnYy", "diffSide": "RIGHT", "path": "shardingsphere-proxy/shardingsphere-proxy-frontend/shardingsphere-proxy-frontend-postgresql/src/main/java/org/apache/shardingsphere/proxy/frontend/postgresql/auth/PostgreSQLAuthenticationEngine.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzozMjo0NVrOHIoUtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNTowNzo1OVrOHIpo_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgxMTMxOQ==", "bodyText": "Can remove currentAuthResult?", "url": "https://github.com/apache/shardingsphere/pull/7076#discussion_r478811319", "createdAt": "2020-08-28T03:32:45Z", "author": {"login": "tuohai666"}, "path": "shardingsphere-proxy/shardingsphere-proxy-frontend/shardingsphere-proxy-frontend-postgresql/src/main/java/org/apache/shardingsphere/proxy/frontend/postgresql/auth/PostgreSQLAuthenticationEngine.java", "diffHunk": "@@ -91,7 +91,8 @@ public AuthenticationResult auth(final ChannelHandlerContext context, final Pack\n             }\n             md5Salt = PostgreSQLRandomGenerator.getInstance().generateRandomBytes(4);\n             context.writeAndFlush(new PostgreSQLAuthenticationMD5PasswordPacket(md5Salt));\n-            return AuthenticationResult.continued(username, databaseName);\n+            currentAuthResult = AuthenticationResult.continued(username, databaseName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a755806c5ef75a237219da22207f0539d2255477"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgzMjg5Mw==", "bodyText": "Probably not, it's latest code after refactoring.", "url": "https://github.com/apache/shardingsphere/pull/7076#discussion_r478832893", "createdAt": "2020-08-28T05:07:59Z", "author": {"login": "sandynz"}, "path": "shardingsphere-proxy/shardingsphere-proxy-frontend/shardingsphere-proxy-frontend-postgresql/src/main/java/org/apache/shardingsphere/proxy/frontend/postgresql/auth/PostgreSQLAuthenticationEngine.java", "diffHunk": "@@ -91,7 +91,8 @@ public AuthenticationResult auth(final ChannelHandlerContext context, final Pack\n             }\n             md5Salt = PostgreSQLRandomGenerator.getInstance().generateRandomBytes(4);\n             context.writeAndFlush(new PostgreSQLAuthenticationMD5PasswordPacket(md5Salt));\n-            return AuthenticationResult.continued(username, databaseName);\n+            currentAuthResult = AuthenticationResult.continued(username, databaseName);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgxMTMxOQ=="}, "originalCommit": {"oid": "a755806c5ef75a237219da22207f0539d2255477"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzI4NDQ2OnYy", "diffSide": "RIGHT", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/main/java/org/apache/shardingsphere/db/protocol/postgresql/packet/handshake/PostgreSQLAuthenticationMD5PasswordPacket.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzozMzo0NVrOHIoVsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNTo0Mzo0N1rOHIqPmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgxMTU2OA==", "bodyText": "Where this member be called?", "url": "https://github.com/apache/shardingsphere/pull/7076#discussion_r478811568", "createdAt": "2020-08-28T03:33:45Z", "author": {"login": "tuohai666"}, "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/main/java/org/apache/shardingsphere/db/protocol/postgresql/packet/handshake/PostgreSQLAuthenticationMD5PasswordPacket.java", "diffHunk": "@@ -29,6 +29,7 @@\n     \n     private static final int AUTH_REQ_MD5 = 5;\n     \n+    @Getter", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a755806c5ef75a237219da22207f0539d2255477"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgzMTg2MA==", "bodyText": "It's called in PostgreSQLAuthenticationEngineTest, since md5Salt is generated random bytes in PostgreSQLAuthenticationEngine, test case will get this md5Salt to calculate md5Digest for login.", "url": "https://github.com/apache/shardingsphere/pull/7076#discussion_r478831860", "createdAt": "2020-08-28T05:03:43Z", "author": {"login": "sandynz"}, "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/main/java/org/apache/shardingsphere/db/protocol/postgresql/packet/handshake/PostgreSQLAuthenticationMD5PasswordPacket.java", "diffHunk": "@@ -29,6 +29,7 @@\n     \n     private static final int AUTH_REQ_MD5 = 5;\n     \n+    @Getter", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgxMTU2OA=="}, "originalCommit": {"oid": "a755806c5ef75a237219da22207f0539d2255477"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg0Mjc3Ng==", "bodyText": "Test case will use Java reflection to get it, just like MySQLAuthenticationEngineTest.", "url": "https://github.com/apache/shardingsphere/pull/7076#discussion_r478842776", "createdAt": "2020-08-28T05:43:47Z", "author": {"login": "sandynz"}, "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/main/java/org/apache/shardingsphere/db/protocol/postgresql/packet/handshake/PostgreSQLAuthenticationMD5PasswordPacket.java", "diffHunk": "@@ -29,6 +29,7 @@\n     \n     private static final int AUTH_REQ_MD5 = 5;\n     \n+    @Getter", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgxMTU2OA=="}, "originalCommit": {"oid": "a755806c5ef75a237219da22207f0539d2255477"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzMzNjE0OnYy", "diffSide": "RIGHT", "path": "shardingsphere-proxy/shardingsphere-proxy-frontend/shardingsphere-proxy-frontend-postgresql/src/main/java/org/apache/shardingsphere/proxy/frontend/postgresql/auth/PostgreSQLAuthenticationHandler.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNDowNjo0OVrOHIozLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNTo0NDowMlrOHIqP8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgxOTExOQ==", "bodyText": "why remove private?", "url": "https://github.com/apache/shardingsphere/pull/7076#discussion_r478819119", "createdAt": "2020-08-28T04:06:49Z", "author": {"login": "tuohai666"}, "path": "shardingsphere-proxy/shardingsphere-proxy-frontend/shardingsphere-proxy-frontend-postgresql/src/main/java/org/apache/shardingsphere/proxy/frontend/postgresql/auth/PostgreSQLAuthenticationHandler.java", "diffHunk": "@@ -66,7 +66,7 @@ public static PostgreSQLLoginResult loginWithMd5Password(final String username,\n         return new PostgreSQLLoginResult(PostgreSQLErrorCode.SUCCESSFUL_COMPLETION, null);\n     }\n     \n-    private static String md5Encode(final String username, final String password, final byte[] md5Salt) {\n+    static String md5Encode(final String username, final String password, final byte[] md5Salt) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a755806c5ef75a237219da22207f0539d2255477"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgzMjU1Mg==", "bodyText": "It's called in PostgreSQLAuthenticationEngineTest, since md5Salt is generated random bytes in PostgreSQLAuthenticationEngine, test case will invoke md5Encode to calculate md5Digest for login.", "url": "https://github.com/apache/shardingsphere/pull/7076#discussion_r478832552", "createdAt": "2020-08-28T05:06:28Z", "author": {"login": "sandynz"}, "path": "shardingsphere-proxy/shardingsphere-proxy-frontend/shardingsphere-proxy-frontend-postgresql/src/main/java/org/apache/shardingsphere/proxy/frontend/postgresql/auth/PostgreSQLAuthenticationHandler.java", "diffHunk": "@@ -66,7 +66,7 @@ public static PostgreSQLLoginResult loginWithMd5Password(final String username,\n         return new PostgreSQLLoginResult(PostgreSQLErrorCode.SUCCESSFUL_COMPLETION, null);\n     }\n     \n-    private static String md5Encode(final String username, final String password, final byte[] md5Salt) {\n+    static String md5Encode(final String username, final String password, final byte[] md5Salt) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgxOTExOQ=="}, "originalCommit": {"oid": "a755806c5ef75a237219da22207f0539d2255477"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg0Mjg2Ng==", "bodyText": "Test case will use Java reflection to get it, just like MySQLAuthenticationEngineTest.", "url": "https://github.com/apache/shardingsphere/pull/7076#discussion_r478842866", "createdAt": "2020-08-28T05:44:02Z", "author": {"login": "sandynz"}, "path": "shardingsphere-proxy/shardingsphere-proxy-frontend/shardingsphere-proxy-frontend-postgresql/src/main/java/org/apache/shardingsphere/proxy/frontend/postgresql/auth/PostgreSQLAuthenticationHandler.java", "diffHunk": "@@ -66,7 +66,7 @@ public static PostgreSQLLoginResult loginWithMd5Password(final String username,\n         return new PostgreSQLLoginResult(PostgreSQLErrorCode.SUCCESSFUL_COMPLETION, null);\n     }\n     \n-    private static String md5Encode(final String username, final String password, final byte[] md5Salt) {\n+    static String md5Encode(final String username, final String password, final byte[] md5Salt) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgxOTExOQ=="}, "originalCommit": {"oid": "a755806c5ef75a237219da22207f0539d2255477"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 332, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}