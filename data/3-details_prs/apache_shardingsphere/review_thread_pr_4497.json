{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNzExMjQ3", "number": 4497, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMTo1NjoxOFrODjrEPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQxNjoxMTowNFrODkB6bA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NzMyMzUwOnYy", "diffSide": "RIGHT", "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-raw-jdbc-example/src/main/resources/META-INF/nacos/cloud/encrypt.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMTo1NjoxOFrOFvnSlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQwMTo1NzoxNlrOFwL0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ3MTEyNQ==", "bodyText": "I understand nacos's namespace is namespace's id, not namespace's name.", "url": "https://github.com/apache/shardingsphere/pull/4497#discussion_r385471125", "createdAt": "2020-02-28T01:56:18Z", "author": {"login": "dongzl"}, "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-raw-jdbc-example/src/main/resources/META-INF/nacos/cloud/encrypt.yaml", "diffHunk": "@@ -1,10 +1,18 @@\n orchestration:\n-  name: demo_yaml_ds_encrypt\n-  overwrite: false\n-  registry:\n-    type: nacos\n+  demo_naocs_yaml_ds_encrypt:\n+    orchestrationType: config_center\n+    instanceType: nacos\n     serverLists: localhost:8848\n-    namespace:\n+    namespace: orchestration-yaml-demo", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c300134b27b9a5297493f53db3583dedc4e8a20b"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA2OTU1Ng==", "bodyText": "yeah You're right. thx", "url": "https://github.com/apache/shardingsphere/pull/4497#discussion_r386069556", "createdAt": "2020-03-01T01:57:16Z", "author": {"login": "geomonlin"}, "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-raw-jdbc-example/src/main/resources/META-INF/nacos/cloud/encrypt.yaml", "diffHunk": "@@ -1,10 +1,18 @@\n orchestration:\n-  name: demo_yaml_ds_encrypt\n-  overwrite: false\n-  registry:\n-    type: nacos\n+  demo_naocs_yaml_ds_encrypt:\n+    orchestrationType: config_center\n+    instanceType: nacos\n     serverLists: localhost:8848\n-    namespace:\n+    namespace: orchestration-yaml-demo", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ3MTEyNQ=="}, "originalCommit": {"oid": "c300134b27b9a5297493f53db3583dedc4e8a20b"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NzMyNTg4OnYy", "diffSide": "RIGHT", "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-raw-jdbc-example/src/main/resources/META-INF/nacos/local/encrypt.yaml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMTo1ODowMlrOFvnUEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMTo1ODowMlrOFvnUEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ3MTUwNA==", "bodyText": "The same to above.", "url": "https://github.com/apache/shardingsphere/pull/4497#discussion_r385471504", "createdAt": "2020-02-28T01:58:02Z", "author": {"login": "dongzl"}, "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-raw-jdbc-example/src/main/resources/META-INF/nacos/local/encrypt.yaml", "diffHunk": "@@ -1,13 +1,21 @@\n orchestration:\n-  name: demo_yaml_ds_encrypt\n-  overwrite: true\n-  registry:\n-    type: nacos\n+  demo_nacos_yaml_ds_encrypt:\n+    orchestrationType: config_center\n+    instanceType: nacos\n     serverLists: localhost:8848\n-    namespace:\n+    namespace: orchestration-yaml-demo", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c300134b27b9a5297493f53db3583dedc4e8a20b"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NzMzMzA1OnYy", "diffSide": "RIGHT", "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-raw-jdbc-example/src/main/resources/META-INF/zookeeper/cloud/encrypt.yaml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMjowMjo0M1rOFvnYcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMjowMjo0M1rOFvnYcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ3MjYyNw==", "bodyText": "There should be a blank line.", "url": "https://github.com/apache/shardingsphere/pull/4497#discussion_r385472627", "createdAt": "2020-02-28T02:02:43Z", "author": {"login": "dongzl"}, "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-raw-jdbc-example/src/main/resources/META-INF/zookeeper/cloud/encrypt.yaml", "diffHunk": "@@ -1,7 +1,8 @@\n orchestration:\n-  name: demo_yaml_ds_encrypt\n-  overwrite: false\n-  registry:\n-    type: zookeeper\n+  demo_yaml_ds_encrypt:\n+    orchestrationType: config_center,registry_center\n+    instanceType: zookeeper\n     serverLists: localhost:2181\n     namespace: orchestration-yaml-demo\n+    props:\n+      overwrite: true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c300134b27b9a5297493f53db3583dedc4e8a20b"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NzMzNjQ4OnYy", "diffSide": "RIGHT", "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-spring-boot-example/src/main/resources/application-local-nacos-encrypt.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMjowNTowOFrOFvnafQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMjowNTowOFrOFvnafQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ3MzE0OQ==", "bodyText": "There should be a blank line.", "url": "https://github.com/apache/shardingsphere/pull/4497#discussion_r385473149", "createdAt": "2020-02-28T02:05:08Z", "author": {"login": "dongzl"}, "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-spring-boot-example/src/main/resources/application-local-nacos-encrypt.properties", "diffHunk": "@@ -31,8 +31,14 @@ spring.shardingsphere.encrypt.tables.t_order.columns.status.encryptor=status_enc\n spring.shardingsphere.props.query.with.cipher.comlum=true\n spring.shardingsphere.props.sql.show=true\n \n-spring.shardingsphere.orchestration.name=demo_spring_boot_ds_encrypt\n-spring.shardingsphere.orchestration.overwrite=true\n-spring.shardingsphere.orchestration.registry.type=nacos\n-spring.shardingsphere.orchestration.registry.server-lists=localhost:8848\n-spring.shardingsphere.orchestration.registry.namespace=\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_encrypt.orchestration-type=config_center\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_encrypt.instance-type=nacos\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_encrypt.server-lists=localhost:8848\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_encrypt.namespace=\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_encrypt.props.overwrite=true\n+\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_encrypt.orchestration-type=registry_center\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_encrypt.instance-type=zookeeper\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_encrypt.server-lists=localhost:2181\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_encrypt.namespace=orchestration-spring-boot-demo\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_encrypt.props.overwrite=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c300134b27b9a5297493f53db3583dedc4e8a20b"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NzMzNzI4OnYy", "diffSide": "RIGHT", "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-spring-boot-example/src/main/resources/application-local-nacos-master-slave.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMjowNToyNlrOFvna5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMjowNToyNlrOFvna5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ3MzI1NQ==", "bodyText": "The same to above.", "url": "https://github.com/apache/shardingsphere/pull/4497#discussion_r385473255", "createdAt": "2020-02-28T02:05:26Z", "author": {"login": "dongzl"}, "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-spring-boot-example/src/main/resources/application-local-nacos-master-slave.properties", "diffHunk": "@@ -23,8 +23,14 @@ spring.shardingsphere.masterslave.name=ds_ms\n spring.shardingsphere.masterslave.master-data-source-name=ds_master\n spring.shardingsphere.masterslave.slave-data-source-names=ds_slave_0,ds_slave_1\n \n-spring.shardingsphere.orchestration.name=demo_spring_boot_ds_ms\n-spring.shardingsphere.orchestration.overwrite=true\n-spring.shardingsphere.orchestration.registry.type=nacos\n-spring.shardingsphere.orchestration.registry.server-lists=localhost:8848\n-spring.shardingsphere.orchestration.registry.namespace=\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_ms.orchestration-type=config_center\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_ms.instance-type=nacos\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_ms.server-lists=localhost:8848\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_ms.namespace=\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_ms.props.overwrite=true\n+\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_ms.orchestration-type=registry_center\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_ms.instance-type=zookeeper\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_ms.server-lists=localhost:2181\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_ms.namespace=orchestration-spring-boot-demo\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_ms.props.overwrite=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c300134b27b9a5297493f53db3583dedc4e8a20b"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NzM0MDQzOnYy", "diffSide": "RIGHT", "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-spring-boot-example/src/main/resources/application-local-nacos-sharding-databases-tables.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMjowNzozMlrOFvncyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMjowNzozMlrOFvncyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ3MzczOQ==", "bodyText": "There are redundant blank line.", "url": "https://github.com/apache/shardingsphere/pull/4497#discussion_r385473739", "createdAt": "2020-02-28T02:07:32Z", "author": {"login": "dongzl"}, "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-spring-boot-example/src/main/resources/application-local-nacos-sharding-databases-tables.properties", "diffHunk": "@@ -35,8 +35,15 @@ spring.shardingsphere.sharding.tables.t_order_item.key-generator.column=order_it\n spring.shardingsphere.sharding.tables.t_order_item.key-generator.type=SNOWFLAKE\n spring.shardingsphere.sharding.tables.t_order_item.key-generator.props.worker.id=123\n \n-spring.shardingsphere.orchestration.name=demo_spring_boot_ds_sharding\n-spring.shardingsphere.orchestration.overwrite=true\n-spring.shardingsphere.orchestration.registry.type=nacos\n-spring.shardingsphere.orchestration.registry.server-lists=localhost:8848\n-spring.shardingsphere.orchestration.registry.namespace=\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_sharding.orchestration-type=config_center\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_sharding.instance-type=nacos\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_sharding.server-lists=localhost:8848\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_sharding.namespace=\n+spring.shardingsphere.orchestration.demo_spring_boot_ds_sharding.props.overwrite=true\n+\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_sharding.orchestration-type=registry_center\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_sharding.instance-type=zookeeper\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_sharding.server-lists=localhost:2181\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_sharding.namespace=orchestration-spring-boot-demo\n+spring.shardingsphere.orchestration.demo1_spring_boot_ds_sharding.props.overwrite=true\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c300134b27b9a5297493f53db3583dedc4e8a20b"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NzM0OTQwOnYy", "diffSide": "LEFT", "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-spring-namespace-example/src/main/resources/META-INF/zookeeper/local/application-encrypt.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMjoxMzoxMFrOFvniJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwMjoxMzoxMFrOFvniJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ3NTEwOQ==", "bodyText": "Why fix this type param?", "url": "https://github.com/apache/shardingsphere/pull/4497#discussion_r385475109", "createdAt": "2020-02-28T02:13:10Z", "author": {"login": "dongzl"}, "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-spring-namespace-example/src/main/resources/META-INF/zookeeper/local/application-encrypt.xml", "diffHunk": "@@ -59,15 +59,15 @@\n             </encrypt:tables>\n             <encrypt:encryptors>\n                 <encrypt:encryptor id=\"name_encryptor\" type=\"AES\" props-ref=\"props\"/>\n-                <encrypt:encryptor id=\"pwd_encryptor\" type=\"assistedTest\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c300134b27b9a5297493f53db3583dedc4e8a20b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MTA1MzAyOnYy", "diffSide": "LEFT", "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-raw-jdbc-example/src/main/resources/META-INF/nacos/local/encrypt.yaml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQxNTo0NDo1NFrOFwJxsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQwMTo1NTo1M1rOFwL0BQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjAzNjE0NA==", "bodyText": "why remove namespace?", "url": "https://github.com/apache/shardingsphere/pull/4497#discussion_r386036144", "createdAt": "2020-02-29T15:44:54Z", "author": {"login": "kimmking"}, "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-raw-jdbc-example/src/main/resources/META-INF/nacos/local/encrypt.yaml", "diffHunk": "@@ -3,7 +3,7 @@ orchestration:\n     orchestrationType: config_center\n     instanceType: nacos\n     serverLists: localhost:8848\n-    namespace: orchestration-yaml-demo", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d69d30d012ee7ad13278cd912b0c385b22926163"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA2OTUwOQ==", "bodyText": "This namespace  become namespaceId in naocs. If write namespace ,found should write  value of namespaceId \"db5af0a7-ae65-49b2-810a-df5cb77103a1\". However Show the configuration with empty namespace by default in nacos.", "url": "https://github.com/apache/shardingsphere/pull/4497#discussion_r386069509", "createdAt": "2020-03-01T01:55:53Z", "author": {"login": "geomonlin"}, "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-raw-jdbc-example/src/main/resources/META-INF/nacos/local/encrypt.yaml", "diffHunk": "@@ -3,7 +3,7 @@ orchestration:\n     orchestrationType: config_center\n     instanceType: nacos\n     serverLists: localhost:8848\n-    namespace: orchestration-yaml-demo", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjAzNjE0NA=="}, "originalCommit": {"oid": "d69d30d012ee7ad13278cd912b0c385b22926163"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MTA1ODI0OnYy", "diffSide": "RIGHT", "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-raw-jdbc-example/src/main/java/org/apache/shardingsphere/example/orchestration/raw/jdbc/config/RegistryCenterConfigurationUtil.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQxNTo1NTozMlrOFwJ0TQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQwNDozNTozMlrOFwMOYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjAzNjgxMw==", "bodyText": "why add a shardingtype swtich?", "url": "https://github.com/apache/shardingsphere/pull/4497#discussion_r386036813", "createdAt": "2020-02-29T15:55:32Z", "author": {"login": "kimmking"}, "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-raw-jdbc-example/src/main/java/org/apache/shardingsphere/example/orchestration/raw/jdbc/config/RegistryCenterConfigurationUtil.java", "diffHunk": "@@ -31,20 +34,58 @@\n \n     private static final String NACOS_NAMESPACE = \"\";\n     \n-    public static RegistryCenterConfiguration getZooKeeperConfiguration() {\n-        RegistryCenterConfiguration result = new RegistryCenterConfiguration(\"zookeeper\");\n+    public static Map<String, InstanceConfiguration> getZooKeeperConfiguration(String overwrite, ShardingType shardingType) {\n+        Map<String, InstanceConfiguration> instanceConfigurationMap = new HashMap<String, InstanceConfiguration>();\n+        Properties properties = new Properties();\n+        properties.setProperty(\"overwrite\", overwrite);\n+        InstanceConfiguration result = new InstanceConfiguration(\"zookeeper\", properties);\n         result.setServerLists(ZOOKEEPER_CONNECTION_STRING);\n         result.setNamespace(NAMESPACE);\n-        return result;\n+        result.setOrchestrationType(\"registry_center,config_center\");\n+        switch (shardingType) {\n+            case SHARDING_DATABASES_AND_TABLES:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d69d30d012ee7ad13278cd912b0c385b22926163"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA3NjI1OQ==", "bodyText": "Diff dataSource name persist to different dataId.  As shown in the picture\uff1a", "url": "https://github.com/apache/shardingsphere/pull/4497#discussion_r386076259", "createdAt": "2020-03-01T04:35:32Z", "author": {"login": "geomonlin"}, "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-raw-jdbc-example/src/main/java/org/apache/shardingsphere/example/orchestration/raw/jdbc/config/RegistryCenterConfigurationUtil.java", "diffHunk": "@@ -31,20 +34,58 @@\n \n     private static final String NACOS_NAMESPACE = \"\";\n     \n-    public static RegistryCenterConfiguration getZooKeeperConfiguration() {\n-        RegistryCenterConfiguration result = new RegistryCenterConfiguration(\"zookeeper\");\n+    public static Map<String, InstanceConfiguration> getZooKeeperConfiguration(String overwrite, ShardingType shardingType) {\n+        Map<String, InstanceConfiguration> instanceConfigurationMap = new HashMap<String, InstanceConfiguration>();\n+        Properties properties = new Properties();\n+        properties.setProperty(\"overwrite\", overwrite);\n+        InstanceConfiguration result = new InstanceConfiguration(\"zookeeper\", properties);\n         result.setServerLists(ZOOKEEPER_CONNECTION_STRING);\n         result.setNamespace(NAMESPACE);\n-        return result;\n+        result.setOrchestrationType(\"registry_center,config_center\");\n+        switch (shardingType) {\n+            case SHARDING_DATABASES_AND_TABLES:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjAzNjgxMw=="}, "originalCommit": {"oid": "d69d30d012ee7ad13278cd912b0c385b22926163"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MTA2NjY4OnYy", "diffSide": "LEFT", "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-spring-namespace-example/src/main/resources/META-INF/zookeeper/local/application-master-slave.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQxNjoxMTowNFrOFwJ4Sw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQxNjoxMTowNFrOFwJ4Sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjAzNzgzNQ==", "bodyText": "the last blank is standard.\nshould be retrieved.", "url": "https://github.com/apache/shardingsphere/pull/4497#discussion_r386037835", "createdAt": "2020-02-29T16:11:04Z", "author": {"login": "kimmking"}, "path": "examples/sharding-jdbc-example/orchestration-example/orchestration-spring-namespace-example/src/main/resources/META-INF/zookeeper/local/application-master-slave.xml", "diffHunk": "@@ -15,44 +15,44 @@\n                         http://shardingsphere.apache.org/schema/shardingsphere/masterslave/master-slave.xsd\n                         http://shardingsphere.apache.org/schema/shardingsphere/orchestration\n                         http://shardingsphere.apache.org/schema/shardingsphere/orchestration/orchestration.xsd\">\n-    <import resource=\"classpath*:META-INF/zookeeper/registry-center.xml\" />\n-    <context:component-scan base-package=\"org.apache.shardingsphere.example.core.mybatis\" />\n+    <import resource=\"classpath*:META-INF/zookeeper/registry-center.xml\"/>\n+    <context:component-scan base-package=\"org.apache.shardingsphere.example.core.mybatis\"/>\n \n     <bean id=\"demo_ds_master\" class=\"com.zaxxer.hikari.HikariDataSource\" destroy-method=\"close\">\n         <property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\"/>\n         <property name=\"jdbcUrl\" value=\"jdbc:mysql://localhost:3306/demo_ds_master\"/>\n         <property name=\"username\" value=\"root\"/>\n         <property name=\"password\" value=\"\"/>\n     </bean>\n-    \n+\n     <bean id=\"demo_ds_slave_0\" class=\"com.zaxxer.hikari.HikariDataSource\" destroy-method=\"close\">\n         <property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\"/>\n         <property name=\"jdbcUrl\" value=\"jdbc:mysql://localhost:3306/demo_ds_slave_0\"/>\n         <property name=\"username\" value=\"root\"/>\n         <property name=\"password\" value=\"\"/>\n     </bean>\n-    \n+\n     <bean id=\"demo_ds_slave_1\" class=\"com.zaxxer.hikari.HikariDataSource\" destroy-method=\"close\">\n         <property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\"/>\n         <property name=\"jdbcUrl\" value=\"jdbc:mysql://localhost:3306/demo_ds_slave_1\"/>\n         <property name=\"username\" value=\"root\"/>\n         <property name=\"password\" value=\"\"/>\n     </bean>\n \n-    <master-slave:load-balance-algorithm id=\"randomStrategy\" type=\"RANDOM\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d69d30d012ee7ad13278cd912b0c385b22926163"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1188, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}