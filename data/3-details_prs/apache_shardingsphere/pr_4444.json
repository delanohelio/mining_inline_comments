{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4ODgwMTIw", "number": 4444, "title": "#4255, column definition information for mysql_stmt_prepare", "bodyText": "Fixes #4255.", "createdAt": "2020-02-24T09:09:06Z", "url": "https://github.com/apache/shardingsphere/pull/4444", "merged": true, "mergeCommit": {"oid": "12c47db65c6d2afd03dbbe7ba785be9120503efd"}, "closed": true, "closedAt": "2020-02-24T14:24:04Z", "author": {"login": "tuohai666"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcHZyUAAH2gAyMzc4ODgwMTIwOjZhZGI5ZDA1M2ExOTU2MGMzZjEwNGUzNDQ4OWVmNjdlZmY2NDMwNTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHeVNMAFqTM2MzQyMzkwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6adb9d053a19560c3f104e34489ef67eff643059", "author": {"user": {"login": "tuohai666", "name": "Zhang Yonglun"}}, "url": "https://github.com/apache/shardingsphere/commit/6adb9d053a19560c3f104e34489ef67eff643059", "committedDate": "2020-02-24T09:06:08Z", "message": "#4255, column definition information for mysql_stmt_prepare"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMzA2OTEw", "url": "https://github.com/apache/shardingsphere/pull/4444#pullrequestreview-363306910", "createdAt": "2020-02-24T10:57:26Z", "commit": {"oid": "6adb9d053a19560c3f104e34489ef67eff643059"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxMDo1NzoyNlrOFtcpFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxMDo1NzoyNlrOFtcpFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzE5OTUxMQ==", "bodyText": "Replace if else return and assign statement with ternary operator in priority", "url": "https://github.com/apache/shardingsphere/pull/4444#discussion_r383199511", "createdAt": "2020-02-24T10:57:26Z", "author": {"login": "terrymanu"}, "path": "sharding-proxy/sharding-proxy-frontend/sharding-proxy-frontend-mysql/src/main/java/org/apache/shardingsphere/shardingproxy/frontend/mysql/command/query/binary/prepare/MySQLComStmtPrepareExecutor.java", "diffHunk": "@@ -48,26 +49,33 @@ public MySQLComStmtPrepareExecutor(final MySQLComStmtPreparePacket packet, final\n         logicSchema = backendConnection.getLogicSchema();\n     }\n     \n+    private int getColumnsCount(final SQLStatement sqlStatement) {\n+        if (sqlStatement instanceof SelectStatement) {\n+            return ((SelectStatement) sqlStatement).getProjections().getProjections().size();\n+        }\n+        return 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6adb9d053a19560c3f104e34489ef67eff643059"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d21c5f5466c308d24801b945ee0860ead635109", "author": {"user": {"login": "tuohai666", "name": "Zhang Yonglun"}}, "url": "https://github.com/apache/shardingsphere/commit/1d21c5f5466c308d24801b945ee0860ead635109", "committedDate": "2020-02-24T11:30:59Z", "message": "#4255, for comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNDE2OTMy", "url": "https://github.com/apache/shardingsphere/pull/4444#pullrequestreview-363416932", "createdAt": "2020-02-24T14:14:20Z", "commit": {"oid": "1d21c5f5466c308d24801b945ee0860ead635109"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNDoxNDoyMFrOFth_vA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxNDoxNDoyMFrOFth_vA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI4NzIyOA==", "bodyText": "unnecessary brackets of sqlStatement instanceof SelectStatement", "url": "https://github.com/apache/shardingsphere/pull/4444#discussion_r383287228", "createdAt": "2020-02-24T14:14:20Z", "author": {"login": "terrymanu"}, "path": "sharding-proxy/sharding-proxy-frontend/sharding-proxy-frontend-mysql/src/main/java/org/apache/shardingsphere/shardingproxy/frontend/mysql/command/query/binary/prepare/MySQLComStmtPrepareExecutor.java", "diffHunk": "@@ -48,26 +49,30 @@ public MySQLComStmtPrepareExecutor(final MySQLComStmtPreparePacket packet, final\n         logicSchema = backendConnection.getLogicSchema();\n     }\n     \n+    private int getColumnsCount(final SQLStatement sqlStatement) {\n+        return (sqlStatement instanceof SelectStatement) ? ((SelectStatement) sqlStatement).getProjections().getProjections().size() : 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d21c5f5466c308d24801b945ee0860ead635109"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73512d275c3dd3951ade8762921c2f828faba6bd", "author": {"user": {"login": "tuohai666", "name": "Zhang Yonglun"}}, "url": "https://github.com/apache/shardingsphere/commit/73512d275c3dd3951ade8762921c2f828faba6bd", "committedDate": "2020-02-24T14:22:32Z", "message": "#4255, for comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNDIzOTAz", "url": "https://github.com/apache/shardingsphere/pull/4444#pullrequestreview-363423903", "createdAt": "2020-02-24T14:23:52Z", "commit": {"oid": "73512d275c3dd3951ade8762921c2f828faba6bd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4123, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}