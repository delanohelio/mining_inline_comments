{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4ODYyMjEw", "number": 4109, "title": "persist SchemaNames for getChildren.", "bodyText": "For #3185 .\nChanges proposed in this pull request:\n\npersist SchemaNames for getChildren.\nupgrade spring-boot version.\nfix server.yaml orchestration content.", "createdAt": "2020-01-30T02:48:53Z", "url": "https://github.com/apache/shardingsphere/pull/4109", "merged": true, "mergeCommit": {"oid": "0cd53ab9a809b251e4fdf86876f0bd6fa59c7ed0"}, "closed": true, "closedAt": "2020-02-02T13:07:41Z", "author": {"login": "dongzl"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_RUwegH2gAyMzY4ODYyMjEwOjNiODU1MjczNzM5YWY0MTU2ZDZkMWNlODZmMWZkYzk0YzViYWNiMmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcAYC0cgFqTM1MTk0MDUxOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3b855273739af4156d6d1ce86f1fdc94c5bacb2e", "author": {"user": {"login": "dongzl", "name": "Zonglei Dong"}}, "url": "https://github.com/apache/shardingsphere/commit/3b855273739af4156d6d1ce86f1fdc94c5bacb2e", "committedDate": "2020-01-30T02:43:13Z", "message": "persist SchemaNames for getChildren.(#3185)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8edf959984403031a933435c2c414dc3c521a0b", "author": {"user": {"login": "dongzl", "name": "Zonglei Dong"}}, "url": "https://github.com/apache/shardingsphere/commit/f8edf959984403031a933435c2c414dc3c521a0b", "committedDate": "2020-01-30T02:43:41Z", "message": "upgrade spring-boot version."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fab3a466d6a6c7e4010d0a8b6c764e3880c96a49", "author": {"user": {"login": "dongzl", "name": "Zonglei Dong"}}, "url": "https://github.com/apache/shardingsphere/commit/fab3a466d6a6c7e4010d0a8b6c764e3880c96a49", "committedDate": "2020-01-30T02:44:40Z", "message": "add Zookeeper as default orchestration center."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00b1bc4df47bb1c78d674324bd6bf181bf11b75c", "author": {"user": {"login": "dongzl", "name": "Zonglei Dong"}}, "url": "https://github.com/apache/shardingsphere/commit/00b1bc4df47bb1c78d674324bd6bf181bf11b75c", "committedDate": "2020-01-30T02:45:26Z", "message": "fix orchestration config content."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71dc2525c99480db2fea4d93d264c6be7af7fda1", "author": {"user": {"login": "dongzl", "name": "Zonglei Dong"}}, "url": "https://github.com/apache/shardingsphere/commit/71dc2525c99480db2fea4d93d264c6be7af7fda1", "committedDate": "2020-01-30T04:54:04Z", "message": "remove unused import."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09ab0f2aa765c93209b90b11825797c555e5bf74", "author": {"user": {"login": "dongzl", "name": "Zonglei Dong"}}, "url": "https://github.com/apache/shardingsphere/commit/09ab0f2aa765c93209b90b11825797c555e5bf74", "committedDate": "2020-01-30T05:51:34Z", "message": "fix parse isOverwrite value bug."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6a5aab23cb918340b53f0b2848475d866ff722f", "author": {"user": {"login": "dongzl", "name": "Zonglei Dong"}}, "url": "https://github.com/apache/shardingsphere/commit/f6a5aab23cb918340b53f0b2848475d866ff722f", "committedDate": "2020-01-30T10:20:06Z", "message": "refactor nacos instance file name as a config center."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1851c620320e6d4b18f91a15053f7f9facf6279c", "author": {"user": {"login": "dongzl", "name": "Zonglei Dong"}}, "url": "https://github.com/apache/shardingsphere/commit/1851c620320e6d4b18f91a15053f7f9facf6279c", "committedDate": "2020-01-30T10:23:03Z", "message": "fix orchestration key listener for ConfigCenter."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1cb9d1066233c954614c8e7500627d4643ff6b3", "author": {"user": {"login": "dongzl", "name": "Zonglei Dong"}}, "url": "https://github.com/apache/shardingsphere/commit/e1cb9d1066233c954614c8e7500627d4643ff6b3", "committedDate": "2020-01-30T10:32:43Z", "message": "add unit test for getAllSchemaConfigPaths method."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "051e032aec6f02344966ac800ad7657fdfd210ef", "author": {"user": {"login": "dongzl", "name": "Zonglei Dong"}}, "url": "https://github.com/apache/shardingsphere/commit/051e032aec6f02344966ac800ad7657fdfd210ef", "committedDate": "2020-01-30T11:01:43Z", "message": "fix unit test error."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036", "author": {"user": {"login": "dongzl", "name": "Zonglei Dong"}}, "url": "https://github.com/apache/shardingsphere/commit/3858d51bf900703706f40b2283f0773fe64dd036", "committedDate": "2020-01-31T00:43:34Z", "message": "remove unused import."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjg1OTQx", "url": "https://github.com/apache/shardingsphere/pull/4109#pullrequestreview-351285941", "createdAt": "2020-01-31T04:18:07Z", "commit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNDoxODowN1rOFkBCwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNDoxODowN1rOFkBCwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMxMDE0NA==", "bodyText": "Why change the version of spring-boot", "url": "https://github.com/apache/shardingsphere/pull/4109#discussion_r373310144", "createdAt": "2020-01-31T04:18:07Z", "author": {"login": "wgy8283335"}, "path": "pom.xml", "diffHunk": "@@ -79,7 +79,7 @@\n         <lombok.version>1.16.4</lombok.version>\n         \n         <springframework.version>[4.3.6.RELEASE,5.0.0.M1)</springframework.version>\n-        <spring-boot.version>[1.5.0.RELEASE,2.0.0.M1)</spring-boot.version>\n+        <spring-boot.version>[1.5.20.RELEASE,2.0.0.M1)</spring-boot.version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjk5Nzgw", "url": "https://github.com/apache/shardingsphere/pull/4109#pullrequestreview-351299780", "createdAt": "2020-01-31T05:30:34Z", "commit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNTozMDozNVrOFkBvSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNTozMDozNVrOFkBvSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMyMTU0Nw==", "bodyText": "Whether should check update in schemas.", "url": "https://github.com/apache/shardingsphere/pull/4109#discussion_r373321547", "createdAt": "2020-01-31T05:30:35Z", "author": {"login": "wgy8283335"}, "path": "sharding-orchestration/sharding-orchestration-center/sharding-orchestration-center-nacos/src/main/java/org/apache/shardingsphere/orchestration/center/instance/NacosConfigInstance.java", "diffHunk": "@@ -108,16 +106,12 @@ private String getDirectly(final String key) {\n      */\n     @Override\n     public void persist(final String key, final String value) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036"}, "originalPosition": 71}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMzAwMjMy", "url": "https://github.com/apache/shardingsphere/pull/4109#pullrequestreview-351300232", "createdAt": "2020-01-31T05:32:44Z", "commit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNTozMjo0NVrOFkBwtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNTozMjo0NVrOFkBwtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMyMTkxMA==", "bodyText": "Why rename nacos as \"NacosConfigInstance\"?  What is the name for zookeeper, as it is used for config center, register center and distributed lock management?", "url": "https://github.com/apache/shardingsphere/pull/4109#discussion_r373321910", "createdAt": "2020-01-31T05:32:45Z", "author": {"login": "wgy8283335"}, "path": "sharding-orchestration/sharding-orchestration-center/sharding-orchestration-center-nacos/src/main/resources/META-INF/services/org.apache.shardingsphere.orchestration.center.api.ConfigCenter", "diffHunk": "@@ -15,4 +15,4 @@\n # limitations under the License.\n #\n \n-org.apache.shardingsphere.orchestration.center.instance.NacosInstance\n+org.apache.shardingsphere.orchestration.center.instance.NacosConfigInstance", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMzAwNDIw", "url": "https://github.com/apache/shardingsphere/pull/4109#pullrequestreview-351300420", "createdAt": "2020-01-31T05:33:41Z", "commit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNTozMzo0MlrOFkBxTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNTozMzo0MlrOFkBxTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMyMjA2Mw==", "bodyText": "NacosInstance or NacosConfigInstance?", "url": "https://github.com/apache/shardingsphere/pull/4109#discussion_r373322063", "createdAt": "2020-01-31T05:33:42Z", "author": {"login": "wgy8283335"}, "path": "sharding-orchestration/sharding-orchestration-center/sharding-orchestration-center-nacos/src/test/java/org/apache/shardingsphere/orchestration/center/instance/NacosConfigInstanceTest.java", "diffHunk": "@@ -41,9 +41,9 @@\n import static org.mockito.Mockito.verify;\n import static org.mockito.Mockito.when;\n \n-public class NacosInstanceTest {\n+public class NacosConfigInstanceTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMzA4Mjk0", "url": "https://github.com/apache/shardingsphere/pull/4109#pullrequestreview-351308294", "createdAt": "2020-01-31T06:09:47Z", "commit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNjowOTo0N1rOFkCKiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNjowOTo0N1rOFkCKiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMyODUyMA==", "bodyText": "Why rename the nacos?", "url": "https://github.com/apache/shardingsphere/pull/4109#discussion_r373328520", "createdAt": "2020-01-31T06:09:47Z", "author": {"login": "wgy8283335"}, "path": "sharding-orchestration/sharding-orchestration-center/sharding-orchestration-center-nacos/src/main/java/org/apache/shardingsphere/orchestration/center/instance/NacosConfigInstance.java", "diffHunk": "@@ -32,14 +30,18 @@\n import org.apache.shardingsphere.orchestration.center.listener.DataChangedEvent;\n import org.apache.shardingsphere.orchestration.center.listener.DataChangedEventListener;\n \n+import java.util.List;\n+import java.util.Properties;\n+import java.util.concurrent.Executor;\n+\n /**\n  * The nacos instance for ConfigCenter.\n  *\n  * @author huangjian\n  * @author sunbufu\n  */\n @Slf4j\n-public class NacosInstance implements ConfigCenter {\n+public class NacosConfigInstance implements ConfigCenter {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODcwNDc5", "url": "https://github.com/apache/shardingsphere/pull/4109#pullrequestreview-351870479", "createdAt": "2020-02-01T07:15:37Z", "commit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQwNzoxNTozN1rOFkcusw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQwNzoxNTozN1rOFkcusw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2Mzc2Mw==", "bodyText": "Instead of using mock, is there any possible solution to start a nacos server and put the value into it?", "url": "https://github.com/apache/shardingsphere/pull/4109#discussion_r373763763", "createdAt": "2020-02-01T07:15:37Z", "author": {"login": "wgy8283335"}, "path": "sharding-orchestration/sharding-orchestration-core/src/test/java/org/apache/shardingsphere/orchestration/internal/registry/config/service/ConfigurationServiceTest.java", "diffHunk": "@@ -374,7 +373,7 @@ public void assertLoadProperties() {\n     \n     @Test\n     public void assertGetAllShardingSchemaNames() {\n-        when(regCenter.getChildrenKeys(\"/test/config/schema\")).thenReturn(Arrays.asList(\"sharding_db\", \"masterslave_db\"));\n+        when(regCenter.get(\"/test/config/schema\")).thenReturn(\"sharding_db,masterslave_db\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODcwNTQy", "url": "https://github.com/apache/shardingsphere/pull/4109#pullrequestreview-351870542", "createdAt": "2020-02-01T07:17:40Z", "commit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTQwNTE4", "url": "https://github.com/apache/shardingsphere/pull/4109#pullrequestreview-351940518", "createdAt": "2020-02-02T13:06:53Z", "commit": {"oid": "3858d51bf900703706f40b2283f0773fe64dd036"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4169, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}