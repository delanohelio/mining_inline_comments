{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyNDY4Njk4", "number": 7340, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwNjowMzo0NFrOEhhMaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwNjowNjoxNlrOEhhOnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNTgyMzEyOnYy", "diffSide": "RIGHT", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-mysql/src/main/java/org/apache/shardingsphere/sql/parser/mysql/visitor/impl/MySQLDDLVisitor.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwNjowMzo0NFrOHO35sQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwOToyNjozMlrOHO-zeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM1ODAwMQ==", "bodyText": "Do you think null != ctx.notExistClause_() is enough?", "url": "https://github.com/apache/shardingsphere/pull/7340#discussion_r485358001", "createdAt": "2020-09-09T06:03:44Z", "author": {"login": "tristaZero"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-mysql/src/main/java/org/apache/shardingsphere/sql/parser/mysql/visitor/impl/MySQLDDLVisitor.java", "diffHunk": "@@ -166,7 +166,7 @@ public ASTNode visitRenameTableSpecification(final RenameTableSpecificationConte\n     @SuppressWarnings(\"unchecked\")\n     @Override\n     public ASTNode visitCreateTable(final CreateTableContext ctx) {\n-        CreateTableStatement result = new CreateTableStatement((SimpleTableSegment) visit(ctx.tableName()));\n+        CreateTableStatement result = new CreateTableStatement((SimpleTableSegment) visit(ctx.tableName()), null != ctx.notExistClause_().EXISTS());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f38ade6046c033e427790f31f349b94268473b76"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM2MTE3Nw==", "bodyText": "No,  it will return an Empty notExistClause*Context, it's EXISTS() method will return null", "url": "https://github.com/apache/shardingsphere/pull/7340#discussion_r485361177", "createdAt": "2020-09-09T06:12:19Z", "author": {"login": "xbkaishui"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-mysql/src/main/java/org/apache/shardingsphere/sql/parser/mysql/visitor/impl/MySQLDDLVisitor.java", "diffHunk": "@@ -166,7 +166,7 @@ public ASTNode visitRenameTableSpecification(final RenameTableSpecificationConte\n     @SuppressWarnings(\"unchecked\")\n     @Override\n     public ASTNode visitCreateTable(final CreateTableContext ctx) {\n-        CreateTableStatement result = new CreateTableStatement((SimpleTableSegment) visit(ctx.tableName()));\n+        CreateTableStatement result = new CreateTableStatement((SimpleTableSegment) visit(ctx.tableName()), null != ctx.notExistClause_().EXISTS());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM1ODAwMQ=="}, "originalCommit": {"oid": "f38ade6046c033e427790f31f349b94268473b76"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQ1MDc1OA==", "bodyText": "Have you ever gave it a try? Since the following null != ctx.createDefinitionClause() uses the same method. Is there any difference?", "url": "https://github.com/apache/shardingsphere/pull/7340#discussion_r485450758", "createdAt": "2020-09-09T08:56:19Z", "author": {"login": "tristaZero"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-mysql/src/main/java/org/apache/shardingsphere/sql/parser/mysql/visitor/impl/MySQLDDLVisitor.java", "diffHunk": "@@ -166,7 +166,7 @@ public ASTNode visitRenameTableSpecification(final RenameTableSpecificationConte\n     @SuppressWarnings(\"unchecked\")\n     @Override\n     public ASTNode visitCreateTable(final CreateTableContext ctx) {\n-        CreateTableStatement result = new CreateTableStatement((SimpleTableSegment) visit(ctx.tableName()));\n+        CreateTableStatement result = new CreateTableStatement((SimpleTableSegment) visit(ctx.tableName()), null != ctx.notExistClause_().EXISTS());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM1ODAwMQ=="}, "originalCommit": {"oid": "f38ade6046c033e427790f31f349b94268473b76"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQ3MTA5Nw==", "bodyText": "Yes, I tested and debug it in my local env.", "url": "https://github.com/apache/shardingsphere/pull/7340#discussion_r485471097", "createdAt": "2020-09-09T09:26:32Z", "author": {"login": "xbkaishui"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-mysql/src/main/java/org/apache/shardingsphere/sql/parser/mysql/visitor/impl/MySQLDDLVisitor.java", "diffHunk": "@@ -166,7 +166,7 @@ public ASTNode visitRenameTableSpecification(final RenameTableSpecificationConte\n     @SuppressWarnings(\"unchecked\")\n     @Override\n     public ASTNode visitCreateTable(final CreateTableContext ctx) {\n-        CreateTableStatement result = new CreateTableStatement((SimpleTableSegment) visit(ctx.tableName()));\n+        CreateTableStatement result = new CreateTableStatement((SimpleTableSegment) visit(ctx.tableName()), null != ctx.notExistClause_().EXISTS());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM1ODAwMQ=="}, "originalCommit": {"oid": "f38ade6046c033e427790f31f349b94268473b76"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNTgyODc3OnYy", "diffSide": "RIGHT", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-postgresql/src/main/java/org/apache/shardingsphere/sql/parser/postgresql/visitor/impl/PostgreSQLDDLVisitor.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwNjowNjoxNlrOHO39EQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwNjo0OTo0NVrOHO5EWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM1ODg2NQ==", "bodyText": "PostgreSQL has the similar SQL as well.", "url": "https://github.com/apache/shardingsphere/pull/7340#discussion_r485358865", "createdAt": "2020-09-09T06:06:16Z", "author": {"login": "tristaZero"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-postgresql/src/main/java/org/apache/shardingsphere/sql/parser/postgresql/visitor/impl/PostgreSQLDDLVisitor.java", "diffHunk": "@@ -96,7 +96,7 @@\n     @SuppressWarnings(\"unchecked\")\n     @Override\n     public ASTNode visitCreateTable(final CreateTableContext ctx) {\n-        CreateTableStatement result = new CreateTableStatement((SimpleTableSegment) visit(ctx.tableName()));\n+        CreateTableStatement result = new CreateTableStatement((SimpleTableSegment) visit(ctx.tableName()), false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f38ade6046c033e427790f31f349b94268473b76"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM2MzAxOQ==", "bodyText": "ok will check", "url": "https://github.com/apache/shardingsphere/pull/7340#discussion_r485363019", "createdAt": "2020-09-09T06:17:32Z", "author": {"login": "xbkaishui"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-postgresql/src/main/java/org/apache/shardingsphere/sql/parser/postgresql/visitor/impl/PostgreSQLDDLVisitor.java", "diffHunk": "@@ -96,7 +96,7 @@\n     @SuppressWarnings(\"unchecked\")\n     @Override\n     public ASTNode visitCreateTable(final CreateTableContext ctx) {\n-        CreateTableStatement result = new CreateTableStatement((SimpleTableSegment) visit(ctx.tableName()));\n+        CreateTableStatement result = new CreateTableStatement((SimpleTableSegment) visit(ctx.tableName()), false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM1ODg2NQ=="}, "originalCommit": {"oid": "f38ade6046c033e427790f31f349b94268473b76"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM3NzExMw==", "bodyText": "done", "url": "https://github.com/apache/shardingsphere/pull/7340#discussion_r485377113", "createdAt": "2020-09-09T06:49:45Z", "author": {"login": "xbkaishui"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-postgresql/src/main/java/org/apache/shardingsphere/sql/parser/postgresql/visitor/impl/PostgreSQLDDLVisitor.java", "diffHunk": "@@ -96,7 +96,7 @@\n     @SuppressWarnings(\"unchecked\")\n     @Override\n     public ASTNode visitCreateTable(final CreateTableContext ctx) {\n-        CreateTableStatement result = new CreateTableStatement((SimpleTableSegment) visit(ctx.tableName()));\n+        CreateTableStatement result = new CreateTableStatement((SimpleTableSegment) visit(ctx.tableName()), false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM1ODg2NQ=="}, "originalCommit": {"oid": "f38ade6046c033e427790f31f349b94268473b76"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 730, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}