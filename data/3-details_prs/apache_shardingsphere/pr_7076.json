{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczNjUzMjM2", "number": 7076, "title": "Fix PostgreSQL authentication NullPointerException", "bodyText": "Changes proposed in this pull request:\n\nFix PostgreSQL authentication NullPointerException (currentAuthResult not assigned)", "createdAt": "2020-08-26T05:21:30Z", "url": "https://github.com/apache/shardingsphere/pull/7076", "merged": true, "mergeCommit": {"oid": "48237c83fefe02562083f66963f88b20297522e1"}, "closed": true, "closedAt": "2020-08-28T07:46:15Z", "author": {"login": "sandynz"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCkzSQgH2gAyNDczNjUzMjM2OmEzZmM4Y2IyOTM0YTM1OWRkY2U2OTRmOTg4MDYxNDQ0NTNjOTU3NjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdDQH3kgFqTQ3NzQyNTUwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a3fc8cb2934a359ddce694f98806144453c95765", "author": {"user": {"login": "sandynz", "name": "Hongsheng Zhong"}}, "url": "https://github.com/apache/shardingsphere/commit/a3fc8cb2934a359ddce694f98806144453c95765", "committedDate": "2020-08-26T05:17:41Z", "message": "Fix PostgreSQL authentication NPE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a755806c5ef75a237219da22207f0539d2255477", "author": {"user": {"login": "sandynz", "name": "Hongsheng Zhong"}}, "url": "https://github.com/apache/shardingsphere/commit/a755806c5ef75a237219da22207f0539d2255477", "committedDate": "2020-08-27T00:38:41Z", "message": "Add PostgreSQL unit test cases"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MjE4Mzg1", "url": "https://github.com/apache/shardingsphere/pull/7076#pullrequestreview-477218385", "createdAt": "2020-08-28T03:32:45Z", "commit": {"oid": "a755806c5ef75a237219da22207f0539d2255477"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzozMjo0NVrOHIoUtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzozMzo0NVrOHIoVsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgxMTMxOQ==", "bodyText": "Can remove currentAuthResult?", "url": "https://github.com/apache/shardingsphere/pull/7076#discussion_r478811319", "createdAt": "2020-08-28T03:32:45Z", "author": {"login": "tuohai666"}, "path": "shardingsphere-proxy/shardingsphere-proxy-frontend/shardingsphere-proxy-frontend-postgresql/src/main/java/org/apache/shardingsphere/proxy/frontend/postgresql/auth/PostgreSQLAuthenticationEngine.java", "diffHunk": "@@ -91,7 +91,8 @@ public AuthenticationResult auth(final ChannelHandlerContext context, final Pack\n             }\n             md5Salt = PostgreSQLRandomGenerator.getInstance().generateRandomBytes(4);\n             context.writeAndFlush(new PostgreSQLAuthenticationMD5PasswordPacket(md5Salt));\n-            return AuthenticationResult.continued(username, databaseName);\n+            currentAuthResult = AuthenticationResult.continued(username, databaseName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a755806c5ef75a237219da22207f0539d2255477"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgxMTU2OA==", "bodyText": "Where this member be called?", "url": "https://github.com/apache/shardingsphere/pull/7076#discussion_r478811568", "createdAt": "2020-08-28T03:33:45Z", "author": {"login": "tuohai666"}, "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/main/java/org/apache/shardingsphere/db/protocol/postgresql/packet/handshake/PostgreSQLAuthenticationMD5PasswordPacket.java", "diffHunk": "@@ -29,6 +29,7 @@\n     \n     private static final int AUTH_REQ_MD5 = 5;\n     \n+    @Getter", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a755806c5ef75a237219da22207f0539d2255477"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MjI3MDcx", "url": "https://github.com/apache/shardingsphere/pull/7076#pullrequestreview-477227071", "createdAt": "2020-08-28T04:06:49Z", "commit": {"oid": "a755806c5ef75a237219da22207f0539d2255477"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNDowNjo0OVrOHIozLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNDowNjo0OVrOHIozLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgxOTExOQ==", "bodyText": "why remove private?", "url": "https://github.com/apache/shardingsphere/pull/7076#discussion_r478819119", "createdAt": "2020-08-28T04:06:49Z", "author": {"login": "tuohai666"}, "path": "shardingsphere-proxy/shardingsphere-proxy-frontend/shardingsphere-proxy-frontend-postgresql/src/main/java/org/apache/shardingsphere/proxy/frontend/postgresql/auth/PostgreSQLAuthenticationHandler.java", "diffHunk": "@@ -66,7 +66,7 @@ public static PostgreSQLLoginResult loginWithMd5Password(final String username,\n         return new PostgreSQLLoginResult(PostgreSQLErrorCode.SUCCESSFUL_COMPLETION, null);\n     }\n     \n-    private static String md5Encode(final String username, final String password, final byte[] md5Salt) {\n+    static String md5Encode(final String username, final String password, final byte[] md5Salt) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a755806c5ef75a237219da22207f0539d2255477"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83a32f5c2f5738c7181c69b544b5ff9ea8ad1f03", "author": {"user": {"login": "sandynz", "name": "Hongsheng Zhong"}}, "url": "https://github.com/apache/shardingsphere/commit/83a32f5c2f5738c7181c69b544b5ff9ea8ad1f03", "committedDate": "2020-08-28T05:41:03Z", "message": "Add PostgreSQL unit test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "818a77e6a229646f765e8d7e79561641f60b3ac3", "author": {"user": {"login": "sandynz", "name": "Hongsheng Zhong"}}, "url": "https://github.com/apache/shardingsphere/commit/818a77e6a229646f765e8d7e79561641f60b3ac3", "committedDate": "2020-08-28T06:38:32Z", "message": "Merge remote-tracking branch 'apache/master' into pg-auth-npe"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87de00ad1e3256bbbec60f61cba50fe5a1b8a115", "author": {"user": {"login": "sandynz", "name": "Hongsheng Zhong"}}, "url": "https://github.com/apache/shardingsphere/commit/87de00ad1e3256bbbec60f61cba50fe5a1b8a115", "committedDate": "2020-08-28T06:42:54Z", "message": "Update import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3NDI1NTAy", "url": "https://github.com/apache/shardingsphere/pull/7076#pullrequestreview-477425502", "createdAt": "2020-08-28T07:46:05Z", "commit": {"oid": "87de00ad1e3256bbbec60f61cba50fe5a1b8a115"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4721, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}