{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1OTgwMDI0", "number": 5241, "title": "fix for test of subquerytable", "bodyText": "Ref #4887.\nChanges proposed in this pull request:\n\nfix for test of subquerytable", "createdAt": "2020-04-20T10:40:25Z", "url": "https://github.com/apache/shardingsphere/pull/5241", "merged": true, "mergeCommit": {"oid": "9372c8e1256af5de9d2c23737ddf26e23c074d6f"}, "closed": true, "closedAt": "2020-04-21T10:55:54Z", "author": {"login": "jingshanglu"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZZA2wgH2gAyNDA1OTgwMDI0OjQyZGU0NWQ3NTA3ZTg4N2UzNDNjZGI4MDM0MzY1MzY3NWM1MDcwYmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZxhBEAFqTM5NzIxNjUzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "42de45d7507e887e343cdb80343653675c5070ba", "author": {"user": {"login": "jingshanglu", "name": "JingShang Lu"}}, "url": "https://github.com/apache/shardingsphere/commit/42de45d7507e887e343cdb80343653675c5070ba", "committedDate": "2020-04-20T06:22:45Z", "message": "fix for test of subquerytable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a5319f26a0913cb9935e991c1a62fcd7cf03dc4", "author": {"user": {"login": "jingshanglu", "name": "JingShang Lu"}}, "url": "https://github.com/apache/shardingsphere/commit/7a5319f26a0913cb9935e991c1a62fcd7cf03dc4", "committedDate": "2020-04-20T06:55:30Z", "message": "delete some comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MDA3ODU5", "url": "https://github.com/apache/shardingsphere/pull/5241#pullrequestreview-397007859", "createdAt": "2020-04-21T05:58:06Z", "commit": {"oid": "7a5319f26a0913cb9935e991c1a62fcd7cf03dc4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNTo1ODowNlrOGIz2xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNTo1ODo1NFrOGIz4Sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTg5MTM5OQ==", "bodyText": "Is it possible to use SubqueryContext instead of OracleStatementParser.SubqueryContext", "url": "https://github.com/apache/shardingsphere/pull/5241#discussion_r411891399", "createdAt": "2020-04-21T05:58:06Z", "author": {"login": "tristaZero"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-oracle/src/main/java/org/apache/shardingsphere/sql/parser/oracle/visitor/impl/OracleDMLVisitor.java", "diffHunk": "@@ -474,4 +474,9 @@ public ASTNode visitGroupByClause(final GroupByClauseContext ctx) {\n         }\n         return new GroupBySegment(ctx.getStart().getStartIndex(), ctx.getStop().getStopIndex(), items);\n     }\n+    \n+    @Override\n+    public ASTNode visitSubquery(final OracleStatementParser.SubqueryContext ctx) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a5319f26a0913cb9935e991c1a62fcd7cf03dc4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTg5MTc4Nw==", "bodyText": "Do you think SQL92DMLVisitor need this function as well?", "url": "https://github.com/apache/shardingsphere/pull/5241#discussion_r411891787", "createdAt": "2020-04-21T05:58:54Z", "author": {"login": "tristaZero"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-sqlserver/src/main/java/org/apache/shardingsphere/sql/parser/sqlserver/visitor/impl/SQLServerDMLVisitor.java", "diffHunk": "@@ -469,4 +469,9 @@ public ASTNode visitGroupByClause(final GroupByClauseContext ctx) {\n         }\n         return new GroupBySegment(ctx.getStart().getStartIndex(), ctx.getStop().getStopIndex(), items);\n     }\n+    \n+    @Override\n+    public ASTNode visitSubquery(final SQLServerStatementParser.SubqueryContext ctx) {\n+        return visit(ctx.unionClause());\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a5319f26a0913cb9935e991c1a62fcd7cf03dc4"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09523c9b05de370b91406e4e1811787a6f8e3b3a", "author": {"user": {"login": "jingshanglu", "name": "JingShang Lu"}}, "url": "https://github.com/apache/shardingsphere/commit/09523c9b05de370b91406e4e1811787a6f8e3b3a", "committedDate": "2020-04-21T06:11:00Z", "message": "fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MDkzMDIx", "url": "https://github.com/apache/shardingsphere/pull/5241#pullrequestreview-397093021", "createdAt": "2020-04-21T08:15:32Z", "commit": {"oid": "09523c9b05de370b91406e4e1811787a6f8e3b3a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwODoxNTozMlrOGI4ykA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwODoxNzoxOVrOGI43jQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk3MjI0MA==", "bodyText": "ColumnNameContext cname :ctx.columnNames().columnName()\ncname ---> each\nA blank space is needed in front of ctx.columnNames().columnName()", "url": "https://github.com/apache/shardingsphere/pull/5241#discussion_r411972240", "createdAt": "2020-04-21T08:15:32Z", "author": {"login": "tristaZero"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-oracle/src/main/java/org/apache/shardingsphere/sql/parser/oracle/visitor/impl/OracleDMLVisitor.java", "diffHunk": "@@ -444,7 +445,7 @@ public ASTNode visitJoinSpecification(final JoinSpecificationContext ctx) {\n         }\n         if (null != ctx.USING()) {\n             Collection<ColumnSegment> columnSegmentList = new LinkedList<>();\n-            for (OracleStatementParser.ColumnNameContext cname :ctx.columnNames().columnName()) {\n+            for (ColumnNameContext cname :ctx.columnNames().columnName()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09523c9b05de370b91406e4e1811787a6f8e3b3a"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk3MjgxNg==", "bodyText": "final PostgreSQLStatementParser.SubqueryContext ctx --->final SubqueryContext ctx", "url": "https://github.com/apache/shardingsphere/pull/5241#discussion_r411972816", "createdAt": "2020-04-21T08:16:18Z", "author": {"login": "tristaZero"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-postgresql/src/main/java/org/apache/shardingsphere/sql/parser/postgresql/visitor/impl/PostgreSQLDMLVisitor.java", "diffHunk": "@@ -529,4 +529,9 @@ public ASTNode visitLimitOffset(final LimitOffsetContext ctx) {\n         }\n         return new ParameterMarkerLimitValueSegment(ctx.getStart().getStartIndex(), ctx.getStop().getStopIndex(), ((ParameterMarkerValue) visit(ctx.parameterMarker())).getValue());\n     }\n+    \n+    @Override\n+    public ASTNode visitSubquery(final PostgreSQLStatementParser.SubqueryContext ctx) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09523c9b05de370b91406e4e1811787a6f8e3b3a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk3MzEwNw==", "bodyText": "Please check style.", "url": "https://github.com/apache/shardingsphere/pull/5241#discussion_r411973107", "createdAt": "2020-04-21T08:16:44Z", "author": {"login": "tristaZero"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-sql92/src/main/java/org/apache/shardingsphere/sql/parser/sql92/visitor/impl/SQL92DMLVisitor.java", "diffHunk": "@@ -413,7 +414,7 @@ public ASTNode visitJoinSpecification(final JoinSpecificationContext ctx) {\n         }\n         if (null != ctx.USING()) {\n             Collection<ColumnSegment> columnSegmentList = new LinkedList<>();\n-            for (SQL92StatementParser.ColumnNameContext cname :ctx.columnNames().columnName()) {\n+            for (ColumnNameContext cname :ctx.columnNames().columnName()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09523c9b05de370b91406e4e1811787a6f8e3b3a"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk3MzUxNw==", "bodyText": "final SQLServerStatementParser.SubqueryContext ctx", "url": "https://github.com/apache/shardingsphere/pull/5241#discussion_r411973517", "createdAt": "2020-04-21T08:17:19Z", "author": {"login": "tristaZero"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-dialect/shardingsphere-sql-parser-sqlserver/src/main/java/org/apache/shardingsphere/sql/parser/sqlserver/visitor/impl/SQLServerDMLVisitor.java", "diffHunk": "@@ -469,4 +469,9 @@ public ASTNode visitGroupByClause(final GroupByClauseContext ctx) {\n         }\n         return new GroupBySegment(ctx.getStart().getStartIndex(), ctx.getStop().getStopIndex(), items);\n     }\n+    \n+    @Override\n+    public ASTNode visitSubquery(final SQLServerStatementParser.SubqueryContext ctx) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09523c9b05de370b91406e4e1811787a6f8e3b3a"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cfd7b61dc878732fa19daa77193520a9dcad8f35", "author": {"user": {"login": "jingshanglu", "name": "JingShang Lu"}}, "url": "https://github.com/apache/shardingsphere/commit/cfd7b61dc878732fa19daa77193520a9dcad8f35", "committedDate": "2020-04-21T08:29:17Z", "message": "fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MjE2NTM2", "url": "https://github.com/apache/shardingsphere/pull/5241#pullrequestreview-397216536", "createdAt": "2020-04-21T10:55:36Z", "commit": {"oid": "cfd7b61dc878732fa19daa77193520a9dcad8f35"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3661, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}