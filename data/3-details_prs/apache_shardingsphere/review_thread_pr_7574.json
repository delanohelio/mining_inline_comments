{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxNTI1OTk2", "number": 7574, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODoxMTowMVrOEmbTmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODo1NDoxNlrOEmc32w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NzI4NzI4OnYy", "diffSide": "RIGHT", "path": "shardingsphere-governance/shardingsphere-governance-core/shardingsphere-governance-core-config/src/test/resources/yaml/metadata.yaml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODoxMTowMVrOHWcDhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwOTozNjo0MlrOHWhMjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzI5MDM3Mw==", "bodyText": "Please add a blank line under this line.", "url": "https://github.com/apache/shardingsphere/pull/7574#discussion_r493290373", "createdAt": "2020-09-23T08:11:01Z", "author": {"login": "tristaZero"}, "path": "shardingsphere-governance/shardingsphere-governance-core/shardingsphere-governance-core-config/src/test/resources/yaml/metadata.yaml", "diffHunk": "@@ -30,15 +30,4 @@ configuredSchemaMetaData:\n             name: PRIMARY          \n unconfiguredSchemaMetaDataMap:\n   ds_0:\n-    tables:\n-      t_user:\n-        columns:\n-          id:\n-            caseSensitive: false\n-            dataType: 0\n-            generated: false\n-            name: id\n-            primaryKey: true\n-        indexes:\n-          primary:\n-            name: PRIMARY\n+    - t_user", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dccb7e49142cf85dbe1cdc4655c397a8604e58fd"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzM3NDYwNw==", "bodyText": "done", "url": "https://github.com/apache/shardingsphere/pull/7574#discussion_r493374607", "createdAt": "2020-09-23T09:36:42Z", "author": {"login": "xbkaishui"}, "path": "shardingsphere-governance/shardingsphere-governance-core/shardingsphere-governance-core-config/src/test/resources/yaml/metadata.yaml", "diffHunk": "@@ -30,15 +30,4 @@ configuredSchemaMetaData:\n             name: PRIMARY          \n unconfiguredSchemaMetaDataMap:\n   ds_0:\n-    tables:\n-      t_user:\n-        columns:\n-          id:\n-            caseSensitive: false\n-            dataType: 0\n-            generated: false\n-            name: id\n-            primaryKey: true\n-        indexes:\n-          primary:\n-            name: PRIMARY\n+    - t_user", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzI5MDM3Mw=="}, "originalCommit": {"oid": "dccb7e49142cf85dbe1cdc4655c397a8604e58fd"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NzU0Mzk1OnYy", "diffSide": "RIGHT", "path": "shardingsphere-governance/shardingsphere-governance-core/shardingsphere-governance-core-common/src/main/java/org/apache/shardingsphere/governance/core/yaml/config/metadata/YamlRuleSchemaMetaData.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODo1NDoxNlrOHWepPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwOTozNjo0OFrOHWhM9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMzMjc5Nw==", "bodyText": "This PR looks great. However, I found another issue relevant to what you modified.\n// CreateTableStatementMetaDataRefreshStrategy\n\nprivate void refreshUnconfiguredMetaData(final ShardingSphereMetaData metaData, \n                                             final DatabaseType databaseType, final Map<String, DataSource> dataSourceMap, final String tableName) throws SQLException {\n        for (Entry<String, DataSource> entry : dataSourceMap.entrySet()) {\n            Optional<TableMetaData> tableMetaData = TableMetaDataLoader.loadWithoutColumnMetaData(entry.getValue(), tableName, databaseType.getName());\n            if (tableMetaData.isPresent()) {\n                refreshUnconfiguredMetaData(metaData, tableName, entry.getKey());\n                return;\n            }\n        }\n    }\n\nloadWithoutColumnMetaData is supposed to be simplified, IMO. What do you think?", "url": "https://github.com/apache/shardingsphere/pull/7574#discussion_r493332797", "createdAt": "2020-09-23T08:54:16Z", "author": {"login": "tristaZero"}, "path": "shardingsphere-governance/shardingsphere-governance-core/shardingsphere-governance-core-common/src/main/java/org/apache/shardingsphere/governance/core/yaml/config/metadata/YamlRuleSchemaMetaData.java", "diffHunk": "@@ -32,5 +33,5 @@\n \n     private YamlSchemaMetaData configuredSchemaMetaData;\n \n-    private Map<String, YamlSchemaMetaData> unconfiguredSchemaMetaDataMap;\n+    private Map<String, Collection<String>> unconfiguredSchemaMetaDataMap;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dccb7e49142cf85dbe1cdc4655c397a8604e58fd"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzM3NDcxMQ==", "bodyText": "done", "url": "https://github.com/apache/shardingsphere/pull/7574#discussion_r493374711", "createdAt": "2020-09-23T09:36:48Z", "author": {"login": "xbkaishui"}, "path": "shardingsphere-governance/shardingsphere-governance-core/shardingsphere-governance-core-common/src/main/java/org/apache/shardingsphere/governance/core/yaml/config/metadata/YamlRuleSchemaMetaData.java", "diffHunk": "@@ -32,5 +33,5 @@\n \n     private YamlSchemaMetaData configuredSchemaMetaData;\n \n-    private Map<String, YamlSchemaMetaData> unconfiguredSchemaMetaDataMap;\n+    private Map<String, Collection<String>> unconfiguredSchemaMetaDataMap;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMzMjc5Nw=="}, "originalCommit": {"oid": "dccb7e49142cf85dbe1cdc4655c397a8604e58fd"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 667, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}