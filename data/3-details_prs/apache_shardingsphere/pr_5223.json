{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1MTM2MDYx", "number": 5223, "title": "provide SPI spring namespace configuration for sharding algorithms", "bodyText": "Fixes #5196 .\nChanges proposed in this pull request:\n\nprovide SPI spring namespace configuration for sharding algorithms", "createdAt": "2020-04-17T13:34:53Z", "url": "https://github.com/apache/shardingsphere/pull/5223", "merged": true, "mergeCommit": {"oid": "dbf627ef62fc4ceadb0f82365b692f5fea71288f"}, "closed": true, "closedAt": "2020-04-19T12:37:17Z", "author": {"login": "strongduanmu"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYhDSDgH2gAyNDA1MTM2MDYxOjQyYjBlMjNiNWFmNDk3YzhlNzU2Y2RhY2MwYjc5YzQxN2NlY2JjYzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZJxAqAFqTM5NjAxMjI0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "42b0e23b5af497c8e756cdacc0b79c417cecbcc1", "author": {"user": {"login": "strongduanmu", "name": "Zhengqiang Duan"}}, "url": "https://github.com/apache/shardingsphere/commit/42b0e23b5af497c8e756cdacc0b79c417cecbcc1", "committedDate": "2020-04-17T13:10:43Z", "message": "provide SPI spring namespace configuration for all the sharding algorithms"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1ODc0ODA0", "url": "https://github.com/apache/shardingsphere/pull/5223#pullrequestreview-395874804", "createdAt": "2020-04-18T02:54:47Z", "commit": {"oid": "42b0e23b5af497c8e756cdacc0b79c417cecbcc1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1ODc0OTQ0", "url": "https://github.com/apache/shardingsphere/pull/5223#pullrequestreview-395874944", "createdAt": "2020-04-18T02:56:47Z", "commit": {"oid": "42b0e23b5af497c8e756cdacc0b79c417cecbcc1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOFQwMjo1Njo0N1rOGHjkbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOFQwMjo1Njo0N1rOGHjkbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDU3NTk4Mg==", "bodyText": "complex is not a proper type name, so could rename it in defaultComplexKeysShardingAlgorithm  as COMPLEX_TEST.", "url": "https://github.com/apache/shardingsphere/pull/5223#discussion_r410575982", "createdAt": "2020-04-18T02:56:47Z", "author": {"login": "tristaZero"}, "path": "sharding-spring/sharding-jdbc-orchestration-spring/sharding-jdbc-orchestration-spring-namespace/src/test/resources/META-INF/rdb/namespace/shardingMasterSlaveNamespace.xml", "diffHunk": "@@ -32,12 +32,12 @@\n                         \">\n \n     <import resource=\"../datasource/masterSlaveDataSource.xml\" />\n-    \n-    <bean id=\"standardModuloDatabaseShardingAlgorithm\" class=\"org.apache.shardingsphere.shardingjdbc.orchestration.spring.algorithm.StandardModuloDatabaseShardingAlgorithm\" />\n-    <bean id=\"standardModuloTableShardingAlgorithm\" class=\"org.apache.shardingsphere.shardingjdbc.orchestration.spring.algorithm.StandardModuloTableShardingAlgorithm\" />\n-    <bean id=\"defaultComplexKeysShardingAlgorithm\" class=\"org.apache.shardingsphere.shardingjdbc.orchestration.spring.algorithm.DefaultComplexKeysShardingAlgorithm\" />\n-    <bean id=\"defaultHintShardingAlgorithm\" class=\"org.apache.shardingsphere.shardingjdbc.orchestration.spring.algorithm.DefaultHintShardingAlgorithm\" />\n-   \n+\n+    <spi:sharding-algorithm id=\"standardModuloDatabaseShardingAlgorithm\" type=\"STANDARD_TEST_DB\"/>\n+    <spi:sharding-algorithm id=\"standardModuloTableShardingAlgorithm\" type=\"STANDARD_TEST_TBL\"/>\n+    <spi:sharding-algorithm id=\"defaultComplexKeysShardingAlgorithm\" type=\"complex\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42b0e23b5af497c8e756cdacc0b79c417cecbcc1"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c5c723af33fea0fd4adef6eec8da76a965218f4", "author": {"user": {"login": "strongduanmu", "name": "Zhengqiang Duan"}}, "url": "https://github.com/apache/shardingsphere/commit/2c5c723af33fea0fd4adef6eec8da76a965218f4", "committedDate": "2020-04-18T03:27:44Z", "message": "rename type name in DefaultComplexKeysShardingAlgorithm.java to COMPLEX_TEST"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MDEyMjQ2", "url": "https://github.com/apache/shardingsphere/pull/5223#pullrequestreview-396012246", "createdAt": "2020-04-19T12:36:52Z", "commit": {"oid": "2c5c723af33fea0fd4adef6eec8da76a965218f4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3656, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}