{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0NzY0Nzkw", "number": 8740, "title": "Add condition expression assertion for ExpectedJoinTable.", "bodyText": "Fixes #7880.\nChanges in this pull request:\n\nAdd condition and columns assertions for ExpectedJoinTable.\nAdjust the old test case, replace joinSpecification with condition or columns in join-table.\nDelete unused expected jaxb classes(such as ExpectedJoinSpecification.java, ExpectedAndPredicate.java).\nMove ExpectedWhereClause.java from impl.predicate to impl.where.", "createdAt": "2020-12-23T13:00:24Z", "url": "https://github.com/apache/shardingsphere/pull/8740", "merged": true, "mergeCommit": {"oid": "f8c404470939bb1e7cfb8513467106d0f9192a7b"}, "closed": true, "closedAt": "2020-12-25T12:24:56Z", "author": {"login": "lwtdev"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdo-gslAH2gAyNTQ0NzY0NzkwOmQyOWFkZThjMWZjZDQ5MjIzMGNiM2ViOTY5YzlmMmQyOWZmMTcxZGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdpnbtxAFqTU1ODgxMTY4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d29ade8c1fcd492230cb3eb969c9f2d29ff171da", "author": {"user": {"login": "lwtdev", "name": "Albert Li"}}, "url": "https://github.com/apache/shardingsphere/commit/d29ade8c1fcd492230cb3eb969c9f2d29ff171da", "committedDate": "2020-12-23T12:44:02Z", "message": "Add condition expression assertion for `ExpectedJoinTable` #7880.\n  * Add `condition` and `columns` assertions for `ExpectedJoinTable`.\n  * Adjust the old test case, replace joinSpecification with condition or columns in `join-table`.\n  * Delete unused expected jaxb classes(such as `ExpectedJoinSpecification.java`, `ExpectedAndPredicate.java`).\n  * Rename `impl.expr` to `impl.expression`.\n  * Move `ExpectedWhereClause.java` from `impl.predicate` to `impl.where`."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3OTQzOTMx", "url": "https://github.com/apache/shardingsphere/pull/8740#pullrequestreview-557943931", "createdAt": "2020-12-23T15:10:47Z", "commit": {"oid": "d29ade8c1fcd492230cb3eb969c9f2d29ff171da"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "772c42d329378996f502051f58d61696a8cf83d5", "author": {"user": {"login": "lwtdev", "name": "Albert Li"}}, "url": "https://github.com/apache/shardingsphere/commit/772c42d329378996f502051f58d61696a8cf83d5", "committedDate": "2020-12-24T04:38:05Z", "message": "Revert rename for `impl.expr`.\nRename `asserts.segment.expression` to `asserts.segment.expr`."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d84a78c8af147db2d1d3c04a6053663000660acd", "author": {"user": {"login": "lwtdev", "name": "Albert Li"}}, "url": "https://github.com/apache/shardingsphere/commit/d84a78c8af147db2d1d3c04a6053663000660acd", "committedDate": "2020-12-24T07:17:13Z", "message": "revert for rename `asserts.segment.expression`."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4NzM1NzQ3", "url": "https://github.com/apache/shardingsphere/pull/8740#pullrequestreview-558735747", "createdAt": "2020-12-25T02:06:45Z", "commit": {"oid": "d84a78c8af147db2d1d3c04a6053663000660acd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQwMjowNjo0NVrOILWzhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQwMjowNjo0NVrOILWzhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc3ODg4NQ==", "bodyText": "@lwtdev Maybe it is better to rename columns to using-columns.", "url": "https://github.com/apache/shardingsphere/pull/8740#discussion_r548778885", "createdAt": "2020-12-25T02:06:45Z", "author": {"login": "jingshanglu"}, "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/java/org/apache/shardingsphere/test/sql/parser/parameterized/jaxb/cases/domain/segment/impl/table/ExpectedJoinTable.java", "diffHunk": "@@ -20,23 +20,29 @@\n import lombok.Getter;\n import lombok.Setter;\n import org.apache.shardingsphere.test.sql.parser.parameterized.jaxb.cases.domain.segment.AbstractExpectedDelimiterSQLSegment;\n-import org.apache.shardingsphere.test.sql.parser.parameterized.jaxb.cases.domain.segment.impl.ExpectedJoinSpecification;\n+import org.apache.shardingsphere.test.sql.parser.parameterized.jaxb.cases.domain.segment.impl.column.ExpectedColumn;\n+import org.apache.shardingsphere.test.sql.parser.parameterized.jaxb.cases.domain.segment.impl.expr.ExpectedExpression;\n \n import javax.xml.bind.annotation.XmlElement;\n+import java.util.LinkedList;\n+import java.util.List;\n \n /**\n  * Expected JoinTable.\n  */\n @Getter\n @Setter\n public final class ExpectedJoinTable extends AbstractExpectedDelimiterSQLSegment {\n-    \n+\n     @XmlElement(name = \"left\")\n     private ExpectedTable left;\n \n     @XmlElement(name = \"right\")\n     private ExpectedTable right;\n-    \n-    @XmlElement\n-    private ExpectedJoinSpecification joinSpecification;\n+\n+    @XmlElement(name = \"condition\")\n+    private ExpectedExpression condition;\n+\n+    @XmlElement(name = \"columns\")\n+    private final List<ExpectedColumn> columns = new LinkedList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d84a78c8af147db2d1d3c04a6053663000660acd"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3d95428327cb9139cfc8a7c528ad57a7eb4fce0", "author": {"user": {"login": "lwtdev", "name": "Albert Li"}}, "url": "https://github.com/apache/shardingsphere/commit/d3d95428327cb9139cfc8a7c528ad57a7eb4fce0", "committedDate": "2020-12-25T04:24:54Z", "message": "Rename condition to on-condition, columns to using-columns."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4NzYwNDI0", "url": "https://github.com/apache/shardingsphere/pull/8740#pullrequestreview-558760424", "createdAt": "2020-12-25T05:44:15Z", "commit": {"oid": "d3d95428327cb9139cfc8a7c528ad57a7eb4fce0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4ODExNjg0", "url": "https://github.com/apache/shardingsphere/pull/8740#pullrequestreview-558811684", "createdAt": "2020-12-25T12:24:42Z", "commit": {"oid": "d3d95428327cb9139cfc8a7c528ad57a7eb4fce0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4268, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}