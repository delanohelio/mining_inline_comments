{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg4NzI5NDA1", "number": 4768, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQxNjoyMjoxMFrODoIEoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxNDoxODowM1rODoWipg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNDAxODg5OnYy", "diffSide": "RIGHT", "path": "sharding-jdbc/sharding-jdbc-core/src/main/java/org/apache/shardingsphere/shardingjdbc/jdbc/core/constant/SQLExceptionConstant.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQxNjoyMjoxMFrOF2f2wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwNzowNDo1OFrOF2nxLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY4OTM0Ng==", "bodyText": "SQL_STATE is a common name, but the value is S1002, it is not a good variable name.", "url": "https://github.com/apache/shardingsphere/pull/4768#discussion_r392689346", "createdAt": "2020-03-15T16:22:10Z", "author": {"login": "terrymanu"}, "path": "sharding-jdbc/sharding-jdbc-core/src/main/java/org/apache/shardingsphere/shardingjdbc/jdbc/core/constant/SQLExceptionConstant.java", "diffHunk": "@@ -27,4 +27,8 @@\n public final class SQLExceptionConstant {\n     \n     public static final String SQL_STRING_NULL_OR_EMPTY = \"SQL String can not be NULL or empty.\";\n+    \n+    public static final String SQL_STATE = \"S1002\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dd7dae97013f9822e834cf6285036fda7272245"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjgxODk4OQ==", "bodyText": "ok", "url": "https://github.com/apache/shardingsphere/pull/4768#discussion_r392818989", "createdAt": "2020-03-16T07:04:58Z", "author": {"login": "zjcnb"}, "path": "sharding-jdbc/sharding-jdbc-core/src/main/java/org/apache/shardingsphere/shardingjdbc/jdbc/core/constant/SQLExceptionConstant.java", "diffHunk": "@@ -27,4 +27,8 @@\n public final class SQLExceptionConstant {\n     \n     public static final String SQL_STRING_NULL_OR_EMPTY = \"SQL String can not be NULL or empty.\";\n+    \n+    public static final String SQL_STATE = \"S1002\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY4OTM0Ng=="}, "originalCommit": {"oid": "4dd7dae97013f9822e834cf6285036fda7272245"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNDAxOTAwOnYy", "diffSide": "RIGHT", "path": "sharding-jdbc/sharding-jdbc-core/src/main/java/org/apache/shardingsphere/shardingjdbc/jdbc/core/constant/SQLExceptionConstant.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQxNjoyMjoyOFrOF2f22g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQxNjoyMjoyOFrOF2f22g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY4OTM3MA==", "bodyText": "Same with SQL_STATE", "url": "https://github.com/apache/shardingsphere/pull/4768#discussion_r392689370", "createdAt": "2020-03-15T16:22:28Z", "author": {"login": "terrymanu"}, "path": "sharding-jdbc/sharding-jdbc-core/src/main/java/org/apache/shardingsphere/shardingjdbc/jdbc/core/constant/SQLExceptionConstant.java", "diffHunk": "@@ -27,4 +27,8 @@\n public final class SQLExceptionConstant {\n     \n     public static final String SQL_STRING_NULL_OR_EMPTY = \"SQL String can not be NULL or empty.\";\n+    \n+    public static final String SQL_STATE = \"S1002\";\n+    \n+    public static final int SQL_VENDOR_CODE = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dd7dae97013f9822e834cf6285036fda7272245"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNjM4NDYyOnYy", "diffSide": "RIGHT", "path": "sharding-jdbc/sharding-jdbc-core/src/main/java/org/apache/shardingsphere/shardingjdbc/jdbc/core/constant/SQLExceptionConstant.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxNDoxNzoyMFrOF22MdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxNDoxNzoyMFrOF22MdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzA1NTM0OQ==", "bodyText": "Please do not use abbreviation as variable name", "url": "https://github.com/apache/shardingsphere/pull/4768#discussion_r393055349", "createdAt": "2020-03-16T14:17:20Z", "author": {"login": "terrymanu"}, "path": "sharding-jdbc/sharding-jdbc-core/src/main/java/org/apache/shardingsphere/shardingjdbc/jdbc/core/constant/SQLExceptionConstant.java", "diffHunk": "@@ -27,4 +27,6 @@\n public final class SQLExceptionConstant {\n     \n     public static final String SQL_STRING_NULL_OR_EMPTY = \"SQL String can not be NULL or empty.\";\n+    \n+    public static final String OUT_OF_INDEX_SQL_STAT = \"S1002\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71a13292082cb90ea550f4030b95629b84246eee"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNjM4OTUwOnYy", "diffSide": "RIGHT", "path": "sharding-jdbc/sharding-jdbc-core/src/main/java/org/apache/shardingsphere/shardingjdbc/jdbc/core/resultset/EncryptResultSetMetaData.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxNDoxODowM1rOF22PVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxNDoxODowM1rOF22PVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzA1NjA4NA==", "bodyText": "Maybe we need to check string information \"Out of index of projection %s\" too", "url": "https://github.com/apache/shardingsphere/pull/4768#discussion_r393056084", "createdAt": "2020-03-16T14:18:03Z", "author": {"login": "terrymanu"}, "path": "sharding-jdbc/sharding-jdbc-core/src/main/java/org/apache/shardingsphere/shardingjdbc/jdbc/core/resultset/EncryptResultSetMetaData.java", "diffHunk": "@@ -89,8 +90,7 @@ public String getColumnName(final int column) throws SQLException {\n         if (sqlStatementContext instanceof SelectStatementContext) {\n             List<Projection> actualProjections = ((SelectStatementContext) sqlStatementContext).getProjectionsContext().getExpandProjections();\n             if (column > actualProjections.size()) {\n-                // TODO fill correct SQL state\n-                throw new SQLException(String.format(\"Out of index of projection %s\", column));\n+                throw new SQLException(String.format(\"Out of index of projection %s\", column), SQLExceptionConstant.OUT_OF_INDEX_SQL_STAT, 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71a13292082cb90ea550f4030b95629b84246eee"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1186, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}