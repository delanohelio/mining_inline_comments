{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3ODg3ODg0", "number": 5605, "title": "Fix orchestration create datasource error when datasource map is empty", "bodyText": "", "createdAt": "2020-05-14T10:01:25Z", "url": "https://github.com/apache/shardingsphere/pull/5605", "merged": true, "mergeCommit": {"oid": "c414cb81961bd7860d549feedf7bdf09ebe087d2"}, "closed": true, "closedAt": "2020-05-14T13:59:15Z", "author": {"login": "yanyzy"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchKgWTAH2gAyNDE3ODg3ODg0OmQ4NGIzOWRlMDUwOGE4MzdiODlkYTAzZDIwZTg4NjUwNTRjNmQxNjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchN66lAFqTQxMTgzMjQ0Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d84b39de0508a837b89da03d20e8865054c6d165", "author": {"user": {"login": "yanyzy", "name": "zhyee"}}, "url": "https://github.com/apache/shardingsphere/commit/d84b39de0508a837b89da03d20e8865054c6d165", "committedDate": "2020-05-14T09:59:58Z", "message": "fix orchestration create datasource error when datasource map is empty"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c00c7dba06f62ab55420c8248c5c5996420b91ba", "author": {"user": {"login": "yanyzy", "name": "zhyee"}}, "url": "https://github.com/apache/shardingsphere/commit/c00c7dba06f62ab55420c8248c5c5996420b91ba", "committedDate": "2020-05-14T10:00:16Z", "message": "Merge commit 'fe5bce5254be2d5a3c85464a32276d8270927ef4' into fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNzcyMDAx", "url": "https://github.com/apache/shardingsphere/pull/5605#pullrequestreview-411772001", "createdAt": "2020-05-14T12:54:09Z", "commit": {"oid": "c00c7dba06f62ab55420c8248c5c5996420b91ba"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxMjo1NDowOVrOGVazog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxMjo1NDowOVrOGVazog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTExMjQ4Mg==", "bodyText": "please use isEmpty()", "url": "https://github.com/apache/shardingsphere/pull/5605#discussion_r425112482", "createdAt": "2020-05-14T12:54:09Z", "author": {"login": "terrymanu"}, "path": "sharding-jdbc/sharding-jdbc-orchestration/src/main/java/org/apache/shardingsphere/shardingjdbc/orchestration/api/yaml/YamlOrchestrationShardingSphereDataSourceFactory.java", "diffHunk": "@@ -100,7 +100,7 @@ public static DataSource createDataSource(final Map<String, DataSource> dataSour\n     \n     private static DataSource createDataSource(final Map<String, DataSource> dataSourceMap, final YamlOrchestrationRootRuleConfigurations configurations, \n                                                final Properties props, final Map<String, YamlCenterRepositoryConfiguration> yamlInstanceConfigurationMap) throws SQLException {\n-        if (null == configurations) {\n+        if (configurations.getRules().size() == 0 || dataSourceMap.size() == 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c00c7dba06f62ab55420c8248c5c5996420b91ba"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b1cac9235210587bbcb5b16fd8092412ca42973", "author": {"user": {"login": "yanyzy", "name": "zhyee"}}, "url": "https://github.com/apache/shardingsphere/commit/4b1cac9235210587bbcb5b16fd8092412ca42973", "committedDate": "2020-05-14T13:55:53Z", "message": "fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExODMyNDQ3", "url": "https://github.com/apache/shardingsphere/pull/5605#pullrequestreview-411832447", "createdAt": "2020-05-14T13:58:42Z", "commit": {"oid": "4b1cac9235210587bbcb5b16fd8092412ca42973"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3617, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}