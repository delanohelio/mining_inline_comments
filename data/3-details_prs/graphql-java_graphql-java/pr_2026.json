{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyMDI5NjMy", "number": 2026, "title": "remove unnecessary Map", "bodyText": "I notice that some methods will create unnessary HashMap, it seems to be avoid.", "createdAt": "2020-09-08T13:09:11Z", "url": "https://github.com/graphql-java/graphql-java/pull/2026", "merged": true, "mergeCommit": {"oid": "4b667746b862be6cd72d988b6c6d6bc847aeeb52"}, "closed": true, "closedAt": "2020-09-13T09:02:16Z", "author": {"login": "dugenkui03"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdG2_fOAH2gAyNDgyMDI5NjMyOjE5OGRmOTcyYjY4MGNjMmNmNzkzODg4NjZlMTUyNmFkYmZjNTAzN2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdIazE4gFqTQ4NzI4ODM3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "198df972b680cc2cf79388866e1526adbfc5037a", "author": {"user": {"login": "dugenkui03", "name": "dugenkui"}}, "url": "https://github.com/graphql-java/graphql-java/commit/198df972b680cc2cf79388866e1526adbfc5037a", "committedDate": "2020-09-08T12:45:00Z", "message": "remove unnecessary Map"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0MTYxODMx", "url": "https://github.com/graphql-java/graphql-java/pull/2026#pullrequestreview-484161831", "createdAt": "2020-09-08T13:51:53Z", "commit": {"oid": "198df972b680cc2cf79388866e1526adbfc5037a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxMzo1MTo1M1rOHOeOWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxMzo1MTo1M1rOHOeOWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDkzNzMwNw==", "bodyText": "Create a new method NodeUtil.directiveByName(String directiveName) instead of introducing for-loops everywhere.\nSimilarly with arguments.", "url": "https://github.com/graphql-java/graphql-java/pull/2026#discussion_r484937307", "createdAt": "2020-09-08T13:51:53Z", "author": {"login": "juriad"}, "path": "src/main/java/graphql/execution/ConditionalNodes.java", "diffHunk": "@@ -9,7 +9,6 @@\n \n import static graphql.Directives.IncludeDirective;\n import static graphql.Directives.SkipDirective;\n-import static graphql.language.NodeUtil.directivesByName;\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "198df972b680cc2cf79388866e1526adbfc5037a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0Nzg2NzM4", "url": "https://github.com/graphql-java/graphql-java/pull/2026#pullrequestreview-484786738", "createdAt": "2020-09-09T08:40:56Z", "commit": {"oid": "198df972b680cc2cf79388866e1526adbfc5037a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwODo0MDo1N1rOHO85uA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwMzowNTozNVrOHPhPgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzOTkyOA==", "bodyText": "You are worried about performance but you have provided no evidence its an actual performance problem\nThe number of directives on an element is most likely 0 and less than 5 in most cases.\nSame with field arguments - there are just not enough of them to be a problem\nNow if we can show that these methods turn up in some \"runtime hotspot\" during execution then it starts to make more sense\nAlso the JVM is EXCELLENT at escape analysis - if it can determine that a variable NEVER escapes the frame then it will allocate objects on the stack and they will be cleaned up at near zero cost.\nreturn directivesByName(directives).get(name); is such a case - this map created can be detected as NEVER escaping this method and will be allocated on the stack", "url": "https://github.com/graphql-java/graphql-java/pull/2026#discussion_r485439928", "createdAt": "2020-09-09T08:40:57Z", "author": {"login": "bbakerman"}, "path": "src/main/java/graphql/execution/ConditionalNodes.java", "diffHunk": "@@ -9,7 +9,6 @@\n \n import static graphql.Directives.IncludeDirective;\n import static graphql.Directives.SkipDirective;\n-import static graphql.language.NodeUtil.directivesByName;\n ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDkzNzMwNw=="}, "originalCommit": {"oid": "198df972b680cc2cf79388866e1526adbfc5037a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjAzNTMyOQ==", "bodyText": "Create a new method NodeUtil.directiveByName(String directiveName) instead of introducing for-loops everywhere.\nSimilarly with arguments.\n\nTHIS!", "url": "https://github.com/graphql-java/graphql-java/pull/2026#discussion_r486035329", "createdAt": "2020-09-10T03:05:35Z", "author": {"login": "bbakerman"}, "path": "src/main/java/graphql/execution/ConditionalNodes.java", "diffHunk": "@@ -9,7 +9,6 @@\n \n import static graphql.Directives.IncludeDirective;\n import static graphql.Directives.SkipDirective;\n-import static graphql.language.NodeUtil.directivesByName;\n ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDkzNzMwNw=="}, "originalCommit": {"oid": "198df972b680cc2cf79388866e1526adbfc5037a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "558992d0b6f06cb86c21ffa7fb65c4d887d1c41b", "author": {"user": {"login": "dugenkui03", "name": "dugenkui"}}, "url": "https://github.com/graphql-java/graphql-java/commit/558992d0b6f06cb86c21ffa7fb65c4d887d1c41b", "committedDate": "2020-09-10T11:41:54Z", "message": "remove unnecessary Map"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3Mjg4Mzc5", "url": "https://github.com/graphql-java/graphql-java/pull/2026#pullrequestreview-487288379", "createdAt": "2020-09-13T09:01:57Z", "commit": {"oid": "558992d0b6f06cb86c21ffa7fb65c4d887d1c41b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4352, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}