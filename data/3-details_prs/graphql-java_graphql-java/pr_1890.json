{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMDYwODQy", "number": 1890, "title": "allow directives on variable definitions", "bodyText": "Load to #1765 , Allow directives on variable definitions.", "createdAt": "2020-05-04T16:41:17Z", "url": "https://github.com/graphql-java/graphql-java/pull/1890", "merged": true, "mergeCommit": {"oid": "be48433f49d832ca6f38eb742c95c4bf1f56c77e"}, "closed": true, "closedAt": "2020-05-19T23:11:48Z", "author": {"login": "dugenkui03"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceCBwGAH2gAyNDEzMDYwODQyOjc0OGM4YzEwMTlmMGVlYTI4MTVjOTVjMjRmYzU1N2M2ZjY3MWM1NTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABci8phjAH2gAyNDEzMDYwODQyOjAxNzFjOGZiOTg4ZDMzNDZlY2UzZDFjMWE1NjNiNzJmMTlhYzZjYzU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "748c8c1019f0eea2815c95c24fc557c6f671c554", "author": {"user": {"login": "dugenkui03", "name": "dugenkui"}}, "url": "https://github.com/graphql-java/graphql-java/commit/748c8c1019f0eea2815c95c24fc557c6f671c554", "committedDate": "2020-05-04T16:25:32Z", "message": "allow_directives_on_variable_definitions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MDIwMzg5", "url": "https://github.com/graphql-java/graphql-java/pull/1890#pullrequestreview-414020389", "createdAt": "2020-05-19T00:21:48Z", "commit": {"oid": "748c8c1019f0eea2815c95c24fc557c6f671c554"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMDoyMTo0OFrOGXLpEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMDoyNDozNVrOGXLr7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk2MTE3MA==", "bodyText": "the formatting here is off a bit", "url": "https://github.com/graphql-java/graphql-java/pull/1890#discussion_r426961170", "createdAt": "2020-05-19T00:21:48Z", "author": {"login": "andimarek"}, "path": "src/main/java/graphql/schema/GraphQLDirective.java", "diffHunk": "@@ -209,6 +224,7 @@ public Builder(GraphQLDirective existing) {\n             this.onOperation = existing.isOnOperation();\n             this.onFragment = existing.isOnFragment();\n             this.onField = existing.isOnField();\n+            this.onVariableDefinition=existing.isOnVariableDefinition();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "748c8c1019f0eea2815c95c24fc557c6f671c554"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk2MTQ2OA==", "bodyText": "we should not add new constructors.", "url": "https://github.com/graphql-java/graphql-java/pull/1890#discussion_r426961468", "createdAt": "2020-05-19T00:22:54Z", "author": {"login": "andimarek"}, "path": "src/main/java/graphql/schema/GraphQLDirective.java", "diffHunk": "@@ -51,8 +52,9 @@ public GraphQLDirective(String name,\n                             List<GraphQLArgument> arguments,\n                             boolean onOperation,\n                             boolean onFragment,\n-                            boolean onField) {\n-        this(name, description, locations, arguments, onOperation, onFragment, onField, null);\n+                            boolean onField,\n+                            boolean onVariableDefinition) {\n+        this(name, description, locations, arguments, onOperation, onFragment, onField,onVariableDefinition,null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "748c8c1019f0eea2815c95c24fc557c6f671c554"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk2MTY0Mg==", "bodyText": "we should not add any new constructors, but force new code to use the builder", "url": "https://github.com/graphql-java/graphql-java/pull/1890#discussion_r426961642", "createdAt": "2020-05-19T00:23:32Z", "author": {"login": "andimarek"}, "path": "src/main/java/graphql/language/VariableDefinition.java", "diffHunk": "@@ -50,7 +53,22 @@ protected VariableDefinition(String name,\n     public VariableDefinition(String name,\n                               Type type,\n                               Value defaultValue) {\n-        this(name, type, defaultValue, null, new ArrayList<>(), IgnoredChars.EMPTY, emptyMap());\n+        this(name, type, defaultValue, null, null, new ArrayList<>(), IgnoredChars.EMPTY, emptyMap());\n+    }\n+\n+    /**\n+     * alternative to using a Builder for convenience\n+     *\n+     * @param name         of the variable\n+     * @param type         of the variable\n+     * @param defaultValue of the variable\n+     * @param directives   of the variable\n+     */\n+    public VariableDefinition(String name,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "748c8c1019f0eea2815c95c24fc557c6f671c554"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk2MTkwMw==", "bodyText": "lets not add new methods which are immediately deprecated.", "url": "https://github.com/graphql-java/graphql-java/pull/1890#discussion_r426961903", "createdAt": "2020-05-19T00:24:35Z", "author": {"login": "andimarek"}, "path": "src/main/java/graphql/schema/GraphQLDirective.java", "diffHunk": "@@ -342,6 +358,19 @@ public Builder onField(boolean onField) {\n             return this;\n         }\n \n+        /**\n+         * @param onVariableDefinition onVariableDefinition\n+         *\n+         * @return this builder\n+         *\n+         * @deprecated Use {@code graphql.schema.GraphQLDirective.Builder#validLocations(DirectiveLocation...)}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "748c8c1019f0eea2815c95c24fc557c6f671c554"}, "originalPosition": 78}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1cc0d1fa825bcc1c123e795aa1070790d4ee362", "author": {"user": {"login": "dugenkui03", "name": "dugenkui"}}, "url": "https://github.com/graphql-java/graphql-java/commit/d1cc0d1fa825bcc1c123e795aa1070790d4ee362", "committedDate": "2020-05-19T18:38:52Z", "message": "formatting code and remove deprecated method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0171c8fb988d3346ece3d1c1a563b72f19ac6cc5", "author": {"user": {"login": "andimarek", "name": "Andreas Marek"}}, "url": "https://github.com/graphql-java/graphql-java/commit/0171c8fb988d3346ece3d1c1a563b72f19ac6cc5", "committedDate": "2020-05-19T22:59:10Z", "message": "remove not needed boolean onVariableDefinition"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4444, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}