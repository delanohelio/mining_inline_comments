{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2Njg0MjI0", "number": 1774, "title": "Use descriptions instead of comments for AstPrinter and IntrospectionResultToSchema", "bodyText": "Changed comments to descriptions according the issue #1759 . The previous standard uses # to include comments and this PR includes descriptions wrapped around quotations.", "createdAt": "2020-01-24T05:22:00Z", "url": "https://github.com/graphql-java/graphql-java/pull/1774", "merged": true, "mergeCommit": {"oid": "cfd210b4ad5e93b8726fc869cdf8346f0251f7c5"}, "closed": true, "closedAt": "2020-02-10T23:50:04Z", "author": {"login": "Sajan-99"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb9X6wNAH2gAyMzY2Njg0MjI0Ojk0ZDAzMTMxZjQ3NTUxNzc3NWNhOGMyYWU0MWU4YzEwOTEwNDVhNDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDF-t2gFqTM1NjM0NTk3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "94d03131f475517775ca8c2ae41e8c1091045a46", "author": {"user": null}, "url": "https://github.com/graphql-java/graphql-java/commit/94d03131f475517775ca8c2ae41e8c1091045a46", "committedDate": "2020-01-24T05:16:18Z", "message": "changed comments to descriptions and fixed tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5ODYwMjE3", "url": "https://github.com/graphql-java/graphql-java/pull/1774#pullrequestreview-349860217", "createdAt": "2020-01-29T04:51:56Z", "commit": {"oid": "94d03131f475517775ca8c2ae41e8c1091045a46"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwNDo1MTo1NlrOFi8iZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwNDo1Mjo1N1rOFi8jJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjE4Nzc1MQ==", "bodyText": "please remove the commented out code", "url": "https://github.com/graphql-java/graphql-java/pull/1774#discussion_r372187751", "createdAt": "2020-01-29T04:51:56Z", "author": {"login": "andimarek"}, "path": "src/main/java/graphql/language/AstPrinter.java", "diffHunk": "@@ -184,8 +184,16 @@ private AstPrinter(boolean compactMode) {\n         };\n     }\n \n-    private boolean hasComments(List<? extends Node> nodes) {\n-        return nodes.stream().anyMatch(it -> it.getComments().size() > 0);\n+//    private boolean hasDescription(Node<?> node) {\n+//        Description description = ((AbstractDescribedNode) node).getDescription();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94d03131f475517775ca8c2ae41e8c1091045a46"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjE4NzgzMA==", "bodyText": "plase mark it as @PublicAPI (see other classes)", "url": "https://github.com/graphql-java/graphql-java/pull/1774#discussion_r372187830", "createdAt": "2020-01-29T04:52:21Z", "author": {"login": "andimarek"}, "path": "src/main/java/graphql/language/AbstractDescribedNode.java", "diffHunk": "@@ -0,0 +1,19 @@\n+package graphql.language;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+public abstract class AbstractDescribedNode<T extends Node> extends AbstractNode<T> implements DescribedNode<T>  {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94d03131f475517775ca8c2ae41e8c1091045a46"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjE4Nzk0Mw==", "bodyText": "please mark it as @PublicAPI and maybe add a short javadoc", "url": "https://github.com/graphql-java/graphql-java/pull/1774#discussion_r372187943", "createdAt": "2020-01-29T04:52:57Z", "author": {"login": "andimarek"}, "path": "src/main/java/graphql/language/DescribedNode.java", "diffHunk": "@@ -0,0 +1,10 @@\n+package graphql.language;\n+\n+public interface DescribedNode<T extends Node> extends Node<T> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94d03131f475517775ca8c2ae41e8c1091045a46"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4316c0e777b8225a386aa0a5908892415c7ede7f", "author": {"user": null}, "url": "https://github.com/graphql-java/graphql-java/commit/4316c0e777b8225a386aa0a5908892415c7ede7f", "committedDate": "2020-01-29T23:07:46Z", "message": "removed comment, added public api and javadoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyNjk2NTEz", "url": "https://github.com/graphql-java/graphql-java/pull/1774#pullrequestreview-352696513", "createdAt": "2020-02-04T02:51:58Z", "commit": {"oid": "4316c0e777b8225a386aa0a5908892415c7ede7f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMjo1MTo1OVrOFlGrhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMjo1MTo1OVrOFlGrhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ1MTA3OA==", "bodyText": "Since these are all\ntoDescription((String) input.get(\"description\")\nyou could have String toDescription(Map<String, Object> input) say - much less code", "url": "https://github.com/graphql-java/graphql-java/pull/1774#discussion_r374451078", "createdAt": "2020-02-04T02:51:59Z", "author": {"login": "bbakerman"}, "path": "src/main/java/graphql/introspection/IntrospectionResultToSchema.java", "diffHunk": "@@ -264,7 +264,7 @@ private void createDeprecatedDirective(Map<String, Object> field, NodeDirectives\n         for (Map<String, Object> arg : args) {\n             Type argType = createTypeIndirection((Map<String, Object>) arg.get(\"type\"));\n             InputValueDefinition.Builder inputValueDefinition = InputValueDefinition.newInputValueDefinition().name((String) arg.get(\"name\")).type(argType);\n-            inputValueDefinition.comments(toComment((String) arg.get(\"description\")));\n+            inputValueDefinition.description(toDescription((String) arg.get(\"description\")));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4316c0e777b8225a386aa0a5908892415c7ede7f"}, "originalPosition": 76}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyNjk3MTY2", "url": "https://github.com/graphql-java/graphql-java/pull/1774#pullrequestreview-352697166", "createdAt": "2020-02-04T02:54:29Z", "commit": {"oid": "4316c0e777b8225a386aa0a5908892415c7ede7f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMjo1NDoyOVrOFlGthg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMjo1NDoyOVrOFlGthg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ1MTU5MA==", "bodyText": "safety might be to filter first\nstream().filter( it -> it instanceof AbstractDescribedNode)..anyMatch(it -> ((AbstractDescribedNode) it).getDescription() != null)", "url": "https://github.com/graphql-java/graphql-java/pull/1774#discussion_r374451590", "createdAt": "2020-02-04T02:54:29Z", "author": {"login": "bbakerman"}, "path": "src/main/java/graphql/language/AstPrinter.java", "diffHunk": "@@ -184,8 +184,8 @@ private AstPrinter(boolean compactMode) {\n         };\n     }\n \n-    private boolean hasComments(List<? extends Node> nodes) {\n-        return nodes.stream().anyMatch(it -> it.getComments().size() > 0);\n+    private boolean hasDescription(List<? extends Node> nodes) {\n+        return nodes.stream().anyMatch(it -> ((AbstractDescribedNode) it).getDescription() != null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4316c0e777b8225a386aa0a5908892415c7ede7f"}, "originalPosition": 50}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyNjk3NDUz", "url": "https://github.com/graphql-java/graphql-java/pull/1774#pullrequestreview-352697453", "createdAt": "2020-02-04T02:55:32Z", "commit": {"oid": "4316c0e777b8225a386aa0a5908892415c7ede7f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac2ca0c0978b1bb99c1fbcfc428f59504950c772", "author": {"user": null}, "url": "https://github.com/graphql-java/graphql-java/commit/ac2ca0c0978b1bb99c1fbcfc428f59504950c772", "committedDate": "2020-02-05T00:31:01Z", "message": "shortened toDescription and added safety to hasDescription"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MTYxMzE0", "url": "https://github.com/graphql-java/graphql-java/pull/1774#pullrequestreview-354161314", "createdAt": "2020-02-06T02:01:56Z", "commit": {"oid": "ac2ca0c0978b1bb99c1fbcfc428f59504950c772"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwMjowMTo1NlrOFmNOjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwMjowMTo1NlrOFmNOjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTYwNjkyNQ==", "bodyText": "the super class AbstractDescribedNode does contain the description, so no derived class should contain description (otherwise it is \"overridden\" in a non obvious way)", "url": "https://github.com/graphql-java/graphql-java/pull/1774#discussion_r375606925", "createdAt": "2020-02-06T02:01:56Z", "author": {"login": "andimarek"}, "path": "src/main/java/graphql/language/DirectiveDefinition.java", "diffHunk": "@@ -35,7 +35,7 @@ protected DirectiveDefinition(String name,\n                                   List<Comment> comments,\n                                   IgnoredChars ignoredChars,\n                                   Map<String, String> additionalData) {\n-        super(sourceLocation, comments, ignoredChars, additionalData);\n+        super(sourceLocation, comments, ignoredChars, additionalData, description);\n         this.name = name;\n         this.description = description;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac2ca0c0978b1bb99c1fbcfc428f59504950c772"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f7ca4a51baad633f3487aed6fb3c110ce409f25", "author": {"user": null}, "url": "https://github.com/graphql-java/graphql-java/commit/1f7ca4a51baad633f3487aed6fb3c110ce409f25", "committedDate": "2020-02-06T22:54:53Z", "message": "removed description and getDescription from child classes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "848f19bffdfde60239e8d13893f97ddda0a797e5", "author": {"user": null}, "url": "https://github.com/graphql-java/graphql-java/commit/848f19bffdfde60239e8d13893f97ddda0a797e5", "committedDate": "2020-02-10T22:51:19Z", "message": "added removed test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2MzQ1OTc4", "url": "https://github.com/graphql-java/graphql-java/pull/1774#pullrequestreview-356345978", "createdAt": "2020-02-10T23:45:53Z", "commit": {"oid": "848f19bffdfde60239e8d13893f97ddda0a797e5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4392, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}