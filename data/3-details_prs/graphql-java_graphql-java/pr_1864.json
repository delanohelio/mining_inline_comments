{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA0MDY0NjI4", "number": 1864, "title": "1847: Fix circular reference between input object field/type", "bodyText": "The source of the problem here is the circular reference created by the toString implementations in GraphQLInputObjectField and GraphQLInputObjectType.\nThe stack overflow error will happen every time there's a circular reference between field/type and toString is called in one class or the other. This PR tries to fix that.\nFixes #1847", "createdAt": "2020-04-16T01:16:25Z", "url": "https://github.com/graphql-java/graphql-java/pull/1864", "merged": true, "mergeCommit": {"oid": "8f4cd45cbda27c5b948f67fef29d4ec50d453fd5"}, "closed": true, "closedAt": "2020-05-20T23:39:48Z", "author": {"login": "felipe-gdr"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYClZFgH2gAyNDA0MDY0NjI4OmQ3ZTIzNGNmNjI0MDMyMmQ1YTZiZGM2YjA3NTk2NTJlODVkMjMyMjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYESzCgH2gAyNDA0MDY0NjI4OmEzODE5NTIwNDU1NjdhY2Y2ZjkyYmY1M2ViYTkzZWI2ZGJhODlmM2E=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d7e234cf6240322d5a6bdc6b0759652e85d23228", "author": {"user": {"login": "felipe-gdr-atlassian", "name": null}}, "url": "https://github.com/graphql-java/graphql-java/commit/d7e234cf6240322d5a6bdc6b0759652e85d23228", "committedDate": "2020-04-16T01:40:55Z", "message": "1847: Fix circular reference between input object field/type\nFixes #1847"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "39ceb6b89d674647e823a2dd18e66e6ee4f778ac", "author": {"user": {"login": "felipe-gdr-atlassian", "name": null}}, "url": "https://github.com/graphql-java/graphql-java/commit/39ceb6b89d674647e823a2dd18e66e6ee4f778ac", "committedDate": "2020-04-16T01:09:43Z", "message": "1847: Fix circular reference between input object field/type"}, "afterCommit": {"oid": "d7e234cf6240322d5a6bdc6b0759652e85d23228", "author": {"user": {"login": "felipe-gdr-atlassian", "name": null}}, "url": "https://github.com/graphql-java/graphql-java/commit/d7e234cf6240322d5a6bdc6b0759652e85d23228", "committedDate": "2020-04-16T01:40:55Z", "message": "1847: Fix circular reference between input object field/type\nFixes #1847"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0MjQ3MjY4", "url": "https://github.com/graphql-java/graphql-java/pull/1864#pullrequestreview-394247268", "createdAt": "2020-04-16T01:52:33Z", "commit": {"oid": "d7e234cf6240322d5a6bdc6b0759652e85d23228"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwMTo1MjozM1rOGGRqcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwMTo1MjozM1rOGGRqcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTIzNDAzMg==", "bodyText": "This is a simple mechanism to break the infinite cycle.\nIt could be implemented in either class. I've decided to the check in GraphQLInputObjectField for no particular reason.", "url": "https://github.com/graphql-java/graphql-java/pull/1864#discussion_r409234032", "createdAt": "2020-04-16T01:52:33Z", "author": {"login": "felipe-gdr"}, "path": "src/main/java/graphql/schema/GraphQLInputObjectField.java", "diffHunk": "@@ -170,14 +170,20 @@ public String toString() {\n         return \"GraphQLInputObjectField{\" +\n                 \"name='\" + name + '\\'' +\n                 \", description='\" + description + '\\'' +\n-                \", originalType=\" + originalType +\n+                \", originalType=\" + inputTypeToStringAvoidingCircularReference(originalType) +\n                 \", defaultValue=\" + defaultValue +\n                 \", definition=\" + definition +\n                 \", directives=\" + directives +\n-                \", replacedType=\" + replacedType +\n+                \", replacedType=\" + inputTypeToStringAvoidingCircularReference(replacedType) +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7e234cf6240322d5a6bdc6b0759652e85d23228"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0MjY3OTE1", "url": "https://github.com/graphql-java/graphql-java/pull/1864#pullrequestreview-394267915", "createdAt": "2020-04-16T03:04:12Z", "commit": {"oid": "d7e234cf6240322d5a6bdc6b0759652e85d23228"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwMzowNDoxMlrOGGS1Kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwMzowNDoxMlrOGGS1Kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTI1MzE2Mw==", "bodyText": "There's no circular reference here", "url": "https://github.com/graphql-java/graphql-java/pull/1864#discussion_r409253163", "createdAt": "2020-04-16T03:04:12Z", "author": {"login": "tbroyer"}, "path": "src/test/groovy/graphql/Issue1847.groovy", "diffHunk": "@@ -0,0 +1,42 @@\n+package graphql\n+\n+import spock.lang.Specification\n+\n+class Issue1847 extends Specification {\n+    def schema = TestUtil.schema('''\n+                type Query {\n+                    listWithCircularReference(filter : TypeWithCircularReference) : String \n+                    list(filter : Type) : String \n+                }\n+                input TypeWithCircularReference {\n+                    circularField : Type", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7e234cf6240322d5a6bdc6b0759652e85d23228"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a381952045567acf6f92bf53eba93eb6dba89f3a", "author": {"user": {"login": "felipe-gdr", "name": "Felipe Reis"}}, "url": "https://github.com/graphql-java/graphql-java/commit/a381952045567acf6f92bf53eba93eb6dba89f3a", "committedDate": "2020-04-16T03:40:25Z", "message": "1847: Add circular reference back on test"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4433, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}