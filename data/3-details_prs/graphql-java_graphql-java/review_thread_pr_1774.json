{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2Njg0MjI0", "number": 1774, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwNDo1MTo1NlrODbc4_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwMjowMTo1NlrODditzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwMTExNDg0OnYy", "diffSide": "RIGHT", "path": "src/main/java/graphql/language/AstPrinter.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwNDo1MTo1NlrOFi8iZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwNDo1MTo1NlrOFi8iZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjE4Nzc1MQ==", "bodyText": "please remove the commented out code", "url": "https://github.com/graphql-java/graphql-java/pull/1774#discussion_r372187751", "createdAt": "2020-01-29T04:51:56Z", "author": {"login": "andimarek"}, "path": "src/main/java/graphql/language/AstPrinter.java", "diffHunk": "@@ -184,8 +184,16 @@ private AstPrinter(boolean compactMode) {\n         };\n     }\n \n-    private boolean hasComments(List<? extends Node> nodes) {\n-        return nodes.stream().anyMatch(it -> it.getComments().size() > 0);\n+//    private boolean hasDescription(Node<?> node) {\n+//        Description description = ((AbstractDescribedNode) node).getDescription();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94d03131f475517775ca8c2ae41e8c1091045a46"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwMTExNTM2OnYy", "diffSide": "RIGHT", "path": "src/main/java/graphql/language/AbstractDescribedNode.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwNDo1MjoyMVrOFi8itg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwNDo1MjoyMVrOFi8itg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjE4NzgzMA==", "bodyText": "plase mark it as @PublicAPI (see other classes)", "url": "https://github.com/graphql-java/graphql-java/pull/1774#discussion_r372187830", "createdAt": "2020-01-29T04:52:21Z", "author": {"login": "andimarek"}, "path": "src/main/java/graphql/language/AbstractDescribedNode.java", "diffHunk": "@@ -0,0 +1,19 @@\n+package graphql.language;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+public abstract class AbstractDescribedNode<T extends Node> extends AbstractNode<T> implements DescribedNode<T>  {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94d03131f475517775ca8c2ae41e8c1091045a46"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwMTExNjEwOnYy", "diffSide": "RIGHT", "path": "src/main/java/graphql/language/DescribedNode.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwNDo1Mjo1N1rOFi8jJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwNDo1Mjo1N1rOFi8jJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjE4Nzk0Mw==", "bodyText": "please mark it as @PublicAPI and maybe add a short javadoc", "url": "https://github.com/graphql-java/graphql-java/pull/1774#discussion_r372187943", "createdAt": "2020-01-29T04:52:57Z", "author": {"login": "andimarek"}, "path": "src/main/java/graphql/language/DescribedNode.java", "diffHunk": "@@ -0,0 +1,10 @@\n+package graphql.language;\n+\n+public interface DescribedNode<T extends Node> extends Node<T> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94d03131f475517775ca8c2ae41e8c1091045a46"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNTcwMzQ1OnYy", "diffSide": "RIGHT", "path": "src/main/java/graphql/introspection/IntrospectionResultToSchema.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMjo1MTo1OVrOFlGrhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQwMDoyMTowMlrOFloExQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ1MTA3OA==", "bodyText": "Since these are all\ntoDescription((String) input.get(\"description\")\nyou could have String toDescription(Map<String, Object> input) say - much less code", "url": "https://github.com/graphql-java/graphql-java/pull/1774#discussion_r374451078", "createdAt": "2020-02-04T02:51:59Z", "author": {"login": "bbakerman"}, "path": "src/main/java/graphql/introspection/IntrospectionResultToSchema.java", "diffHunk": "@@ -264,7 +264,7 @@ private void createDeprecatedDirective(Map<String, Object> field, NodeDirectives\n         for (Map<String, Object> arg : args) {\n             Type argType = createTypeIndirection((Map<String, Object>) arg.get(\"type\"));\n             InputValueDefinition.Builder inputValueDefinition = InputValueDefinition.newInputValueDefinition().name((String) arg.get(\"name\")).type(argType);\n-            inputValueDefinition.comments(toComment((String) arg.get(\"description\")));\n+            inputValueDefinition.description(toDescription((String) arg.get(\"description\")));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4316c0e777b8225a386aa0a5908892415c7ede7f"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDk5ODIxMw==", "bodyText": "Yep, that makes a lot of sense", "url": "https://github.com/graphql-java/graphql-java/pull/1774#discussion_r374998213", "createdAt": "2020-02-05T00:21:02Z", "author": {"login": "Sajan-99"}, "path": "src/main/java/graphql/introspection/IntrospectionResultToSchema.java", "diffHunk": "@@ -264,7 +264,7 @@ private void createDeprecatedDirective(Map<String, Object> field, NodeDirectives\n         for (Map<String, Object> arg : args) {\n             Type argType = createTypeIndirection((Map<String, Object>) arg.get(\"type\"));\n             InputValueDefinition.Builder inputValueDefinition = InputValueDefinition.newInputValueDefinition().name((String) arg.get(\"name\")).type(argType);\n-            inputValueDefinition.comments(toComment((String) arg.get(\"description\")));\n+            inputValueDefinition.description(toDescription((String) arg.get(\"description\")));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ1MTA3OA=="}, "originalCommit": {"oid": "4316c0e777b8225a386aa0a5908892415c7ede7f"}, "originalPosition": 76}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNTcwNjY3OnYy", "diffSide": "RIGHT", "path": "src/main/java/graphql/language/AstPrinter.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMjo1NDoyOVrOFlGthg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMjo1NDoyOVrOFlGthg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ1MTU5MA==", "bodyText": "safety might be to filter first\nstream().filter( it -> it instanceof AbstractDescribedNode)..anyMatch(it -> ((AbstractDescribedNode) it).getDescription() != null)", "url": "https://github.com/graphql-java/graphql-java/pull/1774#discussion_r374451590", "createdAt": "2020-02-04T02:54:29Z", "author": {"login": "bbakerman"}, "path": "src/main/java/graphql/language/AstPrinter.java", "diffHunk": "@@ -184,8 +184,8 @@ private AstPrinter(boolean compactMode) {\n         };\n     }\n \n-    private boolean hasComments(List<? extends Node> nodes) {\n-        return nodes.stream().anyMatch(it -> it.getComments().size() > 0);\n+    private boolean hasDescription(List<? extends Node> nodes) {\n+        return nodes.stream().anyMatch(it -> ((AbstractDescribedNode) it).getDescription() != null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4316c0e777b8225a386aa0a5908892415c7ede7f"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyMzA0MDc3OnYy", "diffSide": "RIGHT", "path": "src/main/java/graphql/language/DirectiveDefinition.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwMjowMTo1NlrOFmNOjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQyMjo1ODowMFrOFmtF9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTYwNjkyNQ==", "bodyText": "the super class AbstractDescribedNode does contain the description, so no derived class should contain description (otherwise it is \"overridden\" in a non obvious way)", "url": "https://github.com/graphql-java/graphql-java/pull/1774#discussion_r375606925", "createdAt": "2020-02-06T02:01:56Z", "author": {"login": "andimarek"}, "path": "src/main/java/graphql/language/DirectiveDefinition.java", "diffHunk": "@@ -35,7 +35,7 @@ protected DirectiveDefinition(String name,\n                                   List<Comment> comments,\n                                   IgnoredChars ignoredChars,\n                                   Map<String, String> additionalData) {\n-        super(sourceLocation, comments, ignoredChars, additionalData);\n+        super(sourceLocation, comments, ignoredChars, additionalData, description);\n         this.name = name;\n         this.description = description;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac2ca0c0978b1bb99c1fbcfc428f59504950c772"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjEyOTAxMw==", "bodyText": "Should be okay now, I removed instances of description from derived classes.", "url": "https://github.com/graphql-java/graphql-java/pull/1774#discussion_r376129013", "createdAt": "2020-02-06T22:58:00Z", "author": {"login": "Sajan-99"}, "path": "src/main/java/graphql/language/DirectiveDefinition.java", "diffHunk": "@@ -35,7 +35,7 @@ protected DirectiveDefinition(String name,\n                                   List<Comment> comments,\n                                   IgnoredChars ignoredChars,\n                                   Map<String, String> additionalData) {\n-        super(sourceLocation, comments, ignoredChars, additionalData);\n+        super(sourceLocation, comments, ignoredChars, additionalData, description);\n         this.name = name;\n         this.description = description;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTYwNjkyNQ=="}, "originalCommit": {"oid": "ac2ca0c0978b1bb99c1fbcfc428f59504950c772"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4583, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}