{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2MzU5NDk1", "number": 10117, "title": "Fix searching with a method signature", "bodyText": "When decomposing a method search pattern, the 'name' portion should not include the 'signature' portion, if any.\nFixes #10080.", "createdAt": "2020-07-08T16:37:22Z", "url": "https://github.com/eclipse-openj9/openj9/pull/10117", "merged": true, "mergeCommit": {"oid": "5daf4597ca4162b26105c4061c1fd26404a3e84c"}, "closed": true, "closedAt": "2020-07-08T20:55:15Z", "author": {"login": "keithc-ca"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcy9ICYgH2gAyNDQ2MzU5NDk1OjU3NWE5NTczZDVmYmY3NzA3NWJkMjk5Yzg5MDMyOGQzMjY3YjMyMWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczA10KAFqTQ0NTEyMTczNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "575a9573d5fbf77075bd299c890328d3267b321a", "author": {"user": {"login": "keithc-ca", "name": "Keith W. Campbell"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/575a9573d5fbf77075bd299c890328d3267b321a", "committedDate": "2020-07-08T16:35:17Z", "message": "Fix searching with a method signature\n\nSigned-off-by: Keith W. Campbell <keithc@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0OTY3OTg0", "url": "https://github.com/eclipse-openj9/openj9/pull/10117#pullrequestreview-444967984", "createdAt": "2020-07-08T17:09:26Z", "commit": {"oid": "575a9573d5fbf77075bd299c890328d3267b321a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNzowOToyNlrOGuxhCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNzowOToyNlrOGuxhCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTY5ODk1NA==", "bodyText": "Just curious why you split the declaration and the initialization.", "url": "https://github.com/eclipse-openj9/openj9/pull/10117#discussion_r451698954", "createdAt": "2020-07-08T17:09:26Z", "author": {"login": "pshipton"}, "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/tools/ddrinteractive/commands/MethodForNameCommand.java", "diffHunk": "@@ -68,85 +68,74 @@ public void run(String command, String[] args, Context context, PrintStream out)\n \t}\n \n \tint dbgGetMethodsForName(PrintStream out, String pattern) throws CorruptDataException {\n-\t\tint matchCount = 0;\n-\t\t// J9ClassWalkState walkState;\n-\t\tString classNeedle, methodNeedle, sigNeedle;\n-\t\tlong classMatchFlags, methodMatchFlags, sigMatchFlags;\n-\t\tString classStart, nameStart, sigStart;\n-\n-\t\tif (pattern.indexOf('.') != -1) {\n-\t\t\tnameStart = pattern.substring(pattern.indexOf('.') + 1); // skip the .\n-\t\t\tclassStart = pattern.substring(0, pattern.indexOf('.'));\n-\t\t} else {\n-\t\t\tclassStart = \"*\";\n-\t\t\tnameStart = pattern;\n-\t\t}\n+\t\tint dot = pattern.indexOf('.');\n+\t\tString classStart = (dot == -1) ? \"*\" : pattern.substring(0, dot);\n+\t\tint paren = pattern.indexOf('(', dot + 1);\n+\t\tString nameStart = (paren == -1) ? pattern.substring(dot + 1) : pattern.substring(dot + 1, paren);\n+\t\tString sigStart = (paren == -1) ? \"*\" : pattern.substring(paren);\n+\t\tStringBuffer needleBuffer;\n \n-\t\tif (pattern.indexOf('(') != -1) {\n-\t\t\tsigStart = pattern.substring(pattern.indexOf('('));\n-\t\t} else {\n-\t\t\tsigStart = \"*\";\n-\t\t}\n-\n-\t\tStringBuffer needleBuffer = new StringBuffer();\n-\t\tclassMatchFlags = WildCard.parseWildcard(classStart, needleBuffer);\n-\t\tclassNeedle = needleBuffer.toString();\n+\t\tneedleBuffer = new StringBuffer();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "575a9573d5fbf77075bd299c890328d3267b321a"}, "originalPosition": 73}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MTIxNzM0", "url": "https://github.com/eclipse-openj9/openj9/pull/10117#pullrequestreview-445121734", "createdAt": "2020-07-08T20:55:00Z", "commit": {"oid": "575a9573d5fbf77075bd299c890328d3267b321a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 523, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}