{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2NDMwOTYw", "number": 9050, "title": "Change monitor enter return type", "bodyText": "Change monitor enter return type\nWith the previous code returns an IDATA for monitor status. A check is\nperformed to determine if the monitor status is less than the blocking\nenter return code (currently 4). This is broken because a valid object\ncan be a negative value (highly likely on 32bit platforms).\nThis PR changes the return type from a IDATA to a UDATA. Also, it fixes\nthe bytecode action order.\nSigned-off-by: Tobi Ajila atobia@ca.ibm.com", "createdAt": "2020-03-31T15:56:47Z", "url": "https://github.com/eclipse-openj9/openj9/pull/9050", "merged": true, "mergeCommit": {"oid": "04ad4a3db2bee3c20208a87ece111aae33fe5996"}, "closed": true, "closedAt": "2020-03-31T17:29:26Z", "author": {"login": "tajila"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTFDBQAH2gAyMzk2NDMwOTYwOmQ2ZDM5MWNhZmZhMDA1YjU4MTgyZTZkMzA0ZTlmZmQyMmFlYzA1Zjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTFZGVgFqTM4NDg4NjUzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d6d391caffa005b58182e6d304e9ffd22aec05f9", "author": {"user": {"login": "tajila", "name": "Tobi"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/d6d391caffa005b58182e6d304e9ffd22aec05f9", "committedDate": "2020-03-31T15:43:28Z", "message": "Change monitor enter return type\n\nWhen the previous code returns an IDATA for monitor status. A check is\nperformed to determine if the monitor status is less than the blocking\nenter return code (currently 4). This is broken because a valid object\ncan be a negative value (highly likely on 32bit platforms).\n\nThis PR changes the return type from a IDATA to a UDATA. Also, it fixes\nthe bytecode action order.\n\nSigned-off-by: Tobi Ajila <atobia@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0ODgwMTgy", "url": "https://github.com/eclipse-openj9/openj9/pull/9050#pullrequestreview-384880182", "createdAt": "2020-03-31T16:00:29Z", "commit": {"oid": "d6d391caffa005b58182e6d304e9ffd22aec05f9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxNjowMDoyOVrOF-c-Ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxNjowMDoyOVrOF-c-Ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTAzMDY3NQ==", "bodyText": "This still doesn't match the interpreter - the VT one is after the debug ones in the interpreter.", "url": "https://github.com/eclipse-openj9/openj9/pull/9050#discussion_r401030675", "createdAt": "2020-03-31T16:00:29Z", "author": {"login": "gacholio"}, "path": "runtime/vm/BytecodeAction.hpp", "diffHunk": "@@ -47,16 +47,16 @@ typedef enum {\n \tTHROW_AIOB,\n \tTHROW_ARRAY_STORE,\n \tTHROW_DIVIDE_BY_ZERO,\n-#if defined(J9VM_OPT_VALHALLA_VALUE_TYPES)\n-\tTHROW_VALUE_TYPE_ILLEGAL_MONITOR_STATE,\n-#endif /* defined(J9VM_OPT_VALHALLA_VALUE_TYPES) */\n \tTHROW_ILLEGAL_MONITOR_STATE,\n \tTHROW_INCOMPATIBLE_CLASS_CHANGE,\n \tTHROW_WRONG_METHOD_TYPE,\n \tPERFORM_DLT,\n \tRUN_METHOD_INTERPRETED,\n \tRUN_JNI_NATIVE,\n \tRUN_METHOD_COMPILED,\n+#if defined(J9VM_OPT_VALHALLA_VALUE_TYPES)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6d391caffa005b58182e6d304e9ffd22aec05f9"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0ODg0NDcw", "url": "https://github.com/eclipse-openj9/openj9/pull/9050#pullrequestreview-384884470", "createdAt": "2020-03-31T16:05:20Z", "commit": {"oid": "d6d391caffa005b58182e6d304e9ffd22aec05f9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxNjowNToyMVrOF-dK6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxNjowNToyMVrOF-dK6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTAzMzk2Mg==", "bodyText": "@gacholio Are you referring to this? or something else?", "url": "https://github.com/eclipse-openj9/openj9/pull/9050#discussion_r401033962", "createdAt": "2020-03-31T16:05:21Z", "author": {"login": "tajila"}, "path": "runtime/vm/BytecodeInterpreter.hpp", "diffHunk": "@@ -9106,8 +9106,8 @@ done:;\n \t\t\tgoto jni; \\\n \t\tcase RUN_METHOD_COMPILED: \\\n \t\t\tgoto i2j; \\\n-\t\tDEBUG_ACTIONS \\\n \t\tPERFORM_ACTION_VALUE_TYPE_IMSE \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6d391caffa005b58182e6d304e9ffd22aec05f9"}, "originalPosition": 76}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0ODg2NTMy", "url": "https://github.com/eclipse-openj9/openj9/pull/9050#pullrequestreview-384886532", "createdAt": "2020-03-31T16:07:35Z", "commit": {"oid": "d6d391caffa005b58182e6d304e9ffd22aec05f9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1368, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}