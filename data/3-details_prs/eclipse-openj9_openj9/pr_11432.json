{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM2MTc5ODY1", "number": 11432, "title": "Change the new CML options for JEP390", "bodyText": "Change the new CML options -XX:ValueBasedClassCheck=exception/warn to\n-XX:DiagnoseSyncOnValuedBasedClasses=1/2 to match RI.\nissue #10620\nSigned-off-by: Hang Shao hangshao@ca.ibm.com", "createdAt": "2020-12-10T19:05:07Z", "url": "https://github.com/eclipse-openj9/openj9/pull/11432", "merged": true, "mergeCommit": {"oid": "0e87192a4a215ae8a00d94b8c6e0d500e89d5fe9"}, "closed": true, "closedAt": "2020-12-11T18:32:43Z", "author": {"login": "hangshao0"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdk_t9uAFqTU0OTc4MzcxOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdlMTedAFqTU1MDQzNjk5Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5NzgzNzE5", "url": "https://github.com/eclipse-openj9/openj9/pull/11432#pullrequestreview-549783719", "createdAt": "2020-12-11T03:52:44Z", "commit": {"oid": "e5a784b96dec30a47042ff4f3ee161c259262128"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMzo1Mjo0NFrOIDn9XQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMzo1Mjo0NFrOIDn9XQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY3MTMyNQ==", "bodyText": "This comment could also refer to the runtime flags since the code actually checks those.", "url": "https://github.com/eclipse-openj9/openj9/pull/11432#discussion_r540671325", "createdAt": "2020-12-11T03:52:44Z", "author": {"login": "pshipton"}, "path": "runtime/oti/vm_api.h", "diffHunk": "@@ -1489,9 +1489,9 @@ areValueTypesEnabled(J9JavaVM *vm);\n \n \n /**\n- * @brief Queries if -XX:ValueBasedClassCheck=exception or -XX:ValueBasedClassCheck=exception are found in the CML\n+ * @brief Queries if -XX:DiagnoseSyncOnValuedBasedClasses=1 or -XX:DiagnoseSyncOnValuedBasedClasses=2 are found in the CML", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5a784b96dec30a47042ff4f3ee161c259262128"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5NzgzODMx", "url": "https://github.com/eclipse-openj9/openj9/pull/11432#pullrequestreview-549783831", "createdAt": "2020-12-11T03:53:03Z", "commit": {"oid": "e5a784b96dec30a47042ff4f3ee161c259262128"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMzo1MzowNFrOIDn9zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMzo1MzowNFrOIDn9zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY3MTQzOA==", "bodyText": "Since these are non obvious, pls comment what they mean.", "url": "https://github.com/eclipse-openj9/openj9/pull/11432#discussion_r540671438", "createdAt": "2020-12-11T03:53:04Z", "author": {"login": "pshipton"}, "path": "runtime/oti/jvminit.h", "diffHunk": "@@ -391,8 +391,8 @@ enum INIT_STAGE {\n #define VMOPT_XXDISABLEVALHALLA \"-XX:-EnableValhalla\"\n #endif /* defined(J9VM_OPT_VALHALLA_VALUE_TYPES) */\n \n-#define VMOPT_XXVALUEBASEDCLASSCHECKEXCEPTION \"-XX:ValueBasedClassCheck=exception\"\n-#define VMOPT_XXVALUEBASEDCLASSCHECKWARN \"-XX:ValueBasedClassCheck=warn\"\n+#define VMOPT_XXDIAGNOSE_SYNC_ON_VALUEBASED_CLASSES_EQUALS1 \"-XX:DiagnoseSyncOnValuedBasedClasses=1\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5a784b96dec30a47042ff4f3ee161c259262128"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec0bed94357761d16d1b97793869e0294a16e229", "author": {"user": {"login": "hangshao0", "name": "Hang Shao"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/ec0bed94357761d16d1b97793869e0294a16e229", "committedDate": "2020-12-11T16:22:28Z", "message": "Change the new CML options for JEP390\n\nChange the new CML options -XX:ValueBasedClassCheck=exception/warn to\n-XX:DiagnoseSyncOnValuedBasedClasses=1/2 to match RI.\n\nissue #10620\n\nSigned-off-by: Hang Shao <hangshao@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e5a784b96dec30a47042ff4f3ee161c259262128", "author": {"user": {"login": "hangshao0", "name": "Hang Shao"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/e5a784b96dec30a47042ff4f3ee161c259262128", "committedDate": "2020-12-10T19:04:15Z", "message": "Change the new CML options for JEP390\n\nChange the new CML options -XX:ValueBasedClassCheck=exception/warn to\n-XX:DiagnoseSyncOnValuedBasedClasses=1/2 to match RI.\n\nissue #10620\n\nSigned-off-by: Hang Shao <hangshao@ca.ibm.com>"}, "afterCommit": {"oid": "ec0bed94357761d16d1b97793869e0294a16e229", "author": {"user": {"login": "hangshao0", "name": "Hang Shao"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/ec0bed94357761d16d1b97793869e0294a16e229", "committedDate": "2020-12-11T16:22:28Z", "message": "Change the new CML options for JEP390\n\nChange the new CML options -XX:ValueBasedClassCheck=exception/warn to\n-XX:DiagnoseSyncOnValuedBasedClasses=1/2 to match RI.\n\nissue #10620\n\nSigned-off-by: Hang Shao <hangshao@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwNDM2OTk3", "url": "https://github.com/eclipse-openj9/openj9/pull/11432#pullrequestreview-550436997", "createdAt": "2020-12-11T18:32:34Z", "commit": {"oid": "ec0bed94357761d16d1b97793869e0294a16e229"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1493, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}