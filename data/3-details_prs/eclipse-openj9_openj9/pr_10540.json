{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyMjc1MDg4", "number": 10540, "title": "Add a flag named J9VM_OPT_OPENJDK_METHODHANDLE", "bodyText": "This flag will enable OpenJDK MethodHandles. OpenJ9 MethodHandles\n(J9VM_OPT_METHOD_HANDLE) needs to disabled before enabling\nJ9VM_OPT_OPENJDK_METHODHANDLE, and vice-versa.\nRelated: #7352\nCo-authored-by: Jack Lu Jack.S.Lu@ibm.com\nSigned-off-by: Babneet Singh sbabneet@ca.ibm.com", "createdAt": "2020-09-08T20:21:28Z", "url": "https://github.com/eclipse-openj9/openj9/pull/10540", "merged": true, "mergeCommit": {"oid": "a3acbbf97f57e6d3caa68622ec20508fb86bd24e"}, "closed": true, "closedAt": "2020-09-17T00:56:25Z", "author": {"login": "babsingh"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdG9pKYgBqjM3NDI2OTg0ODY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJmPtHAFqTQ5MDE3MjY5Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "22f3178b537ae3ad751adf8eed2b03b71fb2cf0e", "author": {"user": null}, "url": "https://github.com/eclipse-openj9/openj9/commit/22f3178b537ae3ad751adf8eed2b03b71fb2cf0e", "committedDate": "2020-09-08T20:20:15Z", "message": "Add a flag named J9VM_OPT_OPENJDK_METHODHANDLE for CMake builds\n\nThis flag will enable OpenJDK MethodHandles. J9VM_OPT_METHOD_HANDLE\nneeds to disabled before enabling J9VM_OPT_OPENJDK_METHODHANDLE, and\nvice-versa.\n\nCo-authored-by: Jack Lu <Jack.S.Lu@ibm.com>\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "4bff5941115f792ea67b57e14a45e39e4919cf8f", "author": {"user": null}, "url": "https://github.com/eclipse-openj9/openj9/commit/4bff5941115f792ea67b57e14a45e39e4919cf8f", "committedDate": "2020-09-08T20:29:34Z", "message": "Add a flag named J9VM_OPT_OPENJDK_METHODHANDLE for CMake builds\n\nThis flag will enable OpenJDK MethodHandles. J9VM_OPT_METHOD_HANDLE\nneeds to disabled before enabling J9VM_OPT_OPENJDK_METHODHANDLE, and\nvice-versa.\n\nCo-authored-by: Jack Lu <Jack.S.Lu@ibm.com>\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85c875c7629a96fbab0bb47eabe5caa93f68ebb5", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/85c875c7629a96fbab0bb47eabe5caa93f68ebb5", "committedDate": "2020-09-08T20:39:53Z", "message": "Add a flag named J9VM_OPT_OPENJDK_METHODHANDLE for UMA builds\n\nThis flag will enable OpenJDK MethodHandles. J9VM_OPT_METHOD_HANDLE\nneeds to disabled before enabling J9VM_OPT_OPENJDK_METHODHANDLE, and\nvice-versa.\n\nJ9VM_OPT_METHOD_HANDLE and J9VM_OPT_OPENJDK_METHODHANDLE have been moved\nto core.feature since they are enabled on all platforms.\n\nCo-authored-by: Jack Lu <Jack.S.Lu@ibm.com>\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4bff5941115f792ea67b57e14a45e39e4919cf8f", "author": {"user": null}, "url": "https://github.com/eclipse-openj9/openj9/commit/4bff5941115f792ea67b57e14a45e39e4919cf8f", "committedDate": "2020-09-08T20:29:34Z", "message": "Add a flag named J9VM_OPT_OPENJDK_METHODHANDLE for CMake builds\n\nThis flag will enable OpenJDK MethodHandles. J9VM_OPT_METHOD_HANDLE\nneeds to disabled before enabling J9VM_OPT_OPENJDK_METHODHANDLE, and\nvice-versa.\n\nCo-authored-by: Jack Lu <Jack.S.Lu@ibm.com>\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "7752d5a0b1984d3af2131bec4bd713a97fa036a1", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/7752d5a0b1984d3af2131bec4bd713a97fa036a1", "committedDate": "2020-09-08T20:40:23Z", "message": "Add a flag named J9VM_OPT_OPENJDK_METHODHANDLE for CMake builds\n\nThis flag will enable OpenJDK MethodHandles. J9VM_OPT_METHOD_HANDLE\nneeds to disabled before enabling J9VM_OPT_OPENJDK_METHODHANDLE, and\nvice-versa.\n\nCo-authored-by: Jack Lu <Jack.S.Lu@ibm.com>\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5ODE5MzU3", "url": "https://github.com/eclipse-openj9/openj9/pull/10540#pullrequestreview-489819357", "createdAt": "2020-09-16T16:54:52Z", "commit": {"oid": "7752d5a0b1984d3af2131bec4bd713a97fa036a1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNjo1NDo1M1rOHS53Zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNjo1NDo1M1rOHS53Zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTU4NDQ4Ng==", "bodyText": "Please retain sorted order of flags.", "url": "https://github.com/eclipse-openj9/openj9/pull/10540#discussion_r489584486", "createdAt": "2020-09-16T16:54:53Z", "author": {"login": "keithc-ca"}, "path": "runtime/include/j9cfg.h.in", "diffHunk": "@@ -223,6 +223,7 @@ extern \"C\" {\n #cmakedefine J9VM_OPT_JXE_LOAD_SUPPORT\n #cmakedefine J9VM_OPT_MEMORY_CHECK_SUPPORT\n #cmakedefine J9VM_OPT_METHOD_HANDLE\n+#cmakedefine J9VM_OPT_OPENJDK_METHODHANDLE", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7752d5a0b1984d3af2131bec4bd713a97fa036a1"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7752d5a0b1984d3af2131bec4bd713a97fa036a1", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/7752d5a0b1984d3af2131bec4bd713a97fa036a1", "committedDate": "2020-09-08T20:40:23Z", "message": "Add a flag named J9VM_OPT_OPENJDK_METHODHANDLE for CMake builds\n\nThis flag will enable OpenJDK MethodHandles. J9VM_OPT_METHOD_HANDLE\nneeds to disabled before enabling J9VM_OPT_OPENJDK_METHODHANDLE, and\nvice-versa.\n\nCo-authored-by: Jack Lu <Jack.S.Lu@ibm.com>\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "02acca3d02db22f4d8f7c1d7a6be4fd70bf3ed79", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/02acca3d02db22f4d8f7c1d7a6be4fd70bf3ed79", "committedDate": "2020-09-16T17:45:44Z", "message": "Add a flag named J9VM_OPT_OPENJDK_METHODHANDLE for CMake builds\n\nThis flag will enable OpenJDK MethodHandles. J9VM_OPT_METHOD_HANDLE\nneeds to disabled before enabling J9VM_OPT_OPENJDK_METHODHANDLE, and\nvice-versa.\n\nCo-authored-by: Jack Lu <Jack.S.Lu@ibm.com>\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8d2c9dec0dd7a38806be018b76e3e0ca58dc1e0", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/e8d2c9dec0dd7a38806be018b76e3e0ca58dc1e0", "committedDate": "2020-09-16T17:48:36Z", "message": "Add a flag named J9VM_OPT_OPENJDK_METHODHANDLE for CMake builds\n\nThis flag will enable OpenJDK MethodHandles. J9VM_OPT_METHOD_HANDLE\nneeds to disabled before enabling J9VM_OPT_OPENJDK_METHODHANDLE, and\nvice-versa.\n\nCo-authored-by: Jack Lu <Jack.S.Lu@ibm.com>\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "02acca3d02db22f4d8f7c1d7a6be4fd70bf3ed79", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/02acca3d02db22f4d8f7c1d7a6be4fd70bf3ed79", "committedDate": "2020-09-16T17:45:44Z", "message": "Add a flag named J9VM_OPT_OPENJDK_METHODHANDLE for CMake builds\n\nThis flag will enable OpenJDK MethodHandles. J9VM_OPT_METHOD_HANDLE\nneeds to disabled before enabling J9VM_OPT_OPENJDK_METHODHANDLE, and\nvice-versa.\n\nCo-authored-by: Jack Lu <Jack.S.Lu@ibm.com>\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "e8d2c9dec0dd7a38806be018b76e3e0ca58dc1e0", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/e8d2c9dec0dd7a38806be018b76e3e0ca58dc1e0", "committedDate": "2020-09-16T17:48:36Z", "message": "Add a flag named J9VM_OPT_OPENJDK_METHODHANDLE for CMake builds\n\nThis flag will enable OpenJDK MethodHandles. J9VM_OPT_METHOD_HANDLE\nneeds to disabled before enabling J9VM_OPT_OPENJDK_METHODHANDLE, and\nvice-versa.\n\nCo-authored-by: Jack Lu <Jack.S.Lu@ibm.com>\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5ODU3MTg1", "url": "https://github.com/eclipse-openj9/openj9/pull/10540#pullrequestreview-489857185", "createdAt": "2020-09-16T17:46:46Z", "commit": {"oid": "7752d5a0b1984d3af2131bec4bd713a97fa036a1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNzo0NzoxNFrOHS7sjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNzo0OTozN1rOHS7xwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTYxNDQ3OA==", "bodyText": "Perhaps this should be opt_openjdkMethodHandle (with a capital 'H') for consistency with opt_methodHandle?", "url": "https://github.com/eclipse-openj9/openj9/pull/10540#discussion_r489614478", "createdAt": "2020-09-16T17:47:14Z", "author": {"login": "keithc-ca"}, "path": "buildspecs/core.feature", "diffHunk": "@@ -110,8 +110,10 @@ SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-excepti\n \t\t<flag id=\"opt_inlineJsrs\" value=\"true\"/>\n \t\t<flag id=\"opt_jitserver\" value=\"false\"/>\n \t\t<flag id=\"opt_module\" value=\"true\"/>\n+\t\t<flag id=\"opt_methodHandle\" value=\"true\"/>\n \t\t<flag id=\"opt_newObjectHash\" value=\"true\"/>\n \t\t<flag id=\"opt_newRomClassBuilder\" value=\"true\"/>\n+\t\t<flag id=\"opt_openjdkMethodhandle\" value=\"false\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02acca3d02db22f4d8f7c1d7a6be4fd70bf3ed79"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTYxNTgwOA==", "bodyText": "Is there code somewhere that will yield an error if both J9VM_OPT_METHOD_HANDLE and J9VM_OPT_OPENJDK_METHODHANDLE are enabled? Same question for UMA builds?", "url": "https://github.com/eclipse-openj9/openj9/pull/10540#discussion_r489615808", "createdAt": "2020-09-16T17:49:37Z", "author": {"login": "keithc-ca"}, "path": "runtime/cmake/options.cmake", "diffHunk": "@@ -132,9 +132,10 @@ option(J9VM_OPT_FRAGMENT_RAM_CLASSES \"Transitional flag for the the GC during th\n option(J9VM_OPT_JVMTI \"Support for the JVMTI interface\")\n option(J9VM_OPT_JXE_LOAD_SUPPORT \"Controls if main will allow -jxe: and relocate the disk image for you.\")\n \n-option(J9VM_OPT_METHOD_HANDLE \"Turns on methodhandle support\")\n+option(J9VM_OPT_METHOD_HANDLE \"Enables support for OpenJ9 MethodHandles. J9VM_OPT_OPENJDK_METHODHANDLE should be disabled.\")\n option(J9VM_OPT_MODULE \"Turns on module support\")\n option(J9VM_OPT_MULTI_VM \"Decides if multiple VMs can be created in the same address space\")\n+option(J9VM_OPT_OPENJDK_METHODHANDLE \"Enables support for OpenJDK MethodHandles. J9VM_OPT_METHOD_HANDLE should be disabled.\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8d2c9dec0dd7a38806be018b76e3e0ca58dc1e0"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMTcyNjk3", "url": "https://github.com/eclipse-openj9/openj9/pull/10540#pullrequestreview-490172697", "createdAt": "2020-09-17T00:56:06Z", "commit": {"oid": "e8d2c9dec0dd7a38806be018b76e3e0ca58dc1e0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4956, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}