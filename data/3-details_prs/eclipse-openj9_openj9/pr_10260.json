{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3NDU2NjQ4", "number": 10260, "title": "Clear non-zAAP eligible bit for JCL natives", "bodyText": "Invoke clearNonZAAPEligibleBit() for JCL natives:\nJava_sun_misc_Perf\nJava_sun_misc_Unsafe\nJava_sun_reflect_ConstantPool\n\nSigned-off-by: Jason Feng fengj@ca.ibm.com", "createdAt": "2020-07-27T23:37:08Z", "url": "https://github.com/eclipse-openj9/openj9/pull/10260", "merged": true, "mergeCommit": {"oid": "0a8087984ab7a09a000de77b956bcf85dd0b4855"}, "closed": true, "closedAt": "2020-07-28T01:54:45Z", "author": {"login": "JasonFengJ9"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5JNQ-AH2gAyNDU3NDU2NjQ4OjhhMmYzODM3MTJkZTljYjlmMDBlOGMzMDM3OGMyZTE0ZDgxNzhmMTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5Mg0CAFqTQ1NjI0OTEzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8a2f383712de9cb9f00e8c30378c2e14d8178f17", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8a2f383712de9cb9f00e8c30378c2e14d8178f17", "committedDate": "2020-07-27T22:03:24Z", "message": "Clear non-zAAP eligible bit for JCL natives\n\nInvoke clearNonZAAPEligibleBit() for JCL natives:\nJava_sun_misc_Perf\nJava_sun_misc_Unsafe\nJava_sun_reflect_ConstantPool\n\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MjE1MjE5", "url": "https://github.com/eclipse-openj9/openj9/pull/10260#pullrequestreview-456215219", "createdAt": "2020-07-28T00:04:37Z", "commit": {"oid": "8a2f383712de9cb9f00e8c30378c2e14d8178f17"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwMDowNDozN1rOG33z3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwMDowNDozN1rOG33z3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTIzOTI2MA==", "bodyText": "Pls declare c variables at the beginning of a scope.", "url": "https://github.com/eclipse-openj9/openj9/pull/10260#discussion_r461239260", "createdAt": "2020-07-28T00:04:37Z", "author": {"login": "pshipton"}, "path": "runtime/jcl/common/sun_reflect_ConstantPool.c", "diffHunk": "@@ -907,6 +908,7 @@ registerJdkInternalReflectConstantPoolNatives(JNIEnv *env) {\n \t\t\t(void *)&Java_sun_reflect_ConstantPool_getUTF8At0,\n \t\t},\n \t};\n+\tjint numNatives = sizeof(natives)/sizeof(JNINativeMethod);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a2f383712de9cb9f00e8c30378c2e14d8178f17"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MjE1NDc5", "url": "https://github.com/eclipse-openj9/openj9/pull/10260#pullrequestreview-456215479", "createdAt": "2020-07-28T00:05:20Z", "commit": {"oid": "8a2f383712de9cb9f00e8c30378c2e14d8178f17"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwMDowNToyMFrOG330zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwMDowNToyMFrOG330zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTIzOTUwMg==", "bodyText": "Pls declare c variables at the beginning of a scope.", "url": "https://github.com/eclipse-openj9/openj9/pull/10260#discussion_r461239502", "createdAt": "2020-07-28T00:05:20Z", "author": {"login": "pshipton"}, "path": "runtime/jcl/common/sun_misc_Perf.c", "diffHunk": "@@ -125,7 +126,11 @@ registerJdkInternalPerfPerfNatives(JNIEnv *env, jclass clazz) {\n \t\t\t(void *)&Java_sun_misc_Perf_highResFrequency\n \t\t},\n \t};\n-\t(*env)->RegisterNatives(env, clazz, natives, sizeof(natives)/sizeof(JNINativeMethod));\n+\tjint numNatives = sizeof(natives)/sizeof(JNINativeMethod);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a2f383712de9cb9f00e8c30378c2e14d8178f17"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MjE1NjYy", "url": "https://github.com/eclipse-openj9/openj9/pull/10260#pullrequestreview-456215662", "createdAt": "2020-07-28T00:05:52Z", "commit": {"oid": "8a2f383712de9cb9f00e8c30378c2e14d8178f17"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwMDowNTo1MlrOG331hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwMDowNTo1MlrOG331hg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTIzOTY4Ng==", "bodyText": "This declaration needs to be in a .h file.", "url": "https://github.com/eclipse-openj9/openj9/pull/10260#discussion_r461239686", "createdAt": "2020-07-28T00:05:52Z", "author": {"login": "pshipton"}, "path": "runtime/jcl/common/java_dyn_methodhandle.c", "diffHunk": "@@ -55,9 +56,6 @@ static void JNICALL vmInvalidate(JNIEnv *env, jclass mutableCallSiteClass, jlong\n static BOOLEAN accessCheckMethodSignature(J9VMThread *currentThread, J9Method *method, j9object_t methodType, J9UTF8 *lookupSig);\n static BOOLEAN accessCheckFieldSignature(J9VMThread *currentThread, J9Class* lookupClass, UDATA romField, j9object_t methodType, J9UTF8 *lookupSig);\n static char * expandNLSTemplate(J9VMThread *vmThread, const char *nlsTemplate, ...);\n-#if defined(J9VM_OPT_JAVA_OFFLOAD_SUPPORT)\n-static void clearNonZAAPEligibleBit(JNIEnv *env, jclass nativeClass, const JNINativeMethod *nativeMethods, jint nativeMethodCount);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a2f383712de9cb9f00e8c30378c2e14d8178f17"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MjQ5MTM4", "url": "https://github.com/eclipse-openj9/openj9/pull/10260#pullrequestreview-456249138", "createdAt": "2020-07-28T01:54:28Z", "commit": {"oid": "8a2f383712de9cb9f00e8c30378c2e14d8178f17"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 363, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}