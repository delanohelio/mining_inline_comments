{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2NTkzMjg2", "number": 9934, "title": "Improve Test_Thread failure diagnostics", "bodyText": "Related to #9915. The failure we're tracking re-occurred, but in a\ndifferent place. I've tried to over them all.\n[ci skip]\nSigned-off-by: Peter Shipton Peter_Shipton@ca.ibm.com", "createdAt": "2020-06-18T16:14:37Z", "url": "https://github.com/eclipse-openj9/openj9/pull/9934", "merged": true, "mergeCommit": {"oid": "8e0895f6286619cee3fb864d5478ed7fd6245da1"}, "closed": true, "closedAt": "2020-06-19T14:32:33Z", "author": {"login": "pshipton"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcshCJrAFqTQzMzQ1MjEyMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsz-oTgFqTQzNDEyNDQ0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzNDUyMTIx", "url": "https://github.com/eclipse-openj9/openj9/pull/9934#pullrequestreview-433452121", "createdAt": "2020-06-18T16:27:57Z", "commit": {"oid": "e0d4b734a93e2070ff3a93142b93b7feccd42c57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNjoyNzo1OFrOGl3E2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNjoyNzo1OFrOGl3E2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM1Mjg1OQ==", "bodyText": "This sequence might better be handled by:\n    Assert.fail(\"Failed to create subthread\", e);\n\nSee org.testng.Assert#fail", "url": "https://github.com/eclipse-openj9/openj9/pull/9934#discussion_r442352859", "createdAt": "2020-06-18T16:27:58Z", "author": {"login": "keithc-ca"}, "path": "test/functional/Java8andUp/src/org/openj9/test/java/lang/Test_Thread.java", "diffHunk": "@@ -163,6 +163,7 @@ public void test_Constructor2() {\n \t\t\tct = new Thread(new SimpleThread(10));\n \t\t\tct.start();\n \t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n \t\t\tAssertJUnit.assertTrue(\"Failed to create subthread\", false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0d4b734a93e2070ff3a93142b93b7feccd42c57"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e0d4b734a93e2070ff3a93142b93b7feccd42c57", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/e0d4b734a93e2070ff3a93142b93b7feccd42c57", "committedDate": "2020-06-18T16:13:14Z", "message": "Improve Test_Thread failure diagnostics\n\nRelated to #9915. The failure we're tracking re-occurred, but in a\ndifferent place. I've tried to over them all.\n\n[ci skip]\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "638ebe485c1cce9b4f6b4f8a8e7501c66d07becd", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/638ebe485c1cce9b4f6b4f8a8e7501c66d07becd", "committedDate": "2020-06-18T16:38:39Z", "message": "Improve Test_Thread failure diagnostics\n\nRelated to #9915. The failure we're tracking re-occurred, but in a\ndifferent place. I've tried to over them all.\n\n[ci skip]\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzNDY4NzU3", "url": "https://github.com/eclipse-openj9/openj9/pull/9934#pullrequestreview-433468757", "createdAt": "2020-06-18T16:48:34Z", "commit": {"oid": "638ebe485c1cce9b4f6b4f8a8e7501c66d07becd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNjo0ODozNFrOGl33xA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNjo0ODozNFrOGl33xA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM2NTg5Mg==", "bodyText": "The local variable result becomes useless with this change. Unless we expect to revert this later, the local variables should be removed (here and in test_join2() and test_join3()).", "url": "https://github.com/eclipse-openj9/openj9/pull/9934#discussion_r442365892", "createdAt": "2020-06-18T16:48:34Z", "author": {"login": "keithc-ca"}, "path": "test/functional/Java8andUp/src/org/openj9/test/java/lang/Test_Thread.java", "diffHunk": "@@ -787,6 +787,7 @@ public void test_join() {\n \t\t\t// }\n \t\t\tth.join();\n \t\t} catch (InterruptedException e) {\n+\t\t\tAssertJUnit.fail(\"Interrupted\", e);\n \t\t\tresult = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "638ebe485c1cce9b4f6b4f8a8e7501c66d07becd"}, "originalPosition": 86}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "638ebe485c1cce9b4f6b4f8a8e7501c66d07becd", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/638ebe485c1cce9b4f6b4f8a8e7501c66d07becd", "committedDate": "2020-06-18T16:38:39Z", "message": "Improve Test_Thread failure diagnostics\n\nRelated to #9915. The failure we're tracking re-occurred, but in a\ndifferent place. I've tried to over them all.\n\n[ci skip]\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "d42eb8293748aa20f10f6fa182574c97fea09445", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/d42eb8293748aa20f10f6fa182574c97fea09445", "committedDate": "2020-06-18T16:56:35Z", "message": "Improve Test_Thread failure diagnostics\n\nRelated to #9915. The failure we're tracking re-occurred, but in a\ndifferent place. I've tried to over them all.\n\n[ci skip]\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzNDg2NjA1", "url": "https://github.com/eclipse-openj9/openj9/pull/9934#pullrequestreview-433486605", "createdAt": "2020-06-18T17:12:06Z", "commit": {"oid": "d42eb8293748aa20f10f6fa182574c97fea09445"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNzoxMjowNlrOGl4r1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNzoxMjowNlrOGl4r1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM3OTIyMw==", "bodyText": "What is the purpose of the comments referring to 'killer' (there is nothing available here by that name)?", "url": "https://github.com/eclipse-openj9/openj9/pull/9934#discussion_r442379223", "createdAt": "2020-06-18T17:12:06Z", "author": {"login": "keithc-ca"}, "path": "test/functional/Java8andUp/src/org/openj9/test/java/lang/Test_Thread.java", "diffHunk": "@@ -787,10 +786,10 @@ public void test_join() {\n \t\t\t// }\n \t\t\tth.join();\n \t\t} catch (InterruptedException e) {\n-\t\t\tresult = false;\n+\t\t\t// killer.interrupt();\n+\t\t\tAssertJUnit.fail(\"Hung joining a non-started thread\", e);\n \t\t}\n \t\t// killer.interrupt();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d42eb8293748aa20f10f6fa182574c97fea09445"}, "originalPosition": 92}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d42eb8293748aa20f10f6fa182574c97fea09445", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/d42eb8293748aa20f10f6fa182574c97fea09445", "committedDate": "2020-06-18T16:56:35Z", "message": "Improve Test_Thread failure diagnostics\n\nRelated to #9915. The failure we're tracking re-occurred, but in a\ndifferent place. I've tried to over them all.\n\n[ci skip]\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "c1a51b6178ee017839cdb69866271300e837cee9", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/c1a51b6178ee017839cdb69866271300e837cee9", "committedDate": "2020-06-18T21:50:13Z", "message": "Improve Test_Thread failure diagnostics\n\nRelated to #9915. The failure we're tracking re-occurred, but in a\ndifferent place. I've tried to over them all.\n\n[ci skip]\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzNzQyNzc5", "url": "https://github.com/eclipse-openj9/openj9/pull/9934#pullrequestreview-433742779", "createdAt": "2020-06-19T01:15:04Z", "commit": {"oid": "c1a51b6178ee017839cdb69866271300e837cee9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MDMxOTI2", "url": "https://github.com/eclipse-openj9/openj9/pull/9934#pullrequestreview-434031926", "createdAt": "2020-06-19T12:20:01Z", "commit": {"oid": "c1a51b6178ee017839cdb69866271300e837cee9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMjoyMDowMlrOGmSz4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMjoyMDowMlrOGmSz4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjgwNzI2NA==", "bodyText": "This needs to use Assert.fail like on line 276 below. This correction is required several other places below.", "url": "https://github.com/eclipse-openj9/openj9/pull/9934#discussion_r442807264", "createdAt": "2020-06-19T12:20:02Z", "author": {"login": "keithc-ca"}, "path": "test/functional/Java8andUp/src/org/openj9/test/java/lang/Test_Thread.java", "diffHunk": "@@ -163,7 +163,7 @@ public void test_Constructor2() {\n \t\t\tct = new Thread(new SimpleThread(10));\n \t\t\tct.start();\n \t\t} catch (Exception e) {\n-\t\t\tAssertJUnit.assertTrue(\"Failed to create subthread\", false);\n+\t\t\tAssertJUnit.fail(\"Failed to create subthread\", e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1a51b6178ee017839cdb69866271300e837cee9"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d5553ddbcd866139e49d92d4a62fabf0f13f72e", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/1d5553ddbcd866139e49d92d4a62fabf0f13f72e", "committedDate": "2020-06-19T13:09:54Z", "message": "Improve Test_Thread failure diagnostics\n\nRelated to #9915. The failure we're tracking re-occurred, but in a\ndifferent place. I've tried to over them all.\n\n[ci skip]\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c1a51b6178ee017839cdb69866271300e837cee9", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/c1a51b6178ee017839cdb69866271300e837cee9", "committedDate": "2020-06-18T21:50:13Z", "message": "Improve Test_Thread failure diagnostics\n\nRelated to #9915. The failure we're tracking re-occurred, but in a\ndifferent place. I've tried to over them all.\n\n[ci skip]\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "1d5553ddbcd866139e49d92d4a62fabf0f13f72e", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/1d5553ddbcd866139e49d92d4a62fabf0f13f72e", "committedDate": "2020-06-19T13:09:54Z", "message": "Improve Test_Thread failure diagnostics\n\nRelated to #9915. The failure we're tracking re-occurred, but in a\ndifferent place. I've tried to over them all.\n\n[ci skip]\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MTI0NDQ2", "url": "https://github.com/eclipse-openj9/openj9/pull/9934#pullrequestreview-434124446", "createdAt": "2020-06-19T14:32:19Z", "commit": {"oid": "1d5553ddbcd866139e49d92d4a62fabf0f13f72e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 725, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}