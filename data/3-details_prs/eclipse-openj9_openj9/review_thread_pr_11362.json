{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyMTc1OTc5", "number": 11362, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQxNTowNzoxOVrOFReDPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yNlQxNTo1MDoyM1rOFTJ3_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzUzODYyNDYxOnYy", "diffSide": "RIGHT", "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/j9/walkers/LocalVariableTableIterator.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQxNTowNzoyMFrOIX68-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yNVQxNjo0MzoxMlrOIZv7-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTk1NDA0Mg==", "bodyText": "These address calculations are wrong for older core files (e.g. there's no nameSrp field to skip past).\nThis will require an update to VM_LOCAL_VARIABLE_TABLE_VERSION so we can interpret new and old core files correctly: #11330 should not have been merged without that.", "url": "https://github.com/eclipse-openj9/openj9/pull/11362#discussion_r561954042", "createdAt": "2021-01-21T15:07:20Z", "author": {"login": "keithc-ca"}, "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/j9/walkers/LocalVariableTableIterator.java", "diffHunk": "@@ -139,16 +142,21 @@ public LocalVariableTable next() {\n \t\t\t\t} else {\n \t\t\t\t\treturn null;\n \t\t\t\t}\n+\n+\t\t\t\tnameSrp = SelfRelativePointer.cast(localVariableTablePtr);\n \t\t\t\tname = J9UTF8Pointer.cast(SelfRelativePointer.cast(localVariableTablePtr).get());\n \t\t\t\tlocalVariableTablePtr = localVariableTablePtr.add(SelfRelativePointer.SIZEOF);\n-\t\t\t\t\n+\n+\t\t\t\tsignatureSrp = SelfRelativePointer.cast(localVariableTablePtr);\n \t\t\t\tsignature = J9UTF8Pointer.cast(SelfRelativePointer.cast(localVariableTablePtr).get());\n \t\t\t\tlocalVariableTablePtr = localVariableTablePtr.add(SelfRelativePointer.SIZEOF);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d474a449a6b198b782cb5d1ff1b3c42f661d1b2f"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjE0NzQ2Mg==", "bodyText": "#11330 did not change the format of the local variable table. It only changed the J9VariableInfoValues struct that is used in the iterator API in the VM. As far as I can tell, DDR does not read this struct anywhere. This PR only changes the way the local variable table is iterated (mirroring the changes in #11330), but it assumes the same format of the underlying data.", "url": "https://github.com/eclipse-openj9/openj9/pull/11362#discussion_r562147462", "createdAt": "2021-01-21T19:37:13Z", "author": {"login": "AlexeyKhrabrov"}, "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/j9/walkers/LocalVariableTableIterator.java", "diffHunk": "@@ -139,16 +142,21 @@ public LocalVariableTable next() {\n \t\t\t\t} else {\n \t\t\t\t\treturn null;\n \t\t\t\t}\n+\n+\t\t\t\tnameSrp = SelfRelativePointer.cast(localVariableTablePtr);\n \t\t\t\tname = J9UTF8Pointer.cast(SelfRelativePointer.cast(localVariableTablePtr).get());\n \t\t\t\tlocalVariableTablePtr = localVariableTablePtr.add(SelfRelativePointer.SIZEOF);\n-\t\t\t\t\n+\n+\t\t\t\tsignatureSrp = SelfRelativePointer.cast(localVariableTablePtr);\n \t\t\t\tsignature = J9UTF8Pointer.cast(SelfRelativePointer.cast(localVariableTablePtr).get());\n \t\t\t\tlocalVariableTablePtr = localVariableTablePtr.add(SelfRelativePointer.SIZEOF);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTk1NDA0Mg=="}, "originalCommit": {"oid": "d474a449a6b198b782cb5d1ff1b3c42f661d1b2f"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MzgxMzEyOQ==", "bodyText": "Ok, I take back my comment about bad address calculations.\nWhat is the point of the extra interpretations of the existing fields?\nWhy does LocalVariableTable need two copies each of 'name', 'signature' and 'genericSignature'?\nIf the old behavior is still acceptable for J9BCUtil, why does RomClassWalker need the new interpretations?\nWhy the duplication in #11330?", "url": "https://github.com/eclipse-openj9/openj9/pull/11362#discussion_r563813129", "createdAt": "2021-01-25T15:29:54Z", "author": {"login": "keithc-ca"}, "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/j9/walkers/LocalVariableTableIterator.java", "diffHunk": "@@ -139,16 +142,21 @@ public LocalVariableTable next() {\n \t\t\t\t} else {\n \t\t\t\t\treturn null;\n \t\t\t\t}\n+\n+\t\t\t\tnameSrp = SelfRelativePointer.cast(localVariableTablePtr);\n \t\t\t\tname = J9UTF8Pointer.cast(SelfRelativePointer.cast(localVariableTablePtr).get());\n \t\t\t\tlocalVariableTablePtr = localVariableTablePtr.add(SelfRelativePointer.SIZEOF);\n-\t\t\t\t\n+\n+\t\t\t\tsignatureSrp = SelfRelativePointer.cast(localVariableTablePtr);\n \t\t\t\tsignature = J9UTF8Pointer.cast(SelfRelativePointer.cast(localVariableTablePtr).get());\n \t\t\t\tlocalVariableTablePtr = localVariableTablePtr.add(SelfRelativePointer.SIZEOF);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTk1NDA0Mg=="}, "originalCommit": {"oid": "d474a449a6b198b782cb5d1ff1b3c42f661d1b2f"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2Mzg3MDcxMw==", "bodyText": "The reason for the change in #11330 was the need to visit the SRPs to strings in method debug info rather than the strings that they point to, in order to update these SRPs in the serialized ROMClass (serialization basically un-interns all the strings that a ROMClass refers to). The only purpose of this PR is to make the two implementations (in the VM and in DDR) consistent, as was suggested in #11330 reviews.", "url": "https://github.com/eclipse-openj9/openj9/pull/11362#discussion_r563870713", "createdAt": "2021-01-25T16:43:12Z", "author": {"login": "AlexeyKhrabrov"}, "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/j9/walkers/LocalVariableTableIterator.java", "diffHunk": "@@ -139,16 +142,21 @@ public LocalVariableTable next() {\n \t\t\t\t} else {\n \t\t\t\t\treturn null;\n \t\t\t\t}\n+\n+\t\t\t\tnameSrp = SelfRelativePointer.cast(localVariableTablePtr);\n \t\t\t\tname = J9UTF8Pointer.cast(SelfRelativePointer.cast(localVariableTablePtr).get());\n \t\t\t\tlocalVariableTablePtr = localVariableTablePtr.add(SelfRelativePointer.SIZEOF);\n-\t\t\t\t\n+\n+\t\t\t\tsignatureSrp = SelfRelativePointer.cast(localVariableTablePtr);\n \t\t\t\tsignature = J9UTF8Pointer.cast(SelfRelativePointer.cast(localVariableTablePtr).get());\n \t\t\t\tlocalVariableTablePtr = localVariableTablePtr.add(SelfRelativePointer.SIZEOF);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTk1NDA0Mg=="}, "originalCommit": {"oid": "d474a449a6b198b782cb5d1ff1b3c42f661d1b2f"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzUzODY4ODM2OnYy", "diffSide": "RIGHT", "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/tools/ddrinteractive/RomClassWalker.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQxNToxOTozMFrOIX7jPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQxOTozODoxMFrOIYGysA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTk2MzgzOA==", "bodyText": "The string literals should correspond to the structure field names (i.e. \"name\" & \"signature\").", "url": "https://github.com/eclipse-openj9/openj9/pull/11362#discussion_r561963838", "createdAt": "2021-01-21T15:19:30Z", "author": {"login": "keithc-ca"}, "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/tools/ddrinteractive/RomClassWalker.java", "diffHunk": "@@ -1054,10 +1055,10 @@ long allSlotsInMethodDebugInfoDo(U32Pointer cursor) throws CorruptDataException\n \t\t\t\tLocalVariableTable values = variableInfoValuesIterator.next();\n \n \t\t\t\t// Need to walk the name and signature to add them to the UTF8 section\n-\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_UTF8, values.getName(), \"name\");\n-\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_UTF8, values.getSignature(), \"getSignature\");\n+\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_ROM_UTF8, values.getNameSrp(), \"variableName\");\n+\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_ROM_UTF8, values.getSignatureSrp(), \"variableSignature\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d474a449a6b198b782cb5d1ff1b3c42f661d1b2f"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjE0ODAxNg==", "bodyText": "Done.", "url": "https://github.com/eclipse-openj9/openj9/pull/11362#discussion_r562148016", "createdAt": "2021-01-21T19:38:10Z", "author": {"login": "AlexeyKhrabrov"}, "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/tools/ddrinteractive/RomClassWalker.java", "diffHunk": "@@ -1054,10 +1055,10 @@ long allSlotsInMethodDebugInfoDo(U32Pointer cursor) throws CorruptDataException\n \t\t\t\tLocalVariableTable values = variableInfoValuesIterator.next();\n \n \t\t\t\t// Need to walk the name and signature to add them to the UTF8 section\n-\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_UTF8, values.getName(), \"name\");\n-\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_UTF8, values.getSignature(), \"getSignature\");\n+\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_ROM_UTF8, values.getNameSrp(), \"variableName\");\n+\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_ROM_UTF8, values.getSignatureSrp(), \"variableSignature\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTk2MzgzOA=="}, "originalCommit": {"oid": "d474a449a6b198b782cb5d1ff1b3c42f661d1b2f"}, "originalPosition": 73}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzU1NjIxNzE2OnYy", "diffSide": "RIGHT", "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/j9/walkers/LocalVariableTableIterator.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yNlQxNTozNjo1OVrOIac6nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yOFQyMDo1MDo1N1rOIcKNdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDYwNzY0Nw==", "bodyText": "This can now be simplified:\nname = J9UTF8Pointer.cast(nameSrp.get());\n\nLikewise, for signature and genericSignature.", "url": "https://github.com/eclipse-openj9/openj9/pull/11362#discussion_r564607647", "createdAt": "2021-01-26T15:36:59Z", "author": {"login": "keithc-ca"}, "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/j9/walkers/LocalVariableTableIterator.java", "diffHunk": "@@ -139,16 +142,21 @@ public LocalVariableTable next() {\n \t\t\t\t} else {\n \t\t\t\t\treturn null;\n \t\t\t\t}\n+\n+\t\t\t\tnameSrp = SelfRelativePointer.cast(localVariableTablePtr);\n \t\t\t\tname = J9UTF8Pointer.cast(SelfRelativePointer.cast(localVariableTablePtr).get());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "adbc5aa027ce6aebd657d7d488bad647b15b8119"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjM5ODMyNw==", "bodyText": "Done.", "url": "https://github.com/eclipse-openj9/openj9/pull/11362#discussion_r566398327", "createdAt": "2021-01-28T20:50:57Z", "author": {"login": "AlexeyKhrabrov"}, "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/j9/walkers/LocalVariableTableIterator.java", "diffHunk": "@@ -139,16 +142,21 @@ public LocalVariableTable next() {\n \t\t\t\t} else {\n \t\t\t\t\treturn null;\n \t\t\t\t}\n+\n+\t\t\t\tnameSrp = SelfRelativePointer.cast(localVariableTablePtr);\n \t\t\t\tname = J9UTF8Pointer.cast(SelfRelativePointer.cast(localVariableTablePtr).get());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDYwNzY0Nw=="}, "originalCommit": {"oid": "adbc5aa027ce6aebd657d7d488bad647b15b8119"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzU1NjI3NTE3OnYy", "diffSide": "RIGHT", "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/tools/ddrinteractive/RomClassWalker.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yNlQxNTo0Nzo0N1rOIadeQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yNlQxNTo0Nzo0N1rOIadeQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDYxNjc2OA==", "bodyText": "I think this should use J9_UTF8 to benefit from the extra sanity checking in LinearDumper.java.", "url": "https://github.com/eclipse-openj9/openj9/pull/11362#discussion_r564616768", "createdAt": "2021-01-26T15:47:47Z", "author": {"login": "keithc-ca"}, "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/tools/ddrinteractive/RomClassWalker.java", "diffHunk": "@@ -297,38 +297,38 @@ private J9ROMMethodPointer allSlotsInROMMethodDo(J9ROMMethodPointer method) thro\n \n \t\treturn J9ROMMethodPointer.cast(cursor);\n \t}\n-\t\n+\n \tprivate long allSlotsInMethodParametersDataDo(U32Pointer cursor) throws CorruptDataException\n \t{\n \t\tJ9MethodParametersDataPointer methodParametersData = J9MethodParametersDataPointer.cast(cursor);\n \t\tJ9MethodParameterPointer parameters = methodParametersData.parameters();\n \t\tlong methodParametersSize = ROMHelp.J9_METHOD_PARAMS_SIZE_FROM_NUMBER_OF_PARAMS(methodParametersData.parameterCount().longValue());\n \t\tlong padding = U32.SIZEOF - (methodParametersSize % U32.SIZEOF);\n \t\tlong size = 0;\n-\t\t\n+\n \t\tif (padding == U32.SIZEOF) {\n \t\t\tpadding = 0;\n \t\t}\n-\t\t\n+\n \t\tsize = methodParametersSize + padding;\n-\t\t\n+\n \t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_SRP, methodParametersData.parameterCountEA(), \"parameterCount\");\n-\t\t\n+\n \t\tfor (int i = 0; i < methodParametersData.parameterCount().longValue(); i++) {\n-\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_SRP, parameters.nameEA(), \"methodParameterName\");\n-\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_U16, parameters.flagsEA(), \"methodParameterFlag\");\t\t\t\n+\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_ROM_UTF8, parameters.nameEA(), \"methodParameterName\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "adbc5aa027ce6aebd657d7d488bad647b15b8119"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzU1NjI5MDU1OnYy", "diffSide": "RIGHT", "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/tools/ddrinteractive/RomClassWalker.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yNlQxNTo1MDoyM1rOIadnUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yOFQyMTo0NDoxMlrOIcL-eQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDYxOTA5MA==", "bodyText": "I think these should continue to use J9_UTF8 to benefit from the extra sanity checking in LinearDumper.java.\nThe corresponding arguments (getNameSrp(), etc. are correct).", "url": "https://github.com/eclipse-openj9/openj9/pull/11362#discussion_r564619090", "createdAt": "2021-01-26T15:50:23Z", "author": {"login": "keithc-ca"}, "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/tools/ddrinteractive/RomClassWalker.java", "diffHunk": "@@ -1054,10 +1055,10 @@ long allSlotsInMethodDebugInfoDo(U32Pointer cursor) throws CorruptDataException\n \t\t\t\tLocalVariableTable values = variableInfoValuesIterator.next();\n \n \t\t\t\t// Need to walk the name and signature to add them to the UTF8 section\n-\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_UTF8, values.getName(), \"name\");\n-\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_UTF8, values.getSignature(), \"getSignature\");\n+\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_ROM_UTF8, values.getNameSrp(), \"name\");\n+\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_ROM_UTF8, values.getSignatureSrp(), \"signature\");\n \t\t\t\tif (values.getGenericSignature().notNull()) {\n-\t\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_UTF8, values.getGenericSignature(), \"getGenericSignature\");\n+\t\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_ROM_UTF8, values.getGenericSignatureSrp(), \"genericSignature\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "adbc5aa027ce6aebd657d7d488bad647b15b8119"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjM5NzM1Nw==", "bodyText": "As far as I understand the code in LinearDumper.java, the strings pointed to by J9_ROM_UTF8 slots go through the same bound checking as with J9_UTF8. The difference between them is that J9_ROM_UTF8 also handles the SRP, not just the string it points to, so the resulting tree of regions will actually be more complete. The rest of the code uses J9_ROM_UTF8, and it would actually be possible to remove J9_UTF8 altogether after this change. I can only see J9_UTF8 being necessary when a J9UTF8 string is stored \"inline\" somewhere with no SRP pointing to it, but there are no such cases right now as far as I can tell.", "url": "https://github.com/eclipse-openj9/openj9/pull/11362#discussion_r566397357", "createdAt": "2021-01-28T20:49:08Z", "author": {"login": "AlexeyKhrabrov"}, "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/tools/ddrinteractive/RomClassWalker.java", "diffHunk": "@@ -1054,10 +1055,10 @@ long allSlotsInMethodDebugInfoDo(U32Pointer cursor) throws CorruptDataException\n \t\t\t\tLocalVariableTable values = variableInfoValuesIterator.next();\n \n \t\t\t\t// Need to walk the name and signature to add them to the UTF8 section\n-\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_UTF8, values.getName(), \"name\");\n-\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_UTF8, values.getSignature(), \"getSignature\");\n+\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_ROM_UTF8, values.getNameSrp(), \"name\");\n+\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_ROM_UTF8, values.getSignatureSrp(), \"signature\");\n \t\t\t\tif (values.getGenericSignature().notNull()) {\n-\t\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_UTF8, values.getGenericSignature(), \"getGenericSignature\");\n+\t\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_ROM_UTF8, values.getGenericSignatureSrp(), \"genericSignature\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDYxOTA5MA=="}, "originalCommit": {"oid": "adbc5aa027ce6aebd657d7d488bad647b15b8119"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjQyNzI1Nw==", "bodyText": "I looked at the code I referenced in LinearDumper again: I think you're right.", "url": "https://github.com/eclipse-openj9/openj9/pull/11362#discussion_r566427257", "createdAt": "2021-01-28T21:44:12Z", "author": {"login": "keithc-ca"}, "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/tools/ddrinteractive/RomClassWalker.java", "diffHunk": "@@ -1054,10 +1055,10 @@ long allSlotsInMethodDebugInfoDo(U32Pointer cursor) throws CorruptDataException\n \t\t\t\tLocalVariableTable values = variableInfoValuesIterator.next();\n \n \t\t\t\t// Need to walk the name and signature to add them to the UTF8 section\n-\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_UTF8, values.getName(), \"name\");\n-\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_UTF8, values.getSignature(), \"getSignature\");\n+\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_ROM_UTF8, values.getNameSrp(), \"name\");\n+\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_ROM_UTF8, values.getSignatureSrp(), \"signature\");\n \t\t\t\tif (values.getGenericSignature().notNull()) {\n-\t\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_UTF8, values.getGenericSignature(), \"getGenericSignature\");\n+\t\t\t\t\tclassWalkerCallback.addSlot(clazz, SlotType.J9_ROM_UTF8, values.getGenericSignatureSrp(), \"genericSignature\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDYxOTA5MA=="}, "originalCommit": {"oid": "adbc5aa027ce6aebd657d7d488bad647b15b8119"}, "originalPosition": 76}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 826, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}