{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5MTYyMjk3", "number": 10404, "title": "Use flexible array member for J9UTF8", "bodyText": "Also fix all direct uses of J9UTF8 fields to use the access macros.\nFixes: #10244\nSigned-off-by: Graham Chapman graham_chapman@ca.ibm.com", "createdAt": "2020-08-18T02:31:11Z", "url": "https://github.com/eclipse-openj9/openj9/pull/10404", "merged": true, "mergeCommit": {"oid": "8c9e3019d95571775b96dadff788d31f3d550381"}, "closed": true, "closedAt": "2020-08-18T19:04:03Z", "author": {"login": "gacholio"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc_9sXpgBqjM2NjQyOTczMTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAL0zcAFqTQ2OTc0MjA3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8d9c9d3102aee947c4bed9c1a217543dc5d5e3ed", "author": {"user": {"login": "gacholio", "name": "Graham Chapman"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8d9c9d3102aee947c4bed9c1a217543dc5d5e3ed", "committedDate": "2020-08-17T20:02:36Z", "message": "Use flexible array member for J9UTF8\n\nAlso fix all direct uses of J9UTF8 fields to use the access macros.\n\nFixes: #10244\n\nSigned-off-by: Graham Chapman <graham_chapman@ca.ibm.com>"}, "afterCommit": {"oid": "c2cfee1ed266de78c729dc275e911bea63ebad9e", "author": {"user": {"login": "gacholio", "name": "Graham Chapman"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/c2cfee1ed266de78c729dc275e911bea63ebad9e", "committedDate": "2020-08-18T02:35:34Z", "message": "Use flexible array member for J9UTF8\n\nAlso fix all direct uses of J9UTF8 fields to use the access macros.\n\nFixes: #10244\n\nSigned-off-by: Graham Chapman <graham_chapman@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NDE1MjE3", "url": "https://github.com/eclipse-openj9/openj9/pull/10404#pullrequestreview-469415217", "createdAt": "2020-08-18T12:41:05Z", "commit": {"oid": "c2cfee1ed266de78c729dc275e911bea63ebad9e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMjo0MTowNlrOHCRtxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMjo0NDozOFrOHCR60w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjE0OTQ0NA==", "bodyText": "This should disable the warning only for the following struct declaration:\n#pragma warning(push)\n#pragma warning(disable : 4200)\n\nand restore the warning after the declaration:\n#pragma warning(pop)", "url": "https://github.com/eclipse-openj9/openj9/pull/10404#discussion_r472149444", "createdAt": "2020-08-18T12:41:06Z", "author": {"login": "keithc-ca"}, "path": "runtime/oti/j9nonbuilder.h", "diffHunk": "@@ -3218,9 +3218,12 @@ typedef struct J9ClassLoader {\n #define J9CLASSLOADER_SET_CLASSLOADEROBJECT(vmThread, object, value) J9VMTHREAD_JAVAVM(vmThread)->memoryManagerFunctions->j9gc_objaccess_storeObjectToInternalVMSlot((vmThread), (j9object_t*)&((object)->classLoaderObject), (value))\n #define TMP_J9CLASSLOADER_CLASSLOADEROBJECT(object) ((object)->classLoaderObject)\n \n+#if defined(_MSC_VER)\n+#pragma warning(disable : 4200)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2cfee1ed266de78c729dc275e911bea63ebad9e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjE1Mjc4Nw==", "bodyText": "Why the + 1? The characters in J9UTF8 are not expected to be nul-terminated.", "url": "https://github.com/eclipse-openj9/openj9/pull/10404#discussion_r472152787", "createdAt": "2020-08-18T12:44:38Z", "author": {"login": "keithc-ca"}, "path": "runtime/shared_common/shrinit.cpp", "diffHunk": "@@ -3397,7 +3397,7 @@ j9shr_init(J9JavaVM *vm, UDATA loadFlags, UDATA* nonfatal)\n \n \tcmBytes = SH_CacheMap::getRequiredConstrBytes(false);\n \tnameBytes = (strlen(modifiedCacheNamePtr)+1) * sizeof(char);\n-\tmodContextBytes = modContext ? ((strlen(modContext) * sizeof(char)) + sizeof(J9UTF8)) : 0;\n+\tmodContextBytes = modContext ? (((strlen(modContext) + 1) * sizeof(char)) + sizeof(J9UTF8)) : 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2cfee1ed266de78c729dc275e911bea63ebad9e"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "604097c5c9dc474d9b00ac484d066a40ba92a710", "author": {"user": {"login": "gacholio", "name": "Graham Chapman"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/604097c5c9dc474d9b00ac484d066a40ba92a710", "committedDate": "2020-08-18T15:13:09Z", "message": "Signed-off-by: Graham Chapman <graham_chapman@ca.ibm.com>"}, "afterCommit": {"oid": "8f96e70f70c87647c15e5fd8bfef99cb9b1d78f7", "author": {"user": {"login": "gacholio", "name": "Graham Chapman"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8f96e70f70c87647c15e5fd8bfef99cb9b1d78f7", "committedDate": "2020-08-18T15:13:42Z", "message": "Use flexible array member for J9UTF8\n\nAlso fix all direct uses of J9UTF8 fields to use the access macros.\n\nFixes: #10244\n\nSigned-off-by: Graham Chapman <graham_chapman@ca.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54317f6d17c50f901afe9bd5d2d9dacd6e9ee652", "author": {"user": {"login": "gacholio", "name": "Graham Chapman"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/54317f6d17c50f901afe9bd5d2d9dacd6e9ee652", "committedDate": "2020-08-18T16:34:41Z", "message": "Use flexible array member for J9UTF8\n\nAlso fix all direct uses of J9UTF8 fields to use the access macros.\n\nFixes: #10244\n\nSigned-off-by: Graham Chapman <graham_chapman@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8f96e70f70c87647c15e5fd8bfef99cb9b1d78f7", "author": {"user": {"login": "gacholio", "name": "Graham Chapman"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8f96e70f70c87647c15e5fd8bfef99cb9b1d78f7", "committedDate": "2020-08-18T15:13:42Z", "message": "Use flexible array member for J9UTF8\n\nAlso fix all direct uses of J9UTF8 fields to use the access macros.\n\nFixes: #10244\n\nSigned-off-by: Graham Chapman <graham_chapman@ca.ibm.com>"}, "afterCommit": {"oid": "54317f6d17c50f901afe9bd5d2d9dacd6e9ee652", "author": {"user": {"login": "gacholio", "name": "Graham Chapman"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/54317f6d17c50f901afe9bd5d2d9dacd6e9ee652", "committedDate": "2020-08-18T16:34:41Z", "message": "Use flexible array member for J9UTF8\n\nAlso fix all direct uses of J9UTF8 fields to use the access macros.\n\nFixes: #10244\n\nSigned-off-by: Graham Chapman <graham_chapman@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NzQyMDc5", "url": "https://github.com/eclipse-openj9/openj9/pull/10404#pullrequestreview-469742079", "createdAt": "2020-08-18T19:03:52Z", "commit": {"oid": "54317f6d17c50f901afe9bd5d2d9dacd6e9ee652"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 172, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}