{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwMzkyOTkz", "number": 10657, "title": "Cache J9InternalVMFunctions pointer in a local", "bodyText": "Found while reviewing code, caching it in a local removes\none level of pointer indirection from the loop.\nThis isn't performance critical code as it happens during\na jvmti event anyway, but still better to cache when possible.\nSigned-off-by: Dan Heidinga heidinga@redhat.com", "createdAt": "2020-09-21T15:42:46Z", "url": "https://github.com/eclipse-openj9/openj9/pull/10657", "merged": true, "mergeCommit": {"oid": "352f71b11badb3a9fd137c84237810224c36855a"}, "closed": true, "closedAt": "2020-09-22T15:22:34Z", "author": {"login": "DanHeidinga"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLJdf1AH2gAyNDkwMzkyOTkzOjE4NWZkMzAyYzU1MzJiMWZhOTJjN2NhNzdjNTc5MmEzZmU4OTA2MzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLMnlbAH2gAyNDkwMzkyOTkzOmU1ODRlODk3YzIxMzQ5MGQwOWE0N2E3ZjU5NThmYWZhYTk2NWQ1NzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "185fd302c5532b1fa92c7ca77c5792a3fe890636", "author": {"user": {"login": "DanHeidinga", "name": "Dan Heidinga"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/185fd302c5532b1fa92c7ca77c5792a3fe890636", "committedDate": "2020-09-21T20:31:46Z", "message": "Cache J9InternalVMFunctions pointer in a local\n\nFound while reviewing code, caching it in a local removes\none level of pointer indirection from the loop.\n\nThis isn't performance critical code as it happens during\na jvmti event anyway, but still better to cache when possible.\n\nSigned-off-by: Dan Heidinga <heidinga@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0ed1efadfa610dc793992184e7ce1de1865c045b", "author": {"user": {"login": "DanHeidinga", "name": "Dan Heidinga"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/0ed1efadfa610dc793992184e7ce1de1865c045b", "committedDate": "2020-09-21T15:40:51Z", "message": "Cache J9InternalVMFunctions pointer in a local\n\nFound while reviewing code, caching it in a local removes\none level of pointer indirection from the loop.\n\nThis isn't performance critical code as it happens during\na jvmti event anyway, but still better to cache when possible.\n\nSigned-off-by: Dan Heidinga <daniel_heidinga@ca.ibm.com>"}, "afterCommit": {"oid": "185fd302c5532b1fa92c7ca77c5792a3fe890636", "author": {"user": {"login": "DanHeidinga", "name": "Dan Heidinga"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/185fd302c5532b1fa92c7ca77c5792a3fe890636", "committedDate": "2020-09-21T20:31:46Z", "message": "Cache J9InternalVMFunctions pointer in a local\n\nFound while reviewing code, caching it in a local removes\none level of pointer indirection from the loop.\n\nThis isn't performance critical code as it happens during\na jvmti event anyway, but still better to cache when possible.\n\nSigned-off-by: Dan Heidinga <heidinga@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyOTc0NjU4", "url": "https://github.com/eclipse-openj9/openj9/pull/10657#pullrequestreview-492974658", "createdAt": "2020-09-21T20:57:25Z", "commit": {"oid": "185fd302c5532b1fa92c7ca77c5792a3fe890636"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMDo1NzoyNVrOHViJ5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMDo1NzoyNVrOHViJ5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM0MTczMw==", "bodyText": "Ideally this should be const * const.", "url": "https://github.com/eclipse-openj9/openj9/pull/10657#discussion_r492341733", "createdAt": "2020-09-21T20:57:25Z", "author": {"login": "gacholio"}, "path": "runtime/jvmti/jvmtiClass.c", "diffHunk": "@@ -82,21 +82,22 @@ static jvmtiError jvmtiGetConstantPool_addInvokeDynamic(jvmtiGcp_translation *tr\n static jint\n jvmtiGetLoadedClassesCount(J9JavaVM * vm)\n {\n+\tJ9InternalVMFunctions * const vmfuncs = vm->internalVMFunctions;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "185fd302c5532b1fa92c7ca77c5792a3fe890636"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e584e897c213490d09a47a7f5958fafaa965d573", "author": {"user": {"login": "DanHeidinga", "name": "Dan Heidinga"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/e584e897c213490d09a47a7f5958fafaa965d573", "committedDate": "2020-09-22T00:12:30Z", "message": "Use const * const for J9InternalVMFunctions pointer\n\nSigned-off-by: Dan Heidinga <heidinga@redhat.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 77, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}