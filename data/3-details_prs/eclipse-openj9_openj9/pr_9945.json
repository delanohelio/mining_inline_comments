{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2ODc1MDk1", "number": 9945, "title": "Fix warnings building on osx", "bodyText": "Use explicit boolean conditions and additional brackets\nwhen assigning to a local in an conditional\n\n\nAdd brackets to clarify intended order of operations\nwhen using both && and || in the same conditional\n\n\nSigned-off-by: Dan Heidinga daniel_heidinga@ca.ibm.com", "createdAt": "2020-06-19T04:00:22Z", "url": "https://github.com/eclipse-openj9/openj9/pull/9945", "merged": true, "mergeCommit": {"oid": "f7126ec23bfc73cc49837d45d5665390ec3eefd5"}, "closed": true, "closedAt": "2020-06-23T13:09:16Z", "author": {"login": "DanHeidinga"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcszYMWAFqTQzNDA5MTg4OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABctxQoHgFqTQzNDk0NzI3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MDkxODg5", "url": "https://github.com/eclipse-openj9/openj9/pull/9945#pullrequestreview-434091889", "createdAt": "2020-06-19T13:48:57Z", "commit": {"oid": "caa2c214a9e4e4df0bfd60bafa6a0f5b93ac0b8d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMzo0ODo1N1rOGmVgYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMzo1MDowNVrOGmVi0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg1MTQyNQ==", "bodyText": "Why do we need the ()s around the == components of a straight && - there are dozens of examples of && chains like this in the compiler so my preference would be to keep them uniform unless there is a real need to change them to satisfy a compiler. If we do decide to change them I'd prefer to try and make it uniformly at once to avoid mixing styles..\nTo be clear I'm 100% onboard with the assignment != NULL change on the while.", "url": "https://github.com/eclipse-openj9/openj9/pull/9945#discussion_r442851425", "createdAt": "2020-06-19T13:48:57Z", "author": {"login": "andrewcraik"}, "path": "runtime/compiler/compile/J9SymbolReferenceTable.cpp", "diffHunk": "@@ -1428,10 +1428,10 @@ J9::SymbolReferenceTable::findJavaLangReferenceReferentShadowSymbol(TR_ResolvedM\n    TR::SymbolReference * symRef;\n    TR_SymRefIterator i(type == TR::Address ? aliasBuilder.addressShadowSymRefs() :\n                                             (type == TR::Int32 ? aliasBuilder.intShadowSymRefs() : aliasBuilder.nonIntPrimitiveShadowSymRefs()), self());\n-   while (symRef = i.getNext())\n-      if (symRef->getSymbol()->getDataType() == type &&\n-          symRef->getOffset() == offset &&\n-          symRef->getOwningMethod(comp()) == owningMethod)\n+   while ((symRef = i.getNext()) != NULL)\n+      if ((symRef->getSymbol()->getDataType() == type) &&\n+          (symRef->getOffset() == offset) &&\n+          (symRef->getOwningMethod(comp()) == owningMethod))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "caa2c214a9e4e4df0bfd60bafa6a0f5b93ac0b8d"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg1MjA0OA==", "bodyText": "I'm fine with the ()s around the && to make the precedence clear but why around the == ?", "url": "https://github.com/eclipse-openj9/openj9/pull/9945#discussion_r442852048", "createdAt": "2020-06-19T13:50:05Z", "author": {"login": "andrewcraik"}, "path": "runtime/compiler/control/HookedByTheJit.cpp", "diffHunk": "@@ -4332,14 +4332,18 @@ static void jitStateLogic(J9JITConfig * jitConfig, TR::CompilationInfo * compInf\n       }\n    else // We will go to STEADY or DEEP_STEADY\n       {\n-      if (oldState == DEEPSTEADY_STATE ||  // keep the DEEPSTEADY_STATE\n+      if ((oldState == DEEPSTEADY_STATE) ||  // keep the DEEPSTEADY_STATE", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "caa2c214a9e4e4df0bfd60bafa6a0f5b93ac0b8d"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d711c43e4eeb365cc42ad5e9b72ca17dd62a2f3", "author": {"user": {"login": "DanHeidinga", "name": "Dan Heidinga"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/5d711c43e4eeb365cc42ad5e9b72ca17dd62a2f3", "committedDate": "2020-06-19T16:59:23Z", "message": "Fix warnings building on osx\n\n* Use explicit boolean conditions and additional brackets\nwhen assigning to a local in an conditional\n\n* Add brackets to clarify intended order of operations\nwhen using both && and || in the same conditional\n\nSigned-off-by: Dan Heidinga <daniel_heidinga@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "caa2c214a9e4e4df0bfd60bafa6a0f5b93ac0b8d", "author": {"user": {"login": "DanHeidinga", "name": "Dan Heidinga"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/caa2c214a9e4e4df0bfd60bafa6a0f5b93ac0b8d", "committedDate": "2020-06-19T03:54:34Z", "message": "Fix warnings building on osx\n\n* Use explicit boolean conditions and additional brackets\nwhen assigning to a local in an conditional\n\n* Add brackets to clarify intended order of operations\nwhen using both && and || in the same conditional\n\nSigned-off-by: Dan Heidinga <daniel_heidinga@ca.ibm.com>"}, "afterCommit": {"oid": "5d711c43e4eeb365cc42ad5e9b72ca17dd62a2f3", "author": {"user": {"login": "DanHeidinga", "name": "Dan Heidinga"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/5d711c43e4eeb365cc42ad5e9b72ca17dd62a2f3", "committedDate": "2020-06-19T16:59:23Z", "message": "Fix warnings building on osx\n\n* Use explicit boolean conditions and additional brackets\nwhen assigning to a local in an conditional\n\n* Add brackets to clarify intended order of operations\nwhen using both && and || in the same conditional\n\nSigned-off-by: Dan Heidinga <daniel_heidinga@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0OTQ3Mjc3", "url": "https://github.com/eclipse-openj9/openj9/pull/9945#pullrequestreview-434947277", "createdAt": "2020-06-22T13:56:11Z", "commit": {"oid": "5d711c43e4eeb365cc42ad5e9b72ca17dd62a2f3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 733, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}