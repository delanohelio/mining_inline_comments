{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2OTk1Nzk0", "number": 8405, "title": "Grow StringBuffer and StringBuilder aggressively from 1G to 2G", "bodyText": "Affects jdk8 only. jdk11 and later already grow aggressively.\nWhen -Djava.lang.stringBufferAndBuilder.growAggressively or\n-Djava.lang.stringBufferAndBuilder.growAggressively=true is set on\nthe command line, and doubling the capacity overflows Integer.MAX_VALUE,\ngrow StringBuffer and StringBuilder to Integer.MAX_VALUE instead of\nonly increasing the capacity by the size of the String being appended.\nCompatible with Hotspot behavior.\nAdd testing for the same.\nFixes #7671\nDoc issue eclipse-openj9/openj9-docs#497", "createdAt": "2020-01-24T20:08:02Z", "url": "https://github.com/eclipse-openj9/openj9/pull/8405", "merged": true, "mergeCommit": {"oid": "a740844b833a9c3516f59a73f075aa7f0ce83952"}, "closed": true, "closedAt": "2020-01-30T20:25:20Z", "author": {"login": "pshipton"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb9kyNYABqjI5Nzg0Njg5MTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_gfALgFqTM1MTExNjU4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6ff9003dbdcbda0523c5f2ce598a55f76f43864b", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/6ff9003dbdcbda0523c5f2ce598a55f76f43864b", "committedDate": "2020-01-24T19:55:48Z", "message": "Grow StringBuffer and StringBuilder aggressively from 1G to 2G\n\nWhen `-Djava.lang.stringBufferAndBuilder.growAggressively` or\n`-Djava.lang.stringBufferAndBuilder.growAggressively=true` is set on\nthe command line, and doubling the capacity overflows Integer.MAX_VALUE, \ngrow StringBuffer and StringBuilder to Integer.MAX_VALUE-8 instead of\nonly increasing the capacity by the size of the String being appended.\nCompatible with Hotspot behavior.\n\nAdd testing for the same.\n\nFixes #7671\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "5244e305da1d5f1a9928fbed05d33c3fd44ca680", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/5244e305da1d5f1a9928fbed05d33c3fd44ca680", "committedDate": "2020-01-24T20:15:22Z", "message": "Grow StringBuffer and StringBuilder aggressively from 1G to 2G\n\nWhen `-Djava.lang.stringBufferAndBuilder.growAggressively` or\n`-Djava.lang.stringBufferAndBuilder.growAggressively=true` is set on\nthe command line, and doubling the capacity overflows Integer.MAX_VALUE, \ngrow StringBuffer and StringBuilder to Integer.MAX_VALUE instead of\nonly increasing the capacity by the size of the String being appended.\nCompatible with Hotspot behavior.\n\nAdd testing for the same.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5244e305da1d5f1a9928fbed05d33c3fd44ca680", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/5244e305da1d5f1a9928fbed05d33c3fd44ca680", "committedDate": "2020-01-24T20:15:22Z", "message": "Grow StringBuffer and StringBuilder aggressively from 1G to 2G\n\nWhen `-Djava.lang.stringBufferAndBuilder.growAggressively` or\n`-Djava.lang.stringBufferAndBuilder.growAggressively=true` is set on\nthe command line, and doubling the capacity overflows Integer.MAX_VALUE, \ngrow StringBuffer and StringBuilder to Integer.MAX_VALUE instead of\nonly increasing the capacity by the size of the String being appended.\nCompatible with Hotspot behavior.\n\nAdd testing for the same.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "74c79308b4a0b176b900c6366638276c91a350c5", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/74c79308b4a0b176b900c6366638276c91a350c5", "committedDate": "2020-01-24T21:30:45Z", "message": "Grow StringBuffer and StringBuilder aggressively from 1G to 2G\n\nAffects jdk8 only. jdk11 and later already grow aggressively.\nWhen `-Djava.lang.stringBufferAndBuilder.growAggressively` or\n`-Djava.lang.stringBufferAndBuilder.growAggressively=true` is set on\nthe command line, and doubling the capacity overflows Integer.MAX_VALUE, \ngrow StringBuffer and StringBuilder to Integer.MAX_VALUE instead of\nonly increasing the capacity by the size of the String being appended.\nCompatible with Hotspot behavior.\n\nAdd testing for the same.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "74c79308b4a0b176b900c6366638276c91a350c5", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/74c79308b4a0b176b900c6366638276c91a350c5", "committedDate": "2020-01-24T21:30:45Z", "message": "Grow StringBuffer and StringBuilder aggressively from 1G to 2G\n\nAffects jdk8 only. jdk11 and later already grow aggressively.\nWhen `-Djava.lang.stringBufferAndBuilder.growAggressively` or\n`-Djava.lang.stringBufferAndBuilder.growAggressively=true` is set on\nthe command line, and doubling the capacity overflows Integer.MAX_VALUE, \ngrow StringBuffer and StringBuilder to Integer.MAX_VALUE instead of\nonly increasing the capacity by the size of the String being appended.\nCompatible with Hotspot behavior.\n\nAdd testing for the same.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "7c3b34d02529c6fe19e7171887bb682025c4e2ce", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/7c3b34d02529c6fe19e7171887bb682025c4e2ce", "committedDate": "2020-01-24T22:33:35Z", "message": "Grow StringBuffer and StringBuilder aggressively from 1G to 2G\n\nAffects jdk8 only. jdk11 and later already grow aggressively.\nWhen `-Djava.lang.stringBufferAndBuilder.growAggressively` or\n`-Djava.lang.stringBufferAndBuilder.growAggressively=true` is set on\nthe command line, and doubling the capacity overflows Integer.MAX_VALUE, \ngrow StringBuffer and StringBuilder to Integer.MAX_VALUE instead of\nonly increasing the capacity by the size of the String being appended.\nCompatible with Hotspot behavior.\n\nAdd testing for the same.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7c3b34d02529c6fe19e7171887bb682025c4e2ce", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/7c3b34d02529c6fe19e7171887bb682025c4e2ce", "committedDate": "2020-01-24T22:33:35Z", "message": "Grow StringBuffer and StringBuilder aggressively from 1G to 2G\n\nAffects jdk8 only. jdk11 and later already grow aggressively.\nWhen `-Djava.lang.stringBufferAndBuilder.growAggressively` or\n`-Djava.lang.stringBufferAndBuilder.growAggressively=true` is set on\nthe command line, and doubling the capacity overflows Integer.MAX_VALUE, \ngrow StringBuffer and StringBuilder to Integer.MAX_VALUE instead of\nonly increasing the capacity by the size of the String being appended.\nCompatible with Hotspot behavior.\n\nAdd testing for the same.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "68783b8892c7033ac3c07465b467a8d7d6fee213", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/68783b8892c7033ac3c07465b467a8d7d6fee213", "committedDate": "2020-01-24T22:57:33Z", "message": "Grow StringBuffer and StringBuilder aggressively from 1G to 2G\n\nAffects jdk8 only. jdk11 and later already grow aggressively.\nWhen `-Djava.lang.stringBufferAndBuilder.growAggressively` or\n`-Djava.lang.stringBufferAndBuilder.growAggressively=true` is set on\nthe command line, and doubling the capacity overflows Integer.MAX_VALUE, \ngrow StringBuffer and StringBuilder to Integer.MAX_VALUE instead of\nonly increasing the capacity by the size of the String being appended.\nCompatible with Hotspot behavior.\n\nAdd testing for the same.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwODEzNDU3", "url": "https://github.com/eclipse-openj9/openj9/pull/8405#pullrequestreview-350813457", "createdAt": "2020-01-30T13:17:55Z", "commit": {"oid": "68783b8892c7033ac3c07465b467a8d7d6fee213"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxMzoxNzo1NVrOFjqg3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxMzoxNzo1NVrOFjqg3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjk0MTAyMA==", "bodyText": "nits: Inconsistent indenting (here and the closing }); missing space around = in for loops.", "url": "https://github.com/eclipse-openj9/openj9/pull/8405#discussion_r372941020", "createdAt": "2020-01-30T13:17:55Z", "author": {"login": "keithc-ca"}, "path": "test/functional/cmdLineTests/cmdLineTest_J9tests/src/TestStringBufferAndBuilderGrowth.java", "diffHunk": "@@ -0,0 +1,57 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020, 2020 IBM Corp. and others\n+ *\n+ * This program and the accompanying materials are made available under\n+ * the terms of the Eclipse Public License 2.0 which accompanies this\n+ * distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+ * or the Apache License, Version 2.0 which accompanies this distribution and\n+ * is available at https://www.apache.org/licenses/LICENSE-2.0.\n+ *\n+ * This Source Code may also be made available under the following\n+ * Secondary Licenses when the conditions for such availability set\n+ * forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+ * General Public License, version 2 with the GNU Classpath\n+ * Exception [1] and GNU General Public License, version 2 with the\n+ * OpenJDK Assembly Exception [2].\n+ *\n+ * [1] https://www.gnu.org/software/classpath/license.html\n+ * [2] http://openjdk.java.net/legal/assembly-exception.html\n+ *\n+ * SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+ *******************************************************************************/\n+\n+/**\n+ * @file TestStringBufferAndBuilderGrowth.java\n+ * @brief Grows a StringBuffer and StringBuilder to Integer.MAX_VALUE\n+ */\n+\n+public class TestStringBufferAndBuilderGrowth {\n+\n+public static void main(String[] args) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68783b8892c7033ac3c07465b467a8d7d6fee213"}, "originalPosition": 30}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "68783b8892c7033ac3c07465b467a8d7d6fee213", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/68783b8892c7033ac3c07465b467a8d7d6fee213", "committedDate": "2020-01-24T22:57:33Z", "message": "Grow StringBuffer and StringBuilder aggressively from 1G to 2G\n\nAffects jdk8 only. jdk11 and later already grow aggressively.\nWhen `-Djava.lang.stringBufferAndBuilder.growAggressively` or\n`-Djava.lang.stringBufferAndBuilder.growAggressively=true` is set on\nthe command line, and doubling the capacity overflows Integer.MAX_VALUE, \ngrow StringBuffer and StringBuilder to Integer.MAX_VALUE instead of\nonly increasing the capacity by the size of the String being appended.\nCompatible with Hotspot behavior.\n\nAdd testing for the same.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "a24fbae13ea5d466b7422832c22d93f36c68177a", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a24fbae13ea5d466b7422832c22d93f36c68177a", "committedDate": "2020-01-30T19:37:17Z", "message": "Grow StringBuffer and StringBuilder aggressively from 1G to 2G\n\nAffects jdk8 only. jdk11 and later already grow aggressively.\nWhen `-Djava.lang.stringBufferAndBuilder.growAggressively` or\n`-Djava.lang.stringBufferAndBuilder.growAggressively=true` is set on\nthe command line, and doubling the capacity overflows Integer.MAX_VALUE, \ngrow StringBuffer and StringBuilder to Integer.MAX_VALUE instead of\nonly increasing the capacity by the size of the String being appended.\nCompatible with Hotspot behavior.\n\nAdd testing for the same.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0301b816ac60791c4d6dfecf4eb06079e57536b8", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/0301b816ac60791c4d6dfecf4eb06079e57536b8", "committedDate": "2020-01-30T19:45:12Z", "message": "Grow StringBuffer and StringBuilder aggressively from 1G to 2G\n\nAffects jdk8 only. jdk11 and later already grow aggressively.\nWhen `-Djava.lang.stringBufferAndBuilder.growAggressively` or\n`-Djava.lang.stringBufferAndBuilder.growAggressively=true` is set on\nthe command line, and doubling the capacity overflows Integer.MAX_VALUE, \ngrow StringBuffer and StringBuilder to Integer.MAX_VALUE instead of\nonly increasing the capacity by the size of the String being appended.\nCompatible with Hotspot behavior.\n\nAdd testing for the same.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a24fbae13ea5d466b7422832c22d93f36c68177a", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a24fbae13ea5d466b7422832c22d93f36c68177a", "committedDate": "2020-01-30T19:37:17Z", "message": "Grow StringBuffer and StringBuilder aggressively from 1G to 2G\n\nAffects jdk8 only. jdk11 and later already grow aggressively.\nWhen `-Djava.lang.stringBufferAndBuilder.growAggressively` or\n`-Djava.lang.stringBufferAndBuilder.growAggressively=true` is set on\nthe command line, and doubling the capacity overflows Integer.MAX_VALUE, \ngrow StringBuffer and StringBuilder to Integer.MAX_VALUE instead of\nonly increasing the capacity by the size of the String being appended.\nCompatible with Hotspot behavior.\n\nAdd testing for the same.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "0301b816ac60791c4d6dfecf4eb06079e57536b8", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/0301b816ac60791c4d6dfecf4eb06079e57536b8", "committedDate": "2020-01-30T19:45:12Z", "message": "Grow StringBuffer and StringBuilder aggressively from 1G to 2G\n\nAffects jdk8 only. jdk11 and later already grow aggressively.\nWhen `-Djava.lang.stringBufferAndBuilder.growAggressively` or\n`-Djava.lang.stringBufferAndBuilder.growAggressively=true` is set on\nthe command line, and doubling the capacity overflows Integer.MAX_VALUE, \ngrow StringBuffer and StringBuilder to Integer.MAX_VALUE instead of\nonly increasing the capacity by the size of the String being appended.\nCompatible with Hotspot behavior.\n\nAdd testing for the same.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMTE2NTg1", "url": "https://github.com/eclipse-openj9/openj9/pull/8405#pullrequestreview-351116585", "createdAt": "2020-01-30T20:22:59Z", "commit": {"oid": "0301b816ac60791c4d6dfecf4eb06079e57536b8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 924, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}