{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMTgxOTgz", "number": 10449, "title": "Recover gr16 as a general register in POWER10", "bodyText": "After disableTOC is turned on in POWER10, we can recoup\ngr16 as a preserved general purpose register, instead of\na reserved register. This is the first time we set up the\ncompiler-visible machine resources according to the CPU type.\nThe side-effect needs to be taken care of in JNI dispatch.\nPlus, TOCBaseRegister should be prohibited from being referenced\nin codegen. Otherwise, register assigner will crash.\nSigned-off-by: Julian Wang zlwang@ca.ibm.com", "createdAt": "2020-08-25T12:51:24Z", "url": "https://github.com/eclipse-openj9/openj9/pull/10449", "merged": true, "mergeCommit": {"oid": "62992e762014c5c4280ddfb64c9e97c07b547e6d"}, "closed": true, "closedAt": "2020-09-03T17:39:10Z", "author": {"login": "zl-wang"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCYw9egH2gAyNDczMTgxOTgzOjliZTRiNjgxZjFlNjU0M2FhMjAxNzI5ZjA5YzdmY2Y3MWQyMmE0YjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFUM5tgFqTQ4MjA2MjYwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9be4b681f1e6543aa201729f09c7fcf71d22a4b2", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/9be4b681f1e6543aa201729f09c7fcf71d22a4b2", "committedDate": "2020-08-25T15:16:17Z", "message": "Recover gr16 as a general register in POWER10\n\nAfter disableTOC is turned on in POWER10, we can recoup\ngr16 as a preserved general purpose register, instead of\na reserved register. This is the first time we set up the\ncompiler-visible machine resources according to the CPU type.\n\nThe side-effect needs to be taken care of in JNI dispatch.\nPlus, TOCBaseRegister should be prohibited from being referenced\nin codegen. Otherwise, register assigner will crash.\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4OTczNjU2", "url": "https://github.com/eclipse-openj9/openj9/pull/10449#pullrequestreview-478973656", "createdAt": "2020-08-31T21:38:28Z", "commit": {"oid": "9be4b681f1e6543aa201729f09c7fcf71d22a4b2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMTozODoyOFrOHKKJXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMTozODoyOFrOHKKJXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQxNDA0Ng==", "bodyText": "Here and in a few other places, we don't check the disableTOC option. Is that by design?", "url": "https://github.com/eclipse-openj9/openj9/pull/10449#discussion_r480414046", "createdAt": "2020-08-31T21:38:28Z", "author": {"login": "gita-omr"}, "path": "runtime/compiler/p/codegen/PPCJNILinkage.cpp", "diffHunk": "@@ -219,7 +219,12 @@ TR::Register *J9::Power::JNILinkage::buildDirectDispatch(TR::Node *callNode)\n       {\n       // We need to kill all the non-volatiles so that they'll be in a stack frame in case\n       // gc needs to find them.\n-      if (comp()->target().is32Bit())\n+      if (comp()->target().is64Bit())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9be4b681f1e6543aa201729f09c7fcf71d22a4b2"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODYyMjE4", "url": "https://github.com/eclipse-openj9/openj9/pull/10449#pullrequestreview-480862218", "createdAt": "2020-09-02T14:12:47Z", "commit": {"oid": "9be4b681f1e6543aa201729f09c7fcf71d22a4b2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMDYyNjA3", "url": "https://github.com/eclipse-openj9/openj9/pull/10449#pullrequestreview-482062607", "createdAt": "2020-09-03T17:39:03Z", "commit": {"oid": "9be4b681f1e6543aa201729f09c7fcf71d22a4b2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 212, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}