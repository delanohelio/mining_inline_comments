{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1ODI3NzE2", "number": 8810, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNTo0OTo1MVrODmvcuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNTo0OTo1MVrODmvcuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxOTQ5ODgwOnYy", "diffSide": "RIGHT", "path": "runtime/vm/createramclass.cpp", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNTo0OTo1MVrOF0VMaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNTo0OTo1MVrOF0VMaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQxNzUxMw==", "bodyText": "Please invert the & operands - this is why I was confused thinking you were adding flags.", "url": "https://github.com/eclipse-openj9/openj9/pull/8810#discussion_r390417513", "createdAt": "2020-03-10T15:49:51Z", "author": {"login": "gacholio"}, "path": "runtime/vm/createramclass.cpp", "diffHunk": "@@ -2894,12 +2894,19 @@ internalCreateRAMClassFromROMClassImpl(J9VMThread *vmThread, J9ClassLoader *clas\n \t\t\t\t} else {\n \t\t\t\t\tarity = 1;\n \t\t\t\t\tleafComponentType = elementClass;\n+\t\t\t\t\t/* For arrays of valueType elements (where componentType is a valuetype), the arrays themselves are not\n+\t\t\t\t\t * valuetypes but they should inherit the layout characteristics (ie. flattenable, etc.)\n+\t\t\t\t\t * of the valuetype elements. A 2D (or more) array of valuetype elements (where leafComponentType is a Valuetype but\n+\t\t\t\t\t * componentType is not) is not direct array array of valuetype elements, therefore it should not inherit any layout\n+\t\t\t\t\t * properties from the leafComponentType. A 2D array is an array of references so it can never be flattened, however, its\n+\t\t\t\t\t * elements may be flattened arrays.\n+\t\t\t\t\t */\n+\t\t\t\t\tramArrayClass->classFlags |= (J9ClassIsFlattened | J9ClassLargestAlignmentConstraintReference | J9ClassLargestAlignmentConstraintDouble) & elementClass->classFlags;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbfbe2979a0e29c78c5369adf5f1e189b9ded037"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 509, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}