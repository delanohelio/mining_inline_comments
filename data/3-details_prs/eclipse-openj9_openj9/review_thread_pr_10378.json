{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2OTA2MjYw", "number": 10378, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODowODoxMFrOEXvUcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xOFQxMzo1MjoxNFrOF_jl7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzI3OTg1OnYy", "diffSide": "RIGHT", "path": "test/functional/JIT_Test/testng.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxODowODoxMFrOG_su4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxNTozNTo0MVrOHARHkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ0NjM3MA==", "bodyText": "is that right? it doesn't look right it should be the class you added no?", "url": "https://github.com/eclipse-openj9/openj9/pull/10378#discussion_r469446370", "createdAt": "2020-08-12T18:08:10Z", "author": {"login": "andrewcraik"}, "path": "test/functional/JIT_Test/testng.xml", "diffHunk": "@@ -438,6 +438,11 @@\n \t <classes>\n \t   <class name=\"jit.test.tr.SIMDOpts.SIMDOptTest\" />\n \t </classes>\n+  </test>\n+  <test name=\"BNDCHKSimplifyTest\">\n+\t <classes>\n+\t   <class name=\"jit.test.tr.SIMDOpts.SIMDOptTest\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b7e4c04218a108372b81e4d435d848014483d010"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDA0MjUxNA==", "bodyText": "@andrewcraik my bad, I had this one fixed, but somehow missed during the git push. I will update it. Thanks.", "url": "https://github.com/eclipse-openj9/openj9/pull/10378#discussion_r470042514", "createdAt": "2020-08-13T15:35:41Z", "author": {"login": "mnalam-p"}, "path": "test/functional/JIT_Test/testng.xml", "diffHunk": "@@ -438,6 +438,11 @@\n \t <classes>\n \t   <class name=\"jit.test.tr.SIMDOpts.SIMDOptTest\" />\n \t </classes>\n+  </test>\n+  <test name=\"BNDCHKSimplifyTest\">\n+\t <classes>\n+\t   <class name=\"jit.test.tr.SIMDOpts.SIMDOptTest\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ0NjM3MA=="}, "originalCommit": {"oid": "b7e4c04218a108372b81e4d435d848014483d010"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkNDAyMTg2NDg5OnYy", "diffSide": "RIGHT", "path": "test/functional/JIT_Test/src/jit/test/tr/BNDCHKSimplify/BNDCHKSimplifyTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xOFQxMzo1MDoxMFrOJdA2yA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xOFQxMzo1MDoxMFrOJdA2yA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNDQwMjUwNA==", "bodyText": "Some mixture of tabs and spaces here.", "url": "https://github.com/eclipse-openj9/openj9/pull/10378#discussion_r634402504", "createdAt": "2021-05-18T13:50:10Z", "author": {"login": "fjeremic"}, "path": "test/functional/JIT_Test/src/jit/test/tr/BNDCHKSimplify/BNDCHKSimplifyTest.java", "diffHunk": "@@ -0,0 +1,157 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020, 2021 IBM Corp. and others\n+ *\n+ * This program and the accompanying materials are made available under\n+ * the terms of the Eclipse Public License 2.0 which accompanies this\n+ * distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+ * or the Apache License, Version 2.0 which accompanies this distribution and\n+ * is available at https://www.apache.org/licenses/LICENSE-2.0.\n+ *\n+ * This Source Code may also be made available under the following\n+ * Secondary Licenses when the conditions for such availability set\n+ * forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+ * General Public License, version 2 with the GNU Classpath\n+ * Exception [1] and GNU General Public License, version 2 with the\n+ * OpenJDK Assembly Exception [2].\n+ *\n+ * [1] https://www.gnu.org/software/classpath/license.html\n+ * [2] http://openjdk.java.net/legal/assembly-exception.html\n+ *\n+ * SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+ *******************************************************************************/\n+package jit.test.tr.BNDCHKSimplify;\n+\n+import org.testng.annotations.Test;\n+import org.testng.AssertJUnit;\n+import java.util.concurrent.ThreadLocalRandom;\n+\n+@Test(groups = { \"level.sanity\",\"component.jit\" })\n+public class BNDCHKSimplifyTest{\n+\tint limit;\n+\tint dummy;\n+\tpublic int checkIndexV1(int index) {\n+        if (index < 0 || index >= limit)\n+\t\t\tthrow new IndexOutOfBoundsException();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2376df4e612758dcf8deab2c4881e2886b4c51f6"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkNDAyMTg3NzU4OnYy", "diffSide": "RIGHT", "path": "test/functional/JIT_Test/src/jit/test/tr/BNDCHKSimplify/BNDCHKSimplifyTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xOFQxMzo1MjoxNFrOJdA-hA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xOFQxNDozNTo1OVrOJdDhxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNDQwNDQ4NA==", "bodyText": "Typically we don't want non-determinism in our tests, so I'd like to avoid use of random values if at all possible. If you cannot get rid of it, or if hardcoding a value does not make sense here I'd like to see the random number printed in the assert message so that users are able to reproduce the test if it ever fails.", "url": "https://github.com/eclipse-openj9/openj9/pull/10378#discussion_r634404484", "createdAt": "2021-05-18T13:52:14Z", "author": {"login": "fjeremic"}, "path": "test/functional/JIT_Test/src/jit/test/tr/BNDCHKSimplify/BNDCHKSimplifyTest.java", "diffHunk": "@@ -0,0 +1,157 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020, 2021 IBM Corp. and others\n+ *\n+ * This program and the accompanying materials are made available under\n+ * the terms of the Eclipse Public License 2.0 which accompanies this\n+ * distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+ * or the Apache License, Version 2.0 which accompanies this distribution and\n+ * is available at https://www.apache.org/licenses/LICENSE-2.0.\n+ *\n+ * This Source Code may also be made available under the following\n+ * Secondary Licenses when the conditions for such availability set\n+ * forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+ * General Public License, version 2 with the GNU Classpath\n+ * Exception [1] and GNU General Public License, version 2 with the\n+ * OpenJDK Assembly Exception [2].\n+ *\n+ * [1] https://www.gnu.org/software/classpath/license.html\n+ * [2] http://openjdk.java.net/legal/assembly-exception.html\n+ *\n+ * SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+ *******************************************************************************/\n+package jit.test.tr.BNDCHKSimplify;\n+\n+import org.testng.annotations.Test;\n+import org.testng.AssertJUnit;\n+import java.util.concurrent.ThreadLocalRandom;\n+\n+@Test(groups = { \"level.sanity\",\"component.jit\" })\n+public class BNDCHKSimplifyTest{\n+\tint limit;\n+\tint dummy;\n+\tpublic int checkIndexV1(int index) {\n+        if (index < 0 || index >= limit)\n+\t\t\tthrow new IndexOutOfBoundsException();\n+\t\treturn index;\n+\t}\n+\n+\tpublic int checkIndexV2(int index) {\n+\t\tif (index >= 0 && index < limit)\n+\t\t\treturn index;\n+\t\tthrow new NullPointerException();\n+\t}\n+\n+\tpublic int checkIndexV3(int index) {\n+\t\tif (index < 0)\n+\t\t\tthrow new IllegalStateException();\n+\t\tif (index >= limit)\n+\t\t\tthrow new IllegalArgumentException();\n+\t\treturn index;\n+\t}\n+\n+\tpublic int checkIndexV4(int index) {\n+\t\tif (index < 0 || index >= limit)\n+\t\t\tthrow new StringIndexOutOfBoundsException();\n+\t\tdummy += index;\n+\t\treturn index;\n+\t}\n+\n+\tvoid setLimit(int limit) {\n+\t\tthis.limit = limit;\n+\t\tthis.dummy = 0;\n+\t}\n+\n+\t@Test\n+\tpublic void whenBoundsAreInRangeThenReturnWithoutAssert(){\n+\t\tfor (int i = 0; i < 20; ++i){\n+\t\t\tBNDCHKSimplifyTest obj = new BNDCHKSimplifyTest();\n+\t\t\tobj.setLimit(10);\n+\t\t\tfor (int j=0; j < 10; ++j) {\n+\t\t\t\tobj.checkIndexV1(j);\n+\t\t\t\tobj.checkIndexV2(j);\n+\t\t\t\tobj.checkIndexV3(j);\n+\t\t\t\tobj.checkIndexV4(j);\n+\t\t\t}\n+\t\t}\n+\t\tint random = ThreadLocalRandom.current().nextInt(0, 10000 + 1);\n+\t\tBNDCHKSimplifyTest objUnderTest = new BNDCHKSimplifyTest();\n+\t\tobjUnderTest.setLimit(random);\n+\t\tfor(int i = 0; i < random; ++i) {\n+\t\t\tint actualIdx = objUnderTest.checkIndexV1(i);\n+\t\t\tAssertJUnit.assertEquals(\"Mismatched index value\", i, actualIdx);\n+\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2376df4e612758dcf8deab2c4881e2886b4c51f6"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNDQwNDk1MQ==", "bodyText": "Similarly elsewhere.", "url": "https://github.com/eclipse-openj9/openj9/pull/10378#discussion_r634404951", "createdAt": "2021-05-18T13:52:42Z", "author": {"login": "fjeremic"}, "path": "test/functional/JIT_Test/src/jit/test/tr/BNDCHKSimplify/BNDCHKSimplifyTest.java", "diffHunk": "@@ -0,0 +1,157 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020, 2021 IBM Corp. and others\n+ *\n+ * This program and the accompanying materials are made available under\n+ * the terms of the Eclipse Public License 2.0 which accompanies this\n+ * distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+ * or the Apache License, Version 2.0 which accompanies this distribution and\n+ * is available at https://www.apache.org/licenses/LICENSE-2.0.\n+ *\n+ * This Source Code may also be made available under the following\n+ * Secondary Licenses when the conditions for such availability set\n+ * forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+ * General Public License, version 2 with the GNU Classpath\n+ * Exception [1] and GNU General Public License, version 2 with the\n+ * OpenJDK Assembly Exception [2].\n+ *\n+ * [1] https://www.gnu.org/software/classpath/license.html\n+ * [2] http://openjdk.java.net/legal/assembly-exception.html\n+ *\n+ * SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+ *******************************************************************************/\n+package jit.test.tr.BNDCHKSimplify;\n+\n+import org.testng.annotations.Test;\n+import org.testng.AssertJUnit;\n+import java.util.concurrent.ThreadLocalRandom;\n+\n+@Test(groups = { \"level.sanity\",\"component.jit\" })\n+public class BNDCHKSimplifyTest{\n+\tint limit;\n+\tint dummy;\n+\tpublic int checkIndexV1(int index) {\n+        if (index < 0 || index >= limit)\n+\t\t\tthrow new IndexOutOfBoundsException();\n+\t\treturn index;\n+\t}\n+\n+\tpublic int checkIndexV2(int index) {\n+\t\tif (index >= 0 && index < limit)\n+\t\t\treturn index;\n+\t\tthrow new NullPointerException();\n+\t}\n+\n+\tpublic int checkIndexV3(int index) {\n+\t\tif (index < 0)\n+\t\t\tthrow new IllegalStateException();\n+\t\tif (index >= limit)\n+\t\t\tthrow new IllegalArgumentException();\n+\t\treturn index;\n+\t}\n+\n+\tpublic int checkIndexV4(int index) {\n+\t\tif (index < 0 || index >= limit)\n+\t\t\tthrow new StringIndexOutOfBoundsException();\n+\t\tdummy += index;\n+\t\treturn index;\n+\t}\n+\n+\tvoid setLimit(int limit) {\n+\t\tthis.limit = limit;\n+\t\tthis.dummy = 0;\n+\t}\n+\n+\t@Test\n+\tpublic void whenBoundsAreInRangeThenReturnWithoutAssert(){\n+\t\tfor (int i = 0; i < 20; ++i){\n+\t\t\tBNDCHKSimplifyTest obj = new BNDCHKSimplifyTest();\n+\t\t\tobj.setLimit(10);\n+\t\t\tfor (int j=0; j < 10; ++j) {\n+\t\t\t\tobj.checkIndexV1(j);\n+\t\t\t\tobj.checkIndexV2(j);\n+\t\t\t\tobj.checkIndexV3(j);\n+\t\t\t\tobj.checkIndexV4(j);\n+\t\t\t}\n+\t\t}\n+\t\tint random = ThreadLocalRandom.current().nextInt(0, 10000 + 1);\n+\t\tBNDCHKSimplifyTest objUnderTest = new BNDCHKSimplifyTest();\n+\t\tobjUnderTest.setLimit(random);\n+\t\tfor(int i = 0; i < random; ++i) {\n+\t\t\tint actualIdx = objUnderTest.checkIndexV1(i);\n+\t\t\tAssertJUnit.assertEquals(\"Mismatched index value\", i, actualIdx);\n+\t\t}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNDQwNDQ4NA=="}, "originalCommit": {"oid": "2376df4e612758dcf8deab2c4881e2886b4c51f6"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNDQ0NjI3OA==", "bodyText": "I have changed the randomness to a fixed maxIndex value.", "url": "https://github.com/eclipse-openj9/openj9/pull/10378#discussion_r634446278", "createdAt": "2021-05-18T14:35:59Z", "author": {"login": "mnalam-p"}, "path": "test/functional/JIT_Test/src/jit/test/tr/BNDCHKSimplify/BNDCHKSimplifyTest.java", "diffHunk": "@@ -0,0 +1,157 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020, 2021 IBM Corp. and others\n+ *\n+ * This program and the accompanying materials are made available under\n+ * the terms of the Eclipse Public License 2.0 which accompanies this\n+ * distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+ * or the Apache License, Version 2.0 which accompanies this distribution and\n+ * is available at https://www.apache.org/licenses/LICENSE-2.0.\n+ *\n+ * This Source Code may also be made available under the following\n+ * Secondary Licenses when the conditions for such availability set\n+ * forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+ * General Public License, version 2 with the GNU Classpath\n+ * Exception [1] and GNU General Public License, version 2 with the\n+ * OpenJDK Assembly Exception [2].\n+ *\n+ * [1] https://www.gnu.org/software/classpath/license.html\n+ * [2] http://openjdk.java.net/legal/assembly-exception.html\n+ *\n+ * SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+ *******************************************************************************/\n+package jit.test.tr.BNDCHKSimplify;\n+\n+import org.testng.annotations.Test;\n+import org.testng.AssertJUnit;\n+import java.util.concurrent.ThreadLocalRandom;\n+\n+@Test(groups = { \"level.sanity\",\"component.jit\" })\n+public class BNDCHKSimplifyTest{\n+\tint limit;\n+\tint dummy;\n+\tpublic int checkIndexV1(int index) {\n+        if (index < 0 || index >= limit)\n+\t\t\tthrow new IndexOutOfBoundsException();\n+\t\treturn index;\n+\t}\n+\n+\tpublic int checkIndexV2(int index) {\n+\t\tif (index >= 0 && index < limit)\n+\t\t\treturn index;\n+\t\tthrow new NullPointerException();\n+\t}\n+\n+\tpublic int checkIndexV3(int index) {\n+\t\tif (index < 0)\n+\t\t\tthrow new IllegalStateException();\n+\t\tif (index >= limit)\n+\t\t\tthrow new IllegalArgumentException();\n+\t\treturn index;\n+\t}\n+\n+\tpublic int checkIndexV4(int index) {\n+\t\tif (index < 0 || index >= limit)\n+\t\t\tthrow new StringIndexOutOfBoundsException();\n+\t\tdummy += index;\n+\t\treturn index;\n+\t}\n+\n+\tvoid setLimit(int limit) {\n+\t\tthis.limit = limit;\n+\t\tthis.dummy = 0;\n+\t}\n+\n+\t@Test\n+\tpublic void whenBoundsAreInRangeThenReturnWithoutAssert(){\n+\t\tfor (int i = 0; i < 20; ++i){\n+\t\t\tBNDCHKSimplifyTest obj = new BNDCHKSimplifyTest();\n+\t\t\tobj.setLimit(10);\n+\t\t\tfor (int j=0; j < 10; ++j) {\n+\t\t\t\tobj.checkIndexV1(j);\n+\t\t\t\tobj.checkIndexV2(j);\n+\t\t\t\tobj.checkIndexV3(j);\n+\t\t\t\tobj.checkIndexV4(j);\n+\t\t\t}\n+\t\t}\n+\t\tint random = ThreadLocalRandom.current().nextInt(0, 10000 + 1);\n+\t\tBNDCHKSimplifyTest objUnderTest = new BNDCHKSimplifyTest();\n+\t\tobjUnderTest.setLimit(random);\n+\t\tfor(int i = 0; i < random; ++i) {\n+\t\t\tint actualIdx = objUnderTest.checkIndexV1(i);\n+\t\t\tAssertJUnit.assertEquals(\"Mismatched index value\", i, actualIdx);\n+\t\t}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNDQwNDQ4NA=="}, "originalCommit": {"oid": "2376df4e612758dcf8deab2c4881e2886b4c51f6"}, "originalPosition": 82}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4676, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}