{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzNDY3MTI5", "number": 9701, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQyMTo0Nzo0NFrOD_28bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMTowMjowOVrOEARhkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4Mjg3MDg3OnYy", "diffSide": "RIGHT", "path": "runtime/cmake/platform/os/osx.cmake", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQyMTo0Nzo0NFrOGaxeDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQyMTo0Nzo0NFrOGaxeDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyNjY3MA==", "bodyText": "if you change this to\nset(CMAKE_SHARED_LINKER_FLAGS \"${CMAKE_SHARED_LINKER_FLAGS} -Wl,-compatibility_version,1.0.0,-current_version,1.0.0\" )  I think you would get something which works. I'll do some digging to see if there is a more natural way to do this in cmake, but this should work for now.", "url": "https://github.com/eclipse-openj9/openj9/pull/9701#discussion_r430726670", "createdAt": "2020-05-26T21:47:44Z", "author": {"login": "dnakamura"}, "path": "runtime/cmake/platform/os/osx.cmake", "diffHunk": "@@ -0,0 +1,24 @@\n+################################################################################\n+# Copyright (c) 2020, 2020 IBM Corp. and others\n+#\n+# This program and the accompanying materials are made available under\n+# the terms of the Eclipse Public License 2.0 which accompanies this\n+# distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+# or the Apache License, Version 2.0 which accompanies this distribution and\n+# is available at https://www.apache.org/licenses/LICENSE-2.0.\n+#\n+# This Source Code may also be made available under the following\n+# Secondary Licenses when the conditions for such availability set\n+# forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+# General Public License, version 2 with the GNU Classpath\n+# Exception [1] and GNU General Public License, version 2 with the\n+# OpenJDK Assembly Exception [2].\n+#\n+# [1] https://www.gnu.org/software/classpath/license.html\n+# [2] http://openjdk.java.net/legal/assembly-exception.html\n+#\n+# SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+################################################################################\n+\n+# set OpenJ9 library versions\n+set(LDFLAGS \"${LDFLAGS} -compatibility_version 1.0.0 -current_version 1.0.0\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f6a8da6f02510e6429fedff8c8ea9a36aebca26"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NzE5MDY2OnYy", "diffSide": "RIGHT", "path": "runtime/thread/threadshared.mk.ftl", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMDo1MTowOVrOGbcp4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMDo1Njo1N1rOGbc15Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQzNDIxMA==", "bodyText": "All of this should be removed: the -install_name option is superseded by OMR (e.g. here) and the version options are handled by eclipse/omr#5251.", "url": "https://github.com/eclipse-openj9/openj9/pull/9701#discussion_r431434210", "createdAt": "2020-05-27T20:51:09Z", "author": {"login": "keithc-ca"}, "path": "runtime/thread/threadshared.mk.ftl", "diffHunk": "@@ -95,6 +95,7 @@ endif # Linux\n \n ifeq (osx,$(OMR_HOST_OS))\n GLOBAL_LDFLAGS += -install_name lib$(MODULE_NAME).dylib\n+GLOBAL_LDFLAGS += -compatibility_version 1.0.0 -current_version 1.0.0\n endif # OSX", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3e0885c53372bb4f0fa183731156e402dabfde5"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQzNzI4NQ==", "bodyText": "Removed it.", "url": "https://github.com/eclipse-openj9/openj9/pull/9701#discussion_r431437285", "createdAt": "2020-05-27T20:56:57Z", "author": {"login": "pshipton"}, "path": "runtime/thread/threadshared.mk.ftl", "diffHunk": "@@ -95,6 +95,7 @@ endif # Linux\n \n ifeq (osx,$(OMR_HOST_OS))\n GLOBAL_LDFLAGS += -install_name lib$(MODULE_NAME).dylib\n+GLOBAL_LDFLAGS += -compatibility_version 1.0.0 -current_version 1.0.0\n endif # OSX", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQzNDIxMA=="}, "originalCommit": {"oid": "e3e0885c53372bb4f0fa183731156e402dabfde5"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NzE5NDIxOnYy", "diffSide": "RIGHT", "path": "runtime/hookable/hookableshared.mk.ftl", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMDo1MjoxOFrOGbcsEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMDo1NzowNlrOGbc2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQzNDc2OQ==", "bodyText": "This change will not be necessary once eclipse/omr#5251 lands.", "url": "https://github.com/eclipse-openj9/openj9/pull/9701#discussion_r431434769", "createdAt": "2020-05-27T20:52:18Z", "author": {"login": "keithc-ca"}, "path": "runtime/hookable/hookableshared.mk.ftl", "diffHunk": "@@ -61,6 +61,10 @@ EXPORT_FUNCTIONS_FILE := $(HOOKABLE_SRCDIR)hookable.exportlist\n MODULE_STATIC_LIBS += j9utilcore j9pool\n MODULE_SHARED_LIBS += j9thr${uma.buildinfo.version.major}${uma.buildinfo.version.minor}\n \n+ifeq (osx,$(OMR_HOST_OS))\n+GLOBAL_LDFLAGS += -compatibility_version 1.0.0 -current_version 1.0.0\n+endif # OSX\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3e0885c53372bb4f0fa183731156e402dabfde5"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQzNzM2Ng==", "bodyText": "Removed it.", "url": "https://github.com/eclipse-openj9/openj9/pull/9701#discussion_r431437366", "createdAt": "2020-05-27T20:57:06Z", "author": {"login": "pshipton"}, "path": "runtime/hookable/hookableshared.mk.ftl", "diffHunk": "@@ -61,6 +61,10 @@ EXPORT_FUNCTIONS_FILE := $(HOOKABLE_SRCDIR)hookable.exportlist\n MODULE_STATIC_LIBS += j9utilcore j9pool\n MODULE_SHARED_LIBS += j9thr${uma.buildinfo.version.major}${uma.buildinfo.version.minor}\n \n+ifeq (osx,$(OMR_HOST_OS))\n+GLOBAL_LDFLAGS += -compatibility_version 1.0.0 -current_version 1.0.0\n+endif # OSX\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQzNDc2OQ=="}, "originalCommit": {"oid": "e3e0885c53372bb4f0fa183731156e402dabfde5"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NzIyNTc2OnYy", "diffSide": "RIGHT", "path": "runtime/hookable/hookableshared.mk.ftl", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMTowMjowOVrOGbdAlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMTowNDo1N1rOGbdF_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ0MDAyMQ==", "bodyText": "This file isn't changing, so the copyright date need not change.", "url": "https://github.com/eclipse-openj9/openj9/pull/9701#discussion_r431440021", "createdAt": "2020-05-27T21:02:09Z", "author": {"login": "keithc-ca"}, "path": "runtime/hookable/hookableshared.mk.ftl", "diffHunk": "@@ -1,5 +1,5 @@\n ###############################################################################\n-# Copyright (c) 2016, 2017 IBM Corp. and others\n+# Copyright (c) 2016, 2020 IBM Corp. and others", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64c2dde9393345fff49ff4006b46051adce5f5cb"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ0MTQwNA==", "bodyText": "Removed.", "url": "https://github.com/eclipse-openj9/openj9/pull/9701#discussion_r431441404", "createdAt": "2020-05-27T21:04:57Z", "author": {"login": "pshipton"}, "path": "runtime/hookable/hookableshared.mk.ftl", "diffHunk": "@@ -1,5 +1,5 @@\n ###############################################################################\n-# Copyright (c) 2016, 2017 IBM Corp. and others\n+# Copyright (c) 2016, 2020 IBM Corp. and others", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ0MDAyMQ=="}, "originalCommit": {"oid": "64c2dde9393345fff49ff4006b46051adce5f5cb"}, "originalPosition": 3}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 63, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}