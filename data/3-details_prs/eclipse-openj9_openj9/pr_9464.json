{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzODcxMDM0", "number": 9464, "title": "Add GNU workaround for unused functions", "bodyText": "This matches the workaround in j9accessbarrierhelpers.h and\navoids compile errors when compiling at -O0\nfixes: #9462\nSigned-off-by: Dan Heidinga daniel_heidinga@ca.ibm.com", "createdAt": "2020-05-06T04:31:37Z", "url": "https://github.com/eclipse-openj9/openj9/pull/9464", "merged": true, "mergeCommit": {"oid": "fcb6d3f438eedd4c13116b4a04e13b246162070f"}, "closed": true, "closedAt": "2020-05-06T16:48:01Z", "author": {"login": "DanHeidinga"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcehRckABqjMzMDY4NzgzMDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceqz38gFqTQwNjc1NTk4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6d25b91799fe06c8b4e49235b51bc65c94e38ccb", "author": {"user": {"login": "DanHeidinga", "name": "Dan Heidinga"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/6d25b91799fe06c8b4e49235b51bc65c94e38ccb", "committedDate": "2020-05-06T04:29:55Z", "message": "Add GNU workaround for unused functions\n\nThis matches the workaround in j9accessbarrierhelpers.h and\navoids compile errors when compiling at `-O0`\n\nrelated: #9462\n\nSigned-off-by: Dan Heidinga <daniel_heidinga@ca.ibm.com>"}, "afterCommit": {"oid": "4b2475ac2de668457a23a4d087e01c41ed186ebc", "author": {"user": {"login": "DanHeidinga", "name": "Dan Heidinga"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/4b2475ac2de668457a23a4d087e01c41ed186ebc", "committedDate": "2020-05-06T04:49:32Z", "message": "Add GNU workaround for unused functions\n\nThis matches the workaround in j9accessbarrierhelpers.h and\navoids compile errors when compiling at `-O0`\n\nrelated: #9462\n\nSigned-off-by: Dan Heidinga <daniel_heidinga@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NjE2NTky", "url": "https://github.com/eclipse-openj9/openj9/pull/9464#pullrequestreview-406616592", "createdAt": "2020-05-06T13:34:08Z", "commit": {"oid": "4b2475ac2de668457a23a4d087e01c41ed186ebc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxMzozNDowOFrOGRTNew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxMzozNDowOFrOGRTNew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc5MzcyMw==", "bodyText": "This one should also be in !defined(J9VM_SHRTEST) && !defined(J9SHR_CACHELET_SUPPORT), it's in the same block as j9shr_Query_IsAddressInCache() below.", "url": "https://github.com/eclipse-openj9/openj9/pull/9464#discussion_r420793723", "createdAt": "2020-05-06T13:34:08Z", "author": {"login": "pshipton"}, "path": "runtime/shared_common/include/SCQueryFunctions.h", "diffHunk": "@@ -33,6 +33,23 @@ extern \"C\"\n {\n #endif\n \n+ #if defined(__GNUC__)\n+ /*\n+  * Source files which include (directly or indirectly) this file\n+  * but do not use the functions defined below may fail to compile unless the \"unused\" attribute\n+  * is applied.\n+  * Note that Microsoft compilers do not allow this attribute.\n+  */\n+#if !defined(J9VM_SHRTEST)\n+#if !defined(J9SHR_CACHELET_SUPPORT)\n+static VMINLINE BOOLEAN j9shr_Query_IsCacheFull(J9JavaVM *vm)  __attribute__ ((__unused__));\n+static VMINLINE BOOLEAN j9shr_Query_IsAddressInCache(J9JavaVM *vm, void *address, UDATA length)  __attribute__ ((__unused__));\n+#endif /* !J9SHR_CACHELET_SUPPORT */\n+static VMINLINE void j9shr_Query_PopulatePreinitConfigDefaults(J9JavaVM *vm, J9SharedClassPreinitConfig *updatedWithDefaults)  __attribute__ ((__unused__));\n+#endif /* !J9VM_SHRTEST */\n+static VMINLINE BOOLEAN j9shr_Query_IsAddressInReadWriteCache(J9JavaVM *vm, void *address, UDATA length) __attribute__ ((__unused__));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b2475ac2de668457a23a4d087e01c41ed186ebc"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "becde19b4b19d3c11154fc68889a4b95ba3a8415", "author": {"user": {"login": "DanHeidinga", "name": "Dan Heidinga"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/becde19b4b19d3c11154fc68889a4b95ba3a8415", "committedDate": "2020-05-06T13:40:43Z", "message": "Add GNU workaround for unused functions\n\nThis matches the workaround in j9accessbarrierhelpers.h and\navoids compile errors when compiling at `-O0`\n\nfixes: #9462\n\nSigned-off-by: Dan Heidinga <daniel_heidinga@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b2475ac2de668457a23a4d087e01c41ed186ebc", "author": {"user": {"login": "DanHeidinga", "name": "Dan Heidinga"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/4b2475ac2de668457a23a4d087e01c41ed186ebc", "committedDate": "2020-05-06T04:49:32Z", "message": "Add GNU workaround for unused functions\n\nThis matches the workaround in j9accessbarrierhelpers.h and\navoids compile errors when compiling at `-O0`\n\nrelated: #9462\n\nSigned-off-by: Dan Heidinga <daniel_heidinga@ca.ibm.com>"}, "afterCommit": {"oid": "becde19b4b19d3c11154fc68889a4b95ba3a8415", "author": {"user": {"login": "DanHeidinga", "name": "Dan Heidinga"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/becde19b4b19d3c11154fc68889a4b95ba3a8415", "committedDate": "2020-05-06T13:40:43Z", "message": "Add GNU workaround for unused functions\n\nThis matches the workaround in j9accessbarrierhelpers.h and\navoids compile errors when compiling at `-O0`\n\nfixes: #9462\n\nSigned-off-by: Dan Heidinga <daniel_heidinga@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NzA3NjUx", "url": "https://github.com/eclipse-openj9/openj9/pull/9464#pullrequestreview-406707651", "createdAt": "2020-05-06T15:05:53Z", "commit": {"oid": "becde19b4b19d3c11154fc68889a4b95ba3a8415"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NzU1OTg5", "url": "https://github.com/eclipse-openj9/openj9/pull/9464#pullrequestreview-406755989", "createdAt": "2020-05-06T15:56:29Z", "commit": {"oid": "becde19b4b19d3c11154fc68889a4b95ba3a8415"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1165, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}