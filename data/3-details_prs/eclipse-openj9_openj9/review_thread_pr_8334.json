{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0MzA3MTE2", "number": 8334, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QyMDozODo0MVrODY7rkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QyMDozODo0MVrODY7rkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3NDcwMjI3OnYy", "diffSide": "RIGHT", "path": "jcl/src/java.base/share/classes/java/lang/ref/Reference.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QyMDozODo0MlrOFfEqZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQxNTo1NTo0N1rOFfiuwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODEyNjU2Nw==", "bodyText": "I believe this code should be moved to clearImpl() as well.  Otherwise, we could just null the field directly.\nNote, clearImpl() can be mad synchronized as its the method that needs to keep the referent and state consistent", "url": "https://github.com/eclipse-openj9/openj9/pull/8334#discussion_r368126567", "createdAt": "2020-01-17T20:38:42Z", "author": {"login": "DanHeidinga"}, "path": "jcl/src/java.base/share/classes/java/lang/ref/Reference.java", "diffHunk": "@@ -116,14 +116,21 @@ public boolean tryHandlePendingReference() {\n  */\t\n public void clear() {\n \tsynchronized(this) {\n-\t\treferent = null;\n+\t\tclearImpl();\n \t\t/* change the state to cleared if it's not already cleared or enqueued */\n \t\tif (STATE_INITIAL == state) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29e792f446705e1bbc9be911370943425e1ffb91"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODYxOTIwMA==", "bodyText": "done", "url": "https://github.com/eclipse-openj9/openj9/pull/8334#discussion_r368619200", "createdAt": "2020-01-20T15:55:47Z", "author": {"login": "LinHu2016"}, "path": "jcl/src/java.base/share/classes/java/lang/ref/Reference.java", "diffHunk": "@@ -116,14 +116,21 @@ public boolean tryHandlePendingReference() {\n  */\t\n public void clear() {\n \tsynchronized(this) {\n-\t\treferent = null;\n+\t\tclearImpl();\n \t\t/* change the state to cleared if it's not already cleared or enqueued */\n \t\tif (STATE_INITIAL == state) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODEyNjU2Nw=="}, "originalCommit": {"oid": "29e792f446705e1bbc9be911370943425e1ffb91"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 764, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}