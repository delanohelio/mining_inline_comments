{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyMTM5MDA4", "number": 10053, "title": "Omit debuginfo files from the main SDK archive", "bodyText": "Most of the omitted files are available in the debug image (an exception is *.map files on Windows).\nFixes: #9996.", "createdAt": "2020-06-30T16:14:33Z", "url": "https://github.com/eclipse-openj9/openj9/pull/10053", "merged": true, "mergeCommit": {"oid": "4e57c581b00d587f6aa10fb3b772d01e9bd06c60"}, "closed": true, "closedAt": "2020-07-02T19:28:51Z", "author": {"login": "keithc-ca"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwYAReAH2gAyNDQyMTM5MDA4OmQ3OGQyMTI0MzdiMTAyYzQzMGQ4MTg3ODJlZGM1ZDI3Y2VhOTNkZjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcxEAscgFqTQ0MTk2NjcxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d78d212437b102c430d818782edc5d27cea93df7", "author": {"user": {"login": "keithc-ca", "name": "Keith W. Campbell"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/d78d212437b102c430d818782edc5d27cea93df7", "committedDate": "2020-06-30T16:12:28Z", "message": "Omit debuginfo files from the main SDK archive\n\nMost of the omitted files are available in the debug image\n(an exception is *.map files on Windows).\n\n[ci skip]\n\nSigned-off-by: Keith W. Campbell <keithc@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxOTY0NTU4", "url": "https://github.com/eclipse-openj9/openj9/pull/10053#pullrequestreview-441964558", "createdAt": "2020-07-02T19:24:55Z", "commit": {"oid": "d78d212437b102c430d818782edc5d27cea93df7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxOToyNDo1NVrOGsacXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxOToyNDo1NVrOGsacXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIyMzc3Mg==", "bodyText": "There's a // before the d in the .dSYM case:\n-e '/\\\\.dSYM\\\\//d' -> -e '/\\\\.dSYM\\\\/d'", "url": "https://github.com/eclipse-openj9/openj9/pull/10053#discussion_r449223772", "createdAt": "2020-07-02T19:24:55Z", "author": {"login": "DanHeidinga"}, "path": "buildenv/jenkins/common/build.groovy", "diffHunk": "@@ -288,7 +288,11 @@ def archive_sdk() {\n         def testDir = \"test\"\n \n         dir(OPENJDK_CLONE_DIR) {\n-            sh \"tar -C ${buildDir} -zcvf ${SDK_FILENAME} ${JDK_FOLDER}\"\n+            // The archiver receives pathnames on stdin and writes to stdout.\n+            def archiveCmd = SPEC.contains('zos') ? 'pax -wvz' : 'tar -cvz -T -'\n+            // Filter out unwanted files (most of which are available in the debug-image).\n+            def filterCmd = \"sed -e '/\\\\.dbg\\$/d' -e '/\\\\.debuginfo\\$/d' -e '/\\\\.diz\\$/d' -e '/\\\\.dSYM\\\\//d' -e '/\\\\.map\\$/d' -e '/\\\\.pdb\\$/d'\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d78d212437b102c430d818782edc5d27cea93df7"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxOTY2NzEw", "url": "https://github.com/eclipse-openj9/openj9/pull/10053#pullrequestreview-441966710", "createdAt": "2020-07-02T19:28:45Z", "commit": {"oid": "d78d212437b102c430d818782edc5d27cea93df7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 471, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}