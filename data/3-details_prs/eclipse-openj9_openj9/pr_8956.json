{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyNjUwODA2", "number": 8956, "title": "Fix opt index searches in nextGenHCR", "bodyText": "Opt index searches is broken in nextGenHCR because osrGuardInsertion\ndoes both optional optimizations and mandatory dummy helper clean up.\nThis commit will fix it by making osrGuardInsertion MustBeDone and move\nthe ifVoluntaryOSR check at the beginning of the optimization perform.\nSigned-off-by: Liqun Liu liqunl@ca.ibm.com", "createdAt": "2020-03-23T21:33:44Z", "url": "https://github.com/eclipse-openj9/openj9/pull/8956", "merged": true, "mergeCommit": {"oid": "bb1890fd7a48fd5c94aa5d5a313cb005942ae16c"}, "closed": true, "closedAt": "2020-03-27T18:29:02Z", "author": {"login": "liqunl"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQyli6AFqTM4MDI4NzA0OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcR1A16gFqTM4MzEwNTYyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMjg3MDQ5", "url": "https://github.com/eclipse-openj9/openj9/pull/8956#pullrequestreview-380287049", "createdAt": "2020-03-24T13:05:07Z", "commit": {"oid": "f03c50c0f2e370818d2dfc185031c520ec4d04a3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMzowNTowN1rOF6vPXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMzowNTowN1rOF6vPXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzEzNTcwOQ==", "bodyText": "should this just be the getOSRMode since getOption(TR_EnableOSR) and getOption(TR_DisableOSR are not inverses?", "url": "https://github.com/eclipse-openj9/openj9/pull/8956#discussion_r397135709", "createdAt": "2020-03-24T13:05:07Z", "author": {"login": "andrewcraik"}, "path": "runtime/compiler/optimizer/OSRGuardInsertion.cpp", "diffHunk": "@@ -202,6 +203,14 @@ static bool skipOSRGuardInsertion(TR::Compilation* comp)\n \n int32_t TR_OSRGuardInsertion::perform()\n    {\n+   if (!comp()->getOption(TR_EnableOSR) ||", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f03c50c0f2e370818d2dfc185031c520ec4d04a3"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMjg4NTQy", "url": "https://github.com/eclipse-openj9/openj9/pull/8956#pullrequestreview-380288542", "createdAt": "2020-03-24T13:07:02Z", "commit": {"oid": "f03c50c0f2e370818d2dfc185031c520ec4d04a3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a60bc0e20e973af9eb7f944c20733f587f578f20", "author": {"user": {"login": "liqunl", "name": "Liqun Liu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a60bc0e20e973af9eb7f944c20733f587f578f20", "committedDate": "2020-03-24T17:33:16Z", "message": "Fix opt index searches in nextGenHCR\n\nOpt index searches is broken in nextGenHCR because osrGuardInsertion\ndoes both optional optimizations and mandatory dummy helper clean up.\nThis commit will fix it by making osrGuardInsertion MustBeDone and move\nthe ifVoluntaryOSR check at the beginning of the optimization perform.\n\nSigned-off-by: Liqun Liu <liqunl@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f03c50c0f2e370818d2dfc185031c520ec4d04a3", "author": {"user": {"login": "liqunl", "name": "Liqun Liu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/f03c50c0f2e370818d2dfc185031c520ec4d04a3", "committedDate": "2020-03-23T21:33:11Z", "message": "Fix opt index searches in nextGenHCR\n\nOpt index searches is broken in nextGenHCR because osrGuardInsertion\ndoes both optional optimizations and mandatory dummy helper clean up.\nThis commit will fix it by making osrGuardInsertion MustBeDone and move\nthe ifVoluntaryOSR check at the beginning of the optimization perform.\n\nSigned-off-by: Liqun Liu <liqunl@ca.ibm.com>"}, "afterCommit": {"oid": "a60bc0e20e973af9eb7f944c20733f587f578f20", "author": {"user": {"login": "liqunl", "name": "Liqun Liu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a60bc0e20e973af9eb7f944c20733f587f578f20", "committedDate": "2020-03-24T17:33:16Z", "message": "Fix opt index searches in nextGenHCR\n\nOpt index searches is broken in nextGenHCR because osrGuardInsertion\ndoes both optional optimizations and mandatory dummy helper clean up.\nThis commit will fix it by making osrGuardInsertion MustBeDone and move\nthe ifVoluntaryOSR check at the beginning of the optimization perform.\n\nSigned-off-by: Liqun Liu <liqunl@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMTA1NjI2", "url": "https://github.com/eclipse-openj9/openj9/pull/8956#pullrequestreview-383105626", "createdAt": "2020-03-27T18:28:41Z", "commit": {"oid": "a60bc0e20e973af9eb7f944c20733f587f578f20"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1317, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}