{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0NTUyNzg1", "number": 10205, "title": "Add JIT Hooks Documentation", "bodyText": "", "createdAt": "2020-07-21T14:43:15Z", "url": "https://github.com/eclipse-openj9/openj9/pull/10205", "merged": true, "mergeCommit": {"oid": "ea62a4f25451544c2b144f6a94de96e7e3804988"}, "closed": true, "closedAt": "2020-07-28T17:35:34Z", "author": {"login": "dsouzai"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3IS5iABqjM1NzE5NTUxMDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5XcPtAFqTQ1NjcwMjE1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "00ad7ba406a7115c61795ccea51820add869e761", "author": {"user": {"login": "dsouzai", "name": "Irwin D'Souza"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/00ad7ba406a7115c61795ccea51820add869e761", "committedDate": "2020-07-21T14:42:28Z", "message": "Add JIT Hooks Documentation\n\n[ci skip]\n\nSigned-off-by: Irwin D'Souza <dsouzai.gh@gmail.com>"}, "afterCommit": {"oid": "7900a657f1ee037ff392edab7166d4f2a296747c", "author": {"user": {"login": "dsouzai", "name": "Irwin D'Souza"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/7900a657f1ee037ff392edab7166d4f2a296747c", "committedDate": "2020-07-21T15:51:38Z", "message": "Add JIT Hooks Documentation\n\n[ci skip]\n\nSigned-off-by: Irwin D'Souza <dsouzai.gh@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7900a657f1ee037ff392edab7166d4f2a296747c", "author": {"user": {"login": "dsouzai", "name": "Irwin D'Souza"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/7900a657f1ee037ff392edab7166d4f2a296747c", "committedDate": "2020-07-21T15:51:38Z", "message": "Add JIT Hooks Documentation\n\n[ci skip]\n\nSigned-off-by: Irwin D'Souza <dsouzai.gh@gmail.com>"}, "afterCommit": {"oid": "ae4569f0fb9880392863cc22cc5d8610449b73b3", "author": {"user": {"login": "dsouzai", "name": "Irwin D'Souza"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/ae4569f0fb9880392863cc22cc5d8610449b73b3", "committedDate": "2020-07-21T15:52:34Z", "message": "Add JIT Hooks Documentation\n\n[ci skip]\n\nSigned-off-by: Irwin D'Souza <dsouzai.gh@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ae4569f0fb9880392863cc22cc5d8610449b73b3", "author": {"user": {"login": "dsouzai", "name": "Irwin D'Souza"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/ae4569f0fb9880392863cc22cc5d8610449b73b3", "committedDate": "2020-07-21T15:52:34Z", "message": "Add JIT Hooks Documentation\n\n[ci skip]\n\nSigned-off-by: Irwin D'Souza <dsouzai.gh@gmail.com>"}, "afterCommit": {"oid": "a9f6b4e3f1401784d8f93064b04f40dd65bb3b66", "author": {"user": {"login": "dsouzai", "name": "Irwin D'Souza"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a9f6b4e3f1401784d8f93064b04f40dd65bb3b66", "committedDate": "2020-07-21T15:58:30Z", "message": "Add JIT Hooks Documentation\n\n[ci skip]\n\nSigned-off-by: Irwin D'Souza <dsouzai.gh@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0Njg2ODA2", "url": "https://github.com/eclipse-openj9/openj9/pull/10205#pullrequestreview-454686806", "createdAt": "2020-07-24T07:37:06Z", "commit": {"oid": "a9f6b4e3f1401784d8f93064b04f40dd65bb3b66"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwNzozNzowNlrOG2l2NQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwNzozNzowNlrOG2l2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTg5NjM3Mw==", "bodyText": "This phrasing is a bit cumbersome. Could we make it clearer with something like: Notifies prior to initialization of a class through the <clinit> method", "url": "https://github.com/eclipse-openj9/openj9/pull/10205#discussion_r459896373", "createdAt": "2020-07-24T07:37:06Z", "author": {"login": "mpirvu"}, "path": "doc/compiler/runtime/JITHooks.md", "diffHunk": "@@ -0,0 +1,89 @@\n+<!--\n+Copyright (c) 2020, 2020 IBM Corp. and others\n+\n+This program and the accompanying materials are made available under\n+the terms of the Eclipse Public License 2.0 which accompanies this\n+distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+or the Apache License, Version 2.0 which accompanies this distribution and\n+is available at https://www.apache.org/licenses/LICENSE-2.0.\n+\n+This Source Code may also be made available under the following\n+Secondary Licenses when the conditions for such availability set\n+forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+General Public License, version 2 with the GNU Classpath\n+Exception [1] and GNU General Public License, version 2 with the\n+OpenJDK Assembly Exception [2].\n+\n+[1] https://www.gnu.org/software/classpath/license.html\n+[2] http://openjdk.java.net/legal/assembly-exception.html\n+\n+SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+-->\n+\n+# Background\n+\n+The VM has a mechansim to register callbacks for specific runtime event.\n+The JIT makes use of these events to perform tasks either for functional \n+correctness, performance, or housekeeping. \n+\n+# Hooks\n+This section outlines various events or Hooks the JIT registers a callback\n+against. The callbacks associated with these Hooks can be found in\n+HookedByTheJit.cpp.\n+\n+|Hook|Description|Comment|\n+|--|--|--|\n+|`J9HOOK_VM_PROFILING_BYTECODE_BUFFER_FULL`|Notifies when the bytecode profiling buffer (consumed by the IProfiler) for a given thread is full.||\n+|`J9HOOK_VM_LOOKUP_JNI_ID`|Notifies when a method or field ID is looked up via JNI.|The JIT uses this to get notified when `main` in the Java code is about to be run; it then unregisters this hook.|\n+|`J9HOOK_VM_INITIALIZE_SEND_TARGET`|Notifies when J9Methods are to have their send target initialized.|Used to set initial invocation counts.|\n+|`J9HOOK_MM_OMR_LOCAL_GC_START`|Notifies when a local Garbage Collection has started.|Local here applies to policies such as GenCon, where only the nursery region is being GC'd.|\n+|`J9HOOK_MM_OMR_LOCAL_GC_END`|Notifies when a local GC has ended|If Real Time GC is enabled, the JIT registers `jitHookLocalGCEnd`; otherwise it registers `jitHookReleaseCodeLocalGCEnd`.|\n+|`J9HOOK_MM_OMR_GLOBAL_GC_START`|Notifies when a global GC has started.|Global here implies a GC of the entire heap.|\n+|`J9HOOK_MM_OMR_GLOBAL_GC_END`|Notifies when a global GC has ended.|If Real Time GC is enabled, the JIT registers `jitHookGlobalGCEnd`; otherwise it registers `jitHookReleaseCodeGlobalGCEnd`.|\n+|`J9HOOK_MM_OMR_GC_CYCLE_END`|Notifies when the GC Cycle has ended.|The JIT only registers against this hook if Real Time GC is enabled.|\n+|`J9HOOK_VM_INTERNAL_CLASS_LOAD`|Notifies when a class has been loaded.||\n+|`J9HOOK_VM_CLASS_PREINITIALIZE`|Notifies prior to notify the initialization of a class prior to running the `<clinit>`.|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9f6b4e3f1401784d8f93064b04f40dd65bb3b66"}, "originalPosition": 45}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42c8adf0e62227dce6137f78649803fb61249ef1", "author": {"user": {"login": "dsouzai", "name": "Irwin D'Souza"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/42c8adf0e62227dce6137f78649803fb61249ef1", "committedDate": "2020-07-28T14:29:00Z", "message": "Add JIT Hooks Documentation\n\n[ci skip]\n\nSigned-off-by: Irwin D'Souza <dsouzai.gh@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a9f6b4e3f1401784d8f93064b04f40dd65bb3b66", "author": {"user": {"login": "dsouzai", "name": "Irwin D'Souza"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a9f6b4e3f1401784d8f93064b04f40dd65bb3b66", "committedDate": "2020-07-21T15:58:30Z", "message": "Add JIT Hooks Documentation\n\n[ci skip]\n\nSigned-off-by: Irwin D'Souza <dsouzai.gh@gmail.com>"}, "afterCommit": {"oid": "42c8adf0e62227dce6137f78649803fb61249ef1", "author": {"user": {"login": "dsouzai", "name": "Irwin D'Souza"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/42c8adf0e62227dce6137f78649803fb61249ef1", "committedDate": "2020-07-28T14:29:00Z", "message": "Add JIT Hooks Documentation\n\n[ci skip]\n\nSigned-off-by: Irwin D'Souza <dsouzai.gh@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NzAyMTUx", "url": "https://github.com/eclipse-openj9/openj9/pull/10205#pullrequestreview-456702151", "createdAt": "2020-07-28T14:38:26Z", "commit": {"oid": "42c8adf0e62227dce6137f78649803fb61249ef1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 309, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}