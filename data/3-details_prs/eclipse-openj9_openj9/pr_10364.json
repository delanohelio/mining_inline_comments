{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY1NzE1Mzgy", "number": 10364, "title": "JDK15 : skip fillInStackTrace frames", "bodyText": "Skip the INL & NullPointerException.fillInStackTrace() frames;\nAdd J9VMCONSTANTPOOL_JAVALANGNULLPOINTEREXCEPTION to requiredClasses list.\nRelated to #10296\nSigned-off-by: Jason Feng fengj@ca.ibm.com", "createdAt": "2020-08-10T20:29:10Z", "url": "https://github.com/eclipse-openj9/openj9/pull/10364", "merged": true, "mergeCommit": {"oid": "66a63178ffcac4dd34eb6747c2e4e55efb878dd6"}, "closed": true, "closedAt": "2020-08-12T21:28:06Z", "author": {"login": "JasonFengJ9"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-OX08gFqTQ2NjEwMDI5OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-P6TrgFqTQ2NjE3ODEzMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MTAwMjk5", "url": "https://github.com/eclipse-openj9/openj9/pull/10364#pullrequestreview-466100299", "createdAt": "2020-08-12T16:54:04Z", "commit": {"oid": "045c3892c1aefc75138451fdd20e39ed512927fa"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNjo1NDowNVrOG_qFHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNjo1NDowNVrOG_qFHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQwMjkwOQ==", "bodyText": "Rather than doing this, you could just preload NPE using the existing mechanism and fetch it via J9VMJAVALANGNULLPOINTEREXCEPITON_OR_NULL.", "url": "https://github.com/eclipse-openj9/openj9/pull/10364#discussion_r469402909", "createdAt": "2020-08-12T16:54:05Z", "author": {"login": "gacholio"}, "path": "runtime/jcl/common/jclcinit.c", "diffHunk": "@@ -773,6 +773,9 @@ initializeRequiredClasses(J9VMThread *vmThread, char* dllName)\n \t\treturn 1;\n \t}\n \tvmThread->outOfMemoryError = oom;\n+#if JAVA_SPEC_VERSION >= 15\n+\tvm->nullPointerExceptionClass = vmFuncs->internalFindKnownClass(vmThread, J9VMCONSTANTPOOL_JAVALANGNULLPOINTEREXCEPTION, J9_FINDKNOWNCLASS_FLAG_NON_FATAL);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "045c3892c1aefc75138451fdd20e39ed512927fa"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be36da66fd39d44ac0559c9e1bef3c788f5b1eb0", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/be36da66fd39d44ac0559c9e1bef3c788f5b1eb0", "committedDate": "2020-08-12T18:36:01Z", "message": "JDK15 skip fillInStackTrace frames\n\nSkip the INL & NullPointerException.fillInStackTrace() frames;\nAdd J9VMCONSTANTPOOL_JAVALANGNULLPOINTEREXCEPTION to requiredClasses\nlist.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "045c3892c1aefc75138451fdd20e39ed512927fa", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/045c3892c1aefc75138451fdd20e39ed512927fa", "committedDate": "2020-08-10T15:23:28Z", "message": "JDK15 NullPointerException.fillInStackTrace skip INL & constructors\nSkip the INL & following constructor frames (total 7):\njava.base/java.lang.NullPointerException.fillInStackTrace(NullPointerException.java)\njava.base/java.lang.Throwable.<init>(Throwable.java)\njava.base/java.lang.Throwable.<init>(Throwable.java)\njava.base/java.lang.Exception.<init>(Exception.java)\njava.base/java.lang.RuntimeException.<init>(RuntimeException.java)\njava.base/java.lang.NullPointerException.<init>(NullPointerException.java)\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}, "afterCommit": {"oid": "be36da66fd39d44ac0559c9e1bef3c788f5b1eb0", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/be36da66fd39d44ac0559c9e1bef3c788f5b1eb0", "committedDate": "2020-08-12T18:36:01Z", "message": "JDK15 skip fillInStackTrace frames\n\nSkip the INL & NullPointerException.fillInStackTrace() frames;\nAdd J9VMCONSTANTPOOL_JAVALANGNULLPOINTEREXCEPTION to requiredClasses\nlist.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MTc4MTMz", "url": "https://github.com/eclipse-openj9/openj9/pull/10364#pullrequestreview-466178133", "createdAt": "2020-08-12T18:41:39Z", "commit": {"oid": "be36da66fd39d44ac0559c9e1bef3c788f5b1eb0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 117, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}