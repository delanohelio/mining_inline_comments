{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1MzQ5NjAx", "number": 9904, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNzo1Mzo1MlrOEGC_UQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNzo1Mzo1MlrOEGC_UQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0Nzc1ODg5OnYy", "diffSide": "RIGHT", "path": "runtime/compiler/env/J9ClassEnv.cpp", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNzo1Mzo1MlrOGkmuCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNzo1Mzo1MlrOGkmuCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAzNjI5Nw==", "bodyText": "Could we shed one level of indirection by calling comp->fej9()->getJ9JITConfig()->javaVM here?", "url": "https://github.com/eclipse-openj9/openj9/pull/9904#discussion_r441036297", "createdAt": "2020-06-16T17:53:52Z", "author": {"login": "mpirvu"}, "path": "runtime/compiler/env/J9ClassEnv.cpp", "diffHunk": "@@ -735,7 +735,17 @@ J9::ClassEnv::containsZeroOrOneConcreteClass(TR::Compilation *comp, List<TR_Pers\n bool\n J9::ClassEnv::isClassRefValueType(TR::Compilation *comp, TR_OpaqueClassBlock *cpContextClass, int32_t cpIndex)\n    {\n-   J9Class * j9class = reinterpret_cast<J9Class *>(cpContextClass);\n-   J9JavaVM *vm = getJ9JitConfigFromFE(comp->fej9())->javaVM;\n-   return vm->internalVMFunctions->isClassRefQtype(j9class, cpIndex);\n+#if defined(J9VM_OPT_JITSERVER)\n+   if (auto stream = TR::CompilationInfo::getStream())\n+      {\n+      stream->write(JITServer::MessageType::ClassEnv_isClassRefValueType, cpContextClass, cpIndex);\n+      return std::get<0>(stream->read<bool>());\n+      }\n+   else // non-jitserver\n+#endif /* defined(J9VM_OPT_JITSERVER) */\n+      {\n+      J9Class * j9class = reinterpret_cast<J9Class *>(cpContextClass);\n+      J9JavaVM *vm = getJ9JitConfigFromFE(comp->fej9())->javaVM;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e6f38680299c86c4f747987ba8838129bc7cf68"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 26, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}