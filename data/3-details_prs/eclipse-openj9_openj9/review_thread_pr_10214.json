{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0NzM0NzQ4", "number": 10214, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzo1Mzo1MlrOERDmNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzo1Mzo1MlrOERDmNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2MzIwMTgwOnYy", "diffSide": "RIGHT", "path": "runtime/compiler/p/codegen/J9TreeEvaluator.cpp", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzo1Mzo1MlrOG1jfww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzo1Mzo1MlrOG1jfww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODgwOTI4Mw==", "bodyText": "This function is called inside internal control flow so you shouldn't allocate new registers inside it since the register dependency won't know about them. You can pass in tempReg and condReg that were already allocated into the function.\nThere are also some minor issues with missing spaces or braces that aren't in the right spot in this function.", "url": "https://github.com/eclipse-openj9/openj9/pull/10214#discussion_r458809283", "createdAt": "2020-07-22T13:53:52Z", "author": {"login": "IBMJimmyk"}, "path": "runtime/compiler/p/codegen/J9TreeEvaluator.cpp", "diffHunk": "@@ -7768,15 +7769,40 @@ static bool simpleReadMonitor(TR::Node *node, TR::CodeGenerator *cg, TR::Node *o\n    return true;\n    }\n \n+void J9::Power::TreeEvaluator::generateCheckForValueTypeMonitorEnterOrExit(TR::Node *node, TR::LabelSymbol *helperCallLabel, TR::Register *objReg, TR::Register *objectClassReg, TR::CodeGenerator *cg)\n+{\n+   //get class of object\n+   generateLoadJ9Class(node, objectClassReg, objReg, cg); \n+\n+   //get memory reference to class flags\n+   TR_J9VMBase *fej9 = (TR_J9VMBase *)(cg->fe());\n+   TR::MemoryReference *classFlagsMemRef = new (cg->trHeapMemory()) TR::MemoryReference(objectClassReg, static_cast<uintptr_t>(fej9->getOffsetOfClassFlags()), 4, cg);\n+\n+   //check J9ClassIsValueType flag\n+   TR::Register *tempReg = cg->allocateRegister();\n+   TR::Register *condReg = cg->allocateRegister(TR_CCR);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d11053543cbd34879eb7427f611c39f3bc43551"}, "originalPosition": 135}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4792, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}