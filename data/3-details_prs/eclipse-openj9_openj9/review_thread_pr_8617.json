{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3NTY0MTk1", "number": 8617, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMDo1ODozMVrODheyDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxMzozMjozMVrODn1VlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NDMzOTMyOnYy", "diffSide": "RIGHT", "path": "runtime/port/unix/j9sysinfo.c", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMDo1ODozMVrOFsPAwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDo1NzowOFrOF1iNzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkyNzYxNg==", "bodyText": "Is this meant to apply to all LINUXes or just to linux on aarch64?  Other architectures look up the _DCACHE data in other ways", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r381927616", "createdAt": "2020-02-20T10:58:31Z", "author": {"login": "DanHeidinga"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,17 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(_SC_LEVEL1_DCACHE_LINESIZE)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdb8f937a8f37b78e4f869ae1def70ee29ab327f"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTk4NDQwMw==", "bodyText": "I wrote it for aarch64 Linux, but I thought other architectures, such as RISC-V, could use the same code for the line size of L1 data cache.\nI was not sure if sysconf(_SC_LEVEL1_DCACHE_LINESIZE) was available or not in other UNIXes, and I used defined(LINUX).", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r381984403", "createdAt": "2020-02-20T13:03:21Z", "author": {"login": "knn-k"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,17 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(_SC_LEVEL1_DCACHE_LINESIZE)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkyNzYxNg=="}, "originalCommit": {"oid": "cdb8f937a8f37b78e4f869ae1def70ee29ab327f"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY3OTQzNg==", "bodyText": "This needs to be limited to the aarch64 platform or the value will be calculated twice on linux platforms - once in the code above and then again here.", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r391679436", "createdAt": "2020-03-12T14:57:08Z", "author": {"login": "DanHeidinga"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,17 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(_SC_LEVEL1_DCACHE_LINESIZE)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkyNzYxNg=="}, "originalCommit": {"oid": "cdb8f937a8f37b78e4f869ae1def70ee29ab327f"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NDM1MDQ4OnYy", "diffSide": "RIGHT", "path": "runtime/port/unix/j9sysinfo.c", "isResolved": false, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMTowMTo0NlrOFsPHiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNTowMToxMVrOF1iY9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkyOTM1Mg==", "bodyText": "Can you implementation used on x86 be extended to aarch64 (assuming that's the problem you're trying to solve)?\nIt currently looks up the DCACHE info here and caches it in a port global:\nhttps://github.com/eclipse/openj9/blob/cdb8f937a8f37b78e4f869ae1def70ee29ab327f/runtime/port/unix/j9sysinfo.c#L1335-L1340\nIn fact, there's already a mostly common place to look this data up:\nhttps://github.com/eclipse/openj9/blob/cdb8f937a8f37b78e4f869ae1def70ee29ab327f/runtime/port/unix/j9sysinfo.c#L1645-L1649", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r381929352", "createdAt": "2020-02-20T11:01:46Z", "author": {"login": "DanHeidinga"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,17 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(_SC_LEVEL1_DCACHE_LINESIZE)\n+\tif (query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE\n+\t    && query->cacheType == J9PORT_CACHEINFO_DCACHE\n+\t    && query->level == 1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdb8f937a8f37b78e4f869ae1def70ee29ab327f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTk4NTIyOA==", "bodyText": "I tried sysconf(_SC_LEVEL1_DCACHE_LINESIZE) on x86_64 and aarch64, and both seemed to work as exptected.", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r381985228", "createdAt": "2020-02-20T13:05:03Z", "author": {"login": "knn-k"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,17 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(_SC_LEVEL1_DCACHE_LINESIZE)\n+\tif (query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE\n+\t    && query->cacheType == J9PORT_CACHEINFO_DCACHE\n+\t    && query->level == 1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkyOTM1Mg=="}, "originalCommit": {"oid": "cdb8f937a8f37b78e4f869ae1def70ee29ab327f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM1NDIyNw==", "bodyText": "I guess I misunderstood your comment last night.\nThe implementation for x86 reads /sys/devices/system/cpu/cpu%d/cache/.\nhttps://github.com/eclipse/openj9/blob/42ed0b81d8489695c2512c58aebdfad413481059/runtime/port/unix/j9sysinfo.c#L1305\nOn the other hand, the cache directory is unavailable on Ubuntu 18.04 for aarch64 as shown below, and I cannot simply use the x86 implementation:\n$ ls -l /sys/devices/system/cpu/cpu0/\ntotal 0\n-rw-r--r-- 1 root root 4096 Feb 21 01:20 cpu_capacity\nlrwxrwxrwx 1 root root    0 Mar 27  2019 cpufreq -> ../cpufreq/policy0\n-r-------- 1 root root 4096 Feb 21 01:20 crash_notes\n-r-------- 1 root root 4096 Feb 21 01:20 crash_notes_size\ndrwxr-xr-x 2 root root    0 Feb 21 01:20 hotplug\nlrwxrwxrwx 1 root root    0 Feb 21 01:20 of_node -> ../../../../firmware/devicetree/base/cpus/cpu@0\n-rw-r--r-- 1 root root 4096 Mar 27  2019 online\ndrwxr-xr-x 2 root root    0 Feb 21 01:20 power\ndrwxr-xr-x 3 root root    0 Feb 21 01:20 regs\nlrwxrwxrwx 1 root root    0 Jan  1  1970 subsystem -> ../../../../bus/cpu\ndrwxr-xr-x 2 root root    0 Mar 27  2019 topology\n-rw-r--r-- 1 root root 4096 Jan  1  1970 uevent\n\nIt seems the L1 data cache line size is the only information the VM wants from j9sysinfo_get_cache_info(), and sysconf(_SC_LEVEL1_DCACHE_LINESIZE) should be a most simple and portable way to get the information for that purpose.", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r382354227", "createdAt": "2020-02-21T01:37:12Z", "author": {"login": "knn-k"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,17 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(_SC_LEVEL1_DCACHE_LINESIZE)\n+\tif (query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE\n+\t    && query->cacheType == J9PORT_CACHEINFO_DCACHE\n+\t    && query->level == 1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkyOTM1Mg=="}, "originalCommit": {"oid": "cdb8f937a8f37b78e4f869ae1def70ee29ab327f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjI4MTEyNw==", "bodyText": "#8711 stops pltest to call j9sysinfo_test_get_levels_and_types() on aarch64.", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r386281127", "createdAt": "2020-03-02T09:34:19Z", "author": {"login": "knn-k"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,17 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(_SC_LEVEL1_DCACHE_LINESIZE)\n+\tif (query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE\n+\t    && query->cacheType == J9PORT_CACHEINFO_DCACHE\n+\t    && query->level == 1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkyOTM1Mg=="}, "originalCommit": {"oid": "cdb8f937a8f37b78e4f869ae1def70ee29ab327f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njc0NzM5OQ==", "bodyText": "@DanHeidinga What do you want me to do with this?  Should I limit my change to aarch64 only?", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r386747399", "createdAt": "2020-03-03T01:17:43Z", "author": {"login": "knn-k"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,17 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(_SC_LEVEL1_DCACHE_LINESIZE)\n+\tif (query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE\n+\t    && query->cacheType == J9PORT_CACHEINFO_DCACHE\n+\t    && query->level == 1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkyOTM1Mg=="}, "originalCommit": {"oid": "cdb8f937a8f37b78e4f869ae1def70ee29ab327f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTM2MTA3NA==", "bodyText": "@DanHeidinga It is more than a week since I posted the comment above.  What should I do with this PR?", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r391361074", "createdAt": "2020-03-12T01:46:46Z", "author": {"login": "knn-k"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,17 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(_SC_LEVEL1_DCACHE_LINESIZE)\n+\tif (query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE\n+\t    && query->cacheType == J9PORT_CACHEINFO_DCACHE\n+\t    && query->level == 1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkyOTM1Mg=="}, "originalCommit": {"oid": "cdb8f937a8f37b78e4f869ae1def70ee29ab327f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY4MjI5Mg==", "bodyText": "Sorry @knn-k, just getting back to this after finishing the JDK14 reviews.\nFor this PR, please limit this to the aarch64 platform.  As a follow on task, it might be worth looking at modifying the x86 implementation to use sysconf for the dcache as well but I don't want to hold up the arm work for that.", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r391682292", "createdAt": "2020-03-12T15:01:11Z", "author": {"login": "DanHeidinga"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,17 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(_SC_LEVEL1_DCACHE_LINESIZE)\n+\tif (query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE\n+\t    && query->cacheType == J9PORT_CACHEINFO_DCACHE\n+\t    && query->level == 1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkyOTM1Mg=="}, "originalCommit": {"oid": "cdb8f937a8f37b78e4f869ae1def70ee29ab327f"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyNzQ2NTA2OnYy", "diffSide": "RIGHT", "path": "runtime/port/unix/j9sysinfo.c", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDo1ODo0NlrOF1iSJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QwNTozODoyNFrOF14Iww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY4MDU0OA==", "bodyText": "This should write to a different local and only modify result on success as that will remove the need for the other else block.  Note, result is initialized to J9PORT_ERROR_SYSINFO_NOT_SUPPORTED at the start of the function", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r391680548", "createdAt": "2020-03-12T14:58:46Z", "author": {"login": "DanHeidinga"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,17 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(_SC_LEVEL1_DCACHE_LINESIZE)\n+\tif (query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE\n+\t    && query->cacheType == J9PORT_CACHEINFO_DCACHE\n+\t    && query->level == 1) {\n+\t\tresult = (int32_t)sysconf(_SC_LEVEL1_DCACHE_LINESIZE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdb8f937a8f37b78e4f869ae1def70ee29ab327f"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjAzODU5NQ==", "bodyText": "I changed the #elif condition to defined(LINUX) && defined(J9AARCH64), and rewrote the code as suggested above.", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r392038595", "createdAt": "2020-03-13T05:38:24Z", "author": {"login": "knn-k"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,17 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(_SC_LEVEL1_DCACHE_LINESIZE)\n+\tif (query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE\n+\t    && query->cacheType == J9PORT_CACHEINFO_DCACHE\n+\t    && query->level == 1) {\n+\t\tresult = (int32_t)sysconf(_SC_LEVEL1_DCACHE_LINESIZE);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY4MDU0OA=="}, "originalCommit": {"oid": "cdb8f937a8f37b78e4f869ae1def70ee29ab327f"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzMDg3NjA3OnYy", "diffSide": "RIGHT", "path": "runtime/port/unix/j9sysinfo.c", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxMzoxMTowMFrOF2DCKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxMzoyNzoyMlrOF2DlbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjIxNzEzMQ==", "bodyText": "Formatting nitpick - in vm code we tend to bracket conditionals so no one has to try to figure out order of operations in their heads.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tif (query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE\n          \n          \n            \n            \t    && query->cacheType == J9PORT_CACHEINFO_DCACHE\n          \n          \n            \n            \t    && query->level == 1) {\n          \n          \n            \n            \tif ((query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE)\n          \n          \n            \n            \t&& (query->cacheType == J9PORT_CACHEINFO_DCACHE)\n          \n          \n            \n            \t&& (query->level == 1)\n          \n          \n            \n            \t) {", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r392217131", "createdAt": "2020-03-13T13:11:00Z", "author": {"login": "DanHeidinga"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,16 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(J9AARCH64)\n+\tif (query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE\n+\t    && query->cacheType == J9PORT_CACHEINFO_DCACHE\n+\t    && query->level == 1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ef6f0109b65a4772983e6d6e827eb9db7c71b85"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjIyNjE1Ng==", "bodyText": "Updated the code as suggested.", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r392226156", "createdAt": "2020-03-13T13:27:22Z", "author": {"login": "knn-k"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,16 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(J9AARCH64)\n+\tif (query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE\n+\t    && query->cacheType == J9PORT_CACHEINFO_DCACHE\n+\t    && query->level == 1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjIxNzEzMQ=="}, "originalCommit": {"oid": "3ef6f0109b65a4772983e6d6e827eb9db7c71b85"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzMDk0OTMzOnYy", "diffSide": "RIGHT", "path": "runtime/port/unix/j9sysinfo.c", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxMzozMjozMVrOF2Dv7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxMzozNjo1NVrOF2D5qw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjIyODg0Nw==", "bodyText": "Sorry, this is using spaces to indent the subsequent lines.  The VM uses tabs and puts the ) { on a new line.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tif ((query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE)\n          \n          \n            \n            \t    && (query->cacheType == J9PORT_CACHEINFO_DCACHE)\n          \n          \n            \n            \t    && (query->level == 1)) {\n          \n          \n            \n            \tif ((query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE)\n          \n          \n            \n            \t&& (query->cacheType == J9PORT_CACHEINFO_DCACHE)\n          \n          \n            \n            \t&& (query->level == 1)\n          \n          \n            \n            \t) {", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r392228847", "createdAt": "2020-03-13T13:32:31Z", "author": {"login": "DanHeidinga"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,16 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(J9AARCH64)\n+\tif ((query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE)\n+\t    && (query->cacheType == J9PORT_CACHEINFO_DCACHE)\n+\t    && (query->level == 1)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a637d46787a17a47b2425f2609cb8a77573d6050"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjIzMTMzOQ==", "bodyText": "Applied the change via the \"Commit suggestion\" button.", "url": "https://github.com/eclipse-openj9/openj9/pull/8617#discussion_r392231339", "createdAt": "2020-03-13T13:36:55Z", "author": {"login": "knn-k"}, "path": "runtime/port/unix/j9sysinfo.c", "diffHunk": "@@ -1668,6 +1668,16 @@ j9sysinfo_get_cache_info(struct J9PortLibrary *portLibrary, const J9CacheInfoQue\n \t\t\tomrcpu_get_cache_line_size(&result);\n #endif\n \t\t}\n+#elif defined(LINUX) && defined(J9AARCH64)\n+\tif ((query->cmd == J9PORT_CACHEINFO_QUERY_LINESIZE)\n+\t    && (query->cacheType == J9PORT_CACHEINFO_DCACHE)\n+\t    && (query->level == 1)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjIyODg0Nw=="}, "originalCommit": {"oid": "a637d46787a17a47b2425f2609cb8a77573d6050"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 599, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}