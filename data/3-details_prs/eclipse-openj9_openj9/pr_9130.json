{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk5NjQ2NzEx", "number": 9130, "title": "Changing compare and branch for unresolved snippets within FieldWatch", "bodyText": "This change impacts the PPC implementation of Field Watch. Replacing Andi. with Cmpi to branch into unresolved snippet routine.\nFixes: #9103\nSigned-off-by: AlenBadel Alen.Badel@ibm.com", "createdAt": "2020-04-06T13:29:08Z", "url": "https://github.com/eclipse-openj9/openj9/pull/9130", "merged": true, "mergeCommit": {"oid": "47c5ee7f774a398ca86e0663b70e7ee03d1c70f3"}, "closed": true, "closedAt": "2020-04-06T19:11:12Z", "author": {"login": "AlenBadel"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcU-2TsAFqTM4ODI1NjUyNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVDnGhgFqTM4ODU0MDUzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MjU2NTI3", "url": "https://github.com/eclipse-openj9/openj9/pull/9130#pullrequestreview-388256527", "createdAt": "2020-04-06T13:38:00Z", "commit": {"oid": "6443fbd14e98a93ac4d96fa217a959223f4eb465"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MjY1ODg5", "url": "https://github.com/eclipse-openj9/openj9/pull/9130#pullrequestreview-388265889", "createdAt": "2020-04-06T13:48:01Z", "commit": {"oid": "6443fbd14e98a93ac4d96fa217a959223f4eb465"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMzo0ODowMVrOGBYiwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMzo0ODowMVrOGBYiwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEwMzg3NA==", "bodyText": "Since we're reading the value of scratchReg as an address-sized value using Op_load, shouldn't this be an address-sized compare (i.e. Op_cmpi)?", "url": "https://github.com/eclipse-openj9/openj9/pull/9130#discussion_r404103874", "createdAt": "2020-04-06T13:48:01Z", "author": {"login": "aviansie-ben"}, "path": "runtime/compiler/p/codegen/J9TreeEvaluator.cpp", "diffHunk": "@@ -988,8 +988,8 @@ J9::Power::TreeEvaluator::generateFillInDataBlockSequenceForUnresolvedField(TR::\n    TR::Register *cndReg = cg->allocateRegister(TR_CCR);\n    generateTrg1MemInstruction(cg, TR::InstOpCode::Op_load, node, scratchReg,\n                      new (cg->trHeapMemory()) TR::MemoryReference(dataSnippetRegister, offsetInDataBlock, TR::Compiler->om.sizeofReferenceAddress(), cg));\n-   generateTrg1Src1ImmInstruction(cg, TR::InstOpCode::andi_r, node, scratchReg, scratchReg, cndReg, -1);\n-   generateConditionalBranchInstruction(cg, TR::InstOpCode::bne, node, unresolvedLabel, cndReg);\n+   generateTrg1Src1ImmInstruction(cg, TR::InstOpCode::cmpi4, node, cndReg, scratchReg, -1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6443fbd14e98a93ac4d96fa217a959223f4eb465"}, "originalPosition": 6}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e92250b43807276fd1e70bb7d1c3b20e0700c3af", "author": {"user": null}, "url": "https://github.com/eclipse-openj9/openj9/commit/e92250b43807276fd1e70bb7d1c3b20e0700c3af", "committedDate": "2020-04-06T14:06:55Z", "message": "Change compare to Op_cmpi"}, "afterCommit": {"oid": "46e2850b1244f83213a495488db4a831d6758438", "author": {"user": null}, "url": "https://github.com/eclipse-openj9/openj9/commit/46e2850b1244f83213a495488db4a831d6758438", "committedDate": "2020-04-06T14:11:22Z", "message": "Change compare to Op_cmpi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "263f12d091904bf098ed99a0e7f486e375478fb0", "author": {"user": null}, "url": "https://github.com/eclipse-openj9/openj9/commit/263f12d091904bf098ed99a0e7f486e375478fb0", "committedDate": "2020-04-06T14:34:51Z", "message": "Changing compare and branch for unresolved snippets within FieldWatch\n\nReplacing Andi. with Cmpi to branch into unresolved snippet routine.\n\nSigned-off-by: AlenBadel <Alen.Badel@ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "46e2850b1244f83213a495488db4a831d6758438", "author": {"user": null}, "url": "https://github.com/eclipse-openj9/openj9/commit/46e2850b1244f83213a495488db4a831d6758438", "committedDate": "2020-04-06T14:11:22Z", "message": "Change compare to Op_cmpi"}, "afterCommit": {"oid": "263f12d091904bf098ed99a0e7f486e375478fb0", "author": {"user": null}, "url": "https://github.com/eclipse-openj9/openj9/commit/263f12d091904bf098ed99a0e7f486e375478fb0", "committedDate": "2020-04-06T14:34:51Z", "message": "Changing compare and branch for unresolved snippets within FieldWatch\n\nReplacing Andi. with Cmpi to branch into unresolved snippet routine.\n\nSigned-off-by: AlenBadel <Alen.Badel@ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4NTMxNjM2", "url": "https://github.com/eclipse-openj9/openj9/pull/9130#pullrequestreview-388531636", "createdAt": "2020-04-06T18:58:04Z", "commit": {"oid": "263f12d091904bf098ed99a0e7f486e375478fb0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4NTQwNTMx", "url": "https://github.com/eclipse-openj9/openj9/pull/9130#pullrequestreview-388540531", "createdAt": "2020-04-06T19:10:55Z", "commit": {"oid": "263f12d091904bf098ed99a0e7f486e375478fb0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1188, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}