{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyMDEzMTk2", "number": 10681, "title": "Fix compilation failures for building JDK ON Z", "bodyText": "Fix compilation failures seen while building JDK on Z.\nSigned-off-by: Rahil Shah rahil@ca.ibm.com", "createdAt": "2020-09-23T20:09:08Z", "url": "https://github.com/eclipse-openj9/openj9/pull/10681", "merged": true, "mergeCommit": {"oid": "10212d8282cd1144b90f0eb22e171707f72f1fea"}, "closed": true, "closedAt": "2020-09-25T01:09:45Z", "author": {"login": "r30shah"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLypKcgFqTQ5NTAyNDI0OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMLNfWgFqTQ5NjA0NjkyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MDI0MjQ4", "url": "https://github.com/eclipse-openj9/openj9/pull/10681#pullrequestreview-495024248", "createdAt": "2020-09-23T20:30:24Z", "commit": {"oid": "74d9e544302db2e57a039f6bc3250808729d938a"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMDozMDoyNFrOHW_z4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMDozMDozNFrOHW_0Rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzg3NjE5Mg==", "bodyText": "this will break windows, if a variable is not defined at the beginning of a scope. Don't worry about having multiple #if defined(..) blocks. Just define the variable at the start of the scope.", "url": "https://github.com/eclipse-openj9/openj9/pull/10681#discussion_r493876192", "createdAt": "2020-09-23T20:30:24Z", "author": {"login": "tajila"}, "path": "runtime/jcl/common/unsafe_mem.c", "diffHunk": "@@ -146,6 +145,7 @@ unsafeFreeMemory(J9VMThread* vmThread, void* oldAddress)\n \t\tJ9_LINKED_LIST_REMOVE(vmThread->javaVM->unsafeMemoryListHead, memBlock);\n \t\tomrthread_monitor_exit(mutex);\n #if defined(J9VM_OPT_SNAPSHOTS)\n+\t\tJ9JavaVM *vm = vmThread->javaVM;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74d9e544302db2e57a039f6bc3250808729d938a"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzg3NjI5NQ==", "bodyText": "same here", "url": "https://github.com/eclipse-openj9/openj9/pull/10681#discussion_r493876295", "createdAt": "2020-09-23T20:30:34Z", "author": {"login": "tajila"}, "path": "runtime/vm/jvminit.c", "diffHunk": "@@ -7002,14 +7002,14 @@ freeClassNativeMemory(J9HookInterface** hook, UDATA eventNum, void* eventData, v\n {\n \tJ9VMClassUnloadEvent * data = eventData;\n \tJ9Class * clazz = data->clazz;\n-\tJ9JavaVM *vm = data->currentThread->javaVM;\n \tPORT_ACCESS_FROM_VMC(data->currentThread);\n \n \t/* Free the ID table for this class, but do not free any of the IDs.  They will be freed by killing their\n \t\tpools when the class loader is unloaded.\n \t*/\n \n #if defined(J9VM_OPT_SNAPSHOTS)\n+\tJ9JavaVM *vm = data->currentThread->javaVM;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74d9e544302db2e57a039f6bc3250808729d938a"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a001f260c87796da222a7d5f0aa36ca27e7d5b69", "author": {"user": {"login": "r30shah", "name": "Rahil Shah"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a001f260c87796da222a7d5f0aa36ca27e7d5b69", "committedDate": "2020-09-24T02:58:45Z", "message": "Fix compilation failures for building JDK ON Z\n\nSigned-off-by: Rahil Shah <rahil@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "74d9e544302db2e57a039f6bc3250808729d938a", "author": {"user": {"login": "r30shah", "name": "Rahil Shah"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/74d9e544302db2e57a039f6bc3250808729d938a", "committedDate": "2020-09-23T20:07:52Z", "message": "Fix compilation failures for building JDK ON Z\n\nSigned-off-by: Rahil Shah <rahil@ca.ibm.com>"}, "afterCommit": {"oid": "a001f260c87796da222a7d5f0aa36ca27e7d5b69", "author": {"user": {"login": "r30shah", "name": "Rahil Shah"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a001f260c87796da222a7d5f0aa36ca27e7d5b69", "committedDate": "2020-09-24T02:58:45Z", "message": "Fix compilation failures for building JDK ON Z\n\nSigned-off-by: Rahil Shah <rahil@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1Nzc0ODQ1", "url": "https://github.com/eclipse-openj9/openj9/pull/10681#pullrequestreview-495774845", "createdAt": "2020-09-24T17:01:18Z", "commit": {"oid": "a001f260c87796da222a7d5f0aa36ca27e7d5b69"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNzowMToxOVrOHXkRlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNzowMToxOVrOHXkRlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDQ3MzYyMA==", "bodyText": "@0xdaryl @fjeremic The rest of this PR looks fine to me but I don't have the background to tell if this is correct.  Can you of you +1 this?", "url": "https://github.com/eclipse-openj9/openj9/pull/10681#discussion_r494473620", "createdAt": "2020-09-24T17:01:19Z", "author": {"login": "DanHeidinga"}, "path": "runtime/compiler/z/codegen/J9TreeEvaluator.cpp", "diffHunk": "@@ -2184,7 +2184,7 @@ J9::Z::TreeEvaluator::asynccheckEvaluator(TR::Node * node, TR::CodeGenerator * c\n          }\n       if (value >= MIN_IMMEDIATE_VAL && value <= MAX_IMMEDIATE_VAL)\n          {\n-         TR::MemoryReference * tempMR = generateS390MemoryReference(firstChild, cg);\n+         TR::MemoryReference * tempMR = TR::MemoryReference::create(cg, firstChild);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a001f260c87796da222a7d5f0aa36ca27e7d5b69"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MDQ2OTIz", "url": "https://github.com/eclipse-openj9/openj9/pull/10681#pullrequestreview-496046923", "createdAt": "2020-09-25T01:08:01Z", "commit": {"oid": "a001f260c87796da222a7d5f0aa36ca27e7d5b69"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 279, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}