{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwOTcwMDg3", "number": 9409, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMTo0OToxMlrOD30HJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMDoyNTo1OFrOD4Mbkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODUyMDY5OnYy", "diffSide": "RIGHT", "path": "doc/build-instructions/Build_Instructions_V8.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMTo0OToxMlrOGOSTFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMjowMjo1OFrOGOSr0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYzMzA0Nw==", "bodyText": "@keithc-ca you removed this section from the non-docker instructions in #9371 and I'm not entirely sure why.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r417633047", "createdAt": "2020-04-29T21:49:12Z", "author": {"login": "pshipton"}, "path": "doc/build-instructions/Build_Instructions_V8.md", "diffHunk": "@@ -104,14 +104,37 @@ apt-get update \\\n    ...\n ```\n \n-2. Download and setup **freemarker.jar** into a directory. The example commands use `/root` to be consistent with the Docker instructions. If you aren't using Docker, you probably want to store the **freemarker.jar** in your home directory.\n+2. This build uses the same gcc and g++ compiler levels as OpenJDK, which might be", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e357a7b125d66bc0745b5155b36a638e44bd249"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYzOTM3Nw==", "bodyText": "That change went with the advice to use cmake; which apparently was only partly reverted.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r417639377", "createdAt": "2020-04-29T22:02:58Z", "author": {"login": "keithc-ca"}, "path": "doc/build-instructions/Build_Instructions_V8.md", "diffHunk": "@@ -104,14 +104,37 @@ apt-get update \\\n    ...\n ```\n \n-2. Download and setup **freemarker.jar** into a directory. The example commands use `/root` to be consistent with the Docker instructions. If you aren't using Docker, you probably want to store the **freemarker.jar** in your home directory.\n+2. This build uses the same gcc and g++ compiler levels as OpenJDK, which might be", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYzMzA0Nw=="}, "originalCommit": {"oid": "2e357a7b125d66bc0745b5155b36a638e44bd249"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODU3MzM0OnYy", "diffSide": "RIGHT", "path": "doc/build-instructions/Build_Instructions_V11.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMjowNzo1NVrOGOS0bA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMjoyNDo0N1rOGOTO-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzY0MTU4MA==", "bodyText": "I would reword this: the option is required if JAVA_HOME isn't set or doesn't refer to a suitable boot jdk. If you're building multiple jdk versions, you probably can't satisfy them all with JAVA_HOME. I think we should advise use of --with-boot-jdk in general.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r417641580", "createdAt": "2020-04-29T22:07:55Z", "author": {"login": "keithc-ca"}, "path": "doc/build-instructions/Build_Instructions_V11.md", "diffHunk": "@@ -171,10 +171,12 @@ bash get_source.sh\n :penguin:\n When you have all the source files that you need, run the configure script, which detects how to build in the current build environment.\n ```\n-bash configure --with-freemarker-jar=/<my_home_dir>/freemarker.jar\n+bash configure --with-freemarker-jar=/<my_home_dir>/freemarker.jar --with-boot-jdk=/usr/lib/adoptojdk-java-11\n ```\n :warning: You must give an absolute path to freemarker.jar\n \n+:warning: The path in the example --with-boot-jdk= option is appropriate for the Docker installation, this option is not required if you followed the instructions to download and setup the boot JDK.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "692046f90d292789b5fcf693a0bd078b19eca87a"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzY0ODM3OQ==", "bodyText": "I've updated, but if you still want changes we can figure it out on Slack.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r417648379", "createdAt": "2020-04-29T22:24:47Z", "author": {"login": "pshipton"}, "path": "doc/build-instructions/Build_Instructions_V11.md", "diffHunk": "@@ -171,10 +171,12 @@ bash get_source.sh\n :penguin:\n When you have all the source files that you need, run the configure script, which detects how to build in the current build environment.\n ```\n-bash configure --with-freemarker-jar=/<my_home_dir>/freemarker.jar\n+bash configure --with-freemarker-jar=/<my_home_dir>/freemarker.jar --with-boot-jdk=/usr/lib/adoptojdk-java-11\n ```\n :warning: You must give an absolute path to freemarker.jar\n \n+:warning: The path in the example --with-boot-jdk= option is appropriate for the Docker installation, this option is not required if you followed the instructions to download and setup the boot JDK.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzY0MTU4MA=="}, "originalCommit": {"oid": "692046f90d292789b5fcf693a0bd078b19eca87a"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODU3NTQ5OnYy", "diffSide": "RIGHT", "path": "doc/build-instructions/Build_Instructions_V14.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMjowODo0NFrOGOS1zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMjowODo0NFrOGOS1zA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzY0MTkzMg==", "bodyText": "Same comment as above.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r417641932", "createdAt": "2020-04-29T22:08:44Z", "author": {"login": "keithc-ca"}, "path": "doc/build-instructions/Build_Instructions_V14.md", "diffHunk": "@@ -169,10 +169,12 @@ bash get_source.sh\n :penguin:\n When you have all the source files that you need, run the configure script, which detects how to build in the current build environment.\n ```\n-bash configure --with-freemarker-jar=/<my_home_dir>/freemarker.jar --with-boot-jdk=<path_to_boot_JDK13>\n+bash configure --with-freemarker-jar=/<my_home_dir>/freemarker.jar --with-boot-jdk=/usr/lib/adoptojdk-java-14\n ```\n :warning: You must give an absolute path to freemarker.jar\n \n+:warning: The path in the example --with-boot-jdk= option is appropriate for the Docker installation, this option is not required if you followed the instructions to download and setup the boot JDK.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "692046f90d292789b5fcf693a0bd078b19eca87a"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODU3ODcwOnYy", "diffSide": "RIGHT", "path": "doc/build-instructions/Build_Instructions_V8.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMjowOTo0NlrOGOS3sQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMjowOTo0NlrOGOS3sQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzY0MjQxNw==", "bodyText": "And again.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r417642417", "createdAt": "2020-04-29T22:09:46Z", "author": {"login": "keithc-ca"}, "path": "doc/build-instructions/Build_Instructions_V8.md", "diffHunk": "@@ -133,10 +155,12 @@ bash get_source.sh\n :penguin:\n When you have all the source files that you need, run the configure script, which detects how to build in the current build environment.\n ```\n-bash configure --with-freemarker-jar=/root/freemarker.jar\n+bash configure --with-freemarker-jar=/root/freemarker.jar --with-boot-jdk=/usr/lib/adoptojdk-java-80\n ```\n :warning: You must give an absolute path to freemarker.jar\n \n+:warning: The path in the example --with-boot-jdk= option is appropriate for the Docker installation, this option is not required if you followed the instructions to download and setup the boot JDK.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "692046f90d292789b5fcf693a0bd078b19eca87a"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMTA4NjEyOnYy", "diffSide": "RIGHT", "path": "doc/build-instructions/Build_Instructions_V8.md", "isResolved": true, "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNDowNjoxN1rOGOq68w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNzozNTo1MlrOGOzfHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODAzNjQ2Nw==", "bodyText": "If we're going to discuss this, I think it should explain how to get gcc-7 and g++-7 that are the targets of those links.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r418036467", "createdAt": "2020-04-30T14:06:17Z", "author": {"login": "keithc-ca"}, "path": "doc/build-instructions/Build_Instructions_V8.md", "diffHunk": "@@ -104,14 +104,36 @@ apt-get update \\\n    ...\n ```\n \n-2. Download and setup **freemarker.jar** into a directory. The example commands use `/root` to be consistent with the Docker instructions. If you aren't using Docker, you probably want to store the **freemarker.jar** in your home directory.\n+2. This build uses the same gcc and g++ compiler levels as OpenJDK, which might be\n+backlevel compared with the versions you use on your system. Create links for\n+the compilers with the following commands:\n+```\n+ln -s g++ /usr/bin/c++\n+ln -s g++-7 /usr/bin/g++\n+ln -s gcc /usr/bin/cc\n+ln -s gcc-7 /usr/bin/gcc\n+```", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4064a1cc07afd74d3414b34f003b3dd8db7d166"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA0NTI1NA==", "bodyText": "This should be covered by the following, as the apt-get list includes gcc-7 and g++-7:\n1. Install the list of dependencies that can be obtained with the `apt-get` command from the following section of the Dockerfile:", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r418045254", "createdAt": "2020-04-30T14:18:39Z", "author": {"login": "pshipton"}, "path": "doc/build-instructions/Build_Instructions_V8.md", "diffHunk": "@@ -104,14 +104,36 @@ apt-get update \\\n    ...\n ```\n \n-2. Download and setup **freemarker.jar** into a directory. The example commands use `/root` to be consistent with the Docker instructions. If you aren't using Docker, you probably want to store the **freemarker.jar** in your home directory.\n+2. This build uses the same gcc and g++ compiler levels as OpenJDK, which might be\n+backlevel compared with the versions you use on your system. Create links for\n+the compilers with the following commands:\n+```\n+ln -s g++ /usr/bin/c++\n+ln -s g++-7 /usr/bin/g++\n+ln -s gcc /usr/bin/cc\n+ln -s gcc-7 /usr/bin/gcc\n+```", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODAzNjQ2Nw=="}, "originalCommit": {"oid": "e4064a1cc07afd74d3414b34f003b3dd8db7d166"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODEyOTU2Mg==", "bodyText": "The section that was removed referred to gcc-4.8; the current requirement is for gcc-7.5. If you follow the steps listed in mkdocker.sh --print, you'll get gcc-7.5 and symbolic links are not required. I think this section should just stay removed.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r418129562", "createdAt": "2020-04-30T16:17:03Z", "author": {"login": "keithc-ca"}, "path": "doc/build-instructions/Build_Instructions_V8.md", "diffHunk": "@@ -104,14 +104,36 @@ apt-get update \\\n    ...\n ```\n \n-2. Download and setup **freemarker.jar** into a directory. The example commands use `/root` to be consistent with the Docker instructions. If you aren't using Docker, you probably want to store the **freemarker.jar** in your home directory.\n+2. This build uses the same gcc and g++ compiler levels as OpenJDK, which might be\n+backlevel compared with the versions you use on your system. Create links for\n+the compilers with the following commands:\n+```\n+ln -s g++ /usr/bin/c++\n+ln -s g++-7 /usr/bin/g++\n+ln -s gcc /usr/bin/cc\n+ln -s gcc-7 /usr/bin/gcc\n+```", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODAzNjQ2Nw=="}, "originalCommit": {"oid": "e4064a1cc07afd74d3414b34f003b3dd8db7d166"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE0NzE4OQ==", "bodyText": "What about this part? ENV CC=gcc-7 CXX=g++-7\nAre these exports required to use gcc 7 in the build in place of whatever else the user has installed?", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r418147189", "createdAt": "2020-04-30T16:45:26Z", "author": {"login": "pshipton"}, "path": "doc/build-instructions/Build_Instructions_V8.md", "diffHunk": "@@ -104,14 +104,36 @@ apt-get update \\\n    ...\n ```\n \n-2. Download and setup **freemarker.jar** into a directory. The example commands use `/root` to be consistent with the Docker instructions. If you aren't using Docker, you probably want to store the **freemarker.jar** in your home directory.\n+2. This build uses the same gcc and g++ compiler levels as OpenJDK, which might be\n+backlevel compared with the versions you use on your system. Create links for\n+the compilers with the following commands:\n+```\n+ln -s g++ /usr/bin/c++\n+ln -s g++-7 /usr/bin/g++\n+ln -s gcc /usr/bin/cc\n+ln -s gcc-7 /usr/bin/gcc\n+```", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODAzNjQ2Nw=="}, "originalCommit": {"oid": "e4064a1cc07afd74d3414b34f003b3dd8db7d166"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE1NDUwMQ==", "bodyText": "As a test, on Ubuntu 20 I did apt install gcc which installed gcc 9. Followed by apt install gcc-7 but this doesn't replace the gcc 9 default you get when running gcc --version.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r418154501", "createdAt": "2020-04-30T16:58:06Z", "author": {"login": "pshipton"}, "path": "doc/build-instructions/Build_Instructions_V8.md", "diffHunk": "@@ -104,14 +104,36 @@ apt-get update \\\n    ...\n ```\n \n-2. Download and setup **freemarker.jar** into a directory. The example commands use `/root` to be consistent with the Docker instructions. If you aren't using Docker, you probably want to store the **freemarker.jar** in your home directory.\n+2. This build uses the same gcc and g++ compiler levels as OpenJDK, which might be\n+backlevel compared with the versions you use on your system. Create links for\n+the compilers with the following commands:\n+```\n+ln -s g++ /usr/bin/c++\n+ln -s g++-7 /usr/bin/g++\n+ln -s gcc /usr/bin/cc\n+ln -s gcc-7 /usr/bin/gcc\n+```", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODAzNjQ2Nw=="}, "originalCommit": {"oid": "e4064a1cc07afd74d3414b34f003b3dd8db7d166"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE2ODQ2Mg==", "bodyText": "If you use apt install g++-7 then those environment variables will select that version (independent of whether you have other versions installed).\nIf you use apt install g++ you get gcc-9 which worked last time I tried; those environment variables are not be needed in that case. On Ubuntu 18.04, you'll get version 7, so neither the symlinks nor the environment variables are necessary.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r418168462", "createdAt": "2020-04-30T17:21:44Z", "author": {"login": "keithc-ca"}, "path": "doc/build-instructions/Build_Instructions_V8.md", "diffHunk": "@@ -104,14 +104,36 @@ apt-get update \\\n    ...\n ```\n \n-2. Download and setup **freemarker.jar** into a directory. The example commands use `/root` to be consistent with the Docker instructions. If you aren't using Docker, you probably want to store the **freemarker.jar** in your home directory.\n+2. This build uses the same gcc and g++ compiler levels as OpenJDK, which might be\n+backlevel compared with the versions you use on your system. Create links for\n+the compilers with the following commands:\n+```\n+ln -s g++ /usr/bin/c++\n+ln -s g++-7 /usr/bin/g++\n+ln -s gcc /usr/bin/cc\n+ln -s gcc-7 /usr/bin/gcc\n+```", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODAzNjQ2Nw=="}, "originalCommit": {"oid": "e4064a1cc07afd74d3414b34f003b3dd8db7d166"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE2ODc0NQ==", "bodyText": "I've pushed a new commit.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r418168745", "createdAt": "2020-04-30T17:22:14Z", "author": {"login": "pshipton"}, "path": "doc/build-instructions/Build_Instructions_V8.md", "diffHunk": "@@ -104,14 +104,36 @@ apt-get update \\\n    ...\n ```\n \n-2. Download and setup **freemarker.jar** into a directory. The example commands use `/root` to be consistent with the Docker instructions. If you aren't using Docker, you probably want to store the **freemarker.jar** in your home directory.\n+2. This build uses the same gcc and g++ compiler levels as OpenJDK, which might be\n+backlevel compared with the versions you use on your system. Create links for\n+the compilers with the following commands:\n+```\n+ln -s g++ /usr/bin/c++\n+ln -s g++-7 /usr/bin/g++\n+ln -s gcc /usr/bin/cc\n+ln -s gcc-7 /usr/bin/gcc\n+```", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODAzNjQ2Nw=="}, "originalCommit": {"oid": "e4064a1cc07afd74d3414b34f003b3dd8db7d166"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE3Njc5Ng==", "bodyText": "I think it's better to tell the user to explicitly set the environment variables and use gcc 7. This is the compiler version we test and recommend. Otherwise we don't know what the use might have installed. Ub 16 installs gcc 5 by default which I don't think works.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r418176796", "createdAt": "2020-04-30T17:35:52Z", "author": {"login": "pshipton"}, "path": "doc/build-instructions/Build_Instructions_V8.md", "diffHunk": "@@ -104,14 +104,36 @@ apt-get update \\\n    ...\n ```\n \n-2. Download and setup **freemarker.jar** into a directory. The example commands use `/root` to be consistent with the Docker instructions. If you aren't using Docker, you probably want to store the **freemarker.jar** in your home directory.\n+2. This build uses the same gcc and g++ compiler levels as OpenJDK, which might be\n+backlevel compared with the versions you use on your system. Create links for\n+the compilers with the following commands:\n+```\n+ln -s g++ /usr/bin/c++\n+ln -s g++-7 /usr/bin/g++\n+ln -s gcc /usr/bin/cc\n+ln -s gcc-7 /usr/bin/gcc\n+```", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODAzNjQ2Nw=="}, "originalCommit": {"oid": "e4064a1cc07afd74d3414b34f003b3dd8db7d166"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMjA0NjM2OnYy", "diffSide": "RIGHT", "path": "doc/build-instructions/Build_Instructions_V8.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxODowNDoxMlrOGO0g0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxODozNzoxMFrOGO1nlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE5MzYxOQ==", "bodyText": "This can be removed given we're recommending use of --with-boot-jdk.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r418193619", "createdAt": "2020-04-30T18:04:12Z", "author": {"login": "keithc-ca"}, "path": "doc/build-instructions/Build_Instructions_V8.md", "diffHunk": "@@ -99,19 +99,36 @@ bash mkdocker.sh --tag=openj9 --dist=ubuntu --version=16.04 --print\n ```\n apt-get update \\\n  && apt-get install -qq -y --no-install-recommends \\\n-   autoconf \\\n-   ca-certificates \\\n    ...\n ```\n \n-2. Download and setup **freemarker.jar** into a directory. The example commands use `/root` to be consistent with the Docker instructions. If you aren't using Docker, you probably want to store the **freemarker.jar** in your home directory.\n+2. The previous step installed g++-7 and gcc-7 packages, which might be different\n+than the default version installed on your system. Export variables to set the \n+version used in the build.\n+```\n+export CC=gcc-7 CXX=g++-7\n+```\n+\n+3. Download and setup **freemarker.jar** into a directory. The example commands use `/root` to be consistent with the Docker instructions. If you aren't using Docker, you probably want to store the **freemarker.jar** in your home directory.\n ```\n cd /root\n wget https://sourceforge.net/projects/freemarker/files/freemarker/2.3.8/freemarker-2.3.8.tar.gz/download -O freemarker.tgz\n tar -xzf freemarker.tgz freemarker-2.3.8/lib/freemarker.jar --strip=2\n rm -f freemarker.tgz\n ```\n \n+4. Download and setup the boot JDK using the latest AdoptOpenJDK v8 build.\n+```\n+cd /<my_home_dir>\n+wget -O bootjdk8.tar.gz \"https://api.adoptopenjdk.net/v3/binary/latest/8/ga/linux/x64/jdk/openj9/normal/adoptopenjdk\"\n+tar -xzf bootjdk8.tar.gz\n+rm -f bootjdk8.tar.gz\n+mv $(ls | grep -i jdk) bootjdk8\n+\n+export JAVA_HOME=\"/<my_home_dir>/bootjdk8\"\n+export PATH=\"${JAVA_HOME}/bin:${PATH}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f41d69505517119f4179aeb69f686e15564f9f2"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODIxMTczMg==", "bodyText": "Pushed another update.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r418211732", "createdAt": "2020-04-30T18:37:10Z", "author": {"login": "pshipton"}, "path": "doc/build-instructions/Build_Instructions_V8.md", "diffHunk": "@@ -99,19 +99,36 @@ bash mkdocker.sh --tag=openj9 --dist=ubuntu --version=16.04 --print\n ```\n apt-get update \\\n  && apt-get install -qq -y --no-install-recommends \\\n-   autoconf \\\n-   ca-certificates \\\n    ...\n ```\n \n-2. Download and setup **freemarker.jar** into a directory. The example commands use `/root` to be consistent with the Docker instructions. If you aren't using Docker, you probably want to store the **freemarker.jar** in your home directory.\n+2. The previous step installed g++-7 and gcc-7 packages, which might be different\n+than the default version installed on your system. Export variables to set the \n+version used in the build.\n+```\n+export CC=gcc-7 CXX=g++-7\n+```\n+\n+3. Download and setup **freemarker.jar** into a directory. The example commands use `/root` to be consistent with the Docker instructions. If you aren't using Docker, you probably want to store the **freemarker.jar** in your home directory.\n ```\n cd /root\n wget https://sourceforge.net/projects/freemarker/files/freemarker/2.3.8/freemarker-2.3.8.tar.gz/download -O freemarker.tgz\n tar -xzf freemarker.tgz freemarker-2.3.8/lib/freemarker.jar --strip=2\n rm -f freemarker.tgz\n ```\n \n+4. Download and setup the boot JDK using the latest AdoptOpenJDK v8 build.\n+```\n+cd /<my_home_dir>\n+wget -O bootjdk8.tar.gz \"https://api.adoptopenjdk.net/v3/binary/latest/8/ga/linux/x64/jdk/openj9/normal/adoptopenjdk\"\n+tar -xzf bootjdk8.tar.gz\n+rm -f bootjdk8.tar.gz\n+mv $(ls | grep -i jdk) bootjdk8\n+\n+export JAVA_HOME=\"/<my_home_dir>/bootjdk8\"\n+export PATH=\"${JAVA_HOME}/bin:${PATH}\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE5MzYxOQ=="}, "originalCommit": {"oid": "8f41d69505517119f4179aeb69f686e15564f9f2"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMjUwNTE1OnYy", "diffSide": "RIGHT", "path": "buildenv/docker/mkdocker.sh", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMDoyNTo1OFrOGO5EnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMTo1NDowOFrOGO7qyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI2ODMxNg==", "bodyText": "defaults.yml still says:\n  boot_jdk:\n    14: '/usr/lib/jvm/adoptojdk-java-13'\n\nSo I don't think it's yet time to remove jdk13 here.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r418268316", "createdAt": "2020-04-30T20:25:58Z", "author": {"login": "keithc-ca"}, "path": "buildenv/docker/mkdocker.sh", "diffHunk": "@@ -569,7 +569,7 @@ bootjdk_url() {\n }\n \n install_bootjdks() {\n-  local versions=\"8 11 13 14\"\n+  local versions=\"8 11 14\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af9bf125bc1ff0d134f1be052e1b08f7f79463f6"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI4MjYwOA==", "bodyText": "I'll open a PR to change it. Just because OpenJ9 builds still use 13 doesn't mean we can't tell users to use 14.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r418282608", "createdAt": "2020-04-30T20:53:46Z", "author": {"login": "pshipton"}, "path": "buildenv/docker/mkdocker.sh", "diffHunk": "@@ -569,7 +569,7 @@ bootjdk_url() {\n }\n \n install_bootjdks() {\n-  local versions=\"8 11 13 14\"\n+  local versions=\"8 11 14\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI2ODMxNg=="}, "originalCommit": {"oid": "af9bf125bc1ff0d134f1be052e1b08f7f79463f6"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI5OTQ4MA==", "bodyText": "As long as OpenJ9 builds (that could use the docker image) use 13, it should stay.\nI wasn't objecting to the other file that advises using 14.", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r418299480", "createdAt": "2020-04-30T21:28:11Z", "author": {"login": "keithc-ca"}, "path": "buildenv/docker/mkdocker.sh", "diffHunk": "@@ -569,7 +569,7 @@ bootjdk_url() {\n }\n \n install_bootjdks() {\n-  local versions=\"8 11 13 14\"\n+  local versions=\"8 11 14\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI2ODMxNg=="}, "originalCommit": {"oid": "af9bf125bc1ff0d134f1be052e1b08f7f79463f6"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMxMDg1Ng==", "bodyText": "I don't think there is any relation between defaults.yml and running in docker atm.\nCreated #9422", "url": "https://github.com/eclipse-openj9/openj9/pull/9409#discussion_r418310856", "createdAt": "2020-04-30T21:54:08Z", "author": {"login": "pshipton"}, "path": "buildenv/docker/mkdocker.sh", "diffHunk": "@@ -569,7 +569,7 @@ bootjdk_url() {\n }\n \n install_bootjdks() {\n-  local versions=\"8 11 13 14\"\n+  local versions=\"8 11 14\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI2ODMxNg=="}, "originalCommit": {"oid": "af9bf125bc1ff0d134f1be052e1b08f7f79463f6"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 292, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}