{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0MTQyMTE2", "number": 10076, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxNzo1OTo1NlrOELTodA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxODowMzo0NFrOELTqhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMjkxNDQ0OnYy", "diffSide": "RIGHT", "path": "runtime/compiler/optimizer/OSRGuardInsertion.cpp", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxNzo1OTo1NlrOGs11iQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxMzozMzowNVrOGtXbSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY3MjU4NQ==", "bodyText": "@andrewcraik What's the impact of this change?  Is there any existing tooling etc that needs to be updated at the same time as this change?  I expect the debug counters have no stable external requirements", "url": "https://github.com/eclipse-openj9/openj9/pull/10076#discussion_r449672585", "createdAt": "2020-07-03T17:59:56Z", "author": {"login": "DanHeidinga"}, "path": "runtime/compiler/optimizer/OSRGuardInsertion.cpp", "diffHunk": "@@ -635,7 +635,7 @@ int32_t TR_OSRGuardInsertion::insertOSRGuards(TR_BitVector &fearGeneratingNodes)\n          }\n       else if (cursor->getNode()->getOpCodeValue() == TR::asynccheck)\n          {\n-         TR::DebugCounter::prependDebugCounter(comp(), TR::DebugCounter::debugCounterName(comp(), \"osrGuardSummary/whitelist/asynccheck/%s/=%d\", comp()->getHotnessName(comp()->getMethodHotness()), block->getFrequency()), cursor);\n+         TR::DebugCounter::prependDebugCounter(comp(), TR::DebugCounter::debugCounterName(comp(), \"osrGuardSummary/allowlist/asynccheck/%s/=%d\", comp()->getHotnessName(comp()->getMethodHotness()), block->getFrequency()), cursor);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbf4f252030ccd1c5a6def3c3b380f23a780f03c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDIyMjkyMQ==", "bodyText": "there are no dependencies I am aware of - these are internal and not expected stable though thanks for checking since we do sometimes build tools on top of such features.", "url": "https://github.com/eclipse-openj9/openj9/pull/10076#discussion_r450222921", "createdAt": "2020-07-06T13:33:05Z", "author": {"login": "andrewcraik"}, "path": "runtime/compiler/optimizer/OSRGuardInsertion.cpp", "diffHunk": "@@ -635,7 +635,7 @@ int32_t TR_OSRGuardInsertion::insertOSRGuards(TR_BitVector &fearGeneratingNodes)\n          }\n       else if (cursor->getNode()->getOpCodeValue() == TR::asynccheck)\n          {\n-         TR::DebugCounter::prependDebugCounter(comp(), TR::DebugCounter::debugCounterName(comp(), \"osrGuardSummary/whitelist/asynccheck/%s/=%d\", comp()->getHotnessName(comp()->getMethodHotness()), block->getFrequency()), cursor);\n+         TR::DebugCounter::prependDebugCounter(comp(), TR::DebugCounter::debugCounterName(comp(), \"osrGuardSummary/allowlist/asynccheck/%s/=%d\", comp()->getHotnessName(comp()->getMethodHotness()), block->getFrequency()), cursor);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY3MjU4NQ=="}, "originalCommit": {"oid": "fbf4f252030ccd1c5a6def3c3b380f23a780f03c"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMjkxOTcyOnYy", "diffSide": "RIGHT", "path": "runtime/zlib/trees.c", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxODowMzo0NFrOGs14Zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxODoyNToyNFrOGs2Iag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY3MzMxOA==", "bodyText": "I think the search / replace missed \"white-listed\" as I see a couple of occurrences of it in this file.\nCan you put the zlib changes in a separate PR?  I want to think through the implications of modifying source that's maintained elsewhere and the impacts on our ability to consume it in the future.\nIdeally, changes like this would be done upstream in the zlib project first and then consumed from there to OpenJ9", "url": "https://github.com/eclipse-openj9/openj9/pull/10076#discussion_r449673318", "createdAt": "2020-07-03T18:03:44Z", "author": {"login": "DanHeidinga"}, "path": "runtime/zlib/trees.c", "diffHunk": "@@ -1144,7 +1144,7 @@ local int detect_data_type(s)\n         if (s->dyn_ltree[n].Freq != 0)\n             return Z_TEXT;\n \n-    /* There are no \"black-listed\" or \"white-listed\" bytes:\n+    /* There are no \"block-listed\" or \"white-listed\" bytes:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbf4f252030ccd1c5a6def3c3b380f23a780f03c"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY3Njg4NQ==", "bodyText": "zlib is maintained in https://github.com/madler/zlib We should try to get these changes accepted upstream first.  If they won't accept them, we can look at maintaining this patch indefinitely", "url": "https://github.com/eclipse-openj9/openj9/pull/10076#discussion_r449676885", "createdAt": "2020-07-03T18:22:44Z", "author": {"login": "DanHeidinga"}, "path": "runtime/zlib/trees.c", "diffHunk": "@@ -1144,7 +1144,7 @@ local int detect_data_type(s)\n         if (s->dyn_ltree[n].Freq != 0)\n             return Z_TEXT;\n \n-    /* There are no \"black-listed\" or \"white-listed\" bytes:\n+    /* There are no \"block-listed\" or \"white-listed\" bytes:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY3MzMxOA=="}, "originalCommit": {"oid": "fbf4f252030ccd1c5a6def3c3b380f23a780f03c"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY3NzM4NQ==", "bodyText": "Okay. I will create an issue there.", "url": "https://github.com/eclipse-openj9/openj9/pull/10076#discussion_r449677385", "createdAt": "2020-07-03T18:25:13Z", "author": {"login": "theresa-m"}, "path": "runtime/zlib/trees.c", "diffHunk": "@@ -1144,7 +1144,7 @@ local int detect_data_type(s)\n         if (s->dyn_ltree[n].Freq != 0)\n             return Z_TEXT;\n \n-    /* There are no \"black-listed\" or \"white-listed\" bytes:\n+    /* There are no \"block-listed\" or \"white-listed\" bytes:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY3MzMxOA=="}, "originalCommit": {"oid": "fbf4f252030ccd1c5a6def3c3b380f23a780f03c"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY3NzQxOA==", "bodyText": "I've removed the zlib changes from this pr.", "url": "https://github.com/eclipse-openj9/openj9/pull/10076#discussion_r449677418", "createdAt": "2020-07-03T18:25:24Z", "author": {"login": "theresa-m"}, "path": "runtime/zlib/trees.c", "diffHunk": "@@ -1144,7 +1144,7 @@ local int detect_data_type(s)\n         if (s->dyn_ltree[n].Freq != 0)\n             return Z_TEXT;\n \n-    /* There are no \"black-listed\" or \"white-listed\" bytes:\n+    /* There are no \"block-listed\" or \"white-listed\" bytes:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY3MzMxOA=="}, "originalCommit": {"oid": "fbf4f252030ccd1c5a6def3c3b380f23a780f03c"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4901, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}