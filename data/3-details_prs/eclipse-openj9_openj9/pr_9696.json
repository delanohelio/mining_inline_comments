{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzMjk0MTM1", "number": 9696, "title": "CMake: Reintroduce base warning flags", "bodyText": "Rehash of #9679 but introduces the flags via the platform compile options.\nThis ensures they don't get applied to NASM.\nSigned-off-by: Devin Nakamura devinn@ca.ibm.com", "createdAt": "2020-05-26T15:51:16Z", "url": "https://github.com/eclipse-openj9/openj9/pull/9696", "merged": true, "mergeCommit": {"oid": "f8a2c93e36016406ea2f1850457d3c6162a4d87e"}, "closed": true, "closedAt": "2020-05-27T13:27:21Z", "author": {"login": "dnakamura"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclHIzjABqjMzNzQzMzQ3ODY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclZPolgFqTQxOTIwMzI2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a30780fa62ac4e217f79dc4595fb81013eef70d8", "author": {"user": {"login": "dnakamura", "name": "Devin Nakamura"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a30780fa62ac4e217f79dc4595fb81013eef70d8", "committedDate": "2020-05-26T15:50:02Z", "message": "CMake: Reintroduce base warning flags\n\nRehash of #9679 but introduce the flags via the platform compile options.\nThis ensures they dont get applied to NASM.\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>"}, "afterCommit": {"oid": "c1a202cc21af1482456c148bdaa9021059a8f0d7", "author": {"user": {"login": "dnakamura", "name": "Devin Nakamura"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/c1a202cc21af1482456c148bdaa9021059a8f0d7", "committedDate": "2020-05-26T16:20:03Z", "message": "CMake: Reintroduce base warning flags\n\nRehash of #9679 but introduce the flags via the platform compile options.\nThis ensures they dont get applied to NASM.\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NTQ2ODU4", "url": "https://github.com/eclipse-openj9/openj9/pull/9696#pullrequestreview-418546858", "createdAt": "2020-05-26T18:01:08Z", "commit": {"oid": "c1a202cc21af1482456c148bdaa9021059a8f0d7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxODowMTowOFrOGaqB1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxODowMTowOFrOGaqB1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDYwNDc1OA==", "bodyText": "This will still result in -Wreturn-type being given to nasm; see OmrPlatform.cmake.", "url": "https://github.com/eclipse-openj9/openj9/pull/9696#discussion_r430604758", "createdAt": "2020-05-26T18:01:08Z", "author": {"login": "keithc-ca"}, "path": "runtime/cmake/platform/toolcfg/gnu.cmake", "diffHunk": "@@ -20,7 +20,8 @@\n # SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n ################################################################################\n \n-list(APPEND OMR_PLATFORM_COMPILE_OPTIONS -O3 -g -fstack-protector)\n+list(APPEND OMR_PLATFORM_COMPILE_OPTIONS -O3 -g -fstack-protector -Wreturn-type)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1a202cc21af1482456c148bdaa9021059a8f0d7"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NTU5NjA3", "url": "https://github.com/eclipse-openj9/openj9/pull/9696#pullrequestreview-418559607", "createdAt": "2020-05-26T18:19:12Z", "commit": {"oid": "c1a202cc21af1482456c148bdaa9021059a8f0d7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxODoxOToxMlrOGaqpfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxODoxOToxMlrOGaqpfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDYxNDkxMQ==", "bodyText": "This leads to numerous warnings:\ncc1plus: warning: command line option \u2018-Wimplicit\u2019 is valid for C/ObjC but not for C++\n\nsee runtime/compiler/CMakeLists.txt.", "url": "https://github.com/eclipse-openj9/openj9/pull/9696#discussion_r430614911", "createdAt": "2020-05-26T18:19:12Z", "author": {"login": "keithc-ca"}, "path": "runtime/cmake/platform/toolcfg/gnu.cmake", "diffHunk": "@@ -20,7 +20,8 @@\n # SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n ################################################################################\n \n-list(APPEND OMR_PLATFORM_COMPILE_OPTIONS -O3 -g -fstack-protector)\n+list(APPEND OMR_PLATFORM_COMPILE_OPTIONS -O3 -g -fstack-protector -Wreturn-type)\n+list(APPEND OMR_PLATFORM_C_COMPILE_OPTIONS -Wimplicit)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1a202cc21af1482456c148bdaa9021059a8f0d7"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NTkyMDE2", "url": "https://github.com/eclipse-openj9/openj9/pull/9696#pullrequestreview-418592016", "createdAt": "2020-05-26T19:03:59Z", "commit": {"oid": "c1a202cc21af1482456c148bdaa9021059a8f0d7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxOTowMzo1OVrOGasPJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxOTowMzo1OVrOGasPJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY0MDkzMg==", "bodyText": "This will break jitserver by ignoring the value set at line 87.", "url": "https://github.com/eclipse-openj9/openj9/pull/9696#discussion_r430640932", "createdAt": "2020-05-26T19:03:59Z", "author": {"login": "keithc-ca"}, "path": "runtime/compiler/CMakeLists.txt", "diffHunk": "@@ -225,6 +225,8 @@ set(J9_INCLUDES\n # Makefiles\n set(J9_SHAREDFLAGS\n \t${OMR_PLATFORM_COMPILE_OPTIONS}\n+)\n+set(J9_CFLAGS", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1a202cc21af1482456c148bdaa9021059a8f0d7"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c1a202cc21af1482456c148bdaa9021059a8f0d7", "author": {"user": {"login": "dnakamura", "name": "Devin Nakamura"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/c1a202cc21af1482456c148bdaa9021059a8f0d7", "committedDate": "2020-05-26T16:20:03Z", "message": "CMake: Reintroduce base warning flags\n\nRehash of #9679 but introduce the flags via the platform compile options.\nThis ensures they dont get applied to NASM.\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>"}, "afterCommit": {"oid": "f75e25506252be3d9d2ff07062f98c0dc4ff930b", "author": {"user": {"login": "dnakamura", "name": "Devin Nakamura"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/f75e25506252be3d9d2ff07062f98c0dc4ff930b", "committedDate": "2020-05-26T19:44:52Z", "message": "CMake: Reintroduce base warning flags\n\nRehash of #9679 but introduce the flags via the platform compile options.\nThis ensures they dont get applied to NASM.\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c481d6bccbed8001362aa252fe0883d19c30cd2", "author": {"user": {"login": "dnakamura", "name": "Devin Nakamura"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8c481d6bccbed8001362aa252fe0883d19c30cd2", "committedDate": "2020-05-26T21:51:32Z", "message": "CMake: Reintroduce base warning flags\n\nRehash of #9679 but introduce the flags via the platform compile options.\nThis ensures they dont get applied to NASM.\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f75e25506252be3d9d2ff07062f98c0dc4ff930b", "author": {"user": {"login": "dnakamura", "name": "Devin Nakamura"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/f75e25506252be3d9d2ff07062f98c0dc4ff930b", "committedDate": "2020-05-26T19:44:52Z", "message": "CMake: Reintroduce base warning flags\n\nRehash of #9679 but introduce the flags via the platform compile options.\nThis ensures they dont get applied to NASM.\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>"}, "afterCommit": {"oid": "8c481d6bccbed8001362aa252fe0883d19c30cd2", "author": {"user": {"login": "dnakamura", "name": "Devin Nakamura"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8c481d6bccbed8001362aa252fe0883d19c30cd2", "committedDate": "2020-05-26T21:51:32Z", "message": "CMake: Reintroduce base warning flags\n\nRehash of #9679 but introduce the flags via the platform compile options.\nThis ensures they dont get applied to NASM.\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NzU2NjY3", "url": "https://github.com/eclipse-openj9/openj9/pull/9696#pullrequestreview-418756667", "createdAt": "2020-05-27T00:00:36Z", "commit": {"oid": "8c481d6bccbed8001362aa252fe0883d19c30cd2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwMDowMDozNlrOGa0Mzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwMDowMDozNlrOGa0Mzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDc3MTQwNg==", "bodyText": "I take it include(FindOpenSSL) is just redundant?", "url": "https://github.com/eclipse-openj9/openj9/pull/9696#discussion_r430771406", "createdAt": "2020-05-27T00:00:36Z", "author": {"login": "keithc-ca"}, "path": "runtime/compiler/CMakeLists.txt", "diffHunk": "@@ -95,7 +90,6 @@ if(J9VM_OPT_JITSERVER)\n \t\tset(OPENSSL_ROOT_DIR ${OPENSSL_DIR})\n \tendif()\n \n-\tinclude(FindOpenSSL)\n \tfind_package(OpenSSL REQUIRED)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c481d6bccbed8001362aa252fe0883d19c30cd2"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5MjAzMjY5", "url": "https://github.com/eclipse-openj9/openj9/pull/9696#pullrequestreview-419203269", "createdAt": "2020-05-27T13:25:59Z", "commit": {"oid": "8c481d6bccbed8001362aa252fe0883d19c30cd2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 765, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}