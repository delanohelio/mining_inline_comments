{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzNjM2OTE4", "number": 9706, "title": "Add OpenJ9 & OMR to Reference Repo", "bodyText": "Related #6744\n[skip ci]\nSigned-off-by: Adam Brousseau adam.brousseau88@gmail.com", "createdAt": "2020-05-27T06:27:41Z", "url": "https://github.com/eclipse-openj9/openj9/pull/9706", "merged": true, "mergeCommit": {"oid": "2e7f7b728103f092310e3f40562d4cdb828db7d4"}, "closed": true, "closedAt": "2020-06-19T17:32:54Z", "author": {"login": "AdamBrousseau"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclTTEJABqjMzNzY1OTE1MTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcs2jtvAFqTQzNDI0MTAwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1ced4126413d2d238d57c23fb7cc81ce13e42bb2", "author": {"user": {"login": "AdamBrousseau", "name": null}}, "url": "https://github.com/eclipse-openj9/openj9/commit/1ced4126413d2d238d57c23fb7cc81ce13e42bb2", "committedDate": "2020-05-27T06:25:03Z", "message": "Add OpenJ9 & OMR to Reference Repo\n\nRelated #6744\n[skip ci]\n\nSigned-off-by: Adam Brousseau <adam.brousseau88@gmail.com>"}, "afterCommit": {"oid": "8e606f31cd60515f0bc0c55c6cb16f834bfcc4d1", "author": {"user": {"login": "AdamBrousseau", "name": null}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8e606f31cd60515f0bc0c55c6cb16f834bfcc4d1", "committedDate": "2020-05-27T06:30:12Z", "message": "Add OpenJ9 & OMR to Reference Repo\n\nRelated #6744\n[skip ci]\n\nSigned-off-by: Adam Brousseau <adam.brousseau88@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "32e6ef55163312febca0d3d6da4f81f6aa6da645", "author": {"user": {"login": "AdamBrousseau", "name": null}}, "url": "https://github.com/eclipse-openj9/openj9/commit/32e6ef55163312febca0d3d6da4f81f6aa6da645", "committedDate": "2020-06-16T07:33:46Z", "message": "remove unesary releases array (imo) [skip ci]\"\n\nSigned-off-by: Adam Brousseau <adam.brousseau88@gmail.com>"}, "afterCommit": {"oid": "f6357a51968c4f27231961249d8ab095627179d7", "author": {"user": {"login": "AdamBrousseau", "name": null}}, "url": "https://github.com/eclipse-openj9/openj9/commit/f6357a51968c4f27231961249d8ab095627179d7", "committedDate": "2020-06-16T07:40:50Z", "message": "remove unesary releases array (imo) [skip ci]\"\n\nSigned-off-by: Adam Brousseau <adam.brousseau88@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxNTAwMDY0", "url": "https://github.com/eclipse-openj9/openj9/pull/9706#pullrequestreview-431500064", "createdAt": "2020-06-16T13:27:00Z", "commit": {"oid": "2aff93320184209959c796445cc29422aec41974"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2aff93320184209959c796445cc29422aec41974", "author": {"user": {"login": "AdamBrousseau", "name": null}}, "url": "https://github.com/eclipse-openj9/openj9/commit/2aff93320184209959c796445cc29422aec41974", "committedDate": "2020-06-16T07:56:38Z", "message": "Remove ext_repo var [skip ci]\n\nSigned-off-by: Adam Brousseau <adam.brousseau88@gmail.com>"}, "afterCommit": {"oid": "b23edb730de6316fdb4c0352ba8ea28cfc0e0db7", "author": {"user": {"login": "AdamBrousseau", "name": null}}, "url": "https://github.com/eclipse-openj9/openj9/commit/b23edb730de6316fdb4c0352ba8ea28cfc0e0db7", "committedDate": "2020-06-17T02:47:35Z", "message": "Add OpenJ9 & OMR to Reference Repo Updater\n\n- Also remove unnessary releases array and\n  EXTENSIONS_REPOS array.\n\nRelated #6744\n[skip ci]\n\nSigned-off-by: Adam Brousseau <adam.brousseau88@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyNzMwODAz", "url": "https://github.com/eclipse-openj9/openj9/pull/9706#pullrequestreview-432730803", "createdAt": "2020-06-17T20:00:15Z", "commit": {"oid": "b23edb730de6316fdb4c0352ba8ea28cfc0e0db7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QyMDowMDoxNVrOGlVTww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QyMDowMDoxNVrOGlVTww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTc5OTYxOQ==", "bodyText": "This could introduce duplicates, thus you could check if repos contain openj9 repo or add repos.unique() after this if statement (at L147)", "url": "https://github.com/eclipse-openj9/openj9/pull/9706#discussion_r441799619", "createdAt": "2020-06-17T20:00:15Z", "author": {"login": "vsebe"}, "path": "buildenv/jenkins/jobs/infrastructure/Update-Reference-Repos.groovy", "diffHunk": "@@ -141,7 +141,7 @@ timeout(time: 6, unit: 'HOURS') {\n \n                         if (jenkins.model.Jenkins.instance.getLabel(SETUP_LABEL).getNodes().contains(aNode)) {\n                             // add OpenJ9 repo\n-                            repos.addAll(EXTENSIONS_REPOS)\n+                            repos.add([name: \"openj9\", url: VARIABLES.openj9.get('default').get('repoUrl')])", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b23edb730de6316fdb4c0352ba8ea28cfc0e0db7"}, "originalPosition": 32}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dbd94cfd3e1c907f71a59b1cb3adca2b4a74f374", "author": {"user": {"login": "AdamBrousseau", "name": null}}, "url": "https://github.com/eclipse-openj9/openj9/commit/dbd94cfd3e1c907f71a59b1cb3adca2b4a74f374", "committedDate": "2020-06-18T05:49:06Z", "message": "debug[skip ci]\n\nSigned-off-by: Adam Brousseau <adam.brousseau@ca.ibm.com>"}, "afterCommit": {"oid": "5ad6f26eac4578799d62292f7f66980350980915", "author": {"user": {"login": "AdamBrousseau", "name": null}}, "url": "https://github.com/eclipse-openj9/openj9/commit/5ad6f26eac4578799d62292f7f66980350980915", "committedDate": "2020-06-18T05:56:54Z", "message": "Add OpenJ9 & OMR to Reference Repo Updater\n\n- Also remove unnessary releases array and\n  EXTENSIONS_REPOS array.\n\nRelated #6744\n[skip ci]\n\nSigned-off-by: Adam Brousseau <adam.brousseau88@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzNDMyODQ3", "url": "https://github.com/eclipse-openj9/openj9/pull/9706#pullrequestreview-433432847", "createdAt": "2020-06-18T16:04:35Z", "commit": {"oid": "5ad6f26eac4578799d62292f7f66980350980915"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNjowNDozNVrOGl2K_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNjowNDozNVrOGl2K_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMzODA0NQ==", "bodyText": "This should be an array not a string (e.g [[name: \"openj9\", url: VARIABLES.openj9.get('default').get('repoUrl')]]), see refresh() signature. This should fix the failure in your build: No such field found: field java.lang.String name .", "url": "https://github.com/eclipse-openj9/openj9/pull/9706#discussion_r442338045", "createdAt": "2020-06-18T16:04:35Z", "author": {"login": "vsebe"}, "path": "buildenv/jenkins/jobs/infrastructure/Update-Reference-Repos.groovy", "diffHunk": "@@ -100,7 +98,7 @@ timeout(time: 6, unit: 'HOURS') {\n                         jobs[\"${sNodeName}\"] = {\n                             node(\"${sNodeName}\"){\n                                 stage(\"${sNodeName} - Update Reference Repo\") {\n-                                    refresh(sNodeName, \"${HOME}/openjdk_cache\", EXTENSIONS_REPOS, true)\n+                                    refresh(sNodeName, \"${HOME}/openjdk_cache\", VARIABLES.openj9.get('default').get('repoUrl'), true)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ad6f26eac4578799d62292f7f66980350980915"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5359d7dd4d38659daa737efb77bb024020ea581f", "author": {"user": {"login": "AdamBrousseau", "name": null}}, "url": "https://github.com/eclipse-openj9/openj9/commit/5359d7dd4d38659daa737efb77bb024020ea581f", "committedDate": "2020-06-18T21:57:53Z", "message": "fix string to array [skip ci]\n\nSigned-off-by: Adam Brousseau <adam.brousseau@ca.ibm.com>"}, "afterCommit": {"oid": "e501ff270127f286a188ae64a6971855dd329ac1", "author": {"user": {"login": "AdamBrousseau", "name": null}}, "url": "https://github.com/eclipse-openj9/openj9/commit/e501ff270127f286a188ae64a6971855dd329ac1", "committedDate": "2020-06-18T22:19:56Z", "message": "Add OpenJ9 & OMR to Reference Repo Updater\n\n- Also remove unnessary releases array and\n  EXTENSIONS_REPOS array.\n\nRelated #6744\n[skip ci]\n\nSigned-off-by: Adam Brousseau <adam.brousseau88@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MTY1MjEx", "url": "https://github.com/eclipse-openj9/openj9/pull/9706#pullrequestreview-434165211", "createdAt": "2020-06-19T15:27:47Z", "commit": {"oid": "e501ff270127f286a188ae64a6971855dd329ac1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNToyNzo0OFrOGmYyrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNToyNzo0OFrOGmYyrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkwNTI2MA==", "bodyText": "refresh() expects an array, not a map: see https://github.com/eclipse/openj9/blob/e501ff270127f286a188ae64a6971855dd329ac1/buildenv/jenkins/jobs/infrastructure/Update-Reference-Repos.groovy#L184", "url": "https://github.com/eclipse-openj9/openj9/pull/9706#discussion_r442905260", "createdAt": "2020-06-19T15:27:48Z", "author": {"login": "vsebe"}, "path": "buildenv/jenkins/jobs/infrastructure/Update-Reference-Repos.groovy", "diffHunk": "@@ -100,7 +98,7 @@ timeout(time: 6, unit: 'HOURS') {\n                         jobs[\"${sNodeName}\"] = {\n                             node(\"${sNodeName}\"){\n                                 stage(\"${sNodeName} - Update Reference Repo\") {\n-                                    refresh(sNodeName, \"${HOME}/openjdk_cache\", EXTENSIONS_REPOS, true)\n+                                    refresh(sNodeName, \"${HOME}/openjdk_cache\", [name: \"openj9\", url: VARIABLES.openj9.get('default').get('repoUrl')], true)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e501ff270127f286a188ae64a6971855dd329ac1"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ccbdcb303ab6a9cdc89d2d094ebb65d090ffe81", "author": {"user": {"login": "AdamBrousseau", "name": null}}, "url": "https://github.com/eclipse-openj9/openj9/commit/1ccbdcb303ab6a9cdc89d2d094ebb65d090ffe81", "committedDate": "2020-06-19T15:53:19Z", "message": "Add OpenJ9 & OMR to Reference Repo Updater\n\n- Also remove unnessary releases array and\n  EXTENSIONS_REPOS array.\n\nRelated #6744\n[skip ci]\n\nSigned-off-by: Adam Brousseau <adam.brousseau88@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e501ff270127f286a188ae64a6971855dd329ac1", "author": {"user": {"login": "AdamBrousseau", "name": null}}, "url": "https://github.com/eclipse-openj9/openj9/commit/e501ff270127f286a188ae64a6971855dd329ac1", "committedDate": "2020-06-18T22:19:56Z", "message": "Add OpenJ9 & OMR to Reference Repo Updater\n\n- Also remove unnessary releases array and\n  EXTENSIONS_REPOS array.\n\nRelated #6744\n[skip ci]\n\nSigned-off-by: Adam Brousseau <adam.brousseau88@gmail.com>"}, "afterCommit": {"oid": "1ccbdcb303ab6a9cdc89d2d094ebb65d090ffe81", "author": {"user": {"login": "AdamBrousseau", "name": null}}, "url": "https://github.com/eclipse-openj9/openj9/commit/1ccbdcb303ab6a9cdc89d2d094ebb65d090ffe81", "committedDate": "2020-06-19T15:53:19Z", "message": "Add OpenJ9 & OMR to Reference Repo Updater\n\n- Also remove unnessary releases array and\n  EXTENSIONS_REPOS array.\n\nRelated #6744\n[skip ci]\n\nSigned-off-by: Adam Brousseau <adam.brousseau88@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MTk3MTI5", "url": "https://github.com/eclipse-openj9/openj9/pull/9706#pullrequestreview-434197129", "createdAt": "2020-06-19T16:14:28Z", "commit": {"oid": "1ccbdcb303ab6a9cdc89d2d094ebb65d090ffe81"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MjQxMDA4", "url": "https://github.com/eclipse-openj9/openj9/pull/9706#pullrequestreview-434241008", "createdAt": "2020-06-19T17:32:38Z", "commit": {"oid": "1ccbdcb303ab6a9cdc89d2d094ebb65d090ffe81"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 777, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}