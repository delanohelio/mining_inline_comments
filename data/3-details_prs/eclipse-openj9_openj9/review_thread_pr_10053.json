{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyMTM5MDA4", "number": 10053, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxOToyNDo1NVrOELBxlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxOToyNDo1NVrOELBxlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5OTk4ODY5OnYy", "diffSide": "RIGHT", "path": "buildenv/jenkins/common/build.groovy", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxOToyNDo1NVrOGsacXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxOToyODozNlrOGsailQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIyMzc3Mg==", "bodyText": "There's a // before the d in the .dSYM case:\n-e '/\\\\.dSYM\\\\//d' -> -e '/\\\\.dSYM\\\\/d'", "url": "https://github.com/eclipse-openj9/openj9/pull/10053#discussion_r449223772", "createdAt": "2020-07-02T19:24:55Z", "author": {"login": "DanHeidinga"}, "path": "buildenv/jenkins/common/build.groovy", "diffHunk": "@@ -288,7 +288,11 @@ def archive_sdk() {\n         def testDir = \"test\"\n \n         dir(OPENJDK_CLONE_DIR) {\n-            sh \"tar -C ${buildDir} -zcvf ${SDK_FILENAME} ${JDK_FOLDER}\"\n+            // The archiver receives pathnames on stdin and writes to stdout.\n+            def archiveCmd = SPEC.contains('zos') ? 'pax -wvz' : 'tar -cvz -T -'\n+            // Filter out unwanted files (most of which are available in the debug-image).\n+            def filterCmd = \"sed -e '/\\\\.dbg\\$/d' -e '/\\\\.debuginfo\\$/d' -e '/\\\\.diz\\$/d' -e '/\\\\.dSYM\\\\//d' -e '/\\\\.map\\$/d' -e '/\\\\.pdb\\$/d'\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d78d212437b102c430d818782edc5d27cea93df7"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIyNDQ2Mg==", "bodyText": "That's intentional (to match .dSYM/).", "url": "https://github.com/eclipse-openj9/openj9/pull/10053#discussion_r449224462", "createdAt": "2020-07-02T19:26:28Z", "author": {"login": "keithc-ca"}, "path": "buildenv/jenkins/common/build.groovy", "diffHunk": "@@ -288,7 +288,11 @@ def archive_sdk() {\n         def testDir = \"test\"\n \n         dir(OPENJDK_CLONE_DIR) {\n-            sh \"tar -C ${buildDir} -zcvf ${SDK_FILENAME} ${JDK_FOLDER}\"\n+            // The archiver receives pathnames on stdin and writes to stdout.\n+            def archiveCmd = SPEC.contains('zos') ? 'pax -wvz' : 'tar -cvz -T -'\n+            // Filter out unwanted files (most of which are available in the debug-image).\n+            def filterCmd = \"sed -e '/\\\\.dbg\\$/d' -e '/\\\\.debuginfo\\$/d' -e '/\\\\.diz\\$/d' -e '/\\\\.dSYM\\\\//d' -e '/\\\\.map\\$/d' -e '/\\\\.pdb\\$/d'\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIyMzc3Mg=="}, "originalCommit": {"oid": "d78d212437b102c430d818782edc5d27cea93df7"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIyNTM2NQ==", "bodyText": "And looking at the osx build, it's clearly working", "url": "https://github.com/eclipse-openj9/openj9/pull/10053#discussion_r449225365", "createdAt": "2020-07-02T19:28:36Z", "author": {"login": "DanHeidinga"}, "path": "buildenv/jenkins/common/build.groovy", "diffHunk": "@@ -288,7 +288,11 @@ def archive_sdk() {\n         def testDir = \"test\"\n \n         dir(OPENJDK_CLONE_DIR) {\n-            sh \"tar -C ${buildDir} -zcvf ${SDK_FILENAME} ${JDK_FOLDER}\"\n+            // The archiver receives pathnames on stdin and writes to stdout.\n+            def archiveCmd = SPEC.contains('zos') ? 'pax -wvz' : 'tar -cvz -T -'\n+            // Filter out unwanted files (most of which are available in the debug-image).\n+            def filterCmd = \"sed -e '/\\\\.dbg\\$/d' -e '/\\\\.debuginfo\\$/d' -e '/\\\\.diz\\$/d' -e '/\\\\.dSYM\\\\//d' -e '/\\\\.map\\$/d' -e '/\\\\.pdb\\$/d'\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIyMzc3Mg=="}, "originalCommit": {"oid": "d78d212437b102c430d818782edc5d27cea93df7"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4883, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}