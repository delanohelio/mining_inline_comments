{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzNzI1ODM3", "number": 9461, "title": "Update JITServer documentation", "bodyText": "Update JITServer documentation to reflect the removal of protobuf library and other other recent changes.", "createdAt": "2020-05-05T20:04:54Z", "url": "https://github.com/eclipse-openj9/openj9/pull/9461", "merged": true, "mergeCommit": {"oid": "f3bb97e115ad41211de4ad2d077974713c0fd078"}, "closed": true, "closedAt": "2020-05-14T01:37:40Z", "author": {"login": "EmanElsaban"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcearwSABqjMzMDYwMjY4OTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcg_UUIABqjMzMzM4ODI0NzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "42b08d6866fcb3687ba0bde26f43b7375f84206e", "author": {"user": {"login": "EmanElsaban", "name": "Eman Elsabban"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/42b08d6866fcb3687ba0bde26f43b7375f84206e", "committedDate": "2020-05-05T20:35:03Z", "message": "pushing another commit to refresh the check\n\n[skip ci] meant to refresh the check in #9461\n\nSigned-off-by: Eman Elsabban <eman.elsaban1@gmail.com>"}, "afterCommit": {"oid": "bf0be38564d16ed90e0cd2affc6563106b625305", "author": {"user": {"login": "EmanElsaban", "name": "Eman Elsabban"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/bf0be38564d16ed90e0cd2affc6563106b625305", "committedDate": "2020-05-05T21:05:47Z", "message": "pushing another commit to refresh the check\n\n[skip ci] meant to refresh the check in #9461\n\nSigned-off-by: Eman Elsabban <eman.elsaban1@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bf0be38564d16ed90e0cd2affc6563106b625305", "author": {"user": {"login": "EmanElsaban", "name": "Eman Elsabban"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/bf0be38564d16ed90e0cd2affc6563106b625305", "committedDate": "2020-05-05T21:05:47Z", "message": "pushing another commit to refresh the check\n\n[skip ci] meant to refresh the check in #9461\n\nSigned-off-by: Eman Elsabban <eman.elsaban1@gmail.com>"}, "afterCommit": {"oid": "5e91a4147385eaf339c7a42af5be6c4af6033e22", "author": {"user": {"login": "EmanElsaban", "name": "Eman Elsabban"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/5e91a4147385eaf339c7a42af5be6c4af6033e22", "committedDate": "2020-05-05T21:18:10Z", "message": "pushing another commit to refresh the check\n\nMeant to refresh the check in #9461\n[skip ci]\n\nSigned-off-by: Eman Elsabban <eman.elsaban1@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2fed0c37844f0ebca0a2b663340077265d107f99", "author": {"user": {"login": "EmanElsaban", "name": "Eman Elsabban"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/2fed0c37844f0ebca0a2b663340077265d107f99", "committedDate": "2020-05-12T19:08:09Z", "message": "Updated the JIT Documentation and deleted Protobuf\n\nI deleted the protobuf steps from Build.md and elaborated more on some\nsteps in Usage.md and Testing.md\n\nIn Testing.md I added a step that is required for the tests to make\ncompile, which is export TEST_JDK_HOME and explained more in step 2 that\nthe JAVA_HOME and JAVA_BIN has to be set before make compile and I gave\nan example of my JAVA_HOME AND JAVA_BIN.In Usage.md, I elaborated more\non where to run the jitserver.\nIssue: #9406\n[skip ci]\n\nSigned-off-by: Eman Elsabban <eman.elsaban1@gmail.com>"}, "afterCommit": {"oid": "5c5b0bc35f34fa488a58299269858f03b99928ff", "author": {"user": {"login": "EmanElsaban", "name": "Eman Elsabban"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/5c5b0bc35f34fa488a58299269858f03b99928ff", "committedDate": "2020-05-12T19:38:47Z", "message": "Updated the JIT Documentation and deleted Protobuf\n\nI deleted the protobuf steps from Build.md and elaborated more on some\nsteps in Usage.md and Testing.md\n\nIn Testing.md I added a step that is required for the tests to make\ncompile, which is export TEST_JDK_HOME and explained more in step 2 that\nthe JAVA_HOME and JAVA_BIN has to be set before make compile and I gave\nan example of my JAVA_HOME AND JAVA_BIN.In Usage.md, I elaborated more\non where to run the jitserver.\nIssue: #9406\n[skip ci]\n\nSigned-off-by: Eman Elsabban <eman.elsaban1@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwMzc4OTA2", "url": "https://github.com/eclipse-openj9/openj9/pull/9461#pullrequestreview-410378906", "createdAt": "2020-05-12T20:01:37Z", "commit": {"oid": "5c5b0bc35f34fa488a58299269858f03b99928ff"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMDowMTozN1rOGUW1aA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMDoxOTo0NFrOGUXcWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk5ODgyNA==", "bodyText": "Let's remove \"The only difference is you need to check out the JITServer code instead of upstream OpenJ9.\"\nThis probably is a leftover since we had a different branch.", "url": "https://github.com/eclipse-openj9/openj9/pull/9461#discussion_r423998824", "createdAt": "2020-05-12T20:01:37Z", "author": {"login": "mpirvu"}, "path": "doc/compiler/jitserver/Build.md", "diffHunk": "@@ -128,6 +118,26 @@ bash get_source.sh -openj9-repo=https://github.com/<Your GitHub UserID>/openj9.g\n ```\n See https://www.eclipse.org/openj9/oj9_build.html for more detail. The only difference is you need to check out the JITServer code instead of upstream OpenJ9.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c5b0bc35f34fa488a58299269858f03b99928ff"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAwMDI2MA==", "bodyText": "This is a bit confusing because above you are building a Java8 SDK (git clone https://github.com/ibmruntimes/openj9-openjdk-jdk8.git) but the version in here shows a Java11 build", "url": "https://github.com/eclipse-openj9/openj9/pull/9461#discussion_r424000260", "createdAt": "2020-05-12T20:04:19Z", "author": {"login": "mpirvu"}, "path": "doc/compiler/jitserver/Build.md", "diffHunk": "@@ -128,6 +118,26 @@ bash get_source.sh -openj9-repo=https://github.com/<Your GitHub UserID>/openj9.g\n ```\n See https://www.eclipse.org/openj9/oj9_build.html for more detail. The only difference is you need to check out the JITServer code instead of upstream OpenJ9.\n \n+You can test it by running the `java -version` command.\n+\n+```\n+cd build/linux-x86_64-normal-server-release/images/jdk\n+```\n+Run:\n+\n+```\n+./bin/java -version\n+```\n+Here is some sample output:\n+\n+```\n+openjdk version \"11.0.8-internal\" 2020-07-14", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c5b0bc35f34fa488a58299269858f03b99928ff"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAwMTYxNQ==", "bodyText": "Let's change the phrasing slightly so that we don't give the impression that the entire testing is done with java -version. Maybe say\nYou can test the success of the build process with \"java -version\" command like so:...", "url": "https://github.com/eclipse-openj9/openj9/pull/9461#discussion_r424001615", "createdAt": "2020-05-12T20:06:48Z", "author": {"login": "mpirvu"}, "path": "doc/compiler/jitserver/Build.md", "diffHunk": "@@ -128,6 +118,26 @@ bash get_source.sh -openj9-repo=https://github.com/<Your GitHub UserID>/openj9.g\n ```\n See https://www.eclipse.org/openj9/oj9_build.html for more detail. The only difference is you need to check out the JITServer code instead of upstream OpenJ9.\n \n+You can test it by running the `java -version` command.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c5b0bc35f34fa488a58299269858f03b99928ff"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAwMjYxNw==", "bodyText": "Actually since this is about JITServer I would use \"./bin/jitserver\" and \"./bin/java -XX:+UseJITServer -version\"", "url": "https://github.com/eclipse-openj9/openj9/pull/9461#discussion_r424002617", "createdAt": "2020-05-12T20:08:42Z", "author": {"login": "mpirvu"}, "path": "doc/compiler/jitserver/Build.md", "diffHunk": "@@ -128,6 +118,26 @@ bash get_source.sh -openj9-repo=https://github.com/<Your GitHub UserID>/openj9.g\n ```\n See https://www.eclipse.org/openj9/oj9_build.html for more detail. The only difference is you need to check out the JITServer code instead of upstream OpenJ9.\n \n+You can test it by running the `java -version` command.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAwMTYxNQ=="}, "originalCommit": {"oid": "5c5b0bc35f34fa488a58299269858f03b99928ff"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAwMzg3OA==", "bodyText": "Rephrase: \"An example of how to install the prerequisites can be found ....\"", "url": "https://github.com/eclipse-openj9/openj9/pull/9461#discussion_r424003878", "createdAt": "2020-05-12T20:10:38Z", "author": {"login": "mpirvu"}, "path": "doc/compiler/jitserver/Testing.md", "diffHunk": "@@ -33,12 +33,13 @@ These are the steps to run the tests on your machine.\n \n 2. Install [prerequisites](https://github.com/eclipse/openj9/blob/master/test/docs/Prerequisites.md)\n \n-   Example installation can be found [here](https://github.com/eclipse/openj9/blob/master/buildenv/docker/test/Dockerfile#L57-L68).\n+   Example installation can be found [here](https://github.com/eclipse/openj9/blob/master/buildenv/docker/test/Dockerfile#L57-L68). Make sure that JAVA_HOME and JAVA_BIN are set(EX. `export JAVA_HOME=/root/openj9-openjdk-jdk11/build/linux-x86_64-normal-server-release/images/jdk` and `export JAVA_BIN=/root/openj9-openjdk-jdk11/build/linux-x86_64-normal-server-release/images/jdk/bin`). Basically you want to test on the jdk you build, so point the environment variable to your personal build of jdk.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c5b0bc35f34fa488a58299269858f03b99928ff"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAwNTA3NA==", "bodyText": "I believe that JAVA_VERSION is inferred and therefore does not need to be specified.\nOtherwise, you may want to change this to Java11 because your example above shows a Java11 path.", "url": "https://github.com/eclipse-openj9/openj9/pull/9461#discussion_r424005074", "createdAt": "2020-05-12T20:13:02Z", "author": {"login": "mpirvu"}, "path": "doc/compiler/jitserver/Testing.md", "diffHunk": "@@ -33,12 +33,13 @@ These are the steps to run the tests on your machine.\n \n 2. Install [prerequisites](https://github.com/eclipse/openj9/blob/master/test/docs/Prerequisites.md)\n \n-   Example installation can be found [here](https://github.com/eclipse/openj9/blob/master/buildenv/docker/test/Dockerfile#L57-L68).\n+   Example installation can be found [here](https://github.com/eclipse/openj9/blob/master/buildenv/docker/test/Dockerfile#L57-L68). Make sure that JAVA_HOME and JAVA_BIN are set(EX. `export JAVA_HOME=/root/openj9-openjdk-jdk11/build/linux-x86_64-normal-server-release/images/jdk` and `export JAVA_BIN=/root/openj9-openjdk-jdk11/build/linux-x86_64-normal-server-release/images/jdk/bin`). Basically you want to test on the jdk you build, so point the environment variable to your personal build of jdk.\n 3. Compile  the tests (only need to compile once):\n    ```\n    cd $OPENJ9_DIR/openj9/test\n    git clone https://github.com/AdoptOpenJDK/TKG.git\n    cd TKG\n+   export TEST_JDK_HOME=<path to JDK directory that you wish to test, it's the same as $JAVA_HOME>\n    export JAVA_VERSION=SE80", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c5b0bc35f34fa488a58299269858f03b99928ff"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAwNjcwOQ==", "bodyText": "Are these instructions still current? I am using a slightly different approach.", "url": "https://github.com/eclipse-openj9/openj9/pull/9461#discussion_r424006709", "createdAt": "2020-05-12T20:16:00Z", "author": {"login": "mpirvu"}, "path": "doc/compiler/jitserver/Testing.md", "diffHunk": "@@ -33,12 +33,13 @@ These are the steps to run the tests on your machine.\n \n 2. Install [prerequisites](https://github.com/eclipse/openj9/blob/master/test/docs/Prerequisites.md)\n \n-   Example installation can be found [here](https://github.com/eclipse/openj9/blob/master/buildenv/docker/test/Dockerfile#L57-L68).\n+   Example installation can be found [here](https://github.com/eclipse/openj9/blob/master/buildenv/docker/test/Dockerfile#L57-L68). Make sure that JAVA_HOME and JAVA_BIN are set(EX. `export JAVA_HOME=/root/openj9-openjdk-jdk11/build/linux-x86_64-normal-server-release/images/jdk` and `export JAVA_BIN=/root/openj9-openjdk-jdk11/build/linux-x86_64-normal-server-release/images/jdk/bin`). Basically you want to test on the jdk you build, so point the environment variable to your personal build of jdk.\n 3. Compile  the tests (only need to compile once):\n    ```\n    cd $OPENJ9_DIR/openj9/test\n    git clone https://github.com/AdoptOpenJDK/TKG.git", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c5b0bc35f34fa488a58299269858f03b99928ff"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAwODc5NA==", "bodyText": "I would prefer to eliminate: (The bindirectory exists inbuild/linux-x86_64-normal-server-release/images/jdk/binrun./jitserverthere to launch the JVM).\nbecause it refers to a directory structure created for build. We should be more generic on how to launch the jitserver", "url": "https://github.com/eclipse-openj9/openj9/pull/9461#discussion_r424008794", "createdAt": "2020-05-12T20:19:44Z", "author": {"login": "mpirvu"}, "path": "doc/compiler/jitserver/Usage.md", "diffHunk": "@@ -20,7 +20,7 @@ OpenJDK Assembly Exception [2].\n SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n -->\n \n-JITServer adds two additional *personas* to the JVM: client mode and server mode. To start the JVM in server mode, run the `jitserver` launcher present under `bin` directory (along side `java` launcher). To start the JVM in client mode, there is a new command line option: `-XX:+UseJITServer`\n+JITServer adds two additional *personas* to the JVM: client mode and server mode. To start the JVM in server mode, run the `jitserver` launcher present under `bin` directory (along side `java` launcher)(The `bin` directory exists in `build/linux-x86_64-normal-server-release/images/jdk/bin` run `./jitserver` there to launch the JVM). To start the JVM in client mode, there is a new command line option: `-XX:+UseJITServer` (under bin run `./java -XX:+UseJITServer <application name>`)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c5b0bc35f34fa488a58299269858f03b99928ff"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMjY5NzY4", "url": "https://github.com/eclipse-openj9/openj9/pull/9461#pullrequestreview-411269768", "createdAt": "2020-05-13T20:20:53Z", "commit": {"oid": "08cf8755cb178d5fa101f0f2c045990fac90c598"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfc5dc0c00452cbb294fd66b71246b5f8467851d", "author": {"user": {"login": "EmanElsaban", "name": "Eman Elsabban"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/dfc5dc0c00452cbb294fd66b71246b5f8467851d", "committedDate": "2020-05-13T20:52:39Z", "message": "Addressed the comments on the JIT Doc Update\n\nUpdated the Build.md, Usage.md and Testing.md to reflect Marius\ncomments in the JIT Documentation. Protobuf was deleted.\n\nIssue: #9406\n[skip ci]\n\nSigned-off-by: Eman Elsabban <eman.elsaban1@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "08cf8755cb178d5fa101f0f2c045990fac90c598", "author": {"user": {"login": "EmanElsaban", "name": "Eman Elsabban"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/08cf8755cb178d5fa101f0f2c045990fac90c598", "committedDate": "2020-05-13T19:11:38Z", "message": "Addressed the comments on the issue\n\nUpdated the Build.md, Usage.md and Testing.md to reflect Marius\ncomments.\n\nIssue: #9406\n[skip ci]\n\nSigned-off-by: Eman Elsabban <eman.elsaban1@gmail.com>"}, "afterCommit": {"oid": "dfc5dc0c00452cbb294fd66b71246b5f8467851d", "author": {"user": {"login": "EmanElsaban", "name": "Eman Elsabban"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/dfc5dc0c00452cbb294fd66b71246b5f8467851d", "committedDate": "2020-05-13T20:52:39Z", "message": "Addressed the comments on the JIT Doc Update\n\nUpdated the Build.md, Usage.md and Testing.md to reflect Marius\ncomments in the JIT Documentation. Protobuf was deleted.\n\nIssue: #9406\n[skip ci]\n\nSigned-off-by: Eman Elsabban <eman.elsaban1@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1158, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}