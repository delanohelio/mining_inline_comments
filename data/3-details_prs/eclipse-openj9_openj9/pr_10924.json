{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2MDU3MzU1", "number": 10924, "title": "CMake: Fix nasm define handling", "bodyText": "By default cmake does not add preprocessor define options when building\nnasm objects. To work around this, add  to\nCMAKE_ASM_NASM_COMPILE_OBJECT\nSigned-off-by: Devin Nakamura devinn@ca.ibm.com", "createdAt": "2020-10-19T15:05:56Z", "url": "https://github.com/eclipse-openj9/openj9/pull/10924", "merged": true, "mergeCommit": {"oid": "fcca1c177794d65c9e71bd5790bbe00501fa16ce"}, "closed": true, "closedAt": "2020-10-26T19:06:30Z", "author": {"login": "dnakamura"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUun4hgFqTUxMzc3OTg2OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWZNcmgFqTUxNzA5MTkxOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzNzc5ODY5", "url": "https://github.com/eclipse-openj9/openj9/pull/10924#pullrequestreview-513779869", "createdAt": "2020-10-21T14:54:27Z", "commit": {"oid": "df7c3018512fce4c4d9e6e9d4292cf1e7dfb9deb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxNDo1NDoyN1rOHlwyHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxNDo1NDoyN1rOHlwyHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTM1ODYyMA==", "bodyText": "Please complete sentences with a period.", "url": "https://github.com/eclipse-openj9/openj9/pull/10924#discussion_r509358620", "createdAt": "2020-10-21T14:54:27Z", "author": {"login": "keithc-ca"}, "path": "runtime/compiler/CMakeLists.txt", "diffHunk": "@@ -48,6 +48,18 @@ if(OMR_ARCH_X86)\n \t\t\"-I${CMAKE_CURRENT_SOURCE_DIR}/x/i386/runtime/\"\n \t)\n \tomr_append_flags(CMAKE_ASM_NASM_FLAGS ${asm_inc_dirs})\n+\t# For whatever reason cmake does not apply compile definitions when building nasm objects\n+\t# The if guard is here in case they ever start doing so\n+\tif(NOT CMAKE_ASM_NASM_COMPILE_OBJECT MATCHES \"<DEFINES>\")\n+\t\t# Tack on defines immediately following the compiler name", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df7c3018512fce4c4d9e6e9d4292cf1e7dfb9deb"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "df7c3018512fce4c4d9e6e9d4292cf1e7dfb9deb", "author": {"user": {"login": "dnakamura", "name": "Devin Nakamura"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/df7c3018512fce4c4d9e6e9d4292cf1e7dfb9deb", "committedDate": "2020-10-19T15:05:31Z", "message": "CMake: Fix nasm define handling\n\nBy defualt cmake does not add preprocessor define options when building\nnasm objects. To work arround this, add <DEFINES> to\nCMAKE_ASM_NASM_COMPILE_OBJECT\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>"}, "afterCommit": {"oid": "6b7c3a8b3d7cb3dc21603e58a71b24dc920f5dae", "author": {"user": {"login": "dnakamura", "name": "Devin Nakamura"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/6b7c3a8b3d7cb3dc21603e58a71b24dc920f5dae", "committedDate": "2020-10-21T17:42:43Z", "message": "CMake: Fix nasm define handling\n\nBy defualt cmake does not add preprocessor define options when building\nnasm objects. To work around this, add <DEFINES> to\nCMAKE_ASM_NASM_COMPILE_OBJECT\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6b7c3a8b3d7cb3dc21603e58a71b24dc920f5dae", "author": {"user": {"login": "dnakamura", "name": "Devin Nakamura"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/6b7c3a8b3d7cb3dc21603e58a71b24dc920f5dae", "committedDate": "2020-10-21T17:42:43Z", "message": "CMake: Fix nasm define handling\n\nBy defualt cmake does not add preprocessor define options when building\nnasm objects. To work around this, add <DEFINES> to\nCMAKE_ASM_NASM_COMPILE_OBJECT\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>"}, "afterCommit": {"oid": "1286b4fb1e29a996af3053bf9e8742fd8bde2c74", "author": {"user": {"login": "dnakamura", "name": "Devin Nakamura"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/1286b4fb1e29a996af3053bf9e8742fd8bde2c74", "committedDate": "2020-10-21T17:43:35Z", "message": "CMake: Fix nasm define handling\n\nBy default cmake does not add preprocessor define options when building\nnasm objects. To work around this, add <DEFINES> to\nCMAKE_ASM_NASM_COMPILE_OBJECT\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "acec31615a58b506c5a98a3ab04f035596c26610", "author": {"user": {"login": "dnakamura", "name": "Devin Nakamura"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/acec31615a58b506c5a98a3ab04f035596c26610", "committedDate": "2020-10-26T15:55:43Z", "message": "CMake: Fix nasm define handling\n\nBy default cmake does not add preprocessor define options when building\nnasm objects. To work around this, add <DEFINES> to\nCMAKE_ASM_NASM_COMPILE_OBJECT\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1286b4fb1e29a996af3053bf9e8742fd8bde2c74", "author": {"user": {"login": "dnakamura", "name": "Devin Nakamura"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/1286b4fb1e29a996af3053bf9e8742fd8bde2c74", "committedDate": "2020-10-21T17:43:35Z", "message": "CMake: Fix nasm define handling\n\nBy default cmake does not add preprocessor define options when building\nnasm objects. To work around this, add <DEFINES> to\nCMAKE_ASM_NASM_COMPILE_OBJECT\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>"}, "afterCommit": {"oid": "acec31615a58b506c5a98a3ab04f035596c26610", "author": {"user": {"login": "dnakamura", "name": "Devin Nakamura"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/acec31615a58b506c5a98a3ab04f035596c26610", "committedDate": "2020-10-26T15:55:43Z", "message": "CMake: Fix nasm define handling\n\nBy default cmake does not add preprocessor define options when building\nnasm objects. To work around this, add <DEFINES> to\nCMAKE_ASM_NASM_COMPILE_OBJECT\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2OTQ1NDUx", "url": "https://github.com/eclipse-openj9/openj9/pull/10924#pullrequestreview-516945451", "createdAt": "2020-10-26T16:15:59Z", "commit": {"oid": "acec31615a58b506c5a98a3ab04f035596c26610"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MDkxOTE4", "url": "https://github.com/eclipse-openj9/openj9/pull/10924#pullrequestreview-517091918", "createdAt": "2020-10-26T19:05:53Z", "commit": {"oid": "acec31615a58b506c5a98a3ab04f035596c26610"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 213, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}