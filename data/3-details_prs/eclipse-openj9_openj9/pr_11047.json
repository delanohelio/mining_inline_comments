{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyNDYzODEz", "number": 11047, "title": "-Xcheck:jni ThrowNew() should check a jclass object", "bodyText": "Created a new type JNIC_CLASSTHROWABLE to check if a jclass object is a subclass of java.lang.Throwable;\nAdded jniCheckJClassSubclass() to check if a jclass argument is a subclass of an expected super class;\ncheckThrowNew() checks JNIC_CLASSTHROWABLEinstead of JNIC_JTHROWABLE.\nSigned-off-by: Jason Feng fengj@ca.ibm.com", "createdAt": "2020-10-29T18:06:29Z", "url": "https://github.com/eclipse-openj9/openj9/pull/11047", "merged": true, "mergeCommit": {"oid": "c94877b790b61307ee10842a45b5d7717771160a"}, "closed": true, "closedAt": "2020-10-30T00:19:18Z", "author": {"login": "JasonFengJ9"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXWtnpAFqTUxOTk3MjA0Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXbfYAAFqTUyMDIwMjEwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5OTcyMDQ2", "url": "https://github.com/eclipse-openj9/openj9/pull/11047#pullrequestreview-519972046", "createdAt": "2020-10-29T18:45:13Z", "commit": {"oid": "c18d0bb284b30cf31eda6549be3552d292150008"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxODo0NToxNFrOHqp0lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxODo0NToxNFrOHqp0lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ4NzQ0Nw==", "bodyText": "To make it clearer, you should use jclass instead of jobject (and change the parameter name).", "url": "https://github.com/eclipse-openj9/openj9/pull/11047#discussion_r514487447", "createdAt": "2020-10-29T18:45:14Z", "author": {"login": "gacholio"}, "path": "runtime/jnichk/jnicheck.c", "diffHunk": "@@ -79,6 +79,7 @@ static IDATA jniCheckParseOptions(J9JavaVM* javaVM, char* options);\n static IDATA jniCheckProcessCommandLine(J9JavaVM* javaVM, J9VMDllLoadInfo* loadInfo);\n static UDATA globrefHashTableHashFn(void *entry, void *userData);\n static UDATA globrefHashTableEqualFn(void *leftEntry, void *rightEntry, void *userData);\n+static void jniCheckJClassSubclass(JNIEnv* env, const char* function, IDATA argNum, jobject aJobject, J9Class* expectedSupclass, const char* expectedType);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c18d0bb284b30cf31eda6549be3552d292150008"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c18d0bb284b30cf31eda6549be3552d292150008", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/c18d0bb284b30cf31eda6549be3552d292150008", "committedDate": "2020-10-29T18:05:11Z", "message": "-Xcheck:jni ThrowNew() should check a jclass object\n\nCreated a new type JNIC_CLASSTHROWABLE to check if a jclass object is a\nsubclass of java.lang.Throwable;\nAdded jniCheckJClassSubclass() to check if a jclass argument is a\nsubclass of an expected super class;\ncheckThrowNew() checks JNIC_CLASSTHROWABLEinstead of JNIC_JTHROWABLE.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}, "afterCommit": {"oid": "bab3f94a02c21cae5eb7b768f49a3ee7ce6889d6", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/bab3f94a02c21cae5eb7b768f49a3ee7ce6889d6", "committedDate": "2020-10-29T18:58:22Z", "message": "-Xcheck:jni ThrowNew() should check a jclass object\n\nCreated a new type JNIC_CLASSTHROWABLE to check if a jclass object is a\nsubclass of java.lang.Throwable;\nAdded jniCheckJClassSubclass() to check if a jclass argument is a\nsubclass of an expected super class;\ncheckThrowNew() checks JNIC_CLASSTHROWABLEinstead of JNIC_JTHROWABLE.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5OTg0MjA2", "url": "https://github.com/eclipse-openj9/openj9/pull/11047#pullrequestreview-519984206", "createdAt": "2020-10-29T19:01:11Z", "commit": {"oid": "bab3f94a02c21cae5eb7b768f49a3ee7ce6889d6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "294cdbdfa8f97c8cf6224aeda361c31426fab5b7", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/294cdbdfa8f97c8cf6224aeda361c31426fab5b7", "committedDate": "2020-10-29T23:04:20Z", "message": "-Xcheck:jni ThrowNew() should check a jclass object\n\nCreated a new type JNIC_CLASSTHROWABLE to check if a jclass object is a\nsubclass of java.lang.Throwable;\nAdded jniCheckJClassSubclass() to check if a jclass argument is a\nsubclass of an expected super class;\ncheckThrowNew() checks JNIC_CLASSTHROWABLEinstead of JNIC_JTHROWABLE.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bab3f94a02c21cae5eb7b768f49a3ee7ce6889d6", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/bab3f94a02c21cae5eb7b768f49a3ee7ce6889d6", "committedDate": "2020-10-29T18:58:22Z", "message": "-Xcheck:jni ThrowNew() should check a jclass object\n\nCreated a new type JNIC_CLASSTHROWABLE to check if a jclass object is a\nsubclass of java.lang.Throwable;\nAdded jniCheckJClassSubclass() to check if a jclass argument is a\nsubclass of an expected super class;\ncheckThrowNew() checks JNIC_CLASSTHROWABLEinstead of JNIC_JTHROWABLE.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}, "afterCommit": {"oid": "294cdbdfa8f97c8cf6224aeda361c31426fab5b7", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/294cdbdfa8f97c8cf6224aeda361c31426fab5b7", "committedDate": "2020-10-29T23:04:20Z", "message": "-Xcheck:jni ThrowNew() should check a jclass object\n\nCreated a new type JNIC_CLASSTHROWABLE to check if a jclass object is a\nsubclass of java.lang.Throwable;\nAdded jniCheckJClassSubclass() to check if a jclass argument is a\nsubclass of an expected super class;\ncheckThrowNew() checks JNIC_CLASSTHROWABLEinstead of JNIC_JTHROWABLE.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMjAyMTAw", "url": "https://github.com/eclipse-openj9/openj9/pull/11047#pullrequestreview-520202100", "createdAt": "2020-10-30T00:19:12Z", "commit": {"oid": "294cdbdfa8f97c8cf6224aeda361c31426fab5b7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 42, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}