{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0NDUxMjcx", "number": 11404, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNDozODo0N1rOFCYRcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNDozOTowMVrOFCYSTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MDM5MTU0OnYy", "diffSide": "RIGHT", "path": "runtime/vm/visible.c", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNDozODo0N1rOIBgAaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNToxOTo1N1rOIBixeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ0Mzg4MA==", "bodyText": "instead of this can we just introduce a J9_LOOK_NO_MODULE_CHECKS ?", "url": "https://github.com/eclipse-openj9/openj9/pull/11404#discussion_r538443880", "createdAt": "2020-12-08T14:38:47Z", "author": {"login": "tajila"}, "path": "runtime/vm/visible.c", "diffHunk": "@@ -85,6 +85,12 @@ checkModuleAccess(J9VMThread *currentThread, J9JavaVM* vm, J9ROMClass* srcRomCla\n  */\n IDATA\n checkVisibility(J9VMThread *currentThread, J9Class* sourceClass, J9Class* destClass, UDATA modifiers, UDATA lookupOptions)\n+{\n+\treturn checkVisibilityModuleAccessOption(currentThread, sourceClass, destClass, modifiers, lookupOptions, TRUE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e28ba30599755dc6227c75a7df914a3f3ca7fcb8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ0ODcwMQ==", "bodyText": "i just changed the name, last one didnt really make sense", "url": "https://github.com/eclipse-openj9/openj9/pull/11404#discussion_r538448701", "createdAt": "2020-12-08T14:43:05Z", "author": {"login": "tajila"}, "path": "runtime/vm/visible.c", "diffHunk": "@@ -85,6 +85,12 @@ checkModuleAccess(J9VMThread *currentThread, J9JavaVM* vm, J9ROMClass* srcRomCla\n  */\n IDATA\n checkVisibility(J9VMThread *currentThread, J9Class* sourceClass, J9Class* destClass, UDATA modifiers, UDATA lookupOptions)\n+{\n+\treturn checkVisibilityModuleAccessOption(currentThread, sourceClass, destClass, modifiers, lookupOptions, TRUE);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ0Mzg4MA=="}, "originalCommit": {"oid": "e28ba30599755dc6227c75a7df914a3f3ca7fcb8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ4OTIxMA==", "bodyText": "Good idea, use J9_LOOK_NO_MODULE_CHECKS instead. Please have another look.", "url": "https://github.com/eclipse-openj9/openj9/pull/11404#discussion_r538489210", "createdAt": "2020-12-08T15:19:57Z", "author": {"login": "JasonFengJ9"}, "path": "runtime/vm/visible.c", "diffHunk": "@@ -85,6 +85,12 @@ checkModuleAccess(J9VMThread *currentThread, J9JavaVM* vm, J9ROMClass* srcRomCla\n  */\n IDATA\n checkVisibility(J9VMThread *currentThread, J9Class* sourceClass, J9Class* destClass, UDATA modifiers, UDATA lookupOptions)\n+{\n+\treturn checkVisibilityModuleAccessOption(currentThread, sourceClass, destClass, modifiers, lookupOptions, TRUE);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ0Mzg4MA=="}, "originalCommit": {"oid": "e28ba30599755dc6227c75a7df914a3f3ca7fcb8"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MDM5MzcyOnYy", "diffSide": "RIGHT", "path": "runtime/vm/visible.c", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNDozOTowMVrOIBgBpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNToyMDozN1rOIBi0LQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ0NDE5Nw==", "bodyText": "The flag can be used here", "url": "https://github.com/eclipse-openj9/openj9/pull/11404#discussion_r538444197", "createdAt": "2020-12-08T14:39:01Z", "author": {"login": "tajila"}, "path": "runtime/vm/visible.c", "diffHunk": "@@ -100,7 +106,8 @@ checkVisibility(J9VMThread *currentThread, J9Class* sourceClass, J9Class* destCl\n \tif (!J9CLASS_IS_EXEMPT_FROM_VALIDATION(sourceClass)) {\n \t\tif ( modifiers & J9AccPublic ) {\n \t\t\t/* Public */\n-\t\t\tif ((sourceClass != destClass)\n+\t\t\tif (doModuleAccessCheck", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e28ba30599755dc6227c75a7df914a3f3ca7fcb8"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ4OTkwMQ==", "bodyText": "yeah, check via J9_ARE_NO_BITS_SET(lookupOptions, J9_LOOK_NO_MODULE_CHECKS).", "url": "https://github.com/eclipse-openj9/openj9/pull/11404#discussion_r538489901", "createdAt": "2020-12-08T15:20:37Z", "author": {"login": "JasonFengJ9"}, "path": "runtime/vm/visible.c", "diffHunk": "@@ -100,7 +106,8 @@ checkVisibility(J9VMThread *currentThread, J9Class* sourceClass, J9Class* destCl\n \tif (!J9CLASS_IS_EXEMPT_FROM_VALIDATION(sourceClass)) {\n \t\tif ( modifiers & J9AccPublic ) {\n \t\t\t/* Public */\n-\t\t\tif ((sourceClass != destClass)\n+\t\t\tif (doModuleAccessCheck", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ0NDE5Nw=="}, "originalCommit": {"oid": "e28ba30599755dc6227c75a7df914a3f3ca7fcb8"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 856, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}