{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MDA1NDM5", "number": 8779, "title": "Update the security check of defineClass against Java 14 Spec", "bodyText": "The change is to update the security check of defineClass\nto ensure it does the check only when the lookup has no full\nprivilege access.\nSigned-off-by: Cheng Jin jincheng@ca.ibm.com", "createdAt": "2020-03-06T20:22:27Z", "url": "https://github.com/eclipse-openj9/openj9/pull/8779", "merged": true, "mergeCommit": {"oid": "14d688fb3f49e75e73a3155aa71cafea906ce076"}, "closed": true, "closedAt": "2020-03-09T12:56:36Z", "author": {"login": "ChengJin01"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcLGbGmgFqTM3MDYxNjczOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcL0wdzgFqTM3MDg5MzM5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNjE2NzM4", "url": "https://github.com/eclipse-openj9/openj9/pull/8779#pullrequestreview-370616738", "createdAt": "2020-03-06T20:48:16Z", "commit": {"oid": "2d9c2b6e672f61fc72037a6fa615646e96ff2383"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQyMDo0ODoxNlrOFzG_ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQyMDo0ODoxNlrOFzG_ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTEzNjMxNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t{\n          \n          \n            \n            \t\t\tif ((secmgr != null)\n          \n          \n            \n            \t\t\t\t/*[IF Java14]*/\n          \n          \n            \n            \t\t\t\t&& !hasFullPrivilegeAccess()\n          \n          \n            \n            \t\t\t\t/*[ENDIF] Java14 */\n          \n          \n            \n            \t\t\t) {", "url": "https://github.com/eclipse-openj9/openj9/pull/8779#discussion_r389136314", "createdAt": "2020-03-06T20:48:16Z", "author": {"login": "JasonFengJ9"}, "path": "jcl/src/java.base/share/classes/java/lang/invoke/MethodHandles.java", "diffHunk": "@@ -2085,7 +2085,12 @@ public VarHandle unreflectVarHandle(Field field) throws IllegalAccessException {\n \t\t\t}\n \t\t\t\n \t\t\tSecurityManager secmgr = System.getSecurityManager();\n-\t\t\tif (null != secmgr) {\n+\t\t\t/*[IF Java14]*/\n+\t\t\tif ((null != secmgr) && !hasFullPrivilegeAccess())\n+\t\t\t/*[ELSE]*/\n+\t\t\tif (null != secmgr)\n+\t\t\t/*[ENDIF] Java14*/\n+\t\t\t{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d9c2b6e672f61fc72037a6fa615646e96ff2383"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b05316ae7bf4b7e80b00995d4b27730c04386a59", "author": {"user": {"login": "ChengJin01", "name": "Cheng Jin"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/b05316ae7bf4b7e80b00995d4b27730c04386a59", "committedDate": "2020-03-06T21:23:18Z", "message": "Update the security check of defineClass against Java 14 Spec\n\nThe change is to update the security check of defineClass\nto ensure it does the check only when the lookup has no full\nprivilege access.\n\nSigned-off-by: Cheng Jin <jincheng@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2d9c2b6e672f61fc72037a6fa615646e96ff2383", "author": {"user": {"login": "ChengJin01", "name": "Cheng Jin"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/2d9c2b6e672f61fc72037a6fa615646e96ff2383", "committedDate": "2020-03-06T19:53:15Z", "message": "Update the security check of defineClass against Java 14 Spec\n\nThe change is to update the security check of defineClass\nto ensure it does the check only when the lookup has no full\nprivilege access.\n\nSigned-off-by: Cheng Jin <jincheng@ca.ibm.com>"}, "afterCommit": {"oid": "b05316ae7bf4b7e80b00995d4b27730c04386a59", "author": {"user": {"login": "ChengJin01", "name": "Cheng Jin"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/b05316ae7bf4b7e80b00995d4b27730c04386a59", "committedDate": "2020-03-06T21:23:18Z", "message": "Update the security check of defineClass against Java 14 Spec\n\nThe change is to update the security check of defineClass\nto ensure it does the check only when the lookup has no full\nprivilege access.\n\nSigned-off-by: Cheng Jin <jincheng@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNjUxMzUz", "url": "https://github.com/eclipse-openj9/openj9/pull/8779#pullrequestreview-370651353", "createdAt": "2020-03-06T21:56:47Z", "commit": {"oid": "b05316ae7bf4b7e80b00995d4b27730c04386a59"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwODkzMzkw", "url": "https://github.com/eclipse-openj9/openj9/pull/8779#pullrequestreview-370893390", "createdAt": "2020-03-09T02:47:15Z", "commit": {"oid": "b05316ae7bf4b7e80b00995d4b27730c04386a59"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 410, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}