{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0NDUxMjcx", "number": 11404, "title": "Skip module access check for processMethod()", "bodyText": "The module access check has been performed at class/interface resolving time, can be skipped within processMethod().\nfixes #11274\nSigned-off-by: Jason Feng fengj@ca.ibm.com", "createdAt": "2020-12-08T13:28:23Z", "url": "https://github.com/eclipse-openj9/openj9/pull/11404", "merged": true, "mergeCommit": {"oid": "7a1a19ce0270d512e107e8f68d85c5e0c2229e45"}, "closed": true, "closedAt": "2020-12-08T20:26:20Z", "author": {"login": "JasonFengJ9"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkLKpxAFqTU0NzI5NTcwNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkMj-kAFqTU0NzM5NDE4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3Mjk1NzA3", "url": "https://github.com/eclipse-openj9/openj9/pull/11404#pullrequestreview-547295707", "createdAt": "2020-12-08T14:38:46Z", "commit": {"oid": "e28ba30599755dc6227c75a7df914a3f3ca7fcb8"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNDozODo0N1rOIBgAaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNDozOTowMVrOIBgBpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ0Mzg4MA==", "bodyText": "instead of this can we just introduce a J9_LOOK_NO_MODULE_CHECKS ?", "url": "https://github.com/eclipse-openj9/openj9/pull/11404#discussion_r538443880", "createdAt": "2020-12-08T14:38:47Z", "author": {"login": "tajila"}, "path": "runtime/vm/visible.c", "diffHunk": "@@ -85,6 +85,12 @@ checkModuleAccess(J9VMThread *currentThread, J9JavaVM* vm, J9ROMClass* srcRomCla\n  */\n IDATA\n checkVisibility(J9VMThread *currentThread, J9Class* sourceClass, J9Class* destClass, UDATA modifiers, UDATA lookupOptions)\n+{\n+\treturn checkVisibilityModuleAccessOption(currentThread, sourceClass, destClass, modifiers, lookupOptions, TRUE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e28ba30599755dc6227c75a7df914a3f3ca7fcb8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ0NDE5Nw==", "bodyText": "The flag can be used here", "url": "https://github.com/eclipse-openj9/openj9/pull/11404#discussion_r538444197", "createdAt": "2020-12-08T14:39:01Z", "author": {"login": "tajila"}, "path": "runtime/vm/visible.c", "diffHunk": "@@ -100,7 +106,8 @@ checkVisibility(J9VMThread *currentThread, J9Class* sourceClass, J9Class* destCl\n \tif (!J9CLASS_IS_EXEMPT_FROM_VALIDATION(sourceClass)) {\n \t\tif ( modifiers & J9AccPublic ) {\n \t\t\t/* Public */\n-\t\t\tif ((sourceClass != destClass)\n+\t\t\tif (doModuleAccessCheck", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e28ba30599755dc6227c75a7df914a3f3ca7fcb8"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "940959a702acaedc6662127c9978abcd121b2665", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/940959a702acaedc6662127c9978abcd121b2665", "committedDate": "2020-12-08T15:17:07Z", "message": "Skip module access check for processMethod()\n\nThe module access check has been performed at class/interface resolving\ntime, can be skipped within processMethod();\nAdded J9_LOOK_NO_MODULE_CHECKS to skip module access check.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e28ba30599755dc6227c75a7df914a3f3ca7fcb8", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/e28ba30599755dc6227c75a7df914a3f3ca7fcb8", "committedDate": "2020-12-08T13:22:52Z", "message": "Skip module access check for processMethod()\n\nThe module access check has been performed at class/interface resolving\ntime, can be skipped within processMethod().\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}, "afterCommit": {"oid": "940959a702acaedc6662127c9978abcd121b2665", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/940959a702acaedc6662127c9978abcd121b2665", "committedDate": "2020-12-08T15:17:07Z", "message": "Skip module access check for processMethod()\n\nThe module access check has been performed at class/interface resolving\ntime, can be skipped within processMethod();\nAdded J9_LOOK_NO_MODULE_CHECKS to skip module access check.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3Mzk0MTgy", "url": "https://github.com/eclipse-openj9/openj9/pull/11404#pullrequestreview-547394182", "createdAt": "2020-12-08T16:16:40Z", "commit": {"oid": "940959a702acaedc6662127c9978abcd121b2665"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1472, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}