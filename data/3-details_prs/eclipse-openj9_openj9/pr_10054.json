{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyMjE1MjQ3", "number": 10054, "title": "Inlining POWER10 arrayCopy", "bodyText": "Deleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\nAdding the capability to call the POWER10 arraycopy helpers too.\nDeleting LEArrayCopy related stuffs.\nSigned-off-by: Julian Wang zlwang@ca.ibm.com", "createdAt": "2020-06-30T18:20:35Z", "url": "https://github.com/eclipse-openj9/openj9/pull/10054", "merged": true, "mergeCommit": {"oid": "c18b881c2d78fa406fa42dd9a3c959879cd8f4d5"}, "closed": true, "closedAt": "2020-07-15T12:46:41Z", "author": {"login": "zl-wang"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcxDM_2gBqjM1MDgzMDI2ODU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0-kbjgH2gAyNDQyMjE1MjQ3OmM2NGEzZThlMjhmYmNkOTFmZDJmOGIxMmNiNzljYTQzOWQwYjBmN2U=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "70ed508406957d5618d7fd88a0ee8871f2d080da", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/70ed508406957d5618d7fd88a0ee8871f2d080da", "committedDate": "2020-06-30T20:41:26Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}, "afterCommit": {"oid": "8b711504d76d6260f51afbb3f5e43d23724686a9", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8b711504d76d6260f51afbb3f5e43d23724686a9", "committedDate": "2020-07-02T21:08:17Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nFor performance reason, adjusting straight inlining to 64-byte.\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8b711504d76d6260f51afbb3f5e43d23724686a9", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8b711504d76d6260f51afbb3f5e43d23724686a9", "committedDate": "2020-07-02T21:08:17Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nFor performance reason, adjusting straight inlining to 64-byte.\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}, "afterCommit": {"oid": "57ed2f132f13f7720ee54b9255a8767d553f2a7e", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/57ed2f132f13f7720ee54b9255a8767d553f2a7e", "committedDate": "2020-07-07T22:06:44Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nFor performance reason, adjusting straight inlining to 64-byte.\n\nFor performance reason, using lxv/stxv instead.\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "57ed2f132f13f7720ee54b9255a8767d553f2a7e", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/57ed2f132f13f7720ee54b9255a8767d553f2a7e", "committedDate": "2020-07-07T22:06:44Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nFor performance reason, adjusting straight inlining to 64-byte.\n\nFor performance reason, using lxv/stxv instead.\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}, "afterCommit": {"oid": "dddb55b15acbcd0981abe63e91d27d6dd78fdaa6", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/dddb55b15acbcd0981abe63e91d27d6dd78fdaa6", "committedDate": "2020-07-07T22:31:10Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nFor performance reason, adjusting straight inlining to 64-byte.\n\nFor performance reason, using lxv/stxv instead\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dddb55b15acbcd0981abe63e91d27d6dd78fdaa6", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/dddb55b15acbcd0981abe63e91d27d6dd78fdaa6", "committedDate": "2020-07-07T22:31:10Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nFor performance reason, adjusting straight inlining to 64-byte.\n\nFor performance reason, using lxv/stxv instead\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}, "afterCommit": {"oid": "0f56eb6fdd4dd68138f8ea0c3a06518904698e83", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/0f56eb6fdd4dd68138f8ea0c3a06518904698e83", "committedDate": "2020-07-08T23:46:17Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nFor performance reason, adjusting straight inlining to 64-byte.\n\nFor performance reason, using lxv/stxv instead\n\nFor performance reason, special-case for residue in 1/2/4/8 bytes\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0f56eb6fdd4dd68138f8ea0c3a06518904698e83", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/0f56eb6fdd4dd68138f8ea0c3a06518904698e83", "committedDate": "2020-07-08T23:46:17Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nFor performance reason, adjusting straight inlining to 64-byte.\n\nFor performance reason, using lxv/stxv instead\n\nFor performance reason, special-case for residue in 1/2/4/8 bytes\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}, "afterCommit": {"oid": "b72ae71abdec2284ebd86e6020dad95eb3344c32", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/b72ae71abdec2284ebd86e6020dad95eb3344c32", "committedDate": "2020-07-09T15:20:57Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nFor performance reason, adjusting straight inlining to 64-byte.\n\nFor performance reason, using lxv/stxv instead\n\nFor performance reason, special-case for residue in 1/2/4/8 bytes\n\nAdding a conditional on byteOffset being non-zero\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b72ae71abdec2284ebd86e6020dad95eb3344c32", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/b72ae71abdec2284ebd86e6020dad95eb3344c32", "committedDate": "2020-07-09T15:20:57Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nFor performance reason, adjusting straight inlining to 64-byte.\n\nFor performance reason, using lxv/stxv instead\n\nFor performance reason, special-case for residue in 1/2/4/8 bytes\n\nAdding a conditional on byteOffset being non-zero\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}, "afterCommit": {"oid": "2866a5714506bad176a6e161d92c3c9ed43eb326", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/2866a5714506bad176a6e161d92c3c9ed43eb326", "committedDate": "2020-07-09T17:23:37Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nFor performance reason, adjusting straight inlining to 64-byte.\n\nFor performance reason, using lxv/stxv instead\n\nFor performance reason, special-case for residue in 1/2/4/8 bytes\n\nAdding a conditional on byteOffset being non-zero\n\nRebase to resolve conflicts\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NzcxMzY2", "url": "https://github.com/eclipse-openj9/openj9/pull/10054#pullrequestreview-446771366", "createdAt": "2020-07-11T02:40:44Z", "commit": {"oid": "2866a5714506bad176a6e161d92c3c9ed43eb326"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTc3NTcw", "url": "https://github.com/eclipse-openj9/openj9/pull/10054#pullrequestreview-448177570", "createdAt": "2020-07-14T14:45:36Z", "commit": {"oid": "2866a5714506bad176a6e161d92c3c9ed43eb326"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0NTozNlrOGxXE0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo1Njo1MVrOGxXnBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxMTQ3NQ==", "bodyText": "Considering that it looks like the post-P10 and pre-P10 versions of the inlined arraycopy code aren't actually sharing much code at all, perhaps they should be split into two separate functions?", "url": "https://github.com/eclipse-openj9/openj9/pull/10054#discussion_r454411475", "createdAt": "2020-07-14T14:45:36Z", "author": {"login": "aviansie-ben"}, "path": "runtime/compiler/p/codegen/J9TreeEvaluator.cpp", "diffHunk": "@@ -11685,573 +11685,241 @@ static void inlineArrayCopy_ICF(TR::Node *node, int64_t byteLen, TR::Register *s\n    if (byteLen == 0)\n       return;\n \n-   TR::Compilation *comp = cg->comp();\n-   TR::Register *regs[4] = {tmp1Reg, tmp2Reg, tmp3Reg, tmp4Reg};\n-   TR::Register *fpRegs[4] = {fp1Reg, fp2Reg, fp3Reg, fp4Reg};\n-   int32_t groups, residual;\n-\n-   static bool disableLEArrayCopyInline = (feGetEnv(\"TR_disableLEArrayCopyInline\") != NULL);\n-   bool supportsLEArrayCopyInline = (comp->target().cpu.isAtLeast(OMR_PROCESSOR_PPC_P8)) && !disableLEArrayCopyInline && comp->target().cpu.isLittleEndian() && comp->target().cpu.hasFPU() && comp->target().is64Bit();\n+   bool postP10CopyInline = cg->comp()->target().cpu.isAtLeast(OMR_PROCESSOR_PPC_P10) &&\n+                            cg->comp()->target().cpu.getPPCSupportsVSX();\n \n-   if (comp->target().is64Bit())\n+   if (postP10CopyInline)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2866a5714506bad176a6e161d92c3c9ed43eb326"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxODU3Mw==", "bodyText": "Minor typo:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               //    POWER8 potentially micor-coded unaligned integer accesses in LE mode,\n          \n          \n            \n               //    POWER8 potentially micro-coded unaligned integer accesses in LE mode,", "url": "https://github.com/eclipse-openj9/openj9/pull/10054#discussion_r454418573", "createdAt": "2020-07-14T14:54:46Z", "author": {"login": "aviansie-ben"}, "path": "runtime/compiler/p/codegen/J9TreeEvaluator.cpp", "diffHunk": "@@ -13458,12 +13148,18 @@ TR::Register *J9::Power::TreeEvaluator::arraycopyEvaluator(TR::Node *node, TR::C\n    TR::Register *metaReg = cg->getMethodMetaDataRegister();\n \n    // This section calculates the number of dependencies needed by the assembly helpers path.\n+   bool postP10Copy = cg->comp()->target().cpu.isAtLeast(OMR_PROCESSOR_PPC_P10) &&\n+                      cg->comp()->target().cpu.getPPCSupportsVSX();\n+\n    static bool disableVSXArrayCopy = (feGetEnv(\"TR_disableVSXArrayCopy\") != NULL);\n-   static bool disableLEArrayCopyHelper = (feGetEnv(\"TR_disableLEArrayCopyHelper\") != NULL);\n-   static bool disableVSXArrayCopyInlining = (feGetEnv(\"TR_enableVSXArrayCopyInlining\") == NULL); // Disabling due to a performance regression\n+   bool useVSXForCopy  = cg->comp()->target().cpu.isAtLeast(OMR_PROCESSOR_PPC_P8) &&\n+                         !disableVSXArrayCopy && cg->comp()->target().cpu.getPPCSupportsVSX();\n \n-   bool supportsVSX = (comp->target().cpu.isAtLeast(OMR_PROCESSOR_PPC_P8)) && !disableVSXArrayCopy && comp->target().cpu.supportsFeature(OMR_FEATURE_PPC_HAS_VSX);\n-   bool supportsLEArrayCopy = !disableLEArrayCopyHelper && comp->target().cpu.isLittleEndian() && comp->target().cpu.hasFPU();\n+   // VSX supercedes FPU.  No reason to offering disable option on this.\n+   //    POWER8 potentially micor-coded unaligned integer accesses in LE mode,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2866a5714506bad176a6e161d92c3c9ed43eb326"}, "originalPosition": 878}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQyMDIyOQ==", "bodyText": "If I'm reading this correctly, this comment seems to be referring to the removal of the env var checks above? Can you please clarify what this is saying?", "url": "https://github.com/eclipse-openj9/openj9/pull/10054#discussion_r454420229", "createdAt": "2020-07-14T14:56:51Z", "author": {"login": "aviansie-ben"}, "path": "runtime/compiler/p/codegen/J9TreeEvaluator.cpp", "diffHunk": "@@ -13458,12 +13148,18 @@ TR::Register *J9::Power::TreeEvaluator::arraycopyEvaluator(TR::Node *node, TR::C\n    TR::Register *metaReg = cg->getMethodMetaDataRegister();\n \n    // This section calculates the number of dependencies needed by the assembly helpers path.\n+   bool postP10Copy = cg->comp()->target().cpu.isAtLeast(OMR_PROCESSOR_PPC_P10) &&\n+                      cg->comp()->target().cpu.getPPCSupportsVSX();\n+\n    static bool disableVSXArrayCopy = (feGetEnv(\"TR_disableVSXArrayCopy\") != NULL);\n-   static bool disableLEArrayCopyHelper = (feGetEnv(\"TR_disableLEArrayCopyHelper\") != NULL);\n-   static bool disableVSXArrayCopyInlining = (feGetEnv(\"TR_enableVSXArrayCopyInlining\") == NULL); // Disabling due to a performance regression\n+   bool useVSXForCopy  = cg->comp()->target().cpu.isAtLeast(OMR_PROCESSOR_PPC_P8) &&\n+                         !disableVSXArrayCopy && cg->comp()->target().cpu.getPPCSupportsVSX();\n \n-   bool supportsVSX = (comp->target().cpu.isAtLeast(OMR_PROCESSOR_PPC_P8)) && !disableVSXArrayCopy && comp->target().cpu.supportsFeature(OMR_FEATURE_PPC_HAS_VSX);\n-   bool supportsLEArrayCopy = !disableLEArrayCopyHelper && comp->target().cpu.isLittleEndian() && comp->target().cpu.hasFPU();\n+   // VSX supercedes FPU.  No reason to offering disable option on this.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2866a5714506bad176a6e161d92c3c9ed43eb326"}, "originalPosition": 877}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2866a5714506bad176a6e161d92c3c9ed43eb326", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/2866a5714506bad176a6e161d92c3c9ed43eb326", "committedDate": "2020-07-09T17:23:37Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nFor performance reason, adjusting straight inlining to 64-byte.\n\nFor performance reason, using lxv/stxv instead\n\nFor performance reason, special-case for residue in 1/2/4/8 bytes\n\nAdding a conditional on byteOffset being non-zero\n\nRebase to resolve conflicts\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}, "afterCommit": {"oid": "c64a3e8e28fbcd91fd2f8b12cb79ca439d0b0f7e", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/c64a3e8e28fbcd91fd2f8b12cb79ca439d0b0f7e", "committedDate": "2020-07-14T23:24:03Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nFor performance reason, adjusting straight inlining to 64-byte.\n\nFor performance reason, using lxv/stxv instead\n\nFor performance reason, special-case for residue in 1/2/4/8 bytes\n\nAdding a conditional on byteOffset being non-zero\n\nRebase to resolve conflicts\n\nFix a typo in comment.\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c64a3e8e28fbcd91fd2f8b12cb79ca439d0b0f7e", "author": {"user": {"login": "zl-wang", "name": "Julian Wang"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/c64a3e8e28fbcd91fd2f8b12cb79ca439d0b0f7e", "committedDate": "2020-07-14T23:24:03Z", "message": "Inlining POWER10 arrayCopy\n\nDeleting inlineVSXArrayCopy: this was a piece of work with experimental characteristics\nit bloated the codegen to such an extent that it hurt general workload performance 5-10%\nrange. It was disabled many years ago. I took this opportunity to delete it completely.\n\nAdding the POWER10 inlining of arraycopy: this version is only applicable to Concurrent\nScavenge. We are limited somewhat in using registers.\n\nAdding the capability to call the POWER10 arraycopy helpers too.\n\nDeleting LEArrayCopy related stuffs.\n\nFor performance reason, adjusting straight inlining to 64-byte.\n\nFor performance reason, using lxv/stxv instead\n\nFor performance reason, special-case for residue in 1/2/4/8 bytes\n\nAdding a conditional on byteOffset being non-zero\n\nRebase to resolve conflicts\n\nFix a typo in comment.\n\nSigned-off-by: Julian Wang <zlwang@ca.ibm.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 475, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}