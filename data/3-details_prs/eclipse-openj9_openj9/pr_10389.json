{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3NzExMzc1", "number": 10389, "title": "Not invoke Exception.printStackTrace() at early VM startup stage", "bodyText": "At early stage of VM startup, vm->applicationClassLoader is still NULL when Exception.printStackTrace() is invoked, hence causes segmentation error;\nReplace it with the exception message & cause.\nWith this PR, the testcase exits w/ following message instead\njava.lang.module.FindException: Unable to derive module descriptor for bug-module-openj9-1.0-SNAPSHOT.jar\nCaused by: java.lang.module.InvalidModuleDescriptorException: Provider class com.fakeimpl not in module\n\ncloses: #10383\nSigned-off-by: Jason Feng fengj@ca.ibm.com", "createdAt": "2020-08-14T01:04:06Z", "url": "https://github.com/eclipse-openj9/openj9/pull/10389", "merged": true, "mergeCommit": {"oid": "d5df4ed37904e5282a604fa45a91845da011c8a3"}, "closed": true, "closedAt": "2020-08-14T21:33:30Z", "author": {"login": "JasonFengJ9"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-q7JMAFqTQ2NzI2NDM5OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-3zwlAFqTQ2NzczNzAwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MjY0Mzk5", "url": "https://github.com/eclipse-openj9/openj9/pull/10389#pullrequestreview-467264399", "createdAt": "2020-08-14T02:10:01Z", "commit": {"oid": "0ae8c9cc82944ca5a6596c9cb80160f23e008148"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MjY4NTUx", "url": "https://github.com/eclipse-openj9/openj9/pull/10389#pullrequestreview-467268551", "createdAt": "2020-08-14T02:25:54Z", "commit": {"oid": "0ae8c9cc82944ca5a6596c9cb80160f23e008148"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwMjoyNTo1NFrOHAlbUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwMjoyNTo1NFrOHAlbUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDM3NTI0OA==", "bodyText": "Actually, can't cause be null?", "url": "https://github.com/eclipse-openj9/openj9/pull/10389#discussion_r470375248", "createdAt": "2020-08-14T02:25:54Z", "author": {"login": "gacholio"}, "path": "jcl/src/java.base/share/classes/java/lang/ClassLoader.java", "diffHunk": "@@ -265,7 +265,8 @@ static final void initializeClassLoaders() {\n \t\t\tSystem.bootLayer = jdk.internal.module.ModuleBootstrap.boot();\n \t\t/*[IF Java10]*/\n \t\t} catch (Exception ex) {\n-\t\t\tex.printStackTrace();\n+\t\t\tSystem.out.println(ex);\n+\t\t\tSystem.out.println(\"Caused by: \" + ex.getCause()); //$NON-NLS-1$", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ae8c9cc82944ca5a6596c9cb80160f23e008148"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MjY4NjU5", "url": "https://github.com/eclipse-openj9/openj9/pull/10389#pullrequestreview-467268659", "createdAt": "2020-08-14T02:26:19Z", "commit": {"oid": "0ae8c9cc82944ca5a6596c9cb80160f23e008148"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0ae8c9cc82944ca5a6596c9cb80160f23e008148", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/0ae8c9cc82944ca5a6596c9cb80160f23e008148", "committedDate": "2020-08-14T00:53:05Z", "message": "Early stage System.exit() don't invoke Exception.printStackTrace()\n\nAt early stage of VM startup, vm->applicationClassLoader is still NULL\nwhen Exception.printStackTrace() is invoked, hence cause segmentation\nerror;\nReplace it with the exception message & cause.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}, "afterCommit": {"oid": "f2fabb4cddb9e7a796d756a45ffb59accd2ba25a", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/f2fabb4cddb9e7a796d756a45ffb59accd2ba25a", "committedDate": "2020-08-14T02:51:45Z", "message": "Early stage System.exit() don't invoke Exception.printStackTrace()\n\nAt early stage of VM startup, vm->applicationClassLoader is still NULL\nwhen Exception.printStackTrace() is invoked, hence cause segmentation\nerror;\nReplace it with the exception message & cause.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3Mjc3NjA3", "url": "https://github.com/eclipse-openj9/openj9/pull/10389#pullrequestreview-467277607", "createdAt": "2020-08-14T03:01:41Z", "commit": {"oid": "f2fabb4cddb9e7a796d756a45ffb59accd2ba25a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f9455d9a0a45e424591751780230bd4afaa9b24", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/7f9455d9a0a45e424591751780230bd4afaa9b24", "committedDate": "2020-08-14T11:44:44Z", "message": "Not invoke Exception.printStackTrace() at early VM startup stage\n\nAt early stage of VM startup, vm->applicationClassLoader is still NULL\nwhen Exception.printStackTrace() is invoked, hence segmentation\nerror;\nReplace it with the exception message & its causes.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f2fabb4cddb9e7a796d756a45ffb59accd2ba25a", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/f2fabb4cddb9e7a796d756a45ffb59accd2ba25a", "committedDate": "2020-08-14T02:51:45Z", "message": "Early stage System.exit() don't invoke Exception.printStackTrace()\n\nAt early stage of VM startup, vm->applicationClassLoader is still NULL\nwhen Exception.printStackTrace() is invoked, hence cause segmentation\nerror;\nReplace it with the exception message & cause.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}, "afterCommit": {"oid": "7f9455d9a0a45e424591751780230bd4afaa9b24", "author": {"user": {"login": "JasonFengJ9", "name": "Jason Feng"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/7f9455d9a0a45e424591751780230bd4afaa9b24", "committedDate": "2020-08-14T11:44:44Z", "message": "Not invoke Exception.printStackTrace() at early VM startup stage\n\nAt early stage of VM startup, vm->applicationClassLoader is still NULL\nwhen Exception.printStackTrace() is invoked, hence segmentation\nerror;\nReplace it with the exception message & its causes.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3NzM3MDAx", "url": "https://github.com/eclipse-openj9/openj9/pull/10389#pullrequestreview-467737001", "createdAt": "2020-08-14T17:10:42Z", "commit": {"oid": "7f9455d9a0a45e424591751780230bd4afaa9b24"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 156, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}