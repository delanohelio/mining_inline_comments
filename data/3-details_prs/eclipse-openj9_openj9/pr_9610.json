{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwMTA0NzAy", "number": 9610, "title": "Add support for -XX:[+|-]HandleSIGABRT", "bodyText": "a) Add a tracepoint to output an error for incompatible cmdline options\nThe new tracepoint takes the two incompatible cmdline options as string\ninputs.\nb) Add macros to support -XX:[+|-]HandleSIGABRT\nc) Parse the new cmdline option: -XX:[+|-]HandleSIGABRT\n1. default                               -> JVM abort handler enabled\n2. -XX:+HandleSIGABRT                    -> JVM abort handler enabled\n3. -XX:-HandleSIGABRT                    -> JVM abort handler disabled\n4. -XX:-HandleSIGABRT -XX:+HandleSIGABRT -> JVM abort handler enabled\n5. -XX:+HandleSIGABRT -XX:-HandleSIGABRT -> JVM abort handler disabled\n6. -XX:+HandleSIGABRT -Xrs               -> not allowed, error thrown\n7. ... -XX:+HandleSIGABRT -Xrs:sync      -> not allowed, error thrown\n8. ... -XX:-HandleSIGABRT -Xrs...        -> JVM abort handler disabled\n\nsetSignalOptions returns an error code if incompatible command line\noptions are specified.\ninitializeJavaVM terminates with JNI_ERR if setSignalOptions returns an\nerror code.\nd) Install the JVM abort handler based on -XX:[+|-]HandleSIGABRT\ne) Add tests for -XX:[+|-]HandleSIGABRT\n\nCopied functional/cmdLineTests/gptest to create sigabrtHandlingTest\nclass GPTest updated to output \"Invoking abort!\"\nsigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nRelated: #8735, eclipse-openj9/openj9-docs#564\nSigned-off-by: Babneet Singh sbabneet@ca.ibm.com", "createdAt": "2020-05-19T13:02:18Z", "url": "https://github.com/eclipse-openj9/openj9/pull/9610", "merged": true, "mergeCommit": {"oid": "54402b665819b2691a08bc549f23f1a6d73bf704"}, "closed": true, "closedAt": "2020-05-28T15:58:03Z", "author": {"login": "babsingh"}, "timelineItems": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABci0WhLABqjMzNTE4MDMyMTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclY2fNgFqTQxOTE3ODQ1NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "74e8a74e77b03aa9893065416ca32207f6de839e", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/74e8a74e77b03aa9893065416ca32207f6de839e", "committedDate": "2020-05-17T17:48:12Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "56b035d768912acf0d23a02b5ab1f4e5b78d4743", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/56b035d768912acf0d23a02b5ab1f4e5b78d4743", "committedDate": "2020-05-19T13:18:02Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "56b035d768912acf0d23a02b5ab1f4e5b78d4743", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/56b035d768912acf0d23a02b5ab1f4e5b78d4743", "committedDate": "2020-05-19T13:18:02Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "b97cf3ea20080f29202bf4cf04a3e5d170aae96f", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/b97cf3ea20080f29202bf4cf04a3e5d170aae96f", "committedDate": "2020-05-19T13:22:29Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b97cf3ea20080f29202bf4cf04a3e5d170aae96f", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/b97cf3ea20080f29202bf4cf04a3e5d170aae96f", "committedDate": "2020-05-19T13:22:29Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "c11842b5eeddc86e41a067ff3ef8cd654b848ac6", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/c11842b5eeddc86e41a067ff3ef8cd654b848ac6", "committedDate": "2020-05-21T02:18:27Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c11842b5eeddc86e41a067ff3ef8cd654b848ac6", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/c11842b5eeddc86e41a067ff3ef8cd654b848ac6", "committedDate": "2020-05-21T02:18:27Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "c930966192da17c873d56e9099077406b9d0970b", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/c930966192da17c873d56e9099077406b9d0970b", "committedDate": "2020-05-21T02:19:40Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NDU3NDUy", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#pullrequestreview-416457452", "createdAt": "2020-05-21T20:12:51Z", "commit": {"oid": "c930966192da17c873d56e9099077406b9d0970b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQyMDoxMjo1MVrOGZBQKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQyMDoxMjo1MVrOGZBQKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg4ODEwNQ==", "bodyText": "Does the omr signal code need to be notified about this - ie by j9sig_set_options?", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#discussion_r428888105", "createdAt": "2020-05-21T20:12:51Z", "author": {"login": "DanHeidinga"}, "path": "runtime/vm/jvminit.c", "diffHunk": "@@ -6519,6 +6526,23 @@ setSignalOptions(J9JavaVM* vm)\n \t\t}\n \t}\n \n+\targIndex = FIND_AND_CONSUME_ARG(EXACT_MATCH, VMOPT_XXNOHANDLESIGABRT, NULL);\n+\targIndex2 = FIND_AND_CONSUME_ARG(EXACT_MATCH, VMOPT_XXHANDLESIGABRT, NULL);\n+\n+\tif (argIndex2 > argIndex) {\n+\t\t/* Enable the JVM abort handler since -XX:+HandleSIGABRT is seen last. */\n+\t\tif (OMR_ARE_ALL_BITS_SET(vm->sigFlags, J9_SIG_XRS_SYNC)) {\n+\t\t\t/* Throw error message if both -XX:+HandleSIGABRT and -Xrs/-Xrs:sync are supplied. */\n+\t\t\tj9nls_printf(portLibrary, J9NLS_ERROR, J9NLS_VM_INCOMPATIBLE_CMDLINE_OPTIONS_ERROR, VMOPT_XXHANDLESIGABRT, VMOPT_XRS);\n+\t\t\treturn -1;\n+\t\t}\n+\t} else if (argIndex > argIndex2) {\n+\t\t/* Disable the JVM abort handler since -XX:-HandleSIGABRT is seen last. */\n+\t\tvm->sigFlags |= J9_SIG_NO_SIG_ABRT;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c930966192da17c873d56e9099077406b9d0970b"}, "originalPosition": 55}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NjI3NzY5", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#pullrequestreview-416627769", "createdAt": "2020-05-22T03:36:59Z", "commit": {"oid": "c930966192da17c873d56e9099077406b9d0970b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMzozNjo1OVrOGZJrHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMzozNjo1OVrOGZJrHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAyNjA3OA==", "bodyText": "Minor thing but can you fix the formatting of this comment?  The closing */ doesn't line up correctly (and didn't in the original code either)", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#discussion_r429026078", "createdAt": "2020-05-22T03:36:59Z", "author": {"login": "DanHeidinga"}, "path": "runtime/rasdump/dmpsup.c", "diffHunk": "@@ -1095,14 +1095,12 @@ pushDumpFacade(J9JavaVM *vm)\n \t\t/* Install new facade */\n \t\tvm->j9rasDumpFunctions = (J9RASdumpFunctions *)queue;\n \n-\t\t/* Note that we need to do the same check in popDumpFacade()\n-\t\t *\n-\t\t * According to the port library SIGABRT (J9PORT_SIG_FLAG_SIGABRT) is an ASYNC signal, so you'd think we should be checking for J9PORT_SIG_OPTIONS_REDUCED_SIGNALS_ASYNCHRONOUS here.\n-\t\t *  However we want to disable the abortHandler when either of -Xrs / -Xrs:sync are present, so check for J9PORT_SIG_OPTIONS_REDUCED_SIGNALS_SYNCHRONOUS instead\n+\t\t/* Note that we need to do the same check in popDumpFacade().\n+\t\t * Do not install the abort handler if -Xrs, -Xrs:sync or -XX:-HandleSIGABRT are present.\n          */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c930966192da17c873d56e9099077406b9d0970b"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NjI3ODYx", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#pullrequestreview-416627861", "createdAt": "2020-05-22T03:37:22Z", "commit": {"oid": "c930966192da17c873d56e9099077406b9d0970b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMzozNzoyMlrOGZJrbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMzozNzoyMlrOGZJrbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAyNjE1OA==", "bodyText": "same nitpick here", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#discussion_r429026158", "createdAt": "2020-05-22T03:37:22Z", "author": {"login": "DanHeidinga"}, "path": "runtime/rasdump/dmpsup.c", "diffHunk": "@@ -1121,12 +1119,10 @@ popDumpFacade(J9JavaVM *vm)\n \tif ( FIND_DUMP_QUEUE(vm, queue) )\n \t{\n \t\tPORT_ACCESS_FROM_JAVAVM(vm);\n-\t\t/* Note that we need to do the same check in pushDumpFacade()\n-\t\t *\n-\t\t * According to the port library SIGABRT (J9PORT_SIG_FLAG_SIGABRT) is an ASYNC signal, so you'd think we should be checking for J9PORT_SIG_OPTIONS_REDUCED_SIGNALS_ASYNCHRONOUS here.\n-\t\t *  However we want to disable the abortHandler when either of -Xrs / -Xrs:sync are present, so check for J9PORT_SIG_OPTIONS_REDUCED_SIGNALS_SYNCHRONOUS instead\n+\t\t/* Note that we need to do the same check in pushDumpFacade().\n+\t\t * Do not install the abort handler if -Xrs, -Xrs:sync or -XX:-HandleSIGABRT are present.\n          */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c930966192da17c873d56e9099077406b9d0970b"}, "originalPosition": 36}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c930966192da17c873d56e9099077406b9d0970b", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/c930966192da17c873d56e9099077406b9d0970b", "committedDate": "2020-05-21T02:19:40Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "70385b4c5c1d5c6ac2bbd9029799fbf849590b93", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/70385b4c5c1d5c6ac2bbd9029799fbf849590b93", "committedDate": "2020-05-22T08:17:57Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2ODkwNzU0", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#pullrequestreview-416890754", "createdAt": "2020-05-22T13:00:37Z", "commit": {"oid": "70385b4c5c1d5c6ac2bbd9029799fbf849590b93"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxMzowMDozOFrOGZWOww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxMzoxNzozMlrOGZWuLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIzMTgxMQ==", "bodyText": "we can just use <subset>9+</subset>", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#discussion_r429231811", "createdAt": "2020-05-22T13:00:38Z", "author": {"login": "llxia"}, "path": "test/functional/cmdLineTests/sigabrtHandlingTest/playlist.xml", "diffHunk": "@@ -0,0 +1,99 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+  Copyright (c) 2020, 2020 IBM Corp. and others\n+\n+  This program and the accompanying materials are made available under\n+  the terms of the Eclipse Public License 2.0 which accompanies this\n+  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+  or the Apache License, Version 2.0 which accompanies this distribution and\n+  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+\n+  This Source Code may also be made available under the following\n+  Secondary Licenses when the conditions for such availability set\n+  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+  General Public License, version 2 with the GNU Classpath\n+  Exception [1] and GNU General Public License, version 2 with the\n+  OpenJDK Assembly Exception [2].\n+\n+  [1] https://www.gnu.org/software/classpath/license.html\n+  [2] http://openjdk.java.net/legal/assembly-exception.html\n+\n+  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+-->\n+\n+<playlist xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"../../../TKG/playlist.xsd\">\n+\t<test>\n+\t\t<testCaseName>cmdLineTest_sigabrtHandlingTest</testCaseName>\n+\t\t<variations>\n+\t\t\t<variation>NoOptions</variation>\n+\t\t</variations>\n+\t\t<command>$(ADD_JVM_LIB_DIR_TO_LIBPATH) \\\n+\t$(JAVA_COMMAND) $(JVM_OPTIONS) \\\n+\t-DRESJAR=$(CMDLINETESTER_RESJAR) \\\n+\t-DEXE=$(SQ)$(JAVA_COMMAND) $(JVM_OPTIONS)$(SQ) \\\n+\t-DJAVA_EXECUTABLE_DIR=$(Q)$(TEST_JDK_HOME)$(D)bin$(Q) \\\n+\t-DUTILS_DIR=$(Q)$(JVM_TEST_ROOT)$(D)functional$(D)cmdLineTests$(D)utils$(Q) \\\n+\t-DGLAUNCH=$(Q)$(JAVA_SHARED_LIBRARIES_DIR)$(D)glaunch$(Q) \\\n+\t-DJVMLIBPATH=$(Q)$(TEST_JDK_HOME)$(D)jre$(D)bin$(D)j9vm$(Q) \\\n+\t-DFIBTARGET=$(Q)VMBench$(D)FibBench$(Q) \\\n+\t-DJVM_OPTIONS=$(Q)$(JVM_OPTIONS)$(Q) \\\n+\t-Xint -jar $(CMDLINETESTER_JAR) \\\n+\t-config  $(Q)$(TEST_RESROOT)$(D)sigabrtHandlingTest.xml$(Q) -verbose -explainExcludes -xids all,$(PLATFORM),$(VARIATION) -plats all,$(PLATFORM),$(VARIATION) -nonZeroExitWhenError; \\\n+\t${TEST_STATUS}\t</command>\n+\t\t<platformRequirements></platformRequirements>\n+\t\t<levels>\n+\t\t\t<level>sanity</level>\n+\t\t</levels>\n+\t\t<groups>\n+\t\t\t<group>functional</group>\n+\t\t</groups>\n+\t\t<types>\n+\t\t\t<type>native</type>\n+\t\t</types>\n+\t\t<subsets>\n+\t\t\t<subset>8</subset>\n+\t\t</subsets>\n+\t\t<impls>\n+\t\t\t<impl>openj9</impl>\n+\t\t\t<impl>ibm</impl>\n+\t\t</impls>\n+\t</test>\n+\t<test>\n+\t\t<testCaseName>cmdLineTest_sigabrtHandlingTest</testCaseName>\n+\t\t<variations>\n+\t\t\t<variation>NoOptions</variation>\n+\t\t</variations>\n+\t\t<command>$(ADD_JVM_LIB_DIR_TO_LIBPATH) \\\n+\t$(JAVA_COMMAND) $(JVM_OPTIONS) \\\n+\t-DRESJAR=$(CMDLINETESTER_RESJAR) \\\n+\t-DEXE=$(SQ)$(JAVA_COMMAND) $(JVM_OPTIONS)$(SQ) \\\n+\t-DJAVA_EXECUTABLE_DIR=$(Q)$(TEST_JDK_HOME)$(D)bin$(Q) \\\n+\t-DUTILS_DIR=$(Q)$(JVM_TEST_ROOT)$(D)functional$(D)cmdLineTests$(D)utils$(Q) \\\n+\t-DGLAUNCH=$(Q)$(JAVA_SHARED_LIBRARIES_DIR)$(D)glaunch$(Q) \\\n+\t-DJVMLIBPATH=$(Q)$(TEST_JDK_HOME)$(D)bin$(D)j9vm$(Q) \\\n+\t-DFIBTARGET=$(Q)VMBench$(D)FibBench$(Q) \\\n+\t-DJVM_OPTIONS=$(Q)$(JVM_OPTIONS)$(Q) \\\n+\t-Xint -jar $(CMDLINETESTER_JAR) \\\n+\t-config  $(Q)$(TEST_RESROOT)$(D)sigabrtHandlingTest.xml$(Q) -verbose -explainExcludes -xids all,$(PLATFORM),$(VARIATION) -plats all,$(PLATFORM),$(VARIATION) -nonZeroExitWhenError; \\\n+\t${TEST_STATUS}\t</command>\n+\t\t<platformRequirements></platformRequirements>\n+\t\t<levels>\n+\t\t\t<level>sanity</level>\n+\t\t</levels>\n+\t\t<groups>\n+\t\t\t<group>functional</group>\n+\t\t</groups>\n+\t\t<types>\n+\t\t\t<type>native</type>\n+\t\t</types>\n+\t\t<subsets>\n+\t\t\t<subset>9</subset>\n+\t\t\t<subset>11+</subset>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70385b4c5c1d5c6ac2bbd9029799fbf849590b93"}, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIzMjUzOA==", "bodyText": "The default is NoOptions. We can remove line 28-30. Same for the test below.", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#discussion_r429232538", "createdAt": "2020-05-22T13:02:12Z", "author": {"login": "llxia"}, "path": "test/functional/cmdLineTests/sigabrtHandlingTest/playlist.xml", "diffHunk": "@@ -0,0 +1,99 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+  Copyright (c) 2020, 2020 IBM Corp. and others\n+\n+  This program and the accompanying materials are made available under\n+  the terms of the Eclipse Public License 2.0 which accompanies this\n+  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+  or the Apache License, Version 2.0 which accompanies this distribution and\n+  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+\n+  This Source Code may also be made available under the following\n+  Secondary Licenses when the conditions for such availability set\n+  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+  General Public License, version 2 with the GNU Classpath\n+  Exception [1] and GNU General Public License, version 2 with the\n+  OpenJDK Assembly Exception [2].\n+\n+  [1] https://www.gnu.org/software/classpath/license.html\n+  [2] http://openjdk.java.net/legal/assembly-exception.html\n+\n+  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+-->\n+\n+<playlist xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"../../../TKG/playlist.xsd\">\n+\t<test>\n+\t\t<testCaseName>cmdLineTest_sigabrtHandlingTest</testCaseName>\n+\t\t<variations>\n+\t\t\t<variation>NoOptions</variation>\n+\t\t</variations>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70385b4c5c1d5c6ac2bbd9029799fbf849590b93"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIzNjI3Mg==", "bodyText": "Do we need THREADED ?", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#discussion_r429236272", "createdAt": "2020-05-22T13:10:20Z", "author": {"login": "llxia"}, "path": "test/functional/cmdLineTests/sigabrtHandlingTest/sigabrtHandlingTest.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?>\n+\n+<!--\n+  Copyright (c) 2020, 2020 IBM Corp. and others\n+\n+  This program and the accompanying materials are made available under\n+  the terms of the Eclipse Public License 2.0 which accompanies this\n+  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+  or the Apache License, Version 2.0 which accompanies this distribution and\n+  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+\n+  This Source Code may also be made available under the following\n+  Secondary Licenses when the conditions for such availability set\n+  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+  General Public License, version 2 with the GNU Classpath\n+  Exception [1] and GNU General Public License, version 2 with the\n+  OpenJDK Assembly Exception [2].\n+\n+  [1] https://www.gnu.org/software/classpath/license.html\n+  [2] http://openjdk.java.net/legal/assembly-exception.html\n+\n+  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+-->\n+\n+<!DOCTYPE suite SYSTEM \"cmdlinetester.dtd\">\n+\n+<suite id=\"SIGABRT Handling Tests\" timeout=\"2400\">\n+ <variable name=\"CP\" value=\"-cp $Q$$RESJAR$$Q$ VMBench.GPTests.GPTest\" />\n+ <variable name=\"THREADED\" value=\" \" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70385b4c5c1d5c6ac2bbd9029799fbf849590b93"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIzNjQ1Mw==", "bodyText": "Did JAVA_EXECUTABLE_DIR, UTILS_DIR, GLAUNCH, JVMLIBPATH, FIBTARGET and JVM_OPTIONS get used?", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#discussion_r429236453", "createdAt": "2020-05-22T13:10:42Z", "author": {"login": "llxia"}, "path": "test/functional/cmdLineTests/sigabrtHandlingTest/playlist.xml", "diffHunk": "@@ -0,0 +1,99 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+  Copyright (c) 2020, 2020 IBM Corp. and others\n+\n+  This program and the accompanying materials are made available under\n+  the terms of the Eclipse Public License 2.0 which accompanies this\n+  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+  or the Apache License, Version 2.0 which accompanies this distribution and\n+  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+\n+  This Source Code may also be made available under the following\n+  Secondary Licenses when the conditions for such availability set\n+  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+  General Public License, version 2 with the GNU Classpath\n+  Exception [1] and GNU General Public License, version 2 with the\n+  OpenJDK Assembly Exception [2].\n+\n+  [1] https://www.gnu.org/software/classpath/license.html\n+  [2] http://openjdk.java.net/legal/assembly-exception.html\n+\n+  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+-->\n+\n+<playlist xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"../../../TKG/playlist.xsd\">\n+\t<test>\n+\t\t<testCaseName>cmdLineTest_sigabrtHandlingTest</testCaseName>\n+\t\t<variations>\n+\t\t\t<variation>NoOptions</variation>\n+\t\t</variations>\n+\t\t<command>$(ADD_JVM_LIB_DIR_TO_LIBPATH) \\\n+\t$(JAVA_COMMAND) $(JVM_OPTIONS) \\\n+\t-DRESJAR=$(CMDLINETESTER_RESJAR) \\\n+\t-DEXE=$(SQ)$(JAVA_COMMAND) $(JVM_OPTIONS)$(SQ) \\\n+\t-DJAVA_EXECUTABLE_DIR=$(Q)$(TEST_JDK_HOME)$(D)bin$(Q) \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70385b4c5c1d5c6ac2bbd9029799fbf849590b93"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIzNzkyNQ==", "bodyText": "This test is a java test to me. If so, we do not need to add native .  And we may also be able to remove ADD_JVM_LIB_DIR_TO_LIBPATH", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#discussion_r429237925", "createdAt": "2020-05-22T13:13:39Z", "author": {"login": "llxia"}, "path": "test/functional/cmdLineTests/sigabrtHandlingTest/playlist.xml", "diffHunk": "@@ -0,0 +1,99 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+  Copyright (c) 2020, 2020 IBM Corp. and others\n+\n+  This program and the accompanying materials are made available under\n+  the terms of the Eclipse Public License 2.0 which accompanies this\n+  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+  or the Apache License, Version 2.0 which accompanies this distribution and\n+  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+\n+  This Source Code may also be made available under the following\n+  Secondary Licenses when the conditions for such availability set\n+  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+  General Public License, version 2 with the GNU Classpath\n+  Exception [1] and GNU General Public License, version 2 with the\n+  OpenJDK Assembly Exception [2].\n+\n+  [1] https://www.gnu.org/software/classpath/license.html\n+  [2] http://openjdk.java.net/legal/assembly-exception.html\n+\n+  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+-->\n+\n+<playlist xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"../../../TKG/playlist.xsd\">\n+\t<test>\n+\t\t<testCaseName>cmdLineTest_sigabrtHandlingTest</testCaseName>\n+\t\t<variations>\n+\t\t\t<variation>NoOptions</variation>\n+\t\t</variations>\n+\t\t<command>$(ADD_JVM_LIB_DIR_TO_LIBPATH) \\\n+\t$(JAVA_COMMAND) $(JVM_OPTIONS) \\\n+\t-DRESJAR=$(CMDLINETESTER_RESJAR) \\\n+\t-DEXE=$(SQ)$(JAVA_COMMAND) $(JVM_OPTIONS)$(SQ) \\\n+\t-DJAVA_EXECUTABLE_DIR=$(Q)$(TEST_JDK_HOME)$(D)bin$(Q) \\\n+\t-DUTILS_DIR=$(Q)$(JVM_TEST_ROOT)$(D)functional$(D)cmdLineTests$(D)utils$(Q) \\\n+\t-DGLAUNCH=$(Q)$(JAVA_SHARED_LIBRARIES_DIR)$(D)glaunch$(Q) \\\n+\t-DJVMLIBPATH=$(Q)$(TEST_JDK_HOME)$(D)jre$(D)bin$(D)j9vm$(Q) \\\n+\t-DFIBTARGET=$(Q)VMBench$(D)FibBench$(Q) \\\n+\t-DJVM_OPTIONS=$(Q)$(JVM_OPTIONS)$(Q) \\\n+\t-Xint -jar $(CMDLINETESTER_JAR) \\\n+\t-config  $(Q)$(TEST_RESROOT)$(D)sigabrtHandlingTest.xml$(Q) -verbose -explainExcludes -xids all,$(PLATFORM),$(VARIATION) -plats all,$(PLATFORM),$(VARIATION) -nonZeroExitWhenError; \\\n+\t${TEST_STATUS}\t</command>\n+\t\t<platformRequirements></platformRequirements>\n+\t\t<levels>\n+\t\t\t<level>sanity</level>\n+\t\t</levels>\n+\t\t<groups>\n+\t\t\t<group>functional</group>\n+\t\t</groups>\n+\t\t<types>\n+\t\t\t<type>native</type>\n+\t\t</types>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70385b4c5c1d5c6ac2bbd9029799fbf849590b93"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIzODQ0OA==", "bodyText": "The project name should be sigabrtHandlingTest", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#discussion_r429238448", "createdAt": "2020-05-22T13:14:42Z", "author": {"login": "llxia"}, "path": "test/functional/cmdLineTests/sigabrtHandlingTest/build.xml", "diffHunk": "@@ -0,0 +1,45 @@\n+<?xml version=\"1.0\"?>\n+\n+<!--\n+  Copyright (c) 2020, 2020 IBM Corp. and others\n+\n+  This program and the accompanying materials are made available under\n+  the terms of the Eclipse Public License 2.0 which accompanies this\n+  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+  or the Apache License, Version 2.0 which accompanies this distribution and\n+  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+\n+  This Source Code may also be made available under the following\n+  Secondary Licenses when the conditions for such availability set\n+  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+  General Public License, version 2 with the GNU Classpath\n+  Exception [1] and GNU General Public License, version 2 with the\n+  OpenJDK Assembly Exception [2].\n+\n+  [1] https://www.gnu.org/software/classpath/license.html\n+  [2] http://openjdk.java.net/legal/assembly-exception.html\n+\n+  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+-->\n+\n+<project name=\"cmdLineTests\" default=\"build\" basedir=\".\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70385b4c5c1d5c6ac2bbd9029799fbf849590b93"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIzOTg1Mw==", "bodyText": "Please fix the identification.", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#discussion_r429239853", "createdAt": "2020-05-22T13:17:32Z", "author": {"login": "llxia"}, "path": "test/functional/cmdLineTests/sigabrtHandlingTest/sigabrtHandlingTest.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?>\n+\n+<!--\n+  Copyright (c) 2020, 2020 IBM Corp. and others\n+\n+  This program and the accompanying materials are made available under\n+  the terms of the Eclipse Public License 2.0 which accompanies this\n+  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+  or the Apache License, Version 2.0 which accompanies this distribution and\n+  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+\n+  This Source Code may also be made available under the following\n+  Secondary Licenses when the conditions for such availability set\n+  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+  General Public License, version 2 with the GNU Classpath\n+  Exception [1] and GNU General Public License, version 2 with the\n+  OpenJDK Assembly Exception [2].\n+\n+  [1] https://www.gnu.org/software/classpath/license.html\n+  [2] http://openjdk.java.net/legal/assembly-exception.html\n+\n+  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+-->\n+\n+<!DOCTYPE suite SYSTEM \"cmdlinetester.dtd\">\n+\n+<suite id=\"SIGABRT Handling Tests\" timeout=\"2400\">\n+ <variable name=\"CP\" value=\"-cp $Q$$RESJAR$$Q$ VMBench.GPTests.GPTest\" />\n+ <variable name=\"THREADED\" value=\" \" />\n+\n+ <test id=\"Default\">\n+  <command>$EXE$ $CP$ $THREADED$ abort</command>\n+  <output type=\"success\" regex=\"no\">Processing dump event \"abort\"</output>\n+  <output type=\"required\" regex=\"no\">Processed dump event \"abort\"</output>\n+ </test>\n+\n+ <test id=\"-XX:+HandleSIGABRT\">\n+  <command>$EXE$ -XX:+HandleSIGABRT $CP$ $THREADED$ abort</command>\n+  <output type=\"success\" regex=\"no\">Processing dump event \"abort\"</output>\n+  <output type=\"required\" regex=\"no\">Processed dump event \"abort\"</output>\n+ </test>\n+\n+ <test id=\"-XX:-HandleSIGABRT -XX:+HandleSIGABRT\">\n+  <command>$EXE$ -XX:-HandleSIGABRT -XX:+HandleSIGABRT $CP$ $THREADED$ abort</command>\n+  <output type=\"success\" regex=\"no\">Processing dump event \"abort\"</output>\n+  <output type=\"required\" regex=\"no\">Processed dump event \"abort\"</output>\n+ </test>\n+\n+ <test id=\"-XX:-HandleSIGABRT\">\n+  <command>$EXE$ -XX:-HandleSIGABRT $CP$ $THREADED$ abort</command>\n+  <output type=\"success\" regex=\"no\">Invoking abort!</output>\n+  <output type=\"failure\" regex=\"no\">Processing dump event \"abort\"</output>\n+ </test>\n+\n+ <test id=\"-XX:+HandleSIGABRT -XX:-HandleSIGABRT\">\n+  <command>$EXE$ -XX:+HandleSIGABRT -XX:-HandleSIGABRT $CP$ $THREADED$ abort</command>\n+  <output type=\"success\" regex=\"no\">Invoking abort!</output>\n+  <output type=\"failure\" regex=\"no\">Processing dump event \"abort\"</output>\n+ </test>\n+\n+ <test id=\"-XX:+HandleSIGABRT -Xrs\">\n+  <command>$EXE$ -XX:+HandleSIGABRT -Xrs $CP$ $THREADED$ abort</command>\n+  <output type=\"success\" regex=\"no\">-XX:+HandleSIGABRT is not supported with -Xrs</output>\n+  <output type=\"failure\" regex=\"no\">Invoking abort!</output>\n+  <output type=\"failure\" regex=\"no\">Processing dump event \"abort\"</output>\n+ </test>\n+\n+ <test id=\"-XX:+HandleSIGABRT -Xrs:sync\">\n+  <command>$EXE$ -XX:+HandleSIGABRT -Xrs:sync $CP$ $THREADED$ abort</command>\n+  <output type=\"success\" regex=\"no\">-XX:+HandleSIGABRT is not supported with -Xrs</output>\n+  <output type=\"failure\" regex=\"no\">Invoking abort!</output>\n+  <output type=\"failure\" regex=\"no\">Processing dump event \"abort\"</output>\n+ </test>\n+\n+ <test id=\"-Xrs\">\n+  <command>$EXE$ -Xrs $CP$ $THREADED$ abort</command>\n+  <output type=\"success\" regex=\"no\">Invoking abort!</output>\n+  <output type=\"failure\" regex=\"no\">Processing dump event \"abort\"</output>\n+ </test>\n+ \n+ <test id=\"-XX:-HandleSIGABRT -Xrs\">\n+  <command>$EXE$ -XX:-HandleSIGABRT -Xrs $CP$ $THREADED$ abort</command>\n+  <output type=\"success\" regex=\"no\">Invoking abort!</output>\n+  <output type=\"failure\" regex=\"no\">Processing dump event \"abort\"</output>\n+ </test>\n+ \n+  <test id=\"-XX:-HandleSIGABRT -Xrs:sync\">\n+  <command>$EXE$ -XX:-HandleSIGABRT -Xrs:sync $CP$ $THREADED$ abort</command>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70385b4c5c1d5c6ac2bbd9029799fbf849590b93"}, "originalPosition": 88}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6951475e0c52d51f95fe732f6a28d54ecd822ab4", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/6951475e0c52d51f95fe732f6a28d54ecd822ab4", "committedDate": "2020-05-22T18:19:09Z", "message": "Add a tracepoint to output an error for incompatible cmdline options\n\nThe new tracepoint takes the two incompatible cmdline options as string\ninputs.\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85a9e61f0fd4a9794435071bb2ca8654cedee322", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/85a9e61f0fd4a9794435071bb2ca8654cedee322", "committedDate": "2020-05-22T18:19:09Z", "message": "Add macros to support -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d84fd70cc6b7acc572e32f700913dfb3af24a1e1", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/d84fd70cc6b7acc572e32f700913dfb3af24a1e1", "committedDate": "2020-05-22T18:19:09Z", "message": "Parse the new cmdline option: -XX:[+|-]HandleSIGABRT\n\n1. default                               -> JVM abort handler enabled\n2. -XX:+HandleSIGABRT                    -> JVM abort handler enabled\n3. -XX:-HandleSIGABRT                    -> JVM abort handler disabled\n4. -XX:-HandleSIGABRT -XX:+HandleSIGABRT -> JVM abort handler enabled\n5. -XX:+HandleSIGABRT -XX:-HandleSIGABRT -> JVM abort handler disabled\n6. -XX:+HandleSIGABRT -Xrs               -> not allowed, error thrown\n7. ... -XX:+HandleSIGABRT -Xrs:sync      -> not allowed, error thrown\n8. ... -XX:-HandleSIGABRT -Xrs...        -> JVM abort handler disabled\n\nsetSignalOptions returns an error code if incompatible command line\noptions are specified.\n\ninitializeJavaVM terminates with JNI_ERR if setSignalOptions returns an\nerror code.\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a397797680ebc2a77da8367d54bc510da6b06e8", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/7a397797680ebc2a77da8367d54bc510da6b06e8", "committedDate": "2020-05-22T18:19:09Z", "message": "Install the JVM abort handler based on -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0c592a762f1ab927deb7a051401d1ee17b7654d2", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/0c592a762f1ab927deb7a051401d1ee17b7654d2", "committedDate": "2020-05-22T18:03:01Z", "message": "Changes requested in the test code review\n\nCreated for easier verification. Will squash before merge.\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "a08edc39e82fd11784f21326998d106c7094c982", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a08edc39e82fd11784f21326998d106c7094c982", "committedDate": "2020-05-22T18:53:09Z", "message": "Changes requested in the test code review\n\nCreated for easier verification. Will squash before merge.\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a08edc39e82fd11784f21326998d106c7094c982", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a08edc39e82fd11784f21326998d106c7094c982", "committedDate": "2020-05-22T18:53:09Z", "message": "Changes requested in the test code review\n\nCreated for easier verification. Will squash before merge.\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "90a8d60ab1e9f122754dadcfe24c581d51e4b600", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/90a8d60ab1e9f122754dadcfe24c581d51e4b600", "committedDate": "2020-05-22T18:58:47Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MTMzODU2", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#pullrequestreview-417133856", "createdAt": "2020-05-22T19:10:21Z", "commit": {"oid": "90a8d60ab1e9f122754dadcfe24c581d51e4b600"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3NDQ4ODk4", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#pullrequestreview-417448898", "createdAt": "2020-05-25T04:22:51Z", "commit": {"oid": "90a8d60ab1e9f122754dadcfe24c581d51e4b600"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9eaeeeef53b85768a167d8201b5a3ef879380a74", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/9eaeeeef53b85768a167d8201b5a3ef879380a74", "committedDate": "2020-05-26T22:05:41Z", "message": "Disable system dumps for -XX:[+|-]HandleSIGABRT tests\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "e141ac96d63902570a64355e8cd9705643a10e63", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/e141ac96d63902570a64355e8cd9705643a10e63", "committedDate": "2020-05-26T22:08:02Z", "message": "Disable system core files for -XX:[+|-]HandleSIGABRT tests\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e141ac96d63902570a64355e8cd9705643a10e63", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/e141ac96d63902570a64355e8cd9705643a10e63", "committedDate": "2020-05-26T22:08:02Z", "message": "Disable system core files for -XX:[+|-]HandleSIGABRT tests\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "83f77b4619a474a36fa5826ef3f824085e864965", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/83f77b4619a474a36fa5826ef3f824085e864965", "committedDate": "2020-05-26T22:09:37Z", "message": "Disable the system core files for the -XX:[+|-]HandleSIGABRT tests\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NzY2NjQx", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#pullrequestreview-418766641", "createdAt": "2020-05-27T00:31:37Z", "commit": {"oid": "83f77b4619a474a36fa5826ef3f824085e864965"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NzY3NjE5", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#pullrequestreview-418767619", "createdAt": "2020-05-27T00:34:37Z", "commit": {"oid": "83f77b4619a474a36fa5826ef3f824085e864965"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwMDozNDozN1rOGa0x2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwMDozNDozN1rOGa0x2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDc4MDg5MA==", "bodyText": "Can you add a comment to this to indicate why this has been added?", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#discussion_r430780890", "createdAt": "2020-05-27T00:34:37Z", "author": {"login": "DanHeidinga"}, "path": "test/functional/cmdLineTests/sigabrtHandlingTest/sigabrtHandlingTest.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?>\n+\n+<!--\n+  Copyright (c) 2020, 2020 IBM Corp. and others\n+\n+  This program and the accompanying materials are made available under\n+  the terms of the Eclipse Public License 2.0 which accompanies this\n+  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+  or the Apache License, Version 2.0 which accompanies this distribution and\n+  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+\n+  This Source Code may also be made available under the following\n+  Secondary Licenses when the conditions for such availability set\n+  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+  General Public License, version 2 with the GNU Classpath\n+  Exception [1] and GNU General Public License, version 2 with the\n+  OpenJDK Assembly Exception [2].\n+\n+  [1] https://www.gnu.org/software/classpath/license.html\n+  [2] http://openjdk.java.net/legal/assembly-exception.html\n+\n+  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+-->\n+\n+<!DOCTYPE suite SYSTEM \"cmdlinetester.dtd\">\n+\n+<suite id=\"SIGABRT Handling Tests\" timeout=\"2400\">\n+ <variable name=\"CP\" value=\"-cp $Q$$RESJAR$$Q$ VMBench.GPTests.GPTest\" />\n+ <variable name=\"DUMP\" value=\"-Xdump:system:none\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83f77b4619a474a36fa5826ef3f824085e864965"}, "originalPosition": 29}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "83f77b4619a474a36fa5826ef3f824085e864965", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/83f77b4619a474a36fa5826ef3f824085e864965", "committedDate": "2020-05-26T22:09:37Z", "message": "Disable the system core files for the -XX:[+|-]HandleSIGABRT tests\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "952ed017118596b06aaa9ec13d54587ce916962c", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/952ed017118596b06aaa9ec13d54587ce916962c", "committedDate": "2020-05-27T12:23:26Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c4a874dcf23307ce1dc0003e311bf955095ccda", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/4c4a874dcf23307ce1dc0003e311bf955095ccda", "committedDate": "2020-05-27T12:34:53Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "952ed017118596b06aaa9ec13d54587ce916962c", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/952ed017118596b06aaa9ec13d54587ce916962c", "committedDate": "2020-05-27T12:23:26Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}, "afterCommit": {"oid": "4c4a874dcf23307ce1dc0003e311bf955095ccda", "author": {"user": {"login": "babsingh", "name": "Babneet Singh"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/4c4a874dcf23307ce1dc0003e311bf955095ccda", "committedDate": "2020-05-27T12:34:53Z", "message": "Add tests for -XX:[+|-]HandleSIGABRT\n\n- Copied functional/cmdLineTests/gptest to create sigabrtHandlingTest\n- class GPTest updated to output \"Invoking abort!\"\n- sigabrtHandlingTest.xml contains testcases for -XX:[+|-]HandleSIGABRT\n\nSigned-off-by: Babneet Singh <sbabneet@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5MTc4NDU0", "url": "https://github.com/eclipse-openj9/openj9/pull/9610#pullrequestreview-419178454", "createdAt": "2020-05-27T12:58:31Z", "commit": {"oid": "4c4a874dcf23307ce1dc0003e311bf955095ccda"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 983, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}