{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3ODg1Mzg4", "number": 10781, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNDoyNDowNVrOEqV3ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNDoyNDowNVrOEqV3ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyODMzOTc4OnYy", "diffSide": "LEFT", "path": "jcl/src/java.base/share/classes/java/lang/ClassLoader.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNDoyNDowNVrOHcfc5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNDozOTowOVrOHcgJew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYzNzQ3Nw==", "bodyText": "This can't be removed, there are other callers than loadLibrary(String)", "url": "https://github.com/eclipse-openj9/openj9/pull/10781#discussion_r499637477", "createdAt": "2020-10-05T14:24:05Z", "author": {"login": "pshipton"}, "path": "jcl/src/java.base/share/classes/java/lang/ClassLoader.java", "diffHunk": "@@ -1913,9 +1913,6 @@ static ClassLoader callerClassLoader() {\n  *\t\t\t\t\t\t\tif the library was not allowed to be loaded\n  */\n static void loadLibraryWithClassLoader(String libName, ClassLoader loader) {\n-\tSecurityManager smngr = System.getSecurityManager();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "58d1fe703fc3f43b65ba9e35f8ddf8f6a0146f77"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTY0MzI0Ng==", "bodyText": "The other caller is static void loadLibrary(Class<?> caller, String name, boolean fullPath) which is not in OpenJD JDK15+, for earlier JDK level, it is invoked by Runtime.load0() & loadLibrary0() in which security.checkLink(libname) are performed first.", "url": "https://github.com/eclipse-openj9/openj9/pull/10781#discussion_r499643246", "createdAt": "2020-10-05T14:31:35Z", "author": {"login": "JasonFengJ9"}, "path": "jcl/src/java.base/share/classes/java/lang/ClassLoader.java", "diffHunk": "@@ -1913,9 +1913,6 @@ static ClassLoader callerClassLoader() {\n  *\t\t\t\t\t\t\tif the library was not allowed to be loaded\n  */\n static void loadLibraryWithClassLoader(String libName, ClassLoader loader) {\n-\tSecurityManager smngr = System.getSecurityManager();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYzNzQ3Nw=="}, "originalCommit": {"oid": "58d1fe703fc3f43b65ba9e35f8ddf8f6a0146f77"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTY0NTI4Nw==", "bodyText": "See System.loadLibrary() as well.", "url": "https://github.com/eclipse-openj9/openj9/pull/10781#discussion_r499645287", "createdAt": "2020-10-05T14:34:24Z", "author": {"login": "pshipton"}, "path": "jcl/src/java.base/share/classes/java/lang/ClassLoader.java", "diffHunk": "@@ -1913,9 +1913,6 @@ static ClassLoader callerClassLoader() {\n  *\t\t\t\t\t\t\tif the library was not allowed to be loaded\n  */\n static void loadLibraryWithClassLoader(String libName, ClassLoader loader) {\n-\tSecurityManager smngr = System.getSecurityManager();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYzNzQ3Nw=="}, "originalCommit": {"oid": "58d1fe703fc3f43b65ba9e35f8ddf8f6a0146f77"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTY0ODg5MQ==", "bodyText": "Right, this PR moved the security check from loadLibraryWithClassLoader() into System.loadLibrary(), note that a similar check already is within System.load().", "url": "https://github.com/eclipse-openj9/openj9/pull/10781#discussion_r499648891", "createdAt": "2020-10-05T14:39:09Z", "author": {"login": "JasonFengJ9"}, "path": "jcl/src/java.base/share/classes/java/lang/ClassLoader.java", "diffHunk": "@@ -1913,9 +1913,6 @@ static ClassLoader callerClassLoader() {\n  *\t\t\t\t\t\t\tif the library was not allowed to be loaded\n  */\n static void loadLibraryWithClassLoader(String libName, ClassLoader loader) {\n-\tSecurityManager smngr = System.getSecurityManager();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYzNzQ3Nw=="}, "originalCommit": {"oid": "58d1fe703fc3f43b65ba9e35f8ddf8f6a0146f77"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1278, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}