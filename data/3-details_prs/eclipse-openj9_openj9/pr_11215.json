{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIyNzYzMzM3", "number": 11215, "title": "Add cpu feature info to javacore", "bodyText": "depends on: eclipse/omr#5707\nIssue: #11184\nSigned-off-by: Harry Yu harryyu1994@gmail.com", "createdAt": "2020-11-17T23:11:12Z", "url": "https://github.com/eclipse-openj9/openj9/pull/11215", "merged": true, "mergeCommit": {"oid": "a7644926ff739e79b824016437a67e69d45d20a9"}, "closed": true, "closedAt": "2020-12-07T16:23:34Z", "author": {"login": "harryyu1994"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddh8PHABqjQwMDc5NTEwMjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdj4D2AAFqTU0NjMxMjcwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8ca956f08ccb5c6f4e05a5133e49ffd8725a3171", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8ca956f08ccb5c6f4e05a5133e49ffd8725a3171", "committedDate": "2020-11-17T23:10:20Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}, "afterCommit": {"oid": "99c99e74800af11b043a5e1233af7c5e4601e575", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/99c99e74800af11b043a5e1233af7c5e4601e575", "committedDate": "2020-11-17T23:13:30Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "99c99e74800af11b043a5e1233af7c5e4601e575", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/99c99e74800af11b043a5e1233af7c5e4601e575", "committedDate": "2020-11-17T23:13:30Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}, "afterCommit": {"oid": "d191f69018aef415f64586c5747469922d16a07a", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/d191f69018aef415f64586c5747469922d16a07a", "committedDate": "2020-11-17T23:32:25Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d191f69018aef415f64586c5747469922d16a07a", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/d191f69018aef415f64586c5747469922d16a07a", "committedDate": "2020-11-17T23:32:25Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}, "afterCommit": {"oid": "e02751afd0d6d3bbd0c10dea1c1ef1024424ca53", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/e02751afd0d6d3bbd0c10dea1c1ef1024424ca53", "committedDate": "2020-11-18T19:37:45Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e02751afd0d6d3bbd0c10dea1c1ef1024424ca53", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/e02751afd0d6d3bbd0c10dea1c1ef1024424ca53", "committedDate": "2020-11-18T19:37:45Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}, "afterCommit": {"oid": "634820c603cc157411663d2db033985c2c6b51b2", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/634820c603cc157411663d2db033985c2c6b51b2", "committedDate": "2020-11-23T21:25:36Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "634820c603cc157411663d2db033985c2c6b51b2", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/634820c603cc157411663d2db033985c2c6b51b2", "committedDate": "2020-11-23T21:25:36Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}, "afterCommit": {"oid": "e02ea584e7691d15ee127e802277a470fed8d612", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/e02ea584e7691d15ee127e802277a470fed8d612", "committedDate": "2020-12-02T17:37:26Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzMzA0NjM0", "url": "https://github.com/eclipse-openj9/openj9/pull/11215#pullrequestreview-543304634", "createdAt": "2020-12-02T22:53:02Z", "commit": {"oid": "e02ea584e7691d15ee127e802277a470fed8d612"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQyMjo1MzowMlrOH9xhCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQyMjo1MzowMlrOH9xhCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDUzNjQ1OQ==", "bodyText": "If the buffer isn't big enough and the string is cut off, it won't have a \\n at the end.", "url": "https://github.com/eclipse-openj9/openj9/pull/11215#discussion_r534536459", "createdAt": "2020-12-02T22:53:02Z", "author": {"login": "pshipton"}, "path": "runtime/rasdump/javadump.cpp", "diffHunk": "@@ -5291,7 +5292,29 @@ JavaCoreDumpWriter::writeCPUinfo(void)\n \t_OutputStream.writeCharacters(\n \t\t\t\"2CITARGETCPU   Target CPUs: \");\n \t_OutputStream.writeInteger(target, \"%i\\n\");\n+\t\n+\tint BUFF_SIZE = 400;\n+\tchar buff[BUFF_SIZE];\n+\tif (_VirtualMachine->jitConfig) {\n+\t\t_OutputStream.writeCharacters(\n+\t\t\t\t\"2CIJITFEATURE  CPU features (JIT): \");\n+\t\tomrsysinfo_get_processor_feature_string(&_VirtualMachine->jitConfig->targetProcessor, buff, BUFF_SIZE);\n+\t\t_OutputStream.writeCharacters(buff);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e02ea584e7691d15ee127e802277a470fed8d612"}, "originalPosition": 19}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e02ea584e7691d15ee127e802277a470fed8d612", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/e02ea584e7691d15ee127e802277a470fed8d612", "committedDate": "2020-12-02T17:37:26Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}, "afterCommit": {"oid": "2c8326f4749222b29d36baa896fafa02f013cb70", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/2c8326f4749222b29d36baa896fafa02f013cb70", "committedDate": "2020-12-03T02:48:12Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2c8326f4749222b29d36baa896fafa02f013cb70", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/2c8326f4749222b29d36baa896fafa02f013cb70", "committedDate": "2020-12-03T02:48:12Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}, "afterCommit": {"oid": "a457992637fdadeafcf8d3b6a5c453354af0ef81", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a457992637fdadeafcf8d3b6a5c453354af0ef81", "committedDate": "2020-12-03T02:49:48Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzNDk4NjE3", "url": "https://github.com/eclipse-openj9/openj9/pull/11215#pullrequestreview-543498617", "createdAt": "2020-12-03T05:18:07Z", "commit": {"oid": "a457992637fdadeafcf8d3b6a5c453354af0ef81"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MTc0NTMy", "url": "https://github.com/eclipse-openj9/openj9/pull/11215#pullrequestreview-544174532", "createdAt": "2020-12-03T16:55:46Z", "commit": {"oid": "a457992637fdadeafcf8d3b6a5c453354af0ef81"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNjo1NTo0NlrOH-m0BQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNjo1NzoyMlrOH-m6XQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQwOTY2OQ==", "bodyText": "Why do we need both of these? Which one is used for what?", "url": "https://github.com/eclipse-openj9/openj9/pull/11215#discussion_r535409669", "createdAt": "2020-12-03T16:55:46Z", "author": {"login": "fjeremic"}, "path": "runtime/rasdump/javadump.cpp", "diffHunk": "@@ -5263,6 +5263,7 @@ void\n JavaCoreDumpWriter::writeCPUinfo(void)\n {\n \tPORT_ACCESS_FROM_PORT(_PortLibrary);\n+\tOMRPORT_ACCESS_FROM_J9PORT(_PortLibrary);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a457992637fdadeafcf8d3b6a5c453354af0ef81"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQxMTI5Mw==", "bodyText": "Are we able to fold BUFF_SIZE into buff and replace uses of BUFF_SIZE with sizeof(buff)?", "url": "https://github.com/eclipse-openj9/openj9/pull/11215#discussion_r535411293", "createdAt": "2020-12-03T16:57:22Z", "author": {"login": "fjeremic"}, "path": "runtime/rasdump/javadump.cpp", "diffHunk": "@@ -5291,7 +5292,38 @@ JavaCoreDumpWriter::writeCPUinfo(void)\n \t_OutputStream.writeCharacters(\n \t\t\t\"2CITARGETCPU   Target CPUs: \");\n \t_OutputStream.writeInteger(target, \"%i\\n\");\n+\t\n+\tint BUFF_SIZE = 400;\n+\tchar buff[BUFF_SIZE];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a457992637fdadeafcf8d3b6a5c453354af0ef81"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a457992637fdadeafcf8d3b6a5c453354af0ef81", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a457992637fdadeafcf8d3b6a5c453354af0ef81", "committedDate": "2020-12-03T02:49:48Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}, "afterCommit": {"oid": "8b385ff7516760d36e218a456fb3901bf98f3f36", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8b385ff7516760d36e218a456fb3901bf98f3f36", "committedDate": "2020-12-03T17:14:28Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee5c5ee46f72c35ef10c063252337b80a23f5b8c", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/ee5c5ee46f72c35ef10c063252337b80a23f5b8c", "committedDate": "2020-12-03T19:26:59Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8b385ff7516760d36e218a456fb3901bf98f3f36", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8b385ff7516760d36e218a456fb3901bf98f3f36", "committedDate": "2020-12-03T17:14:28Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}, "afterCommit": {"oid": "ee5c5ee46f72c35ef10c063252337b80a23f5b8c", "author": {"user": {"login": "harryyu1994", "name": "Harry Yu"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/ee5c5ee46f72c35ef10c063252337b80a23f5b8c", "committedDate": "2020-12-03T19:26:59Z", "message": "Add cpu feature info to javacore\n\nIssue: #11184\n\nSigned-off-by: Harry Yu <harryyu1994@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MzEyNzAz", "url": "https://github.com/eclipse-openj9/openj9/pull/11215#pullrequestreview-546312703", "createdAt": "2020-12-07T16:23:28Z", "commit": {"oid": "ee5c5ee46f72c35ef10c063252337b80a23f5b8c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1603, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}