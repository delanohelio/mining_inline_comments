{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1MjcwMDE5", "number": 9898, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNDozNTo1MVrOEGYOrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNToyMDowMlrOELu4Ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MTIzODg2OnYy", "diffSide": "RIGHT", "path": "test/functional/cmdLineTests/gcRegressionTests/src/com/ibm/tests/garbagecollector/SpinAllocate.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNDozNTo1MVrOGlIy5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNDo1MzozMlrOGlJnjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTU5NDU5OA==", "bodyText": "I believe you can just replace \"60\" to \"200\" regardless of platform. This extends valid range for parameter only.", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r441594598", "createdAt": "2020-06-17T14:35:51Z", "author": {"login": "dmitripivkine"}, "path": "test/functional/cmdLineTests/gcRegressionTests/src/com/ibm/tests/garbagecollector/SpinAllocate.java", "diffHunk": "@@ -29,18 +29,25 @@\n public class SpinAllocate\n {\n \tpublic static Object _objectHolder;\n+\t\n+\t/* Given that the jdk runs very slow on RISC-V, we have to increase \n+\t * the threshold value to ensure the test is completed.\n+\t */\n+\tprivate static String archName = System.getProperty(\"os.arch\");\n+\tprivate static boolean isRiscv = archName.toLowerCase().contains(\"riscv\");\n+\tprivate static int threshold = (isRiscv) ? 200 : 60;\n \n \t/**\n \t * @param args Takes one argument:  number of seconds to spin for before terminating with a message that the test ran to completion.\n-\t * This argument is required.  It must be in the range [1-60]\n+\t * This argument is required.  It must be in the range [1-200]\n \t */\n \tpublic static void main(String[] args)\n \t{\n \t\tif (1 == args.length)\n \t\t{\n \t\t\tint secondsToSpin = Integer.parseInt(args[0]);\n \n-\t\t\tif ((secondsToSpin >= 1) && (secondsToSpin <= 60))\n+\t\t\tif ((secondsToSpin >= 1) && (secondsToSpin <= threshold))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "184e782aa8f8b7cca16e256ae2540fce24851f39"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTYwODA3OQ==", "bodyText": "It makes more sense to me this way in terms of RISC-V.  Will update as long as it works for other platforms,  in which case the timeout setting on platforms might be adjusted accordingly.", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r441608079", "createdAt": "2020-06-17T14:53:32Z", "author": {"login": "ChengJin01"}, "path": "test/functional/cmdLineTests/gcRegressionTests/src/com/ibm/tests/garbagecollector/SpinAllocate.java", "diffHunk": "@@ -29,18 +29,25 @@\n public class SpinAllocate\n {\n \tpublic static Object _objectHolder;\n+\t\n+\t/* Given that the jdk runs very slow on RISC-V, we have to increase \n+\t * the threshold value to ensure the test is completed.\n+\t */\n+\tprivate static String archName = System.getProperty(\"os.arch\");\n+\tprivate static boolean isRiscv = archName.toLowerCase().contains(\"riscv\");\n+\tprivate static int threshold = (isRiscv) ? 200 : 60;\n \n \t/**\n \t * @param args Takes one argument:  number of seconds to spin for before terminating with a message that the test ran to completion.\n-\t * This argument is required.  It must be in the range [1-60]\n+\t * This argument is required.  It must be in the range [1-200]\n \t */\n \tpublic static void main(String[] args)\n \t{\n \t\tif (1 == args.length)\n \t\t{\n \t\t\tint secondsToSpin = Integer.parseInt(args[0]);\n \n-\t\t\tif ((secondsToSpin >= 1) && (secondsToSpin <= 60))\n+\t\t\tif ((secondsToSpin >= 1) && (secondsToSpin <= threshold))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTU5NDU5OA=="}, "originalCommit": {"oid": "184e782aa8f8b7cca16e256ae2540fce24851f39"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MTMxOTc3OnYy", "diffSide": "RIGHT", "path": "test/functional/Java8andUp/src/org/openj9/test/nogc/TestGCPolicyNogc.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNDo1MzoxOVrOGlJmyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNDo1MzoxOVrOGlJmyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTYwNzg4MA==", "bodyText": "From test correctness point of view we can replace \"5\" to \"200\" regardless of platform. The only issue with this it might increase hang detection time from 10 to 400 seconds. @llxia is it acceptable?", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r441607880", "createdAt": "2020-06-17T14:53:19Z", "author": {"login": "dmitripivkine"}, "path": "test/functional/Java8andUp/src/org/openj9/test/nogc/TestGCPolicyNogc.java", "diffHunk": "@@ -118,7 +125,7 @@ public void testGCPolicyNogc() {\n \t\twhile (allocator.isAlive()) {\n \t\t\ttry {\n \t\t\t\tcount++;\n-\t\t\t\tif (count > 5) {\n+\t\t\t\tif (count > threshold) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "184e782aa8f8b7cca16e256ae2540fce24851f39"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MTQwMTc0OnYy", "diffSide": "RIGHT", "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNTowOTo0NFrOGlKaiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxNDowMjozMlrOGnCAYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTYyMTEzMQ==", "bodyText": "I am not sure we need special version for RISC-V but just replace -Xms8m -Xmx8m to -Xms2m -Xmx2m for general. @amicic Any complains about this?", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r441621131", "createdAt": "2020-06-17T15:09:44Z", "author": {"login": "dmitripivkine"}, "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "diffHunk": "@@ -227,6 +227,13 @@\n  \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n  \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n  </test>\n+ <test id=\"Excessive GC throws OOM on RISC-V\">\n+ \t<echo value=\"CMVC 148977:  Excessive GC throws OOM may fail if there is other activity on the machine - at least 5 GCs are required, in the 20 second test\" />\n+ \t<!-- does the test fail to run (thus implying that we encountered excessive GC)? -->\n+ \t<command>$EXE$ $XINT$ $ARGS_FOR_ALL_TESTS$ -Xdump:none -Xms2m -Xmx2m -Xgc:fvtest=forceExcessiveAllocFailureAfter=5 -verbose:gc -Xverbosegclog:foo.log $CP$ com.ibm.tests.garbagecollector.SpinAllocate 20</command>\n+ \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n+ \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n+ </test>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "184e782aa8f8b7cca16e256ae2540fce24851f39"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTY2NjQyNg==", "bodyText": "Don't know. Perhaps there is a danger to hit genuine  OOM before excessive OOM with 2M, although I don't have a valid theory that it could  occur on other platforms and not on RISC.", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r441666426", "createdAt": "2020-06-17T16:16:35Z", "author": {"login": "amicic"}, "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "diffHunk": "@@ -227,6 +227,13 @@\n  \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n  \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n  </test>\n+ <test id=\"Excessive GC throws OOM on RISC-V\">\n+ \t<echo value=\"CMVC 148977:  Excessive GC throws OOM may fail if there is other activity on the machine - at least 5 GCs are required, in the 20 second test\" />\n+ \t<!-- does the test fail to run (thus implying that we encountered excessive GC)? -->\n+ \t<command>$EXE$ $XINT$ $ARGS_FOR_ALL_TESTS$ -Xdump:none -Xms2m -Xmx2m -Xgc:fvtest=forceExcessiveAllocFailureAfter=5 -verbose:gc -Xverbosegclog:foo.log $CP$ com.ibm.tests.garbagecollector.SpinAllocate 20</command>\n+ \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n+ \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n+ </test>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTYyMTEzMQ=="}, "originalCommit": {"oid": "184e782aa8f8b7cca16e256ae2540fce24851f39"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTczMzA4NA==", "bodyText": "ok, thank you. @ChengJin01 Would you please double check that -Xms2m -Xmx2m works with this test on all platforms?", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r441733084", "createdAt": "2020-06-17T18:07:32Z", "author": {"login": "dmitripivkine"}, "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "diffHunk": "@@ -227,6 +227,13 @@\n  \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n  \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n  </test>\n+ <test id=\"Excessive GC throws OOM on RISC-V\">\n+ \t<echo value=\"CMVC 148977:  Excessive GC throws OOM may fail if there is other activity on the machine - at least 5 GCs are required, in the 20 second test\" />\n+ \t<!-- does the test fail to run (thus implying that we encountered excessive GC)? -->\n+ \t<command>$EXE$ $XINT$ $ARGS_FOR_ALL_TESTS$ -Xdump:none -Xms2m -Xmx2m -Xgc:fvtest=forceExcessiveAllocFailureAfter=5 -verbose:gc -Xverbosegclog:foo.log $CP$ com.ibm.tests.garbagecollector.SpinAllocate 20</command>\n+ \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n+ \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n+ </test>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTYyMTEzMQ=="}, "originalCommit": {"oid": "184e782aa8f8b7cca16e256ae2540fce24851f39"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTczOTM0OA==", "bodyText": "Will launch personal builds to verify after updating all settings.", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r441739348", "createdAt": "2020-06-17T18:18:41Z", "author": {"login": "ChengJin01"}, "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "diffHunk": "@@ -227,6 +227,13 @@\n  \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n  \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n  </test>\n+ <test id=\"Excessive GC throws OOM on RISC-V\">\n+ \t<echo value=\"CMVC 148977:  Excessive GC throws OOM may fail if there is other activity on the machine - at least 5 GCs are required, in the 20 second test\" />\n+ \t<!-- does the test fail to run (thus implying that we encountered excessive GC)? -->\n+ \t<command>$EXE$ $XINT$ $ARGS_FOR_ALL_TESTS$ -Xdump:none -Xms2m -Xmx2m -Xgc:fvtest=forceExcessiveAllocFailureAfter=5 -verbose:gc -Xverbosegclog:foo.log $CP$ com.ibm.tests.garbagecollector.SpinAllocate 20</command>\n+ \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n+ \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n+ </test>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTYyMTEzMQ=="}, "originalCommit": {"oid": "184e782aa8f8b7cca16e256ae2540fce24851f39"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzU4MDUxNA==", "bodyText": "ok, thank you. If we can not apply new settings for all platforms so you can limit it to RISC-V only as proposed", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r443580514", "createdAt": "2020-06-22T14:02:32Z", "author": {"login": "dmitripivkine"}, "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "diffHunk": "@@ -227,6 +227,13 @@\n  \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n  \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n  </test>\n+ <test id=\"Excessive GC throws OOM on RISC-V\">\n+ \t<echo value=\"CMVC 148977:  Excessive GC throws OOM may fail if there is other activity on the machine - at least 5 GCs are required, in the 20 second test\" />\n+ \t<!-- does the test fail to run (thus implying that we encountered excessive GC)? -->\n+ \t<command>$EXE$ $XINT$ $ARGS_FOR_ALL_TESTS$ -Xdump:none -Xms2m -Xmx2m -Xgc:fvtest=forceExcessiveAllocFailureAfter=5 -verbose:gc -Xverbosegclog:foo.log $CP$ com.ibm.tests.garbagecollector.SpinAllocate 20</command>\n+ \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n+ \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n+ </test>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTYyMTEzMQ=="}, "originalCommit": {"oid": "184e782aa8f8b7cca16e256ae2540fce24851f39"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNzMyNjU4OnYy", "diffSide": "RIGHT", "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNTowODowOVrOGtbaTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNToxNDo0NVrOGtbrgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDI4ODIwNg==", "bodyText": "Do you need this change? I thought we agreed to keep -Xms8m -Xmx8m for all non-RISC-V cases", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r450288206", "createdAt": "2020-07-06T15:08:09Z", "author": {"login": "dmitripivkine"}, "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "diffHunk": "@@ -223,7 +223,14 @@\n  <test id=\"Excessive GC throws OOM\">\n  \t<echo value=\"CMVC 148977:  Excessive GC throws OOM may fail if there is other activity on the machine - at least 5 GCs are required, in the 20 second test\" />\n  \t<!-- does the test fail to run (thus implying that we encountered excessive GC)? -->\n- \t<command>$EXE$ $XINT$ $ARGS_FOR_ALL_TESTS$ -Xdump:none -Xms8m -Xmx8m -Xgc:fvtest=forceExcessiveAllocFailureAfter=5 -verbose:gc -Xverbosegclog:foo.log $CP$ com.ibm.tests.garbagecollector.SpinAllocate 20</command>\n+ \t<command>$EXE$ $XINT$ $ARGS_FOR_ALL_TESTS$ -Xdump:none -Xms2m -Xmx2m -Xgc:fvtest=forceExcessiveAllocFailureAfter=5 -verbose:gc -Xverbosegclog:foo.log $CP$ com.ibm.tests.garbagecollector.SpinAllocate 20</command>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a3cf770e7d03e53742c90c18e600597eba11891"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDI5MjYxMA==", "bodyText": "Just restored it back to -Xms8m -Xmx8m as confirmed previously for all non-RISC-V cases.", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r450292610", "createdAt": "2020-07-06T15:14:45Z", "author": {"login": "ChengJin01"}, "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "diffHunk": "@@ -223,7 +223,14 @@\n  <test id=\"Excessive GC throws OOM\">\n  \t<echo value=\"CMVC 148977:  Excessive GC throws OOM may fail if there is other activity on the machine - at least 5 GCs are required, in the 20 second test\" />\n  \t<!-- does the test fail to run (thus implying that we encountered excessive GC)? -->\n- \t<command>$EXE$ $XINT$ $ARGS_FOR_ALL_TESTS$ -Xdump:none -Xms8m -Xmx8m -Xgc:fvtest=forceExcessiveAllocFailureAfter=5 -verbose:gc -Xverbosegclog:foo.log $CP$ com.ibm.tests.garbagecollector.SpinAllocate 20</command>\n+ \t<command>$EXE$ $XINT$ $ARGS_FOR_ALL_TESTS$ -Xdump:none -Xms2m -Xmx2m -Xgc:fvtest=forceExcessiveAllocFailureAfter=5 -verbose:gc -Xverbosegclog:foo.log $CP$ com.ibm.tests.garbagecollector.SpinAllocate 20</command>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDI4ODIwNg=="}, "originalCommit": {"oid": "4a3cf770e7d03e53742c90c18e600597eba11891"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNzM3Nzk0OnYy", "diffSide": "RIGHT", "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNToyMDowMlrOGtb5iQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNjo1MTozN1rOGtfc0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDI5NjIwMQ==", "bodyText": "You did increase parameter range from [1-60] to [1-200] for SpinAllocate. Is there an intention to increase it here?", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r450296201", "createdAt": "2020-07-06T15:20:02Z", "author": {"login": "dmitripivkine"}, "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "diffHunk": "@@ -227,6 +227,13 @@\n  \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n  \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n  </test>\n+ <test id=\"Excessive GC throws OOM on RISC-V\">\n+ \t<echo value=\"CMVC 148977:  Excessive GC throws OOM may fail if there is other activity on the machine - at least 5 GCs are required, in the 20 second test\" />\n+ \t<!-- does the test fail to run (thus implying that we encountered excessive GC)? -->\n+ \t<command>$EXE$ $XINT$ $ARGS_FOR_ALL_TESTS$ -Xdump:none -Xms2m -Xmx2m -Xgc:fvtest=forceExcessiveAllocFailureAfter=5 -verbose:gc -Xverbosegclog:foo.log $CP$ com.ibm.tests.garbagecollector.SpinAllocate 20</command>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "151838253c128f56c6a3aa8811467464594aca74"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDMwMzI2NQ==", "bodyText": "Yes, we have to increase the value there to ensure it passes the test case correctly as this is pretty much the same timeout issue with TestGCPolicyNogc.", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r450303265", "createdAt": "2020-07-06T15:30:23Z", "author": {"login": "ChengJin01"}, "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "diffHunk": "@@ -227,6 +227,13 @@\n  \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n  \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n  </test>\n+ <test id=\"Excessive GC throws OOM on RISC-V\">\n+ \t<echo value=\"CMVC 148977:  Excessive GC throws OOM may fail if there is other activity on the machine - at least 5 GCs are required, in the 20 second test\" />\n+ \t<!-- does the test fail to run (thus implying that we encountered excessive GC)? -->\n+ \t<command>$EXE$ $XINT$ $ARGS_FOR_ALL_TESTS$ -Xdump:none -Xms2m -Xmx2m -Xgc:fvtest=forceExcessiveAllocFailureAfter=5 -verbose:gc -Xverbosegclog:foo.log $CP$ com.ibm.tests.garbagecollector.SpinAllocate 20</command>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDI5NjIwMQ=="}, "originalCommit": {"oid": "151838253c128f56c6a3aa8811467464594aca74"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDMyOTI1OQ==", "bodyText": "Are you going to change timeout parameter in this commit?", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r450329259", "createdAt": "2020-07-06T16:10:59Z", "author": {"login": "dmitripivkine"}, "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "diffHunk": "@@ -227,6 +227,13 @@\n  \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n  \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n  </test>\n+ <test id=\"Excessive GC throws OOM on RISC-V\">\n+ \t<echo value=\"CMVC 148977:  Excessive GC throws OOM may fail if there is other activity on the machine - at least 5 GCs are required, in the 20 second test\" />\n+ \t<!-- does the test fail to run (thus implying that we encountered excessive GC)? -->\n+ \t<command>$EXE$ $XINT$ $ARGS_FOR_ALL_TESTS$ -Xdump:none -Xms2m -Xmx2m -Xgc:fvtest=forceExcessiveAllocFailureAfter=5 -verbose:gc -Xverbosegclog:foo.log $CP$ com.ibm.tests.garbagecollector.SpinAllocate 20</command>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDI5NjIwMQ=="}, "originalCommit": {"oid": "151838253c128f56c6a3aa8811467464594aca74"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM0MDgwMA==", "bodyText": "There is no need to do so based on the test results as we already increase the threshold", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r450340800", "createdAt": "2020-07-06T16:29:10Z", "author": {"login": "ChengJin01"}, "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "diffHunk": "@@ -227,6 +227,13 @@\n  \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n  \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n  </test>\n+ <test id=\"Excessive GC throws OOM on RISC-V\">\n+ \t<echo value=\"CMVC 148977:  Excessive GC throws OOM may fail if there is other activity on the machine - at least 5 GCs are required, in the 20 second test\" />\n+ \t<!-- does the test fail to run (thus implying that we encountered excessive GC)? -->\n+ \t<command>$EXE$ $XINT$ $ARGS_FOR_ALL_TESTS$ -Xdump:none -Xms2m -Xmx2m -Xgc:fvtest=forceExcessiveAllocFailureAfter=5 -verbose:gc -Xverbosegclog:foo.log $CP$ com.ibm.tests.garbagecollector.SpinAllocate 20</command>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDI5NjIwMQ=="}, "originalCommit": {"oid": "151838253c128f56c6a3aa8811467464594aca74"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM1NDM4NQ==", "bodyText": "Removed the change on threshold as unnecessary given the initial memory setting is modified to fit the case on RISC-V.", "url": "https://github.com/eclipse-openj9/openj9/pull/9898#discussion_r450354385", "createdAt": "2020-07-06T16:51:37Z", "author": {"login": "ChengJin01"}, "path": "test/functional/cmdLineTests/gcRegressionTests/gcRegressionTests.xml", "diffHunk": "@@ -227,6 +227,13 @@\n  \t<output regex=\"no\" type=\"failure\">Test ran to completion</output>\n  \t<output regex=\"no\" type=\"success\">java.lang.OutOfMemoryError</output>\n  </test>\n+ <test id=\"Excessive GC throws OOM on RISC-V\">\n+ \t<echo value=\"CMVC 148977:  Excessive GC throws OOM may fail if there is other activity on the machine - at least 5 GCs are required, in the 20 second test\" />\n+ \t<!-- does the test fail to run (thus implying that we encountered excessive GC)? -->\n+ \t<command>$EXE$ $XINT$ $ARGS_FOR_ALL_TESTS$ -Xdump:none -Xms2m -Xmx2m -Xgc:fvtest=forceExcessiveAllocFailureAfter=5 -verbose:gc -Xverbosegclog:foo.log $CP$ com.ibm.tests.garbagecollector.SpinAllocate 20</command>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDI5NjIwMQ=="}, "originalCommit": {"oid": "151838253c128f56c6a3aa8811467464594aca74"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 18, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}