{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzNzg2ODAw", "number": 9463, "title": "Add decompilation test", "bodyText": "Add a test for decompiling at exception catch when crossing an inlined\nsynchronized method.\nTest both the success and failure (IllegalMonitorStateException) cases\nwhen exitting the monitor for the inlined method.\nFixes: #9427\nSigned-off-by: Graham Chapman graham_chapman@ca.ibm.com", "createdAt": "2020-05-05T22:35:19Z", "url": "https://github.com/eclipse-openj9/openj9/pull/9463", "merged": true, "mergeCommit": {"oid": "939784f16f8326ad32493c8e88dea93a67a493fb"}, "closed": true, "closedAt": "2020-05-13T01:59:09Z", "author": {"login": "gacholio"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceqMnQABqjMzMDg5NzQ5NjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgvmcJgFqTQxMDU0OTIwNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f8a73ab85c6f6b9e33cf30b8fdaf77808a92ec55", "author": {"user": {"login": "gacholio", "name": "Graham Chapman"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/f8a73ab85c6f6b9e33cf30b8fdaf77808a92ec55", "committedDate": "2020-05-05T22:34:09Z", "message": "Add decompilation test\n\nAdd a test for decompiling at exception catch when crossing an inlined\nsynchronized method.\n\nTest both the success and failure (IllegalMonitorStateException) cases\nwhen exitting the monitor for the inlined method.\n\nFixes: #9427\n\nSigned-off-by: Graham Chapman <graham_chapman@ca.ibm.com>"}, "afterCommit": {"oid": "8b9428c567d3de137de136dd9afc0eaa3065ab0d", "author": {"user": {"login": "gacholio", "name": "Graham Chapman"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8b9428c567d3de137de136dd9afc0eaa3065ab0d", "committedDate": "2020-05-06T15:12:45Z", "message": "Add decompilation test\n\nAdd a test for decompiling at exception catch when crossing an inlined\nsynchronized method.\n\nTest both the success and failure (IllegalMonitorStateException) cases\nwhen exitting the monitor for the inlined method.\n\nFixes: #9427\n\nSigned-off-by: Graham Chapman <graham_chapman@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bd93d837fb4a17cb567bf00d77cce1c4de9e24d6", "author": {"user": {"login": "gacholio", "name": "Graham Chapman"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/bd93d837fb4a17cb567bf00d77cce1c4de9e24d6", "committedDate": "2020-05-06T19:30:27Z", "message": "Signed-off-by: Graham Chapman <graham_chapman@ca.ibm.com>"}, "afterCommit": {"oid": "fe30836db89a50865837e9ac1e043bd2bb9a9b63", "author": {"user": {"login": "gacholio", "name": "Graham Chapman"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/fe30836db89a50865837e9ac1e043bd2bb9a9b63", "committedDate": "2020-05-06T20:55:48Z", "message": "Add decompilation test\n\nAdd a test for decompiling at exception catch when crossing an inlined\nsynchronized method.\n\nTest both the success and failure (IllegalMonitorStateException) cases\nwhen exitting the monitor for the inlined method.\n\nFixes: #9427\n\nSigned-off-by: Graham Chapman <graham_chapman@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NzE1NTk5", "url": "https://github.com/eclipse-openj9/openj9/pull/9463#pullrequestreview-407715599", "createdAt": "2020-05-07T18:09:11Z", "commit": {"oid": "fe30836db89a50865837e9ac1e043bd2bb9a9b63"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NzE1NzQ5", "url": "https://github.com/eclipse-openj9/openj9/pull/9463#pullrequestreview-407715749", "createdAt": "2020-05-07T18:09:25Z", "commit": {"oid": "fe30836db89a50865837e9ac1e043bd2bb9a9b63"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81d22a35fce735d49099eb66aa1ff8ca7d117bc4", "author": {"user": {"login": "gacholio", "name": "Graham Chapman"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/81d22a35fce735d49099eb66aa1ff8ca7d117bc4", "committedDate": "2020-05-11T19:35:11Z", "message": "Add decompilation test\n\nAdd a test for decompiling at exception catch when crossing an inlined\nsynchronized method.\n\nTest both the success and failure (IllegalMonitorStateException) cases\nwhen exitting the monitor for the inlined method.\n\nFixes: #9427\n\nSigned-off-by: Graham Chapman <graham_chapman@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fe30836db89a50865837e9ac1e043bd2bb9a9b63", "author": {"user": {"login": "gacholio", "name": "Graham Chapman"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/fe30836db89a50865837e9ac1e043bd2bb9a9b63", "committedDate": "2020-05-06T20:55:48Z", "message": "Add decompilation test\n\nAdd a test for decompiling at exception catch when crossing an inlined\nsynchronized method.\n\nTest both the success and failure (IllegalMonitorStateException) cases\nwhen exitting the monitor for the inlined method.\n\nFixes: #9427\n\nSigned-off-by: Graham Chapman <graham_chapman@ca.ibm.com>"}, "afterCommit": {"oid": "81d22a35fce735d49099eb66aa1ff8ca7d117bc4", "author": {"user": {"login": "gacholio", "name": "Graham Chapman"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/81d22a35fce735d49099eb66aa1ff8ca7d117bc4", "committedDate": "2020-05-11T19:35:11Z", "message": "Add decompilation test\n\nAdd a test for decompiling at exception catch when crossing an inlined\nsynchronized method.\n\nTest both the success and failure (IllegalMonitorStateException) cases\nwhen exitting the monitor for the inlined method.\n\nFixes: #9427\n\nSigned-off-by: Graham Chapman <graham_chapman@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNTQ5MjA2", "url": "https://github.com/eclipse-openj9/openj9/pull/9463#pullrequestreview-410549206", "createdAt": "2020-05-13T02:39:10Z", "commit": {"oid": "81d22a35fce735d49099eb66aa1ff8ca7d117bc4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwMjozOToxMVrOGUfgHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwMjozOToxMVrOGUfgHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDE0MDgzMA==", "bodyText": "@gacholio this is failing to compile on Windows.\nwarning C4700: uninitialized local variable 'err' used", "url": "https://github.com/eclipse-openj9/openj9/pull/9463#discussion_r424140830", "createdAt": "2020-05-13T02:39:11Z", "author": {"login": "pshipton"}, "path": "runtime/tests/jvmtitests/src/com/ibm/jvmti/tests/decompResolveFrame/decomp005.c", "diffHunk": "@@ -0,0 +1,102 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020, 2020 IBM Corp. and others\n+ *\n+ * This program and the accompanying materials are made available under\n+ * the terms of the Eclipse Public License 2.0 which accompanies this\n+ * distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+ * or the Apache License, Version 2.0 which accompanies this distribution and\n+ * is available at https://www.apache.org/licenses/LICENSE-2.0.\n+ *\n+ * This Source Code may also be made available under the following\n+ * Secondary Licenses when the conditions for such availability set\n+ * forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+ * General Public License, version 2 with the GNU Classpath\n+ * Exception [1] and GNU General Public License, version 2 with the\n+ * OpenJDK Assembly Exception [2].\n+ *\n+ * [1] https://www.gnu.org/software/classpath/license.html\n+ * [2] http://openjdk.java.net/legal/assembly-exception.html\n+ *\n+ * SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n+ *******************************************************************************/\n+\n+#include \"jvmti_test.h\"\n+#include <string.h>\n+\n+static agentEnv * env;\n+static int imse = 0;\n+ \n+static void JNICALL\n+cbSingleStep(jvmtiEnv *jvmti_env, JNIEnv* jni_env, jthread thread, jmethodID method, jlocation location)\n+{\n+\n+}\n+\n+\n+jint JNICALL\n+decomp005(agentEnv * _env, char * args)\n+{\n+\tJVMTI_ACCESS_FROM_AGENT(_env);\n+\tjvmtiError err;                \t\n+\tjvmtiEventCallbacks callbacks;\n+\tjvmtiCapabilities capabilities;                \n+\n+\tenv = _env;\n+\n+\tif (!ensureVersion(env, JVMTI_VERSION_1_1)) {\n+\t\treturn JNI_ERR;\n+\t}   \n+    \n+\tif (NULL != args) {\n+\t\tif (0 == strcasecmp(args, \"imse\")) {\n+\t\t\timse = 1;\n+\t\t} else {\n+\t\t\terror(env, err, \"Unknown option\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81d22a35fce735d49099eb66aa1ff8ca7d117bc4"}, "originalPosition": 54}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1162, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}