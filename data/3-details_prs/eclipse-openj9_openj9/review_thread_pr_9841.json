{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyMzExOTQy", "number": 9841, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo1ODo1MFrOEEuKfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNDowNTo0NFrOESpJgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzg2MTExOnYy", "diffSide": "RIGHT", "path": "runtime/compiler/aarch64/codegen/J9TreeEvaluator.cpp", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo1ODo1MFrOGihQ_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xOFQxNjo0NzozMlrOI5ZuvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg0OTc4OA==", "bodyText": "If you copied this implementation from x86, can you copy the comments that were in that code as well?  It helps to explain what this code is trying to achieve.", "url": "https://github.com/eclipse-openj9/openj9/pull/9841#discussion_r438849788", "createdAt": "2020-06-11T14:58:50Z", "author": {"login": "0xdaryl"}, "path": "runtime/compiler/aarch64/codegen/J9TreeEvaluator.cpp", "diffHunk": "@@ -1693,6 +1693,19 @@ J9::ARM64::CodeGenerator::inlineDirectCall(TR::Node *node, TR::Register *&result\n       {\n       switch (methodSymbol->getRecognizedMethod())\n          {\n+         case TR::java_nio_Bits_keepAlive:\n+         case TR::java_lang_ref_Reference_reachabilityFence:\n+            {\n+            TR::Node *paramNode = node->getFirstChild();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1b45af1bccef9a623fe6731995de034cc3c92fe"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NzA2MTMwOA==", "bodyText": "I find the placement of these comments to be a bit odd.  Can you move them down below the opening brace like x86 has them?  Also, remove the specific reference to keepAlive as this applies to a couple of different recognized methods.  Maybe say \"these functions\" instead?", "url": "https://github.com/eclipse-openj9/openj9/pull/9841#discussion_r597061308", "createdAt": "2021-03-18T16:47:32Z", "author": {"login": "0xdaryl"}, "path": "runtime/compiler/aarch64/codegen/J9TreeEvaluator.cpp", "diffHunk": "@@ -1693,6 +1693,19 @@ J9::ARM64::CodeGenerator::inlineDirectCall(TR::Node *node, TR::Register *&result\n       {\n       switch (methodSymbol->getRecognizedMethod())\n          {\n+         case TR::java_nio_Bits_keepAlive:\n+         case TR::java_lang_ref_Reference_reachabilityFence:\n+            {\n+            TR::Node *paramNode = node->getFirstChild();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg0OTc4OA=="}, "originalCommit": {"oid": "a1b45af1bccef9a623fe6731995de034cc3c92fe"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3OTg0MDAwOnYy", "diffSide": "RIGHT", "path": "runtime/compiler/aarch64/codegen/J9TreeEvaluator.cpp", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNDowNTo0NFrOG37z0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNDowNTo0NFrOG37z0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTMwNDc4NQ==", "bodyText": "There is a trailing space at the end of this line.", "url": "https://github.com/eclipse-openj9/openj9/pull/9841#discussion_r461304785", "createdAt": "2020-07-28T04:05:44Z", "author": {"login": "knn-k"}, "path": "runtime/compiler/aarch64/codegen/J9TreeEvaluator.cpp", "diffHunk": "@@ -1928,6 +1928,28 @@ J9::ARM64::CodeGenerator::inlineDirectCall(TR::Node *node, TR::Register *&result\n       {\n       switch (methodSymbol->getRecognizedMethod())\n          {\n+         case TR::java_nio_Bits_keepAlive:\n+         // The only purpose of keepAlive is to prevent an otherwise\n+         // unreachable object from being garbage collected, because we don't\n+         // want its finalizer to be called too early.  There's no need to\n+         // generate a full-blown call site just for this purpose.\n+         case TR::java_lang_ref_Reference_reachabilityFence: ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41f2f9c748429b6962849dc53f02c53f05197061"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4992, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}