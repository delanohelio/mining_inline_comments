{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIyMTUyMDE2", "number": 11203, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMzozNjo0M1rOE6BMSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNTo1NToyNFrOE6Fq6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MjcyMzk0OnYy", "diffSide": "RIGHT", "path": "runtime/bcutil/ClassFileOracle.cpp", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMzozNjo0NFrOH01DjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNTowNzoyNFrOH05X9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1NzI2MA==", "bodyText": "59 is Java 15, correct?  Shouldn't this be >59 (Java 16) then?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tif (_classFile->majorVersion >= 59) {\n          \n          \n            \n            \t\t\tif (_classFile->majorVersion > 59) {", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525157260", "createdAt": "2020-11-17T13:36:44Z", "author": {"login": "DanHeidinga"}, "path": "runtime/bcutil/ClassFileOracle.cpp", "diffHunk": "@@ -502,9 +502,8 @@ ClassFileOracle::walkAttributes()\n \t\t\tbreak;\n \t\t}\n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses: {\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. Don't record the attribute for other class versions\n-\t\t\t * since it may be corrupt. */\n-\t\t\tif ((59 == _classFile->majorVersion) && (0 < _classFile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version >= 15 */\n+\t\t\tif (_classFile->majorVersion >= 59) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "731f73fac39a032ef302ff526481e59efb4354de"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTIyODAyMQ==", "bodyText": "Agreed and updated as suggested above (I previously thought it should include 59 given it was implemented in Java 15).", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525228021", "createdAt": "2020-11-17T15:07:24Z", "author": {"login": "ChengJin01"}, "path": "runtime/bcutil/ClassFileOracle.cpp", "diffHunk": "@@ -502,9 +502,8 @@ ClassFileOracle::walkAttributes()\n \t\t\tbreak;\n \t\t}\n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses: {\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. Don't record the attribute for other class versions\n-\t\t\t * since it may be corrupt. */\n-\t\t\tif ((59 == _classFile->majorVersion) && (0 < _classFile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version >= 15 */\n+\t\t\tif (_classFile->majorVersion >= 59) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1NzI2MA=="}, "originalCommit": {"oid": "731f73fac39a032ef302ff526481e59efb4354de"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MjcyNTI0OnYy", "diffSide": "RIGHT", "path": "runtime/bcutil/cfreader.c", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMzozNzowMlrOH01EWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNTowNzo0MVrOH05Ytw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1NzQ2Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t/* PermittedSubclasses verification is for Java version >= 15 */\n          \n          \n            \n            \t\t\tif (classfile->majorVersion >= 59) {\n          \n          \n            \n            \t\t\t/* PermittedSubclasses verification is for Java version > 15 */\n          \n          \n            \n            \t\t\tif (classfile->majorVersion > 59) {", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525157466", "createdAt": "2020-11-17T13:37:02Z", "author": {"login": "DanHeidinga"}, "path": "runtime/bcutil/cfreader.c", "diffHunk": "@@ -2376,8 +2376,8 @@ checkAttributes(J9PortLibrary* portLib, J9CfrClassFile* classfile, J9CfrAttribut\n \t\t\tbreak;\n \n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses:\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. */\n-\t\t\tif ((59 == classfile->majorVersion) && (0 < classfile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version >= 15 */\n+\t\t\tif (classfile->majorVersion >= 59) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "731f73fac39a032ef302ff526481e59efb4354de"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTIyODIxNQ==", "bodyText": "Agreed and updated as suggested above.", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525228215", "createdAt": "2020-11-17T15:07:41Z", "author": {"login": "ChengJin01"}, "path": "runtime/bcutil/cfreader.c", "diffHunk": "@@ -2376,8 +2376,8 @@ checkAttributes(J9PortLibrary* portLib, J9CfrClassFile* classfile, J9CfrAttribut\n \t\t\tbreak;\n \n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses:\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. */\n-\t\t\tif ((59 == classfile->majorVersion) && (0 < classfile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version >= 15 */\n+\t\t\tif (classfile->majorVersion >= 59) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1NzQ2Ng=="}, "originalCommit": {"oid": "731f73fac39a032ef302ff526481e59efb4354de"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MzIxNTYzOnYy", "diffSide": "RIGHT", "path": "runtime/bcutil/ClassFileOracle.cpp", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNToxNTo1MlrOH05zfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNToyOTo0NFrOH06vZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTIzNTA2OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tif (_classFile->majorVersion > 59) {\n          \n          \n            \n            \t\t\tif ((_classFile->majorVersion > 59) \n          \n          \n            \n            \t\t\t|| ((59 == _classFile->majorVersion) && (0 < _classFile->minorVersion))\n          \n          \n            \n            \t\t\t) {\n          \n      \n    \n    \n  \n\nSorry, I spoke too quick.  We need to keep both the check for the preview version for the next release as that release includes jdk15.  Something like the above will cover us.\nNeeds to be applied both here and below", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525235069", "createdAt": "2020-11-17T15:15:52Z", "author": {"login": "DanHeidinga"}, "path": "runtime/bcutil/ClassFileOracle.cpp", "diffHunk": "@@ -502,9 +502,8 @@ ClassFileOracle::walkAttributes()\n \t\t\tbreak;\n \t\t}\n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses: {\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. Don't record the attribute for other class versions\n-\t\t\t * since it may be corrupt. */\n-\t\t\tif ((59 == _classFile->majorVersion) && (0 < _classFile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version > 15 */\n+\t\t\tif (_classFile->majorVersion > 59) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fede363358640bd92eec2cee8a727e493ba443ae"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI1MDQwNg==", "bodyText": "Updated here and the same check in cfreader.c", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525250406", "createdAt": "2020-11-17T15:29:44Z", "author": {"login": "ChengJin01"}, "path": "runtime/bcutil/ClassFileOracle.cpp", "diffHunk": "@@ -502,9 +502,8 @@ ClassFileOracle::walkAttributes()\n \t\t\tbreak;\n \t\t}\n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses: {\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. Don't record the attribute for other class versions\n-\t\t\t * since it may be corrupt. */\n-\t\t\tif ((59 == _classFile->majorVersion) && (0 < _classFile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version > 15 */\n+\t\t\tif (_classFile->majorVersion > 59) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTIzNTA2OQ=="}, "originalCommit": {"oid": "fede363358640bd92eec2cee8a727e493ba443ae"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MzQ1NjI1OnYy", "diffSide": "RIGHT", "path": "runtime/bcutil/ClassFileOracle.cpp", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNTo1NTowNlrOH08Lfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNzoyMDo1N1rOH1AbxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI3Mzk4Mw==", "bodyText": "Please dont use 0 < - it just makes things harder to read.", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525273983", "createdAt": "2020-11-17T15:55:06Z", "author": {"login": "gacholio"}, "path": "runtime/bcutil/ClassFileOracle.cpp", "diffHunk": "@@ -502,9 +502,10 @@ ClassFileOracle::walkAttributes()\n \t\t\tbreak;\n \t\t}\n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses: {\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. Don't record the attribute for other class versions\n-\t\t\t * since it may be corrupt. */\n-\t\t\tif ((59 == _classFile->majorVersion) && (0 < _classFile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version >= 15 */\n+\t\t\tif ((classfile->majorVersion > 59)\n+\t\t\t|| ((59 == classfile->majorVersion) && (0 < classfile->minorVersion))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80c2f5beaf237a0f47349fbc1fbe33886c9393dc"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI4ODU5Ng==", "bodyText": "Isn't this check a very long winded way of saying >= 59 ? Minor version is unsigned, so it's always going to be >= 0.", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525288596", "createdAt": "2020-11-17T16:13:33Z", "author": {"login": "gacholio"}, "path": "runtime/bcutil/ClassFileOracle.cpp", "diffHunk": "@@ -502,9 +502,10 @@ ClassFileOracle::walkAttributes()\n \t\t\tbreak;\n \t\t}\n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses: {\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. Don't record the attribute for other class versions\n-\t\t\t * since it may be corrupt. */\n-\t\t\tif ((59 == _classFile->majorVersion) && (0 < _classFile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version >= 15 */\n+\t\t\tif ((classfile->majorVersion > 59)\n+\t\t\t|| ((59 == classfile->majorVersion) && (0 < classfile->minorVersion))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI3Mzk4Mw=="}, "originalCommit": {"oid": "80c2f5beaf237a0f47349fbc1fbe33886c9393dc"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI5MzAwNg==", "bodyText": "For a preview feature, the minor version has to have all bits set:\n\nA class file denotes that it depends on the preview features of Java SE $N by having a major_version item that corresponds to Java SE $N and a minor_version item that has all 16 bits set. For example, a class file that depends on the preview features of Java SE 14 would have version 58.65535.\n\nNot sure why we used 0 < to start with.", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525293006", "createdAt": "2020-11-17T16:19:13Z", "author": {"login": "DanHeidinga"}, "path": "runtime/bcutil/ClassFileOracle.cpp", "diffHunk": "@@ -502,9 +502,10 @@ ClassFileOracle::walkAttributes()\n \t\t\tbreak;\n \t\t}\n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses: {\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. Don't record the attribute for other class versions\n-\t\t\t * since it may be corrupt. */\n-\t\t\tif ((59 == _classFile->majorVersion) && (0 < _classFile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version >= 15 */\n+\t\t\tif ((classfile->majorVersion > 59)\n+\t\t\t|| ((59 == classfile->majorVersion) && (0 < classfile->minorVersion))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI3Mzk4Mw=="}, "originalCommit": {"oid": "80c2f5beaf237a0f47349fbc1fbe33886c9393dc"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI5NjQ5Mg==", "bodyText": "My comment about the code stands - it's not doing anything more than >= 59 would accomplish.", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525296492", "createdAt": "2020-11-17T16:23:40Z", "author": {"login": "gacholio"}, "path": "runtime/bcutil/ClassFileOracle.cpp", "diffHunk": "@@ -502,9 +502,10 @@ ClassFileOracle::walkAttributes()\n \t\t\tbreak;\n \t\t}\n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses: {\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. Don't record the attribute for other class versions\n-\t\t\t * since it may be corrupt. */\n-\t\t\tif ((59 == _classFile->majorVersion) && (0 < _classFile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version >= 15 */\n+\t\t\tif ((classfile->majorVersion > 59)\n+\t\t\t|| ((59 == classfile->majorVersion) && (0 < classfile->minorVersion))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI3Mzk4Mw=="}, "originalCommit": {"oid": "80c2f5beaf237a0f47349fbc1fbe33886c9393dc"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI5OTI2OQ==", "bodyText": "Should the check be major == 59 and minor == 65535?", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525299269", "createdAt": "2020-11-17T16:27:04Z", "author": {"login": "gacholio"}, "path": "runtime/bcutil/ClassFileOracle.cpp", "diffHunk": "@@ -502,9 +502,10 @@ ClassFileOracle::walkAttributes()\n \t\t\tbreak;\n \t\t}\n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses: {\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. Don't record the attribute for other class versions\n-\t\t\t * since it may be corrupt. */\n-\t\t\tif ((59 == _classFile->majorVersion) && (0 < _classFile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version >= 15 */\n+\t\t\tif ((classfile->majorVersion > 59)\n+\t\t\t|| ((59 == classfile->majorVersion) && (0 < classfile->minorVersion))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI3Mzk4Mw=="}, "originalCommit": {"oid": "80c2f5beaf237a0f47349fbc1fbe33886c9393dc"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTMwMjM5OA==", "bodyText": "That's a better check.  The attribute isn't valid in JDK15 by default - only in these specially marked classes", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525302398", "createdAt": "2020-11-17T16:30:52Z", "author": {"login": "DanHeidinga"}, "path": "runtime/bcutil/ClassFileOracle.cpp", "diffHunk": "@@ -502,9 +502,10 @@ ClassFileOracle::walkAttributes()\n \t\t\tbreak;\n \t\t}\n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses: {\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. Don't record the attribute for other class versions\n-\t\t\t * since it may be corrupt. */\n-\t\t\tif ((59 == _classFile->majorVersion) && (0 < _classFile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version >= 15 */\n+\t\t\tif ((classfile->majorVersion > 59)\n+\t\t\t|| ((59 == classfile->majorVersion) && (0 < classfile->minorVersion))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI3Mzk4Mw=="}, "originalCommit": {"oid": "80c2f5beaf237a0f47349fbc1fbe33886c9393dc"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTM0MzY4NQ==", "bodyText": "Updated as suggested by GAC.", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525343685", "createdAt": "2020-11-17T17:20:57Z", "author": {"login": "ChengJin01"}, "path": "runtime/bcutil/ClassFileOracle.cpp", "diffHunk": "@@ -502,9 +502,10 @@ ClassFileOracle::walkAttributes()\n \t\t\tbreak;\n \t\t}\n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses: {\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. Don't record the attribute for other class versions\n-\t\t\t * since it may be corrupt. */\n-\t\t\tif ((59 == _classFile->majorVersion) && (0 < _classFile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version >= 15 */\n+\t\t\tif ((classfile->majorVersion > 59)\n+\t\t\t|| ((59 == classfile->majorVersion) && (0 < classfile->minorVersion))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI3Mzk4Mw=="}, "originalCommit": {"oid": "80c2f5beaf237a0f47349fbc1fbe33886c9393dc"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MzQ1NzcxOnYy", "diffSide": "RIGHT", "path": "runtime/bcutil/cfreader.c", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNTo1NToyNFrOH08MZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNzoyMToxOVrOH1Ac2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI3NDIxNA==", "bodyText": "Same comment as above.", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525274214", "createdAt": "2020-11-17T15:55:24Z", "author": {"login": "gacholio"}, "path": "runtime/bcutil/cfreader.c", "diffHunk": "@@ -2376,8 +2376,10 @@ checkAttributes(J9PortLibrary* portLib, J9CfrClassFile* classfile, J9CfrAttribut\n \t\t\tbreak;\n \n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses:\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. */\n-\t\t\tif ((59 == classfile->majorVersion) && (0 < classfile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version >= 15 */\n+\t\t\tif ((classfile->majorVersion > 59) \n+\t\t\t|| ((59 == classfile->majorVersion) && (0 < classfile->minorVersion))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80c2f5beaf237a0f47349fbc1fbe33886c9393dc"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTM0Mzk2Mg==", "bodyText": "Updated as suggested above.", "url": "https://github.com/eclipse-openj9/openj9/pull/11203#discussion_r525343962", "createdAt": "2020-11-17T17:21:19Z", "author": {"login": "ChengJin01"}, "path": "runtime/bcutil/cfreader.c", "diffHunk": "@@ -2376,8 +2376,10 @@ checkAttributes(J9PortLibrary* portLib, J9CfrClassFile* classfile, J9CfrAttribut\n \t\t\tbreak;\n \n \t\tcase CFR_ATTRIBUTE_PermittedSubclasses:\n-\t\t\t/* PermittedSubclasses verification is for Java 15 preview only. */\n-\t\t\tif ((59 == classfile->majorVersion) && (0 < classfile->minorVersion)) {\n+\t\t\t/* PermittedSubclasses verification is for Java version >= 15 */\n+\t\t\tif ((classfile->majorVersion > 59) \n+\t\t\t|| ((59 == classfile->majorVersion) && (0 < classfile->minorVersion))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI3NDIxNA=="}, "originalCommit": {"oid": "80c2f5beaf237a0f47349fbc1fbe33886c9393dc"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 933, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}