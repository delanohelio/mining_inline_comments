{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5NjcwMjYw", "number": 10410, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxODo0ODoxMlrOEZm_cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxODo0ODoxMlrOEZm_cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1Mjg4NjkxOnYy", "diffSide": "RIGHT", "path": "runtime/jcl/common/sun_reflect_ConstantPool.c", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxODo0ODoxMlrOHChglQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxODo1NDowNVrOHChtbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQwODIxMw==", "bodyText": "Bit of a nitpick - I'd leave the line long here rather than trying to figure out the \"right\" level of indent for the second line of parameters\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\tmethodHandleObject = vmFunctions->resolveMethodHandleRef(vmThread, J9_CP_FROM_CLASS(ramClass), cpIndex,\n          \n          \n            \n            \t\t\t\t\t\t\t\t\t\tJ9_RESOLVE_FLAG_RUNTIME_RESOLVE | J9_RESOLVE_FLAG_NO_CLASS_INIT);\n          \n          \n            \n            \t\t\t\tmethodHandleObject = vmFunctions->resolveMethodHandleRef(vmThread, J9_CP_FROM_CLASS(ramClass), cpIndex, J9_RESOLVE_FLAG_RUNTIME_RESOLVE | J9_RESOLVE_FLAG_NO_CLASS_INIT);", "url": "https://github.com/eclipse-openj9/openj9/pull/10410#discussion_r472408213", "createdAt": "2020-08-18T18:48:12Z", "author": {"login": "DanHeidinga"}, "path": "runtime/jcl/common/sun_reflect_ConstantPool.c", "diffHunk": "@@ -752,7 +752,11 @@ Java_java_lang_invoke_MethodHandle_getCPMethodHandleAt(JNIEnv *env, jclass unuse\n \t\t\tj9object_t methodHandleObject = J9STATIC_OBJECT_LOAD(vmThread, ramClass, &ramMethodHandleRef->methodHandle);\n \n \t\t\tif (NULL == methodHandleObject) {\n-\t\t\t\tmethodHandleObject = vmFunctions->resolveMethodHandleRef(vmThread, J9_CP_FROM_CLASS(ramClass), cpIndex, J9_RESOLVE_FLAG_RUNTIME_RESOLVE);\n+\t\t\t\t/* Avoid initializing the class from there so as to postpone the static initialization\n+\t\t\t\t * to the invocation of the specified method of the class.\n+\t\t\t\t */\n+\t\t\t\tmethodHandleObject = vmFunctions->resolveMethodHandleRef(vmThread, J9_CP_FROM_CLASS(ramClass), cpIndex,\n+\t\t\t\t\t\t\t\t\t\tJ9_RESOLVE_FLAG_RUNTIME_RESOLVE | J9_RESOLVE_FLAG_NO_CLASS_INIT);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "960d8e8e15134c1c951f5ab44d0a1427b8d8a4bd"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQxMTUwMQ==", "bodyText": "Agreed and restored it back to the original line.", "url": "https://github.com/eclipse-openj9/openj9/pull/10410#discussion_r472411501", "createdAt": "2020-08-18T18:54:05Z", "author": {"login": "ChengJin01"}, "path": "runtime/jcl/common/sun_reflect_ConstantPool.c", "diffHunk": "@@ -752,7 +752,11 @@ Java_java_lang_invoke_MethodHandle_getCPMethodHandleAt(JNIEnv *env, jclass unuse\n \t\t\tj9object_t methodHandleObject = J9STATIC_OBJECT_LOAD(vmThread, ramClass, &ramMethodHandleRef->methodHandle);\n \n \t\t\tif (NULL == methodHandleObject) {\n-\t\t\t\tmethodHandleObject = vmFunctions->resolveMethodHandleRef(vmThread, J9_CP_FROM_CLASS(ramClass), cpIndex, J9_RESOLVE_FLAG_RUNTIME_RESOLVE);\n+\t\t\t\t/* Avoid initializing the class from there so as to postpone the static initialization\n+\t\t\t\t * to the invocation of the specified method of the class.\n+\t\t\t\t */\n+\t\t\t\tmethodHandleObject = vmFunctions->resolveMethodHandleRef(vmThread, J9_CP_FROM_CLASS(ramClass), cpIndex,\n+\t\t\t\t\t\t\t\t\t\tJ9_RESOLVE_FLAG_RUNTIME_RESOLVE | J9_RESOLVE_FLAG_NO_CLASS_INIT);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQwODIxMw=="}, "originalCommit": {"oid": "960d8e8e15134c1c951f5ab44d0a1427b8d8a4bd"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4711, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}