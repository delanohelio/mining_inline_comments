{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5Mzk4NDg2", "number": 8471, "title": "Don't run StringBuffer/Builder growth test in constrained environments", "bodyText": "Signed-off-by: Peter Shipton Peter_Shipton@ca.ibm.com", "createdAt": "2020-01-31T04:04:40Z", "url": "https://github.com/eclipse-openj9/openj9/pull/8471", "merged": true, "mergeCommit": {"oid": "b1a8dd39367fc6a1ae5e4f5a83083d036c2bffe8"}, "closed": true, "closedAt": "2020-02-01T02:26:08Z", "author": {"login": "pshipton"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_0d40ABqjI5OTgyNzc1NzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_6RstgFqTM1MTg1OTQ5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "889f129cd775408d33b10fd9b40421630ba533e0", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/889f129cd775408d33b10fd9b40421630ba533e0", "committedDate": "2020-01-31T04:01:41Z", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "8f730da998543c87f30db3b95233e8e7c777ff55", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8f730da998543c87f30db3b95233e8e7c777ff55", "committedDate": "2020-01-31T19:39:25Z", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8f730da998543c87f30db3b95233e8e7c777ff55", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/8f730da998543c87f30db3b95233e8e7c777ff55", "committedDate": "2020-01-31T19:39:25Z", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "a7f26e191e2d7c4689b7d4fed1bb16c0e7a27594", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a7f26e191e2d7c4689b7d4fed1bb16c0e7a27594", "committedDate": "2020-01-31T19:42:05Z", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxNzY4NzIy", "url": "https://github.com/eclipse-openj9/openj9/pull/8471#pullrequestreview-351768722", "createdAt": "2020-01-31T20:49:01Z", "commit": {"oid": "a7f26e191e2d7c4689b7d4fed1bb16c0e7a27594"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQyMDo0OTowMVrOFkXjOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQyMDo0OTowMVrOFkXjOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY3ODkwNQ==", "bodyText": "I wonder whether 8GB might be a more reasonable requirement, but I suppose we can try this and experiment later.", "url": "https://github.com/eclipse-openj9/openj9/pull/8471#discussion_r373678905", "createdAt": "2020-01-31T20:49:01Z", "author": {"login": "keithc-ca"}, "path": "test/functional/cmdLineTests/cmdLineTest_J9tests/src/TestStringBufferAndBuilderGrowth.java", "diffHunk": "@@ -20,13 +20,25 @@\n  * SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n  *******************************************************************************/\n \n+import com.sun.management.OperatingSystemMXBean;\n+import java.lang.management.ManagementFactory;\n+\n /**\n  * @file TestStringBufferAndBuilderGrowth.java\n  * @brief Grows a StringBuffer and StringBuilder to Integer.MAX_VALUE\n  */\n public class TestStringBufferAndBuilderGrowth {\n \n public static void main(String[] args) {\n+\tOperatingSystemMXBean opBean = (OperatingSystemMXBean)ManagementFactory.getOperatingSystemMXBean();\n+\tlong physicalMemory = opBean.getTotalPhysicalMemorySize();\n+\tSystem.out.println(\"Machine has physical memory \" + physicalMemory + \" bytes or \" + (physicalMemory >> 20) + \" MB or \" + (physicalMemory >> 30) + \" GB\");\n+\tlong tenGig = 10L << 30;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7f26e191e2d7c4689b7d4fed1bb16c0e7a27594"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxNzY4OTU3", "url": "https://github.com/eclipse-openj9/openj9/pull/8471#pullrequestreview-351768957", "createdAt": "2020-01-31T20:49:31Z", "commit": {"oid": "a7f26e191e2d7c4689b7d4fed1bb16c0e7a27594"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQyMDo0OTozMVrOFkXj1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQyMDo0OTozMVrOFkXj1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY3OTA2Mg==", "bodyText": "Wasn't the indentation of this (</test>) correct before?", "url": "https://github.com/eclipse-openj9/openj9/pull/8471#discussion_r373679062", "createdAt": "2020-01-31T20:49:31Z", "author": {"login": "keithc-ca"}, "path": "test/functional/cmdLineTests/cmdLineTest_J9tests/j9tests_Java8.xml", "diffHunk": "@@ -550,7 +550,8 @@\n   <command>$EXE$ -Xdump:none -Xmx7g -Djava.lang.stringBufferAndBuilder.growAggressively -cp $Q$$JARPATH$$Q$ TestStringBufferAndBuilderGrowth</command>\n   <output regex=\"no\" type=\"success\">StringBuffer capacity=2147483647 StringBuilder capacity=2147483647</output>\n   <output regex=\"no\" type=\"success\">Option too large</output>\n- </test>\n+  <output regex=\"no\" type=\"success\">Not enough resource to run test</output>\n+</test>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7f26e191e2d7c4689b7d4fed1bb16c0e7a27594"}, "originalPosition": 6}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a7f26e191e2d7c4689b7d4fed1bb16c0e7a27594", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/a7f26e191e2d7c4689b7d4fed1bb16c0e7a27594", "committedDate": "2020-01-31T19:42:05Z", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "f8670d0fcdff405466b1450e6a92a6c69e70abe6", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/f8670d0fcdff405466b1450e6a92a6c69e70abe6", "committedDate": "2020-01-31T21:05:08Z", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f8670d0fcdff405466b1450e6a92a6c69e70abe6", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/f8670d0fcdff405466b1450e6a92a6c69e70abe6", "committedDate": "2020-01-31T21:05:08Z", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "db51a4b9d567244854fca0a8ab979229a2d62afa", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/db51a4b9d567244854fca0a8ab979229a2d62afa", "committedDate": "2020-01-31T21:09:08Z", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "db51a4b9d567244854fca0a8ab979229a2d62afa", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/db51a4b9d567244854fca0a8ab979229a2d62afa", "committedDate": "2020-01-31T21:09:08Z", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "37153933616393a987e2fe8b67e9d3e537d37023", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/37153933616393a987e2fe8b67e9d3e537d37023", "committedDate": "2020-01-31T21:20:30Z", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47136197d20b1a8b0eec18ca6057b8e27bcafd6a", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/47136197d20b1a8b0eec18ca6057b8e27bcafd6a", "committedDate": "2020-01-31T21:24:43Z", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "37153933616393a987e2fe8b67e9d3e537d37023", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/37153933616393a987e2fe8b67e9d3e537d37023", "committedDate": "2020-01-31T21:20:30Z", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}, "afterCommit": {"oid": "47136197d20b1a8b0eec18ca6057b8e27bcafd6a", "author": {"user": {"login": "pshipton", "name": "Peter Shipton"}}, "url": "https://github.com/eclipse-openj9/openj9/commit/47136197d20b1a8b0eec18ca6057b8e27bcafd6a", "committedDate": "2020-01-31T21:24:43Z", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODU5NDkw", "url": "https://github.com/eclipse-openj9/openj9/pull/8471#pullrequestreview-351859490", "createdAt": "2020-02-01T02:25:59Z", "commit": {"oid": "47136197d20b1a8b0eec18ca6057b8e27bcafd6a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 722, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}