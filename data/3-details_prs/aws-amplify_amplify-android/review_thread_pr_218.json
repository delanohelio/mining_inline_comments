{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MjQ3MDkz", "number": 218, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxODo0Mjo1OFrODWDYww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxOTowMDoxMFrODWDrNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NDUwNzU1OnYy", "diffSide": "RIGHT", "path": "aws-datastore/src/test/java/com/amplifyframework/datastore/network/MockAppSyncEndpoint.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxODo0Mjo1OFrOFalxDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMjo0NTo0MVrOFardBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQyNjA2MA==", "bodyText": "not exactly onResult() anymore ;)", "url": "https://github.com/aws-amplify/amplify-android/pull/218#discussion_r363426060", "createdAt": "2020-01-06T18:42:58Z", "author": {"login": "raphkim"}, "path": "aws-datastore/src/test/java/com/amplifyframework/datastore/network/MockAppSyncEndpoint.java", "diffHunk": "@@ -61,24 +60,24 @@ static Configurator configure(AppSyncEndpoint mock) {\n         @SafeVarargs\n         final <T extends Model> Configurator mockSuccessResponse(\n                 Class<T> modelClass, ModelWithMetadata<T>... responseItems) {\n-\n             doAnswer(invocation -> {\n-                // Get a handle to the listener that is passed into the sync() method\n-                // ResultListener is the third and final param at index 2 (@0, @1, @2).\n-                final int argumentPositionForResultListener = 2;\n-                final ResultListener<GraphQLResponse<Iterable<ModelWithMetadata<T>>>, DataStoreException> listener =\n-                    invocation.getArgument(argumentPositionForResultListener);\n+                // Get a handle to the response consumer that is passed into the sync() method\n+                // Response consumer is the third param, at index 2 (@0, @1, @2, @3).\n+                final int argumentPositionForResponseConsumer = 2;\n+                final Consumer<GraphQLResponse<Iterable<ModelWithMetadata<T>>>> consumer =\n+                    invocation.getArgument(argumentPositionForResponseConsumer);\n \n                 // Call its onResult(), and pass the mocked items inside of a GraphQLResponse wrapper", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzUxOTIzOQ==", "bodyText": "Ah good catch, I'll update it.", "url": "https://github.com/aws-amplify/amplify-android/pull/218#discussion_r363519239", "createdAt": "2020-01-06T22:45:41Z", "author": {"login": "jamesonwilliams"}, "path": "aws-datastore/src/test/java/com/amplifyframework/datastore/network/MockAppSyncEndpoint.java", "diffHunk": "@@ -61,24 +60,24 @@ static Configurator configure(AppSyncEndpoint mock) {\n         @SafeVarargs\n         final <T extends Model> Configurator mockSuccessResponse(\n                 Class<T> modelClass, ModelWithMetadata<T>... responseItems) {\n-\n             doAnswer(invocation -> {\n-                // Get a handle to the listener that is passed into the sync() method\n-                // ResultListener is the third and final param at index 2 (@0, @1, @2).\n-                final int argumentPositionForResultListener = 2;\n-                final ResultListener<GraphQLResponse<Iterable<ModelWithMetadata<T>>>, DataStoreException> listener =\n-                    invocation.getArgument(argumentPositionForResultListener);\n+                // Get a handle to the response consumer that is passed into the sync() method\n+                // Response consumer is the third param, at index 2 (@0, @1, @2, @3).\n+                final int argumentPositionForResponseConsumer = 2;\n+                final Consumer<GraphQLResponse<Iterable<ModelWithMetadata<T>>>> consumer =\n+                    invocation.getArgument(argumentPositionForResponseConsumer);\n \n                 // Call its onResult(), and pass the mocked items inside of a GraphQLResponse wrapper", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQyNjA2MA=="}, "originalCommit": null, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NDU0OTI4OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/amplifyframework/api/GraphQlBehavior.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxODo1Nzo1NlrOFamKpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMjo0OTo1NlrOFariNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQzMjYxMw==", "bodyText": "Is there any other GraphQL behavior besides those three specified?", "url": "https://github.com/aws-amplify/amplify-android/pull/218#discussion_r363432613", "createdAt": "2020-01-06T18:57:56Z", "author": {"login": "raphkim"}, "path": "core/src/main/java/com/amplifyframework/api/GraphQlBehavior.java", "diffHunk": "@@ -23,14 +23,13 @@\n import com.amplifyframework.api.graphql.GraphQLResponse;\n import com.amplifyframework.api.graphql.MutationType;\n import com.amplifyframework.api.graphql.SubscriptionType;\n-import com.amplifyframework.core.ResultListener;\n-import com.amplifyframework.core.StreamListener;\n+import com.amplifyframework.core.Action;\n+import com.amplifyframework.core.Consumer;\n import com.amplifyframework.core.model.Model;\n import com.amplifyframework.core.model.query.predicate.QueryPredicate;\n-import com.amplifyframework.hub.HubCategory;\n \n /**\n- * GraphQL behaviors which include operations like query/subscribe/mutate operations.\n+ * GraphQL behaviors include operations like query, subscribe, mutate, etc.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzUyMDU2Nw==", "bodyText": "Will update.", "url": "https://github.com/aws-amplify/amplify-android/pull/218#discussion_r363520567", "createdAt": "2020-01-06T22:49:56Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/main/java/com/amplifyframework/api/GraphQlBehavior.java", "diffHunk": "@@ -23,14 +23,13 @@\n import com.amplifyframework.api.graphql.GraphQLResponse;\n import com.amplifyframework.api.graphql.MutationType;\n import com.amplifyframework.api.graphql.SubscriptionType;\n-import com.amplifyframework.core.ResultListener;\n-import com.amplifyframework.core.StreamListener;\n+import com.amplifyframework.core.Action;\n+import com.amplifyframework.core.Consumer;\n import com.amplifyframework.core.model.Model;\n import com.amplifyframework.core.model.query.predicate.QueryPredicate;\n-import com.amplifyframework.hub.HubCategory;\n \n /**\n- * GraphQL behaviors which include operations like query/subscribe/mutate operations.\n+ * GraphQL behaviors include operations like query, subscribe, mutate, etc.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQzMjYxMw=="}, "originalCommit": null, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NDU1NDc2OnYy", "diffSide": "LEFT", "path": "core/src/main/java/com/amplifyframework/api/GraphQlBehavior.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxOTowMDoxMFrOFamOXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMzozMDowOVrOFasNNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQzMzU2Ng==", "bodyText": "Are we no longer using the Hub? I thought that we would be publishing everything to hub by default on top of the local callback to caller thread?", "url": "https://github.com/aws-amplify/amplify-android/pull/218#discussion_r363433566", "createdAt": "2020-01-06T19:00:10Z", "author": {"login": "raphkim"}, "path": "core/src/main/java/com/amplifyframework/api/GraphQlBehavior.java", "diffHunk": "@@ -23,14 +23,13 @@\n import com.amplifyframework.api.graphql.GraphQLResponse;\n import com.amplifyframework.api.graphql.MutationType;\n import com.amplifyframework.api.graphql.SubscriptionType;\n-import com.amplifyframework.core.ResultListener;\n-import com.amplifyframework.core.StreamListener;\n+import com.amplifyframework.core.Action;\n+import com.amplifyframework.core.Consumer;\n import com.amplifyframework.core.model.Model;\n import com.amplifyframework.core.model.query.predicate.QueryPredicate;\n-import com.amplifyframework.hub.HubCategory;", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzUzMTU3NQ==", "bodyText": "That was a plan, originally. I think it sounds like a fine idea. The only problem is that we never actually implemented any code to use Hub. We just wrote the Hub and left a bunch of documentation saying that it was getting used, when it wasn't. That was a ~dangerous state, so I've been going through and removing the false documentation. If/when we add Hub integration, we can go back and update the documentation to mention Hub again.", "url": "https://github.com/aws-amplify/amplify-android/pull/218#discussion_r363531575", "createdAt": "2020-01-06T23:30:09Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/main/java/com/amplifyframework/api/GraphQlBehavior.java", "diffHunk": "@@ -23,14 +23,13 @@\n import com.amplifyframework.api.graphql.GraphQLResponse;\n import com.amplifyframework.api.graphql.MutationType;\n import com.amplifyframework.api.graphql.SubscriptionType;\n-import com.amplifyframework.core.ResultListener;\n-import com.amplifyframework.core.StreamListener;\n+import com.amplifyframework.core.Action;\n+import com.amplifyframework.core.Consumer;\n import com.amplifyframework.core.model.Model;\n import com.amplifyframework.core.model.query.predicate.QueryPredicate;\n-import com.amplifyframework.hub.HubCategory;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQzMzU2Ng=="}, "originalCommit": null, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1499, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}