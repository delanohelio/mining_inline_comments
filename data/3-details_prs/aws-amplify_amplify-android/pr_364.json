{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwNTM5NjU4", "number": 364, "title": "Run tests against PredictionsCategory, not Amplify", "bodyText": "Issue #, if available:\nDescription of changes:\n\nDelivering on the promised follow-up in #346 to re-factor Predictions instrumentation test\nUsing more robust sample text for testing\n\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-04-07T22:49:53Z", "url": "https://github.com/aws-amplify/amplify-android/pull/364", "merged": true, "mergeCommit": {"oid": "9cd999ba46a2c910e6c7bc6390501cf2cd13e1d3"}, "closed": true, "closedAt": "2020-04-08T06:04:37Z", "author": {"login": "raphkim"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVbSuhgH2gAyNDAwNTM5NjU4OmUyYzk1MzMyMGI3YzY1ODA1ZTNiN2EwNzYyNDg2ZGE2Mzk0MzY3Y2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVg4EpAFqTM4OTY1NzA3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e2c953320b7c65805e3b7a0762486da6394367cb", "author": {"user": {"login": "raphkim", "name": "Raphael Kim"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/e2c953320b7c65805e3b7a0762486da6394367cb", "committedDate": "2020-04-07T22:46:23Z", "message": "Run tests against PredictionsCategory, not Amplify"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5NjU3MDcw", "url": "https://github.com/aws-amplify/amplify-android/pull/364#pullrequestreview-389657070", "createdAt": "2020-04-08T05:14:42Z", "commit": {"oid": "e2c953320b7c65805e3b7a0762486da6394367cb"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwNToxNDo0MlrOGCfQeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwNToxNDo0MlrOGCfQeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTI2MjQ1OA==", "bodyText": "It should be okay to re-init the mobile client in @Before, right? The benefit is, it gets all this setup stuff back into just few lines inside of one method body. Also, a guaranteed baseline before each @Test (for the win!)\nSingletons and static fields are sort of anti-pattern; I think we should aim to reduce our use of @BeforeClass (we use it more than most (quality) code bases I have seen, right now.)", "url": "https://github.com/aws-amplify/amplify-android/pull/364#discussion_r405262458", "createdAt": "2020-04-08T05:14:42Z", "author": {"login": "jamesonwilliams"}, "path": "aws-predictions/src/androidTest/java/com/amplifyframework/predictions/aws/AWSPredictionsInterpretTest.java", "diffHunk": "@@ -44,16 +51,28 @@\n  */\n public final class AWSPredictionsInterpretTest {\n \n-    private static SynchronousPredictions predictions;\n+    private SynchronousPredictions predictions;\n \n     /**\n-     * Configure Amplify and Predictions plugin before the tests.\n-     * @throws Exception if configuration fails\n+     * Initialize mobile client singleton.\n+     * @throws Exception if mobile client initialization fails\n      */\n     @BeforeClass\n     public static void setUpOnce() throws Exception {\n-        TestConfiguration.configureIfNotConfigured();\n-        predictions = SynchronousPredictions.delegatingToAmplify();\n+        SynchronousMobileClient.instance().initialize();\n+    }\n+\n+    /**\n+     * Configure Predictions category before each test.\n+     */\n+    @Before\n+    public void setUp() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2c953320b7c65805e3b7a0762486da6394367cb"}, "originalPosition": 53}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2672, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}