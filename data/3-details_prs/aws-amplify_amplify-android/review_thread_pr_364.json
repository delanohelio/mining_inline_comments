{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwNTM5NjU4", "number": 364, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwNToxNDo0MlrODv1cbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwNToxNDo0MlrODv1cbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxNDg1MjkzOnYy", "diffSide": "RIGHT", "path": "aws-predictions/src/androidTest/java/com/amplifyframework/predictions/aws/AWSPredictionsInterpretTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwNToxNDo0MlrOGCfQeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwNjowNDoyOVrOGCgMuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTI2MjQ1OA==", "bodyText": "It should be okay to re-init the mobile client in @Before, right? The benefit is, it gets all this setup stuff back into just few lines inside of one method body. Also, a guaranteed baseline before each @Test (for the win!)\nSingletons and static fields are sort of anti-pattern; I think we should aim to reduce our use of @BeforeClass (we use it more than most (quality) code bases I have seen, right now.)", "url": "https://github.com/aws-amplify/amplify-android/pull/364#discussion_r405262458", "createdAt": "2020-04-08T05:14:42Z", "author": {"login": "jamesonwilliams"}, "path": "aws-predictions/src/androidTest/java/com/amplifyframework/predictions/aws/AWSPredictionsInterpretTest.java", "diffHunk": "@@ -44,16 +51,28 @@\n  */\n public final class AWSPredictionsInterpretTest {\n \n-    private static SynchronousPredictions predictions;\n+    private SynchronousPredictions predictions;\n \n     /**\n-     * Configure Amplify and Predictions plugin before the tests.\n-     * @throws Exception if configuration fails\n+     * Initialize mobile client singleton.\n+     * @throws Exception if mobile client initialization fails\n      */\n     @BeforeClass\n     public static void setUpOnce() throws Exception {\n-        TestConfiguration.configureIfNotConfigured();\n-        predictions = SynchronousPredictions.delegatingToAmplify();\n+        SynchronousMobileClient.instance().initialize();\n+    }\n+\n+    /**\n+     * Configure Predictions category before each test.\n+     */\n+    @Before\n+    public void setUp() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2c953320b7c65805e3b7a0762486da6394367cb"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTI3Nzg4MA==", "bodyText": "Yea, they would do the same thing, but I think leaving it as is is good to remind us that AWSMobileClient is a singleton.", "url": "https://github.com/aws-amplify/amplify-android/pull/364#discussion_r405277880", "createdAt": "2020-04-08T06:04:29Z", "author": {"login": "raphkim"}, "path": "aws-predictions/src/androidTest/java/com/amplifyframework/predictions/aws/AWSPredictionsInterpretTest.java", "diffHunk": "@@ -44,16 +51,28 @@\n  */\n public final class AWSPredictionsInterpretTest {\n \n-    private static SynchronousPredictions predictions;\n+    private SynchronousPredictions predictions;\n \n     /**\n-     * Configure Amplify and Predictions plugin before the tests.\n-     * @throws Exception if configuration fails\n+     * Initialize mobile client singleton.\n+     * @throws Exception if mobile client initialization fails\n      */\n     @BeforeClass\n     public static void setUpOnce() throws Exception {\n-        TestConfiguration.configureIfNotConfigured();\n-        predictions = SynchronousPredictions.delegatingToAmplify();\n+        SynchronousMobileClient.instance().initialize();\n+    }\n+\n+    /**\n+     * Configure Predictions category before each test.\n+     */\n+    @Before\n+    public void setUp() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTI2MjQ1OA=="}, "originalCommit": {"oid": "e2c953320b7c65805e3b7a0762486da6394367cb"}, "originalPosition": 53}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1413, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}