{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4MDQ1NDIx", "number": 727, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODoxOToxM1rOEYkY0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODozMTo1OFrOEYkyWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0MTk3NDU5OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/amplifyframework/devmenu/DevMenuLogsFragment.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODoxOToxM1rOHA-alQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQyMDo0ODo1MlrOHBC51Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc4NDY2MQ==", "bodyText": "Could you use a SearchView instead of an EditText here?  I believe it is basically just a wrapper around an EditText, but you get a lot of additional search functionality for free, like:\n\na search icon on the left side\na search button on the keyboard, which I believe is the more standard way for search to work, instead of having a button on the right side.\nIf your Android device has a hardware Search button, it'll actually work.", "url": "https://github.com/aws-amplify/amplify-android/pull/727#discussion_r470784661", "createdAt": "2020-08-14T18:19:13Z", "author": {"login": "richardmcclellan"}, "path": "core/src/main/java/com/amplifyframework/devmenu/DevMenuLogsFragment.java", "diffHunk": "@@ -39,10 +46,23 @@ public DevMenuLogsFragment() { }\n     public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                              Bundle savedInstanceState) {\n         // Inflate the layout for this fragment\n-        View logsView = inflater.inflate(R.layout.dev_menu_fragment_logs, container, false);\n+        logsView = inflater.inflate(R.layout.dev_menu_fragment_logs, container, false);\n         // Display the logs (if any).\n-        TextView logsText = logsView.findViewById(R.id.logs_text);\n-        logsText.setText(DeveloperMenu.singletonInstance(getContext()).getLogs());\n+        developerMenu = DeveloperMenu.singletonInstance(getContext());\n+        logsText = logsView.findViewById(R.id.logs_text);\n+        logsText.setText(developerMenu.getLogs());\n+        // Search the logs when the search button is pressed.\n+        logsView.findViewById(R.id.search_logs_button).setOnClickListener(view -> searchLogs());\n         return logsView;\n     }\n+\n+    /**\n+     * Display the logs (if any) that contain the search query.\n+     */\n+    private void searchLogs() {\n+        EditText searchText = logsView.findViewById(R.id.search_logs_field);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a92792df867dc1db38c371532ab53e218f6d9322"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDgzMTU2MQ==", "bodyText": "I initially tried to use a SearchView instead of EditText, but the search icon that should be displayed to the left of the SearchView was not visible. The XML attribute used to set this icon is only available in API level 21+, yet Android still allocates space for the icon to the left of where the user would enter a query. Setting margin and padding to 0 does not remove the extra space for the icon. The result is shown in the picture below. I think having the extra space to the left of the SearchView looks strange and I could not find a way to either align the SearchView to the left or have an equal amount of space on either side of the SearchView.", "url": "https://github.com/aws-amplify/amplify-android/pull/727#discussion_r470831561", "createdAt": "2020-08-14T19:40:55Z", "author": {"login": "eeatonaws"}, "path": "core/src/main/java/com/amplifyframework/devmenu/DevMenuLogsFragment.java", "diffHunk": "@@ -39,10 +46,23 @@ public DevMenuLogsFragment() { }\n     public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                              Bundle savedInstanceState) {\n         // Inflate the layout for this fragment\n-        View logsView = inflater.inflate(R.layout.dev_menu_fragment_logs, container, false);\n+        logsView = inflater.inflate(R.layout.dev_menu_fragment_logs, container, false);\n         // Display the logs (if any).\n-        TextView logsText = logsView.findViewById(R.id.logs_text);\n-        logsText.setText(DeveloperMenu.singletonInstance(getContext()).getLogs());\n+        developerMenu = DeveloperMenu.singletonInstance(getContext());\n+        logsText = logsView.findViewById(R.id.logs_text);\n+        logsText.setText(developerMenu.getLogs());\n+        // Search the logs when the search button is pressed.\n+        logsView.findViewById(R.id.search_logs_button).setOnClickListener(view -> searchLogs());\n         return logsView;\n     }\n+\n+    /**\n+     * Display the logs (if any) that contain the search query.\n+     */\n+    private void searchLogs() {\n+        EditText searchText = logsView.findViewById(R.id.search_logs_field);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc4NDY2MQ=="}, "originalCommit": {"oid": "a92792df867dc1db38c371532ab53e218f6d9322"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg0NDU2Ng==", "bodyText": "Can you fix this by using androidx.appcompat.widget.SearchView instead of android.widget.SearchView?", "url": "https://github.com/aws-amplify/amplify-android/pull/727#discussion_r470844566", "createdAt": "2020-08-14T20:12:56Z", "author": {"login": "richardmcclellan"}, "path": "core/src/main/java/com/amplifyframework/devmenu/DevMenuLogsFragment.java", "diffHunk": "@@ -39,10 +46,23 @@ public DevMenuLogsFragment() { }\n     public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                              Bundle savedInstanceState) {\n         // Inflate the layout for this fragment\n-        View logsView = inflater.inflate(R.layout.dev_menu_fragment_logs, container, false);\n+        logsView = inflater.inflate(R.layout.dev_menu_fragment_logs, container, false);\n         // Display the logs (if any).\n-        TextView logsText = logsView.findViewById(R.id.logs_text);\n-        logsText.setText(DeveloperMenu.singletonInstance(getContext()).getLogs());\n+        developerMenu = DeveloperMenu.singletonInstance(getContext());\n+        logsText = logsView.findViewById(R.id.logs_text);\n+        logsText.setText(developerMenu.getLogs());\n+        // Search the logs when the search button is pressed.\n+        logsView.findViewById(R.id.search_logs_button).setOnClickListener(view -> searchLogs());\n         return logsView;\n     }\n+\n+    /**\n+     * Display the logs (if any) that contain the search query.\n+     */\n+    private void searchLogs() {\n+        EditText searchText = logsView.findViewById(R.id.search_logs_field);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc4NDY2MQ=="}, "originalCommit": {"oid": "a92792df867dc1db38c371532ab53e218f6d9322"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg1ODE5Nw==", "bodyText": "Yes, although it will require making Theme.AppCompat the parent style for the activity, which changes the styling of many components on the developer menu, but I should be able to fix the styling issues.\nEdit: The extra padding to the left of the SearchView can be removed using negative padding.", "url": "https://github.com/aws-amplify/amplify-android/pull/727#discussion_r470858197", "createdAt": "2020-08-14T20:48:52Z", "author": {"login": "eeatonaws"}, "path": "core/src/main/java/com/amplifyframework/devmenu/DevMenuLogsFragment.java", "diffHunk": "@@ -39,10 +46,23 @@ public DevMenuLogsFragment() { }\n     public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                              Bundle savedInstanceState) {\n         // Inflate the layout for this fragment\n-        View logsView = inflater.inflate(R.layout.dev_menu_fragment_logs, container, false);\n+        logsView = inflater.inflate(R.layout.dev_menu_fragment_logs, container, false);\n         // Display the logs (if any).\n-        TextView logsText = logsView.findViewById(R.id.logs_text);\n-        logsText.setText(DeveloperMenu.singletonInstance(getContext()).getLogs());\n+        developerMenu = DeveloperMenu.singletonInstance(getContext());\n+        logsText = logsView.findViewById(R.id.logs_text);\n+        logsText.setText(developerMenu.getLogs());\n+        // Search the logs when the search button is pressed.\n+        logsView.findViewById(R.id.search_logs_button).setOnClickListener(view -> searchLogs());\n         return logsView;\n     }\n+\n+    /**\n+     * Display the logs (if any) that contain the search query.\n+     */\n+    private void searchLogs() {\n+        EditText searchText = logsView.findViewById(R.id.search_logs_field);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc4NDY2MQ=="}, "originalCommit": {"oid": "a92792df867dc1db38c371532ab53e218f6d9322"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0MTk5MzM0OnYy", "diffSide": "RIGHT", "path": "core/src/main/res/layout/dev_menu_fragment_logs.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODoyMjo1M1rOHA-myw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODozNzowMVrOHA_V6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc4Nzc4Nw==", "bodyText": "Interesting, I haven't seen this component before.  Is the purpose here just to add the fade animation when the text changes?", "url": "https://github.com/aws-amplify/amplify-android/pull/727#discussion_r470787787", "createdAt": "2020-08-14T18:22:53Z", "author": {"login": "richardmcclellan"}, "path": "core/src/main/res/layout/dev_menu_fragment_logs.xml", "diffHunk": "@@ -55,14 +58,24 @@\n             android:requiresFadingEdge=\"horizontal\"\n             android:fadingEdgeLength=\"70dp\">\n \n-            <TextView\n+            <TextSwitcher", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a92792df867dc1db38c371532ab53e218f6d9322"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc5OTg1MQ==", "bodyText": "Yes, the TextSwitcher switches between displaying the text on its two child TextViews and animates the action of displaying new text.", "url": "https://github.com/aws-amplify/amplify-android/pull/727#discussion_r470799851", "createdAt": "2020-08-14T18:37:01Z", "author": {"login": "eeatonaws"}, "path": "core/src/main/res/layout/dev_menu_fragment_logs.xml", "diffHunk": "@@ -55,14 +58,24 @@\n             android:requiresFadingEdge=\"horizontal\"\n             android:fadingEdgeLength=\"70dp\">\n \n-            <TextView\n+            <TextSwitcher", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc4Nzc4Nw=="}, "originalCommit": {"oid": "a92792df867dc1db38c371532ab53e218f6d9322"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0MjAxMzQyOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/amplifyframework/devmenu/DeveloperMenu.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODoyNjo1MVrOHA-z8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODoyNjo1MVrOHA-z8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc5MTE1NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (searchText == null || searchText.isEmpty()) {\n          \n          \n            \n                    if (Empty.check(searchText)) {", "url": "https://github.com/aws-amplify/amplify-android/pull/727#discussion_r470791154", "createdAt": "2020-08-14T18:26:51Z", "author": {"login": "richardmcclellan"}, "path": "core/src/main/java/com/amplifyframework/devmenu/DeveloperMenu.java", "diffHunk": "@@ -129,6 +129,32 @@ public String getLogs() {\n         }\n     }\n \n+    /**\n+     * Returns a String representation of the stored logs that contain the given\n+     * String, or all logs if the given String is null or the empty string.\n+     * @param searchText the text to search for in the logs\n+     * @return the stored logs as a String.\n+     */\n+    public String getFilteredLogs(String searchText) {\n+        if (searchText == null || searchText.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a92792df867dc1db38c371532ab53e218f6d9322"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0MjAzOTkyOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/amplifyframework/devmenu/DevMenuLogsFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODozMTo1OFrOHA_E7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODozMTo1OFrOHA_E7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc5NTUwMQ==", "bodyText": "Instead of having an explicit button, could you just display results in real time, updating them each time a new character is entered in the search bar?    If you use a SearchView, you could implement this with the onQueryTextChanged() method in OnQueryTextListener.", "url": "https://github.com/aws-amplify/amplify-android/pull/727#discussion_r470795501", "createdAt": "2020-08-14T18:31:58Z", "author": {"login": "richardmcclellan"}, "path": "core/src/main/java/com/amplifyframework/devmenu/DevMenuLogsFragment.java", "diffHunk": "@@ -39,10 +46,23 @@ public DevMenuLogsFragment() { }\n     public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                              Bundle savedInstanceState) {\n         // Inflate the layout for this fragment\n-        View logsView = inflater.inflate(R.layout.dev_menu_fragment_logs, container, false);\n+        logsView = inflater.inflate(R.layout.dev_menu_fragment_logs, container, false);\n         // Display the logs (if any).\n-        TextView logsText = logsView.findViewById(R.id.logs_text);\n-        logsText.setText(DeveloperMenu.singletonInstance(getContext()).getLogs());\n+        developerMenu = DeveloperMenu.singletonInstance(getContext());\n+        logsText = logsView.findViewById(R.id.logs_text);\n+        logsText.setText(developerMenu.getLogs());\n+        // Search the logs when the search button is pressed.\n+        logsView.findViewById(R.id.search_logs_button).setOnClickListener(view -> searchLogs());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a92792df867dc1db38c371532ab53e218f6d9322"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1176, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}