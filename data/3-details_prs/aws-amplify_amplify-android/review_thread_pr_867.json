{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0Mzg0NTc4", "number": 867, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMDozNjowM1rOEoP7Cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNzo1ODozOVrOEp5o4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNjM5MzcxOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/com/amplifyframework/core/model/ModelSchemaTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMDozNjowM1rOHZOrJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMzowNzo0OFrOHZSweA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIxNjg2OQ==", "bodyText": "This is a bit of a hack because I cannot reference Temporal.Date.class from here, since it is in the aws-api-appsync module, which I can't reference from core, so I have to get it using reflection.   A better solution for another day could be to move ModelSchema (and other related Model classes) from core to aws-api-appsync.\nPreviously, this test was only passing by coincidence - it was comparing java.lang.Date.class.getSimpleName() with the Temporal.Date.class.getSimpleName(), and it passed since they are equal.  Now that we are comparing the actual class, this test started failing (as it should), so this needs to be updated to actually reference the correct Class.", "url": "https://github.com/aws-amplify/amplify-android/pull/867#discussion_r496216869", "createdAt": "2020-09-28T20:36:03Z", "author": {"login": "richardmcclellan"}, "path": "core/src/test/java/com/amplifyframework/core/model/ModelSchemaTest.java", "diffHunk": "@@ -70,7 +70,7 @@ public void modelSchemaIsGeneratedForPersonModel() throws AmplifyException {\n         expectedFields.put(\"dob\", ModelField.builder()\n             .targetType(\"AWSDate\")\n             .name(\"dob\")\n-            .type(Date.class)\n+            .type(Class.forName(\"com.amplifyframework.core.model.temporal.Temporal$Date\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e997933e5450bb9c6f7ba4997e592026a1e625c5"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjI4Mzc2OA==", "bodyText": "aws-api-appsync module, which I can't reference from core\n\nCertainly not from src code. But what about as a testImplementation?\nYou could also access it through the testutils module, perhaps -- an additional level of indirection?", "url": "https://github.com/aws-amplify/amplify-android/pull/867#discussion_r496283768", "createdAt": "2020-09-28T23:07:48Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/test/java/com/amplifyframework/core/model/ModelSchemaTest.java", "diffHunk": "@@ -70,7 +70,7 @@ public void modelSchemaIsGeneratedForPersonModel() throws AmplifyException {\n         expectedFields.put(\"dob\", ModelField.builder()\n             .targetType(\"AWSDate\")\n             .name(\"dob\")\n-            .type(Date.class)\n+            .type(Class.forName(\"com.amplifyframework.core.model.temporal.Temporal$Date\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIxNjg2OQ=="}, "originalCommit": {"oid": "e997933e5450bb9c6f7ba4997e592026a1e625c5"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzcxNDI0OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/com/amplifyframework/core/model/ModelSchemaTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNzo1ODozOVrOHb2n-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxODowMToxOFrOHb2s8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk2ODU3MA==", "bodyText": "The ClassNotFoundException has gone away now, too.", "url": "https://github.com/aws-amplify/amplify-android/pull/867#discussion_r498968570", "createdAt": "2020-10-02T17:58:39Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/test/java/com/amplifyframework/core/model/ModelSchemaTest.java", "diffHunk": "@@ -45,9 +45,10 @@\n      * The factory {@link ModelSchema#fromModelClass(Class)} will produce\n      * an {@link ModelSchema} that meets our expectations for the {@link Person} model.\n      * @throws AmplifyException from model schema parsing\n+     * @throws ClassNotFoundException from Class.forName(\"com.amplifyframework.core.model.temporal.Temporal$Date\")\n      */\n     @Test\n-    public void modelSchemaIsGeneratedForPersonModel() throws AmplifyException {\n+    public void modelSchemaIsGeneratedForPersonModel() throws AmplifyException, ClassNotFoundException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ddb854b1f228aac7507af4f307825ee3b80b986"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk2OTg0Mg==", "bodyText": "Just fixed!", "url": "https://github.com/aws-amplify/amplify-android/pull/867#discussion_r498969842", "createdAt": "2020-10-02T18:01:18Z", "author": {"login": "richardmcclellan"}, "path": "core/src/test/java/com/amplifyframework/core/model/ModelSchemaTest.java", "diffHunk": "@@ -45,9 +45,10 @@\n      * The factory {@link ModelSchema#fromModelClass(Class)} will produce\n      * an {@link ModelSchema} that meets our expectations for the {@link Person} model.\n      * @throws AmplifyException from model schema parsing\n+     * @throws ClassNotFoundException from Class.forName(\"com.amplifyframework.core.model.temporal.Temporal$Date\")\n      */\n     @Test\n-    public void modelSchemaIsGeneratedForPersonModel() throws AmplifyException {\n+    public void modelSchemaIsGeneratedForPersonModel() throws AmplifyException, ClassNotFoundException {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk2ODU3MA=="}, "originalCommit": {"oid": "2ddb854b1f228aac7507af4f307825ee3b80b986"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 939, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}