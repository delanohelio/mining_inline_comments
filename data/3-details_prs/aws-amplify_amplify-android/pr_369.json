{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxMTcwNjkw", "number": 369, "title": "Implement online translate using AWS Translate", "bodyText": "Issue #, if available:\nDescription of changes:\n\nNow require configuration for each resource to be able to use that verb\nAdd translateText to PredictionsCategoryBehavior\nAdd instrumentation test\n\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-04-09T02:19:56Z", "url": "https://github.com/aws-amplify/amplify-android/pull/369", "merged": true, "mergeCommit": {"oid": "8f06a6dbab0dd7757f82ad846e5dd535513216a6"}, "closed": true, "closedAt": "2020-04-11T07:34:46Z", "author": {"login": "raphkim"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVyx5pgH2gAyNDAxMTcwNjkwOjgxYTBjZWYwNGJmZTk0NTBlZmYzYWI0YmI5YTZhNDkxM2M5YjY3YjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWYVY5ABqjMyMjMxODkxNDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "81a0cef04bfe9450eff3ab4bb9a6a4913c9b67b5", "author": {"user": {"login": "raphkim", "name": "Raphael Kim"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/81a0cef04bfe9450eff3ab4bb9a6a4913c9b67b5", "committedDate": "2020-04-09T02:08:15Z", "message": "Implement online translate"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9558a87e0c21b63a5aa8dfd0a8bace51e0d5338", "author": {"user": {"login": "raphkim", "name": "Raphael Kim"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/f9558a87e0c21b63a5aa8dfd0a8bace51e0d5338", "committedDate": "2020-04-09T02:13:20Z", "message": "Checkstyle error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33ad35ad3d80fcb6699935ea34974e786f452ab8", "author": {"user": {"login": "raphkim", "name": "Raphael Kim"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/33ad35ad3d80fcb6699935ea34974e786f452ab8", "committedDate": "2020-04-09T02:13:28Z", "message": "Merge branch 'master' of https://github.com/aws-amplify/amplify-android into translate-aws"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "058387a15e287e53a3fb1d21361a0f43e96706f9", "author": {"user": {"login": "raphkim", "name": "Raphael Kim"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/058387a15e287e53a3fb1d21361a0f43e96706f9", "committedDate": "2020-04-09T02:19:44Z", "message": "More checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2827812d296616a25a1f388d424c1ff4ed2358a2", "author": {"user": {"login": "raphkim", "name": "Raphael Kim"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/2827812d296616a25a1f388d424c1ff4ed2358a2", "committedDate": "2020-04-09T04:45:36Z", "message": "Add no-op operation for offline translate"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwNjgwNDI1", "url": "https://github.com/aws-amplify/amplify-android/pull/369#pullrequestreview-390680425", "createdAt": "2020-04-09T10:38:36Z", "commit": {"oid": "2827812d296616a25a1f388d424c1ff4ed2358a2"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMDozODozNlrOGDTSHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMDo1ODoyNVrOGDT3wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjExNDg0Ng==", "bodyText": "I think you can put this in @Before, right? It'll re-initialize a bunch more often, but that's sort of desirable to baseline state before each test.", "url": "https://github.com/aws-amplify/amplify-android/pull/369#discussion_r406114846", "createdAt": "2020-04-09T10:38:36Z", "author": {"login": "jamesonwilliams"}, "path": "aws-predictions/src/androidTest/java/com/amplifyframework/predictions/aws/AWSPredictionsTranslateTest.java", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package com.amplifyframework.predictions.aws;\n+\n+import android.content.Context;\n+\n+import com.amplifyframework.predictions.PredictionsCategory;\n+import com.amplifyframework.predictions.PredictionsException;\n+import com.amplifyframework.predictions.aws.test.R;\n+import com.amplifyframework.predictions.models.LanguageType;\n+import com.amplifyframework.predictions.options.TranslateTextOptions;\n+import com.amplifyframework.predictions.result.TranslateTextResult;\n+import com.amplifyframework.testutils.sync.SynchronousMobileClient;\n+import com.amplifyframework.testutils.sync.SynchronousPredictions;\n+\n+import org.junit.Before;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import static androidx.test.core.app.ApplicationProvider.getApplicationContext;\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotNull;\n+\n+/**\n+ * Tests that Predictions translate delivers a non-null result\n+ * for valid input.\n+ */\n+public final class AWSPredictionsTranslateTest {\n+\n+    private SynchronousPredictions predictions;\n+\n+    /**\n+     * Initialize mobile client singleton.\n+     * @throws Exception if mobile client initialization fails\n+     */\n+    @BeforeClass\n+    public static void setUpOnce() throws Exception {\n+        SynchronousMobileClient.instance().initialize();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2827812d296616a25a1f388d424c1ff4ed2358a2"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjExNTk2NA==", "bodyText": "I'd inline this, just return translateText(text, TranslateTextOptions.defaults(), onSuccess, onError);", "url": "https://github.com/aws-amplify/amplify-android/pull/369#discussion_r406115964", "createdAt": "2020-04-09T10:40:48Z", "author": {"login": "jamesonwilliams"}, "path": "aws-predictions/src/main/java/com/amplifyframework/predictions/aws/AWSPredictionsPlugin.java", "diffHunk": "@@ -64,10 +69,87 @@ public void configure(JSONObject pluginConfiguration, @NonNull Context context)\n         this.predictionsService = new AWSPredictionsService(configuration);\n     }\n \n-    @Nullable\n+    @NonNull\n     @Override\n     public AWSPredictionsEscapeHatch getEscapeHatch() {\n-        return new AWSPredictionsEscapeHatch(predictionsService.getComprehendClient());\n+        return new AWSPredictionsEscapeHatch(\n+                predictionsService.getTranslateClient(),\n+                predictionsService.getComprehendClient()\n+        );\n+    }\n+\n+    @NonNull\n+    @Override\n+    public TranslateTextOperation<?> translateText(\n+            @NonNull String text,\n+            @NonNull Consumer<TranslateTextResult> onSuccess,\n+            @NonNull Consumer<PredictionsException> onError\n+    ) {\n+        final TranslateTextOptions options = TranslateTextOptions.defaults();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2827812d296616a25a1f388d424c1ff4ed2358a2"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjExODA1NQ==", "bodyText": "Is there anyway for a consumer to know if this will return or throw, in advance?\nYou could either return a default configuration, if one was not provided,\nOr, you could provide some kind of lookup method, like hasTranslateTextConfiguration().\nAlso, as an idea -- you could make this a little extensible with like\ngetConfiguration(PredictionType predictionType) {\n....\n}\n\nand\nenum PredictionType {\n    TRNASLATE_TEXT,\n     INTERPRET;\n}\n\nwhich would be re-usable in\nboolean hasConfiguration(PredictionType predictionType);", "url": "https://github.com/aws-amplify/amplify-android/pull/369#discussion_r406118055", "createdAt": "2020-04-09T10:44:55Z", "author": {"login": "jamesonwilliams"}, "path": "aws-predictions/src/main/java/com/amplifyframework/predictions/aws/AWSPredictionsPluginConfiguration.java", "diffHunk": "@@ -100,13 +120,57 @@ public NetworkPolicy getDefaultNetworkPolicy() {\n         return defaultNetworkPolicy;\n     }\n \n+    /**\n+     * Gets the configuration for text translation.\n+     * Null if not configured.\n+     * @return the configuration for text translation\n+     * @throws PredictionsException if not configured\n+     */\n+    @NonNull\n+    public TranslateTextConfiguration getTranslateTextConfiguration() throws PredictionsException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2827812d296616a25a1f388d424c1ff4ed2358a2"}, "originalPosition": 106}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEyMDYwMg==", "bodyText": "In the DataStore configuraiton reader, I recently changed it so that the logic is like:\n\nIterate over they JSON keys\nLookup the key in ConfigKey.fromString(...), which will throw if there's no match.\nIf the key is enumerated, go on to process it, in a switch.\n\nEven if you allow fromString(...) to return an UNKNOWN or something, you could use the same structure, and just ignore the UNKNOWN keys.\nMy argument against doing that is that a user might have like:\n{\n    \"keyName\": \"OOPS!\"\n}\n\nInstead of\n{\n    \"keyname\": \"Actually, it was supposed to be a lower 'n' but we didn't tell you, user. Pound dirt.\"\n}", "url": "https://github.com/aws-amplify/amplify-android/pull/369#discussion_r406120602", "createdAt": "2020-04-09T10:50:13Z", "author": {"login": "jamesonwilliams"}, "path": "aws-predictions/src/main/java/com/amplifyframework/predictions/aws/AWSPredictionsPluginConfiguration.java", "diffHunk": "@@ -51,35 +55,51 @@ private AWSPredictionsPluginConfiguration(\n      * @throws PredictionsException if configuration is missing or malformed\n      */\n     @NonNull\n-    public static AWSPredictionsPluginConfiguration fromJson(JSONObject configurationJson) throws PredictionsException {\n+    static AWSPredictionsPluginConfiguration fromJson(JSONObject configurationJson) throws PredictionsException {\n         if (configurationJson == null) {\n             throw new PredictionsException(\n-                    \"Could not locate predictions configuration for AWS Predictions Plugin.\",\n-                    \"Verify that amplifyconfiguration.json contains a section for \\\"awsPredictionsPlugin\\\".\"\n+                \"Could not locate predictions configuration for AWS Predictions Plugin.\",\n+                \"Verify that amplifyconfiguration.json contains a section for \\\"awsPredictionsPlugin\\\".\"\n             );\n         }\n \n         final Region defaultRegion;\n-        final AWSInterpretConfiguration interpretConfiguration;\n+        final InterpretTextConfiguration interpretConfiguration;\n+        final TranslateTextConfiguration translateTextConfiguration;\n+\n+        // Required sections\n         try {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2827812d296616a25a1f388d424c1ff4ed2358a2"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEyMjgxMA==", "bodyText": "Hm, do you have a LanguageType.UNKNOWN or something like that? I'm usually against having enum values like that. But in this case, there might be a bonafide reason to include it.\nSuppose I obtain some random text, from a user. I don't know what it includes! No idea. So, I can't provide a language type into Amplify. For me, as a developer, that language type is not known. However, I know that I want a result in english, so that type is known. In this scenario, I might like to provide a request that looked like this(text, LanguageType.UNKNOWN, LanguageType.ENGLISH).\nAs a mechanical matter, this would make your source and target language non-null, which would be nice, too.\nThe enum could be named like UNDETECTED, UNKNOWN, UNINTERPRETED .... meh, I like UNKNOWN the best.", "url": "https://github.com/aws-amplify/amplify-android/pull/369#discussion_r406122810", "createdAt": "2020-04-09T10:54:53Z", "author": {"login": "jamesonwilliams"}, "path": "aws-predictions/src/main/java/com/amplifyframework/predictions/aws/request/AWSTranslateRequest.java", "diffHunk": "@@ -0,0 +1,86 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package com.amplifyframework.predictions.aws.request;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+\n+import com.amplifyframework.predictions.models.LanguageType;\n+\n+import java.util.Objects;\n+\n+/**\n+ * Simple request instance for text translation operation.\n+ */\n+public final class AWSTranslateRequest {\n+    private final String text;\n+    private final LanguageType sourceLanguage;\n+    private final LanguageType targetLanguage;\n+\n+    /**\n+     * Constructs an instance of {@link AWSTranslateRequest}\n+     * without specifying source and target language overrides.\n+     * @param text the text to translate\n+     */\n+    public AWSTranslateRequest(@NonNull String text) {\n+        this(text, null, null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2827812d296616a25a1f388d424c1ff4ed2358a2"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEyMzU5Mw==", "bodyText": "This method looks like it queries internal state and returns a boolean. However, the boolean value is not used here. So, is this line serving any purpose? Or does isResourceConfigured have some additional ramifications - like it modifies system state in some way?", "url": "https://github.com/aws-amplify/amplify-android/pull/369#discussion_r406123593", "createdAt": "2020-04-09T10:56:32Z", "author": {"login": "jamesonwilliams"}, "path": "aws-predictions/src/main/java/com/amplifyframework/predictions/aws/service/AWSComprehendService.java", "diffHunk": "@@ -110,6 +110,7 @@ void comprehend(\n     private Language fetchPredominantLanguage(String text) throws PredictionsException {\n         // Language is a required field for other detections.\n         // Always fetch language regardless of what configuration says.\n+        isResourceConfigured(InterpretTextConfiguration.InterpretType.LANGUAGE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2827812d296616a25a1f388d424c1ff4ed2358a2"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEyNDQ4Mg==", "bodyText": "Do you only need the pluginConfiguration.getTranslateTextConfiguration(), and not the entire pluginConfiguration?", "url": "https://github.com/aws-amplify/amplify-android/pull/369#discussion_r406124482", "createdAt": "2020-04-09T10:58:25Z", "author": {"login": "jamesonwilliams"}, "path": "aws-predictions/src/main/java/com/amplifyframework/predictions/aws/service/AWSTranslateService.java", "diffHunk": "@@ -0,0 +1,108 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package com.amplifyframework.predictions.aws.service;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+\n+import com.amplifyframework.core.Consumer;\n+import com.amplifyframework.predictions.PredictionsException;\n+import com.amplifyframework.predictions.aws.AWSPredictionsPluginConfiguration;\n+import com.amplifyframework.predictions.models.LanguageType;\n+import com.amplifyframework.predictions.result.TranslateTextResult;\n+import com.amplifyframework.util.UserAgent;\n+\n+import com.amazonaws.AmazonClientException;\n+import com.amazonaws.ClientConfiguration;\n+import com.amazonaws.auth.AWSCredentialsProvider;\n+import com.amazonaws.mobile.client.AWSMobileClient;\n+import com.amazonaws.services.translate.AmazonTranslateClient;\n+import com.amazonaws.services.translate.model.TranslateTextRequest;\n+\n+/**\n+ * Predictions service for performing text translation.\n+ */\n+public final class AWSTranslateService {\n+    private final AmazonTranslateClient translate;\n+    private final AWSPredictionsPluginConfiguration pluginConfiguration;\n+\n+    AWSTranslateService(@NonNull AWSPredictionsPluginConfiguration pluginConfiguration) {\n+        this.translate = createTranslateClient();\n+        this.pluginConfiguration = pluginConfiguration;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2827812d296616a25a1f388d424c1ff4ed2358a2"}, "originalPosition": 44}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e07c2edfbd52d0e5cd92c29cce8d52d0dd18ce6d", "author": {"user": {"login": "raphkim", "name": "Raphael Kim"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/e07c2edfbd52d0e5cd92c29cce8d52d0dd18ce6d", "committedDate": "2020-04-09T20:17:39Z", "message": "Make optional language non-null"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNTgxNTk1", "url": "https://github.com/aws-amplify/amplify-android/pull/369#pullrequestreview-391581595", "createdAt": "2020-04-10T18:05:06Z", "commit": {"oid": "e07c2edfbd52d0e5cd92c29cce8d52d0dd18ce6d"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxODowNTowNlrOGEBr2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxODowNTozNlrOGEBslQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg3NTA5Ng==", "bodyText": "Honestly my main thing is that this second setup method takes ~10 lines and the reader has to find both of them, instead of just 1 line in the setup. But, I hear what you're saying.", "url": "https://github.com/aws-amplify/amplify-android/pull/369#discussion_r406875096", "createdAt": "2020-04-10T18:05:06Z", "author": {"login": "jamesonwilliams"}, "path": "aws-predictions/src/androidTest/java/com/amplifyframework/predictions/aws/AWSPredictionsTranslateTest.java", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package com.amplifyframework.predictions.aws;\n+\n+import android.content.Context;\n+\n+import com.amplifyframework.predictions.PredictionsCategory;\n+import com.amplifyframework.predictions.PredictionsException;\n+import com.amplifyframework.predictions.aws.test.R;\n+import com.amplifyframework.predictions.models.LanguageType;\n+import com.amplifyframework.predictions.options.TranslateTextOptions;\n+import com.amplifyframework.predictions.result.TranslateTextResult;\n+import com.amplifyframework.testutils.sync.SynchronousMobileClient;\n+import com.amplifyframework.testutils.sync.SynchronousPredictions;\n+\n+import org.junit.Before;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import static androidx.test.core.app.ApplicationProvider.getApplicationContext;\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotNull;\n+\n+/**\n+ * Tests that Predictions translate delivers a non-null result\n+ * for valid input.\n+ */\n+public final class AWSPredictionsTranslateTest {\n+\n+    private SynchronousPredictions predictions;\n+\n+    /**\n+     * Initialize mobile client singleton.\n+     * @throws Exception if mobile client initialization fails\n+     */\n+    @BeforeClass\n+    public static void setUpOnce() throws Exception {\n+        SynchronousMobileClient.instance().initialize();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjExNDg0Ng=="}, "originalCommit": {"oid": "2827812d296616a25a1f388d424c1ff4ed2358a2"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg3NTI4NQ==", "bodyText": "Naming should be testTranslateFailsForBlankInput", "url": "https://github.com/aws-amplify/amplify-android/pull/369#discussion_r406875285", "createdAt": "2020-04-10T18:05:36Z", "author": {"login": "jamesonwilliams"}, "path": "aws-predictions/src/androidTest/java/com/amplifyframework/predictions/aws/AWSPredictionsTranslateTest.java", "diffHunk": "@@ -0,0 +1,131 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package com.amplifyframework.predictions.aws;\n+\n+import android.content.Context;\n+\n+import com.amplifyframework.predictions.PredictionsCategory;\n+import com.amplifyframework.predictions.PredictionsException;\n+import com.amplifyframework.predictions.aws.test.R;\n+import com.amplifyframework.predictions.models.LanguageType;\n+import com.amplifyframework.predictions.options.TranslateTextOptions;\n+import com.amplifyframework.predictions.result.TranslateTextResult;\n+import com.amplifyframework.testutils.sync.SynchronousMobileClient;\n+import com.amplifyframework.testutils.sync.SynchronousPredictions;\n+\n+import org.junit.Before;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import static androidx.test.core.app.ApplicationProvider.getApplicationContext;\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotNull;\n+\n+/**\n+ * Tests that Predictions translate delivers a non-null result\n+ * for valid input.\n+ */\n+public final class AWSPredictionsTranslateTest {\n+\n+    private SynchronousPredictions predictions;\n+\n+    /**\n+     * Initialize mobile client singleton.\n+     * @throws Exception if mobile client initialization fails\n+     */\n+    @BeforeClass\n+    public static void setUpOnce() throws Exception {\n+        SynchronousMobileClient.instance().initialize();\n+    }\n+\n+    /**\n+     * Configure Predictions category before each test.\n+     */\n+    @Before\n+    public void setUp() {\n+        Context context = getApplicationContext();\n+\n+        // Delegate to Predictions category\n+        PredictionsCategory asyncDelegate =\n+                TestPredictionsCategory.create(context, R.raw.amplifyconfiguration);\n+        predictions = SynchronousPredictions.delegatingTo(asyncDelegate);\n+    }\n+\n+    /**\n+     * Assert that translate fails for blank input.\n+     * AWS Translate will not accept a blank input, so\n+     * an exception is thrown.\n+     * @throws Exception if prediction fails\n+     */\n+    @Test(expected = PredictionsException.class)\n+    public void testTranslateFailsForNullInput() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e07c2edfbd52d0e5cd92c29cce8d52d0dd18ce6d"}, "originalPosition": 74}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5b8a95357339ab0f31b271a1c2ab8d54dcc78d2", "author": {"user": {"login": "raphkim", "name": "Raphael Kim"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/c5b8a95357339ab0f31b271a1c2ab8d54dcc78d2", "committedDate": "2020-04-10T21:53:23Z", "message": "Minor fixup"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "c5b8a95357339ab0f31b271a1c2ab8d54dcc78d2", "author": {"user": {"login": "raphkim", "name": "Raphael Kim"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/c5b8a95357339ab0f31b271a1c2ab8d54dcc78d2", "committedDate": "2020-04-10T21:53:23Z", "message": "Minor fixup"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2685, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}