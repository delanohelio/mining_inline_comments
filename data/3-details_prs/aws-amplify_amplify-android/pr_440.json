{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1MDk2MDcx", "number": 440, "title": "[core] Remove some sparsely or unused constructs", "bodyText": "AmplifyOperationRequest: It wasn't used anywhere.\nAsyncEvent: It wasn't used anywhere.\nAsyncOperation: AmplifyOperation did extend this, but for no apparent\npurpose, in practice. AmplifyOperation can include a start(),\nitself.\nEventListener: It was being used cosmetically by Hub, but the\nimplementation was a shell implementation that was not being called\nanywhere. Both were removed.\nOptions: It was a marker interface, with no explicit type references.\nSubclasses may be assigned by their direct type, now, instead.\nResult: It was a marker interface, with no explicit type references.\nSubclasses may be assigned by their direct type, now, instead.\n\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-05-08T07:40:08Z", "url": "https://github.com/aws-amplify/amplify-android/pull/440", "merged": true, "mergeCommit": {"oid": "cd1404e65087756ba8c2515e052fadc84e3590a2"}, "closed": true, "closedAt": "2020-05-08T17:25:38Z", "author": {"login": "jamesonwilliams"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcfM3AygH2gAyNDE1MDk2MDcxOmMzOTY0MzI5ZWU5MGQwNDllODRhMjUyNmJiYmM1M2EzZjNhMzQ5NzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcfU9ahgFqTQwODM3ODUyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c3964329ee90d049e84a2526bbbc53a3f3a34973", "author": {"user": {"login": "jamesonwilliams", "name": "Jameson Williams"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/c3964329ee90d049e84a2526bbbc53a3f3a34973", "committedDate": "2020-05-08T07:36:41Z", "message": "[core] Remove some sparesely or unused constructs\n\n1. AmplifyOperationRequest: It wasn't used anywhere.\n3. AsyncEvent: It wasn't used anywhere.\n2. AsyncOperation: AmplifyOperation did extend this, but for no apparent\n   purpose, in practice. AmplifyOperation can include a `start()`,\n   itself.\n4. EventListener: It was being used cosmetically by Hub, but the\n   implementation was a shell implementation that was not being called\n   anywhere. Both were removed.\n5. Options: It was a marker interface, with no explicit type references.\n   Subclasses may be assigned by their direct type, now, instead.\n6. Result: It was a marker interface, with no explicit type references.\n   Subclasses may be assigned by their direct type, now, instead."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "c3964329ee90d049e84a2526bbbc53a3f3a34973", "author": {"user": {"login": "jamesonwilliams", "name": "Jameson Williams"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/c3964329ee90d049e84a2526bbbc53a3f3a34973", "committedDate": "2020-05-08T07:36:41Z", "message": "[core] Remove some sparesely or unused constructs\n\n1. AmplifyOperationRequest: It wasn't used anywhere.\n3. AsyncEvent: It wasn't used anywhere.\n2. AsyncOperation: AmplifyOperation did extend this, but for no apparent\n   purpose, in practice. AmplifyOperation can include a `start()`,\n   itself.\n4. EventListener: It was being used cosmetically by Hub, but the\n   implementation was a shell implementation that was not being called\n   anywhere. Both were removed.\n5. Options: It was a marker interface, with no explicit type references.\n   Subclasses may be assigned by their direct type, now, instead.\n6. Result: It was a marker interface, with no explicit type references.\n   Subclasses may be assigned by their direct type, now, instead."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4Mzc4NTI1", "url": "https://github.com/aws-amplify/amplify-android/pull/440#pullrequestreview-408378525", "createdAt": "2020-05-08T16:57:51Z", "commit": {"oid": "c3964329ee90d049e84a2526bbbc53a3f3a34973"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxNjo1Nzo1MlrOGSscHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxNzowMDo1NlrOGSsiTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjI1NTY0Ng==", "bodyText": "Are you sure that we should get rid of this? Even though this isn't used at the moment, this will be necessary for subscribing to hub events by operation (which is currently broken, but that needs to be fixed right?)", "url": "https://github.com/aws-amplify/amplify-android/pull/440#discussion_r422255646", "createdAt": "2020-05-08T16:57:52Z", "author": {"login": "raphkim"}, "path": "core/src/main/java/com/amplifyframework/core/async/AmplifyOperation.java", "diffHunk": "@@ -59,18 +49,9 @@\n     protected AmplifyOperation(@NonNull final CategoryType categoryType,\n                                @Nullable final R request) {\n         this.categoryType = categoryType;\n-        this.operationId = UUID.randomUUID();\n         this.request = request;\n     }\n \n-    /**\n-     * Gets the ID of the operation.\n-     * @return Operation unique ID\n-     */\n-    public final UUID getOperationId() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3964329ee90d049e84a2526bbbc53a3f3a34973"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjI1NzIzMA==", "bodyText": "Ah I see you are removing this also. Nevermind about my comment about operation ID then.\nWould it be a non-trivial task to fix this before GA?", "url": "https://github.com/aws-amplify/amplify-android/pull/440#discussion_r422257230", "createdAt": "2020-05-08T17:00:56Z", "author": {"login": "raphkim"}, "path": "core/src/main/java/com/amplifyframework/hub/HubCategory.java", "diffHunk": "@@ -72,33 +70,6 @@ public CategoryType getCategoryType() {\n         return CategoryType.HUB;\n     }\n \n-    /**\n-     * Convenience method to allow callers to subscribe to Hub events\n-     * for a particular operation.  Internally, the subscription\n-     * transforms the HubEvent into the Operation's expected AsyncEvent\n-     * type, so callers may re-use their `subscriber`s.\n-     *\n-     * @param operation The operation to subscribe to events for\n-     * @param eventListener The Operation-specific listener to be invoked\n-     *                 when an AsyncEvent for that operation is received.\n-     * @param <E> The type of the event that the event listener will receive\n-     * @param <R> The type of the request object of the {@link AmplifyOperation}\n-     * @return A subscription token\n-     */\n-    @NonNull\n-    public <E, R> SubscriptionToken subscribe(\n-            @NonNull final AmplifyOperation<R> operation,\n-            @SuppressWarnings(\"unused\") @NonNull final EventListener<E> eventListener) {\n-        HubChannel channel = HubChannel.forCategoryType(operation.getCategoryType());\n-        HubSubscriber transformingListener = event -> {\n-            // TODO: check for casting of Object to E and\n-            // see if it can be prevented.\n-            // eventListener.onEvent(event.getData());\n-        };\n-\n-        return subscribe(channel, event -> true, transformingListener);\n-    }\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3964329ee90d049e84a2526bbbc53a3f3a34973"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2465, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}