{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxNDA0NDg0", "number": 653, "title": "fix(datastore) Set orchestrator status when no API configured", "bodyText": "If there is no API configured (i.e. DataStore is operating in local-only mode), calls to the DataStore end up timing out. This PR addresses this issue and modified tests to account for the scenario.\nIssue #, if available:\nDescription of changes:\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-07-17T19:45:19Z", "url": "https://github.com/aws-amplify/amplify-android/pull/653", "merged": true, "mergeCommit": {"oid": "5653e8bc4193bae880ed4dc7ce4aebe0d00499d9"}, "closed": true, "closedAt": "2020-07-17T20:14:18Z", "author": {"login": "rjuliano"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc15M5wgH2gAyNDUxNDA0NDg0OjliZTNkMGVkYmZkN2ViOTBiYjE5Mzg4N2RiNGEyOTE5ZWM4OTkyZDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc15gqaAFqTQ1MDkyNjI3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9be3d0edbfd7eb90bb193887db4a2919ec8992d4", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/9be3d0edbfd7eb90bb193887db4a2919ec8992d4", "committedDate": "2020-07-17T19:42:45Z", "message": "fix(datastore) Set isOrchestratorReady flag to true  when no API is configured"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwOTI1Njcx", "url": "https://github.com/aws-amplify/amplify-android/pull/653#pullrequestreview-450925671", "createdAt": "2020-07-17T20:03:06Z", "commit": {"oid": "9be3d0edbfd7eb90bb193887db4a2919ec8992d4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwOTI2Mjc4", "url": "https://github.com/aws-amplify/amplify-android/pull/653#pullrequestreview-450926278", "createdAt": "2020-07-17T20:04:19Z", "commit": {"oid": "9be3d0edbfd7eb90bb193887db4a2919ec8992d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QyMDowNDoyMFrOGzfrLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QyMDowNDoyMFrOGzfrLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY0OTUxNw==", "bodyText": "why is this necessary on top of the actual call to initialization?", "url": "https://github.com/aws-amplify/amplify-android/pull/653#discussion_r456649517", "createdAt": "2020-07-17T20:04:20Z", "author": {"login": "raphkim"}, "path": "aws-datastore/src/test/java/com/amplifyframework/datastore/AWSDataStorePluginTest.java", "diffHunk": "@@ -102,9 +102,20 @@ public void configureAndInitializeInLocalMode() throws AmplifyException {\n         //Configure DataStore with an empty config (All defaults)\n         ApiCategory emptyApiCategory = spy(ApiCategory.class);\n         AWSDataStorePlugin standAloneDataStorePlugin = new AWSDataStorePlugin(modelProvider, emptyApiCategory);\n+        SynchronousDataStore synchronousDataStore = SynchronousDataStore.delegatingTo(standAloneDataStorePlugin);\n         standAloneDataStorePlugin.configure(new JSONObject(), context);\n         standAloneDataStorePlugin.initialize(context);\n+\n+        // Trick the DataStore since it's not getting initialized as part of the Amplify.initialize call chain\n+        Amplify.Hub.publish(HubChannel.DATASTORE, HubEvent.create(InitializationStatus.SUCCEEDED));\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9be3d0edbfd7eb90bb193887db4a2919ec8992d4"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1870, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}