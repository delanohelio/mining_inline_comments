{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwNDEwMTU0", "number": 362, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxODo1MToxNlrODvskkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxODo1MToxNlrODvskkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMzM5OTIzOnYy", "diffSide": "RIGHT", "path": "aws-datastore/src/main/java/com/amplifyframework/datastore/AWSDataStorePlugin.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxODo1MToxNlrOGCRgvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxODo1Mzo1OFrOGCRnPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAzNzI0Ng==", "bodyText": "Yay for getting rid of useless helper methods and consolidating code in one place!", "url": "https://github.com/aws-amplify/amplify-android/pull/362#discussion_r405037246", "createdAt": "2020-04-07T18:51:16Z", "author": {"login": "TrekSoft"}, "path": "aws-datastore/src/main/java/com/amplifyframework/datastore/AWSDataStorePlugin.java", "diffHunk": "@@ -69,33 +71,48 @@\n \n     private AWSDataStorePlugin(\n             @NonNull ModelSchemaRegistry modelSchemaRegistry,\n-            @NonNull ModelProvider modelProvider) {\n+            @NonNull ModelProvider modelProvider,\n+            @NonNull GraphQlBehavior api) {\n         this.sqliteStorageAdapter = SQLiteStorageAdapter.forModels(modelSchemaRegistry, modelProvider);\n         this.storageItemChangeConverter = new GsonStorageItemChangeConverter();\n-        this.orchestrator = createOrchestrator(modelProvider, modelSchemaRegistry, sqliteStorageAdapter);\n         this.categoryInitializationsPending = new CountDownLatch(1);\n-    }\n-\n-    private Orchestrator createOrchestrator(\n-            ModelProvider modelProvider, ModelSchemaRegistry modelSchemaRegistry, LocalStorageAdapter storageAdapter) {\n-        return new Orchestrator(\n+        this.orchestrator = new Orchestrator(\n             modelProvider,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b377d44b58c6fe1b77194ac4a5328c7b02ff1aa"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAzODkwOQ==", "bodyText": "When I first created the factory method, it had some actual logic, to create several instances from only a few dependencies.\nBut as the code got refactored a few times, the argument list grew long, and yea -- the factory was only hurting the readability.", "url": "https://github.com/aws-amplify/amplify-android/pull/362#discussion_r405038909", "createdAt": "2020-04-07T18:53:58Z", "author": {"login": "jamesonwilliams"}, "path": "aws-datastore/src/main/java/com/amplifyframework/datastore/AWSDataStorePlugin.java", "diffHunk": "@@ -69,33 +71,48 @@\n \n     private AWSDataStorePlugin(\n             @NonNull ModelSchemaRegistry modelSchemaRegistry,\n-            @NonNull ModelProvider modelProvider) {\n+            @NonNull ModelProvider modelProvider,\n+            @NonNull GraphQlBehavior api) {\n         this.sqliteStorageAdapter = SQLiteStorageAdapter.forModels(modelSchemaRegistry, modelProvider);\n         this.storageItemChangeConverter = new GsonStorageItemChangeConverter();\n-        this.orchestrator = createOrchestrator(modelProvider, modelSchemaRegistry, sqliteStorageAdapter);\n         this.categoryInitializationsPending = new CountDownLatch(1);\n-    }\n-\n-    private Orchestrator createOrchestrator(\n-            ModelProvider modelProvider, ModelSchemaRegistry modelSchemaRegistry, LocalStorageAdapter storageAdapter) {\n-        return new Orchestrator(\n+        this.orchestrator = new Orchestrator(\n             modelProvider,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAzNzI0Ng=="}, "originalCommit": {"oid": "4b377d44b58c6fe1b77194ac4a5328c7b02ff1aa"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1407, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}