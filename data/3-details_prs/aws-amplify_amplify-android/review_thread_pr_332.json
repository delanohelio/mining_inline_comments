{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0MzM5NTYy", "number": 332, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxODozNzoxMlrODryDQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMToxMDoyM1rODr1enQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MjM1Mzk0OnYy", "diffSide": "RIGHT", "path": "aws-datastore/src/androidTest/java/com/amplifyframework/datastore/AWSDataStorePluginInstrumentedTest.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxODozNzoxMlrOF8VG2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMTo0Mjo0M1rOF8bkfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgwNDY5Nw==", "bodyText": "Can you move this to just the specific @Test that's failing? Having this at the class level will prevent some well-functioning tests from being exercised.", "url": "https://github.com/aws-amplify/amplify-android/pull/332#discussion_r398804697", "createdAt": "2020-03-26T18:37:12Z", "author": {"login": "jamesonwilliams"}, "path": "aws-datastore/src/androidTest/java/com/amplifyframework/datastore/AWSDataStorePluginInstrumentedTest.java", "diffHunk": "@@ -46,6 +47,7 @@\n  * which were defined by the schema in:\n  * testmodels/src/main/java/com/amplifyframework/testmodels/commentsblog/schema.graphql.\n  */\n+@Ignore(\"Currently does not pass.\") // TODO: fix the error; re-enable test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44a5a6767f404ab451b2b362df53fa81d140ba18"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgxODkzNQ==", "bodyText": "When i tried just ignoring the blogOwnerSavedIntoDataStoreIsThenQueriableInRemoteAppSyncApi, the other test also failed. I think this test failing initially crashes the whole test suite, which made us unable to catch it last time.", "url": "https://github.com/aws-amplify/amplify-android/pull/332#discussion_r398818935", "createdAt": "2020-03-26T18:59:02Z", "author": {"login": "raphkim"}, "path": "aws-datastore/src/androidTest/java/com/amplifyframework/datastore/AWSDataStorePluginInstrumentedTest.java", "diffHunk": "@@ -46,6 +47,7 @@\n  * which were defined by the schema in:\n  * testmodels/src/main/java/com/amplifyframework/testmodels/commentsblog/schema.graphql.\n  */\n+@Ignore(\"Currently does not pass.\") // TODO: fix the error; re-enable test", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgwNDY5Nw=="}, "originalCommit": {"oid": "44a5a6767f404ab451b2b362df53fa81d140ba18"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkxMDU5MQ==", "bodyText": "Hm, alright. We can come back to it.", "url": "https://github.com/aws-amplify/amplify-android/pull/332#discussion_r398910591", "createdAt": "2020-03-26T21:42:43Z", "author": {"login": "jamesonwilliams"}, "path": "aws-datastore/src/androidTest/java/com/amplifyframework/datastore/AWSDataStorePluginInstrumentedTest.java", "diffHunk": "@@ -46,6 +47,7 @@\n  * which were defined by the schema in:\n  * testmodels/src/main/java/com/amplifyframework/testmodels/commentsblog/schema.graphql.\n  */\n+@Ignore(\"Currently does not pass.\") // TODO: fix the error; re-enable test", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgwNDY5Nw=="}, "originalCommit": {"oid": "44a5a6767f404ab451b2b362df53fa81d140ba18"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MjkxNTQ5OnYy", "diffSide": "RIGHT", "path": "core/src/androidTest/java/com/amplifyframework/hub/HubInstrumentedTest.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMToxMDoyM1rOF8anEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMTo0MjozM1rOF8bkOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg5NDg2Ng==", "bodyText": "I had tried changing this to TimeUnit.SECONDS.toMilliseconds(1) -- a full second -- and the test still failed in the same way. Unfortunately, I don't think this will solve the problem.", "url": "https://github.com/aws-amplify/amplify-android/pull/332#discussion_r398894866", "createdAt": "2020-03-26T21:10:23Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/androidTest/java/com/amplifyframework/hub/HubInstrumentedTest.java", "diffHunk": "@@ -43,7 +43,7 @@\n  */\n public final class HubInstrumentedTest {\n     private static final Logger LOG = Amplify.Logging.forNamespace(\"amplify:core:test\");\n-    private static final long SUBSCRIPTION_RECEIVE_TIMEOUT_MS = 200;\n+    private static final long SUBSCRIPTION_RECEIVE_TIMEOUT_MS = 300;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96b99079daca82b581cfc7cdb492c21195cc369e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg5ODIyNg==", "bodyText": "Hmm that's weird. It passes consistently with 200ms locally, and it seems to have passed with 300ms in circleCI", "url": "https://github.com/aws-amplify/amplify-android/pull/332#discussion_r398898226", "createdAt": "2020-03-26T21:17:09Z", "author": {"login": "raphkim"}, "path": "core/src/androidTest/java/com/amplifyframework/hub/HubInstrumentedTest.java", "diffHunk": "@@ -43,7 +43,7 @@\n  */\n public final class HubInstrumentedTest {\n     private static final Logger LOG = Amplify.Logging.forNamespace(\"amplify:core:test\");\n-    private static final long SUBSCRIPTION_RECEIVE_TIMEOUT_MS = 200;\n+    private static final long SUBSCRIPTION_RECEIVE_TIMEOUT_MS = 300;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg5NDg2Ng=="}, "originalCommit": {"oid": "96b99079daca82b581cfc7cdb492c21195cc369e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkxMDUyMw==", "bodyText": "It  always passes at 200ms locally for me too.\nWhen I had it at 1,000ms, it continued to fail for me (most of the time) when I had a PR up for it.\nIt looked like - after 1000ms - only two of the messages were received, instead of 10.\nEven assuming that the publish/receive flows were all performed serially, 100ms would be a horridly long time to pass off an in-memory data structure.\nSo anyway, I think the problem is elsewhere. Probably around threads available to the test process in the test farm?\nSomething like that? Or perhaps a different test is polluting the state of the test environment, and it just happens to surface as an issue while this test runs?", "url": "https://github.com/aws-amplify/amplify-android/pull/332#discussion_r398910523", "createdAt": "2020-03-26T21:42:33Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/androidTest/java/com/amplifyframework/hub/HubInstrumentedTest.java", "diffHunk": "@@ -43,7 +43,7 @@\n  */\n public final class HubInstrumentedTest {\n     private static final Logger LOG = Amplify.Logging.forNamespace(\"amplify:core:test\");\n-    private static final long SUBSCRIPTION_RECEIVE_TIMEOUT_MS = 200;\n+    private static final long SUBSCRIPTION_RECEIVE_TIMEOUT_MS = 300;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg5NDg2Ng=="}, "originalCommit": {"oid": "96b99079daca82b581cfc7cdb492c21195cc369e"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1366, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}