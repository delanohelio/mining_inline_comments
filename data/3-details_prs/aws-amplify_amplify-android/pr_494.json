{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwNTg2ODA5", "number": 494, "title": "[aws-datastore] Consider the model version before merging", "bodyText": "Upon merging a model from sync, mutation response, subscription data,\ninspect the model version. If the version is equal to or less than the\ncurrent version in the system, refuse to merge.\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-05-20T08:18:31Z", "url": "https://github.com/aws-amplify/amplify-android/pull/494", "merged": true, "mergeCommit": {"oid": "242434725e394a5707804a3c1a6b96cf191e32c1"}, "closed": true, "closedAt": "2020-05-20T16:26:03Z", "author": {"login": "jamesonwilliams"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjFYWMgH2gAyNDIwNTg2ODA5OjM5ZTU4ZDRmYmM3NTBhNTYxY2E3NGRhN2U3MzY5NDQwMGRlNjEzZjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjLfPxgH2gAyNDIwNTg2ODA5OjM3MTg0NjRiZGI2OWE1ZDY2MDczY2JhM2Q2M2Y5YjFiY2U3NGQ5OWE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "39e58d4fbc750a561ca74da7e73694400de613f9", "author": {"user": {"login": "jamesonwilliams", "name": "Jameson Williams"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/39e58d4fbc750a561ca74da7e73694400de613f9", "committedDate": "2020-05-20T09:09:33Z", "message": "[aws-datastore] Consider the model version before merging\n\nUpon merging a model from sync, mutation response, subscription data,\ninspect the model version. If the version is equal to or less than the\ncurrent version in the system, refuse to merge."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "39e58d4fbc750a561ca74da7e73694400de613f9", "author": {"user": {"login": "jamesonwilliams", "name": "Jameson Williams"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/39e58d4fbc750a561ca74da7e73694400de613f9", "committedDate": "2020-05-20T09:09:33Z", "message": "[aws-datastore] Consider the model version before merging\n\nUpon merging a model from sync, mutation response, subscription data,\ninspect the model version. If the version is equal to or less than the\ncurrent version in the system, refuse to merge."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MjczNDk3", "url": "https://github.com/aws-amplify/amplify-android/pull/494#pullrequestreview-415273497", "createdAt": "2020-05-20T12:19:03Z", "commit": {"oid": "39e58d4fbc750a561ca74da7e73694400de613f9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1Mjc0NDM4", "url": "https://github.com/aws-amplify/amplify-android/pull/494#pullrequestreview-415274438", "createdAt": "2020-05-20T12:20:15Z", "commit": {"oid": "39e58d4fbc750a561ca74da7e73694400de613f9"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjoyMDoxNVrOGYIzsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjoyMDoxNVrOGYIzsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk2MzMxNA==", "bodyText": "This comment doesn't square with the commented out code.", "url": "https://github.com/aws-amplify/amplify-android/pull/494#discussion_r427963314", "createdAt": "2020-05-20T12:20:15Z", "author": {"login": "jpignata"}, "path": "aws-datastore/src/test/java/com/amplifyframework/datastore/syncengine/MergerTest.java", "diffHunk": "@@ -139,7 +138,7 @@ public void mergeSaveForNotExistingItem() throws DataStoreException {\n             .build();\n         ModelMetadata metadata = new ModelMetadata(blogOwner.getId(), false, 1, Time.now());\n         // Note that putInStore is NOT called!", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e58d4fbc750a561ca74da7e73694400de613f9"}, "originalPosition": 52}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68ad70313974bc3e76cbbc6927c22147a2a18336", "author": {"user": {"login": "jamesonwilliams", "name": "Jameson Williams"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/68ad70313974bc3e76cbbc6927c22147a2a18336", "committedDate": "2020-05-20T16:15:54Z", "message": "fixup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3718464bdb69a5d66073cba3d63f9b1bce74d99a", "author": {"user": {"login": "jamesonwilliams", "name": "Jameson Williams"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/3718464bdb69a5d66073cba3d63f9b1bce74d99a", "committedDate": "2020-05-20T16:16:31Z", "message": "Merge remote-tracking branch 'origin/master' into consider_version_when_merging"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2520, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}