{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1MzExNjEz", "number": 661, "title": "Sends proper user agent for Auth", "bodyText": "Currently Auth isn't sending the proper Amplify user agent because AWSMobileClient overrides it. This works in conjunction with this PR on the SDK branch to enable us to override that user agent with our own: aws-amplify/aws-sdk-android#2024\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-07-22T19:28:50Z", "url": "https://github.com/aws-amplify/amplify-android/pull/661", "merged": true, "mergeCommit": {"oid": "273516e810fd52f0d3f5a3338ce3ac4b2a8ef2f6"}, "closed": true, "closedAt": "2020-08-03T14:47:50Z", "author": {"login": "TrekSoft"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3f9gGgH2gAyNDU1MzExNjEzOjMxZDlhY2Y4Yzk2NmRkMGMxNWRiZjFhNTBjYWIyNDUyMGJiZTQ2MTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3hgXQAFqTQ1MzY5MDAxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "31d9acf8c966dd0c15dbf1a50cab24520bbe4612", "author": {"user": {"login": "TrekSoft", "name": "David Daudelin"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/31d9acf8c966dd0c15dbf1a50cab24520bbe4612", "committedDate": "2020-07-22T19:26:09Z", "message": "Sends proper user agent for Auth"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNjIzOTQ1", "url": "https://github.com/aws-amplify/amplify-android/pull/661#pullrequestreview-453623945", "createdAt": "2020-07-22T19:34:36Z", "commit": {"oid": "31d9acf8c966dd0c15dbf1a50cab24520bbe4612"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNjM3ODQ5", "url": "https://github.com/aws-amplify/amplify-android/pull/661#pullrequestreview-453637849", "createdAt": "2020-07-22T19:55:50Z", "commit": {"oid": "31d9acf8c966dd0c15dbf1a50cab24520bbe4612"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxOTo1NTo1MFrOG1x9DA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxOTo1NTo1MFrOG1x9DA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA0NjE1Ng==", "bodyText": "It's a bad practice to mutate method arguments. Here, the following occurs:\n\npluginConfiguration has state A.\nconfigure(..., pluginConfiguration, ...) runs.\npluginConfiguration has state B.\n\nInstead, I would do:\nJSONObject mobileClientConfig = new JSONObject(pluginConfiguration);\nmobileClientConfig.put(\"UserAgentOverride\", UserAgent.string());", "url": "https://github.com/aws-amplify/amplify-android/pull/661#discussion_r459046156", "createdAt": "2020-07-22T19:55:50Z", "author": {"login": "jamesonwilliams"}, "path": "aws-auth-cognito/src/main/java/com/amplifyframework/auth/cognito/AWSCognitoAuthPlugin.java", "diffHunk": "@@ -124,6 +126,14 @@ public void configure(\n         final AtomicReference<Exception> asyncException = new AtomicReference<>();\n         LogFactory.setLevel(LogFactory.Level.OFF);\n \n+        try {\n+            pluginConfiguration.put(\"UserAgentOverride\", UserAgent.string());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31d9acf8c966dd0c15dbf1a50cab24520bbe4612"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b34a635301dfc21f46881254afd02b67734c7102", "author": {"user": {"login": "TrekSoft", "name": "David Daudelin"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/b34a635301dfc21f46881254afd02b67734c7102", "committedDate": "2020-07-22T20:18:36Z", "message": "Addresses PR feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNjkwMDE5", "url": "https://github.com/aws-amplify/amplify-android/pull/661#pullrequestreview-453690019", "createdAt": "2020-07-22T21:14:08Z", "commit": {"oid": "b34a635301dfc21f46881254afd02b67734c7102"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1886, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}