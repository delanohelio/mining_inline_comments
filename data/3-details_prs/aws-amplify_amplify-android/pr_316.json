{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxNTE1ODM4", "number": 316, "title": "Add Android device details to User-Agent", "bodyText": "Issue #, if available: n/a\nDescription of changes: Currently the User-Agent header passed to HTTP servers includes unnecessary details such as the versions of the Linux kernel and Dalvik/ART VMs. This change removes these elements and adds the version of Android, device manufacturer, and device model to the User-Agent string. Details will be passed as they presented by Android with spaces in tact. These data points will aid in future support efforts and decisions.\nFor example, on my test phone, the constructed User-Agent is:\namplify-android/master (Android 9; HMD Global Nokia 7.1; en_US)\n\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-03-20T12:52:13Z", "url": "https://github.com/aws-amplify/amplify-android/pull/316", "merged": true, "mergeCommit": {"oid": "801416b13fb977778f68eea9c82d1a96bda4f858"}, "closed": true, "closedAt": "2020-03-23T20:50:26Z", "author": {"login": "jpignata"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcPhUX6ABqjMxNDk1MzA4MTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQkoyMAFqTM3OTgxMTI0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4NTI4MzIx", "url": "https://github.com/aws-amplify/amplify-android/pull/316#pullrequestreview-378528321", "createdAt": "2020-03-20T14:25:29Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxNDoyNToyOVrOF5V23w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxNDoyNToyOVrOF5V23w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY3MTI2Mw==", "bodyText": "Do you know why this was here before and why we no longer need it?", "url": "https://github.com/aws-amplify/amplify-android/pull/316#discussion_r395671263", "createdAt": "2020-03-20T14:25:29Z", "author": {"login": "TrekSoft"}, "path": "core/src/main/java/com/amplifyframework/util/UserAgent.java", "diffHunk": "@@ -128,7 +122,7 @@ private static String sanitize(@Nullable String string) {\n                 return \"UNKNOWN\";\n             }\n \n-            return string.replace(' ', '_');\n+            return string;", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 77}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4NTg0OTU4", "url": "https://github.com/aws-amplify/amplify-android/pull/316#pullrequestreview-378584958", "createdAt": "2020-03-20T15:30:11Z", "commit": null, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4ODU2MDcw", "url": "https://github.com/aws-amplify/amplify-android/pull/316#pullrequestreview-378856070", "createdAt": "2020-03-20T23:06:25Z", "commit": null, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMzowNjoyNVrOF5lbnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMzowNjoyNVrOF5lbnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkyNjQyOA==", "bodyText": "Mohit Srivastava & Nikhil Dabhade had requested that we use the same format as is used in the SDK.\nHowever, my guess is that not a ton of thought had gone into designing the SDK one, previously. More just that it had set a formatting precedence.\nAnyway, the SDK had this _ character, among other weird choices (several of which John is correcting in this PR.)\nIf the _ is weird, let's get rid of it. The best outcome is a well-formatted and usable User-Agent string.", "url": "https://github.com/aws-amplify/amplify-android/pull/316#discussion_r395926428", "createdAt": "2020-03-20T23:06:25Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/main/java/com/amplifyframework/util/UserAgent.java", "diffHunk": "@@ -128,7 +122,7 @@ private static String sanitize(@Nullable String string) {\n                 return \"UNKNOWN\";\n             }\n \n-            return string.replace(' ', '_');\n+            return string;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY3MTI2Mw=="}, "originalCommit": null, "originalPosition": 77}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55cc53480ce09b367ad9d538ca7837aadec81af3", "author": {"user": {"login": "jpignata", "name": "John Pignata"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/55cc53480ce09b367ad9d538ca7837aadec81af3", "committedDate": "2020-03-23T15:33:20Z", "message": "Add Android device details to User-Agent\n\nCurrently the User-Agent header passed to HTTP servers includes\nunnecessary details such as the versions of the Linux kernel and\nDalvik/ART VMs. This change removes these elements and adds the version\nof Android, device manufacturer, and device model to the User-Agent\nstring. Details will be passed as they presented by Android with spaces\nintact. These data points will aid in future support efforts and\ndecisions."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "55cc53480ce09b367ad9d538ca7837aadec81af3", "author": {"user": {"login": "jpignata", "name": "John Pignata"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/55cc53480ce09b367ad9d538ca7837aadec81af3", "committedDate": "2020-03-23T15:33:20Z", "message": "Add Android device details to User-Agent\n\nCurrently the User-Agent header passed to HTTP servers includes\nunnecessary details such as the versions of the Linux kernel and\nDalvik/ART VMs. This change removes these elements and adds the version\nof Android, device manufacturer, and device model to the User-Agent\nstring. Details will be passed as they presented by Android with spaces\nintact. These data points will aid in future support efforts and\ndecisions."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5ODExMjQw", "url": "https://github.com/aws-amplify/amplify-android/pull/316#pullrequestreview-379811240", "createdAt": "2020-03-23T20:50:00Z", "commit": {"oid": "55cc53480ce09b367ad9d538ca7837aadec81af3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2596, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}