{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5Mjg0Mjkx", "number": 927, "title": "feature(build): Trigger unit and integration tests in CodeBuild", "bodyText": "Issue #, if available:\nDescription of changes:\nPlease ignore the amount of commits :) I was testing the webhooks\nHere's a summary of the changes in the PR:\n\nAdding the @ignore annotation at the method level for test suites that had the @ignore at the class level. This was causing an issue when running the tests in DeviceFarm (working on figuring out why)\nAdded buildspec files. One is used to run unit tests when a PR is created/updated against the main branch and the other is used in a CodeBuild project that builds, packages and triggers the integration tests in device farm.\nCreated a gradle task that will allow us to pull backend configuration config files from inside CodeBuild. This is a work in progress. The current backend resources are spread across multiple accounts right now so it will take some time to consolidate them. For now, we're copying the files from an S3 bucket and using the same backend resources we leverage today. This will allow us to build equivalent functionality in Code* and then we can finish migrating backend resources.\nA couple of shell scripts to be used inside CodeBuild.\nA shell script to run the CodeBuild process locally. This is actually a copy of the script referenced in the docs. It's here for convenience but can be removed if we don't feel like it belongs here.\n\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-10-23T23:45:34Z", "url": "https://github.com/aws-amplify/amplify-android/pull/927", "merged": true, "mergeCommit": {"oid": "3ab05442608fb26508be233b88bc68fef0014513"}, "closed": true, "closedAt": "2020-11-02T19:41:46Z", "author": {"login": "rjuliano"}, "timelineItems": {"totalCount": 54, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUHaYIAH2gAyNTA5Mjg0MjkxOjc3MjkzNDZiOTY5YWE0NDc0YmIwZDNkNzY1OWMzNWY2YzUwNjk0NDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYp55jAFqTUyMTkzOTMyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7729346b969aa4474bb0d3d7659c35f6c5069448", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/7729346b969aa4474bb0d3d7659c35f6c5069448", "committedDate": "2020-10-19T17:13:52Z", "message": "chore(build): Update buildspec to build test APKs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c44dcd791b928ada515743d67be79b203c447a4", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/4c44dcd791b928ada515743d67be79b203c447a4", "committedDate": "2020-10-19T19:25:27Z", "message": "Copy different reports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d56de48a338e5e4def3e9026d32a3fd6155fc45d", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/d56de48a338e5e4def3e9026d32a3fd6155fc45d", "committedDate": "2020-10-19T21:02:10Z", "message": "Copy config files to all subdirectories"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08c00e6729feef92bc89438d0cbecf38acbdfe4d", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/08c00e6729feef92bc89438d0cbecf38acbdfe4d", "committedDate": "2020-10-19T22:17:07Z", "message": "Commenting out ignored test causing build failure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5feaa5975ad067784ddaf6c3279ba52347dfc76f", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/5feaa5975ad067784ddaf6c3279ba52347dfc76f", "committedDate": "2020-10-19T22:30:21Z", "message": "Checkstyle issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab56ad3dfa3d650a70121a87058c519ff86b073f", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/ab56ad3dfa3d650a70121a87058c519ff86b073f", "committedDate": "2020-10-19T22:43:29Z", "message": "Revert to previous test reports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f095f7c77f24746a622be421c65257acd2e66063", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/f095f7c77f24746a622be421c65257acd2e66063", "committedDate": "2020-10-21T14:26:36Z", "message": "Ignoring individual tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bc5f305e9d85c59f1037717bf463c1dcffa9ee1", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/2bc5f305e9d85c59f1037717bf463c1dcffa9ee1", "committedDate": "2020-10-23T16:22:10Z", "message": "Set node to version 12"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f3e785514383d0a9ea8ca937bae290de38e53ef", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/0f3e785514383d0a9ea8ca937bae290de38e53ef", "committedDate": "2020-10-23T16:31:45Z", "message": "Fix runtime name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d30e96f451175acb55e906db021169951c3ed37b", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/d30e96f451175acb55e906db021169951c3ed37b", "committedDate": "2020-10-23T16:43:56Z", "message": "Pin cli version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69d24d6e8e20fbf07b69ca5e675f90b20d648f99", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/69d24d6e8e20fbf07b69ca5e675f90b20d648f99", "committedDate": "2020-10-23T23:05:53Z", "message": "Add ignore at the function level instead of class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b56ac7d591e531e024007298d661cda6933a2fc", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/5b56ac7d591e531e024007298d661cda6933a2fc", "committedDate": "2020-10-23T23:20:04Z", "message": "Checkstyle fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3152dd70f256acec5e93c829efa6de74cf880974", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/3152dd70f256acec5e93c829efa6de74cf880974", "committedDate": "2020-10-23T23:30:45Z", "message": "Checkstyle fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "045066c6ae9f204dd7e2466ba6f0889a5d9eee01", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/045066c6ae9f204dd7e2466ba6f0889a5d9eee01", "committedDate": "2020-10-23T23:43:14Z", "message": "Checkstyle fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d277aeff5172d28a591e2de639323f8d1cf58209", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/d277aeff5172d28a591e2de639323f8d1cf58209", "committedDate": "2020-10-23T23:56:21Z", "message": "Checkstyle fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44a9845a979d8ae92cf91b7dbcf170c01473fa5a", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/44a9845a979d8ae92cf91b7dbcf170c01473fa5a", "committedDate": "2020-10-25T14:51:03Z", "message": "Add code to pull amplify backend config for tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5aeab5fa4d56e1665d7470bd4f307b82fa7381b0", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/5aeab5fa4d56e1665d7470bd4f307b82fa7381b0", "committedDate": "2020-10-25T15:20:06Z", "message": "Adding echo statements for troubleshooting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10fc85a439dc5777939af33208e2e50e18239ee7", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/10fc85a439dc5777939af33208e2e50e18239ee7", "committedDate": "2020-10-25T22:00:42Z", "message": "Add task dependency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49ce450bf211174da50abbba7c04e103c4a96c2c", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/49ce450bf211174da50abbba7c04e103c4a96c2c", "committedDate": "2020-10-25T22:11:41Z", "message": "Fix task dependency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a530d1c572ab31b22821e82e229404761eb66327", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/a530d1c572ab31b22821e82e229404761eb66327", "committedDate": "2020-10-25T22:32:53Z", "message": "Updating build script dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "331595eb7dfea026fff5a1c0d72c3c95dd5129a8", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/331595eb7dfea026fff5a1c0d72c3c95dd5129a8", "committedDate": "2020-10-25T22:53:38Z", "message": "Ignore configureAndInitializeInLocalMode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b81a7b0f08ba3331588ec12dc1445b199496934", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/0b81a7b0f08ba3331588ec12dc1445b199496934", "committedDate": "2020-10-25T23:32:59Z", "message": "Pull config file in pre-build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07e5e05341ca18906b801bb9dca94eda9d14f375", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/07e5e05341ca18906b801bb9dca94eda9d14f375", "committedDate": "2020-10-25T23:36:08Z", "message": "Don't add task as dependency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ceb929bb9a5b9033a4189658b61d1570634c033", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/6ceb929bb9a5b9033a4189658b61d1570634c033", "committedDate": "2020-10-26T00:14:34Z", "message": "Add debugging statements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b82b75a88e06205839aa4f39f35e9af99c909880", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/b82b75a88e06205839aa4f39f35e9af99c909880", "committedDate": "2020-10-26T00:46:47Z", "message": "Modify resource dir"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d94c12086bc7e74f2b5a6ab46a2f262895fbbb56", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/d94c12086bc7e74f2b5a6ab46a2f262895fbbb56", "committedDate": "2020-10-26T01:03:28Z", "message": "Fixing resource path"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NTA0NzM4", "url": "https://github.com/aws-amplify/amplify-android/pull/927#pullrequestreview-516504738", "createdAt": "2020-10-26T07:00:01Z", "commit": {"oid": "d94c12086bc7e74f2b5a6ab46a2f262895fbbb56"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwNzowMDowMlrOHoCvOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwNzozNzozNVrOHoDi1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTc0OTk0NQ==", "bodyText": "Can this live in the root build.gradle, so that you don't have to add it to each module?", "url": "https://github.com/aws-amplify/amplify-android/pull/927#discussion_r511749945", "createdAt": "2020-10-26T07:00:02Z", "author": {"login": "jamesonwilliams"}, "path": "aws-api/build.gradle", "diffHunk": "@@ -17,6 +17,8 @@ apply plugin: 'com.android.library'\n apply from: rootProject.file(\"configuration/checkstyle.gradle\")\n apply from: rootProject.file(\"configuration/publishing.gradle\")\n \n+ext.instrumentedTestAmplifyBackend = \"ApiInstrumentedTests\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d94c12086bc7e74f2b5a6ab46a2f262895fbbb56"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTc1MDI4Mg==", "bodyText": "The test is @Ignore'd anyway -- do you need to comment the code out, too?", "url": "https://github.com/aws-amplify/amplify-android/pull/927#discussion_r511750282", "createdAt": "2020-10-26T07:01:02Z", "author": {"login": "jamesonwilliams"}, "path": "aws-api/src/androidTest/java/com/amplifyframework/api/aws/GraphQLInstrumentationTest.java", "diffHunk": "@@ -123,12 +120,12 @@ public void subscriptionReceivesMutationOverAwsIam() throws ApiException {\n     @Ignore(\"Relies on an AWS account which is no longer active.  Resources need to be regenerated.\")\n     public void subscriptionReceivesMutationOverCognitoUserPools() throws\n             ApiException, JSONException, SynchronousMobileClient.MobileClientException {\n-        currentApiName = API_WITH_COGNITO_USER_POOLS;\n+        /*currentApiName = API_WITH_COGNITO_USER_POOLS;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d94c12086bc7e74f2b5a6ab46a2f262895fbbb56"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTc1MDc1OQ==", "bodyText": "Can you add these new task definitions (including runCodeBuildScript) under configuration/instrumentation-tests.gradle or something?", "url": "https://github.com/aws-amplify/amplify-android/pull/927#discussion_r511750759", "createdAt": "2020-10-26T07:02:35Z", "author": {"login": "jamesonwilliams"}, "path": "build.gradle", "diffHunk": "@@ -110,11 +110,34 @@ ext {\n }\n \n subprojects { project ->\n+    task pullInstrumentedTestAmplifyConfig() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d94c12086bc7e74f2b5a6ab46a2f262895fbbb56"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTc1MTQxNQ==", "bodyText": "How is Corretto being used?", "url": "https://github.com/aws-amplify/amplify-android/pull/927#discussion_r511751415", "createdAt": "2020-10-26T07:04:49Z", "author": {"login": "jamesonwilliams"}, "path": "buildspec.yml", "diffHunk": "@@ -15,37 +15,44 @@ env:\n   shell: /bin/sh\n phases:\n   install:\n+    runtime-versions:\n+      java: corretto8", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d94c12086bc7e74f2b5a6ab46a2f262895fbbb56"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTc1MTc0Ng==", "bodyText": "Do we know how/why these tests fail? Can we add that description here, instead of this note?", "url": "https://github.com/aws-amplify/amplify-android/pull/927#discussion_r511751746", "createdAt": "2020-10-26T07:05:45Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/androidTest/java/com/amplifyframework/devmenu/DevMenuMainViewInstrumentationTest.java", "diffHunk": "@@ -60,7 +59,7 @@ public void resetView() {\n      * Tests that the app is navigated to the environment information\n      * screen when the view environment information button is pressed.\n      */\n-    @Test\n+    @Ignore(\"DeviceFarm does not appear to recognize ignore at the class level.\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d94c12086bc7e74f2b5a6ab46a2f262895fbbb56"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTc1MzA1Nw==", "bodyText": "You can kill these lines, use set -x while debugging your script.", "url": "https://github.com/aws-amplify/amplify-android/pull/927#discussion_r511753057", "createdAt": "2020-10-26T07:10:02Z", "author": {"login": "jamesonwilliams"}, "path": "scripts/pull_backend_config.sh", "diffHunk": "@@ -0,0 +1,30 @@\n+base_dir=`pwd`\n+project_name=$1\n+module_name=$2\n+echo \"base_dir=$base_dir\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d94c12086bc7e74f2b5a6ab46a2f262895fbbb56"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTc2MjM5MQ==", "bodyText": "I wonder if you can write these JSON blurbs in more more a structured format, somehow?\nread -d '' amplify_arg << EOF\n{\n    \"key\": \"value\"\n}\nEOF", "url": "https://github.com/aws-amplify/amplify-android/pull/927#discussion_r511762391", "createdAt": "2020-10-26T07:35:37Z", "author": {"login": "jamesonwilliams"}, "path": "scripts/pull_backend_config.sh", "diffHunk": "@@ -0,0 +1,30 @@\n+base_dir=`pwd`\n+project_name=$1\n+module_name=$2\n+echo \"base_dir=$base_dir\"\n+echo \"Starting project $project_name\"\n+tmp_amplify_dir=\"$module_name/build/amplify_config/$project_name\"\n+\n+echo \"Removing $tmp_amplify_dir\"\n+rm -rf $tmp_amplify_dir\n+\n+echo \"Creating $tmp_amplify_dir\"\n+mkdir -p $tmp_amplify_dir\n+\n+cd $tmp_amplify_dir\n+res_dir=\"$base_dir/$module_name/src/androidTest/res/raw\"\n+echo \"Resource directory for $module_name: $res_dir\"\n+\n+app_id=`aws amplify list-apps --query \"apps[?name=='$project_name'].appId\" --output text`\n+echo \"Amplify app_id=$app_id\"\n+amplify pull \\\n+  --amplify \"{\\\"projectName\\\":\\\"$project_name\\\",\\\"appId\\\":\\\"$app_id\\\",\\\"envName\\\":\\\"main\\\",\\\"defaultEditor\\\":\\\"code\\\"}\" \\\n+  --frontend \"{\\\"frontend\\\":\\\"android\\\",\\\"config\\\":{\\\"ResDir\\\":\\\"config_files\\\"}}\" \\\n+  --providers \"{\\\"awscloudformation\\\":{\\\"configLevel\\\":\\\"general\\\",\\\"useProfile\\\":false,\\\"region\\\":\\\"us-east-1\\\"}}\" \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d94c12086bc7e74f2b5a6ab46a2f262895fbbb56"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTc2MzE1Nw==", "bodyText": "You can use a here-doc:\ncat <<- EOF\n    stuff without echo\n    just regular text\nEOF", "url": "https://github.com/aws-amplify/amplify-android/pull/927#discussion_r511763157", "createdAt": "2020-10-26T07:37:35Z", "author": {"login": "jamesonwilliams"}, "path": "scripts/codebuild_build.sh", "diffHunk": "@@ -0,0 +1,193 @@\n+#!/bin/bash\n+\n+function allOSRealPath() {\n+    if isOSWindows\n+    then\n+        path=\"\"\n+        case $1 in\n+            .* ) path=\"$PWD/${1#./}\" ;;\n+            /* ) path=\"$1\" ;;\n+            *  ) path=\"/$1\" ;;\n+        esac\n+\n+        echo \"/$path\" | sed -e 's/\\\\/\\//g' -e 's/://' -e 's/./\\U&/3'\n+    else\n+        case $1 in\n+            /* ) echo \"$1\"; exit;;\n+            *  ) echo \"$PWD/${1#./}\"; exit;;\n+        esac\n+    fi\n+}\n+\n+function isOSWindows() {\n+    if [ $OSTYPE == \"msys\" ]\n+    then\n+        return 0\n+    else\n+        return 1\n+    fi\n+}\n+\n+function usage {\n+    echo \"usage: codebuild_build.sh [-i image_name] [-a artifact_output_directory] [options]\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d94c12086bc7e74f2b5a6ab46a2f262895fbbb56"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d62deae1a7939a6b54ba616e9fb590f61b7eca0", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/7d62deae1a7939a6b54ba616e9fb590f61b7eca0", "committedDate": "2020-10-26T13:11:48Z", "message": "Add option to pull config files from S3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54509db33ed0176bcd1958a52e450d0f246a33d2", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/54509db33ed0176bcd1958a52e450d0f246a33d2", "committedDate": "2020-10-26T14:54:35Z", "message": "Addressing PR feedback. Moving gradle task"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d11625c04a50c3eb090bcd3fd20bcc7ee075336", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/5d11625c04a50c3eb090bcd3fd20bcc7ee075336", "committedDate": "2020-10-26T16:10:46Z", "message": "Tweak runtime config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35e7c18a48610591a2ff921fc9b03e818180856b", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/35e7c18a48610591a2ff921fc9b03e818180856b", "committedDate": "2020-10-26T16:39:44Z", "message": "Inherit java runtime from android runtime"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "283c79db53bd8443e1b7058407ebed8198f27186", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/283c79db53bd8443e1b7058407ebed8198f27186", "committedDate": "2020-10-26T16:59:37Z", "message": "clean up gradle file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5153b6cbe0c57b60644065722d45ef088dc82ed", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/d5153b6cbe0c57b60644065722d45ef088dc82ed", "committedDate": "2020-10-26T18:36:35Z", "message": "Add ignore annotation to methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "565c1f70a7cc37072b8f7ade040e1213e7984027", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/565c1f70a7cc37072b8f7ade040e1213e7984027", "committedDate": "2020-10-26T19:11:41Z", "message": "Checkstyle fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "950c98986061905fd32d650e4fdd034b5b3f67dc", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/950c98986061905fd32d650e4fdd034b5b3f67dc", "committedDate": "2020-10-27T01:08:47Z", "message": "Copying different test files for report"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10c6e11e84b2b47094e8e1ea961fd6a7e40f2f5a", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/10c6e11e84b2b47094e8e1ea961fd6a7e40f2f5a", "committedDate": "2020-10-28T01:19:19Z", "message": "Testing trigger"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b735f4468d1cba4eb1ab5befef1206e52eb29acd", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/b735f4468d1cba4eb1ab5befef1206e52eb29acd", "committedDate": "2020-10-29T02:45:14Z", "message": "Adding separate buildspec files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ff6ed00883e390314abac72a54b2a86b0a6b75f", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/8ff6ed00883e390314abac72a54b2a86b0a6b75f", "committedDate": "2020-10-29T03:14:36Z", "message": "Cleanup buildspec"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8724b02243d57ee9338defc5634e5ac07f8ba6d1", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/8724b02243d57ee9338defc5634e5ac07f8ba6d1", "committedDate": "2020-10-29T03:31:50Z", "message": "Remove buildspec from repo root"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64b3f5caefb083eec36c8da7260997ddec30e7d3", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/64b3f5caefb083eec36c8da7260997ddec30e7d3", "committedDate": "2020-10-30T07:38:20Z", "message": "Run integ tests from CodeBuild"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b957348d118bfc577b1cb295971b104e10f15ba", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/0b957348d118bfc577b1cb295971b104e10f15ba", "committedDate": "2020-10-30T07:49:05Z", "message": "Cleaning up buildspec"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e77d5639a3f70a77143929ec70252db4da0021c5", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/e77d5639a3f70a77143929ec70252db4da0021c5", "committedDate": "2020-10-30T15:17:26Z", "message": "Update docs in the buildspec for APK builder project"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dff7fc838c46e343994dc879627a640cf3f61285", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/dff7fc838c46e343994dc879627a640cf3f61285", "committedDate": "2020-10-30T16:08:47Z", "message": "Fix bug in scripts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bb8778aa390f1210b3a5f01409c005b15431234", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/3bb8778aa390f1210b3a5f01409c005b15431234", "committedDate": "2020-10-30T16:13:52Z", "message": "Fix buildspec for test runner"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ce54f3d5a3bada71f9263d304adde8d2dc4ac7d", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/1ce54f3d5a3bada71f9263d304adde8d2dc4ac7d", "committedDate": "2020-10-30T16:33:20Z", "message": "Pass device farm params in environment variables"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc0272bed1a313f4b1de36092ad4ca6d6ed2794f", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/bc0272bed1a313f4b1de36092ad4ca6d6ed2794f", "committedDate": "2020-10-30T17:10:54Z", "message": "Add remaining modules"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwOTQ5ODE1", "url": "https://github.com/aws-amplify/amplify-android/pull/927#pullrequestreview-520949815", "createdAt": "2020-10-30T18:54:11Z", "commit": {"oid": "bc0272bed1a313f4b1de36092ad4ca6d6ed2794f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxODo1NDoxMVrOHrcMAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxODo1NDoxMVrOHrcMAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTMxMjY0MQ==", "bodyText": "I believe this test is passing on CircleCI currently, right?  Why @ignore it?", "url": "https://github.com/aws-amplify/amplify-android/pull/927#discussion_r515312641", "createdAt": "2020-10-30T18:54:11Z", "author": {"login": "richardmcclellan"}, "path": "aws-datastore/src/test/java/com/amplifyframework/datastore/AWSDataStorePluginTest.java", "diffHunk": "@@ -106,7 +106,7 @@ public void setup() {\n      * crashing the calling thread. Basic. \ud83d\ude44\n      * @throws AmplifyException Not expected; on failure to configure of initialize plugin.\n      */\n-    @Test\n+    @Ignore(\"Needs investigation as it fails sporadically.\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc0272bed1a313f4b1de36092ad4ca6d6ed2794f"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae8c52e65fab71a79b68c71885db482f72bd674b", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/ae8c52e65fab71a79b68c71885db482f72bd674b", "committedDate": "2020-10-30T21:17:43Z", "message": "Rolling back the ignore directive"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60c6ed2b5f8901f15d6920455f3054fc106b707b", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/60c6ed2b5f8901f15d6920455f3054fc106b707b", "committedDate": "2020-10-31T19:10:21Z", "message": "Merge remote-tracking branch 'origin/main' into rjuliano/codebuild-source"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "324b65bc32879198ae14037c8ac7fe10582a9cae", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/324b65bc32879198ae14037c8ac7fe10582a9cae", "committedDate": "2020-11-01T01:35:03Z", "message": "Trigger build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3247ae20f65cb8bc4bd9f280165161144f76eb0f", "author": {"user": {"login": "rjuliano", "name": "Rafael Juliano"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/3247ae20f65cb8bc4bd9f280165161144f76eb0f", "committedDate": "2020-11-02T13:16:54Z", "message": "Remove unused buildspec"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxOTM1Njk5", "url": "https://github.com/aws-amplify/amplify-android/pull/927#pullrequestreview-521935699", "createdAt": "2020-11-02T19:35:08Z", "commit": {"oid": "3247ae20f65cb8bc4bd9f280165161144f76eb0f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxOTozNTowOFrOHsS4BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxOTozNTowOFrOHsS4BA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjIwODY0NA==", "bodyText": "You can leave the @Tests in place, and just add the @Ignore, right?", "url": "https://github.com/aws-amplify/amplify-android/pull/927#discussion_r516208644", "createdAt": "2020-11-02T19:35:08Z", "author": {"login": "jamesonwilliams"}, "path": "aws-storage-s3/src/androidTest/java/com/amplifyframework/storage/s3/AWSS3StorageDownloadTest.java", "diffHunk": "@@ -40,7 +40,6 @@\n import org.junit.Before;\n import org.junit.BeforeClass;\n import org.junit.Ignore;\n-import org.junit.Test;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3247ae20f65cb8bc4bd9f280165161144f76eb0f"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxOTM5MjQ2", "url": "https://github.com/aws-amplify/amplify-android/pull/927#pullrequestreview-521939246", "createdAt": "2020-11-02T19:40:38Z", "commit": {"oid": "3247ae20f65cb8bc4bd9f280165161144f76eb0f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxOTo0MDozOFrOHsTDBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxOTo0MDozOFrOHsTDBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjIxMTQ2Mw==", "bodyText": "This file looks mostly like the one in .circleci, right? Can we remove the copy in .circleci, and just use this one?", "url": "https://github.com/aws-amplify/amplify-android/pull/927#discussion_r516211463", "createdAt": "2020-11-02T19:40:38Z", "author": {"login": "jamesonwilliams"}, "path": "scripts/pull_backend_config_from_s3", "diffHunk": "@@ -0,0 +1,78 @@\n+#!/bin/bash", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3247ae20f65cb8bc4bd9f280165161144f76eb0f"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxOTM5MzI3", "url": "https://github.com/aws-amplify/amplify-android/pull/927#pullrequestreview-521939327", "createdAt": "2020-11-02T19:40:46Z", "commit": {"oid": "3247ae20f65cb8bc4bd9f280165161144f76eb0f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1783, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}