{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1MTc4NzY0", "number": 660, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNTozNjoyNFrOERGhvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNzoyMzozM1rOERJRyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2MzY4MTg4OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/amplifyframework/core/DevMenuDeviceFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNTozNjoyNFrOG1oK8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNTozNjoyNFrOG1oK8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg4NTg3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    View deviceInfoView = inflater.inflate(R.layout.fragment_device, container, false);\n          \n          \n            \n                    // Set the device information text.\n          \n          \n            \n                    ((TextView) deviceInfoView.findViewById(R.id.device_info_text)).setText(new DeviceInfo().toString());\n          \n          \n            \n                    View deviceInfoView = inflater.inflate(R.layout.fragment_device, container, false);\n          \n          \n            \n                    // Set the device information text.\n          \n          \n            \n                    TextView deviceInfoText = deviceInfoView.findViewById(R.id.device_info_text);\n          \n          \n            \n                    deviceInfoText.setText(new DeviceInfo().toString());", "url": "https://github.com/aws-amplify/amplify-android/pull/660#discussion_r458885872", "createdAt": "2020-07-22T15:36:24Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/main/java/com/amplifyframework/core/DevMenuDeviceFragment.java", "diffHunk": "@@ -36,6 +37,9 @@ public DevMenuDeviceFragment() { }\n     public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                              Bundle savedInstanceState) {\n         // Inflate the layout for this fragment\n-        return inflater.inflate(R.layout.fragment_device, container, false);\n+        View deviceInfoView = inflater.inflate(R.layout.fragment_device, container, false);\n+        // Set the device information text.\n+        ((TextView) deviceInfoView.findViewById(R.id.device_info_text)).setText(new DeviceInfo().toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b1ab22b66522a4d33c6ef5cd611927f4435493c"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2MzY5MDExOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/amplifyframework/core/DeviceInfo.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNTozODoxM1rOG1oP9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNTozODoxM1rOG1oP9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg4NzE1OA==", "bodyText": "I suggest using String.format(...) instead, to make the main message more readable. This will also allow you to split out your isEmulator() foramtting business:\nString.format(\n    \".. blah ... is emu? %s\",\n    isEmulator() ? \"Yes\" : \"No\"\n);", "url": "https://github.com/aws-amplify/amplify-android/pull/660#discussion_r458887158", "createdAt": "2020-07-22T15:38:13Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/main/java/com/amplifyframework/core/DeviceInfo.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package com.amplifyframework.core;\n+\n+import android.os.Build;\n+\n+import java.util.Locale;\n+\n+/**\n+ * Contains information about the Android device currently\n+ * running the application.\n+ */\n+public final class DeviceInfo {\n+    /**\n+     * Device manufacturer.\n+     */\n+    public static final String MANUFACTURER = Build.MANUFACTURER;\n+    /**\n+     * Name of the product/device.\n+     */\n+    public static final String MODEL = Build.MODEL;\n+    /**\n+     * SDK version running on the device.\n+     */\n+    public static final int SDK_VERSION = Build.VERSION.SDK_INT;\n+    /**\n+     * Android system version running on the device.\n+     */\n+    public static final String SYSTEM_VERSION = Build.VERSION.RELEASE;\n+\n+    /**\n+     * Returns true if the device is an emulator and false if not.\n+     * @return a boolean indicating whether the device is an emulator or not\n+     */\n+    public boolean isEmulator() {\n+        return Build.DEVICE.toLowerCase(Locale.getDefault()).contains(\"generic\")\n+                && MODEL.toLowerCase(Locale.getDefault()).contains(\"sdk\");\n+    }\n+\n+    /**\n+     * Returns a String representation of the device information.\n+     * @return a String containing device information.\n+     */\n+    public String toString() {\n+        String result = \"Device Manufacturer: \" + MANUFACTURER + \"\\nDevice Model: \" + MODEL", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b1ab22b66522a4d33c6ef5cd611927f4435493c"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2MzY5NzUwOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/amplifyframework/core/DeviceInfo.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNTozOTo1NFrOG1oUsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNTozOTo1NFrOG1oUsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg4ODM3MQ==", "bodyText": "Just use the Build.FOO values directly. I don't think this provides more clarity, or much encapsulation.", "url": "https://github.com/aws-amplify/amplify-android/pull/660#discussion_r458888371", "createdAt": "2020-07-22T15:39:54Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/main/java/com/amplifyframework/core/DeviceInfo.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package com.amplifyframework.core;\n+\n+import android.os.Build;\n+\n+import java.util.Locale;\n+\n+/**\n+ * Contains information about the Android device currently\n+ * running the application.\n+ */\n+public final class DeviceInfo {\n+    /**\n+     * Device manufacturer.\n+     */\n+    public static final String MANUFACTURER = Build.MANUFACTURER;\n+    /**\n+     * Name of the product/device.\n+     */\n+    public static final String MODEL = Build.MODEL;\n+    /**\n+     * SDK version running on the device.\n+     */\n+    public static final int SDK_VERSION = Build.VERSION.SDK_INT;\n+    /**\n+     * Android system version running on the device.\n+     */\n+    public static final String SYSTEM_VERSION = Build.VERSION.RELEASE;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b1ab22b66522a4d33c6ef5cd611927f4435493c"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2MzY5OTI2OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/amplifyframework/core/DeviceInfo.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNTo0MDoxOVrOG1oV2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNTo1NTo1MFrOG1pAyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg4ODY2Ng==", "bodyText": "Is this a standard solution? Can you link to StackOverflow in a comment, if so?", "url": "https://github.com/aws-amplify/amplify-android/pull/660#discussion_r458888666", "createdAt": "2020-07-22T15:40:19Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/main/java/com/amplifyframework/core/DeviceInfo.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package com.amplifyframework.core;\n+\n+import android.os.Build;\n+\n+import java.util.Locale;\n+\n+/**\n+ * Contains information about the Android device currently\n+ * running the application.\n+ */\n+public final class DeviceInfo {\n+    /**\n+     * Device manufacturer.\n+     */\n+    public static final String MANUFACTURER = Build.MANUFACTURER;\n+    /**\n+     * Name of the product/device.\n+     */\n+    public static final String MODEL = Build.MODEL;\n+    /**\n+     * SDK version running on the device.\n+     */\n+    public static final int SDK_VERSION = Build.VERSION.SDK_INT;\n+    /**\n+     * Android system version running on the device.\n+     */\n+    public static final String SYSTEM_VERSION = Build.VERSION.RELEASE;\n+\n+    /**\n+     * Returns true if the device is an emulator and false if not.\n+     * @return a boolean indicating whether the device is an emulator or not\n+     */\n+    public boolean isEmulator() {\n+        return Build.DEVICE.toLowerCase(Locale.getDefault()).contains(\"generic\")\n+                && MODEL.toLowerCase(Locale.getDefault()).contains(\"sdk\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b1ab22b66522a4d33c6ef5cd611927f4435493c"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5OTY1OQ==", "bodyText": "When researching how to detect if a device is an emulator, there were many different approaches and I came up with my own approach based on multiple answers to a StackOverflow post, but I can add a link to that post in a comment.", "url": "https://github.com/aws-amplify/amplify-android/pull/660#discussion_r458899659", "createdAt": "2020-07-22T15:55:50Z", "author": {"login": "eeatonaws"}, "path": "core/src/main/java/com/amplifyframework/core/DeviceInfo.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package com.amplifyframework.core;\n+\n+import android.os.Build;\n+\n+import java.util.Locale;\n+\n+/**\n+ * Contains information about the Android device currently\n+ * running the application.\n+ */\n+public final class DeviceInfo {\n+    /**\n+     * Device manufacturer.\n+     */\n+    public static final String MANUFACTURER = Build.MANUFACTURER;\n+    /**\n+     * Name of the product/device.\n+     */\n+    public static final String MODEL = Build.MODEL;\n+    /**\n+     * SDK version running on the device.\n+     */\n+    public static final int SDK_VERSION = Build.VERSION.SDK_INT;\n+    /**\n+     * Android system version running on the device.\n+     */\n+    public static final String SYSTEM_VERSION = Build.VERSION.RELEASE;\n+\n+    /**\n+     * Returns true if the device is an emulator and false if not.\n+     * @return a boolean indicating whether the device is an emulator or not\n+     */\n+    public boolean isEmulator() {\n+        return Build.DEVICE.toLowerCase(Locale.getDefault()).contains(\"generic\")\n+                && MODEL.toLowerCase(Locale.getDefault()).contains(\"sdk\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg4ODY2Ng=="}, "originalCommit": {"oid": "7b1ab22b66522a4d33c6ef5cd611927f4435493c"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NDEzMjU3OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/amplifyframework/core/DeviceInfo.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNzoyMzozM1rOG1sm-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNzoyMzozM1rOG1sm-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk1ODU4NQ==", "bodyText": "I think you can hardcode Locale.US here, since most of the text is. That might be more defensive against unexpected behavior.", "url": "https://github.com/aws-amplify/amplify-android/pull/660#discussion_r458958585", "createdAt": "2020-07-22T17:23:33Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/main/java/com/amplifyframework/core/DeviceInfo.java", "diffHunk": "@@ -0,0 +1,47 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package com.amplifyframework.core;\n+\n+import android.os.Build;\n+\n+import java.util.Locale;\n+\n+/**\n+ * Contains information about the Android device currently\n+ * running the application.\n+ */\n+public final class DeviceInfo {\n+    /**\n+     * Returns true if the device is an emulator and false if not. Based on answers from\n+     * https://stackoverflow.com/questions/2799097/how-can-i-detect-when-an-android-application\n+     * -is-running-in-the-emulator\n+     * @return a boolean indicating whether the device is an emulator or not\n+     */\n+    public boolean isEmulator() {\n+        return Build.DEVICE.toLowerCase(Locale.getDefault()).contains(\"generic\")\n+                && Build.MODEL.toLowerCase(Locale.getDefault()).contains(\"sdk\");\n+    }\n+\n+    /**\n+     * Returns a String representation of the device information.\n+     * @return a String containing device information.\n+     */\n+    public String toString() {\n+        return String.format(Locale.getDefault(), \"Device Manufacturer: %s\\nDevice Model: %s\\nAndroid System Version: \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e83748d6084e79f2d19d992ce067e90247c2d64c"}, "originalPosition": 43}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1108, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}