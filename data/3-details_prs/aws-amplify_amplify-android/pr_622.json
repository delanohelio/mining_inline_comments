{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzNjg1NDQ1", "number": 622, "title": "Show and hide dev menu on device shake or keyboard shortcut", "bodyText": "Issue #, if available: N/A\nDescription of changes: When the device is shaken or ctrl (or command) + m is pressed, then show the developer menu if it is currently hidden, or hide the developer menu if it is currently visible.\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-07-02T18:44:15Z", "url": "https://github.com/aws-amplify/amplify-android/pull/622", "merged": true, "mergeCommit": {"oid": "9517ec0ca60818ec24f0286520131b8b60c8600f"}, "closed": true, "closedAt": "2020-07-06T20:50:23Z", "author": {"login": "eeatonaws"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcueiuogH2gAyNDQzNjg1NDQ1OjI0MTZmM2JjZTc3N2E0Yjc5YTdlNWU5ODE2YmY5OThkZDFjNjAxZDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyYdimgFqTQ0MzQzMDgxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2416f3bce777a4b79a7e5e9816bf998dd1c601d3", "author": {"user": {"login": "eeatonaws", "name": "Erica Eaton"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/2416f3bce777a4b79a7e5e9816bf998dd1c601d3", "committedDate": "2020-06-24T18:41:41Z", "message": "created activity to display dev menu from context and updated package name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fbba26fe8dcf30cc52c61b0465f7450caa27181", "author": {"user": {"login": "eeatonaws", "name": "Erica Eaton"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/0fbba26fe8dcf30cc52c61b0465f7450caa27181", "committedDate": "2020-06-24T23:49:57Z", "message": "start the developer menu activity and display developer menu on bottom of screen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe55183e7c1e640cce2d383d7048a9664c0bc4a1", "author": {"user": {"login": "eeatonaws", "name": "Erica Eaton"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/fe55183e7c1e640cce2d383d7048a9664c0bc4a1", "committedDate": "2020-06-26T15:04:40Z", "message": "changed styling of dev menu to overlay current view"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5d1d3706b4580ff63d8bb1248969a5196db7a38", "author": {"user": {"login": "eeatonaws", "name": "Erica Eaton"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/d5d1d3706b4580ff63d8bb1248969a5196db7a38", "committedDate": "2020-06-26T15:10:02Z", "message": "Merge branch 'main' into eeatonaws-dev-menu"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3782d18333b185ece108abda0004066a45b7d474", "author": {"user": {"login": "eeatonaws", "name": "Erica Eaton"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/3782d18333b185ece108abda0004066a45b7d474", "committedDate": "2020-06-29T20:33:08Z", "message": "updated copyright year"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7835d544c14244e76378be421f6efed13cb881b", "author": {"user": {"login": "eeatonaws", "name": "Erica Eaton"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/c7835d544c14244e76378be421f6efed13cb881b", "committedDate": "2020-06-29T22:12:54Z", "message": "Merge branch 'main' into eeatonaws-dev-menu"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52b2dbce3cb491ea6ee6823e7e8e5cea6d8855cd", "author": {"user": {"login": "eeatonaws", "name": "Erica Eaton"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/52b2dbce3cb491ea6ee6823e7e8e5cea6d8855cd", "committedDate": "2020-06-30T16:44:27Z", "message": "only display dev menu if in debug mode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f08434b9b85c84306bfe396e190946d43998e126", "author": {"user": {"login": "eeatonaws", "name": "Erica Eaton"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/f08434b9b85c84306bfe396e190946d43998e126", "committedDate": "2020-06-30T16:52:01Z", "message": "Merge branch 'DevMenu' into eeatonaws-dev-menu and fix merge conflict."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71a07d475dee8b572fd77c031805f1649475322c", "author": {"user": {"login": "eeatonaws", "name": "Erica Eaton"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/71a07d475dee8b572fd77c031805f1649475322c", "committedDate": "2020-07-01T21:22:18Z", "message": "activate dev menu on device shake or keyboard shortcut"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36481de3107cc22c71b57c0257b33ac63cfd1dd9", "author": {"user": {"login": "eeatonaws", "name": "Erica Eaton"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/36481de3107cc22c71b57c0257b33ac63cfd1dd9", "committedDate": "2020-07-01T22:14:19Z", "message": "Merge branch 'main' into eeatonaws-dev-menu"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae96c687d4c01486acf0047a5362d6384513d27f", "author": {"user": {"login": "eeatonaws", "name": "Erica Eaton"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/ae96c687d4c01486acf0047a5362d6384513d27f", "committedDate": "2020-07-02T18:31:13Z", "message": "adjusted shake threshold"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59f95d076adafdd81a4e5db3428fc9de81962044", "author": {"user": {"login": "eeatonaws", "name": "Erica Eaton"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/59f95d076adafdd81a4e5db3428fc9de81962044", "committedDate": "2020-07-02T18:36:44Z", "message": "Merge branch 'DevMenu' into eeatonaws-dev-menu"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMTEyNDg1", "url": "https://github.com/aws-amplify/amplify-android/pull/622#pullrequestreview-443112485", "createdAt": "2020-07-06T14:11:47Z", "commit": {"oid": "59f95d076adafdd81a4e5db3428fc9de81962044"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNDoxMTo0N1rOGtY_Rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNDoxMTo0N1rOGtY_Rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDI0ODUxOQ==", "bodyText": "These should probably be listed above the event listener, especially since the listener references shakeStart.", "url": "https://github.com/aws-amplify/amplify-android/pull/622#discussion_r450248519", "createdAt": "2020-07-06T14:11:47Z", "author": {"login": "TrekSoft"}, "path": "core/src/main/java/com/amplifyframework/core/DeveloperMenuActivity.java", "diffHunk": "@@ -16,16 +16,112 @@\n package com.amplifyframework.core;\n \n import android.app.Activity;\n+import android.content.Context;\n+import android.hardware.Sensor;\n+import android.hardware.SensorEvent;\n+import android.hardware.SensorEventListener;\n+import android.hardware.SensorManager;\n import android.os.Bundle;\n+import android.view.KeyEvent;\n+import android.view.View;\n+\n+import com.amplifyframework.util.Time;\n \n /**\n  * This is the activity to display the developer menu.\n  */\n public final class DeveloperMenuActivity extends Activity {\n+    // A device movement is classified as a shake if the acceleration\n+    // is above this threshold.\n+    private static final double SHAKE_THRESHOLD = 11.7;\n+    // The minimum duration (in milliseconds) that the device needs to\n+    // be shaken in order to make the developer menu appear or disappear.\n+    private static final int SHAKE_TIME = 500;\n+\n+    // Listen to accelerometer sensor events.\n+    private final SensorEventListener sensorEventListener = new SensorEventListener() {\n+        @Override\n+        public void onSensorChanged(SensorEvent sensorEvent) {\n+            float xAccel = sensorEvent.values[0]; // acceleration in the x-direction\n+            float yAccel = sensorEvent.values[1]; // acceleration in the y-direction\n+            float zAccel = sensorEvent.values[2]; // acceleration in the z-direction\n+            double curAcceleration = Math.sqrt(((xAccel * xAccel) + (yAccel * yAccel) + (zAccel * zAccel)));\n+            if (curAcceleration > SHAKE_THRESHOLD) {\n+                long currentTime = Time.now();\n+                if (shakeStart == 0) {\n+                    shakeStart = currentTime;\n+                } else if (currentTime - shakeStart > SHAKE_TIME) {\n+                    changeVisibility();\n+                    shakeStart = 0;\n+                }\n+            }\n+        }\n+\n+        @Override\n+        public void onAccuracyChanged(Sensor sensor, int accuracy) { }\n+    };\n+\n+    // Manager for the device's sensors.\n+    private SensorManager sensorManager;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59f95d076adafdd81a4e5db3428fc9de81962044"}, "originalPosition": 50}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMTE1MTM3", "url": "https://github.com/aws-amplify/amplify-android/pull/622#pullrequestreview-443115137", "createdAt": "2020-07-06T14:14:45Z", "commit": {"oid": "59f95d076adafdd81a4e5db3428fc9de81962044"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNDoxNDo0NVrOGtZHEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNDoxNDo0NVrOGtZHEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDI1MDUxMg==", "bodyText": "Should super.onKeyUp only be called if it's not matching the keycode? It seems like something that should always be called.", "url": "https://github.com/aws-amplify/amplify-android/pull/622#discussion_r450250512", "createdAt": "2020-07-06T14:14:45Z", "author": {"login": "TrekSoft"}, "path": "core/src/main/java/com/amplifyframework/core/DeveloperMenuActivity.java", "diffHunk": "@@ -16,16 +16,112 @@\n package com.amplifyframework.core;\n \n import android.app.Activity;\n+import android.content.Context;\n+import android.hardware.Sensor;\n+import android.hardware.SensorEvent;\n+import android.hardware.SensorEventListener;\n+import android.hardware.SensorManager;\n import android.os.Bundle;\n+import android.view.KeyEvent;\n+import android.view.View;\n+\n+import com.amplifyframework.util.Time;\n \n /**\n  * This is the activity to display the developer menu.\n  */\n public final class DeveloperMenuActivity extends Activity {\n+    // A device movement is classified as a shake if the acceleration\n+    // is above this threshold.\n+    private static final double SHAKE_THRESHOLD = 11.7;\n+    // The minimum duration (in milliseconds) that the device needs to\n+    // be shaken in order to make the developer menu appear or disappear.\n+    private static final int SHAKE_TIME = 500;\n+\n+    // Listen to accelerometer sensor events.\n+    private final SensorEventListener sensorEventListener = new SensorEventListener() {\n+        @Override\n+        public void onSensorChanged(SensorEvent sensorEvent) {\n+            float xAccel = sensorEvent.values[0]; // acceleration in the x-direction\n+            float yAccel = sensorEvent.values[1]; // acceleration in the y-direction\n+            float zAccel = sensorEvent.values[2]; // acceleration in the z-direction\n+            double curAcceleration = Math.sqrt(((xAccel * xAccel) + (yAccel * yAccel) + (zAccel * zAccel)));\n+            if (curAcceleration > SHAKE_THRESHOLD) {\n+                long currentTime = Time.now();\n+                if (shakeStart == 0) {\n+                    shakeStart = currentTime;\n+                } else if (currentTime - shakeStart > SHAKE_TIME) {\n+                    changeVisibility();\n+                    shakeStart = 0;\n+                }\n+            }\n+        }\n+\n+        @Override\n+        public void onAccuracyChanged(Sensor sensor, int accuracy) { }\n+    };\n+\n+    // Manager for the device's sensors.\n+    private SensorManager sensorManager;\n+    // The accelerometer sensor associated with the device.\n+    private Sensor accelerometer;\n+    // The time (in milliseconds) that the device started shaking\n+    // (or 0 if the device is not shaking).\n+    private long shakeStart;\n+    // The parent layout for the developer menu.\n+    private View devMenuLayout;\n \n     @Override\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         setContentView(R.layout.activity_dev_menu);\n+        sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\n+        if (sensorManager != null) {\n+            accelerometer = sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\n+        }\n+        devMenuLayout = findViewById(R.id.devLayout);\n+        devMenuLayout.setFocusable(true);\n+        devMenuLayout.setVisibility(View.GONE);\n+        shakeStart = 0;\n+    }\n+\n+    @Override\n+    protected void onResume() {\n+        if (accelerometer != null) {\n+            sensorManager.registerListener(sensorEventListener, accelerometer, SensorManager.SENSOR_DELAY_NORMAL);\n+        }\n+        super.onResume();\n+    }\n+\n+    @Override\n+    protected void onPause() {\n+        if (accelerometer != null) {\n+            sensorManager.unregisterListener(sensorEventListener);\n+        }\n+        super.onPause();\n+    }\n+\n+    @Override\n+    public boolean onKeyUp(int keyCode, KeyEvent event) {\n+        // KEYCODE_MENU is the code for pressing ctrl\n+        // (or command) + m\n+        if (keyCode == KeyEvent.KEYCODE_MENU) {\n+            changeVisibility();\n+            return true;\n+        } else {\n+            return super.onKeyUp(keyCode, event);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59f95d076adafdd81a4e5db3428fc9de81962044"}, "originalPosition": 97}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e860ea2b7300e055bca4f7f63c49c133d31734c6", "author": {"user": {"login": "eeatonaws", "name": "Erica Eaton"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/e860ea2b7300e055bca4f7f63c49c133d31734c6", "committedDate": "2020-07-06T14:34:22Z", "message": "reordered fields in DeveloperMenuActivity"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMjU1OTU1", "url": "https://github.com/aws-amplify/amplify-android/pull/622#pullrequestreview-443255955", "createdAt": "2020-07-06T16:59:45Z", "commit": {"oid": "e860ea2b7300e055bca4f7f63c49c133d31734c6"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMjYwMjIw", "url": "https://github.com/aws-amplify/amplify-android/pull/622#pullrequestreview-443260220", "createdAt": "2020-07-06T17:06:06Z", "commit": {"oid": "e860ea2b7300e055bca4f7f63c49c133d31734c6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNzowNjowN1rOGtf8OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNzowNjowN1rOGtf8OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM2MjQyNQ==", "bodyText": "If I'm reading this correctly, Amplify would keep the accelerometer active at all times, to receive sensor data, so it can detect a shake. This will drain the battery, so we need a different solution. What mechanisms can you put in place to limit the lifecycle of the accelerometer? How can you prevent this from running \"most of the time\", when Amplify is in production?", "url": "https://github.com/aws-amplify/amplify-android/pull/622#discussion_r450362425", "createdAt": "2020-07-06T17:06:07Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/main/java/com/amplifyframework/core/DeveloperMenuActivity.java", "diffHunk": "@@ -16,16 +16,112 @@\n package com.amplifyframework.core;\n \n import android.app.Activity;\n+import android.content.Context;\n+import android.hardware.Sensor;\n+import android.hardware.SensorEvent;\n+import android.hardware.SensorEventListener;\n+import android.hardware.SensorManager;\n import android.os.Bundle;\n+import android.view.KeyEvent;\n+import android.view.View;\n+\n+import com.amplifyframework.util.Time;\n \n /**\n  * This is the activity to display the developer menu.\n  */\n public final class DeveloperMenuActivity extends Activity {\n+    // A device movement is classified as a shake if the acceleration\n+    // is above this threshold.\n+    private static final double SHAKE_THRESHOLD = 11.7;\n+    // The minimum duration (in milliseconds) that the device needs to\n+    // be shaken in order to make the developer menu appear or disappear.\n+    private static final int SHAKE_TIME = 500;\n+\n+    // Manager for the device's sensors.\n+    private SensorManager sensorManager;\n+    // The accelerometer sensor associated with the device.\n+    private Sensor accelerometer;\n+    // The time (in milliseconds) that the device started shaking\n+    // (or 0 if the device is not shaking).\n+    private long shakeStart;\n+    // The parent layout for the developer menu.\n+    private View devMenuLayout;\n+\n+    // Listen to accelerometer sensor events.\n+    private final SensorEventListener sensorEventListener = new SensorEventListener() {\n+        @Override\n+        public void onSensorChanged(SensorEvent sensorEvent) {\n+            float xAccel = sensorEvent.values[0]; // acceleration in the x-direction\n+            float yAccel = sensorEvent.values[1]; // acceleration in the y-direction\n+            float zAccel = sensorEvent.values[2]; // acceleration in the z-direction\n+            double curAcceleration = Math.sqrt(((xAccel * xAccel) + (yAccel * yAccel) + (zAccel * zAccel)));\n+            if (curAcceleration > SHAKE_THRESHOLD) {\n+                long currentTime = Time.now();\n+                if (shakeStart == 0) {\n+                    shakeStart = currentTime;\n+                } else if (currentTime - shakeStart > SHAKE_TIME) {\n+                    changeVisibility();\n+                    shakeStart = 0;\n+                }\n+            }\n+        }\n+\n+        @Override\n+        public void onAccuracyChanged(Sensor sensor, int accuracy) { }\n+    };\n \n     @Override\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         setContentView(R.layout.activity_dev_menu);\n+        sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\n+        if (sensorManager != null) {\n+            accelerometer = sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\n+        }\n+        devMenuLayout = findViewById(R.id.devLayout);\n+        devMenuLayout.setFocusable(true);\n+        devMenuLayout.setVisibility(View.GONE);\n+        shakeStart = 0;\n+    }\n+\n+    @Override\n+    protected void onResume() {\n+        if (accelerometer != null) {\n+            sensorManager.registerListener(sensorEventListener, accelerometer, SensorManager.SENSOR_DELAY_NORMAL);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e860ea2b7300e055bca4f7f63c49c133d31734c6"}, "originalPosition": 76}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79bead5640b823697e44c5b5480093dd1b98da10", "author": {"user": {"login": "eeatonaws", "name": "Erica Eaton"}}, "url": "https://github.com/aws-amplify/amplify-android/commit/79bead5640b823697e44c5b5480093dd1b98da10", "committedDate": "2020-07-06T19:00:05Z", "message": "factor shake detection logic out into separate class"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMzY0NDY2", "url": "https://github.com/aws-amplify/amplify-android/pull/622#pullrequestreview-443364466", "createdAt": "2020-07-06T19:52:13Z", "commit": {"oid": "79bead5640b823697e44c5b5480093dd1b98da10"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMzg2ODEw", "url": "https://github.com/aws-amplify/amplify-android/pull/622#pullrequestreview-443386810", "createdAt": "2020-07-06T20:30:44Z", "commit": {"oid": "79bead5640b823697e44c5b5480093dd1b98da10"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNDMwNjU4", "url": "https://github.com/aws-amplify/amplify-android/pull/622#pullrequestreview-443430658", "createdAt": "2020-07-06T21:51:57Z", "commit": {"oid": "79bead5640b823697e44c5b5480093dd1b98da10"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMTo1MTo1OFrOGtoQ5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMTo1MTo1OFrOGtoQ5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ5ODc5MA==", "bodyText": "Still sort of \"leaking\" a detail of the ShakeDetector, here. I'd grab this off the context internally.", "url": "https://github.com/aws-amplify/amplify-android/pull/622#discussion_r450498790", "createdAt": "2020-07-06T21:51:58Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/main/java/com/amplifyframework/core/DeveloperMenuActivity.java", "diffHunk": "@@ -16,16 +16,65 @@\n package com.amplifyframework.core;\n \n import android.app.Activity;\n+import android.content.Context;\n+import android.hardware.SensorManager;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79bead5640b823697e44c5b5480093dd1b98da10"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNDMwODEy", "url": "https://github.com/aws-amplify/amplify-android/pull/622#pullrequestreview-443430812", "createdAt": "2020-07-06T21:52:16Z", "commit": {"oid": "79bead5640b823697e44c5b5480093dd1b98da10"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMTo1MjoxN1rOGtoRbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMTo1MjoxN1rOGtoRbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ5ODkyNg==", "bodyText": "You'll want to add a unit test for this.", "url": "https://github.com/aws-amplify/amplify-android/pull/622#discussion_r450498926", "createdAt": "2020-07-06T21:52:17Z", "author": {"login": "jamesonwilliams"}, "path": "core/src/main/java/com/amplifyframework/core/ShakeDetector.java", "diffHunk": "@@ -0,0 +1,110 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package com.amplifyframework.core;\n+\n+import android.hardware.Sensor;\n+import android.hardware.SensorEvent;\n+import android.hardware.SensorEventListener;\n+import android.hardware.SensorManager;\n+\n+import com.amplifyframework.util.Time;\n+\n+/**\n+ * Detects a device shake event.\n+ */\n+public final class ShakeDetector {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79bead5640b823697e44c5b5480093dd1b98da10"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1848, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}