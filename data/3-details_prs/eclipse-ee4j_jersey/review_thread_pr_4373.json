{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3Mzg1MjM0", "number": 4373, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMjoxODowM1rODeyB7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMjoxODowM1rODeyB7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNjAzNTY3OnYy", "diffSide": "RIGHT", "path": "containers/glassfish/jersey-gf-ejb/src/main/java/org/glassfish/jersey/gf/ejb/internal/EjbComponentProvider.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMjoxODowM1rOFoG13g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxNDozNDo0OFrOFqmiHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzU5OTQ1NA==", "bodyText": "Why don't you deal with Stateful, too?", "url": "https://github.com/eclipse-ee4j/jersey/pull/4373#discussion_r377599454", "createdAt": "2020-02-11T12:18:03Z", "author": {"login": "jansupol"}, "path": "containers/glassfish/jersey-gf-ejb/src/main/java/org/glassfish/jersey/gf/ejb/internal/EjbComponentProvider.java", "diffHunk": "@@ -92,23 +95,43 @@\n \n         final InitialContext ctx;\n         final Class<T> clazz;\n+        final String beanName;\n         final EjbComponentProvider ejbProvider;\n \n         @SuppressWarnings(\"unchecked\")\n         @Override\n         public T get() {\n             try {\n-                return (T) lookup(ctx, clazz, clazz.getSimpleName(), ejbProvider);\n+                return (T) lookup(ctx, clazz, beanName, ejbProvider);\n             } catch (NamingException ex) {\n                 Logger.getLogger(ApplicationHandler.class.getName()).log(Level.SEVERE, null, ex);\n                 return null;\n             }\n         }\n \n+        private static <T> String getBeanName(final Class<T> clazz) {\n+            final Stateless stateless = clazz.getAnnotation(Stateless.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13d1465e73a33a8797359e5a6e4f119fa34fc01c"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODk5OTM1Mg==", "bodyText": "It is not requested by specification. Isn't REST/Jersey stateless? I think it would be only dead code.", "url": "https://github.com/eclipse-ee4j/jersey/pull/4373#discussion_r378999352", "createdAt": "2020-02-13T17:10:31Z", "author": {"login": "dmatej"}, "path": "containers/glassfish/jersey-gf-ejb/src/main/java/org/glassfish/jersey/gf/ejb/internal/EjbComponentProvider.java", "diffHunk": "@@ -92,23 +95,43 @@\n \n         final InitialContext ctx;\n         final Class<T> clazz;\n+        final String beanName;\n         final EjbComponentProvider ejbProvider;\n \n         @SuppressWarnings(\"unchecked\")\n         @Override\n         public T get() {\n             try {\n-                return (T) lookup(ctx, clazz, clazz.getSimpleName(), ejbProvider);\n+                return (T) lookup(ctx, clazz, beanName, ejbProvider);\n             } catch (NamingException ex) {\n                 Logger.getLogger(ApplicationHandler.class.getName()).log(Level.SEVERE, null, ex);\n                 return null;\n             }\n         }\n \n+        private static <T> String getBeanName(final Class<T> clazz) {\n+            final Stateless stateless = clazz.getAnnotation(Stateless.class);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzU5OTQ1NA=="}, "originalCommit": {"oid": "13d1465e73a33a8797359e5a6e4f119fa34fc01c"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDIxNTgzNw==", "bodyText": "You are right, JAX-RS Spec discusses Stateless and Singleton, only.", "url": "https://github.com/eclipse-ee4j/jersey/pull/4373#discussion_r380215837", "createdAt": "2020-02-17T14:34:48Z", "author": {"login": "jansupol"}, "path": "containers/glassfish/jersey-gf-ejb/src/main/java/org/glassfish/jersey/gf/ejb/internal/EjbComponentProvider.java", "diffHunk": "@@ -92,23 +95,43 @@\n \n         final InitialContext ctx;\n         final Class<T> clazz;\n+        final String beanName;\n         final EjbComponentProvider ejbProvider;\n \n         @SuppressWarnings(\"unchecked\")\n         @Override\n         public T get() {\n             try {\n-                return (T) lookup(ctx, clazz, clazz.getSimpleName(), ejbProvider);\n+                return (T) lookup(ctx, clazz, beanName, ejbProvider);\n             } catch (NamingException ex) {\n                 Logger.getLogger(ApplicationHandler.class.getName()).log(Level.SEVERE, null, ex);\n                 return null;\n             }\n         }\n \n+        private static <T> String getBeanName(final Class<T> clazz) {\n+            final Stateless stateless = clazz.getAnnotation(Stateless.class);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzU5OTQ1NA=="}, "originalCommit": {"oid": "13d1465e73a33a8797359e5a6e4f119fa34fc01c"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1359, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}