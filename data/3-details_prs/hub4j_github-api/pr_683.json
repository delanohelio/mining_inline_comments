{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3MTUwMzkz", "number": 683, "title": "Add support for all create team parameters", "bodyText": "Description\nAdd support for all create team parameters\nFixes #455\nImplements all parameters from here: https://developer.github.com/v3/teams/#parameters\nBefore submitting a PR:\nWe love getting PRs, but we hate asking people for the same basic changes every time.\n\n Push your changes to a branch other than master. Create your PR from that branch.\n Add JavaDocs and other comments\n Write tests that run and pass in CI. See CONTRIBUTING.md for details on how to capture snapshot data.\n Run mvn -P ci install site locally. This may reformat your code, commit those changes. If this command doesn't succeed, your change will not pass CI.", "createdAt": "2020-01-25T20:09:24Z", "url": "https://github.com/hub4j/github-api/pull/683", "merged": true, "mergeCommit": {"oid": "57c4613b1f28d874e8d09092edee23f567be8ba8"}, "closed": true, "closedAt": "2020-01-27T08:00:45Z", "author": {"login": "timja"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb95RbWAH2gAyMzY3MTUwMzkzOjY5ZDIxNjBhMGRiZjM5NDg1YTNhOWUzODQzNzRmNGY3NTEwNWFkOWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-YD6rAFqTM0ODQ4MzkzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "69d2160a0dbf39485a3a9e384374f4f75105ad9f", "author": {"user": {"login": "timja", "name": "Tim Jacomb"}}, "url": "https://github.com/hub4j/github-api/commit/69d2160a0dbf39485a3a9e384374f4f75105ad9f", "committedDate": "2020-01-25T20:07:56Z", "message": "Add support for all create team parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64aae75680c4f7f1dd1f6f5132739f501887fd02", "author": {"user": {"login": "timja", "name": "Tim Jacomb"}}, "url": "https://github.com/hub4j/github-api/commit/64aae75680c4f7f1dd1f6f5132739f501887fd02", "committedDate": "2020-01-26T11:02:01Z", "message": "Allow updating privacy status"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a7135f7d39cff60133f372067fb4335d57d91bd9", "author": {"user": {"login": "timja", "name": "Tim Jacomb"}}, "url": "https://github.com/hub4j/github-api/commit/a7135f7d39cff60133f372067fb4335d57d91bd9", "committedDate": "2020-01-26T10:47:24Z", "message": "Allow updating privacy status"}, "afterCommit": {"oid": "64aae75680c4f7f1dd1f6f5132739f501887fd02", "author": {"user": {"login": "timja", "name": "Tim Jacomb"}}, "url": "https://github.com/hub4j/github-api/commit/64aae75680c4f7f1dd1f6f5132739f501887fd02", "committedDate": "2020-01-26T11:02:01Z", "message": "Allow updating privacy status"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4NDYwMjYw", "url": "https://github.com/hub4j/github-api/pull/683#pullrequestreview-348460260", "createdAt": "2020-01-27T06:37:56Z", "commit": {"oid": "64aae75680c4f7f1dd1f6f5132739f501887fd02"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QwNjozNzo1NlrOFh483w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QwNzowODo1NVrOFh5TaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA4MDQxNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            public class GHCreateTeamBuilder {\n          \n          \n            \n            public class GHTeamBuilder {\n          \n      \n    \n    \n  \n\nThen we could also have a GHTeamUpdater.", "url": "https://github.com/hub4j/github-api/pull/683#discussion_r371080415", "createdAt": "2020-01-27T06:37:56Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHCreateTeamBuilder.java", "diffHunk": "@@ -0,0 +1,92 @@\n+package org.kohsuke.github;\n+\n+import java.io.IOException;\n+import java.util.List;\n+\n+/**\n+ * Creates a team.\n+ */\n+public class GHCreateTeamBuilder {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64aae75680c4f7f1dd1f6f5132739f501887fd02"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA4NDQ4NA==", "bodyText": "@timja\nThis matches the existing behavior of other set methods on this class. There have been issues filed describing this is not great.\nThis is not a blocker for this PR, but I'd like your thoughts on #589.", "url": "https://github.com/hub4j/github-api/pull/683#discussion_r371084484", "createdAt": "2020-01-27T07:00:01Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHTeam.java", "diffHunk": "@@ -106,6 +125,18 @@ public void setDescription(String description) throws IOException {\n         root.createRequest().method(\"PATCH\").with(\"description\", description).withUrlPath(api(\"\")).send();\n     }\n \n+    /**\n+     * Sets privacy.\n+     *\n+     * @param privacy\n+     *            the privacy\n+     * @throws IOException\n+     *             the io exception\n+     */\n+    public void setPrivacy(Privacy privacy) throws IOException {\n+        root.createRequest().method(\"PATCH\").with(\"privacy\", privacy).withUrlPath(api(\"\")).send();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64aae75680c4f7f1dd1f6f5132739f501887fd02"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA4NTE5Mw==", "bodyText": "I think the other createTeam methods should be marked as @Deprecated.  Do you agree?", "url": "https://github.com/hub4j/github-api/pull/683#discussion_r371085193", "createdAt": "2020-01-27T07:03:55Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHOrganization.java", "diffHunk": "@@ -455,6 +455,21 @@ public GHTeam createTeam(String name, GHRepository... repositories) throws IOExc\n         return createTeam(name, Arrays.asList(repositories));\n     }\n \n+    /**\n+     * Starts a builder that creates a new team.\n+     *\n+     * <p>\n+     * You use the returned builder to set various properties, then call {@link GHCreateTeamBuilder#create()} to finally\n+     * create a team.\n+     *\n+     * @param name\n+     *            the name\n+     * @return the gh create repository builder\n+     */\n+    public GHCreateTeamBuilder createTeam(String name) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64aae75680c4f7f1dd1f6f5132739f501887fd02"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA4NTk1Mg==", "bodyText": "Add a link to the github api documentation for create team", "url": "https://github.com/hub4j/github-api/pull/683#discussion_r371085952", "createdAt": "2020-01-27T07:07:39Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHCreateTeamBuilder.java", "diffHunk": "@@ -0,0 +1,92 @@\n+package org.kohsuke.github;\n+\n+import java.io.IOException;\n+import java.util.List;\n+\n+/**\n+ * Creates a team.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64aae75680c4f7f1dd1f6f5132739f501887fd02"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA4NjE4NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return new GHCreateTeamBuilder(root, \"/orgs/\" + login + \"/teams\", name);\n          \n          \n            \n                    return new GHCreateTeamBuilder(root, login, name);\n          \n      \n    \n    \n  \n\nOr maybe even this (and add name to builder):\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return new GHCreateTeamBuilder(root, \"/orgs/\" + login + \"/teams\", name);\n          \n          \n            \n                    return new GHCreateTeamBuilder(root);\n          \n      \n    \n    \n  \n\nIs a team always created attached to a login?  As me, could I create a team that your login owns?", "url": "https://github.com/hub4j/github-api/pull/683#discussion_r371086184", "createdAt": "2020-01-27T07:08:55Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHOrganization.java", "diffHunk": "@@ -455,6 +455,21 @@ public GHTeam createTeam(String name, GHRepository... repositories) throws IOExc\n         return createTeam(name, Arrays.asList(repositories));\n     }\n \n+    /**\n+     * Starts a builder that creates a new team.\n+     *\n+     * <p>\n+     * You use the returned builder to set various properties, then call {@link GHCreateTeamBuilder#create()} to finally\n+     * create a team.\n+     *\n+     * @param name\n+     *            the name\n+     * @return the gh create repository builder\n+     */\n+    public GHCreateTeamBuilder createTeam(String name) {\n+        return new GHCreateTeamBuilder(root, \"/orgs/\" + login + \"/teams\", name);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64aae75680c4f7f1dd1f6f5132739f501887fd02"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32754ffcf57a0aa1de66ebb60acaaf1daef07b0e", "author": {"user": {"login": "timja", "name": "Tim Jacomb"}}, "url": "https://github.com/hub4j/github-api/commit/32754ffcf57a0aa1de66ebb60acaaf1daef07b0e", "committedDate": "2020-01-27T07:24:01Z", "message": "Cleanup based on review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4cc90b4929e8e609ac36929277ddd13861c17e9c", "author": {"user": {"login": "timja", "name": "Tim Jacomb"}}, "url": "https://github.com/hub4j/github-api/commit/4cc90b4929e8e609ac36929277ddd13861c17e9c", "committedDate": "2020-01-27T07:31:19Z", "message": "Fix test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4NDc2Njc1", "url": "https://github.com/hub4j/github-api/pull/683#pullrequestreview-348476675", "createdAt": "2020-01-27T07:38:27Z", "commit": {"oid": "32754ffcf57a0aa1de66ebb60acaaf1daef07b0e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QwNzozODoyN1rOFh5wlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QwNzozODoyN1rOFh5wlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA5MzY1NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * https://developer.github.com/v3/teams/#parameters\n          \n          \n            \n             * https://developer.github.com/v3/teams/#create-team", "url": "https://github.com/hub4j/github-api/pull/683#discussion_r371093654", "createdAt": "2020-01-27T07:38:27Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHTeamBuilder.java", "diffHunk": "@@ -5,16 +5,18 @@\n \n /**\n  * Creates a team.\n+ *\n+ * https://developer.github.com/v3/teams/#parameters", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32754ffcf57a0aa1de66ebb60acaaf1daef07b0e"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4NDc2OTk2", "url": "https://github.com/hub4j/github-api/pull/683#pullrequestreview-348476996", "createdAt": "2020-01-27T07:39:38Z", "commit": {"oid": "32754ffcf57a0aa1de66ebb60acaaf1daef07b0e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QwNzozOTozOFrOFh5xpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QwNzozOTozOFrOFh5xpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA5MzkyNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void updatePrivacy(Privacy privacy) throws IOException {\n          \n          \n            \n                public void setPrivacy(Privacy privacy) throws IOException {", "url": "https://github.com/hub4j/github-api/pull/683#discussion_r371093925", "createdAt": "2020-01-27T07:39:38Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHTeam.java", "diffHunk": "@@ -126,14 +126,14 @@ public void setDescription(String description) throws IOException {\n     }\n \n     /**\n-     * Sets privacy.\n+     * Updates the team's privacy setting.\n      *\n      * @param privacy\n      *            the privacy\n      * @throws IOException\n      *             the io exception\n      */\n-    public void setPrivacy(Privacy privacy) throws IOException {\n+    public void updatePrivacy(Privacy privacy) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32754ffcf57a0aa1de66ebb60acaaf1daef07b0e"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f3278348883d1105201b4bae0ee53b330539311", "author": {"user": {"login": "timja", "name": "Tim Jacomb"}}, "url": "https://github.com/hub4j/github-api/commit/0f3278348883d1105201b4bae0ee53b330539311", "committedDate": "2020-01-27T07:40:16Z", "message": "Revert updatePrivacy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "963478e2066d93867cab900790a24938ac2fdf68", "author": {"user": {"login": "timja", "name": "Tim Jacomb"}}, "url": "https://github.com/hub4j/github-api/commit/963478e2066d93867cab900790a24938ac2fdf68", "committedDate": "2020-01-27T07:46:14Z", "message": "Merge branch 'master' into add-full-create-team-parameters"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4NDc5Nzc3", "url": "https://github.com/hub4j/github-api/pull/683#pullrequestreview-348479777", "createdAt": "2020-01-27T07:48:18Z", "commit": {"oid": "0f3278348883d1105201b4bae0ee53b330539311"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QwNzo0ODoxOFrOFh57bQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QwNzo0ODoxOFrOFh57bQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA5NjQyOQ==", "bodyText": "Question:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public GHTeamBuilder maintainers(List<String> maintainers) {\n          \n          \n            \n                public GHTeamBuilder maintainers(String... maintainers) {", "url": "https://github.com/hub4j/github-api/pull/683#discussion_r371096429", "createdAt": "2020-01-27T07:48:18Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHTeamBuilder.java", "diffHunk": "@@ -0,0 +1,94 @@\n+package org.kohsuke.github;\n+\n+import java.io.IOException;\n+import java.util.List;\n+\n+/**\n+ * Creates a team.\n+ *\n+ * https://developer.github.com/v3/teams/#create-team\n+ */\n+public class GHTeamBuilder {\n+\n+    private final GitHub root;\n+    protected final Requester builder;\n+    private final String orgName;\n+\n+    public GHTeamBuilder(GitHub root, String orgName, String name) {\n+        this.root = root;\n+        this.orgName = orgName;\n+        this.builder = root.createRequest();\n+        this.builder.with(\"name\", name);\n+    }\n+\n+    /**\n+     * Description for this team.\n+     *\n+     * @param description\n+     *            description of team\n+     * @return a builder to continue with building\n+     */\n+    public GHTeamBuilder description(String description) {\n+        this.builder.with(\"description\", description);\n+        return this;\n+    }\n+\n+    /**\n+     * Maintainers for this team.\n+     *\n+     * @param maintainers\n+     *            maintainers of team\n+     * @return a builder to continue with building\n+     */\n+    public GHTeamBuilder maintainers(List<String> maintainers) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f3278348883d1105201b4bae0ee53b330539311"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4NDgwMzAw", "url": "https://github.com/hub4j/github-api/pull/683#pullrequestreview-348480300", "createdAt": "2020-01-27T07:49:42Z", "commit": {"oid": "0f3278348883d1105201b4bae0ee53b330539311"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QwNzo0OTo0MlrOFh59Hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QwNzo0OTo0MlrOFh59Hg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA5Njg2Mg==", "bodyText": "Same question:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public GHTeamBuilder repoNames(List<String> repoNames) {\n          \n          \n            \n                public GHTeamBuilder repositories(GHRepository... repositories) {", "url": "https://github.com/hub4j/github-api/pull/683#discussion_r371096862", "createdAt": "2020-01-27T07:49:42Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHTeamBuilder.java", "diffHunk": "@@ -0,0 +1,94 @@\n+package org.kohsuke.github;\n+\n+import java.io.IOException;\n+import java.util.List;\n+\n+/**\n+ * Creates a team.\n+ *\n+ * https://developer.github.com/v3/teams/#create-team\n+ */\n+public class GHTeamBuilder {\n+\n+    private final GitHub root;\n+    protected final Requester builder;\n+    private final String orgName;\n+\n+    public GHTeamBuilder(GitHub root, String orgName, String name) {\n+        this.root = root;\n+        this.orgName = orgName;\n+        this.builder = root.createRequest();\n+        this.builder.with(\"name\", name);\n+    }\n+\n+    /**\n+     * Description for this team.\n+     *\n+     * @param description\n+     *            description of team\n+     * @return a builder to continue with building\n+     */\n+    public GHTeamBuilder description(String description) {\n+        this.builder.with(\"description\", description);\n+        return this;\n+    }\n+\n+    /**\n+     * Maintainers for this team.\n+     *\n+     * @param maintainers\n+     *            maintainers of team\n+     * @return a builder to continue with building\n+     */\n+    public GHTeamBuilder maintainers(List<String> maintainers) {\n+        this.builder.with(\"maintainers\", maintainers);\n+        return this;\n+    }\n+\n+    /**\n+     * Repo names to add this team to.\n+     *\n+     * @param repoNames\n+     *            repoNames to add team to\n+     * @return a builder to continue with building\n+     */\n+    public GHTeamBuilder repoNames(List<String> repoNames) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f3278348883d1105201b4bae0ee53b330539311"}, "originalPosition": 55}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e600c43ede4fee57cda9604d0b27430e0322b89", "author": {"user": {"login": "timja", "name": "Tim Jacomb"}}, "url": "https://github.com/hub4j/github-api/commit/7e600c43ede4fee57cda9604d0b27430e0322b89", "committedDate": "2020-01-27T07:52:08Z", "message": "Var-args instead of list"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e008021a429ec203d20d3c3f71ff5fc131f08bca", "author": {"user": {"login": "timja", "name": "Tim Jacomb"}}, "url": "https://github.com/hub4j/github-api/commit/e008021a429ec203d20d3c3f71ff5fc131f08bca", "committedDate": "2020-01-27T07:52:15Z", "message": "Merge branch 'add-full-create-team-parameters' of github.com:timja/github-api into add-full-create-team-parameters"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4NDgzOTM4", "url": "https://github.com/hub4j/github-api/pull/683#pullrequestreview-348483938", "createdAt": "2020-01-27T08:00:14Z", "commit": {"oid": "e008021a429ec203d20d3c3f71ff5fc131f08bca"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1666, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}