{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNzk4ODcx", "number": 980, "title": "Add ability to update a check run", "bodyText": "Add functionality to update an existing check run\nI have added a test which I fully expect to fail, as I have no idea where to even begin with implementing the wiremock backend - are they all manually crafted files?", "createdAt": "2020-11-19T09:22:38Z", "url": "https://github.com/hub4j/github-api/pull/980", "merged": true, "mergeCommit": {"oid": "208904b6348e6e386c0f74d42ff1f2ed9a5e8aa5"}, "closed": true, "closedAt": "2020-11-24T02:28:49Z", "author": {"login": "mrginglymus"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdd_OkJAH2gAyNTIzNzk4ODcxOjQ5NTNmNDUwMGQ3NTM0ZDc1OWU2OTcyMmQ5OWYzY2ZjMjhkNmFmMmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfgUzFAFqTUzNzAyOTgwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4953f4500d7534d759e69722d99f3cfc28d6af2d", "author": {"user": null}, "url": "https://github.com/hub4j/github-api/commit/4953f4500d7534d759e69722d99f3cfc28d6af2d", "committedDate": "2020-11-19T09:20:58Z", "message": "Create check run updater"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bde6ad9a06cc71db3d0b8b187bfab5f889175b5c", "author": {"user": null}, "url": "https://github.com/hub4j/github-api/commit/bde6ad9a06cc71db3d0b8b187bfab5f889175b5c", "committedDate": "2020-11-19T09:20:58Z", "message": "Add a test for check updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "224d8c7cb473fa0d5290bcef176f9723a46bba65", "author": {"user": null}, "url": "https://github.com/hub4j/github-api/commit/224d8c7cb473fa0d5290bcef176f9723a46bba65", "committedDate": "2020-11-19T15:05:25Z", "message": "Add wiremocks for tests, move existing tests to test org"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0NTY4NDIx", "url": "https://github.com/hub4j/github-api/pull/980#pullrequestreview-534568421", "createdAt": "2020-11-19T15:32:58Z", "commit": {"oid": "224d8c7cb473fa0d5290bcef176f9723a46bba65"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0ODY1NTIz", "url": "https://github.com/hub4j/github-api/pull/980#pullrequestreview-534865523", "createdAt": "2020-11-19T21:27:27Z", "commit": {"oid": "224d8c7cb473fa0d5290bcef176f9723a46bba65"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQyMToyNzoyN1rOH2yViQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQyMToyNzoyN1rOH2yViQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzIwOTg2NQ==", "bodyText": "Is there a reason you needed to update existing tests? Once the mocks are created they should continue to work so long as you are not actually changing the behavior of the existing APIs, which AFAICT you are not.", "url": "https://github.com/hub4j/github-api/pull/980#discussion_r527209865", "createdAt": "2020-11-19T21:27:27Z", "author": {"login": "jglick"}, "path": "src/test/java/org/kohsuke/github/GHCheckRunBuilderTest.java", "diffHunk": "@@ -26,17 +26,22 @@\n \n import org.junit.Test;\n \n+import java.io.IOException;\n import java.util.Date;\n \n import static org.hamcrest.Matchers.containsString;\n \n @SuppressWarnings(\"deprecation\") // preview\n-public class GHCheckRunBuilderTest extends AbstractGitHubWireMockTest {\n+public class GHCheckRunBuilderTest extends AbstractGHAppInstallationTest {\n+\n+    protected GitHub getInstallationGithub() throws IOException {\n+        return getAppInstallationWithTokenApp3().getRoot();\n+    }\n \n     @Test\n     public void createCheckRun() throws Exception {\n-        GHCheckRun checkRun = gitHub.getRepository(\"jglick/github-api-test\")\n-                .createCheckRun(\"foo\", \"4a929d464a2fae7ee899ce603250f7dab304bc4b\")\n+        GHCheckRun checkRun = getInstallationGithub().getRepository(\"hub4j-test-org/test-checks\")\n+                .createCheckRun(\"foo\", \"89a9ae301e35e667756034fdc933b1fc94f63fc1\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "224d8c7cb473fa0d5290bcef176f9723a46bba65"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77baafa6435c0af2b89bdf404035f405e6ba2e77", "author": {"user": {"login": "mrginglymus", "name": "Bill Collins"}}, "url": "https://github.com/hub4j/github-api/commit/77baafa6435c0af2b89bdf404035f405e6ba2e77", "committedDate": "2020-11-20T09:16:34Z", "message": "Add method for updating check run by ID"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MjUyMzA5", "url": "https://github.com/hub4j/github-api/pull/980#pullrequestreview-535252309", "createdAt": "2020-11-20T09:17:38Z", "commit": {"oid": "77baafa6435c0af2b89bdf404035f405e6ba2e77"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MDI5ODAz", "url": "https://github.com/hub4j/github-api/pull/980#pullrequestreview-537029803", "createdAt": "2020-11-24T02:28:34Z", "commit": {"oid": "77baafa6435c0af2b89bdf404035f405e6ba2e77"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1588, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}