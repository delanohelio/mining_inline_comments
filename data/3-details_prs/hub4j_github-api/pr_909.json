{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU5MTUyODEy", "number": 909, "title": "GHCheckRun.getPullRequests public", "bodyText": "Description\nCloses #908 (GHCheckRun's getPullRequests should be public)\nBefore submitting a PR:\nWe love getting PRs, but we hate asking people for the same basic changes every time.\nWhen creating a PR:\n\n Fill in the \"Description\" above.\n Enable \"Allow edits from maintainers\".", "createdAt": "2020-07-30T13:00:53Z", "url": "https://github.com/hub4j/github-api/pull/909", "merged": true, "mergeCommit": {"oid": "dfb0a5240ef99c8666036e41206787b18d5acd6e"}, "closed": true, "closedAt": "2020-07-31T23:06:18Z", "author": {"login": "JKalash"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5_OesAH2gAyNDU5MTUyODEyOjJmMmYyNjc2N2ViYzBmNjY4YmVkZGJjYjk4ZGFmMWMwNzAzOTc3ZGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc6cYKAgBqjM2MTA3MjQxMTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2f2f26767ebc0f668beddbcb98daf1c0703977de", "author": {"user": null}, "url": "https://github.com/hub4j/github-api/commit/2f2f26767ebc0f668beddbcb98daf1c0703977de", "committedDate": "2020-07-30T12:59:36Z", "message": "make getPullRequests public"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1e901b79466b34852795b39e0a855307bdef820", "author": {"user": {"login": "JKalash", "name": "Joe Kalash"}}, "url": "https://github.com/hub4j/github-api/commit/e1e901b79466b34852795b39e0a855307bdef820", "committedDate": "2020-07-30T13:01:01Z", "message": "Merge branch 'master' into jkalash/master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5913dc292b7ba776cf0767707cef9e04c0c5b76", "author": {"user": null}, "url": "https://github.com/hub4j/github-api/commit/d5913dc292b7ba776cf0767707cef9e04c0c5b76", "committedDate": "2020-07-30T14:25:35Z", "message": "fix array exposure"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NjA5MjEw", "url": "https://github.com/hub4j/github-api/pull/909#pullrequestreview-458609210", "createdAt": "2020-07-30T17:26:05Z", "commit": {"oid": "d5913dc292b7ba776cf0767707cef9e04c0c5b76"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNzoyNjowNVrOG5sxOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNzoyNjowNVrOG5sxOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE1NTUxNQ==", "bodyText": "I think I'd rather keep the array here and have getPullRequests() return an UnmodifiableList created from it.\nOr maybe return an Iterable.\nI don't think there's a strong reason to change to a List, but I'm open to discussing it.", "url": "https://github.com/hub4j/github-api/pull/909#discussion_r463155515", "createdAt": "2020-07-30T17:26:05Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHCheckRun.java", "diffHunk": "@@ -29,7 +30,7 @@\n     private URL detailsUrl;\n     private Output output;\n     private GHApp app;\n-    private GHPullRequest[] pullRequests;\n+    private List<GHPullRequest> pullRequests;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d5913dc292b7ba776cf0767707cef9e04c0c5b76"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NjA5NzU2", "url": "https://github.com/hub4j/github-api/pull/909#pullrequestreview-458609756", "createdAt": "2020-07-30T17:26:52Z", "commit": {"oid": "d5913dc292b7ba776cf0767707cef9e04c0c5b76"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81bf818573ed430498ba0d60eef6ef53b07552fd", "author": {"user": null}, "url": "https://github.com/hub4j/github-api/commit/81bf818573ed430498ba0d60eef6ef53b07552fd", "committedDate": "2020-07-30T19:01:44Z", "message": "pullRequests returns iterable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0bbba748af79552373818ca4f32848354d9ed2f", "author": {"user": null}, "url": "https://github.com/hub4j/github-api/commit/a0bbba748af79552373818ca4f32848354d9ed2f", "committedDate": "2020-07-30T19:10:44Z", "message": "check suite exposes pull requests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NzE1MDEz", "url": "https://github.com/hub4j/github-api/pull/909#pullrequestreview-458715013", "createdAt": "2020-07-30T20:01:26Z", "commit": {"oid": "a0bbba748af79552373818ca4f32848354d9ed2f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQyMDowMToyNlrOG5x3Ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQyMDowMToyNlrOG5x3Ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzIzODk0Ng==", "bodyText": "Sorry, I mispoke.  We want to return an Iterable.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public Iterator<GHPullRequest> getPullRequests() throws IOException {\n          \n          \n            \n                public Iterable<GHPullRequest> getPullRequests() throws IOException {", "url": "https://github.com/hub4j/github-api/pull/909#discussion_r463238946", "createdAt": "2020-07-30T20:01:26Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHCheckRun.java", "diffHunk": "@@ -106,14 +109,17 @@ public String getHeadSha() {\n      * Gets the pull requests participated in this check run.\n      *\n      * @return Pull requests of this check run\n+     * @throws IOException\n+     *             the io exception\n      */\n-    GHPullRequest[] getPullRequests() throws IOException {\n+    public Iterator<GHPullRequest> getPullRequests() throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a0bbba748af79552373818ca4f32848354d9ed2f"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f146ae94ecd7e71ffc2c88ba87f9672f8e07a79a", "author": {"user": null}, "url": "https://github.com/hub4j/github-api/commit/f146ae94ecd7e71ffc2c88ba87f9672f8e07a79a", "committedDate": "2020-07-30T20:41:16Z", "message": "return iterable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72a1c24b3b48f70301d3a85d733b294bf6ff378d", "author": {"user": null}, "url": "https://github.com/hub4j/github-api/commit/72a1c24b3b48f70301d3a85d733b294bf6ff378d", "committedDate": "2020-07-30T20:43:37Z", "message": "format"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5405fb0370a2db44e18ed6de2d620c90483629f1", "author": {"user": null}, "url": "https://github.com/hub4j/github-api/commit/5405fb0370a2db44e18ed6de2d620c90483629f1", "committedDate": "2020-07-30T20:48:42Z", "message": "return unmodifiable list"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4Nzk1MDkx", "url": "https://github.com/hub4j/github-api/pull/909#pullrequestreview-458795091", "createdAt": "2020-07-30T22:19:51Z", "commit": {"oid": "5405fb0370a2db44e18ed6de2d620c90483629f1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NTE0Mzkx", "url": "https://github.com/hub4j/github-api/pull/909#pullrequestreview-459514391", "createdAt": "2020-07-31T22:52:00Z", "commit": {"oid": "c26aee25d8a8dac1fe9901fd316d817600c3c830"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQyMjo1MjowMFrOG6Y3SA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQyMjo1MjowMFrOG6Y3SA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg3Nzk2MA==", "bodyText": "@JKalash\nKeep this in mind.  This is took me a while to figure out. I'm not sure if it is expected behavior from GitHub but it is consistent.", "url": "https://github.com/hub4j/github-api/pull/909#discussion_r463877960", "createdAt": "2020-07-31T22:52:00Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHCheckRun.java", "diffHunk": "@@ -105,15 +128,22 @@ public String getHeadSha() {\n     /**\n      * Gets the pull requests participated in this check run.\n      *\n-     * @return Pull requests of this check run\n+     * Note this field is only populated for events. When getting a {@link GHCheckRun} outside of an event, this is\n+     * always empty.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c26aee25d8a8dac1fe9901fd316d817600c3c830"}, "originalPosition": 64}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b177d98e296ce7863c009907edb8fb51feebd6a8", "author": {"user": {"login": "bitwiseman", "name": "Liam Newman"}}, "url": "https://github.com/hub4j/github-api/commit/b177d98e296ce7863c009907edb8fb51feebd6a8", "committedDate": "2020-07-31T22:57:17Z", "message": "Populate Check pull requests\n\nTurns out there were quite a few bugs in this area (it was exposed publicly before. Some\ntweaking was needed and updates to the tests to show this working as expected."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c26aee25d8a8dac1fe9901fd316d817600c3c830", "author": {"user": {"login": "bitwiseman", "name": "Liam Newman"}}, "url": "https://github.com/hub4j/github-api/commit/c26aee25d8a8dac1fe9901fd316d817600c3c830", "committedDate": "2020-07-31T21:58:30Z", "message": "Populate Check pull requests\n\nTurns out there were quite a few bugs in this area (it was exposed publicly before. Some\ntweaking was needed and updates to the tests to show this working as expected."}, "afterCommit": {"oid": "b177d98e296ce7863c009907edb8fb51feebd6a8", "author": {"user": {"login": "bitwiseman", "name": "Liam Newman"}}, "url": "https://github.com/hub4j/github-api/commit/b177d98e296ce7863c009907edb8fb51feebd6a8", "committedDate": "2020-07-31T22:57:17Z", "message": "Populate Check pull requests\n\nTurns out there were quite a few bugs in this area (it was exposed publicly before. Some\ntweaking was needed and updates to the tests to show this working as expected."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1632, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}