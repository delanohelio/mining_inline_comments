{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2Mzk0Njg5", "number": 921, "title": "update branch & change base on PRs", "bodyText": "Description\nAdding a method to update the PR branch from the base branch & a method to change the base of the PR.\nCloses #787.\nBefore submitting a PR:\nWe love getting PRs, but we hate asking people for the same basic changes every time.\n\n Push your changes to a branch other than master. Create your PR from that branch.\n Add JavaDocs and other comments\n Write tests that run and pass in CI. See CONTRIBUTING.md for details on how to capture snapshot data.\n Run mvn clean compile locally. This may reformat your code, commit those changes.\n Run mvn -D enable-ci clean install site locally. If this command doesn't succeed, your change will not pass CI.\n\nWhen creating a PR:\n\n Fill in the \"Description\" above.\n Enable \"Allow edits from maintainers\".", "createdAt": "2020-08-11T22:44:23Z", "url": "https://github.com/hub4j/github-api/pull/921", "merged": true, "mergeCommit": {"oid": "91764c1c7449b56f659db8c0beaad3d68474fb39"}, "closed": true, "closedAt": "2020-09-22T22:46:07Z", "author": {"login": "tginiotis-at-work"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc9_NQvABqjM2NDUzNTU3NzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLf-vFgFqTQ5Mzg5NzE4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "154d46932caff55821e6890121bfb4d4ca5d10fb", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/154d46932caff55821e6890121bfb4d4ca5d10fb", "committedDate": "2020-08-11T22:37:03Z", "message": "update branch & change base on PRs"}, "afterCommit": {"oid": "1baab00abc08cf42e9401c04e3fc0c184fa30a36", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/1baab00abc08cf42e9401c04e3fc0c184fa30a36", "committedDate": "2020-08-11T23:13:39Z", "message": "update branch & change base on PRs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1baab00abc08cf42e9401c04e3fc0c184fa30a36", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/1baab00abc08cf42e9401c04e3fc0c184fa30a36", "committedDate": "2020-08-11T23:13:39Z", "message": "update branch & change base on PRs"}, "afterCommit": {"oid": "73e7c99ca327f2d811259e4bdef5bfdfbfcd138c", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/73e7c99ca327f2d811259e4bdef5bfdfbfcd138c", "committedDate": "2020-08-11T23:35:18Z", "message": "update branch & change base on PRs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "73e7c99ca327f2d811259e4bdef5bfdfbfcd138c", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/73e7c99ca327f2d811259e4bdef5bfdfbfcd138c", "committedDate": "2020-08-11T23:35:18Z", "message": "update branch & change base on PRs"}, "afterCommit": {"oid": "7f7c61d1c318d9645e2077574a02db05d24aa644", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/7f7c61d1c318d9645e2077574a02db05d24aa644", "committedDate": "2020-08-13T09:35:57Z", "message": "add GHPullRequest tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7f7c61d1c318d9645e2077574a02db05d24aa644", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/7f7c61d1c318d9645e2077574a02db05d24aa644", "committedDate": "2020-08-13T09:35:57Z", "message": "add GHPullRequest tests"}, "afterCommit": {"oid": "4b9df795b772b686280cd0a90f4f94c58137e749", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/4b9df795b772b686280cd0a90f4f94c58137e749", "committedDate": "2020-08-13T09:38:40Z", "message": "add GHPullRequest tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MDMxNzY5", "url": "https://github.com/hub4j/github-api/pull/921#pullrequestreview-467031769", "createdAt": "2020-08-13T18:36:24Z", "commit": {"oid": "4b9df795b772b686280cd0a90f4f94c58137e749"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODozNjoyNFrOHAYnGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODozNjoyNFrOHAYnGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDE2NTI3NQ==", "bodyText": "Use Requester.send().", "url": "https://github.com/hub4j/github-api/pull/921#discussion_r470165275", "createdAt": "2020-08-13T18:36:24Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHPullRequest.java", "diffHunk": "@@ -565,6 +566,40 @@ public void requestTeamReviewers(List<GHTeam> teams) throws IOException {\n                 .send();\n     }\n \n+    /**\n+     * Set the base branch on the pull request\n+     *\n+     * @param newBaseBranch\n+     *            the name of the new base branch\n+     * @throws IOException\n+     *             the io exception\n+     */\n+    public void setBaseBranch(String newBaseBranch) throws IOException {\n+        owner.root.getClient()\n+                .sendRequest(\n+                        root.createRequest().method(\"PATCH\").with(\"base\", newBaseBranch).withUrlPath(getApiRoute()),\n+                        null);\n+    }\n+\n+    /**\n+     * Updates the branch. The same as pressing the button in the web GUI.\n+     *\n+     * @throws IOException\n+     *             the io exception\n+     */\n+    @Preview\n+    @Deprecated\n+    public void updateBranch() throws IOException {\n+        owner.root.getClient()\n+                .sendRequest(\n+                        root.createRequest()\n+                                .withPreview(LYDIAN)\n+                                .method(\"PUT\")\n+                                .with(\"expected_head_sha\", head.getSha())\n+                                .withUrlPath(getApiRoute() + \"/update-branch\"),\n+                        null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b9df795b772b686280cd0a90f4f94c58137e749"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MDM2OTkz", "url": "https://github.com/hub4j/github-api/pull/921#pullrequestreview-467036993", "createdAt": "2020-08-13T18:44:18Z", "commit": {"oid": "4b9df795b772b686280cd0a90f4f94c58137e749"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODo0NDoxOVrOHAY5ow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODo0NDoxOVrOHAY5ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDE3MDAxOQ==", "bodyText": "This call returns the updated GHPullRequest in JSON. We should parse it and return it.", "url": "https://github.com/hub4j/github-api/pull/921#discussion_r470170019", "createdAt": "2020-08-13T18:44:19Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHPullRequest.java", "diffHunk": "@@ -565,6 +566,40 @@ public void requestTeamReviewers(List<GHTeam> teams) throws IOException {\n                 .send();\n     }\n \n+    /**\n+     * Set the base branch on the pull request\n+     *\n+     * @param newBaseBranch\n+     *            the name of the new base branch\n+     * @throws IOException\n+     *             the io exception\n+     */\n+    public void setBaseBranch(String newBaseBranch) throws IOException {\n+        owner.root.getClient()\n+                .sendRequest(\n+                        root.createRequest().method(\"PATCH\").with(\"base\", newBaseBranch).withUrlPath(getApiRoute()),\n+                        null);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b9df795b772b686280cd0a90f4f94c58137e749"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MDQ1Mzkz", "url": "https://github.com/hub4j/github-api/pull/921#pullrequestreview-467045393", "createdAt": "2020-08-13T18:54:55Z", "commit": {"oid": "4b9df795b772b686280cd0a90f4f94c58137e749"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b9df795b772b686280cd0a90f4f94c58137e749", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/4b9df795b772b686280cd0a90f4f94c58137e749", "committedDate": "2020-08-13T09:38:40Z", "message": "add GHPullRequest tests"}, "afterCommit": {"oid": "4a0d7542b454639deafb53da278455d61ae66381", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/4a0d7542b454639deafb53da278455d61ae66381", "committedDate": "2020-09-03T19:06:57Z", "message": "add GHPullRequest tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ceb2d35f9f38f181c714c69cefcb07a527da0f45", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/ceb2d35f9f38f181c714c69cefcb07a527da0f45", "committedDate": "2020-09-03T19:10:33Z", "message": "update branch & change base on PRs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4a0d7542b454639deafb53da278455d61ae66381", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/4a0d7542b454639deafb53da278455d61ae66381", "committedDate": "2020-09-03T19:06:57Z", "message": "add GHPullRequest tests"}, "afterCommit": {"oid": "de395136f7d8710fa682447ef62ba60fe45d6995", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/de395136f7d8710fa682447ef62ba60fe45d6995", "committedDate": "2020-09-03T19:10:33Z", "message": "add GHPullRequest tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d7479a3dd06b99a14688965e8977662fceda7c8", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/5d7479a3dd06b99a14688965e8977662fceda7c8", "committedDate": "2020-09-03T19:13:28Z", "message": "add GHPullRequest tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "de395136f7d8710fa682447ef62ba60fe45d6995", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/de395136f7d8710fa682447ef62ba60fe45d6995", "committedDate": "2020-09-03T19:10:33Z", "message": "add GHPullRequest tests"}, "afterCommit": {"oid": "5d7479a3dd06b99a14688965e8977662fceda7c8", "author": {"user": {"login": "tginiotis-at-work", "name": "Tadas Giniotis"}}, "url": "https://github.com/hub4j/github-api/commit/5d7479a3dd06b99a14688965e8977662fceda7c8", "committedDate": "2020-09-03T19:13:28Z", "message": "add GHPullRequest tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzODk3MTg1", "url": "https://github.com/hub4j/github-api/pull/921#pullrequestreview-493897185", "createdAt": "2020-09-22T22:45:59Z", "commit": {"oid": "5d7479a3dd06b99a14688965e8977662fceda7c8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1634, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}