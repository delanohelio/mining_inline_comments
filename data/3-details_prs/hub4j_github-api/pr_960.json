{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3MTEzNDc4", "number": 960, "title": " Implement deployment API support for ant-man and flash previews", "bodyText": "Description\n\nImplement deployment API support for ant-man and flash previews.\nThis pr includes two new constants in the Previews class.\nGetters for newly introduced fields are added to GHDeployment and GHDeploymentStatus.\nNew builder setters are implemented for GHDeploymentBuilder and GHDeploymentStatusBuilder.\nGHDeploymentState has been updated to support in_progress, queued, and inactive.\n\nRelated Gh API Docs\n\n\nMarked GHDeploymentStatus.getTargetUrl() and GHDeploymentStatusBuilder.targetUrl() as @Deprecated.\n\nMethod documentation has been updated to advise users to replace usages with logUrl() where appropriate\n\n\n\nGithub Blog Posts For Previews Implemented\n\nflash (10/16/2018)\nant-man (04/06/2016)\n\nBefore submitting a PR:\nWe love getting PRs, but we hate asking people for the same basic changes every time.\n\n Push your changes to a branch other than master. Create your PR from that branch.\n Add JavaDocs and other comments\n Write tests that run and pass in CI. See CONTRIBUTING.md for details on how to capture snapshot data.\n Run mvn clean compile locally. This may reformat your code, commit those changes.\n Run mvn -D enable-ci clean install site locally. If this command doesn't succeed, your change will not pass CI.\n\nWhen creating a PR:\n\n Fill in the \"Description\" above.\n Enable \"Allow edits from maintainers\".", "createdAt": "2020-10-02T20:11:46Z", "url": "https://github.com/hub4j/github-api/pull/960", "merged": true, "mergeCommit": {"oid": "ed4f9c8176866977677c99ac9668a8ce10231bc8"}, "closed": true, "closedAt": "2020-11-25T14:37:37Z", "author": {"login": "marcoferrer"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOqH6lAH2gAyNDk3MTEzNDc4OmIxODhlNzRlZTBlOWUzOTI4NmUyY2RhNzI3MWUzNDM4OTViZDE1ZWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdf_ExRgH2gAyNDk3MTEzNDc4OmJiYjQ2ZTg4YjA4Mjg3NDdjY2QwM2JlYmYyMGEwMGQ5YmE3ZmM4NmQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b188e74ee0e9e39286e2cda7271e343895bd15eb", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/b188e74ee0e9e39286e2cda7271e343895bd15eb", "committedDate": "2020-10-02T18:16:50Z", "message": "Add new const for flash preview"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c82eeb018672a5180c3798c69a5174d7f1c22ac", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/7c82eeb018672a5180c3798c69a5174d7f1c22ac", "committedDate": "2020-10-02T19:57:52Z", "message": "Support deployment api previews ant-man and flash"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a6ad48e0887a56bb22a8123e9ba930eb38d2cdb", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/1a6ad48e0887a56bb22a8123e9ba930eb38d2cdb", "committedDate": "2020-10-02T20:35:46Z", "message": "formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0d650a86c954944e2490b3bf5e48c04fae6e0cc", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/a0d650a86c954944e2490b3bf5e48c04fae6e0cc", "committedDate": "2020-10-02T20:47:01Z", "message": "update deployment tests to read new fields"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15e9ee30ee86b5760169a64df3c68ec86df8dce5", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/15e9ee30ee86b5760169a64df3c68ec86df8dce5", "committedDate": "2020-10-02T20:52:23Z", "message": "formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04b553cdecaf7e1c0a8ebcd593b766b6ae3e9660", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/04b553cdecaf7e1c0a8ebcd593b766b6ae3e9660", "committedDate": "2020-10-02T21:12:10Z", "message": "update deployment status checks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89a08b021df8572c4e25af1d077ad30ace25d51b", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/89a08b021df8572c4e25af1d077ad30ace25d51b", "committedDate": "2020-10-02T21:14:28Z", "message": "formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c959e0a9281147a1c86aadc35cefc884da52c0b6", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/c959e0a9281147a1c86aadc35cefc884da52c0b6", "committedDate": "2020-10-02T21:37:21Z", "message": "update accept header in wiremocks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12ca5d8063720cf17e8866ad27255b7a46c169f4", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/12ca5d8063720cf17e8866ad27255b7a46c169f4", "committedDate": "2020-10-02T21:40:47Z", "message": "update deployment wiremocks"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyODU4MzEw", "url": "https://github.com/hub4j/github-api/pull/960#pullrequestreview-522858310", "createdAt": "2020-11-03T20:40:47Z", "commit": {"oid": "12ca5d8063720cf17e8866ad27255b7a46c169f4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMDo0MDo0N1rOHs_sAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMDo0MzoxMFrOHs_wYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjk0Mjg1MA==", "bodyText": "Very nice.  I'd almost prefer it to not be optional but I see why it needs to be.", "url": "https://github.com/hub4j/github-api/pull/960#discussion_r516942850", "createdAt": "2020-11-03T20:40:47Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/Preview.java", "diffHunk": "@@ -15,4 +15,15 @@\n @Retention(RetentionPolicy.RUNTIME)\n @Documented\n public @interface Preview {\n+\n+    /**\n+     * An optional field defining what API media types must be set inorder to support the usage of this annotations\n+     * target.\n+     * <p>\n+     * This value should be set using the existing constants defined in {@link Previews}\n+     *\n+     * @return The API preview media type.\n+     */\n+    public String[] value() default {};\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12ca5d8063720cf17e8866ad27255b7a46c169f4"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjk0Mzk2OQ==", "bodyText": "We mark preview fields as @Deprecated to make sure end users are aware (via editor feedback) that they are not stable APIs.\nThis comment applies to all usages.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @Preview(Previews.FLASH)\n          \n          \n            \n                @Deprecated\n          \n          \n            \n                @Preview(Previews.FLASH)", "url": "https://github.com/hub4j/github-api/pull/960#discussion_r516943969", "createdAt": "2020-11-03T20:43:10Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/GHDeployment.java", "diffHunk": "@@ -89,6 +92,16 @@ public Object getPayloadObject() {\n         return payload;\n     }\n \n+    /**\n+     * The environment defined when the deployment was first created.\n+     *\n+     * @return the original deployment environment\n+     */\n+    @Preview(Previews.FLASH)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12ca5d8063720cf17e8866ad27255b7a46c169f4"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "247b013e1639e8f925efcc4d1b829d122a4e1542", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/247b013e1639e8f925efcc4d1b829d122a4e1542", "committedDate": "2020-11-23T20:51:57Z", "message": "add deprecated annotations to preview usage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59b61cd8be53b97002949360f3109b78b609ffd0", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/59b61cd8be53b97002949360f3109b78b609ffd0", "committedDate": "2020-11-23T22:19:57Z", "message": "add deprecated to logUrl field"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0c6ddae88744e8d543de3d9042d556dada50549f", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/0c6ddae88744e8d543de3d9042d556dada50549f", "committedDate": "2020-11-23T21:36:11Z", "message": "Merge branch 'master' into update-deployments-api"}, "afterCommit": {"oid": "59b61cd8be53b97002949360f3109b78b609ffd0", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/59b61cd8be53b97002949360f3109b78b609ffd0", "committedDate": "2020-11-23T22:19:57Z", "message": "add deprecated to logUrl field"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bba692170443c02e94033f45534cc75756e2cfd", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/4bba692170443c02e94033f45534cc75756e2cfd", "committedDate": "2020-11-23T22:20:40Z", "message": "Merge branch 'master' into update-deployments-api"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da2aaff9e5fdc4276afa8391f5d00f7b3233c8f1", "author": {"user": {"login": "marcoferrer", "name": "Marco Ferrer"}}, "url": "https://github.com/hub4j/github-api/commit/da2aaff9e5fdc4276afa8391f5d00f7b3233c8f1", "committedDate": "2020-11-24T16:37:36Z", "message": "Merge branch 'master' into update-deployments-api"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4NTM0ODM3", "url": "https://github.com/hub4j/github-api/pull/960#pullrequestreview-538534837", "createdAt": "2020-11-25T14:16:01Z", "commit": {"oid": "da2aaff9e5fdc4276afa8391f5d00f7b3233c8f1"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNDoxNjowMlrOH51V3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNDoxNjowMlrOH51V3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQwNDgyOQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/hub4j/github-api/pull/960#discussion_r530404829", "createdAt": "2020-11-25T14:16:02Z", "author": {"login": "bitwiseman"}, "path": "src/main/java/org/kohsuke/github/Preview.java", "diffHunk": "@@ -8,11 +8,23 @@\n  * Indicates that the method/class/etc marked maps to GitHub API in the preview period.\n  * <p>\n  * These APIs are subject to change and not a part of the backward compatibility commitment. Always used in conjunction\n- * with 'deprecated' to raise awareness to clients.\n+ * with 'deprecated' to raise awareness to clients. In addition, it's advised to update the targets documentation to\n+ * signify that the deprecation is required until preview feature being used is promoted to stable.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da2aaff9e5fdc4276afa8391f5d00f7b3233c8f1"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbb46e88b0828747ccd03bebf20a00d9ba7fc86d", "author": {"user": {"login": "bitwiseman", "name": "Liam Newman"}}, "url": "https://github.com/hub4j/github-api/commit/bbb46e88b0828747ccd03bebf20a00d9ba7fc86d", "committedDate": "2020-11-25T14:18:07Z", "message": "Merge branch 'master' into update-deployments-api"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1573, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}