{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxNzE2NTM2", "number": 1518, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMjoxMzo1NlrOEmjp0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMjoxMzo1NlrOEmjp0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4ODY1NDkxOnYy", "diffSide": "RIGHT", "path": "common/src/java/org/apache/hadoop/hive/conf/HiveConf.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMjoxMzo1NlrOHWp2uA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMjoyMjowOFrOHWqTjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUxNjQ3Mg==", "bodyText": "This will be used on HMS and occasionally on HS2 (if the Worker is HS2).\nWhere are those other Compaction related configs? If everything is on HMS side, please move this there too", "url": "https://github.com/apache/hive/pull/1518#discussion_r493516472", "createdAt": "2020-09-23T12:13:56Z", "author": {"login": "pvary"}, "path": "common/src/java/org/apache/hadoop/hive/conf/HiveConf.java", "diffHunk": "@@ -3098,6 +3098,10 @@ private static void populateLlapDaemonVarsSet(Set<String> llapDaemonVarsSetLocal\n         \"This is set to compactor from within the query based compactor. This enables the Tez SplitGrouper \"\n         + \"to group splits based on their bucket number, so that all rows from different bucket files \"\n         + \" for the same bucket number can end up in the same bucket file after the compaction.\"),\n+    // MetastoreConf doesn't have a restricted list. Otherwise can be moved there.\n+    COMPACTOR_RUN_AS_USER(\"hive.compactor.run.as.user\", \"\",\n+        \"Specify the user to run compaction (Worker) and compaction-related file listing (Initiator, Cleaner) as. \" +\n+        \"If empty string, defaults to table/partition directory owner. Restricted.\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f5ff016967eb26f86d086e6cbc1cdaa6a54a84e"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUyMDYwNQ==", "bodyText": "MetastoreConf, but it has no restricted list AFAIK. Implementing one would be a new feature that isn't covered by this ticket.", "url": "https://github.com/apache/hive/pull/1518#discussion_r493520605", "createdAt": "2020-09-23T12:18:37Z", "author": {"login": "klcopp"}, "path": "common/src/java/org/apache/hadoop/hive/conf/HiveConf.java", "diffHunk": "@@ -3098,6 +3098,10 @@ private static void populateLlapDaemonVarsSet(Set<String> llapDaemonVarsSetLocal\n         \"This is set to compactor from within the query based compactor. This enables the Tez SplitGrouper \"\n         + \"to group splits based on their bucket number, so that all rows from different bucket files \"\n         + \" for the same bucket number can end up in the same bucket file after the compaction.\"),\n+    // MetastoreConf doesn't have a restricted list. Otherwise can be moved there.\n+    COMPACTOR_RUN_AS_USER(\"hive.compactor.run.as.user\", \"\",\n+        \"Specify the user to run compaction (Worker) and compaction-related file listing (Initiator, Cleaner) as. \" +\n+        \"If empty string, defaults to table/partition directory owner. Restricted.\"),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUxNjQ3Mg=="}, "originalCommit": {"oid": "1f5ff016967eb26f86d086e6cbc1cdaa6a54a84e"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUyMzg1NA==", "bodyText": "AFAIK only very specific HMS confs could be changed by the user (HiveConf.metaConfVars). So restricting it might not be needed.", "url": "https://github.com/apache/hive/pull/1518#discussion_r493523854", "createdAt": "2020-09-23T12:22:08Z", "author": {"login": "pvary"}, "path": "common/src/java/org/apache/hadoop/hive/conf/HiveConf.java", "diffHunk": "@@ -3098,6 +3098,10 @@ private static void populateLlapDaemonVarsSet(Set<String> llapDaemonVarsSetLocal\n         \"This is set to compactor from within the query based compactor. This enables the Tez SplitGrouper \"\n         + \"to group splits based on their bucket number, so that all rows from different bucket files \"\n         + \" for the same bucket number can end up in the same bucket file after the compaction.\"),\n+    // MetastoreConf doesn't have a restricted list. Otherwise can be moved there.\n+    COMPACTOR_RUN_AS_USER(\"hive.compactor.run.as.user\", \"\",\n+        \"Specify the user to run compaction (Worker) and compaction-related file listing (Initiator, Cleaner) as. \" +\n+        \"If empty string, defaults to table/partition directory owner. Restricted.\"),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUxNjQ3Mg=="}, "originalCommit": {"oid": "1f5ff016967eb26f86d086e6cbc1cdaa6a54a84e"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 285, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}