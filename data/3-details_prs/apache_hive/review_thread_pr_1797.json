{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzNTEwNDYx", "number": 1797, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxMzo1Njo0MlrOFK5t9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxMzo1NzozNlrOFK5vRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2OTc1NzM1OnYy", "diffSide": "RIGHT", "path": "common/src/java/org/apache/hadoop/hive/conf/HiveConf.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxMzo1Njo0MlrOINyjlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxNDo0MzowNVrOIN0KeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTMzMDcwOQ==", "bodyText": "Could be please use underscores to separate names? I understand that the ones before and after are not using them, but currently the underscore is the \"standard\"", "url": "https://github.com/apache/hive/pull/1797#discussion_r551330709", "createdAt": "2021-01-04T13:56:42Z", "author": {"login": "pvary"}, "path": "common/src/java/org/apache/hadoop/hive/conf/HiveConf.java", "diffHunk": "@@ -1991,6 +1991,10 @@ private static void populateLlapDaemonVarsSet(Set<String> llapDaemonVarsSetLocal\n         \"Default file format for CREATE TABLE statement applied to managed tables only. External tables will be \\n\" +\n         \"created with format specified by hive.default.fileformat. Leaving this null will result in using hive.default.fileformat \\n\" +\n         \"for all tables.\"),\n+    HIVEDEFAULTSTORAGEHANDLER(\"hive.default.storage.handler.class\", \"\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aff4461bae936b239cd8abe27e73988312c67b9d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTM1NzA0OA==", "bodyText": "sure", "url": "https://github.com/apache/hive/pull/1797#discussion_r551357048", "createdAt": "2021-01-04T14:43:05Z", "author": {"login": "marton-bod"}, "path": "common/src/java/org/apache/hadoop/hive/conf/HiveConf.java", "diffHunk": "@@ -1991,6 +1991,10 @@ private static void populateLlapDaemonVarsSet(Set<String> llapDaemonVarsSetLocal\n         \"Default file format for CREATE TABLE statement applied to managed tables only. External tables will be \\n\" +\n         \"created with format specified by hive.default.fileformat. Leaving this null will result in using hive.default.fileformat \\n\" +\n         \"for all tables.\"),\n+    HIVEDEFAULTSTORAGEHANDLER(\"hive.default.storage.handler.class\", \"\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTMzMDcwOQ=="}, "originalCommit": {"oid": "aff4461bae936b239cd8abe27e73988312c67b9d"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2OTc2MDY4OnYy", "diffSide": "RIGHT", "path": "ql/src/java/org/apache/hadoop/hive/ql/parse/StorageFormat.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxMzo1NzozNlrOINyldw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxNDo0Mjo1OFrOIN0KOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTMzMTE5MQ==", "bodyText": "Maybe log?", "url": "https://github.com/apache/hive/pull/1797#discussion_r551331191", "createdAt": "2021-01-04T13:57:36Z", "author": {"login": "pvary"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/parse/StorageFormat.java", "diffHunk": "@@ -69,6 +69,12 @@ public boolean fillStorageFormat(ASTNode child) throws SemanticException {\n       }\n       break;\n     case HiveParser.TOK_FILEFORMAT_GENERIC:\n+      if (storageHandler != null) {\n+        // Under normal circumstances, we should not get here (since STORED BY and STORED AS are incompatible within the\n+        // same command). Only scenario we can end up here is if a default storage handler class is set in the config.\n+        // In this case, we opt to ignore the STORED AS clause.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aff4461bae936b239cd8abe27e73988312c67b9d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTM1Njk4NQ==", "bodyText": "sure", "url": "https://github.com/apache/hive/pull/1797#discussion_r551356985", "createdAt": "2021-01-04T14:42:58Z", "author": {"login": "marton-bod"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/parse/StorageFormat.java", "diffHunk": "@@ -69,6 +69,12 @@ public boolean fillStorageFormat(ASTNode child) throws SemanticException {\n       }\n       break;\n     case HiveParser.TOK_FILEFORMAT_GENERIC:\n+      if (storageHandler != null) {\n+        // Under normal circumstances, we should not get here (since STORED BY and STORED AS are incompatible within the\n+        // same command). Only scenario we can end up here is if a default storage handler class is set in the config.\n+        // In this case, we opt to ignore the STORED AS clause.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTMzMTE5MQ=="}, "originalCommit": {"oid": "aff4461bae936b239cd8abe27e73988312c67b9d"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 184, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}