{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyODQ0MDM5", "number": 1092, "title": "HIVE-23499: REPL: Immutable repl dumps should be reusable across mult\u2026", "bodyText": "Immutable dumps can be loaded into multiple clusters. Currently, after every load it creates an acknowledgement file. This prevents reuse of the repl dump. We can use hive.repl.dump.skip.immutable.data.copy and skip the load ack file. This would enable users to reuse immutable repl dumps.", "createdAt": "2020-06-11T05:15:18Z", "url": "https://github.com/apache/hive/pull/1092", "merged": true, "mergeCommit": {"oid": "714683ffa1e2da22101acab92e43812ca94b062f"}, "closed": true, "closedAt": "2020-06-15T08:35:03Z", "author": {"login": "rbalamohan"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqHLXVgH2gAyNDMyODQ0MDM5OjY5ODBjYzEzN2Q3ODM3NmI3MmJhYWFkMzNiNTYyNTYwMzhkZjg3NDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqjLGPAH2gAyNDMyODQ0MDM5OjlhNDgyZGRiYWU0ZGJhZjgxY2E3MWQ0NWQyYzQxNDI0ZWYxZmQ2N2Y=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6980cc137d78376b72baaad33b56256038df8748", "author": {"user": {"login": "rbalamohan", "name": null}}, "url": "https://github.com/apache/hive/commit/6980cc137d78376b72baaad33b56256038df8748", "committedDate": "2020-06-11T05:12:39Z", "message": "HIVE-23499: REPL: Immutable repl dumps should be reusable across multiple repl loads"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5NTI4OTgy", "url": "https://github.com/apache/hive/pull/1092#pullrequestreview-429528982", "createdAt": "2020-06-12T07:44:03Z", "commit": {"oid": "6980cc137d78376b72baaad33b56256038df8748"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNzo0NDowM1rOGi6VIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNzo0NDowM1rOGi6VIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI2MDQ0OQ==", "bodyText": "Please add a test for this. You can do a acknolegment check in the same REPL_DUMP_SKIP_IMMUTABLE_DATA_COPY testcase also", "url": "https://github.com/apache/hive/pull/1092#discussion_r439260449", "createdAt": "2020-06-12T07:44:03Z", "author": {"login": "aasha"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/exec/repl/ReplLoadTask.java", "diffHunk": "@@ -309,7 +310,9 @@ a database ( directory )\n     // Populate the driver context with the scratch dir info from the repl context, so that the\n     // temp dirs will be cleaned up later\n     context.getFsScratchDirs().putAll(loadContext.pathInfo.getFsScratchDirs());\n-    createReplLoadCompleteAckTask();\n+    if (!HiveConf.getBoolVar(conf, REPL_DUMP_SKIP_IMMUTABLE_DATA_COPY)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6980cc137d78376b72baaad33b56256038df8748"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60f9fb67c33ba86ec78ad6fc704b98c7ccb66b84", "author": {"user": {"login": "rbalamohan", "name": null}}, "url": "https://github.com/apache/hive/commit/60f9fb67c33ba86ec78ad6fc704b98c7ccb66b84", "committedDate": "2020-06-12T08:16:35Z", "message": "Merge branch 'master' of https://github.com/apache/hive into HIVE-23499"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a482ddbae4dbaf81ca71d45d2c41424ef1fd67f", "author": {"user": {"login": "rbalamohan", "name": null}}, "url": "https://github.com/apache/hive/commit/9a482ddbae4dbaf81ca71d45d2c41424ef1fd67f", "committedDate": "2020-06-12T13:49:42Z", "message": "HIVE-23499: REPL: Immutable repl dumps should be reusable across multiple repl loads"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3845, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}