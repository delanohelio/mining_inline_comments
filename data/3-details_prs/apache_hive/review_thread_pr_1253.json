{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5MzEzODc4", "number": 1253, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwODoyNTo1M1rOEOlLFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwODoyNTo1M1rOEOlLFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNzI0NTY3OnYy", "diffSide": "RIGHT", "path": "ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHiveMetaStoreChecker.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwODoyNTo1M1rOGxzrAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwODoyODo0N1rOGxzyCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDg4MDAwMA==", "bodyText": "Why are these changes are needed?", "url": "https://github.com/apache/hive/pull/1253#discussion_r454880000", "createdAt": "2020-07-15T08:25:53Z", "author": {"login": "pvary"}, "path": "ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHiveMetaStoreChecker.java", "diffHunk": "@@ -82,6 +84,11 @@ public void setUp() throws Exception {\n     msc = new HiveMetaStoreClient(hive.getConf());\n     checker = new HiveMetaStoreChecker(msc, hive.getConf());\n \n+    hive.getConf().setVar(HiveConf.ConfVars.HIVE_AUTHORIZATION_MANAGER,\n+        \"org.apache.hadoop.hive.ql.security.authorization.plugin.sqlstd.SQLStdHiveAuthorizerFactory\");\n+    HiveConf.setBoolVar(hive.getConf(), HiveConf.ConfVars.HIVE_SUPPORT_CONCURRENCY, false);\n+    SessionState.start(hive.getConf());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc1fc328e70af15a2f3acc7736b8b87d9566dc5b"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDg4MTgwMw==", "bodyText": "All tests here deal with transactional table, but doesn't initiate SessionState. So, this results in Nullpointer, when we try to retrieve transaction manager from SessionState, in order to derive ValidWriteIdList.", "url": "https://github.com/apache/hive/pull/1253#discussion_r454881803", "createdAt": "2020-07-15T08:28:47Z", "author": {"login": "kishendas"}, "path": "ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHiveMetaStoreChecker.java", "diffHunk": "@@ -82,6 +84,11 @@ public void setUp() throws Exception {\n     msc = new HiveMetaStoreClient(hive.getConf());\n     checker = new HiveMetaStoreChecker(msc, hive.getConf());\n \n+    hive.getConf().setVar(HiveConf.ConfVars.HIVE_AUTHORIZATION_MANAGER,\n+        \"org.apache.hadoop.hive.ql.security.authorization.plugin.sqlstd.SQLStdHiveAuthorizerFactory\");\n+    HiveConf.setBoolVar(hive.getConf(), HiveConf.ConfVars.HIVE_SUPPORT_CONCURRENCY, false);\n+    SessionState.start(hive.getConf());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDg4MDAwMA=="}, "originalCommit": {"oid": "bc1fc328e70af15a2f3acc7736b8b87d9566dc5b"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 579, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}