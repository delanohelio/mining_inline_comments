{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2NDQ0MjU0", "number": 1313, "title": "HIVE-23829: Compute Stats Incorrect for Binary Columns", "bodyText": "Updated the LazySimple SerDe to no longer attempt to auto-detect if Binary columns were Base64 and instead use a table property. The previous way this was done was expensive and did not correctly check if the values were valid Base64 which in niche cases could result in statistics being computed incorrectly.", "createdAt": "2020-07-24T19:08:11Z", "url": "https://github.com/apache/hive/pull/1313", "merged": true, "mergeCommit": {"oid": "0e4e1ac204697e99f5cf2ad0ddac7e185e682b71"}, "closed": true, "closedAt": "2020-10-28T13:31:07Z", "author": {"login": "HunterL"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5G5g6gFqTQ1NjA2NzM5Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc6X4ltgH2gAyNDU2NDQ0MjU0Ojc0MDMxZDY5NWZjOGE5ZjI3ZDkwNmExNTVhNjBkMTU2ZTNjODhjYzQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MDY3Mzky", "url": "https://github.com/apache/hive/pull/1313#pullrequestreview-456067392", "createdAt": "2020-07-27T19:22:01Z", "commit": {"oid": "698f2951387106ca4326b7b83897166f56e991bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxOToyMjowMVrOG3wOvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxOToyMjowMVrOG3wOvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTExNTA2OQ==", "bodyText": "Just make this base64 (one word)", "url": "https://github.com/apache/hive/pull/1313#discussion_r461115069", "createdAt": "2020-07-27T19:22:01Z", "author": {"login": "belugabehr"}, "path": "serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazySerDeParameters.java", "diffHunk": "@@ -53,7 +53,9 @@\n   \t= \"hive.serialization.extend.nesting.levels\";\n   public static final String SERIALIZATION_EXTEND_ADDITIONAL_NESTING_LEVELS\n \t= \"hive.serialization.extend.additional.nesting.levels\";\n-\n+  public static final String SERIALIZATION_DECODE_BINARY_AS_BASE64\n+  \t= \"hive.serialization.decode.binary.as.base.64\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "698f2951387106ca4326b7b83897166f56e991bb"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MDY3NjA3", "url": "https://github.com/apache/hive/pull/1313#pullrequestreview-456067607", "createdAt": "2020-07-27T19:22:21Z", "commit": {"oid": "698f2951387106ca4326b7b83897166f56e991bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxOToyMjoyMlrOG3wPfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxOToyMjoyMlrOG3wPfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTExNTI2Mg==", "bodyText": "Remove empty space change", "url": "https://github.com/apache/hive/pull/1313#discussion_r461115262", "createdAt": "2020-07-27T19:22:22Z", "author": {"login": "belugabehr"}, "path": "serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazySerDeParameters.java", "diffHunk": "@@ -116,7 +121,7 @@ public LazySerDeParameters(Configuration job, Properties tbl, String serdeName)\n \n     extendedBooleanLiteral = (job == null ? false :\n         job.getBoolean(ConfVars.HIVE_LAZYSIMPLE_EXTENDED_BOOLEAN_LITERAL.varname, false));\n-    \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "698f2951387106ca4326b7b83897166f56e991bb"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MTEzNDUy", "url": "https://github.com/apache/hive/pull/1313#pullrequestreview-456113452", "createdAt": "2020-07-27T20:32:42Z", "commit": {"oid": "30476923dee884e4013d763bbade38f28b166a8f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "736b1a75018913376905782f24058cca901eb8ce", "author": {"user": {"login": "HunterL", "name": "Hunter"}}, "url": "https://github.com/apache/hive/commit/736b1a75018913376905782f24058cca901eb8ce", "committedDate": "2020-07-28T13:32:17Z", "message": "Updated debug message in LazySerDeParameters to be more performant in cases where debugging is not enabled\nAdded base64 decode option to hive conf for lazysimple serde\nUpdated LazySimpleDeserializeRead to use base64 decode option"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fbecfc85f4e87a5a912320e974835c74830cbfb", "author": {"user": {"login": "HunterL", "name": "Hunter"}}, "url": "https://github.com/apache/hive/commit/9fbecfc85f4e87a5a912320e974835c74830cbfb", "committedDate": "2020-07-28T13:32:17Z", "message": "Clarifying language in HiveConf"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b85eb7412fa1a4d11429cbb7b5becd07be93f536", "author": {"user": {"login": "HunterL", "name": "Hunter"}}, "url": "https://github.com/apache/hive/commit/b85eb7412fa1a4d11429cbb7b5becd07be93f536", "committedDate": "2020-07-28T13:32:18Z", "message": "Changed default for decode_binary_as_base64 to default to match writer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a8293decd1c517e0f3699843a7d4a8fd3078d5f", "author": {"user": {"login": "HunterL", "name": "Hunter"}}, "url": "https://github.com/apache/hive/commit/2a8293decd1c517e0f3699843a7d4a8fd3078d5f", "committedDate": "2020-07-28T13:32:18Z", "message": "Ignoring LazyBinary object, simplifying logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a88c51f8e3935db5a55ca742394d04898f77d585", "author": {"user": {"login": "HunterL", "name": "Hunter"}}, "url": "https://github.com/apache/hive/commit/a88c51f8e3935db5a55ca742394d04898f77d585", "committedDate": "2020-07-28T13:32:18Z", "message": "White space cleanup and comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fba04be83c97172749c1bd1141b7b56e871ea63f", "author": {"user": {"login": "HunterL", "name": "Hunter"}}, "url": "https://github.com/apache/hive/commit/fba04be83c97172749c1bd1141b7b56e871ea63f", "committedDate": "2020-07-28T13:32:18Z", "message": "Removed option from HiveConf, moved to table property"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3cf2d64ce3062741bb1cf8e77d375b6188b24373", "author": {"user": {"login": "HunterL", "name": "Hunter"}}, "url": "https://github.com/apache/hive/commit/3cf2d64ce3062741bb1cf8e77d375b6188b24373", "committedDate": "2020-07-28T13:32:18Z", "message": "Update LazySerDeParameters.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cfd38c32d60cc33d975a28094d5b402f9dc9212", "author": {"user": {"login": "HunterL", "name": "Hunter"}}, "url": "https://github.com/apache/hive/commit/8cfd38c32d60cc33d975a28094d5b402f9dc9212", "committedDate": "2020-07-28T13:32:18Z", "message": "whitespace fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4c219ba03cb7200b91486f16a932630fed4fec4", "author": {"user": {"login": "HunterL", "name": "Hunter"}}, "url": "https://github.com/apache/hive/commit/f4c219ba03cb7200b91486f16a932630fed4fec4", "committedDate": "2020-07-28T13:32:18Z", "message": "cleanup"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "30476923dee884e4013d763bbade38f28b166a8f", "author": {"user": {"login": "HunterL", "name": "Hunter"}}, "url": "https://github.com/apache/hive/commit/30476923dee884e4013d763bbade38f28b166a8f", "committedDate": "2020-07-27T20:04:07Z", "message": "cleanup"}, "afterCommit": {"oid": "f4c219ba03cb7200b91486f16a932630fed4fec4", "author": {"user": {"login": "HunterL", "name": "Hunter"}}, "url": "https://github.com/apache/hive/commit/f4c219ba03cb7200b91486f16a932630fed4fec4", "committedDate": "2020-07-28T13:32:18Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbdd85e725585d6a9927c8a0fe4bb224e7836c85", "author": {"user": {"login": "belugabehr", "name": null}}, "url": "https://github.com/apache/hive/commit/dbdd85e725585d6a9927c8a0fe4bb224e7836c85", "committedDate": "2020-07-28T16:12:54Z", "message": "Remove superfluous change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10893651e24dd966528184199b77de4010723238", "author": {"user": {"login": "belugabehr", "name": null}}, "url": "https://github.com/apache/hive/commit/10893651e24dd966528184199b77de4010723238", "committedDate": "2020-07-28T16:13:49Z", "message": "Remove superfluous change take two"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74031d695fc8a9f27d906a155a60d156e3c88cc4", "author": {"user": {"login": "HunterL", "name": "Hunter"}}, "url": "https://github.com/apache/hive/commit/74031d695fc8a9f27d906a155a60d156e3c88cc4", "committedDate": "2020-07-31T17:43:19Z", "message": "Ammending Q tests to disable base64 conversion on binary columns that are not base64"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3334, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}