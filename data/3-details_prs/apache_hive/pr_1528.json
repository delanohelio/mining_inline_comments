{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkzNzQ5NDE2", "number": 1528, "title": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed\u2026", "bodyText": "validate bucketed columns name in alter_table() and generate exception if wrong name is present in bucketed column.\n\nWhat changes were proposed in this pull request?\n\nCompaction for tables where a bucketed column has been renamed fails since the list of bucketed columns in the StorageDescriptor doesn't get updated when the column is renamed, therefore we can't recreate the table correctly during compaction.\nWhy are the changes needed?\n\nUpdate bucket column name in AlterTableChangeColumnOperation along with column name.\nDoes this PR introduce any user-facing change?\n\nNo\nHow was this patch tested?\n\nUnit test added", "createdAt": "2020-09-27T17:12:27Z", "url": "https://github.com/apache/hive/pull/1528", "merged": true, "mergeCommit": {"oid": "3e8848aa60c85ea53961a394df5d61dc4183924e"}, "closed": true, "closedAt": "2020-10-10T07:33:30Z", "author": {"login": "ashish-kumar-sharma"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNDuvQgBqjM4MTE5MTI4NzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdRFrOOgFqTUwNjA3NTM0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "79dd611b66bbf46df6091f4b948872a65d5e1007", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/79dd611b66bbf46df6091f4b948872a65d5e1007", "committedDate": "2020-09-27T17:08:12Z", "message": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed column names"}, "afterCommit": {"oid": "cb0a212deeaaa00ed5bac50225e4bfc0dba9852e", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/cb0a212deeaaa00ed5bac50225e4bfc0dba9852e", "committedDate": "2020-09-27T18:58:36Z", "message": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed column names"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NjIwNzk0", "url": "https://github.com/apache/hive/pull/1528#pullrequestreview-499620794", "createdAt": "2020-09-30T16:40:53Z", "commit": {"oid": "0124e648b59dd9c66d7657e87205e562209d8b18"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNjo0MDo1NFrOHamReg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxMToxMjo1NFrOHbFkuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzY1MjA5MA==", "bodyText": "required?", "url": "https://github.com/apache/hive/pull/1528#discussion_r497652090", "createdAt": "2020-09-30T16:40:54Z", "author": {"login": "adesh-rao"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/ddl/table/column/change/AlterTableChangeColumnOperation.java", "diffHunk": "@@ -33,6 +35,7 @@\n import org.apache.hadoop.hive.ql.metadata.Partition;\n import org.apache.hadoop.hive.ql.metadata.Table;\n import org.apache.hadoop.hive.serde2.avro.AvroSerdeUtils;\n+import org.apache.spark.util.CollectionsUtils;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0124e648b59dd9c66d7657e87205e562209d8b18"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2MjA4NQ==", "bodyText": "add a null check for columnNames? getColumnNames returns null too.", "url": "https://github.com/apache/hive/pull/1528#discussion_r498162085", "createdAt": "2020-10-01T11:07:07Z", "author": {"login": "adesh-rao"}, "path": "standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/utils/MetaStoreServerUtils.java", "diffHunk": "@@ -1554,4 +1555,30 @@ public static Partition createMetaPartitionObject(Table tbl, Map<String, String>\n     }\n     return tpart;\n   }\n+\n+  /**\n+   * Validate bucket columns should belong to table columns.\n+   * @param sd StorageDescriptor of given table\n+   * @return true if bucket columns are empty or belong to table columns else false\n+   */\n+  public static boolean validateBucketColumns(StorageDescriptor sd) {\n+    if (CollectionUtils.isNotEmpty(sd.getBucketCols())) {\n+      List<String> columnNames =\n+          getColumnNames(sd.getCols()).stream().map(String::toLowerCase).collect(Collectors.toList());\n+      return columnNames.containsAll(sd.getBucketCols().stream().map(String::toLowerCase).collect(Collectors.toList()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0124e648b59dd9c66d7657e87205e562209d8b18"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2MjM2Mw==", "bodyText": "required?", "url": "https://github.com/apache/hive/pull/1528#discussion_r498162363", "createdAt": "2020-10-01T11:07:40Z", "author": {"login": "adesh-rao"}, "path": "standalone-metastore/metastore-server/src/test/java/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java", "diffHunk": "@@ -63,6 +64,8 @@\n import org.datanucleus.api.jdo.JDOPersistenceManagerFactory;\n import org.junit.Assert;\n import org.junit.Before;\n+import org.junit.experimental.categories.Category;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0124e648b59dd9c66d7657e87205e562209d8b18"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2NDMwNg==", "bodyText": "Won't adding a qtest be better?\nYou are explicitly doing tblUpdated.getSd().getBucketCols() and updating them in the test. qtest will check end to end flow and you don't need to bother about getting Sd and updating the cols explicitly (Just a single alter table will do the trick).", "url": "https://github.com/apache/hive/pull/1528#discussion_r498164306", "createdAt": "2020-10-01T11:11:37Z", "author": {"login": "adesh-rao"}, "path": "standalone-metastore/metastore-server/src/test/java/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java", "diffHunk": "@@ -3428,4 +3432,44 @@ public void testUpdatePartitionStat_doesNotUpdateStats() throws Exception {\n     m.invoke(hms, tbl, part, false, null);\n     verify(wh, never()).getFileStatusesForLocation(part.getSd().getLocation());\n   }\n+\n+  @Test(expected = InvalidOperationException.class)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0124e648b59dd9c66d7657e87205e562209d8b18"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2NDkyMQ==", "bodyText": "Also, Is it a positive test case or negative? I see that there is an expected error but we are doing the positive validations too. We should break this into two, right?", "url": "https://github.com/apache/hive/pull/1528#discussion_r498164921", "createdAt": "2020-10-01T11:12:54Z", "author": {"login": "adesh-rao"}, "path": "standalone-metastore/metastore-server/src/test/java/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java", "diffHunk": "@@ -3428,4 +3432,44 @@ public void testUpdatePartitionStat_doesNotUpdateStats() throws Exception {\n     m.invoke(hms, tbl, part, false, null);\n     verify(wh, never()).getFileStatusesForLocation(part.getSd().getLocation());\n   }\n+\n+  @Test(expected = InvalidOperationException.class)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0124e648b59dd9c66d7657e87205e562209d8b18"}, "originalPosition": 30}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0124e648b59dd9c66d7657e87205e562209d8b18", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/0124e648b59dd9c66d7657e87205e562209d8b18", "committedDate": "2020-09-28T05:34:40Z", "message": "HIVE-22826: code reformat"}, "afterCommit": {"oid": "524d4d2819dd47a185479e5349cbfa3ce1f41b7d", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/524d4d2819dd47a185479e5349cbfa3ce1f41b7d", "committedDate": "2020-10-01T17:37:02Z", "message": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed column names"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "524d4d2819dd47a185479e5349cbfa3ce1f41b7d", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/524d4d2819dd47a185479e5349cbfa3ce1f41b7d", "committedDate": "2020-10-01T17:37:02Z", "message": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed column names"}, "afterCommit": {"oid": "ca8ef861c96028c04119f22334c834e4fc91de0f", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/ca8ef861c96028c04119f22334c834e4fc91de0f", "committedDate": "2020-10-01T17:41:53Z", "message": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed column names"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ca8ef861c96028c04119f22334c834e4fc91de0f", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/ca8ef861c96028c04119f22334c834e4fc91de0f", "committedDate": "2020-10-01T17:41:53Z", "message": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed column names"}, "afterCommit": {"oid": "bbe784cacf5c90eed347428699eab0c5a3420d47", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/bbe784cacf5c90eed347428699eab0c5a3420d47", "committedDate": "2020-10-02T10:36:26Z", "message": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed column names"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwOTA0OTgz", "url": "https://github.com/apache/hive/pull/1528#pullrequestreview-500904983", "createdAt": "2020-10-02T07:15:30Z", "commit": {"oid": "ca8ef861c96028c04119f22334c834e4fc91de0f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQwNzoxNTozMFrOHbjRVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxMTowOTowM1rOHbpxXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY1MTQ3OA==", "bodyText": "Should we store it in lower-case?", "url": "https://github.com/apache/hive/pull/1528#discussion_r498651478", "createdAt": "2020-10-02T07:15:30Z", "author": {"login": "sankarh"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/ddl/table/column/change/AlterTableChangeColumnOperation.java", "diffHunk": "@@ -72,6 +74,10 @@ protected void doAlteration(Table table, Partition partition) throws HiveExcepti\n         if (desc.getNewColumnComment() != null) {\n           oldColumn.setComment(desc.getNewColumnComment());\n         }\n+        if (CollectionUtils.isNotEmpty(sd.getBucketCols()) && sd.getBucketCols().contains(oldColumnName)) {\n+          sd.getBucketCols().remove(oldColumnName);\n+          sd.getBucketCols().add(desc.getNewColumnName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca8ef861c96028c04119f22334c834e4fc91de0f"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY1MTYzOA==", "bodyText": "Is oldColumnName case in-sensitive?", "url": "https://github.com/apache/hive/pull/1528#discussion_r498651638", "createdAt": "2020-10-02T07:15:58Z", "author": {"login": "sankarh"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/ddl/table/column/change/AlterTableChangeColumnOperation.java", "diffHunk": "@@ -72,6 +74,10 @@ protected void doAlteration(Table table, Partition partition) throws HiveExcepti\n         if (desc.getNewColumnComment() != null) {\n           oldColumn.setComment(desc.getNewColumnComment());\n         }\n+        if (CollectionUtils.isNotEmpty(sd.getBucketCols()) && sd.getBucketCols().contains(oldColumnName)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca8ef861c96028c04119f22334c834e4fc91de0f"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY1MjI2OA==", "bodyText": "Add test for column names with mix of upper and lower case letters.", "url": "https://github.com/apache/hive/pull/1528#discussion_r498652268", "createdAt": "2020-10-02T07:17:28Z", "author": {"login": "sankarh"}, "path": "ql/src/test/queries/clientpositive/alter_bucketedtable_change_column.q", "diffHunk": "@@ -0,0 +1,10 @@\n+--! qt:dataset:src\n+create table alter_bucket_change_col_t1(key string, value string) partitioned by (ds string) clustered by (key) into 10 buckets;\n+\n+describe formatted alter_bucket_change_col_t1;\n+\n+-- Test changing name of bucket column\n+\n+alter table alter_bucket_change_col_t1 change key keys string;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca8ef861c96028c04119f22334c834e4fc91de0f"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODc0NzIxMQ==", "bodyText": "Also check the output of \"show create table\" command.", "url": "https://github.com/apache/hive/pull/1528#discussion_r498747211", "createdAt": "2020-10-02T10:41:33Z", "author": {"login": "sankarh"}, "path": "ql/src/test/queries/clientpositive/alter_numbuckets_partitioned_table_h23.q", "diffHunk": "@@ -52,6 +52,12 @@ alter table tst1_n1 clustered by (value) into 12 buckets;\n \n describe formatted tst1_n1;\n \n+-- Test changing name of bucket column\n+\n+alter table tst1_n1 change key keys string;\n+\n+describe formatted tst1_n1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbe784cacf5c90eed347428699eab0c5a3420d47"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODc1NjMxNw==", "bodyText": "Useful to add an error log with the column name which is missing from table columns list.", "url": "https://github.com/apache/hive/pull/1528#discussion_r498756317", "createdAt": "2020-10-02T11:04:28Z", "author": {"login": "sankarh"}, "path": "standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java", "diffHunk": "@@ -130,6 +130,11 @@ public void alterTable(RawStore msdb, Warehouse wh, String catName, String dbnam\n       throw new InvalidOperationException(\"Invalid column \" + validate);\n     }\n \n+    // Validate bucketedColumns in new table\n+    if (!MetaStoreServerUtils.validateBucketColumns(newt.getSd())) {\n+      throw new InvalidOperationException(\"Bucket column doesn't match with any table columns\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbe784cacf5c90eed347428699eab0c5a3420d47"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODc1NzI4MA==", "bodyText": "Check if CollectionUtils.isEmpty(sd.getBucketCols()) case even before getting table columns list and return true. It will avoid repeated checks below and also avoids unnecessary computes for non-bucketed tables.", "url": "https://github.com/apache/hive/pull/1528#discussion_r498757280", "createdAt": "2020-10-02T11:07:04Z", "author": {"login": "sankarh"}, "path": "standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/utils/MetaStoreServerUtils.java", "diffHunk": "@@ -1554,4 +1555,32 @@ public static Partition createMetaPartitionObject(Table tbl, Map<String, String>\n     }\n     return tpart;\n   }\n+\n+  /**\n+   * Validate bucket columns should belong to table columns.\n+   * @param sd StorageDescriptor of given table\n+   * @return true if bucket columns are empty or belong to table columns else false\n+   */\n+  public static boolean validateBucketColumns(StorageDescriptor sd) {\n+    List<String> columnNames = getColumnNames(sd.getCols());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbe784cacf5c90eed347428699eab0c5a3420d47"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODc1NzM4MA==", "bodyText": "nit: Add space before \"(\"", "url": "https://github.com/apache/hive/pull/1528#discussion_r498757380", "createdAt": "2020-10-02T11:07:23Z", "author": {"login": "sankarh"}, "path": "standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/utils/MetaStoreServerUtils.java", "diffHunk": "@@ -1554,4 +1555,32 @@ public static Partition createMetaPartitionObject(Table tbl, Map<String, String>\n     }\n     return tpart;\n   }\n+\n+  /**\n+   * Validate bucket columns should belong to table columns.\n+   * @param sd StorageDescriptor of given table\n+   * @return true if bucket columns are empty or belong to table columns else false\n+   */\n+  public static boolean validateBucketColumns(StorageDescriptor sd) {\n+    List<String> columnNames = getColumnNames(sd.getCols());\n+    if(CollectionUtils.isNotEmpty(sd.getBucketCols()) &&  CollectionUtils.isNotEmpty(columnNames)){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbe784cacf5c90eed347428699eab0c5a3420d47"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODc1Nzk4MQ==", "bodyText": "Will cols always have names in lower case?", "url": "https://github.com/apache/hive/pull/1528#discussion_r498757981", "createdAt": "2020-10-02T11:09:03Z", "author": {"login": "sankarh"}, "path": "standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/utils/MetaStoreServerUtils.java", "diffHunk": "@@ -1554,4 +1555,32 @@ public static Partition createMetaPartitionObject(Table tbl, Map<String, String>\n     }\n     return tpart;\n   }\n+\n+  /**\n+   * Validate bucket columns should belong to table columns.\n+   * @param sd StorageDescriptor of given table\n+   * @return true if bucket columns are empty or belong to table columns else false\n+   */\n+  public static boolean validateBucketColumns(StorageDescriptor sd) {\n+    List<String> columnNames = getColumnNames(sd.getCols());\n+    if(CollectionUtils.isNotEmpty(sd.getBucketCols()) &&  CollectionUtils.isNotEmpty(columnNames)){\n+      return columnNames.containsAll(sd.getBucketCols().stream().map(String::toLowerCase).collect(Collectors.toList()));\n+    } else if (CollectionUtils.isNotEmpty(sd.getBucketCols()) &&  CollectionUtils.isEmpty(columnNames)) {\n+      return false;\n+    } else {\n+      return true;\n+    }\n+  }\n+\n+  /**\n+   * Generate column name list  from the fieldSchema list\n+   * @param cols fieldSchema list\n+   * @return column name list\n+   */\n+  public static List<String> getColumnNames(List<FieldSchema> cols) {\n+    if (CollectionUtils.isNotEmpty(cols)) {\n+      return cols.stream().map(FieldSchema::getName).collect(Collectors.toList());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbe784cacf5c90eed347428699eab0c5a3420d47"}, "originalPosition": 36}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bbe784cacf5c90eed347428699eab0c5a3420d47", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/bbe784cacf5c90eed347428699eab0c5a3420d47", "committedDate": "2020-10-02T10:36:26Z", "message": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed column names"}, "afterCommit": {"oid": "dc556ac1f421aa9906c5642ab0ee69c4bd36d285", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/dc556ac1f421aa9906c5642ab0ee69c4bd36d285", "committedDate": "2020-10-02T15:39:35Z", "message": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed column names"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dc556ac1f421aa9906c5642ab0ee69c4bd36d285", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/dc556ac1f421aa9906c5642ab0ee69c4bd36d285", "committedDate": "2020-10-02T15:39:35Z", "message": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed column names"}, "afterCommit": {"oid": "85dd61d4f4e6d88a3f5f480cf8a54bb5c1ed3ed3", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/85dd61d4f4e6d88a3f5f480cf8a54bb5c1ed3ed3", "committedDate": "2020-10-02T18:41:28Z", "message": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed column names"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "85dd61d4f4e6d88a3f5f480cf8a54bb5c1ed3ed3", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/85dd61d4f4e6d88a3f5f480cf8a54bb5c1ed3ed3", "committedDate": "2020-10-02T18:41:28Z", "message": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed column names"}, "afterCommit": {"oid": "66f918638eb19b4a3ef5ac0c27a4c31d8191eea4", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/66f918638eb19b4a3ef5ac0c27a4c31d8191eea4", "committedDate": "2020-10-02T23:32:00Z", "message": "next run"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "744a55ea69295a26c3b356a25858a4f7f7756b6c", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/744a55ea69295a26c3b356a25858a4f7f7756b6c", "committedDate": "2020-10-05T06:02:26Z", "message": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed column names"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "038fab31401758c66ea40e2e8a31b2f88ed83fc3", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/038fab31401758c66ea40e2e8a31b2f88ed83fc3", "committedDate": "2020-10-05T05:02:43Z", "message": "next run"}, "afterCommit": {"oid": "744a55ea69295a26c3b356a25858a4f7f7756b6c", "author": {"user": {"login": "ashish-kumar-sharma", "name": "Ashish Kumar Sharma"}}, "url": "https://github.com/apache/hive/commit/744a55ea69295a26c3b356a25858a4f7f7756b6c", "committedDate": "2020-10-05T06:02:26Z", "message": "HIVE-22826: ALTER TABLE RENAME COLUMN doesn't update list of bucketed column names"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDc1MzQ4", "url": "https://github.com/apache/hive/pull/1528#pullrequestreview-506075348", "createdAt": "2020-10-10T07:30:41Z", "commit": {"oid": "744a55ea69295a26c3b356a25858a4f7f7756b6c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3106, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}