{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzNzMzNTc5", "number": 1101, "title": "HIVE-23683: Add queue time to compaction", "bodyText": "Added new QUEUE_TIME to the compaction tables.\nCreated upgrade scripts\nInitialized the data with current timestamp\nMade sure that the data is kept during the lifecycle\nUpdated HMS API to return the data\nCreated tests", "createdAt": "2020-06-12T15:02:44Z", "url": "https://github.com/apache/hive/pull/1101", "merged": true, "mergeCommit": {"oid": "c7f23dff93517fccd3be442622bb5c8645d29a72"}, "closed": true, "closedAt": "2020-06-16T10:23:20Z", "author": {"login": "pvary"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqkKvegH2gAyNDMzNzMzNTc5OjliNzQ5OGNmMWE1OTg2ZTY4NDc4NjRmYTE2YTRmMmRiNmFhZjU3NWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrx1PyAFqTQzMTMyMzk3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9b7498cf1a5986e6847864fa16a4f2db6aaf575e", "author": {"user": {"login": "pvary", "name": null}}, "url": "https://github.com/apache/hive/commit/9b7498cf1a5986e6847864fa16a4f2db6aaf575e", "committedDate": "2020-06-12T14:59:13Z", "message": "HIVE-23683: Add queue time to compaction"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwODYzMTA0", "url": "https://github.com/apache/hive/pull/1101#pullrequestreview-430863104", "createdAt": "2020-06-15T17:47:22Z", "commit": {"oid": "9b7498cf1a5986e6847864fa16a4f2db6aaf575e"}, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNzo0NzoyM1rOGj8cqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNzo1MDowOFrOGj8imQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0MzcyMA==", "bodyText": "Nit: maybe add a comment here about what's going on, to save someone time down the road", "url": "https://github.com/apache/hive/pull/1101#discussion_r440343720", "createdAt": "2020-06-15T17:47:23Z", "author": {"login": "klcopp"}, "path": "ql/src/test/queries/clientpositive/sysdb.q", "diffHunk": "@@ -1,5 +1,6 @@\n --! qt:dataset:src,part,srcbucket:ONLY\n --! qt:sysdb\n+--! qt:replace:/(initiated\\s+NULL\\s+NULL\\s+)[0-9]*(\\s+NULL)/$1#Masked#$2/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b7498cf1a5986e6847864fa16a4f2db6aaf575e"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0Mzg0Ng==", "bodyText": "Nit: maybe add a comment here about what's going on, to save someone time down the road", "url": "https://github.com/apache/hive/pull/1101#discussion_r440343846", "createdAt": "2020-06-15T17:47:36Z", "author": {"login": "klcopp"}, "path": "ql/src/test/queries/clientpositive/dbtxnmgr_showlocks.q", "diffHunk": "@@ -1,3 +1,4 @@\n+ --! qt:replace:/(initiated\\s+---\\s+---\\s+)[0-9]*(\\s+---)/$1#Masked#$2/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b7498cf1a5986e6847864fa16a4f2db6aaf575e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0NDg5MA==", "bodyText": "\"Queue time\" sounds like \"time spent in queue.\" Something like \"Entered queue\" sounds more like a timestamp to me.", "url": "https://github.com/apache/hive/pull/1101#discussion_r440344890", "createdAt": "2020-06-15T17:49:32Z", "author": {"login": "klcopp"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/ddl/process/show/compactions/ShowCompactionsOperation.java", "diffHunk": "@@ -81,6 +81,8 @@ private void writeHeader(DataOutputStream os) throws IOException {\n     os.write(Utilities.tabCode);\n     os.writeBytes(\"Worker\");\n     os.write(Utilities.tabCode);\n+    os.writeBytes(\"Queue Time\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b7498cf1a5986e6847864fa16a4f2db6aaf575e"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0NTI0MQ==", "bodyText": "(Opportunity: \"start\" is missing from this method)", "url": "https://github.com/apache/hive/pull/1101#discussion_r440345241", "createdAt": "2020-06-15T17:50:08Z", "author": {"login": "klcopp"}, "path": "standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/txn/CompactionInfo.java", "diffHunk": "@@ -116,6 +117,7 @@ public String toString() {\n       \"partName:\" + partName + \",\" +\n       \"state:\" + state + \",\" +\n       \"type:\" + type + \",\" +\n+      \"queueTime:\" + queueTime + \",\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b7498cf1a5986e6847864fa16a4f2db6aaf575e"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7150d00ffb429f5a9375000ea9de982759ce14bc", "author": {"user": {"login": "pvary", "name": null}}, "url": "https://github.com/apache/hive/commit/7150d00ffb429f5a9375000ea9de982759ce14bc", "committedDate": "2020-06-15T21:47:19Z", "message": "Rename QueueTime to Enqueue Time for clarity\nAdd comment to the masking patterns"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b007639c8ab2758ea1ab0f2d4489ee310d5ef8f7", "author": {"user": {"login": "pvary", "name": null}}, "url": "https://github.com/apache/hive/commit/b007639c8ab2758ea1ab0f2d4489ee310d5ef8f7", "committedDate": "2020-06-15T21:49:52Z", "message": "Added start to the CompationInfo.toString()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxMzIzOTcx", "url": "https://github.com/apache/hive/pull/1101#pullrequestreview-431323971", "createdAt": "2020-06-16T09:28:20Z", "commit": {"oid": "b007639c8ab2758ea1ab0f2d4489ee310d5ef8f7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3862, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}