{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwMDA4MDYw", "number": 1562, "title": "HIVE-24241: Enable SharedWorkOptimizer to merge downstream operators after an optimization step", "bodyText": "What changes were proposed in this pull request?\n\nWhy are the changes needed?\n\nDoes this PR introduce any user-facing change?\n\nHow was this patch tested?", "createdAt": "2020-10-08T15:27:11Z", "url": "https://github.com/apache/hive/pull/1562", "merged": true, "mergeCommit": {"oid": "fa187557b231bf8f1aea3857d29ca0086db20542"}, "closed": true, "closedAt": "2020-11-13T10:26:42Z", "author": {"login": "kgyrtkirk"}, "timelineItems": {"totalCount": 176, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWWiVbgH2gAyNTAwMDA4MDYwOjQxMjYzZjEwNjI2NWJlNzFhNDBkNjM2YTg3MTI5YTkxNzEzNzQxMjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdcCd8hAH2gAyNTAwMDA4MDYwOjlhNjczMmNiOWQ2MDg4NzAzYzkzZjdjMDFlYThiZjM5ZGNjYjUzYTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "41263f106265be71a40d636a87129a9171374120", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/41263f106265be71a40d636a87129a9171374120", "committedDate": "2020-10-26T15:58:59Z", "message": "add operatorgraph fiolter stuff; fix q.outs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "831d6c9692919d96213b18e0292d30905fe1ae49", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/831d6c9692919d96213b18e0292d30905fe1ae49", "committedDate": "2020-10-26T17:41:07Z", "message": "fix q32"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69ac728008ebf0471285dcd3753a7a9250600093", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/69ac728008ebf0471285dcd3753a7a9250600093", "committedDate": "2020-10-26T19:57:56Z", "message": "Merge remote-tracking branch 'apache/master' into HIVE-24241-downstream-merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9bb4e34974da7ab5d82cfd505aab96b228f4c36", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/c9bb4e34974da7ab5d82cfd505aab96b228f4c36", "committedDate": "2020-10-26T20:31:51Z", "message": "disable TestJdbcWithMiniKdcSQLAuthHttp"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d29896dbfb9555af64920cf764753f71c4b03e6", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/4d29896dbfb9555af64920cf764753f71c4b03e6", "committedDate": "2020-10-26T20:37:50Z", "message": "Revert \"disable TestJdbcWithMiniKdcSQLAuthHttp\"\n\nThis reverts commit c9bb4e34974da7ab5d82cfd505aab96b228f4c36."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3dfc0ce5833cbf18df8fbfbd21b1ff90c1e277d", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/c3dfc0ce5833cbf18df8fbfbd21b1ff90c1e277d", "committedDate": "2020-10-27T09:59:55Z", "message": "ok changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54281cbe27b6edbc1c1797f0922593969ae9eadd", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/54281cbe27b6edbc1c1797f0922593969ae9eadd", "committedDate": "2020-10-27T10:05:48Z", "message": "ok changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "021e00202961a37b7577e6a6bcdc0b2a229ab5ce", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/021e00202961a37b7577e6a6bcdc0b2a229ab5ce", "committedDate": "2020-10-27T10:35:53Z", "message": "ok"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36d4b1894ae91a241f73c361f70e929eba60908c", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/36d4b1894ae91a241f73c361f70e929eba60908c", "committedDate": "2020-10-27T10:39:39Z", "message": "ok"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1356bd1518f193c203262e31422431367ced3d2c", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/1356bd1518f193c203262e31422431367ced3d2c", "committedDate": "2020-10-27T11:01:21Z", "message": "ok"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1cb5fdd2aac888339f3a7fcae2cbf01b05b509c", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/f1cb5fdd2aac888339f3a7fcae2cbf01b05b509c", "committedDate": "2020-10-27T15:18:36Z", "message": "accept q.outs; undo cleanup in vertex.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/14e001e3d08db27da0b4b4a6a3a65dacccbfacbc", "committedDate": "2020-10-28T18:23:46Z", "message": "remove toDot calls"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4OTY4MTM3", "url": "https://github.com/apache/hive/pull/1562#pullrequestreview-518968137", "createdAt": "2020-10-28T18:28:20Z", "commit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODoyODoyMVrOHp4BZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODozNToxN1rOHp4RtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY3MTUyNw==", "bodyText": "@jcamachor this is the checker class I was talking about - right now it builds on top of the basic digraph class I've introduce some time ago in PointLookupOptimizer", "url": "https://github.com/apache/hive/pull/1562#discussion_r513671527", "createdAt": "2020-10-28T18:28:21Z", "author": {"login": "kgyrtkirk"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/optimizer/OperatorGraph.java", "diffHunk": "@@ -0,0 +1,231 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.hadoop.hive.ql.optimizer;\n+\n+import java.io.File;\n+import java.io.PrintWriter;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.LinkedHashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+\n+import org.apache.hadoop.hive.ql.exec.AppMasterEventOperator;\n+import org.apache.hadoop.hive.ql.exec.Operator;\n+import org.apache.hadoop.hive.ql.exec.ReduceSinkOperator;\n+import org.apache.hadoop.hive.ql.exec.TableScanOperator;\n+import org.apache.hadoop.hive.ql.optimizer.calcite.rules.HivePointLookupOptimizerRule.DiGraph;\n+import org.apache.hadoop.hive.ql.parse.ParseContext;\n+import org.apache.hadoop.hive.ql.parse.SemiJoinBranchInfo;\n+import org.apache.hadoop.hive.ql.plan.DynamicPruningEventDesc;\n+\n+import com.google.common.collect.Sets;\n+\n+public class OperatorGraph {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY3NDE4OQ==", "bodyText": "we can definetly roll our own graph representation; however sometimes I would feel that it would make things easier to have access to basic graph algorithms (for example to do a  topological order walk/etc) there is a small library called jgrapht (EPL 2.0 license - I think it will be okay) which could be utilized for these kind of things\n@jcamachor what do you think about pulling in the jgrapht lib and removing the makeshift digraph classes?", "url": "https://github.com/apache/hive/pull/1562#discussion_r513674189", "createdAt": "2020-10-28T18:32:43Z", "author": {"login": "kgyrtkirk"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/optimizer/OperatorGraph.java", "diffHunk": "@@ -0,0 +1,231 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.hadoop.hive.ql.optimizer;\n+\n+import java.io.File;\n+import java.io.PrintWriter;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.LinkedHashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+\n+import org.apache.hadoop.hive.ql.exec.AppMasterEventOperator;\n+import org.apache.hadoop.hive.ql.exec.Operator;\n+import org.apache.hadoop.hive.ql.exec.ReduceSinkOperator;\n+import org.apache.hadoop.hive.ql.exec.TableScanOperator;\n+import org.apache.hadoop.hive.ql.optimizer.calcite.rules.HivePointLookupOptimizerRule.DiGraph;\n+import org.apache.hadoop.hive.ql.parse.ParseContext;\n+import org.apache.hadoop.hive.ql.parse.SemiJoinBranchInfo;\n+import org.apache.hadoop.hive.ql.plan.DynamicPruningEventDesc;\n+\n+import com.google.common.collect.Sets;\n+\n+public class OperatorGraph {\n+\n+  /**\n+   * A directed graph extended with support to check dag property.\n+   */\n+  static class DagGraph<V, E> extends DiGraph<V, E> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY3NTcwMA==", "bodyText": "this is not called from anywhere right now - but I've used it during debug to get a better understanding of the plan", "url": "https://github.com/apache/hive/pull/1562#discussion_r513675700", "createdAt": "2020-10-28T18:35:17Z", "author": {"login": "kgyrtkirk"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/optimizer/OperatorGraph.java", "diffHunk": "@@ -0,0 +1,231 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.hadoop.hive.ql.optimizer;\n+\n+import java.io.File;\n+import java.io.PrintWriter;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.LinkedHashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+\n+import org.apache.hadoop.hive.ql.exec.AppMasterEventOperator;\n+import org.apache.hadoop.hive.ql.exec.Operator;\n+import org.apache.hadoop.hive.ql.exec.ReduceSinkOperator;\n+import org.apache.hadoop.hive.ql.exec.TableScanOperator;\n+import org.apache.hadoop.hive.ql.optimizer.calcite.rules.HivePointLookupOptimizerRule.DiGraph;\n+import org.apache.hadoop.hive.ql.parse.ParseContext;\n+import org.apache.hadoop.hive.ql.parse.SemiJoinBranchInfo;\n+import org.apache.hadoop.hive.ql.plan.DynamicPruningEventDesc;\n+\n+import com.google.common.collect.Sets;\n+\n+public class OperatorGraph {\n+\n+  /**\n+   * A directed graph extended with support to check dag property.\n+   */\n+  static class DagGraph<V, E> extends DiGraph<V, E> {\n+\n+    static class DagNode<V, E> extends Node<V, E> {\n+      int dagIdx = 0;\n+      public DagNode(V v) {\n+        super(v);\n+      }\n+\n+      @Override\n+      public void addEdge(Edge<V, E> edge) {\n+        if (edge.s == this) {\n+          DagNode<V, E> t = (DagNode<V, E>) edge.t;\n+          ensureDagIdxAtLeast(t.dagIdx + 1);\n+          if (t.dagIdx > dagIdx) {\n+            throw new IllegalArgumentException(\"adding this edge would violate dag properties\");\n+          }\n+        }\n+        super.addEdge(edge);\n+      }\n+\n+      void ensureDagIdxAtLeast(int min) {\n+        if (dagIdx >= min) {\n+          return;\n+        }\n+        dagIdx = min;\n+        for (Edge<V, E> e : edges) {\n+          if(e.t == this) {\n+            DagNode<V, E> s = (DagNode<V, E>) e.s;\n+            s.ensureDagIdxAtLeast(min + 1);\n+          }\n+        }\n+      }\n+    }\n+\n+    @Override\n+    protected Node<V, E> newNode(V s) {\n+      return new DagNode<V, E>(s);\n+    }\n+  }\n+\n+  DagGraph<Operator<?>, OpEdge> g;\n+\n+  enum EdgeType {\n+    FLOW, SEMIJOIN, DPP, TEST,\n+  }\n+\n+  static class OpEdge {\n+\n+    private final EdgeType et;\n+    private final int index;\n+\n+    public OpEdge(EdgeType et) {\n+      this(et, 0);\n+    }\n+\n+    public OpEdge(EdgeType et, int index) {\n+      this.et = et;\n+      this.index = index;\n+    }\n+\n+  }\n+\n+\n+  Map<Operator<?>, Cluster> nodeCluster = new HashMap<>();\n+\n+  public class Cluster {\n+\n+    Set<Operator<?>> members = new LinkedHashSet<>();\n+\n+    public void merge(Cluster o) {\n+      for (Operator<?> node : o.members) {\n+        add(node);\n+      }\n+      o.members.clear();\n+    }\n+\n+    public void add(Operator<?> curr) {\n+      nodeCluster.put(curr, this);\n+      members.add(curr);\n+    }\n+\n+  }\n+\n+\n+  public OperatorGraph(ParseContext pctx) {\n+    g = new DagGraph<Operator<?>, OperatorGraph.OpEdge>();\n+    Set<Operator<?>> visited = Sets.newIdentityHashSet();\n+    Set<Operator<?>> seen = Sets.newIdentityHashSet();\n+\n+    seen.addAll(pctx.getTopOps().values());\n+    while (!seen.isEmpty()) {\n+      Operator<?> curr = seen.iterator().next();\n+      seen.remove(curr);\n+      if (visited.contains(curr)) {\n+        continue;\n+      }\n+\n+      visited.add(curr);\n+\n+      Cluster currentCluster = nodeCluster.get(curr);\n+      if (currentCluster == null) {\n+        currentCluster=new Cluster();\n+        currentCluster.add(curr);\n+      }\n+      List<Operator<?>> parents = curr.getParentOperators();\n+      for (int i = 0; i < parents.size(); i++) {\n+        Operator<?> p = parents.get(i);\n+        g.putEdgeValue(p, curr, new OpEdge(EdgeType.FLOW, i));\n+        if (p instanceof ReduceSinkOperator) {\n+          // ignore cluster of parent RS\n+          continue;\n+        }\n+        Cluster cluster = nodeCluster.get(p);\n+        if (cluster != null) {\n+          currentCluster.merge(cluster);\n+        } else {\n+          currentCluster.add(p);\n+        }\n+      }\n+\n+      SemiJoinBranchInfo sji = pctx.getRsToSemiJoinBranchInfo().get(curr);\n+      if (sji != null) {\n+        g.putEdgeValue(curr, sji.getTsOp(), new OpEdge(EdgeType.SEMIJOIN));\n+        seen.add(sji.getTsOp());\n+      }\n+      if (curr instanceof AppMasterEventOperator) {\n+        DynamicPruningEventDesc dped = (DynamicPruningEventDesc) curr.getConf();\n+        TableScanOperator ts = dped.getTableScan();\n+        g.putEdgeValue(curr, ts, new OpEdge(EdgeType.DPP));\n+        seen.add(ts);\n+      }\n+\n+      List<Operator<?>> ccc = curr.getChildOperators();\n+      for (Operator<?> operator : ccc) {\n+        seen.add(operator);\n+      }\n+    }\n+  }\n+\n+  public void toDot(File outFile) throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "originalPosition": 185}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMzU5MzA5", "url": "https://github.com/apache/hive/pull/1562#pullrequestreview-520359309", "createdAt": "2020-10-30T03:46:06Z", "commit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "state": "COMMENTED", "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwMzo0NjowNlrOHq8pPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwNDowNzoyM1rOHq959Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDc5NTgzOQ==", "bodyText": "Can we maybe move it to a utility class and add a comment? You could maybe move all these classes to optimizer.graph package", "url": "https://github.com/apache/hive/pull/1562#discussion_r514795839", "createdAt": "2020-10-30T03:46:06Z", "author": {"login": "jcamachor"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/optimizer/OperatorGraph.java", "diffHunk": "@@ -0,0 +1,231 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.hadoop.hive.ql.optimizer;\n+\n+import java.io.File;\n+import java.io.PrintWriter;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.LinkedHashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+\n+import org.apache.hadoop.hive.ql.exec.AppMasterEventOperator;\n+import org.apache.hadoop.hive.ql.exec.Operator;\n+import org.apache.hadoop.hive.ql.exec.ReduceSinkOperator;\n+import org.apache.hadoop.hive.ql.exec.TableScanOperator;\n+import org.apache.hadoop.hive.ql.optimizer.calcite.rules.HivePointLookupOptimizerRule.DiGraph;\n+import org.apache.hadoop.hive.ql.parse.ParseContext;\n+import org.apache.hadoop.hive.ql.parse.SemiJoinBranchInfo;\n+import org.apache.hadoop.hive.ql.plan.DynamicPruningEventDesc;\n+\n+import com.google.common.collect.Sets;\n+\n+public class OperatorGraph {\n+\n+  /**\n+   * A directed graph extended with support to check dag property.\n+   */\n+  static class DagGraph<V, E> extends DiGraph<V, E> {\n+\n+    static class DagNode<V, E> extends Node<V, E> {\n+      int dagIdx = 0;\n+      public DagNode(V v) {\n+        super(v);\n+      }\n+\n+      @Override\n+      public void addEdge(Edge<V, E> edge) {\n+        if (edge.s == this) {\n+          DagNode<V, E> t = (DagNode<V, E>) edge.t;\n+          ensureDagIdxAtLeast(t.dagIdx + 1);\n+          if (t.dagIdx > dagIdx) {\n+            throw new IllegalArgumentException(\"adding this edge would violate dag properties\");\n+          }\n+        }\n+        super.addEdge(edge);\n+      }\n+\n+      void ensureDagIdxAtLeast(int min) {\n+        if (dagIdx >= min) {\n+          return;\n+        }\n+        dagIdx = min;\n+        for (Edge<V, E> e : edges) {\n+          if(e.t == this) {\n+            DagNode<V, E> s = (DagNode<V, E>) e.s;\n+            s.ensureDagIdxAtLeast(min + 1);\n+          }\n+        }\n+      }\n+    }\n+\n+    @Override\n+    protected Node<V, E> newNode(V s) {\n+      return new DagNode<V, E>(s);\n+    }\n+  }\n+\n+  DagGraph<Operator<?>, OpEdge> g;\n+\n+  enum EdgeType {\n+    FLOW, SEMIJOIN, DPP, TEST,\n+  }\n+\n+  static class OpEdge {\n+\n+    private final EdgeType et;\n+    private final int index;\n+\n+    public OpEdge(EdgeType et) {\n+      this(et, 0);\n+    }\n+\n+    public OpEdge(EdgeType et, int index) {\n+      this.et = et;\n+      this.index = index;\n+    }\n+\n+  }\n+\n+\n+  Map<Operator<?>, Cluster> nodeCluster = new HashMap<>();\n+\n+  public class Cluster {\n+\n+    Set<Operator<?>> members = new LinkedHashSet<>();\n+\n+    public void merge(Cluster o) {\n+      for (Operator<?> node : o.members) {\n+        add(node);\n+      }\n+      o.members.clear();\n+    }\n+\n+    public void add(Operator<?> curr) {\n+      nodeCluster.put(curr, this);\n+      members.add(curr);\n+    }\n+\n+  }\n+\n+\n+  public OperatorGraph(ParseContext pctx) {\n+    g = new DagGraph<Operator<?>, OperatorGraph.OpEdge>();\n+    Set<Operator<?>> visited = Sets.newIdentityHashSet();\n+    Set<Operator<?>> seen = Sets.newIdentityHashSet();\n+\n+    seen.addAll(pctx.getTopOps().values());\n+    while (!seen.isEmpty()) {\n+      Operator<?> curr = seen.iterator().next();\n+      seen.remove(curr);\n+      if (visited.contains(curr)) {\n+        continue;\n+      }\n+\n+      visited.add(curr);\n+\n+      Cluster currentCluster = nodeCluster.get(curr);\n+      if (currentCluster == null) {\n+        currentCluster=new Cluster();\n+        currentCluster.add(curr);\n+      }\n+      List<Operator<?>> parents = curr.getParentOperators();\n+      for (int i = 0; i < parents.size(); i++) {\n+        Operator<?> p = parents.get(i);\n+        g.putEdgeValue(p, curr, new OpEdge(EdgeType.FLOW, i));\n+        if (p instanceof ReduceSinkOperator) {\n+          // ignore cluster of parent RS\n+          continue;\n+        }\n+        Cluster cluster = nodeCluster.get(p);\n+        if (cluster != null) {\n+          currentCluster.merge(cluster);\n+        } else {\n+          currentCluster.add(p);\n+        }\n+      }\n+\n+      SemiJoinBranchInfo sji = pctx.getRsToSemiJoinBranchInfo().get(curr);\n+      if (sji != null) {\n+        g.putEdgeValue(curr, sji.getTsOp(), new OpEdge(EdgeType.SEMIJOIN));\n+        seen.add(sji.getTsOp());\n+      }\n+      if (curr instanceof AppMasterEventOperator) {\n+        DynamicPruningEventDesc dped = (DynamicPruningEventDesc) curr.getConf();\n+        TableScanOperator ts = dped.getTableScan();\n+        g.putEdgeValue(curr, ts, new OpEdge(EdgeType.DPP));\n+        seen.add(ts);\n+      }\n+\n+      List<Operator<?>> ccc = curr.getChildOperators();\n+      for (Operator<?> operator : ccc) {\n+        seen.add(operator);\n+      }\n+    }\n+  }\n+\n+  public void toDot(File outFile) throws Exception {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY3NTcwMA=="}, "originalCommit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "originalPosition": 185}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDgwMjIwNg==", "bodyText": "Yes, I think it's a good idea to use an established graph library for this. I think we could create a follow-up for that and discuss the license too, to make sure there is no issue. Any advantage to using jgrapht over Guava graph implementation, given that guava is already a Hive dependency and quite widely used?", "url": "https://github.com/apache/hive/pull/1562#discussion_r514802206", "createdAt": "2020-10-30T03:53:11Z", "author": {"login": "jcamachor"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/optimizer/OperatorGraph.java", "diffHunk": "@@ -0,0 +1,231 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.hadoop.hive.ql.optimizer;\n+\n+import java.io.File;\n+import java.io.PrintWriter;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.LinkedHashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+\n+import org.apache.hadoop.hive.ql.exec.AppMasterEventOperator;\n+import org.apache.hadoop.hive.ql.exec.Operator;\n+import org.apache.hadoop.hive.ql.exec.ReduceSinkOperator;\n+import org.apache.hadoop.hive.ql.exec.TableScanOperator;\n+import org.apache.hadoop.hive.ql.optimizer.calcite.rules.HivePointLookupOptimizerRule.DiGraph;\n+import org.apache.hadoop.hive.ql.parse.ParseContext;\n+import org.apache.hadoop.hive.ql.parse.SemiJoinBranchInfo;\n+import org.apache.hadoop.hive.ql.plan.DynamicPruningEventDesc;\n+\n+import com.google.common.collect.Sets;\n+\n+public class OperatorGraph {\n+\n+  /**\n+   * A directed graph extended with support to check dag property.\n+   */\n+  static class DagGraph<V, E> extends DiGraph<V, E> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY3NDE4OQ=="}, "originalCommit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDgwMzQ4Nw==", "bodyText": "In the meantime, maybe DiGraph could be made a top class.", "url": "https://github.com/apache/hive/pull/1562#discussion_r514803487", "createdAt": "2020-10-30T03:54:30Z", "author": {"login": "jcamachor"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/optimizer/OperatorGraph.java", "diffHunk": "@@ -0,0 +1,231 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.hadoop.hive.ql.optimizer;\n+\n+import java.io.File;\n+import java.io.PrintWriter;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.LinkedHashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+\n+import org.apache.hadoop.hive.ql.exec.AppMasterEventOperator;\n+import org.apache.hadoop.hive.ql.exec.Operator;\n+import org.apache.hadoop.hive.ql.exec.ReduceSinkOperator;\n+import org.apache.hadoop.hive.ql.exec.TableScanOperator;\n+import org.apache.hadoop.hive.ql.optimizer.calcite.rules.HivePointLookupOptimizerRule.DiGraph;\n+import org.apache.hadoop.hive.ql.parse.ParseContext;\n+import org.apache.hadoop.hive.ql.parse.SemiJoinBranchInfo;\n+import org.apache.hadoop.hive.ql.plan.DynamicPruningEventDesc;\n+\n+import com.google.common.collect.Sets;\n+\n+public class OperatorGraph {\n+\n+  /**\n+   * A directed graph extended with support to check dag property.\n+   */\n+  static class DagGraph<V, E> extends DiGraph<V, E> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDgwNTIxNQ==", "bodyText": "Looks good. Could we add comments so it is clear what it is being represented, e.g., what is a cluster, etc.", "url": "https://github.com/apache/hive/pull/1562#discussion_r514805215", "createdAt": "2020-10-30T03:56:12Z", "author": {"login": "jcamachor"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/optimizer/OperatorGraph.java", "diffHunk": "@@ -0,0 +1,231 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.hadoop.hive.ql.optimizer;\n+\n+import java.io.File;\n+import java.io.PrintWriter;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.LinkedHashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+\n+import org.apache.hadoop.hive.ql.exec.AppMasterEventOperator;\n+import org.apache.hadoop.hive.ql.exec.Operator;\n+import org.apache.hadoop.hive.ql.exec.ReduceSinkOperator;\n+import org.apache.hadoop.hive.ql.exec.TableScanOperator;\n+import org.apache.hadoop.hive.ql.optimizer.calcite.rules.HivePointLookupOptimizerRule.DiGraph;\n+import org.apache.hadoop.hive.ql.parse.ParseContext;\n+import org.apache.hadoop.hive.ql.parse.SemiJoinBranchInfo;\n+import org.apache.hadoop.hive.ql.plan.DynamicPruningEventDesc;\n+\n+import com.google.common.collect.Sets;\n+\n+public class OperatorGraph {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY3MTUyNw=="}, "originalCommit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDgwODcwNQ==", "bodyText": "Left the comment in other class but I was thinking that it may be a good idea to promote this to top class (at least until we replace it by any other library version as we were discussing).", "url": "https://github.com/apache/hive/pull/1562#discussion_r514808705", "createdAt": "2020-10-30T04:00:09Z", "author": {"login": "jcamachor"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/rules/HivePointLookupOptimizerRule.java", "diffHunk": "@@ -189,115 +189,121 @@ public RexNode analyzeRexNode(RexBuilder rexBuilder, RexNode condition) {\n     return newCondition;\n   }\n \n-  /**\n-   * Transforms inequality candidates into [NOT] BETWEEN calls.\n-   *\n-   */\n-  protected static class RexTransformIntoBetween extends RexShuttle {\n-    private final RexBuilder rexBuilder;\n+  public static class DiGraph<V, E> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDgxMjI2MQ==", "bodyText": "Note that the filter operator is removed. We need to be careful here because not all input formats guarantee that the filter expression is being applied / does not return false positives. I would expect the Filter remains but only a single time?", "url": "https://github.com/apache/hive/pull/1562#discussion_r514812261", "createdAt": "2020-10-30T04:03:40Z", "author": {"login": "jcamachor"}, "path": "ql/src/test/results/clientpositive/llap/dynamic_partition_pruning.q.out", "diffHunk": "@@ -4277,37 +4277,21 @@ STAGE PLANS:\n                   alias: srcpart\n                   filterExpr: ds is not null (type: boolean)\n                   Statistics: Num rows: 2000 Data size: 389248 Basic stats: COMPLETE Column stats: COMPLETE\n-                  Filter Operator\n-                    predicate: ds is not null (type: boolean)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDgxMzQzMw==", "bodyText": "Any idea why this is happening?", "url": "https://github.com/apache/hive/pull/1562#discussion_r514813433", "createdAt": "2020-10-30T04:04:44Z", "author": {"login": "jcamachor"}, "path": "ql/src/test/results/clientpositive/llap/dynamic_partition_pruning.q.out", "diffHunk": "@@ -4317,7 +4301,7 @@ STAGE PLANS:\n                     outputColumnNames: ds\n                     Statistics: Num rows: 2000 Data size: 389248 Basic stats: COMPLETE Column stats: COMPLETE\n                     Group By Operator\n-                      aggregations: max(ds)\n+                      aggregations: min(ds)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDgxMzk4OQ==", "bodyText": "Filter (same as mentioned previously).", "url": "https://github.com/apache/hive/pull/1562#discussion_r514813989", "createdAt": "2020-10-30T04:05:12Z", "author": {"login": "jcamachor"}, "path": "ql/src/test/results/clientpositive/llap/vectorized_dynamic_partition_pruning.q.out", "diffHunk": "@@ -4816,34 +4816,18 @@ STAGE PLANS:\n                   alias: srcpart\n                   filterExpr: ds is not null (type: boolean)\n                   Statistics: Num rows: 2000 Data size: 389248 Basic stats: COMPLETE Column stats: COMPLETE\n-                  Filter Operator\n-                    predicate: ds is not null (type: boolean)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDgxNTA5NQ==", "bodyText": "new SJ?", "url": "https://github.com/apache/hive/pull/1562#discussion_r514815095", "createdAt": "2020-10-30T04:06:08Z", "author": {"login": "jcamachor"}, "path": "ql/src/test/results/clientpositive/perf/tez/constraints/query61.q.out", "diffHunk": "@@ -273,6 +273,6 @@ Stage-0\n                                     Select Operator [SEL_273] (rows=501694138 width=122)\n                                       Output:[\"_col0\",\"_col1\",\"_col2\",\"_col3\",\"_col4\"]\n                                       Filter Operator [FIL_271] (rows=501694138 width=122)\n-                                        predicate:(ss_sold_date_sk is not null and ss_customer_sk is not null and ss_store_sk is not null)\n+                                        predicate:(ss_sold_date_sk is not null and ss_customer_sk is not null and ss_store_sk is not null and ss_sold_date_sk BETWEEN DynamicValue(RS_64_date_dim_d_date_sk_min) AND DynamicValue(RS_64_date_dim_d_date_sk_max) and in_bloom_filter(ss_sold_date_sk, DynamicValue(RS_64_date_dim_d_date_sk_bloom_filter)))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDgxNjUwMQ==", "bodyText": "good!", "url": "https://github.com/apache/hive/pull/1562#discussion_r514816501", "createdAt": "2020-10-30T04:07:23Z", "author": {"login": "jcamachor"}, "path": "ql/src/test/results/clientpositive/perf/tez/query95.q.out", "diffHunk": "@@ -128,7 +128,7 @@ Stage-0\n                                   Select Operator [SEL_235] (rows=144002668 width=7)\n                                     Output:[\"_col0\",\"_col1\"]\n                                     Filter Operator [FIL_234] (rows=144002668 width=7)\n-                                      predicate:(ws_order_number is not null and (ws_order_number is not null or ws_order_number is not null))\n+                                      predicate:ws_order_number is not null", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14e001e3d08db27da0b4b4a6a3a65dacccbfacbc"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ba8231529de5d1ad7de90c74cd7d1c075beccc8", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/8ba8231529de5d1ad7de90c74cd7d1c075beccc8", "committedDate": "2020-10-30T07:11:47Z", "message": "Merge remote-tracking branch 'apache/master' into HIVE-24241-downstream-merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a4d05b66feadbdaee0c323e3cd4bd261e6ebde3", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/8a4d05b66feadbdaee0c323e3cd4bd261e6ebde3", "committedDate": "2020-11-04T23:10:40Z", "message": "make the switch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbfe28081700d701ea5e99463d3761bdae259d15", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/fbfe28081700d701ea5e99463d3761bdae259d15", "committedDate": "2020-11-04T23:12:11Z", "message": "add test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d492cfead1594e8a40ac868c6a965dcb1c02250", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/9d492cfead1594e8a40ac868c6a965dcb1c02250", "committedDate": "2020-11-04T23:14:35Z", "message": "add comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "416c21d4e4c367edb17794845c35e4304e6f8784", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/416c21d4e4c367edb17794845c35e4304e6f8784", "committedDate": "2020-11-05T08:10:48Z", "message": "changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25d1b1f6e30d4572e035ec9f5c809555056f4ec6", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/25d1b1f6e30d4572e035ec9f5c809555056f4ec6", "committedDate": "2020-11-05T08:11:01Z", "message": "remove unrelated"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d4bc3212ad9c306ddd3173d4079b50170aadead", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/8d4bc3212ad9c306ddd3173d4079b50170aadead", "committedDate": "2020-11-05T08:15:39Z", "message": "add test out"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3dea45cbc5c4f19ef0a4a103686859988e3106a", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/d3dea45cbc5c4f19ef0a4a103686859988e3106a", "committedDate": "2020-11-05T09:30:42Z", "message": "re-do more complete check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7cfc0d9f2caa1867573f11bdf7a26abe83deb012", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/7cfc0d9f2caa1867573f11bdf7a26abe83deb012", "committedDate": "2020-11-05T09:30:52Z", "message": "log4j"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e70ec3cddbbd4410db9eee3379786177d758effe", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/e70ec3cddbbd4410db9eee3379786177d758effe", "committedDate": "2020-11-05T09:33:20Z", "message": "orig graph changes from downstreammerge patch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe8e54a5ac35db1e9ace30274759a2dc9c97f064", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/fe8e54a5ac35db1e9ace30274759a2dc9c97f064", "committedDate": "2020-11-05T09:35:26Z", "message": "graph changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dea05ee62634ba90035c5efb0b6956f12de49abf", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/dea05ee62634ba90035c5efb0b6956f12de49abf", "committedDate": "2020-11-05T09:45:01Z", "message": "add javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6eefe4f74e7e96a75941738114356f30d23c417b", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/6eefe4f74e7e96a75941738114356f30d23c417b", "committedDate": "2020-11-05T09:48:01Z", "message": "move stuff around"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47848f715f61263db4f6854f2b6400e23dd8a951", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/47848f715f61263db4f6854f2b6400e23dd8a951", "committedDate": "2020-11-05T09:52:43Z", "message": "stricter dppu conditions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc75f375df4d65b75b79f52972d272e2a5094df0", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/bc75f375df4d65b75b79f52972d272e2a5094df0", "committedDate": "2020-11-05T09:54:30Z", "message": "add check to avoid tail-to-head connected plans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "137cadf26ad40a7cd3d6ea4e244a2c51498439f5", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/137cadf26ad40a7cd3d6ea4e244a2c51498439f5", "committedDate": "2020-11-05T10:50:49Z", "message": "move exporter to new file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae404cc4c312a7cb80318328a8e201435d46b32d", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/ae404cc4c312a7cb80318328a8e201435d46b32d", "committedDate": "2020-11-05T14:14:53Z", "message": "fix import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87bb01eff8986a99661842c388b6a8abb5aab497", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/87bb01eff8986a99661842c388b6a8abb5aab497", "committedDate": "2020-11-05T14:16:24Z", "message": "dd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3396478e18e55c48b26a04b552fcb1f3aa454bc", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/e3396478e18e55c48b26a04b552fcb1f3aa454bc", "committedDate": "2020-11-05T14:29:46Z", "message": "dppu"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67fb03da821de2956543eda883966e047d0b0c42", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/67fb03da821de2956543eda883966e047d0b0c42", "committedDate": "2020-11-05T14:47:06Z", "message": "x0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0dcc9d0d3c33fee1279bf8bf2663360655e4558f", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/0dcc9d0d3c33fee1279bf8bf2663360655e4558f", "committedDate": "2020-11-05T15:08:15Z", "message": "ff"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a039e56911648cedb6c1babeb77f29e0629e3402", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/a039e56911648cedb6c1babeb77f29e0629e3402", "committedDate": "2020-11-06T09:15:09Z", "message": "q.out updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e8d5a3d49018bbd319e9d49eccd1a281946d4d1", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/4e8d5a3d49018bbd319e9d49eccd1a281946d4d1", "committedDate": "2020-11-09T12:14:17Z", "message": "Merge remote-tracking branch 'kgyrtkirk/HIVE-24360-dppu-fix' into HIVE-24357-swo-table-algo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a4c7786d9f948f23f3e6160e06ec0b23e098070", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/2a4c7786d9f948f23f3e6160e06ec0b23e098070", "committedDate": "2020-11-10T07:44:47Z", "message": "Merge remote-tracking branch 'apache/master' into HIVE-24357-swo-table-algo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "474b9329fa45b05859f2a5410115d3021a800178", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/474b9329fa45b05859f2a5410115d3021a800178", "committedDate": "2020-11-10T07:53:54Z", "message": "Merge remote-tracking branch 'apache/master' into HIVE-24241-downstream-merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b81ecd3183b7798628609b31985afb9df1e6654c", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/b81ecd3183b7798628609b31985afb9df1e6654c", "committedDate": "2020-11-10T08:12:55Z", "message": "remove multimap1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "692f0887f1ca1242d5d8728e09d688e2cb5b6607", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/692f0887f1ca1242d5d8728e09d688e2cb5b6607", "committedDate": "2020-11-10T08:23:04Z", "message": "1 step closer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df93a7a65d35e05c0cce904cfe083d0a37b1b5df", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/df93a7a65d35e05c0cce904cfe083d0a37b1b5df", "committedDate": "2020-11-10T08:26:08Z", "message": "use tablename"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd37d83cd7689a38a1a47825fea0906ea77dc600", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/fd37d83cd7689a38a1a47825fea0906ea77dc600", "committedDate": "2020-11-10T08:31:44Z", "message": "half way"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b01937b1eb95600be5c77ba5354ffaf99e2b0d2", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/4b01937b1eb95600be5c77ba5354ffaf99e2b0d2", "committedDate": "2020-11-10T08:33:30Z", "message": "change signature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03b02a80066b1a54d39fc7fdd83696e567dc9321", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/03b02a80066b1a54d39fc7fdd83696e567dc9321", "committedDate": "2020-11-10T08:33:58Z", "message": "indent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16d025b601593dd05776c21d054befd992349809", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/16d025b601593dd05776c21d054befd992349809", "committedDate": "2020-11-10T08:35:26Z", "message": "inline/cleanup/etc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d08f2cf2534955b5372a365ef0286f601b37d47e", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/d08f2cf2534955b5372a365ef0286f601b37d47e", "committedDate": "2020-11-10T09:23:59Z", "message": "remove invalid ts -es from the list"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e448964021fc485ea015e2b2b953fe4f423af85", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/4e448964021fc485ea015e2b2b953fe4f423af85", "committedDate": "2020-11-10T09:46:02Z", "message": "fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14f2a7bde9d83b52b2a12a01bd57ee0b0065322d", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/14f2a7bde9d83b52b2a12a01bd57ee0b0065322d", "committedDate": "2020-11-10T11:17:13Z", "message": "save dot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5623ee8e16611a2964ae39c53064ce886c30150d", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/5623ee8e16611a2964ae39c53064ce886c30150d", "committedDate": "2020-11-10T12:30:52Z", "message": "Revert \"save dot\"\n\nThis reverts commit 14f2a7bde9d83b52b2a12a01bd57ee0b0065322d."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c0c942dea104637260ac1dccb1652764e652ec6", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/6c0c942dea104637260ac1dccb1652764e652ec6", "committedDate": "2020-11-10T12:54:15Z", "message": "bad test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dec61fe7d085a854d97eb5df9ab2ab7c1b6e74c8", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/dec61fe7d085a854d97eb5df9ab2ab7c1b6e74c8", "committedDate": "2020-11-10T12:54:40Z", "message": "remove test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5dd73922b05cec2b19a7c89cccdabb3a4c38fd7", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/f5dd73922b05cec2b19a7c89cccdabb3a4c38fd7", "committedDate": "2020-11-10T16:03:29Z", "message": "tabalias replace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c19ee5ac3a50f7d92ab2f6472d4fc72111511ce", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/0c19ee5ac3a50f7d92ab2f6472d4fc72111511ce", "committedDate": "2020-11-10T16:07:17Z", "message": "add pushfiltertotopoftablescan changes as well"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d99e3ba45be5094db084f829da6cc62f86cb300", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/5d99e3ba45be5094db084f829da6cc62f86cb300", "committedDate": "2020-11-10T16:13:34Z", "message": "some conditionals are removed by the improved push filter to ts method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b56126b244f03eaaef6fe7ae2d8a64f3fdb3163b", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/b56126b244f03eaaef6fe7ae2d8a64f3fdb3163b", "committedDate": "2020-11-10T16:58:55Z", "message": "known-filter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0c6d6ec8390de6537105881d7f030f101bb530c", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/e0c6d6ec8390de6537105881d7f030f101bb530c", "committedDate": "2020-11-10T16:59:00Z", "message": "Revert \"known-filter\"\n\nThis reverts commit b56126b244f03eaaef6fe7ae2d8a64f3fdb3163b."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb6bf5790675797f3836c101c2ee65221c8b33a8", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/fb6bf5790675797f3836c101c2ee65221c8b33a8", "committedDate": "2020-11-10T17:22:21Z", "message": "update all"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92e0ba3722ab18d9dc4ba5112600440d2a4554d0", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/92e0ba3722ab18d9dc4ba5112600440d2a4554d0", "committedDate": "2020-11-11T09:08:12Z", "message": "A || A => A"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf5d05541af7f6ad49f9f83f26f87e0355dd5004", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/bf5d05541af7f6ad49f9f83f26f87e0355dd5004", "committedDate": "2020-11-11T09:09:13Z", "message": "Merge remote-tracking branch 'kgyrtkirk/HIVE-24357-swo-table-algo' into HIVE-24365-swo-simpler-filters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "724176e005e6bf937f56dee8b89ef1bdab289ecc", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/724176e005e6bf937f56dee8b89ef1bdab289ecc", "committedDate": "2020-11-11T09:10:32Z", "message": "Revert \"Revert \"known-filter\"\"\n\nThis reverts commit e0c6d6ec8390de6537105881d7f030f101bb530c."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccc3616b935085c8c93845a695fb3b9b3dc29de2", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/ccc3616b935085c8c93845a695fb3b9b3dc29de2", "committedDate": "2020-11-11T13:00:06Z", "message": "q fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62333b5804add8c74d504a0eb081a0edcb277272", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/62333b5804add8c74d504a0eb081a0edcb277272", "committedDate": "2020-11-11T13:41:58Z", "message": "more thourouh replace of aliases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b93c4ed2767b0e0245e5a3c95c2c17f14a038070", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/b93c4ed2767b0e0245e5a3c95c2c17f14a038070", "committedDate": "2020-11-11T14:25:26Z", "message": "fix changes in special_.."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16406545f15dc57acbefc3289197f7531bdf4dc3", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/16406545f15dc57acbefc3289197f7531bdf4dc3", "committedDate": "2020-11-11T14:42:56Z", "message": "Revert \"fix changes in special_..\"\n\nThis reverts commit b93c4ed2767b0e0245e5a3c95c2c17f14a038070."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70e29315ca812a0c77a07f44f60702518984893f", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/70e29315ca812a0c77a07f44f60702518984893f", "committedDate": "2020-11-11T15:00:03Z", "message": "enable back"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87272ba1bea4c3fdfa27d1040e3f51d9e853f39a", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/87272ba1bea4c3fdfa27d1040e3f51d9e853f39a", "committedDate": "2020-11-11T15:00:57Z", "message": "enable stuff back; now I understand!"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a300ae693f2169cdb5e3d3d7898ada5fa8ee3044", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/a300ae693f2169cdb5e3d3d7898ada5fa8ee3044", "committedDate": "2020-11-11T16:23:47Z", "message": "f"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83674516d72a3a4ca67b7f214253d5b2cc46f6fd", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/83674516d72a3a4ca67b7f214253d5b2cc46f6fd", "committedDate": "2020-11-11T18:18:50Z", "message": "u"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6d3eb6d8b48f3b8806ad619aa78d5dfde28a2b8", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/b6d3eb6d8b48f3b8806ad619aa78d5dfde28a2b8", "committedDate": "2020-11-12T14:50:36Z", "message": "unpatch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "158ee54e89f74e3d2d9add8738e7dc1d765d69f8", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/158ee54e89f74e3d2d9add8738e7dc1d765d69f8", "committedDate": "2020-11-12T14:51:02Z", "message": "Merge remote-tracking branch 'kgyrtkirk/HIVE-24365-swo-simpler-filters' into HIVE-24241-downstream-merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fda6451cd43b84954c71ed5552d1f432e6e20f2", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/0fda6451cd43b84954c71ed5552d1f432e6e20f2", "committedDate": "2020-11-12T17:25:06Z", "message": "add back downstreammer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d87b1d9127f736b5f95603fc21830a68720c61c4", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/d87b1d9127f736b5f95603fc21830a68720c61c4", "committedDate": "2020-11-12T19:54:34Z", "message": "some changed back and a few improvements"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5ODEyNDEw", "url": "https://github.com/apache/hive/pull/1562#pullrequestreview-529812410", "createdAt": "2020-11-13T06:56:31Z", "commit": {"oid": "d87b1d9127f736b5f95603fc21830a68720c61c4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a36bd965aaca150a73a0e1bb1b678c25f301c76c", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/a36bd965aaca150a73a0e1bb1b678c25f301c76c", "committedDate": "2020-11-13T07:59:17Z", "message": "Merge remote-tracking branch 'apache/master' into HIVE-24365-swo-simpler-filters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a6732cb9d6088703c93f7c01ea8bf39dccb53a7", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/9a6732cb9d6088703c93f7c01ea8bf39dccb53a7", "committedDate": "2020-11-13T07:59:38Z", "message": "Merge branch 'HIVE-24365-swo-simpler-filters' into HIVE-24241-downstream-merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af0863b1318e6e38866ec420e4116eb6bdd4b9ec", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/af0863b1318e6e38866ec420e4116eb6bdd4b9ec", "committedDate": "2020-10-05T14:36:08Z", "message": "existing work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92ce37b832749aa6c813dafad9774da89a4ecdac", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/92ce37b832749aa6c813dafad9774da89a4ecdac", "committedDate": "2020-10-05T14:36:46Z", "message": "add semi;"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d5607da61ddf1943e4b0a9a031e467a6ce430c4", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/3d5607da61ddf1943e4b0a9a031e467a6ce430c4", "committedDate": "2020-10-05T14:40:14Z", "message": "smi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59c3d1f1641964969e3d18b6071264b038298931", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/59c3d1f1641964969e3d18b6071264b038298931", "committedDate": "2020-10-05T16:05:44Z", "message": "x"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "758c900cf823d9106ec6248d0aa587fa0fac3f49", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/758c900cf823d9106ec6248d0aa587fa0fac3f49", "committedDate": "2020-10-05T16:42:29Z", "message": "remove exception"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ee6e173f55c851517290960ff185c5375952b25", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/1ee6e173f55c851517290960ff185c5375952b25", "committedDate": "2020-10-05T16:45:17Z", "message": "update tpcds"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d67efb6868282cbbb4c8e397b996ab2e35c390e1", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/d67efb6868282cbbb4c8e397b996ab2e35c390e1", "committedDate": "2020-10-05T16:49:56Z", "message": "remove typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38470efc8211bc572ea2e73f23270528d2b50205", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/38470efc8211bc572ea2e73f23270528d2b50205", "committedDate": "2020-10-06T07:03:57Z", "message": "update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bb84bf202b9918d40d4dd1abd901b8cb1c7b5c1", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/4bb84bf202b9918d40d4dd1abd901b8cb1c7b5c1", "committedDate": "2020-10-06T07:10:04Z", "message": "disable dppu"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afd8a66a92cbd18ef99992112ac031d619f6485b", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/afd8a66a92cbd18ef99992112ac031d619f6485b", "committedDate": "2020-10-06T07:20:04Z", "message": "add comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c54baaabaefae4192b062caeb008540c9e5e37d", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/6c54baaabaefae4192b062caeb008540c9e5e37d", "committedDate": "2020-10-06T07:43:25Z", "message": "add comment+fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e889d4b8db5ab1941025f43620f535cd164ae6c9", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/e889d4b8db5ab1941025f43620f535cd164ae6c9", "committedDate": "2020-10-06T08:00:23Z", "message": "update mergeablecheck"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a87c2ff86976e9f024b902b4f7d5a8054e3c576", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/4a87c2ff86976e9f024b902b4f7d5a8054e3c576", "committedDate": "2020-10-06T08:28:24Z", "message": "q.out updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d1584d89f5e606941b781bcdffe54873995003c", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/7d1584d89f5e606941b781bcdffe54873995003c", "committedDate": "2020-10-06T08:38:49Z", "message": "update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b43cb827ba2a0b2973e27e87422e62eb8678c724", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/b43cb827ba2a0b2973e27e87422e62eb8678c724", "committedDate": "2020-10-06T12:55:00Z", "message": "en-x"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "261fdcc93a6b6e15cdf96daaf8726d0636f7b725", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/261fdcc93a6b6e15cdf96daaf8726d0636f7b725", "committedDate": "2020-10-06T13:15:56Z", "message": "Revert \"en-x\"\n\nThis reverts commit b43cb827ba2a0b2973e27e87422e62eb8678c724."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c35896fb5ebaefcb742d257462f0685bab44cbc9", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/c35896fb5ebaefcb742d257462f0685bab44cbc9", "committedDate": "2020-10-06T13:21:42Z", "message": "qqqqqqqqqqqqqqqqRevert \"Revert \"en-x\"\"\n\nThis reverts commit 261fdcc93a6b6e15cdf96daaf8726d0636f7b725."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34c4423bdd30a1220f5c0bf9def94eefc70b847c", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/34c4423bdd30a1220f5c0bf9def94eefc70b847c", "committedDate": "2020-10-06T15:48:04Z", "message": "accept q.out; small updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0320b9a2da55856ad9071d28725705798586cc0f", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/0320b9a2da55856ad9071d28725705798586cc0f", "committedDate": "2020-10-07T08:06:56Z", "message": "accept dyn-op"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c41061f78c969a9d33f058e56d7269f64f45d5a", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/8c41061f78c969a9d33f058e56d7269f64f45d5a", "committedDate": "2020-10-07T08:25:55Z", "message": "update messages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d33c6ebc65ad04e7d4316a4d3c000007de8eef4", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/8d33c6ebc65ad04e7d4316a4d3c000007de8eef4", "committedDate": "2020-10-07T08:37:55Z", "message": "updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5b14a1c445d4618f3a3415b9c145eb561e6144d", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/e5b14a1c445d4618f3a3415b9c145eb561e6144d", "committedDate": "2020-10-07T09:06:23Z", "message": "downstreammerge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dda3523ff6342bc8452afd9bf002774edd25f805", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/dda3523ff6342bc8452afd9bf002774edd25f805", "committedDate": "2020-10-07T11:18:57Z", "message": "fixes to downstream merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f4faeaa9c2fa9604116bfaf6ac83d702ff10dbd", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/6f4faeaa9c2fa9604116bfaf6ac83d702ff10dbd", "committedDate": "2020-10-07T11:38:31Z", "message": "remove fixme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b18ff94f42916b87c6441ebbcb98a5b9baa713e", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/9b18ff94f42916b87c6441ebbcb98a5b9baa713e", "committedDate": "2020-10-07T12:55:06Z", "message": "fix npe"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad629eb1e8ee19f949f66d577b3999895521abeb", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/ad629eb1e8ee19f949f66d577b3999895521abeb", "committedDate": "2020-10-07T12:56:35Z", "message": "remove downstream-merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1a62b4bc4c12ddb79332d669eae885457dc6792", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/d1a62b4bc4c12ddb79332d669eae885457dc6792", "committedDate": "2020-10-07T13:25:41Z", "message": "accepted q.out changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "610b7892c03fdd24a9e4c16f3998e6a1b7d4ed8b", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/610b7892c03fdd24a9e4c16f3998e6a1b7d4ed8b", "committedDate": "2020-10-07T14:29:18Z", "message": "fix bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94608ec4b45105b752c0c9c9ed8766489060a60d", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/94608ec4b45105b752c0c9c9ed8766489060a60d", "committedDate": "2020-10-07T15:04:06Z", "message": "back to 0 diff"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4f41a311a592f0398413f9b29bfc6458022f88b", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/d4f41a311a592f0398413f9b29bfc6458022f88b", "committedDate": "2020-10-07T15:04:16Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06cfe04f9fcc2f3412c68fe7e062b930898b4bfc", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/06cfe04f9fcc2f3412c68fe7e062b930898b4bfc", "committedDate": "2020-10-07T15:15:49Z", "message": "accept q.outs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d7b4f50611e6743a64e4b9d369f3f92e608b84b", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/8d7b4f50611e6743a64e4b9d369f3f92e608b84b", "committedDate": "2020-10-07T15:16:08Z", "message": "accept syubquery_in"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15e5eff1e8bd9d97d16ce6e2a98b0c611611eb7b", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/15e5eff1e8bd9d97d16ce6e2a98b0c611611eb7b", "committedDate": "2020-10-07T15:16:22Z", "message": "Revert \"remove downstream-merge\"\n\nThis reverts commit ad629eb1e8ee19f949f66d577b3999895521abeb."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a97ac5117b5795c1a00805b8de81b0db76b9f887", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/a97ac5117b5795c1a00805b8de81b0db76b9f887", "committedDate": "2020-10-07T19:53:04Z", "message": "Revert \"Revert \"remove downstream-merge\"\"\n\nThis reverts commit 15e5eff1e8bd9d97d16ce6e2a98b0c611611eb7b."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1021490b12c4289ee03b61ff85680d22d7d9843", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/e1021490b12c4289ee03b61ff85680d22d7d9843", "committedDate": "2020-10-07T20:16:12Z", "message": "q.out updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aaccbdc062291001850b5d824565930b498d67c3", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/aaccbdc062291001850b5d824565930b498d67c3", "committedDate": "2020-10-07T20:55:04Z", "message": "fix union"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9838961e57ebe20765ad7a046fc4283ec7b7f1f4", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/9838961e57ebe20765ad7a046fc4283ec7b7f1f4", "committedDate": "2020-10-07T21:03:29Z", "message": "x"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90607e86627c57fe41e0db0f9f9d5f7764d87c71", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/90607e86627c57fe41e0db0f9f9d5f7764d87c71", "committedDate": "2020-10-07T21:08:36Z", "message": "q5 back"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5656c7dc20fa1f904374b44b30270f7987f5b1de", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/5656c7dc20fa1f904374b44b30270f7987f5b1de", "committedDate": "2020-10-08T07:34:37Z", "message": "changes relating to removal of downstream-merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "199fee4b3bc338e0d5c153a9f8063c47f9bd9474", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/199fee4b3bc338e0d5c153a9f8063c47f9bd9474", "committedDate": "2020-10-08T07:37:54Z", "message": "fix recompilation in SWO"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "831c708df50f3cf433b35fe2c19d0e41f330d197", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/831c708df50f3cf433b35fe2c19d0e41f330d197", "committedDate": "2020-10-08T08:16:42Z", "message": "Merge remote-tracking branch 'apache/master' into HIVE-swo-dppunion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18678dc0b15bd11592eccf5929f8d0dabf25160d", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/18678dc0b15bd11592eccf5929f8d0dabf25160d", "committedDate": "2020-10-08T08:17:48Z", "message": "remove logger changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f672130cc66044edbcb5718bb5ec7fdfb4368329", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/f672130cc66044edbcb5718bb5ec7fdfb4368329", "committedDate": "2020-10-08T08:18:23Z", "message": "remove ws change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0d9aef86a0aaca6acc1e3d0f68a126b0eb8c6a7", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/b0d9aef86a0aaca6acc1e3d0f68a126b0eb8c6a7", "committedDate": "2020-10-08T08:24:30Z", "message": "remove non-finished test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9bb99199899fc87048e680a04c086169782b2eb", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/e9bb99199899fc87048e680a04c086169782b2eb", "committedDate": "2020-10-08T09:42:03Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0ad188febb7ff1d0617518188735ee5a19e077d", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/b0ad188febb7ff1d0617518188735ee5a19e077d", "committedDate": "2020-10-08T11:05:29Z", "message": "Revert \"changes relating to removal of downstream-merge\"\n\nThis reverts commit 5656c7dc20fa1f904374b44b30270f7987f5b1de."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccaf2f4ab2073f1d556f432d4bc35974304b6baa", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/ccaf2f4ab2073f1d556f432d4bc35974304b6baa", "committedDate": "2020-10-08T11:05:37Z", "message": "Revert \"Revert \"Revert \"remove downstream-merge\"\"\"\n\nThis reverts commit a97ac5117b5795c1a00805b8de81b0db76b9f887."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "887eaed203d4dc1e6ac727871980ec2ab709bd39", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/887eaed203d4dc1e6ac727871980ec2ab709bd39", "committedDate": "2020-10-08T11:13:21Z", "message": "sort-u back"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdf139c5af5b1ee9eafd7865b474f46168925864", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/cdf139c5af5b1ee9eafd7865b474f46168925864", "committedDate": "2020-10-08T14:35:15Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b3d81bf50e6e5d57edf8e091fd4683398371c24", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/1b3d81bf50e6e5d57edf8e091fd4683398371c24", "committedDate": "2020-10-08T15:20:47Z", "message": "perf changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c981deadbdae4d9f103364f635a4c5e6faa3ef2e", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/c981deadbdae4d9f103364f635a4c5e6faa3ef2e", "committedDate": "2020-10-08T15:26:13Z", "message": "q.out updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5098909d9c00eebb7449011fb7fba3c19dee9ce6", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/5098909d9c00eebb7449011fb7fba3c19dee9ce6", "committedDate": "2020-10-08T16:11:31Z", "message": "remove ws"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92f2951bf50a65abe655e952c22520abbd14caa4", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/92f2951bf50a65abe655e952c22520abbd14caa4", "committedDate": "2020-10-08T20:18:52Z", "message": "archive testresult-xmls"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "260cdd3f87d225320d157759e877d003b023f231", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/260cdd3f87d225320d157759e877d003b023f231", "committedDate": "2020-10-08T20:19:15Z", "message": "\\Merge remote-tracking branch 'kgyrtkirk/HIVE-swo-dppunion' into HIVE-24241-downstream-merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f3d6cc4b1613dfceefb6e97c7693b11536cde68", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/8f3d6cc4b1613dfceefb6e97c7693b11536cde68", "committedDate": "2020-10-08T20:20:02Z", "message": "q5 to nochange"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c210b8e48e5e3e593315764c7a946b22502e1ddc", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/c210b8e48e5e3e593315764c7a946b22502e1ddc", "committedDate": "2020-10-09T07:27:12Z", "message": "archive results for each split"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6abc1ac36fcdb9dcaab91539fb55ffa8bccb4444", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/6abc1ac36fcdb9dcaab91539fb55ffa8bccb4444", "committedDate": "2020-10-09T08:14:23Z", "message": "create test-results.tgz archive"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4b9ce11e6b591ff702c43b847a2780da96afe9c", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/b4b9ce11e6b591ff702c43b847a2780da96afe9c", "committedDate": "2020-10-09T12:18:21Z", "message": "fix typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31ddb97bf412a2679489a5a0d45d335d2708005c", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/31ddb97bf412a2679489a5a0d45d335d2708005c", "committedDate": "2020-10-09T12:34:06Z", "message": "use surefire M5"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92bff0ebe500afc6503af99350e20105b22234ce", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/92bff0ebe500afc6503af99350e20105b22234ce", "committedDate": "2020-10-09T15:57:14Z", "message": "Merge remote-tracking branches 'apache/master' and 'kgyrtkirk/HIVE-swo-dppunion' into HIVE-24241-downstream-merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03d23d1d489c2601b370a67458dd7e535c38b26f", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/03d23d1d489c2601b370a67458dd7e535c38b26f", "committedDate": "2020-10-12T09:48:35Z", "message": "Merge remote-tracking branch 'apache/master' into HIVE-24241-downstream-merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "053281c5e09a49caed5f00f494a15a77e4934fa5", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/053281c5e09a49caed5f00f494a15a77e4934fa5", "committedDate": "2020-10-12T09:48:52Z", "message": "Merge remote-tracking branch 'apache/master' into HIVE-swo-dppunion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "520598f64691f0193be270b81d74a90eb9b8bcd7", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/520598f64691f0193be270b81d74a90eb9b8bcd7", "committedDate": "2020-10-12T10:31:34Z", "message": "upgrade to M5 in other parts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35fccf29e537fbb2c31d493ec9d9cacb3927897e", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/35fccf29e537fbb2c31d493ec9d9cacb3927897e", "committedDate": "2020-10-12T12:34:35Z", "message": "remove HIVE-24624 related stuff"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84685724bc2c874e1d53640e8d4dccdd2d2605f8", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/84685724bc2c874e1d53640e8d4dccdd2d2605f8", "committedDate": "2020-10-12T12:34:51Z", "message": "remove feature disable from subq tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b336b842e36a363d96ed8ec33d09d122fbe3ce6b", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/b336b842e36a363d96ed8ec33d09d122fbe3ce6b", "committedDate": "2020-10-12T12:54:20Z", "message": "remove set from explain"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e07afdd178f5abf75a985609f05ca3dab50c53b", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/9e07afdd178f5abf75a985609f05ca3dab50c53b", "committedDate": "2020-10-12T13:45:31Z", "message": "update qfiles; go back to simpler changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e775b74ce740ab162a7164b7bad6652fd3c25d34", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/e775b74ce740ab162a7164b7bad6652fd3c25d34", "committedDate": "2020-10-13T08:24:02Z", "message": "tests back to master state"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a54fc6a506dbb6ef603cac61fe0a04c3835fc990", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/a54fc6a506dbb6ef603cac61fe0a04c3835fc990", "committedDate": "2020-10-13T08:34:47Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3087ae830ab55683b3ea06d6b664c6c8f15b1dd", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/c3087ae830ab55683b3ea06d6b664c6c8f15b1dd", "committedDate": "2020-10-13T08:43:42Z", "message": "removal of ()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70e4ac2e0f910ce1fd33984e183cd68e696abf1a", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/70e4ac2e0f910ce1fd33984e183cd68e696abf1a", "committedDate": "2020-10-13T08:44:10Z", "message": "removal of ()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "acec785a26c159a5534afbd3875c99bb51b5232c", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/acec785a26c159a5534afbd3875c99bb51b5232c", "committedDate": "2020-10-13T09:48:58Z", "message": "cleanup; move functions; address review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fa1eef1491570d93fb231561ab245f4504053ef", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/7fa1eef1491570d93fb231561ab245f4504053ef", "committedDate": "2020-10-13T09:55:15Z", "message": "use adoptchildren"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1e35d3e5c0bccd20ce51b223ec6aca189378c64", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/c1e35d3e5c0bccd20ce51b223ec6aca189378c64", "committedDate": "2020-10-13T10:36:50Z", "message": "add doc to mode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e771fba3c7552dea31ac69e534573c7fd1eafbfb", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/e771fba3c7552dea31ac69e534573c7fd1eafbfb", "committedDate": "2020-10-13T10:37:29Z", "message": "pending changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "818cbe21e2475a873c73de44783895390d21a9b3", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/818cbe21e2475a873c73de44783895390d21a9b3", "committedDate": "2020-10-13T11:08:06Z", "message": "Merge remote-tracking branch 'kgyrtkirk/HIVE-swo-dppunion' into HIVE-24241-downstream-merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "824c6342b0fad22a13f021f39ff7523111c4f721", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/824c6342b0fad22a13f021f39ff7523111c4f721", "committedDate": "2020-10-13T11:55:39Z", "message": "updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5a4be684dfad6a695e43184fb374bf2d0ae0183", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/c5a4be684dfad6a695e43184fb374bf2d0ae0183", "committedDate": "2020-10-13T11:59:47Z", "message": "accept removal"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0dbeb438c37517c3f2f4072cd35a400a6f97087d", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/0dbeb438c37517c3f2f4072cd35a400a6f97087d", "committedDate": "2020-10-13T12:09:33Z", "message": "addition of filter to DPP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e405e39752933ca5e92e07f2ca2c813b1191193", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/3e405e39752933ca5e92e07f2ca2c813b1191193", "committedDate": "2020-10-13T12:45:46Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02d1bac9763d753b88f40cc4d9322e8b93b543b6", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/02d1bac9763d753b88f40cc4d9322e8b93b543b6", "committedDate": "2020-10-14T14:29:19Z", "message": "tabalias"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5849891872fe5103f86d5a5195891307c4d0f2d1", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/5849891872fe5103f86d5a5195891307c4d0f2d1", "committedDate": "2020-10-14T17:15:24Z", "message": "perf"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c462f5ba042c7faa549f1e95276364b715eb14b", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/3c462f5ba042c7faa549f1e95276364b715eb14b", "committedDate": "2020-10-14T23:05:02Z", "message": "simplify filter expr - but stats have regressed?"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "635cecb5f4717b1aadbf3f8d967ad76d183442a2", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/635cecb5f4717b1aadbf3f8d967ad76d183442a2", "committedDate": "2020-10-14T23:43:22Z", "message": "disable tsm; trial with sort"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a66a78fe207383d8ed7df2689f96dac24b094b4", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/7a66a78fe207383d8ed7df2689f96dac24b094b4", "committedDate": "2020-10-15T06:29:57Z", "message": "q.out updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d1ddbe41abf19c0743d40c8d14024dafdca58db", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/4d1ddbe41abf19c0743d40c8d14024dafdca58db", "committedDate": "2020-10-15T13:58:22Z", "message": "fix usage of shaded class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb838519efa42fdfa68ccad92bd6e961f488d696", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/eb838519efa42fdfa68ccad92bd6e961f488d696", "committedDate": "2020-10-16T22:12:11Z", "message": "fix npe?"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16110f64c3b657478d787d1018c68487220fe1e8", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/16110f64c3b657478d787d1018c68487220fe1e8", "committedDate": "2020-10-16T22:32:29Z", "message": "update q.outs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b42a544e5e320b8b3950355ac504d17c646dd10", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/5b42a544e5e320b8b3950355ac504d17c646dd10", "committedDate": "2020-10-19T06:06:02Z", "message": "update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20c20ff914dc88323622171178a2f633f52250a7", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/20c20ff914dc88323622171178a2f633f52250a7", "committedDate": "2020-10-20T11:55:35Z", "message": "fix typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce9095a9e711ab8fbc34bc57043cf0fa1cf12385", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/ce9095a9e711ab8fbc34bc57043cf0fa1cf12385", "committedDate": "2020-10-20T12:00:06Z", "message": "Merge commit 'apache/master^' into HIVE-24241-downstream-merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f454baffbbc04a1aa3f2383d6f70dbd9207356d", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/7f454baffbbc04a1aa3f2383d6f70dbd9207356d", "committedDate": "2020-10-20T12:00:41Z", "message": "rev-all"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f438b7a35914053c2a5114711c14e79b9f2227a", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/7f438b7a35914053c2a5114711c14e79b9f2227a", "committedDate": "2020-10-20T12:00:46Z", "message": "Merge remote-tracking branch 'apache/master' into HIVE-24241-downstream-merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2949f20287d3921b08fe0a056413d4f8741a085d", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/2949f20287d3921b08fe0a056413d4f8741a085d", "committedDate": "2020-10-20T12:01:12Z", "message": "re-apply"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b500b7565b777e8c4fb4518e8272e5f22450d033", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/b500b7565b777e8c4fb4518e8272e5f22450d033", "committedDate": "2020-10-22T09:34:35Z", "message": "remove schema-merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1bf2bfec22675262ec099ec2140df65f53f3a0e6", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/1bf2bfec22675262ec099ec2140df65f53f3a0e6", "committedDate": "2020-10-22T15:40:11Z", "message": "remove nonrelated"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d801e4f838909d80112d7067816a954fb937397", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/0d801e4f838909d80112d7067816a954fb937397", "committedDate": "2020-10-22T20:36:29Z", "message": "updateq.ours"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NDU2MDg0", "url": "https://github.com/apache/hive/pull/1562#pullrequestreview-516456084", "createdAt": "2020-10-26T03:59:55Z", "commit": {"oid": "0d801e4f838909d80112d7067816a954fb937397"}, "state": "COMMENTED", "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwMzo1OTo1NVrOHoAOOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwNTo1MzowNlrOHoBn9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTcwODczMA==", "bodyText": "nit. typo 'successfull'", "url": "https://github.com/apache/hive/pull/1562#discussion_r511708730", "createdAt": "2020-10-26T03:59:55Z", "author": {"login": "jcamachor"}, "path": "common/src/java/org/apache/hadoop/hive/conf/HiveConf.java", "diffHunk": "@@ -2595,6 +2595,8 @@ private static void populateLlapDaemonVarsSet(Set<String> llapDaemonVarsSetLocal\n     HIVE_SHARED_WORK_DPPUNION_OPTIMIZATION(\"hive.optimize.shared.work.dppunion\", true,\n         \"Enables dppops unioning. This optimization will enable to merge multiple tablescans with different \"\n             + \"dynamic filters into a single one (with a more complex filter)\"),\n+    HIVE_SHARED_WORK_DOWNSTREAM_MERGE(\"hive.optimize.shared.work.downstream.merge\", true,\n+        \"Analyzes and merges equiv downstream operators after a successfull shared work optimization step.\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d801e4f838909d80112d7067816a954fb937397"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTcxNzIxMw==", "bodyText": "SJ is gone. Is this expected?", "url": "https://github.com/apache/hive/pull/1562#discussion_r511717213", "createdAt": "2020-10-26T04:43:54Z", "author": {"login": "jcamachor"}, "path": "ql/src/test/results/clientpositive/perf/tez/constraints/query32.q.out", "diffHunk": "@@ -160,7 +160,7 @@ Stage-0\n                                     Select Operator [SEL_115] (rows=286549727 width=119)\n                                       Output:[\"_col0\",\"_col1\",\"_col2\"]\n                                       Filter Operator [FIL_113] (rows=286549727 width=119)\n-                                        predicate:(cs_sold_date_sk is not null and cs_item_sk BETWEEN DynamicValue(RS_28_item_i_item_sk_min) AND DynamicValue(RS_28_item_i_item_sk_max) and in_bloom_filter(cs_item_sk, DynamicValue(RS_28_item_i_item_sk_bloom_filter)))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d801e4f838909d80112d7067816a954fb937397"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTcyNjY0Nw==", "bodyText": "I think you could use ExprNodeDescExprFactory.isANDFuncCallExpr or FunctionRegistry.isOpAnd(expr)?", "url": "https://github.com/apache/hive/pull/1562#discussion_r511726647", "createdAt": "2020-10-26T05:30:44Z", "author": {"login": "jcamachor"}, "path": "ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java", "diffHunk": "@@ -1136,4 +1173,30 @@ public static boolean isOr(ExprNodeDesc expr) {\n     return false;\n   }\n \n+  public static boolean isAnd(ExprNodeDesc expr) {\n+    if (expr instanceof ExprNodeGenericFuncDesc) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d801e4f838909d80112d7067816a954fb937397"}, "originalPosition": 95}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTcyNzQ2MA==", "bodyText": "Iirc we order the expressions intentionally in such a way that the rest of expressions are evaluated before the SJ expression, since the probe of the bloom filter is usually more expensive than evaluating other expressions (heuristic).", "url": "https://github.com/apache/hive/pull/1562#discussion_r511727460", "createdAt": "2020-10-26T05:34:37Z", "author": {"login": "jcamachor"}, "path": "ql/src/test/results/clientpositive/llap/sharedwork_semi.q.out", "diffHunk": "@@ -541,7 +541,7 @@ STAGE PLANS:\n             Map Operator Tree:\n                 TableScan\n                   alias: s\n-                  filterExpr: (ss_sold_date_sk is not null and ((ss_sold_date_sk BETWEEN DynamicValue(RS_7_d_d_date_sk_min) AND DynamicValue(RS_7_d_d_date_sk_max) and in_bloom_filter(ss_sold_date_sk, DynamicValue(RS_7_d_d_date_sk_bloom_filter))) or (ss_sold_date_sk BETWEEN DynamicValue(RS_21_d_d_date_sk_min) AND DynamicValue(RS_21_d_d_date_sk_max) and in_bloom_filter(ss_sold_date_sk, DynamicValue(RS_21_d_d_date_sk_bloom_filter))))) (type: boolean)\n+                  filterExpr: (((ss_sold_date_sk BETWEEN DynamicValue(RS_7_d_d_date_sk_min) AND DynamicValue(RS_7_d_d_date_sk_max) and in_bloom_filter(ss_sold_date_sk, DynamicValue(RS_7_d_d_date_sk_bloom_filter))) or (ss_sold_date_sk BETWEEN DynamicValue(RS_21_d_d_date_sk_min) AND DynamicValue(RS_21_d_d_date_sk_max) and in_bloom_filter(ss_sold_date_sk, DynamicValue(RS_21_d_d_date_sk_bloom_filter)))) and ss_sold_date_sk is not null) (type: boolean)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d801e4f838909d80112d7067816a954fb937397"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTcyOTU2Mw==", "bodyText": "Same as above. Filter exprs order", "url": "https://github.com/apache/hive/pull/1562#discussion_r511729563", "createdAt": "2020-10-26T05:43:59Z", "author": {"login": "jcamachor"}, "path": "ql/src/test/results/clientpositive/perf/tez/constraints/query1b.q.out", "diffHunk": "@@ -176,7 +176,7 @@ STAGE PLANS:\n             Map Operator Tree:\n                 TableScan\n                   alias: store_returns\n-                  filterExpr: (((sr_customer_sk is not null and sr_store_sk is not null and sr_returned_date_sk is not null) or (sr_store_sk is not null and sr_returned_date_sk is not null)) and sr_store_sk BETWEEN DynamicValue(RS_40_store_s_store_sk_min) AND DynamicValue(RS_40_store_s_store_sk_max) and in_bloom_filter(sr_store_sk, DynamicValue(RS_40_store_s_store_sk_bloom_filter))) (type: boolean)\n+                  filterExpr: (sr_store_sk BETWEEN DynamicValue(RS_40_store_s_store_sk_min) AND DynamicValue(RS_40_store_s_store_sk_max) and in_bloom_filter(sr_store_sk, DynamicValue(RS_40_store_s_store_sk_bloom_filter)) and ((sr_customer_sk is not null and sr_store_sk is not null and sr_returned_date_sk is not null) or (sr_store_sk is not null and sr_returned_date_sk is not null))) (type: boolean)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d801e4f838909d80112d7067816a954fb937397"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTcyOTY2OQ==", "bodyText": "SJ went away? It is kept in the other branch (L182).", "url": "https://github.com/apache/hive/pull/1562#discussion_r511729669", "createdAt": "2020-10-26T05:44:27Z", "author": {"login": "jcamachor"}, "path": "ql/src/test/results/clientpositive/perf/tez/constraints/query1b.q.out", "diffHunk": "@@ -210,7 +210,7 @@ STAGE PLANS:\n                             Statistics: Num rows: 16855704 Data size: 2008197920 Basic stats: COMPLETE Column stats: COMPLETE\n                             value expressions: _col2 (type: decimal(17,2))\n                   Filter Operator\n-                    predicate: (sr_store_sk is not null and sr_returned_date_sk is not null and sr_store_sk BETWEEN DynamicValue(RS_40_store_s_store_sk_min) AND DynamicValue(RS_40_store_s_store_sk_max) and in_bloom_filter(sr_store_sk, DynamicValue(RS_40_store_s_store_sk_bloom_filter))) (type: boolean)\n+                    predicate: (sr_store_sk is not null and sr_returned_date_sk is not null) (type: boolean)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d801e4f838909d80112d7067816a954fb937397"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTczMDE5OQ==", "bodyText": "Are these new TS that are not reused anymore? For instance, it seems this one is the same that was reused in old L224.", "url": "https://github.com/apache/hive/pull/1562#discussion_r511730199", "createdAt": "2020-10-26T05:46:47Z", "author": {"login": "jcamachor"}, "path": "ql/src/test/results/clientpositive/perf/tez/constraints/query25.q.out", "diffHunk": "@@ -176,92 +176,88 @@ Stage-0\n                                   Merge Join Operator [MERGEJOIN_246] (rows=21091882 width=154)\n                                     Conds:RS_25._col2, _col1, _col4=RS_26._col2, _col1, _col3(Inner),Output:[\"_col1\",\"_col3\",\"_col5\",\"_col8\",\"_col9\",\"_col11\"]\n                                   <-Reducer 10 [SIMPLE_EDGE]\n+                                    SHUFFLE [RS_26]\n+                                      PartitionCols:_col2, _col1, _col3\n+                                      Merge Join Operator [MERGEJOIN_245] (rows=9402909 width=100)\n+                                        Conds:RS_270._col0=RS_256._col0(Inner),Output:[\"_col1\",\"_col2\",\"_col3\",\"_col4\"]\n+                                      <-Map 8 [SIMPLE_EDGE] vectorized\n+                                        PARTITION_ONLY_SHUFFLE [RS_256]\n+                                          PartitionCols:_col0\n+                                          Select Operator [SEL_252] (rows=351 width=4)\n+                                            Output:[\"_col0\"]\n+                                            Filter Operator [FIL_250] (rows=351 width=12)\n+                                              predicate:((d_year = 2000) and d_moy BETWEEN 4 AND 10)\n+                                              TableScan [TS_3] (rows=73049 width=12)\n+                                                default@date_dim,d3,Tbl:COMPLETE,Col:COMPLETE,Output:[\"d_date_sk\",\"d_year\",\"d_moy\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d801e4f838909d80112d7067816a954fb937397"}, "originalPosition": 83}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTczMDY5NA==", "bodyText": "Change of algorithm to SHUFFLE. Is this expected? It seems the same changed happened for multiple ops in the plan.", "url": "https://github.com/apache/hive/pull/1562#discussion_r511730694", "createdAt": "2020-10-26T05:48:57Z", "author": {"login": "jcamachor"}, "path": "ql/src/test/results/clientpositive/perf/tez/constraints/query54.q.out", "diffHunk": "@@ -202,156 +202,154 @@ Stage-0\n                                           predicate:(_col1 <= _col3)\n                                           Merge Join Operator [MERGEJOIN_294] (rows=15218525 width=12)\n                                             Conds:(Inner),Output:[\"_col0\",\"_col1\",\"_col3\"]\n-                                          <-Reducer 15 [CUSTOM_SIMPLE_EDGE]\n+                                          <-Reducer 20 [CUSTOM_SIMPLE_EDGE]\n                                             PARTITION_ONLY_SHUFFLE [RS_99]\n                                               Filter Operator [FIL_98] (rows=608741 width=12)\n                                                 predicate:(_col2 <= _col1)\n                                                 Merge Join Operator [MERGEJOIN_291] (rows=1826225 width=12)\n                                                   Conds:(Inner),Output:[\"_col0\",\"_col1\",\"_col2\"]\n                                                 <-Map 9 [CUSTOM_SIMPLE_EDGE] vectorized\n-                                                  PARTITION_ONLY_SHUFFLE [RS_327]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d801e4f838909d80112d7067816a954fb937397"}, "originalPosition": 113}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTczMTcwMg==", "bodyText": "SJ got removed. Is this expected?", "url": "https://github.com/apache/hive/pull/1562#discussion_r511731702", "createdAt": "2020-10-26T05:53:06Z", "author": {"login": "jcamachor"}, "path": "ql/src/test/results/clientpositive/perf/tez/constraints/query92.q.out", "diffHunk": "@@ -164,7 +164,7 @@ Stage-0\n                                     Select Operator [SEL_115] (rows=143966864 width=119)\n                                       Output:[\"_col0\",\"_col1\",\"_col2\"]\n                                       Filter Operator [FIL_113] (rows=143966864 width=119)\n-                                        predicate:(ws_sold_date_sk is not null and ws_item_sk BETWEEN DynamicValue(RS_28_item_i_item_sk_min) AND DynamicValue(RS_28_item_i_item_sk_max) and in_bloom_filter(ws_item_sk, DynamicValue(RS_28_item_i_item_sk_bloom_filter)))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d801e4f838909d80112d7067816a954fb937397"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7deefe3d22117a33bfc5c5fc1e5bd589656bf2c3", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/7deefe3d22117a33bfc5c5fc1e5bd589656bf2c3", "committedDate": "2020-10-26T13:47:05Z", "message": "be more conservative - do full check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f29316e1e09c7d8d85a41e2a7dcd69f4b2ced44d", "author": {"user": {"login": "kgyrtkirk", "name": "Zoltan Haindrich"}}, "url": "https://github.com/apache/hive/commit/f29316e1e09c7d8d85a41e2a7dcd69f4b2ced44d", "committedDate": "2020-10-26T15:23:09Z", "message": "fix typo"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3154, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}