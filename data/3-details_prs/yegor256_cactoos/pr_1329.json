{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxNDQ5ODU4", "number": 1329, "title": "#1325 - Sorted now implements SortedSet.", "bodyText": "PR for #1325\nSorted now implements SortedSet.", "createdAt": "2020-03-20T10:15:02Z", "url": "https://github.com/yegor256/cactoos/pull/1329", "merged": true, "mergeCommit": {"oid": "02038f9a2797eb69fbf6e2f3356245384c53263b"}, "closed": true, "closedAt": "2020-03-29T15:33:25Z", "author": {"login": "vzurauskas"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcPdvalgH2gAyMzkxNDQ5ODU4OjM3ZjI0MDhlYTNkMzk5ODc5Mjc4ZGI5MjY0YjhmNGY0ZWQyYmRjMzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRzvVHgH2gAyMzkxNDQ5ODU4OjQxNWQzNTRjZTI0N2ZkMDU4MjE4YjIyY2E2ODg2YzQ3ZTI5MjhhZmQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "37f2408ea3d399879278db9264b8f4f4ed2bdc39", "author": {"user": {"login": "vzurauskas", "name": null}}, "url": "https://github.com/yegor256/cactoos/commit/37f2408ea3d399879278db9264b8f4f4ed2bdc39", "committedDate": "2020-03-20T10:13:59Z", "message": "#1325 - Sorted now implements SortedSet."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4OTEwOTUz", "url": "https://github.com/yegor256/cactoos/pull/1329#pullrequestreview-378910953", "createdAt": "2020-03-21T11:11:18Z", "commit": {"oid": "37f2408ea3d399879278db9264b8f4f4ed2bdc39"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQxMToxMToxOFrOF5o7mQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQxMToxMzo1MVrOF5o8Qw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk4Mzc2OQ==", "bodyText": "@vzurauskas can you introduce a SortedSetEnvelope (that extends SetEnvelope) responsible of delegating to a wrapped set and have Sorted only responsible of handling the Iterable-based constructor.", "url": "https://github.com/yegor256/cactoos/pull/1329#discussion_r395983769", "createdAt": "2020-03-21T11:11:18Z", "author": {"login": "victornoel"}, "path": "src/main/java/org/cactoos/set/Sorted.java", "diffHunk": "@@ -35,11 +36,14 @@\n  *\n  * @param <T> Set type\n  * @since 1.0.0\n- * @todo #1292:30min This class should also implements SortedSet\n- *  from the java collection framework by delegating to the\n- *  wrapped set. Some tests must be added for it.\n  */\n-public final class Sorted<T> extends SetEnvelope<T> {\n+@SuppressWarnings(\"PMD.OnlyOneConstructorShouldDoInitialization\")\n+public final class Sorted<T> extends SetEnvelope<T> implements SortedSet<T> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37f2408ea3d399879278db9264b8f4f4ed2bdc39"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk4Mzc4OA==", "bodyText": "@vzurauskas this can be removed if you introduce the SortedSetEnvelope as proposer in the other comment", "url": "https://github.com/yegor256/cactoos/pull/1329#discussion_r395983788", "createdAt": "2020-03-21T11:11:37Z", "author": {"login": "victornoel"}, "path": "src/main/java/org/cactoos/set/Sorted.java", "diffHunk": "@@ -35,11 +36,14 @@\n  *\n  * @param <T> Set type\n  * @since 1.0.0\n- * @todo #1292:30min This class should also implements SortedSet\n- *  from the java collection framework by delegating to the\n- *  wrapped set. Some tests must be added for it.\n  */\n-public final class Sorted<T> extends SetEnvelope<T> {\n+@SuppressWarnings(\"PMD.OnlyOneConstructorShouldDoInitialization\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37f2408ea3d399879278db9264b8f4f4ed2bdc39"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk4Mzg5OA==", "bodyText": "@vzurauskas I think you can use directly IsEqual with a new SetOf.", "url": "https://github.com/yegor256/cactoos/pull/1329#discussion_r395983898", "createdAt": "2020-03-21T11:13:16Z", "author": {"login": "victornoel"}, "path": "src/test/java/org/cactoos/set/SortedTest.java", "diffHunk": "@@ -125,4 +125,75 @@ public void mustNotBeEqualToSortedSet() {\n                 ))\n         ).affirm();\n     }\n+\n+    @Test\n+    public void returnsCorrectComparator() {\n+        final Comparator<Integer> comparator = Integer::compareTo;\n+        new Assertion<>(\n+            \"Comparator must be the same\",\n+            new Sorted<>(comparator, 1, 2, 3).comparator(),\n+            new IsEqual<>(comparator)\n+        ).affirm();\n+    }\n+\n+    @Test\n+    public void returnsSubset() {\n+        new Assertion<>(\n+            \"Must return sorted subset\",\n+            new Sorted<>(Integer::compareTo, 3, 6, 1, 9, 3).subSet(3, 9),\n+            new IsIterableContainingInOrder<>(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37f2408ea3d399879278db9264b8f4f4ed2bdc39"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk4MzkzNg==", "bodyText": "@vzurauskas same here, IsEqual with a new SetOf.", "url": "https://github.com/yegor256/cactoos/pull/1329#discussion_r395983936", "createdAt": "2020-03-21T11:13:46Z", "author": {"login": "victornoel"}, "path": "src/test/java/org/cactoos/set/SortedTest.java", "diffHunk": "@@ -125,4 +125,75 @@ public void mustNotBeEqualToSortedSet() {\n                 ))\n         ).affirm();\n     }\n+\n+    @Test\n+    public void returnsCorrectComparator() {\n+        final Comparator<Integer> comparator = Integer::compareTo;\n+        new Assertion<>(\n+            \"Comparator must be the same\",\n+            new Sorted<>(comparator, 1, 2, 3).comparator(),\n+            new IsEqual<>(comparator)\n+        ).affirm();\n+    }\n+\n+    @Test\n+    public void returnsSubset() {\n+        new Assertion<>(\n+            \"Must return sorted subset\",\n+            new Sorted<>(Integer::compareTo, 3, 6, 1, 9, 3).subSet(3, 9),\n+            new IsIterableContainingInOrder<>(\n+                new ListOf<Matcher<? super Integer>>(\n+                    new IsEqual<>(3),\n+                    new IsEqual<>(6)\n+                )\n+            )\n+        ).affirm();\n+    }\n+\n+    @Test\n+    public void returnsHeadset() {\n+        new Assertion<>(\n+            \"Must return sorted headset\",\n+            new Sorted<>(Integer::compareTo, 3, 6, 1, 9, 3).headSet(9),\n+            new IsIterableContainingInOrder<>(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37f2408ea3d399879278db9264b8f4f4ed2bdc39"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk4MzkzOQ==", "bodyText": "@vzurauskas same here, IsEqual with a new SetOf.", "url": "https://github.com/yegor256/cactoos/pull/1329#discussion_r395983939", "createdAt": "2020-03-21T11:13:51Z", "author": {"login": "victornoel"}, "path": "src/test/java/org/cactoos/set/SortedTest.java", "diffHunk": "@@ -125,4 +125,75 @@ public void mustNotBeEqualToSortedSet() {\n                 ))\n         ).affirm();\n     }\n+\n+    @Test\n+    public void returnsCorrectComparator() {\n+        final Comparator<Integer> comparator = Integer::compareTo;\n+        new Assertion<>(\n+            \"Comparator must be the same\",\n+            new Sorted<>(comparator, 1, 2, 3).comparator(),\n+            new IsEqual<>(comparator)\n+        ).affirm();\n+    }\n+\n+    @Test\n+    public void returnsSubset() {\n+        new Assertion<>(\n+            \"Must return sorted subset\",\n+            new Sorted<>(Integer::compareTo, 3, 6, 1, 9, 3).subSet(3, 9),\n+            new IsIterableContainingInOrder<>(\n+                new ListOf<Matcher<? super Integer>>(\n+                    new IsEqual<>(3),\n+                    new IsEqual<>(6)\n+                )\n+            )\n+        ).affirm();\n+    }\n+\n+    @Test\n+    public void returnsHeadset() {\n+        new Assertion<>(\n+            \"Must return sorted headset\",\n+            new Sorted<>(Integer::compareTo, 3, 6, 1, 9, 3).headSet(9),\n+            new IsIterableContainingInOrder<>(\n+                new ListOf<Matcher<? super Integer>>(\n+                    new IsEqual<>(1),\n+                    new IsEqual<>(3),\n+                    new IsEqual<>(6)\n+                )\n+            )\n+        ).affirm();\n+    }\n+\n+    @Test\n+    public void returnsTailset() {\n+        new Assertion<>(\n+            \"Must return sorted tailset\",\n+            new Sorted<>(Integer::compareTo, 3, 6, 1, 9, 3).tailSet(6),\n+            new IsIterableContainingInOrder<>(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37f2408ea3d399879278db9264b8f4f4ed2bdc39"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "415d354ce247fd058218b22ca6886c47e2928afd", "author": {"user": {"login": "vzurauskas", "name": null}}, "url": "https://github.com/yegor256/cactoos/commit/415d354ce247fd058218b22ca6886c47e2928afd", "committedDate": "2020-03-27T16:59:39Z", "message": "#1325 - Introduced SortedSetEnvelope."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 569, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}