{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMjE2Mjc2", "number": 1830, "title": "Clean up hash code calculation", "bodyText": "", "createdAt": "2020-05-04T22:22:03Z", "url": "https://github.com/hapifhir/hapi-fhir/pull/1830", "merged": true, "mergeCommit": {"oid": "dada2179663bc48bb3f4fdab283d9a4b0f538ea7"}, "closed": true, "closedAt": "2020-05-05T15:11:25Z", "author": {"login": "jamesagnew"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceHGs-AH2gAyNDEzMjE2Mjc2OjcxMWVhOGZkMzRhMDZlZTU2ZTE3NjBmYjM3MTg3MjE0MjYyNGMyMjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceVQ4FgFqTQwNTg2NjAyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "711ea8fd34a06ee56e1760fb371872142624c226", "author": {"user": {"login": "jamesagnew", "name": "James Agnew"}}, "url": "https://github.com/hapifhir/hapi-fhir/commit/711ea8fd34a06ee56e1760fb371872142624c226", "committedDate": "2020-05-04T22:20:28Z", "message": "Clean up hash code calculation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c76c3941a509aeec57b80486f9e13e31b2e92d1", "author": {"user": {"login": "jamesagnew", "name": "James Agnew"}}, "url": "https://github.com/hapifhir/hapi-fhir/commit/9c76c3941a509aeec57b80486f9e13e31b2e92d1", "committedDate": "2020-05-05T00:41:57Z", "message": "Test fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f3a5642ef8545be3eef94692c41b727bc0871dd", "author": {"user": {"login": "jamesagnew", "name": "James Agnew"}}, "url": "https://github.com/hapifhir/hapi-fhir/commit/7f3a5642ef8545be3eef94692c41b727bc0871dd", "committedDate": "2020-05-05T09:49:40Z", "message": "Test fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0c3757465e377f39697b5e6b0fb85a1d79ef4a4", "author": {"user": {"login": "jamesagnew", "name": "James Agnew"}}, "url": "https://github.com/hapifhir/hapi-fhir/commit/d0c3757465e377f39697b5e6b0fb85a1d79ef4a4", "committedDate": "2020-05-05T09:59:12Z", "message": "Test fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55ecc0f9c46e165a8ff75b0f798ab11024f25f68", "author": {"user": {"login": "jamesagnew", "name": "James Agnew"}}, "url": "https://github.com/hapifhir/hapi-fhir/commit/55ecc0f9c46e165a8ff75b0f798ab11024f25f68", "committedDate": "2020-05-05T11:13:35Z", "message": "Compile fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6cf9557db464b0cb5af2335ed188f9ef1476a64", "author": {"user": {"login": "jamesagnew", "name": "James Agnew"}}, "url": "https://github.com/hapifhir/hapi-fhir/commit/f6cf9557db464b0cb5af2335ed188f9ef1476a64", "committedDate": "2020-05-05T11:41:05Z", "message": "Test fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1ODY2MDIz", "url": "https://github.com/hapifhir/hapi-fhir/pull/1830#pullrequestreview-405866023", "createdAt": "2020-05-05T14:50:09Z", "commit": {"oid": "f6cf9557db464b0cb5af2335ed188f9ef1476a64"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNDo1MDowOVrOGQtJXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNDo1MDowOVrOGQtJXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE3MDA3OQ==", "bodyText": "Trying to understand this change.  Are you removing transitional code we had in there to bridge the pre-hash installs to the post-hash installs?  Or is this a performance optimization that's no longer possible due to changes in the way hashing works?", "url": "https://github.com/hapifhir/hapi-fhir/pull/1830#discussion_r420170079", "createdAt": "2020-05-05T14:50:09Z", "author": {"login": "fil512"}, "path": "hapi-fhir-jpaserver-model/src/main/java/ca/uhn/fhir/jpa/model/entity/ResourceIndexedSearchParamCoords.java", "diffHunk": "@@ -68,21 +76,14 @@ public ResourceIndexedSearchParamCoords(PartitionSettings thePartitionSettings,\n \t\tsetParamName(theParamName);\n \t\tsetLatitude(theLatitude);\n \t\tsetLongitude(theLongitude);\n+\t\tcalculateHashes();\n \t}\n \n \t@Override\n-\t@PrePersist\n \tpublic void calculateHashes() {\n-\t\tif (myHashIdentity == null && getParamName() != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f6cf9557db464b0cb5af2335ed188f9ef1476a64"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4066, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}