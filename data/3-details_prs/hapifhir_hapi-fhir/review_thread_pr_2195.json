{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2NzA4MzQ4", "number": 2195, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMToyNDo0N1rOE87aIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMToyNDo0N1rOE87aIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyMzIzMzYxOnYy", "diffSide": "RIGHT", "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/term/BaseTermReadSvcImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMToyNDo0N1rOH5Vw9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMTo0ODo1MlrOH5Wgpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg4NzQ3OQ==", "bodyText": "This is going to be going away in HS6 far as I'm aware. I'm pretty sure this setting is controlled on the implementing backends now. e.g. lucene has a max clause count, and ES can set a maximum bucket count. Will need to look into this", "url": "https://github.com/hapifhir/hapi-fhir/pull/2195#discussion_r529887479", "createdAt": "2020-11-24T21:24:47Z", "author": {"login": "tadgh"}, "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/term/BaseTermReadSvcImpl.java", "diffHunk": "@@ -938,12 +946,12 @@ private Boolean expandValueSetHandleIncludeOrExcludeUsingDatabase(IValueSetConce\n \t\t * DM 2019-08-21 - Processing slows after any ValueSets with many codes explicitly identified. This might\n \t\t * be due to the dark arts that is memory management. Will monitor but not do anything about this right now.\n \t\t */\n-\t\tBooleanQuery.setMaxClauseCount(10000);\n+\t\tBooleanQuery.setMaxClauseCount(SearchBuilder.getMaximumPageSize());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96397836bc01360591fd2c347901350b22bab967"}, "originalPosition": 131}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg5OTY4Nw==", "bodyText": "FWIW I don't think that's a huge deal... Affects the speed of valueset pre-expansion for loading loinc, but that is a long process no matter what you do", "url": "https://github.com/hapifhir/hapi-fhir/pull/2195#discussion_r529899687", "createdAt": "2020-11-24T21:48:52Z", "author": {"login": "jamesagnew"}, "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/term/BaseTermReadSvcImpl.java", "diffHunk": "@@ -938,12 +946,12 @@ private Boolean expandValueSetHandleIncludeOrExcludeUsingDatabase(IValueSetConce\n \t\t * DM 2019-08-21 - Processing slows after any ValueSets with many codes explicitly identified. This might\n \t\t * be due to the dark arts that is memory management. Will monitor but not do anything about this right now.\n \t\t */\n-\t\tBooleanQuery.setMaxClauseCount(10000);\n+\t\tBooleanQuery.setMaxClauseCount(SearchBuilder.getMaximumPageSize());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg4NzQ3OQ=="}, "originalCommit": {"oid": "96397836bc01360591fd2c347901350b22bab967"}, "originalPosition": 131}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1741, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}