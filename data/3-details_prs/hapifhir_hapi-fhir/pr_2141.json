{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3ODI0OTg3", "number": 2141, "title": "Enable package installer to load non-Conformance resources", "bodyText": "", "createdAt": "2020-10-21T19:49:47Z", "url": "https://github.com/hapifhir/hapi-fhir/pull/2141", "merged": true, "mergeCommit": {"oid": "fd46d0965fafaf2b6cabb169e53ab8b7c464f099"}, "closed": true, "closedAt": "2020-10-21T22:28:16Z", "author": {"login": "IanMMarshall"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUyzxDgH2gAyNTA3ODI0OTg3Ojc1NjQzMmU2MWFjNjBiM2VlMmUzOTI0YTkyODM4ZjRhMGQ1YjMzNTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdU0Ly2AH2gAyNTA3ODI0OTg3OjExNWIwOWU0ZDRkZDBiYzBiYmMwYTk3NDQ0Zjk4YjI4ZjBiZDA5OTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "756432e61ac60b3ee2e3924a92838f4a0d5b3350", "author": {"user": null}, "url": "https://github.com/hapifhir/hapi-fhir/commit/756432e61ac60b3ee2e3924a92838f4a0d5b3350", "committedDate": "2020-10-21T19:47:31Z", "message": "Enable package installer to load resources other than conformance resources."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0MTUxNjU2", "url": "https://github.com/hapifhir/hapi-fhir/pull/2141#pullrequestreview-514151656", "createdAt": "2020-10-21T20:17:16Z", "commit": {"oid": "756432e61ac60b3ee2e3924a92838f4a0d5b3350"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMDoxNzoxNlrOHmDCag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMDoxNzoxNlrOHmDCag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTY1NzcwNg==", "bodyText": "You should probably deal with the null case here (and maybe also rename that \"my\" variable since it's not a field) - I'm not actually sure what would happen here in the case of something that didn't have a URL or an identifier, but it's probably safe to just not upload it in that case.", "url": "https://github.com/hapifhir/hapi-fhir/pull/2141#discussion_r509657706", "createdAt": "2020-10-21T20:17:16Z", "author": {"login": "jamesagnew"}, "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/packages/PackageInstallerSvcImpl.java", "diffHunk": "@@ -412,6 +419,22 @@ private String extractUniqueUrlFromMetadataResource(IBaseResource resource) {\n \t\treturn (String) asPrimitiveType.getValue();\n \t}\n \n+\tprivate TokenParam extractIdentifierFromOtherResourceTypes(IBaseResource resource) {\n+\t\tFhirTerser terser = myFhirContext.newTerser();\n+\t\tIdentifier myIdentifier = (Identifier) terser.getSingleValueOrNull(resource, \"identifier\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "756432e61ac60b3ee2e3924a92838f4a0d5b3350"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "830ad700898a1076b0d16674b9eba3b92b54bb56", "author": {"user": null}, "url": "https://github.com/hapifhir/hapi-fhir/commit/830ad700898a1076b0d16674b9eba3b92b54bb56", "committedDate": "2020-10-21T20:18:10Z", "message": "Add changelog for package installer enhancement."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "115b09e4d4dd0bc0bbc0a97444f98b28f0bd0996", "author": {"user": null}, "url": "https://github.com/hapifhir/hapi-fhir/commit/115b09e4d4dd0bc0bbc0a97444f98b28f0bd0996", "committedDate": "2020-10-21T21:23:40Z", "message": "Throw exception if any resources in package have no url and no identifier."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3891, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}