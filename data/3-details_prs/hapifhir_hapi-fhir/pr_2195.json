{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2NzA4MzQ4", "number": 2195, "title": "Always apply vs filters correctly", "bodyText": "", "createdAt": "2020-11-24T19:33:49Z", "url": "https://github.com/hapifhir/hapi-fhir/pull/2195", "merged": true, "mergeCommit": {"oid": "fb8658da70ba48abe2b0b64ffa91ef9601a4654c"}, "closed": true, "closedAt": "2020-11-24T23:12:03Z", "author": {"login": "jamesagnew"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfrtnnAH2gAyNTI2NzA4MzQ4OjNjMzhmODUzOGQ1MjczYzk5MjgyZWI0MzIyOTUzODg5ODg2MWNhZWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfw072gFqTUzNzk1NDI2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3c38f8538d5273c99282eb43229538898861caef", "author": {"user": {"login": "jamesagnew", "name": "James Agnew"}}, "url": "https://github.com/hapifhir/hapi-fhir/commit/3c38f8538d5273c99282eb43229538898861caef", "committedDate": "2020-11-24T15:44:38Z", "message": "Always apply valueset filters correctly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cef42e4775e1a86b6db0e1df6b419fcd9f79173", "author": {"user": {"login": "jamesagnew", "name": "James Agnew"}}, "url": "https://github.com/hapifhir/hapi-fhir/commit/8cef42e4775e1a86b6db0e1df6b419fcd9f79173", "committedDate": "2020-11-24T17:55:52Z", "message": "Test fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06e0132f389915ddbe91437ab753d2e8ccd4cec1", "author": {"user": {"login": "jamesagnew", "name": "James Agnew"}}, "url": "https://github.com/hapifhir/hapi-fhir/commit/06e0132f389915ddbe91437ab753d2e8ccd4cec1", "committedDate": "2020-11-24T18:16:09Z", "message": "Testfix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd329a8bdd7ab187a68f64893b4b6de9d94deba5", "author": {"user": {"login": "jamesagnew", "name": "James Agnew"}}, "url": "https://github.com/hapifhir/hapi-fhir/commit/dd329a8bdd7ab187a68f64893b4b6de9d94deba5", "committedDate": "2020-11-24T19:33:18Z", "message": "Test fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96397836bc01360591fd2c347901350b22bab967", "author": {"user": {"login": "jamesagnew", "name": "James Agnew"}}, "url": "https://github.com/hapifhir/hapi-fhir/commit/96397836bc01360591fd2c347901350b22bab967", "committedDate": "2020-11-24T19:36:30Z", "message": "Add changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b12f4fa906826db31a0121bdf9dd0008f62c07e", "author": {"user": {"login": "jamesagnew", "name": "James Agnew"}}, "url": "https://github.com/hapifhir/hapi-fhir/commit/3b12f4fa906826db31a0121bdf9dd0008f62c07e", "committedDate": "2020-11-24T21:29:15Z", "message": "Test fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3OTU0MjY2", "url": "https://github.com/hapifhir/hapi-fhir/pull/2195#pullrequestreview-537954266", "createdAt": "2020-11-24T21:24:47Z", "commit": {"oid": "96397836bc01360591fd2c347901350b22bab967"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMToyNDo0N1rOH5Vw9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMToyNDo0N1rOH5Vw9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg4NzQ3OQ==", "bodyText": "This is going to be going away in HS6 far as I'm aware. I'm pretty sure this setting is controlled on the implementing backends now. e.g. lucene has a max clause count, and ES can set a maximum bucket count. Will need to look into this", "url": "https://github.com/hapifhir/hapi-fhir/pull/2195#discussion_r529887479", "createdAt": "2020-11-24T21:24:47Z", "author": {"login": "tadgh"}, "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/term/BaseTermReadSvcImpl.java", "diffHunk": "@@ -938,12 +946,12 @@ private Boolean expandValueSetHandleIncludeOrExcludeUsingDatabase(IValueSetConce\n \t\t * DM 2019-08-21 - Processing slows after any ValueSets with many codes explicitly identified. This might\n \t\t * be due to the dark arts that is memory management. Will monitor but not do anything about this right now.\n \t\t */\n-\t\tBooleanQuery.setMaxClauseCount(10000);\n+\t\tBooleanQuery.setMaxClauseCount(SearchBuilder.getMaximumPageSize());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96397836bc01360591fd2c347901350b22bab967"}, "originalPosition": 131}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3808, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}