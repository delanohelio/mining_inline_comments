{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxNTIzNDA2", "number": 3423, "title": "[3.2] Feature/Proto Converter", "bodyText": "", "createdAt": "2020-09-07T16:18:46Z", "url": "https://github.com/thingsboard/thingsboard/pull/3423", "merged": true, "mergeCommit": {"oid": "9fef6b02a3a3c94066e41ec10ee3b57da85b6f28"}, "closed": true, "closedAt": "2020-10-02T08:31:28Z", "author": {"login": "ShvaykaD"}, "timelineItems": {"totalCount": 40, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABciigCCAH2gAyNDgxNTIzNDA2OmQxODI2OTIzNjQzODhlMDEwNDI0MjNjMThlOTljNmY0NGU3ZTc3Njg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOhs0oAH2gAyNDgxNTIzNDA2OjE4NDUyNTU5YWY2NmU1OWYyMTEwMzRmZjFhYmZkM2Q2MjZiZjc5NjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d182692364388e01042423c18e99c6f44e7e7768", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/d182692364388e01042423c18e99c6f44e7e7768", "committedDate": "2020-05-18T16:31:16Z", "message": "device post-telemetry & post-attributes & claim"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c68aa16386a165fc45575454efa347e1852d3b8", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/7c68aa16386a165fc45575454efa347e1852d3b8", "committedDate": "2020-05-19T15:08:57Z", "message": "device rpc to/from server & attributes request, attributes updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d6b67f8a06b0518ead55107df9634256b216542", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/5d6b67f8a06b0518ead55107df9634256b216542", "committedDate": "2020-05-20T12:50:37Z", "message": "refactoring & added implementation for gateway protos api"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "965dc1dcb403518e0d761eb280c83defc6b7bd9b", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/965dc1dcb403518e0d761eb280c83defc6b7bd9b", "committedDate": "2020-05-26T09:43:31Z", "message": "added timeseries/attributes mqtt tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6df50ac59fa656fa8263f1e48358062654f3df7b", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/6df50ac59fa656fa8263f1e48358062654f3df7b", "committedDate": "2020-05-26T11:54:40Z", "message": "fix MqttTimseriesIntegrationTest values asserts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1ef1edfe422a9170fa1b14c0f9351a06e8c9758", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/e1ef1edfe422a9170fa1b14c0f9351a06e8c9758", "committedDate": "2020-05-26T14:10:51Z", "message": "mqtt attributes tests improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eedb9aa4052ad4c28cd8ed17b63630b45cac81ae", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/eedb9aa4052ad4c28cd8ed17b63630b45cac81ae", "committedDate": "2020-05-27T08:42:02Z", "message": "optimized time for telemetry & attributes tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a6ac25d90b68a2ab195d32cc1bd988825249772", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/2a6ac25d90b68a2ab195d32cc1bd988825249772", "committedDate": "2020-06-03T19:47:32Z", "message": "update proto files, refactoring converter, attribute requests tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b2d2a63ab2a712ef47f7fa27c4b5f3034f3c5b9", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/4b2d2a63ab2a712ef47f7fa27c4b5f3034f3c5b9", "committedDate": "2020-06-11T16:14:53Z", "message": "added claim tests, attribute request test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ca4b0058c6c3f938ca5d76b96d4a7bd7d8ca060", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/8ca4b0058c6c3f938ca5d76b96d4a7bd7d8ca060", "committedDate": "2020-06-12T12:18:46Z", "message": "added deleted keys to gateway response on attributes request & refactored tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "751dd3cfef4360e4835bbe47fbd3d049a282e6b0", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/751dd3cfef4360e4835bbe47fbd3d049a282e6b0", "committedDate": "2020-06-25T08:54:53Z", "message": "added attribute updates test & refactored attribute requests tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "659863692c758f77574495f358d8dc2f43a2706d", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/659863692c758f77574495f358d8dc2f43a2706d", "committedDate": "2020-06-25T09:43:26Z", "message": "merge with develop/2.5.3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "962adaa4697cf14f538e5859aeb03061bd7e0723", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/962adaa4697cf14f538e5859aeb03061bd7e0723", "committedDate": "2020-07-30T10:59:01Z", "message": "added attribute updates tests for gateways"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "870733683a4fdd0d4761592b6eca0d7dd9f6dc07", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/870733683a4fdd0d4761592b6eca0d7dd9f6dc07", "committedDate": "2020-08-13T14:21:56Z", "message": "merge with develop-2.5.3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "110cc3b76de89aef6e1811248d3524c4207bd5a6", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/110cc3b76de89aef6e1811248d3524c4207bd5a6", "committedDate": "2020-08-18T12:55:36Z", "message": "added tests for RPC"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "150f489e556465108a57561be85f87a0be8b5c90", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/150f489e556465108a57561be85f87a0be8b5c90", "committedDate": "2020-08-26T12:30:24Z", "message": "fix tests & cleanup code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f43b86ddc9164b14323130f3e8aba26f21d40490", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/f43b86ddc9164b14323130f3e8aba26f21d40490", "committedDate": "2020-08-26T12:34:32Z", "message": "Merge branch 'develop/2.5.4' into feature/proto-converter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9becb1203b5ef49932bfd7131ea118ee83251db7", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/9becb1203b5ef49932bfd7131ea118ee83251db7", "committedDate": "2020-08-26T12:49:25Z", "message": "fix typo & cleanup transport.proto file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19b4ef127e422279625c8233cabcc954dfb8e811", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/19b4ef127e422279625c8233cabcc954dfb8e811", "committedDate": "2020-08-26T15:00:24Z", "message": "added more timeouts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e156ad368a92903e0b48313a5080655089eadf3", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/2e156ad368a92903e0b48313a5080655089eadf3", "committedDate": "2020-09-07T08:50:27Z", "message": "Merge branch 'develop/2.5.5' into feature/proto-converter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6a36286b98c38095f6db4c3df3aa0db86109d74", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/d6a36286b98c38095f6db4c3df3aa0db86109d74", "committedDate": "2020-09-07T08:53:43Z", "message": "Merge branch 'develop/2.5.5' into feature/proto-converter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8cdcb1bf84f1a08b56fbde46e040239efd87b62", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/e8cdcb1bf84f1a08b56fbde46e040239efd87b62", "committedDate": "2020-09-07T09:04:28Z", "message": "revert handleGetAttributesRequest method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "feb646cc99ed4256696476c6c21c05d8c6b569d1", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/feb646cc99ed4256696476c6c21c05d8c6b569d1", "committedDate": "2020-09-07T09:19:11Z", "message": "revert package-locks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c3875607fee6f648563f0c986987d64be121d8b", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/0c3875607fee6f648563f0c986987d64be121d8b", "committedDate": "2020-09-07T09:36:16Z", "message": "fix getJsonObjectForGateway method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c52ad0f0f0c878149d63029cb8f1eb38f62f8aa5", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/c52ad0f0f0c878149d63029cb8f1eb38f62f8aa5", "committedDate": "2020-09-07T09:50:13Z", "message": "fix validateSharedResponseGateway method in AbstractMqttAttributesRequestIntegrationTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8ac0036e7306e26b76904fdb05ec9bdb1492898", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/c8ac0036e7306e26b76904fdb05ec9bdb1492898", "committedDate": "2020-09-07T14:36:23Z", "message": "fix mqtt topics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "388ed1f1b693609b2d1429139511e98062d9b703", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/388ed1f1b693609b2d1429139511e98062d9b703", "committedDate": "2020-09-07T16:12:55Z", "message": "merge with 3.2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c4a8dcb2dbfca6f6cf7e1c073c6a79382a52e11", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/8c4a8dcb2dbfca6f6cf7e1c073c6a79382a52e11", "committedDate": "2020-09-27T11:15:32Z", "message": "merge with develop 3.2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bb90a2f323c41bcbc9b825e4499d4b39fd11ba8", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/6bb90a2f323c41bcbc9b825e4499d4b39fd11ba8", "committedDate": "2020-09-27T11:18:21Z", "message": "fix license headers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4576efcdb204f80b3a8f99d5f81a71d7eb7a91e7", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/4576efcdb204f80b3a8f99d5f81a71d7eb7a91e7", "committedDate": "2020-09-29T07:49:21Z", "message": "refactor tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a763bc4122129a560a84a32e588bf84e00e43ea", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/7a763bc4122129a560a84a32e588bf84e00e43ea", "committedDate": "2020-09-29T07:56:55Z", "message": "remove todo and lck files from pull"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d47d29ee39e01f5de3886dcc00b15dfe85a28d6f", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/d47d29ee39e01f5de3886dcc00b15dfe85a28d6f", "committedDate": "2020-09-29T09:30:20Z", "message": "Merge branch 'develop/3.2' of github.com:ShvaykaD/thingsboard into feature/proto-converter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa0aba4bd8ad14ab2d129e60b47e4c85ef3cab83", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/aa0aba4bd8ad14ab2d129e60b47e4c85ef3cab83", "committedDate": "2020-09-30T08:55:28Z", "message": "improvements for claiming tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "511d136bfa1c7f7a54daa0672748c92d7f6d6c1f", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/511d136bfa1c7f7a54daa0672748c92d7f6d6c1f", "committedDate": "2020-09-30T10:58:44Z", "message": "update device creation logic from gateway request"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NTgwMjg5", "url": "https://github.com/thingsboard/thingsboard/pull/3423#pullrequestreview-499580289", "createdAt": "2020-09-30T15:54:44Z", "commit": {"oid": "511d136bfa1c7f7a54daa0672748c92d7f6d6c1f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNTo1NDo0NFrOHakYmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNTo1NDo0NFrOHakYmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzYyMTE0Ng==", "bodyText": "please assign default value.", "url": "https://github.com/thingsboard/thingsboard/pull/3423#discussion_r497621146", "createdAt": "2020-09-30T15:54:44Z", "author": {"login": "ashvayka"}, "path": "common/data/src/main/java/org/thingsboard/server/common/data/device/profile/MqttDeviceProfileTransportConfiguration.java", "diffHunk": "@@ -16,11 +16,14 @@\n package org.thingsboard.server.common.data.device.profile;\n \n import lombok.Data;\n+import org.thingsboard.server.common.data.TransportPayloadType;\n import org.thingsboard.server.common.data.DeviceTransportType;\n \n @Data\n public class MqttDeviceProfileTransportConfiguration implements DeviceProfileTransportConfiguration {\n \n+    private TransportPayloadType transportPayloadType;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "511d136bfa1c7f7a54daa0672748c92d7f6d6c1f"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NTgxODE2", "url": "https://github.com/thingsboard/thingsboard/pull/3423#pullrequestreview-499581816", "createdAt": "2020-09-30T15:56:18Z", "commit": {"oid": "511d136bfa1c7f7a54daa0672748c92d7f6d6c1f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNTo1NjoxOFrOHakdGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNTo1NjoxOFrOHakdGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzYyMjI5Nw==", "bodyText": "This may cause us problems during upgrade (if some data is in the queue). Why not UNKNOWN= something else?", "url": "https://github.com/thingsboard/thingsboard/pull/3423#discussion_r497622297", "createdAt": "2020-09-30T15:56:18Z", "author": {"login": "ashvayka"}, "path": "common/queue/src/main/proto/queue.proto", "diffHunk": "@@ -66,11 +66,12 @@ enum SessionType {\n }\n \n enum KeyValueType {\n-  BOOLEAN_V = 0;\n-  LONG_V = 1;\n-  DOUBLE_V = 2;\n-  STRING_V = 3;\n-  JSON_V = 4;\n+  UNKNOWN = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "511d136bfa1c7f7a54daa0672748c92d7f6d6c1f"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NTgzNTI1", "url": "https://github.com/thingsboard/thingsboard/pull/3423#pullrequestreview-499583525", "createdAt": "2020-09-30T15:58:12Z", "commit": {"oid": "511d136bfa1c7f7a54daa0672748c92d7f6d6c1f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNTo1ODoxMlrOHakiDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNTo1ODoxMlrOHakiDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzYyMzU2Nw==", "bodyText": "var adaptor = deviceSessionCtx.getPayloadAdaptor(). Then you don't need to do a copy-paste all the time.", "url": "https://github.com/thingsboard/thingsboard/pull/3423#discussion_r497623567", "createdAt": "2020-09-30T15:58:12Z", "author": {"login": "ashvayka"}, "path": "common/transport/mqtt/src/main/java/org/thingsboard/server/transport/mqtt/MqttTransportHandler.java", "diffHunk": "@@ -216,22 +243,28 @@ private void handleGatewayPublishMsg(String topicName, int msgId, MqttPublishMes\n     private void processDevicePublish(ChannelHandlerContext ctx, MqttPublishMessage mqttMsg, String topicName, int msgId) {\n         try {\n             if (deviceSessionCtx.isDeviceTelemetryTopic(topicName)) {\n-                TransportProtos.PostTelemetryMsg postTelemetryMsg = adaptor.convertToPostTelemetry(deviceSessionCtx, mqttMsg);\n+                TransportProtos.PostTelemetryMsg postTelemetryMsg = deviceSessionCtx.isJsonPayloadType() ?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "511d136bfa1c7f7a54daa0672748c92d7f6d6c1f"}, "originalPosition": 123}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b76feec9fb1aa0845015dd3c52b7f79b3373dade", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/b76feec9fb1aa0845015dd3c52b7f79b3373dade", "committedDate": "2020-10-01T09:51:45Z", "message": "refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33950ac2a3671b3fc0a584a2672f08c1681aa33d", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/33950ac2a3671b3fc0a584a2672f08c1681aa33d", "committedDate": "2020-10-01T10:10:45Z", "message": "extract TransportService process calls to private methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18452559af66e59f211034ff1abfd3d626bf7966", "author": {"user": {"login": "ShvaykaD", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/18452559af66e59f211034ff1abfd3d626bf7966", "committedDate": "2020-10-02T08:28:00Z", "message": "fix duplicates & removed empty lines"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3272, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}