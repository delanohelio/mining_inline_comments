{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3MjkwOTI3", "number": 3774, "title": "count assets by tenantId improvements, added thermostat rule chain, removed \"Temperature & Humidity Demo Das...", "bodyText": "", "createdAt": "2020-11-25T09:06:05Z", "url": "https://github.com/thingsboard/thingsboard/pull/3774", "merged": true, "mergeCommit": {"oid": "c32a2ac06476aae36c15a8b36fcbae9078d8c14d"}, "closed": true, "closedAt": "2020-11-25T12:32:15Z", "author": {"login": "YevhenBondarenko"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdf6mpwAH2gAyNTI3MjkwOTI3OmNjZTA5ZDUyMzMzZjEwNWYzMDAyZTk2YzQ3NWFlZjQ0YzUxYWRkODQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdf9ehVAH2gAyNTI3MjkwOTI3OjFjMDQyN2M1Yjc4ZTg1NTVkZGExMDI2MzM4MGY5MmYxZmYzNzMyZGI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cce09d52333f105f3002e96c475aef44c51add84", "author": {"user": {"login": "YevhenBondarenko", "name": "Yevhen Bondarenko"}}, "url": "https://github.com/thingsboard/thingsboard/commit/cce09d52333f105f3002e96c475aef44c51add84", "committedDate": "2020-11-25T09:05:36Z", "message": "count assets by tenantId improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b82dfe155036713b35127c153478caafd44cf8c", "author": {"user": {"login": "YevhenBondarenko", "name": "Yevhen Bondarenko"}}, "url": "https://github.com/thingsboard/thingsboard/commit/0b82dfe155036713b35127c153478caafd44cf8c", "committedDate": "2020-11-25T09:44:58Z", "message": "Merge branch 'master' of https://github.com/thingsboard/thingsboard into max-assets-improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92daa8da0cafc5750b9f049c4dfaeda065e5a10f", "author": {"user": {"login": "YevhenBondarenko", "name": "Yevhen Bondarenko"}}, "url": "https://github.com/thingsboard/thingsboard/commit/92daa8da0cafc5750b9f049c4dfaeda065e5a10f", "committedDate": "2020-11-25T09:45:39Z", "message": "added thermostat rule chain, removed \"Temperature & Humidity Demo Dashboard\" & \"Raspberry PI GPIO Demo Dashboard\""}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a5f9af7350ad47d26b917ae50a0f82445d26501", "author": {"user": {"login": "YevhenBondarenko", "name": "Yevhen Bondarenko"}}, "url": "https://github.com/thingsboard/thingsboard/commit/9a5f9af7350ad47d26b917ae50a0f82445d26501", "committedDate": "2020-11-25T10:18:41Z", "message": "improvements asset validation for RE statistics"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4MzUzMDY2", "url": "https://github.com/thingsboard/thingsboard/pull/3774#pullrequestreview-538353066", "createdAt": "2020-11-25T10:26:11Z", "commit": {"oid": "9a5f9af7350ad47d26b917ae50a0f82445d26501"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxMDoyNjoxMVrOH5swxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxMDoyNjoxMVrOH5swxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDI2NDI2Mg==", "bodyText": "why not RuleChain savedRuleChain = installScripts.createDefaultRuleChain(getCurrentUser().getTenantId(), request.getName()); ?", "url": "https://github.com/thingsboard/thingsboard/pull/3774#discussion_r530264262", "createdAt": "2020-11-25T10:26:11Z", "author": {"login": "ashvayka"}, "path": "application/src/main/java/org/thingsboard/server/service/install/InstallScripts.java", "diffHunk": "@@ -212,10 +212,17 @@ public void loadDashboards(TenantId tenantId, CustomerId customerId) throws Exce\n     public void loadDemoRuleChains(TenantId tenantId) throws Exception {\n         Path ruleChainsDir = Paths.get(getDataDir(), JSON_DIR, DEMO_DIR, RULE_CHAINS_DIR);\n         try {\n+            JsonNode thermostatRuleChainJson = objectMapper.readTree(ruleChainsDir.resolve(\"thermostat_rule_chain.json\").toFile());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a5f9af7350ad47d26b917ae50a0f82445d26501"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c0427c5b78e8555dda10263380f92f1ff3732db", "author": {"user": {"login": "YevhenBondarenko", "name": "Yevhen Bondarenko"}}, "url": "https://github.com/thingsboard/thingsboard/commit/1c0427c5b78e8555dda10263380f92f1ff3732db", "committedDate": "2020-11-25T12:26:26Z", "message": "load demo rule chains improvements"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3238, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}