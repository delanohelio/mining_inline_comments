{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxNTc1MTQ1", "number": 3572, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMToyNzowMlrOEs_fpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDozMzozNVrOE4GU1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NjEzMDkzOnYy", "diffSide": "RIGHT", "path": "common/data/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMToyNzowMlrOHgh_JQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMzowODoyOVrOHglyCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg3MzMxNw==", "bodyText": "remove this.", "url": "https://github.com/thingsboard/thingsboard/pull/3572#discussion_r503873317", "createdAt": "2020-10-13T11:27:02Z", "author": {"login": "ashvayka"}, "path": "common/data/pom.xml", "diffHunk": "@@ -71,6 +71,18 @@\n             <artifactId>java-driver-core</artifactId>\n             <scope>test</scope>\n         </dependency>\n+        <dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e85daa81e0d933a3b82142d04f9e17823f2e3387"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzkzNTQ5OA==", "bodyText": "done", "url": "https://github.com/thingsboard/thingsboard/pull/3572#discussion_r503935498", "createdAt": "2020-10-13T13:08:29Z", "author": {"login": "ShvaykaD"}, "path": "common/data/pom.xml", "diffHunk": "@@ -71,6 +71,18 @@\n             <artifactId>java-driver-core</artifactId>\n             <scope>test</scope>\n         </dependency>\n+        <dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg3MzMxNw=="}, "originalCommit": {"oid": "e85daa81e0d933a3b82142d04f9e17823f2e3387"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NjEzNzk0OnYy", "diffSide": "RIGHT", "path": "common/data/src/main/java/org/thingsboard/server/common/data/device/profile/MqttDeviceProfileTransportConfiguration.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMToyODo1OFrOHgiDZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMzowOToyN1rOHgl0kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg3NDQwNA==", "bodyText": "fix this", "url": "https://github.com/thingsboard/thingsboard/pull/3572#discussion_r503874404", "createdAt": "2020-10-13T11:28:58Z", "author": {"login": "ashvayka"}, "path": "common/data/src/main/java/org/thingsboard/server/common/data/device/profile/MqttDeviceProfileTransportConfiguration.java", "diffHunk": "@@ -15,17 +15,33 @@\n  */\n package org.thingsboard.server.common.data.device.profile;\n \n+import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n+import com.fasterxml.jackson.annotation.JsonSubTypes;\n+import com.fasterxml.jackson.annotation.JsonTypeInfo;\n+import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n import lombok.Data;\n+import lombok.extern.slf4j.Slf4j;\n import org.thingsboard.server.common.data.TransportPayloadType;\n import org.thingsboard.server.common.data.DeviceTransportType;\n \n+\n+@Slf4j\n @Data\n-public class MqttDeviceProfileTransportConfiguration implements DeviceProfileTransportConfiguration {\n+@JsonIgnoreProperties(ignoreUnknown = true)\n+@JsonTypeInfo(\n+        use = JsonTypeInfo.Id.NAME,\n+        include = JsonTypeInfo.As.PROPERTY,\n+        property = \"transportPayloadType\")\n+@JsonSubTypes({\n+        @JsonSubTypes.Type(value = MqttJsonDeviceProfileTransportConfiguration.class, name = \"JSON\"),\n+        @JsonSubTypes.Type(value = MqttProtoDeviceProfileTransportConfiguration.class, name = \"PROTOBUF\")})\n+@JsonDeserialize(using = MqttTransportConfigurationDeserializer.class)\n+public abstract class MqttDeviceProfileTransportConfiguration implements DeviceProfileTransportConfiguration {\n \n-    private TransportPayloadType transportPayloadType = TransportPayloadType.JSON;\n+    protected String deviceTelemetryTopic = MqttTopics.DEVICE_TELEMETRY_TOPIC;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e85daa81e0d933a3b82142d04f9e17823f2e3387"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzkzNjE0Nw==", "bodyText": "done", "url": "https://github.com/thingsboard/thingsboard/pull/3572#discussion_r503936147", "createdAt": "2020-10-13T13:09:27Z", "author": {"login": "ShvaykaD"}, "path": "common/data/src/main/java/org/thingsboard/server/common/data/device/profile/MqttDeviceProfileTransportConfiguration.java", "diffHunk": "@@ -15,17 +15,33 @@\n  */\n package org.thingsboard.server.common.data.device.profile;\n \n+import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n+import com.fasterxml.jackson.annotation.JsonSubTypes;\n+import com.fasterxml.jackson.annotation.JsonTypeInfo;\n+import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n import lombok.Data;\n+import lombok.extern.slf4j.Slf4j;\n import org.thingsboard.server.common.data.TransportPayloadType;\n import org.thingsboard.server.common.data.DeviceTransportType;\n \n+\n+@Slf4j\n @Data\n-public class MqttDeviceProfileTransportConfiguration implements DeviceProfileTransportConfiguration {\n+@JsonIgnoreProperties(ignoreUnknown = true)\n+@JsonTypeInfo(\n+        use = JsonTypeInfo.Id.NAME,\n+        include = JsonTypeInfo.As.PROPERTY,\n+        property = \"transportPayloadType\")\n+@JsonSubTypes({\n+        @JsonSubTypes.Type(value = MqttJsonDeviceProfileTransportConfiguration.class, name = \"JSON\"),\n+        @JsonSubTypes.Type(value = MqttProtoDeviceProfileTransportConfiguration.class, name = \"PROTOBUF\")})\n+@JsonDeserialize(using = MqttTransportConfigurationDeserializer.class)\n+public abstract class MqttDeviceProfileTransportConfiguration implements DeviceProfileTransportConfiguration {\n \n-    private TransportPayloadType transportPayloadType = TransportPayloadType.JSON;\n+    protected String deviceTelemetryTopic = MqttTopics.DEVICE_TELEMETRY_TOPIC;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg3NDQwNA=="}, "originalCommit": {"oid": "e85daa81e0d933a3b82142d04f9e17823f2e3387"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2ODYwNTA0OnYy", "diffSide": "RIGHT", "path": "application/src/main/resources/thingsboard.yml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNDowNTozM1rOHxOiCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNDowNTozM1rOHxOiCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTM4MDM2MA==", "bodyText": "PLEASE REVIEW YOUR CHANGES BEFORE SUBMITTING PR", "url": "https://github.com/thingsboard/thingsboard/pull/3572#discussion_r521380360", "createdAt": "2020-11-11T14:05:33Z", "author": {"login": "ashvayka"}, "path": "application/src/main/resources/thingsboard.yml", "diffHunk": "@@ -429,7 +429,7 @@ spring:\n     database-platform: \"${SPRING_JPA_DATABASE_PLATFORM:org.hibernate.dialect.PostgreSQLDialect}\"\n   datasource:\n     driverClassName: \"${SPRING_DRIVER_CLASS_NAME:org.postgresql.Driver}\"\n-    url: \"${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/thingsboard}\"\n+    url: \"${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/thingsboard_ce_3_2}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78c06be350aebd90bfbd1087a22ee726b03c403b"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3MjU1NzA5OnYy", "diffSide": "RIGHT", "path": "application/src/test/java/org/thingsboard/server/mqtt/AbstractMqttIntegrationTest.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDoyNDo1MlrOHx0MEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDo1NjowOVrOHx1YHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk5NzMzMQ==", "bodyText": "Please provide an example that also contains inner object. This will be more useful for the end user (to use as a referene.", "url": "https://github.com/thingsboard/thingsboard/pull/3572#discussion_r521997331", "createdAt": "2020-11-12T10:24:52Z", "author": {"login": "ashvayka"}, "path": "application/src/test/java/org/thingsboard/server/mqtt/AbstractMqttIntegrationTest.java", "diffHunk": "@@ -60,6 +61,30 @@\n \n     private static final AtomicInteger atomicInteger = new AtomicInteger(2);\n \n+    protected static final String DEVICE_TELEMETRY_PROTO_SCHEMA = \"syntax =\\\"proto3\\\";\\n\" +\n+            \"\\n\" +\n+            \"package test;\\n\" +\n+            \"        \\n\" +\n+            \"message PostTelemetry {\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4725ad14514036f773b23670fbce1880a22d8192"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk5Nzc0NQ==", "bodyText": "Same logic should be applied for the \"default\" input in the UI form.", "url": "https://github.com/thingsboard/thingsboard/pull/3572#discussion_r521997745", "createdAt": "2020-11-12T10:25:28Z", "author": {"login": "ashvayka"}, "path": "application/src/test/java/org/thingsboard/server/mqtt/AbstractMqttIntegrationTest.java", "diffHunk": "@@ -60,6 +61,30 @@\n \n     private static final AtomicInteger atomicInteger = new AtomicInteger(2);\n \n+    protected static final String DEVICE_TELEMETRY_PROTO_SCHEMA = \"syntax =\\\"proto3\\\";\\n\" +\n+            \"\\n\" +\n+            \"package test;\\n\" +\n+            \"        \\n\" +\n+            \"message PostTelemetry {\\n\" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk5NzMzMQ=="}, "originalCommit": {"oid": "4725ad14514036f773b23670fbce1880a22d8192"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAxNjc5OQ==", "bodyText": "@ashvayka do you mean that I need to add another test case with an inner object, and also add the placeholder to the UI input, or this should be the default value?", "url": "https://github.com/thingsboard/thingsboard/pull/3572#discussion_r522016799", "createdAt": "2020-11-12T10:56:09Z", "author": {"login": "ShvaykaD"}, "path": "application/src/test/java/org/thingsboard/server/mqtt/AbstractMqttIntegrationTest.java", "diffHunk": "@@ -60,6 +61,30 @@\n \n     private static final AtomicInteger atomicInteger = new AtomicInteger(2);\n \n+    protected static final String DEVICE_TELEMETRY_PROTO_SCHEMA = \"syntax =\\\"proto3\\\";\\n\" +\n+            \"\\n\" +\n+            \"package test;\\n\" +\n+            \"        \\n\" +\n+            \"message PostTelemetry {\\n\" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk5NzMzMQ=="}, "originalCommit": {"oid": "4725ad14514036f773b23670fbce1880a22d8192"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3MjU2NTQ0OnYy", "diffSide": "LEFT", "path": "common/data/src/main/java/org/thingsboard/server/common/data/device/profile/DeviceProfileTransportConfiguration.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDoyNjo1NFrOHx0RJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDoyNjo1NFrOHx0RJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk5ODYzMA==", "bodyText": "Why this was removed?", "url": "https://github.com/thingsboard/thingsboard/pull/3572#discussion_r521998630", "createdAt": "2020-11-12T10:26:54Z", "author": {"login": "ashvayka"}, "path": "common/data/src/main/java/org/thingsboard/server/common/data/device/profile/DeviceProfileTransportConfiguration.java", "diffHunk": "@@ -29,11 +29,10 @@\n         property = \"type\")\n @JsonSubTypes({\n          @JsonSubTypes.Type(value = DefaultDeviceProfileTransportConfiguration.class, name = \"DEFAULT\"),\n-        @JsonSubTypes.Type(value = MqttDeviceProfileTransportConfiguration.class, name = \"MQTT\"),\n+         @JsonSubTypes.Type(value = MqttDeviceProfileTransportConfiguration.class, name = \"MQTT\"),\n          @JsonSubTypes.Type(value = Lwm2mDeviceProfileTransportConfiguration.class, name = \"LWM2M\")})\n public interface DeviceProfileTransportConfiguration {\n \n-    @JsonIgnore", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4725ad14514036f773b23670fbce1880a22d8192"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3MjU4NTExOnYy", "diffSide": "RIGHT", "path": "common/data/src/main/java/org/thingsboard/server/common/data/device/profile/MqttDeviceProfileTransportConfiguration.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDozMTo1MVrOHx0dWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDo1Nzo1NlrOHx1cjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAwMTc1Mw==", "bodyText": "This is completely wrong. You are breaking the main OOP principles.\nYou should have only one MqttDeviceProfileTransportConfiguration (not abstract) that has a field:\nTransportPayloadType\nand one more variable of new TransportPayloadTypeConfiguration interface (JSON or PROTOBUF)\nwith two sub-classes", "url": "https://github.com/thingsboard/thingsboard/pull/3572#discussion_r522001753", "createdAt": "2020-11-12T10:31:51Z", "author": {"login": "ashvayka"}, "path": "common/data/src/main/java/org/thingsboard/server/common/data/device/profile/MqttDeviceProfileTransportConfiguration.java", "diffHunk": "@@ -15,17 +15,30 @@\n  */\n package org.thingsboard.server.common.data.device.profile;\n \n+import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n+import com.fasterxml.jackson.annotation.JsonSubTypes;\n+import com.fasterxml.jackson.annotation.JsonTypeInfo;\n+import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n import lombok.Data;\n import org.thingsboard.server.common.data.TransportPayloadType;\n import org.thingsboard.server.common.data.DeviceTransportType;\n \n+@JsonIgnoreProperties(ignoreUnknown = true)\n+@JsonTypeInfo(\n+        use = JsonTypeInfo.Id.NAME,\n+        include = JsonTypeInfo.As.PROPERTY,\n+        property = \"transportPayloadType\")\n+@JsonSubTypes({\n+        @JsonSubTypes.Type(value = MqttJsonDeviceProfileTransportConfiguration.class, name = \"JSON\"),\n+        @JsonSubTypes.Type(value = MqttProtoDeviceProfileTransportConfiguration.class, name = \"PROTOBUF\")})\n+@JsonDeserialize(using = MqttTransportConfigurationDeserializer.class)\n @Data\n-public class MqttDeviceProfileTransportConfiguration implements DeviceProfileTransportConfiguration {\n+public abstract class MqttDeviceProfileTransportConfiguration implements DeviceProfileTransportConfiguration {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4725ad14514036f773b23670fbce1880a22d8192"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAxNzkzMg==", "bodyText": "Ok. This is clear.", "url": "https://github.com/thingsboard/thingsboard/pull/3572#discussion_r522017932", "createdAt": "2020-11-12T10:57:56Z", "author": {"login": "ShvaykaD"}, "path": "common/data/src/main/java/org/thingsboard/server/common/data/device/profile/MqttDeviceProfileTransportConfiguration.java", "diffHunk": "@@ -15,17 +15,30 @@\n  */\n package org.thingsboard.server.common.data.device.profile;\n \n+import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n+import com.fasterxml.jackson.annotation.JsonSubTypes;\n+import com.fasterxml.jackson.annotation.JsonTypeInfo;\n+import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n import lombok.Data;\n import org.thingsboard.server.common.data.TransportPayloadType;\n import org.thingsboard.server.common.data.DeviceTransportType;\n \n+@JsonIgnoreProperties(ignoreUnknown = true)\n+@JsonTypeInfo(\n+        use = JsonTypeInfo.Id.NAME,\n+        include = JsonTypeInfo.As.PROPERTY,\n+        property = \"transportPayloadType\")\n+@JsonSubTypes({\n+        @JsonSubTypes.Type(value = MqttJsonDeviceProfileTransportConfiguration.class, name = \"JSON\"),\n+        @JsonSubTypes.Type(value = MqttProtoDeviceProfileTransportConfiguration.class, name = \"PROTOBUF\")})\n+@JsonDeserialize(using = MqttTransportConfigurationDeserializer.class)\n @Data\n-public class MqttDeviceProfileTransportConfiguration implements DeviceProfileTransportConfiguration {\n+public abstract class MqttDeviceProfileTransportConfiguration implements DeviceProfileTransportConfiguration {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAwMTc1Mw=="}, "originalCommit": {"oid": "4725ad14514036f773b23670fbce1880a22d8192"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3MjU5MzUxOnYy", "diffSide": "RIGHT", "path": "common/data/src/main/java/org/thingsboard/server/common/data/device/profile/MqttProtoDeviceProfileTransportConfiguration.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDozMzozNVrOHx0iEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDozMzozNVrOHx0iEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAwMjk2Mw==", "bodyText": "All this logic should be in the DeviceProfileService in the validator", "url": "https://github.com/thingsboard/thingsboard/pull/3572#discussion_r522002963", "createdAt": "2020-11-12T10:33:35Z", "author": {"login": "ashvayka"}, "path": "common/data/src/main/java/org/thingsboard/server/common/data/device/profile/MqttProtoDeviceProfileTransportConfiguration.java", "diffHunk": "@@ -0,0 +1,305 @@\n+/**\n+ * Copyright \u00a9 2016-2020 The Thingsboard Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.thingsboard.server.common.data.device.profile;\n+\n+import com.fasterxml.jackson.annotation.JsonTypeName;\n+import com.fasterxml.jackson.databind.JsonDeserializer;\n+import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n+import com.github.os72.protobuf.dynamic.DynamicSchema;\n+import com.github.os72.protobuf.dynamic.EnumDefinition;\n+import com.github.os72.protobuf.dynamic.MessageDefinition;\n+import com.google.protobuf.Descriptors;\n+import com.google.protobuf.DynamicMessage;\n+import com.squareup.wire.Syntax;\n+import com.squareup.wire.schema.Field;\n+import com.squareup.wire.schema.Location;\n+import com.squareup.wire.schema.internal.parser.EnumConstantElement;\n+import com.squareup.wire.schema.internal.parser.EnumElement;\n+import com.squareup.wire.schema.internal.parser.FieldElement;\n+import com.squareup.wire.schema.internal.parser.MessageElement;\n+import com.squareup.wire.schema.internal.parser.OneOfElement;\n+import com.squareup.wire.schema.internal.parser.ProtoFileElement;\n+import com.squareup.wire.schema.internal.parser.ProtoParser;\n+import com.squareup.wire.schema.internal.parser.TypeElement;\n+import lombok.Data;\n+import lombok.EqualsAndHashCode;\n+import lombok.extern.slf4j.Slf4j;\n+import org.thingsboard.server.common.data.TransportPayloadType;\n+\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+\n+@Slf4j\n+@EqualsAndHashCode(callSuper = true)\n+@Data\n+@JsonDeserialize(as = MqttProtoDeviceProfileTransportConfiguration.class)\n+public class MqttProtoDeviceProfileTransportConfiguration extends MqttDeviceProfileTransportConfiguration {\n+\n+    public static final Location LOCATION = new Location(\"\", \"\", -1, -1);\n+    public static final String ATTRIBUTES_PROTO_SCHEMA = \"attributes proto schema\";\n+    public static final String TELEMETRY_PROTO_SCHEMA = \"telemetry proto schema\";\n+\n+    public static String invalidSchemaProvidedMessage(String schemaName) {\n+        return \"[Transport Configuration] invalid \" + schemaName + \" schema provided!\";\n+    }\n+\n+    private String deviceTelemetryProtoSchema;\n+    private String deviceAttributesProtoSchema;\n+\n+    @Override\n+    public TransportPayloadType getTransportPayloadType() {\n+        return TransportPayloadType.PROTOBUF;\n+    }\n+\n+    public void validateTransportProtoSchema(String schema, String schemaName) throws IllegalArgumentException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4725ad14514036f773b23670fbce1880a22d8192"}, "originalPosition": 70}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1334, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}