{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2NjI5ODI1", "number": 2759, "title": "Start tb-postgress and tb-cassandra without root access", "bodyText": "start postgress with 'thingsboard' user (it's possible to remake it so that it'll be started with 'postgres' user)", "createdAt": "2020-05-12T10:21:25Z", "url": "https://github.com/thingsboard/thingsboard/pull/2759", "merged": true, "mergeCommit": {"oid": "559183e9fbd695171d0e3dd0100e78d2ee55519e"}, "closed": true, "closedAt": "2020-06-18T08:32:45Z", "author": {"login": "vzikratyi-tb"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcghkFCAH2gAyNDE2NjI5ODI1OmEyNmRmZWM2ZmFhZmZiNzdiYjA4YWQwNTQzZDE5OWY0Y2JhYjg2ZDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcriv2oAH2gAyNDE2NjI5ODI1OjRhNzk4Y2VhZjQxZTEyMTliZGEwYTQyZDQ2OTFjZjJhYmIyNWY5Yzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a26dfec6faaffb77bb08ad0543d199f4cbab86d4", "author": {"user": {"login": "vzikratyi-tb", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/a26dfec6faaffb77bb08ad0543d199f4cbab86d4", "committedDate": "2020-05-12T10:17:56Z", "message": "start tb-postgres with 'thingsboard' user"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dacb296fc00c012a06ad75a2c64ceac04d170d3", "author": {"user": {"login": "vzikratyi-tb", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/3dacb296fc00c012a06ad75a2c64ceac04d170d3", "committedDate": "2020-05-12T13:18:30Z", "message": "start tb-cassandra with 'cassandra' user"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwMDMyNTUz", "url": "https://github.com/thingsboard/thingsboard/pull/2759#pullrequestreview-410032553", "createdAt": "2020-05-12T13:20:13Z", "commit": {"oid": "3dacb296fc00c012a06ad75a2c64ceac04d170d3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxMzoyMDoxM1rOGUGM5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxMzoyMDoxM1rOGUGM5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzcyNjMwOQ==", "bodyText": "This is done so that start-db.sh could create a link to /var/lib/cassandra", "url": "https://github.com/thingsboard/thingsboard/pull/2759#discussion_r423726309", "createdAt": "2020-05-12T13:20:13Z", "author": {"login": "vzikratyi-tb"}, "path": "msa/tb/docker-cassandra/Dockerfile", "diffHunk": "@@ -49,6 +49,21 @@ ENV DATABASE_ENTITIES_TYPE=cassandra\n \n ENV CASSANDRA_HOST=localhost\n ENV CASSANDRA_PORT=9042\n+ENV CASSANDRA_HOME=/opt/cassandra\n+ENV PATH $CASSANDRA_HOME/bin:$PATH\n+\n+RUN rm -rf /var/lib/cassandra\n+\n+RUN chmod a+w /var/lib", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3dacb296fc00c012a06ad75a2c64ceac04d170d3"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da7960af72cde3f65e13b27aeb7a3fa7bde3013c", "author": {"user": {"login": "volodymyr-babak", "name": "VoBa"}}, "url": "https://github.com/thingsboard/thingsboard/commit/da7960af72cde3f65e13b27aeb7a3fa7bde3013c", "committedDate": "2020-05-13T07:16:10Z", "message": "Merge remote-tracking branch 'origin/master' into tb-no-root-access"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f129e9549ec2e65ebb2fa76d94a68509d99c724c", "author": {"user": {"login": "vzikratyi-tb", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/f129e9549ec2e65ebb2fa76d94a68509d99c724c", "committedDate": "2020-05-13T08:05:50Z", "message": "start tb with 'thingsboard' user"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72063a25019df0a2c3ac67e1eb88eea866ce499a", "author": {"user": {"login": "vzikratyi-tb", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/72063a25019df0a2c3ac67e1eb88eea866ce499a", "committedDate": "2020-05-13T08:06:12Z", "message": "Merge branch 'tb-no-root-access' of https://github.com/vzikratyi-tb/thingsboard into tb-no-root-access"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c3eee66dbbf2b4d7f579b88a8d4e8b3e58087c0", "author": {"user": {"login": "vzikratyi-tb", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/7c3eee66dbbf2b4d7f579b88a8d4e8b3e58087c0", "committedDate": "2020-05-13T10:54:10Z", "message": "start tb-cassandra with 'thingsboard' user (with postgresql server)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12f417b3feb1b6dc454573ad244148f2b692d2ed", "author": {"user": {"login": "vzikratyi-tb", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/12f417b3feb1b6dc454573ad244148f2b692d2ed", "committedDate": "2020-06-15T13:52:47Z", "message": "Merge remote-tracking branch 'upstream/master' into tb-no-root-access"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a8f5f0052862b6b8c7b834b468769360778d4da", "author": {"user": {"login": "vzikratyi-tb", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/4a8f5f0052862b6b8c7b834b468769360778d4da", "committedDate": "2020-06-15T15:09:31Z", "message": "Added instruction for running single Docker containers without root access"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a798ceaf41e1219bda0a42d4691cf2abb25f9c9", "author": {"user": {"login": "vzikratyi-tb", "name": null}}, "url": "https://github.com/thingsboard/thingsboard/commit/4a798ceaf41e1219bda0a42d4691cf2abb25f9c9", "committedDate": "2020-06-15T15:53:52Z", "message": "Dummy commit to rerun TeamCity"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3291, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}