{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3NTYxNjY0", "number": 8653, "title": "CB-8136 Change PlatformResourceController to use environmentCrn", "bodyText": "", "createdAt": "2020-07-28T05:15:12Z", "url": "https://github.com/hortonworks/cloudbreak/pull/8653", "merged": true, "mergeCommit": {"oid": "75d082390433c50d57da9713b4467ac0394ac32a"}, "closed": true, "closedAt": "2020-08-04T07:28:34Z", "author": {"login": "horadla23"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5S_SZgBqjM1OTM0NzA1Njg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7f_B7gBqjM2MTg2MTYyNTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6bdbb578fc7732a537f0a2c2d69658bd4f25c701", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/6bdbb578fc7732a537f0a2c2d69658bd4f25c701", "committedDate": "2020-07-28T05:14:20Z", "message": "Revert \"Revert \"CB-7777 PlatformResources should authorized on environment (#8632)\"\"\n\nThis reverts commit d789568322a31031046e7c5542e59b66ff2daa2b."}, "afterCommit": {"oid": "583ff8cd3b648e8f9d65ed1bd2d25cece8a05920", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/583ff8cd3b648e8f9d65ed1bd2d25cece8a05920", "committedDate": "2020-07-28T09:26:50Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "583ff8cd3b648e8f9d65ed1bd2d25cece8a05920", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/583ff8cd3b648e8f9d65ed1bd2d25cece8a05920", "committedDate": "2020-07-28T09:26:50Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}, "afterCommit": {"oid": "66e337db645f5e19300d56a0663426afc167d230", "author": {"user": {"login": "doktoric", "name": "Richard Doktorics"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/66e337db645f5e19300d56a0663426afc167d230", "committedDate": "2020-07-28T13:29:26Z", "message": "Merge pull request #8516 from hortonworks/CB-7826\n\nCB-7826 - Improve CB repository readme with Contribution pipeline"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "66e337db645f5e19300d56a0663426afc167d230", "author": {"user": {"login": "doktoric", "name": "Richard Doktorics"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/66e337db645f5e19300d56a0663426afc167d230", "committedDate": "2020-07-28T13:29:26Z", "message": "Merge pull request #8516 from hortonworks/CB-7826\n\nCB-7826 - Improve CB repository readme with Contribution pipeline"}, "afterCommit": {"oid": "00d6647b8ebc3d0862ed90f90e136aa122d8eec9", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/00d6647b8ebc3d0862ed90f90e136aa122d8eec9", "committedDate": "2020-07-28T13:44:24Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "00d6647b8ebc3d0862ed90f90e136aa122d8eec9", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/00d6647b8ebc3d0862ed90f90e136aa122d8eec9", "committedDate": "2020-07-28T13:44:24Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}, "afterCommit": {"oid": "8c8cd6562d172282b6a778c33c62271e77a5cf7c", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/8c8cd6562d172282b6a778c33c62271e77a5cf7c", "committedDate": "2020-07-28T14:29:04Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8c8cd6562d172282b6a778c33c62271e77a5cf7c", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/8c8cd6562d172282b6a778c33c62271e77a5cf7c", "committedDate": "2020-07-28T14:29:04Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}, "afterCommit": {"oid": "8be9cd36ff47d19d225fdd461c5b817a88435804", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/8be9cd36ff47d19d225fdd461c5b817a88435804", "committedDate": "2020-07-31T06:15:09Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8be9cd36ff47d19d225fdd461c5b817a88435804", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/8be9cd36ff47d19d225fdd461c5b817a88435804", "committedDate": "2020-07-31T06:15:09Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}, "afterCommit": {"oid": "4e8f8f3a0577bc0fe74fafb394059c52147d1007", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/4e8f8f3a0577bc0fe74fafb394059c52147d1007", "committedDate": "2020-08-03T10:34:10Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5OTUwNjAy", "url": "https://github.com/hortonworks/cloudbreak/pull/8653#pullrequestreview-459950602", "createdAt": "2020-08-03T11:26:20Z", "commit": {"oid": "4e8f8f3a0577bc0fe74fafb394059c52147d1007"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxMToyNjoyMFrOG615Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxMToyNjoyMFrOG615Eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDM1MzU1NA==", "bodyText": "Aren't these (region, platformVariant, availabilityZone) redundant from environment perspective?", "url": "https://github.com/hortonworks/cloudbreak/pull/8653#discussion_r464353554", "createdAt": "2020-08-03T11:26:20Z", "author": {"login": "lnardai"}, "path": "environment-api/src/main/java/com/sequenceiq/environment/api/v1/platformresource/EnvironmentPlatformResourceEndpoint.java", "diffHunk": "@@ -0,0 +1,163 @@\n+package com.sequenceiq.environment.api.v1.platformresource;\n+\n+import static com.sequenceiq.environment.api.doc.ModelDescriptions.CONNECTOR_NOTES;\n+\n+import javax.validation.constraints.NotEmpty;\n+import javax.ws.rs.Consumes;\n+import javax.ws.rs.DefaultValue;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.QueryParam;\n+import javax.ws.rs.core.MediaType;\n+\n+import com.sequenceiq.cloudbreak.jerseyclient.RetryAndMetrics;\n+import com.sequenceiq.common.api.type.CdpResourceType;\n+import com.sequenceiq.environment.api.v1.platformresource.PlatformResourceModelDescription.OpEnvDescription;\n+import com.sequenceiq.environment.api.v1.platformresource.model.AccessConfigTypeQueryParam;\n+import com.sequenceiq.environment.api.v1.platformresource.model.PlatformAccessConfigsResponse;\n+import com.sequenceiq.environment.api.v1.platformresource.model.PlatformEncryptionKeysResponse;\n+import com.sequenceiq.environment.api.v1.platformresource.model.PlatformGatewaysResponse;\n+import com.sequenceiq.environment.api.v1.platformresource.model.PlatformIpPoolsResponse;\n+import com.sequenceiq.environment.api.v1.platformresource.model.PlatformNetworksResponse;\n+import com.sequenceiq.environment.api.v1.platformresource.model.PlatformNoSqlTablesResponse;\n+import com.sequenceiq.environment.api.v1.platformresource.model.PlatformResourceGroupsResponse;\n+import com.sequenceiq.environment.api.v1.platformresource.model.PlatformSecurityGroupsResponse;\n+import com.sequenceiq.environment.api.v1.platformresource.model.PlatformSshKeysResponse;\n+import com.sequenceiq.environment.api.v1.platformresource.model.PlatformVmtypesResponse;\n+import com.sequenceiq.environment.api.v1.platformresource.model.RegionResponse;\n+\n+import io.swagger.annotations.Api;\n+import io.swagger.annotations.ApiOperation;\n+\n+@RetryAndMetrics\n+@Path(\"/v1/env/platform_resources\")\n+@Consumes(MediaType.APPLICATION_JSON)\n+@Api(value = \"/v1/env/platform_resources\", description = PlatformResourceModelDescription.CONNECTOR_V1_DESCRIPTION, protocols = \"http,https\",\n+        consumes = MediaType.APPLICATION_JSON)\n+public interface EnvironmentPlatformResourceEndpoint {\n+\n+    @GET\n+    @Path(\"machine_types\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    @ApiOperation(value = OpEnvDescription.GET_VMTYPES_BY_CREDENTIAL, produces = MediaType.APPLICATION_JSON, notes = CONNECTOR_NOTES,\n+            nickname = \"getVmTypesByCredentialByEnv\")\n+    PlatformVmtypesResponse getVmTypesByCredential(\n+            @QueryParam(\"environmentCrn\") @NotEmpty String environmentCrn,\n+            @QueryParam(\"region\") String region,\n+            @QueryParam(\"platformVariant\") String platformVariant,\n+            @QueryParam(\"availabilityZone\") String availabilityZone,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4e8f8f3a0577bc0fe74fafb394059c52147d1007"}, "originalPosition": 49}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5OTUxMzA4", "url": "https://github.com/hortonworks/cloudbreak/pull/8653#pullrequestreview-459951308", "createdAt": "2020-08-03T11:27:40Z", "commit": {"oid": "4e8f8f3a0577bc0fe74fafb394059c52147d1007"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4e8f8f3a0577bc0fe74fafb394059c52147d1007", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/4e8f8f3a0577bc0fe74fafb394059c52147d1007", "committedDate": "2020-08-03T10:34:10Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}, "afterCommit": {"oid": "6cd6ba1864f4639b31c2b9850b963bf1233223ee", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/6cd6ba1864f4639b31c2b9850b963bf1233223ee", "committedDate": "2020-08-03T12:12:06Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6cd6ba1864f4639b31c2b9850b963bf1233223ee", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/6cd6ba1864f4639b31c2b9850b963bf1233223ee", "committedDate": "2020-08-03T12:12:06Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}, "afterCommit": {"oid": "4dd85b710f8da646442cec9df65d301f364af0b1", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/4dd85b710f8da646442cec9df65d301f364af0b1", "committedDate": "2020-08-03T14:57:06Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4dd85b710f8da646442cec9df65d301f364af0b1", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/4dd85b710f8da646442cec9df65d301f364af0b1", "committedDate": "2020-08-03T14:57:06Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}, "afterCommit": {"oid": "c74e81b85f2b6587e179c1f8a09c1078ed1ac199", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/c74e81b85f2b6587e179c1f8a09c1078ed1ac199", "committedDate": "2020-08-03T15:31:44Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c74e81b85f2b6587e179c1f8a09c1078ed1ac199", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/c74e81b85f2b6587e179c1f8a09c1078ed1ac199", "committedDate": "2020-08-03T15:31:44Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}, "afterCommit": {"oid": "7356b7e807a4195337d7c24c94017150669d25a6", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/7356b7e807a4195337d7c24c94017150669d25a6", "committedDate": "2020-08-03T15:46:47Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7356b7e807a4195337d7c24c94017150669d25a6", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/7356b7e807a4195337d7c24c94017150669d25a6", "committedDate": "2020-08-03T15:46:47Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}, "afterCommit": {"oid": "5fb76da24fb07cc85aa706422dc2130dd921e77c", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/5fb76da24fb07cc85aa706422dc2130dd921e77c", "committedDate": "2020-08-03T16:01:34Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5fb76da24fb07cc85aa706422dc2130dd921e77c", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/5fb76da24fb07cc85aa706422dc2130dd921e77c", "committedDate": "2020-08-03T16:01:34Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}, "afterCommit": {"oid": "b8413a590058c36dc7c8cf0b4b9e60a599be4615", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/b8413a590058c36dc7c8cf0b4b9e60a599be4615", "committedDate": "2020-08-04T04:56:57Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "420c77a1ea98e20da03a6b7c9a3afd80a0b56440", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/420c77a1ea98e20da03a6b7c9a3afd80a0b56440", "committedDate": "2020-08-04T05:43:09Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b8413a590058c36dc7c8cf0b4b9e60a599be4615", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/b8413a590058c36dc7c8cf0b4b9e60a599be4615", "committedDate": "2020-08-04T04:56:57Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}, "afterCommit": {"oid": "420c77a1ea98e20da03a6b7c9a3afd80a0b56440", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/420c77a1ea98e20da03a6b7c9a3afd80a0b56440", "committedDate": "2020-08-04T05:43:09Z", "message": "CB-8136 Change PlatformResourceController to use environmentCrn"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2502, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}