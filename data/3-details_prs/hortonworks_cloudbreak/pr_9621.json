{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1NzY1NzEw", "number": 9621, "title": "CB-9462 [E2E] Enable Private Link creation in CB E2E test", "bodyText": "This commit enabled to test postgres via private endpoint on azure as well. It can be turned on for AWS and AZURE via environment variable 'integrationtest.privateendpoint.enabled'. For other platforms it is disabled for now.\nFor AZURE it also needs to be used together with single rg option. If it is a multiple rg deployment, then private endpoints are automatically turned off in int-test.\nSee detailed description in the commit message.", "createdAt": "2020-12-10T08:48:35Z", "url": "https://github.com/hortonworks/cloudbreak/pull/9621", "merged": true, "mergeCommit": {"oid": "3779c7369de6dd7f36a4f901b0f412492a0a0eda"}, "closed": true, "closedAt": "2020-12-12T08:56:46Z", "author": {"login": "gergopapi2"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkxMI7gFqTU0OTA3NjI1OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdlONPbABqjQxMDIyOTgwNjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MDc2MjU5", "url": "https://github.com/hortonworks/cloudbreak/pull/9621#pullrequestreview-549076259", "createdAt": "2020-12-10T10:53:54Z", "commit": {"oid": "97bdde50b370e91ce2a6a4c317c8e1ca95e20b28"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDo1Mzo1NFrOIDDStw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDo1Njo0N1rOIDDaWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA3MDU4Mw==", "bodyText": "Usually we extends GherkinTest at this level of the project. If you do not judge, this is not worth it, we can leave this at it is.", "url": "https://github.com/hortonworks/cloudbreak/pull/9621#discussion_r540070583", "createdAt": "2020-12-10T10:53:54Z", "author": {"login": "aszegedi"}, "path": "integration-test/src/main/java/com/sequenceiq/it/cloudbreak/PrivateEndpointTest.java", "diffHunk": "@@ -0,0 +1,13 @@\n+package com.sequenceiq.it.cloudbreak;\n+\n+public class PrivateEndpointTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97bdde50b370e91ce2a6a4c317c8e1ca95e20b28"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA3MDcxOA==", "bodyText": "Usually we extends GherkinTest at this level of the project. If you do not judge, this is not worth it, we can leave this at it is.", "url": "https://github.com/hortonworks/cloudbreak/pull/9621#discussion_r540070718", "createdAt": "2020-12-10T10:54:06Z", "author": {"login": "aszegedi"}, "path": "integration-test/src/main/java/com/sequenceiq/it/cloudbreak/ResourceGroupTest.java", "diffHunk": "@@ -5,10 +5,17 @@\n \n     public static final String AZURE_RESOURCE_GROUP_USAGE_SINGLE = \"SINGLE\";\n \n+    public static final String AZURE_RESOURCE_GROUP_USAGE_SINGLE_DEDICATED = \"SINGLE_WITH_DEDICATED_STORAGE_ACCOUNT\";\n+\n     public static final String AZURE_RESOURCE_GROUP_USAGE_MULTIPLE = \"MULTIPLE\";\n \n     public static final String AZURE_RESOURCE_GROUP_NAME = \"AZURE_RESOURCE_GROUP_NAME\";\n \n     private ResourceGroupTest() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97bdde50b370e91ce2a6a4c317c8e1ca95e20b28"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA3MjUzNg==", "bodyText": "If privateEndpoint won't contain any further parameters, you can set this directly:\nprivateEndpoint: false", "url": "https://github.com/hortonworks/cloudbreak/pull/9621#discussion_r540072536", "createdAt": "2020-12-10T10:56:47Z", "author": {"login": "aszegedi"}, "path": "integration-test/src/main/resources/application.yml", "diffHunk": "@@ -69,6 +69,8 @@ integrationtest:\n   upgrade:\n     currentRuntimeVersion: 7.2.0\n     targetRuntimeVersion: 7.2.6\n+  privateendpoint:\n+    enabled: false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97bdde50b370e91ce2a6a4c317c8e1ca95e20b28"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5OTg5Mzk2", "url": "https://github.com/hortonworks/cloudbreak/pull/9621#pullrequestreview-549989396", "createdAt": "2020-12-11T10:45:57Z", "commit": {"oid": "97bdde50b370e91ce2a6a4c317c8e1ca95e20b28"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad811abff7ab214a5ab99e3dcff20fab4b04b6d0", "author": {"user": {"login": "gergopapi2", "name": "Gergely Papp"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/ad811abff7ab214a5ab99e3dcff20fab4b04b6d0", "committedDate": "2020-12-11T20:44:42Z", "message": "CB-9462 [E2E] Enable Private Link creation in CB E2E test\n\nThis commit enabled to test postgres via private endpoint on azure as well. It can be turned on for AWS and AZURE via environment variable 'integrationtest.privateendpoint.enabled'. For other platforms it is disabled for now.\n\nFor AZURE it also needs to be used together with single rg option. If it is a multiple rg deployment, then private endpoints are automatically turned off in int-test."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "97bdde50b370e91ce2a6a4c317c8e1ca95e20b28", "author": {"user": {"login": "gergopapi2", "name": "Gergely Papp"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/97bdde50b370e91ce2a6a4c317c8e1ca95e20b28", "committedDate": "2020-12-10T08:47:19Z", "message": "CB-9462 [E2E] Enable Private Link creation in CB E2E test\n\nThis commit enabled to test postgres via private endpoint on azure as well. It can be turned on for AWS and AZURE via environment variable 'integrationtest.privateendpoint.enabled'. For other platforms it is disabled for now.\n\nFor AZURE it also needs to be used together with single rg option. If it is a multiple rg deployment, then private endpoints are automatically turned off in int-test."}, "afterCommit": {"oid": "ad811abff7ab214a5ab99e3dcff20fab4b04b6d0", "author": {"user": {"login": "gergopapi2", "name": "Gergely Papp"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/ad811abff7ab214a5ab99e3dcff20fab4b04b6d0", "committedDate": "2020-12-11T20:44:42Z", "message": "CB-9462 [E2E] Enable Private Link creation in CB E2E test\n\nThis commit enabled to test postgres via private endpoint on azure as well. It can be turned on for AWS and AZURE via environment variable 'integrationtest.privateendpoint.enabled'. For other platforms it is disabled for now.\n\nFor AZURE it also needs to be used together with single rg option. If it is a multiple rg deployment, then private endpoints are automatically turned off in int-test."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1968, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}