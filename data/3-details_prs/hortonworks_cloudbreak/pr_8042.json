{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3NjI3NTI2", "number": 8042, "title": "CB-6577 - [ASRG] Propagate new RG to other network/image/RDS", "bodyText": "Contains fixes:\n\nCB-6577\nCB-7038", "createdAt": "2020-05-13T21:39:29Z", "url": "https://github.com/hortonworks/cloudbreak/pull/8042", "merged": true, "mergeCommit": {"oid": "dbb1632a3fa212304a7aad19ddeea8b9849b7b14"}, "closed": true, "closedAt": "2020-05-15T20:54:47Z", "author": {"login": "pdarvasi"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchKmNTABqjMzMzU4NDcwNDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchoW9mAFqTQxMjk1NjcxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a05ca0daf8054202614dbceee73a1d00082fa3d7", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/a05ca0daf8054202614dbceee73a1d00082fa3d7", "committedDate": "2020-05-13T21:38:29Z", "message": "CB-6577 - [ASRG] Propagate new RG to other network/image/RDS"}, "afterCommit": {"oid": "381841496947201adcb629ab5e29d0519033a9de", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/381841496947201adcb629ab5e29d0519033a9de", "committedDate": "2020-05-14T08:43:34Z", "message": "CB-6577 - [ASRG] Propagate new RG to other network/image/RDS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExODc5NzE3", "url": "https://github.com/hortonworks/cloudbreak/pull/8042#pullrequestreview-411879717", "createdAt": "2020-05-14T14:45:55Z", "commit": {"oid": "381841496947201adcb629ab5e29d0519033a9de"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDo0NTo1NVrOGVfzKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNToyNjoyMFrOGVhrbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE5NDI4Mw==", "bodyText": "Newline only", "url": "https://github.com/hortonworks/cloudbreak/pull/8042#discussion_r425194283", "createdAt": "2020-05-14T14:45:55Z", "author": {"login": "gergopapi2"}, "path": "cloud-api/src/main/java/com/sequenceiq/cloudbreak/cloud/model/network/NetworkSubnetRequest.java", "diffHunk": "@@ -1,6 +1,7 @@\n package com.sequenceiq.cloudbreak.cloud.model.network;\n \n public class NetworkSubnetRequest {\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "381841496947201adcb629ab5e29d0519033a9de"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTIyNTA3MA==", "bodyText": "I think this and the below line can be deleted.", "url": "https://github.com/hortonworks/cloudbreak/pull/8042#discussion_r425225070", "createdAt": "2020-05-14T15:26:20Z", "author": {"login": "gergopapi2"}, "path": "cloud-azure/src/main/java/com/sequenceiq/cloudbreak/cloud/azure/AzureStorage.java", "diffHunk": "@@ -148,17 +143,34 @@ private String buildStorageName(ArmAttachedStorageOption armAttachedStorageOptio\n         return result;\n     }\n \n-    private String getPersistentStorageName(String persistentStorageName, AzureCredentialView acv, String region) {\n-        String subscriptionIdPart = acv.getSubscriptionId().replaceAll(\"-\", \"\").toLowerCase();\n+    private String getPersistentStorageName(String prefix, AzureCredentialView acv, String region, String resourceGroup) {\n+        String subscriptionIdPart = encodeString(acv.getSubscriptionId().replaceAll(\"-\", \"\").toLowerCase());\n         String regionInitials = WordUtils.initials(Region.findByLabelOrName(region).label(), ' ').toLowerCase();\n-        String result = String.format(\"%s%s%s\", persistentStorageName, regionInitials, subscriptionIdPart);\n+        String resourceGroupPart = encodeString(resourceGroup);\n+        String result = String.format(\"%s%s%s%s\", prefix, regionInitials, subscriptionIdPart, resourceGroupPart);\n         if (result.length() > MAX_LENGTH_OF_RESOURCE_NAME) {\n             result = result.substring(0, MAX_LENGTH_OF_RESOURCE_NAME);\n         }\n         LOGGER.debug(\"Storage account name: {}\", result);\n+        String message = \"Welcome to Tutorialspoint.com\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "381841496947201adcb629ab5e29d0519033a9de"}, "originalPosition": 84}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f304e0bde723287aee26aa9a51e8db92ecf415e3", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/f304e0bde723287aee26aa9a51e8db92ecf415e3", "committedDate": "2020-05-14T20:10:08Z", "message": "CB-6577 - [ASRG] Propagate new RG to other network/image/RDS"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "381841496947201adcb629ab5e29d0519033a9de", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/381841496947201adcb629ab5e29d0519033a9de", "committedDate": "2020-05-14T08:43:34Z", "message": "CB-6577 - [ASRG] Propagate new RG to other network/image/RDS"}, "afterCommit": {"oid": "f304e0bde723287aee26aa9a51e8db92ecf415e3", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/f304e0bde723287aee26aa9a51e8db92ecf415e3", "committedDate": "2020-05-14T20:10:08Z", "message": "CB-6577 - [ASRG] Propagate new RG to other network/image/RDS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyNDQ0NzA5", "url": "https://github.com/hortonworks/cloudbreak/pull/8042#pullrequestreview-412444709", "createdAt": "2020-05-15T08:24:13Z", "commit": {"oid": "f304e0bde723287aee26aa9a51e8db92ecf415e3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyOTU2NzEw", "url": "https://github.com/hortonworks/cloudbreak/pull/8042#pullrequestreview-412956710", "createdAt": "2020-05-15T20:46:52Z", "commit": {"oid": "f304e0bde723287aee26aa9a51e8db92ecf415e3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2215, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}