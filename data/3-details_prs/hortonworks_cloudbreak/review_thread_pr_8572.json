{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwMTIzODQy", "number": 8572, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxMTo1Mzo0OVrOEPGKXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxMTo1NjoxNlrOEPGNgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0MjY1MDUzOnYy", "diffSide": "RIGHT", "path": "authorization-common/src/main/resources/actions.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxMTo1Mzo0OVrOGynjRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxMTo1Mzo0OVrOGynjRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTcyOTk5MQ==", "bodyText": "please rebase this to latest master and pls remove actionType field", "url": "https://github.com/hortonworks/cloudbreak/pull/8572#discussion_r455729991", "createdAt": "2020-07-16T11:53:49Z", "author": {"login": "horadla23"}, "path": "authorization-common/src/main/resources/actions.json", "diffHunk": "@@ -77,6 +77,12 @@\n     \"actionType\": \"RESOURCE_DEPENDENT\",\n     \"legacyRight\": \"environments/read\"\n   },\n+  \"ENVIRONMENT_CREATE_DATAHUB\": {\n+    \"right\": \"environments/createDatahub\",\n+    \"resourceType\": \"ENVIRONMENT\",\n+    \"actionType\": \"RESOURCE_DEPENDENT\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4be46104aec272a61d4dbd5a7b5c5fdd83e4349a"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0MjY1ODU3OnYy", "diffSide": "RIGHT", "path": "core-api/src/main/java/com/sequenceiq/distrox/api/v1/distrox/model/DistroXV1Request.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxMTo1NjoxNlrOGynoTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxMTo1NjoxNlrOGynoTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTczMTI3OA==", "bodyText": "looks good, but later we'll might have issue with this, if someone add @CheckPermissionByResourceObject for example for a getDistrox method, then it will check for create_datahub also during getDistrox, but i know it is a gap in authz framework.\nI also would be happier, if we have different request object for distrox creation, but I know it is a design issue regarding API models.", "url": "https://github.com/hortonworks/cloudbreak/pull/8572#discussion_r455731278", "createdAt": "2020-07-16T11:56:16Z", "author": {"login": "horadla23"}, "path": "core-api/src/main/java/com/sequenceiq/distrox/api/v1/distrox/model/DistroXV1Request.java", "diffHunk": "@@ -26,6 +29,7 @@\n @JsonInclude(Include.NON_NULL)\n public class DistroXV1Request extends DistroXV1Base implements TaggableRequest {\n \n+    @ResourceObjectField(action = AuthorizationResourceAction.ENVIRONMENT_CREATE_DATAHUB, variableType = AuthorizationVariableType.NAME)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4be46104aec272a61d4dbd5a7b5c5fdd83e4349a"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3046, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}