{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxMTE1MzU0", "number": 8236, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNzoxODo0N1rOEE9T3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNzoxOTo0NFrOEE9Uvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjM0MjcxOnYy", "diffSide": "RIGHT", "path": "redbeams/src/main/java/com/sequenceiq/redbeams/service/dbconfig/DatabaseConfigService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNzoxODo0N1rOGi5ruQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNzoxODo0N1rOGi5ruQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI0OTg0OQ==", "bodyText": "Can you get just the crn from the database?", "url": "https://github.com/hortonworks/cloudbreak/pull/8236#discussion_r439249849", "createdAt": "2020-06-12T07:18:47Z", "author": {"login": "foldik"}, "path": "redbeams/src/main/java/com/sequenceiq/redbeams/service/dbconfig/DatabaseConfigService.java", "diffHunk": "@@ -271,4 +280,25 @@ public Long getResourceIdByResourceCrn(String resourceCrn) {\n     public Long getResourceIdByResourceName(String resourceName) {\n         return getByName(resourceName).getId();\n     }\n+\n+    @Override\n+    public AuthorizationResourceType getResourceType() {\n+        return AuthorizationResourceType.DATABASE;\n+    }\n+\n+    @Override\n+    public String getResourceCrnByResourceName(String resourceName) {\n+        return getByName(resourceName).getResourceCrn().toString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b4cbdd13fd11efd7b7fc0137f27af3fa47c4ba3"}, "originalPosition": 102}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjM0MzU0OnYy", "diffSide": "RIGHT", "path": "redbeams/src/main/java/com/sequenceiq/redbeams/service/dbconfig/DatabaseConfigService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNzoxOTowOVrOGi5sQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNzoxOTowOVrOGi5sQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI0OTk4Nw==", "bodyText": "Can you get just the crns from the database?", "url": "https://github.com/hortonworks/cloudbreak/pull/8236#discussion_r439249987", "createdAt": "2020-06-12T07:19:09Z", "author": {"login": "foldik"}, "path": "redbeams/src/main/java/com/sequenceiq/redbeams/service/dbconfig/DatabaseConfigService.java", "diffHunk": "@@ -271,4 +280,25 @@ public Long getResourceIdByResourceCrn(String resourceCrn) {\n     public Long getResourceIdByResourceName(String resourceName) {\n         return getByName(resourceName).getId();\n     }\n+\n+    @Override\n+    public AuthorizationResourceType getResourceType() {\n+        return AuthorizationResourceType.DATABASE;\n+    }\n+\n+    @Override\n+    public String getResourceCrnByResourceName(String resourceName) {\n+        return getByName(resourceName).getResourceCrn().toString();\n+    }\n+\n+    @Override\n+    public List<String> getResourceCrnListByResourceNameList(List<String> resourceNames) {\n+        return repository.findByNameIn(resourceNames).stream()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b4cbdd13fd11efd7b7fc0137f27af3fa47c4ba3"}, "originalPosition": 107}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjM0NDYyOnYy", "diffSide": "RIGHT", "path": "redbeams/src/main/java/com/sequenceiq/redbeams/service/dbserverconfig/DatabaseServerConfigService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNzoxOTozM1rOGi5s9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNzoxOTozM1rOGi5s9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI1MDE2Nw==", "bodyText": "Can you get just the crn from the database?", "url": "https://github.com/hortonworks/cloudbreak/pull/8236#discussion_r439250167", "createdAt": "2020-06-12T07:19:33Z", "author": {"login": "foldik"}, "path": "redbeams/src/main/java/com/sequenceiq/redbeams/service/dbserverconfig/DatabaseServerConfigService.java", "diffHunk": "@@ -320,6 +325,22 @@ boolean validateDatabaseName(String databaseName) {\n \n     @Override\n     public AuthorizationResourceType getResourceType() {\n-        return AuthorizationResourceType.DATALAKE;\n+        return AuthorizationResourceType.DATABASE_SERVER;\n+    }\n+\n+    @Override\n+    public String getResourceCrnByResourceName(String resourceName) {\n+        return repository.findByName(resourceName).get().getResourceCrn().toString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b4cbdd13fd11efd7b7fc0137f27af3fa47c4ba3"}, "originalPosition": 84}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjM0NDk0OnYy", "diffSide": "RIGHT", "path": "redbeams/src/main/java/com/sequenceiq/redbeams/service/dbserverconfig/DatabaseServerConfigService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNzoxOTo0NFrOGi5tMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNzo1NzowNlrOGi6tWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI1MDIyNw==", "bodyText": "Can you get just the crns from the database?", "url": "https://github.com/hortonworks/cloudbreak/pull/8236#discussion_r439250227", "createdAt": "2020-06-12T07:19:44Z", "author": {"login": "foldik"}, "path": "redbeams/src/main/java/com/sequenceiq/redbeams/service/dbserverconfig/DatabaseServerConfigService.java", "diffHunk": "@@ -320,6 +325,22 @@ boolean validateDatabaseName(String databaseName) {\n \n     @Override\n     public AuthorizationResourceType getResourceType() {\n-        return AuthorizationResourceType.DATALAKE;\n+        return AuthorizationResourceType.DATABASE_SERVER;\n+    }\n+\n+    @Override\n+    public String getResourceCrnByResourceName(String resourceName) {\n+        return repository.findByName(resourceName).get().getResourceCrn().toString();\n+    }\n+\n+    @Override\n+    public List<String> getResourceCrnListByResourceNameList(List<String> resourceNames) {\n+        return repository.findByNameIn(resourceNames).stream()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b4cbdd13fd11efd7b7fc0137f27af3fa47c4ba3"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI2NjY1MA==", "bodyText": "I made repository methods for these as suggested", "url": "https://github.com/hortonworks/cloudbreak/pull/8236#discussion_r439266650", "createdAt": "2020-06-12T07:57:06Z", "author": {"login": "horadla23"}, "path": "redbeams/src/main/java/com/sequenceiq/redbeams/service/dbserverconfig/DatabaseServerConfigService.java", "diffHunk": "@@ -320,6 +325,22 @@ boolean validateDatabaseName(String databaseName) {\n \n     @Override\n     public AuthorizationResourceType getResourceType() {\n-        return AuthorizationResourceType.DATALAKE;\n+        return AuthorizationResourceType.DATABASE_SERVER;\n+    }\n+\n+    @Override\n+    public String getResourceCrnByResourceName(String resourceName) {\n+        return repository.findByName(resourceName).get().getResourceCrn().toString();\n+    }\n+\n+    @Override\n+    public List<String> getResourceCrnListByResourceNameList(List<String> resourceNames) {\n+        return repository.findByNameIn(resourceNames).stream()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI1MDIyNw=="}, "originalCommit": {"oid": "0b4cbdd13fd11efd7b7fc0137f27af3fa47c4ba3"}, "originalPosition": 89}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3305, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}