{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4MzE4NTYy", "number": 7353, "title": "CB-5616 [CB+UI] Distrox in running state when all the nodes are stopped", "bodyText": "", "createdAt": "2020-02-21T14:47:08Z", "url": "https://github.com/hortonworks/cloudbreak/pull/7353", "merged": true, "mergeCommit": {"oid": "10ee5efc6b65077a3b08390e5f01181ae0adc5af"}, "closed": true, "closedAt": "2020-02-21T15:53:41Z", "author": {"login": "bbihari"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGg1kVAH2gAyMzc4MzE4NTYyOjEwZGU4NDgxODA1MWU4YjVkNzc1NTViODc3Zjg5YzhhNzM1MWExOTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcGhYJOAFqTM2MjcwNjAzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "10de84818051e8b5d77555b877f89c8a7351a199", "author": {"user": {"login": "bbihari", "name": "Bal\u00e1zs Bihari"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/10de84818051e8b5d77555b877f89c8a7351a199", "committedDate": "2020-02-21T14:45:06Z", "message": "CB-5616 [CB+UI] Distrox in running state when all the nodes are stopped"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNjgxNjY2", "url": "https://github.com/hortonworks/cloudbreak/pull/7353#pullrequestreview-362681666", "createdAt": "2020-02-21T14:50:01Z", "commit": {"oid": "10de84818051e8b5d77555b877f89c8a7351a199"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNDo1MDowMlrOFs5ZHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNDo1MDowMlrOFs5ZHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYyMTk4MQ==", "bodyText": "you should update the cluster status in the other case as well", "url": "https://github.com/hortonworks/cloudbreak/pull/7353#discussion_r382621981", "createdAt": "2020-02-21T14:50:02Z", "author": {"login": "topolyai5"}, "path": "core/src/main/java/com/sequenceiq/cloudbreak/service/stack/flow/StackSyncService.java", "diffHunk": "@@ -217,6 +222,7 @@ private void handleSyncResult(Stack stack, Map<InstanceSyncState, Integer> insta\n             eventService.fireCloudbreakEvent(stack.getId(), AVAILABLE.name(), STACK_SYNC_INSTANCE_STATE_SYNCED);\n         } else if (isAllStopped(instanceStateCounts, instances.size()) && stack.getStatus() != STOPPED) {\n             updateStackStatusIfEnabled(stack.getId(), DetailedStackStatus.STOPPED, SYNC_STATUS_REASON, stackStatusUpdateEnabled);\n+            updateClusterStatusIfEnabled(stack.getId(), STOPPED, stackStatusUpdateEnabled);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10de84818051e8b5d77555b877f89c8a7351a199"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNzA2MDMw", "url": "https://github.com/hortonworks/cloudbreak/pull/7353#pullrequestreview-362706030", "createdAt": "2020-02-21T15:22:52Z", "commit": {"oid": "10de84818051e8b5d77555b877f89c8a7351a199"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2572, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}