{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1OTc0Njk5", "number": 9497, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwNjoyMDo1NlrOE8iNYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwNjoyMDo1NlrOE8iNYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxOTEwNDk3OnYy", "diffSide": "RIGHT", "path": "template-manager-cmtemplate/src/main/java/com/sequenceiq/cloudbreak/cmtemplate/configproviders/hdfs/HdfsVolumeConfigProvider.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwNjoyMDo1NlrOH4tgmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxNTo1Nzo0N1rOH5I8RQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTIyNzkzMA==", "bodyText": "Are you sure it accepts multiple volumes?  I tried to look up at multiple docs and I found it's a single volume only, but I'm not 100% sure.", "url": "https://github.com/hortonworks/cloudbreak/pull/9497#discussion_r529227930", "createdAt": "2020-11-24T06:20:56Z", "author": {"login": "keyki"}, "path": "template-manager-cmtemplate/src/main/java/com/sequenceiq/cloudbreak/cmtemplate/configproviders/hdfs/HdfsVolumeConfigProvider.java", "diffHunk": "@@ -40,7 +39,7 @@\n             case HdfsRoles.JOURNALNODE:\n                 return List.of(\n                         config(\"dfs_journalnode_edits_dir\",\n-                                buildSingleVolumePath(volumeCount, \"journalnode\"))\n+                                buildVolumePathStringZeroVolumeHandled(volumeCount, \"journalnode\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0cebc02a38e63c4ddeac00522b40d10538c861f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTI2OTQ0Mw==", "bodyText": "I think this is the HDFS code where the property is used, seems to confirm your findings:\nhttps://github.com/apache/hadoop/blob/c4ba0ab7dfcfe76f928d06fcb29ca0cc4d778737/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/qjournal/server/JournalNode.java#L178-L182\nhttps://github.com/apache/hadoop/blob/c4ba0ab7dfcfe76f928d06fcb29ca0cc4d778737/hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/qjournal/server/JournalNode.java#L335-L340", "url": "https://github.com/hortonworks/cloudbreak/pull/9497#discussion_r529269443", "createdAt": "2020-11-24T07:57:56Z", "author": {"login": "adoroszlai"}, "path": "template-manager-cmtemplate/src/main/java/com/sequenceiq/cloudbreak/cmtemplate/configproviders/hdfs/HdfsVolumeConfigProvider.java", "diffHunk": "@@ -40,7 +39,7 @@\n             case HdfsRoles.JOURNALNODE:\n                 return List.of(\n                         config(\"dfs_journalnode_edits_dir\",\n-                                buildSingleVolumePath(volumeCount, \"journalnode\"))\n+                                buildVolumePathStringZeroVolumeHandled(volumeCount, \"journalnode\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTIyNzkzMA=="}, "originalCommit": {"oid": "d0cebc02a38e63c4ddeac00522b40d10538c861f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTY2NTI2Ng==", "bodyText": "Yea based on the code @adoroszlai shared and also the docs in hdfs-default.xml:\n<property>\n  <name>dfs.journalnode.edits.dir</name>\n  <value>/tmp/hadoop/dfs/journalnode/</value>\n  <description>\n    The directory where the journal edit files are stored.\n  </description>\n</property>\n\nThe journal edits dir can only have a single value. This makes it different from the NN data directory where the namenode can have a comma separated list of directories.", "url": "https://github.com/hortonworks/cloudbreak/pull/9497#discussion_r529665266", "createdAt": "2020-11-24T15:49:27Z", "author": {"login": "sodonnel"}, "path": "template-manager-cmtemplate/src/main/java/com/sequenceiq/cloudbreak/cmtemplate/configproviders/hdfs/HdfsVolumeConfigProvider.java", "diffHunk": "@@ -40,7 +39,7 @@\n             case HdfsRoles.JOURNALNODE:\n                 return List.of(\n                         config(\"dfs_journalnode_edits_dir\",\n-                                buildSingleVolumePath(volumeCount, \"journalnode\"))\n+                                buildVolumePathStringZeroVolumeHandled(volumeCount, \"journalnode\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTIyNzkzMA=="}, "originalCommit": {"oid": "d0cebc02a38e63c4ddeac00522b40d10538c861f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTY3NzM4MQ==", "bodyText": "And fixed.", "url": "https://github.com/hortonworks/cloudbreak/pull/9497#discussion_r529677381", "createdAt": "2020-11-24T15:57:47Z", "author": {"login": "frozenwizard"}, "path": "template-manager-cmtemplate/src/main/java/com/sequenceiq/cloudbreak/cmtemplate/configproviders/hdfs/HdfsVolumeConfigProvider.java", "diffHunk": "@@ -40,7 +39,7 @@\n             case HdfsRoles.JOURNALNODE:\n                 return List.of(\n                         config(\"dfs_journalnode_edits_dir\",\n-                                buildSingleVolumePath(volumeCount, \"journalnode\"))\n+                                buildVolumePathStringZeroVolumeHandled(volumeCount, \"journalnode\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTIyNzkzMA=="}, "originalCommit": {"oid": "d0cebc02a38e63c4ddeac00522b40d10538c861f"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3509, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}