{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwNTQwNjE1", "number": 7924, "title": "CB-6729 Sdx create should not wait for stopped environment", "bodyText": "", "createdAt": "2020-04-29T07:33:53Z", "url": "https://github.com/hortonworks/cloudbreak/pull/7924", "merged": true, "mergeCommit": {"oid": "6f08ede47d1a7492678d708c686ae77cbe5397fe"}, "closed": true, "closedAt": "2020-05-04T14:22:48Z", "author": {"login": "sodre90"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccUVp9gFqTQwMjQ2NTYzNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcd_w1rgFqTQwNTAwMjY1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNDY1NjM2", "url": "https://github.com/hortonworks/cloudbreak/pull/7924#pullrequestreview-402465636", "createdAt": "2020-04-29T08:37:21Z", "commit": {"oid": "69530db438384bafc5c9bd5efefece37f4fd6001"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwODozNzoyMVrOGN1Cyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwODozNzoyMVrOGN1Cyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzE1MzczOQ==", "bodyText": "I think it would make sense to prepare the code for environment currently stopping. As I see env service will wait until datahubs etc. are stopped so it may take a considerable amount if time until it is stopped.", "url": "https://github.com/hortonworks/cloudbreak/pull/7924#discussion_r417153739", "createdAt": "2020-04-29T08:37:21Z", "author": {"login": "gergopapi2"}, "path": "datalake/src/main/java/com/sequenceiq/datalake/service/sdx/SdxService.java", "diffHunk": "@@ -209,6 +211,12 @@ public SdxCluster getSdxByNameInAccount(String userCrn, String name) {\n         return Pair.of(sdxCluster, flowIdentifier);\n     }\n \n+    private void validateEnv(DetailedEnvironmentResponse environment) {\n+        if (ENV_STOPPED.equals(environment.getEnvironmentStatus())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69530db438384bafc5c9bd5efefece37f4fd6001"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNjEzMTM1", "url": "https://github.com/hortonworks/cloudbreak/pull/7924#pullrequestreview-403613135", "createdAt": "2020-04-30T15:07:41Z", "commit": {"oid": "69530db438384bafc5c9bd5efefece37f4fd6001"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "69530db438384bafc5c9bd5efefece37f4fd6001", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/69530db438384bafc5c9bd5efefece37f4fd6001", "committedDate": "2020-04-29T07:31:53Z", "message": "CB-6729 Sdx create should not wait for stopped environment"}, "afterCommit": {"oid": "6b6e570dfa84552bee13235b80351377b8e99168", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/6b6e570dfa84552bee13235b80351377b8e99168", "committedDate": "2020-05-04T11:41:33Z", "message": "CB-6729 Sdx create should not wait for stopped environment"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6b6e570dfa84552bee13235b80351377b8e99168", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/6b6e570dfa84552bee13235b80351377b8e99168", "committedDate": "2020-05-04T11:41:33Z", "message": "CB-6729 Sdx create should not wait for stopped environment"}, "afterCommit": {"oid": "c767ea03c7be3edede278724108e1016dbfb9fe6", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/c767ea03c7be3edede278724108e1016dbfb9fe6", "committedDate": "2020-05-04T11:42:50Z", "message": "CB-6729 Sdx create should not wait for stopped environment"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c767ea03c7be3edede278724108e1016dbfb9fe6", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/c767ea03c7be3edede278724108e1016dbfb9fe6", "committedDate": "2020-05-04T11:42:50Z", "message": "CB-6729 Sdx create should not wait for stopped environment"}, "afterCommit": {"oid": "767c8ff3243e21f3bf225ad2e9ea4fa65d4e251d", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/767c8ff3243e21f3bf225ad2e9ea4fa65d4e251d", "committedDate": "2020-05-04T12:45:12Z", "message": "CB-6729 Sdx create should not wait for stopped environment"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "767c8ff3243e21f3bf225ad2e9ea4fa65d4e251d", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/767c8ff3243e21f3bf225ad2e9ea4fa65d4e251d", "committedDate": "2020-05-04T12:45:12Z", "message": "CB-6729 Sdx create should not wait for stopped environment"}, "afterCommit": {"oid": "438ea1abed5f6ae5b93e84842b832e369cce9e11", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/438ea1abed5f6ae5b93e84842b832e369cce9e11", "committedDate": "2020-05-04T13:03:58Z", "message": "CB-6729 Sdx create should not wait for stopped environment"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "438ea1abed5f6ae5b93e84842b832e369cce9e11", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/438ea1abed5f6ae5b93e84842b832e369cce9e11", "committedDate": "2020-05-04T13:03:58Z", "message": "CB-6729 Sdx create should not wait for stopped environment"}, "afterCommit": {"oid": "803468cdf186324b47790ba63640f551c668d78d", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/803468cdf186324b47790ba63640f551c668d78d", "committedDate": "2020-05-04T13:04:30Z", "message": "CB-6729 Sdx create should not wait for stopped environment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b626fc98da249b23fbfa4853ae01db4ea33941af", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/b626fc98da249b23fbfa4853ae01db4ea33941af", "committedDate": "2020-05-04T13:20:54Z", "message": "CB-6729 Sdx create should not wait for stopped environment"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "803468cdf186324b47790ba63640f551c668d78d", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/803468cdf186324b47790ba63640f551c668d78d", "committedDate": "2020-05-04T13:04:30Z", "message": "CB-6729 Sdx create should not wait for stopped environment"}, "afterCommit": {"oid": "b626fc98da249b23fbfa4853ae01db4ea33941af", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/b626fc98da249b23fbfa4853ae01db4ea33941af", "committedDate": "2020-05-04T13:20:54Z", "message": "CB-6729 Sdx create should not wait for stopped environment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MDAyNjUw", "url": "https://github.com/hortonworks/cloudbreak/pull/7924#pullrequestreview-405002650", "createdAt": "2020-05-04T13:47:15Z", "commit": {"oid": "b626fc98da249b23fbfa4853ae01db4ea33941af"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2271, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}