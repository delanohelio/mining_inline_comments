{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxNTA5MTE3", "number": 8455, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNzo0NjoxM1rOEJw8gA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNzozMDowOFrOEJ9_zQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4Njc0NTYwOnYy", "diffSide": "RIGHT", "path": "integration-test/src/main/java/com/sequenceiq/it/cloudbreak/dto/environment/EnvironmentTestDto.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNzo0NjoxM1rOGqbkbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxODo0ODoxMVrOGqduBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzE0NTA2OA==", "bodyText": "I would rather call this withResourceGroupUsage because it can be used to set \"multiple\" model, too", "url": "https://github.com/hortonworks/cloudbreak/pull/8455#discussion_r447145068", "createdAt": "2020-06-29T17:46:13Z", "author": {"login": "pdarvasi"}, "path": "integration-test/src/main/java/com/sequenceiq/it/cloudbreak/dto/environment/EnvironmentTestDto.java", "diffHunk": "@@ -212,11 +214,15 @@ public EnvironmentTestDto withNetwork(String key) {\n     }\n \n     public EnvironmentTestDto withS3Guard(String tableName) {\n-        AwsEnvironmentParameters awsEnvironmentParameters = new AwsEnvironmentParameters();\n-        S3GuardRequestParameters s3GuardRequestParameters = new S3GuardRequestParameters();\n-        s3GuardRequestParameters.setDynamoDbTableName(tableName);\n-        awsEnvironmentParameters.setS3guard(s3GuardRequestParameters);\n+        getCloudProvider().setS3Guard(this, tableName);\n+        return this;\n+    }\n+\n+    public EnvironmentTestDto withSingleResourceGroup(String resourceGroupUsage, String resourceGroupName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78590428e9a286a73da1162b260843f9fc1df527"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzE4MDI5NQ==", "bodyText": "Thanks! I renamed it to withResourceGroup, without usage, as one parameter is called resourceGroupUsage.", "url": "https://github.com/hortonworks/cloudbreak/pull/8455#discussion_r447180295", "createdAt": "2020-06-29T18:48:11Z", "author": {"login": "gergopapi2"}, "path": "integration-test/src/main/java/com/sequenceiq/it/cloudbreak/dto/environment/EnvironmentTestDto.java", "diffHunk": "@@ -212,11 +214,15 @@ public EnvironmentTestDto withNetwork(String key) {\n     }\n \n     public EnvironmentTestDto withS3Guard(String tableName) {\n-        AwsEnvironmentParameters awsEnvironmentParameters = new AwsEnvironmentParameters();\n-        S3GuardRequestParameters s3GuardRequestParameters = new S3GuardRequestParameters();\n-        s3GuardRequestParameters.setDynamoDbTableName(tableName);\n-        awsEnvironmentParameters.setS3guard(s3GuardRequestParameters);\n+        getCloudProvider().setS3Guard(this, tableName);\n+        return this;\n+    }\n+\n+    public EnvironmentTestDto withSingleResourceGroup(String resourceGroupUsage, String resourceGroupName) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzE0NTA2OA=="}, "originalCommit": {"oid": "78590428e9a286a73da1162b260843f9fc1df527"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4ODg4MTkwOnYy", "diffSide": "RIGHT", "path": "integration-test/src/main/java/com/sequenceiq/it/cloudbreak/testcase/e2e/environment/EnvironmentStopStartTests.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNzoyOTo0MFrOGqvXfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNzoyOTo0MFrOGqvXfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ2OTQzOQ==", "bodyText": "I don't see this used", "url": "https://github.com/hortonworks/cloudbreak/pull/8455#discussion_r447469439", "createdAt": "2020-06-30T07:29:40Z", "author": {"login": "bergerdenes"}, "path": "integration-test/src/main/java/com/sequenceiq/it/cloudbreak/testcase/e2e/environment/EnvironmentStopStartTests.java", "diffHunk": "@@ -34,6 +35,9 @@\n     @Inject\n     private CredentialTestClient credentialTestClient;\n \n+    @Inject", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f09bc54da1075ce6d1630298dd6d09a87b9ddc2"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4ODg4Mzk3OnYy", "diffSide": "RIGHT", "path": "integration-test/src/main/resources/application.yml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNzozMDowOFrOGqvYoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNzozMzoxMlrOGqvfBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ2OTcyOA==", "bodyText": "is name not mandatory?\nwill single be tested as well?", "url": "https://github.com/hortonworks/cloudbreak/pull/8455#discussion_r447469728", "createdAt": "2020-06-30T07:30:08Z", "author": {"login": "bergerdenes"}, "path": "integration-test/src/main/resources/application.yml", "diffHunk": "@@ -138,6 +138,9 @@ integrationtest:\n         assumerIdentity:\n         loggerIdentity:\n       secure: false\n+    resourcegroup:\n+      usage: MULTIPLE\n+      name:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f09bc54da1075ce6d1630298dd6d09a87b9ddc2"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ3MTM2NA==", "bodyText": "I added the default values as of now. We need to test the single RG scenario. Once its done, we will set the test to: SINGLE.\nThe name parameter: it is not mandatory. With usage MULTIPLE it is not allowed to provide it. With single it is optional. If provided, cloudbreak will use that RG, if not, then cloudbreak will create one and use it (latter use case is a demo use case, the real advantage comes when the customer provides an existing RG)", "url": "https://github.com/hortonworks/cloudbreak/pull/8455#discussion_r447471364", "createdAt": "2020-06-30T07:33:12Z", "author": {"login": "gergopapi2"}, "path": "integration-test/src/main/resources/application.yml", "diffHunk": "@@ -138,6 +138,9 @@ integrationtest:\n         assumerIdentity:\n         loggerIdentity:\n       secure: false\n+    resourcegroup:\n+      usage: MULTIPLE\n+      name:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ2OTcyOA=="}, "originalCommit": {"oid": "1f09bc54da1075ce6d1630298dd6d09a87b9ddc2"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3098, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}