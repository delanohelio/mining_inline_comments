{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwNTcwMjQ5", "number": 7925, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNDo0MDozMVrOD3qMsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNDo0MDozMVrOD3qMsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5Njg5NjUwOnYy", "diffSide": "RIGHT", "path": "datalake/src/main/java/com/sequenceiq/datalake/service/startstop/DatabaseStartStopSupportService.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNDo0MDozMVrOGOCL-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxMjoxNDoyNVrOGOmiRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM2OTA4Mw==", "bodyText": "can this be part of the resourceconnector ?  I think that is much flexible so create a method there like databasePauseSupported()", "url": "https://github.com/hortonworks/cloudbreak/pull/7925#discussion_r417369083", "createdAt": "2020-04-29T14:40:31Z", "author": {"login": "doktoric"}, "path": "datalake/src/main/java/com/sequenceiq/datalake/service/startstop/DatabaseStartStopSupportService.java", "diffHunk": "@@ -0,0 +1,26 @@\n+package com.sequenceiq.datalake.service.startstop;\n+\n+import com.sequenceiq.cloudbreak.common.mappable.CloudPlatform;\n+import com.sequenceiq.datalake.entity.SdxCluster;\n+import com.sequenceiq.datalake.service.EnvironmentClientService;\n+import com.sequenceiq.environment.api.v1.environment.model.response.DetailedEnvironmentResponse;\n+import org.apache.logging.log4j.util.Strings;\n+import org.springframework.stereotype.Component;\n+\n+import javax.inject.Inject;\n+\n+@Component\n+public class DatabaseStartStopSupportService {\n+\n+    @Inject\n+    private EnvironmentClientService environmentClientService;\n+\n+    public boolean supportsDatabaseStartStop(SdxCluster sdxCluster) {\n+        if (sdxCluster.hasExternalDatabase() && Strings.isNotEmpty(sdxCluster.getDatabaseCrn())) {\n+            DetailedEnvironmentResponse environment = environmentClientService.getByCrn(sdxCluster.getEnvCrn());\n+\n+            return CloudPlatform.AWS.name().equalsIgnoreCase(environment.getCloudPlatform());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2c5a0eeadc09da2cef62e82af43315d3fb27524"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk2NDYxNQ==", "bodyText": "As we have discussed, it can't be a part of the ResourceConnector but it got moved to the PlatformConfig.", "url": "https://github.com/hortonworks/cloudbreak/pull/7925#discussion_r417964615", "createdAt": "2020-04-30T12:14:25Z", "author": {"login": "pkedvessy"}, "path": "datalake/src/main/java/com/sequenceiq/datalake/service/startstop/DatabaseStartStopSupportService.java", "diffHunk": "@@ -0,0 +1,26 @@\n+package com.sequenceiq.datalake.service.startstop;\n+\n+import com.sequenceiq.cloudbreak.common.mappable.CloudPlatform;\n+import com.sequenceiq.datalake.entity.SdxCluster;\n+import com.sequenceiq.datalake.service.EnvironmentClientService;\n+import com.sequenceiq.environment.api.v1.environment.model.response.DetailedEnvironmentResponse;\n+import org.apache.logging.log4j.util.Strings;\n+import org.springframework.stereotype.Component;\n+\n+import javax.inject.Inject;\n+\n+@Component\n+public class DatabaseStartStopSupportService {\n+\n+    @Inject\n+    private EnvironmentClientService environmentClientService;\n+\n+    public boolean supportsDatabaseStartStop(SdxCluster sdxCluster) {\n+        if (sdxCluster.hasExternalDatabase() && Strings.isNotEmpty(sdxCluster.getDatabaseCrn())) {\n+            DetailedEnvironmentResponse environment = environmentClientService.getByCrn(sdxCluster.getEnvCrn());\n+\n+            return CloudPlatform.AWS.name().equalsIgnoreCase(environment.getCloudPlatform());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM2OTA4Mw=="}, "originalCommit": {"oid": "d2c5a0eeadc09da2cef62e82af43315d3fb27524"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2515, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}