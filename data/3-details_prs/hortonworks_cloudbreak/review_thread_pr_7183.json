{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MzI5ODAy", "number": 7183, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxMDoyNTo1MFrODcMXag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxMDoyNTo1MFrODcMXag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwODg5MzIyOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/sequenceiq/cloudbreak/converter/v4/stacks/TelemetryConverter.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxMDoyNTo1MFrOFkHKDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxMDozMjoyNVrOFkHVXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzQxMDMxNw==", "bodyText": "this logic occurs three times in this PR, maybe it is worth to extract it into some static class and call it everywhere", "url": "https://github.com/hortonworks/cloudbreak/pull/7183#discussion_r373410317", "createdAt": "2020-01-31T10:25:50Z", "author": {"login": "horadla23"}, "path": "core/src/main/java/com/sequenceiq/cloudbreak/converter/v4/stacks/TelemetryConverter.java", "diffHunk": "@@ -367,10 +364,12 @@ private void setReportDeploymentLogs(TelemetryRequest request, Features features\n         }\n     }\n \n-    private void setUseSharedAltusCredential(TelemetryRequest request, Features features) {\n-        if (useSharedAltusCredential && request.getFeatures() != null && request.getFeatures().getUseSharedAltusCredential() != null) {\n-            LOGGER.debug(\"Fill shared altus credential setting from telemetry feature request\");\n-            features.setUseSharedAltusCredential(request.getFeatures().getUseSharedAltusCredential());\n+    private void setUseSharedAltusCredential(Features features) {\n+        if (useSharedAltusCredential) {\n+            LOGGER.debug(\"Fill shared altus credential setting as that is enabled globally\");\n+            FeatureSetting useSharedAltusCredentialFeature = new FeatureSetting();\n+            useSharedAltusCredentialFeature.setEnabled(true);\n+            features.setUseSharedAltusCredential(useSharedAltusCredentialFeature);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa6461cb97ca2770a8eb28fbe580b0e8bc317e53"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzQxMzIxNA==", "bodyText": "it's just a few steps, maybe in features object there should be a method to set this wrapper objects based on a boolean param and add a @JsonIgnore there. but that should be done to every occurrences of these feature settings, expect that this PR will be probably larger", "url": "https://github.com/hortonworks/cloudbreak/pull/7183#discussion_r373413214", "createdAt": "2020-01-31T10:32:25Z", "author": {"login": "oleewere"}, "path": "core/src/main/java/com/sequenceiq/cloudbreak/converter/v4/stacks/TelemetryConverter.java", "diffHunk": "@@ -367,10 +364,12 @@ private void setReportDeploymentLogs(TelemetryRequest request, Features features\n         }\n     }\n \n-    private void setUseSharedAltusCredential(TelemetryRequest request, Features features) {\n-        if (useSharedAltusCredential && request.getFeatures() != null && request.getFeatures().getUseSharedAltusCredential() != null) {\n-            LOGGER.debug(\"Fill shared altus credential setting from telemetry feature request\");\n-            features.setUseSharedAltusCredential(request.getFeatures().getUseSharedAltusCredential());\n+    private void setUseSharedAltusCredential(Features features) {\n+        if (useSharedAltusCredential) {\n+            LOGGER.debug(\"Fill shared altus credential setting as that is enabled globally\");\n+            FeatureSetting useSharedAltusCredentialFeature = new FeatureSetting();\n+            useSharedAltusCredentialFeature.setEnabled(true);\n+            features.setUseSharedAltusCredential(useSharedAltusCredentialFeature);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzQxMDMxNw=="}, "originalCommit": {"oid": "fa6461cb97ca2770a8eb28fbe580b0e8bc317e53"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2887, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}