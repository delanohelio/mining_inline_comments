{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyNzMyNzQ3", "number": 7072, "title": "CB-5077. Add missing Kafka/HBase logs (to monitor by fluentd)", "bodyText": "add the following missing components to monitor for fluentd:\n\nSMM\nSchema registry\nkafka-broker\nhbase regionserver\nhbase server\nhbase thriftserver", "createdAt": "2020-01-14T16:41:06Z", "url": "https://github.com/hortonworks/cloudbreak/pull/7072", "merged": true, "mergeCommit": {"oid": "81a14b869d5cd5c52dbe2c32e58ba610d2716933"}, "closed": true, "closedAt": "2020-01-15T10:42:09Z", "author": {"login": "oleewere"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6iGyDgFqTM0MzA3Njc1Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb6iWlxgFqTM0MzA5Mjc0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzMDc2NzUz", "url": "https://github.com/hortonworks/cloudbreak/pull/7072#pullrequestreview-343076753", "createdAt": "2020-01-15T09:17:43Z", "commit": {"oid": "52643347573c8e81e5d84be4248e0f15aed6dcdb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQwOToxNzo0NFrOFdxmBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQwOToyNjowMlrOFdx1dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njc2NTU3NQ==", "bodyText": "Typo: MANGER -> MANAGER", "url": "https://github.com/hortonworks/cloudbreak/pull/7072#discussion_r366765575", "createdAt": "2020-01-15T09:17:44Z", "author": {"login": "lajosrodek"}, "path": "orchestrator-salt/src/main/resources/salt/salt/fluent/template/input.conf.j2", "diffHunk": "@@ -402,6 +402,86 @@\n   tag {{providerPrefix}}.IMPALA-statestored_ERROR\n   read_from_head true\n </source>\n+<source>\n+  @type tail\n+  format none\n+  path {{fluent.serviceLogFolderPrefix}}/*/streams-messaging-manager*.log\n+  pos_file /var/log/td-agent/pos/{{providerPrefix}}-streams-messaging-manager.log.pos\n+  tag {{providerPrefix}}.STREAMS_MESSAGING_MANGER-server", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52643347573c8e81e5d84be4248e0f15aed6dcdb"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njc2NjEwMw==", "bodyText": "Typo: MANGER -> MANAGER", "url": "https://github.com/hortonworks/cloudbreak/pull/7072#discussion_r366766103", "createdAt": "2020-01-15T09:18:54Z", "author": {"login": "lajosrodek"}, "path": "orchestrator-salt/src/main/resources/salt/salt/fluent/template/input.conf.j2", "diffHunk": "@@ -402,6 +402,86 @@\n   tag {{providerPrefix}}.IMPALA-statestored_ERROR\n   read_from_head true\n </source>\n+<source>\n+  @type tail\n+  format none\n+  path {{fluent.serviceLogFolderPrefix}}/*/streams-messaging-manager*.log\n+  pos_file /var/log/td-agent/pos/{{providerPrefix}}-streams-messaging-manager.log.pos\n+  tag {{providerPrefix}}.STREAMS_MESSAGING_MANGER-server\n+  read_from_head true\n+</source>\n+<source>\n+  @type tail\n+  format none\n+  path {{fluent.serviceLogFolderPrefix}}/*/streams-messaging-manager-ui*.log\n+  pos_file /var/log/td-agent/pos/{{providerPrefix}}-streams-messaging-manager-ui.log.pos\n+  tag {{providerPrefix}}.STREAMS_MESSAGING_MANGER-ui", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52643347573c8e81e5d84be4248e0f15aed6dcdb"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njc2NjE1MQ==", "bodyText": "Typo: MANGER -> MANAGER", "url": "https://github.com/hortonworks/cloudbreak/pull/7072#discussion_r366766151", "createdAt": "2020-01-15T09:19:00Z", "author": {"login": "lajosrodek"}, "path": "orchestrator-salt/src/main/resources/salt/salt/fluent/template/input.conf.j2", "diffHunk": "@@ -402,6 +402,86 @@\n   tag {{providerPrefix}}.IMPALA-statestored_ERROR\n   read_from_head true\n </source>\n+<source>\n+  @type tail\n+  format none\n+  path {{fluent.serviceLogFolderPrefix}}/*/streams-messaging-manager*.log\n+  pos_file /var/log/td-agent/pos/{{providerPrefix}}-streams-messaging-manager.log.pos\n+  tag {{providerPrefix}}.STREAMS_MESSAGING_MANGER-server\n+  read_from_head true\n+</source>\n+<source>\n+  @type tail\n+  format none\n+  path {{fluent.serviceLogFolderPrefix}}/*/streams-messaging-manager-ui*.log\n+  pos_file /var/log/td-agent/pos/{{providerPrefix}}-streams-messaging-manager-ui.log.pos\n+  tag {{providerPrefix}}.STREAMS_MESSAGING_MANGER-ui\n+  read_from_head true\n+</source>\n+<source>\n+  @type tail\n+  format none\n+  path {{fluent.serviceLogFolderPrefix}}/*/streams-messaging-manager*.err\n+  pos_file /var/log/td-agent/pos/{{providerPrefix}}-streams-messaging-manager.err.pos\n+  tag {{providerPrefix}}.STREAMS_MESSAGING_MANGER-server_ERROR", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52643347573c8e81e5d84be4248e0f15aed6dcdb"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njc2NjE4NQ==", "bodyText": "Typo: MANGER -> MANAGER", "url": "https://github.com/hortonworks/cloudbreak/pull/7072#discussion_r366766185", "createdAt": "2020-01-15T09:19:06Z", "author": {"login": "lajosrodek"}, "path": "orchestrator-salt/src/main/resources/salt/salt/fluent/template/input.conf.j2", "diffHunk": "@@ -402,6 +402,86 @@\n   tag {{providerPrefix}}.IMPALA-statestored_ERROR\n   read_from_head true\n </source>\n+<source>\n+  @type tail\n+  format none\n+  path {{fluent.serviceLogFolderPrefix}}/*/streams-messaging-manager*.log\n+  pos_file /var/log/td-agent/pos/{{providerPrefix}}-streams-messaging-manager.log.pos\n+  tag {{providerPrefix}}.STREAMS_MESSAGING_MANGER-server\n+  read_from_head true\n+</source>\n+<source>\n+  @type tail\n+  format none\n+  path {{fluent.serviceLogFolderPrefix}}/*/streams-messaging-manager-ui*.log\n+  pos_file /var/log/td-agent/pos/{{providerPrefix}}-streams-messaging-manager-ui.log.pos\n+  tag {{providerPrefix}}.STREAMS_MESSAGING_MANGER-ui\n+  read_from_head true\n+</source>\n+<source>\n+  @type tail\n+  format none\n+  path {{fluent.serviceLogFolderPrefix}}/*/streams-messaging-manager*.err\n+  pos_file /var/log/td-agent/pos/{{providerPrefix}}-streams-messaging-manager.err.pos\n+  tag {{providerPrefix}}.STREAMS_MESSAGING_MANGER-server_ERROR\n+  read_from_head true\n+</source>\n+<source>\n+  @type tail\n+  format none\n+  path {{fluent.serviceLogFolderPrefix}}/*/streams-messaging-manager-ui*.err\n+  pos_file /var/log/td-agent/pos/{{providerPrefix}}-streams-messaging-manager-ui.err.pos\n+  tag {{providerPrefix}}.STREAMS_MESSAGING_MANGER-ui_ERROR", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52643347573c8e81e5d84be4248e0f15aed6dcdb"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njc2ODk4Mg==", "bodyText": "Will not this also match streams-messaging-manager-ui*.log?", "url": "https://github.com/hortonworks/cloudbreak/pull/7072#discussion_r366768982", "createdAt": "2020-01-15T09:24:54Z", "author": {"login": "lajosrodek"}, "path": "orchestrator-salt/src/main/resources/salt/salt/fluent/template/input.conf.j2", "diffHunk": "@@ -402,6 +402,86 @@\n   tag {{providerPrefix}}.IMPALA-statestored_ERROR\n   read_from_head true\n </source>\n+<source>\n+  @type tail\n+  format none\n+  path {{fluent.serviceLogFolderPrefix}}/*/streams-messaging-manager*.log", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52643347573c8e81e5d84be4248e0f15aed6dcdb"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njc2OTUyNg==", "bodyText": "Will not this also match streams-messaging-manager-ui*.err?", "url": "https://github.com/hortonworks/cloudbreak/pull/7072#discussion_r366769526", "createdAt": "2020-01-15T09:26:02Z", "author": {"login": "lajosrodek"}, "path": "orchestrator-salt/src/main/resources/salt/salt/fluent/template/input.conf.j2", "diffHunk": "@@ -402,6 +402,86 @@\n   tag {{providerPrefix}}.IMPALA-statestored_ERROR\n   read_from_head true\n </source>\n+<source>\n+  @type tail\n+  format none\n+  path {{fluent.serviceLogFolderPrefix}}/*/streams-messaging-manager*.log\n+  pos_file /var/log/td-agent/pos/{{providerPrefix}}-streams-messaging-manager.log.pos\n+  tag {{providerPrefix}}.STREAMS_MESSAGING_MANGER-server\n+  read_from_head true\n+</source>\n+<source>\n+  @type tail\n+  format none\n+  path {{fluent.serviceLogFolderPrefix}}/*/streams-messaging-manager-ui*.log\n+  pos_file /var/log/td-agent/pos/{{providerPrefix}}-streams-messaging-manager-ui.log.pos\n+  tag {{providerPrefix}}.STREAMS_MESSAGING_MANGER-ui\n+  read_from_head true\n+</source>\n+<source>\n+  @type tail\n+  format none\n+  path {{fluent.serviceLogFolderPrefix}}/*/streams-messaging-manager*.err", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52643347573c8e81e5d84be4248e0f15aed6dcdb"}, "originalPosition": 23}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "52643347573c8e81e5d84be4248e0f15aed6dcdb", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/52643347573c8e81e5d84be4248e0f15aed6dcdb", "committedDate": "2020-01-14T16:38:58Z", "message": "CB-5077. Add missing Kafka/HBase logs (to monitor by fluentd)"}, "afterCommit": {"oid": "e4f0295f55c6e2492ceadc4eedbd9ab10fa2fe70", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/e4f0295f55c6e2492ceadc4eedbd9ab10fa2fe70", "committedDate": "2020-01-15T09:37:54Z", "message": "CB-5077. Add missing Kafka/HBase logs (to monitor by fluentd)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4569a1ab6865b08c2e7fa323f833346b5cfe5331", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/4569a1ab6865b08c2e7fa323f833346b5cfe5331", "committedDate": "2020-01-15T09:40:49Z", "message": "CB-5077. Add missing Kafka/HBase logs (to monitor by fluentd)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e4f0295f55c6e2492ceadc4eedbd9ab10fa2fe70", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/e4f0295f55c6e2492ceadc4eedbd9ab10fa2fe70", "committedDate": "2020-01-15T09:37:54Z", "message": "CB-5077. Add missing Kafka/HBase logs (to monitor by fluentd)"}, "afterCommit": {"oid": "4569a1ab6865b08c2e7fa323f833346b5cfe5331", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/4569a1ab6865b08c2e7fa323f833346b5cfe5331", "committedDate": "2020-01-15T09:40:49Z", "message": "CB-5077. Add missing Kafka/HBase logs (to monitor by fluentd)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzMDkyNzQw", "url": "https://github.com/hortonworks/cloudbreak/pull/7072#pullrequestreview-343092740", "createdAt": "2020-01-15T09:43:59Z", "commit": {"oid": "4569a1ab6865b08c2e7fa323f833346b5cfe5331"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1974, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}