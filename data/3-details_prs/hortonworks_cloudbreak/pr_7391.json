{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5Nzk2NTcx", "number": 7391, "title": "CB-4886 Add feature flag for IDBroker mapping validation", "bodyText": "Adds a feature flag for cloud storage validation which includes the IDBroker mapping validation. It is disabled by default. The validation is enabled by modifying the environment creation request. CB-5768 is for switching to enabled by default.", "createdAt": "2020-02-25T20:56:09Z", "url": "https://github.com/hortonworks/cloudbreak/pull/7391", "merged": true, "mergeCommit": {"oid": "86accbcf12a35a38d046a83c99433653cf5e2eac"}, "closed": true, "closedAt": "2020-03-03T16:09:16Z", "author": {"login": "risdenk"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIIIUOABqjMwNzQxMTc3NDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKC7ELgBqjMwOTIzMTAyODM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "605f69fd1755cf276569df8a1fcd17ad1e6385c2", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/605f69fd1755cf276569df8a1fcd17ad1e6385c2", "committedDate": "2020-02-25T20:53:06Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}, "afterCommit": {"oid": "ed6d46ace4bf79cf7df2974bb41c5b82bc67e0c5", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/ed6d46ace4bf79cf7df2974bb41c5b82bc67e0c5", "committedDate": "2020-02-26T15:05:36Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ed6d46ace4bf79cf7df2974bb41c5b82bc67e0c5", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/ed6d46ace4bf79cf7df2974bb41c5b82bc67e0c5", "committedDate": "2020-02-26T15:05:36Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}, "afterCommit": {"oid": "c0d10fb29fad68e9c8bbbacb44abe9a9eb1bbdc4", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/c0d10fb29fad68e9c8bbbacb44abe9a9eb1bbdc4", "committedDate": "2020-02-26T18:40:42Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c0d10fb29fad68e9c8bbbacb44abe9a9eb1bbdc4", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/c0d10fb29fad68e9c8bbbacb44abe9a9eb1bbdc4", "committedDate": "2020-02-26T18:40:42Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}, "afterCommit": {"oid": "62d5dceeaa1967be6da4541a138a63f235b192ee", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/62d5dceeaa1967be6da4541a138a63f235b192ee", "committedDate": "2020-02-27T19:58:02Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "62d5dceeaa1967be6da4541a138a63f235b192ee", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/62d5dceeaa1967be6da4541a138a63f235b192ee", "committedDate": "2020-02-27T19:58:02Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}, "afterCommit": {"oid": "74f63801f0255f52648e768446d75eedcd94c314", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/74f63801f0255f52648e768446d75eedcd94c314", "committedDate": "2020-02-28T11:41:02Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2MzM2NTc1", "url": "https://github.com/hortonworks/cloudbreak/pull/7391#pullrequestreview-366336575", "createdAt": "2020-02-28T11:36:52Z", "commit": {"oid": "62d5dceeaa1967be6da4541a138a63f235b192ee"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMTozNjo1MlrOFvyJ9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMTozNjo1MlrOFvyJ9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTY0OTE0Mw==", "bodyText": "please log it out when the validation is disabled", "url": "https://github.com/hortonworks/cloudbreak/pull/7391#discussion_r385649143", "createdAt": "2020-02-28T11:36:52Z", "author": {"login": "attilapalfi92"}, "path": "datalake/src/main/java/com/sequenceiq/datalake/service/validation/cloudstorage/CloudStorageValidator.java", "diffHunk": "@@ -37,7 +38,7 @@ public CloudStorageValidator(CredentialToCloudCredentialConverter credentialToCl\n \n     public void validate(CloudStorageRequest cloudStorageRequest, DetailedEnvironmentResponse environment) {\n         LOGGER.info(\"Validating cloudStorageRequest: {}\", JsonUtil.writeValueAsStringSilent(cloudStorageRequest));\n-        if (cloudStorageRequest != null) {\n+        if (cloudStorageRequest != null && CloudStorageValidation.ENABLED.equals(environment.getCloudStorageValidation())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62d5dceeaa1967be6da4541a138a63f235b192ee"}, "originalPosition": 13}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "74f63801f0255f52648e768446d75eedcd94c314", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/74f63801f0255f52648e768446d75eedcd94c314", "committedDate": "2020-02-28T11:41:02Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}, "afterCommit": {"oid": "24531fadf5e045b98f7cbe76571960a6124bdce9", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/24531fadf5e045b98f7cbe76571960a6124bdce9", "committedDate": "2020-02-28T13:55:00Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2NDQ4Mjkz", "url": "https://github.com/hortonworks/cloudbreak/pull/7391#pullrequestreview-366448293", "createdAt": "2020-02-28T14:46:23Z", "commit": {"oid": "24531fadf5e045b98f7cbe76571960a6124bdce9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "24531fadf5e045b98f7cbe76571960a6124bdce9", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/24531fadf5e045b98f7cbe76571960a6124bdce9", "committedDate": "2020-02-28T13:55:00Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}, "afterCommit": {"oid": "1a0c8a0a300bbf47575e9df6126ca52860d5b367", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/1a0c8a0a300bbf47575e9df6126ca52860d5b367", "committedDate": "2020-03-02T15:34:34Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "734c9535a3fd5f38d2ceb7f0bcf5d30fc4d85dfa", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/734c9535a3fd5f38d2ceb7f0bcf5d30fc4d85dfa", "committedDate": "2020-03-03T14:09:27Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1a0c8a0a300bbf47575e9df6126ca52860d5b367", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/1a0c8a0a300bbf47575e9df6126ca52860d5b367", "committedDate": "2020-03-02T15:34:34Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}, "afterCommit": {"oid": "734c9535a3fd5f38d2ceb7f0bcf5d30fc4d85dfa", "author": {"user": {"login": "risdenk", "name": "Kevin Risden"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/734c9535a3fd5f38d2ceb7f0bcf5d30fc4d85dfa", "committedDate": "2020-03-03T14:09:27Z", "message": "CB-4886 Add feature flag for IDBroker mapping validation\n\nSigned-off-by: Kevin Risden <krisden@cloudera.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2599, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}