{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2NDc4OTM1", "number": 8514, "title": "CB-6680: repair after upgrade", "bodyText": "This PR contains the following improvements:\n\nCB-6680 - Replace VM image after a successful in-place upgrade\nCB-6795 - Unify OS upgrade flow and CDP upgrade flow\n\nBesides those, the commit is meant to fix the following issues\n\nCB-7841 - Parameter --lock-components should work in conjunction with --imageid\nCB-7842 - OS upgrade should not be permitted to image with former timestamp", "createdAt": "2020-07-08T20:52:18Z", "url": "https://github.com/hortonworks/cloudbreak/pull/8514", "merged": true, "mergeCommit": {"oid": "556934de1269b296c0c3a2920a484704ca440802"}, "closed": true, "closedAt": "2020-07-20T17:47:58Z", "author": {"login": "pdarvasi"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczBvYugBqjM1MjcxODMwNzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc20uhMAFqTQ1MTc5NTYyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "09d83137924a8ed144a9ac07b3ac93e4b3ff5b80", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/09d83137924a8ed144a9ac07b3ac93e4b3ff5b80", "committedDate": "2020-07-08T20:50:37Z", "message": "CB-6680: repair after upgrade"}, "afterCommit": {"oid": "59d4d631eaaadb49311fb10d671f5b6f9ee58bc6", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/59d4d631eaaadb49311fb10d671f5b6f9ee58bc6", "committedDate": "2020-07-08T21:57:20Z", "message": "CB-6680: repair after upgrade"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "59d4d631eaaadb49311fb10d671f5b6f9ee58bc6", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/59d4d631eaaadb49311fb10d671f5b6f9ee58bc6", "committedDate": "2020-07-08T21:57:20Z", "message": "CB-6680: repair after upgrade"}, "afterCommit": {"oid": "296ef6b0f7f6ed8e90d923ac38a76ca191c080ab", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/296ef6b0f7f6ed8e90d923ac38a76ca191c080ab", "committedDate": "2020-07-16T19:46:58Z", "message": "CB-6680: repair after upgrade"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "296ef6b0f7f6ed8e90d923ac38a76ca191c080ab", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/296ef6b0f7f6ed8e90d923ac38a76ca191c080ab", "committedDate": "2020-07-16T19:46:58Z", "message": "CB-6680: repair after upgrade"}, "afterCommit": {"oid": "76d6e620ac7e3a358234cdcc3f2164f71503d48b", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/76d6e620ac7e3a358234cdcc3f2164f71503d48b", "committedDate": "2020-07-16T20:21:36Z", "message": "CB-6680: repair after upgrade"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "76d6e620ac7e3a358234cdcc3f2164f71503d48b", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/76d6e620ac7e3a358234cdcc3f2164f71503d48b", "committedDate": "2020-07-16T20:21:36Z", "message": "CB-6680: repair after upgrade"}, "afterCommit": {"oid": "4a5fae1676f40c43841cbb78c38e90591c746a66", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/4a5fae1676f40c43841cbb78c38e90591c746a66", "committedDate": "2020-07-16T20:27:16Z", "message": "CB-6680: repair after upgrade"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4a5fae1676f40c43841cbb78c38e90591c746a66", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/4a5fae1676f40c43841cbb78c38e90591c746a66", "committedDate": "2020-07-16T20:27:16Z", "message": "CB-6680: repair after upgrade"}, "afterCommit": {"oid": "b07a95dfcd3f09fdd1363066f1d563e991fd019d", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/b07a95dfcd3f09fdd1363066f1d563e991fd019d", "committedDate": "2020-07-16T20:47:34Z", "message": "CB-6680: repair after upgrade"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b07a95dfcd3f09fdd1363066f1d563e991fd019d", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/b07a95dfcd3f09fdd1363066f1d563e991fd019d", "committedDate": "2020-07-16T20:47:34Z", "message": "CB-6680: repair after upgrade"}, "afterCommit": {"oid": "2b42ec24b150d1c5ea83758f4c66d4f25a69adf2", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/2b42ec24b150d1c5ea83758f4c66d4f25a69adf2", "committedDate": "2020-07-17T12:35:05Z", "message": "CB-6680: repair after upgrade"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2b42ec24b150d1c5ea83758f4c66d4f25a69adf2", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/2b42ec24b150d1c5ea83758f4c66d4f25a69adf2", "committedDate": "2020-07-17T12:35:05Z", "message": "CB-6680: repair after upgrade"}, "afterCommit": {"oid": "616d4bcc9baaeef022f2893f3042167cd98a29de", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/616d4bcc9baaeef022f2893f3042167cd98a29de", "committedDate": "2020-07-17T21:15:35Z", "message": "CB-6680: repair after upgrade"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "616d4bcc9baaeef022f2893f3042167cd98a29de", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/616d4bcc9baaeef022f2893f3042167cd98a29de", "committedDate": "2020-07-17T21:15:35Z", "message": "CB-6680: repair after upgrade"}, "afterCommit": {"oid": "e4ab30e06962d9f138bbf8d1070a9e5e141b13a8", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/e4ab30e06962d9f138bbf8d1070a9e5e141b13a8", "committedDate": "2020-07-18T07:43:19Z", "message": "CB-6680: repair after upgrade"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5768b8adaea6f02802cdd369d5c611c7547cf9ef", "author": {"user": {"login": "doktoric", "name": "Richard Doktorics"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/5768b8adaea6f02802cdd369d5c611c7547cf9ef", "committedDate": "2020-07-20T06:50:20Z", "message": "CB-8043 Fix Flink Azure template master nodecount"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMzYyMTcw", "url": "https://github.com/hortonworks/cloudbreak/pull/8514#pullrequestreview-451362170", "createdAt": "2020-07-20T07:35:01Z", "commit": {"oid": "e4ab30e06962d9f138bbf8d1070a9e5e141b13a8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNzozNTowMVrOGz9P_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNzozNTowMVrOGz9P_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzEzNDA3Nw==", "bodyText": "!true we can use false?", "url": "https://github.com/hortonworks/cloudbreak/pull/8514#discussion_r457134077", "createdAt": "2020-07-20T07:35:01Z", "author": {"login": "keyki"}, "path": "core-api/src/main/java/com/sequenceiq/cloudbreak/validation/UpgradeRequestValidator.java", "diffHunk": "@@ -0,0 +1,31 @@\n+package com.sequenceiq.cloudbreak.validation;\n+\n+import java.util.Objects;\n+\n+import javax.validation.ConstraintValidator;\n+import javax.validation.ConstraintValidatorContext;\n+\n+import org.apache.commons.lang3.StringUtils;\n+\n+import com.sequenceiq.cloudbreak.api.endpoint.v4.stacks.request.tags.upgrade.UpgradeV4Request;\n+\n+public class UpgradeRequestValidator implements ConstraintValidator<ValidUpgradeRequest, UpgradeV4Request> {\n+\n+    @Override\n+    public boolean isValid(UpgradeV4Request value, ConstraintValidatorContext context) {\n+        if (Objects.isNull(value)) {\n+            return false;\n+        }\n+        return isOsUpgrade(value) || isRuntimeUpgrade(value);\n+    }\n+\n+    private boolean isOsUpgrade(UpgradeV4Request request) {\n+        return Boolean.TRUE.equals(request.getLockComponents()) && StringUtils.isEmpty(request.getRuntime());\n+    }\n+\n+    private boolean isRuntimeUpgrade(UpgradeV4Request request) {\n+        return !Boolean.TRUE.equals(request.getLockComponents())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4ab30e06962d9f138bbf8d1070a9e5e141b13a8"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMzY5MjI5", "url": "https://github.com/hortonworks/cloudbreak/pull/8514#pullrequestreview-451369229", "createdAt": "2020-07-20T07:46:12Z", "commit": {"oid": "e4ab30e06962d9f138bbf8d1070a9e5e141b13a8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNzo0NjoxMlrOGz9tHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNzo0NjoxMlrOGz9tHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0MTUzMg==", "bodyText": "Can you add some parentheses, what are we comparing or even better to extract them to methods to better understand what are the conditions.", "url": "https://github.com/hortonworks/cloudbreak/pull/8514#discussion_r457141532", "createdAt": "2020-07-20T07:46:12Z", "author": {"login": "keyki"}, "path": "core/src/main/java/com/sequenceiq/cloudbreak/service/upgrade/ClusterUpgradeImageFilter.java", "diffHunk": "@@ -72,6 +74,17 @@ private ImageFilterResult filterImages(List<Image> availableImages, Image curren\n         return new ImageFilterResult(new Images(null, images, null), getReason(images));\n     }\n \n+    private Predicate<Image> filterPreviousImages(Image currentImage, boolean lockComponents) {\n+        return image -> {\n+            boolean result = !lockComponents", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4ab30e06962d9f138bbf8d1070a9e5e141b13a8"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMzcwNDk1", "url": "https://github.com/hortonworks/cloudbreak/pull/8514#pullrequestreview-451370495", "createdAt": "2020-07-20T07:48:06Z", "commit": {"oid": "e4ab30e06962d9f138bbf8d1070a9e5e141b13a8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNzo0ODowNlrOGz9yRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNzo0ODowNlrOGz9yRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0Mjg1Mg==", "bodyText": "!true = false", "url": "https://github.com/hortonworks/cloudbreak/pull/8514#discussion_r457142852", "createdAt": "2020-07-20T07:48:06Z", "author": {"login": "keyki"}, "path": "datalake-api/src/main/java/com/sequenceiq/sdx/validation/UpgradeRequestValidator.java", "diffHunk": "@@ -0,0 +1,31 @@\n+package com.sequenceiq.sdx.validation;\n+\n+import java.util.Objects;\n+\n+import javax.validation.ConstraintValidator;\n+import javax.validation.ConstraintValidatorContext;\n+\n+import org.apache.commons.lang3.StringUtils;\n+\n+import com.sequenceiq.sdx.api.model.SdxUpgradeRequest;\n+\n+public class UpgradeRequestValidator implements ConstraintValidator<ValidUpgradeRequest, SdxUpgradeRequest> {\n+\n+    @Override\n+    public boolean isValid(SdxUpgradeRequest value, ConstraintValidatorContext context) {\n+        if (Objects.isNull(value)) {\n+            return false;\n+        }\n+        return isOsUpgrade(value) || isRuntimeUpgrade(value);\n+    }\n+\n+    private boolean isOsUpgrade(SdxUpgradeRequest request) {\n+        return Boolean.TRUE.equals(request.getLockComponents()) && StringUtils.isEmpty(request.getRuntime());\n+    }\n+\n+    private boolean isRuntimeUpgrade(SdxUpgradeRequest request) {\n+        return !Boolean.TRUE.equals(request.getLockComponents())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4ab30e06962d9f138bbf8d1070a9e5e141b13a8"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3973ca8c19459adbc816d772ab8b3b46a40af85f", "author": {"user": {"login": "doktoric", "name": "Richard Doktorics"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/3973ca8c19459adbc816d772ab8b3b46a40af85f", "committedDate": "2020-07-20T08:30:23Z", "message": "Merge pull request #8592 from hortonworks/CB-8043\n\nCB-8043 Fix Flink Azure template master nodecount"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNDEwODY3", "url": "https://github.com/hortonworks/cloudbreak/pull/8514#pullrequestreview-451410867", "createdAt": "2020-07-20T08:45:34Z", "commit": {"oid": "e4ab30e06962d9f138bbf8d1070a9e5e141b13a8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwODo0NTozNFrOG0AZ2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwODo0NTozNFrOG0AZ2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE4NTc1Mw==", "bodyText": "messagesService is not used anymore", "url": "https://github.com/hortonworks/cloudbreak/pull/8514#discussion_r457185753", "createdAt": "2020-07-20T08:45:34Z", "author": {"login": "keyki"}, "path": "datalake/src/main/java/com/sequenceiq/datalake/service/sdx/SdxUpgradeService.java", "diffHunk": "@@ -290,8 +241,4 @@ private boolean stackAndClusterAvailable(StackV4Response stackV4Response, Cluste\n                 && cluster.getStatus() != null\n                 && cluster.getStatus().isAvailable();\n     }\n-\n-    private String getMessage(String imageId) {\n-        return messagesService.getMessage(ResourceEvent.DATALAKE_UPGRADE.getMessage(), Collections.singletonList(imageId));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4ab30e06962d9f138bbf8d1070a9e5e141b13a8"}, "originalPosition": 100}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNDk2MDg0", "url": "https://github.com/hortonworks/cloudbreak/pull/8514#pullrequestreview-451496084", "createdAt": "2020-07-20T10:46:39Z", "commit": {"oid": "e4ab30e06962d9f138bbf8d1070a9e5e141b13a8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMDo0NjozOVrOG0FrKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMDo0ODozN1rOG0FwHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI3MjEwNg==", "bodyText": "Please rename the logger class to SdxRuntimeUpgradeService", "url": "https://github.com/hortonworks/cloudbreak/pull/8514#discussion_r457272106", "createdAt": "2020-07-20T10:46:39Z", "author": {"login": "tiborpopovics"}, "path": "datalake/src/main/java/com/sequenceiq/datalake/service/upgrade/SdxRuntimeUpgradeService.java", "diffHunk": "@@ -24,18 +27,23 @@\n import com.sequenceiq.cloudbreak.event.ResourceEvent;\n import com.sequenceiq.cloudbreak.logger.MDCBuilder;\n import com.sequenceiq.cloudbreak.message.CloudbreakMessagesService;\n+import com.sequenceiq.cloudbreak.util.NullUtil;\n import com.sequenceiq.datalake.controller.exception.BadRequestException;\n import com.sequenceiq.datalake.controller.sdx.SdxUpgradeClusterConverter;\n+import com.sequenceiq.datalake.controller.sdx.SdxUpgradeController;\n import com.sequenceiq.datalake.entity.SdxCluster;\n import com.sequenceiq.datalake.flow.SdxReactorFlowManager;\n import com.sequenceiq.datalake.service.sdx.SdxService;\n import com.sequenceiq.flow.api.model.FlowIdentifier;\n+import com.sequenceiq.sdx.api.model.SdxUpgradeReplaceVms;\n import com.sequenceiq.sdx.api.model.SdxUpgradeRequest;\n import com.sequenceiq.sdx.api.model.SdxUpgradeResponse;\n \n @Component\n public class SdxRuntimeUpgradeService {\n \n+    private static final Logger LOGGER = LoggerFactory.getLogger(SdxUpgradeController.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4ab30e06962d9f138bbf8d1070a9e5e141b13a8"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI3MzM3NQ==", "bodyText": "Please remove this empty line", "url": "https://github.com/hortonworks/cloudbreak/pull/8514#discussion_r457273375", "createdAt": "2020-07-20T10:48:37Z", "author": {"login": "tiborpopovics"}, "path": "datalake/src/main/java/com/sequenceiq/datalake/service/upgrade/SdxRuntimeUpgradeService.java", "diffHunk": "@@ -56,51 +64,63 @@\n     @Inject\n     private EntitlementService entitlementService;\n \n-    public SdxUpgradeResponse checkForRuntimeUpgradeByName(String userCrn, String name, SdxUpgradeRequest upgradeSdxClusterRequest) {\n-        verifyRuntimeUpgradeEntitlement(userCrn);\n-        UpgradeV4Response upgradeV4Response = stackV4Endpoint.checkForClusterUpgradeByName(0L, name,\n-                sdxUpgradeClusterConverter.sdxUpgradeRequestToUpgradeV4Request(upgradeSdxClusterRequest));\n-        return sdxUpgradeClusterConverter.upgradeResponseToSdxUpgradeResponse(upgradeV4Response);\n+    public SdxUpgradeResponse checkForUpgradeByName(String userCrn, String clusterName, SdxUpgradeRequest upgradeSdxClusterRequest) {\n+        SdxUpgradeResponse sdxUpgradeResponse = checkForSdxUpgradeResponse(userCrn, upgradeSdxClusterRequest, clusterName);\n+        validateUpgradeCandidates(clusterName, sdxUpgradeResponse);\n+        return sdxUpgradeResponse;\n     }\n \n-    public SdxUpgradeResponse checkForRuntimeUpgradeByCrn(String userCrn, String crn, SdxUpgradeRequest upgradeSdxClusterRequest) {\n-        verifyRuntimeUpgradeEntitlement(userCrn);\n-        SdxCluster sdxCluster = sdxService.getByCrn(userCrn, crn);\n-        UpgradeV4Response upgradeV4Response = stackV4Endpoint.checkForClusterUpgradeByName(WORKSPACE_ID, sdxCluster.getClusterName(),\n-                sdxUpgradeClusterConverter.sdxUpgradeRequestToUpgradeV4Request(upgradeSdxClusterRequest));\n-        return sdxUpgradeClusterConverter.upgradeResponseToSdxUpgradeResponse(upgradeV4Response);\n+    public SdxUpgradeResponse checkForUpgradeByCrn(String userCrn, String crn, SdxUpgradeRequest upgradeSdxClusterRequest) {\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4ab30e06962d9f138bbf8d1070a9e5e141b13a8"}, "originalPosition": 63}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e4ab30e06962d9f138bbf8d1070a9e5e141b13a8", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/e4ab30e06962d9f138bbf8d1070a9e5e141b13a8", "committedDate": "2020-07-18T07:43:19Z", "message": "CB-6680: repair after upgrade"}, "afterCommit": {"oid": "ecc7999925fd86507efed1d3e1d82475d13d67f9", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/ecc7999925fd86507efed1d3e1d82475d13d67f9", "committedDate": "2020-07-20T14:37:03Z", "message": "CB-6680: repair after upgrade"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNjgzODIx", "url": "https://github.com/hortonworks/cloudbreak/pull/8514#pullrequestreview-451683821", "createdAt": "2020-07-20T14:53:10Z", "commit": {"oid": "ecc7999925fd86507efed1d3e1d82475d13d67f9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53650b5006e91f3502fb59e97d1353f874edb00d", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/53650b5006e91f3502fb59e97d1353f874edb00d", "committedDate": "2020-07-20T16:39:38Z", "message": "CB-6795 - Remove incorrectly generated swagger field"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c64ae5c444ef31c568b3b65d11c6ea142eebe17", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/3c64ae5c444ef31c568b3b65d11c6ea142eebe17", "committedDate": "2020-07-20T16:46:27Z", "message": "Merge remote-tracking branch 'origin/CB-2.26.0'"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ecc7999925fd86507efed1d3e1d82475d13d67f9", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/ecc7999925fd86507efed1d3e1d82475d13d67f9", "committedDate": "2020-07-20T14:37:03Z", "message": "CB-6680: repair after upgrade"}, "afterCommit": {"oid": "df3ea071bc7753920c3c66b638bfc8190b74085e", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/df3ea071bc7753920c3c66b638bfc8190b74085e", "committedDate": "2020-07-20T16:48:21Z", "message": "CB-6680: repair after upgrade"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b41917e1047e1b848c59672dd8e7f16bd097a568", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/b41917e1047e1b848c59672dd8e7f16bd097a568", "committedDate": "2020-07-20T17:01:06Z", "message": "CB-6680: repair after upgrade"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "df3ea071bc7753920c3c66b638bfc8190b74085e", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/df3ea071bc7753920c3c66b638bfc8190b74085e", "committedDate": "2020-07-20T16:48:21Z", "message": "CB-6680: repair after upgrade"}, "afterCommit": {"oid": "b41917e1047e1b848c59672dd8e7f16bd097a568", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/b41917e1047e1b848c59672dd8e7f16bd097a568", "committedDate": "2020-07-20T17:01:06Z", "message": "CB-6680: repair after upgrade"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNzk1NjIx", "url": "https://github.com/hortonworks/cloudbreak/pull/8514#pullrequestreview-451795621", "createdAt": "2020-07-20T17:03:52Z", "commit": {"oid": "b41917e1047e1b848c59672dd8e7f16bd097a568"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2688, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}