{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4MTA0ODA0", "number": 7159, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwNjo0Nzo0MlrODbd6iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwNjo0Nzo0MlrODbd6iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwMTI4MjY3OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/com/sequenceiq/cloudbreak/util/ParcelAccessibilityTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwNjo0Nzo0MlrOFi-DuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwNzoyMTozNlrOFi-rQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjIxMjY2NQ==", "bodyText": "Is the parcel url should be ended with /?", "url": "https://github.com/hortonworks/cloudbreak/pull/7159#discussion_r372212665", "createdAt": "2020-01-29T06:47:42Z", "author": {"login": "topolyai5"}, "path": "core/src/test/java/com/sequenceiq/cloudbreak/util/ParcelAccessibilityTest.java", "diffHunk": "@@ -26,29 +28,47 @@\n \n public class ParcelAccessibilityTest {\n \n+    private static Map<String, Object> appYaml;\n+\n+    @BeforeAll\n+    public static void setUp() throws IOException, URISyntaxException {\n+        appYaml = readCoreAppYaml();\n+    }\n+\n+    @Test\n+    public void testParcelAccessibility() {\n+        List<DefaultCDHInfo> defaultCDHInfo = getCsds(appYaml);\n+        defaultCDHInfo.stream()\n+                .filter(s -> !s.getParcels().isEmpty())\n+                .flatMap(s -> s.getParcels().stream())\n+                .flatMap(s -> s.getCsd().stream())\n+                .forEach(this::validateUrl);\n+    }\n+\n     @Test\n-    public void testParcelAccessibility() throws URISyntaxException, IOException {\n+    void validateParcelUrls() {\n+        List<DefaultCDHInfo> defaultCDHInfo = getCsds(appYaml);\n+        defaultCDHInfo.stream()\n+                .filter(s -> !s.getRepo().getStack().isEmpty())\n+                .flatMap(s -> s.getRepo().getStack().entrySet().stream())\n+                .map(s -> s.getValue() + \"manifest.json\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c86446c2203fc3d6b1301097959f2f853c5a5e8"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjIyMjc4NA==", "bodyText": "So far all parcel URL's ended with a slash and from now it will be enforced.", "url": "https://github.com/hortonworks/cloudbreak/pull/7159#discussion_r372222784", "createdAt": "2020-01-29T07:21:36Z", "author": {"login": "lnardai"}, "path": "core/src/test/java/com/sequenceiq/cloudbreak/util/ParcelAccessibilityTest.java", "diffHunk": "@@ -26,29 +28,47 @@\n \n public class ParcelAccessibilityTest {\n \n+    private static Map<String, Object> appYaml;\n+\n+    @BeforeAll\n+    public static void setUp() throws IOException, URISyntaxException {\n+        appYaml = readCoreAppYaml();\n+    }\n+\n+    @Test\n+    public void testParcelAccessibility() {\n+        List<DefaultCDHInfo> defaultCDHInfo = getCsds(appYaml);\n+        defaultCDHInfo.stream()\n+                .filter(s -> !s.getParcels().isEmpty())\n+                .flatMap(s -> s.getParcels().stream())\n+                .flatMap(s -> s.getCsd().stream())\n+                .forEach(this::validateUrl);\n+    }\n+\n     @Test\n-    public void testParcelAccessibility() throws URISyntaxException, IOException {\n+    void validateParcelUrls() {\n+        List<DefaultCDHInfo> defaultCDHInfo = getCsds(appYaml);\n+        defaultCDHInfo.stream()\n+                .filter(s -> !s.getRepo().getStack().isEmpty())\n+                .flatMap(s -> s.getRepo().getStack().entrySet().stream())\n+                .map(s -> s.getValue() + \"manifest.json\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjIxMjY2NQ=="}, "originalCommit": {"oid": "9c86446c2203fc3d6b1301097959f2f853c5a5e8"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2880, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}