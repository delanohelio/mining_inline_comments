{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4MzE4NTYy", "number": 7353, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNDo1MDowMlrODh5yxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNDo1MDowMlrODh5yxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2ODc2NDg3OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/sequenceiq/cloudbreak/service/stack/flow/StackSyncService.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNDo1MDowMlrOFs5ZHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNToyMjo0N1rOFs6h7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYyMTk4MQ==", "bodyText": "you should update the cluster status in the other case as well", "url": "https://github.com/hortonworks/cloudbreak/pull/7353#discussion_r382621981", "createdAt": "2020-02-21T14:50:02Z", "author": {"login": "topolyai5"}, "path": "core/src/main/java/com/sequenceiq/cloudbreak/service/stack/flow/StackSyncService.java", "diffHunk": "@@ -217,6 +222,7 @@ private void handleSyncResult(Stack stack, Map<InstanceSyncState, Integer> insta\n             eventService.fireCloudbreakEvent(stack.getId(), AVAILABLE.name(), STACK_SYNC_INSTANCE_STATE_SYNCED);\n         } else if (isAllStopped(instanceStateCounts, instances.size()) && stack.getStatus() != STOPPED) {\n             updateStackStatusIfEnabled(stack.getId(), DetailedStackStatus.STOPPED, SYNC_STATUS_REASON, stackStatusUpdateEnabled);\n+            updateClusterStatusIfEnabled(stack.getId(), STOPPED, stackStatusUpdateEnabled);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10de84818051e8b5d77555b877f89c8a7351a199"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYzNjk5NA==", "bodyText": "I don't think so", "url": "https://github.com/hortonworks/cloudbreak/pull/7353#discussion_r382636994", "createdAt": "2020-02-21T15:16:06Z", "author": {"login": "bbihari"}, "path": "core/src/main/java/com/sequenceiq/cloudbreak/service/stack/flow/StackSyncService.java", "diffHunk": "@@ -217,6 +222,7 @@ private void handleSyncResult(Stack stack, Map<InstanceSyncState, Integer> insta\n             eventService.fireCloudbreakEvent(stack.getId(), AVAILABLE.name(), STACK_SYNC_INSTANCE_STATE_SYNCED);\n         } else if (isAllStopped(instanceStateCounts, instances.size()) && stack.getStatus() != STOPPED) {\n             updateStackStatusIfEnabled(stack.getId(), DetailedStackStatus.STOPPED, SYNC_STATUS_REASON, stackStatusUpdateEnabled);\n+            updateClusterStatusIfEnabled(stack.getId(), STOPPED, stackStatusUpdateEnabled);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYyMTk4MQ=="}, "originalCommit": {"oid": "10de84818051e8b5d77555b877f89c8a7351a199"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY0MDYyMw==", "bodyText": "We talked in slack. The cluster status will be set at the other part of the sync. I accept the change", "url": "https://github.com/hortonworks/cloudbreak/pull/7353#discussion_r382640623", "createdAt": "2020-02-21T15:22:47Z", "author": {"login": "topolyai5"}, "path": "core/src/main/java/com/sequenceiq/cloudbreak/service/stack/flow/StackSyncService.java", "diffHunk": "@@ -217,6 +222,7 @@ private void handleSyncResult(Stack stack, Map<InstanceSyncState, Integer> insta\n             eventService.fireCloudbreakEvent(stack.getId(), AVAILABLE.name(), STACK_SYNC_INSTANCE_STATE_SYNCED);\n         } else if (isAllStopped(instanceStateCounts, instances.size()) && stack.getStatus() != STOPPED) {\n             updateStackStatusIfEnabled(stack.getId(), DetailedStackStatus.STOPPED, SYNC_STATUS_REASON, stackStatusUpdateEnabled);\n+            updateClusterStatusIfEnabled(stack.getId(), STOPPED, stackStatusUpdateEnabled);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYyMTk4MQ=="}, "originalCommit": {"oid": "10de84818051e8b5d77555b877f89c8a7351a199"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2764, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}