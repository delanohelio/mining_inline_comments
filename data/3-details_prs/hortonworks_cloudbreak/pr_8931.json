{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc5NTI1Mjk0", "number": 8931, "title": "DISTX-504 Optimize DB Cluster Update", "bodyText": "AS Cluster's lastEvaluated and lastScalingActivity are updated at a very high rate for every alert monitor run. Saving the entire cluster object hierarchy in this flow is inefficient and unnecessary. Hence only the required single field is updated.\nSee detailed description in the commit message.", "createdAt": "2020-09-04T09:57:34Z", "url": "https://github.com/hortonworks/cloudbreak/pull/8931", "merged": true, "mergeCommit": {"oid": "062ffe78dd153560412e1f60ed48b022725f572f"}, "closed": true, "closedAt": "2020-09-07T05:59:25Z", "author": {"login": "smaniraju"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFiG_iAH2gAyNDc5NTI1Mjk0OjcyYTZjOGFmNTI3NzcyNzg1YjgxMWI3NDg3NmE1Yzk4ZjBhNzU1MjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFprrEAFqTQ4Mjg3MjgzNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "72a6c8af527772785b811b74876a5c98f0a75522", "author": {"user": {"login": "smaniraju", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/72a6c8af527772785b811b74876a5c98f0a75522", "committedDate": "2020-09-04T09:51:16Z", "message": "DISTX-504 Optimize DB Cluster Update\n\nAS Cluster's lastEvaluated and lastScalingActivity are updated at a very high rate for every alert monitor run. Saving the entire cluster object hierarchy in this flow is inefficient and unnecessary. Hence only the required single field is updated."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyNTIyNjQ3", "url": "https://github.com/hortonworks/cloudbreak/pull/8931#pullrequestreview-482522647", "createdAt": "2020-09-04T09:58:32Z", "commit": {"oid": "72a6c8af527772785b811b74876a5c98f0a75522"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQwOTo1ODozMlrOHNHj0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQwOTo1ODozMlrOHNHj0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzUxNzM5Mw==", "bodyText": "The returned object is unused and avoids additional DB Hit in ClusterMonitor.", "url": "https://github.com/hortonworks/cloudbreak/pull/8931#discussion_r483517393", "createdAt": "2020-09-04T09:58:32Z", "author": {"login": "smaniraju"}, "path": "autoscale/src/main/java/com/sequenceiq/periscope/monitor/AbstractMonitor.java", "diffHunk": "@@ -64,7 +64,7 @@ protected EvaluatorExecutor getEvaluatorExecutorBean(M monitored) {\n \n     protected abstract List<M> getMonitored();\n \n-    protected abstract M save(M monitored);\n+    protected abstract void save(M monitored);\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72a6c8af527772785b811b74876a5c98f0a75522"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyNzgzMTE5", "url": "https://github.com/hortonworks/cloudbreak/pull/8931#pullrequestreview-482783119", "createdAt": "2020-09-04T16:13:47Z", "commit": {"oid": "72a6c8af527772785b811b74876a5c98f0a75522"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxNjoxMzo0N1rOHNT7Zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxNjoxMzo0N1rOHNT7Zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzcyMDAzOQ==", "bodyText": "Will this change affect HA deployments, and failover?", "url": "https://github.com/hortonworks/cloudbreak/pull/8931#discussion_r483720039", "createdAt": "2020-09-04T16:13:47Z", "author": {"login": "sidseth"}, "path": "autoscale/src/main/java/com/sequenceiq/periscope/monitor/AbstractMonitor.java", "diffHunk": "@@ -64,7 +64,7 @@ protected EvaluatorExecutor getEvaluatorExecutorBean(M monitored) {\n \n     protected abstract List<M> getMonitored();\n \n-    protected abstract M save(M monitored);\n+    protected abstract void save(M monitored);\n ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzUxNzM5Mw=="}, "originalCommit": {"oid": "72a6c8af527772785b811b74876a5c98f0a75522"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyODcyODM0", "url": "https://github.com/hortonworks/cloudbreak/pull/8931#pullrequestreview-482872834", "createdAt": "2020-09-04T18:40:40Z", "commit": {"oid": "72a6c8af527772785b811b74876a5c98f0a75522"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2415, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}