{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3MTQ0NjMx", "number": 7324, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxMjo1Mjo0N1rODhDsrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxMjo1Mjo0N1rODhDsrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1OTkwMTg4OnYy", "diffSide": "RIGHT", "path": "environment/src/main/java/com/sequenceiq/environment/environment/flow/deletion/handler/freeipa/FreeIpaDeletionHandler.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxMjo1Mjo0N1rOFrm6uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxMjo1Mjo0N1rOFrm6uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTI3MDcxNQ==", "bodyText": "I think we should use the deleted condition in these cases because envOptional.get().isCreateFreeIpa() is dedicated to reduce the number of calls on FreeIPA service as FreeIPA creation hasn't been requested then we have no business on FreeIPA service side", "url": "https://github.com/hortonworks/cloudbreak/pull/7324#discussion_r381270715", "createdAt": "2020-02-19T12:52:47Z", "author": {"login": "biharitomi"}, "path": "environment/src/main/java/com/sequenceiq/environment/environment/flow/deletion/handler/freeipa/FreeIpaDeletionHandler.java", "diffHunk": "@@ -56,24 +55,12 @@ public void accept(Event<EnvironmentDto> environmentDtoEvent) {\n         EnvironmentDto environmentDto = environmentDtoEvent.getData();\n         Optional<Environment> envOptional = environmentService.findEnvironmentById(environmentDto.getId());\n         try {\n-            if (envOptional.isPresent() && envOptional.get().isCreateFreeIpa() && freeIpaExistsForEnvironment(envOptional.get())) {\n+            if (envOptional.isPresent() && freeIpaExistsForEnvironment(envOptional.get())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc7c628395cd100e5aa68c7130f4e5c0968df085"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2866, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}