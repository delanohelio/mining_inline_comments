{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNjg4Nzg4", "number": 7401, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMDoxMjozNFrODjZ4SQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQyMToyOToyMVrODj9RBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NDUwNzYxOnYy", "diffSide": "RIGHT", "path": "core/src/main/resources/defaults/clustertemplates/azure/azure-dataengineering-ha-710.json", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMDoxMjozNFrOFvMXSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QyMDoxNDozM1rOFvfvPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTAyOTk2MA==", "bodyText": "This is probably a typo as the other instancegroups have just an empty object here: \"azure\": {},. The current content has unbalanced braces, so it should be fixed either way.", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r385029960", "createdAt": "2020-02-27T10:12:34Z", "author": {"login": "lajosrodek"}, "path": "core/src/main/resources/defaults/clustertemplates/azure/azure-dataengineering-ha-710.json", "diffHunk": "@@ -0,0 +1,177 @@\n+{\n+  \"name\": \"7.1.0 - Data Engineering HA for Azure\",\n+  \"description\": \"\",\n+  \"type\": \"DATAENGINEERING\",\n+  \"featureState\": \"PREVIEW\",\n+  \"cloudPlatform\": \"AZURE\",\n+  \"distroXTemplate\": {\n+    \"cluster\": {\n+      \"blueprintName\": \"7.1.0 - Data Engineering: HA: Apache Spark, Apache Hive, Apache Oozie\"\n+    },\n+    \"instanceGroups\": [\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"quorum\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 1,\n+        \"name\": \"manager\",\n+        \"type\": \"GATEWAY\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 0,\n+        \"name\": \"compute\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"worker\",\n+        \"type\": \"CORE\",\n+        \"azure\": {\n+          \"availabilitySet\": {},", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7659a36d16f580df529abb1aaf6d57337e8c6e44"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTM0NzM4OA==", "bodyText": "Nice catch @lajosrodek. Thank you!", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r385347388", "createdAt": "2020-02-27T20:14:33Z", "author": {"login": "cegganesh84"}, "path": "core/src/main/resources/defaults/clustertemplates/azure/azure-dataengineering-ha-710.json", "diffHunk": "@@ -0,0 +1,177 @@\n+{\n+  \"name\": \"7.1.0 - Data Engineering HA for Azure\",\n+  \"description\": \"\",\n+  \"type\": \"DATAENGINEERING\",\n+  \"featureState\": \"PREVIEW\",\n+  \"cloudPlatform\": \"AZURE\",\n+  \"distroXTemplate\": {\n+    \"cluster\": {\n+      \"blueprintName\": \"7.1.0 - Data Engineering: HA: Apache Spark, Apache Hive, Apache Oozie\"\n+    },\n+    \"instanceGroups\": [\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"quorum\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 1,\n+        \"name\": \"manager\",\n+        \"type\": \"GATEWAY\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 0,\n+        \"name\": \"compute\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"worker\",\n+        \"type\": \"CORE\",\n+        \"azure\": {\n+          \"availabilitySet\": {},", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTAyOTk2MA=="}, "originalCommit": {"oid": "7659a36d16f580df529abb1aaf6d57337e8c6e44"}, "originalPosition": 98}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NDUxOTk3OnYy", "diffSide": "RIGHT", "path": "core/src/main/resources/defaults/clustertemplates/azure/azure-dataengineering-ha-710.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMDoxNjoyNVrOFvMfKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMDoxNjoyNVrOFvMfKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTAzMTk3Nw==", "bodyText": "This opening brace is displayed as an inverted white on red background, probably due to the above improper brace nesting in lines 97--98.", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r385031977", "createdAt": "2020-02-27T10:16:25Z", "author": {"login": "lajosrodek"}, "path": "core/src/main/resources/defaults/clustertemplates/azure/azure-dataengineering-ha-710.json", "diffHunk": "@@ -0,0 +1,177 @@\n+{\n+  \"name\": \"7.1.0 - Data Engineering HA for Azure\",\n+  \"description\": \"\",\n+  \"type\": \"DATAENGINEERING\",\n+  \"featureState\": \"PREVIEW\",\n+  \"cloudPlatform\": \"AZURE\",\n+  \"distroXTemplate\": {\n+    \"cluster\": {\n+      \"blueprintName\": \"7.1.0 - Data Engineering: HA: Apache Spark, Apache Hive, Apache Oozie\"\n+    },\n+    \"instanceGroups\": [\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"quorum\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 1,\n+        \"name\": \"manager\",\n+        \"type\": \"GATEWAY\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 0,\n+        \"name\": \"compute\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"worker\",\n+        \"type\": \"CORE\",\n+        \"azure\": {\n+          \"availabilitySet\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7659a36d16f580df529abb1aaf6d57337e8c6e44"}, "originalPosition": 121}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MDI1MDQyOnYy", "diffSide": "RIGHT", "path": "core/src/main/resources/defaults/blueprints/cdp-data-engineering-ha-702.bp", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQyMTowNzowNlrOFwC1LQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMzo1OTo0OFrOFwzvdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkyMjM0OQ==", "bodyText": "Not required because?, and if so - this is probably not what the value needs to be?", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r385922349", "createdAt": "2020-02-28T21:07:06Z", "author": {"login": "sidseth"}, "path": "core/src/main/resources/defaults/blueprints/cdp-data-engineering-ha-702.bp", "diffHunk": "@@ -0,0 +1,403 @@\n+{\n+  \"description\": \"7.0.2 - Data Engineering HA\",\n+  \"blueprint\": {\n+    \"cdhVersion\": \"7.0.2\",\n+    \"displayName\": \"dataengineering ha\",\n+    \"services\": [\n+      {\n+        \"refName\": \"zookeeper\",\n+        \"serviceType\": \"ZOOKEEPER\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"zookeeper-SERVER-BASE\",\n+            \"roleType\": \"SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hdfs\",\n+        \"serviceType\": \"HDFS\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"redaction_policy_enabled\",\n+            \"value\": \"false\"\n+          },\n+          {\n+            \"name\": \"zookeeper_service\",\n+            \"ref\": \"zookeeper\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hdfs-NAMENODE-BASE\",\n+            \"roleType\": \"NAMENODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-FAILOVERCONTROLLER-BASE\",\n+            \"roleType\": \"FAILOVERCONTROLLER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-JOURNALNODE-BASE\",\n+            \"roleType\": \"JOURNALNODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-DATANODE-BASE\",\n+            \"roleType\": \"DATANODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-SECONDARYNAMENODE-BASE\",\n+            \"roleType\": \"SECONDARYNAMENODE\",\n+            \"configs\": [\n+              {\n+                \"name\": \"fs_checkpoint_dir_list\",\n+                \"value\": \"/should_not_be_required_in_HA_setup\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTk1OTczNQ==", "bodyText": "There is an open jira about this https://jira.cloudera.com/browse/OPSAPS-50592", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r385959735", "createdAt": "2020-02-28T22:56:07Z", "author": {"login": "cegganesh84"}, "path": "core/src/main/resources/defaults/blueprints/cdp-data-engineering-ha-702.bp", "diffHunk": "@@ -0,0 +1,403 @@\n+{\n+  \"description\": \"7.0.2 - Data Engineering HA\",\n+  \"blueprint\": {\n+    \"cdhVersion\": \"7.0.2\",\n+    \"displayName\": \"dataengineering ha\",\n+    \"services\": [\n+      {\n+        \"refName\": \"zookeeper\",\n+        \"serviceType\": \"ZOOKEEPER\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"zookeeper-SERVER-BASE\",\n+            \"roleType\": \"SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hdfs\",\n+        \"serviceType\": \"HDFS\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"redaction_policy_enabled\",\n+            \"value\": \"false\"\n+          },\n+          {\n+            \"name\": \"zookeeper_service\",\n+            \"ref\": \"zookeeper\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hdfs-NAMENODE-BASE\",\n+            \"roleType\": \"NAMENODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-FAILOVERCONTROLLER-BASE\",\n+            \"roleType\": \"FAILOVERCONTROLLER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-JOURNALNODE-BASE\",\n+            \"roleType\": \"JOURNALNODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-DATANODE-BASE\",\n+            \"roleType\": \"DATANODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-SECONDARYNAMENODE-BASE\",\n+            \"roleType\": \"SECONDARYNAMENODE\",\n+            \"configs\": [\n+              {\n+                \"name\": \"fs_checkpoint_dir_list\",\n+                \"value\": \"/should_not_be_required_in_HA_setup\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkyMjM0OQ=="}, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYyMjcyNw==", "bodyText": "This setting only applies to the secondary namenode, which is not running in the HDFS HA setup.  It is only included in the template because CM requires it anyway.", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r386622727", "createdAt": "2020-03-02T20:09:41Z", "author": {"login": "adoroszlai"}, "path": "core/src/main/resources/defaults/blueprints/cdp-data-engineering-ha-702.bp", "diffHunk": "@@ -0,0 +1,403 @@\n+{\n+  \"description\": \"7.0.2 - Data Engineering HA\",\n+  \"blueprint\": {\n+    \"cdhVersion\": \"7.0.2\",\n+    \"displayName\": \"dataengineering ha\",\n+    \"services\": [\n+      {\n+        \"refName\": \"zookeeper\",\n+        \"serviceType\": \"ZOOKEEPER\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"zookeeper-SERVER-BASE\",\n+            \"roleType\": \"SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hdfs\",\n+        \"serviceType\": \"HDFS\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"redaction_policy_enabled\",\n+            \"value\": \"false\"\n+          },\n+          {\n+            \"name\": \"zookeeper_service\",\n+            \"ref\": \"zookeeper\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hdfs-NAMENODE-BASE\",\n+            \"roleType\": \"NAMENODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-FAILOVERCONTROLLER-BASE\",\n+            \"roleType\": \"FAILOVERCONTROLLER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-JOURNALNODE-BASE\",\n+            \"roleType\": \"JOURNALNODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-DATANODE-BASE\",\n+            \"roleType\": \"DATANODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-SECONDARYNAMENODE-BASE\",\n+            \"roleType\": \"SECONDARYNAMENODE\",\n+            \"configs\": [\n+              {\n+                \"name\": \"fs_checkpoint_dir_list\",\n+                \"value\": \"/should_not_be_required_in_HA_setup\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkyMjM0OQ=="}, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjcyMzcwMw==", "bodyText": "Thanks @adoroszlai", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r386723703", "createdAt": "2020-03-02T23:59:48Z", "author": {"login": "cegganesh84"}, "path": "core/src/main/resources/defaults/blueprints/cdp-data-engineering-ha-702.bp", "diffHunk": "@@ -0,0 +1,403 @@\n+{\n+  \"description\": \"7.0.2 - Data Engineering HA\",\n+  \"blueprint\": {\n+    \"cdhVersion\": \"7.0.2\",\n+    \"displayName\": \"dataengineering ha\",\n+    \"services\": [\n+      {\n+        \"refName\": \"zookeeper\",\n+        \"serviceType\": \"ZOOKEEPER\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"zookeeper-SERVER-BASE\",\n+            \"roleType\": \"SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hdfs\",\n+        \"serviceType\": \"HDFS\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"redaction_policy_enabled\",\n+            \"value\": \"false\"\n+          },\n+          {\n+            \"name\": \"zookeeper_service\",\n+            \"ref\": \"zookeeper\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hdfs-NAMENODE-BASE\",\n+            \"roleType\": \"NAMENODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-FAILOVERCONTROLLER-BASE\",\n+            \"roleType\": \"FAILOVERCONTROLLER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-JOURNALNODE-BASE\",\n+            \"roleType\": \"JOURNALNODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-DATANODE-BASE\",\n+            \"roleType\": \"DATANODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-SECONDARYNAMENODE-BASE\",\n+            \"roleType\": \"SECONDARYNAMENODE\",\n+            \"configs\": [\n+              {\n+                \"name\": \"fs_checkpoint_dir_list\",\n+                \"value\": \"/should_not_be_required_in_HA_setup\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkyMjM0OQ=="}, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MDI2OTM0OnYy", "diffSide": "RIGHT", "path": "core/src/main/resources/defaults/blueprints/cdp-data-engineering-ha-702.bp", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQyMToxNToxNFrOFwDA5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMzo1OTowMFrOFwzufg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkyNTM0OA==", "bodyText": "The secondary namenode isn't set up on any of the nodes. Does it need to be?", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r385925348", "createdAt": "2020-02-28T21:15:14Z", "author": {"login": "sidseth"}, "path": "core/src/main/resources/defaults/blueprints/cdp-data-engineering-ha-702.bp", "diffHunk": "@@ -0,0 +1,403 @@\n+{\n+  \"description\": \"7.0.2 - Data Engineering HA\",\n+  \"blueprint\": {\n+    \"cdhVersion\": \"7.0.2\",\n+    \"displayName\": \"dataengineering ha\",\n+    \"services\": [\n+      {\n+        \"refName\": \"zookeeper\",\n+        \"serviceType\": \"ZOOKEEPER\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"zookeeper-SERVER-BASE\",\n+            \"roleType\": \"SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hdfs\",\n+        \"serviceType\": \"HDFS\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"redaction_policy_enabled\",\n+            \"value\": \"false\"\n+          },\n+          {\n+            \"name\": \"zookeeper_service\",\n+            \"ref\": \"zookeeper\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hdfs-NAMENODE-BASE\",\n+            \"roleType\": \"NAMENODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-FAILOVERCONTROLLER-BASE\",\n+            \"roleType\": \"FAILOVERCONTROLLER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-JOURNALNODE-BASE\",\n+            \"roleType\": \"JOURNALNODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-DATANODE-BASE\",\n+            \"roleType\": \"DATANODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-SECONDARYNAMENODE-BASE\",\n+            \"roleType\": \"SECONDARYNAMENODE\",\n+            \"configs\": [\n+              {\n+                \"name\": \"fs_checkpoint_dir_list\",\n+                \"value\": \"/should_not_be_required_in_HA_setup\"\n+              }\n+            ],\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-BALANCER-BASE\",\n+            \"roleType\": \"BALANCER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hms\",\n+        \"serviceType\": \"HIVE\",\n+        \"displayName\": \"Hive Metastore\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hms-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hms-HIVEMETASTORE-BASE\",\n+            \"roleType\": \"HIVEMETASTORE\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hive\",\n+        \"serviceType\": \"HIVE_ON_TEZ\",\n+        \"displayName\": \"Hive\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hive-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hive-HIVESERVER2-BASE\",\n+            \"roleType\": \"HIVESERVER2\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"hive_server2_transport_mode\",\n+                \"value\": \"http\"\n+              }\n+            ]\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hue\",\n+        \"serviceType\": \"HUE\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"hue_service_safety_valve\",\n+            \"value\": \"[desktop]\\napp_blacklist=spark,zookeeper,hbase,impala,search,sqoop,security,metastore,pig\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hue-HUE_SERVER-BASE\",\n+            \"roleType\": \"HUE_SERVER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hue-HUE_LOAD_BALANCER-BASE\",\n+            \"roleType\": \"HUE_LOAD_BALANCER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"livy\",\n+        \"serviceType\": \"LIVY\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"livy-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"livy-LIVY_SERVER-BASE\",\n+            \"roleType\": \"LIVY_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"oozie\",\n+        \"serviceType\": \"OOZIE\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"oozie-OOZIE_SERVER-BASE\",\n+            \"roleType\": \"OOZIE_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"yarn\",\n+        \"serviceType\": \"YARN\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_admin_acl\",\n+            \"value\": \"yarn,hive,hdfs\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"yarn-RESOURCEMANAGER-BASE\",\n+            \"roleType\": \"RESOURCEMANAGER\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"resourcemanager_config_safety_valve\",\n+                \"value\": \"<property><name>yarn.scheduler.configuration.store.class</name><value>file</value></property>\"\n+              },\n+              {\n+                \"name\": \"yarn_resourcemanager_scheduler_class\",\n+                \"value\": \"org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler\"\n+              },\n+              {\n+                \"name\": \"yarn_scheduler_capacity_resource_calculator\",\n+                \"value\": \"org.apache.hadoop.yarn.util.resource.DefaultResourceCalculator\"\n+              },\n+              {\n+                \"name\": \"resourcemanager_capacity_scheduler_configuration\",\n+                \"value\": \"<configuration><property><name>yarn.scheduler.capacity.root.queues</name><value>default</value></property><property><name>yarn.scheduler.capacity.root.capacity</name><value>100</value></property><property><name>yarn.scheduler.capacity.root.default.capacity</name><value>100</value></property><property><name>yarn.scheduler.capacity.root.acl_submit_applications</name><value> </value></property><property><name>yarn.scheduler.capacity.root.acl_administer_queue</name><value> </value></property><property><name>yarn.scheduler.capacity.root.default.acl_submit_applications</name><value>*</value></property><property><name>yarn.scheduler.capacity.root.default.minimum-user-limit-percent</name><value>100</value></property><property><name>yarn.scheduler.capacity.maximum-am-resource-percent</name><value>0.33</value></property><property><name>yarn.scheduler.capacity.node-locality-delay</name><value>0</value></property><property><name>yarn.scheduler.capacity.schedule-asynchronously.maximum-threads</name><value>1</value></property><property><name>yarn.scheduler.capacity.schedule-asynchronously.scheduling-interval-ms</name><value>10</value></property><property><name>yarn.scheduler.capacity.per-node-heartbeat.maximum-offswitch-assignments</name><value>4</value></property></configuration>\"\n+              }\n+            ]\n+          },\n+          {\n+            \"refName\": \"yarn-NODEMANAGER-WORKER\",\n+            \"roleType\": \"NODEMANAGER\",\n+            \"base\": false\n+          },\n+          {\n+            \"refName\": \"yarn-NODEMANAGER-COMPUTE\",\n+            \"roleType\": \"NODEMANAGER\",\n+            \"base\": false\n+          },\n+          {\n+            \"refName\": \"yarn-JOBHISTORY-BASE\",\n+            \"roleType\": \"JOBHISTORY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"spark_on_yarn\",\n+        \"serviceType\": \"SPARK_ON_YARN\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"spark_on_yarn-SPARK_YARN_HISTORY_SERVER-BASE\",\n+            \"roleType\": \"SPARK_YARN_HISTORY_SERVER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"spark_on_yarn-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"tez\",\n+        \"serviceType\": \"TEZ\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_service\",\n+            \"ref\": \"yarn\"\n+          },\n+          {\n+            \"name\": \"tez.am.container.reuse.non-local-fallback.enabled\",\n+            \"value\": \"true\"\n+          },\n+          {\n+            \"name\": \"tez.am.container.reuse.locality.delay-allocation-millis\",\n+            \"value\": \"0\"\n+          },\n+          {\n+            \"name\": \"tez.am.launch.cmd-opts\",\n+            \"value\": \"-XX:+PrintGCDetails -verbose:gc -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB\"\n+          },\n+          {\n+            \"name\": \"tez.task.launch.cmd-opts\",\n+            \"value\": \"-XX:+PrintGCDetails -verbose:gc -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"tez-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"das\",\n+        \"serviceType\": \"DAS\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"das-DAS_WEBAPP\",\n+            \"roleType\": \"DAS_WEBAPP\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"data_analytics_studio_admin_users\",\n+                \"value\": \"*\"\n+              }\n+            ]\n+          },\n+          {\n+            \"refName\": \"das-DAS_EVENT_PROCESSOR\",\n+            \"roleType\": \"DAS_EVENT_PROCESSOR\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"knox\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"base\": true,\n+            \"refName\": \"knox-KNOX_GATEWAY-BASE\",\n+            \"roleType\": \"KNOX_GATEWAY\"\n+          }\n+        ],\n+        \"serviceType\": \"KNOX\"\n+      },\n+      {\n+        \"refName\": \"zeppelin\",\n+        \"serviceType\": \"ZEPPELIN\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_service\",\n+            \"ref\": \"yarn\"\n+          },\n+          {\n+            \"name\": \"hdfs_service\",\n+            \"ref\": \"hdfs\"\n+          },\n+          {\n+            \"name\": \"spark_on_yarn_service\",\n+            \"ref\": \"spark_on_yarn\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"zeppelin-ZEPPELIN_SERVER-BASE\",\n+            \"roleType\": \"ZEPPELIN_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      }\n+    ],\n+    \"hostTemplates\": [\n+      {\n+        \"refName\": \"gateway\",\n+        \"cardinality\": 0,\n+        \"roleConfigGroupsRefNames\": [\n+          \"hive-GATEWAY-BASE\",\n+          \"hms-GATEWAY-BASE\",\n+          \"livy-GATEWAY-BASE\",\n+          \"spark_on_yarn-GATEWAY-BASE\",\n+          \"tez-GATEWAY-BASE\"\n+        ]\n+      },\n+      {\n+        \"refName\": \"master\",\n+        \"cardinality\": 2,\n+        \"roleConfigGroupsRefNames\": [\n+          \"hdfs-FAILOVERCONTROLLER-BASE\",\n+          \"hdfs-NAMENODE-BASE\",\n+          \"hive-GATEWAY-BASE\",\n+          \"hive-HIVESERVER2-BASE\",\n+          \"hms-GATEWAY-BASE\",\n+          \"hms-HIVEMETASTORE-BASE\",\n+          \"hue-HUE_SERVER-BASE\",\n+          \"knox-KNOX_GATEWAY-BASE\",\n+          \"livy-GATEWAY-BASE\",\n+          \"spark_on_yarn-GATEWAY-BASE\",\n+          \"tez-GATEWAY-BASE\",\n+          \"yarn-RESOURCEMANAGER-BASE\"\n+        ]\n+      },\n+      {\n+        \"refName\": \"manager\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 348}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTk1ODgyOA==", "bodyText": "There are two namenodes in master group. One will be active at any point of time. The other one will be secondary. Am I getting the concept wrong?", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r385958828", "createdAt": "2020-02-28T22:53:03Z", "author": {"login": "cegganesh84"}, "path": "core/src/main/resources/defaults/blueprints/cdp-data-engineering-ha-702.bp", "diffHunk": "@@ -0,0 +1,403 @@\n+{\n+  \"description\": \"7.0.2 - Data Engineering HA\",\n+  \"blueprint\": {\n+    \"cdhVersion\": \"7.0.2\",\n+    \"displayName\": \"dataengineering ha\",\n+    \"services\": [\n+      {\n+        \"refName\": \"zookeeper\",\n+        \"serviceType\": \"ZOOKEEPER\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"zookeeper-SERVER-BASE\",\n+            \"roleType\": \"SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hdfs\",\n+        \"serviceType\": \"HDFS\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"redaction_policy_enabled\",\n+            \"value\": \"false\"\n+          },\n+          {\n+            \"name\": \"zookeeper_service\",\n+            \"ref\": \"zookeeper\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hdfs-NAMENODE-BASE\",\n+            \"roleType\": \"NAMENODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-FAILOVERCONTROLLER-BASE\",\n+            \"roleType\": \"FAILOVERCONTROLLER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-JOURNALNODE-BASE\",\n+            \"roleType\": \"JOURNALNODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-DATANODE-BASE\",\n+            \"roleType\": \"DATANODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-SECONDARYNAMENODE-BASE\",\n+            \"roleType\": \"SECONDARYNAMENODE\",\n+            \"configs\": [\n+              {\n+                \"name\": \"fs_checkpoint_dir_list\",\n+                \"value\": \"/should_not_be_required_in_HA_setup\"\n+              }\n+            ],\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-BALANCER-BASE\",\n+            \"roleType\": \"BALANCER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hms\",\n+        \"serviceType\": \"HIVE\",\n+        \"displayName\": \"Hive Metastore\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hms-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hms-HIVEMETASTORE-BASE\",\n+            \"roleType\": \"HIVEMETASTORE\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hive\",\n+        \"serviceType\": \"HIVE_ON_TEZ\",\n+        \"displayName\": \"Hive\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hive-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hive-HIVESERVER2-BASE\",\n+            \"roleType\": \"HIVESERVER2\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"hive_server2_transport_mode\",\n+                \"value\": \"http\"\n+              }\n+            ]\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hue\",\n+        \"serviceType\": \"HUE\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"hue_service_safety_valve\",\n+            \"value\": \"[desktop]\\napp_blacklist=spark,zookeeper,hbase,impala,search,sqoop,security,metastore,pig\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hue-HUE_SERVER-BASE\",\n+            \"roleType\": \"HUE_SERVER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hue-HUE_LOAD_BALANCER-BASE\",\n+            \"roleType\": \"HUE_LOAD_BALANCER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"livy\",\n+        \"serviceType\": \"LIVY\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"livy-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"livy-LIVY_SERVER-BASE\",\n+            \"roleType\": \"LIVY_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"oozie\",\n+        \"serviceType\": \"OOZIE\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"oozie-OOZIE_SERVER-BASE\",\n+            \"roleType\": \"OOZIE_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"yarn\",\n+        \"serviceType\": \"YARN\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_admin_acl\",\n+            \"value\": \"yarn,hive,hdfs\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"yarn-RESOURCEMANAGER-BASE\",\n+            \"roleType\": \"RESOURCEMANAGER\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"resourcemanager_config_safety_valve\",\n+                \"value\": \"<property><name>yarn.scheduler.configuration.store.class</name><value>file</value></property>\"\n+              },\n+              {\n+                \"name\": \"yarn_resourcemanager_scheduler_class\",\n+                \"value\": \"org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler\"\n+              },\n+              {\n+                \"name\": \"yarn_scheduler_capacity_resource_calculator\",\n+                \"value\": \"org.apache.hadoop.yarn.util.resource.DefaultResourceCalculator\"\n+              },\n+              {\n+                \"name\": \"resourcemanager_capacity_scheduler_configuration\",\n+                \"value\": \"<configuration><property><name>yarn.scheduler.capacity.root.queues</name><value>default</value></property><property><name>yarn.scheduler.capacity.root.capacity</name><value>100</value></property><property><name>yarn.scheduler.capacity.root.default.capacity</name><value>100</value></property><property><name>yarn.scheduler.capacity.root.acl_submit_applications</name><value> </value></property><property><name>yarn.scheduler.capacity.root.acl_administer_queue</name><value> </value></property><property><name>yarn.scheduler.capacity.root.default.acl_submit_applications</name><value>*</value></property><property><name>yarn.scheduler.capacity.root.default.minimum-user-limit-percent</name><value>100</value></property><property><name>yarn.scheduler.capacity.maximum-am-resource-percent</name><value>0.33</value></property><property><name>yarn.scheduler.capacity.node-locality-delay</name><value>0</value></property><property><name>yarn.scheduler.capacity.schedule-asynchronously.maximum-threads</name><value>1</value></property><property><name>yarn.scheduler.capacity.schedule-asynchronously.scheduling-interval-ms</name><value>10</value></property><property><name>yarn.scheduler.capacity.per-node-heartbeat.maximum-offswitch-assignments</name><value>4</value></property></configuration>\"\n+              }\n+            ]\n+          },\n+          {\n+            \"refName\": \"yarn-NODEMANAGER-WORKER\",\n+            \"roleType\": \"NODEMANAGER\",\n+            \"base\": false\n+          },\n+          {\n+            \"refName\": \"yarn-NODEMANAGER-COMPUTE\",\n+            \"roleType\": \"NODEMANAGER\",\n+            \"base\": false\n+          },\n+          {\n+            \"refName\": \"yarn-JOBHISTORY-BASE\",\n+            \"roleType\": \"JOBHISTORY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"spark_on_yarn\",\n+        \"serviceType\": \"SPARK_ON_YARN\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"spark_on_yarn-SPARK_YARN_HISTORY_SERVER-BASE\",\n+            \"roleType\": \"SPARK_YARN_HISTORY_SERVER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"spark_on_yarn-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"tez\",\n+        \"serviceType\": \"TEZ\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_service\",\n+            \"ref\": \"yarn\"\n+          },\n+          {\n+            \"name\": \"tez.am.container.reuse.non-local-fallback.enabled\",\n+            \"value\": \"true\"\n+          },\n+          {\n+            \"name\": \"tez.am.container.reuse.locality.delay-allocation-millis\",\n+            \"value\": \"0\"\n+          },\n+          {\n+            \"name\": \"tez.am.launch.cmd-opts\",\n+            \"value\": \"-XX:+PrintGCDetails -verbose:gc -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB\"\n+          },\n+          {\n+            \"name\": \"tez.task.launch.cmd-opts\",\n+            \"value\": \"-XX:+PrintGCDetails -verbose:gc -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"tez-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"das\",\n+        \"serviceType\": \"DAS\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"das-DAS_WEBAPP\",\n+            \"roleType\": \"DAS_WEBAPP\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"data_analytics_studio_admin_users\",\n+                \"value\": \"*\"\n+              }\n+            ]\n+          },\n+          {\n+            \"refName\": \"das-DAS_EVENT_PROCESSOR\",\n+            \"roleType\": \"DAS_EVENT_PROCESSOR\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"knox\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"base\": true,\n+            \"refName\": \"knox-KNOX_GATEWAY-BASE\",\n+            \"roleType\": \"KNOX_GATEWAY\"\n+          }\n+        ],\n+        \"serviceType\": \"KNOX\"\n+      },\n+      {\n+        \"refName\": \"zeppelin\",\n+        \"serviceType\": \"ZEPPELIN\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_service\",\n+            \"ref\": \"yarn\"\n+          },\n+          {\n+            \"name\": \"hdfs_service\",\n+            \"ref\": \"hdfs\"\n+          },\n+          {\n+            \"name\": \"spark_on_yarn_service\",\n+            \"ref\": \"spark_on_yarn\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"zeppelin-ZEPPELIN_SERVER-BASE\",\n+            \"roleType\": \"ZEPPELIN_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      }\n+    ],\n+    \"hostTemplates\": [\n+      {\n+        \"refName\": \"gateway\",\n+        \"cardinality\": 0,\n+        \"roleConfigGroupsRefNames\": [\n+          \"hive-GATEWAY-BASE\",\n+          \"hms-GATEWAY-BASE\",\n+          \"livy-GATEWAY-BASE\",\n+          \"spark_on_yarn-GATEWAY-BASE\",\n+          \"tez-GATEWAY-BASE\"\n+        ]\n+      },\n+      {\n+        \"refName\": \"master\",\n+        \"cardinality\": 2,\n+        \"roleConfigGroupsRefNames\": [\n+          \"hdfs-FAILOVERCONTROLLER-BASE\",\n+          \"hdfs-NAMENODE-BASE\",\n+          \"hive-GATEWAY-BASE\",\n+          \"hive-HIVESERVER2-BASE\",\n+          \"hms-GATEWAY-BASE\",\n+          \"hms-HIVEMETASTORE-BASE\",\n+          \"hue-HUE_SERVER-BASE\",\n+          \"knox-KNOX_GATEWAY-BASE\",\n+          \"livy-GATEWAY-BASE\",\n+          \"spark_on_yarn-GATEWAY-BASE\",\n+          \"tez-GATEWAY-BASE\",\n+          \"yarn-RESOURCEMANAGER-BASE\"\n+        ]\n+      },\n+      {\n+        \"refName\": \"manager\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkyNTM0OA=="}, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 348}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU5NDI4Ng==", "bodyText": "The 'secondary namenode' is a completely different process. The name is rather confusing. Not sure if it's required in an HA setup with the Journal nodes running. Worth checking with the HDFS team on the recommended deployment topology.", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r386594286", "createdAt": "2020-03-02T19:14:32Z", "author": {"login": "sidseth"}, "path": "core/src/main/resources/defaults/blueprints/cdp-data-engineering-ha-702.bp", "diffHunk": "@@ -0,0 +1,403 @@\n+{\n+  \"description\": \"7.0.2 - Data Engineering HA\",\n+  \"blueprint\": {\n+    \"cdhVersion\": \"7.0.2\",\n+    \"displayName\": \"dataengineering ha\",\n+    \"services\": [\n+      {\n+        \"refName\": \"zookeeper\",\n+        \"serviceType\": \"ZOOKEEPER\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"zookeeper-SERVER-BASE\",\n+            \"roleType\": \"SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hdfs\",\n+        \"serviceType\": \"HDFS\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"redaction_policy_enabled\",\n+            \"value\": \"false\"\n+          },\n+          {\n+            \"name\": \"zookeeper_service\",\n+            \"ref\": \"zookeeper\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hdfs-NAMENODE-BASE\",\n+            \"roleType\": \"NAMENODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-FAILOVERCONTROLLER-BASE\",\n+            \"roleType\": \"FAILOVERCONTROLLER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-JOURNALNODE-BASE\",\n+            \"roleType\": \"JOURNALNODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-DATANODE-BASE\",\n+            \"roleType\": \"DATANODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-SECONDARYNAMENODE-BASE\",\n+            \"roleType\": \"SECONDARYNAMENODE\",\n+            \"configs\": [\n+              {\n+                \"name\": \"fs_checkpoint_dir_list\",\n+                \"value\": \"/should_not_be_required_in_HA_setup\"\n+              }\n+            ],\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-BALANCER-BASE\",\n+            \"roleType\": \"BALANCER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hms\",\n+        \"serviceType\": \"HIVE\",\n+        \"displayName\": \"Hive Metastore\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hms-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hms-HIVEMETASTORE-BASE\",\n+            \"roleType\": \"HIVEMETASTORE\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hive\",\n+        \"serviceType\": \"HIVE_ON_TEZ\",\n+        \"displayName\": \"Hive\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hive-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hive-HIVESERVER2-BASE\",\n+            \"roleType\": \"HIVESERVER2\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"hive_server2_transport_mode\",\n+                \"value\": \"http\"\n+              }\n+            ]\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hue\",\n+        \"serviceType\": \"HUE\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"hue_service_safety_valve\",\n+            \"value\": \"[desktop]\\napp_blacklist=spark,zookeeper,hbase,impala,search,sqoop,security,metastore,pig\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hue-HUE_SERVER-BASE\",\n+            \"roleType\": \"HUE_SERVER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hue-HUE_LOAD_BALANCER-BASE\",\n+            \"roleType\": \"HUE_LOAD_BALANCER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"livy\",\n+        \"serviceType\": \"LIVY\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"livy-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"livy-LIVY_SERVER-BASE\",\n+            \"roleType\": \"LIVY_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"oozie\",\n+        \"serviceType\": \"OOZIE\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"oozie-OOZIE_SERVER-BASE\",\n+            \"roleType\": \"OOZIE_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"yarn\",\n+        \"serviceType\": \"YARN\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_admin_acl\",\n+            \"value\": \"yarn,hive,hdfs\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"yarn-RESOURCEMANAGER-BASE\",\n+            \"roleType\": \"RESOURCEMANAGER\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"resourcemanager_config_safety_valve\",\n+                \"value\": \"<property><name>yarn.scheduler.configuration.store.class</name><value>file</value></property>\"\n+              },\n+              {\n+                \"name\": \"yarn_resourcemanager_scheduler_class\",\n+                \"value\": \"org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler\"\n+              },\n+              {\n+                \"name\": \"yarn_scheduler_capacity_resource_calculator\",\n+                \"value\": \"org.apache.hadoop.yarn.util.resource.DefaultResourceCalculator\"\n+              },\n+              {\n+                \"name\": \"resourcemanager_capacity_scheduler_configuration\",\n+                \"value\": \"<configuration><property><name>yarn.scheduler.capacity.root.queues</name><value>default</value></property><property><name>yarn.scheduler.capacity.root.capacity</name><value>100</value></property><property><name>yarn.scheduler.capacity.root.default.capacity</name><value>100</value></property><property><name>yarn.scheduler.capacity.root.acl_submit_applications</name><value> </value></property><property><name>yarn.scheduler.capacity.root.acl_administer_queue</name><value> </value></property><property><name>yarn.scheduler.capacity.root.default.acl_submit_applications</name><value>*</value></property><property><name>yarn.scheduler.capacity.root.default.minimum-user-limit-percent</name><value>100</value></property><property><name>yarn.scheduler.capacity.maximum-am-resource-percent</name><value>0.33</value></property><property><name>yarn.scheduler.capacity.node-locality-delay</name><value>0</value></property><property><name>yarn.scheduler.capacity.schedule-asynchronously.maximum-threads</name><value>1</value></property><property><name>yarn.scheduler.capacity.schedule-asynchronously.scheduling-interval-ms</name><value>10</value></property><property><name>yarn.scheduler.capacity.per-node-heartbeat.maximum-offswitch-assignments</name><value>4</value></property></configuration>\"\n+              }\n+            ]\n+          },\n+          {\n+            \"refName\": \"yarn-NODEMANAGER-WORKER\",\n+            \"roleType\": \"NODEMANAGER\",\n+            \"base\": false\n+          },\n+          {\n+            \"refName\": \"yarn-NODEMANAGER-COMPUTE\",\n+            \"roleType\": \"NODEMANAGER\",\n+            \"base\": false\n+          },\n+          {\n+            \"refName\": \"yarn-JOBHISTORY-BASE\",\n+            \"roleType\": \"JOBHISTORY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"spark_on_yarn\",\n+        \"serviceType\": \"SPARK_ON_YARN\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"spark_on_yarn-SPARK_YARN_HISTORY_SERVER-BASE\",\n+            \"roleType\": \"SPARK_YARN_HISTORY_SERVER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"spark_on_yarn-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"tez\",\n+        \"serviceType\": \"TEZ\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_service\",\n+            \"ref\": \"yarn\"\n+          },\n+          {\n+            \"name\": \"tez.am.container.reuse.non-local-fallback.enabled\",\n+            \"value\": \"true\"\n+          },\n+          {\n+            \"name\": \"tez.am.container.reuse.locality.delay-allocation-millis\",\n+            \"value\": \"0\"\n+          },\n+          {\n+            \"name\": \"tez.am.launch.cmd-opts\",\n+            \"value\": \"-XX:+PrintGCDetails -verbose:gc -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB\"\n+          },\n+          {\n+            \"name\": \"tez.task.launch.cmd-opts\",\n+            \"value\": \"-XX:+PrintGCDetails -verbose:gc -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"tez-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"das\",\n+        \"serviceType\": \"DAS\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"das-DAS_WEBAPP\",\n+            \"roleType\": \"DAS_WEBAPP\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"data_analytics_studio_admin_users\",\n+                \"value\": \"*\"\n+              }\n+            ]\n+          },\n+          {\n+            \"refName\": \"das-DAS_EVENT_PROCESSOR\",\n+            \"roleType\": \"DAS_EVENT_PROCESSOR\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"knox\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"base\": true,\n+            \"refName\": \"knox-KNOX_GATEWAY-BASE\",\n+            \"roleType\": \"KNOX_GATEWAY\"\n+          }\n+        ],\n+        \"serviceType\": \"KNOX\"\n+      },\n+      {\n+        \"refName\": \"zeppelin\",\n+        \"serviceType\": \"ZEPPELIN\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_service\",\n+            \"ref\": \"yarn\"\n+          },\n+          {\n+            \"name\": \"hdfs_service\",\n+            \"ref\": \"hdfs\"\n+          },\n+          {\n+            \"name\": \"spark_on_yarn_service\",\n+            \"ref\": \"spark_on_yarn\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"zeppelin-ZEPPELIN_SERVER-BASE\",\n+            \"roleType\": \"ZEPPELIN_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      }\n+    ],\n+    \"hostTemplates\": [\n+      {\n+        \"refName\": \"gateway\",\n+        \"cardinality\": 0,\n+        \"roleConfigGroupsRefNames\": [\n+          \"hive-GATEWAY-BASE\",\n+          \"hms-GATEWAY-BASE\",\n+          \"livy-GATEWAY-BASE\",\n+          \"spark_on_yarn-GATEWAY-BASE\",\n+          \"tez-GATEWAY-BASE\"\n+        ]\n+      },\n+      {\n+        \"refName\": \"master\",\n+        \"cardinality\": 2,\n+        \"roleConfigGroupsRefNames\": [\n+          \"hdfs-FAILOVERCONTROLLER-BASE\",\n+          \"hdfs-NAMENODE-BASE\",\n+          \"hive-GATEWAY-BASE\",\n+          \"hive-HIVESERVER2-BASE\",\n+          \"hms-GATEWAY-BASE\",\n+          \"hms-HIVEMETASTORE-BASE\",\n+          \"hue-HUE_SERVER-BASE\",\n+          \"knox-KNOX_GATEWAY-BASE\",\n+          \"livy-GATEWAY-BASE\",\n+          \"spark_on_yarn-GATEWAY-BASE\",\n+          \"tez-GATEWAY-BASE\",\n+          \"yarn-RESOURCEMANAGER-BASE\"\n+        ]\n+      },\n+      {\n+        \"refName\": \"manager\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkyNTM0OA=="}, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 348}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYyNDMyMA==", "bodyText": "Not sure if it's required in an HA setup with the Journal nodes running.\n\nNot required, neither allowed:\n\nNote that, in an HA cluster, the Standby NameNodes also performs checkpoints of the namespace state, and thus it is not necessary to run a Secondary NameNode, CheckpointNode, or BackupNode in an HA cluster. In fact, to do so would be an error. This also allows one who is reconfiguring a non-HA-enabled HDFS cluster to be HA-enabled to reuse the hardware which they had previously dedicated to the Secondary NameNode.\n\nhttps://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithQJM.html#Hardware_resources", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r386624320", "createdAt": "2020-03-02T20:13:00Z", "author": {"login": "adoroszlai"}, "path": "core/src/main/resources/defaults/blueprints/cdp-data-engineering-ha-702.bp", "diffHunk": "@@ -0,0 +1,403 @@\n+{\n+  \"description\": \"7.0.2 - Data Engineering HA\",\n+  \"blueprint\": {\n+    \"cdhVersion\": \"7.0.2\",\n+    \"displayName\": \"dataengineering ha\",\n+    \"services\": [\n+      {\n+        \"refName\": \"zookeeper\",\n+        \"serviceType\": \"ZOOKEEPER\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"zookeeper-SERVER-BASE\",\n+            \"roleType\": \"SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hdfs\",\n+        \"serviceType\": \"HDFS\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"redaction_policy_enabled\",\n+            \"value\": \"false\"\n+          },\n+          {\n+            \"name\": \"zookeeper_service\",\n+            \"ref\": \"zookeeper\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hdfs-NAMENODE-BASE\",\n+            \"roleType\": \"NAMENODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-FAILOVERCONTROLLER-BASE\",\n+            \"roleType\": \"FAILOVERCONTROLLER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-JOURNALNODE-BASE\",\n+            \"roleType\": \"JOURNALNODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-DATANODE-BASE\",\n+            \"roleType\": \"DATANODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-SECONDARYNAMENODE-BASE\",\n+            \"roleType\": \"SECONDARYNAMENODE\",\n+            \"configs\": [\n+              {\n+                \"name\": \"fs_checkpoint_dir_list\",\n+                \"value\": \"/should_not_be_required_in_HA_setup\"\n+              }\n+            ],\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-BALANCER-BASE\",\n+            \"roleType\": \"BALANCER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hms\",\n+        \"serviceType\": \"HIVE\",\n+        \"displayName\": \"Hive Metastore\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hms-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hms-HIVEMETASTORE-BASE\",\n+            \"roleType\": \"HIVEMETASTORE\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hive\",\n+        \"serviceType\": \"HIVE_ON_TEZ\",\n+        \"displayName\": \"Hive\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hive-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hive-HIVESERVER2-BASE\",\n+            \"roleType\": \"HIVESERVER2\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"hive_server2_transport_mode\",\n+                \"value\": \"http\"\n+              }\n+            ]\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hue\",\n+        \"serviceType\": \"HUE\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"hue_service_safety_valve\",\n+            \"value\": \"[desktop]\\napp_blacklist=spark,zookeeper,hbase,impala,search,sqoop,security,metastore,pig\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hue-HUE_SERVER-BASE\",\n+            \"roleType\": \"HUE_SERVER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hue-HUE_LOAD_BALANCER-BASE\",\n+            \"roleType\": \"HUE_LOAD_BALANCER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"livy\",\n+        \"serviceType\": \"LIVY\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"livy-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"livy-LIVY_SERVER-BASE\",\n+            \"roleType\": \"LIVY_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"oozie\",\n+        \"serviceType\": \"OOZIE\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"oozie-OOZIE_SERVER-BASE\",\n+            \"roleType\": \"OOZIE_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"yarn\",\n+        \"serviceType\": \"YARN\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_admin_acl\",\n+            \"value\": \"yarn,hive,hdfs\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"yarn-RESOURCEMANAGER-BASE\",\n+            \"roleType\": \"RESOURCEMANAGER\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"resourcemanager_config_safety_valve\",\n+                \"value\": \"<property><name>yarn.scheduler.configuration.store.class</name><value>file</value></property>\"\n+              },\n+              {\n+                \"name\": \"yarn_resourcemanager_scheduler_class\",\n+                \"value\": \"org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler\"\n+              },\n+              {\n+                \"name\": \"yarn_scheduler_capacity_resource_calculator\",\n+                \"value\": \"org.apache.hadoop.yarn.util.resource.DefaultResourceCalculator\"\n+              },\n+              {\n+                \"name\": \"resourcemanager_capacity_scheduler_configuration\",\n+                \"value\": \"<configuration><property><name>yarn.scheduler.capacity.root.queues</name><value>default</value></property><property><name>yarn.scheduler.capacity.root.capacity</name><value>100</value></property><property><name>yarn.scheduler.capacity.root.default.capacity</name><value>100</value></property><property><name>yarn.scheduler.capacity.root.acl_submit_applications</name><value> </value></property><property><name>yarn.scheduler.capacity.root.acl_administer_queue</name><value> </value></property><property><name>yarn.scheduler.capacity.root.default.acl_submit_applications</name><value>*</value></property><property><name>yarn.scheduler.capacity.root.default.minimum-user-limit-percent</name><value>100</value></property><property><name>yarn.scheduler.capacity.maximum-am-resource-percent</name><value>0.33</value></property><property><name>yarn.scheduler.capacity.node-locality-delay</name><value>0</value></property><property><name>yarn.scheduler.capacity.schedule-asynchronously.maximum-threads</name><value>1</value></property><property><name>yarn.scheduler.capacity.schedule-asynchronously.scheduling-interval-ms</name><value>10</value></property><property><name>yarn.scheduler.capacity.per-node-heartbeat.maximum-offswitch-assignments</name><value>4</value></property></configuration>\"\n+              }\n+            ]\n+          },\n+          {\n+            \"refName\": \"yarn-NODEMANAGER-WORKER\",\n+            \"roleType\": \"NODEMANAGER\",\n+            \"base\": false\n+          },\n+          {\n+            \"refName\": \"yarn-NODEMANAGER-COMPUTE\",\n+            \"roleType\": \"NODEMANAGER\",\n+            \"base\": false\n+          },\n+          {\n+            \"refName\": \"yarn-JOBHISTORY-BASE\",\n+            \"roleType\": \"JOBHISTORY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"spark_on_yarn\",\n+        \"serviceType\": \"SPARK_ON_YARN\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"spark_on_yarn-SPARK_YARN_HISTORY_SERVER-BASE\",\n+            \"roleType\": \"SPARK_YARN_HISTORY_SERVER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"spark_on_yarn-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"tez\",\n+        \"serviceType\": \"TEZ\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_service\",\n+            \"ref\": \"yarn\"\n+          },\n+          {\n+            \"name\": \"tez.am.container.reuse.non-local-fallback.enabled\",\n+            \"value\": \"true\"\n+          },\n+          {\n+            \"name\": \"tez.am.container.reuse.locality.delay-allocation-millis\",\n+            \"value\": \"0\"\n+          },\n+          {\n+            \"name\": \"tez.am.launch.cmd-opts\",\n+            \"value\": \"-XX:+PrintGCDetails -verbose:gc -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB\"\n+          },\n+          {\n+            \"name\": \"tez.task.launch.cmd-opts\",\n+            \"value\": \"-XX:+PrintGCDetails -verbose:gc -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"tez-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"das\",\n+        \"serviceType\": \"DAS\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"das-DAS_WEBAPP\",\n+            \"roleType\": \"DAS_WEBAPP\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"data_analytics_studio_admin_users\",\n+                \"value\": \"*\"\n+              }\n+            ]\n+          },\n+          {\n+            \"refName\": \"das-DAS_EVENT_PROCESSOR\",\n+            \"roleType\": \"DAS_EVENT_PROCESSOR\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"knox\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"base\": true,\n+            \"refName\": \"knox-KNOX_GATEWAY-BASE\",\n+            \"roleType\": \"KNOX_GATEWAY\"\n+          }\n+        ],\n+        \"serviceType\": \"KNOX\"\n+      },\n+      {\n+        \"refName\": \"zeppelin\",\n+        \"serviceType\": \"ZEPPELIN\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_service\",\n+            \"ref\": \"yarn\"\n+          },\n+          {\n+            \"name\": \"hdfs_service\",\n+            \"ref\": \"hdfs\"\n+          },\n+          {\n+            \"name\": \"spark_on_yarn_service\",\n+            \"ref\": \"spark_on_yarn\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"zeppelin-ZEPPELIN_SERVER-BASE\",\n+            \"roleType\": \"ZEPPELIN_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      }\n+    ],\n+    \"hostTemplates\": [\n+      {\n+        \"refName\": \"gateway\",\n+        \"cardinality\": 0,\n+        \"roleConfigGroupsRefNames\": [\n+          \"hive-GATEWAY-BASE\",\n+          \"hms-GATEWAY-BASE\",\n+          \"livy-GATEWAY-BASE\",\n+          \"spark_on_yarn-GATEWAY-BASE\",\n+          \"tez-GATEWAY-BASE\"\n+        ]\n+      },\n+      {\n+        \"refName\": \"master\",\n+        \"cardinality\": 2,\n+        \"roleConfigGroupsRefNames\": [\n+          \"hdfs-FAILOVERCONTROLLER-BASE\",\n+          \"hdfs-NAMENODE-BASE\",\n+          \"hive-GATEWAY-BASE\",\n+          \"hive-HIVESERVER2-BASE\",\n+          \"hms-GATEWAY-BASE\",\n+          \"hms-HIVEMETASTORE-BASE\",\n+          \"hue-HUE_SERVER-BASE\",\n+          \"knox-KNOX_GATEWAY-BASE\",\n+          \"livy-GATEWAY-BASE\",\n+          \"spark_on_yarn-GATEWAY-BASE\",\n+          \"tez-GATEWAY-BASE\",\n+          \"yarn-RESOURCEMANAGER-BASE\"\n+        ]\n+      },\n+      {\n+        \"refName\": \"manager\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkyNTM0OA=="}, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 348}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjcyMzQ1NA==", "bodyText": "Thanks @adoroszlai", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r386723454", "createdAt": "2020-03-02T23:59:00Z", "author": {"login": "cegganesh84"}, "path": "core/src/main/resources/defaults/blueprints/cdp-data-engineering-ha-702.bp", "diffHunk": "@@ -0,0 +1,403 @@\n+{\n+  \"description\": \"7.0.2 - Data Engineering HA\",\n+  \"blueprint\": {\n+    \"cdhVersion\": \"7.0.2\",\n+    \"displayName\": \"dataengineering ha\",\n+    \"services\": [\n+      {\n+        \"refName\": \"zookeeper\",\n+        \"serviceType\": \"ZOOKEEPER\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"zookeeper-SERVER-BASE\",\n+            \"roleType\": \"SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hdfs\",\n+        \"serviceType\": \"HDFS\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"redaction_policy_enabled\",\n+            \"value\": \"false\"\n+          },\n+          {\n+            \"name\": \"zookeeper_service\",\n+            \"ref\": \"zookeeper\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hdfs-NAMENODE-BASE\",\n+            \"roleType\": \"NAMENODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-FAILOVERCONTROLLER-BASE\",\n+            \"roleType\": \"FAILOVERCONTROLLER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-JOURNALNODE-BASE\",\n+            \"roleType\": \"JOURNALNODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-DATANODE-BASE\",\n+            \"roleType\": \"DATANODE\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-SECONDARYNAMENODE-BASE\",\n+            \"roleType\": \"SECONDARYNAMENODE\",\n+            \"configs\": [\n+              {\n+                \"name\": \"fs_checkpoint_dir_list\",\n+                \"value\": \"/should_not_be_required_in_HA_setup\"\n+              }\n+            ],\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hdfs-BALANCER-BASE\",\n+            \"roleType\": \"BALANCER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hms\",\n+        \"serviceType\": \"HIVE\",\n+        \"displayName\": \"Hive Metastore\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hms-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hms-HIVEMETASTORE-BASE\",\n+            \"roleType\": \"HIVEMETASTORE\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hive\",\n+        \"serviceType\": \"HIVE_ON_TEZ\",\n+        \"displayName\": \"Hive\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hive-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hive-HIVESERVER2-BASE\",\n+            \"roleType\": \"HIVESERVER2\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"hive_server2_transport_mode\",\n+                \"value\": \"http\"\n+              }\n+            ]\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"hue\",\n+        \"serviceType\": \"HUE\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"hue_service_safety_valve\",\n+            \"value\": \"[desktop]\\napp_blacklist=spark,zookeeper,hbase,impala,search,sqoop,security,metastore,pig\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"hue-HUE_SERVER-BASE\",\n+            \"roleType\": \"HUE_SERVER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"hue-HUE_LOAD_BALANCER-BASE\",\n+            \"roleType\": \"HUE_LOAD_BALANCER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"livy\",\n+        \"serviceType\": \"LIVY\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"livy-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"livy-LIVY_SERVER-BASE\",\n+            \"roleType\": \"LIVY_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"oozie\",\n+        \"serviceType\": \"OOZIE\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"oozie-OOZIE_SERVER-BASE\",\n+            \"roleType\": \"OOZIE_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"yarn\",\n+        \"serviceType\": \"YARN\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_admin_acl\",\n+            \"value\": \"yarn,hive,hdfs\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"yarn-RESOURCEMANAGER-BASE\",\n+            \"roleType\": \"RESOURCEMANAGER\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"resourcemanager_config_safety_valve\",\n+                \"value\": \"<property><name>yarn.scheduler.configuration.store.class</name><value>file</value></property>\"\n+              },\n+              {\n+                \"name\": \"yarn_resourcemanager_scheduler_class\",\n+                \"value\": \"org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler\"\n+              },\n+              {\n+                \"name\": \"yarn_scheduler_capacity_resource_calculator\",\n+                \"value\": \"org.apache.hadoop.yarn.util.resource.DefaultResourceCalculator\"\n+              },\n+              {\n+                \"name\": \"resourcemanager_capacity_scheduler_configuration\",\n+                \"value\": \"<configuration><property><name>yarn.scheduler.capacity.root.queues</name><value>default</value></property><property><name>yarn.scheduler.capacity.root.capacity</name><value>100</value></property><property><name>yarn.scheduler.capacity.root.default.capacity</name><value>100</value></property><property><name>yarn.scheduler.capacity.root.acl_submit_applications</name><value> </value></property><property><name>yarn.scheduler.capacity.root.acl_administer_queue</name><value> </value></property><property><name>yarn.scheduler.capacity.root.default.acl_submit_applications</name><value>*</value></property><property><name>yarn.scheduler.capacity.root.default.minimum-user-limit-percent</name><value>100</value></property><property><name>yarn.scheduler.capacity.maximum-am-resource-percent</name><value>0.33</value></property><property><name>yarn.scheduler.capacity.node-locality-delay</name><value>0</value></property><property><name>yarn.scheduler.capacity.schedule-asynchronously.maximum-threads</name><value>1</value></property><property><name>yarn.scheduler.capacity.schedule-asynchronously.scheduling-interval-ms</name><value>10</value></property><property><name>yarn.scheduler.capacity.per-node-heartbeat.maximum-offswitch-assignments</name><value>4</value></property></configuration>\"\n+              }\n+            ]\n+          },\n+          {\n+            \"refName\": \"yarn-NODEMANAGER-WORKER\",\n+            \"roleType\": \"NODEMANAGER\",\n+            \"base\": false\n+          },\n+          {\n+            \"refName\": \"yarn-NODEMANAGER-COMPUTE\",\n+            \"roleType\": \"NODEMANAGER\",\n+            \"base\": false\n+          },\n+          {\n+            \"refName\": \"yarn-JOBHISTORY-BASE\",\n+            \"roleType\": \"JOBHISTORY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"spark_on_yarn\",\n+        \"serviceType\": \"SPARK_ON_YARN\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"spark_on_yarn-SPARK_YARN_HISTORY_SERVER-BASE\",\n+            \"roleType\": \"SPARK_YARN_HISTORY_SERVER\",\n+            \"base\": true\n+          },\n+          {\n+            \"refName\": \"spark_on_yarn-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"tez\",\n+        \"serviceType\": \"TEZ\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_service\",\n+            \"ref\": \"yarn\"\n+          },\n+          {\n+            \"name\": \"tez.am.container.reuse.non-local-fallback.enabled\",\n+            \"value\": \"true\"\n+          },\n+          {\n+            \"name\": \"tez.am.container.reuse.locality.delay-allocation-millis\",\n+            \"value\": \"0\"\n+          },\n+          {\n+            \"name\": \"tez.am.launch.cmd-opts\",\n+            \"value\": \"-XX:+PrintGCDetails -verbose:gc -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB\"\n+          },\n+          {\n+            \"name\": \"tez.task.launch.cmd-opts\",\n+            \"value\": \"-XX:+PrintGCDetails -verbose:gc -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"tez-GATEWAY-BASE\",\n+            \"roleType\": \"GATEWAY\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"das\",\n+        \"serviceType\": \"DAS\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"das-DAS_WEBAPP\",\n+            \"roleType\": \"DAS_WEBAPP\",\n+            \"base\": true,\n+            \"configs\": [\n+              {\n+                \"name\": \"data_analytics_studio_admin_users\",\n+                \"value\": \"*\"\n+              }\n+            ]\n+          },\n+          {\n+            \"refName\": \"das-DAS_EVENT_PROCESSOR\",\n+            \"roleType\": \"DAS_EVENT_PROCESSOR\",\n+            \"base\": true\n+          }\n+        ]\n+      },\n+      {\n+        \"refName\": \"knox\",\n+        \"roleConfigGroups\": [\n+          {\n+            \"base\": true,\n+            \"refName\": \"knox-KNOX_GATEWAY-BASE\",\n+            \"roleType\": \"KNOX_GATEWAY\"\n+          }\n+        ],\n+        \"serviceType\": \"KNOX\"\n+      },\n+      {\n+        \"refName\": \"zeppelin\",\n+        \"serviceType\": \"ZEPPELIN\",\n+        \"serviceConfigs\": [\n+          {\n+            \"name\": \"yarn_service\",\n+            \"ref\": \"yarn\"\n+          },\n+          {\n+            \"name\": \"hdfs_service\",\n+            \"ref\": \"hdfs\"\n+          },\n+          {\n+            \"name\": \"spark_on_yarn_service\",\n+            \"ref\": \"spark_on_yarn\"\n+          }\n+        ],\n+        \"roleConfigGroups\": [\n+          {\n+            \"refName\": \"zeppelin-ZEPPELIN_SERVER-BASE\",\n+            \"roleType\": \"ZEPPELIN_SERVER\",\n+            \"base\": true\n+          }\n+        ]\n+      }\n+    ],\n+    \"hostTemplates\": [\n+      {\n+        \"refName\": \"gateway\",\n+        \"cardinality\": 0,\n+        \"roleConfigGroupsRefNames\": [\n+          \"hive-GATEWAY-BASE\",\n+          \"hms-GATEWAY-BASE\",\n+          \"livy-GATEWAY-BASE\",\n+          \"spark_on_yarn-GATEWAY-BASE\",\n+          \"tez-GATEWAY-BASE\"\n+        ]\n+      },\n+      {\n+        \"refName\": \"master\",\n+        \"cardinality\": 2,\n+        \"roleConfigGroupsRefNames\": [\n+          \"hdfs-FAILOVERCONTROLLER-BASE\",\n+          \"hdfs-NAMENODE-BASE\",\n+          \"hive-GATEWAY-BASE\",\n+          \"hive-HIVESERVER2-BASE\",\n+          \"hms-GATEWAY-BASE\",\n+          \"hms-HIVEMETASTORE-BASE\",\n+          \"hue-HUE_SERVER-BASE\",\n+          \"knox-KNOX_GATEWAY-BASE\",\n+          \"livy-GATEWAY-BASE\",\n+          \"spark_on_yarn-GATEWAY-BASE\",\n+          \"tez-GATEWAY-BASE\",\n+          \"yarn-RESOURCEMANAGER-BASE\"\n+        ]\n+      },\n+      {\n+        \"refName\": \"manager\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkyNTM0OA=="}, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 348}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MDI4MTg1OnYy", "diffSide": "RIGHT", "path": "core/src/main/resources/defaults/clustertemplates/aws/aws-dataengineering-ha-702.json", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQyMToyMDoxMlrOFwDIag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQyMjo1MTo1NVrOFwFCdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkyNzI3NA==", "bodyText": "What's the smallest instance that CB supports? Will likely need to make a change in CB to allow these nodes to be quite a bit smaller.", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r385927274", "createdAt": "2020-02-28T21:20:12Z", "author": {"login": "sidseth"}, "path": "core/src/main/resources/defaults/clustertemplates/aws/aws-dataengineering-ha-702.json", "diffHunk": "@@ -0,0 +1,133 @@\n+{\n+  \"name\": \"Data Engineering HA for AWS\",\n+  \"description\": \"\",\n+  \"type\": \"DATAENGINEERING\",\n+  \"featureState\": \"PREVIEW\",\n+  \"cloudPlatform\": \"AWS\",\n+  \"distroXTemplate\": {\n+    \"cluster\": {\n+      \"blueprintName\": \"CDP 1.2 - Data Engineering: HA: Apache Spark, Apache Hive, Apache Oozie\"\n+    },\n+    \"instanceGroups\": [{\n+      \"nodeCount\": 1,\n+      \"name\": \"manager\",\n+      \"type\": \"GATEWAY\",\n+      \"recoveryMode\": \"MANUAL\",\n+      \"template\": {\n+        \"aws\": {},\n+        \"instanceType\": \"m5.2xlarge\",\n+        \"rootVolume\": {\n+          \"size\": 50\n+        },\n+        \"attachedVolumes\": [{\n+          \"size\": 100,\n+          \"count\": 1,\n+          \"type\": \"standard\"\n+        }],\n+        \"cloudPlatform\": \"AWS\"\n+      },\n+      \"recipeNames\": []\n+    },\n+      {\n+        \"nodeCount\": 0,\n+        \"name\": \"compute\",\n+        \"type\": \"CORE\",\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"aws\": {},\n+          \"instanceType\": \"m5.2xlarge\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [{\n+            \"size\": 100,\n+            \"count\": 1,\n+            \"type\": \"standard\"\n+          }],\n+          \"cloudPlatform\": \"AWS\"\n+        },\n+        \"recipeNames\": []\n+      },\n+      {\n+        \"nodeCount\": 0,\n+        \"name\": \"gateway\",\n+        \"type\": \"CORE\",\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"aws\": {},\n+          \"instanceType\": \"m5.2xlarge\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [{\n+            \"size\": 100,\n+            \"count\": 1,\n+            \"type\": \"standard\"\n+          }],\n+          \"cloudPlatform\": \"AWS\"\n+        },\n+        \"recipeNames\": []\n+      },\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"quorum\",\n+        \"type\": \"CORE\",\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"aws\": {},\n+          \"instanceType\": \"m5.2xlarge\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 78}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTk1ODUxOA==", "bodyText": "m5.2xlarge. CC: @mschumpert", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r385958518", "createdAt": "2020-02-28T22:51:55Z", "author": {"login": "cegganesh84"}, "path": "core/src/main/resources/defaults/clustertemplates/aws/aws-dataengineering-ha-702.json", "diffHunk": "@@ -0,0 +1,133 @@\n+{\n+  \"name\": \"Data Engineering HA for AWS\",\n+  \"description\": \"\",\n+  \"type\": \"DATAENGINEERING\",\n+  \"featureState\": \"PREVIEW\",\n+  \"cloudPlatform\": \"AWS\",\n+  \"distroXTemplate\": {\n+    \"cluster\": {\n+      \"blueprintName\": \"CDP 1.2 - Data Engineering: HA: Apache Spark, Apache Hive, Apache Oozie\"\n+    },\n+    \"instanceGroups\": [{\n+      \"nodeCount\": 1,\n+      \"name\": \"manager\",\n+      \"type\": \"GATEWAY\",\n+      \"recoveryMode\": \"MANUAL\",\n+      \"template\": {\n+        \"aws\": {},\n+        \"instanceType\": \"m5.2xlarge\",\n+        \"rootVolume\": {\n+          \"size\": 50\n+        },\n+        \"attachedVolumes\": [{\n+          \"size\": 100,\n+          \"count\": 1,\n+          \"type\": \"standard\"\n+        }],\n+        \"cloudPlatform\": \"AWS\"\n+      },\n+      \"recipeNames\": []\n+    },\n+      {\n+        \"nodeCount\": 0,\n+        \"name\": \"compute\",\n+        \"type\": \"CORE\",\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"aws\": {},\n+          \"instanceType\": \"m5.2xlarge\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [{\n+            \"size\": 100,\n+            \"count\": 1,\n+            \"type\": \"standard\"\n+          }],\n+          \"cloudPlatform\": \"AWS\"\n+        },\n+        \"recipeNames\": []\n+      },\n+      {\n+        \"nodeCount\": 0,\n+        \"name\": \"gateway\",\n+        \"type\": \"CORE\",\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"aws\": {},\n+          \"instanceType\": \"m5.2xlarge\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [{\n+            \"size\": 100,\n+            \"count\": 1,\n+            \"type\": \"standard\"\n+          }],\n+          \"cloudPlatform\": \"AWS\"\n+        },\n+        \"recipeNames\": []\n+      },\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"quorum\",\n+        \"type\": \"CORE\",\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"aws\": {},\n+          \"instanceType\": \"m5.2xlarge\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkyNzI3NA=="}, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 78}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MDMwNTM0OnYy", "diffSide": "RIGHT", "path": "core/src/main/resources/defaults/clustertemplates/azure/azure-dataengineering-ha-702.json", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQyMToyOToyMVrOFwDWzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMzo1NzoyN1rOFwzspw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkzMDk1Ng==", "bodyText": "This stood out. Azure masters get 16cores/64GB. AWS gets 8 cores/32GB. Intentional?", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r385930956", "createdAt": "2020-02-28T21:29:21Z", "author": {"login": "sidseth"}, "path": "core/src/main/resources/defaults/clustertemplates/azure/azure-dataengineering-ha-702.json", "diffHunk": "@@ -0,0 +1,174 @@\n+{\n+  \"name\": \"Data Engineering HA for Azure\",\n+  \"description\": \"\",\n+  \"type\": \"DATAENGINEERING\",\n+  \"featureState\": \"PREVIEW\",\n+  \"cloudPlatform\": \"AZURE\",\n+  \"distroXTemplate\": {\n+    \"cluster\": {\n+      \"blueprintName\": \"CDP 1.2 - Data Engineering: HA: Apache Spark, Apache Hive, Apache Oozie\"\n+    },\n+    \"instanceGroups\": [\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"quorum\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 1,\n+        \"name\": \"manager\",\n+        \"type\": \"GATEWAY\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 0,\n+        \"name\": \"compute\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"worker\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 2,\n+        \"name\": \"master\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D16_v3\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 131}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTk1ODM0NA==", "bodyText": "Good catch. I was following the existing DE Azure definition. Can fix in all the DE templates for Azure.", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r385958344", "createdAt": "2020-02-28T22:51:18Z", "author": {"login": "cegganesh84"}, "path": "core/src/main/resources/defaults/clustertemplates/azure/azure-dataengineering-ha-702.json", "diffHunk": "@@ -0,0 +1,174 @@\n+{\n+  \"name\": \"Data Engineering HA for Azure\",\n+  \"description\": \"\",\n+  \"type\": \"DATAENGINEERING\",\n+  \"featureState\": \"PREVIEW\",\n+  \"cloudPlatform\": \"AZURE\",\n+  \"distroXTemplate\": {\n+    \"cluster\": {\n+      \"blueprintName\": \"CDP 1.2 - Data Engineering: HA: Apache Spark, Apache Hive, Apache Oozie\"\n+    },\n+    \"instanceGroups\": [\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"quorum\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 1,\n+        \"name\": \"manager\",\n+        \"type\": \"GATEWAY\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 0,\n+        \"name\": \"compute\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"worker\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 2,\n+        \"name\": \"master\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D16_v3\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkzMDk1Ng=="}, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 131}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTk2MjY1NQ==", "bodyText": "This jira answers many questions https://jira.cloudera.com/browse/CB-4012. This is where the master instance type was set to Standard_D16_v3 CC: @doktoric", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r385962655", "createdAt": "2020-02-28T23:07:08Z", "author": {"login": "cegganesh84"}, "path": "core/src/main/resources/defaults/clustertemplates/azure/azure-dataengineering-ha-702.json", "diffHunk": "@@ -0,0 +1,174 @@\n+{\n+  \"name\": \"Data Engineering HA for Azure\",\n+  \"description\": \"\",\n+  \"type\": \"DATAENGINEERING\",\n+  \"featureState\": \"PREVIEW\",\n+  \"cloudPlatform\": \"AZURE\",\n+  \"distroXTemplate\": {\n+    \"cluster\": {\n+      \"blueprintName\": \"CDP 1.2 - Data Engineering: HA: Apache Spark, Apache Hive, Apache Oozie\"\n+    },\n+    \"instanceGroups\": [\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"quorum\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 1,\n+        \"name\": \"manager\",\n+        \"type\": \"GATEWAY\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 0,\n+        \"name\": \"compute\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"worker\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 2,\n+        \"name\": \"master\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D16_v3\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkzMDk1Ng=="}, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 131}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTk2MzM4Mg==", "bodyText": "At the same time opdb master is moving to D8 https://jira.cloudera.com/browse/CB-5275", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r385963382", "createdAt": "2020-02-28T23:10:21Z", "author": {"login": "cegganesh84"}, "path": "core/src/main/resources/defaults/clustertemplates/azure/azure-dataengineering-ha-702.json", "diffHunk": "@@ -0,0 +1,174 @@\n+{\n+  \"name\": \"Data Engineering HA for Azure\",\n+  \"description\": \"\",\n+  \"type\": \"DATAENGINEERING\",\n+  \"featureState\": \"PREVIEW\",\n+  \"cloudPlatform\": \"AZURE\",\n+  \"distroXTemplate\": {\n+    \"cluster\": {\n+      \"blueprintName\": \"CDP 1.2 - Data Engineering: HA: Apache Spark, Apache Hive, Apache Oozie\"\n+    },\n+    \"instanceGroups\": [\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"quorum\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 1,\n+        \"name\": \"manager\",\n+        \"type\": \"GATEWAY\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 0,\n+        \"name\": \"compute\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"worker\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 2,\n+        \"name\": \"master\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D16_v3\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkzMDk1Ng=="}, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 131}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjcyMjk4Mw==", "bodyText": "Moved to Standard_D8_v3 for all the DE template masters.", "url": "https://github.com/hortonworks/cloudbreak/pull/7401#discussion_r386722983", "createdAt": "2020-03-02T23:57:27Z", "author": {"login": "cegganesh84"}, "path": "core/src/main/resources/defaults/clustertemplates/azure/azure-dataengineering-ha-702.json", "diffHunk": "@@ -0,0 +1,174 @@\n+{\n+  \"name\": \"Data Engineering HA for Azure\",\n+  \"description\": \"\",\n+  \"type\": \"DATAENGINEERING\",\n+  \"featureState\": \"PREVIEW\",\n+  \"cloudPlatform\": \"AZURE\",\n+  \"distroXTemplate\": {\n+    \"cluster\": {\n+      \"blueprintName\": \"CDP 1.2 - Data Engineering: HA: Apache Spark, Apache Hive, Apache Oozie\"\n+    },\n+    \"instanceGroups\": [\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"quorum\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 1,\n+        \"name\": \"manager\",\n+        \"type\": \"GATEWAY\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 0,\n+        \"name\": \"compute\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 3,\n+        \"name\": \"worker\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D8_v3\",\n+          \"rootVolume\": {\n+            \"size\": 50\n+          },\n+          \"attachedVolumes\": [\n+            {\n+              \"size\": 100,\n+              \"count\": 1,\n+              \"type\": \"StandardSSD_LRS\"\n+            }\n+          ],\n+          \"cloudPlatform\": \"AZURE\"\n+        },\n+        \"recipeNames\": [],\n+        \"cloudPlatform\": \"AZURE\"\n+      },\n+      {\n+        \"nodeCount\": 2,\n+        \"name\": \"master\",\n+        \"type\": \"CORE\",\n+        \"azure\": {},\n+        \"recoveryMode\": \"MANUAL\",\n+        \"template\": {\n+          \"azure\": {\n+            \"encrypted\": false,\n+            \"managedDisk\": true\n+          },\n+          \"instanceType\": \"Standard_D16_v3\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkzMDk1Ng=="}, "originalCommit": {"oid": "ec0aa9bb45922ff45947f7d545820eed7a99b65b"}, "originalPosition": 131}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2796, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}