{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxMzU1NjI5", "number": 7421, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMzowNDoyN1rODjzk_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMzowNTo1MVrODjzmWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4ODcxODA1OnYy", "diffSide": "RIGHT", "path": "cloud-azure/src/main/java/com/sequenceiq/cloudbreak/cloud/azure/AzurePlatformResources.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMzowNDoyN1rOFv0RPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMzowNDoyN1rOFv0RPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTY4Mzc3NQ==", "bodyText": "Minor: does in resource group, not sure what we're trying to say", "url": "https://github.com/hortonworks/cloudbreak/pull/7421#discussion_r385683775", "createdAt": "2020-02-28T13:04:27Z", "author": {"login": "keyki"}, "path": "cloud-azure/src/main/java/com/sequenceiq/cloudbreak/cloud/azure/AzurePlatformResources.java", "diffHunk": "@@ -96,8 +97,15 @@ public CloudNetworks networks(CloudCredential cloudCredential, Region region, Ma\n         String networkId = filters.get(\"networkId\");\n         String resourceGroupName = filters.get(\"resourceGroupName\");\n         if (!StringUtils.isEmpty(networkId) && !StringUtils.isEmpty(resourceGroupName)) {\n+            LOGGER.info(\"Query Network with id '{}' does in resource group {}\", networkId, resourceGroupName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5caf5a51c83fac9c0601688094e5c1a64aef87b"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4ODcxOTI5OnYy", "diffSide": "RIGHT", "path": "cloud-azure/src/main/java/com/sequenceiq/cloudbreak/cloud/azure/AzurePlatformResources.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMzowNTowMFrOFv0SCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMzowNTowMFrOFv0SCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTY4Mzk3Nw==", "bodyText": "Same", "url": "https://github.com/hortonworks/cloudbreak/pull/7421#discussion_r385683977", "createdAt": "2020-02-28T13:05:00Z", "author": {"login": "keyki"}, "path": "cloud-azure/src/main/java/com/sequenceiq/cloudbreak/cloud/azure/AzurePlatformResources.java", "diffHunk": "@@ -96,8 +97,15 @@ public CloudNetworks networks(CloudCredential cloudCredential, Region region, Ma\n         String networkId = filters.get(\"networkId\");\n         String resourceGroupName = filters.get(\"resourceGroupName\");\n         if (!StringUtils.isEmpty(networkId) && !StringUtils.isEmpty(resourceGroupName)) {\n+            LOGGER.info(\"Query Network with id '{}' does in resource group {}\", networkId, resourceGroupName);\n             Network network = client.getNetworkByResourceGroup(resourceGroupName, networkId);\n-            addToResultIfRegionsAreMatch(region, result, network);\n+            if (network != null) {\n+                LOGGER.info(\"Network was successfully queried for  Network with id '{}' does in resource group {}: {}\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5caf5a51c83fac9c0601688094e5c1a64aef87b"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4ODcyMTU1OnYy", "diffSide": "RIGHT", "path": "cloud-azure/src/main/java/com/sequenceiq/cloudbreak/cloud/azure/AzurePlatformResources.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMzowNTo1MVrOFv0TWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMzowNTo1MVrOFv0TWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTY4NDMxNQ==", "bodyText": "%s does not work here.", "url": "https://github.com/hortonworks/cloudbreak/pull/7421#discussion_r385684315", "createdAt": "2020-02-28T13:05:51Z", "author": {"login": "keyki"}, "path": "cloud-azure/src/main/java/com/sequenceiq/cloudbreak/cloud/azure/AzurePlatformResources.java", "diffHunk": "@@ -110,13 +118,22 @@ public CloudNetworks networks(CloudCredential cloudCredential, Region region, Ma\n     }\n \n     private void addToResultIfRegionsAreMatch(Region region, Map<String, Set<CloudNetwork>> result, Network network) {\n-        String actualRegionLabel = network.region().label();\n-        String actualRegionName = network.region().name();\n-\n-        if (regionMatch(actualRegionLabel, region) || regionMatch(actualRegionName, region)) {\n-            CloudNetwork cloudNetwork = convertToCloudNetwork(network);\n-            result.computeIfAbsent(actualRegionLabel, s -> new HashSet<>()).add(cloudNetwork);\n-            result.computeIfAbsent(actualRegionName, s -> new HashSet<>()).add(cloudNetwork);\n+        if (network.region() != null) {\n+            String actualRegionLabel = network.region().label();\n+            String actualRegionName = network.region().name();\n+\n+            LOGGER.info(\"The region label '{}' and the region name '{}' are for Azure network id: {} name: {}\",\n+                    actualRegionLabel, actualRegionName, network.id(), network.name());\n+            if (regionMatch(actualRegionLabel, region) || regionMatch(actualRegionName, region)) {\n+                CloudNetwork cloudNetwork = convertToCloudNetwork(network);\n+                result.computeIfAbsent(actualRegionLabel, s -> new HashSet<>()).add(cloudNetwork);\n+                result.computeIfAbsent(actualRegionName, s -> new HashSet<>()).add(cloudNetwork);\n+            }\n+        } else {\n+            LOGGER.info(\"Network with id %s and name %s has no region which is not supported by CDP: {}\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5caf5a51c83fac9c0601688094e5c1a64aef87b"}, "originalPosition": 48}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2808, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}