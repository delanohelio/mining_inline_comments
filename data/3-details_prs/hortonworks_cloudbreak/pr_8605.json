{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0MjA0ODg2", "number": 8605, "title": "CB-7930 Verify credential on environment level", "bodyText": "See detailed description in the commit message.", "createdAt": "2020-07-21T07:05:49Z", "url": "https://github.com/hortonworks/cloudbreak/pull/8605", "merged": true, "mergeCommit": {"oid": "8a94642aa8155b524a0ae834fbe64291a96731a3"}, "closed": true, "closedAt": "2020-07-24T09:32:45Z", "author": {"login": "foldik"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3A7dqAFqTQ1MjE4NjM1Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc4AA-DAFqTQ1NDcyNTQ4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMTg2MzU3", "url": "https://github.com/hortonworks/cloudbreak/pull/8605#pullrequestreview-452186357", "createdAt": "2020-07-21T07:16:45Z", "commit": {"oid": "94e48e5f8a2c2442abef06ebe964fcb999b55060"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNzoxNjo0NVrOG0rLBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNzoxNjo0NVrOG0rLBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg4NjQ2OQ==", "bodyText": "pls rename it to verifyCredentialByCrn (or verifyCredentialByEnvCrn) to make it easier to understand, also pls fix nickname in the annotation", "url": "https://github.com/hortonworks/cloudbreak/pull/8605#discussion_r457886469", "createdAt": "2020-07-21T07:16:45Z", "author": {"login": "horadla23"}, "path": "environment-api/src/main/java/com/sequenceiq/environment/api/v1/environment/endpoint/EnvironmentEndpoint.java", "diffHunk": "@@ -184,6 +185,13 @@ SimpleEnvironmentResponses deleteMultipleByCrns(Set<String> crns,\n             nickname = \"stopEnvironmentByCrnV1\")\n     void postStopByCrn(@PathParam(\"crn\") String crn);\n \n+    @GET\n+    @Path(\"/crn/{crn}/verify\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    @ApiOperation(value = EnvironmentOpDescription.VERIFY_BY_CRN, notes = ENVIRONMENT_NOTES,\n+            nickname = \"verifyEnvironmentByCrn\", httpMethod = \"GET\")\n+    CredentialResponse verifyByCrn(@PathParam(\"crn\") String crn);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94e48e5f8a2c2442abef06ebe964fcb999b55060"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "94e48e5f8a2c2442abef06ebe964fcb999b55060", "author": {"user": {"login": "foldik", "name": "Attila Kristof Foldi"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/94e48e5f8a2c2442abef06ebe964fcb999b55060", "committedDate": "2020-07-21T07:03:52Z", "message": "CB-7930 Verify credential on environment level"}, "afterCommit": {"oid": "f4d75d49d6343561992c782f45569637cce64f08", "author": {"user": {"login": "foldik", "name": "Attila Kristof Foldi"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/f4d75d49d6343561992c782f45569637cce64f08", "committedDate": "2020-07-21T07:59:41Z", "message": "CB-7930 Verify credential on environment level"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f4d75d49d6343561992c782f45569637cce64f08", "author": {"user": {"login": "foldik", "name": "Attila Kristof Foldi"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/f4d75d49d6343561992c782f45569637cce64f08", "committedDate": "2020-07-21T07:59:41Z", "message": "CB-7930 Verify credential on environment level"}, "afterCommit": {"oid": "c4fb3f5a743c7091cab9a17db716ca864959e066", "author": {"user": {"login": "foldik", "name": "Attila Kristof Foldi"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/c4fb3f5a743c7091cab9a17db716ca864959e066", "committedDate": "2020-07-21T08:05:20Z", "message": "CB-7930 Verify credential on environment level"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMjIwNjUx", "url": "https://github.com/hortonworks/cloudbreak/pull/8605#pullrequestreview-452220651", "createdAt": "2020-07-21T08:06:23Z", "commit": {"oid": "c4fb3f5a743c7091cab9a17db716ca864959e066"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MjAwNDk3", "url": "https://github.com/hortonworks/cloudbreak/pull/8605#pullrequestreview-454200497", "createdAt": "2020-07-23T14:40:33Z", "commit": {"oid": "c4fb3f5a743c7091cab9a17db716ca864959e066"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNDo0MDozNFrOG2Nu6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNDo0MDozNFrOG2Nu6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTUwMTI4OQ==", "bodyText": "do we need this for the /name endpoint ? most of the time we have both /crn and /name", "url": "https://github.com/hortonworks/cloudbreak/pull/8605#discussion_r459501289", "createdAt": "2020-07-23T14:40:34Z", "author": {"login": "doktoric"}, "path": "environment/src/main/java/com/sequenceiq/environment/environment/v1/EnvironmentController.java", "diffHunk": "@@ -268,6 +274,15 @@ public void postStopByCrn(@ResourceCrn @TenantAwareParam String crn) {\n         environmentStopService.stopByCrn(crn);\n     }\n \n+    @Override\n+    @CheckPermissionByResourceCrn(action = AuthorizationResourceAction.DESCRIBE_ENVIRONMENT)\n+    public CredentialResponse verifyCredentialByEnvCrn(@ResourceCrn String crn) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4fb3f5a743c7091cab9a17db716ca864959e066"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "456040d71006fbe93a7c46618b1d5e0a51c06a75", "author": {"user": {"login": "foldik", "name": "Attila Kristof Foldi"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/456040d71006fbe93a7c46618b1d5e0a51c06a75", "committedDate": "2020-07-24T08:44:39Z", "message": "CB-7930 Verify credential on environment level through env API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c4fb3f5a743c7091cab9a17db716ca864959e066", "author": {"user": {"login": "foldik", "name": "Attila Kristof Foldi"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/c4fb3f5a743c7091cab9a17db716ca864959e066", "committedDate": "2020-07-21T08:05:20Z", "message": "CB-7930 Verify credential on environment level"}, "afterCommit": {"oid": "456040d71006fbe93a7c46618b1d5e0a51c06a75", "author": {"user": {"login": "foldik", "name": "Attila Kristof Foldi"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/456040d71006fbe93a7c46618b1d5e0a51c06a75", "committedDate": "2020-07-24T08:44:39Z", "message": "CB-7930 Verify credential on environment level through env API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NzI1NDgy", "url": "https://github.com/hortonworks/cloudbreak/pull/8605#pullrequestreview-454725482", "createdAt": "2020-07-24T08:46:54Z", "commit": {"oid": "456040d71006fbe93a7c46618b1d5e0a51c06a75"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2613, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}