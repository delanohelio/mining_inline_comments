{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5Nzc0NjIx", "number": 9169, "title": "CB-9209", "bodyText": "FMS syncer was updating the status of Freeipa instance while state was not yet stable or flow could start during syncronization.", "createdAt": "2020-10-08T09:11:01Z", "url": "https://github.com/hortonworks/cloudbreak/pull/9169", "merged": true, "mergeCommit": {"oid": "15549b03eb75afc9fe6f68c07867bbc54bf938cc"}, "closed": true, "closedAt": "2020-10-08T19:58:48Z", "author": {"login": "sodre90"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQd-2PgBqjM4NTQzODA5MzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQie5ygFqTUwNDg0NjI4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "18df4d463cb6ed2e51b26e4c3fa38fc8cc0b9ed5", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/18df4d463cb6ed2e51b26e4c3fa38fc8cc0b9ed5", "committedDate": "2020-10-08T09:10:29Z", "message": "CB-9209 Do not update instancemetadatas or stack status if flow is running for a stack"}, "afterCommit": {"oid": "9c2ffe4cb25480c277128e186036aa1ee46050a2", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/9c2ffe4cb25480c277128e186036aa1ee46050a2", "committedDate": "2020-10-08T09:15:37Z", "message": "CB-9209 Do not update instancemetadatas or stack status if flow is running for a stack"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0Njg5MTUw", "url": "https://github.com/hortonworks/cloudbreak/pull/9169#pullrequestreview-504689150", "createdAt": "2020-10-08T11:34:53Z", "commit": {"oid": "9c2ffe4cb25480c277128e186036aa1ee46050a2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMTozNDo1NFrOHeaSzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMTozODoxNlrOHeaZoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY1MDEyNQ==", "bodyText": "please use isEmpty()", "url": "https://github.com/hortonworks/cloudbreak/pull/9169#discussion_r501650125", "createdAt": "2020-10-08T11:34:54Z", "author": {"login": "lacikaaa"}, "path": "freeipa/src/main/java/com/sequenceiq/freeipa/sync/StackStatusCheckerJob.java", "diffHunk": "@@ -99,7 +99,9 @@ private void syncAStack(Stack stack) {\n                     if (!checkableInstances.isEmpty()) {\n                         SyncResult syncResult = freeipaChecker.getStatus(stack, checkableInstances);\n                         List<ProviderSyncResult> results = providerChecker.updateAndGetStatuses(stack, checkableInstances);\n-                        updateStackStatus(stack, syncResult, results, alreadyDeletedCount);\n+                        if (results.size() > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c2ffe4cb25480c277128e186036aa1ee46050a2"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY1MTM3NQ==", "bodyText": "it's strange we need this. I think StackStatusCheckerJob already checks", "url": "https://github.com/hortonworks/cloudbreak/pull/9169#discussion_r501651375", "createdAt": "2020-10-08T11:37:17Z", "author": {"login": "lacikaaa"}, "path": "freeipa/src/main/java/com/sequenceiq/freeipa/sync/ProviderChecker.java", "diffHunk": "@@ -53,17 +57,23 @@\n             });\n             checkableInstances.forEach(instanceMetaData -> {\n                 if (statuses.stream().noneMatch(s -> s.getCloudInstance().getInstanceId().equals(instanceMetaData.getInstanceId()))) {\n-                    if (updateStatus) {\n-                        setStatusIfNotTheSame(instanceMetaData, InstanceStatus.DELETED_ON_PROVIDER_SIDE);\n-                        instanceMetaDataService.save(instanceMetaData);\n+                    if (!flowLogService.isOtherFlowRunning(stack.getId())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c2ffe4cb25480c277128e186036aa1ee46050a2"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY1MTg3Mg==", "bodyText": "same here, code shouldn't reach this part if flow is running", "url": "https://github.com/hortonworks/cloudbreak/pull/9169#discussion_r501651872", "createdAt": "2020-10-08T11:38:16Z", "author": {"login": "lacikaaa"}, "path": "freeipa/src/main/java/com/sequenceiq/freeipa/sync/StackStatusCheckerJob.java", "diffHunk": "@@ -113,7 +115,11 @@ private void updateStackStatus(Stack stack, SyncResult result, List<ProviderSync\n         DetailedStackStatus status = getStackStatus(providerSyncResults, result, alreadyDeletedCount);\n         if (status != stack.getStackStatus().getDetailedStackStatus()) {\n             if (autoSyncConfig.isUpdateStatus()) {\n-                stackUpdater.updateStackStatus(stack, status, result.getMessage());\n+                if (!flowLogService.isOtherFlowRunning(stack.getId())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c2ffe4cb25480c277128e186036aa1ee46050a2"}, "originalPosition": 25}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dd1bb649928342ed5f9ea1d3b56099c4fe32a183", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/dd1bb649928342ed5f9ea1d3b56099c4fe32a183", "committedDate": "2020-10-08T11:58:25Z", "message": "CB-9209 Do not update instancemetadatas or stack status if flow is running for a stack"}, "afterCommit": {"oid": "9534c4e07f10b37ac5f77ecfcea86ddb705ea483", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/9534c4e07f10b37ac5f77ecfcea86ddb705ea483", "committedDate": "2020-10-08T12:20:31Z", "message": "CB-9209 Do not update instancemetadatas or stack status if flow is running for a stack\n\nCB-9209 Do not update instancemetadatas or stack status if flow is running for a stack"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9534c4e07f10b37ac5f77ecfcea86ddb705ea483", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/9534c4e07f10b37ac5f77ecfcea86ddb705ea483", "committedDate": "2020-10-08T12:20:31Z", "message": "CB-9209 Do not update instancemetadatas or stack status if flow is running for a stack\n\nCB-9209 Do not update instancemetadatas or stack status if flow is running for a stack"}, "afterCommit": {"oid": "27fd973b10741e5d17eb16c6cf086b28f8eaeb6a", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/27fd973b10741e5d17eb16c6cf086b28f8eaeb6a", "committedDate": "2020-10-08T12:23:07Z", "message": "CB-9209 Do not update instancemetadatas or stack status if flow is running for a stack\n\nCB-9209 Do not update instancemetadatas or stack status if flow is running for a stack"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NzM4ODE2", "url": "https://github.com/hortonworks/cloudbreak/pull/9169#pullrequestreview-504738816", "createdAt": "2020-10-08T12:41:14Z", "commit": {"oid": "27fd973b10741e5d17eb16c6cf086b28f8eaeb6a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjo0MToxNFrOHecndA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjo0MToxNFrOHecndA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY4ODE4MA==", "bodyText": "this check has been removed: instanceMetaData.getInstanceStatus() != newStatus\nis it on purpose? I mean we will log here even no change happens in this case", "url": "https://github.com/hortonworks/cloudbreak/pull/9169#discussion_r501688180", "createdAt": "2020-10-08T12:41:14Z", "author": {"login": "lacikaaa"}, "path": "freeipa/src/main/java/com/sequenceiq/freeipa/sync/ProviderChecker.java", "diffHunk": "@@ -91,21 +101,25 @@ private InstanceStatus updateStatuses(CloudVmInstanceStatus vmInstanceStatus, In\n             default:\n                 LOGGER.info(\":::Auto sync::: the '{}' status is not converted\", vmInstanceStatus.getStatus());\n         }\n-        if (updateStatus) {\n-            instanceMetaDataService.save(instanceMetaData);\n+        if (!flowLogService.isOtherFlowRunning(stack.getId())) {\n+            if (updateStatus) {\n+                instanceMetaDataService.save(instanceMetaData);\n+            } else {\n+                LOGGER.debug(\"updateStatus flag is false, don't update status\");\n+            }\n+        } else {\n+            LOGGER.debug(\":::Auto sync::: do not update instance status to {} because flow is running for stack: {}\", status, stack.getName());\n         }\n         return status;\n     }\n \n     private void setStatusIfNotTheSame(InstanceMetaData instanceMetaData, InstanceStatus newStatus) {\n-        if (instanceMetaData.getInstanceStatus() != newStatus) {\n-            if (updateStatus) {\n-                instanceMetaData.setInstanceStatus(newStatus);\n-                LOGGER.info(\":::Auto sync::: The instance status updated from {} to {}\", instanceMetaData.getInstanceStatus(), newStatus);\n-            } else {\n-                LOGGER.info(\":::Auto sync::: The instance status would be had to update from {} to {}\",\n-                        instanceMetaData.getInstanceStatus(), newStatus);\n-            }\n+        if (updateStatus) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27fd973b10741e5d17eb16c6cf086b28f8eaeb6a"}, "originalPosition": 105}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "27fd973b10741e5d17eb16c6cf086b28f8eaeb6a", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/27fd973b10741e5d17eb16c6cf086b28f8eaeb6a", "committedDate": "2020-10-08T12:23:07Z", "message": "CB-9209 Do not update instancemetadatas or stack status if flow is running for a stack\n\nCB-9209 Do not update instancemetadatas or stack status if flow is running for a stack"}, "afterCommit": {"oid": "0ff0917545061a2d7615aaf5a4c5d03a4ce21256", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/0ff0917545061a2d7615aaf5a4c5d03a4ce21256", "committedDate": "2020-10-08T12:42:39Z", "message": "CB-9209 Do not update instancemetadatas or stack status if flow is running for a stack"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NzM4Nzcy", "url": "https://github.com/hortonworks/cloudbreak/pull/9169#pullrequestreview-504738772", "createdAt": "2020-10-08T12:41:11Z", "commit": {"oid": "27fd973b10741e5d17eb16c6cf086b28f8eaeb6a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjo0MToxMVrOHecnXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjo0NjowMFrOHeczNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY4ODE1Ng==", "bodyText": "Don't need this here, we check this at the start", "url": "https://github.com/hortonworks/cloudbreak/pull/9169#discussion_r501688156", "createdAt": "2020-10-08T12:41:11Z", "author": {"login": "topolyai5"}, "path": "freeipa/src/main/java/com/sequenceiq/freeipa/sync/ProviderChecker.java", "diffHunk": "@@ -31,39 +32,48 @@\n     @Inject\n     private StackInstanceProviderChecker stackInstanceProviderChecker;\n \n+    @Inject\n+    private FlowLogService flowLogService;\n+\n     @Value(\"${freeipa.autosync.update.status:true}\")\n     private boolean updateStatus;\n \n     public List<ProviderSyncResult> updateAndGetStatuses(Stack stack, Set<InstanceMetaData> checkableInstances) {\n         return checkedMeasure(() -> {\n             List<ProviderSyncResult> results = new ArrayList<>();\n             List<CloudVmInstanceStatus> statuses = stackInstanceProviderChecker.checkStatus(stack, checkableInstances);\n-            statuses.forEach(s -> {\n-                Optional<InstanceMetaData> instanceMetaData = checkableInstances.stream()\n-                        .filter(i -> s.getCloudInstance().getInstanceId().equals(i.getInstanceId()))\n-                        .findFirst();\n-                if (instanceMetaData.isPresent()) {\n-                    InstanceStatus instanceStatus = updateStatuses(s, instanceMetaData.get());\n-                    if (instanceStatus != null) {\n-                        results.add(new ProviderSyncResult(\"\", instanceStatus, false, s.getCloudInstance().getInstanceId()));\n+            if (flowLogService.isOtherFlowRunning(stack.getId())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27fd973b10741e5d17eb16c6cf086b28f8eaeb6a"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY4OTYzNQ==", "bodyText": "could you please add a more accurate message? where did happened or stuff like this", "url": "https://github.com/hortonworks/cloudbreak/pull/9169#discussion_r501689635", "createdAt": "2020-10-08T12:43:38Z", "author": {"login": "topolyai5"}, "path": "freeipa/src/main/java/com/sequenceiq/freeipa/sync/StackStatusCheckerJob.java", "diffHunk": "@@ -113,7 +115,11 @@ private void updateStackStatus(Stack stack, SyncResult result, List<ProviderSync\n         DetailedStackStatus status = getStackStatus(providerSyncResults, result, alreadyDeletedCount);\n         if (status != stack.getStackStatus().getDetailedStackStatus()) {\n             if (autoSyncConfig.isUpdateStatus()) {\n-                stackUpdater.updateStackStatus(stack, status, result.getMessage());\n+                if (flowLogService.isOtherFlowRunning(stack.getId())) {\n+                    throw new InterruptSyncingException(\":::Auto sync::: interrupt syncing, flow is running on freeipa stack \" + stack.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ff0917545061a2d7615aaf5a4c5d03a4ce21256"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY5MDA4NQ==", "bodyText": "please add a log message, why you skip the update", "url": "https://github.com/hortonworks/cloudbreak/pull/9169#discussion_r501690085", "createdAt": "2020-10-08T12:44:23Z", "author": {"login": "topolyai5"}, "path": "freeipa/src/main/java/com/sequenceiq/freeipa/sync/StackStatusCheckerJob.java", "diffHunk": "@@ -99,7 +99,9 @@ private void syncAStack(Stack stack) {\n                     if (!checkableInstances.isEmpty()) {\n                         SyncResult syncResult = freeipaChecker.getStatus(stack, checkableInstances);\n                         List<ProviderSyncResult> results = providerChecker.updateAndGetStatuses(stack, checkableInstances);\n-                        updateStackStatus(stack, syncResult, results, alreadyDeletedCount);\n+                        if (!results.isEmpty()) {\n+                            updateStackStatus(stack, syncResult, results, alreadyDeletedCount);\n+                        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ff0917545061a2d7615aaf5a4c5d03a4ce21256"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY5MTE4OA==", "bodyText": "if the flow is finished while you iterate over the list, what will happen?", "url": "https://github.com/hortonworks/cloudbreak/pull/9169#discussion_r501691188", "createdAt": "2020-10-08T12:46:00Z", "author": {"login": "topolyai5"}, "path": "freeipa/src/main/java/com/sequenceiq/freeipa/sync/ProviderChecker.java", "diffHunk": "@@ -91,8 +101,14 @@ private InstanceStatus updateStatuses(CloudVmInstanceStatus vmInstanceStatus, In\n             default:\n                 LOGGER.info(\":::Auto sync::: the '{}' status is not converted\", vmInstanceStatus.getStatus());\n         }\n-        if (updateStatus) {\n-            instanceMetaDataService.save(instanceMetaData);\n+        if (!flowLogService.isOtherFlowRunning(stack.getId())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ff0917545061a2d7615aaf5a4c5d03a4ce21256"}, "originalPosition": 84}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0ff0917545061a2d7615aaf5a4c5d03a4ce21256", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/0ff0917545061a2d7615aaf5a4c5d03a4ce21256", "committedDate": "2020-10-08T12:42:39Z", "message": "CB-9209 Do not update instancemetadatas or stack status if flow is running for a stack"}, "afterCommit": {"oid": "687abbd5e8118eef065c1d18ee6c1f881ae70445", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/687abbd5e8118eef065c1d18ee6c1f881ae70445", "committedDate": "2020-10-08T12:59:02Z", "message": "CB-9209 do not put stack status to DELETED_ON_PROVIDER_SIDE if results is empty and do not update instancemetadatas or stack status if flow is running for a stack"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "687abbd5e8118eef065c1d18ee6c1f881ae70445", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/687abbd5e8118eef065c1d18ee6c1f881ae70445", "committedDate": "2020-10-08T12:59:02Z", "message": "CB-9209 do not put stack status to DELETED_ON_PROVIDER_SIDE if results is empty and do not update instancemetadatas or stack status if flow is running for a stack"}, "afterCommit": {"oid": "7930c576bb24e5527c9590ebb5df51dc91f9fabb", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/7930c576bb24e5527c9590ebb5df51dc91f9fabb", "committedDate": "2020-10-08T13:01:30Z", "message": "CB-9209 do not put stack status to DELETED_ON_PROVIDER_SIDE if results is empty and do not update instancemetadatas or stack status if flow is running for a stack"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7930c576bb24e5527c9590ebb5df51dc91f9fabb", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/7930c576bb24e5527c9590ebb5df51dc91f9fabb", "committedDate": "2020-10-08T13:01:30Z", "message": "CB-9209 do not put stack status to DELETED_ON_PROVIDER_SIDE if results is empty and do not update instancemetadatas or stack status if flow is running for a stack"}, "afterCommit": {"oid": "d76bfbc60590fa0244e30f86f1cc017db149bd6f", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/d76bfbc60590fa0244e30f86f1cc017db149bd6f", "committedDate": "2020-10-08T13:04:11Z", "message": "CB-9209 do not put stack status to DELETED_ON_PROVIDER_SIDE if results is empty and do not update instancemetadatas or stack status if flow is running for a stack"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NzYzNzA4", "url": "https://github.com/hortonworks/cloudbreak/pull/9169#pullrequestreview-504763708", "createdAt": "2020-10-08T13:09:37Z", "commit": {"oid": "d76bfbc60590fa0244e30f86f1cc017db149bd6f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NzY2Mzkz", "url": "https://github.com/hortonworks/cloudbreak/pull/9169#pullrequestreview-504766393", "createdAt": "2020-10-08T13:12:36Z", "commit": {"oid": "d76bfbc60590fa0244e30f86f1cc017db149bd6f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d76bfbc60590fa0244e30f86f1cc017db149bd6f", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/d76bfbc60590fa0244e30f86f1cc017db149bd6f", "committedDate": "2020-10-08T13:04:11Z", "message": "CB-9209 do not put stack status to DELETED_ON_PROVIDER_SIDE if results is empty and do not update instancemetadatas or stack status if flow is running for a stack"}, "afterCommit": {"oid": "9a83f3703b2f8c59f3fd3000213d879324c46745", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/9a83f3703b2f8c59f3fd3000213d879324c46745", "committedDate": "2020-10-08T13:27:43Z", "message": "CB-9209 do not put stack status to DELETED_ON_PROVIDER_SIDE if results is empty and do not update instancemetadatas or stack status if flow is running for a stack"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88c0d1470556e930a5538a685e2eeea9045c5aad", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/88c0d1470556e930a5538a685e2eeea9045c5aad", "committedDate": "2020-10-08T14:27:31Z", "message": "CB-9209 do not put stack status to DELETED_ON_PROVIDER_SIDE if results is empty and do not update instancemetadatas or stack status if flow is running for a stack"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9a83f3703b2f8c59f3fd3000213d879324c46745", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/9a83f3703b2f8c59f3fd3000213d879324c46745", "committedDate": "2020-10-08T13:27:43Z", "message": "CB-9209 do not put stack status to DELETED_ON_PROVIDER_SIDE if results is empty and do not update instancemetadatas or stack status if flow is running for a stack"}, "afterCommit": {"oid": "88c0d1470556e930a5538a685e2eeea9045c5aad", "author": {"user": {"login": "sodre90", "name": "Erd\u0151s P\u00e9ter"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/88c0d1470556e930a5538a685e2eeea9045c5aad", "committedDate": "2020-10-08T14:27:31Z", "message": "CB-9209 do not put stack status to DELETED_ON_PROVIDER_SIDE if results is empty and do not update instancemetadatas or stack status if flow is running for a stack"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0ODQ2Mjg0", "url": "https://github.com/hortonworks/cloudbreak/pull/9169#pullrequestreview-504846284", "createdAt": "2020-10-08T14:30:33Z", "commit": {"oid": "88c0d1470556e930a5538a685e2eeea9045c5aad"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2121, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}