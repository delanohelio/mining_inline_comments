{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1MTYzMTEy", "number": 8185, "title": "CB-6236 do not add RAZ service to SDX template if not enabled", "bodyText": "", "createdAt": "2020-05-29T15:11:38Z", "url": "https://github.com/hortonworks/cloudbreak/pull/8185", "merged": true, "mergeCommit": {"oid": "878a4d5a8d6c03917a65f8603b3df1d467d5971d"}, "closed": true, "closedAt": "2020-05-31T07:07:52Z", "author": {"login": "keyki"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcmEAvZAFqTQyMTA0ODY1NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmSO0ggFqTQyMTM4NjkxOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMDQ4NjU1", "url": "https://github.com/hortonworks/cloudbreak/pull/8185#pullrequestreview-421048655", "createdAt": "2020-05-29T15:15:38Z", "commit": {"oid": "e2cbf0de521807ec135bda836d440f3abcfa3716"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMDgyMDcw", "url": "https://github.com/hortonworks/cloudbreak/pull/8185#pullrequestreview-421082070", "createdAt": "2020-05-29T15:55:21Z", "commit": {"oid": "e2cbf0de521807ec135bda836d440f3abcfa3716"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMTMxMjI2", "url": "https://github.com/hortonworks/cloudbreak/pull/8185#pullrequestreview-421131226", "createdAt": "2020-05-29T17:03:32Z", "commit": {"oid": "e2cbf0de521807ec135bda836d440f3abcfa3716"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMTMzMjAw", "url": "https://github.com/hortonworks/cloudbreak/pull/8185#pullrequestreview-421133200", "createdAt": "2020-05-29T17:04:54Z", "commit": {"oid": "e2cbf0de521807ec135bda836d440f3abcfa3716"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxNzowNDo1NFrOGclBrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxNzowNDo1NFrOGclBrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjYxOTk1MA==", "bodyText": "It looks like that this was not properly covered with test, please cover it in this fix.", "url": "https://github.com/hortonworks/cloudbreak/pull/8185#discussion_r432619950", "createdAt": "2020-05-29T17:04:54Z", "author": {"login": "akanto"}, "path": "template-manager-cmtemplate/src/main/java/com/sequenceiq/cloudbreak/cmtemplate/configproviders/raz/RangerRazConfigProvider.java", "diffHunk": "@@ -35,11 +35,14 @@\n \n     @Override\n     public Map<String, ApiClusterTemplateService> getAdditionalServices(CmTemplateProcessor cmTemplateProcessor, TemplatePreparationObject source) {\n-        ApiClusterTemplateService coreSettings = createTemplate();\n-        Set<HostgroupView> hostgroupViews = source.getHostgroupViews();\n-        return hostgroupViews.stream()\n-                .filter(hg -> InstanceGroupType.CORE.equals(hg.getInstanceGroupType()))\n-                .collect(Collectors.toMap(HostgroupView::getName, v -> coreSettings));\n+        if (isConfigurationNeeded(cmTemplateProcessor, source)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2cbf0de521807ec135bda836d440f3abcfa3716"}, "originalPosition": 9}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e2cbf0de521807ec135bda836d440f3abcfa3716", "author": {"user": {"login": "keyki", "name": "Krisztian Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/e2cbf0de521807ec135bda836d440f3abcfa3716", "committedDate": "2020-05-29T15:10:13Z", "message": "CB-6236 disable Raz in UMS mock"}, "afterCommit": {"oid": "ef7f3f22f5e45306fffd4607118a0e06c726ed30", "author": {"user": {"login": "keyki", "name": "Krisztian Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/ef7f3f22f5e45306fffd4607118a0e06c726ed30", "committedDate": "2020-05-29T17:56:54Z", "message": "CB-6236 do not add RAZ service to SDX template if not enabled"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef7f3f22f5e45306fffd4607118a0e06c726ed30", "author": {"user": {"login": "keyki", "name": "Krisztian Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/ef7f3f22f5e45306fffd4607118a0e06c726ed30", "committedDate": "2020-05-29T17:56:54Z", "message": "CB-6236 do not add RAZ service to SDX template if not enabled"}, "afterCommit": {"oid": "23ac6435d0037e81a0c644a9885ed748349b78cb", "author": {"user": {"login": "keyki", "name": "Krisztian Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/23ac6435d0037e81a0c644a9885ed748349b78cb", "committedDate": "2020-05-30T06:58:19Z", "message": "CB-6236 do not add RAZ service to SDX template if not enabled"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "23ac6435d0037e81a0c644a9885ed748349b78cb", "author": {"user": {"login": "keyki", "name": "Krisztian Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/23ac6435d0037e81a0c644a9885ed748349b78cb", "committedDate": "2020-05-30T06:58:19Z", "message": "CB-6236 do not add RAZ service to SDX template if not enabled"}, "afterCommit": {"oid": "f0802cf076c65257b82c17d3afa60ad6ed913578", "author": {"user": {"login": "keyki", "name": "Krisztian Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/f0802cf076c65257b82c17d3afa60ad6ed913578", "committedDate": "2020-05-30T07:00:44Z", "message": "CB-6236 do not add RAZ service to SDX template if not enabled"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "acd81325e2aad0d4149990348a822920ec50221f", "author": {"user": {"login": "keyki", "name": "Krisztian Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/acd81325e2aad0d4149990348a822920ec50221f", "committedDate": "2020-05-30T07:04:41Z", "message": "CB-6236 do not add RAZ service to SDX template if not enabled"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f0802cf076c65257b82c17d3afa60ad6ed913578", "author": {"user": {"login": "keyki", "name": "Krisztian Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/f0802cf076c65257b82c17d3afa60ad6ed913578", "committedDate": "2020-05-30T07:00:44Z", "message": "CB-6236 do not add RAZ service to SDX template if not enabled"}, "afterCommit": {"oid": "acd81325e2aad0d4149990348a822920ec50221f", "author": {"user": {"login": "keyki", "name": "Krisztian Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/acd81325e2aad0d4149990348a822920ec50221f", "committedDate": "2020-05-30T07:04:41Z", "message": "CB-6236 do not add RAZ service to SDX template if not enabled"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMzg2OTE4", "url": "https://github.com/hortonworks/cloudbreak/pull/8185#pullrequestreview-421386918", "createdAt": "2020-05-30T07:49:41Z", "commit": {"oid": "acd81325e2aad0d4149990348a822920ec50221f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1772, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}