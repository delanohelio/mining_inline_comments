{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc4NzU5MzE0", "number": 8924, "title": "CB-8684 update checkRight API method on Util backend API", "bodyText": "See detailed description in the commit message.", "createdAt": "2020-09-03T16:46:58Z", "url": "https://github.com/hortonworks/cloudbreak/pull/8924", "merged": true, "mergeCommit": {"oid": "5d837f186bf30ba212524a95232910acdb4b9866"}, "closed": true, "closedAt": "2020-09-09T13:22:00Z", "author": {"login": "horadla23"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdGd7WLgBqjM3MzU2OTczMTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHJRTYgBqjM3NDUwMzMzOTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "82cae2d27ee077837b2b2c82c136c4780c67e66f", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/82cae2d27ee077837b2b2c82c136c4780c67e66f", "committedDate": "2020-09-03T16:44:45Z", "message": "checkrightbycrn for ui"}, "afterCommit": {"oid": "f49bdd9d9693dc3b7d83006ec20b69104ce2148b", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/f49bdd9d9693dc3b7d83006ec20b69104ce2148b", "committedDate": "2020-09-07T07:31:35Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f49bdd9d9693dc3b7d83006ec20b69104ce2148b", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/f49bdd9d9693dc3b7d83006ec20b69104ce2148b", "committedDate": "2020-09-07T07:31:35Z", "message": "CB-8684 update checkRight API method on Util backend API"}, "afterCommit": {"oid": "781dc44a9db5a0de040f6765879f9c87661d85de", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/781dc44a9db5a0de040f6765879f9c87661d85de", "committedDate": "2020-09-07T07:46:58Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "781dc44a9db5a0de040f6765879f9c87661d85de", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/781dc44a9db5a0de040f6765879f9c87661d85de", "committedDate": "2020-09-07T07:46:58Z", "message": "CB-8684 update checkRight API method on Util backend API"}, "afterCommit": {"oid": "59eff6fdb498c87006b48d1dfa4aca2bd9a269b2", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/59eff6fdb498c87006b48d1dfa4aca2bd9a269b2", "committedDate": "2020-09-07T07:50:47Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "59eff6fdb498c87006b48d1dfa4aca2bd9a269b2", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/59eff6fdb498c87006b48d1dfa4aca2bd9a269b2", "committedDate": "2020-09-07T07:50:47Z", "message": "CB-8684 update checkRight API method on Util backend API"}, "afterCommit": {"oid": "c04e67bad49dbed817401767bc3cf9073549bb82", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/c04e67bad49dbed817401767bc3cf9073549bb82", "committedDate": "2020-09-07T07:57:36Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "58e66675d5e1faec305aa0a48b5a5876536096a8", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/58e66675d5e1faec305aa0a48b5a5876536096a8", "committedDate": "2020-09-07T10:54:05Z", "message": "e2e tests"}, "afterCommit": {"oid": "4af5f8160a22617b99f846c713dc591a75102a6c", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/4af5f8160a22617b99f846c713dc591a75102a6c", "committedDate": "2020-09-07T11:59:18Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4af5f8160a22617b99f846c713dc591a75102a6c", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/4af5f8160a22617b99f846c713dc591a75102a6c", "committedDate": "2020-09-07T11:59:18Z", "message": "CB-8684 update checkRight API method on Util backend API"}, "afterCommit": {"oid": "acc06d1343f27efbd04201b16399e72a304c0760", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/acc06d1343f27efbd04201b16399e72a304c0760", "committedDate": "2020-09-07T12:38:12Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "acc06d1343f27efbd04201b16399e72a304c0760", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/acc06d1343f27efbd04201b16399e72a304c0760", "committedDate": "2020-09-07T12:38:12Z", "message": "CB-8684 update checkRight API method on Util backend API"}, "afterCommit": {"oid": "9370696dd526332355b7f5a92d26e02ca3295d3f", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/9370696dd526332355b7f5a92d26e02ca3295d3f", "committedDate": "2020-09-07T13:04:47Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9370696dd526332355b7f5a92d26e02ca3295d3f", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/9370696dd526332355b7f5a92d26e02ca3295d3f", "committedDate": "2020-09-07T13:04:47Z", "message": "CB-8684 update checkRight API method on Util backend API"}, "afterCommit": {"oid": "1b0233b5fd359568fbe4b0ff651ed910006dbb8f", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/1b0233b5fd359568fbe4b0ff651ed910006dbb8f", "committedDate": "2020-09-07T13:44:30Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1b0233b5fd359568fbe4b0ff651ed910006dbb8f", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/1b0233b5fd359568fbe4b0ff651ed910006dbb8f", "committedDate": "2020-09-07T13:44:30Z", "message": "CB-8684 update checkRight API method on Util backend API"}, "afterCommit": {"oid": "3743cd3fb8f801289d6fea4a92f4733c8c275536", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/3743cd3fb8f801289d6fea4a92f4733c8c275536", "committedDate": "2020-09-08T06:37:57Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzODc1ODE2", "url": "https://github.com/hortonworks/cloudbreak/pull/8924#pullrequestreview-483875816", "createdAt": "2020-09-08T07:44:51Z", "commit": {"oid": "3743cd3fb8f801289d6fea4a92f4733c8c275536"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNzo0NDo1MlrOHOQxYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNzo0NDo1MlrOHOQxYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDcxNjg5OA==", "bodyText": "Can you please use a constant map instead to be more performant?\n    private static final Map<String, AuthorizationResourceAction> BY_NAME = Stream.of(AuthorizationResourceAction.values())\n            .collect(Collectors.toUnmodifiableMap(AuthorizationResourceAction::getRight, Function.identity()));\n\n    public static AuthorizationResourceAction getByRight(String right) {\n        AuthorizationResourceAction result = BY_NAME.get(right);\n        if (result == null) {\n            throw new NotFoundException(String.format(\"Action not found by right %s\", right));\n        }\n        return result;\n    }", "url": "https://github.com/hortonworks/cloudbreak/pull/8924#discussion_r484716898", "createdAt": "2020-09-08T07:44:52Z", "author": {"login": "foldik"}, "path": "authorization-common-api/src/main/java/com/sequenceiq/authorization/resource/AuthorizationResourceAction.java", "diffHunk": "@@ -93,4 +99,9 @@ public String getRight() {\n     public AuthorizationResourceType getAuthorizationResourceType() {\n         return authorizationResourceType;\n     }\n+\n+    public static AuthorizationResourceAction getByRight(String right) {\n+        return Arrays.stream(AuthorizationResourceAction.values()).filter(action -> StringUtils.equals(action.getRight(), right))\n+                .findFirst().orElseThrow(() -> new NotFoundException(String.format(\"Action not found by right %s\", right)));\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3743cd3fb8f801289d6fea4a92f4733c8c275536"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzODc5MzYy", "url": "https://github.com/hortonworks/cloudbreak/pull/8924#pullrequestreview-483879362", "createdAt": "2020-09-08T07:49:56Z", "commit": {"oid": "3743cd3fb8f801289d6fea4a92f4733c8c275536"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNzo0OTo1N1rOHOQ8dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNzo0OTo1N1rOHOQ8dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDcxOTczNA==", "bodyText": "Can you please use a static final enum map for the lookup?", "url": "https://github.com/hortonworks/cloudbreak/pull/8924#discussion_r484719734", "createdAt": "2020-09-08T07:49:57Z", "author": {"login": "foldik"}, "path": "core-api/src/main/java/com/sequenceiq/cloudbreak/api/endpoint/v4/util/base/RightV4.java", "diffHunk": "@@ -19,4 +31,9 @@\n     public AuthorizationResourceAction getAction() {\n         return action;\n     }\n+\n+    public static RightV4 getByAction(AuthorizationResourceAction authorizationResourceAction) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3743cd3fb8f801289d6fea4a92f4733c8c275536"}, "originalPosition": 26}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3743cd3fb8f801289d6fea4a92f4733c8c275536", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/3743cd3fb8f801289d6fea4a92f4733c8c275536", "committedDate": "2020-09-08T06:37:57Z", "message": "CB-8684 update checkRight API method on Util backend API"}, "afterCommit": {"oid": "8c3f9b463d1aae321d3fcaa33e5faa14ac228ecd", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/8c3f9b463d1aae321d3fcaa33e5faa14ac228ecd", "committedDate": "2020-09-08T08:46:33Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8c3f9b463d1aae321d3fcaa33e5faa14ac228ecd", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/8c3f9b463d1aae321d3fcaa33e5faa14ac228ecd", "committedDate": "2020-09-08T08:46:33Z", "message": "CB-8684 update checkRight API method on Util backend API"}, "afterCommit": {"oid": "faa413742906363c912773e68a0822f5a5af949a", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/faa413742906363c912773e68a0822f5a5af949a", "committedDate": "2020-09-08T08:52:59Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "faa413742906363c912773e68a0822f5a5af949a", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/faa413742906363c912773e68a0822f5a5af949a", "committedDate": "2020-09-08T08:52:59Z", "message": "CB-8684 update checkRight API method on Util backend API"}, "afterCommit": {"oid": "137290efc6412ac288367ab83896af1d002cc17b", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/137290efc6412ac288367ab83896af1d002cc17b", "committedDate": "2020-09-08T10:38:06Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "137290efc6412ac288367ab83896af1d002cc17b", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/137290efc6412ac288367ab83896af1d002cc17b", "committedDate": "2020-09-08T10:38:06Z", "message": "CB-8684 update checkRight API method on Util backend API"}, "afterCommit": {"oid": "3fcc7942b77812b0fe0338bb7e00bef56da36220", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/3fcc7942b77812b0fe0338bb7e00bef56da36220", "committedDate": "2020-09-08T11:25:50Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3fcc7942b77812b0fe0338bb7e00bef56da36220", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/3fcc7942b77812b0fe0338bb7e00bef56da36220", "committedDate": "2020-09-08T11:25:50Z", "message": "CB-8684 update checkRight API method on Util backend API"}, "afterCommit": {"oid": "a1648b7a63a35866cf76b80f61a96db79824ab7d", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/a1648b7a63a35866cf76b80f61a96db79824ab7d", "committedDate": "2020-09-08T11:48:33Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a1648b7a63a35866cf76b80f61a96db79824ab7d", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/a1648b7a63a35866cf76b80f61a96db79824ab7d", "committedDate": "2020-09-08T11:48:33Z", "message": "CB-8684 update checkRight API method on Util backend API"}, "afterCommit": {"oid": "7adb07f76934f3d438e96cba343d61a4db24051d", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/7adb07f76934f3d438e96cba343d61a4db24051d", "committedDate": "2020-09-09T06:44:01Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0NzExODM0", "url": "https://github.com/hortonworks/cloudbreak/pull/8924#pullrequestreview-484711834", "createdAt": "2020-09-09T06:57:48Z", "commit": {"oid": "7adb07f76934f3d438e96cba343d61a4db24051d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b9a9148fbde1628a989660c2395617dbfe2e069", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/4b9a9148fbde1628a989660c2395617dbfe2e069", "committedDate": "2020-09-09T10:02:24Z", "message": "CB-8684 update checkRight API method on Util backend API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7adb07f76934f3d438e96cba343d61a4db24051d", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/7adb07f76934f3d438e96cba343d61a4db24051d", "committedDate": "2020-09-09T06:44:01Z", "message": "CB-8684 update checkRight API method on Util backend API"}, "afterCommit": {"oid": "4b9a9148fbde1628a989660c2395617dbfe2e069", "author": {"user": {"login": "horadla23", "name": "Adam Horvath"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/4b9a9148fbde1628a989660c2395617dbfe2e069", "committedDate": "2020-09-09T10:02:24Z", "message": "CB-8684 update checkRight API method on Util backend API"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2409, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}