{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1Mjk4MzA1", "number": 7830, "title": "CB-6660 Added NIFI_REGISTRY_REST as an exposed service", "bodyText": "Updated displayName for the NIFI and NIFI_REGISTRY exposed services for proper stylization\nUpdated knoxService value for the NIFI_REGISTRY exposed service to be consistent with other exposed services\nUpdated apiIncluded to be false for the NIFI_REGISTRY exposed service due to the addition of the NIFI_REGISTRY_REST (NiFi Registry API) exposed service\nCloses #CB-6660", "createdAt": "2020-04-17T19:17:36Z", "url": "https://github.com/hortonworks/cloudbreak/pull/7830", "merged": true, "mergeCommit": {"oid": "637443af4129882820b5aa9df74bb687986a126a"}, "closed": true, "closedAt": "2020-04-27T14:46:33Z", "author": {"login": "jtstorck"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYmPvZgH2gAyNDA1Mjk4MzA1OjE4ZWRjYjY1YmU5ZGE0NGMxYjhjMzQyODc0YzY5Y2E2OTAyZDc3NmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZ0Vd5AFqTM5NzM3MTUzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "18edcb65be9da44c1b8c342874c69ca6902d776d", "author": {"user": {"login": "jtstorck", "name": "Jeff Storck"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/18edcb65be9da44c1b8c342874c69ca6902d776d", "committedDate": "2020-04-17T19:13:51Z", "message": "CB-6660 Added NIFI_REGISTRY_REST as an exposed service\nUpdated displayName for the NIFI and NIFI_REGISTRY exposed services for proper stylization\nUpdated knoxService value for the NIFI_REGISTRY exposed service to be consistent with other exposed services\nUpdated apiIncluded to be false for the NIFI_REGISTRY exposed service due to the addition of the NIFI_REGISTRY_REST (NiFi Registry API) exposed service"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NzgwODYx", "url": "https://github.com/hortonworks/cloudbreak/pull/7830#pullrequestreview-395780861", "createdAt": "2020-04-17T21:22:58Z", "commit": {"oid": "18edcb65be9da44c1b8c342874c69ca6902d776d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QyMToyMjo1OFrOGHdgNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QyMToyNToxM1rOGHdjow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ3NjU5Ng==", "bodyText": "I don't think this change is right? It should be NIFI-REGISTRY and not with an underscore?\nReferences:\n\nhttps://github.com/apache/knox/blob/master/gateway-service-definitions/src/main/resources/services/nifi-registry/0.5.0/service.xml#L17\nhttps://github.com/hortonworks/cloudbreak/blob/master/orchestrator-salt/src/main/resources/salt/salt/gateway/config/cm/topology.xml.j2#L624", "url": "https://github.com/hortonworks/cloudbreak/pull/7830#discussion_r410476596", "createdAt": "2020-04-17T21:22:58Z", "author": {"login": "risdenk"}, "path": "core-api/src/main/resources/definitions/exposed-services.json", "diffHunk": "@@ -296,15 +296,15 @@\n     },\n     {\n       \"name\": \"NIFI_REGISTRY\",\n-      \"displayName\": \"Nifi Registry\",\n+      \"displayName\": \"NiFi Registry\",\n       \"serviceName\": \"NIFI_REGISTRY_SERVER\",\n-      \"knoxService\": \"NIFI-REGISTRY\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18edcb65be9da44c1b8c342874c69ca6902d776d"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ3NzQ3NQ==", "bodyText": "This should be NIFI-REGISTRY and not NIFI_REGISTRY_REST. If you want this to change, most likely need to change here as well:\nhttps://github.com/hortonworks/cloudbreak/blob/master/orchestrator-salt/src/main/resources/salt/salt/gateway/config/cm/topology_api.xml.j2#L202", "url": "https://github.com/hortonworks/cloudbreak/pull/7830#discussion_r410477475", "createdAt": "2020-04-17T21:25:13Z", "author": {"login": "risdenk"}, "path": "core-api/src/main/resources/definitions/exposed-services.json", "diffHunk": "@@ -322,6 +322,20 @@\n       \"visibleForDatalake\": true,\n       \"visibleForDatahub\": true\n     },\n+    {\n+      \"name\": \"NIFI_REGISTRY_REST\",\n+      \"displayName\": \"NiFi Registry Rest\",\n+      \"serviceName\": \"NIFI_REGISTRY_SERVER\",\n+      \"knoxService\": \"NIFI_REGISTRY_REST\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18edcb65be9da44c1b8c342874c69ca6902d776d"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e70cf775a3672f9436f1ed5a4adff924119806de", "author": {"user": {"login": "jtstorck", "name": "Jeff Storck"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/e70cf775a3672f9436f1ed5a4adff924119806de", "committedDate": "2020-04-20T23:50:27Z", "message": "Addressing PR review feedback\nUpdated ExposedServiceCollectorTest to verify addition of NiFi Registry rest-only endpoint to exposed services\nUpdated topology_api.xml.j2 to include nifi-registry.acl with gateway:envAccessGroup and reference NIFI-REGISTRY-REST exposed service from exposed-services.json"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MzcxNTMy", "url": "https://github.com/hortonworks/cloudbreak/pull/7830#pullrequestreview-397371532", "createdAt": "2020-04-21T14:12:42Z", "commit": {"oid": "e70cf775a3672f9436f1ed5a4adff924119806de"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2336, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}