{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY1NTI2NzQz", "number": 8768, "title": "CB-8237 adding details to the aws waiters exceptions because it was a\u2026", "bodyText": "Amazon waiters gave back message like 'Resource never entered the desired state as it failed' which was unclear and had no information what resource went failed, so now waiters have some clarification in the exception what kind of activity failed\nCloses CB-8237", "createdAt": "2020-08-10T14:12:51Z", "url": "https://github.com/hortonworks/cloudbreak/pull/8768", "merged": true, "mergeCommit": {"oid": "638be087ac7d43087d21c70efae923b1a4137304"}, "closed": true, "closedAt": "2020-08-11T12:58:02Z", "author": {"login": "afarsang"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc9yLG_gFqTQ2NDgzNjYzNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc92ZQDgFqTQ2NTAzNzY5Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0ODM2NjM3", "url": "https://github.com/hortonworks/cloudbreak/pull/8768#pullrequestreview-464836637", "createdAt": "2020-08-11T08:02:51Z", "commit": {"oid": "d3c267acffdb4ddb8676a3eafd0c1e9cee6d1ea8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwODowMjo1MVrOG-sxnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwODowMjo1MVrOG-sxnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODM5ODQ5NQ==", "bodyText": "Can we mention the snapshot id or any relevant info ?", "url": "https://github.com/hortonworks/cloudbreak/pull/8768#discussion_r468398495", "createdAt": "2020-08-11T08:02:51Z", "author": {"login": "doktoric"}, "path": "cloud-aws/src/main/java/com/sequenceiq/cloudbreak/cloud/aws/encryption/EncryptedSnapshotService.java", "diffHunk": "@@ -142,14 +142,14 @@ private void checkSnapshotReadiness(AuthenticatedContext ac, AmazonEC2Client cli\n         Waiter<DescribeSnapshotsRequest> snapshotWaiter = client.waiters().snapshotCompleted();\n         DescribeSnapshotsRequest describeSnapshotsRequest = new DescribeSnapshotsRequest().withSnapshotIds(snapshotResult.getSnapshot().getSnapshotId());\n         StackCancellationCheck stackCancellationCheck = new StackCancellationCheck(ac.getCloudContext().getId());\n-        run(snapshotWaiter, describeSnapshotsRequest, stackCancellationCheck);\n+        run(snapshotWaiter, describeSnapshotsRequest, stackCancellationCheck, \"Snapshot creation failed\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3c267acffdb4ddb8676a3eafd0c1e9cee6d1ea8"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0ODM2NzI1", "url": "https://github.com/hortonworks/cloudbreak/pull/8768#pullrequestreview-464836725", "createdAt": "2020-08-11T08:02:59Z", "commit": {"oid": "d3c267acffdb4ddb8676a3eafd0c1e9cee6d1ea8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwODowMjo1OVrOG-sx3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwODowMjo1OVrOG-sx3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODM5ODU1Ng==", "bodyText": "Can we mention the volume id or any relevant info ?", "url": "https://github.com/hortonworks/cloudbreak/pull/8768#discussion_r468398556", "createdAt": "2020-08-11T08:02:59Z", "author": {"login": "doktoric"}, "path": "cloud-aws/src/main/java/com/sequenceiq/cloudbreak/cloud/aws/encryption/EncryptedSnapshotService.java", "diffHunk": "@@ -142,14 +142,14 @@ private void checkSnapshotReadiness(AuthenticatedContext ac, AmazonEC2Client cli\n         Waiter<DescribeSnapshotsRequest> snapshotWaiter = client.waiters().snapshotCompleted();\n         DescribeSnapshotsRequest describeSnapshotsRequest = new DescribeSnapshotsRequest().withSnapshotIds(snapshotResult.getSnapshot().getSnapshotId());\n         StackCancellationCheck stackCancellationCheck = new StackCancellationCheck(ac.getCloudContext().getId());\n-        run(snapshotWaiter, describeSnapshotsRequest, stackCancellationCheck);\n+        run(snapshotWaiter, describeSnapshotsRequest, stackCancellationCheck, \"Snapshot creation failed\");\n     }\n \n     private void checkEbsVolumeStatus(AuthenticatedContext ac, AmazonEC2Client client, String volumeId) {\n         Waiter<DescribeVolumesRequest> volumeChecker = client.waiters().volumeAvailable();\n         DescribeVolumesRequest describeVolumesRequest = new DescribeVolumesRequest().withVolumeIds(volumeId);\n         StackCancellationCheck stackCancellationCheck = new StackCancellationCheck(ac.getCloudContext().getId());\n-        run(volumeChecker, describeVolumesRequest, stackCancellationCheck);\n+        run(volumeChecker, describeVolumesRequest, stackCancellationCheck, \"Volume creation failed\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3c267acffdb4ddb8676a3eafd0c1e9cee6d1ea8"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0ODM3MTUw", "url": "https://github.com/hortonworks/cloudbreak/pull/8768#pullrequestreview-464837150", "createdAt": "2020-08-11T08:03:40Z", "commit": {"oid": "d3c267acffdb4ddb8676a3eafd0c1e9cee6d1ea8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwODowMzo0MFrOG-szHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwODowMzo0MFrOG-szHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODM5ODg3OA==", "bodyText": "Can we mention the instance id or any relevant info ?", "url": "https://github.com/hortonworks/cloudbreak/pull/8768#discussion_r468398878", "createdAt": "2020-08-11T08:03:40Z", "author": {"login": "doktoric"}, "path": "cloud-aws/src/main/java/com/sequenceiq/cloudbreak/cloud/aws/connector/resource/AwsDownscaleService.java", "diffHunk": "@@ -166,6 +166,6 @@ private void waitForTerminateInstances(Long stackId, List<String> instanceIds, A\n         Waiter<DescribeInstancesRequest> instanceTerminatedWaiter = amazonEC2Client.waiters().instanceTerminated();\n         DescribeInstancesRequest describeInstancesRequest = new DescribeInstancesRequest().withInstanceIds(instanceIds);\n         StackCancellationCheck stackCancellationCheck = new StackCancellationCheck(stackId);\n-        run(instanceTerminatedWaiter, describeInstancesRequest, stackCancellationCheck);\n+        run(instanceTerminatedWaiter, describeInstancesRequest, stackCancellationCheck, \"Instances termination failed\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3c267acffdb4ddb8676a3eafd0c1e9cee6d1ea8"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0ODcyMzQ0", "url": "https://github.com/hortonworks/cloudbreak/pull/8768#pullrequestreview-464872344", "createdAt": "2020-08-11T08:52:01Z", "commit": {"oid": "d3c267acffdb4ddb8676a3eafd0c1e9cee6d1ea8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73f82701185e78c240d0ebd0c33b046f8b0117b5", "author": {"user": {"login": "afarsang", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/73f82701185e78c240d0ebd0c33b046f8b0117b5", "committedDate": "2020-08-11T09:12:10Z", "message": "CB-8237 adding details to the aws waiters exceptions because it was always failing with unclear message"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d3c267acffdb4ddb8676a3eafd0c1e9cee6d1ea8", "author": {"user": {"login": "afarsang", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/d3c267acffdb4ddb8676a3eafd0c1e9cee6d1ea8", "committedDate": "2020-08-10T13:59:55Z", "message": "CB-8237 adding details to the aws waiters exceptions because it was always failing with unclear message"}, "afterCommit": {"oid": "73f82701185e78c240d0ebd0c33b046f8b0117b5", "author": {"user": {"login": "afarsang", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/73f82701185e78c240d0ebd0c33b046f8b0117b5", "committedDate": "2020-08-11T09:12:10Z", "message": "CB-8237 adding details to the aws waiters exceptions because it was always failing with unclear message"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MDM3Njk3", "url": "https://github.com/hortonworks/cloudbreak/pull/8768#pullrequestreview-465037697", "createdAt": "2020-08-11T12:57:55Z", "commit": {"oid": "73f82701185e78c240d0ebd0c33b046f8b0117b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2445, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}