{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzMjY0OTk5", "number": 7791, "title": "CB-6569. Encode (base64) regex input for anonymization rules (log collection)", "bodyText": "encode default anonymization rules (no validation yet for inputs)\ndecode anonymization rules during salt config generation\nupdated tests", "createdAt": "2020-04-14T15:44:46Z", "url": "https://github.com/hortonworks/cloudbreak/pull/7791", "merged": true, "mergeCommit": {"oid": "7c2c78b5243348a8dd1f511359755705f1d83e4d"}, "closed": true, "closedAt": "2020-04-15T10:17:07Z", "author": {"login": "oleewere"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcX0NQagFqTM5MzU4MjAzOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcX03UzAFqTM5MzYxNjE0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzNTgyMDM5", "url": "https://github.com/hortonworks/cloudbreak/pull/7791#pullrequestreview-393582039", "createdAt": "2020-04-15T08:55:48Z", "commit": {"oid": "a595d749f40d01d4abe47b932024533ad7acbd76"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1NTo0OFrOGFwNoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1NTo0OFrOGFwNoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NTk4NQ==", "bodyText": "please use stream with filter instead of for and ifs", "url": "https://github.com/hortonworks/cloudbreak/pull/7791#discussion_r408685985", "createdAt": "2020-04-15T08:55:48Z", "author": {"login": "horadla23"}, "path": "common/src/main/java/com/sequenceiq/cloudbreak/telemetry/fluent/FluentConfigService.java", "diffHunk": "@@ -68,10 +72,28 @@ public FluentConfigView createFluentConfigs(TelemetryClusterDetails clusterDetai\n         return builder\n                 .withEnabled(enabled)\n                 .withClusterDetails(clusterDetails)\n-                .withAnonymizationRules(anonymizationRules)\n+                .withAnonymizationRules(decodeRules(anonymizationRules))\n                 .build();\n     }\n \n+    @VisibleForTesting\n+    List<AnonymizationRule> decodeRules(List<AnonymizationRule> rules) {\n+        List<AnonymizationRule> finalRules = null;\n+        if (CollectionUtils.isNotEmpty(rules)) {\n+            finalRules = new ArrayList<>();\n+            for (AnonymizationRule rule : rules) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a595d749f40d01d4abe47b932024533ad7acbd76"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30c21ec0e5664ea492b181f1e11861d2478f0431", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/30c21ec0e5664ea492b181f1e11861d2478f0431", "committedDate": "2020-04-15T09:28:09Z", "message": "CB-6569. Encode (base64) regex input for anonymization rules (log collection)."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a595d749f40d01d4abe47b932024533ad7acbd76", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/a595d749f40d01d4abe47b932024533ad7acbd76", "committedDate": "2020-04-14T15:41:29Z", "message": "CB-6569. Encode (base64) regex input for anonymization rules (log collection)."}, "afterCommit": {"oid": "30c21ec0e5664ea492b181f1e11861d2478f0431", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/30c21ec0e5664ea492b181f1e11861d2478f0431", "committedDate": "2020-04-15T09:28:09Z", "message": "CB-6569. Encode (base64) regex input for anonymization rules (log collection)."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzNjE2MTQ0", "url": "https://github.com/hortonworks/cloudbreak/pull/7791#pullrequestreview-393616144", "createdAt": "2020-04-15T09:41:50Z", "commit": {"oid": "30c21ec0e5664ea492b181f1e11861d2478f0431"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2324, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}