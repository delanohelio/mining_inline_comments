{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4NjI3MTA2", "number": 8076, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwNzozMTo0OFrOD9q-5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwNzozMTo0OFrOD9q-5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1OTkzOTU5OnYy", "diffSide": "RIGHT", "path": "environment/src/main/java/com/sequenceiq/environment/environment/service/EnvironmentService.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwNzozMTo0OFrOGXTYSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMDozNzo0NVrOGXaVAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzA4Nzk0Ng==", "bodyText": "This seems to be the single place where false is passed as value. Since this new parameter never comes from user input or something dynamic, I would argue to introduce a a different method for this.", "url": "https://github.com/hortonworks/cloudbreak/pull/8076#discussion_r427087946", "createdAt": "2020-05-19T07:31:48Z", "author": {"login": "daszabo"}, "path": "environment/src/main/java/com/sequenceiq/environment/environment/service/EnvironmentService.java", "diffHunk": "@@ -157,7 +157,7 @@ public CloudRegions getRegionsByEnvironment(Environment environment) {\n         PlatformResourceRequest platformResourceRequest = new PlatformResourceRequest();\n         platformResourceRequest.setCredential(environment.getCredential());\n         platformResourceRequest.setCloudPlatform(environment.getCloudPlatform());\n-        return platformParameterService.getRegionsByCredential(platformResourceRequest);\n+        return platformParameterService.getRegionsByCredential(platformResourceRequest, false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84bce5cec739b6cf483481bc13d9c2494add648a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzA5NjY2NQ==", "bodyText": "I can create a getRegionsWithoutAZs method in the CloudParameterService. But in the SPI I would keep a the current implementation. Is that OK for you?", "url": "https://github.com/hortonworks/cloudbreak/pull/8076#discussion_r427096665", "createdAt": "2020-05-19T07:47:27Z", "author": {"login": "attilapalfi92"}, "path": "environment/src/main/java/com/sequenceiq/environment/environment/service/EnvironmentService.java", "diffHunk": "@@ -157,7 +157,7 @@ public CloudRegions getRegionsByEnvironment(Environment environment) {\n         PlatformResourceRequest platformResourceRequest = new PlatformResourceRequest();\n         platformResourceRequest.setCredential(environment.getCredential());\n         platformResourceRequest.setCloudPlatform(environment.getCloudPlatform());\n-        return platformParameterService.getRegionsByCredential(platformResourceRequest);\n+        return platformParameterService.getRegionsByCredential(platformResourceRequest, false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzA4Nzk0Ng=="}, "originalCommit": {"oid": "84bce5cec739b6cf483481bc13d9c2494add648a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE3ODk2OQ==", "bodyText": "Well, the spi part would be the whole point. I am not adamant in making the change, it works as it is now, its just that it is not too pretty.", "url": "https://github.com/hortonworks/cloudbreak/pull/8076#discussion_r427178969", "createdAt": "2020-05-19T09:57:37Z", "author": {"login": "daszabo"}, "path": "environment/src/main/java/com/sequenceiq/environment/environment/service/EnvironmentService.java", "diffHunk": "@@ -157,7 +157,7 @@ public CloudRegions getRegionsByEnvironment(Environment environment) {\n         PlatformResourceRequest platformResourceRequest = new PlatformResourceRequest();\n         platformResourceRequest.setCredential(environment.getCredential());\n         platformResourceRequest.setCloudPlatform(environment.getCloudPlatform());\n-        return platformParameterService.getRegionsByCredential(platformResourceRequest);\n+        return platformParameterService.getRegionsByCredential(platformResourceRequest, false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzA4Nzk0Ng=="}, "originalCommit": {"oid": "84bce5cec739b6cf483481bc13d9c2494add648a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE4NDAzMQ==", "bodyText": "That would not be prettier. The boolean value travels in the GetPlatformRegionsRequestV2 object and in the GetRegionsV2Handler there would be an if condition based on the boolean value to call the regions or regionsWithoutAZs method. It wouldn't be nice at all in my opinion. This was what I first wanted, but when I was there, I saw that passing the boolean from the GetPlatformRegionsRequestV2 is a nicer solution.", "url": "https://github.com/hortonworks/cloudbreak/pull/8076#discussion_r427184031", "createdAt": "2020-05-19T10:06:06Z", "author": {"login": "attilapalfi92"}, "path": "environment/src/main/java/com/sequenceiq/environment/environment/service/EnvironmentService.java", "diffHunk": "@@ -157,7 +157,7 @@ public CloudRegions getRegionsByEnvironment(Environment environment) {\n         PlatformResourceRequest platformResourceRequest = new PlatformResourceRequest();\n         platformResourceRequest.setCredential(environment.getCredential());\n         platformResourceRequest.setCloudPlatform(environment.getCloudPlatform());\n-        return platformParameterService.getRegionsByCredential(platformResourceRequest);\n+        return platformParameterService.getRegionsByCredential(platformResourceRequest, false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzA4Nzk0Ng=="}, "originalCommit": {"oid": "84bce5cec739b6cf483481bc13d9c2494add648a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzIwMTc5Mw==", "bodyText": "Or you meant completely new spi regions handler too, I think that would be an overkill.", "url": "https://github.com/hortonworks/cloudbreak/pull/8076#discussion_r427201793", "createdAt": "2020-05-19T10:37:45Z", "author": {"login": "attilapalfi92"}, "path": "environment/src/main/java/com/sequenceiq/environment/environment/service/EnvironmentService.java", "diffHunk": "@@ -157,7 +157,7 @@ public CloudRegions getRegionsByEnvironment(Environment environment) {\n         PlatformResourceRequest platformResourceRequest = new PlatformResourceRequest();\n         platformResourceRequest.setCredential(environment.getCredential());\n         platformResourceRequest.setCloudPlatform(environment.getCloudPlatform());\n-        return platformParameterService.getRegionsByCredential(platformResourceRequest);\n+        return platformParameterService.getRegionsByCredential(platformResourceRequest, false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzA4Nzk0Ng=="}, "originalCommit": {"oid": "84bce5cec739b6cf483481bc13d9c2494add648a"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3324, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}