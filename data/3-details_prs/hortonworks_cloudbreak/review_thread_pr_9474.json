{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNTQxMDQz", "number": 9474, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMjoyODozNlrOE8MgAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMjoyODozNlrOE8MgAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxNTU0ODE4OnYy", "diffSide": "RIGHT", "path": "orchestrator-salt/src/main/resources/salt/salt/sssd/ipa.sls", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMjoyODozNlrOH4LWIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxNTozMjowNlrOH4Suyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODY2ODE5Mg==", "bodyText": "is there a reason you used ; instead of &&?\nI think dnsrecord-add.log would be better name, and more consistent with the other salt states, as we use the .log for logs and the executed ending for indicating that the script has run", "url": "https://github.com/hortonworks/cloudbreak/pull/9474#discussion_r528668192", "createdAt": "2020-11-23T12:28:36Z", "author": {"login": "lacikaaa"}, "path": "orchestrator-salt/src/main/resources/salt/salt/sssd/ipa.sls", "diffHunk": "@@ -65,7 +65,7 @@ removing_dns_entries:\n \n add_dns_record:\n   cmd.run:\n-    - name: /opt/salt/scripts/add_dns_record.sh && echo $(date +%Y-%m-%d:%H:%M:%S) >> /var/log/dnsrecord-add-executed\n+    - name: /opt/salt/scripts/add_dns_record.sh 2>&1 | tee -a /var/log/dnsrecord-add-history ; test ${PIPESTATUS[0]} -eq 0 && echo $(date +%Y-%m-%d:%H:%M:%S) >> /var/log/dnsrecord-add-executed", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ca0a1dbf5dc68aec35f319e47ad0c8799f1843a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODc4OTE5NA==", "bodyText": "; and && are same here. I changed it to && now. I feel ; would make the one line only separated by a single &&. Therefore, it is clear that first block /opt/salt/scripts/add_dns_record.sh 2>&1 | tee -a /var/log/dnsrecord-add-history ; test ${PIPESTATUS[0]} -eq 0  was a whole section. But this is more of a style preference.\nThanks! I changed the log name to \"dnsrecord-add.log\"", "url": "https://github.com/hortonworks/cloudbreak/pull/9474#discussion_r528789194", "createdAt": "2020-11-23T15:32:06Z", "author": {"login": "christmasferret"}, "path": "orchestrator-salt/src/main/resources/salt/salt/sssd/ipa.sls", "diffHunk": "@@ -65,7 +65,7 @@ removing_dns_entries:\n \n add_dns_record:\n   cmd.run:\n-    - name: /opt/salt/scripts/add_dns_record.sh && echo $(date +%Y-%m-%d:%H:%M:%S) >> /var/log/dnsrecord-add-executed\n+    - name: /opt/salt/scripts/add_dns_record.sh 2>&1 | tee -a /var/log/dnsrecord-add-history ; test ${PIPESTATUS[0]} -eq 0 && echo $(date +%Y-%m-%d:%H:%M:%S) >> /var/log/dnsrecord-add-executed", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODY2ODE5Mg=="}, "originalCommit": {"oid": "0ca0a1dbf5dc68aec35f319e47ad0c8799f1843a"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3484, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}