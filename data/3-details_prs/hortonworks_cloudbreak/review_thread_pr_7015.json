{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5NDg5MzAx", "number": 7015, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMToxOToxM1rODV8qww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTozMzo1N1rODV82wA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MzQwNjc1OnYy", "diffSide": "RIGHT", "path": "datalake/src/main/java/com/sequenceiq/datalake/service/sdx/SdxService.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMToxOToxM1rOFabQgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTo0Nzo1MFrOFabxYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI1Mzg5MQ==", "bodyText": "method content could be changed to Stringutils.substringBeforeLast().", "url": "https://github.com/hortonworks/cloudbreak/pull/7015#discussion_r363253891", "createdAt": "2020-01-06T11:19:13Z", "author": {"login": "gergopapi2"}, "path": "datalake/src/main/java/com/sequenceiq/datalake/service/sdx/SdxService.java", "diffHunk": "@@ -418,4 +420,11 @@ private String getAccountIdFromCrn(String userCrn) {\n     private DetailedEnvironmentResponse getEnvironment(SdxClusterRequest sdxClusterRequest) {\n         return environmentClientService.getByName(sdxClusterRequest.getEnvironment());\n     }\n+\n+    private String trimBaseLocation(String baseLocation) {\n+        if (baseLocation.endsWith(\"/\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI1NzE0Mw==", "bodyText": "Again, bullshit! :D", "url": "https://github.com/hortonworks/cloudbreak/pull/7015#discussion_r363257143", "createdAt": "2020-01-06T11:30:10Z", "author": {"login": "gergopapi2"}, "path": "datalake/src/main/java/com/sequenceiq/datalake/service/sdx/SdxService.java", "diffHunk": "@@ -418,4 +420,11 @@ private String getAccountIdFromCrn(String userCrn) {\n     private DetailedEnvironmentResponse getEnvironment(SdxClusterRequest sdxClusterRequest) {\n         return environmentClientService.getByName(sdxClusterRequest.getEnvironment());\n     }\n+\n+    private String trimBaseLocation(String baseLocation) {\n+        if (baseLocation.endsWith(\"/\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI1Mzg5MQ=="}, "originalCommit": null, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI2MjMwNw==", "bodyText": "The following base locations will produces wrong results:\n\ns3a://some/dir ->s3a://some\ns3a://some -> s3a:/\n\nThis function only trims the last / if exist otherwise return the unmodified string.", "url": "https://github.com/hortonworks/cloudbreak/pull/7015#discussion_r363262307", "createdAt": "2020-01-06T11:47:50Z", "author": {"login": "topolyai5"}, "path": "datalake/src/main/java/com/sequenceiq/datalake/service/sdx/SdxService.java", "diffHunk": "@@ -418,4 +420,11 @@ private String getAccountIdFromCrn(String userCrn) {\n     private DetailedEnvironmentResponse getEnvironment(SdxClusterRequest sdxClusterRequest) {\n         return environmentClientService.getByName(sdxClusterRequest.getEnvironment());\n     }\n+\n+    private String trimBaseLocation(String baseLocation) {\n+        if (baseLocation.endsWith(\"/\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI1Mzg5MQ=="}, "originalCommit": null, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MzQwNzI1OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/sequenceiq/cloudbreak/service/blueprint/BlueprintService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMToxOTozMlrOFabQ2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMToyOTo1NFrOFabc0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI1Mzk3OA==", "bodyText": "method content could be changed to Stringutils.substringBeforeLast().", "url": "https://github.com/hortonworks/cloudbreak/pull/7015#discussion_r363253978", "createdAt": "2020-01-06T11:19:32Z", "author": {"login": "gergopapi2"}, "path": "core/src/main/java/com/sequenceiq/cloudbreak/service/blueprint/BlueprintService.java", "diffHunk": "@@ -438,4 +438,10 @@ private String createCRN(String accountId) {\n                 .toString();\n     }\n \n+    private String trimBaseLocation(String baseLocation) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI1NzA0MA==", "bodyText": "Sorry, that's bullshit I wrote :D", "url": "https://github.com/hortonworks/cloudbreak/pull/7015#discussion_r363257040", "createdAt": "2020-01-06T11:29:54Z", "author": {"login": "gergopapi2"}, "path": "core/src/main/java/com/sequenceiq/cloudbreak/service/blueprint/BlueprintService.java", "diffHunk": "@@ -438,4 +438,10 @@ private String createCRN(String accountId) {\n                 .toString();\n     }\n \n+    private String trimBaseLocation(String baseLocation) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI1Mzk3OA=="}, "originalCommit": null, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MzQzNjQxOnYy", "diffSide": "RIGHT", "path": "datalake/src/main/java/com/sequenceiq/datalake/service/sdx/SdxService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTozMzozNlrOFabhqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTozMzozNlrOFabhqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI1ODI4MQ==", "bodyText": "StringUtils.stripEnd() could be used.", "url": "https://github.com/hortonworks/cloudbreak/pull/7015#discussion_r363258281", "createdAt": "2020-01-06T11:33:36Z", "author": {"login": "gergopapi2"}, "path": "datalake/src/main/java/com/sequenceiq/datalake/service/sdx/SdxService.java", "diffHunk": "@@ -418,4 +420,11 @@ private String getAccountIdFromCrn(String userCrn) {\n     private DetailedEnvironmentResponse getEnvironment(SdxClusterRequest sdxClusterRequest) {\n         return environmentClientService.getByName(sdxClusterRequest.getEnvironment());\n     }\n+\n+    private String trimBaseLocation(String baseLocation) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MzQzNzQ0OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/sequenceiq/cloudbreak/service/blueprint/BlueprintService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTozMzo1N1rOFabiMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTozMzo1N1rOFabiMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI1ODQxOA==", "bodyText": "StringUtils.stripEnd() could be used.", "url": "https://github.com/hortonworks/cloudbreak/pull/7015#discussion_r363258418", "createdAt": "2020-01-06T11:33:57Z", "author": {"login": "gergopapi2"}, "path": "core/src/main/java/com/sequenceiq/cloudbreak/service/blueprint/BlueprintService.java", "diffHunk": "@@ -438,4 +438,10 @@ private String createCRN(String accountId) {\n                 .toString();\n     }\n \n+    private String trimBaseLocation(String baseLocation) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2953, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}