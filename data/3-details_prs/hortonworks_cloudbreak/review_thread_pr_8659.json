{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4MDk1ODYz", "number": 8659, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMDo1Njo1NFrOETbJAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNzo1OToyOFrOEUJKtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4ODAzMDczOnYy", "diffSide": "RIGHT", "path": "core/src/main/resources/defaults/blueprints/cdp-sdx-medium-ha-722.bp", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMDo1Njo1NFrOG5J3nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMDo1Njo1NFrOG5J3nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU4MzcxMQ==", "bodyText": "Should we indicate that this a medium-duty-ha-enabled-datalake?", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#discussion_r462583711", "createdAt": "2020-07-29T20:56:54Z", "author": {"login": "kmanamcheri"}, "path": "core/src/main/resources/defaults/blueprints/cdp-sdx-medium-ha-722.bp", "diffHunk": "@@ -2,64 +2,143 @@\n   \"tags\": {\n     \"shared_services_ready\": true\n   },\n-  \"description\": \"7.2.2 - SDX-HA template with Atlas, HMS, Ranger and other services they are dependent on. Services like HDFS, HBASE have HA\",\n+  \"description\": \"7.2.2 - SDX template with Atlas, HMS, Ranger and other services they are dependent on\",\n   \"blueprint\": {\n     \"cdhVersion\": \"7.2.2\",\n-    \"displayName\": \"ha-datalake\",\n+    \"displayName\": \"datalake\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3165bc32a3eaef8122299c2074e666d546207f97"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4ODAzMTYyOnYy", "diffSide": "RIGHT", "path": "core/src/main/resources/defaults/blueprints/cdp-sdx-medium-ha-722.bp", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMDo1NzoxMlrOG5J4NA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMDo1NzoxMlrOG5J4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU4Mzg2MA==", "bodyText": "We should indicate somewhere that this is medium duty HA enabled.", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#discussion_r462583860", "createdAt": "2020-07-29T20:57:12Z", "author": {"login": "kmanamcheri"}, "path": "core/src/main/resources/defaults/blueprints/cdp-sdx-medium-ha-722.bp", "diffHunk": "@@ -2,64 +2,143 @@\n   \"tags\": {\n     \"shared_services_ready\": true\n   },\n-  \"description\": \"7.2.2 - SDX-HA template with Atlas, HMS, Ranger and other services they are dependent on. Services like HDFS, HBASE have HA\",\n+  \"description\": \"7.2.2 - SDX template with Atlas, HMS, Ranger and other services they are dependent on\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3165bc32a3eaef8122299c2074e666d546207f97"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4ODA0MjcxOnYy", "diffSide": "LEFT", "path": "core/src/main/resources/application.yml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMTowMDoxNlrOG5J_Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxODo1ODo0N1rOG5v4vg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU4NTYxOA==", "bodyText": "Is there a checks and balances on how can someone use this? I see that there is a 7.2.2 - SDX Medium Duty is on here. Does this mean in prod I can actually spin up a medium duty data lake? If not, where is the check being done?\nI know that in UI this is being filtered and only the Light Duty ones are shown. I guess my question is where is the config which lists what are the prod-ready ones?", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#discussion_r462585618", "createdAt": "2020-07-29T21:00:16Z", "author": {"login": "kmanamcheri"}, "path": "core/src/main/resources/application.yml", "diffHunk": "@@ -285,14 +283,12 @@ cb:\n         7.2.0 - Real-time Data Mart: Apache Impala, Hue, Apache Kudu, Apache Spark=cdp-rt-data-mart-720;\n         7.2.0 - Operational Database: Apache HBase, Phoenix=cdp-opdb-720;\n         7.2.0 - SDX Light Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-720;\n-        7.2.0 - SDX Medium Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-medium-ha-720;\n         7.2.0 - Streams Messaging Heavy Duty: Apache Kafka, Schema Registry, Streams Messaging Manager=cdp-streaming-720;\n         7.2.0 - Streams Messaging Light Duty: Apache Kafka, Schema Registry, Streams Messaging Manager=cdp-streaming-small-720;\n         7.2.0 - Flow Management Light Duty with Apache NiFi, Apache NiFi Registry=cdp-flow-management-small-720;\n         7.2.0 - Flow Management Heavy Duty with Apache NiFi, Apache NiFi Registry=cdp-flow-management-720;\n         7.2.0 - Data Discovery and Exploration=cdp-dde-720;\n         7.2.1 - SDX Light Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-721;\n-        7.2.1 - SDX Medium Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-medium-ha-721;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3165bc32a3eaef8122299c2074e666d546207f97"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzA5ODIyOA==", "bodyText": "I don't believe the config here dictates when something is production ready or not.  We have to use entitlements for that.  CB-8188 will enforce the entitlement for creating a medium duty datalake.", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#discussion_r463098228", "createdAt": "2020-07-30T15:52:45Z", "author": {"login": "frozenwizard"}, "path": "core/src/main/resources/application.yml", "diffHunk": "@@ -285,14 +283,12 @@ cb:\n         7.2.0 - Real-time Data Mart: Apache Impala, Hue, Apache Kudu, Apache Spark=cdp-rt-data-mart-720;\n         7.2.0 - Operational Database: Apache HBase, Phoenix=cdp-opdb-720;\n         7.2.0 - SDX Light Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-720;\n-        7.2.0 - SDX Medium Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-medium-ha-720;\n         7.2.0 - Streams Messaging Heavy Duty: Apache Kafka, Schema Registry, Streams Messaging Manager=cdp-streaming-720;\n         7.2.0 - Streams Messaging Light Duty: Apache Kafka, Schema Registry, Streams Messaging Manager=cdp-streaming-small-720;\n         7.2.0 - Flow Management Light Duty with Apache NiFi, Apache NiFi Registry=cdp-flow-management-small-720;\n         7.2.0 - Flow Management Heavy Duty with Apache NiFi, Apache NiFi Registry=cdp-flow-management-720;\n         7.2.0 - Data Discovery and Exploration=cdp-dde-720;\n         7.2.1 - SDX Light Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-721;\n-        7.2.1 - SDX Medium Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-medium-ha-721;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU4NTYxOA=="}, "originalCommit": {"oid": "3165bc32a3eaef8122299c2074e666d546207f97"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzIwNjU5MA==", "bodyText": "Ok sounds good.", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#discussion_r463206590", "createdAt": "2020-07-30T18:58:47Z", "author": {"login": "kmanamcheri"}, "path": "core/src/main/resources/application.yml", "diffHunk": "@@ -285,14 +283,12 @@ cb:\n         7.2.0 - Real-time Data Mart: Apache Impala, Hue, Apache Kudu, Apache Spark=cdp-rt-data-mart-720;\n         7.2.0 - Operational Database: Apache HBase, Phoenix=cdp-opdb-720;\n         7.2.0 - SDX Light Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-720;\n-        7.2.0 - SDX Medium Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-medium-ha-720;\n         7.2.0 - Streams Messaging Heavy Duty: Apache Kafka, Schema Registry, Streams Messaging Manager=cdp-streaming-720;\n         7.2.0 - Streams Messaging Light Duty: Apache Kafka, Schema Registry, Streams Messaging Manager=cdp-streaming-small-720;\n         7.2.0 - Flow Management Light Duty with Apache NiFi, Apache NiFi Registry=cdp-flow-management-small-720;\n         7.2.0 - Flow Management Heavy Duty with Apache NiFi, Apache NiFi Registry=cdp-flow-management-720;\n         7.2.0 - Data Discovery and Exploration=cdp-dde-720;\n         7.2.1 - SDX Light Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-721;\n-        7.2.1 - SDX Medium Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-medium-ha-721;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU4NTYxOA=="}, "originalCommit": {"oid": "3165bc32a3eaef8122299c2074e666d546207f97"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5NTU3MTc0OnYy", "diffSide": "LEFT", "path": "datalake/src/main/resources/runtime/7.2.2/aws/medium_duty_ha.json", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNzo1OToyOFrOG6RNHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQyMDoxMjowMFrOG6U7cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc1MjQ3OQ==", "bodyText": "I realized that IDBroker does have client-side load balancing. Can we leave this at 2 to enable that?", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#discussion_r463752479", "createdAt": "2020-07-31T17:59:28Z", "author": {"login": "kmanamcheri"}, "path": "datalake/src/main/resources/runtime/7.2.2/aws/medium_duty_ha.json", "diffHunk": "@@ -83,7 +63,7 @@\n           \"size\": 50\n         }\n       },\n-      \"nodeCount\": 2,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ed08cb92e096ff8f84a9f3cbfdde4091a905b1aa"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc4NzE3OA==", "bodyText": "This isn't something we have verified.  We can add this in later.", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#discussion_r463787178", "createdAt": "2020-07-31T19:18:13Z", "author": {"login": "frozenwizard"}, "path": "datalake/src/main/resources/runtime/7.2.2/aws/medium_duty_ha.json", "diffHunk": "@@ -83,7 +63,7 @@\n           \"size\": 50\n         }\n       },\n-      \"nodeCount\": 2,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc1MjQ3OQ=="}, "originalCommit": {"oid": "ed08cb92e096ff8f84a9f3cbfdde4091a905b1aa"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzgxMzQ5MQ==", "bodyText": "Also RDC has issues when spinning up a datahub with 2 nodes of idbroker.", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#discussion_r463813491", "createdAt": "2020-07-31T20:12:00Z", "author": {"login": "frozenwizard"}, "path": "datalake/src/main/resources/runtime/7.2.2/aws/medium_duty_ha.json", "diffHunk": "@@ -83,7 +63,7 @@\n           \"size\": 50\n         }\n       },\n-      \"nodeCount\": 2,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc1MjQ3OQ=="}, "originalCommit": {"oid": "ed08cb92e096ff8f84a9f3cbfdde4091a905b1aa"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2980, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}