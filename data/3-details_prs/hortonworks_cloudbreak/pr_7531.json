{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2NDA2NjQ5", "number": 7531, "title": "CDPCP-1635. User sync syncs all workload administration groups", "bodyText": "", "createdAt": "2020-03-10T23:09:53Z", "url": "https://github.com/hortonworks/cloudbreak/pull/7531", "merged": true, "mergeCommit": {"oid": "0f98ccc2568eafae4a44e4e207683f1312bf0814"}, "closed": true, "closedAt": "2020-03-15T16:06:55Z", "author": {"login": "handavid"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMhu4jgFqTM3MjUxNjA2NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcNRjYoAFqTM3NDM2NTExNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyNTE2MDY0", "url": "https://github.com/hortonworks/cloudbreak/pull/7531#pullrequestreview-372516064", "createdAt": "2020-03-11T07:11:15Z", "commit": {"oid": "d2d3a3161acf2cc885c8b93ade43d88f8dcc6b22"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwNzoxMToxNVrOF0rRSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwNzoxMToxNVrOF0rRSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDc3OTIxMA==", "bodyText": "This request can only be made with an internal actor CRN.", "url": "https://github.com/hortonworks/cloudbreak/pull/7531#discussion_r390779210", "createdAt": "2020-03-11T07:11:15Z", "author": {"login": "keyki"}, "path": "freeipa/src/main/java/com/sequenceiq/freeipa/service/freeipa/user/UmsUsersStateProvider.java", "diffHunk": "@@ -60,11 +60,16 @@\n             Map<String, FmsGroup> crnToFmsGroup = grpcUmsClient.listGroups(actorCrn, accountId, List.of(), requestIdOptional).stream()\n                     .collect(Collectors.toMap(Group::getCrn, this::umsGroupToGroup));\n \n+            Set<FmsGroup> wags = grpcUmsClient.listWorkloadAdministrationGroups(actorCrn, accountId, requestIdOptional).stream()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2d3a3161acf2cc885c8b93ade43d88f8dcc6b22"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyNTg5NzY5", "url": "https://github.com/hortonworks/cloudbreak/pull/7531#pullrequestreview-372589769", "createdAt": "2020-03-11T09:25:11Z", "commit": {"oid": "d2d3a3161acf2cc885c8b93ade43d88f8dcc6b22"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwOToyNToxMlrOF0u6MA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwOToyNToxMlrOF0u6MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDgzODgzMg==", "bodyText": "We can add mockCrnService.ensureInternalActor(); here", "url": "https://github.com/hortonworks/cloudbreak/pull/7531#discussion_r390838832", "createdAt": "2020-03-11T09:25:12Z", "author": {"login": "keyki"}, "path": "mock-caas/src/main/java/com/sequenceiq/caas/grpc/service/MockUserManagementService.java", "diffHunk": "@@ -629,6 +631,21 @@ public void deleteWorkloadAdministrationGroupName(UserManagementProto.DeleteWork\n         mockGroupManagementService.deleteWorkloadAdministrationGroupName(request, responseObserver);\n     }\n \n+    @Override\n+    public void listWorkloadAdministrationGroups(UserManagementProto.ListWorkloadAdministrationGroupsRequest request,\n+            StreamObserver<UserManagementProto.ListWorkloadAdministrationGroupsResponse> responseObserver) {\n+        responseObserver.onNext(UserManagementProto.ListWorkloadAdministrationGroupsResponse.newBuilder()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2d3a3161acf2cc885c8b93ade43d88f8dcc6b22"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c521733ee2f0eb24df537559c4038f95ed82c15c", "author": {"user": {"login": "handavid", "name": "David Han"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/c521733ee2f0eb24df537559c4038f95ed82c15c", "committedDate": "2020-03-13T14:21:08Z", "message": "CDPCP-1635. User sync syncs all workload administration groups"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d2d3a3161acf2cc885c8b93ade43d88f8dcc6b22", "author": {"user": {"login": "handavid", "name": "David Han"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/d2d3a3161acf2cc885c8b93ade43d88f8dcc6b22", "committedDate": "2020-03-10T23:06:51Z", "message": "CDPCP-1635. User sync syncs all workload administration groups"}, "afterCommit": {"oid": "c521733ee2f0eb24df537559c4038f95ed82c15c", "author": {"user": {"login": "handavid", "name": "David Han"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/c521733ee2f0eb24df537559c4038f95ed82c15c", "committedDate": "2020-03-13T14:21:08Z", "message": "CDPCP-1635. User sync syncs all workload administration groups"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0MzY1MTE3", "url": "https://github.com/hortonworks/cloudbreak/pull/7531#pullrequestreview-374365117", "createdAt": "2020-03-13T14:54:08Z", "commit": {"oid": "c521733ee2f0eb24df537559c4038f95ed82c15c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2560, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}