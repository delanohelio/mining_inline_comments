{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYwMzg5NzIw", "number": 8686, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxOToyNDo1NFrOEUKoGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwNjozNDoxN1rOEVRxkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5NTgxMDgyOnYy", "diffSide": "RIGHT", "path": "orchestrator-salt/src/main/resources/salt/pillar/postgresql/disaster_recovery.sls", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxOToyNDo1NFrOG6TgAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNTo0MjoxNVrOG6-oWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc5MDA4MA==", "bodyText": "When/where is this actually filled in with the region, if applicable?", "url": "https://github.com/hortonworks/cloudbreak/pull/8686#discussion_r463790080", "createdAt": "2020-07-31T19:24:54Z", "author": {"login": "hreeve-cloudera"}, "path": "orchestrator-salt/src/main/resources/salt/pillar/postgresql/disaster_recovery.sls", "diffHunk": "@@ -1,3 +1,4 @@\n disaster_recovery:\n   object_storage_url:\n+  aws_region: '' # empty string to prevent salt from passing the literal 'None'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "281cf6074eb338b5749ad0e45b41a3ba7e846034"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzkwMzYwNA==", "bodyText": "you are defining a new pillar for this, right. Where is the application change that passes this information?", "url": "https://github.com/hortonworks/cloudbreak/pull/8686#discussion_r463903604", "createdAt": "2020-08-01T01:29:51Z", "author": {"login": "kkalvagadda1"}, "path": "orchestrator-salt/src/main/resources/salt/pillar/postgresql/disaster_recovery.sls", "diffHunk": "@@ -1,3 +1,4 @@\n disaster_recovery:\n   object_storage_url:\n+  aws_region: '' # empty string to prevent salt from passing the literal 'None'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc5MDA4MA=="}, "originalCommit": {"oid": "281cf6074eb338b5749ad0e45b41a3ba7e846034"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQzNzc4Nw==", "bodyText": "y'all are correct. I had originally written the issue to just include the salt script changes, but obviously we need a way to provide the region value.\nI'm investigating how to determine the appropriate region and add it to the pillar.", "url": "https://github.com/hortonworks/cloudbreak/pull/8686#discussion_r464437787", "createdAt": "2020-08-03T14:09:37Z", "author": {"login": "brycederriso"}, "path": "orchestrator-salt/src/main/resources/salt/pillar/postgresql/disaster_recovery.sls", "diffHunk": "@@ -1,3 +1,4 @@\n disaster_recovery:\n   object_storage_url:\n+  aws_region: '' # empty string to prevent salt from passing the literal 'None'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc5MDA4MA=="}, "originalCommit": {"oid": "281cf6074eb338b5749ad0e45b41a3ba7e846034"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQ5NjczMQ==", "bodyText": "I've pushed updated changes to the salt pillar config.", "url": "https://github.com/hortonworks/cloudbreak/pull/8686#discussion_r464496731", "createdAt": "2020-08-03T15:42:15Z", "author": {"login": "brycederriso"}, "path": "orchestrator-salt/src/main/resources/salt/pillar/postgresql/disaster_recovery.sls", "diffHunk": "@@ -1,3 +1,4 @@\n disaster_recovery:\n   object_storage_url:\n+  aws_region: '' # empty string to prevent salt from passing the literal 'None'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc5MDA4MA=="}, "originalCommit": {"oid": "281cf6074eb338b5749ad0e45b41a3ba7e846034"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNzQ2NzcxOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/sequenceiq/cloudbreak/reactor/handler/cluster/dr/BackupRestoreSaltConfigGenerator.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwNjozNDoxN1rOG78FSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwNjo1OTowOFrOG78uwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTUwMzU2Mg==", "bodyText": "This doesn't need to be public, others visibility can be lowered also to package level.", "url": "https://github.com/hortonworks/cloudbreak/pull/8686#discussion_r465503562", "createdAt": "2020-08-05T06:34:17Z", "author": {"login": "keyki"}, "path": "core/src/main/java/com/sequenceiq/cloudbreak/reactor/handler/cluster/dr/BackupRestoreSaltConfigGenerator.java", "diffHunk": "@@ -17,17 +18,31 @@\n \n @Component\n public class BackupRestoreSaltConfigGenerator {\n+    // these values are tightly coupled to the `postgresql/disaster_recovery.sls` salt pillar in `orchestrator-salt`\n+    public static final String POSTGRESQL_DISASTER_RECOVERY_PILLAR_PATH = \"/postgresql/disaster_recovery.sls\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9fdb7c3714d44f0e009ce85018b630a38454b1d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTUxNDE3Ng==", "bodyText": "I'm merging the PR. We can address this later.", "url": "https://github.com/hortonworks/cloudbreak/pull/8686#discussion_r465514176", "createdAt": "2020-08-05T06:59:08Z", "author": {"login": "keyki"}, "path": "core/src/main/java/com/sequenceiq/cloudbreak/reactor/handler/cluster/dr/BackupRestoreSaltConfigGenerator.java", "diffHunk": "@@ -17,17 +18,31 @@\n \n @Component\n public class BackupRestoreSaltConfigGenerator {\n+    // these values are tightly coupled to the `postgresql/disaster_recovery.sls` salt pillar in `orchestrator-salt`\n+    public static final String POSTGRESQL_DISASTER_RECOVERY_PILLAR_PATH = \"/postgresql/disaster_recovery.sls\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTUwMzU2Mg=="}, "originalCommit": {"oid": "c9fdb7c3714d44f0e009ce85018b630a38454b1d"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2999, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}