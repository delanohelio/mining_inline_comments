{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyNzM1OTUy", "number": 8708, "title": "CB-8138 - Lock-components should only lock used parcels", "bodyText": "Lock components from now on only means locking down components that are actually used (have their parcel activated) on the cluster, eg. by default SDX only uses CDH and if Data Hub might use Nifi parcel then lock components should lock the Nifi version also.", "createdAt": "2020-08-04T12:30:39Z", "url": "https://github.com/hortonworks/cloudbreak/pull/8708", "merged": true, "mergeCommit": {"oid": "a4d536c6f6d629b6bacffeeabdddd7762b0491f8"}, "closed": true, "closedAt": "2020-08-04T16:20:09Z", "author": {"login": "pdarvasi"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7nxUjgBqjM2MjA2MDUzODY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7o1EfgFqTQ2MDk1NTQ4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5c192d6d2ae53b392bd1ac113518f03df6b84dcc", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/5c192d6d2ae53b392bd1ac113518f03df6b84dcc", "committedDate": "2020-08-04T12:26:28Z", "message": "CB-8138 - Lock-components should only lock used parcels"}, "afterCommit": {"oid": "144ae436f8c965d09e9b247aa7a42a8bfd714474", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/144ae436f8c965d09e9b247aa7a42a8bfd714474", "committedDate": "2020-08-04T14:44:20Z", "message": "CB-8138 - Lock-components should only lock used parcels"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37f52c56e4c47380799b468033c69c41ae651618", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/37f52c56e4c47380799b468033c69c41ae651618", "committedDate": "2020-08-04T15:17:13Z", "message": "CB-8138 - Lock-components should only lock used parcels"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "144ae436f8c965d09e9b247aa7a42a8bfd714474", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/144ae436f8c965d09e9b247aa7a42a8bfd714474", "committedDate": "2020-08-04T14:44:20Z", "message": "CB-8138 - Lock-components should only lock used parcels"}, "afterCommit": {"oid": "37f52c56e4c47380799b468033c69c41ae651618", "author": {"user": {"login": "pdarvasi", "name": null}}, "url": "https://github.com/hortonworks/cloudbreak/commit/37f52c56e4c47380799b468033c69c41ae651618", "committedDate": "2020-08-04T15:17:13Z", "message": "CB-8138 - Lock-components should only lock used parcels"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwOTU1NDgy", "url": "https://github.com/hortonworks/cloudbreak/pull/8708#pullrequestreview-460955482", "createdAt": "2020-08-04T16:01:47Z", "commit": {"oid": "37f52c56e4c47380799b468033c69c41ae651618"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNjowMTo0N1rOG7nHAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNjowMTo0N1rOG7nHAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE1OTkzNg==", "bodyText": "Missing indent. Please format the code.", "url": "https://github.com/hortonworks/cloudbreak/pull/8708#discussion_r465159936", "createdAt": "2020-08-04T16:01:47Z", "author": {"login": "keyki"}, "path": "cluster-cm/src/main/java/com/sequenceiq/cloudbreak/cm/ClouderaManagerModificationService.java", "diffHunk": "@@ -507,6 +509,16 @@ public String getStackRepositoryJson(StackRepoDetails repoDetails, String stackR\n         return null;\n     }\n \n+    @Override\n+    public Map<String, String> gatherInstalledComponents(String stackName) {\n+        try {\n+        return clouderaManagerParcelService.getActivatedParcels(apiClient, stackName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37f52c56e4c47380799b468033c69c41ae651618"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2542, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}