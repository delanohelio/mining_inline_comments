{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzNTQzMjQw", "number": 9226, "title": "CB-9053. Cleanup and update diagnostics bundle format + start using CDP doctor (CB-8865)", "bodyText": "details:\n\nrefactor cloud storage related parameters a bit (also fixes some issue)\nstart using newer cdp-telemetry cli tool (include multiple workers feature, but use only 1 for those at the moment)\nupdate bundle to include bundle-info.json that contains required data that can be used by EDH\ninclude filecollector-metadata.json that includes the processing results\nrename bundle_info.json to diagnostics_request.json as that contains the diagnostics request data\nlicense id is not filled that\ninclude some new fields on the API (altohgh many of that are generated but as we passes those requests to internal endpoints, include those fields in the request)\n\nSee detailed description in the commit message.", "createdAt": "2020-10-14T17:53:17Z", "url": "https://github.com/hortonworks/cloudbreak/pull/9226", "merged": true, "mergeCommit": {"oid": "822f1f3c583e084229e8d722394a25b3adee81df"}, "closed": true, "closedAt": "2020-10-19T19:56:31Z", "author": {"login": "oleewere"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSharqgBqjM4Nzc5NDQ5ODc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUH3wAgFqTUxMjAxMjA4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "af44007349d08a6acc06ea76182f5ceb3e9628b8", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/af44007349d08a6acc06ea76182f5ceb3e9628b8", "committedDate": "2020-10-14T17:49:54Z", "message": "CB-9053. Cleanup and update diagnostics bundle format\ndetails:\n- refactor cloud storage related parameters a bit (also fixes some issue)\n- start using newer cdp-telemetry cli tool (include multiple workers feature, but use only 1 for those at the moment)\n- update bundle to include bundle-info.json that contains required data that can be used by EDH\n- include filecollector-metadata.json that includes the processing results\n- rename bundle_info.json to diagnostics_request.json as that contains the diagnostics request data\n- license id is not filled that\n- include some new fields on the API (altohgh many of that are generated but as we passes those requests to internal endpoints, include those fields in the request)"}, "afterCommit": {"oid": "e261ed6626c0707da8098cc4af1c239760e01c44", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/e261ed6626c0707da8098cc4af1c239760e01c44", "committedDate": "2020-10-14T18:23:24Z", "message": "CB-9053. Cleanup and update diagnostics bundle format\ndetails:\n- refactor cloud storage related parameters a bit (also fixes some issue)\n- start using newer cdp-telemetry cli tool (include multiple workers feature, but use only 1 for those at the moment)\n- update bundle to include bundle-info.json that contains required data that can be used by EDH\n- include filecollector-metadata.json that includes the processing results\n- rename bundle_info.json to diagnostics_request.json as that contains the diagnostics request data\n- license id is not filled that\n- include some new fields on the API (altohgh many of that are generated but as we passes those requests to internal endpoints, include those fields in the request)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e261ed6626c0707da8098cc4af1c239760e01c44", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/e261ed6626c0707da8098cc4af1c239760e01c44", "committedDate": "2020-10-14T18:23:24Z", "message": "CB-9053. Cleanup and update diagnostics bundle format\ndetails:\n- refactor cloud storage related parameters a bit (also fixes some issue)\n- start using newer cdp-telemetry cli tool (include multiple workers feature, but use only 1 for those at the moment)\n- update bundle to include bundle-info.json that contains required data that can be used by EDH\n- include filecollector-metadata.json that includes the processing results\n- rename bundle_info.json to diagnostics_request.json as that contains the diagnostics request data\n- license id is not filled that\n- include some new fields on the API (altohgh many of that are generated but as we passes those requests to internal endpoints, include those fields in the request)"}, "afterCommit": {"oid": "d550cc8b8b0e32817faa1274ddb1cdbf21bc67b7", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/d550cc8b8b0e32817faa1274ddb1cdbf21bc67b7", "committedDate": "2020-10-16T18:22:05Z", "message": "CB-9053. Cleanup and update diagnostics bundle format + start using CDP doctor (CB-8865)\ndetails:\n- refactor cloud storage related parameters a bit (also fixes some issue)\n- start using newer cdp-telemetry cli tool (include multiple workers feature, but use only 1 for those at the moment)\n- update bundle to include bundle-info.json that contains required data that can be used by EDH\n- include filecollector-metadata.json that includes the processing results\n- rename bundle_info.json to diagnostics_request.json as that contains the diagnostics request data\n- license id is not filled that\n- include some new fields on the API (altohgh many of that are generated but as we passes those requests to internal endpoints, include those fields in the request)\n- start using cdp-doctor -> use \"cdp-doctor commands\" to exercute multiple cdp-doctor calls and save its outputs under /tmp folder"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cb15a00ab847ef4c629c08e88242a22f299801c5", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/cb15a00ab847ef4c629c08e88242a22f299801c5", "committedDate": "2020-10-17T16:31:15Z", "message": "CB-9053. Cleanup and update diagnostics bundle format + start using CDP doctor (CB-8865)\ndetails:\n- refactor cloud storage related parameters a bit (also fixes some issue)\n- start using newer cdp-telemetry cli tool (include multiple workers feature, but use only 1 for those at the moment)\n- update bundle to include bundle-info.json that contains required data that can be used by EDH\n- include filecollector-metadata.json that includes the processing results\n- rename bundle_info.json to diagnostics_request.json as that contains the diagnostics request data\n- license id is not filled that\n- include some new fields on the API (altohgh many of that are generated but as we passes those requests to internal endpoints, include those fields in the request)\n- start using cdp-doctor -> use \"cdp-doctor commands\" to exercute multiple cdp-doctor calls and save its outputs under /tmp folder\n- use different cdp-doctor commands for FreeIPA and CM based clusters (include recipe and scm agent related commands there)"}, "afterCommit": {"oid": "f88870ed060539d761920fee77a37d23f15962b8", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/f88870ed060539d761920fee77a37d23f15962b8", "committedDate": "2020-10-19T09:49:09Z", "message": "CB-9053. Cleanup and update diagnostics bundle format + start using CDP doctor (CB-8865)\ndetails:\n- refactor cloud storage related parameters a bit (also fixes some issue)\n- start using newer cdp-telemetry cli tool (include multiple workers feature, but use only 1 for those at the moment)\n- update bundle to include bundle-info.json that contains required data that can be used by EDH\n- include filecollector-metadata.json that includes the processing results\n- rename bundle_info.json to diagnostics_request.json as that contains the diagnostics request data\n- license id is not filled yet\n- start using cdp-doctor -> use \"cdp-doctor commands\" to exercute multiple cdp-doctor calls and save its outputs under /tmp folder\n- use different cdp-doctor commands for FreeIPA and CM based clusters (include recipe and scm agent related commands there)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExOTYxMDY4", "url": "https://github.com/hortonworks/cloudbreak/pull/9226#pullrequestreview-511961068", "createdAt": "2020-10-19T16:47:59Z", "commit": {"oid": "f88870ed060539d761920fee77a37d23f15962b8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjo0Nzo1OVrOHkX2uA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjo0Nzo1OVrOHkX2uA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkwMTYyNA==", "bodyText": "typo here \"ans\"", "url": "https://github.com/hortonworks/cloudbreak/pull/9226#discussion_r507901624", "createdAt": "2020-10-19T16:47:59Z", "author": {"login": "attilapalfi92"}, "path": "common-model/src/main/java/com/sequenceiq/common/model/diagnostics/CloudStorageDiagnosticsParameters.java", "diffHunk": "@@ -0,0 +1,11 @@\n+package com.sequenceiq.common.model.diagnostics;\n+\n+import java.util.Map;\n+\n+public interface CloudStorageDiagnosticsParameters {\n+\n+    /**\n+     * Get cloud specific parameters ans a key value map for diagnostics", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f88870ed060539d761920fee77a37d23f15962b8"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExOTYyNjUw", "url": "https://github.com/hortonworks/cloudbreak/pull/9226#pullrequestreview-511962650", "createdAt": "2020-10-19T16:49:52Z", "commit": {"oid": "f88870ed060539d761920fee77a37d23f15962b8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjo0OTo1MlrOHkX7YA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjo0OTo1MlrOHkX7YA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkwMjgxNg==", "bodyText": "where is it used?", "url": "https://github.com/hortonworks/cloudbreak/pull/9226#discussion_r507902816", "createdAt": "2020-10-19T16:49:52Z", "author": {"login": "attilapalfi92"}, "path": "datalake/src/main/java/com/sequenceiq/datalake/service/sdx/diagnostics/DiagnosticsService.java", "diffHunk": "@@ -30,6 +31,9 @@\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(DiagnosticsService.class);\n \n+    @Value(\"${info.app.version:}\")\n+    private String version;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f88870ed060539d761920fee77a37d23f15962b8"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExOTYzMjE4", "url": "https://github.com/hortonworks/cloudbreak/pull/9226#pullrequestreview-511963218", "createdAt": "2020-10-19T16:50:34Z", "commit": {"oid": "f88870ed060539d761920fee77a37d23f15962b8"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f88870ed060539d761920fee77a37d23f15962b8", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/f88870ed060539d761920fee77a37d23f15962b8", "committedDate": "2020-10-19T09:49:09Z", "message": "CB-9053. Cleanup and update diagnostics bundle format + start using CDP doctor (CB-8865)\ndetails:\n- refactor cloud storage related parameters a bit (also fixes some issue)\n- start using newer cdp-telemetry cli tool (include multiple workers feature, but use only 1 for those at the moment)\n- update bundle to include bundle-info.json that contains required data that can be used by EDH\n- include filecollector-metadata.json that includes the processing results\n- rename bundle_info.json to diagnostics_request.json as that contains the diagnostics request data\n- license id is not filled yet\n- start using cdp-doctor -> use \"cdp-doctor commands\" to exercute multiple cdp-doctor calls and save its outputs under /tmp folder\n- use different cdp-doctor commands for FreeIPA and CM based clusters (include recipe and scm agent related commands there)"}, "afterCommit": {"oid": "ce387c2039ed9a69b450f37478ed28881d67fe32", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/ce387c2039ed9a69b450f37478ed28881d67fe32", "committedDate": "2020-10-19T16:54:04Z", "message": "CB-9053. Cleanup and update diagnostics bundle format + start using CDP doctor (CB-8865)\ndetails:\n- refactor cloud storage related parameters a bit (also fixes some issue)\n- start using newer cdp-telemetry cli tool (include multiple workers feature, but use only 1 for those at the moment)\n- update bundle to include bundle-info.json that contains required data that can be used by EDH\n- include filecollector-metadata.json that includes the processing results\n- rename bundle_info.json to diagnostics_request.json as that contains the diagnostics request data\n- license id is not filled yet\n- start using cdp-doctor -> use \"cdp-doctor commands\" to exercute multiple cdp-doctor calls and save its outputs under /tmp folder\n- use different cdp-doctor commands for FreeIPA and CM based clusters (include recipe and scm agent related commands there)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffcf36fb04404624d390076fae37d61bdba9f3b0", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/ffcf36fb04404624d390076fae37d61bdba9f3b0", "committedDate": "2020-10-19T17:44:44Z", "message": "CB-9053. Cleanup and update diagnostics bundle format + start using CDP doctor (CB-8865)\ndetails:\n- refactor cloud storage related parameters a bit (also fixes some issue)\n- start using newer cdp-telemetry cli tool (include multiple workers feature, but use only 1 for those at the moment)\n- update bundle to include bundle-info.json that contains required data that can be used by EDH\n- include filecollector-metadata.json that includes the processing results\n- rename bundle_info.json to diagnostics_request.json as that contains the diagnostics request data\n- license id is not filled yet\n- start using cdp-doctor -> use \"cdp-doctor commands\" to exercute multiple cdp-doctor calls and save its outputs under /tmp folder\n- use different cdp-doctor commands for FreeIPA and CM based clusters (include recipe and scm agent related commands there)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ce387c2039ed9a69b450f37478ed28881d67fe32", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/ce387c2039ed9a69b450f37478ed28881d67fe32", "committedDate": "2020-10-19T16:54:04Z", "message": "CB-9053. Cleanup and update diagnostics bundle format + start using CDP doctor (CB-8865)\ndetails:\n- refactor cloud storage related parameters a bit (also fixes some issue)\n- start using newer cdp-telemetry cli tool (include multiple workers feature, but use only 1 for those at the moment)\n- update bundle to include bundle-info.json that contains required data that can be used by EDH\n- include filecollector-metadata.json that includes the processing results\n- rename bundle_info.json to diagnostics_request.json as that contains the diagnostics request data\n- license id is not filled yet\n- start using cdp-doctor -> use \"cdp-doctor commands\" to exercute multiple cdp-doctor calls and save its outputs under /tmp folder\n- use different cdp-doctor commands for FreeIPA and CM based clusters (include recipe and scm agent related commands there)"}, "afterCommit": {"oid": "ffcf36fb04404624d390076fae37d61bdba9f3b0", "author": {"user": {"login": "oleewere", "name": "Oliv\u00e9r Szabo"}}, "url": "https://github.com/hortonworks/cloudbreak/commit/ffcf36fb04404624d390076fae37d61bdba9f3b0", "committedDate": "2020-10-19T17:44:44Z", "message": "CB-9053. Cleanup and update diagnostics bundle format + start using CDP doctor (CB-8865)\ndetails:\n- refactor cloud storage related parameters a bit (also fixes some issue)\n- start using newer cdp-telemetry cli tool (include multiple workers feature, but use only 1 for those at the moment)\n- update bundle to include bundle-info.json that contains required data that can be used by EDH\n- include filecollector-metadata.json that includes the processing results\n- rename bundle_info.json to diagnostics_request.json as that contains the diagnostics request data\n- license id is not filled yet\n- start using cdp-doctor -> use \"cdp-doctor commands\" to exercute multiple cdp-doctor calls and save its outputs under /tmp folder\n- use different cdp-doctor commands for FreeIPA and CM based clusters (include recipe and scm agent related commands there)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMDExNTM3", "url": "https://github.com/hortonworks/cloudbreak/pull/9226#pullrequestreview-512011537", "createdAt": "2020-10-19T17:45:40Z", "commit": {"oid": "ffcf36fb04404624d390076fae37d61bdba9f3b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMDEyMDgw", "url": "https://github.com/hortonworks/cloudbreak/pull/9226#pullrequestreview-512012080", "createdAt": "2020-10-19T17:45:57Z", "commit": {"oid": "ffcf36fb04404624d390076fae37d61bdba9f3b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2184, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}