{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4MDk1ODYz", "number": 8659, "title": "CB-8189 Adding new SDX Medium Duty config.", "bodyText": "This reworks the SDX Medium Duty HA into a new shape and configuration.\nOlder MDHA blueprints are removed.\nThis is just the beginning of these changes, I expect service config changes.", "createdAt": "2020-07-28T22:41:42Z", "url": "https://github.com/hortonworks/cloudbreak/pull/8659", "merged": true, "mergeCommit": {"oid": "7425f19ba8d63ebf9c650903baf192e9d8453a6a"}, "closed": true, "closedAt": "2020-07-31T20:28:12Z", "author": {"login": "frozenwizard"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5tG15ABqjM1OTk3MTQwOTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc6aOUuAFqTQ1OTQ0OTk2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8f58327c76189142834dd2ca2c72973e38ae3800", "author": {"user": null}, "url": "https://github.com/hortonworks/cloudbreak/commit/8f58327c76189142834dd2ca2c72973e38ae3800", "committedDate": "2020-07-28T22:38:33Z", "message": "CB-8189 Adding new SDX Medium Duty config.\n\nThis reworks the SDX Medium Duty HA into a new shape and configuration.\nOlder MDHA blueprints are removed."}, "afterCommit": {"oid": "3165bc32a3eaef8122299c2074e666d546207f97", "author": {"user": null}, "url": "https://github.com/hortonworks/cloudbreak/commit/3165bc32a3eaef8122299c2074e666d546207f97", "committedDate": "2020-07-29T15:52:41Z", "message": "CB-8189 Adding new SDX Medium Duty config.\n\nThis reworks the SDX Medium Duty HA into a new shape and configuration.\nOlder MDHA blueprints are removed."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3ODkxMTg0", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#pullrequestreview-457891184", "createdAt": "2020-07-29T20:56:54Z", "commit": {"oid": "3165bc32a3eaef8122299c2074e666d546207f97"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMDo1Njo1NFrOG5J3nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMTowMDoxNlrOG5J_Eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU4MzcxMQ==", "bodyText": "Should we indicate that this a medium-duty-ha-enabled-datalake?", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#discussion_r462583711", "createdAt": "2020-07-29T20:56:54Z", "author": {"login": "kmanamcheri"}, "path": "core/src/main/resources/defaults/blueprints/cdp-sdx-medium-ha-722.bp", "diffHunk": "@@ -2,64 +2,143 @@\n   \"tags\": {\n     \"shared_services_ready\": true\n   },\n-  \"description\": \"7.2.2 - SDX-HA template with Atlas, HMS, Ranger and other services they are dependent on. Services like HDFS, HBASE have HA\",\n+  \"description\": \"7.2.2 - SDX template with Atlas, HMS, Ranger and other services they are dependent on\",\n   \"blueprint\": {\n     \"cdhVersion\": \"7.2.2\",\n-    \"displayName\": \"ha-datalake\",\n+    \"displayName\": \"datalake\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3165bc32a3eaef8122299c2074e666d546207f97"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU4Mzg2MA==", "bodyText": "We should indicate somewhere that this is medium duty HA enabled.", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#discussion_r462583860", "createdAt": "2020-07-29T20:57:12Z", "author": {"login": "kmanamcheri"}, "path": "core/src/main/resources/defaults/blueprints/cdp-sdx-medium-ha-722.bp", "diffHunk": "@@ -2,64 +2,143 @@\n   \"tags\": {\n     \"shared_services_ready\": true\n   },\n-  \"description\": \"7.2.2 - SDX-HA template with Atlas, HMS, Ranger and other services they are dependent on. Services like HDFS, HBASE have HA\",\n+  \"description\": \"7.2.2 - SDX template with Atlas, HMS, Ranger and other services they are dependent on\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3165bc32a3eaef8122299c2074e666d546207f97"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU4NTYxOA==", "bodyText": "Is there a checks and balances on how can someone use this? I see that there is a 7.2.2 - SDX Medium Duty is on here. Does this mean in prod I can actually spin up a medium duty data lake? If not, where is the check being done?\nI know that in UI this is being filtered and only the Light Duty ones are shown. I guess my question is where is the config which lists what are the prod-ready ones?", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#discussion_r462585618", "createdAt": "2020-07-29T21:00:16Z", "author": {"login": "kmanamcheri"}, "path": "core/src/main/resources/application.yml", "diffHunk": "@@ -285,14 +283,12 @@ cb:\n         7.2.0 - Real-time Data Mart: Apache Impala, Hue, Apache Kudu, Apache Spark=cdp-rt-data-mart-720;\n         7.2.0 - Operational Database: Apache HBase, Phoenix=cdp-opdb-720;\n         7.2.0 - SDX Light Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-720;\n-        7.2.0 - SDX Medium Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-medium-ha-720;\n         7.2.0 - Streams Messaging Heavy Duty: Apache Kafka, Schema Registry, Streams Messaging Manager=cdp-streaming-720;\n         7.2.0 - Streams Messaging Light Duty: Apache Kafka, Schema Registry, Streams Messaging Manager=cdp-streaming-small-720;\n         7.2.0 - Flow Management Light Duty with Apache NiFi, Apache NiFi Registry=cdp-flow-management-small-720;\n         7.2.0 - Flow Management Heavy Duty with Apache NiFi, Apache NiFi Registry=cdp-flow-management-720;\n         7.2.0 - Data Discovery and Exploration=cdp-dde-720;\n         7.2.1 - SDX Light Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-721;\n-        7.2.1 - SDX Medium Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-medium-ha-721;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3165bc32a3eaef8122299c2074e666d546207f97"}, "originalPosition": 27}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3165bc32a3eaef8122299c2074e666d546207f97", "author": {"user": null}, "url": "https://github.com/hortonworks/cloudbreak/commit/3165bc32a3eaef8122299c2074e666d546207f97", "committedDate": "2020-07-29T15:52:41Z", "message": "CB-8189 Adding new SDX Medium Duty config.\n\nThis reworks the SDX Medium Duty HA into a new shape and configuration.\nOlder MDHA blueprints are removed."}, "afterCommit": {"oid": "eaba9371c5a0e91cb8f67f0bee1a41627e871c6b", "author": {"user": null}, "url": "https://github.com/hortonworks/cloudbreak/commit/eaba9371c5a0e91cb8f67f0bee1a41627e871c6b", "committedDate": "2020-07-30T21:34:23Z", "message": "CB-8189 Adding new SDX Medium Duty config.\n\nThis reworks the SDX Medium Duty HA into a new shape and configuration.\nOlder MDHA blueprints are removed."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed08cb92e096ff8f84a9f3cbfdde4091a905b1aa", "author": {"user": null}, "url": "https://github.com/hortonworks/cloudbreak/commit/ed08cb92e096ff8f84a9f3cbfdde4091a905b1aa", "committedDate": "2020-07-31T17:26:38Z", "message": "CB-8189 Adding new SDX Medium Duty config.\n\nThis reworks the SDX Medium Duty HA into a new shape and configuration.\nOlder MDHA blueprints are removed."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eaba9371c5a0e91cb8f67f0bee1a41627e871c6b", "author": {"user": null}, "url": "https://github.com/hortonworks/cloudbreak/commit/eaba9371c5a0e91cb8f67f0bee1a41627e871c6b", "committedDate": "2020-07-30T21:34:23Z", "message": "CB-8189 Adding new SDX Medium Duty config.\n\nThis reworks the SDX Medium Duty HA into a new shape and configuration.\nOlder MDHA blueprints are removed."}, "afterCommit": {"oid": "ed08cb92e096ff8f84a9f3cbfdde4091a905b1aa", "author": {"user": null}, "url": "https://github.com/hortonworks/cloudbreak/commit/ed08cb92e096ff8f84a9f3cbfdde4091a905b1aa", "committedDate": "2020-07-31T17:26:38Z", "message": "CB-8189 Adding new SDX Medium Duty config.\n\nThis reworks the SDX Medium Duty HA into a new shape and configuration.\nOlder MDHA blueprints are removed."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5MzU5OTUw", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#pullrequestreview-459359950", "createdAt": "2020-07-31T17:59:28Z", "commit": {"oid": "ed08cb92e096ff8f84a9f3cbfdde4091a905b1aa"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNzo1OToyOFrOG6RNHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNzo1OToyOFrOG6RNHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc1MjQ3OQ==", "bodyText": "I realized that IDBroker does have client-side load balancing. Can we leave this at 2 to enable that?", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#discussion_r463752479", "createdAt": "2020-07-31T17:59:28Z", "author": {"login": "kmanamcheri"}, "path": "datalake/src/main/resources/runtime/7.2.2/aws/medium_duty_ha.json", "diffHunk": "@@ -83,7 +63,7 @@\n           \"size\": 50\n         }\n       },\n-      \"nodeCount\": 2,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ed08cb92e096ff8f84a9f3cbfdde4091a905b1aa"}, "originalPosition": 31}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ed08cb92e096ff8f84a9f3cbfdde4091a905b1aa", "author": {"user": null}, "url": "https://github.com/hortonworks/cloudbreak/commit/ed08cb92e096ff8f84a9f3cbfdde4091a905b1aa", "committedDate": "2020-07-31T17:26:38Z", "message": "CB-8189 Adding new SDX Medium Duty config.\n\nThis reworks the SDX Medium Duty HA into a new shape and configuration.\nOlder MDHA blueprints are removed."}, "afterCommit": {"oid": "e425788e7bf15d392573b30f5ed8c1bfe30825b9", "author": {"user": null}, "url": "https://github.com/hortonworks/cloudbreak/commit/e425788e7bf15d392573b30f5ed8c1bfe30825b9", "committedDate": "2020-07-31T19:16:52Z", "message": "CB-8189 Adding new SDX Medium Duty config.\n\nThis reworks the SDX Medium Duty HA into a new shape and configuration."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e425788e7bf15d392573b30f5ed8c1bfe30825b9", "author": {"user": null}, "url": "https://github.com/hortonworks/cloudbreak/commit/e425788e7bf15d392573b30f5ed8c1bfe30825b9", "committedDate": "2020-07-31T19:16:52Z", "message": "CB-8189 Adding new SDX Medium Duty config.\n\nThis reworks the SDX Medium Duty HA into a new shape and configuration."}, "afterCommit": {"oid": "ed08cb92e096ff8f84a9f3cbfdde4091a905b1aa", "author": {"user": null}, "url": "https://github.com/hortonworks/cloudbreak/commit/ed08cb92e096ff8f84a9f3cbfdde4091a905b1aa", "committedDate": "2020-07-31T17:26:38Z", "message": "CB-8189 Adding new SDX Medium Duty config.\n\nThis reworks the SDX Medium Duty HA into a new shape and configuration.\nOlder MDHA blueprints are removed."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NDQ5OTYy", "url": "https://github.com/hortonworks/cloudbreak/pull/8659#pullrequestreview-459449962", "createdAt": "2020-07-31T20:26:52Z", "commit": {"oid": "ed08cb92e096ff8f84a9f3cbfdde4091a905b1aa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2512, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}