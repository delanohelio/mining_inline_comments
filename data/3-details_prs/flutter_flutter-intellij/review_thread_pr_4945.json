{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3NTc3NDI1", "number": 4945, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxODozNzo0MFrOEqb6DQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxODozNzo0MFrOEqb6DQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyOTMyODc3OnYy", "diffSide": "RIGHT", "path": "src/io/flutter/view/FlutterView.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxODozNzo0MFrOHcpGZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwMjoyMjo1NVrOHczw-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc5NTU1Nw==", "bodyText": "I'm seeing a null pointer exception here when debugging the test that failed, it looks like during the test perAppViewState is null. Is this likely to only happen in the test environment? Maybe we could put this retrieving of a unique name into a helper function.", "url": "https://github.com/flutter/flutter-intellij/pull/4945#discussion_r499795557", "createdAt": "2020-10-05T18:37:40Z", "author": {"login": "helin24"}, "path": "src/io/flutter/view/FlutterView.java", "diffHunk": "@@ -199,18 +200,12 @@ private void addBrowserInspectorViewContent(FlutterApp app,\n                                               boolean isEmbedded) {\n     final ContentManager contentManager = toolWindow.getContentManager();\n \n-    final String tabName;\n     final FlutterDevice device = app.device();\n-    if (device == null) {\n-      tabName = app.getProject().getName();\n-    }\n-    else {\n-      final List<FlutterDevice> existingDevices = new ArrayList<>();\n-      for (FlutterApp otherApp : perAppViewState.keySet()) {\n-        existingDevices.add(otherApp.device());\n-      }\n-      tabName = device.getUniqueName(existingDevices);\n+    final List<FlutterDevice> existingDevices = new ArrayList<>();\n+    for (FlutterApp otherApp : perAppViewState.keySet()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8c492b1ae13c2d629f6af98f2d4fbb5130d5fde"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTk3MDI5OA==", "bodyText": "I think that the device should be non-null for all normal invocations (normal app runs) but can be null for tests. I'll likely back out removing the null checks - it's not a critical part of this PR.", "url": "https://github.com/flutter/flutter-intellij/pull/4945#discussion_r499970298", "createdAt": "2020-10-06T02:22:55Z", "author": {"login": "devoncarew"}, "path": "src/io/flutter/view/FlutterView.java", "diffHunk": "@@ -199,18 +200,12 @@ private void addBrowserInspectorViewContent(FlutterApp app,\n                                               boolean isEmbedded) {\n     final ContentManager contentManager = toolWindow.getContentManager();\n \n-    final String tabName;\n     final FlutterDevice device = app.device();\n-    if (device == null) {\n-      tabName = app.getProject().getName();\n-    }\n-    else {\n-      final List<FlutterDevice> existingDevices = new ArrayList<>();\n-      for (FlutterApp otherApp : perAppViewState.keySet()) {\n-        existingDevices.add(otherApp.device());\n-      }\n-      tabName = device.getUniqueName(existingDevices);\n+    final List<FlutterDevice> existingDevices = new ArrayList<>();\n+    for (FlutterApp otherApp : perAppViewState.keySet()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc5NTU1Nw=="}, "originalCommit": {"oid": "e8c492b1ae13c2d629f6af98f2d4fbb5130d5fde"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 457, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}