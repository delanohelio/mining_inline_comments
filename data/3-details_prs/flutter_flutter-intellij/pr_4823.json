{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1MzI2NDQ1", "number": 4823, "title": "Open DevTools in standard browser if jxbrowser license is missing", "bodyText": "With this change, running the development workbench without a jxbrowser license shows a message in the inspector panel: \"The JxBrowser license could not be found. Click to open Devtools in the browser.\" that can be clicked to open the same DevTools URL in the normal browser.\nWhen we're ready to remove the old inspector view, we can also use this path for users who elect not to use JxBrowser.", "createdAt": "2020-09-11T18:09:45Z", "url": "https://github.com/flutter/flutter-intellij/pull/4823", "merged": true, "mergeCommit": {"oid": "683edde33e25cb4a3978d713e900997ac3faef18"}, "closed": true, "closedAt": "2020-09-18T16:09:09Z", "author": {"login": "helin24"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdH5g-tgFqTQ4NzAyMjU5NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdKHukqgBqjM3ODMyNTQ3MDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MDIyNTk0", "url": "https://github.com/flutter/flutter-intellij/pull/4823#pullrequestreview-487022594", "createdAt": "2020-09-11T18:15:19Z", "commit": {"oid": "7bfe578a19c2433f471b2d11b15fbc1d931414e3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxODoxNToxOVrOHQpAXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxODoxNToxOVrOHQpAXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIxMTEwMA==", "bodyText": "nit: try to avoid using the work \"Click\"/ \"Click here\" in messages. This could just be \"Retry?\"", "url": "https://github.com/flutter/flutter-intellij/pull/4823#discussion_r487211100", "createdAt": "2020-09-11T18:15:19Z", "author": {"login": "jacob314"}, "path": "src/io/flutter/view/FlutterView.java", "diffHunk": "@@ -447,11 +459,18 @@ protected void waitForJxBrowserInstallation(FlutterApp app, InspectorService ins\n   }\n \n   protected void handleJxBrowserInstallationFailed(FlutterApp app, InspectorService inspectorService, ToolWindow toolWindow) {\n-    // Allow user to manually restart.\n-    presentClickableLabel(toolWindow, \"JxBrowser installation failed. Click to retry.\", (linkLabel, data) -> {\n-      JxBrowserManager.getInstance().retryFromFailed(app.getProject());\n-      handleJxBrowserInstallationInProgress(app, inspectorService, toolWindow);\n-    });\n+    if (System.getProperty(JxBrowserUtils.LICENSE_PROPERTY_NAME) == null) {\n+      // If the license isn't available, allow the user to open the equivalent page in a non-embedded browser window.\n+      presentClickableLabel(toolWindow, \"The JxBrowser license could not be found. Click to open Devtools in the browser.\", (linkLabel, data) -> {\n+        presentDevTools(app, inspectorService, toolWindow, false);\n+      });\n+    } else {\n+      // Allow the user to manually restart.\n+      presentClickableLabel(toolWindow, \"JxBrowser installation failed. Click to retry.\", (linkLabel, data) -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bfe578a19c2433f471b2d11b15fbc1d931414e3"}, "originalPosition": 79}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNTc0OTA1", "url": "https://github.com/flutter/flutter-intellij/pull/4823#pullrequestreview-491574905", "createdAt": "2020-09-18T15:35:31Z", "commit": {"oid": "b029a046b6de5a30d0d4789b8bfbe15d2198d1bc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9511ced6a03da1776a203b6920da40d3a3f34097", "author": {"user": {"login": "helin24", "name": "Helin Shiah"}}, "url": "https://github.com/flutter/flutter-intellij/commit/9511ced6a03da1776a203b6920da40d3a3f34097", "committedDate": "2020-09-18T15:56:32Z", "message": "Open standard browser DevTools if license missing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db7beba75e96e503fea11df80d056f4c1ebb3555", "author": {"user": {"login": "helin24", "name": "Helin Shiah"}}, "url": "https://github.com/flutter/flutter-intellij/commit/db7beba75e96e503fea11df80d056f4c1ebb3555", "committedDate": "2020-09-18T15:56:32Z", "message": "Replace 'click' in panel messages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5443c23ce9bd9cdf848169c94d9a3d1d402236d6", "author": {"user": {"login": "helin24", "name": "Helin Shiah"}}, "url": "https://github.com/flutter/flutter-intellij/commit/5443c23ce9bd9cdf848169c94d9a3d1d402236d6", "committedDate": "2020-09-18T15:56:32Z", "message": "Fix tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b029a046b6de5a30d0d4789b8bfbe15d2198d1bc", "author": {"user": {"login": "helin24", "name": "Helin Shiah"}}, "url": "https://github.com/flutter/flutter-intellij/commit/b029a046b6de5a30d0d4789b8bfbe15d2198d1bc", "committedDate": "2020-09-11T23:55:12Z", "message": "Fix tests"}, "afterCommit": {"oid": "5443c23ce9bd9cdf848169c94d9a3d1d402236d6", "author": {"user": {"login": "helin24", "name": "Helin Shiah"}}, "url": "https://github.com/flutter/flutter-intellij/commit/5443c23ce9bd9cdf848169c94d9a3d1d402236d6", "committedDate": "2020-09-18T15:56:32Z", "message": "Fix tests"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3075, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}