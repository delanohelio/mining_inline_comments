{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM3MjM5MTEy", "number": 5116, "title": "Open DevTools directly using pub for external projects", "bodyText": "Eventually we want to use the daemon to start the DevTools server in all cases, but we'll need to start from pub until the daemon method is updated in flutter_tools (and users have an updated version of flutter). It will be easier to always use the DevTools server from this new DevToolsService (one server per project) instead of sometimes relying on DevToolsManager (one server per app). And having a running server will make it easier to set up a DevTools port while running apps for bazel projects.\nThis is mostly copied from DevToolsManager but simplified since we don't need status messages and everything can run in a background thread.\nNext steps will be using this server instead of starting a new one on app startup and when the DevTools action is triggered.", "createdAt": "2020-12-11T18:20:10Z", "url": "https://github.com/flutter/flutter-intellij/pull/5116", "merged": true, "mergeCommit": {"oid": "b5c83b7e402afd9890f99db876b81d2d05dbe6a8"}, "closed": true, "closedAt": "2020-12-15T17:59:19Z", "author": {"login": "helin24"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdlL9C6AH2gAyNTM3MjM5MTEyOjY3MzdhMGZlM2ExZTgyODYwZGUwMzYwOGI5OWFjMjUwNjc0YmIxOGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmdT8HgH2gAyNTM3MjM5MTEyOjczYTgxYzY4MzE1MzJiZDhhZjgzMTdlNTkyYjhhMmI1YzAyN2QyYzc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6737a0fe3a1e82860de03608b99ac250674bb18a", "author": {"user": {"login": "helin24", "name": "Helin Shiah"}}, "url": "https://github.com/flutter/flutter-intellij/commit/6737a0fe3a1e82860de03608b99ac250674bb18a", "committedDate": "2020-12-11T18:08:04Z", "message": "Add DevTools opening directly from pub for external"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTgyODIx", "url": "https://github.com/flutter/flutter-intellij/pull/5116#pullrequestreview-551982821", "createdAt": "2020-12-14T23:37:08Z", "commit": {"oid": "6737a0fe3a1e82860de03608b99ac250674bb18a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMzozNzowOFrOIFxhPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMzozNzowOFrOIFxhPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkyNTExOQ==", "bodyText": "later -> latter\ninstead of devtools.serve I assume you mean flutter daemon?", "url": "https://github.com/flutter/flutter-intellij/pull/5116#discussion_r542925119", "createdAt": "2020-12-14T23:37:08Z", "author": {"login": "jacob314"}, "path": "src/io/flutter/run/daemon/DevToolsService.java", "diffHunk": "@@ -45,6 +53,19 @@ public static DevToolsService getInstance(@NotNull final Project project) {\n \n   private DevToolsService(@NotNull final Project project) {\n     this.project = project;\n+\n+    ApplicationManager.getApplication().executeOnPooledThread(() -> {\n+      // TODO(helinx): Also use daemon method for later flutter versions where devtools.serve uses pub global run devtools", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6737a0fe3a1e82860de03608b99ac250674bb18a"}, "originalPosition": 36}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTg0ODgw", "url": "https://github.com/flutter/flutter-intellij/pull/5116#pullrequestreview-551984880", "createdAt": "2020-12-14T23:41:46Z", "commit": {"oid": "6737a0fe3a1e82860de03608b99ac250674bb18a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMzo0MTo0NlrOIFxpSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMzo0MTo0NlrOIFxpSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkyNzE3OQ==", "bodyText": "doesn't this file need an API to query to make sure devtools is done serving? Otherwise we'll launch devtools URLs that fail? a user could run an app very quickly after opening the project and hit a case where devtools isn't fully running yet.", "url": "https://github.com/flutter/flutter-intellij/pull/5116#discussion_r542927179", "createdAt": "2020-12-14T23:41:46Z", "author": {"login": "jacob314"}, "path": "src/io/flutter/run/daemon/DevToolsService.java", "diffHunk": "@@ -45,6 +53,19 @@ public static DevToolsService getInstance(@NotNull final Project project) {\n \n   private DevToolsService(@NotNull final Project project) {\n     this.project = project;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6737a0fe3a1e82860de03608b99ac250674bb18a"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ea8e386c4f07b40bfc3322892d6811957151599", "author": {"user": {"login": "helin24", "name": "Helin Shiah"}}, "url": "https://github.com/flutter/flutter-intellij/commit/9ea8e386c4f07b40bfc3322892d6811957151599", "committedDate": "2020-12-15T01:09:27Z", "message": "Clarify two versions of serving"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyNjU0MjE2", "url": "https://github.com/flutter/flutter-intellij/pull/5116#pullrequestreview-552654216", "createdAt": "2020-12-15T16:42:25Z", "commit": {"oid": "9ea8e386c4f07b40bfc3322892d6811957151599"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73a81c6831532bd8af8317e592b8a2b5c027d2c7", "author": {"user": {"login": "helin24", "name": "Helin Shiah"}}, "url": "https://github.com/flutter/flutter-intellij/commit/73a81c6831532bd8af8317e592b8a2b5c027d2c7", "committedDate": "2020-12-15T16:55:23Z", "message": "Expand imports"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3047, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}