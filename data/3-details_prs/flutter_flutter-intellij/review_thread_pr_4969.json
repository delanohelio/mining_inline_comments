{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0NDQ5NTQ4", "number": 4969, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNzo0MjozMlrOEuoHzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNzo0Mjo1MFrOEuoIRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MzI3MzExOnYy", "diffSide": "RIGHT", "path": "src/io/flutter/view/FlutterView.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNzo0MjozMlrOHjKJeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNzo0MjozMlrOHjKJeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYyODQ3Mg==", "bodyText": "Retry installation ?", "url": "https://github.com/flutter/flutter-intellij/pull/4969#discussion_r506628472", "createdAt": "2020-10-16T17:42:32Z", "author": {"login": "devoncarew"}, "path": "src/io/flutter/view/FlutterView.java", "diffHunk": "@@ -462,27 +463,33 @@ else if (newStatus.equals(JxBrowserStatus.INSTALLATION_FAILED)) {\n     catch (TimeoutException e) {\n       // TODO(helin24): Are there better options for this case? e.g. stop installation and retry, link to open in browser?\n       presentLabel(toolWindow, INSTALLATION_TIMED_OUT_LABEL);\n-      FlutterInitializer.getAnalytics().sendEvent(\"jxbrowser\", \"timedOut\");\n+      FlutterInitializer.getAnalytics().sendEvent(JxBrowserManager.ANALYTICS_CATEGORY, \"timedOut\");\n     }\n   }\n \n   protected void handleJxBrowserInstallationFailed(FlutterApp app, InspectorService inspectorService, ToolWindow toolWindow) {\n+    final List<LabelInput> inputs = new ArrayList<>();\n+\n     if (!JxBrowserUtils.licenseIsSet()) {\n       // If the license isn't available, allow the user to open the equivalent page in a non-embedded browser window.\n-      presentClickableLabel(\n-        toolWindow, \"The JxBrowser license could not be found.\", \"Open DevTools in the browser?\",\n-        (linkLabel, data) -> {\n-          presentDevTools(app, inspectorService, toolWindow, false);\n-        });\n+      inputs.add(new LabelInput(\"The JxBrowser license could not be found.\"));\n+      inputs.add(new LabelInput(\"Open DevTools in the browser?\", (linkLabel, data) -> {\n+        presentDevTools(app, inspectorService, toolWindow, false);\n+      }));\n     }\n     else {\n-      // Allow the user to manually restart.\n-      presentClickableLabel(\n-        toolWindow, \"JxBrowser installation failed.\", \"Retry?\", (linkLabel, data) -> {\n-          JxBrowserManager.getInstance().retryFromFailed(app.getProject());\n-          handleJxBrowserInstallationInProgress(app, inspectorService, toolWindow);\n-        });\n+      // Allow the user to manually restart or open the equivalent page in a non-embedded browser window.\n+      inputs.add(new LabelInput(\"JxBrowser installation failed.\"));\n+      inputs.add(new LabelInput(\"Retry?\", (linkLabel, data) -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c1385a54259937004a0a9e1bdc7c06fea707132"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MzI3NDMwOnYy", "diffSide": "RIGHT", "path": "src/io/flutter/view/FlutterView.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNzo0Mjo1MFrOHjKKJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNzo0Mjo1MFrOHjKKJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYyODY0Ng==", "bodyText": "Open DevTools in a browser  ?", "url": "https://github.com/flutter/flutter-intellij/pull/4969#discussion_r506628646", "createdAt": "2020-10-16T17:42:50Z", "author": {"login": "devoncarew"}, "path": "src/io/flutter/view/FlutterView.java", "diffHunk": "@@ -462,27 +463,33 @@ else if (newStatus.equals(JxBrowserStatus.INSTALLATION_FAILED)) {\n     catch (TimeoutException e) {\n       // TODO(helin24): Are there better options for this case? e.g. stop installation and retry, link to open in browser?\n       presentLabel(toolWindow, INSTALLATION_TIMED_OUT_LABEL);\n-      FlutterInitializer.getAnalytics().sendEvent(\"jxbrowser\", \"timedOut\");\n+      FlutterInitializer.getAnalytics().sendEvent(JxBrowserManager.ANALYTICS_CATEGORY, \"timedOut\");\n     }\n   }\n \n   protected void handleJxBrowserInstallationFailed(FlutterApp app, InspectorService inspectorService, ToolWindow toolWindow) {\n+    final List<LabelInput> inputs = new ArrayList<>();\n+\n     if (!JxBrowserUtils.licenseIsSet()) {\n       // If the license isn't available, allow the user to open the equivalent page in a non-embedded browser window.\n-      presentClickableLabel(\n-        toolWindow, \"The JxBrowser license could not be found.\", \"Open DevTools in the browser?\",\n-        (linkLabel, data) -> {\n-          presentDevTools(app, inspectorService, toolWindow, false);\n-        });\n+      inputs.add(new LabelInput(\"The JxBrowser license could not be found.\"));\n+      inputs.add(new LabelInput(\"Open DevTools in the browser?\", (linkLabel, data) -> {\n+        presentDevTools(app, inspectorService, toolWindow, false);\n+      }));\n     }\n     else {\n-      // Allow the user to manually restart.\n-      presentClickableLabel(\n-        toolWindow, \"JxBrowser installation failed.\", \"Retry?\", (linkLabel, data) -> {\n-          JxBrowserManager.getInstance().retryFromFailed(app.getProject());\n-          handleJxBrowserInstallationInProgress(app, inspectorService, toolWindow);\n-        });\n+      // Allow the user to manually restart or open the equivalent page in a non-embedded browser window.\n+      inputs.add(new LabelInput(\"JxBrowser installation failed.\"));\n+      inputs.add(new LabelInput(\"Retry?\", (linkLabel, data) -> {\n+        JxBrowserManager.getInstance().retryFromFailed(app.getProject());\n+        handleJxBrowserInstallationInProgress(app, inspectorService, toolWindow);\n+      }));\n+      inputs.add(new LabelInput(\"Alternatively, open Devtools in the browser.\", (linkLabel, data) -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c1385a54259937004a0a9e1bdc7c06fea707132"}, "originalPosition": 45}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 461, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}