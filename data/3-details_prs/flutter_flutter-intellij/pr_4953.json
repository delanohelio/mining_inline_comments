{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5NTI4NzYw", "number": 4953, "title": "Fix dev channel build", "bodyText": "Specifying Java target compatibility apparently doesn't work they way I expect it to. Class files built by Java 11 that specify Java 8 compatibility still have class file version 55 so the plugin can't be used in Android Studio 4.0 and 4.1. That might be a bug in the IntelliJ plugin for Gradle.\nThere are a number of changes here:\n\nAdd Java version to Gradle script, set it in the plugin tool based on build version\nUnroll the build loop to do a single build at a time, manually incrementing the minor version number\nChange the Java version halfway through\nRefactor two utility functions (devBuildNumber(), _nextRelease()) into util.dart\nMove build version constructor from a switch branch to buildVersionNumber() in util.dart\nUse buildVersionNumber() everywhere that needs to use that value\nMove ++pluginCount into the main loop", "createdAt": "2020-10-07T21:32:10Z", "url": "https://github.com/flutter/flutter-intellij/pull/4953", "merged": true, "mergeCommit": {"oid": "f6b47b65da1864d45745f73d00ecc88be5d98abe"}, "closed": true, "closedAt": "2020-10-07T21:59:56Z", "author": {"login": "stevemessick"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQTiWEAH2gAyNDk5NTI4NzYwOmFkMjVjYTkyY2MwM2UzOGRlYTkzZGVhOGVhNTA5MmRjNGZhNjI1OTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQUPW7AFqTUwNDI5NDgzNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ad25ca92cc03e38dea93dea8ea5092dc4fa62597", "author": {"user": {"login": "stevemessick", "name": null}}, "url": "https://github.com/flutter/flutter-intellij/commit/ad25ca92cc03e38dea93dea8ea5092dc4fa62597", "committedDate": "2020-10-07T21:05:44Z", "message": "Fix dev channel build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9a0a48ed68ef4b2dc9c8fdc05572bbe6edd9f46", "author": {"user": {"login": "stevemessick", "name": null}}, "url": "https://github.com/flutter/flutter-intellij/commit/f9a0a48ed68ef4b2dc9c8fdc05572bbe6edd9f46", "committedDate": "2020-10-07T21:17:20Z", "message": "Add minor version flag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9931ed28609662e44b5f439b30f41d86cb0b7773", "author": {"user": {"login": "stevemessick", "name": null}}, "url": "https://github.com/flutter/flutter-intellij/commit/9931ed28609662e44b5f439b30f41d86cb0b7773", "committedDate": "2020-10-07T21:26:37Z", "message": "Remove a branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5dbb26d07e40aa437907dc3a8edfdaefb6966c1", "author": {"user": {"login": "stevemessick", "name": null}}, "url": "https://github.com/flutter/flutter-intellij/commit/a5dbb26d07e40aa437907dc3a8edfdaefb6966c1", "committedDate": "2020-10-07T21:45:25Z", "message": "Fix Kokoro test and deploy scripts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0Mjk0ODM0", "url": "https://github.com/flutter/flutter-intellij/pull/4953#pullrequestreview-504294834", "createdAt": "2020-10-07T21:54:18Z", "commit": {"oid": "a5dbb26d07e40aa437907dc3a8edfdaefb6966c1"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMTo1NDoxOFrOHeG36g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMTo1NDoxOFrOHeG36g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMzMTk0Ng==", "bodyText": "Is it worth moving this into a shared file? Or will it likely be unnecessary soon?", "url": "https://github.com/flutter/flutter-intellij/pull/4953#discussion_r501331946", "createdAt": "2020-10-07T21:54:18Z", "author": {"login": "helin24"}, "path": "tool/kokoro/deploy.sh", "diffHunk": "@@ -4,7 +4,18 @@ source ./tool/kokoro/setup.sh\n setup\n \n echo \"kokoro build start\"\n-./bin/plugin make --channel=dev\n+\n+./bin/plugin make --channel=dev -o4.0 -u -m1\n+./bin/plugin make --channel=dev -o4.1 -u -m2\n+\n+curl https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_osx-x64_bin.tar.gz > ../java.tar.gz", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5dbb26d07e40aa437907dc3a8edfdaefb6966c1"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3103, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}