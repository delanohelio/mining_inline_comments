{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1MjMzNDgx", "number": 4587, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxNzo1OToxN1rOEA_J3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxNzo1OToxN1rOEA_J3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NDcwMTc1OnYy", "diffSide": "RIGHT", "path": "src/io/flutter/run/SdkFields.java", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxNzo1OToxN1rOGcmylQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxMDo0NToxOFrOGdGQSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjY0ODg1Mw==", "bodyText": "@DanTup for FYI", "url": "https://github.com/flutter/flutter-intellij/pull/4587#discussion_r432648853", "createdAt": "2020-05-29T17:59:17Z", "author": {"login": "devoncarew"}, "path": "src/io/flutter/run/SdkFields.java", "diffHunk": "@@ -129,6 +130,9 @@ public GeneralCommandLine createFlutterSdkRunCommand(@NotNull Project project,\n     if (buildFlavor != null) {\n       args = ArrayUtil.append(args, \"--flavor=\" + buildFlavor);\n     }\n+    if (FlutterSettings.getInstance().isShowStructuredErrors()) {\n+      args = ArrayUtil.append(args, \"--dart-define=flutter.inspector.structuredErrors=true\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c514e119d50b380b797de22f6952a921c6150056"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjY1MDQ0OA==", "bodyText": "Great, this should fix Dart-Code/Dart-Code#1850!\nI presume it's safe to pass --dart-define= to older SDKs and this won't need a version check?", "url": "https://github.com/flutter/flutter-intellij/pull/4587#discussion_r432650448", "createdAt": "2020-05-29T18:02:28Z", "author": {"login": "DanTup"}, "path": "src/io/flutter/run/SdkFields.java", "diffHunk": "@@ -129,6 +130,9 @@ public GeneralCommandLine createFlutterSdkRunCommand(@NotNull Project project,\n     if (buildFlavor != null) {\n       args = ArrayUtil.append(args, \"--flavor=\" + buildFlavor);\n     }\n+    if (FlutterSettings.getInstance().isShowStructuredErrors()) {\n+      args = ArrayUtil.append(args, \"--dart-define=flutter.inspector.structuredErrors=true\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjY0ODg1Mw=="}, "originalCommit": {"oid": "c514e119d50b380b797de22f6952a921c6150056"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjY1NDIxMQ==", "bodyText": "I'm not sure about this - is the concern that an older SDK will break when using --dart-define or this particular flag? If the SDK doesn't consider the flag yet there should be no problem, but I don't know if anything happens if --dart-define doesn't exist.", "url": "https://github.com/flutter/flutter-intellij/pull/4587#discussion_r432654211", "createdAt": "2020-05-29T18:10:37Z", "author": {"login": "helin24"}, "path": "src/io/flutter/run/SdkFields.java", "diffHunk": "@@ -129,6 +130,9 @@ public GeneralCommandLine createFlutterSdkRunCommand(@NotNull Project project,\n     if (buildFlavor != null) {\n       args = ArrayUtil.append(args, \"--flavor=\" + buildFlavor);\n     }\n+    if (FlutterSettings.getInstance().isShowStructuredErrors()) {\n+      args = ArrayUtil.append(args, \"--dart-define=flutter.inspector.structuredErrors=true\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjY0ODg1Mw=="}, "originalCommit": {"oid": "c514e119d50b380b797de22f6952a921c6150056"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjY1Nzc5Ng==", "bodyText": "is the concern that an older SDK will break when using --dart-define or this particular flag?\n\nEither, I guess. I wondered if it's safe for me to just always send this (if structured errors is enabled), or if that might result in errors for users with older Flutter SDKs. As long as it works in the latest stable and later it's probably not a real concern, but since I already have version checks on some flags, it's easy to add one if required to have compatibility with more SDKs.\n(I can test it if nobody knows the answer off-hand, I just thought I'd ask and save the multiple sets of downloads changing between versions \ud83d\ude01)", "url": "https://github.com/flutter/flutter-intellij/pull/4587#discussion_r432657796", "createdAt": "2020-05-29T18:18:08Z", "author": {"login": "DanTup"}, "path": "src/io/flutter/run/SdkFields.java", "diffHunk": "@@ -129,6 +130,9 @@ public GeneralCommandLine createFlutterSdkRunCommand(@NotNull Project project,\n     if (buildFlavor != null) {\n       args = ArrayUtil.append(args, \"--flavor=\" + buildFlavor);\n     }\n+    if (FlutterSettings.getInstance().isShowStructuredErrors()) {\n+      args = ArrayUtil.append(args, \"--dart-define=flutter.inspector.structuredErrors=true\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjY0ODg1Mw=="}, "originalCommit": {"oid": "c514e119d50b380b797de22f6952a921c6150056"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjY3OTA2Mw==", "bodyText": "Yes can you test and update me too? If there is an issue I think I would need a version check as well.", "url": "https://github.com/flutter/flutter-intellij/pull/4587#discussion_r432679063", "createdAt": "2020-05-29T19:01:56Z", "author": {"login": "helin24"}, "path": "src/io/flutter/run/SdkFields.java", "diffHunk": "@@ -129,6 +130,9 @@ public GeneralCommandLine createFlutterSdkRunCommand(@NotNull Project project,\n     if (buildFlavor != null) {\n       args = ArrayUtil.append(args, \"--flavor=\" + buildFlavor);\n     }\n+    if (FlutterSettings.getInstance().isShowStructuredErrors()) {\n+      args = ArrayUtil.append(args, \"--dart-define=flutter.inspector.structuredErrors=true\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjY0ODg1Mw=="}, "originalCommit": {"oid": "c514e119d50b380b797de22f6952a921c6150056"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzE2NDM2MA==", "bodyText": "Looks like --dart-define exists in both the current stable, and the previous stable (v1.12), added in flutter/flutter#44083.\nI think I'll add a version in VS Code check since it's easy and I already have it for some other things, but it's probably not entirely necessary.", "url": "https://github.com/flutter/flutter-intellij/pull/4587#discussion_r433164360", "createdAt": "2020-06-01T10:45:18Z", "author": {"login": "DanTup"}, "path": "src/io/flutter/run/SdkFields.java", "diffHunk": "@@ -129,6 +130,9 @@ public GeneralCommandLine createFlutterSdkRunCommand(@NotNull Project project,\n     if (buildFlavor != null) {\n       args = ArrayUtil.append(args, \"--flavor=\" + buildFlavor);\n     }\n+    if (FlutterSettings.getInstance().isShowStructuredErrors()) {\n+      args = ArrayUtil.append(args, \"--dart-define=flutter.inspector.structuredErrors=true\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjY0ODg1Mw=="}, "originalCommit": {"oid": "c514e119d50b380b797de22f6952a921c6150056"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 328, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}