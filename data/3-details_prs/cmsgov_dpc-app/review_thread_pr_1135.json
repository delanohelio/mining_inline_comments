{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzMjc5NTg2", "number": 1135, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMTo0MzoyMVrOFBjtcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMTo0NjowNVrOFBjvgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MTc3OTY5OnYy", "diffSide": "RIGHT", "path": ".github/workflows/ci-workflow.yml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMTo0MzoyMVrOIAStQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMjoyNzozNlrOIATaRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3NzQwOA==", "bodyText": "What is the difference between make smoke and make smoke/local?", "url": "https://github.com/CMSgov/dpc-app/pull/1135#discussion_r537177408", "createdAt": "2020-12-07T01:43:21Z", "author": {"login": "msnook"}, "path": ".github/workflows/ci-workflow.yml", "diffHunk": "@@ -34,3 +35,22 @@ jobs:\n       - name: \"Website Build\"\n         run: |\n           make ci-web\n+          \n+  smoke-test:\n+    name: \"Run Smoke Test\"\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: \"Checkout code\"\n+        uses: actions/checkout@v1\n+      - name: \"Set up JDK 11\" \n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: '11.0.2'\n+      - name: \"Set up Python 3.8.1\"\n+        uses: actions/setup-python@v2\n+        with:\n+          python-version: '3.8.1'\n+      - name: \"Smoke Test\"\n+        run: |\n+          make smoke", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0351e9e193ae8e18b8d106ef819b42f7d5694e5c"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE4ODkzMg==", "bodyText": "The difference between this and smoke/local is that it uses a spun up local environment from docker and runs it against it as well as skipping the djib tests which need to be enabled manually.\nIt will fail if we utilize smoke/local because it requires a person's input as well. You'd have to press enter to execute it as well as using an authenticated environment.\n\n=====\nThe Smoke Tests require an authenticated environment!\nVerify your local API environment has \"authenticationDisabled = false\" or these tests will fail.\n=====\n\nPress ENTER to run the tests...\n\n@dhgreene @DeirdreHolub can you provide more details than what I understand from reading the code?", "url": "https://github.com/CMSgov/dpc-app/pull/1135#discussion_r537188932", "createdAt": "2020-12-07T02:27:36Z", "author": {"login": "jeffcorpuz"}, "path": ".github/workflows/ci-workflow.yml", "diffHunk": "@@ -34,3 +35,22 @@ jobs:\n       - name: \"Website Build\"\n         run: |\n           make ci-web\n+          \n+  smoke-test:\n+    name: \"Run Smoke Test\"\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: \"Checkout code\"\n+        uses: actions/checkout@v1\n+      - name: \"Set up JDK 11\" \n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: '11.0.2'\n+      - name: \"Set up Python 3.8.1\"\n+        uses: actions/setup-python@v2\n+        with:\n+          python-version: '3.8.1'\n+      - name: \"Smoke Test\"\n+        run: |\n+          make smoke", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3NzQwOA=="}, "originalCommit": {"oid": "0351e9e193ae8e18b8d106ef819b42f7d5694e5c"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MTc4NDk2OnYy", "diffSide": "RIGHT", "path": ".github/workflows/ci-workflow.yml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMTo0NjowNVrOIASv7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMjozOToxMVrOIATmhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3ODA5Mw==", "bodyText": "The way this is configured, I think it will run in parallel with build-app and build-web.  Should we run it immediately after make ci-app since the job name is \"Build and Test API\".  I think that will reduce code redundancy (i.e., setting up JDK and Python multiple times) and also ensure that we're running smoke against the actual build.", "url": "https://github.com/CMSgov/dpc-app/pull/1135#discussion_r537178093", "createdAt": "2020-12-07T01:46:05Z", "author": {"login": "msnook"}, "path": ".github/workflows/ci-workflow.yml", "diffHunk": "@@ -34,3 +35,22 @@ jobs:\n       - name: \"Website Build\"\n         run: |\n           make ci-web\n+          \n+  smoke-test:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0351e9e193ae8e18b8d106ef819b42f7d5694e5c"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE4OTE5Nw==", "bodyText": "Initially I chose that serial route, however I opted for this configuration to parallelize the build process. I chose this direction because I want the job to fail fast if one of the jobs failed.", "url": "https://github.com/CMSgov/dpc-app/pull/1135#discussion_r537189197", "createdAt": "2020-12-07T02:28:42Z", "author": {"login": "jeffcorpuz"}, "path": ".github/workflows/ci-workflow.yml", "diffHunk": "@@ -34,3 +35,22 @@ jobs:\n       - name: \"Website Build\"\n         run: |\n           make ci-web\n+          \n+  smoke-test:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3ODA5Mw=="}, "originalCommit": {"oid": "0351e9e193ae8e18b8d106ef819b42f7d5694e5c"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE5MjA2OQ==", "bodyText": "Makes sense from a performance perspective.  But, typically the feedback loop is build, unit, integration.\nIt might be confusing to developers if the feedback loop results in integration tests failing earlier than the build/unit has even processed.", "url": "https://github.com/CMSgov/dpc-app/pull/1135#discussion_r537192069", "createdAt": "2020-12-07T02:39:11Z", "author": {"login": "msnook"}, "path": ".github/workflows/ci-workflow.yml", "diffHunk": "@@ -34,3 +35,22 @@ jobs:\n       - name: \"Website Build\"\n         run: |\n           make ci-web\n+          \n+  smoke-test:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3ODA5Mw=="}, "originalCommit": {"oid": "0351e9e193ae8e18b8d106ef819b42f7d5694e5c"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 35, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}