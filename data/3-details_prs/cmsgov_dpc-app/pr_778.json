{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyMjc5NTgy", "number": 778, "title": "DPC-1168: As an internal user I want a pop up when I'm trying to disable/delete org/user", "bodyText": "Why\nAdd a pop up that asks the internal user to confirm that they are sure they want to delete the org from the api.\nAdd a pop up to confirm internal user wants to delete a user account.\nThis will inhibit user error by not allowing them to immediately delete an org or user account.\nWhat Changed\nAdded confirm pop ups for deleting a user and an organization. Add confirm pop up for disabling an organization from the Sandbox API.\nChoices Made\n\n\n\nTickets closed:\nDPC-1168\nFuture Work\nN/A\nChecklist\n\n All tests are passing via make ci-app (app change) and make ci-web (website change)\n[N/A] Swagger documentation has been updated\n[N/A] FHIR documentation has been updated\n[N/A] Any required dpc-ops changes have a PR submitted and mentioned in this ticket\n[N/A] Any manual migration steps are documented, scripts written (where applicable), and tested\n[N/A] Before merging, any required dpc-ops changes have been approved and merged into master of the dpc-ops repo", "createdAt": "2020-05-01T20:04:14Z", "url": "https://github.com/CMSgov/dpc-app/pull/778", "merged": true, "mergeCommit": {"oid": "6c593bb2b2dda2ef7575932802bfdc7b80ce675a"}, "closed": true, "closedAt": "2020-05-08T19:14:23Z", "author": {"login": "Sun-Mountain"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcdGTXSAH2gAyNDEyMjc5NTgyOmNhY2Y5MjM4NDk3NmYzMmE0MDQ2NjhmYmZlMTVhMjJjNDkxNGUwMmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcfWMVTgH2gAyNDEyMjc5NTgyOmYwN2RkYTY3ODljMDRkNzhlNWE2NDhiZDcxMGE4MjczMzAxY2FlYTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cacf92384976f32a404668fbfe15a22c4914e02a", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/cacf92384976f32a404668fbfe15a22c4914e02a", "committedDate": "2020-05-01T18:50:28Z", "message": "Confirm delete user account pop up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "637979cf26c7c1f1ed31fd7bb9e7f3b768043602", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/637979cf26c7c1f1ed31fd7bb9e7f3b768043602", "committedDate": "2020-05-01T19:45:24Z", "message": "Organization pop ups for disabling api & deleting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4MzUwNjky", "url": "https://github.com/CMSgov/dpc-app/pull/778#pullrequestreview-408350692", "createdAt": "2020-05-08T16:13:38Z", "commit": {"oid": "637979cf26c7c1f1ed31fd7bb9e7f3b768043602"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3acc39aa31feacc1eabb4cb7d4267abf5cb91d27", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/3acc39aa31feacc1eabb4cb7d4267abf5cb91d27", "committedDate": "2020-05-08T16:16:07Z", "message": "Merge branch 'master' into nzonnenberg/dpc-1168-pop-up"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4MzU0NDky", "url": "https://github.com/CMSgov/dpc-app/pull/778#pullrequestreview-408354492", "createdAt": "2020-05-08T16:19:37Z", "commit": {"oid": "3acc39aa31feacc1eabb4cb7d4267abf5cb91d27"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxNjoxOTozN1rOGSrPIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxNjoxOTozN1rOGSrPIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjIzNTkzNg==", "bodyText": "This message confuses me.  Is this not a prompt to delete, not enable?", "url": "https://github.com/CMSgov/dpc-app/pull/778#discussion_r422235936", "createdAt": "2020-05-08T16:19:37Z", "author": {"login": "dhgreene"}, "path": "dpc-web/app/views/internal/organizations/show.html.erb", "diffHunk": "@@ -233,6 +233,6 @@\n \n <section class=\"ds-u-margin--2\">\n   <div class=\"ds-l-row ds-u-justify-content--center\">\n-    <%= link_to \"Delete organization\", internal_organization_url(@organization), method: :delete, class: \"ds-u-color--error ds-u-text-align--center\" %>\n+    <%= link_to \"Delete organization\", internal_organization_url(@organization), data: { confirm: 'If it is enabled in an API all data will be permanently deleted. Are you sure you want to delete this organization?' }, method: :delete, class: \"ds-u-color--error ds-u-text-align--center\" %>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3acc39aa31feacc1eabb4cb7d4267abf5cb91d27"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f07dda6789c04d78e5a648bd710a8273301caea9", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/f07dda6789c04d78e5a648bd710a8273301caea9", "committedDate": "2020-05-08T18:29:07Z", "message": "Merge branch 'master' into nzonnenberg/dpc-1168-pop-up"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 123, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}