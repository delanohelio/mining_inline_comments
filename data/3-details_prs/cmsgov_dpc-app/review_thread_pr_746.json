{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyNzc5MDcw", "number": 746, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxODo0MDozNFrODxV5eA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQyMDo1MToxN1rODx0U1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMDY1NTkyOnYy", "diffSide": "RIGHT", "path": "dpc-queue/src/main/java/gov/cms/dpc/queue/JobQueueCommon.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxODo0MDozNFrOGEwmuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxMzozMDozNVrOGHOCwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY0MzgzNQ==", "bodyText": "Method createEmptyBatch has 6 arguments (exceeds 4 allowed). Consider refactoring.", "url": "https://github.com/CMSgov/dpc-app/pull/746#discussion_r407643835", "createdAt": "2020-04-13T18:40:34Z", "author": {"login": "codeclimate"}, "path": "dpc-queue/src/main/java/gov/cms/dpc/queue/JobQueueCommon.java", "diffHunk": "@@ -44,8 +49,25 @@ public UUID createJob(UUID orgID, String providerID, List<String> patients, List\n         return jobBatches.stream().map(JobQueueBatch::getJobID).findFirst().orElseThrow(() -> new JobQueueFailure(\"Unable to create job. No batches to submit.\"));\n     }\n \n-    protected JobQueueBatch createJobBatch(UUID jobID, UUID orgID, String providerID, List<String> patients, List<ResourceType> resourceTypes) {\n-        return new JobQueueBatch(jobID, orgID, providerID, patients, resourceTypes);\n+    protected JobQueueBatch createJobBatch(UUID jobID,\n+                                           UUID orgID,\n+                                           String providerID,\n+                                           List<String> patients,\n+                                           List<ResourceType> resourceTypes,\n+                                           OffsetDateTime since,\n+                                           OffsetDateTime transactionTime) {\n+        return new JobQueueBatch(jobID, orgID, providerID, patients, resourceTypes, since, transactionTime);\n+    }\n+\n+    protected List<JobQueueBatch> createEmptyBatch(UUID jobID,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15ddfdaec7d82c74b937027fb9ea8198f01489e0"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIyMzI5OA==", "bodyText": "@RickHawesUSDS is there a good refactoring for this?", "url": "https://github.com/CMSgov/dpc-app/pull/746#discussion_r410223298", "createdAt": "2020-04-17T13:30:35Z", "author": {"login": "dhgreene"}, "path": "dpc-queue/src/main/java/gov/cms/dpc/queue/JobQueueCommon.java", "diffHunk": "@@ -44,8 +49,25 @@ public UUID createJob(UUID orgID, String providerID, List<String> patients, List\n         return jobBatches.stream().map(JobQueueBatch::getJobID).findFirst().orElseThrow(() -> new JobQueueFailure(\"Unable to create job. No batches to submit.\"));\n     }\n \n-    protected JobQueueBatch createJobBatch(UUID jobID, UUID orgID, String providerID, List<String> patients, List<ResourceType> resourceTypes) {\n-        return new JobQueueBatch(jobID, orgID, providerID, patients, resourceTypes);\n+    protected JobQueueBatch createJobBatch(UUID jobID,\n+                                           UUID orgID,\n+                                           String providerID,\n+                                           List<String> patients,\n+                                           List<ResourceType> resourceTypes,\n+                                           OffsetDateTime since,\n+                                           OffsetDateTime transactionTime) {\n+        return new JobQueueBatch(jobID, orgID, providerID, patients, resourceTypes, since, transactionTime);\n+    }\n+\n+    protected List<JobQueueBatch> createEmptyBatch(UUID jobID,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY0MzgzNQ=="}, "originalCommit": {"oid": "15ddfdaec7d82c74b937027fb9ea8198f01489e0"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMDY2MzE3OnYy", "diffSide": "RIGHT", "path": "dpc-api/src/main/resources/dev.application.conf", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxODo0Mjo0NlrOGEwrRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxODo0Mjo0NlrOGEwrRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY0NDk5Ng==", "bodyText": "This section matches a similar section found in the dpc-aggregator.\n\n  \n    \n      dpc-app/dpc-aggregation/src/main/resources/dev.application.conf\n    \n    \n        Lines 16 to 23\n      in\n      49dc30e\n    \n    \n    \n    \n\n        \n          \n           bbclient { \n        \n\n        \n          \n             serverBaseUrl = ${BFD_URL} \n        \n\n        \n          \n            \n        \n\n        \n          \n             keyStore { \n        \n\n        \n          \n               location = ${BB_KEYSTORE_LOCATION} \n        \n\n        \n          \n               defaultPassword = ${BB_KEYSTORE_PASS} \n        \n\n        \n          \n             } \n        \n\n        \n          \n           }", "url": "https://github.com/CMSgov/dpc-app/pull/746#discussion_r407644996", "createdAt": "2020-04-13T18:42:46Z", "author": {"login": "RickHawesUSDS"}, "path": "dpc-api/src/main/resources/dev.application.conf", "diffHunk": "@@ -23,6 +23,16 @@ dpc.api {\n         applicationContextPath = \"/api\"\n     }\n \n+\n+    bbclient {\n+        serverBaseUrl = ${BFD_URL}\n+\n+        keyStore {\n+            location = ${BB_KEYSTORE_LOCATION}\n+            defaultPassword = ${BB_KEYSTORE_PASS}\n+        }\n+    }\n+\n     attributionURL = \"http://backend.dpc-dev.local:8080/v1/\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cf0c5e81d41acfda4e4c83de21132d1a2115b89"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNTY0MTE5OnYy", "diffSide": "RIGHT", "path": "src/test/EndToEndRequestTest.postman_collection.json", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQyMDo1MToxN1rOGFgbOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxMzozODowNlrOGF6FoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQyNzMyMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t\t\t\t\t\t\"// Status should be 204\",\n          \n          \n            \n            \t\t\t\t\t\t\t\t\t\"// Status should be 202\",\n          \n      \n    \n    \n  \n\nOr maybe just remove the comment; it's clear what the test is.", "url": "https://github.com/CMSgov/dpc-app/pull/746#discussion_r408427320", "createdAt": "2020-04-14T20:51:17Z", "author": {"login": "em1"}, "path": "src/test/EndToEndRequestTest.postman_collection.json", "diffHunk": "@@ -1219,6 +1219,146 @@\n \t\t\t\t\t\t\"description\": \"Request a subset of the EOB data to ensure range requests work correctly.\"\n \t\t\t\t\t},\n \t\t\t\t\t\"response\": []\n+\t\t\t\t},\n+\t\t\t\t{\n+\t\t\t\t\t\"name\": \"Try export with _since\",\n+\t\t\t\t\t\"event\": [\n+\t\t\t\t\t\t{\n+\t\t\t\t\t\t\t\"listen\": \"test\",\n+\t\t\t\t\t\t\t\"script\": {\n+\t\t\t\t\t\t\t\t\"id\": \"5497fa12-aefd-44c2-9254-2beb51c52e31\",\n+\t\t\t\t\t\t\t\t\"exec\": [\n+\t\t\t\t\t\t\t\t\t\"// Status should be 204\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15ddfdaec7d82c74b937027fb9ea8198f01489e0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODg0Nzc3Ng==", "bodyText": "Good catch. There is a lot of 202 vs 204 confusion in the file. Pushed a fix.", "url": "https://github.com/CMSgov/dpc-app/pull/746#discussion_r408847776", "createdAt": "2020-04-15T13:38:06Z", "author": {"login": "RickHawesUSDS"}, "path": "src/test/EndToEndRequestTest.postman_collection.json", "diffHunk": "@@ -1219,6 +1219,146 @@\n \t\t\t\t\t\t\"description\": \"Request a subset of the EOB data to ensure range requests work correctly.\"\n \t\t\t\t\t},\n \t\t\t\t\t\"response\": []\n+\t\t\t\t},\n+\t\t\t\t{\n+\t\t\t\t\t\"name\": \"Try export with _since\",\n+\t\t\t\t\t\"event\": [\n+\t\t\t\t\t\t{\n+\t\t\t\t\t\t\t\"listen\": \"test\",\n+\t\t\t\t\t\t\t\"script\": {\n+\t\t\t\t\t\t\t\t\"id\": \"5497fa12-aefd-44c2-9254-2beb51c52e31\",\n+\t\t\t\t\t\t\t\t\"exec\": [\n+\t\t\t\t\t\t\t\t\t\"// Status should be 204\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQyNzMyMA=="}, "originalCommit": {"oid": "15ddfdaec7d82c74b937027fb9ea8198f01489e0"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4858, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}