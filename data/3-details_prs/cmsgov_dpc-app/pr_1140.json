{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM3MjQwMzM1", "number": 1140, "title": "DPC-884: Luhnacy class", "bodyText": "Fixes DPC-884\n\nKnowledge about NPI's and how we deal with the Luhancy gem is spread many places now. To make the app simpler and to consolidate the Luhnacy methods, create a Luhnacy class.\nProposed Changes\n\n\nCreate a Luhnacy class\n\nChange Details\n\n\nAdjust spec tests\nAdjust existing methods to call to the LuhnacyLib class\nOnly two uses: creating & validating NPIs\n\nNotes\nI had it working locally but had difficulty in testing in deployment. Silvio was able to figure out the path for the lib file.\nSecurity Implications\n\n\n new software dependencies\n\n\n\n security controls or supporting software altered\n\n\n\n new data stored or transmitted\n\n\n\n security checklist is completed for this change\n\n\n\n requires more information or team discussion to evaluate security implications\n\n\n\n no PHI/PII is affected by this change\n\n\nAcceptance Validation\n\n\n\nFeedback Requested", "createdAt": "2020-12-11T18:21:21Z", "url": "https://github.com/CMSgov/dpc-app/pull/1140", "merged": true, "mergeCommit": {"oid": "96db215c9d0d1626c0aab1603d3f772e3d49643b"}, "closed": true, "closedAt": "2020-12-15T17:37:36Z", "author": {"login": "Sun-Mountain"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdk6TlwAH2gAyNTM3MjQwMzM1OmU5MTVjNmEwMDNkNzA0Yzc2ZTNlMDIwMDk0YmEwMTI1NDQyMmNjYzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmd3BPAFqTU1MjcwMjQ4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e915c6a003d704c76e3e020094ba01254422ccc3", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/e915c6a003d704c76e3e020094ba01254422ccc3", "committedDate": "2020-12-10T21:34:24Z", "message": "Luhnacy class in lib folder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "843378cfde2fc4bf770ad292fe9903212788f370", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/843378cfde2fc4bf770ad292fe9903212788f370", "committedDate": "2020-12-11T16:50:38Z", "message": "Add Luhnacy Lib in lib folder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30604949900800ff84ba66a2cec2d71e20fbd396", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/30604949900800ff84ba66a2cec2d71e20fbd396", "committedDate": "2020-12-11T18:14:56Z", "message": "change generate_npi in spec tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f31b0d25f0c60ff0aa983842506b9871f2ca9e7c", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/f31b0d25f0c60ff0aa983842506b9871f2ca9e7c", "committedDate": "2020-12-11T18:21:28Z", "message": "Merge branch 'master' into nz/dpc-884-luhnacy-class"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwNDQ4OTQ3", "url": "https://github.com/CMSgov/dpc-app/pull/1140#pullrequestreview-550448947", "createdAt": "2020-12-11T18:39:27Z", "commit": {"oid": "f31b0d25f0c60ff0aa983842506b9871f2ca9e7c"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxODozOToyOFrOIEFMFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxODozOToyOFrOIEFMGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTE1MDIzMA==", "bodyText": "Prefer single-quoted strings when you don't need string interpolation or special symbols.", "url": "https://github.com/CMSgov/dpc-app/pull/1140#discussion_r541150230", "createdAt": "2020-12-11T18:39:28Z", "author": {"login": "codeclimate"}, "path": "dpc-web/app/models/organization.rb", "diffHunk": "@@ -1,5 +1,7 @@\n # frozen_string_literal: true\n \n+require \"luhnacy_lib\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f31b0d25f0c60ff0aa983842506b9871f2ca9e7c"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTE1MDIzMw==", "bodyText": "Extra empty line detected at class body beginning.", "url": "https://github.com/CMSgov/dpc-app/pull/1140#discussion_r541150233", "createdAt": "2020-12-11T18:39:28Z", "author": {"login": "codeclimate"}, "path": "dpc-web/lib/luhnacy_lib.rb", "diffHunk": "@@ -0,0 +1,15 @@\n+# frozen_string_literal: true\n+\n+class LuhnacyLib\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f31b0d25f0c60ff0aa983842506b9871f2ca9e7c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTE1MDIzNA==", "bodyText": "Prefer single-quoted strings when you don't need string interpolation or special symbols.", "url": "https://github.com/CMSgov/dpc-app/pull/1140#discussion_r541150234", "createdAt": "2020-12-11T18:39:28Z", "author": {"login": "codeclimate"}, "path": "dpc-web/lib/tasks/generate_npis.rake", "diffHunk": "@@ -1,12 +1,14 @@\n # frozen_string_literal: true\n \n+require \"luhnacy_lib\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f31b0d25f0c60ff0aa983842506b9871f2ca9e7c"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b05dcaa7d1ada47fb4e49ba5011d6e12315703e3", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/b05dcaa7d1ada47fb4e49ba5011d6e12315703e3", "committedDate": "2020-12-11T18:46:44Z", "message": "Climate Code Changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d537cbecc7861d8034893e6b628f66eb26030f7", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/3d537cbecc7861d8034893e6b628f66eb26030f7", "committedDate": "2020-12-11T18:47:27Z", "message": "Merge branch 'nz/dpc-884-luhnacy-class' of github.com:CMSgov/dpc-app into nz/dpc-884-luhnacy-class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8993b976304d1fd4fef5bb007a53f4ccfdb0248", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/b8993b976304d1fd4fef5bb007a53f4ccfdb0248", "committedDate": "2020-12-11T19:05:15Z", "message": "Add LuhnacyLib test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee1636a56820802a64eed74a4a935fbcd2c2d633", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/ee1636a56820802a64eed74a4a935fbcd2c2d633", "committedDate": "2020-12-11T20:36:43Z", "message": "require luhnacy library"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6a48b4df79c51d53b541f7ec836bc07758d7154", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/f6a48b4df79c51d53b541f7ec836bc07758d7154", "committedDate": "2020-12-14T13:16:30Z", "message": "Require luhnacy lib path"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1753c0fef060f20730830b4f3146b62fc76995c", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/a1753c0fef060f20730830b4f3146b62fc76995c", "committedDate": "2020-12-14T13:16:59Z", "message": "Merge branch 'master' into nz/dpc-884-luhnacy-class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "919f9c7ebe56e07158a0534df4c952b1e1af6fd0", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/919f9c7ebe56e07158a0534df4c952b1e1af6fd0", "committedDate": "2020-12-14T13:40:34Z", "message": "Retrying lib path"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe8e0ecd3548c2f0b67cc5d584c716ac2511d465", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/fe8e0ecd3548c2f0b67cc5d584c716ac2511d465", "committedDate": "2020-12-14T13:40:39Z", "message": "Merge branch 'nz/dpc-884-luhnacy-class' of github.com:CMSgov/dpc-app into nz/dpc-884-luhnacy-class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47915d7231253aa5994aba0936a438468653e183", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/47915d7231253aa5994aba0936a438468653e183", "committedDate": "2020-12-14T14:05:09Z", "message": "Require luhnacy lib path change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eefd0aabbb4e4d8889554971f9c072399d4bc332", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/eefd0aabbb4e4d8889554971f9c072399d4bc332", "committedDate": "2020-12-14T14:22:27Z", "message": "Extend LuhnacyLib"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4196f1322e7c6894b9ae968b4353cf6c7a26948", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/b4196f1322e7c6894b9ae968b4353cf6c7a26948", "committedDate": "2020-12-14T15:21:04Z", "message": "include luhnacy lib"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99bab638ca7459b6e1522de5aed6ad1b332b88a2", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/99bab638ca7459b6e1522de5aed6ad1b332b88a2", "committedDate": "2020-12-14T15:36:54Z", "message": "Fix mispelling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbcbd86616cac42f499c23bb271f13d295b9111a", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/cbcbd86616cac42f499c23bb271f13d295b9111a", "committedDate": "2020-12-14T16:28:17Z", "message": "config routes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07fe12b6627ea9a1c7a35d0221aa7f1440f09d79", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/07fe12b6627ea9a1c7a35d0221aa7f1440f09d79", "committedDate": "2020-12-14T17:09:29Z", "message": "Change load paths"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d304061e74a5983445adc6d6f881634b3b0ed9d", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/3d304061e74a5983445adc6d6f881634b3b0ed9d", "committedDate": "2020-12-14T17:38:37Z", "message": "Autoload retry"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75c9ab59bba726f201aa4c81adb737b661968a13", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/75c9ab59bba726f201aa4c81adb737b661968a13", "committedDate": "2020-12-14T18:46:39Z", "message": "Require lib in model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c994990c230399950f6693d582a4d170c3434d71", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/c994990c230399950f6693d582a4d170c3434d71", "committedDate": "2020-12-14T19:19:23Z", "message": "Organization include library"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9501620969c53def446d2d5529ccb3a9f831cdb", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/a9501620969c53def446d2d5529ccb3a9f831cdb", "committedDate": "2020-12-14T19:37:44Z", "message": "Change class to module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67f1c5da0de2b3aa55dc3f3282745adf70736c2c", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/67f1c5da0de2b3aa55dc3f3282745adf70736c2c", "committedDate": "2020-12-14T20:43:47Z", "message": "New route paths"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4e511bd615f36195ce59782f948d5cdff7d19a7", "author": {"user": {"login": "SMLuthi", "name": null}}, "url": "https://github.com/CMSgov/dpc-app/commit/a4e511bd615f36195ce59782f948d5cdff7d19a7", "committedDate": "2020-12-14T21:54:42Z", "message": "Move luhnacy lib file under its own folder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50d75ba35cfc10b1b3b33fe851bd2e13a15a0516", "author": {"user": {"login": "SMLuthi", "name": null}}, "url": "https://github.com/CMSgov/dpc-app/commit/50d75ba35cfc10b1b3b33fe851bd2e13a15a0516", "committedDate": "2020-12-14T21:55:15Z", "message": "Update specs with missing luhnacy lib import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a716a5de5474db548975950333d1ee2552b4f205", "author": {"user": {"login": "SMLuthi", "name": null}}, "url": "https://github.com/CMSgov/dpc-app/commit/a716a5de5474db548975950333d1ee2552b4f205", "committedDate": "2020-12-14T21:55:35Z", "message": "Update org model import with luhnacy lib"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22d94a3e18d3c41d26e315de1c3e92c5314a4acd", "author": {"user": {"login": "SMLuthi", "name": null}}, "url": "https://github.com/CMSgov/dpc-app/commit/22d94a3e18d3c41d26e315de1c3e92c5314a4acd", "committedDate": "2020-12-14T21:55:58Z", "message": "Update generate npis rake task with luhnacy lib import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyNzAyNDg5", "url": "https://github.com/CMSgov/dpc-app/pull/1140#pullrequestreview-552702489", "createdAt": "2020-12-15T17:33:42Z", "commit": {"oid": "22d94a3e18d3c41d26e315de1c3e92c5314a4acd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 337, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}