{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzNTA5NzAw", "number": 954, "title": "DPC-234: Delete client tokens from web app", "bodyText": "Fixes DPC-234\nAs a user, I need the ability to remove one of my tokens so that I can rotate them or remove a lost token.\nThis will be on the website after login.\nAn API delete function already exists to do this but there is no UI.\nProposed Changes\n\nClient token delete function added.\nUI for web app\nResponse styling fixes\n\nChange Details\n\n\nUI\n\n\n\n\nResponsive styling fixes\n\n\n\n\nSecurity Implications\n\n\n new software dependencies\n\n\n\n security controls or supporting software altered\n\n\n\n new data stored or transmitted\n\n\n\n security checklist is completed for this change\n\n\n\n requires more information or team discussion to evaluate security implications\n\n\n\n no PHI/PII is affected by this change\n\n\nAcceptance Validation\n\n\nFeedback Requested", "createdAt": "2020-08-05T16:32:19Z", "url": "https://github.com/CMSgov/dpc-app/pull/954", "merged": true, "mergeCommit": {"oid": "0f36fe712024f67767c7b4a179ff65afa305cffa"}, "closed": true, "closedAt": "2020-08-14T18:13:21Z", "author": {"login": "Sun-Mountain"}, "timelineItems": {"totalCount": 49, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7TZ_eAH2gAyNDYzNTA5NzAwOjg3NDcxMzQ2NTQyOGYxY2RlYjI1M2JiYjVjYzJhNGY5N2I1YWNiZTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-4bdmAFqTQ2Nzc2Mjk5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "874713465428f1cdeb253bbb5cc2a4f97b5acbe0", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/874713465428f1cdeb253bbb5cc2a4f97b5acbe0", "committedDate": "2020-08-03T15:04:12Z", "message": "Init"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83df8b6796737391604fdae50367eb408c38870e", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/83df8b6796737391604fdae50367eb408c38870e", "committedDate": "2020-08-03T19:17:09Z", "message": "Client token delete function complete"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b805e9eb523d509ba3015b5048ddda82334fe339", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/b805e9eb523d509ba3015b5048ddda82334fe339", "committedDate": "2020-08-04T14:35:02Z", "message": "Styling progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f5dfbab3c467b5c0967c7e4b12c936cdff8293a", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/8f5dfbab3c467b5c0967c7e4b12c936cdff8293a", "committedDate": "2020-08-04T15:14:26Z", "message": "Styling progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "589109d8f66e65fe0f740a046aba23c1c10561a6", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/589109d8f66e65fe0f740a046aba23c1c10561a6", "committedDate": "2020-08-04T19:41:46Z", "message": "Styling progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee3c64b06c2a54d864664752488fc540362e0c47", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/ee3c64b06c2a54d864664752488fc540362e0c47", "committedDate": "2020-08-04T19:42:16Z", "message": "Up arrow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80af66ec53fcb2830ec3c41f80f9b96f0244c16e", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/80af66ec53fcb2830ec3c41f80f9b96f0244c16e", "committedDate": "2020-08-04T19:59:24Z", "message": "Styling progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2450fb80bf9814f2ada5f44aff56aa364484340b", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/2450fb80bf9814f2ada5f44aff56aa364484340b", "committedDate": "2020-08-05T13:57:22Z", "message": "Styling fix/progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31f7cb1153f384079f6d896c77eb2083bbfc787c", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/31f7cb1153f384079f6d896c77eb2083bbfc787c", "committedDate": "2020-08-05T14:11:59Z", "message": "Rever styling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6882f9a3097b3364824a6a181bd0ec34f5380de1", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/6882f9a3097b3364824a6a181bd0ec34f5380de1", "committedDate": "2020-08-05T14:12:59Z", "message": "Reverting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "219954e9336e69c36e0f407a10f4c57ec20d160b", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/219954e9336e69c36e0f407a10f4c57ec20d160b", "committedDate": "2020-08-05T14:29:42Z", "message": "Styling progress after revert"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3574c10b7eaaba459b737a58cca9195897e1a87b", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/3574c10b7eaaba459b737a58cca9195897e1a87b", "committedDate": "2020-08-05T15:09:46Z", "message": "Cancel button functionality"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23fa06ded8d8c6c49cb53910d8da0ff9001cbbcf", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/23fa06ded8d8c6c49cb53910d8da0ff9001cbbcf", "committedDate": "2020-08-05T16:24:48Z", "message": "Styling fin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "402a7710dbe3e15262aedd3540ab895e51c10e6d", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/402a7710dbe3e15262aedd3540ab895e51c10e6d", "committedDate": "2020-08-05T16:25:33Z", "message": "Collapse delete button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b57a94218f7ce9823d361c402dc82827109e1dc", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/2b57a94218f7ce9823d361c402dc82827109e1dc", "committedDate": "2020-08-05T16:31:24Z", "message": "Remove spec"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "359faf0c8bdf5bc33c45f0fd0bebcff7f7ba8158", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/359faf0c8bdf5bc33c45f0fd0bebcff7f7ba8158", "committedDate": "2020-08-05T16:33:46Z", "message": "Merge branch 'master' into nicole/dpc-234-delete-tokens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa36ad2c7e6663d31fffdedbafcb56a271bb720c", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/fa36ad2c7e6663d31fffdedbafcb56a271bb720c", "committedDate": "2020-08-05T16:37:13Z", "message": "Code climate"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4aa556b8cc7522b74feb91a000e6c1cc79ee900", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/d4aa556b8cc7522b74feb91a000e6c1cc79ee900", "committedDate": "2020-08-05T16:37:19Z", "message": "Merge branch 'nicole/dpc-234-delete-tokens' of github.com:CMSgov/dpc-app into nicole/dpc-234-delete-tokens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22e44c02d50dc8e73c3e438a8d935186003ca242", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/22e44c02d50dc8e73c3e438a8d935186003ca242", "committedDate": "2020-08-05T16:39:23Z", "message": "Delete angle-arrow-up.svg"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a633d0ee00d4efdf9e5b78a0700d6d7b2356d18e", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/a633d0ee00d4efdf9e5b78a0700d6d7b2356d18e", "committedDate": "2020-08-05T17:23:42Z", "message": "Small fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db83f70d9399b305a659f574226bfdcf37d996fb", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/db83f70d9399b305a659f574226bfdcf37d996fb", "committedDate": "2020-08-05T17:24:12Z", "message": "Merging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d5208c49c52fe83b8d8fa80498d4c9ca2f1653c", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/9d5208c49c52fe83b8d8fa80498d4c9ca2f1653c", "committedDate": "2020-08-05T17:29:56Z", "message": "Code Climate"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cd42e9976683c0c885bf6c38bba16e705bfc505", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/2cd42e9976683c0c885bf6c38bba16e705bfc505", "committedDate": "2020-08-06T12:30:11Z", "message": "Merge branch 'master' into nicole/dpc-234-delete-tokens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e0fae80e2c594695608c64f3d73945bb5445820", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/0e0fae80e2c594695608c64f3d73945bb5445820", "committedDate": "2020-08-06T12:58:07Z", "message": "Password gui quick fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90dcb1255c831f9712d6509561c548f94783e691", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/90dcb1255c831f9712d6509561c548f94783e691", "committedDate": "2020-08-12T20:07:22Z", "message": "Test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65f208b863f19776977a0d5d9d752e5e4e733842", "author": {"user": {"login": "MrMorie", "name": "Salvador"}}, "url": "https://github.com/CMSgov/dpc-app/commit/65f208b863f19776977a0d5d9d752e5e4e733842", "committedDate": "2020-08-12T22:17:23Z", "message": "Changed successful token deletion response from 200 to 204."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f0be82af5d06be2ea7fa83e7c6d225605a5b9b5", "author": {"user": {"login": "MrMorie", "name": "Salvador"}}, "url": "https://github.com/CMSgov/dpc-app/commit/9f0be82af5d06be2ea7fa83e7c6d225605a5b9b5", "committedDate": "2020-08-12T23:07:44Z", "message": "Merge branch 'master' into sg/DPC-588-update-token-delete-response"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9dc6777461febdad3b5d76c3523df36d7e6cd7e", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/a9dc6777461febdad3b5d76c3523df36d7e6cd7e", "committedDate": "2020-08-13T12:54:49Z", "message": "Merge branch 'master' into nicole/dpc-234-delete-tokens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2fd4832cc2257e077a41b469a0665ff640d58dfc", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/2fd4832cc2257e077a41b469a0665ff640d58dfc", "committedDate": "2020-08-13T13:51:53Z", "message": "Merge branch 'nicole/dpc-234-delete-tokens' of github.com:CMSgov/dpc-app into nicole/dpc-234-delete-tokens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fbd6739bec0875981ca3849a309c92efb7dc629", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/1fbd6739bec0875981ca3849a309c92efb7dc629", "committedDate": "2020-08-13T13:52:02Z", "message": "Merge branch 'sg/DPC-588-update-token-delete-response' into nicole/dpc-234-delete-tokens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d79f49c1242677560ff0ee01581c7f4c4bc63181", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/d79f49c1242677560ff0ee01581c7f4c4bc63181", "committedDate": "2020-08-13T13:52:39Z", "message": "Merge branch 'master' into nicole/dpc-234-delete-tokens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53973d4407b070ff9d4291f71b5c5dd122a16021", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/53973d4407b070ff9d4291f71b5c5dd122a16021", "committedDate": "2020-08-13T13:52:47Z", "message": "Merge branch 'nicole/dpc-234-delete-tokens' of github.com:CMSgov/dpc-app into nicole/dpc-234-delete-tokens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0644313ef60129ba4dc2b0d22d0d4fecf84b2a9b", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/0644313ef60129ba4dc2b0d22d0d4fecf84b2a9b", "committedDate": "2020-08-13T13:53:27Z", "message": "Test revert"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2acb5e0e83e69e33097a36f939e2f99b7d1fdc70", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/2acb5e0e83e69e33097a36f939e2f99b7d1fdc70", "committedDate": "2020-08-13T15:35:57Z", "message": "Update to accept new API repsonse for deleted token\n\nUpdate app to look for and accept 204 successful response for deleting token"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "956bdd3d825d3a063dd13e4830c886d2690f09bb", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/956bdd3d825d3a063dd13e4830c886d2690f09bb", "committedDate": "2020-08-13T17:50:21Z", "message": "Test work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5c6c170f2f900bcb4b37a59b15eac83d37bf24c", "author": {"user": {"login": "SMLuthi", "name": null}}, "url": "https://github.com/CMSgov/dpc-app/commit/f5c6c170f2f900bcb4b37a59b15eac83d37bf24c", "committedDate": "2020-08-13T18:25:44Z", "message": "Fix response_successful check in api client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25d56161efc29403f80e3032dead4be8b9c2eaf1", "author": {"user": {"login": "SMLuthi", "name": null}}, "url": "https://github.com/CMSgov/dpc-app/commit/25d56161efc29403f80e3032dead4be8b9c2eaf1", "committedDate": "2020-08-13T18:25:56Z", "message": "revert test changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f64296c6a909eb4e93630aebd5e52ebd118c19c9", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/f64296c6a909eb4e93630aebd5e52ebd118c19c9", "committedDate": "2020-08-13T18:36:14Z", "message": "Merge branch 'master' into nicole/dpc-234-delete-tokens"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MDQ3MDA0", "url": "https://github.com/CMSgov/dpc-app/pull/954#pullrequestreview-467047004", "createdAt": "2020-08-13T18:57:26Z", "commit": {"oid": "f64296c6a909eb4e93630aebd5e52ebd118c19c9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODo1NzoyNlrOHAZcTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODo1NzoyNlrOHAZcTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDE3ODg5Mw==", "bodyText": "Good.  Better would be to allow anything in the 20x range--201 and 202 are likely to be used, for instance.", "url": "https://github.com/CMSgov/dpc-app/pull/954#discussion_r470178893", "createdAt": "2020-08-13T18:57:26Z", "author": {"login": "dhgreene"}, "path": "dpc-web/app/services/api_client.rb", "diffHunk": "@@ -71,7 +77,7 @@ def get_public_keys(reg_org_api_id)\n   end\n \n   def response_successful?\n-    @response_status == 200\n+    [200, 204].include? @response_status", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f64296c6a909eb4e93630aebd5e52ebd118c19c9"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MDQ3NTM1", "url": "https://github.com/CMSgov/dpc-app/pull/954#pullrequestreview-467047535", "createdAt": "2020-08-13T18:58:16Z", "commit": {"oid": "f64296c6a909eb4e93630aebd5e52ebd118c19c9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODo1ODoxNlrOHAZeaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxODo1ODoxNlrOHAZeaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDE3OTQzMg==", "bodyText": "Does this need to be a call to response_successful? instead?", "url": "https://github.com/CMSgov/dpc-app/pull/954#discussion_r470179432", "createdAt": "2020-08-13T18:58:16Z", "author": {"login": "dhgreene"}, "path": "dpc-web/app/services/api_client.rb", "diffHunk": "@@ -97,9 +103,18 @@ def golden_macaroon\n   end\n \n   def parsed_response(response)\n+    return self if response.body.nil? && @response_status == 204", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f64296c6a909eb4e93630aebd5e52ebd118c19c9"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81137faaf1551ec5fe4edb4a2ffe0d9e3cc9dd4c", "author": {"user": {"login": "SMLuthi", "name": null}}, "url": "https://github.com/CMSgov/dpc-app/commit/81137faaf1551ec5fe4edb4a2ffe0d9e3cc9dd4c", "committedDate": "2020-08-13T19:22:10Z", "message": "Change nil to blank call for checking response body"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95b7e8cbd9992c81c8c4fc5a788bd3ea99b3355e", "author": {"user": {"login": "SMLuthi", "name": null}}, "url": "https://github.com/CMSgov/dpc-app/commit/95b7e8cbd9992c81c8c4fc5a788bd3ea99b3355e", "committedDate": "2020-08-13T19:22:26Z", "message": "Merge branch 'nicole/dpc-234-delete-tokens' of github.com:CMSgov/dpc-app into nicole/dpc-234-delete-tokens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "112c2e331f94d284b6593afca2eabf8eeb91d968", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/112c2e331f94d284b6593afca2eabf8eeb91d968", "committedDate": "2020-08-14T14:43:05Z", "message": "Merging"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3NjUyOTcw", "url": "https://github.com/CMSgov/dpc-app/pull/954#pullrequestreview-467652970", "createdAt": "2020-08-14T15:07:21Z", "commit": {"oid": "112c2e331f94d284b6593afca2eabf8eeb91d968"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxNTowNzoyMVrOHA4NjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxNTowNzoyMVrOHA4NjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDY4MzAyMA==", "bodyText": "Use Range#cover? instead of Range#include?.", "url": "https://github.com/CMSgov/dpc-app/pull/954#discussion_r470683020", "createdAt": "2020-08-14T15:07:21Z", "author": {"login": "codeclimate"}, "path": "dpc-web/app/services/api_client.rb", "diffHunk": "@@ -71,7 +77,7 @@ def get_public_keys(reg_org_api_id)\n   end\n \n   def response_successful?\n-    @response_status == 200\n+    (200...299).include? @response_status", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "112c2e331f94d284b6593afca2eabf8eeb91d968"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb449b6c111c4fcf81036e1ae70f142635f406de", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/cb449b6c111c4fcf81036e1ae70f142635f406de", "committedDate": "2020-08-14T16:49:06Z", "message": "Test fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3083720a01d89083969df7daa5066bd33d5bc45b", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/3083720a01d89083969df7daa5066bd33d5bc45b", "committedDate": "2020-08-14T16:54:40Z", "message": "Code Climate Check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41eb097a4fa577808a2de260bb95832d100684e0", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/41eb097a4fa577808a2de260bb95832d100684e0", "committedDate": "2020-08-14T16:55:31Z", "message": "Merge branch 'master' into nicole/dpc-234-delete-tokens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3e3c00ebc3c39ce9c3617774634fe4619a013da", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/f3e3c00ebc3c39ce9c3617774634fe4619a013da", "committedDate": "2020-08-14T17:39:41Z", "message": "Merge branch 'master' into nicole/dpc-234-delete-tokens"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3NzYyOTk4", "url": "https://github.com/CMSgov/dpc-app/pull/954#pullrequestreview-467762998", "createdAt": "2020-08-14T17:53:24Z", "commit": {"oid": "f3e3c00ebc3c39ce9c3617774634fe4619a013da"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxNzo1MzoyNFrOHA9i3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxNzo1MzoyNFrOHA9i3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc3MDM5Ng==", "bodyText": "Would this be a little cleaner?\nreturn render_error 'Label required.' unless params_present?\n\nif manager.create_client_token(label: params[:label])\n  @client_token = manager.client_token\n  render :show\n\nrender_error 'Client token could not be created.'", "url": "https://github.com/CMSgov/dpc-app/pull/954#discussion_r470770396", "createdAt": "2020-08-14T17:53:24Z", "author": {"login": "SMLuthi"}, "path": "dpc-web/app/controllers/client_tokens_controller.rb", "diffHunk": "@@ -6,42 +6,60 @@ class ClientTokensController < ApplicationController\n   rescue_from ActiveRecord::RecordNotFound, with: :unauthorized\n \n   def new\n-    @organization = current_user.organizations.find(params[:organization_id])\n+    @organization = current_user.organizations.find(org_id)\n   end\n \n   def create\n     @organization = current_user.organizations.find(params[:organization_id])\n \n     reg_org = @organization.registered_organization\n     manager = ClientTokenManager.new(registered_organization: reg_org)\n-    if missing_params\n-      render_error 'Label required.'\n-    elsif manager.create_client_token(label: params[:label])\n+\n+    if params_present? && manager.create_client_token(label: params[:label])", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3e3c00ebc3c39ce9c3617774634fe4619a013da"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 462, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}