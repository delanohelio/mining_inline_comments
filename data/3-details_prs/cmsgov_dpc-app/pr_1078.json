{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2MzgxODUw", "number": 1078, "title": "DPC-714 fix smoke tests", "bodyText": "Fixes DPC-714\nSmoke tests weren't ran before merging in DPC-714, so this ticket is fixing the smoke test by having the test expect operation outcomes.  This will be further refined in the future when we use non mock blue button client and can skip look back.\nProposed Changes\n\nremove the expectation that the job has no operation outcomes\nChange Details\n\nSecurity Implications\n\n\n new software dependencies\n\n\n\n security controls or supporting software altered\n\n\n\n new data stored or transmitted\n\n\n\n security checklist is completed for this change\n\n\n\n requires more information or team discussion to evaluate security implications\n\n\n\n no PHI/PII is affected by this change\n\n\nAcceptance Validation\n\n\nFeedback Requested", "createdAt": "2020-10-01T16:16:01Z", "url": "https://github.com/CMSgov/dpc-app/pull/1078", "merged": true, "mergeCommit": {"oid": "385ad4c7d36d6062bfa310363c3030107426ecea"}, "closed": true, "closedAt": "2020-10-01T19:28:26Z", "author": {"login": "MrBilnon"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOTs-pAH2gAyNDk2MzgxODUwOmY5YzkyODVhOTE2ZmRmZDNmNzNmZjJmZjU2ZGE3YTU3ZDA4ZWUzZDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOWmAcAFqTUwMDY1NjI2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f9c9285a916fdfd3f73ff2ff56da7a57d08ee3d0", "author": {"user": {"login": "MrBilnon", "name": "Will H"}}, "url": "https://github.com/CMSgov/dpc-app/commit/f9c9285a916fdfd3f73ff2ff56da7a57d08ee3d0", "committedDate": "2020-10-01T16:09:30Z", "message": "ignore expectation of errors for now"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNTI3NjU2", "url": "https://github.com/CMSgov/dpc-app/pull/1078#pullrequestreview-500527656", "createdAt": "2020-10-01T16:35:29Z", "commit": {"oid": "f9c9285a916fdfd3f73ff2ff56da7a57d08ee3d0"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNjozNToyOVrOHbSg2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNjozNToyOVrOHbSg2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM3NjkyMQ==", "bodyText": "is it possible to comment out the entire call to .peek()?", "url": "https://github.com/CMSgov/dpc-app/pull/1078#discussion_r498376921", "createdAt": "2020-10-01T16:35:29Z", "author": {"login": "jonfulk"}, "path": "dpc-smoketest/src/main/java/gov/cms/dpc/testing/smoketests/ClientUtils.java", "diffHunk": "@@ -62,8 +62,9 @@ static void handleExportJob(IGenericClient exportClient, List<String> providerNP\n                 .map(search -> (Group) search.getEntryFirstRep().getResource())\n                 .map(group -> jobCompletionLambda(exportClient, httpClient, group, overrideURL))\n                 .peek(jobResponse -> {\n-                    if (jobResponse.getError().size() > 0)\n-                        throw new IllegalStateException(\"Export job completed, but with errors\");\n+                    //TODO: ignore until we can skip lookback per request and switch over to use real bfd client\n+//                    if (jobResponse.getError().size() > 0)\n+//                        throw new IllegalStateException(\"Export job completed, but with errors\");\n                 })", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9c9285a916fdfd3f73ff2ff56da7a57d08ee3d0"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNTMyNTYy", "url": "https://github.com/CMSgov/dpc-app/pull/1078#pullrequestreview-500532562", "createdAt": "2020-10-01T16:41:44Z", "commit": {"oid": "f9c9285a916fdfd3f73ff2ff56da7a57d08ee3d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNjo0MTo0NFrOHbSuog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNjo0MTo0NFrOHbSuog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM4MDQ1MA==", "bodyText": "This block of commented-out lines of code should be removed.", "url": "https://github.com/CMSgov/dpc-app/pull/1078#discussion_r498380450", "createdAt": "2020-10-01T16:41:44Z", "author": {"login": "codeclimate"}, "path": "dpc-smoketest/src/main/java/gov/cms/dpc/testing/smoketests/ClientUtils.java", "diffHunk": "@@ -62,8 +62,9 @@ static void handleExportJob(IGenericClient exportClient, List<String> providerNP\n                 .map(search -> (Group) search.getEntryFirstRep().getResource())\n                 .map(group -> jobCompletionLambda(exportClient, httpClient, group, overrideURL))\n                 .peek(jobResponse -> {\n-                    if (jobResponse.getError().size() > 0)\n-                        throw new IllegalStateException(\"Export job completed, but with errors\");\n+                    //TODO: ignore until we can skip lookback per request and switch over to use real bfd client\n+//                    if (jobResponse.getError().size() > 0)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9c9285a916fdfd3f73ff2ff56da7a57d08ee3d0"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d697c704c5b895e80bf66f4b5268aa135566cc9d", "author": {"user": {"login": "MrBilnon", "name": "Will H"}}, "url": "https://github.com/CMSgov/dpc-app/commit/d697c704c5b895e80bf66f4b5268aa135566cc9d", "committedDate": "2020-10-01T16:55:58Z", "message": "comment out whole peek block"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNTY2MjMx", "url": "https://github.com/CMSgov/dpc-app/pull/1078#pullrequestreview-500566231", "createdAt": "2020-10-01T17:26:08Z", "commit": {"oid": "d697c704c5b895e80bf66f4b5268aa135566cc9d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNzoyNjowOFrOHbUNNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNzoyNjowOFrOHbUNNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQwNDY2MQ==", "bodyText": "This block of commented-out lines of code should be removed.", "url": "https://github.com/CMSgov/dpc-app/pull/1078#discussion_r498404661", "createdAt": "2020-10-01T17:26:08Z", "author": {"login": "codeclimate"}, "path": "dpc-smoketest/src/main/java/gov/cms/dpc/testing/smoketests/ClientUtils.java", "diffHunk": "@@ -61,10 +61,11 @@ static void handleExportJob(IGenericClient exportClient, List<String> providerNP\n                 .map(npi -> exportRequestDispatcher(exportClient, npi))\n                 .map(search -> (Group) search.getEntryFirstRep().getResource())\n                 .map(group -> jobCompletionLambda(exportClient, httpClient, group, overrideURL))\n-                .peek(jobResponse -> {\n-                    if (jobResponse.getError().size() > 0)\n-                        throw new IllegalStateException(\"Export job completed, but with errors\");\n-                })\n+                //TODO: ignore until we can skip lookback per request and switch over to use real bfd client\n+//                .peek(jobResponse -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d697c704c5b895e80bf66f4b5268aa135566cc9d"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfaa66f84ae7132a101d7fe646330cf27aed7a8e", "author": {"user": {"login": "MrBilnon", "name": "Will H"}}, "url": "https://github.com/CMSgov/dpc-app/commit/dfaa66f84ae7132a101d7fe646330cf27aed7a8e", "committedDate": "2020-10-01T17:56:54Z", "message": "Merge branch 'master' into wh/DPC-714-fix-smoke-tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNjMxNDcx", "url": "https://github.com/CMSgov/dpc-app/pull/1078#pullrequestreview-500631471", "createdAt": "2020-10-01T18:55:44Z", "commit": {"oid": "dfaa66f84ae7132a101d7fe646330cf27aed7a8e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNjU2MjY3", "url": "https://github.com/CMSgov/dpc-app/pull/1078#pullrequestreview-500656267", "createdAt": "2020-10-01T19:31:36Z", "commit": {"oid": "dfaa66f84ae7132a101d7fe646330cf27aed7a8e"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 281, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}