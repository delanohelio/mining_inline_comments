{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4NzAxOTcw", "number": 938, "title": "DPC-567 - change \"kind\" to \"instance\"", "bodyText": "Fixes DPC-567\n\nConformance tests failing due to missing operations in Metadata (CapabilityStatement)\n\nProposed Changes\n\nThe CapabilityStatement instance represents the present capabilities of a specific system instance. This is the kind returned by /metadata for a FHIR server end-point.\nIf kind = instance, \"implementation\" must be present and software may be present per rule\u00a0cpb-14,\u00a0so this fix adds an implementation element .\nThe conformance testing tool alerted that we also need to list the patient-export operation as well, which is the same as our patient-everything. Renamed that operation to match conformance tool expectations.\nChange Details\nhttp://hl7.org/fhir/capability-statement-kind\nhttp://hl7.org/fhir/valueset-capability-statement-kind.html (R4)\nhttps://www.hl7.org/fhir/stu3/valueset-capability-statement-kind.html. (STU3)\nhttp://hl7.org/fhir/codesystem-capability-statement-kind.html#capability-statement-kind-instance\nSecurity Implications\n\nNo\n\n new software dependencies\n\n\n\n security controls or supporting software altered\n\n\n\n new data stored or transmitted\n\n\n\n security checklist is completed for this change\n\n\n\n requires more information or team discussion to evaluate security implications\n\n\n\n[X ] no PHI/PII is affected by this change\n\n\nAcceptance Validation\nTested with BDT conformance tool (using version pinned to this commit: bc64ac546d309969034fca3c9f9a5a01d4d7563f)\n\nFeedback Requested\n\nGeneral", "createdAt": "2020-07-29T21:11:41Z", "url": "https://github.com/CMSgov/dpc-app/pull/938", "merged": true, "mergeCommit": {"oid": "0670dbd3466c9a29a7a0d54d0414ecf0d06bac57"}, "closed": true, "closedAt": "2020-10-30T10:48:21Z", "author": {"login": "richbraman"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8R_LgAFqTQ2MjY1Njk4OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXhGI8AH2gAyNDU4NzAxOTcwOmIzNDIwZDA1MTRiY2IxNjg2OWE3MWQyZDBmMjhmNGM0Mjk4MzQ4Mzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNjU2OTg4", "url": "https://github.com/CMSgov/dpc-app/pull/938#pullrequestreview-462656988", "createdAt": "2020-08-06T15:58:56Z", "commit": {"oid": "32867a1d4a6e18ca27c97fcd53d8232956c20500"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35f9671d93a40b80234732330fe44bb4f9971b7f", "author": {"user": {"login": "richbraman", "name": "Richard Braman"}}, "url": "https://github.com/CMSgov/dpc-app/commit/35f9671d93a40b80234732330fe44bb4f9971b7f", "committedDate": "2020-10-23T16:13:23Z", "message": "set \"kind\" to \"instance\" , added \"implementation\" with a \"description\" and a blank url.  the url will have to be filled in with code based on env."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3171f20005991f4bbc39b550987472073b107414", "author": {"user": {"login": "richbraman", "name": "Richard Braman"}}, "url": "https://github.com/CMSgov/dpc-app/commit/3171f20005991f4bbc39b550987472073b107414", "committedDate": "2020-10-23T16:13:23Z", "message": "add kind:instance implementation:description and url through injection"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dde2672dcaaeae9669d276692921cf37debc2eb8", "author": {"user": {"login": "richbraman", "name": "Richard Braman"}}, "url": "https://github.com/CMSgov/dpc-app/commit/dde2672dcaaeae9669d276692921cf37debc2eb8", "committedDate": "2020-08-06T15:59:56Z", "message": "Merge branch 'master' into rb/DPC-567"}, "afterCommit": {"oid": "3171f20005991f4bbc39b550987472073b107414", "author": {"user": {"login": "richbraman", "name": "Richard Braman"}}, "url": "https://github.com/CMSgov/dpc-app/commit/3171f20005991f4bbc39b550987472073b107414", "committedDate": "2020-10-23T16:13:23Z", "message": "add kind:instance implementation:description and url through injection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4086c29afa3f522cd1a88f829abe495f3a36cca2", "author": {"user": {"login": "jonfulk", "name": "M.Zola"}}, "url": "https://github.com/CMSgov/dpc-app/commit/4086c29afa3f522cd1a88f829abe495f3a36cca2", "committedDate": "2020-10-27T15:29:49Z", "message": "fix: mv `patient-everything` > `patient-export for conformance"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5NzQ3NDQw", "url": "https://github.com/CMSgov/dpc-app/pull/938#pullrequestreview-519747440", "createdAt": "2020-10-29T14:49:23Z", "commit": {"oid": "4086c29afa3f522cd1a88f829abe495f3a36cca2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNDo0OToyNFrOHqfhQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNDo0OToyNFrOHqfhQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMxODY1OA==", "bodyText": "shouldn't this be patient-everything?", "url": "https://github.com/CMSgov/dpc-app/pull/938#discussion_r514318658", "createdAt": "2020-10-29T14:49:24Z", "author": {"login": "MrBilnon"}, "path": "dpc-api/src/main/resources/DPCCapabilities.json", "diffHunk": "@@ -202,8 +202,8 @@\n           }\n         },\n         {\n-        \"name\": \"patient-everything\",\n-        \"definition\": { \n+        \"name\": \"patient-export\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4086c29afa3f522cd1a88f829abe495f3a36cca2"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11feb9829345732dc0d6ffa7401d30ad2a49f58e", "author": {"user": {"login": "jonfulk", "name": "M.Zola"}}, "url": "https://github.com/CMSgov/dpc-app/commit/11feb9829345732dc0d6ffa7401d30ad2a49f58e", "committedDate": "2020-10-29T15:09:37Z", "message": "Merge branch 'master' into rb/DPC-567"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f7478ea5fda0dae3a05bfbd95ff295a44b1f943", "author": {"user": {"login": "jonfulk", "name": "M.Zola"}}, "url": "https://github.com/CMSgov/dpc-app/commit/6f7478ea5fda0dae3a05bfbd95ff295a44b1f943", "committedDate": "2020-10-29T18:19:24Z", "message": "fix: revert change to `patient-everything` operation\nThe conformance tests will still pass when the `patientExportEndpoint`\nis not defined in the test config. The API does not support `patient-export`;\nonly `patient-everything`."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "700f6f767ec1828d56fe594ae022567364296c52", "author": {"user": {"login": "jonfulk", "name": "M.Zola"}}, "url": "https://github.com/CMSgov/dpc-app/commit/700f6f767ec1828d56fe594ae022567364296c52", "committedDate": "2020-10-29T18:22:21Z", "message": "Merge branch 'master' into rb/DPC-567"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMDA1MzQw", "url": "https://github.com/CMSgov/dpc-app/pull/938#pullrequestreview-520005340", "createdAt": "2020-10-29T19:30:26Z", "commit": {"oid": "700f6f767ec1828d56fe594ae022567364296c52"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3420d0514bcb16869a71d2d0f28f4c429834839", "author": {"user": {"login": "jonfulk", "name": "M.Zola"}}, "url": "https://github.com/CMSgov/dpc-app/commit/b3420d0514bcb16869a71d2d0f28f4c429834839", "committedDate": "2020-10-30T06:51:04Z", "message": "Merge branch 'master' into rb/DPC-567"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 448, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}