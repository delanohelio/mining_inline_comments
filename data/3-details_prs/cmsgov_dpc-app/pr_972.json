{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3MDUxMjEz", "number": 972, "title": "DPC-588 Feature: Changed successful token deletion response from 200 to 204.", "bodyText": "Fixes DPC-588\n\nDelete /Token/{id} endpoint returns a 200 with an empty body, outcome is not clear if it was successful or not.\nProposed Changes\n\nOriginal proposal was to include a body with a successful response, but after consulting with team we decided it was best to return a 204 (No Content) status code and an empty body.\nChange Details\nDelete /Token/{id} endpoint now returns a 204 when a token is successfully deleted.\nUpdate TokenResource and unit tests.\n\nSecurity Implications\n\n\n new software dependencies\n\n\n\n security controls or supporting software altered\n\n\n\n new data stored or transmitted\n\n\n\n security checklist is completed for this change\n\n\n\n requires more information or team discussion to evaluate security implications\n\n\n\n no PHI/PII is affected by this change\n\n\nAcceptance Validation\n\nYes, via integration test.\n\nFeedback Requested", "createdAt": "2020-08-12T23:06:07Z", "url": "https://github.com/CMSgov/dpc-app/pull/972", "merged": true, "mergeCommit": {"oid": "d8036443f92d3d06273e25496c1af44dff563f11"}, "closed": true, "closedAt": "2020-08-13T18:34:36Z", "author": {"login": "MrMorie"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-S_0TgH2gAyNDY3MDUxMjEzOjY1ZjIwOGI4NjNmMTk3NzY5NzdhMGQ1ZDlkNzUyZTVlNGU3MzM4NDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-iTCOgH2gAyNDY3MDUxMjEzOmZlZGY3ODk2NzYyZjg4Nzc4ODQ1MWY2Y2ZmZDkzMmM2MDYyZTZjYTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "65f208b863f19776977a0d5d9d752e5e4e733842", "author": {"user": {"login": "MrMorie", "name": "Salvador"}}, "url": "https://github.com/CMSgov/dpc-app/commit/65f208b863f19776977a0d5d9d752e5e4e733842", "committedDate": "2020-08-12T22:17:23Z", "message": "Changed successful token deletion response from 200 to 204."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f0be82af5d06be2ea7fa83e7c6d225605a5b9b5", "author": {"user": {"login": "MrMorie", "name": "Salvador"}}, "url": "https://github.com/CMSgov/dpc-app/commit/9f0be82af5d06be2ea7fa83e7c6d225605a5b9b5", "committedDate": "2020-08-12T23:07:44Z", "message": "Merge branch 'master' into sg/DPC-588-update-token-delete-response"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MzUwMTQ0", "url": "https://github.com/CMSgov/dpc-app/pull/972#pullrequestreview-466350144", "createdAt": "2020-08-12T23:49:43Z", "commit": {"oid": "9f0be82af5d06be2ea7fa83e7c6d225605a5b9b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2NzU3MzYy", "url": "https://github.com/CMSgov/dpc-app/pull/972#pullrequestreview-466757362", "createdAt": "2020-08-13T13:24:54Z", "commit": {"oid": "9f0be82af5d06be2ea7fa83e7c6d225605a5b9b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxMzoyNDo1NFrOHALXOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxMzoyNDo1NFrOHALXOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTk0ODIxOA==", "bodyText": "@Sun-Mountain Will this require a coordinated change to APIClient.response_successful? and perhaps other changes?", "url": "https://github.com/CMSgov/dpc-app/pull/972#discussion_r469948218", "createdAt": "2020-08-13T13:24:54Z", "author": {"login": "dhgreene"}, "path": "dpc-api/src/test/java/gov/cms/dpc/api/resources/v1/TokenResourceTest.java", "diffHunk": "@@ -152,7 +152,8 @@ void testTokenDeletion() throws IOException {\n             final HttpDelete httpDelete = new HttpDelete(getBaseURL() + String.format(\"/Token/%s\", token.getId()));\n             httpDelete.addHeader(HttpHeaders.AUTHORIZATION, String.format(\"Bearer %s\", this.fullyAuthedToken));\n             try (CloseableHttpResponse response = client.execute(httpDelete)) {\n-                assertEquals(HttpStatus.OK_200, response.getStatusLine().getStatusCode(), \"Should have succeeded\");\n+                assertEquals(HttpStatus.NO_CONTENT_204, response.getStatusLine().getStatusCode(), \"Should have succeeded with a 204 (No Content)\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f0be82af5d06be2ea7fa83e7c6d225605a5b9b5"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2NzgwMTc3", "url": "https://github.com/CMSgov/dpc-app/pull/972#pullrequestreview-466780177", "createdAt": "2020-08-13T13:50:23Z", "commit": {"oid": "9f0be82af5d06be2ea7fa83e7c6d225605a5b9b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fedf7896762f887788451f6cffd932c6062e6ca4", "author": {"user": {"login": "MrMorie", "name": "Salvador"}}, "url": "https://github.com/CMSgov/dpc-app/commit/fedf7896762f887788451f6cffd932c6062e6ca4", "committedDate": "2020-08-13T16:06:57Z", "message": "Merge branch 'master' into sg/DPC-588-update-token-delete-response"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 470, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}