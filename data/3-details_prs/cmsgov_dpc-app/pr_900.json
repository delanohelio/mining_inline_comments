{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3MDI4ODQ4", "number": 900, "title": "DPC-505: Remove sandbox_id in rails app", "bodyText": "Fixes DPC-505\nWe have decided to keep all environments separate with separate rails apps. This nullifies the use of the sandbox_id column only utilized in the prod-sbx environment for organization identifiers.\nProposed Changes\n\nremove sandbox_id column and functionality\ngenerate fake ids in the npi column in the prod-sbx environment\n\nChange Details / Migration Strategy\nNotify Nicole on successful deploy to prod-sbx so that she can generate the npis.\nSecurity Implications\n\n\n new software dependencies\n\n\n\n security controls or supporting software altered\n\n\n\n new data stored or transmitted\n\n\n\n security checklist is completed for this change\n\n\n\n requires more information or team discussion to evaluate security implications\n\n\n\n no PHI/PII is affected by this change\n\n\nAcceptance Validation\nSuccessfully deployed to dev environment and ran the rake task generate_npis.\n\nFeedback Requested\nN/A", "createdAt": "2020-07-09T18:38:27Z", "url": "https://github.com/CMSgov/dpc-app/pull/900", "merged": true, "mergeCommit": {"oid": "29704c7412beaabefd2e500971c8c740272b4ab4"}, "closed": true, "closedAt": "2020-07-17T13:12:17Z", "author": {"login": "Sun-Mountain"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczRisXAH2gAyNDQ3MDI4ODQ4OjQ0M2Q5MzNkYWIzZTc0YjkzZWM5NGM4OGZhMmE4ODVhZjQ0Njk4OTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1k-e_AFqTQ1MDE3OTAzNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "443d933dab3e74b93ec94c88fa2a885af4469894", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/443d933dab3e74b93ec94c88fa2a885af4469894", "committedDate": "2020-07-09T16:22:30Z", "message": "Init"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a41c81e4b184b8bc8a20b8ae98ec44698748f19", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/0a41c81e4b184b8bc8a20b8ae98ec44698748f19", "committedDate": "2020-07-09T16:43:15Z", "message": "Removed sandbox_id methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce25229d59128c7babf1ecfedbfef940978a95fa", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/ce25229d59128c7babf1ecfedbfef940978a95fa", "committedDate": "2020-07-09T16:43:32Z", "message": "rake tasks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9cad794b7aa4f6272598785e7f2482297ef68cb4", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/9cad794b7aa4f6272598785e7f2482297ef68cb4", "committedDate": "2020-07-09T16:57:47Z", "message": "Remove external identifier from spec tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ec33a36a5e6cd1590821a098a8aa330b94d5200", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/9ec33a36a5e6cd1590821a098a8aa330b94d5200", "committedDate": "2020-07-09T17:44:32Z", "message": "spec test fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0c0c17da6748c78edd03634990df22e5aff042a", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/f0c0c17da6748c78edd03634990df22e5aff042a", "committedDate": "2020-07-09T18:01:34Z", "message": "spec tests fixed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d81068f48a8ea73ed871422a4228b9a2a398ae20", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/d81068f48a8ea73ed871422a4228b9a2a398ae20", "committedDate": "2020-07-09T18:16:03Z", "message": "remove sandbox_id column"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NjkwMDU0", "url": "https://github.com/CMSgov/dpc-app/pull/900#pullrequestreview-446690054", "createdAt": "2020-07-10T20:44:13Z", "commit": {"oid": "d81068f48a8ea73ed871422a4228b9a2a398ae20"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQyMDo0NDoxM1rOGwFGyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQyMDo0NDoxM1rOGwFGyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzA2ODQ4OA==", "bodyText": "Can you briefly explain how we plan to run this migration in our AWS environments, especially prod-sbx and prod?", "url": "https://github.com/CMSgov/dpc-app/pull/900#discussion_r453068488", "createdAt": "2020-07-10T20:44:13Z", "author": {"login": "dhgreene"}, "path": "dpc-web/db/migrate/20200709181216_remove_sandbox_id_from_organizations.rb", "diffHunk": "@@ -0,0 +1,5 @@\n+class RemoveSandboxIdFromOrganizations < ActiveRecord::Migration[6.0]\n+  def change\n+    remove_column :organizations, :sandbox_id", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d81068f48a8ea73ed871422a4228b9a2a398ae20"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64224673f7f9673db9741c7c190e445045db5d23", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/64224673f7f9673db9741c7c190e445045db5d23", "committedDate": "2020-07-16T18:00:57Z", "message": "Merge branch 'master' into nicole/dpc-505-sandbox-id"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bd236298a8f50ded5298eb96a450e9db42d466c", "author": {"user": {"login": "Sun-Mountain", "name": "Nicole Zonnenberg"}}, "url": "https://github.com/CMSgov/dpc-app/commit/2bd236298a8f50ded5298eb96a450e9db42d466c", "committedDate": "2020-07-16T19:44:47Z", "message": "Merge branch 'master' into nicole/dpc-505-sandbox-id"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMTc5MDM1", "url": "https://github.com/CMSgov/dpc-app/pull/900#pullrequestreview-450179035", "createdAt": "2020-07-16T20:08:54Z", "commit": {"oid": "2bd236298a8f50ded5298eb96a450e9db42d466c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 407, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}