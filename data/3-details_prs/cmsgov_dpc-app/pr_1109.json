{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0MTc1MDQw", "number": 1109, "title": "DPC-848: Update CI to use Github Actions instead of Travis", "bodyText": "Fixes DPC-848\nRecently, the global workload on Travis has begun to affect our project, in that our project's jobs sit in the Travis queue for an excessive amount of time.  This causes a delay of several hours in the CI feedback loop.\nProposed Changes\nDeprecate Travis and replace with Github Actions.\nChange Details\n\nRemoved the .travis.yml configuration file\nAdded the Github Actions configuration file (ci-workflow.yml)\n\nSecurity Implications\n\n new software dependencies\n security controls or supporting software altered\n new data stored or transmitted\n security checklist is completed for this change\n\n\nSecurity checklist can be found here.\n\n\n requires more information or team discussion to evaluate security implications\n no PHI/PII is affected by this change\n\nAcceptance Validation\nThe CI workflow in Github Actions succeeded here.\nFeedback Requested\nPlease review.", "createdAt": "2020-11-02T16:27:59Z", "url": "https://github.com/CMSgov/dpc-app/pull/1109", "merged": true, "mergeCommit": {"oid": "e0e3363102cd23b20c0312058079fbf5ce99da36"}, "closed": true, "closedAt": "2020-11-02T19:02:44Z", "author": {"login": "msnook"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYTnFJAH2gAyNTE0MTc1MDQwOmU1ODNhZTAzNDNjODMzZWJkMWQ5ZjEzZjlhY2FiYzEyNzYzNjBhOTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYpTJFAFqTUyMTkxMjAxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e583ae0343c833ebd1d9f13f9acabc1276360a94", "author": {"user": {"login": "msnook", "name": "Matt Snook"}}, "url": "https://github.com/CMSgov/dpc-app/commit/e583ae0343c833ebd1d9f13f9acabc1276360a94", "committedDate": "2020-11-01T17:42:18Z", "message": "DPC-848: Use Github Actions instead of Travis for CI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f64928d9e9c60552d1d1eee0024e833c348cfdd", "author": {"user": {"login": "msnook", "name": "Matt Snook"}}, "url": "https://github.com/CMSgov/dpc-app/commit/2f64928d9e9c60552d1d1eee0024e833c348cfdd", "committedDate": "2020-11-01T17:50:56Z", "message": "DPC-848: Use Github Actions instead of Travis for CI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e23cf7941c7abbbb69acaf9859b0e2843e9197f5", "author": {"user": {"login": "msnook", "name": "Matt Snook"}}, "url": "https://github.com/CMSgov/dpc-app/commit/e23cf7941c7abbbb69acaf9859b0e2843e9197f5", "committedDate": "2020-11-01T20:23:16Z", "message": "DPC-848: Remove travis target from Makefile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17ac6df918838483f9faa230b5c8b24a84029f62", "author": {"user": {"login": "msnook", "name": "Matt Snook"}}, "url": "https://github.com/CMSgov/dpc-app/commit/17ac6df918838483f9faa230b5c8b24a84029f62", "committedDate": "2020-11-01T20:27:43Z", "message": "DPC-848: Set up JDK 11"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc631345afb534105a94c0a8da3f9fd33ae5fffc", "author": {"user": {"login": "msnook", "name": "Matt Snook"}}, "url": "https://github.com/CMSgov/dpc-app/commit/bc631345afb534105a94c0a8da3f9fd33ae5fffc", "committedDate": "2020-11-01T20:59:07Z", "message": "DPC-848: Set up JDK 11.0.2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce47eb954799abbac4aaf36e1db86975ae87a0bb", "author": {"user": {"login": "msnook", "name": "Matt Snook"}}, "url": "https://github.com/CMSgov/dpc-app/commit/ce47eb954799abbac4aaf36e1db86975ae87a0bb", "committedDate": "2020-11-01T21:46:47Z", "message": "DPC-848: Set vault password"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66a33b567495dc41b237aa8e1b3912ee8ac9c0b3", "author": {"user": {"login": "msnook", "name": "Matt Snook"}}, "url": "https://github.com/CMSgov/dpc-app/commit/66a33b567495dc41b237aa8e1b3912ee8ac9c0b3", "committedDate": "2020-11-01T23:07:28Z", "message": "DPC-848: No need to explicitly set .vault_password"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "526c9cf5671322ee60f880ea2cb0a4d5261c9175", "author": {"user": {"login": "msnook", "name": "Matt Snook"}}, "url": "https://github.com/CMSgov/dpc-app/commit/526c9cf5671322ee60f880ea2cb0a4d5261c9175", "committedDate": "2020-11-02T00:00:40Z", "message": "DPC-848: Run builds in parallel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "164b0a29c4fc165a477e4bf5984bf53f65f75d3c", "author": {"user": {"login": "msnook", "name": "Matt Snook"}}, "url": "https://github.com/CMSgov/dpc-app/commit/164b0a29c4fc165a477e4bf5984bf53f65f75d3c", "committedDate": "2020-11-02T15:56:15Z", "message": "DPC-848: Remove unused env vars"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2a1b58fef7407f2299ac77b07da573d772c5b3b", "author": {"user": {"login": "msnook", "name": "Matt Snook"}}, "url": "https://github.com/CMSgov/dpc-app/commit/a2a1b58fef7407f2299ac77b07da573d772c5b3b", "committedDate": "2020-11-02T16:29:10Z", "message": "Merge branch 'master' into msnook/dpc-848"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxODEyMDE5", "url": "https://github.com/CMSgov/dpc-app/pull/1109#pullrequestreview-521812019", "createdAt": "2020-11-02T16:50:07Z", "commit": {"oid": "a2a1b58fef7407f2299ac77b07da573d772c5b3b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNjo1MDowN1rOHsM4Nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNjo1MDowN1rOHsM4Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjExMDM5MQ==", "bodyText": "I'm surprised for the web app that we need Java and Python.  Ruby, yes.", "url": "https://github.com/CMSgov/dpc-app/pull/1109#discussion_r516110391", "createdAt": "2020-11-02T16:50:07Z", "author": {"login": "dhgreene"}, "path": ".github/workflows/ci-workflow.yml", "diffHunk": "@@ -0,0 +1,44 @@\n+name: \"DPC CI Workflow\"\n+\n+on: [push]\n+\n+env:\n+  VAULT_PW: ${{ secrets.VAULT_PW }}\n+  REPORT_COVERAGE: true\n+  CC_TEST_REPORTER_ID: ${{ secrets.CC_TEST_REPORTER_ID }}\n+\n+jobs:\n+  build-api:\n+    name: \"Build and Test API\"\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: \"Checkout code\"\n+        uses: actions/checkout@v1\n+      - name: \"Set up JDK 11\" \n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: '11.0.2'\n+      - name: \"Set up Python 3.8.1\"\n+        uses: actions/setup-python@v2\n+        with:\n+          python-version: '3.8.1'\n+      - name: \"API Build\"\n+        run: |\n+          make ci-app\n+  build-web:\n+    name: \"Build and Test Website\"\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: \"Checkout code\"\n+        uses: actions/checkout@v1\n+      - name: \"Set up JDK 11\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2a1b58fef7407f2299ac77b07da573d772c5b3b"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fc42cae768155f0dbc8cec60abe45c8700aeda5", "author": {"user": {"login": "msnook", "name": "Matt Snook"}}, "url": "https://github.com/CMSgov/dpc-app/commit/5fc42cae768155f0dbc8cec60abe45c8700aeda5", "committedDate": "2020-11-02T16:56:20Z", "message": "DPC-848: Remove Java and Python from webapp build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01d13650d0e4f9b1b4a96db69aedebd61e66a86d", "author": {"user": {"login": "msnook", "name": "Matt Snook"}}, "url": "https://github.com/CMSgov/dpc-app/commit/01d13650d0e4f9b1b4a96db69aedebd61e66a86d", "committedDate": "2020-11-02T16:56:40Z", "message": "Merge branch 'msnook/dpc-848' of github.com:CMSgov/dpc-app into msnook/dpc-848"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxOTEyMDEy", "url": "https://github.com/CMSgov/dpc-app/pull/1109#pullrequestreview-521912012", "createdAt": "2020-11-02T18:58:26Z", "commit": {"oid": "01d13650d0e4f9b1b4a96db69aedebd61e66a86d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 312, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}