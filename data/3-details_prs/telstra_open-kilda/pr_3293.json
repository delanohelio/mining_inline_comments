{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5MTY4MjU1", "number": 3293, "title": "Implement flow read in v2 over nbworker", "bodyText": "Added:\n\n/v2/flows\n/v2/flows/{flow_id}\n/v2/flows{flow_id}/status\n\nChanged:\n\n/v1/flows\n/v1/flows/{flow-id}\n/v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\nlogic is moved to nb-worker topology\nRelated-With: #3291", "createdAt": "2020-03-16T11:28:18Z", "url": "https://github.com/telstra/open-kilda/pull/3293", "merged": true, "mergeCommit": {"oid": "a40ec778cdfb3b1820e1f451ca61dcd8881e98ab"}, "closed": true, "closedAt": "2020-04-07T10:08:31Z", "author": {"login": "timofei-durakov"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcONKdqgFqTM3NTE1OTU3OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVOFNPgH2gAyMzg5MTY4MjU1OmJlYTljODY2MTlkNDlhNGEzZGIwMmUxMjczYWQyZDg2YmVlOGQ1MjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1MTU5NTc4", "url": "https://github.com/telstra/open-kilda/pull/3293#pullrequestreview-375159578", "createdAt": "2020-03-16T12:18:46Z", "commit": {"oid": "0c218f069a3ad42fe25f13a02f31addcdca74fa3"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMjoxODo0NlrOF2xVRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMjoyMDoxMFrOF2xX9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk3NTY4Nw==", "bodyText": "I think error message is wrong.\nconnected devices", "url": "https://github.com/telstra/open-kilda/pull/3293#discussion_r392975687", "createdAt": "2020-03-16T12:18:46Z", "author": {"login": "niksv"}, "path": "src-java/nbworker-topology/nbworker-storm-topology/src/main/java/org/openkilda/wfm/topology/nbworker/bolts/FlowOperationsBolt.java", "diffHunk": "@@ -237,6 +243,25 @@ public void init() {\n         return Collections.singletonList(response);\n     }\n \n+    private List<FlowResponse> processFlowReadRequest(FlowReadRequest readRequest) {\n+        try {\n+            Flow f = flowOperationsService.getFlow(readRequest.getFlowId());\n+            FlowDto dto = FlowMapper.INSTANCE.map(f);\n+            FlowResponse response = new FlowResponse(dto);\n+            return Collections.singletonList(response);\n+        } catch (FlowNotFoundException e) {\n+            throw new MessageException(ErrorType.NOT_FOUND, e.getMessage(),\n+                    \"Could not get connected devices for non existent flow\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c218f069a3ad42fe25f13a02f31addcdca74fa3"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk3NjM3Mw==", "bodyText": "flow-id please use flow_id like in other V2 API", "url": "https://github.com/telstra/open-kilda/pull/3293#discussion_r392976373", "createdAt": "2020-03-16T12:20:10Z", "author": {"login": "niksv"}, "path": "src-java/northbound-service/northbound/src/main/java/org/openkilda/northbound/controller/v2/FlowControllerV2.java", "diffHunk": "@@ -78,6 +81,31 @@\n         return flowService.deleteFlowV2(flowId);\n     }\n \n+    /**\n+     * Gets flow.\n+     *\n+     * @param flowId        flow id\n+     * @return flow\n+     */\n+    @ApiOperation(value = \"Gets flow\", response = FlowResponsePayload.class)\n+    @GetMapping(value = \"/{flow-id:.+}\")\n+    @ResponseStatus(HttpStatus.OK)\n+    public CompletableFuture<FlowResponseV2> getFlow(@PathVariable(name = \"flow-id\") String flowId) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c218f069a3ad42fe25f13a02f31addcdca74fa3"}, "originalPosition": 37}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0c218f069a3ad42fe25f13a02f31addcdca74fa3", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/0c218f069a3ad42fe25f13a02f31addcdca74fa3", "committedDate": "2020-03-16T11:23:42Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow-id}\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "8a94089e3c36bc44acb5b63e2e36d04fbecf0eb7", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/8a94089e3c36bc44acb5b63e2e36d04fbecf0eb7", "committedDate": "2020-03-17T07:28:19Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow-id}\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8a94089e3c36bc44acb5b63e2e36d04fbecf0eb7", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/8a94089e3c36bc44acb5b63e2e36d04fbecf0eb7", "committedDate": "2020-03-17T07:28:19Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow-id}\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "353d85b30207599e1b6d8c03f1834aa61438c980", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/353d85b30207599e1b6d8c03f1834aa61438c980", "committedDate": "2020-03-17T07:43:55Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1ODAxNjU4", "url": "https://github.com/telstra/open-kilda/pull/3293#pullrequestreview-375801658", "createdAt": "2020-03-17T07:50:20Z", "commit": {"oid": "353d85b30207599e1b6d8c03f1834aa61438c980"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "353d85b30207599e1b6d8c03f1834aa61438c980", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/353d85b30207599e1b6d8c03f1834aa61438c980", "committedDate": "2020-03-17T07:43:55Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "0eb8fb68110734b9b1cbd3bf03477de594e5ecb0", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/0eb8fb68110734b9b1cbd3bf03477de594e5ecb0", "committedDate": "2020-03-17T08:00:18Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1ODA5Nzgy", "url": "https://github.com/telstra/open-kilda/pull/3293#pullrequestreview-375809782", "createdAt": "2020-03-17T08:05:21Z", "commit": {"oid": "0eb8fb68110734b9b1cbd3bf03477de594e5ecb0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0eb8fb68110734b9b1cbd3bf03477de594e5ecb0", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/0eb8fb68110734b9b1cbd3bf03477de594e5ecb0", "committedDate": "2020-03-17T08:00:18Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "9b5fc642ad7412da2c55330ff86fdc2392bb032a", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/9b5fc642ad7412da2c55330ff86fdc2392bb032a", "committedDate": "2020-03-17T11:03:13Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9b5fc642ad7412da2c55330ff86fdc2392bb032a", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/9b5fc642ad7412da2c55330ff86fdc2392bb032a", "committedDate": "2020-03-17T11:03:13Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "8d839f8563ef8b8fac55238a5dd7965bfff6c308", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/8d839f8563ef8b8fac55238a5dd7965bfff6c308", "committedDate": "2020-03-18T09:19:10Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2NzI1NzAw", "url": "https://github.com/telstra/open-kilda/pull/3293#pullrequestreview-376725700", "createdAt": "2020-03-18T10:14:57Z", "commit": {"oid": "8d839f8563ef8b8fac55238a5dd7965bfff6c308"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMDoxNDo1N1rOF3-TCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMDoxNToxM1rOF3-TnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIzNjY4MQ==", "bodyText": "FlowResponseV2", "url": "https://github.com/telstra/open-kilda/pull/3293#discussion_r394236681", "createdAt": "2020-03-18T10:14:57Z", "author": {"login": "rtretyak"}, "path": "src-java/northbound-service/northbound/src/main/java/org/openkilda/northbound/controller/v2/FlowControllerV2.java", "diffHunk": "@@ -78,6 +82,43 @@\n         return flowService.deleteFlowV2(flowId);\n     }\n \n+    /**\n+     * Gets flow.\n+     *\n+     * @param flowId        flow id\n+     * @return flow\n+     */\n+    @ApiOperation(value = \"Gets flow\", response = FlowResponsePayload.class)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d839f8563ef8b8fac55238a5dd7965bfff6c308"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIzNjgyOA==", "bodyText": "FlowResponseV2", "url": "https://github.com/telstra/open-kilda/pull/3293#discussion_r394236828", "createdAt": "2020-03-18T10:15:13Z", "author": {"login": "rtretyak"}, "path": "src-java/northbound-service/northbound/src/main/java/org/openkilda/northbound/controller/v2/FlowControllerV2.java", "diffHunk": "@@ -78,6 +82,43 @@\n         return flowService.deleteFlowV2(flowId);\n     }\n \n+    /**\n+     * Gets flow.\n+     *\n+     * @param flowId        flow id\n+     * @return flow\n+     */\n+    @ApiOperation(value = \"Gets flow\", response = FlowResponsePayload.class)\n+    @GetMapping(value = \"/{flow_id:.+}\")\n+    @ResponseStatus(HttpStatus.OK)\n+    public CompletableFuture<FlowResponseV2> getFlow(@PathVariable(name = \"flow_id\") String flowId) {\n+        return flowService.getFlowV2(flowId);\n+    }\n+\n+    /**\n+     * Dumps all flows. Dumps all flows with specific status if specified.\n+     *\n+     * @return list of flow\n+     */\n+    @ApiOperation(value = \"Dumps all flows\", response = FlowResponsePayload.class, responseContainer = \"List\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d839f8563ef8b8fac55238a5dd7965bfff6c308"}, "originalPosition": 47}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8d839f8563ef8b8fac55238a5dd7965bfff6c308", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/8d839f8563ef8b8fac55238a5dd7965bfff6c308", "committedDate": "2020-03-18T09:19:10Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "bede76b5b73934ac5baf7e8e2260eedf913852bf", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/bede76b5b73934ac5baf7e8e2260eedf913852bf", "committedDate": "2020-03-18T13:49:14Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bede76b5b73934ac5baf7e8e2260eedf913852bf", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/bede76b5b73934ac5baf7e8e2260eedf913852bf", "committedDate": "2020-03-18T13:49:14Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "ccec0145a3feaf47052ded3abc843accd0ff92ab", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/ccec0145a3feaf47052ded3abc843accd0ff92ab", "committedDate": "2020-03-19T06:34:05Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ccec0145a3feaf47052ded3abc843accd0ff92ab", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/ccec0145a3feaf47052ded3abc843accd0ff92ab", "committedDate": "2020-03-19T06:34:05Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "976bd08d8769edb7300d042c3b48970c94171123", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/976bd08d8769edb7300d042c3b48970c94171123", "committedDate": "2020-03-19T07:27:59Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "976bd08d8769edb7300d042c3b48970c94171123", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/976bd08d8769edb7300d042c3b48970c94171123", "committedDate": "2020-03-19T07:27:59Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "ed385911dedea0be67fc204c381847d25311db30", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/ed385911dedea0be67fc204c381847d25311db30", "committedDate": "2020-03-20T07:27:08Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ed385911dedea0be67fc204c381847d25311db30", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/ed385911dedea0be67fc204c381847d25311db30", "committedDate": "2020-03-20T07:27:08Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "5b5aa3a022cead5bf2e9c0f1168757544957b2da", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/5b5aa3a022cead5bf2e9c0f1168757544957b2da", "committedDate": "2020-03-20T08:00:51Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5b5aa3a022cead5bf2e9c0f1168757544957b2da", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/5b5aa3a022cead5bf2e9c0f1168757544957b2da", "committedDate": "2020-03-20T08:00:51Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "28c5069e1da3b16fed083a70664b8937a4cab524", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/28c5069e1da3b16fed083a70664b8937a4cab524", "committedDate": "2020-03-20T16:00:04Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "28c5069e1da3b16fed083a70664b8937a4cab524", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/28c5069e1da3b16fed083a70664b8937a4cab524", "committedDate": "2020-03-20T16:00:04Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "fd2d1c095fb949b6ab3fe710ba56af82bace6585", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/fd2d1c095fb949b6ab3fe710ba56af82bace6585", "committedDate": "2020-03-23T12:47:04Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMTExNTUy", "url": "https://github.com/telstra/open-kilda/pull/3293#pullrequestreview-380111552", "createdAt": "2020-03-24T09:02:23Z", "commit": {"oid": "fd2d1c095fb949b6ab3fe710ba56af82bace6585"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQwOTowMjoyM1rOF6mnWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQwOToxMjoyM1rOF6m-FA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk5NDM5Mg==", "bodyText": "nit: as per the convention, it should be \"flow_id\"", "url": "https://github.com/telstra/open-kilda/pull/3293#discussion_r396994392", "createdAt": "2020-03-24T09:02:23Z", "author": {"login": "sergii-iakovenko"}, "path": "src-java/nbworker-topology/nbworker-messaging/src/main/java/org/openkilda/messaging/nbtopology/request/FlowReadRequest.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/* Copyright 2020 Telstra Open Source\n+ *\n+ *   Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *   you may not use this file except in compliance with the License.\n+ *   You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *   Unless required by applicable law or agreed to in writing, software\n+ *   distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *   See the License for the specific language governing permissions and\n+ *   limitations under the License.\n+ */\n+\n+package org.openkilda.messaging.nbtopology.request;\n+\n+import com.fasterxml.jackson.annotation.JsonCreator;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import lombok.EqualsAndHashCode;\n+import lombok.Value;\n+\n+/**\n+ * Represents flow read northbound request.\n+ */\n+@Value\n+@EqualsAndHashCode(callSuper = false)\n+public class FlowReadRequest extends FlowsBaseRequest {\n+\n+    private static final long serialVersionUID = 1L;\n+\n+    @JsonProperty(\"flowid\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd2d1c095fb949b6ab3fe710ba56af82bace6585"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzAwMDIxMg==", "bodyText": "nit: does it make sense to have a dedicated mapper for PathStatus?", "url": "https://github.com/telstra/open-kilda/pull/3293#discussion_r397000212", "createdAt": "2020-03-24T09:12:23Z", "author": {"login": "sergii-iakovenko"}, "path": "src-java/northbound-service/northbound/src/main/java/org/openkilda/northbound/converter/FlowMapper.java", "diffHunk": "@@ -215,9 +219,13 @@ default String encodeFlowState(FlowState state) {\n         return state.getState();\n     }\n \n+    @Mapping(target = \"mainPath\", source = \"mainFlowPathStatus\")\n+    @Mapping(target = \"protectedPath\", source = \"protectedFlowPathStatus\")\n+    PathStatus map(FlowStatusDetails flowStatusDetails);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd2d1c095fb949b6ab3fe710ba56af82bace6585"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMTIxMTAw", "url": "https://github.com/telstra/open-kilda/pull/3293#pullrequestreview-380121100", "createdAt": "2020-03-24T09:15:18Z", "commit": {"oid": "fd2d1c095fb949b6ab3fe710ba56af82bace6585"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63915809a503cf8a2eae797f95fc87967215e7fc", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/63915809a503cf8a2eae797f95fc87967215e7fc", "committedDate": "2020-03-25T10:31:39Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fd2d1c095fb949b6ab3fe710ba56af82bace6585", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/fd2d1c095fb949b6ab3fe710ba56af82bace6585", "committedDate": "2020-03-23T12:47:04Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "63915809a503cf8a2eae797f95fc87967215e7fc", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/63915809a503cf8a2eae797f95fc87967215e7fc", "committedDate": "2020-03-25T10:31:39Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c17f09efbdef072ca3ebf93b5bd5d93a792b2d9", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/0c17f09efbdef072ca3ebf93b5bd5d93a792b2d9", "committedDate": "2020-03-25T10:44:16Z", "message": "Change existing v2 tests to use v2 flow read APIs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "63915809a503cf8a2eae797f95fc87967215e7fc", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/63915809a503cf8a2eae797f95fc87967215e7fc", "committedDate": "2020-03-25T10:31:39Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "a3132daa8ca835b9c37542698ac99e682efe7f85", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/a3132daa8ca835b9c37542698ac99e682efe7f85", "committedDate": "2020-03-26T09:54:11Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a3132daa8ca835b9c37542698ac99e682efe7f85", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/a3132daa8ca835b9c37542698ac99e682efe7f85", "committedDate": "2020-03-26T09:54:11Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}, "afterCommit": {"oid": "6df7821633d4b4c83c70dc55801edf12f80a1cec", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/6df7821633d4b4c83c70dc55801edf12f80a1cec", "committedDate": "2020-03-27T16:05:04Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1545c38d8225e6696c693d6ae4586295eb793ba1", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/1545c38d8225e6696c693d6ae4586295eb793ba1", "committedDate": "2020-04-06T10:25:42Z", "message": "Merge pull request #3311 from telstra/functional/read_flows_v2\n\nChange existing v2 tests to use v2 flow read APIs"}, "afterCommit": {"oid": "010b3f18aaf5b2228ca6cc84d2c893631d2c8552", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/010b3f18aaf5b2228ca6cc84d2c893631d2c8552", "committedDate": "2020-04-06T10:29:25Z", "message": "Change existing v2 tests to use v2 flow read APIs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5b988f859ead212d104156e7b51b55ba186ec69", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/a5b988f859ead212d104156e7b51b55ba186ec69", "committedDate": "2020-04-06T15:00:47Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "010b3f18aaf5b2228ca6cc84d2c893631d2c8552", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/010b3f18aaf5b2228ca6cc84d2c893631d2c8552", "committedDate": "2020-04-06T10:29:25Z", "message": "Change existing v2 tests to use v2 flow read APIs"}, "afterCommit": {"oid": "a5b988f859ead212d104156e7b51b55ba186ec69", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/a5b988f859ead212d104156e7b51b55ba186ec69", "committedDate": "2020-04-06T15:00:47Z", "message": "Implement flow read in v2 over nbworker\n\nAdded:\n- /v2/flows\n- /v2/flows/{flow_id}\n- /v2/flows{flow_id}/status\nChanged:\n- /v1/flows\n- /v1/flows/{flow-id}\n- /v1/flows/{flow-id}/status\n\nv1 api started using nbworker topology for read requests as well\n\nlogic is moved to nb-worker topology\n\nRelated-With: #3291"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6e28011fd0a401180d25877246854a48a9db95c", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/c6e28011fd0a401180d25877246854a48a9db95c", "committedDate": "2020-04-06T19:05:59Z", "message": "Merge branch 'functional/read_flows_v2' into flow_v2_read"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1caeb981c45115697d2bf547b79724f33ef6dad5", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/1caeb981c45115697d2bf547b79724f33ef6dad5", "committedDate": "2020-04-06T18:16:36Z", "message": "Merge branch 'functional/read_flows_v2' into flow_v2_read"}, "afterCommit": {"oid": "c6e28011fd0a401180d25877246854a48a9db95c", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/c6e28011fd0a401180d25877246854a48a9db95c", "committedDate": "2020-04-06T19:05:59Z", "message": "Merge branch 'functional/read_flows_v2' into flow_v2_read"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bea9c86619d49a4a3db02e1273ad2d86bee8d520", "author": {"user": {"login": "timofei-durakov", "name": "Timofey Durakov"}}, "url": "https://github.com/telstra/open-kilda/commit/bea9c86619d49a4a3db02e1273ad2d86bee8d520", "committedDate": "2020-04-07T07:22:51Z", "message": "Fix for Unable to load NODE issue during flow read"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3666, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}