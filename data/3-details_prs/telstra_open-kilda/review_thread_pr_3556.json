{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3OTk1MzI0", "number": 3556, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwNzo1OToxNVrOEIQnVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwODowMDozMlrOEIQpEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3MDk2Mjc5OnYy", "diffSide": "RIGHT", "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/flows/QinQFlowSpec.groovy", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwNzo1OToxNVrOGoHL4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMDoxMzo1MlrOGpbiOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxMzk1NQ==", "bodyText": "How 'one-sw flow is not pingable' is related to this qinq test?", "url": "https://github.com/telstra/open-kilda/pull/3556#discussion_r444713955", "createdAt": "2020-06-24T07:59:15Z", "author": {"login": "rtretyak"}, "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/flows/QinQFlowSpec.groovy", "diffHunk": "@@ -248,11 +248,12 @@ class QinQFlowSpec extends HealthCheckSpecification {\n             it.destination.innerVlanId == (dstVlanId ? dstInnerVlanId : 0)\n         }\n \n-        and: \"Flow is valid and pingable\"\n+        and: \"Flow is valid and not pingable\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30f4ddabc6803b10b8ed9934f6f00f38d469d9e6"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDczMDU1Ng==", "bodyText": "just checked pingLogic is the same as for other kind of flow", "url": "https://github.com/telstra/open-kilda/pull/3556#discussion_r444730556", "createdAt": "2020-06-24T08:28:45Z", "author": {"login": "andriidovhan"}, "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/flows/QinQFlowSpec.groovy", "diffHunk": "@@ -248,11 +248,12 @@ class QinQFlowSpec extends HealthCheckSpecification {\n             it.destination.innerVlanId == (dstVlanId ? dstInnerVlanId : 0)\n         }\n \n-        and: \"Flow is valid and pingable\"\n+        and: \"Flow is valid and not pingable\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxMzk1NQ=="}, "originalCommit": {"oid": "30f4ddabc6803b10b8ed9934f6f00f38d469d9e6"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjAzNDY1NQ==", "bodyText": "ok, but can this be rephrased somehow? Right now it looks like we are expecting a broken/not-working flow.\nand: \"Flow is valid\"\n...\nand: \"Unable to ping a one-switch qinq flow\"", "url": "https://github.com/telstra/open-kilda/pull/3556#discussion_r446034655", "createdAt": "2020-06-26T08:11:15Z", "author": {"login": "rtretyak"}, "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/flows/QinQFlowSpec.groovy", "diffHunk": "@@ -248,11 +248,12 @@ class QinQFlowSpec extends HealthCheckSpecification {\n             it.destination.innerVlanId == (dstVlanId ? dstInnerVlanId : 0)\n         }\n \n-        and: \"Flow is valid and pingable\"\n+        and: \"Flow is valid and not pingable\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxMzk1NQ=="}, "originalCommit": {"oid": "30f4ddabc6803b10b8ed9934f6f00f38d469d9e6"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA5NTkyOQ==", "bodyText": "it makes sense,\nfixed", "url": "https://github.com/telstra/open-kilda/pull/3556#discussion_r446095929", "createdAt": "2020-06-26T10:13:52Z", "author": {"login": "andriidovhan"}, "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/flows/QinQFlowSpec.groovy", "diffHunk": "@@ -248,11 +248,12 @@ class QinQFlowSpec extends HealthCheckSpecification {\n             it.destination.innerVlanId == (dstVlanId ? dstInnerVlanId : 0)\n         }\n \n-        and: \"Flow is valid and pingable\"\n+        and: \"Flow is valid and not pingable\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxMzk1NQ=="}, "originalCommit": {"oid": "30f4ddabc6803b10b8ed9934f6f00f38d469d9e6"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3MDk2NzIyOnYy", "diffSide": "RIGHT", "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/flows/VxlanFlowSpec.groovy", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwODowMDozMlrOGoHOqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwODozMzo1N1rOGoIYlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxNDY2Nw==", "bodyText": "I don't understand this. Just remove this ping verification because it is no longer valid. Why you should explicitly show that you are unable to ping 1-switch flow in every test, especially not ping-related?", "url": "https://github.com/telstra/open-kilda/pull/3556#discussion_r444714667", "createdAt": "2020-06-24T08:00:32Z", "author": {"login": "rtretyak"}, "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/flows/VxlanFlowSpec.groovy", "diffHunk": "@@ -483,8 +483,9 @@ class VxlanFlowSpec extends HealthCheckSpecification {\n \n         and: \"Flow is pingable\"\n         verifyAll(northbound.pingFlow(flow.id, new PingInput())) {\n-            it.forward.pingSuccess\n-            it.reverse.pingSuccess\n+            !forward\n+            !reverse\n+            error == \"Flow ${flow.id} should not be one switch flow\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30f4ddabc6803b10b8ed9934f6f00f38d469d9e6"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDczMzU4OA==", "bodyText": "deleted in tests for APIv1", "url": "https://github.com/telstra/open-kilda/pull/3556#discussion_r444733588", "createdAt": "2020-06-24T08:33:57Z", "author": {"login": "andriidovhan"}, "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/flows/VxlanFlowSpec.groovy", "diffHunk": "@@ -483,8 +483,9 @@ class VxlanFlowSpec extends HealthCheckSpecification {\n \n         and: \"Flow is pingable\"\n         verifyAll(northbound.pingFlow(flow.id, new PingInput())) {\n-            it.forward.pingSuccess\n-            it.reverse.pingSuccess\n+            !forward\n+            !reverse\n+            error == \"Flow ${flow.id} should not be one switch flow\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxNDY2Nw=="}, "originalCommit": {"oid": "30f4ddabc6803b10b8ed9934f6f00f38d469d9e6"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1882, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}