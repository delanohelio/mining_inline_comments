{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwNzY3NzAy", "number": 3712, "title": "Per ISL BFD properties", "bodyText": "Add ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request.", "createdAt": "2020-09-06T13:33:15Z", "url": "https://github.com/telstra/open-kilda/pull/3712", "merged": true, "mergeCommit": {"oid": "b9741461c77499ff31ff34c93eed2d0244d4c954"}, "closed": true, "closedAt": "2020-10-28T13:47:21Z", "author": {"login": "surabujin"}, "timelineItems": {"totalCount": 37, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdGQdBtABqjM3MzQxNTg0NzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdVXN93gBqjM5MTQxNTA1MTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e78d61c8dd4a12e88e870abf8a5e9dc3c02336f7", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/e78d61c8dd4a12e88e870abf8a5e9dc3c02336f7", "committedDate": "2020-09-06T13:30:17Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "a7810deb56c18a26e2d355b61ee200b7b2ba737c", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/a7810deb56c18a26e2d355b61ee200b7b2ba737c", "committedDate": "2020-09-06T15:50:44Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a7810deb56c18a26e2d355b61ee200b7b2ba737c", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/a7810deb56c18a26e2d355b61ee200b7b2ba737c", "committedDate": "2020-09-06T15:50:44Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/2c662bd120dc6cda374384efa70492539bd4e7cd", "committedDate": "2020-09-07T15:24:27Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1MDU3NDYw", "url": "https://github.com/telstra/open-kilda/pull/3712#pullrequestreview-485057460", "createdAt": "2020-09-09T14:17:28Z", "commit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "state": "APPROVED", "comments": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNDoyMToxNVrOHPJzLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNToxNzoxMFrOHPMdFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY1MTI0Ng==", "bodyText": "As for me readBfdProperties and writeBfdProperties is better methods naming.", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r485651246", "createdAt": "2020-09-09T14:21:15Z", "author": {"login": "rozdy"}, "path": "src-java/nbworker-topology/nbworker-storm-topology/src/main/java/org/openkilda/wfm/topology/nbworker/services/LinkOperationsService.java", "diffHunk": "@@ -150,44 +157,75 @@ public LinkOperationsService(ILinkOperationsServiceCarrier carrier,\n         return isls;\n     }\n \n+    /**\n+     * Read ISL bfd properties.\n+     */\n+    public BfdPropertiesResponse bfdPropertiesRead(Endpoint source, Endpoint destination) throws IslNotFoundException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY1MTcyMQ==", "bodyText": "Please update javadoc.", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r485651721", "createdAt": "2020-09-09T14:21:51Z", "author": {"login": "rozdy"}, "path": "src-java/nbworker-topology/nbworker-storm-topology/src/main/java/org/openkilda/wfm/topology/nbworker/services/LinkOperationsService.java", "diffHunk": "@@ -150,44 +157,75 @@ public LinkOperationsService(ILinkOperationsServiceCarrier carrier,\n         return isls;\n     }\n \n+    /**\n+     * Read ISL bfd properties.\n+     */\n+    public BfdPropertiesResponse bfdPropertiesRead(Endpoint source, Endpoint destination) throws IslNotFoundException {\n+        Isl link = findIsl(source, destination);\n+        return LinkMapper.INSTANCE.responseMap(\n+                link, bfdPropertiesReadEffective(source), bfdPropertiesReadEffective(destination));\n+    }\n+\n     /**\n      * Update the \"Under maintenance\" flag in ISL.\n      *\n      * @throws IslNotFoundException if there is no isl with these parameters.\n      */\n-    public Collection<Isl> updateEnableBfdFlag(Endpoint source, Endpoint destination, boolean flagValue)\n-            throws IslNotFoundException {\n-        return transactionManager.doInTransaction(() -> {\n-            List<Isl> processed = new ArrayList<>(2);\n-            boolean madeChange;\n-            madeChange = updateUniIslEnableBfdFlag(source, destination, flagValue, processed);\n-            madeChange |= updateUniIslEnableBfdFlag(destination, source, flagValue, processed);\n+    public BfdPropertiesResponse bfdPropertiesWrite(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 69}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY1MzUyMg==", "bodyText": "Rename responseMap to mapResponse.", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r485653522", "createdAt": "2020-09-09T14:24:12Z", "author": {"login": "rozdy"}, "path": "src-java/nbworker-topology/nbworker-storm-topology/src/main/java/org/openkilda/wfm/share/mappers/LinkMapper.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/* Copyright 2020 Telstra Open Source\n+ *\n+ *   Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *   you may not use this file except in compliance with the License.\n+ *   You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *   Unless required by applicable law or agreed to in writing, software\n+ *   distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *   See the License for the specific language governing permissions and\n+ *   limitations under the License.\n+ */\n+\n+package org.openkilda.wfm.share.mappers;\n+\n+import org.openkilda.messaging.model.NetworkEndpoint;\n+import org.openkilda.messaging.nbtopology.response.BfdPropertiesResponse;\n+import org.openkilda.model.BfdProperties;\n+import org.openkilda.model.Isl;\n+\n+import org.mapstruct.Mapper;\n+import org.mapstruct.Mapping;\n+import org.mapstruct.factory.Mappers;\n+\n+@Mapper\n+public abstract class LinkMapper {\n+    public static final LinkMapper INSTANCE = Mappers.getMapper(LinkMapper.class);\n+\n+    /**\n+     * Convert {@link Isl} into {@link BfdPropertiesResponse}.\n+     */\n+    public BfdPropertiesResponse responseMap(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY1NjQxOA==", "bodyText": "Rename bfdPropertiesReadEffective -> readBfdPropertiesByEndpoint.", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r485656418", "createdAt": "2020-09-09T14:27:54Z", "author": {"login": "rozdy"}, "path": "src-java/nbworker-topology/nbworker-storm-topology/src/main/java/org/openkilda/wfm/topology/nbworker/services/LinkOperationsService.java", "diffHunk": "@@ -150,44 +157,75 @@ public LinkOperationsService(ILinkOperationsServiceCarrier carrier,\n         return isls;\n     }\n \n+    /**\n+     * Read ISL bfd properties.\n+     */\n+    public BfdPropertiesResponse bfdPropertiesRead(Endpoint source, Endpoint destination) throws IslNotFoundException {\n+        Isl link = findIsl(source, destination);\n+        return LinkMapper.INSTANCE.responseMap(\n+                link, bfdPropertiesReadEffective(source), bfdPropertiesReadEffective(destination));\n+    }\n+\n     /**\n      * Update the \"Under maintenance\" flag in ISL.\n      *\n      * @throws IslNotFoundException if there is no isl with these parameters.\n      */\n-    public Collection<Isl> updateEnableBfdFlag(Endpoint source, Endpoint destination, boolean flagValue)\n-            throws IslNotFoundException {\n-        return transactionManager.doInTransaction(() -> {\n-            List<Isl> processed = new ArrayList<>(2);\n-            boolean madeChange;\n-            madeChange = updateUniIslEnableBfdFlag(source, destination, flagValue, processed);\n-            madeChange |= updateUniIslEnableBfdFlag(destination, source, flagValue, processed);\n+    public BfdPropertiesResponse bfdPropertiesWrite(\n+            Endpoint source, Endpoint destination, BfdProperties properties) throws IslNotFoundException {\n+        Isl link = transactionManager.doInTransaction(() -> bfdPropertiesWriteGoal(\n+                source, destination, properties));\n+        return LinkMapper.INSTANCE.responseMap(\n+                link, bfdPropertiesReadEffective(source), bfdPropertiesReadEffective(destination));\n+    }\n \n-            if (processed.size() != 2) {\n-                throw new IslNotFoundException(source, destination);\n-            }\n-            if (madeChange) {\n-                carrier.islBfdFlagChanged(processed.get(0));\n-            }\n+    private Isl findIsl(Endpoint leftEnd, Endpoint rightEnd) throws IslNotFoundException {\n+        return islRepository.findByEndpoints(\n+                leftEnd.getDatapath(), leftEnd.getPortNumber(), rightEnd.getDatapath(), rightEnd.getPortNumber())\n+                .orElseThrow(() -> new IslNotFoundException(leftEnd, rightEnd));\n+    }\n \n-            return processed;\n-        });\n+    private BfdProperties bfdPropertiesReadEffective(Endpoint endpoint) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY1OTYwOQ==", "bodyText": "Rename bfdPropertiesWriteGoal to writeBfdPropertiesGoal.", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r485659609", "createdAt": "2020-09-09T14:31:54Z", "author": {"login": "rozdy"}, "path": "src-java/nbworker-topology/nbworker-storm-topology/src/main/java/org/openkilda/wfm/topology/nbworker/services/LinkOperationsService.java", "diffHunk": "@@ -150,44 +157,75 @@ public LinkOperationsService(ILinkOperationsServiceCarrier carrier,\n         return isls;\n     }\n \n+    /**\n+     * Read ISL bfd properties.\n+     */\n+    public BfdPropertiesResponse bfdPropertiesRead(Endpoint source, Endpoint destination) throws IslNotFoundException {\n+        Isl link = findIsl(source, destination);\n+        return LinkMapper.INSTANCE.responseMap(\n+                link, bfdPropertiesReadEffective(source), bfdPropertiesReadEffective(destination));\n+    }\n+\n     /**\n      * Update the \"Under maintenance\" flag in ISL.\n      *\n      * @throws IslNotFoundException if there is no isl with these parameters.\n      */\n-    public Collection<Isl> updateEnableBfdFlag(Endpoint source, Endpoint destination, boolean flagValue)\n-            throws IslNotFoundException {\n-        return transactionManager.doInTransaction(() -> {\n-            List<Isl> processed = new ArrayList<>(2);\n-            boolean madeChange;\n-            madeChange = updateUniIslEnableBfdFlag(source, destination, flagValue, processed);\n-            madeChange |= updateUniIslEnableBfdFlag(destination, source, flagValue, processed);\n+    public BfdPropertiesResponse bfdPropertiesWrite(\n+            Endpoint source, Endpoint destination, BfdProperties properties) throws IslNotFoundException {\n+        Isl link = transactionManager.doInTransaction(() -> bfdPropertiesWriteGoal(\n+                source, destination, properties));\n+        return LinkMapper.INSTANCE.responseMap(\n+                link, bfdPropertiesReadEffective(source), bfdPropertiesReadEffective(destination));\n+    }\n \n-            if (processed.size() != 2) {\n-                throw new IslNotFoundException(source, destination);\n-            }\n-            if (madeChange) {\n-                carrier.islBfdFlagChanged(processed.get(0));\n-            }\n+    private Isl findIsl(Endpoint leftEnd, Endpoint rightEnd) throws IslNotFoundException {\n+        return islRepository.findByEndpoints(\n+                leftEnd.getDatapath(), leftEnd.getPortNumber(), rightEnd.getDatapath(), rightEnd.getPortNumber())\n+                .orElseThrow(() -> new IslNotFoundException(leftEnd, rightEnd));\n+    }\n \n-            return processed;\n-        });\n+    private BfdProperties bfdPropertiesReadEffective(Endpoint endpoint) {\n+        return bfdSessionRepository.findBySwitchIdAndPhysicalPort(endpoint.getDatapath(), endpoint.getPortNumber())\n+                .map(IslMapper.INSTANCE::readBfdProperties)\n+                .orElse(new BfdProperties());\n     }\n \n-    private boolean updateUniIslEnableBfdFlag(\n-            Endpoint leftEnd, Endpoint rightEnd, boolean flagValue, List<Isl> processed) {\n+    private Isl bfdPropertiesWriteGoal(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 99}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY2MDQ4Mg==", "bodyText": "And here.", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r485660482", "createdAt": "2020-09-09T14:33:02Z", "author": {"login": "rozdy"}, "path": "src-java/nbworker-topology/nbworker-storm-topology/src/main/java/org/openkilda/wfm/topology/nbworker/services/LinkOperationsService.java", "diffHunk": "@@ -150,44 +157,75 @@ public LinkOperationsService(ILinkOperationsServiceCarrier carrier,\n         return isls;\n     }\n \n+    /**\n+     * Read ISL bfd properties.\n+     */\n+    public BfdPropertiesResponse bfdPropertiesRead(Endpoint source, Endpoint destination) throws IslNotFoundException {\n+        Isl link = findIsl(source, destination);\n+        return LinkMapper.INSTANCE.responseMap(\n+                link, bfdPropertiesReadEffective(source), bfdPropertiesReadEffective(destination));\n+    }\n+\n     /**\n      * Update the \"Under maintenance\" flag in ISL.\n      *\n      * @throws IslNotFoundException if there is no isl with these parameters.\n      */\n-    public Collection<Isl> updateEnableBfdFlag(Endpoint source, Endpoint destination, boolean flagValue)\n-            throws IslNotFoundException {\n-        return transactionManager.doInTransaction(() -> {\n-            List<Isl> processed = new ArrayList<>(2);\n-            boolean madeChange;\n-            madeChange = updateUniIslEnableBfdFlag(source, destination, flagValue, processed);\n-            madeChange |= updateUniIslEnableBfdFlag(destination, source, flagValue, processed);\n+    public BfdPropertiesResponse bfdPropertiesWrite(\n+            Endpoint source, Endpoint destination, BfdProperties properties) throws IslNotFoundException {\n+        Isl link = transactionManager.doInTransaction(() -> bfdPropertiesWriteGoal(\n+                source, destination, properties));\n+        return LinkMapper.INSTANCE.responseMap(\n+                link, bfdPropertiesReadEffective(source), bfdPropertiesReadEffective(destination));\n+    }\n \n-            if (processed.size() != 2) {\n-                throw new IslNotFoundException(source, destination);\n-            }\n-            if (madeChange) {\n-                carrier.islBfdFlagChanged(processed.get(0));\n-            }\n+    private Isl findIsl(Endpoint leftEnd, Endpoint rightEnd) throws IslNotFoundException {\n+        return islRepository.findByEndpoints(\n+                leftEnd.getDatapath(), leftEnd.getPortNumber(), rightEnd.getDatapath(), rightEnd.getPortNumber())\n+                .orElseThrow(() -> new IslNotFoundException(leftEnd, rightEnd));\n+    }\n \n-            return processed;\n-        });\n+    private BfdProperties bfdPropertiesReadEffective(Endpoint endpoint) {\n+        return bfdSessionRepository.findBySwitchIdAndPhysicalPort(endpoint.getDatapath(), endpoint.getPortNumber())\n+                .map(IslMapper.INSTANCE::readBfdProperties)\n+                .orElse(new BfdProperties());\n     }\n \n-    private boolean updateUniIslEnableBfdFlag(\n-            Endpoint leftEnd, Endpoint rightEnd, boolean flagValue, List<Isl> processed) {\n+    private Isl bfdPropertiesWriteGoal(\n+            Endpoint source, Endpoint destination, BfdProperties properties) throws IslNotFoundException {\n+        List<Isl> processed = new ArrayList<>(2);\n+        boolean madeChange;\n+        madeChange = bfdPropertiesWriteGoal(source, destination, properties, processed);\n+        madeChange |= bfdPropertiesWriteGoal(destination, source, properties, processed);\n+\n+        if (processed.size() != 2) {\n+            throw new IslNotFoundException(source, destination);\n+        }\n+        if (madeChange) {\n+            carrier.islBfdPropertiesChanged(source, destination);\n+        }\n+\n+        return processed.get(0);\n+    }\n+\n+    private boolean bfdPropertiesWriteGoal(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 116}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY3MjQzNA==", "bodyText": "I guess you can rename leftToRight and rightToLeft to simple left and right.", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r485672434", "createdAt": "2020-09-09T14:48:27Z", "author": {"login": "rozdy"}, "path": "src-java/network-topology/network-storm-topology/src/main/java/org/openkilda/wfm/topology/network/controller/isl/IslFsm.java", "diffHunk": "@@ -600,6 +637,25 @@ private void initializeFromLinkProps(Endpoint source, Endpoint dest, IslBuilder\n         return result;\n     }\n \n+    private BfdProperties loadBfdProperties() {\n+        BfdProperties leftToRight = loadBfdProperties(reference.getSource(), reference.getDest());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 193}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY4NjM4Nw==", "bodyText": "Rename responseMap -> mapResponse.", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r485686387", "createdAt": "2020-09-09T15:05:56Z", "author": {"login": "rozdy"}, "path": "src-java/northbound-service/northbound/src/main/java/org/openkilda/northbound/converter/LinkMapper.java", "diffHunk": "@@ -17,23 +17,88 @@\n \n import org.openkilda.messaging.info.event.IslInfoData;\n import org.openkilda.messaging.info.event.PathNode;\n+import org.openkilda.messaging.model.NetworkEndpoint;\n+import org.openkilda.messaging.nbtopology.request.BfdPropertiesReadRequest;\n+import org.openkilda.messaging.nbtopology.request.BfdPropertiesWriteRequest;\n+import org.openkilda.messaging.nbtopology.response.BfdPropertiesResponse;\n import org.openkilda.model.SwitchId;\n import org.openkilda.northbound.dto.v1.links.LinkDto;\n import org.openkilda.northbound.dto.v1.links.PathDto;\n+import org.openkilda.northbound.dto.v2.links.BfdPropertiesByEndpoint;\n+import org.openkilda.northbound.dto.v2.links.BfdPropertiesPayload;\n \n import org.mapstruct.Mapper;\n import org.mapstruct.Mapping;\n+import org.mapstruct.MappingTarget;\n+\n+import java.time.Duration;\n+import java.util.Arrays;\n \n @Mapper(componentModel = \"spring\")\n-public interface LinkMapper {\n+public abstract class LinkMapper {\n+    public abstract PathDto map(PathNode data);\n+\n+    @Mapping(target = \"interval\", source = \"intervalMs\")\n+    public abstract org.openkilda.model.BfdProperties map(org.openkilda.northbound.dto.v2.links.BfdProperties source);\n+\n+    @Mapping(target = \"intervalMs\", source = \"interval\")\n+    public abstract org.openkilda.northbound.dto.v2.links.BfdProperties map(org.openkilda.model.BfdProperties source);\n+\n+    @Mapping(target = \"timestamp\", ignore = true)\n+    public abstract BfdPropertiesReadRequest bfdRequestMap(NetworkEndpoint source, NetworkEndpoint destination);\n+\n+    @Mapping(target = \"timestamp\", ignore = true)\n+    @Mapping(target = \"source\", source = \"source\")\n+    @Mapping(target = \"destination\", source = \"destination\")\n+    @Mapping(target = \"properties\", source = \"properties\")\n+    public abstract BfdPropertiesWriteRequest bfdRequestMap(\n+            NetworkEndpoint source, NetworkEndpoint destination,\n+            org.openkilda.northbound.dto.v2.links.BfdProperties  properties);\n+\n+    /**\n+     * Convert {@link BfdPropertiesResponse} into {@link BfdPropertiesPayload}.\n+     */\n+    @Mapping(target = \"intervalMs\", source = \"properties.interval\")\n+    @Mapping(target = \"multiplier\", source = \"properties.multiplier\")\n+    public BfdPropertiesPayload responseMap(BfdPropertiesResponse response) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY4ODI3Nw==", "bodyText": "Rename methods to write/read/deleteBfdProperties.", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r485688277", "createdAt": "2020-09-09T15:08:30Z", "author": {"login": "rozdy"}, "path": "src-java/northbound-service/northbound/src/main/java/org/openkilda/northbound/service/LinkService.java", "diffHunk": "@@ -106,13 +108,15 @@\n      */\n     CompletableFuture<List<LinkDto>> deleteLink(LinkParametersDto linkParameters, boolean force);\n \n-    /**\n-     * Update \"Enable BFD\" flag.\n-     *\n-     * @param link link parameters.\n-     * @return updated link.\n-     */\n-    CompletableFuture<List<LinkDto>> updateLinkEnableBfd(LinkEnableBfdDto link);\n+    CompletableFuture<List<LinkDto>> bfdPropertiesWrite(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY5MTM5NQ==", "bodyText": "Didn't get it. Why we need to discard this call?", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r485691395", "createdAt": "2020-09-09T15:12:43Z", "author": {"login": "rozdy"}, "path": "src-java/nbworker-topology/nbworker-storm-topology/src/main/java/org/openkilda/wfm/topology/nbworker/bolts/SwitchOperationsBolt.java", "diffHunk": "@@ -323,4 +324,9 @@ public void declareOutputFields(OutputFieldsDeclarer declarer) {\n         declarer.declareStream(StreamType.TO_SERVER42.toString(),\n                 new Fields(MessageEncoder.FIELD_ID_PAYLOAD, MessageEncoder.FIELD_ID_CONTEXT));\n     }\n+\n+    @Override\n+    public void islBfdPropertiesChanged(Endpoint source, Endpoint destination) {\n+        log.warn(\"Discard islBfdPropertiesChanged link carrier call\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY5NDc0MQ==", "bodyText": "Do we still need this method?", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r485694741", "createdAt": "2020-09-09T15:17:10Z", "author": {"login": "rozdy"}, "path": "src-java/network-topology/network-storm-topology/src/main/java/org/openkilda/wfm/topology/network/controller/isl/IslFsm.java", "diffHunk": "@@ -486,11 +525,9 @@ private void fireBecomeStateEvent(IslFsmContext context) {\n         fire(route, context);\n     }\n \n-    private boolean shouldSetupBfd() {\n+    private boolean canSetupBfd() {\n         // TODO(surabujin): ensure the switch is BFD capable\n-\n-        return isPerIslBfdToggleEnabled(reference.getSource(), reference.getDest())\n-                || isPerIslBfdToggleEnabled(reference.getDest(), reference.getSource());\n+        return true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 184}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MDEzNjAz", "url": "https://github.com/telstra/open-kilda/pull/3712#pullrequestreview-486013603", "createdAt": "2020-09-10T14:46:01Z", "commit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNDo0NjowMVrOHP3r1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNDo0NjowMVrOHP3r1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQwMzAzMQ==", "bodyText": "Please, double-check that property is worked as expected on the current master.", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r486403031", "createdAt": "2020-09-10T14:46:01Z", "author": {"login": "nikitamarchenko"}, "path": "src-java/kilda-model/src/main/java/org/openkilda/model/Isl.java", "diffHunk": "@@ -116,9 +117,17 @@\n     @Property(name = \"under_maintenance\")\n     private boolean underMaintenance;\n \n+    // TODO(surabujin): drop after migration\n     @Property(name = \"enable_bfd\")\n     private boolean enableBfd;\n \n+    @Property(\"bfd_interval\")\n+    @Convert(graphPropertyType = Long.class)\n+    private Duration bfdInterval;\n+\n+    @Property(\"bfd_multiplier\")\n+    private short bfdMultiplier;\n+\n     @Property(name = \"bfd_session_status\")\n     @Convert(graphPropertyType = String.class)\n     private BfdSessionStatus bfdSessionStatus;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MDI0Nzc5", "url": "https://github.com/telstra/open-kilda/pull/3712#pullrequestreview-486024779", "createdAt": "2020-09-10T14:56:44Z", "commit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNDo1Njo0NVrOHP4MSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNDo1Njo0NVrOHP4MSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQxMTMzNg==", "bodyText": "Why did you use literals?", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r486411336", "createdAt": "2020-09-10T14:56:45Z", "author": {"login": "nikitamarchenko"}, "path": "src-java/network-topology/network-storm-topology/src/test/java/org/openkilda/wfm/topology/network/controller/bfd/AbstractBfdActionTest.java", "diffHunk": "@@ -45,8 +45,8 @@\n             .logicalPortNumber(alphaLogicalEndpoint.getPortNumber())\n             .udpPortNumber(BfdPortFsm.BFD_UDP_PORT)\n             .discriminator(1001)\n-            .intervalMs(BfdPortFsm.bfdPollInterval)\n-            .multiplier(BfdPortFsm.bfdFailCycleLimit)\n+            .intervalMs(350)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MDYzODcw", "url": "https://github.com/telstra/open-kilda/pull/3712#pullrequestreview-486063870", "createdAt": "2020-09-10T15:36:27Z", "commit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNTozNjoyOFrOHP5_kQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNTozNjoyOFrOHP5_kQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ0MDg0OQ==", "bodyText": "Not sure about that format.", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r486440849", "createdAt": "2020-09-10T15:36:28Z", "author": {"login": "nikitamarchenko"}, "path": "src-java/northbound-service/northbound/src/main/java/org/openkilda/northbound/controller/v2/LinkControllerV2.java", "diffHunk": "@@ -0,0 +1,127 @@\n+/* Copyright 2020 Telstra Open Source\n+ *\n+ *   Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *   you may not use this file except in compliance with the License.\n+ *   You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *   Unless required by applicable law or agreed to in writing, software\n+ *   distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *   See the License for the specific language governing permissions and\n+ *   limitations under the License.\n+ */\n+\n+package org.openkilda.northbound.controller.v2;\n+\n+import org.openkilda.messaging.model.NetworkEndpoint;\n+import org.openkilda.model.SwitchId;\n+import org.openkilda.northbound.controller.BaseLinkController;\n+import org.openkilda.northbound.dto.v2.links.BfdProperties;\n+import org.openkilda.northbound.dto.v2.links.BfdPropertiesPayload;\n+import org.openkilda.northbound.service.LinkService;\n+\n+import io.swagger.annotations.ApiOperation;\n+import org.springframework.http.HttpStatus;\n+import org.springframework.web.bind.annotation.DeleteMapping;\n+import org.springframework.web.bind.annotation.GetMapping;\n+import org.springframework.web.bind.annotation.PathVariable;\n+import org.springframework.web.bind.annotation.PutMapping;\n+import org.springframework.web.bind.annotation.RequestBody;\n+import org.springframework.web.bind.annotation.RequestMapping;\n+import org.springframework.web.bind.annotation.ResponseStatus;\n+import org.springframework.web.bind.annotation.RestController;\n+\n+import java.util.Objects;\n+import java.util.Optional;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.stream.Stream;\n+\n+@RestController\n+@RequestMapping(\"/v2/links\")\n+public class LinkControllerV2 extends BaseLinkController {\n+    private static final int BFD_INTERVAL_MIN = 100;\n+    private static final short BFD_MULTIPLIER_MIN = 1;\n+\n+    private final LinkService linkService;\n+\n+    public LinkControllerV2(LinkService linkService) {\n+        this.linkService = linkService;\n+    }\n+\n+    /**\n+     * Write/update/enable BFD properties for specific ISL.\n+     */\n+    @ApiOperation(value = \"Set/update BFD properties\", response = BfdPropertiesPayload.class)\n+    @PutMapping(value = \"/{src-switch}_{src-port}/{dst-switch}_{dst-port}/bfd\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 57}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MDY0MzQz", "url": "https://github.com/telstra/open-kilda/pull/3712#pullrequestreview-486064343", "createdAt": "2020-09-10T15:36:59Z", "commit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2NTk0MzAx", "url": "https://github.com/telstra/open-kilda/pull/3712#pullrequestreview-486594301", "createdAt": "2020-09-11T08:34:40Z", "commit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwODozNDo0MFrOHQTo5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwODozNDo0MFrOHQTo5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njg2MTAyOQ==", "bodyText": "s.port - 1000", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r486861029", "createdAt": "2020-09-11T08:34:40Z", "author": {"login": "rtretyak"}, "path": "services/src/neo4j/migrations/1.26-per-isl-bfd-properties/1-per-idl-bfd-properties.xml", "diffHunk": "@@ -0,0 +1,19 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<changelog xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+           xsi:noNamespaceSchemaLocation=\"http://www.liquigraph.org/schema/1.0/liquigraph.xsd\">\n+    <changeset id=\"1.26-bfd-session-update\" author=\"Dmitry Bogun\">\n+        <query><![CDATA[\n+             MATCH (s:bfd_session) WHERE NOT exists(s.physical_port)\n+             SET s.physical_port = s.port - 100,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5NDQ5MTcw", "url": "https://github.com/telstra/open-kilda/pull/3712#pullrequestreview-489449170", "createdAt": "2020-09-16T09:36:50Z", "commit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQwOTozNjo1MVrOHSoptA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQwOTozNjo1MVrOHSoptA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTMwMjQ1Mg==", "bodyText": "as for me, it is a little bit unusual that the ed ending is missing (ed -> disabled). we almost everywhere(except roundTrip) use the ed ending (i.e. failed, activated, discovered)", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r489302452", "createdAt": "2020-09-16T09:36:51Z", "author": {"login": "andriidovhan"}, "path": "src-java/northbound-service/northbound/src/main/java/org/openkilda/northbound/service/impl/LinkServiceImpl.java", "diffHunk": "@@ -324,32 +346,87 @@ private BatchResults getLinkPropsResult(List<LinkPropsResponse> responses, List<\n         return messagingChannel.sendAndGetChunked(nbworkerTopic, message)\n                 .thenApply(response -> response.stream()\n                         .map(IslInfoData.class::cast)\n-                        .map(linkMapper::toLinkDto)\n+                        .map(linkMapper::responseMap)\n                         .collect(Collectors.toList()));\n     }\n \n     @Override\n-    public CompletableFuture<List<LinkDto>> updateLinkEnableBfd(LinkEnableBfdDto link) {\n+    public CompletableFuture<List<LinkDto>> bfdPropertiesWrite(\n+            NetworkEndpoint source, NetworkEndpoint dest, boolean isEnabled) {\n+        BfdProperties properties;\n+        if (isEnabled) {\n+            properties = bfdPropertiesDefault;\n+        } else {\n+            properties = BfdProperties.DISABLE;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd"}, "originalPosition": 109}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2c662bd120dc6cda374384efa70492539bd4e7cd", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/2c662bd120dc6cda374384efa70492539bd4e7cd", "committedDate": "2020-09-07T15:24:27Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "510d3f58051caf4fc526f4e860da79d72526671f", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/510d3f58051caf4fc526f4e860da79d72526671f", "committedDate": "2020-09-22T17:25:40Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "510d3f58051caf4fc526f4e860da79d72526671f", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/510d3f58051caf4fc526f4e860da79d72526671f", "committedDate": "2020-09-22T17:25:40Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "47d682c83300b9e25cf9448bfd7f83c804ad1011", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/47d682c83300b9e25cf9448bfd7f83c804ad1011", "committedDate": "2020-09-23T07:32:54Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "47d682c83300b9e25cf9448bfd7f83c804ad1011", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/47d682c83300b9e25cf9448bfd7f83c804ad1011", "committedDate": "2020-09-23T07:32:54Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "a0a23e4acdb4d23f76fff2f18d5263abe10a7c5e", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/a0a23e4acdb4d23f76fff2f18d5263abe10a7c5e", "committedDate": "2020-09-24T17:17:33Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a0a23e4acdb4d23f76fff2f18d5263abe10a7c5e", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/a0a23e4acdb4d23f76fff2f18d5263abe10a7c5e", "committedDate": "2020-09-24T17:17:33Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "23c5093f9c204bd8e7762655af1e5127db552cc4", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/23c5093f9c204bd8e7762655af1e5127db552cc4", "committedDate": "2020-09-24T21:51:19Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "23c5093f9c204bd8e7762655af1e5127db552cc4", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/23c5093f9c204bd8e7762655af1e5127db552cc4", "committedDate": "2020-09-24T21:51:19Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "582fa87d03afea66dc2a944a365a0b58afa78214", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/582fa87d03afea66dc2a944a365a0b58afa78214", "committedDate": "2020-09-26T09:50:34Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4MTQwODAy", "url": "https://github.com/telstra/open-kilda/pull/3712#pullrequestreview-498140802", "createdAt": "2020-09-29T06:47:29Z", "commit": {"oid": "582fa87d03afea66dc2a944a365a0b58afa78214"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNjo0NzoyOVrOHZdL6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNjo0NzoyOVrOHZdL6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQ1NDYzMg==", "bodyText": "I wouldn't use Duration here, it force to create new db converter(converters in our case not the most reliable thing ever),\nmappers, etc. While the actual usage of it as duration is made in single place only", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r496454632", "createdAt": "2020-09-29T06:47:29Z", "author": {"login": "timofei-durakov"}, "path": "src-java/kilda-model/src/main/java/org/openkilda/model/BfdProperties.java", "diffHunk": "@@ -0,0 +1,55 @@\n+/* Copyright 2020 Telstra Open Source\n+ *\n+ *   Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *   you may not use this file except in compliance with the License.\n+ *   You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *   Unless required by applicable law or agreed to in writing, software\n+ *   distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *   See the License for the specific language governing permissions and\n+ *   limitations under the License.\n+ */\n+\n+package org.openkilda.model;\n+\n+import com.fasterxml.jackson.annotation.JsonIgnore;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import lombok.Builder;\n+import lombok.EqualsAndHashCode;\n+import lombok.Getter;\n+import lombok.ToString;\n+\n+import java.time.Duration;\n+\n+@Getter\n+@ToString\n+@EqualsAndHashCode\n+public class BfdProperties {\n+    @JsonProperty(\"interval\")\n+    protected final Duration interval;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "582fa87d03afea66dc2a944a365a0b58afa78214"}, "originalPosition": 32}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "582fa87d03afea66dc2a944a365a0b58afa78214", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/582fa87d03afea66dc2a944a365a0b58afa78214", "committedDate": "2020-09-26T09:50:34Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "1aad686c977a796ff687e5b158fa55b0eef21167", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/1aad686c977a796ff687e5b158fa55b0eef21167", "committedDate": "2020-09-29T07:26:00Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwODg0NDk3", "url": "https://github.com/telstra/open-kilda/pull/3712#pullrequestreview-500884497", "createdAt": "2020-10-02T06:28:46Z", "commit": {"oid": "1aad686c977a796ff687e5b158fa55b0eef21167"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwODgyNDc1", "url": "https://github.com/telstra/open-kilda/pull/3712#pullrequestreview-500882475", "createdAt": "2020-10-02T06:23:50Z", "commit": {"oid": "1aad686c977a796ff687e5b158fa55b0eef21167"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQwNjoyMzo1MFrOHbiRGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQwNjoyMzo1MFrOHbiRGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODYzNTAzNQ==", "bodyText": "should we add new fields into toString() method? or just remove toString() to generate it by @Data?", "url": "https://github.com/telstra/open-kilda/pull/3712#discussion_r498635035", "createdAt": "2020-10-02T06:23:50Z", "author": {"login": "niksv"}, "path": "src-java/kilda-model/src/main/java/org/openkilda/model/Isl.java", "diffHunk": "@@ -116,9 +117,17 @@\n     @Property(name = \"under_maintenance\")\n     private boolean underMaintenance;\n \n+    // TODO(surabujin): drop after migration\n     @Property(name = \"enable_bfd\")\n     private boolean enableBfd;\n \n+    @Property(\"bfd_interval\")\n+    @Convert(graphPropertyType = Long.class)\n+    private Duration bfdInterval;\n+\n+    @Property(\"bfd_multiplier\")\n+    private short bfdMultiplier;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1aad686c977a796ff687e5b158fa55b0eef21167"}, "originalPosition": 21}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1aad686c977a796ff687e5b158fa55b0eef21167", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/1aad686c977a796ff687e5b158fa55b0eef21167", "committedDate": "2020-09-29T07:26:00Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "ffd106aa322710a3321c558d1877b780d80e1202", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/ffd106aa322710a3321c558d1877b780d80e1202", "committedDate": "2020-10-07T16:46:33Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NzE0MTI3", "url": "https://github.com/telstra/open-kilda/pull/3712#pullrequestreview-504714127", "createdAt": "2020-10-08T12:10:31Z", "commit": {"oid": "ffd106aa322710a3321c558d1877b780d80e1202"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ffd106aa322710a3321c558d1877b780d80e1202", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/ffd106aa322710a3321c558d1877b780d80e1202", "committedDate": "2020-10-07T16:46:33Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "ded8f80cd5e7e4ca48f8b1e59440f93949bec52e", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/ded8f80cd5e7e4ca48f8b1e59440f93949bec52e", "committedDate": "2020-10-12T16:24:28Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ded8f80cd5e7e4ca48f8b1e59440f93949bec52e", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/ded8f80cd5e7e4ca48f8b1e59440f93949bec52e", "committedDate": "2020-10-12T16:24:28Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "9e591760693d1c9ff818bf7682e1f6f0e77cc152", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/9e591760693d1c9ff818bf7682e1f6f0e77cc152", "committedDate": "2020-10-12T19:40:11Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9e591760693d1c9ff818bf7682e1f6f0e77cc152", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/9e591760693d1c9ff818bf7682e1f6f0e77cc152", "committedDate": "2020-10-12T19:40:11Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "81533e45b6dbc1c19f5cc2aca7498cb30bc78160", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/81533e45b6dbc1c19f5cc2aca7498cb30bc78160", "committedDate": "2020-10-15T15:16:13Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "81533e45b6dbc1c19f5cc2aca7498cb30bc78160", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/81533e45b6dbc1c19f5cc2aca7498cb30bc78160", "committedDate": "2020-10-15T15:16:13Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "45255671e10ce4b9dd27eaefac368c7d96d42dc0", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/45255671e10ce4b9dd27eaefac368c7d96d42dc0", "committedDate": "2020-10-15T15:20:23Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "45255671e10ce4b9dd27eaefac368c7d96d42dc0", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/45255671e10ce4b9dd27eaefac368c7d96d42dc0", "committedDate": "2020-10-15T15:20:23Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "5bf7232967b6b5ecbf4c5d2a323ee5c99138e96c", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/5bf7232967b6b5ecbf4c5d2a323ee5c99138e96c", "committedDate": "2020-10-15T18:47:39Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5bf7232967b6b5ecbf4c5d2a323ee5c99138e96c", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/5bf7232967b6b5ecbf4c5d2a323ee5c99138e96c", "committedDate": "2020-10-15T18:47:39Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "9bee18a17470a1c6b3bcc4c18c91361fbe5a0bec", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/9bee18a17470a1c6b3bcc4c18c91361fbe5a0bec", "committedDate": "2020-10-16T07:07:15Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9bee18a17470a1c6b3bcc4c18c91361fbe5a0bec", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/9bee18a17470a1c6b3bcc4c18c91361fbe5a0bec", "committedDate": "2020-10-16T07:07:15Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "3e1533f470ebd77c622a9a4ca930615ae1302bc5", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/3e1533f470ebd77c622a9a4ca930615ae1302bc5", "committedDate": "2020-10-16T07:43:11Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3e1533f470ebd77c622a9a4ca930615ae1302bc5", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/3e1533f470ebd77c622a9a4ca930615ae1302bc5", "committedDate": "2020-10-16T07:43:11Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "85c44070b94617f5218ed3f15c0c3b65f58274ef", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/85c44070b94617f5218ed3f15c0c3b65f58274ef", "committedDate": "2020-10-16T10:14:18Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "85c44070b94617f5218ed3f15c0c3b65f58274ef", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/85c44070b94617f5218ed3f15c0c3b65f58274ef", "committedDate": "2020-10-16T10:14:18Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "c553f0c738fb8867408c37338a961bdcaaa0c301", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/c553f0c738fb8867408c37338a961bdcaaa0c301", "committedDate": "2020-10-18T17:59:08Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c553f0c738fb8867408c37338a961bdcaaa0c301", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/c553f0c738fb8867408c37338a961bdcaaa0c301", "committedDate": "2020-10-18T17:59:08Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "9ef0f863281e747f5bc2c675e26ad9a577e25478", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/9ef0f863281e747f5bc2c675e26ad9a577e25478", "committedDate": "2020-10-19T06:00:18Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9ef0f863281e747f5bc2c675e26ad9a577e25478", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/9ef0f863281e747f5bc2c675e26ad9a577e25478", "committedDate": "2020-10-19T06:00:18Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "6b11396dd0b2de31166f2d53577eba99963d20ba", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/6b11396dd0b2de31166f2d53577eba99963d20ba", "committedDate": "2020-10-19T09:01:29Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6b11396dd0b2de31166f2d53577eba99963d20ba", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/6b11396dd0b2de31166f2d53577eba99963d20ba", "committedDate": "2020-10-19T09:01:29Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "c035c89557c6cd19d69b72c08bb6a0452eaa5b86", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/c035c89557c6cd19d69b72c08bb6a0452eaa5b86", "committedDate": "2020-10-19T16:55:40Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c035c89557c6cd19d69b72c08bb6a0452eaa5b86", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/c035c89557c6cd19d69b72c08bb6a0452eaa5b86", "committedDate": "2020-10-19T16:55:40Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "ef6c31cb6935965a61e8f46affe2c21d459c748e", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/ef6c31cb6935965a61e8f46affe2c21d459c748e", "committedDate": "2020-10-20T13:08:57Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef6c31cb6935965a61e8f46affe2c21d459c748e", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/ef6c31cb6935965a61e8f46affe2c21d459c748e", "committedDate": "2020-10-20T13:08:57Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "dbed6da0f60d55f9026a1ce882a863192d860f3d", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/dbed6da0f60d55f9026a1ce882a863192d860f3d", "committedDate": "2020-10-21T13:44:18Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dbed6da0f60d55f9026a1ce882a863192d860f3d", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/dbed6da0f60d55f9026a1ce882a863192d860f3d", "committedDate": "2020-10-21T13:44:18Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "846816d98decd7040e0bf8eba6fb28e48a8c0605", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/846816d98decd7040e0bf8eba6fb28e48a8c0605", "committedDate": "2020-10-23T08:09:22Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e76b64b06cb237fa57fbfd3502c7e6016db2240", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/8e76b64b06cb237fa57fbfd3502c7e6016db2240", "committedDate": "2020-10-23T14:12:30Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "846816d98decd7040e0bf8eba6fb28e48a8c0605", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/846816d98decd7040e0bf8eba6fb28e48a8c0605", "committedDate": "2020-10-23T08:09:22Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}, "afterCommit": {"oid": "8e76b64b06cb237fa57fbfd3502c7e6016db2240", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/8e76b64b06cb237fa57fbfd3502c7e6016db2240", "committedDate": "2020-10-23T14:12:30Z", "message": "Per isl bfd properties\n\nAdd ability to define BFD interval and multiplier for each ISL. New API\nv2 endpoint was created for this feature. Existing API v1 endpoint was\nadopted to use default BFD properties on enable request."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3561, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}