{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc2MTIzMDgz", "number": 3213, "title": "Extend detaild of swmanager log messages", "bodyText": "Add more details in log messages, to improve chance of finding RCA of\nswmanager releate issues.", "createdAt": "2020-02-17T12:59:04Z", "url": "https://github.com/telstra/open-kilda/pull/3213", "merged": true, "mergeCommit": {"oid": "3aa50e3568053470dc9cf913e1b2e7caf6ea9af5"}, "closed": true, "closedAt": "2020-02-20T08:56:24Z", "author": {"login": "surabujin"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcFNb4BgFqTM1OTczNzIwMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcGGZZgAFqTM2MTY5MjE1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5NzM3MjAw", "url": "https://github.com/telstra/open-kilda/pull/3213#pullrequestreview-359737200", "createdAt": "2020-02-17T13:34:55Z", "commit": {"oid": "c80f025ccf3a0b4be7fd0608be2a1b7c010b6f49"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwMTE4NjI3", "url": "https://github.com/telstra/open-kilda/pull/3213#pullrequestreview-360118627", "createdAt": "2020-02-18T07:35:13Z", "commit": {"oid": "c80f025ccf3a0b4be7fd0608be2a1b7c010b6f49"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQwNzozNToxNFrOFq3zkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQwNzozOTo1MVrOFq35vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ5ODgzNA==", "bodyText": "maybe it's worth to log tuple payload as well? also, have you checked it doesn't spam a ton of errors?", "url": "https://github.com/telstra/open-kilda/pull/3213#discussion_r380498834", "createdAt": "2020-02-18T07:35:14Z", "author": {"login": "timofei-durakov"}, "path": "src-java/base-topology/base-storm-topology/src/main/java/org/openkilda/wfm/share/hubandspoke/WorkerBolt.java", "diffHunk": "@@ -87,7 +87,8 @@ private void dispatchResponse(Tuple input) throws Exception {\n         if (request != null) {\n             onAsyncResponse(request, input);\n         } else {\n-            unhandledInput(input);\n+            log.error(\"{} drop worker async response. because {} key is not listed in pending response list\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c80f025ccf3a0b4be7fd0608be2a1b7c010b6f49"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ5OTY1MQ==", "bodyText": "don't get this fixme, null for the errors seems bad idea, also take into account this one #3160", "url": "https://github.com/telstra/open-kilda/pull/3213#discussion_r380499651", "createdAt": "2020-02-18T07:37:37Z", "author": {"login": "timofei-durakov"}, "path": "src-java/floodlight-service/floodlight-modules/src/main/java/org/openkilda/floodlight/kafka/RecordHandler.java", "diffHunk": "@@ -1424,6 +1424,7 @@ private void dumpMeters(SwitchId switchId, String correlationId, String replyToT\n         try {\n             logger.debug(\"Get all meters for switch {}\", switchId);\n             ISwitchManager switchManager = context.getSwitchManager();\n+            // FIXME(surabujin): return null in case of errors", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c80f025ccf3a0b4be7fd0608be2a1b7c010b6f49"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwMDQxNQ==", "bodyText": "just for the sake of curiosity, is it better to move key from the beginning from the search perspective?", "url": "https://github.com/telstra/open-kilda/pull/3213#discussion_r380500415", "createdAt": "2020-02-18T07:39:51Z", "author": {"login": "timofei-durakov"}, "path": "src-java/swmanager-topology/swmanager-storm-topology/src/main/java/org/openkilda/wfm/topology/switchmanager/fsm/SwitchSyncFsm.java", "diffHunk": "@@ -171,15 +171,15 @@ public String getKey() {\n \n     protected void initialized(SwitchSyncState from, SwitchSyncState to,\n                                SwitchSyncEvent event, Object context) {\n-        log.info(\"Key: {}, sync FSM initialized\", key);\n+        log.info(\"The switch sync process for {} has been started (key={})\", switchId, key);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c80f025ccf3a0b4be7fd0608be2a1b7c010b6f49"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "627c40839973b07c4859fd8a643cfe87c1727e81", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/627c40839973b07c4859fd8a643cfe87c1727e81", "committedDate": "2020-02-19T10:14:45Z", "message": "Extend detaild of swmanager log messages\n\nAdd more details in log messages, to improve chance of finding RCA of\nswmanager releate issues."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c80f025ccf3a0b4be7fd0608be2a1b7c010b6f49", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/c80f025ccf3a0b4be7fd0608be2a1b7c010b6f49", "committedDate": "2020-02-17T12:56:13Z", "message": "Extend detaild of swmanager log messages\n\nAdd more details in log messages, to improve chance of finding RCA of\nswmanager releate issues."}, "afterCommit": {"oid": "627c40839973b07c4859fd8a643cfe87c1727e81", "author": {"user": {"login": "surabujin", "name": "Dmitriy Bogun"}}, "url": "https://github.com/telstra/open-kilda/commit/627c40839973b07c4859fd8a643cfe87c1727e81", "committedDate": "2020-02-19T10:14:45Z", "message": "Extend detaild of swmanager log messages\n\nAdd more details in log messages, to improve chance of finding RCA of\nswmanager releate issues."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxMjQ0NjQ0", "url": "https://github.com/telstra/open-kilda/pull/3213#pullrequestreview-361244644", "createdAt": "2020-02-19T16:34:15Z", "commit": {"oid": "627c40839973b07c4859fd8a643cfe87c1727e81"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNjkyMTUy", "url": "https://github.com/telstra/open-kilda/pull/3213#pullrequestreview-361692152", "createdAt": "2020-02-20T07:56:48Z", "commit": {"oid": "627c40839973b07c4859fd8a643cfe87c1727e81"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3714, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}