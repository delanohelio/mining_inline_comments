{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4OTg2OTE3", "number": 3092, "title": "Minor tweaks in tests according to default meters validation feature", "bodyText": "", "createdAt": "2020-01-03T13:23:11Z", "url": "https://github.com/telstra/open-kilda/pull/3092", "merged": true, "mergeCommit": {"oid": "e391fc2b7304919911de701b6d6748a884d7de53"}, "closed": true, "closedAt": "2020-03-02T21:27:18Z", "author": {"login": "rtretyak"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb2vPP7ABqjI5MjAzMzEyNTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcJsefwABqjMwODc2NTAxNTI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a9ed996c46456b27525a332ef4a0742f7ba2e65c", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/a9ed996c46456b27525a332ef4a0742f7ba2e65c", "committedDate": "2020-01-03T13:22:16Z", "message": "Minor tweaks in tests according to default meters validation feature"}, "afterCommit": {"oid": "3ac44a877f74ea368c4f60af0755de30cf8dc934", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/3ac44a877f74ea368c4f60af0755de30cf8dc934", "committedDate": "2020-01-03T14:28:43Z", "message": "Minor tweaks in tests according to default meters validation feature"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3ac44a877f74ea368c4f60af0755de30cf8dc934", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/3ac44a877f74ea368c4f60af0755de30cf8dc934", "committedDate": "2020-01-03T14:28:43Z", "message": "Minor tweaks in tests according to default meters validation feature"}, "afterCommit": {"oid": "28830e02e4915e9070c6e5e9efab7b7c8a40183b", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/28830e02e4915e9070c6e5e9efab7b7c8a40183b", "committedDate": "2020-01-03T14:43:31Z", "message": "Minor tweaks in tests according to default meters validation feature"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "28830e02e4915e9070c6e5e9efab7b7c8a40183b", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/28830e02e4915e9070c6e5e9efab7b7c8a40183b", "committedDate": "2020-01-03T14:43:31Z", "message": "Minor tweaks in tests according to default meters validation feature"}, "afterCommit": {"oid": "5c674c1400672b4453c16f2a2a2a8b9c1fbbc87c", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/5c674c1400672b4453c16f2a2a2a8b9c1fbbc87c", "committedDate": "2020-01-08T13:24:36Z", "message": "Minor tweaks in tests according to default meters validation feature"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5c674c1400672b4453c16f2a2a2a8b9c1fbbc87c", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/5c674c1400672b4453c16f2a2a2a8b9c1fbbc87c", "committedDate": "2020-01-08T13:24:36Z", "message": "Minor tweaks in tests according to default meters validation feature"}, "afterCommit": {"oid": "8d8fde2ed4ae7ec4e7bcf668e0e435e6637d1b9a", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/8d8fde2ed4ae7ec4e7bcf668e0e435e6637d1b9a", "committedDate": "2020-01-08T14:16:50Z", "message": "Minor tweaks in tests according to default meters validation feature"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNjk5MTQ4", "url": "https://github.com/telstra/open-kilda/pull/3092#pullrequestreview-341699148", "createdAt": "2020-01-13T08:56:55Z", "commit": {"oid": "8d8fde2ed4ae7ec4e7bcf668e0e435e6637d1b9a"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QwODo1Njo1NVrOFcwJjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QwOTowMjowMFrOFcwQxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTY5MzMyNw==", "bodyText": "do we have the same meters for all kind of switches(noviflow, centec, accton)?", "url": "https://github.com/telstra/open-kilda/pull/3092#discussion_r365693327", "createdAt": "2020-01-13T08:56:55Z", "author": {"login": "andriidovhan"}, "path": "services/src/functional-tests/src/main/groovy/org/openkilda/functionaltests/helpers/SwitchHelper.groovy", "diffHunk": "@@ -131,6 +132,20 @@ class SwitchHelper {\n         }\n     }\n \n+\n+    static List<Long> getDefaultMeters(Switch sw) {\n+        def swProps = northbound.getSwitchProperties(sw.dpId)\n+        if (swProps.multiTable) {\n+            def result = [2, 3, 16, 18]\n+            if (swProps.supportedTransitEncapsulation.contains(FlowEncapsulationType.VXLAN.toString())) {\n+                result << 17\n+            }\n+            return result\n+        } else {\n+            return [2, 3]\n+        }\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d8fde2ed4ae7ec4e7bcf668e0e435e6637d1b9a"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTY5NTE3NQ==", "bodyText": "how about extracting these numbers into global variables?", "url": "https://github.com/telstra/open-kilda/pull/3092#discussion_r365695175", "createdAt": "2020-01-13T09:02:00Z", "author": {"login": "andriidovhan"}, "path": "services/src/functional-tests/src/main/groovy/org/openkilda/functionaltests/helpers/SwitchHelper.groovy", "diffHunk": "@@ -131,6 +132,20 @@ class SwitchHelper {\n         }\n     }\n \n+\n+    static List<Long> getDefaultMeters(Switch sw) {\n+        def swProps = northbound.getSwitchProperties(sw.dpId)\n+        if (swProps.multiTable) {\n+            def result = [2, 3, 16, 18]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d8fde2ed4ae7ec4e7bcf668e0e435e6637d1b9a"}, "originalPosition": 16}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8d8fde2ed4ae7ec4e7bcf668e0e435e6637d1b9a", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/8d8fde2ed4ae7ec4e7bcf668e0e435e6637d1b9a", "committedDate": "2020-01-08T14:16:50Z", "message": "Minor tweaks in tests according to default meters validation feature"}, "afterCommit": {"oid": "41bff038ee128bd8c2df0cb74bffd257fde589e4", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/41bff038ee128bd8c2df0cb74bffd257fde589e4", "committedDate": "2020-01-23T14:50:06Z", "message": "Minor tweaks in tests according to default meters validation feature"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "41bff038ee128bd8c2df0cb74bffd257fde589e4", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/41bff038ee128bd8c2df0cb74bffd257fde589e4", "committedDate": "2020-01-23T14:50:06Z", "message": "Minor tweaks in tests according to default meters validation feature"}, "afterCommit": {"oid": "ac9dc65311d95db9a8ad55fefa16cfab2368e240", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/ac9dc65311d95db9a8ad55fefa16cfab2368e240", "committedDate": "2020-01-23T16:04:48Z", "message": "Minor tweaks in tests according to default meters validation feature"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ac9dc65311d95db9a8ad55fefa16cfab2368e240", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/ac9dc65311d95db9a8ad55fefa16cfab2368e240", "committedDate": "2020-01-23T16:04:48Z", "message": "Minor tweaks in tests according to default meters validation feature"}, "afterCommit": {"oid": "8f4ec561c64e322b28873156ceb8ce8d56134375", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/8f4ec561c64e322b28873156ceb8ce8d56134375", "committedDate": "2020-01-24T10:23:51Z", "message": "Minor tweaks in tests according to default meters validation feature"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMzc4NDE2", "url": "https://github.com/telstra/open-kilda/pull/3092#pullrequestreview-351378416", "createdAt": "2020-01-31T09:23:19Z", "commit": {"oid": "8f4ec561c64e322b28873156ceb8ce8d56134375"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8f4ec561c64e322b28873156ceb8ce8d56134375", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/8f4ec561c64e322b28873156ceb8ce8d56134375", "committedDate": "2020-01-24T10:23:51Z", "message": "Minor tweaks in tests according to default meters validation feature"}, "afterCommit": {"oid": "768286ca904dd718e67b8d7cedb5eb2db8f8eb13", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/768286ca904dd718e67b8d7cedb5eb2db8f8eb13", "committedDate": "2020-01-31T14:10:20Z", "message": "Minor tweaks in tests according to default meters validation feature"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "768286ca904dd718e67b8d7cedb5eb2db8f8eb13", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/768286ca904dd718e67b8d7cedb5eb2db8f8eb13", "committedDate": "2020-01-31T14:10:20Z", "message": "Minor tweaks in tests according to default meters validation feature"}, "afterCommit": {"oid": "b2b403e9c682b4262684ff43eecd1cd584898d4a", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/b2b403e9c682b4262684ff43eecd1cd584898d4a", "committedDate": "2020-01-31T15:05:22Z", "message": "Minor tweaks in tests according to default meters validation feature"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b2b403e9c682b4262684ff43eecd1cd584898d4a", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/b2b403e9c682b4262684ff43eecd1cd584898d4a", "committedDate": "2020-01-31T15:05:22Z", "message": "Minor tweaks in tests according to default meters validation feature"}, "afterCommit": {"oid": "4302e1ec59f7c4c707da44c7cde79725bc1fe9a8", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/4302e1ec59f7c4c707da44c7cde79725bc1fe9a8", "committedDate": "2020-02-18T12:21:56Z", "message": "Minor tweaks in tests according to default meters validation feature"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4302e1ec59f7c4c707da44c7cde79725bc1fe9a8", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/4302e1ec59f7c4c707da44c7cde79725bc1fe9a8", "committedDate": "2020-02-18T12:21:56Z", "message": "Minor tweaks in tests according to default meters validation feature"}, "afterCommit": {"oid": "067f79d146dd897bbb0f7675a147fee02271d140", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/067f79d146dd897bbb0f7675a147fee02271d140", "committedDate": "2020-02-19T10:19:01Z", "message": "Minor tweaks in tests according to default meters validation feature"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "067f79d146dd897bbb0f7675a147fee02271d140", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/067f79d146dd897bbb0f7675a147fee02271d140", "committedDate": "2020-02-19T10:19:01Z", "message": "Minor tweaks in tests according to default meters validation feature"}, "afterCommit": {"oid": "e2aebecf214a3b6677dd7148169593fb4842839c", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/e2aebecf214a3b6677dd7148169593fb4842839c", "committedDate": "2020-02-20T14:56:00Z", "message": "Minor tweaks in tests according to default meters validation feature"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e2aebecf214a3b6677dd7148169593fb4842839c", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/e2aebecf214a3b6677dd7148169593fb4842839c", "committedDate": "2020-02-20T14:56:00Z", "message": "Minor tweaks in tests according to default meters validation feature"}, "afterCommit": {"oid": "5fabd31ab09d9529f884df51228bba9552eae901", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/5fabd31ab09d9529f884df51228bba9552eae901", "committedDate": "2020-02-21T11:42:14Z", "message": "Minor tweaks in tests according to default meters validation feature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60d8e930727cbfa69cbd26ac09593ed3f8dd703a", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/60d8e930727cbfa69cbd26ac09593ed3f8dd703a", "committedDate": "2020-03-02T12:00:20Z", "message": "Minor tweaks in tests according to default meters validation feature"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5fabd31ab09d9529f884df51228bba9552eae901", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/5fabd31ab09d9529f884df51228bba9552eae901", "committedDate": "2020-02-21T11:42:14Z", "message": "Minor tweaks in tests according to default meters validation feature"}, "afterCommit": {"oid": "60d8e930727cbfa69cbd26ac09593ed3f8dd703a", "author": {"user": {"login": "rtretyak", "name": "Roman Tretiak"}}, "url": "https://github.com/telstra/open-kilda/commit/60d8e930727cbfa69cbd26ac09593ed3f8dd703a", "committedDate": "2020-03-02T12:00:20Z", "message": "Minor tweaks in tests according to default meters validation feature"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3721, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}