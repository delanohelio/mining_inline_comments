{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNDcyMjM0", "number": 3862, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0zMVQyMzo1NToxMlrOFU_Pnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0zMVQyMzo1NToxMlrOFU_Pnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzU3NTUyMDMxOnYy", "diffSide": "RIGHT", "path": "src-java/floodlightrouter-topology/floodlightrouter-storm-topology/src/main/java/org/openkilda/wfm/topology/floodlightrouter/FloodlightRouterTopology.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0zMVQyMzo1NToxMlrOIdNyDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wM1QwOToxMToyNlrOIe3_YQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NzUwNTQyMQ==", "bodyText": "Does it make sense to introduce a dedicated \"build\" method instead of repeating \"getZkTopoName(), getConfig().getBlueGreenMode()\" each time?", "url": "https://github.com/telstra/open-kilda/pull/3862#discussion_r567505421", "createdAt": "2021-01-31T23:55:12Z", "author": {"login": "sergii-iakovenko"}, "path": "src-java/floodlightrouter-topology/floodlightrouter-storm-topology/src/main/java/org/openkilda/wfm/topology/floodlightrouter/FloodlightRouterTopology.java", "diffHunk": "@@ -134,7 +168,8 @@ private void speakerToFlowHs(TopologyBuilder topology, TopologyOutput output) {\n \n     private void flowHsToSpeaker(TopologyBuilder topology, TopologyOutput output) {\n         declareKafkaSpoutForAbstractMessage(topology,\n-                kafkaTopics.getSpeakerFlowHsTopic(), ComponentType.SPEAKER_FLOW_HS_KAFKA_SPOUT);\n+                kafkaTopics.getSpeakerFlowHsTopic(), ComponentType.SPEAKER_FLOW_HS_KAFKA_SPOUT,\n+                getZkTopoName(), getConfig().getBlueGreenMode());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b620482fce2bf1de1ae2d00be5beb68fc958f6d"}, "originalPosition": 84}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTI0NTUzNw==", "bodyText": "the original idea was to create a follow up patch to update this declare methods once all components start using zero-downtime spouts/bolts", "url": "https://github.com/telstra/open-kilda/pull/3862#discussion_r569245537", "createdAt": "2021-02-03T09:11:26Z", "author": {"login": "timofei-durakov"}, "path": "src-java/floodlightrouter-topology/floodlightrouter-storm-topology/src/main/java/org/openkilda/wfm/topology/floodlightrouter/FloodlightRouterTopology.java", "diffHunk": "@@ -134,7 +168,8 @@ private void speakerToFlowHs(TopologyBuilder topology, TopologyOutput output) {\n \n     private void flowHsToSpeaker(TopologyBuilder topology, TopologyOutput output) {\n         declareKafkaSpoutForAbstractMessage(topology,\n-                kafkaTopics.getSpeakerFlowHsTopic(), ComponentType.SPEAKER_FLOW_HS_KAFKA_SPOUT);\n+                kafkaTopics.getSpeakerFlowHsTopic(), ComponentType.SPEAKER_FLOW_HS_KAFKA_SPOUT,\n+                getZkTopoName(), getConfig().getBlueGreenMode());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NzUwNTQyMQ=="}, "originalCommit": {"oid": "9b620482fce2bf1de1ae2d00be5beb68fc958f6d"}, "originalPosition": 84}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2298, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}