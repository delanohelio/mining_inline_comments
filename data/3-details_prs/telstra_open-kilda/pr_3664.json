{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3NzkzNTY2", "number": 3664, "title": "Fix possible race condition in get flow by switch operation", "bodyText": "Close #3603", "createdAt": "2020-07-28T13:00:41Z", "url": "https://github.com/telstra/open-kilda/pull/3664", "merged": true, "mergeCommit": {"oid": "71a610db8b67e3905c4af7c130b4c8ef83780ad3"}, "closed": true, "closedAt": "2020-08-04T15:11:14Z", "author": {"login": "rozdy"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6RqjGgFqTQ1OTA3NDM5NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7WCR-gBqjM2MTcwNDE3ODM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5MDc0Mzk0", "url": "https://github.com/telstra/open-kilda/pull/3664#pullrequestreview-459074394", "createdAt": "2020-07-31T10:28:33Z", "commit": {"oid": "dc3bc6679acd600d52eb5554d97d95878d890284"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5MDgwMDA0", "url": "https://github.com/telstra/open-kilda/pull/3664#pullrequestreview-459080004", "createdAt": "2020-07-31T10:38:47Z", "commit": {"oid": "dc3bc6679acd600d52eb5554d97d95878d890284"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5MjI2NjQ2", "url": "https://github.com/telstra/open-kilda/pull/3664#pullrequestreview-459226646", "createdAt": "2020-07-31T14:39:03Z", "commit": {"oid": "dc3bc6679acd600d52eb5554d97d95878d890284"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNDozOTowM1rOG6K-Uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNDozOTowM1rOG6K-Uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzY1MDM4Nw==", "bodyText": "HashSet ... is unordered, how do you propose to define \"the last one\"?", "url": "https://github.com/telstra/open-kilda/pull/3664#discussion_r463650387", "createdAt": "2020-07-31T14:39:03Z", "author": {"login": "surabujin"}, "path": "src-java/nbworker-topology/nbworker-storm-topology/src/main/java/org/openkilda/wfm/topology/nbworker/services/FlowOperationsService.java", "diffHunk": "@@ -198,8 +198,10 @@ public Flow getFlow(String flowId) throws FlowNotFoundException {\n             flows.addAll(flowRepository.findByEndpointSwitch(switchId));\n         }\n         // need to return Flows unique by id\n+        // Due to possible race condition we can have one flow with different flow paths\n+        // In this case we should get the last one", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc3bc6679acd600d52eb5554d97d95878d890284"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dc3bc6679acd600d52eb5554d97d95878d890284", "author": {"user": {"login": "rozdy", "name": "Ievgen Rozdymakha"}}, "url": "https://github.com/telstra/open-kilda/commit/dc3bc6679acd600d52eb5554d97d95878d890284", "committedDate": "2020-07-28T12:57:33Z", "message": "Fix possible race condition in get flow by switch operation"}, "afterCommit": {"oid": "9f6910cd13d7970eee8a8d97c98f5a26fc541d10", "author": {"user": {"login": "rozdy", "name": "Ievgen Rozdymakha"}}, "url": "https://github.com/telstra/open-kilda/commit/9f6910cd13d7970eee8a8d97c98f5a26fc541d10", "committedDate": "2020-08-03T15:05:37Z", "message": "Fix possible race condition in get flow by switch operation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4494aca7b97b961c7e6a8ed81850e56bb68a509d", "author": {"user": {"login": "rozdy", "name": "Ievgen Rozdymakha"}}, "url": "https://github.com/telstra/open-kilda/commit/4494aca7b97b961c7e6a8ed81850e56bb68a509d", "committedDate": "2020-08-03T18:07:44Z", "message": "Fix possible race condition in get flow by switch operation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9f6910cd13d7970eee8a8d97c98f5a26fc541d10", "author": {"user": {"login": "rozdy", "name": "Ievgen Rozdymakha"}}, "url": "https://github.com/telstra/open-kilda/commit/9f6910cd13d7970eee8a8d97c98f5a26fc541d10", "committedDate": "2020-08-03T15:05:37Z", "message": "Fix possible race condition in get flow by switch operation"}, "afterCommit": {"oid": "4494aca7b97b961c7e6a8ed81850e56bb68a509d", "author": {"user": {"login": "rozdy", "name": "Ievgen Rozdymakha"}}, "url": "https://github.com/telstra/open-kilda/commit/4494aca7b97b961c7e6a8ed81850e56bb68a509d", "committedDate": "2020-08-03T18:07:44Z", "message": "Fix possible race condition in get flow by switch operation"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3545, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}