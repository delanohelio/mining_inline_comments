{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5NDExNDMx", "number": 3484, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMDo1MToyOFrOD9V46w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMDo1MToyOFrOD9V46w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1NjQ4MzYzOnYy", "diffSide": "RIGHT", "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/flows/AutoRerouteV2Spec.groovy", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMDo1MToyOFrOGWx1kQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMToxMDo1OFrOGWyckg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjUzODM4NQ==", "bodyText": "why not \"The\u00a0flow\u00a0status\u00a0was\u00a0set\u00a0to\u00a0UP\" or \"Flow\u00a0was\u00a0rerouted\u00a0successfully\" ?", "url": "https://github.com/telstra/open-kilda/pull/3484#discussion_r426538385", "createdAt": "2020-05-18T10:51:28Z", "author": {"login": "andriidovhan"}, "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/flows/AutoRerouteV2Spec.groovy", "diffHunk": "@@ -110,6 +110,8 @@ class AutoRerouteV2Spec extends HealthCheckSpecification {\n         then: \"The flow becomes 'Up'\"\n         Wrappers.wait(rerouteDelay + WAIT_OFFSET) {\n             assert northboundV2.getFlowStatus(flow.flowId).status == FlowState.UP\n+            assert northbound.getFlowHistory(flow.flowId).last().histories\n+                .find { it.action == \"The flow status was reverted to UP\" }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eadd15b9a618f13482699695b27cd5373d1ac6d4"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjU0NzQ5NA==", "bodyText": "ye, makes sense", "url": "https://github.com/telstra/open-kilda/pull/3484#discussion_r426547494", "createdAt": "2020-05-18T11:09:22Z", "author": {"login": "rtretyak"}, "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/flows/AutoRerouteV2Spec.groovy", "diffHunk": "@@ -110,6 +110,8 @@ class AutoRerouteV2Spec extends HealthCheckSpecification {\n         then: \"The flow becomes 'Up'\"\n         Wrappers.wait(rerouteDelay + WAIT_OFFSET) {\n             assert northboundV2.getFlowStatus(flow.flowId).status == FlowState.UP\n+            assert northbound.getFlowHistory(flow.flowId).last().histories\n+                .find { it.action == \"The flow status was reverted to UP\" }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjUzODM4NQ=="}, "originalCommit": {"oid": "eadd15b9a618f13482699695b27cd5373d1ac6d4"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjU0ODM3MA==", "bodyText": "no, doesn't) It will always be the same path as it was before, so it will always be 'status reverted to up'\nthe history entry for this event is kinda strange =(\n{\n                \"timestamp\": 1589790868,\n                \"action\": \"Flow was validated successfully\",\n                \"details\": null\n            },\n            {\n                \"timestamp\": 1589790868,\n                \"action\": \"Found the same primary path. Skipped creating of it\",\n                \"details\": null\n            },\n            {\n                \"timestamp\": 1589790868,\n                \"action\": \"The flow status was reverted to UP\",\n                \"details\": null\n            },\n            {\n                \"timestamp\": 1589790868,\n                \"action\": \"Failed to reroute the flow\",\n                \"details\": \"Reroute is unsuccessful. Couldn't find new path(s)\"\n            }", "url": "https://github.com/telstra/open-kilda/pull/3484#discussion_r426548370", "createdAt": "2020-05-18T11:10:58Z", "author": {"login": "rtretyak"}, "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/flows/AutoRerouteV2Spec.groovy", "diffHunk": "@@ -110,6 +110,8 @@ class AutoRerouteV2Spec extends HealthCheckSpecification {\n         then: \"The flow becomes 'Up'\"\n         Wrappers.wait(rerouteDelay + WAIT_OFFSET) {\n             assert northboundV2.getFlowStatus(flow.flowId).status == FlowState.UP\n+            assert northbound.getFlowHistory(flow.flowId).last().histories\n+                .find { it.action == \"The flow status was reverted to UP\" }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjUzODM4NQ=="}, "originalCommit": {"oid": "eadd15b9a618f13482699695b27cd5373d1ac6d4"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1982, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}