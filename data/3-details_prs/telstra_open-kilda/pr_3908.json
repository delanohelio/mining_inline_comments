{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzNTU4OTkw", "number": 3908, "title": "add test for #3906", "bodyText": "", "createdAt": "2020-12-07T10:22:24Z", "url": "https://github.com/telstra/open-kilda/pull/3908", "merged": true, "mergeCommit": {"oid": "e4a5bffa0c566aed1b0bab378b4abaef70b72d09"}, "closed": true, "closedAt": "2020-12-11T10:29:08Z", "author": {"login": "andriidovhan"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkfJiZgFqTU0ODIwMTUwNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdk2haugBqjQwOTYyMTI3MDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4MjAxNTA1", "url": "https://github.com/telstra/open-kilda/pull/3908#pullrequestreview-548201505", "createdAt": "2020-12-09T13:51:53Z", "commit": {"oid": "74737d2cdfc2ae7db2e090fb8a1d614f8e381a57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxMzo1MTo1NFrOICVoRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxMzo1MTo1NFrOICVoRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTMyMjQzOA==", "bodyText": "I don't like this naming since it is very narrow. Test should describe a certain situation that we are testing, more broad scenario. Right now this looks like a pin-point test that is created to test a specific defect, very low value.\nDescribe a real-life situation/use-case: System detects a 1-way ISL as a Failed ISL -> then as part of this broad test add required verifications", "url": "https://github.com/telstra/open-kilda/pull/3908#discussion_r539322438", "createdAt": "2020-12-09T13:51:54Z", "author": {"login": "rtretyak"}, "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/links/LinkSpec.groovy", "diffHunk": "@@ -759,13 +759,74 @@ class LinkSpec extends HealthCheckSpecification {\n             antiflap.portUp(isl.srcSwitch.dpId, isl.srcPort)\n             Wrappers.wait(discoveryInterval + WAIT_OFFSET) {\n                 def links = northbound.getAllLinks()\n-                assert islUtils.getIslInfo(links, isl.reversed).get().state == IslChangeType.DISCOVERED\n-                assert islUtils.getIslInfo(links, isl).get().state == IslChangeType.DISCOVERED\n+                assert islUtils.getIslInfo(links, isl.reversed).get().state == DISCOVERED\n+                assert islUtils.getIslInfo(links, isl).get().state == DISCOVERED\n             }\n         }\n         database.resetCosts()\n     }\n \n+    @Tidy\n+    def \"The src/dst switches are valid when isl is discovered in one direction only\"() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74737d2cdfc2ae7db2e090fb8a1d614f8e381a57"}, "originalPosition": 183}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "74737d2cdfc2ae7db2e090fb8a1d614f8e381a57", "author": {"user": {"login": "andriidovhan", "name": "AndriiDovhan"}}, "url": "https://github.com/telstra/open-kilda/commit/74737d2cdfc2ae7db2e090fb8a1d614f8e381a57", "committedDate": "2020-12-07T10:16:43Z", "message": "add test for #3906"}, "afterCommit": {"oid": "e63af052576b56bb6c1e2ab4ef86b22b2f5104c7", "author": {"user": {"login": "andriidovhan", "name": "AndriiDovhan"}}, "url": "https://github.com/telstra/open-kilda/commit/e63af052576b56bb6c1e2ab4ef86b22b2f5104c7", "committedDate": "2020-12-10T08:29:25Z", "message": "add test for #3906"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4OTU4MjM1", "url": "https://github.com/telstra/open-kilda/pull/3908#pullrequestreview-548958235", "createdAt": "2020-12-10T08:36:36Z", "commit": {"oid": "e63af052576b56bb6c1e2ab4ef86b22b2f5104c7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28c4ff7b5ea79a866e7b538d4a9b01b0cf2e40f6", "author": {"user": {"login": "andriidovhan", "name": "AndriiDovhan"}}, "url": "https://github.com/telstra/open-kilda/commit/28c4ff7b5ea79a866e7b538d4a9b01b0cf2e40f6", "committedDate": "2020-12-10T17:09:43Z", "message": "add test for #3906"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e63af052576b56bb6c1e2ab4ef86b22b2f5104c7", "author": {"user": {"login": "andriidovhan", "name": "AndriiDovhan"}}, "url": "https://github.com/telstra/open-kilda/commit/e63af052576b56bb6c1e2ab4ef86b22b2f5104c7", "committedDate": "2020-12-10T08:29:25Z", "message": "add test for #3906"}, "afterCommit": {"oid": "28c4ff7b5ea79a866e7b538d4a9b01b0cf2e40f6", "author": {"user": {"login": "andriidovhan", "name": "AndriiDovhan"}}, "url": "https://github.com/telstra/open-kilda/commit/28c4ff7b5ea79a866e7b538d4a9b01b0cf2e40f6", "committedDate": "2020-12-10T17:09:43Z", "message": "add test for #3906"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3788, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}