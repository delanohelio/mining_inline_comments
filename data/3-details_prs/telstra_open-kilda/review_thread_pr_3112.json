{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMTY1MTc1", "number": 3112, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNTozMjoyMFrODXjziQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNTozMjoyMFrODXjziQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI2MDMwNDczOnYy", "diffSide": "RIGHT", "path": "services/src/functional-tests/src/main/groovy/org/openkilda/functionaltests/helpers/TopologyHelper.groovy", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNTozMjoyMFrOFc6xhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNTo1ODozMVrOFc7rpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg2NzM5Nw==", "bodyText": "OK, but can be more compact:\ntopoLinks.unique { a, b -> a == b || a == b.reversed ? 0 : 1 }", "url": "https://github.com/telstra/open-kilda/pull/3112#discussion_r365867397", "createdAt": "2020-01-13T15:32:20Z", "author": {"login": "rtretyak"}, "path": "services/src/functional-tests/src/main/groovy/org/openkilda/functionaltests/helpers/TopologyHelper.groovy", "diffHunk": "@@ -91,7 +91,13 @@ class TopologyHelper {\n                     topoSwitches.find { it.dpId == link.destination.switchId }, link.destination.portNo,\n                     link.maxBandwidth, null)\n         }\n-        return new TopologyDefinition(topoSwitches, topoLinks, [], TraffGenConfig.defaultConfig())\n+        def oneWayTopoLinks = []\n+        topoLinks.each { l ->\n+            if (oneWayTopoLinks.findAll { it == l || it == l.reversed }.empty) {\n+                oneWayTopoLinks << l\n+            }\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3729365fb8d4e02f7fc064fa7a7edf83e3d551e"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg4MjI3OQ==", "bodyText": "thx, refactored", "url": "https://github.com/telstra/open-kilda/pull/3112#discussion_r365882279", "createdAt": "2020-01-13T15:58:31Z", "author": {"login": "andriidovhan"}, "path": "services/src/functional-tests/src/main/groovy/org/openkilda/functionaltests/helpers/TopologyHelper.groovy", "diffHunk": "@@ -91,7 +91,13 @@ class TopologyHelper {\n                     topoSwitches.find { it.dpId == link.destination.switchId }, link.destination.portNo,\n                     link.maxBandwidth, null)\n         }\n-        return new TopologyDefinition(topoSwitches, topoLinks, [], TraffGenConfig.defaultConfig())\n+        def oneWayTopoLinks = []\n+        topoLinks.each { l ->\n+            if (oneWayTopoLinks.findAll { it == l || it == l.reversed }.empty) {\n+                oneWayTopoLinks << l\n+            }\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg2NzM5Nw=="}, "originalCommit": {"oid": "a3729365fb8d4e02f7fc064fa7a7edf83e3d551e"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2056, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}