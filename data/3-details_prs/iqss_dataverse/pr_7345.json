{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3ODMzMjQ1", "number": 7345, "title": "7307 get user by token", "bodyText": "What this PR does / why we need it:\nAdds an endpoint to the admin API to list a single user by passing that user's token. Required for the OpenDP MVP\nWhich issue(s) this PR closes:\nCloses #7307\nSpecial notes for your reviewer:\nSuggestions on how to test this:\nDoes this PR introduce a user interface change? If mockups are available, please link/include them here:\nIs there a release notes update needed for this change?:\nAdditional documentation: In addition to adding the doc to the List Single User section, I also made a slight edit to the adjacent \"Create Authenticated User\". It was missing a header and had a typo.", "createdAt": "2020-10-21T20:06:47Z", "url": "https://github.com/IQSS/dataverse/pull/7345", "merged": true, "mergeCommit": {"oid": "3da9c4018310959e5517758ea2b688d32e92ea11"}, "closed": true, "closedAt": "2020-11-03T21:41:19Z", "author": {"login": "sekmiller"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUyW4bAH2gAyNTA3ODMzMjQ1OjVmNzU3MjA3MDYyMjk2OWZiMWUyZTliYTM3ODZjZDlkOTM1MzViMzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdY-6r9AH2gAyNTA3ODMzMjQ1OmJiOWVlZmU2ZGVlYTkwYmQ4ZWM5NDlhODI5MDFjYjZlNDkxYjlmNDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5f7572070622969fb1e2e9ba3786cd9d93535b34", "author": {"user": {"login": "sekmiller", "name": "Stephen Kraffmiller"}}, "url": "https://github.com/IQSS/dataverse/commit/5f7572070622969fb1e2e9ba3786cd9d93535b34", "committedDate": "2020-10-21T19:15:58Z", "message": "Merge branch 'develop' into 7307-get-user-by-token"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c52e10456b5e4db82e39bdc0ea54694c49c12fd", "author": {"user": {"login": "sekmiller", "name": "Stephen Kraffmiller"}}, "url": "https://github.com/IQSS/dataverse/commit/9c52e10456b5e4db82e39bdc0ea54694c49c12fd", "committedDate": "2020-10-21T19:26:40Z", "message": "#7307 add endpoint to get user by token"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "722b4619053a43d75d42a358c278fcc3088a947a", "author": {"user": {"login": "sekmiller", "name": "Stephen Kraffmiller"}}, "url": "https://github.com/IQSS/dataverse/commit/722b4619053a43d75d42a358c278fcc3088a947a", "committedDate": "2020-10-21T19:51:44Z", "message": "Update native-api.rst"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d955193d5d2b2971d7398ad431ee9a70c35ffa3", "author": {"user": {"login": "djbrooke", "name": "Danny Brooke"}}, "url": "https://github.com/IQSS/dataverse/commit/3d955193d5d2b2971d7398ad431ee9a70c35ffa3", "committedDate": "2020-10-21T20:02:49Z", "message": "adding release note"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "977188f635095b340663888cfc3ad97502f91f25", "author": {"user": {"login": "djbrooke", "name": "Danny Brooke"}}, "url": "https://github.com/IQSS/dataverse/commit/977188f635095b340663888cfc3ad97502f91f25", "committedDate": "2020-10-21T20:33:51Z", "message": "updating header\n\nwill clean this up in eventual release notes, just wanted to make sure I have something to pull from. :)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1OTYyNDc1", "url": "https://github.com/IQSS/dataverse/pull/7345#pullrequestreview-515962475", "createdAt": "2020-10-23T19:44:40Z", "commit": {"oid": "977188f635095b340663888cfc3ad97502f91f25"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxOTo0NDo0MFrOHncNjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxOTo0NDo0MFrOHncNjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTExODczNQ==", "bodyText": "Unless I'm missing something, he admin api is blocked off (rightly so), so external tools would not be able to call this. Do we have other user APIs, if so this should go there. (if not, we should create something like \"/api/users/\"*)\n\nI've never been a fan of the plural, but we should be consistent with \"datasets\", \"dataverses\", etc.\n\nAlso, we should be getting the token from the header, like we do from other APIs.", "url": "https://github.com/IQSS/dataverse/pull/7345#discussion_r511118735", "createdAt": "2020-10-23T19:44:40Z", "author": {"login": "scolapasta"}, "path": "doc/sphinx-guides/source/api/native-api.rst", "diffHunk": "@@ -2875,8 +2875,15 @@ Sample output using \"dataverseAdmin\" as the ``identifier``::\n       \"superuser\": true,\n       \"affiliation\": \"Dataverse.org\"\n     }\n+    \n+Alternatively you may pass a user's api ``token`` to retrieve the same output::\n+   \n+    GET http://$SERVER/api/admin/authenticatedUsers/token/$token", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "977188f635095b340663888cfc3ad97502f91f25"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9854e4314c80595cd3d4d23e89ec9985374f626", "author": {"user": {"login": "sekmiller", "name": "Stephen Kraffmiller"}}, "url": "https://github.com/IQSS/dataverse/commit/d9854e4314c80595cd3d4d23e89ec9985374f626", "committedDate": "2020-10-23T20:00:09Z", "message": "Merge branch 'develop' into 7307-get-user-by-token"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f428250e7ce79bc8418fa9b6201bf3738bdfa362", "author": {"user": {"login": "sekmiller", "name": "Stephen Kraffmiller"}}, "url": "https://github.com/IQSS/dataverse/commit/f428250e7ce79bc8418fa9b6201bf3738bdfa362", "committedDate": "2020-10-26T19:54:43Z", "message": "#7307 move endpoint to users"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "060d35ed410e9d4744bc8387736dec2ac594f98b", "author": {"user": {"login": "sekmiller", "name": "Stephen Kraffmiller"}}, "url": "https://github.com/IQSS/dataverse/commit/060d35ed410e9d4744bc8387736dec2ac594f98b", "committedDate": "2020-10-26T19:55:05Z", "message": "Merge branch 'develop' into 7307-get-user-by-token"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d530a628421728649931c2c1b6fbeae038576993", "author": {"user": {"login": "sekmiller", "name": "Stephen Kraffmiller"}}, "url": "https://github.com/IQSS/dataverse/commit/d530a628421728649931c2c1b6fbeae038576993", "committedDate": "2020-10-26T20:24:14Z", "message": "Update native-api.rst"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ea431035070426ea1a9c9200fe71315205d5adc", "author": {"user": {"login": "sekmiller", "name": "Stephen Kraffmiller"}}, "url": "https://github.com/IQSS/dataverse/commit/4ea431035070426ea1a9c9200fe71315205d5adc", "committedDate": "2020-10-26T21:22:24Z", "message": "Update native-api.rst"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c500b0575c8a81166a75a2a5dc6bd5866dd8a6b0", "author": {"user": {"login": "sekmiller", "name": "Stephen Kraffmiller"}}, "url": "https://github.com/IQSS/dataverse/commit/c500b0575c8a81166a75a2a5dc6bd5866dd8a6b0", "committedDate": "2020-10-27T13:18:03Z", "message": "#7307 remove debug code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMDQyNDM0", "url": "https://github.com/IQSS/dataverse/pull/7345#pullrequestreview-520042434", "createdAt": "2020-10-29T20:10:11Z", "commit": {"oid": "c500b0575c8a81166a75a2a5dc6bd5866dd8a6b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb9eefe6deea90bd8ec949a82901cb6e491b9f48", "author": {"user": {"login": "sekmiller", "name": "Stephen Kraffmiller"}}, "url": "https://github.com/IQSS/dataverse/commit/bb9eefe6deea90bd8ec949a82901cb6e491b9f48", "committedDate": "2020-11-03T20:09:38Z", "message": "Merge branch 'develop' into 7307-get-user-by-token"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 801, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}