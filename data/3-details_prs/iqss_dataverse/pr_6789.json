{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3NjY1NTc0", "number": 6789, "title": "document local-to-s3 storage migration", "bodyText": "What this PR does / why we need it: initial documentation for local-to-s3 storage migration\nWhich issue(s) this PR closes: 6771\nCloses #6771\nSpecial notes for your reviewer: @landreev and @qqmyers should review\nSuggestions on how to test this: essentially just SQL queries. have mercy on my restructured text formatting.\nDoes this PR introduce a user interface change?: no\nIs there a release notes update needed for this change?: no\nAdditional documentation: none", "createdAt": "2020-04-02T15:52:19Z", "url": "https://github.com/IQSS/dataverse/pull/6789", "merged": true, "mergeCommit": {"oid": "e476fd5a2b98a063151364ae64ace0571956a1d8"}, "closed": true, "closedAt": "2020-04-02T17:34:58Z", "author": {"login": "donsizemore"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTuUdAgH2gAyMzk3NjY1NTc0OmExMmZhYjZhODlhYzcwOGM5Y2M4YzQ5ZjFlNjE5ZmQ3ZmVmZjdmYmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTvXzjgH2gAyMzk3NjY1NTc0OjgxZTgxODVjNDhmM2FjYzBlNGZjYzZmMmI3ZTBjYjA5MGU3NDk5ZWM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a12fab6a89ac708c9cc8c49f1e619fd7feff7fbd", "author": {"user": {"login": "donsizemore", "name": "Don Sizemore"}}, "url": "https://github.com/IQSS/dataverse/commit/a12fab6a89ac708c9cc8c49f1e619fd7feff7fbd", "committedDate": "2020-04-02T15:48:37Z", "message": "#6771 document local-to-s3 storage migration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NTg4NDAy", "url": "https://github.com/IQSS/dataverse/pull/6789#pullrequestreview-386588402", "createdAt": "2020-04-02T16:20:42Z", "commit": {"oid": "a12fab6a89ac708c9cc8c49f1e619fd7feff7fbd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NTkyMTQ1", "url": "https://github.com/IQSS/dataverse/pull/6789#pullrequestreview-386592145", "createdAt": "2020-04-02T16:25:13Z", "commit": {"oid": "a12fab6a89ac708c9cc8c49f1e619fd7feff7fbd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjoyNToxM1rOF_zRLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjoyNToxM1rOF_zRLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ0NDU5MQ==", "bodyText": "Just to to nitpick a little, should probably be \"e.g. 10.5072\" or \"for example, 10.5072\" instead of \"i.e. 10.5072\"?", "url": "https://github.com/IQSS/dataverse/pull/6789#discussion_r402444591", "createdAt": "2020-04-02T16:25:13Z", "author": {"login": "landreev"}, "path": "doc/sphinx-guides/source/developers/deployment.rst", "diffHunk": "@@ -103,6 +103,44 @@ Caveat Recipiens\n \n Please note that while the script should work well on new-ish branches, older branches that have different dependencies such as an older version of Solr may not produce a working Dataverse installation. Your mileage may vary.\n \n+\n+Migrating Datafiles from Local Storage to S3\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+A number of pilot Dataverse installations start on local storage, then administrators are tasked with migrating datafiles into S3 or similar object stores. The files may be copied with a command-line utility such as `s3cmd<https://s3tools.org/s3cmd>`. You will want to retain the local file hierarchy, keeping the authority (i.e. 10.5072) at the bucket \"root.\"\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a12fab6a89ac708c9cc8c49f1e619fd7feff7fbd"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NTk2NDE2", "url": "https://github.com/IQSS/dataverse/pull/6789#pullrequestreview-386596416", "createdAt": "2020-04-02T16:30:20Z", "commit": {"oid": "a12fab6a89ac708c9cc8c49f1e619fd7feff7fbd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81e8185c48f3acc0e4fcc6f2b7e0cb090e7499ec", "author": {"user": {"login": "donsizemore", "name": "Don Sizemore"}}, "url": "https://github.com/IQSS/dataverse/commit/81e8185c48f3acc0e4fcc6f2b7e0cb090e7499ec", "committedDate": "2020-04-02T17:02:11Z", "message": "#6771 correct don's poor latin"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 956, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}