{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwMDcwMzU1", "number": 7319, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzoyMTo1N1rOErtn_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzoyMjo0MlrOErto4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MjcxNzQxOnYy", "diffSide": "RIGHT", "path": "doc/release-notes/5.1.1-release-notes.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzoyMTo1N1rOHeotsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzo0NTozOFrOHepn1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg4NjM4Ng==", "bodyText": "Might want to say 'Dataverse 5.1 improved the efficiency of making S3 connections through use of an http connection pool.'\nAnd also add to the last sentence - 'In parallel, this release increases the default pool size from 50 to 256 and adds the ability...;", "url": "https://github.com/IQSS/dataverse/pull/7319#discussion_r501886386", "createdAt": "2020-10-08T17:21:57Z", "author": {"login": "qqmyers"}, "path": "doc/release-notes/5.1.1-release-notes.md", "diffHunk": "@@ -0,0 +1,59 @@\n+# Dataverse 5.1.1\n+\n+This minor release adds important optimizations to installations running on AWS S3. It is recommended that 5.1.1 be used in production instead of 5.1.\n+\n+## Release Highlights\n+\n+### Connection Pool Size Configuration Option, Connection Optimizations\n+\n+This release adds optimizations around closing streams and channels that may hold S3 http connections open and exhaust the connection pool. In parallel, this release adds the ability to increase the size of the connection pool, so a larger pool can be configured if needed.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01a59fc52e2efedab6be063725082957d840078f"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkwMTI3MA==", "bodyText": "Good stuff @qqmyers... added in d61b593", "url": "https://github.com/IQSS/dataverse/pull/7319#discussion_r501901270", "createdAt": "2020-10-08T17:45:38Z", "author": {"login": "djbrooke"}, "path": "doc/release-notes/5.1.1-release-notes.md", "diffHunk": "@@ -0,0 +1,59 @@\n+# Dataverse 5.1.1\n+\n+This minor release adds important optimizations to installations running on AWS S3. It is recommended that 5.1.1 be used in production instead of 5.1.\n+\n+## Release Highlights\n+\n+### Connection Pool Size Configuration Option, Connection Optimizations\n+\n+This release adds optimizations around closing streams and channels that may hold S3 http connections open and exhaust the connection pool. In parallel, this release adds the ability to increase the size of the connection pool, so a larger pool can be configured if needed.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg4NjM4Ng=="}, "originalCommit": {"oid": "01a59fc52e2efedab6be063725082957d840078f"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MjcxNzY1OnYy", "diffSide": "RIGHT", "path": "doc/release-notes/5.1.1-release-notes.md", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzoyMjowNFrOHeot5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzo0Nzo0OFrOHeptOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg4NjQzNw==", "bodyText": "This sort of implies that you can skip 5.1 (going straight from 5.0 to 5.1.1) but it looks like there's a metadata block change (and subsequent Solr change and reexport step) in 5.1. I guess we have a couple options:\n\nTell people to upgrade to 5.1 first (more straightforward, I think).\nCopy to the 5.1.1 upgrade instructions information about biomedical.tsv and Solr change and reexport step. (more confusing, I think).", "url": "https://github.com/IQSS/dataverse/pull/7319#discussion_r501886437", "createdAt": "2020-10-08T17:22:04Z", "author": {"login": "pdurbin"}, "path": "doc/release-notes/5.1.1-release-notes.md", "diffHunk": "@@ -0,0 +1,59 @@\n+# Dataverse 5.1.1\n+\n+This minor release adds important optimizations to installations running on AWS S3. It is recommended that 5.1.1 be used in production instead of 5.1.\n+\n+## Release Highlights\n+\n+### Connection Pool Size Configuration Option, Connection Optimizations\n+\n+This release adds optimizations around closing streams and channels that may hold S3 http connections open and exhaust the connection pool. In parallel, this release adds the ability to increase the size of the connection pool, so a larger pool can be configured if needed.\n+\n+## Major Use Cases\n+\n+Newly-supported use cases in this release include:\n+\n+- Administrators of installations using S3 will be able to define the connection pool size, allowing better resource scaling for larger installations (Issue #7309, PR #7313)\n+\n+## Notes for Dataverse Installation Administrators\n+\n+### 5.1.1 vs. 5.1 for Production Use\n+\n+As mentioned above, we encourage 5.1.1 instead of 5.1 for production use.\n+\n+### New JVM Option for Connection Pool Size\n+\n+Larger installations may want to increase the number of open S3 connections allowed (default is 256). For example, to set the value to 4096:\n+\n+``./asadmin create-jvm-options \"-Ddataverse.files.<id>.connection-pool-size=4096\"`\n+\n+The JVM Options section of the [Configuration Guide](http://guides.dataverse.org/en/5.1.1/installation/config/) has more information.\n+\n+## Complete List of Changes\n+\n+For the complete list of code changes in this release, see the [5.1.1 Milestone](https://github.com/IQSS/dataverse/milestone/91?closed=1) in Github.\n+\n+For help with upgrading, installing, or general questions please post to the [Dataverse Google Group](https://groups.google.com/forum/#!forum/dataverse-community) or email support@dataverse.org.\n+\n+## Installation\n+\n+If this is a new installation, please see our [Installation Guide](http://guides.dataverse.org/en/5.1.1/installation/)\n+\n+## Upgrade Instructions\n+\n+0. These instructions assume that you've already successfully upgraded from Dataverse 4.x to  Dataverse 5 following the instructions in the [Dataverse 5 Release Notes](https://github.com/IQSS/dataverse/releases/tag/v5.0).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01a59fc52e2efedab6be063725082957d840078f"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg4ODIwMw==", "bodyText": "Yeah  - people are used to having to install all intermediate versions, so I'd vote for just adding a reminder.", "url": "https://github.com/IQSS/dataverse/pull/7319#discussion_r501888203", "createdAt": "2020-10-08T17:25:02Z", "author": {"login": "qqmyers"}, "path": "doc/release-notes/5.1.1-release-notes.md", "diffHunk": "@@ -0,0 +1,59 @@\n+# Dataverse 5.1.1\n+\n+This minor release adds important optimizations to installations running on AWS S3. It is recommended that 5.1.1 be used in production instead of 5.1.\n+\n+## Release Highlights\n+\n+### Connection Pool Size Configuration Option, Connection Optimizations\n+\n+This release adds optimizations around closing streams and channels that may hold S3 http connections open and exhaust the connection pool. In parallel, this release adds the ability to increase the size of the connection pool, so a larger pool can be configured if needed.\n+\n+## Major Use Cases\n+\n+Newly-supported use cases in this release include:\n+\n+- Administrators of installations using S3 will be able to define the connection pool size, allowing better resource scaling for larger installations (Issue #7309, PR #7313)\n+\n+## Notes for Dataverse Installation Administrators\n+\n+### 5.1.1 vs. 5.1 for Production Use\n+\n+As mentioned above, we encourage 5.1.1 instead of 5.1 for production use.\n+\n+### New JVM Option for Connection Pool Size\n+\n+Larger installations may want to increase the number of open S3 connections allowed (default is 256). For example, to set the value to 4096:\n+\n+``./asadmin create-jvm-options \"-Ddataverse.files.<id>.connection-pool-size=4096\"`\n+\n+The JVM Options section of the [Configuration Guide](http://guides.dataverse.org/en/5.1.1/installation/config/) has more information.\n+\n+## Complete List of Changes\n+\n+For the complete list of code changes in this release, see the [5.1.1 Milestone](https://github.com/IQSS/dataverse/milestone/91?closed=1) in Github.\n+\n+For help with upgrading, installing, or general questions please post to the [Dataverse Google Group](https://groups.google.com/forum/#!forum/dataverse-community) or email support@dataverse.org.\n+\n+## Installation\n+\n+If this is a new installation, please see our [Installation Guide](http://guides.dataverse.org/en/5.1.1/installation/)\n+\n+## Upgrade Instructions\n+\n+0. These instructions assume that you've already successfully upgraded from Dataverse 4.x to  Dataverse 5 following the instructions in the [Dataverse 5 Release Notes](https://github.com/IQSS/dataverse/releases/tag/v5.0).", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg4NjQzNw=="}, "originalCommit": {"oid": "01a59fc52e2efedab6be063725082957d840078f"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkwMjY0OQ==", "bodyText": "Thanks @pdurbin (and @kcondon too) for the suggestion, updated in 155dfb6", "url": "https://github.com/IQSS/dataverse/pull/7319#discussion_r501902649", "createdAt": "2020-10-08T17:47:48Z", "author": {"login": "djbrooke"}, "path": "doc/release-notes/5.1.1-release-notes.md", "diffHunk": "@@ -0,0 +1,59 @@\n+# Dataverse 5.1.1\n+\n+This minor release adds important optimizations to installations running on AWS S3. It is recommended that 5.1.1 be used in production instead of 5.1.\n+\n+## Release Highlights\n+\n+### Connection Pool Size Configuration Option, Connection Optimizations\n+\n+This release adds optimizations around closing streams and channels that may hold S3 http connections open and exhaust the connection pool. In parallel, this release adds the ability to increase the size of the connection pool, so a larger pool can be configured if needed.\n+\n+## Major Use Cases\n+\n+Newly-supported use cases in this release include:\n+\n+- Administrators of installations using S3 will be able to define the connection pool size, allowing better resource scaling for larger installations (Issue #7309, PR #7313)\n+\n+## Notes for Dataverse Installation Administrators\n+\n+### 5.1.1 vs. 5.1 for Production Use\n+\n+As mentioned above, we encourage 5.1.1 instead of 5.1 for production use.\n+\n+### New JVM Option for Connection Pool Size\n+\n+Larger installations may want to increase the number of open S3 connections allowed (default is 256). For example, to set the value to 4096:\n+\n+``./asadmin create-jvm-options \"-Ddataverse.files.<id>.connection-pool-size=4096\"`\n+\n+The JVM Options section of the [Configuration Guide](http://guides.dataverse.org/en/5.1.1/installation/config/) has more information.\n+\n+## Complete List of Changes\n+\n+For the complete list of code changes in this release, see the [5.1.1 Milestone](https://github.com/IQSS/dataverse/milestone/91?closed=1) in Github.\n+\n+For help with upgrading, installing, or general questions please post to the [Dataverse Google Group](https://groups.google.com/forum/#!forum/dataverse-community) or email support@dataverse.org.\n+\n+## Installation\n+\n+If this is a new installation, please see our [Installation Guide](http://guides.dataverse.org/en/5.1.1/installation/)\n+\n+## Upgrade Instructions\n+\n+0. These instructions assume that you've already successfully upgraded from Dataverse 4.x to  Dataverse 5 following the instructions in the [Dataverse 5 Release Notes](https://github.com/IQSS/dataverse/releases/tag/v5.0).", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg4NjQzNw=="}, "originalCommit": {"oid": "01a59fc52e2efedab6be063725082957d840078f"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MjcxOTY5OnYy", "diffSide": "RIGHT", "path": "doc/release-notes/5.1.1-release-notes.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzoyMjo0MlrOHeovTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzo0ODo1N1rOHepwCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg4Njc5OQ==", "bodyText": "'scaling improvements' instead of 'optimizations'?", "url": "https://github.com/IQSS/dataverse/pull/7319#discussion_r501886799", "createdAt": "2020-10-08T17:22:42Z", "author": {"login": "qqmyers"}, "path": "doc/release-notes/5.1.1-release-notes.md", "diffHunk": "@@ -0,0 +1,59 @@\n+# Dataverse 5.1.1\n+\n+This minor release adds important optimizations to installations running on AWS S3. It is recommended that 5.1.1 be used in production instead of 5.1.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01a59fc52e2efedab6be063725082957d840078f"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkwMzM2OA==", "bodyText": "updated in 49af197", "url": "https://github.com/IQSS/dataverse/pull/7319#discussion_r501903368", "createdAt": "2020-10-08T17:48:57Z", "author": {"login": "djbrooke"}, "path": "doc/release-notes/5.1.1-release-notes.md", "diffHunk": "@@ -0,0 +1,59 @@\n+# Dataverse 5.1.1\n+\n+This minor release adds important optimizations to installations running on AWS S3. It is recommended that 5.1.1 be used in production instead of 5.1.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg4Njc5OQ=="}, "originalCommit": {"oid": "01a59fc52e2efedab6be063725082957d840078f"}, "originalPosition": 3}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3165, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}