{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3NDU3NjE1", "number": 6958, "title": "Iqss/4977 - Reorder Publication Year Facet Chronologically", "bodyText": "What this PR does / why we need it: This reorders the results for the Publication Year facet to be chronological\nWhich issue(s) this PR closes:\nCloses #4977\nSpecial notes for your reviewer: FWIW: This PR doesn't resolve the underlying issue that the results for all facets are coming back form solr in order of # of counts. I'm simply reordering the results for this one facet. Since the number of years is not large, sorting should be reasonable. The other shortcut I made is to just use alphabetical sorting since the years are strings. That could be changed too, either in solr, or in the sorting compareTo method I wrote. I'd be happy to do the latter if desired but I don't have the time/expertise to dig into any changes requiring updates to solr itself.\nSuggestions on how to test this: The Publication Year facet should show years in chronological descending order.  I don't have a repo with more than 5 years available so if there is one, it would be good to test that this works even with the limit of displaying 5 and then having to ask for more. (It should).\nDoes this PR introduce a user interface change? If mockups are available, please link/include them here: Just the change in order of the entries which is what the issue is about.\nIs there a release notes update needed for this change?: No\nAdditional documentation: None", "createdAt": "2020-06-03T21:09:08Z", "url": "https://github.com/IQSS/dataverse/pull/6958", "merged": true, "mergeCommit": {"oid": "b97185abccdd75adc3649296054464c3683938bf"}, "closed": true, "closedAt": "2020-06-22T19:04:34Z", "author": {"login": "qqmyers"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnv1xaAH2gAyNDI3NDU3NjE1OmE5MTk5ZjljNzQ2YjFhZTAzYzQ5NDFjZDZhMTE0NzQ2ZDQ1OWE5Yjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcse1wUgH2gAyNDI3NDU3NjE1OmUyNWUyYWE5MWU2Y2JjYWI2NGVlNzM3OTRmMjFiZDhmMDZiYTgxMmY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a9199f9c746b1ae03c4941cd6a114746d459a9b7", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/a9199f9c746b1ae03c4941cd6a114746d459a9b7", "committedDate": "2020-06-03T20:53:24Z", "message": "try sorting pub year facet"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "825376baa8fa1208f3536a1166d1f665b779f38a", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/825376baa8fa1208f3536a1166d1f665b779f38a", "committedDate": "2020-06-03T20:53:32Z", "message": "debug - log facet names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42ec4fd3ae9db25120ffddd0cda8dd716368b991", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/42ec4fd3ae9db25120ffddd0cda8dd716368b991", "committedDate": "2020-06-03T20:53:39Z", "message": "implement comparable for FacetLabel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ee16c8dd3024895780d535dcbfcc20ebaab07bb", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/8ee16c8dd3024895780d535dcbfcc20ebaab07bb", "committedDate": "2020-06-03T20:53:45Z", "message": "debug - print ordering"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82f359eef1a80bcf8dc82778fba3480d3760dfbe", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/82f359eef1a80bcf8dc82778fba3480d3760dfbe", "committedDate": "2020-06-03T20:53:51Z", "message": "use Java equals() :-)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5aec8a02bc5fec75fde7db584bfc099b272c075b", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/5aec8a02bc5fec75fde7db584bfc099b272c075b", "committedDate": "2020-06-03T20:54:01Z", "message": "remove debug logging, add comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0ODI0MzYw", "url": "https://github.com/IQSS/dataverse/pull/6958#pullrequestreview-424824360", "createdAt": "2020-06-04T21:00:29Z", "commit": {"oid": "5aec8a02bc5fec75fde7db584bfc099b272c075b"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "709be285eb8c5a8dcc08017f0b72b4d7e1929e38", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/709be285eb8c5a8dcc08017f0b72b4d7e1929e38", "committedDate": "2020-06-12T18:45:01Z", "message": "Merge remote-tracking branch 'IQSS/develop' into IQSS/4977"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db2f38d45599132157b5268d2ede86542742bbe1", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/db2f38d45599132157b5268d2ede86542742bbe1", "committedDate": "2020-06-12T21:14:30Z", "message": "sort all date facets by default, make configurable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1149e854d5f2ec4ed54201d4781b08d9ecb0b83b", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/1149e854d5f2ec4ed54201d4781b08d9ecb0b83b", "committedDate": "2020-06-12T21:53:24Z", "message": "debugging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d617f73b77d08b2bf27cb06b2c008e83373cb8ff", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/d617f73b77d08b2bf27cb06b2c008e83373cb8ff", "committedDate": "2020-06-12T21:53:32Z", "message": "include _s and remove debug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f032d61d39f0791c917a46dcec8be964edfe57c6", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/f032d61d39f0791c917a46dcec8be964edfe57c6", "committedDate": "2020-06-12T22:05:11Z", "message": "doc and update setting name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae3b5f27bf0302ade510e1e6e2f0b3613a05763f", "author": {"user": {"login": "djbrooke", "name": "Danny Brooke"}}, "url": "https://github.com/IQSS/dataverse/commit/ae3b5f27bf0302ade510e1e6e2f0b3613a05763f", "committedDate": "2020-06-13T17:41:46Z", "message": "adding release note"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxNjk0OTA3", "url": "https://github.com/IQSS/dataverse/pull/6958#pullrequestreview-431694907", "createdAt": "2020-06-16T16:38:03Z", "commit": {"oid": "ae3b5f27bf0302ade510e1e6e2f0b3613a05763f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyODQ4NjYw", "url": "https://github.com/IQSS/dataverse/pull/6958#pullrequestreview-432848660", "createdAt": "2020-06-17T23:45:09Z", "commit": {"oid": "ae3b5f27bf0302ade510e1e6e2f0b3613a05763f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QyMzo0NTowOVrOGla9bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QyMzo0NTowOVrOGla9bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTg5MjIwNw==", "bodyText": "Just submitted PR #6998 that cleaned up some format warnings when building the sphinx-guides. This header formatting is gonna trip WARNING: Title underline too short cause there aren't enough + characters to match the length of the :ChronologicalDateFacets title text.", "url": "https://github.com/IQSS/dataverse/pull/6958#discussion_r441892207", "createdAt": "2020-06-17T23:45:09Z", "author": {"login": "mheppler"}, "path": "doc/sphinx-guides/source/installation/config.rst", "diffHunk": "@@ -2049,3 +2049,12 @@ Allows Cross-Origin Resource sharing(CORS). By default this setting is absent an\n If you don\u2019t want to allow CORS for your installation, set:\n \n ``curl -X PUT -d 'false' http://localhost:8080/api/admin/settings/:AllowCors``\n+\n+:ChronologicalDateFacets\n++++++++++++++++", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae3b5f27bf0302ade510e1e6e2f0b3613a05763f"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e25e2aa91e6cbcab64ee73794f21bd8f06ba812f", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/e25e2aa91e6cbcab64ee73794f21bd8f06ba812f", "committedDate": "2020-06-18T13:54:37Z", "message": "fix formatting"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 839, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}