{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQwODY1NTI1", "number": 7481, "title": "Release Notes Update: Timer", "bodyText": "What this PR does / why we need it:\nNecessary update for the 5.3 release steps.\nWhich issue(s) this PR closes:\nCloses #7480\nSpecial notes for your reviewer:\nSuggestions on how to test this:\nDoes this PR introduce a user interface change? If mockups are available, please link/include them here:\nIs there a release notes update needed for this change?:\nAdditional documentation:", "createdAt": "2020-12-16T03:40:10Z", "url": "https://github.com/IQSS/dataverse/pull/7481", "merged": true, "mergeCommit": {"oid": "116dbe244b4025e7ae45a05a80f1e851dd2b0fda"}, "closed": true, "closedAt": "2020-12-18T19:01:02Z", "author": {"login": "djbrooke"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmmhoWgH2gAyNTQwODY1NTI1OmQyMmUxZDgyMjQ5OWY5OTU5OTZkZmZiZGEzNDZlOWMwYjEwYTkzYTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdncpg1AH2gAyNTQwODY1NTI1OmM0MmJjNzAxYmVjMWJhOTBhMmM2OTA0YzE2NjQxNzM2NTQ2NDMxN2I=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d22e1d822499f995996dffbda346e9c0b10a93a2", "author": {"user": {"login": "djbrooke", "name": "Danny Brooke"}}, "url": "https://github.com/IQSS/dataverse/commit/d22e1d822499f995996dffbda346e9c0b10a93a2", "committedDate": "2020-12-16T03:39:29Z", "message": "adding timer update"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzMzQ5NjYz", "url": "https://github.com/IQSS/dataverse/pull/7481#pullrequestreview-553349663", "createdAt": "2020-12-16T04:32:56Z", "commit": {"oid": "d22e1d822499f995996dffbda346e9c0b10a93a2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQwNDozMjo1N1rOIGvHUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQwNDozMjo1N1rOIGvHUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzkzNDI4OA==", "bodyText": "this step is only necessary for those who are coming from what was originally a glassfish4 domain.xml. (and if we also do add this to the 5.0 release notes, per the multiple server issue from the mailing list, we may want text like \"if you haven't already done this during the 5.0 release, it is now necessary due to the changes to how ejb timers are now handled\". we can discuss this in person, if you'd like to understand this better - the whys and whens.", "url": "https://github.com/IQSS/dataverse/pull/7481#discussion_r543934288", "createdAt": "2020-12-16T04:32:57Z", "author": {"login": "scolapasta"}, "path": "doc/release-notes/5.3-release-notes.md", "diffHunk": "@@ -132,27 +132,37 @@ Please configure your connection details, replacing all the `${DB_...}`.\n - `<payara install path>/bin/asadmin create-password-alias --passwordfile /tmp/password.txt dataverse.db.password`\n - `rm /tmp/password.txt`\n \n-4\\. Reset the EJB timer database back to default:\n+4\\. Replace relevant portions of domain.xml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d22e1d822499f995996dffbda346e9c0b10a93a2"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzNTE1MzE5", "url": "https://github.com/IQSS/dataverse/pull/7481#pullrequestreview-553515319", "createdAt": "2020-12-16T09:46:38Z", "commit": {"oid": "d22e1d822499f995996dffbda346e9c0b10a93a2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQwOTo0NjozOFrOIG8oAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQwOTo0NjozOFrOIG8oAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDE1NTY0OA==", "bodyText": "suggestion\nIn the dataverse-community thread @jmjamison mentioned deleting the directory targeted by the property.\nThis might be necessary due to the change from Derby to H2. Not sure if the directory is re-created by Payara though. Also, as @scolapasta outlined above, this might only be necessary when coming from a GF4 installation.", "url": "https://github.com/IQSS/dataverse/pull/7481#discussion_r544155648", "createdAt": "2020-12-16T09:46:38Z", "author": {"login": "poikilotherm"}, "path": "doc/release-notes/5.3-release-notes.md", "diffHunk": "@@ -132,27 +132,37 @@ Please configure your connection details, replacing all the `${DB_...}`.\n - `<payara install path>/bin/asadmin create-password-alias --passwordfile /tmp/password.txt dataverse.db.password`\n - `rm /tmp/password.txt`\n \n-4\\. Reset the EJB timer database back to default:\n+4\\. Replace relevant portions of domain.xml\n+\n+- In domain.xml, replace \n+ \n+- `<jdbc-connection-pool datasource-classname=\"org.apache.derby.jdbc.EmbeddedXADataSource\" name=\"__TimerPool\" res-type=\"javax.sql.XADataSource\"> <property name=\"databaseName\" value=\"${com.sun.aas.instanceRoot}/lib/databases/ejbtimer\"></property><property name=\"connectionAttributes\" value=\";create=true\"></property></jdbc-connection-pool>`\n+\n+with\n+\n+- `<jdbc-connection-pool datasource-classname=\"org.h2.jdbcx.JdbcDataSource\" name=\"__TimerPool\" res-type=\"javax.sql.XADataSource\"> <property name=\"URL\" value=\"jdbc:h2:${com.sun.aas.instanceRoot}/lib/databases/ejbtimer;AUTO_SERVER=TRUE\"></property> </jdbc-connection-pool>`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d22e1d822499f995996dffbda346e9c0b10a93a2"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b27274fb78fd16165b51ef9f9db623327b94c1d0", "author": {"user": {"login": "djbrooke", "name": "Danny Brooke"}}, "url": "https://github.com/IQSS/dataverse/commit/b27274fb78fd16165b51ef9f9db623327b94c1d0", "committedDate": "2020-12-16T21:28:49Z", "message": "Update 5.0-release-notes.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d53872c634bd14c17e54d06b648a07c00ab130c", "author": {"user": {"login": "djbrooke", "name": "Danny Brooke"}}, "url": "https://github.com/IQSS/dataverse/commit/0d53872c634bd14c17e54d06b648a07c00ab130c", "committedDate": "2020-12-16T21:39:49Z", "message": "clarifying timer documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5df5b747cf71773258b31d22fd09b9bfc08a4d5e", "author": {"user": {"login": "scolapasta", "name": "Gustavo Durand"}}, "url": "https://github.com/IQSS/dataverse/commit/5df5b747cf71773258b31d22fd09b9bfc08a4d5e", "committedDate": "2020-12-17T20:40:05Z", "message": "Update 5.0-release-notes.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "837df641642113abba534c29d757191e2e25acc9", "author": {"user": {"login": "scolapasta", "name": "Gustavo Durand"}}, "url": "https://github.com/IQSS/dataverse/commit/837df641642113abba534c29d757191e2e25acc9", "committedDate": "2020-12-17T20:41:43Z", "message": "Update 5.0-release-notes.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e89a3dc9ae9a9224afb25c8c3a4f2122cc050ea", "author": {"user": {"login": "scolapasta", "name": "Gustavo Durand"}}, "url": "https://github.com/IQSS/dataverse/commit/4e89a3dc9ae9a9224afb25c8c3a4f2122cc050ea", "committedDate": "2020-12-17T20:48:25Z", "message": "Remove ejbtimer database directory"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MDYxNDY4", "url": "https://github.com/IQSS/dataverse/pull/7481#pullrequestreview-555061468", "createdAt": "2020-12-17T23:10:40Z", "commit": {"oid": "4e89a3dc9ae9a9224afb25c8c3a4f2122cc050ea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c42bc701bec1ba90a2c6904c166417365464317b", "author": {"user": {"login": "scolapasta", "name": "Gustavo Durand"}}, "url": "https://github.com/IQSS/dataverse/commit/c42bc701bec1ba90a2c6904c166417365464317b", "committedDate": "2020-12-18T18:42:58Z", "message": "fixed timer pool connection pool step"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 715, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}