{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExMDA4NjU2", "number": 7362, "title": "restrict builtin-users API endpoint by default", "bodyText": "What this PR does / why we need it: setup-all.sh blocks 'admin,test' but docs recommend blocking 'admin,builtin-users'\nWhich issue(s) this PR closes:\nCloses IQSS/dataverse-security#22\nSpecial notes for your reviewer: none\nSuggestions on how to test this: run it\nDoes this PR introduce a user interface change? If mockups are available, please link/include them here: no\nIs there a release notes update needed for this change?: no\nAdditional documentation: none", "createdAt": "2020-10-27T19:37:52Z", "url": "https://github.com/IQSS/dataverse/pull/7362", "merged": true, "mergeCommit": {"oid": "c2dd459f14f46efadc5db0cf7d0acd9b8749878f"}, "closed": true, "closedAt": "2020-10-28T14:40:33Z", "author": {"login": "donsizemore"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWuMIPgH2gAyNTExMDA4NjU2OjQ0YjczZTBlMjg4YTFiYzAxOGNlMDhiY2M3Y2E4MWMyNWZiYjcyMDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWu9RwAFqTUxODA4Nzc4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "44b73e0e288a1bc018ce08bcc7ca81c25fbb7201", "author": {"user": null}, "url": "https://github.com/IQSS/dataverse/commit/44b73e0e288a1bc018ce08bcc7ca81c25fbb7201", "committedDate": "2020-10-27T19:32:27Z", "message": "restrict builtin-users API endpoint by default"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MDg3Nzg4", "url": "https://github.com/IQSS/dataverse/pull/7362#pullrequestreview-518087788", "createdAt": "2020-10-27T19:50:47Z", "commit": {"oid": "44b73e0e288a1bc018ce08bcc7ca81c25fbb7201"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxOTo1MDo0OFrOHpOPcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxOTo1MDo0OFrOHpOPcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk4Njk5Mw==", "bodyText": "Sigh. I guess this is true: \"Documentation for the \"admin\" endpoint is spread across...\"", "url": "https://github.com/IQSS/dataverse/pull/7362#discussion_r512986993", "createdAt": "2020-10-27T19:50:48Z", "author": {"login": "pdurbin"}, "path": "doc/sphinx-guides/source/installation/config.rst", "diffHunk": "@@ -26,11 +26,11 @@ The default password for the \"dataverseAdmin\" superuser account is \"admin\", as m\n Blocking API Endpoints\n ++++++++++++++++++++++\n \n-The :doc:`/api/native-api` contains a useful but potentially dangerous API endpoint called \"admin\" that allows you to change system settings, make ordinary users into superusers, and more. The \"builtin-users\" endpoint lets people create a local/builtin user account if they know the key defined in :ref:`BuiltinUsers.KEY`. The endpoint \"test\" is not used but is where testing code maybe be added (see https://github.com/IQSS/dataverse/issues/4137 ).\n+The :doc:`/api/native-api` contains a useful but potentially dangerous API endpoint called \"admin\" that allows you to change system settings, make ordinary users into superusers, and more. The \"builtin-users\" endpoint lets admins create a local/builtin user account if they know the key defined in :ref:`BuiltinUsers.KEY`.\n \n-By default, most APIs can be operated on remotely and a number of endpoints do not require authentication. The endpoints \"admin\" and \"test\" are limited to localhost out of the box by the settings :ref:`:BlockedApiEndpoints` and :ref:`:BlockedApiPolicy`.\n+By default, most APIs can be operated on remotely and a number of endpoints do not require authentication. The endpoints \"admin\" and \"builtin-users\" are limited to localhost out of the box by the settings :ref:`:BlockedApiEndpoints` and :ref:`:BlockedApiPolicy`.\n \n-It is very important to keep the block in place for the \"admin\" endpoint (and at least consider blocking \"builtin-users\"). Please note that documentation for the \"admin\" endpoint is spread across the :doc:`/api/native-api` section of the API Guide and the :doc:`/admin/index`.\n+It is very important to keep the block in place for the \"admin\" endpoint, and to leave the \"builtin-users\" endpoint blocked unless you need to access it remotely. Documentation for the \"admin\" endpoint is spread across the :doc:`/api/native-api` section of the API Guide and the :doc:`/admin/index`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44b73e0e288a1bc018ce08bcc7ca81c25fbb7201"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 810, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}