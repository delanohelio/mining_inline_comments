{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxNTI1NjQ5", "number": 7033, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNzo0Njo1N1rOEJw9nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNjozNTo0MFrOENVwFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4Njc0ODQ3OnYy", "diffSide": "RIGHT", "path": "src/main/java/edu/harvard/iq/dataverse/api/BuiltinUsers.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNzo0Njo1N1rOGqbmKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNzo0Njo1N1rOGqbmKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzE0NTUxMg==", "bodyText": "This new endpoint should be documented. Here's a link to the current docs in this area: http://guides.dataverse.org/en/4.20/api/native-api.html#create-a-builtin-user\nThe file to edit is doc/sphinx-guides/source/api/native-api.rst", "url": "https://github.com/IQSS/dataverse/pull/7033#discussion_r447145512", "createdAt": "2020-06-29T17:46:57Z", "author": {"login": "pdurbin"}, "path": "src/main/java/edu/harvard/iq/dataverse/api/BuiltinUsers.java", "diffHunk": "@@ -105,7 +105,28 @@ public Response create(BuiltinUser user, @PathParam(\"password\") String password,\n         return internalSave(user, password, key);\n     }\n     \n+    //TODO: detailed description \n+    /**\n+     * Created this for #6915...\n+     *\n+     * @param user\n+     * @param password\n+     * @param key\n+     * @param sendEmailNotification\n+     * @return\n+     */\n+    @POST\n+    @Path(\"{password}/{key}/{sendEmailNotification}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85e05f2aeb4e09cde17852d4714b61d96f8be5c5"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyNDIzMzE4OnYy", "diffSide": "RIGHT", "path": "src/main/java/edu/harvard/iq/dataverse/api/BuiltinUsers.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNjozNTo0MFrOGv99aQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxODozNTo0OFrOGwBdug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk1MTQwMQ==", "bodyText": "sendEmailNotification appears to be a path parameter rather than a query parameter, as documented above. @RightInTwo can you provide a full curl example?", "url": "https://github.com/IQSS/dataverse/pull/7033#discussion_r452951401", "createdAt": "2020-07-10T16:35:40Z", "author": {"login": "pdurbin"}, "path": "src/main/java/edu/harvard/iq/dataverse/api/BuiltinUsers.java", "diffHunk": "@@ -105,7 +108,29 @@ public Response create(BuiltinUser user, @PathParam(\"password\") String password,\n         return internalSave(user, password, key);\n     }\n     \n+    /**\n+     * Created this new endpoint to resolve issue #6915, optionally preventing \n+     * the email notification to the new user on account creation by adding \n+     * \"false\" as the third path parameter.\n+     *\n+     * @param user\n+     * @param password\n+     * @param key\n+     * @param sendEmailNotification\n+     * @return\n+     */\n+    @POST\n+    @Path(\"{password}/{key}/{sendEmailNotification}\")\n+    public Response create(BuiltinUser user, @PathParam(\"password\") String password, @PathParam(\"key\") String key, @PathParam(\"sendEmailNotification\") Boolean sendEmailNotification) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5204a7758901e47d19ceefce178e3ccb22263f8"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzAwNTQ1Nw==", "bodyText": "Hi @pdurbin, we added both ways (query and path), just as the create() function is implemented for both currently. The docs at http://guides.dataverse.org/en/latest/api/native-api.html#assign-default-role-to-user-creating-a-dataset-in-a-dataverse seem to omit the path variant completely, which is why we left it out as well.", "url": "https://github.com/IQSS/dataverse/pull/7033#discussion_r453005457", "createdAt": "2020-07-10T18:28:41Z", "author": {"login": "RightInTwo"}, "path": "src/main/java/edu/harvard/iq/dataverse/api/BuiltinUsers.java", "diffHunk": "@@ -105,7 +108,29 @@ public Response create(BuiltinUser user, @PathParam(\"password\") String password,\n         return internalSave(user, password, key);\n     }\n     \n+    /**\n+     * Created this new endpoint to resolve issue #6915, optionally preventing \n+     * the email notification to the new user on account creation by adding \n+     * \"false\" as the third path parameter.\n+     *\n+     * @param user\n+     * @param password\n+     * @param key\n+     * @param sendEmailNotification\n+     * @return\n+     */\n+    @POST\n+    @Path(\"{password}/{key}/{sendEmailNotification}\")\n+    public Response create(BuiltinUser user, @PathParam(\"password\") String password, @PathParam(\"key\") String key, @PathParam(\"sendEmailNotification\") Boolean sendEmailNotification) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk1MTQwMQ=="}, "originalCommit": {"oid": "b5204a7758901e47d19ceefce178e3ccb22263f8"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzAwODgyNg==", "bodyText": "Oh, I get it. The query parameter version is called \"save\". Thanks.", "url": "https://github.com/IQSS/dataverse/pull/7033#discussion_r453008826", "createdAt": "2020-07-10T18:35:48Z", "author": {"login": "pdurbin"}, "path": "src/main/java/edu/harvard/iq/dataverse/api/BuiltinUsers.java", "diffHunk": "@@ -105,7 +108,29 @@ public Response create(BuiltinUser user, @PathParam(\"password\") String password,\n         return internalSave(user, password, key);\n     }\n     \n+    /**\n+     * Created this new endpoint to resolve issue #6915, optionally preventing \n+     * the email notification to the new user on account creation by adding \n+     * \"false\" as the third path parameter.\n+     *\n+     * @param user\n+     * @param password\n+     * @param key\n+     * @param sendEmailNotification\n+     * @return\n+     */\n+    @POST\n+    @Path(\"{password}/{key}/{sendEmailNotification}\")\n+    public Response create(BuiltinUser user, @PathParam(\"password\") String password, @PathParam(\"key\") String key, @PathParam(\"sendEmailNotification\") Boolean sendEmailNotification) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk1MTQwMQ=="}, "originalCommit": {"oid": "b5204a7758901e47d19ceefce178e3ccb22263f8"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3245, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}