{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1NTc3MTE2", "number": 7390, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNjoyOToxMlrOE1vOWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNjo0NzoxOFrOE1vu4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NzgzNzA1OnYy", "diffSide": "RIGHT", "path": "doc/release-notes/5.2-release-notes.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNjoyOToxMlrOHuLkrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNjoyOToxMlrOHuLkrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE4NjE1OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Dataverse Bags can now be sent to a bucket in Google Cloud, including those in the 'Coldline' storage class, which provides less expensive but slower access.\n          \n          \n            \n            Dataverse Bags can now be sent to a bucket in Google Cloud, including those in the \"Coldline\" storage class, which provides less expensive but slower access.", "url": "https://github.com/IQSS/dataverse/pull/7390#discussion_r518186159", "createdAt": "2020-11-05T16:29:12Z", "author": {"login": "pdurbin"}, "path": "doc/release-notes/5.2-release-notes.md", "diffHunk": "@@ -0,0 +1,97 @@\n+# Dataverse 5.2\n+\n+This release brings new features, enhancements, and bug fixes to Dataverse. Thank you to all of the community members who contributed code, suggestions, bug reports, and other assistance across the project.\n+\n+## Release Highlights\n+\n+### File Preview When Guestbooks or Terms Exist\n+\n+Previously, file preview was only available when files were publicly downloadable. Now if a guestbook or terms (or both) are configured for the dataset, they will be shown in the Preview tab and once they are agreed to, the file preview will appear (#6919).\n+\n+### Preview Only External Tools\n+\n+A new external tool type called \"preview\" has been added that prevents the tool from being displayed under \"Explore Options\" under the \"Access File\" button on the file landing page (#6919).\n+\n+### Google Cloud Archiver\n+\n+Dataverse Bags can now be sent to a bucket in Google Cloud, including those in the 'Coldline' storage class, which provides less expensive but slower access.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a2fd36fedf3d9f6e10d4a01f23d4a10dacb3545"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0Nzg2MzE0OnYy", "diffSide": "RIGHT", "path": "doc/release-notes/5.2-release-notes.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNjozNDo1M1rOHuL1XQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNjozNDo1M1rOHuL1XQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE5MDQyOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ### New DB Settings and JVM Options\n          \n          \n            \n            ### New Database Settings and JVM Options", "url": "https://github.com/IQSS/dataverse/pull/7390#discussion_r518190429", "createdAt": "2020-11-05T16:34:53Z", "author": {"login": "pdurbin"}, "path": "doc/release-notes/5.2-release-notes.md", "diffHunk": "@@ -0,0 +1,97 @@\n+# Dataverse 5.2\n+\n+This release brings new features, enhancements, and bug fixes to Dataverse. Thank you to all of the community members who contributed code, suggestions, bug reports, and other assistance across the project.\n+\n+## Release Highlights\n+\n+### File Preview When Guestbooks or Terms Exist\n+\n+Previously, file preview was only available when files were publicly downloadable. Now if a guestbook or terms (or both) are configured for the dataset, they will be shown in the Preview tab and once they are agreed to, the file preview will appear (#6919).\n+\n+### Preview Only External Tools\n+\n+A new external tool type called \"preview\" has been added that prevents the tool from being displayed under \"Explore Options\" under the \"Access File\" button on the file landing page (#6919).\n+\n+### Google Cloud Archiver\n+\n+Dataverse Bags can now be sent to a bucket in Google Cloud, including those in the 'Coldline' storage class, which provides less expensive but slower access.\n+\n+## Major Use Cases\n+\n+Newly-supported use cases in this release include:\n+\n+- Users can now preview files that have a guestbook or terms. (Issue #6919, PR #7369)\n+- External tool developers can indicate that their tool is \"preview only\". (Issue #6919, PR #7369)\n+- Dataverse Administrators can set up a regular export to Google Cloud so that the installation's data is preserved (Issue #7140, PR #7292)\n+- Dataverse Administrators can use a regex when defining a group (Issue #7344, PR #7351)\n+- External Tool Developers can use a new API endpoint to retrieve a user's information (Issue #7307, PR #7345)\n+\n+## Notes for Dataverse Installation Administrators\n+\n+### Converting Explore External Tools to Preview Only\n+\n+When the war file is deployed, a SQL migration script will convert [dataverse-previewers][] to have both \"explore\" and \"preview\" types so that they will continue to be displayed in the Preview tab.\n+\n+If you would prefer that these tools be preview only, you can delete the tools, adjust the JSON manifests (changing \"explore\" to \"preview\"), and re-add them.\n+\n+[dataverse-previewers]: https://github.com/GlobalDataverseCommunityConsortium/dataverse-previewers\n+\n+### New DB Settings and JVM Options", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a2fd36fedf3d9f6e10d4a01f23d4a10dacb3545"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0Nzg2NjU0OnYy", "diffSide": "RIGHT", "path": "doc/release-notes/5.2-release-notes.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNjozNTozMlrOHuL3aA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNjozNTozMlrOHuL3aA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE5MDk1Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Installations integrating with Google Cloud Archiver will need to use two new DB Settings:\n          \n          \n            \n            Installations integrating with Google Cloud Archiver will need to use two new database settings:", "url": "https://github.com/IQSS/dataverse/pull/7390#discussion_r518190952", "createdAt": "2020-11-05T16:35:32Z", "author": {"login": "pdurbin"}, "path": "doc/release-notes/5.2-release-notes.md", "diffHunk": "@@ -0,0 +1,97 @@\n+# Dataverse 5.2\n+\n+This release brings new features, enhancements, and bug fixes to Dataverse. Thank you to all of the community members who contributed code, suggestions, bug reports, and other assistance across the project.\n+\n+## Release Highlights\n+\n+### File Preview When Guestbooks or Terms Exist\n+\n+Previously, file preview was only available when files were publicly downloadable. Now if a guestbook or terms (or both) are configured for the dataset, they will be shown in the Preview tab and once they are agreed to, the file preview will appear (#6919).\n+\n+### Preview Only External Tools\n+\n+A new external tool type called \"preview\" has been added that prevents the tool from being displayed under \"Explore Options\" under the \"Access File\" button on the file landing page (#6919).\n+\n+### Google Cloud Archiver\n+\n+Dataverse Bags can now be sent to a bucket in Google Cloud, including those in the 'Coldline' storage class, which provides less expensive but slower access.\n+\n+## Major Use Cases\n+\n+Newly-supported use cases in this release include:\n+\n+- Users can now preview files that have a guestbook or terms. (Issue #6919, PR #7369)\n+- External tool developers can indicate that their tool is \"preview only\". (Issue #6919, PR #7369)\n+- Dataverse Administrators can set up a regular export to Google Cloud so that the installation's data is preserved (Issue #7140, PR #7292)\n+- Dataverse Administrators can use a regex when defining a group (Issue #7344, PR #7351)\n+- External Tool Developers can use a new API endpoint to retrieve a user's information (Issue #7307, PR #7345)\n+\n+## Notes for Dataverse Installation Administrators\n+\n+### Converting Explore External Tools to Preview Only\n+\n+When the war file is deployed, a SQL migration script will convert [dataverse-previewers][] to have both \"explore\" and \"preview\" types so that they will continue to be displayed in the Preview tab.\n+\n+If you would prefer that these tools be preview only, you can delete the tools, adjust the JSON manifests (changing \"explore\" to \"preview\"), and re-add them.\n+\n+[dataverse-previewers]: https://github.com/GlobalDataverseCommunityConsortium/dataverse-previewers\n+\n+### New DB Settings and JVM Options\n+\n+Installations integrating with Google Cloud Archiver will need to use two new DB Settings:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a2fd36fedf3d9f6e10d4a01f23d4a10dacb3545"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0Nzg3MDIxOnYy", "diffSide": "RIGHT", "path": "doc/release-notes/5.2-release-notes.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNjozNjoyNVrOHuL5tA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNjozNjoyNVrOHuL5tA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE5MTU0MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Scripts have been added in order to automate Make Data Count processing. For more information, see the Make Data Count section of the [Admin Guide](https://guides.dataverse.org/en/5.2/admin/)\n          \n          \n            \n            Scripts have been added in order to automate Make Data Count processing. For more information, see the Make Data Count section of the [Admin Guide](https://guides.dataverse.org/en/5.2/admin/).", "url": "https://github.com/IQSS/dataverse/pull/7390#discussion_r518191540", "createdAt": "2020-11-05T16:36:25Z", "author": {"login": "pdurbin"}, "path": "doc/release-notes/5.2-release-notes.md", "diffHunk": "@@ -0,0 +1,97 @@\n+# Dataverse 5.2\n+\n+This release brings new features, enhancements, and bug fixes to Dataverse. Thank you to all of the community members who contributed code, suggestions, bug reports, and other assistance across the project.\n+\n+## Release Highlights\n+\n+### File Preview When Guestbooks or Terms Exist\n+\n+Previously, file preview was only available when files were publicly downloadable. Now if a guestbook or terms (or both) are configured for the dataset, they will be shown in the Preview tab and once they are agreed to, the file preview will appear (#6919).\n+\n+### Preview Only External Tools\n+\n+A new external tool type called \"preview\" has been added that prevents the tool from being displayed under \"Explore Options\" under the \"Access File\" button on the file landing page (#6919).\n+\n+### Google Cloud Archiver\n+\n+Dataverse Bags can now be sent to a bucket in Google Cloud, including those in the 'Coldline' storage class, which provides less expensive but slower access.\n+\n+## Major Use Cases\n+\n+Newly-supported use cases in this release include:\n+\n+- Users can now preview files that have a guestbook or terms. (Issue #6919, PR #7369)\n+- External tool developers can indicate that their tool is \"preview only\". (Issue #6919, PR #7369)\n+- Dataverse Administrators can set up a regular export to Google Cloud so that the installation's data is preserved (Issue #7140, PR #7292)\n+- Dataverse Administrators can use a regex when defining a group (Issue #7344, PR #7351)\n+- External Tool Developers can use a new API endpoint to retrieve a user's information (Issue #7307, PR #7345)\n+\n+## Notes for Dataverse Installation Administrators\n+\n+### Converting Explore External Tools to Preview Only\n+\n+When the war file is deployed, a SQL migration script will convert [dataverse-previewers][] to have both \"explore\" and \"preview\" types so that they will continue to be displayed in the Preview tab.\n+\n+If you would prefer that these tools be preview only, you can delete the tools, adjust the JSON manifests (changing \"explore\" to \"preview\"), and re-add them.\n+\n+[dataverse-previewers]: https://github.com/GlobalDataverseCommunityConsortium/dataverse-previewers\n+\n+### New DB Settings and JVM Options\n+\n+Installations integrating with Google Cloud Archiver will need to use two new DB Settings:\n+\n+- :GoogleCloudProject - the name of the project managing the bucket\n+- :GoogleCloudBucket - the name of the bucket to use\n+\n+For more information, see the Google Cloud Configuration section of the [Installation Guide](https://guides.dataverse.org/en/5.2/installation/)\n+\n+### Automation of Make Data Count Scripts\n+\n+Scripts have been added in order to automate Make Data Count processing. For more information, see the Make Data Count section of the [Admin Guide](https://guides.dataverse.org/en/5.2/admin/)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a2fd36fedf3d9f6e10d4a01f23d4a10dacb3545"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NzkxMzIxOnYy", "diffSide": "RIGHT", "path": "doc/release-notes/5.2-release-notes.md", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNjo0NTo1MVrOHuMUhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxOToxOTozM1rOHuSrlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE5ODQwNw==", "bodyText": "I think this is fine as-as but I'd like to remind ourselves that the service command is no longer recommended on RHEL/CentOS systems. I believe it still redirects to the newer command but we might want to update this someday. We could always use the underlying asadmin \"stop-domain\" and \"start-domain\" commands, which work fine on any Linux (some of our users use Ubuntu).\nThe other thing that strikes me is that there are no commands under the final \"Restart payara\" step. We could just add the \"stop\" and \"start\" bullets here (skipping the \"generated\" bullet).\nFinally, we have a mix of bullets and non-bullets. I have a slight preference for getting rid of the bullets, I think.", "url": "https://github.com/IQSS/dataverse/pull/7390#discussion_r518198407", "createdAt": "2020-11-05T16:45:51Z", "author": {"login": "pdurbin"}, "path": "doc/release-notes/5.2-release-notes.md", "diffHunk": "@@ -0,0 +1,97 @@\n+# Dataverse 5.2\n+\n+This release brings new features, enhancements, and bug fixes to Dataverse. Thank you to all of the community members who contributed code, suggestions, bug reports, and other assistance across the project.\n+\n+## Release Highlights\n+\n+### File Preview When Guestbooks or Terms Exist\n+\n+Previously, file preview was only available when files were publicly downloadable. Now if a guestbook or terms (or both) are configured for the dataset, they will be shown in the Preview tab and once they are agreed to, the file preview will appear (#6919).\n+\n+### Preview Only External Tools\n+\n+A new external tool type called \"preview\" has been added that prevents the tool from being displayed under \"Explore Options\" under the \"Access File\" button on the file landing page (#6919).\n+\n+### Google Cloud Archiver\n+\n+Dataverse Bags can now be sent to a bucket in Google Cloud, including those in the 'Coldline' storage class, which provides less expensive but slower access.\n+\n+## Major Use Cases\n+\n+Newly-supported use cases in this release include:\n+\n+- Users can now preview files that have a guestbook or terms. (Issue #6919, PR #7369)\n+- External tool developers can indicate that their tool is \"preview only\". (Issue #6919, PR #7369)\n+- Dataverse Administrators can set up a regular export to Google Cloud so that the installation's data is preserved (Issue #7140, PR #7292)\n+- Dataverse Administrators can use a regex when defining a group (Issue #7344, PR #7351)\n+- External Tool Developers can use a new API endpoint to retrieve a user's information (Issue #7307, PR #7345)\n+\n+## Notes for Dataverse Installation Administrators\n+\n+### Converting Explore External Tools to Preview Only\n+\n+When the war file is deployed, a SQL migration script will convert [dataverse-previewers][] to have both \"explore\" and \"preview\" types so that they will continue to be displayed in the Preview tab.\n+\n+If you would prefer that these tools be preview only, you can delete the tools, adjust the JSON manifests (changing \"explore\" to \"preview\"), and re-add them.\n+\n+[dataverse-previewers]: https://github.com/GlobalDataverseCommunityConsortium/dataverse-previewers\n+\n+### New DB Settings and JVM Options\n+\n+Installations integrating with Google Cloud Archiver will need to use two new DB Settings:\n+\n+- :GoogleCloudProject - the name of the project managing the bucket\n+- :GoogleCloudBucket - the name of the bucket to use\n+\n+For more information, see the Google Cloud Configuration section of the [Installation Guide](https://guides.dataverse.org/en/5.2/installation/)\n+\n+### Automation of Make Data Count Scripts\n+\n+Scripts have been added in order to automate Make Data Count processing. For more information, see the Make Data Count section of the [Admin Guide](https://guides.dataverse.org/en/5.2/admin/)\n+\n+## Notes for Tool Developers and Integrators\n+\n+### Preview Only External Tools, \"hasPreviewMode\"\n+\n+A new external tool type called \"preview\" has been added that prevents the tool from being displayed under \"Explore Options\" under the \"Access File\" button on the file landing page (#6919). This \"preview\" type replaces \"hasPreviewMode\", which has been removed.\n+\n+### Multiple Types for External Tools\n+\n+External tools now support multiple types. In practice, the types \"explore\" and \"preview\" are the only combination that makes a difference in the UI as opposed to only having only one or the other type (see \"preview only\" above). Multiple types are specified in the JSON manifest with an array in \"types\". The older, single \"type\" is still supported but should be considered deprecated.\n+\n+### User Information Endpoint\n+\n+New API endpoint to retrieve user info so that tools can email users if needed.\n+\n+## Complete List of Changes\n+\n+For the complete list of code changes in this release, see the [5.2 Milestone](https://github.com/IQSS/dataverse/milestone/92?closed=1) in Github.\n+\n+For help with upgrading, installing, or general questions please post to the [Dataverse Google Group](https://groups.google.com/forum/#!forum/dataverse-community) or email support@dataverse.org.\n+\n+## Installation\n+\n+If this is a new installation, please see our [Installation Guide](https://guides.dataverse.org/en/5.2/installation/)\n+\n+## Upgrade Instructions\n+\n+0. These instructions assume that you've already successfully upgraded from Dataverse 4.x to  Dataverse 5 following the instructions in the [Dataverse 5 Release Notes](https://github.com/IQSS/dataverse/releases/tag/v5.0).\n+\n+1. Undeploy the previous version.\n+\n+`<payara install path>/bin/asadmin list-applications`\n+`<payara install path>/bin/asadmin undeploy dataverse<-version>`\n+\n+(where `<payara install path>` is where Payara 5 is installed, for example: `/usr/local/payara5`)\n+\n+2. Stop payara and remove the generated directory, start.\n+\n+- `service payara stop`\n+- remove the generated directory: \n+`rm -rf <payara install path>/payara/domains/domain1/generated`\n+- `service payara start`\n+\n+3. Deploy this version.\n+`<payara install path>/bin/asadmin deploy dataverse-5.2.war`\n+\n+4. Restart payara", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a2fd36fedf3d9f6e10d4a01f23d4a10dacb3545"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODMwMTkyNQ==", "bodyText": "Thanks - addressed the 2nd and 3rd items in 1880e8d", "url": "https://github.com/IQSS/dataverse/pull/7390#discussion_r518301925", "createdAt": "2020-11-05T19:18:52Z", "author": {"login": "djbrooke"}, "path": "doc/release-notes/5.2-release-notes.md", "diffHunk": "@@ -0,0 +1,97 @@\n+# Dataverse 5.2\n+\n+This release brings new features, enhancements, and bug fixes to Dataverse. Thank you to all of the community members who contributed code, suggestions, bug reports, and other assistance across the project.\n+\n+## Release Highlights\n+\n+### File Preview When Guestbooks or Terms Exist\n+\n+Previously, file preview was only available when files were publicly downloadable. Now if a guestbook or terms (or both) are configured for the dataset, they will be shown in the Preview tab and once they are agreed to, the file preview will appear (#6919).\n+\n+### Preview Only External Tools\n+\n+A new external tool type called \"preview\" has been added that prevents the tool from being displayed under \"Explore Options\" under the \"Access File\" button on the file landing page (#6919).\n+\n+### Google Cloud Archiver\n+\n+Dataverse Bags can now be sent to a bucket in Google Cloud, including those in the 'Coldline' storage class, which provides less expensive but slower access.\n+\n+## Major Use Cases\n+\n+Newly-supported use cases in this release include:\n+\n+- Users can now preview files that have a guestbook or terms. (Issue #6919, PR #7369)\n+- External tool developers can indicate that their tool is \"preview only\". (Issue #6919, PR #7369)\n+- Dataverse Administrators can set up a regular export to Google Cloud so that the installation's data is preserved (Issue #7140, PR #7292)\n+- Dataverse Administrators can use a regex when defining a group (Issue #7344, PR #7351)\n+- External Tool Developers can use a new API endpoint to retrieve a user's information (Issue #7307, PR #7345)\n+\n+## Notes for Dataverse Installation Administrators\n+\n+### Converting Explore External Tools to Preview Only\n+\n+When the war file is deployed, a SQL migration script will convert [dataverse-previewers][] to have both \"explore\" and \"preview\" types so that they will continue to be displayed in the Preview tab.\n+\n+If you would prefer that these tools be preview only, you can delete the tools, adjust the JSON manifests (changing \"explore\" to \"preview\"), and re-add them.\n+\n+[dataverse-previewers]: https://github.com/GlobalDataverseCommunityConsortium/dataverse-previewers\n+\n+### New DB Settings and JVM Options\n+\n+Installations integrating with Google Cloud Archiver will need to use two new DB Settings:\n+\n+- :GoogleCloudProject - the name of the project managing the bucket\n+- :GoogleCloudBucket - the name of the bucket to use\n+\n+For more information, see the Google Cloud Configuration section of the [Installation Guide](https://guides.dataverse.org/en/5.2/installation/)\n+\n+### Automation of Make Data Count Scripts\n+\n+Scripts have been added in order to automate Make Data Count processing. For more information, see the Make Data Count section of the [Admin Guide](https://guides.dataverse.org/en/5.2/admin/)\n+\n+## Notes for Tool Developers and Integrators\n+\n+### Preview Only External Tools, \"hasPreviewMode\"\n+\n+A new external tool type called \"preview\" has been added that prevents the tool from being displayed under \"Explore Options\" under the \"Access File\" button on the file landing page (#6919). This \"preview\" type replaces \"hasPreviewMode\", which has been removed.\n+\n+### Multiple Types for External Tools\n+\n+External tools now support multiple types. In practice, the types \"explore\" and \"preview\" are the only combination that makes a difference in the UI as opposed to only having only one or the other type (see \"preview only\" above). Multiple types are specified in the JSON manifest with an array in \"types\". The older, single \"type\" is still supported but should be considered deprecated.\n+\n+### User Information Endpoint\n+\n+New API endpoint to retrieve user info so that tools can email users if needed.\n+\n+## Complete List of Changes\n+\n+For the complete list of code changes in this release, see the [5.2 Milestone](https://github.com/IQSS/dataverse/milestone/92?closed=1) in Github.\n+\n+For help with upgrading, installing, or general questions please post to the [Dataverse Google Group](https://groups.google.com/forum/#!forum/dataverse-community) or email support@dataverse.org.\n+\n+## Installation\n+\n+If this is a new installation, please see our [Installation Guide](https://guides.dataverse.org/en/5.2/installation/)\n+\n+## Upgrade Instructions\n+\n+0. These instructions assume that you've already successfully upgraded from Dataverse 4.x to  Dataverse 5 following the instructions in the [Dataverse 5 Release Notes](https://github.com/IQSS/dataverse/releases/tag/v5.0).\n+\n+1. Undeploy the previous version.\n+\n+`<payara install path>/bin/asadmin list-applications`\n+`<payara install path>/bin/asadmin undeploy dataverse<-version>`\n+\n+(where `<payara install path>` is where Payara 5 is installed, for example: `/usr/local/payara5`)\n+\n+2. Stop payara and remove the generated directory, start.\n+\n+- `service payara stop`\n+- remove the generated directory: \n+`rm -rf <payara install path>/payara/domains/domain1/generated`\n+- `service payara start`\n+\n+3. Deploy this version.\n+`<payara install path>/bin/asadmin deploy dataverse-5.2.war`\n+\n+4. Restart payara", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE5ODQwNw=="}, "originalCommit": {"oid": "2a2fd36fedf3d9f6e10d4a01f23d4a10dacb3545"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODMwMjYxNA==", "bodyText": "regarding the 1st bullet, good to hear it's OK for now but I'll be happy to update in the future !", "url": "https://github.com/IQSS/dataverse/pull/7390#discussion_r518302614", "createdAt": "2020-11-05T19:19:33Z", "author": {"login": "djbrooke"}, "path": "doc/release-notes/5.2-release-notes.md", "diffHunk": "@@ -0,0 +1,97 @@\n+# Dataverse 5.2\n+\n+This release brings new features, enhancements, and bug fixes to Dataverse. Thank you to all of the community members who contributed code, suggestions, bug reports, and other assistance across the project.\n+\n+## Release Highlights\n+\n+### File Preview When Guestbooks or Terms Exist\n+\n+Previously, file preview was only available when files were publicly downloadable. Now if a guestbook or terms (or both) are configured for the dataset, they will be shown in the Preview tab and once they are agreed to, the file preview will appear (#6919).\n+\n+### Preview Only External Tools\n+\n+A new external tool type called \"preview\" has been added that prevents the tool from being displayed under \"Explore Options\" under the \"Access File\" button on the file landing page (#6919).\n+\n+### Google Cloud Archiver\n+\n+Dataverse Bags can now be sent to a bucket in Google Cloud, including those in the 'Coldline' storage class, which provides less expensive but slower access.\n+\n+## Major Use Cases\n+\n+Newly-supported use cases in this release include:\n+\n+- Users can now preview files that have a guestbook or terms. (Issue #6919, PR #7369)\n+- External tool developers can indicate that their tool is \"preview only\". (Issue #6919, PR #7369)\n+- Dataverse Administrators can set up a regular export to Google Cloud so that the installation's data is preserved (Issue #7140, PR #7292)\n+- Dataverse Administrators can use a regex when defining a group (Issue #7344, PR #7351)\n+- External Tool Developers can use a new API endpoint to retrieve a user's information (Issue #7307, PR #7345)\n+\n+## Notes for Dataverse Installation Administrators\n+\n+### Converting Explore External Tools to Preview Only\n+\n+When the war file is deployed, a SQL migration script will convert [dataverse-previewers][] to have both \"explore\" and \"preview\" types so that they will continue to be displayed in the Preview tab.\n+\n+If you would prefer that these tools be preview only, you can delete the tools, adjust the JSON manifests (changing \"explore\" to \"preview\"), and re-add them.\n+\n+[dataverse-previewers]: https://github.com/GlobalDataverseCommunityConsortium/dataverse-previewers\n+\n+### New DB Settings and JVM Options\n+\n+Installations integrating with Google Cloud Archiver will need to use two new DB Settings:\n+\n+- :GoogleCloudProject - the name of the project managing the bucket\n+- :GoogleCloudBucket - the name of the bucket to use\n+\n+For more information, see the Google Cloud Configuration section of the [Installation Guide](https://guides.dataverse.org/en/5.2/installation/)\n+\n+### Automation of Make Data Count Scripts\n+\n+Scripts have been added in order to automate Make Data Count processing. For more information, see the Make Data Count section of the [Admin Guide](https://guides.dataverse.org/en/5.2/admin/)\n+\n+## Notes for Tool Developers and Integrators\n+\n+### Preview Only External Tools, \"hasPreviewMode\"\n+\n+A new external tool type called \"preview\" has been added that prevents the tool from being displayed under \"Explore Options\" under the \"Access File\" button on the file landing page (#6919). This \"preview\" type replaces \"hasPreviewMode\", which has been removed.\n+\n+### Multiple Types for External Tools\n+\n+External tools now support multiple types. In practice, the types \"explore\" and \"preview\" are the only combination that makes a difference in the UI as opposed to only having only one or the other type (see \"preview only\" above). Multiple types are specified in the JSON manifest with an array in \"types\". The older, single \"type\" is still supported but should be considered deprecated.\n+\n+### User Information Endpoint\n+\n+New API endpoint to retrieve user info so that tools can email users if needed.\n+\n+## Complete List of Changes\n+\n+For the complete list of code changes in this release, see the [5.2 Milestone](https://github.com/IQSS/dataverse/milestone/92?closed=1) in Github.\n+\n+For help with upgrading, installing, or general questions please post to the [Dataverse Google Group](https://groups.google.com/forum/#!forum/dataverse-community) or email support@dataverse.org.\n+\n+## Installation\n+\n+If this is a new installation, please see our [Installation Guide](https://guides.dataverse.org/en/5.2/installation/)\n+\n+## Upgrade Instructions\n+\n+0. These instructions assume that you've already successfully upgraded from Dataverse 4.x to  Dataverse 5 following the instructions in the [Dataverse 5 Release Notes](https://github.com/IQSS/dataverse/releases/tag/v5.0).\n+\n+1. Undeploy the previous version.\n+\n+`<payara install path>/bin/asadmin list-applications`\n+`<payara install path>/bin/asadmin undeploy dataverse<-version>`\n+\n+(where `<payara install path>` is where Payara 5 is installed, for example: `/usr/local/payara5`)\n+\n+2. Stop payara and remove the generated directory, start.\n+\n+- `service payara stop`\n+- remove the generated directory: \n+`rm -rf <payara install path>/payara/domains/domain1/generated`\n+- `service payara start`\n+\n+3. Deploy this version.\n+`<payara install path>/bin/asadmin deploy dataverse-5.2.war`\n+\n+4. Restart payara", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE5ODQwNw=="}, "originalCommit": {"oid": "2a2fd36fedf3d9f6e10d4a01f23d4a10dacb3545"}, "originalPosition": 97}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NzkyMDMzOnYy", "diffSide": "RIGHT", "path": "doc/release-notes/5.2-release-notes.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNjo0NzoxOFrOHuMY1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxOTowNjozMFrOHuSIBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE5OTUxMQ==", "bodyText": "If we add a newline here, these two commands (list-applications and undeploy) won't be squished on the same line like this:", "url": "https://github.com/IQSS/dataverse/pull/7390#discussion_r518199511", "createdAt": "2020-11-05T16:47:18Z", "author": {"login": "pdurbin"}, "path": "doc/release-notes/5.2-release-notes.md", "diffHunk": "@@ -0,0 +1,97 @@\n+# Dataverse 5.2\n+\n+This release brings new features, enhancements, and bug fixes to Dataverse. Thank you to all of the community members who contributed code, suggestions, bug reports, and other assistance across the project.\n+\n+## Release Highlights\n+\n+### File Preview When Guestbooks or Terms Exist\n+\n+Previously, file preview was only available when files were publicly downloadable. Now if a guestbook or terms (or both) are configured for the dataset, they will be shown in the Preview tab and once they are agreed to, the file preview will appear (#6919).\n+\n+### Preview Only External Tools\n+\n+A new external tool type called \"preview\" has been added that prevents the tool from being displayed under \"Explore Options\" under the \"Access File\" button on the file landing page (#6919).\n+\n+### Google Cloud Archiver\n+\n+Dataverse Bags can now be sent to a bucket in Google Cloud, including those in the 'Coldline' storage class, which provides less expensive but slower access.\n+\n+## Major Use Cases\n+\n+Newly-supported use cases in this release include:\n+\n+- Users can now preview files that have a guestbook or terms. (Issue #6919, PR #7369)\n+- External tool developers can indicate that their tool is \"preview only\". (Issue #6919, PR #7369)\n+- Dataverse Administrators can set up a regular export to Google Cloud so that the installation's data is preserved (Issue #7140, PR #7292)\n+- Dataverse Administrators can use a regex when defining a group (Issue #7344, PR #7351)\n+- External Tool Developers can use a new API endpoint to retrieve a user's information (Issue #7307, PR #7345)\n+\n+## Notes for Dataverse Installation Administrators\n+\n+### Converting Explore External Tools to Preview Only\n+\n+When the war file is deployed, a SQL migration script will convert [dataverse-previewers][] to have both \"explore\" and \"preview\" types so that they will continue to be displayed in the Preview tab.\n+\n+If you would prefer that these tools be preview only, you can delete the tools, adjust the JSON manifests (changing \"explore\" to \"preview\"), and re-add them.\n+\n+[dataverse-previewers]: https://github.com/GlobalDataverseCommunityConsortium/dataverse-previewers\n+\n+### New DB Settings and JVM Options\n+\n+Installations integrating with Google Cloud Archiver will need to use two new DB Settings:\n+\n+- :GoogleCloudProject - the name of the project managing the bucket\n+- :GoogleCloudBucket - the name of the bucket to use\n+\n+For more information, see the Google Cloud Configuration section of the [Installation Guide](https://guides.dataverse.org/en/5.2/installation/)\n+\n+### Automation of Make Data Count Scripts\n+\n+Scripts have been added in order to automate Make Data Count processing. For more information, see the Make Data Count section of the [Admin Guide](https://guides.dataverse.org/en/5.2/admin/)\n+\n+## Notes for Tool Developers and Integrators\n+\n+### Preview Only External Tools, \"hasPreviewMode\"\n+\n+A new external tool type called \"preview\" has been added that prevents the tool from being displayed under \"Explore Options\" under the \"Access File\" button on the file landing page (#6919). This \"preview\" type replaces \"hasPreviewMode\", which has been removed.\n+\n+### Multiple Types for External Tools\n+\n+External tools now support multiple types. In practice, the types \"explore\" and \"preview\" are the only combination that makes a difference in the UI as opposed to only having only one or the other type (see \"preview only\" above). Multiple types are specified in the JSON manifest with an array in \"types\". The older, single \"type\" is still supported but should be considered deprecated.\n+\n+### User Information Endpoint\n+\n+New API endpoint to retrieve user info so that tools can email users if needed.\n+\n+## Complete List of Changes\n+\n+For the complete list of code changes in this release, see the [5.2 Milestone](https://github.com/IQSS/dataverse/milestone/92?closed=1) in Github.\n+\n+For help with upgrading, installing, or general questions please post to the [Dataverse Google Group](https://groups.google.com/forum/#!forum/dataverse-community) or email support@dataverse.org.\n+\n+## Installation\n+\n+If this is a new installation, please see our [Installation Guide](https://guides.dataverse.org/en/5.2/installation/)\n+\n+## Upgrade Instructions\n+\n+0. These instructions assume that you've already successfully upgraded from Dataverse 4.x to  Dataverse 5 following the instructions in the [Dataverse 5 Release Notes](https://github.com/IQSS/dataverse/releases/tag/v5.0).\n+\n+1. Undeploy the previous version.\n+\n+`<payara install path>/bin/asadmin list-applications`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a2fd36fedf3d9f6e10d4a01f23d4a10dacb3545"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI5MzUxMA==", "bodyText": "added in 2ea51b2", "url": "https://github.com/IQSS/dataverse/pull/7390#discussion_r518293510", "createdAt": "2020-11-05T19:06:30Z", "author": {"login": "djbrooke"}, "path": "doc/release-notes/5.2-release-notes.md", "diffHunk": "@@ -0,0 +1,97 @@\n+# Dataverse 5.2\n+\n+This release brings new features, enhancements, and bug fixes to Dataverse. Thank you to all of the community members who contributed code, suggestions, bug reports, and other assistance across the project.\n+\n+## Release Highlights\n+\n+### File Preview When Guestbooks or Terms Exist\n+\n+Previously, file preview was only available when files were publicly downloadable. Now if a guestbook or terms (or both) are configured for the dataset, they will be shown in the Preview tab and once they are agreed to, the file preview will appear (#6919).\n+\n+### Preview Only External Tools\n+\n+A new external tool type called \"preview\" has been added that prevents the tool from being displayed under \"Explore Options\" under the \"Access File\" button on the file landing page (#6919).\n+\n+### Google Cloud Archiver\n+\n+Dataverse Bags can now be sent to a bucket in Google Cloud, including those in the 'Coldline' storage class, which provides less expensive but slower access.\n+\n+## Major Use Cases\n+\n+Newly-supported use cases in this release include:\n+\n+- Users can now preview files that have a guestbook or terms. (Issue #6919, PR #7369)\n+- External tool developers can indicate that their tool is \"preview only\". (Issue #6919, PR #7369)\n+- Dataverse Administrators can set up a regular export to Google Cloud so that the installation's data is preserved (Issue #7140, PR #7292)\n+- Dataverse Administrators can use a regex when defining a group (Issue #7344, PR #7351)\n+- External Tool Developers can use a new API endpoint to retrieve a user's information (Issue #7307, PR #7345)\n+\n+## Notes for Dataverse Installation Administrators\n+\n+### Converting Explore External Tools to Preview Only\n+\n+When the war file is deployed, a SQL migration script will convert [dataverse-previewers][] to have both \"explore\" and \"preview\" types so that they will continue to be displayed in the Preview tab.\n+\n+If you would prefer that these tools be preview only, you can delete the tools, adjust the JSON manifests (changing \"explore\" to \"preview\"), and re-add them.\n+\n+[dataverse-previewers]: https://github.com/GlobalDataverseCommunityConsortium/dataverse-previewers\n+\n+### New DB Settings and JVM Options\n+\n+Installations integrating with Google Cloud Archiver will need to use two new DB Settings:\n+\n+- :GoogleCloudProject - the name of the project managing the bucket\n+- :GoogleCloudBucket - the name of the bucket to use\n+\n+For more information, see the Google Cloud Configuration section of the [Installation Guide](https://guides.dataverse.org/en/5.2/installation/)\n+\n+### Automation of Make Data Count Scripts\n+\n+Scripts have been added in order to automate Make Data Count processing. For more information, see the Make Data Count section of the [Admin Guide](https://guides.dataverse.org/en/5.2/admin/)\n+\n+## Notes for Tool Developers and Integrators\n+\n+### Preview Only External Tools, \"hasPreviewMode\"\n+\n+A new external tool type called \"preview\" has been added that prevents the tool from being displayed under \"Explore Options\" under the \"Access File\" button on the file landing page (#6919). This \"preview\" type replaces \"hasPreviewMode\", which has been removed.\n+\n+### Multiple Types for External Tools\n+\n+External tools now support multiple types. In practice, the types \"explore\" and \"preview\" are the only combination that makes a difference in the UI as opposed to only having only one or the other type (see \"preview only\" above). Multiple types are specified in the JSON manifest with an array in \"types\". The older, single \"type\" is still supported but should be considered deprecated.\n+\n+### User Information Endpoint\n+\n+New API endpoint to retrieve user info so that tools can email users if needed.\n+\n+## Complete List of Changes\n+\n+For the complete list of code changes in this release, see the [5.2 Milestone](https://github.com/IQSS/dataverse/milestone/92?closed=1) in Github.\n+\n+For help with upgrading, installing, or general questions please post to the [Dataverse Google Group](https://groups.google.com/forum/#!forum/dataverse-community) or email support@dataverse.org.\n+\n+## Installation\n+\n+If this is a new installation, please see our [Installation Guide](https://guides.dataverse.org/en/5.2/installation/)\n+\n+## Upgrade Instructions\n+\n+0. These instructions assume that you've already successfully upgraded from Dataverse 4.x to  Dataverse 5 following the instructions in the [Dataverse 5 Release Notes](https://github.com/IQSS/dataverse/releases/tag/v5.0).\n+\n+1. Undeploy the previous version.\n+\n+`<payara install path>/bin/asadmin list-applications`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE5OTUxMQ=="}, "originalCommit": {"oid": "2a2fd36fedf3d9f6e10d4a01f23d4a10dacb3545"}, "originalPosition": 82}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2317, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}