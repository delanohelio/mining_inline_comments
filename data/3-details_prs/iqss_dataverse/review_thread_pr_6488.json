{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwMTI4ODM5", "number": 6488, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQyMToyOTo1NlrODenMyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQyMToyOTo1NlrODenMyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNDI2MTIzOnYy", "diffSide": "RIGHT", "path": "scripts/installer/glassfish-setup.sh", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQyMToyOTo1NlrOFn2Otg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQyMTo0OTo0OVrOFn200A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzMyNzI4Ng==", "bodyText": "@qqmyers After some testing and looking into this with @kcondon, we are wondering - since it is now possible to configure more than one stores of the type \"file\", it seems like we need to be able to also define different physical directories for these locations.\ni.e., instead of the fixed Ddataverse.files.directory=..., it should be\ndataverse.files.file.directory=..., dataverse.files.file1.directory=..., etc.\n(but maybe we should also leave the current dataverse.files.directory, for backward compatiblity, to be consulted if dataverse.files.file.directory is not defined - ?)\nwhat do you think?", "url": "https://github.com/IQSS/dataverse/pull/6488#discussion_r377327286", "createdAt": "2020-02-10T21:29:56Z", "author": {"login": "landreev"}, "path": "scripts/installer/glassfish-setup.sh", "diffHunk": "@@ -73,6 +73,9 @@ function preliminary_setup()\n   # location of the datafiles directory: \n   # (defaults to dataverse/files in the users home directory)\n   ./asadmin $ASADMIN_OPTS create-jvm-options \"\\-Ddataverse.files.directory=${FILES_DIR}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "669836348cf09789d406be1e0422b9e95ba60739"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzMzMjc5OA==", "bodyText": "@qqmyers OK, please [half]scratch the above - I see what's going on... the code is already doing what I suggested above; it's the documentation and the migration instruction that need to be updated, to include the .directory JVM option. (otherwise the file storage is working, BUT the files end up stored in /tmp/files!)", "url": "https://github.com/IQSS/dataverse/pull/6488#discussion_r377332798", "createdAt": "2020-02-10T21:40:47Z", "author": {"login": "landreev"}, "path": "scripts/installer/glassfish-setup.sh", "diffHunk": "@@ -73,6 +73,9 @@ function preliminary_setup()\n   # location of the datafiles directory: \n   # (defaults to dataverse/files in the users home directory)\n   ./asadmin $ASADMIN_OPTS create-jvm-options \"\\-Ddataverse.files.directory=${FILES_DIR}\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzMyNzI4Ng=="}, "originalCommit": {"oid": "669836348cf09789d406be1e0422b9e95ba60739"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzMzNzA0MA==", "bodyText": "Yep - was just writing that up since I knew I'd changed the code. I can update the docs to match.", "url": "https://github.com/IQSS/dataverse/pull/6488#discussion_r377337040", "createdAt": "2020-02-10T21:49:49Z", "author": {"login": "qqmyers"}, "path": "scripts/installer/glassfish-setup.sh", "diffHunk": "@@ -73,6 +73,9 @@ function preliminary_setup()\n   # location of the datafiles directory: \n   # (defaults to dataverse/files in the users home directory)\n   ./asadmin $ASADMIN_OPTS create-jvm-options \"\\-Ddataverse.files.directory=${FILES_DIR}\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzMyNzI4Ng=="}, "originalCommit": {"oid": "669836348cf09789d406be1e0422b9e95ba60739"}, "originalPosition": 3}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3366, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}