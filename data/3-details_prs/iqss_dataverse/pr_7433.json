{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0NjgxNTk3", "number": 7433, "title": "API doc: missing ticks", "bodyText": "What this PR does / why we need it: doc/sphinx-guides/source/api/native-api.rst line 1179 is missing single ticks around the JSON data. without these ticks, file upload will fail\nWhich issue(s) this PR closes:\nCloses #6897\nSpecial notes for your reviewer: none\nSuggestions on how to test this: test endpoint with and without single ticks\nDoes this PR introduce a user interface change? If mockups are available, please link/include them here: no\nIs there a release notes update needed for this change?: no\nAdditional documentation: none", "createdAt": "2020-11-20T12:43:12Z", "url": "https://github.com/IQSS/dataverse/pull/7433", "merged": true, "mergeCommit": {"oid": "e8a2bb1c170792aaed713df7506ddd56cb5f30ba"}, "closed": true, "closedAt": "2020-11-20T21:18:40Z", "author": {"login": "donsizemore"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceYlL-gH2gAyNTI0NjgxNTk3OmFkZWVjYTU2Y2EwOGRhNjg5OGY3ZmY5NGRlYjFmZTgwMjJmZmMwMDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdec6f2AFqTUzNTczNTUzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "adeeca56ca08da6898f7ff94deb1fe8022ffc006", "author": {"user": {"login": "donsizemore", "name": "Don Sizemore"}}, "url": "https://github.com/IQSS/dataverse/commit/adeeca56ca08da6898f7ff94deb1fe8022ffc006", "committedDate": "2020-05-05T18:42:09Z", "message": "#6897 correct ticks and quotes as found my @madunlap"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0b2e55619a79e76e139c818d431ccdad146625b", "author": {"user": null}, "url": "https://github.com/IQSS/dataverse/commit/c0b2e55619a79e76e139c818d431ccdad146625b", "committedDate": "2020-11-20T12:40:23Z", "message": "Merge remote-tracking branch 'upstream/develop' into 6897_missing_ticks"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1NTMxMzg0", "url": "https://github.com/IQSS/dataverse/pull/7433#pullrequestreview-535531384", "createdAt": "2020-11-20T15:33:06Z", "commit": {"oid": "c0b2e55619a79e76e139c818d431ccdad146625b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNTozMzowNlrOH3UlvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNTozMzowNlrOH3UlvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzc3MTA2OA==", "bodyText": "I have a slight preference (if it works) to have the single quote before jsonData like this:\n-F 'jsonData={\n\n(In the example above as well.)\nIs that possible? Does that work. That way it's the same (except that it's double instead of single quotes) as the other -F which looks like this:\n-F \"file=@$FILENAME\" \n\nAll this said, I'm also fine with whatever works! \ud83d\ude04", "url": "https://github.com/IQSS/dataverse/pull/7433#discussion_r527771068", "createdAt": "2020-11-20T15:33:06Z", "author": {"login": "pdurbin"}, "path": "doc/sphinx-guides/source/api/native-api.rst", "diffHunk": "@@ -1170,13 +1170,13 @@ In the curl example below, all of the above are specified but they are optional.\n   export SERVER_URL=https://demo.dataverse.org\n   export PERSISTENT_ID=doi:10.5072/FK2/J8SJZB\n \n-  curl -H X-Dataverse-key:$API_TOKEN -X POST -F \"file=@$FILENAME\" -F 'jsonData={\"description\":\"My description.\",\"directoryLabel\":\"data/subdir1\",\"categories\":[\"Data\"], \"restrict\":\"false\"}' \"$SERVER_URL/api/datasets/:persistentId/add?persistentId=$PERSISTENT_ID\"\n+  curl -H X-Dataverse-key:$API_TOKEN -X POST -F \"file=@$FILENAME\" -F jsonData='{\"description\":\"My description.\",\"directoryLabel\":\"data/subdir1\",\"categories\":[\"Data\"], \"restrict\":\"false\"}' \"$SERVER_URL/api/datasets/:persistentId/add?persistentId=$PERSISTENT_ID\"\n \n The fully expanded example above (without environment variables) looks like this:\n \n .. code-block:: bash\n \n-  curl -H X-Dataverse-key:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx -X POST -F file=@data.tsv -F jsonData={\"description\":\"My description.\",\"directoryLabel\":\"data/subdir1\",\"categories\":[\"Data\"], \"restrict\":\"false\"} https://demo.dataverse.org/api/datasets/:persistentId/add?persistentId=doi:10.5072/FK2/J8SJZB\n+  curl -H X-Dataverse-key:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx -X POST -F file=@data.tsv -F jsonData='{\"description\":\"My description.\",\"directoryLabel\":\"data/subdir1\",\"categories\":[\"Data\"], \"restrict\":\"false\"}' \"https://demo.dataverse.org/api/datasets/:persistentId/add?persistentId=doi:10.5072/FK2/J8SJZB\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0b2e55619a79e76e139c818d431ccdad146625b"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcf0c67fd49744e66489e6d1b22d8b2f05dae1f8", "author": {"user": null}, "url": "https://github.com/IQSS/dataverse/commit/fcf0c67fd49744e66489e6d1b22d8b2f05dae1f8", "committedDate": "2020-11-20T16:01:12Z", "message": "#6897 move leading single tick for phil"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1NjE2Njk5", "url": "https://github.com/IQSS/dataverse/pull/7433#pullrequestreview-535616699", "createdAt": "2020-11-20T17:11:30Z", "commit": {"oid": "fcf0c67fd49744e66489e6d1b22d8b2f05dae1f8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNzoxMTozMFrOH3YmcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNzoxMTozMFrOH3YmcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzgzNjc4NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              curl -H X-Dataverse-key:$API_TOKEN -X POST -F \"file=@$FILENAME\" -F jsonData='{\"description\":\"My description.\",\"directoryLabel\":\"data/subdir1\",\"categories\":[\"Data\"], \"restrict\":\"false\"}' \"$SERVER_URL/api/datasets/:persistentId/add?persistentId=$PERSISTENT_ID\"\n          \n          \n            \n              curl -H X-Dataverse-key:$API_TOKEN -X POST -F \"file=@$FILENAME\" -F 'jsonData={\"description\":\"My description.\",\"directoryLabel\":\"data/subdir1\",\"categories\":[\"Data\"], \"restrict\":\"false\"}' \"$SERVER_URL/api/datasets/:persistentId/add?persistentId=$PERSISTENT_ID\"", "url": "https://github.com/IQSS/dataverse/pull/7433#discussion_r527836785", "createdAt": "2020-11-20T17:11:30Z", "author": {"login": "pdurbin"}, "path": "doc/sphinx-guides/source/api/native-api.rst", "diffHunk": "@@ -1170,13 +1170,13 @@ In the curl example below, all of the above are specified but they are optional.\n   export SERVER_URL=https://demo.dataverse.org\n   export PERSISTENT_ID=doi:10.5072/FK2/J8SJZB\n \n-  curl -H X-Dataverse-key:$API_TOKEN -X POST -F \"file=@$FILENAME\" -F 'jsonData={\"description\":\"My description.\",\"directoryLabel\":\"data/subdir1\",\"categories\":[\"Data\"], \"restrict\":\"false\"}' \"$SERVER_URL/api/datasets/:persistentId/add?persistentId=$PERSISTENT_ID\"\n+  curl -H X-Dataverse-key:$API_TOKEN -X POST -F \"file=@$FILENAME\" -F jsonData='{\"description\":\"My description.\",\"directoryLabel\":\"data/subdir1\",\"categories\":[\"Data\"], \"restrict\":\"false\"}' \"$SERVER_URL/api/datasets/:persistentId/add?persistentId=$PERSISTENT_ID\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcf0c67fd49744e66489e6d1b22d8b2f05dae1f8"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e08808d45b4694fb6780e1d5fa187ecc369242a", "author": {"user": null}, "url": "https://github.com/IQSS/dataverse/commit/9e08808d45b4694fb6780e1d5fa187ecc369242a", "committedDate": "2020-11-20T19:49:46Z", "message": "#6897 move single tick forward for phil"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1NzM1NTM4", "url": "https://github.com/IQSS/dataverse/pull/7433#pullrequestreview-535735538", "createdAt": "2020-11-20T19:56:12Z", "commit": {"oid": "9e08808d45b4694fb6780e1d5fa187ecc369242a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 698, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}