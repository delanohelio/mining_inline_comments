{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyNjExOTQ1", "number": 6628, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QyMTozODoyMlrODeKIqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QyMTozODoyMlrODeKIqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyOTQ5OTI5OnYy", "diffSide": "RIGHT", "path": "src/main/java/edu/harvard/iq/dataverse/GuestbookResponseServiceBean.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QyMTozODoyMlrOFnLCeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxOToxNzo1N1rOFnyWzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjYxOTY0MQ==", "bodyText": "I'm fine with \"N/A\" here if there is no PID. Heads up to @jggautier", "url": "https://github.com/IQSS/dataverse/pull/6628#discussion_r376619641", "createdAt": "2020-02-07T21:38:22Z", "author": {"login": "pdurbin"}, "path": "src/main/java/edu/harvard/iq/dataverse/GuestbookResponseServiceBean.java", "diffHunk": "@@ -226,6 +238,20 @@ public void streamResponsesByDataverseIdAndGuestbookId(OutputStream out, Long da\n         }\n     }\n     \n+    private String formatPersistentIdentifier(String protocol, String authority, String identifier) {\n+        // Note that the persistent id may be unavailable for this dvObject:\n+        if (StringUtil.nonEmpty(protocol) && StringUtil.nonEmpty(authority) && StringUtil.nonEmpty(identifier)) {\n+            StringBuilder sb = new StringBuilder();\n+            sb.append(protocol);\n+            sb.append(\":\");\n+            sb.append(authority);\n+            sb.append(\"/\");\n+            sb.append(identifier);\n+            return sb.toString();\n+        } \n+        return \"N/A\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fba12c28b2bbd4dcc071fc4cab0c640bda719b18"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY0MzkzMQ==", "bodyText": "Thanks. I have no preference. Another conventional option is to leave it blank, right?\nIn the case where some files in a Dataverse repository have file PIDs and some files don't (which I don't think is the case for any Dataverse repository yet), would using \"N/A\" be better than leaving it blank? I'm trying to remember the details of another guestbook-related conversation we had with a repository admin who said she preferred using a value instead of leaving it blank because it was a clearer to her that a record was written and, i.e. that the code worked.", "url": "https://github.com/IQSS/dataverse/pull/6628#discussion_r376643931", "createdAt": "2020-02-07T22:50:18Z", "author": {"login": "jggautier"}, "path": "src/main/java/edu/harvard/iq/dataverse/GuestbookResponseServiceBean.java", "diffHunk": "@@ -226,6 +238,20 @@ public void streamResponsesByDataverseIdAndGuestbookId(OutputStream out, Long da\n         }\n     }\n     \n+    private String formatPersistentIdentifier(String protocol, String authority, String identifier) {\n+        // Note that the persistent id may be unavailable for this dvObject:\n+        if (StringUtil.nonEmpty(protocol) && StringUtil.nonEmpty(authority) && StringUtil.nonEmpty(identifier)) {\n+            StringBuilder sb = new StringBuilder();\n+            sb.append(protocol);\n+            sb.append(\":\");\n+            sb.append(authority);\n+            sb.append(\"/\");\n+            sb.append(identifier);\n+            return sb.toString();\n+        } \n+        return \"N/A\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjYxOTY0MQ=="}, "originalCommit": {"oid": "fba12c28b2bbd4dcc071fc4cab0c640bda719b18"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI2MzgyMA==", "bodyText": "@jggautier if you're fine with it, so am I. Thanks.", "url": "https://github.com/IQSS/dataverse/pull/6628#discussion_r377263820", "createdAt": "2020-02-10T19:17:57Z", "author": {"login": "pdurbin"}, "path": "src/main/java/edu/harvard/iq/dataverse/GuestbookResponseServiceBean.java", "diffHunk": "@@ -226,6 +238,20 @@ public void streamResponsesByDataverseIdAndGuestbookId(OutputStream out, Long da\n         }\n     }\n     \n+    private String formatPersistentIdentifier(String protocol, String authority, String identifier) {\n+        // Note that the persistent id may be unavailable for this dvObject:\n+        if (StringUtil.nonEmpty(protocol) && StringUtil.nonEmpty(authority) && StringUtil.nonEmpty(identifier)) {\n+            StringBuilder sb = new StringBuilder();\n+            sb.append(protocol);\n+            sb.append(\":\");\n+            sb.append(authority);\n+            sb.append(\"/\");\n+            sb.append(identifier);\n+            return sb.toString();\n+        } \n+        return \"N/A\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjYxOTY0MQ=="}, "originalCommit": {"oid": "fba12c28b2bbd4dcc071fc4cab0c640bda719b18"}, "originalPosition": 75}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3303, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}