{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyNjExOTQ1", "number": 6628, "title": "added PIDs for datasets and files to guestbook download", "bodyText": "What this PR does / why we need it:\nSelf-explanatory!\nWhich issue(s) this PR closes:\nCloses #6534\nSpecial notes for your reviewer:\nSuggestions on how to test this:\nDoes this PR introduce a user interface change?:\nIs there a release notes update needed for this change?:\nAdditional documentation:", "createdAt": "2020-02-07T21:37:13Z", "url": "https://github.com/IQSS/dataverse/pull/6628", "merged": true, "mergeCommit": {"oid": "251a570d5d14a42977d4d8c2ed866ac9a4556d9b"}, "closed": true, "closedAt": "2020-02-12T23:37:19Z", "author": {"login": "landreev"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcCGTsGAH2gAyMzcyNjExOTQ1OmZiYTEyYzI4YjJiYmQ0ZGNjMDcxZmM0Y2FiMGM2NDBiZGE3MTliMTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDCIrwgH2gAyMzcyNjExOTQ1OmQyZmNmYjlkNWJhMGRkZmI5ZGFkNDBlMDVlNzllZTNmMTQyMDQ1MTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fba12c28b2bbd4dcc071fc4cab0c640bda719b18", "author": {"user": {"login": "landreev", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/fba12c28b2bbd4dcc071fc4cab0c640bda719b18", "committedDate": "2020-02-07T21:34:52Z", "message": "added persistent identifiers for datasets and files to guestbook csv download (#6534)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NDUyNDc4", "url": "https://github.com/IQSS/dataverse/pull/6628#pullrequestreview-355452478", "createdAt": "2020-02-07T21:38:22Z", "commit": {"oid": "fba12c28b2bbd4dcc071fc4cab0c640bda719b18"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QyMTozODoyMlrOFnLCeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QyMTozODoyMlrOFnLCeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjYxOTY0MQ==", "bodyText": "I'm fine with \"N/A\" here if there is no PID. Heads up to @jggautier", "url": "https://github.com/IQSS/dataverse/pull/6628#discussion_r376619641", "createdAt": "2020-02-07T21:38:22Z", "author": {"login": "pdurbin"}, "path": "src/main/java/edu/harvard/iq/dataverse/GuestbookResponseServiceBean.java", "diffHunk": "@@ -226,6 +238,20 @@ public void streamResponsesByDataverseIdAndGuestbookId(OutputStream out, Long da\n         }\n     }\n     \n+    private String formatPersistentIdentifier(String protocol, String authority, String identifier) {\n+        // Note that the persistent id may be unavailable for this dvObject:\n+        if (StringUtil.nonEmpty(protocol) && StringUtil.nonEmpty(authority) && StringUtil.nonEmpty(identifier)) {\n+            StringBuilder sb = new StringBuilder();\n+            sb.append(protocol);\n+            sb.append(\":\");\n+            sb.append(authority);\n+            sb.append(\"/\");\n+            sb.append(identifier);\n+            return sb.toString();\n+        } \n+        return \"N/A\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fba12c28b2bbd4dcc071fc4cab0c640bda719b18"}, "originalPosition": 75}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2MTkxMjky", "url": "https://github.com/IQSS/dataverse/pull/6628#pullrequestreview-356191292", "createdAt": "2020-02-10T19:11:50Z", "commit": {"oid": "fba12c28b2bbd4dcc071fc4cab0c640bda719b18"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2fcfb9d5ba0ddfb9dad40e05e79ee3f14204515", "author": {"user": {"login": "pdurbin", "name": "Philip Durbin"}}, "url": "https://github.com/IQSS/dataverse/commit/d2fcfb9d5ba0ddfb9dad40e05e79ee3f14204515", "committedDate": "2020-02-10T19:17:09Z", "message": "add release note about new columns #6534"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 925, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}