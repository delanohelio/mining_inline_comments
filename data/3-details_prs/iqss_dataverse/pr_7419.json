{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIyNTg0NDI1", "number": 7419, "title": "7417 - Update to Payara 5.2020.6", "bodyText": "What this PR does / why we need it:\nStability, security, bug fixes. Good thing, aren't they? Grateful for having them now after the dark days of Glassfish 4.1\nWhich issue(s) this PR closes:\nCloses #7417\nSpecial notes for your reviewer:\nDunno?\nSuggestions on how to test this:\nFollow the instructions to update. They take extreme precautions that might not be necessary, but better safe than sorry.\nDoes this PR introduce a user interface change? If mockups are available, please link/include them here:\nNope.\nIs there a release notes update needed for this change?:\n\ud83d\udd0b included.\nAdditional documentation:\nNada.", "createdAt": "2020-11-17T17:36:50Z", "url": "https://github.com/IQSS/dataverse/pull/7419", "merged": true, "mergeCommit": {"oid": "40cda0e4fde5c609d989d47d26d728aafec51c99"}, "closed": true, "closedAt": "2020-11-19T13:52:06Z", "author": {"login": "poikilotherm"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdddFSuAH2gAyNTIyNTg0NDI1OjE1MTAwZjRjYzRhM2RjYjk3ODVlNjUwZGRjNmU0MTcyMTc4Mzg1MTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddzsb6AFqTUzMzgyMjk4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "15100f4cc4a3dcb9785e650ddc6e417217838512", "author": {"user": {"login": "poikilotherm", "name": "Oliver Bertuch"}}, "url": "https://github.com/IQSS/dataverse/commit/15100f4cc4a3dcb9785e650ddc6e417217838512", "committedDate": "2020-11-17T17:34:04Z", "message": "Update to Payara 5.2020.6. #7417"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyNjcwMjM5", "url": "https://github.com/IQSS/dataverse/pull/7419#pullrequestreview-532670239", "createdAt": "2020-11-17T18:29:53Z", "commit": {"oid": "15100f4cc4a3dcb9785e650ddc6e417217838512"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxODoyOTo1M1rOH1DXcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxODozMTo1NFrOH1Dcmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTM5MTczMQ==", "bodyText": "Can you please update this in the dev guide too? Here:\ndoc/sphinx-guides/source/developers/dev-environment.rst\n88:sudo curl -O -L https://github.com/payara/Payara/releases/download/payara-server-5.2020.2/payara-5.2020.2.zip\n90:sudo unzip payara-5.2020.2.zip", "url": "https://github.com/IQSS/dataverse/pull/7419#discussion_r525391731", "createdAt": "2020-11-17T18:29:53Z", "author": {"login": "pdurbin"}, "path": "doc/sphinx-guides/source/installation/prerequisites.rst", "diffHunk": "@@ -58,8 +58,8 @@ Installing Payara\n \n - Download and install Payara (installed in ``/usr/local/payara5`` in the example commands below)::\n \n-\t# wget https://github.com/payara/Payara/releases/download/payara-server-5.2020.2/payara-5.2020.2.zip\n-\t# unzip payara-5.2020.2.zip\n+\t# wget https://s3-eu-west-1.amazonaws.com/payara.fish/Payara+Downloads/5.2020.6/payara-5.2020.6.zip\n+\t# unzip payara-5.2020.6.zip", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15100f4cc4a3dcb9785e650ddc6e417217838512"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTM5MjMxNw==", "bodyText": "Can you please update this in Vagrant too? Here:\nscripts/vagrant/setup.sh\n46:PAYARA_ZIP=\"$DOWNLOAD_DIR/payara-5.2020.2.zip\"\nAnd here:\ndownloads/download.sh\n2:curl -L -O https://github.com/payara/Payara/releases/download/payara-server-5.2020.2/payara-5.2020.2.zip", "url": "https://github.com/IQSS/dataverse/pull/7419#discussion_r525392317", "createdAt": "2020-11-17T18:30:48Z", "author": {"login": "pdurbin"}, "path": "doc/sphinx-guides/source/installation/prerequisites.rst", "diffHunk": "@@ -58,8 +58,8 @@ Installing Payara\n \n - Download and install Payara (installed in ``/usr/local/payara5`` in the example commands below)::\n \n-\t# wget https://github.com/payara/Payara/releases/download/payara-server-5.2020.2/payara-5.2020.2.zip\n-\t# unzip payara-5.2020.2.zip\n+\t# wget https://s3-eu-west-1.amazonaws.com/payara.fish/Payara+Downloads/5.2020.6/payara-5.2020.6.zip\n+\t# unzip payara-5.2020.6.zip", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTM5MTczMQ=="}, "originalCommit": {"oid": "15100f4cc4a3dcb9785e650ddc6e417217838512"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTM5MzA1MQ==", "bodyText": "Can you please update this for docker-aio too? Here:\nconf/docker-aio/c8.dockerfile\n21:RUN cd /opt ; unzip /tmp/dv/deps/payara-5.2020.2.zip ; ln -s /opt/payara5 /opt/glassfish4\nconf/docker-aio/testdata/scripts/vagrant/setup.sh\n46:PAYARA_ZIP=\"$DOWNLOAD_DIR/payara-5.2020.2.zip\"\nconf/docker-aio/0prep_deps.sh\n7:if [ ! -e dv/deps/payara-5.2020.2.zip ]; then\n10:\twget https://github.com/payara/Payara/releases/download/payara-server-5.2020.2/payara-5.2020.2.zip  -O dv/deps/payara-5.2020.2.zip", "url": "https://github.com/IQSS/dataverse/pull/7419#discussion_r525393051", "createdAt": "2020-11-17T18:31:54Z", "author": {"login": "pdurbin"}, "path": "doc/sphinx-guides/source/installation/prerequisites.rst", "diffHunk": "@@ -58,8 +58,8 @@ Installing Payara\n \n - Download and install Payara (installed in ``/usr/local/payara5`` in the example commands below)::\n \n-\t# wget https://github.com/payara/Payara/releases/download/payara-server-5.2020.2/payara-5.2020.2.zip\n-\t# unzip payara-5.2020.2.zip\n+\t# wget https://s3-eu-west-1.amazonaws.com/payara.fish/Payara+Downloads/5.2020.6/payara-5.2020.6.zip\n+\t# unzip payara-5.2020.6.zip", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTM5MTczMQ=="}, "originalCommit": {"oid": "15100f4cc4a3dcb9785e650ddc6e417217838512"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7bdbb7c30fff98e709bf81e2f22fb70ea3ef681f", "author": {"user": {"login": "poikilotherm", "name": "Oliver Bertuch"}}, "url": "https://github.com/IQSS/dataverse/commit/7bdbb7c30fff98e709bf81e2f22fb70ea3ef681f", "committedDate": "2020-11-17T18:58:40Z", "message": "Change more Payara 5.2020.2 to 5.2020.6. #7417"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNjY0NjIy", "url": "https://github.com/IQSS/dataverse/pull/7419#pullrequestreview-533664622", "createdAt": "2020-11-18T17:04:02Z", "commit": {"oid": "7bdbb7c30fff98e709bf81e2f22fb70ea3ef681f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzowNDowMlrOH14AeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNzowNDowMlrOH14AeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjI1NDIwMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [Payara documentation](https://docs.payara.fish/community/docs/5.2020.5/documentation/user-guides/upgrade-payara.html)\n          \n          \n            \n            [Payara documentation](https://docs.payara.fish/community/docs/5.2020.6/documentation/user-guides/upgrade-payara.html)\n          \n      \n    \n    \n  \n\nThis should be for .6 instead of .5, right? Either way, the Payara doc is somewhat involved. Should we write up our own steps for our users (and developers) and link to the Payara doc as an additional resource? I'm thinking of the \"Upgrade from Glassfish 4.1 to Payara 5\" steps described in the Dataverse 5.0 release notes: https://github.com/IQSS/dataverse/releases/tag/v5.0", "url": "https://github.com/IQSS/dataverse/pull/7419#discussion_r526254201", "createdAt": "2020-11-18T17:04:02Z", "author": {"login": "pdurbin"}, "path": "doc/release-notes/7417-payara-5.2020.6.md", "diffHunk": "@@ -0,0 +1,12 @@\n+## Update to Payara Platform 5.2020.6\n+\n+In contrast to good old Glassfish 4, the Payara application server\n+is a maintained product, receiving both feature and - more important -\n+security and dependent technology updates. You should update the\n+application server platform on a regular basis, as it is a key component\n+of a running Dataverse deployment.\n+\n+<!-- REQUIREMENT MARKER FOR LATER USE WITH #6819 AS HTML COMMENT. MAY BE OMMITED. -->\n+\n+Instructions how to update can be found in the\n+[Payara documentation](https://docs.payara.fish/community/docs/5.2020.5/documentation/user-guides/upgrade-payara.html)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bdbb7c30fff98e709bf81e2f22fb70ea3ef681f"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40b0b4c7925d7c5bd810d44ba0e786ab8a389b37", "author": {"user": {"login": "poikilotherm", "name": "Oliver Bertuch"}}, "url": "https://github.com/IQSS/dataverse/commit/40b0b4c7925d7c5bd810d44ba0e786ab8a389b37", "committedDate": "2020-11-18T17:08:25Z", "message": "Update doc/release-notes/7417-payara-5.2020.6.md\n\nCo-authored-by: Philip Durbin <philip_durbin@harvard.edu>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzODIyOTg0", "url": "https://github.com/IQSS/dataverse/pull/7419#pullrequestreview-533822984", "createdAt": "2020-11-18T19:54:44Z", "commit": {"oid": "40b0b4c7925d7c5bd810d44ba0e786ab8a389b37"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 692, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}