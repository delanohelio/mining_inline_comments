{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyMzE5OTQz", "number": 6974, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNzozMjoxM1rOEFoYFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNzozMjoxM1rOEFoYFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MzM5ODYxOnYy", "diffSide": "RIGHT", "path": "src/main/java/edu/harvard/iq/dataverse/authorization/providers/builtin/DataverseUserPage.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNzozMjoxM1rOGj781g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxODoxNjoyMFrOGj9ZQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMzNTU3NA==", "bodyText": "Somebody else here has pointed out that there is a connection with issue #3438; in a sense that, if we rely on users having verified emails for the purposes of group membership, not being able to verify it becomes more of an issue.\nSince you have been using these email groups in production, have you done anything to address #3438? (one possible solutions appear to be to just always show this button below - ?)", "url": "https://github.com/IQSS/dataverse/pull/6974#discussion_r440335574", "createdAt": "2020-06-15T17:32:13Z", "author": {"login": "landreev"}, "path": "src/main/java/edu/harvard/iq/dataverse/authorization/providers/builtin/DataverseUserPage.java", "diffHunk": "@@ -546,6 +546,7 @@ public void sendConfirmEmail() {\n     \n     /**\n      * Determines whether the button to send a verification email appears on user page\n+     * TODO: cant this be refactored to use confirmEmailService.hasVerifiedEmail(currentUser) ?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "76ae9278b3e9e3b860c2a1af97f449a764252dc5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0NjAzNg==", "bodyText": "Nope, I didn't. I was going to lean on auth provider support for this. Is this still an issue? It's 4 years old and a lot happened since then. If we encounter these problems again, I could take a look at this...", "url": "https://github.com/IQSS/dataverse/pull/6974#discussion_r440346036", "createdAt": "2020-06-15T17:51:36Z", "author": {"login": "poikilotherm"}, "path": "src/main/java/edu/harvard/iq/dataverse/authorization/providers/builtin/DataverseUserPage.java", "diffHunk": "@@ -546,6 +546,7 @@ public void sendConfirmEmail() {\n     \n     /**\n      * Determines whether the button to send a verification email appears on user page\n+     * TODO: cant this be refactored to use confirmEmailService.hasVerifiedEmail(currentUser) ?", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMzNTU3NA=="}, "originalCommit": {"oid": "76ae9278b3e9e3b860c2a1af97f449a764252dc5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM1OTIzMw==", "bodyText": "It appears that it has never been fixed precisely because it was not much of a serious issue for anyone (I didn't have any recollection of it). And form what I'm reading, that condition only happens if a user tries to refresh the page at the wrong time during the verification... The fact that you haven't heard many complaints about it is somewhat reassuring.\nWe'll address #3438, now that we have an extra reason to do so. I asked in part because I was wondering if the refactoring you suggested in the comment above might by itself solve it - but no, I don't think so.", "url": "https://github.com/IQSS/dataverse/pull/6974#discussion_r440359233", "createdAt": "2020-06-15T18:16:20Z", "author": {"login": "landreev"}, "path": "src/main/java/edu/harvard/iq/dataverse/authorization/providers/builtin/DataverseUserPage.java", "diffHunk": "@@ -546,6 +546,7 @@ public void sendConfirmEmail() {\n     \n     /**\n      * Determines whether the button to send a verification email appears on user page\n+     * TODO: cant this be refactored to use confirmEmailService.hasVerifiedEmail(currentUser) ?", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMzNTU3NA=="}, "originalCommit": {"oid": "76ae9278b3e9e3b860c2a1af97f449a764252dc5"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3226, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}