{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1MDUxNjE5", "number": 7337, "title": "Allow replacing a draft file", "bodyText": "What this PR does / why we need it: Enables replacing a file in draft, keeping the file metadata except label by default (user can then edit before saving if desired). (Note - not using the old file name is both because it is confusing and because one of the use cases is to, for example, replace a doc file with a pdf-a version that needs a different extension to get proper mimetyping).\nWhich issue(s) this PR closes:\nCloses #7149\nCloses #4380\nSpecial notes for your reviewer:  Also ties to #3913. There was some discussion about using a different name instead of 'replace' for this since the effect is slightly different for draft files when there is no prior released version (the new file gets the DOI of the old file because the old one is fully deleted, versus the new file getting a new DOI). Thinking through this further, it seems to be weirder to me to have ~replace on a draft file get called two different things depending on whether a released version exists, and it seems fairly natural to me for the DOI to be reused when it can. I also don't know what else I would call this. If there's still interest in making this a separate call and there's a name suggestion, I can update the PR.\nSuggestions on how to test this: Replace of published files should work as before, but it should be possible to replace a file in a draft version as well. When doing so, metadata including description, tags, categories, path, on the file should remain by default (and be editable prior to hitting save as normal). Replacing a file that is only available in draft should delete the replaced file entry in the db and remove the physical file file from storage. The new file should retain the DOI of the one removed. Replacing a file in draft that has previously been released should not remove the old file (still available in prior versions) and it should get a new DOI.\nShould work in both UI and API.\nShould also text that #5847 (comment) doesn't reappear as this PR reverts one of the changes made in that issue (hopefully compensating to address the problem in a different way).\nDoes this PR introduce a user interface change? If mockups are available, please link/include them here: replace option available for draft files, file metadata is retained from replaced file by default.\nIs there a release notes update needed for this change?:\nAdditional documentation:", "createdAt": "2020-10-16T19:20:45Z", "url": "https://github.com/IQSS/dataverse/pull/7337", "merged": true, "mergeCommit": {"oid": "2e4fd4c053e75931c41262f4db62b78d99e546df"}, "closed": true, "closedAt": "2021-03-22T16:38:11Z", "author": {"login": "qqmyers"}, "timelineItems": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdTLK_AgH2gAyNTA1MDUxNjE5OjE3YzM0M2ZjZWU2OWE2ZjM5Mjc1ZTRiZTZkNzM0ZDRkZDk1MzIxYTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABeA2yqeAH2gAyNTA1MDUxNjE5OjUxOGU5ZWVjNDE1ZjVmYzNhMGI4ZTgyOWY1MDk4NzE1OGQzNTRiMmQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "17c343fcee69a6f39275e4be6d734d4dd95321a1", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/17c343fcee69a6f39275e4be6d734d4dd95321a1", "committedDate": "2020-10-16T19:02:45Z", "message": "Allow replacing a draft file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "279002dbaaeaf82bfc12ba2905f9e0697386237a", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/279002dbaaeaf82bfc12ba2905f9e0697386237a", "committedDate": "2020-10-19T16:32:55Z", "message": "per @scolopasta - set previous datafileId when needed\n\nwhen replacing a draft-only file that was already a replacement itself"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cd3d3a39387ef57d27b9e8f4568b270a39cf7a5", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/2cd3d3a39387ef57d27b9e8f4568b270a39cf7a5", "committedDate": "2020-10-20T14:25:28Z", "message": "typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ecb64c89406bd07e014a3be328035d45effb9dc", "author": {"user": {"login": "djbrooke", "name": "Danny Brooke"}}, "url": "https://github.com/IQSS/dataverse/commit/5ecb64c89406bd07e014a3be328035d45effb9dc", "committedDate": "2020-10-20T14:29:41Z", "message": "adding release note"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0f039f8b3354224709166f13a36e247451fc977", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/d0f039f8b3354224709166f13a36e247451fc977", "committedDate": "2020-10-20T17:54:41Z", "message": "return 400 with bad json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87e2d99e23bd1dae8123d88b06cdf459fa4525de", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/87e2d99e23bd1dae8123d88b06cdf459fa4525de", "committedDate": "2020-10-20T17:57:17Z", "message": "Merge branch 'IQSS/7149-Replace_file_in_draft' of https://github.com/QualitativeDataRepository/dataverse.git into IQSS/7149-Replace_file_in_draft"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83eab44d3692648179dfd8e600e034cc28c278aa", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/83eab44d3692648179dfd8e600e034cc28c278aa", "committedDate": "2020-10-20T19:21:05Z", "message": "check fail on bad json in tests, use Bundle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04d36ae0572c33309a175ed2989d1191bdbc6710", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/04d36ae0572c33309a175ed2989d1191bdbc6710", "committedDate": "2020-10-20T20:11:04Z", "message": "adding lock sleeps"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77c6bdf8451b9eff3b174aed41bc81413dc7e8b9", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/77c6bdf8451b9eff3b174aed41bc81413dc7e8b9", "committedDate": "2020-10-21T15:15:25Z", "message": "fix merge issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8727c209f0db21e7c8270c93eb7263b826e03b64", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/8727c209f0db21e7c8270c93eb7263b826e03b64", "committedDate": "2020-10-21T15:16:47Z", "message": "Merge remote-tracking branch 'IQSS/develop' into IQSS/7149-Replace_file_in_draft"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff47892a8f7609b582448397ccd7e147c5eed7b9", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/ff47892a8f7609b582448397ccd7e147c5eed7b9", "committedDate": "2020-10-21T18:15:32Z", "message": "debugging: only remove fmd when deleting from draft"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be1026f9fcf664573c6cff224de59d853dd072e2", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/be1026f9fcf664573c6cff224de59d853dd072e2", "committedDate": "2020-10-22T21:44:30Z", "message": "resolved merge issues - simplifying tbd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6a403339fa744a247dd562850628bd84dcb859a", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/e6a403339fa744a247dd562850628bd84dcb859a", "committedDate": "2020-10-23T00:05:54Z", "message": "support null lock type in sleep"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d16b3cbf7f937f5b0b6525e587a5e6444f743244", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/d16b3cbf7f937f5b0b6525e587a5e6444f743244", "committedDate": "2020-10-23T18:28:15Z", "message": "hopefully cleanup and documentation - no functional change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MTI0NjQw", "url": "https://github.com/IQSS/dataverse/pull/7337#pullrequestreview-518124640", "createdAt": "2020-10-27T20:42:07Z", "commit": {"oid": "d16b3cbf7f937f5b0b6525e587a5e6444f743244"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDo0MjowN1rOHpQDuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDo0MjowN1rOHpQDuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzAxNjc2MQ==", "bodyText": "We're getting multiple replace file links here because of the change in render. Once a  released file has been replaced it can be replaced again, so taking out the \"isReleased\" gets two Replace links to render", "url": "https://github.com/IQSS/dataverse/pull/7337#discussion_r513016761", "createdAt": "2020-10-27T20:42:07Z", "author": {"login": "sekmiller"}, "path": "src/main/webapp/file.xhtml", "diffHunk": "@@ -267,7 +267,7 @@\n                                                                 </li>\n                                                             </ui:fragment>     \n                                                         </ui:fragment>\n-                                                        <ui:fragment rendered=\"#{FilePage.fileMetadata.dataFile.released and FilePage.draftReplacementFile == false and !FilePage.fileMetadata.dataFile.filePackage}\">                                        \n+                                                        <ui:fragment rendered=\"#{FilePage.draftReplacementFile == false and !FilePage.fileMetadata.dataFile.filePackage}\">                                        \n                                                         <li><!-- start: replace file link -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d16b3cbf7f937f5b0b6525e587a5e6444f743244"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72475d3db290df2b3b0be673f3b8581324a70639", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/72475d3db290df2b3b0be673f3b8581324a70639", "committedDate": "2020-10-28T13:26:57Z", "message": "fix duplicate replace button"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5MDY4MzIx", "url": "https://github.com/IQSS/dataverse/pull/7337#pullrequestreview-519068321", "createdAt": "2020-10-28T20:44:46Z", "commit": {"oid": "d16b3cbf7f937f5b0b6525e587a5e6444f743244"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMDo0NDo0NlrOHp8tQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMDo0NDo0NlrOHp8tQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzc0ODI4OA==", "bodyText": "Getting a null pointer here when I try to delete a file via the EditDataFilesPage from the Dataset Page. Will investigate further.", "url": "https://github.com/IQSS/dataverse/pull/7337#discussion_r513748288", "createdAt": "2020-10-28T20:44:46Z", "author": {"login": "sekmiller"}, "path": "src/main/java/edu/harvard/iq/dataverse/engine/command/impl/UpdateDatasetVersionCommand.java", "diffHunk": "@@ -165,38 +167,77 @@ public Dataset execute(CommandContext ctxt) throws CommandException {\n             }\n             // we have to merge to update the database but not flush because\n             // we don't want to create two draft versions!\n-            // Dataset tempDataset = ctxt.em().merge(theDataset);\n-            //SEK 5/30/2019\n-            // This interim merge is causing:\n-            // java.lang.IllegalArgumentException: Cannot merge an entity that has been removed: edu.harvard.iq.dvn.core.study.FileMetadata\n-            // at the merge at line 177\n-            //Is this merge needed to add the lock?  - seems to be 'no' so what is it needed for?\n-            \n-        //    theDataset = ctxt.em().merge(theDataset);\n+            // Although not completely tested, it looks like this merge handles the\n+            // thumbnail case - if the filemetadata is removed from the context below and\n+            // the dataset still references it, that could cause an issue. Merging here\n+            // avoids any reference from it being the dataset thumbnail\n+            theDataset = ctxt.em().merge(theDataset);\n \n+            /*\n+             * This code has to handle many cases, and anyone making changes should\n+             * carefully check tests and basic methods that update the dataset version. The\n+             * differences between the cases stem primarily from differences in whether the\n+             * files to add, and there filemetadata, and files to delete, and their\n+             * filemetadata have been persisted at this point, which manifests itself as to\n+             * whether they have id numbers or not, and apparently, whether or not they\n+             * exists in lists, e.g. the getFileMetadatas() list of a datafile.\n+             *\n+             * To handle this, the code is carefully checking to make sure that deletions\n+             * are deleting the right things and not, for example, doing a remove(fmd) when\n+             * the fmd.getId() is null, which just removes the first element found.\n+             */\n             for (FileMetadata fmd : filesToDelete) {\n+                logger.fine(\"Deleting fmd: \" + fmd.getId() + \" for file: \" + fmd.getDataFile().getId());\n+                // if file is draft (ie. new to this version), delete it. Otherwise just remove\n+                // filemetadata object)\n+                // There are a few cases to handle:\n+                // * the fmd has an id (has been persisted) and is the one in the current\n+                // (draft) version\n+                // * the fmd has an id (has been persisted) but it is from a published version\n+                // so we need the corresponding one from the draft version (i.e. created during\n+                // a getEditVersion call)\n+                // * the fmd has no id (hasn't been persisted) so we have to use non-id based\n+                // means to identify it and remove it from lists\n+\n+                if (fmd.getId() != null) {\n+                    // If the datasetversion doesn't match, we have the fmd from a published version\n+                    // and we need to remove the one for the newly created draft instead, so we find\n+                    // it here\n+                    if (theDataset.getEditVersion() != fmd.getDatasetVersion()) {\n+                        fmd = FileMetadataUtil.getFmdForFileInEditVersion(fmd, theDataset.getEditVersion());\n+                    }\n+                } else {\n+                    // Not sure if this is needed now that there is a dataset merge above, but we\n+                    // need to assure it is on the context\n+                    fmd = ctxt.em().merge(fmd);\n+                }\n+                // There are two datafile cases as well - the file has been released, so we're\n+                // jsut removing it from the current draft version or it is only in the draft\n+                // version and we completely remove the file.\n                 if (!fmd.getDataFile().isReleased()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d16b3cbf7f937f5b0b6525e587a5e6444f743244"}, "originalPosition": 68}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7f38f3d1780f38512907ad1493427b939082569", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/e7f38f3d1780f38512907ad1493427b939082569", "committedDate": "2020-10-30T14:48:08Z", "message": "!= to .equals()\n\nConflicts:\n\tsrc/main/java/edu/harvard/iq/dataverse/engine/command/impl/UpdateDatasetVersionCommand.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64c9e8838b2049053d3fc2c454cf76714bd4414b", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/64c9e8838b2049053d3fc2c454cf76714bd4414b", "committedDate": "2020-10-30T14:48:18Z", "message": "always merge"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwODA0ODIz", "url": "https://github.com/IQSS/dataverse/pull/7337#pullrequestreview-520804823", "createdAt": "2020-10-30T15:53:11Z", "commit": {"oid": "64c9e8838b2049053d3fc2c454cf76714bd4414b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTo1MzoxMVrOHrVXHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTo1MzoxMVrOHrVXHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIwMDc5Ng==", "bodyText": "Getting a null pointer here when I try the uncommon, but previously supported, action of uploading a number of files, but then deleting one before saving the rest to the draft version", "url": "https://github.com/IQSS/dataverse/pull/7337#discussion_r515200796", "createdAt": "2020-10-30T15:53:11Z", "author": {"login": "sekmiller"}, "path": "src/main/java/edu/harvard/iq/dataverse/util/FileMetadataUtil.java", "diffHunk": "@@ -0,0 +1,92 @@\n+/*\n+   Copyright (C) 2005-2012, by the President and Fellows of Harvard College.\n+\n+   Licensed under the Apache License, Version 2.0 (the \"License\");\n+   you may not use this file except in compliance with the License.\n+   You may obtain a copy of the License at\n+\n+         http://www.apache.org/licenses/LICENSE-2.0\n+\n+   Unless required by applicable law or agreed to in writing, software\n+   distributed under the License is distributed on an \"AS IS\" BASIS,\n+   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+   See the License for the specific language governing permissions and\n+   limitations under the License.\n+\n+   Dataverse Network - A web application to share, preserve and analyze research data.\n+   Developed at the Institute for Quantitative Social Science, Harvard University.\n+   Version 3.0.\n+*/\n+\n+package edu.harvard.iq.dataverse.util;\n+\n+import edu.harvard.iq.dataverse.DataFile;\n+import edu.harvard.iq.dataverse.DatasetVersion;\n+import edu.harvard.iq.dataverse.FileMetadata;\n+\n+import java.util.Collection;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.logging.Logger;\n+\n+public class FileMetadataUtil implements java.io.Serializable {\n+    private static final Logger logger = Logger.getLogger(FileMetadataUtil.class.getCanonicalName());\n+\n+    //Delete the filemetadata from the list if and only if it is in the list\n+    public static void removeFileMetadataFromList(Collection<FileMetadata> collection, FileMetadata fmToDelete) {\n+        // With an id, the standard remove will work\n+        if (fmToDelete.getId() != null) {\n+            collection.remove(fmToDelete);\n+        } else {\n+            Iterator<FileMetadata> fmit = collection.iterator();\n+            while (fmit.hasNext()) {\n+                FileMetadata fmd = fmit.next();\n+                // If not, we can remove based on a match based on the id of the related\n+                // datafile\n+                if (fmToDelete.getDataFile().getStorageIdentifier().equals(fmd.getDataFile().getStorageIdentifier())) {\n+                    // and a match on the datasetversion\n+                    if (fmToDelete.getDatasetVersion().getId() == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64c9e8838b2049053d3fc2c454cf76714bd4414b"}, "originalPosition": 48}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5772febf3ba743856f863d05c3de74ece8fdd85", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/c5772febf3ba743856f863d05c3de74ece8fdd85", "committedDate": "2020-10-30T16:51:01Z", "message": "fix delete during upload"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwOTg1MDI3", "url": "https://github.com/IQSS/dataverse/pull/7337#pullrequestreview-520985027", "createdAt": "2020-10-30T19:41:59Z", "commit": {"oid": "c5772febf3ba743856f863d05c3de74ece8fdd85"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75f5871e07458120af51af9c83caca28e4d1ea48", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/75f5871e07458120af51af9c83caca28e4d1ea48", "committedDate": "2020-11-03T20:27:20Z", "message": "Merge remote-tracking branch 'IQSS/develop' into IQSS/7149-Replace_file_in_draft"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3b4b944d77d4818a00d8ef46f1cca462bd2c825", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/c3b4b944d77d4818a00d8ef46f1cca462bd2c825", "committedDate": "2020-11-10T19:50:13Z", "message": "Merge remote-tracking branch 'IQSS/develop' into\n\nIQSS/7149-Replace_file_in_draft\n\nConflicts:\n\tsrc/main/webapp/file.xhtml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a0279d5bf4f0d547cf3876df38e781798734db4", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/4a0279d5bf4f0d547cf3876df38e781798734db4", "committedDate": "2020-11-10T20:01:18Z", "message": "grammar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ba10809c62b01032a6377089a2e4535937b2fc1", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/4ba10809c62b01032a6377089a2e4535937b2fc1", "committedDate": "2021-01-08T19:59:53Z", "message": "Merge remote-tracking branch 'IQSS/develop' into\nIQSS/7149-Replace_file_in_draft\n\nConflicts:\n\tsrc/main/java/edu/harvard/iq/dataverse/EditDatafilesPage.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d09e94599484272aa1bb4f1d8610b787993e81cd", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/d09e94599484272aa1bb4f1d8610b787993e81cd", "committedDate": "2021-01-29T18:54:49Z", "message": "Merge remote-tracking branch 'IQSS/develop' into IQSS/7149-Replace_file_in_draft"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5eb55ce192eb7d3f9088dd3b840d58e31b31a817", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/5eb55ce192eb7d3f9088dd3b840d58e31b31a817", "committedDate": "2021-02-23T18:03:19Z", "message": "Merge remote-tracking branch 'IQSS/develop' into\nIQSS/7149-Replace_file_in_draft\n\nConflicts:\n\tsrc/main/java/edu/harvard/iq/dataverse/datasetutility/FileReplacePageHelper.java\n\tsrc/main/java/propertyFiles/Bundle.properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "740c3f91353438243871f18af73171110bb874cc", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/740c3f91353438243871f18af73171110bb874cc", "committedDate": "2021-03-07T17:13:55Z", "message": "Merge remote-tracking branch 'IQSS/develop' into IQSS/7149-Replace_file_in_draft"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "518e9eec415f5fc3a0b8e829f50987158d354b2d", "author": {"user": {"login": "qqmyers", "name": null}}, "url": "https://github.com/IQSS/dataverse/commit/518e9eec415f5fc3a0b8e829f50987158d354b2d", "committedDate": "2021-03-07T17:18:36Z", "message": "add checksumtype support"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 797, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}