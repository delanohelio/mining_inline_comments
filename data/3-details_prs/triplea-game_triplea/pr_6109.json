{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1Mjk2ODU5", "number": 6109, "title": "Add Missing PBF/PBEM Help Messages", "bodyText": "Address #6023\nScreenshots", "createdAt": "2020-03-29T18:29:53Z", "url": "https://github.com/triplea-game/triplea/pull/6109", "merged": true, "mergeCommit": {"oid": "c5d95d4fa09e6e89b5c5ee9bd5bee0bb6de1d3b1"}, "closed": true, "closedAt": "2020-03-31T05:33:34Z", "author": {"login": "ron-murhammer"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSeNykAH2gAyMzk1Mjk2ODU5OjhkNDIzNWMzNjEzMTc1YjZkODQ2ZDk1Yjk4ZGZkZTA3OTE0MTRkNTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcS8PktAFqTM4NDQxMTQ5Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8d4235c3613175b6d846d95b98dfde0791414d58", "author": {"user": {"login": "ron-murhammer", "name": "Ron"}}, "url": "https://github.com/triplea-game/triplea/commit/8d4235c3613175b6d846d95b98dfde0791414d58", "committedDate": "2020-03-29T18:28:56Z", "message": "Add dice server help"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b98f7c9478a915dcf0dad58500738e1b5b7bc4e2", "author": {"user": {"login": "ron-murhammer", "name": "Ron"}}, "url": "https://github.com/triplea-game/triplea/commit/b98f7c9478a915dcf0dad58500738e1b5b7bc4e2", "committedDate": "2020-03-29T18:38:40Z", "message": "Fix button sizing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9177a62ae3353fbb61328f1c7a8a8f0902fda6ae", "author": {"user": {"login": "ron-murhammer", "name": "Ron"}}, "url": "https://github.com/triplea-game/triplea/commit/9177a62ae3353fbb61328f1c7a8a8f0902fda6ae", "committedDate": "2020-03-29T19:05:35Z", "message": "Add forum poster help text"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77a40d5a190b3fa8ddfd33b712492618c62354fe", "author": {"user": {"login": "ron-murhammer", "name": "Ron"}}, "url": "https://github.com/triplea-game/triplea/commit/77a40d5a190b3fa8ddfd33b712492618c62354fe", "committedDate": "2020-03-29T19:31:11Z", "message": "Add pbem help text"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNDQ2MzU1", "url": "https://github.com/triplea-game/triplea/pull/6109#pullrequestreview-383446355", "createdAt": "2020-03-29T19:32:55Z", "commit": {"oid": "77a40d5a190b3fa8ddfd33b712492618c62354fe"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQxOTozMjo1NVrOF9UcVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQxOTozMjo1NlrOF9UcWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg0MjM5MQ==", "bodyText": "Similar blocks of code found in 2 locations. Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/6109#discussion_r399842391", "createdAt": "2020-03-29T19:32:55Z", "author": {"login": "codeclimate"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/posted/game/pbem/EmailSenderEditor.java", "diffHunk": "@@ -177,6 +187,82 @@ public void viewModelChanged(final EmailSenderEditorViewModel viewModel) {\n           toggleFieldVisibility();\n           emailProviderSelectionBox.setSelectedItem(viewModel.getSelectedProvider());\n \n+          if (viewModel.isEmailProviderDisabled()) {\n+            helpMessage.setText(\n+                \"<html>\"\n+                    + \"Email sender<br/>\"\n+                    + \"An email sender can email the turn summary and save game to multiple \"\n+                    + \"recipients at the end of each players turn. This allows two or more \"\n+                    + \"players to play a game where you don't have to be online at the same \"\n+                    + \"time.<br/>\"\n+                    + \"Each email sender may require custom configuration, to learn more \"\n+                    + \"click help again after selecting a specific email sender.\"\n+                    + \"</html>\");\n+          } else if (viewModel.isEmailProviderGmail()) {\n+            helpMessage.setText(\n+                \"<html>\"\n+                    + \"Email through Gmail<br/>\"\n+                    + \"This email sends email via Gmails SMTP service. To use this you must have a \"\n+                    + \"gmail account. Configuration:<br/>\"\n+                    + \"Subject: This will be the subject of the email. In addition to the text \"\n+                    + \"entered, the player and round number will be appended<br/>\"\n+                    + \"To: A list of email addresses separated by space. the email will be sent to \"\n+                    + \"all these users<br/>\"\n+                    + \"Login: Your gmail login used to authenticate against the gmail smtp service\"\n+                    + \"<br/>\"\n+                    + \"Password: Your gmail password used to authenticate against the gmail smtp \"\n+                    + \"service<br/>\"\n+                    + \"Note: All communication with the Gmail service uses TLS encryption. Your \"\n+                    + \"Gmail login and password are not stored as part of the save game, but they \"\n+                    + \"are stored encrypted in the local file system if you select the option to \"\n+                    + \"remember your credentials.<br/>\"\n+                    + \"You may have to enter your login and password again if you open the save \"\n+                    + \"game on another computer.\"\n+                    + \"</html>\");\n+          } else if (viewModel.isEmailProviderHotmail()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77a40d5a190b3fa8ddfd33b712492618c62354fe"}, "originalPosition": 83}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg0MjM5Mg==", "bodyText": "Similar blocks of code found in 2 locations. Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/6109#discussion_r399842392", "createdAt": "2020-03-29T19:32:56Z", "author": {"login": "codeclimate"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/posted/game/pbem/EmailSenderEditor.java", "diffHunk": "@@ -177,6 +187,82 @@ public void viewModelChanged(final EmailSenderEditorViewModel viewModel) {\n           toggleFieldVisibility();\n           emailProviderSelectionBox.setSelectedItem(viewModel.getSelectedProvider());\n \n+          if (viewModel.isEmailProviderDisabled()) {\n+            helpMessage.setText(\n+                \"<html>\"\n+                    + \"Email sender<br/>\"\n+                    + \"An email sender can email the turn summary and save game to multiple \"\n+                    + \"recipients at the end of each players turn. This allows two or more \"\n+                    + \"players to play a game where you don't have to be online at the same \"\n+                    + \"time.<br/>\"\n+                    + \"Each email sender may require custom configuration, to learn more \"\n+                    + \"click help again after selecting a specific email sender.\"\n+                    + \"</html>\");\n+          } else if (viewModel.isEmailProviderGmail()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77a40d5a190b3fa8ddfd33b712492618c62354fe"}, "originalPosition": 62}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNDQ3MTc5", "url": "https://github.com/triplea-game/triplea/pull/6109#pullrequestreview-383447179", "createdAt": "2020-03-29T19:42:33Z", "commit": {"oid": "77a40d5a190b3fa8ddfd33b712492618c62354fe"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQxOTo0MjozM1rOF9Ugjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQxOTo1MDo1M1rOF9Ukrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg0MzQ3MA==", "bodyText": "There is a build for dialogs, it might help for setting the title. Something to consider.", "url": "https://github.com/triplea-game/triplea/pull/6109#discussion_r399843470", "createdAt": "2020-03-29T19:42:33Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/posted/game/DiceServerEditor.java", "diffHunk": "@@ -36,6 +37,19 @@\n               \"<html>Opens email registration page to register with MARTI dice-roller.<br>\"\n                   + \"Needs to be done once before MARTI dice server can be used.</html>\")\n           .build();\n+  private final JButton helpButton =\n+      new JButtonBuilder(\"Help\")\n+          .actionListener(\n+              () ->\n+                  JOptionPane.showMessageDialog(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77a40d5a190b3fa8ddfd33b712492618c62354fe"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg0NDE1OA==", "bodyText": "Design nit, the view model attempts to remove all logic from the view. This can be done by creating a method to fetch the help message directly from the view model, or alternatively by creating a method to tell the view which help text to render. This way the view asks the view model which help text to render as opposed to the view calculating which help text to render.\nEG:\n helpMessage.setText(viewModel.getEmailSenderHelpText());\n\nOr:\nswitch(viewModel.getHelpTextToDisplay()) {\n  case NO_EMAIL_PROVIDER_SELECTED:\n      helpMessage.setText( ...);\n      break;\n   case GMAIL_EMAIL_PROVIDER:\n     :\n     : \n}\n\nThe above is different as currently view model is interpreting the meaning of isEmailProviderDisabled rather than being told directly what to render.\nFor a viewmodel pattern, the first variant of getting the help message is probably closest to the pattern. The switch statement with a dedicated flag condition would work too.", "url": "https://github.com/triplea-game/triplea/pull/6109#discussion_r399844158", "createdAt": "2020-03-29T19:47:48Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/posted/game/pbem/EmailSenderEditor.java", "diffHunk": "@@ -177,6 +187,82 @@ public void viewModelChanged(final EmailSenderEditorViewModel viewModel) {\n           toggleFieldVisibility();\n           emailProviderSelectionBox.setSelectedItem(viewModel.getSelectedProvider());\n \n+          if (viewModel.isEmailProviderDisabled()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77a40d5a190b3fa8ddfd33b712492618c62354fe"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg0NDMzNw==", "bodyText": "These values probably should not have been hardcoded to begin with - mea culpa. But,  we do have constants for these values:\nEmailProviderPreset.GMAIL.getName();", "url": "https://github.com/triplea-game/triplea/pull/6109#discussion_r399844337", "createdAt": "2020-03-29T19:49:07Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/posted/game/pbem/EmailSenderEditorViewModel.java", "diffHunk": "@@ -16,6 +16,8 @@\n \n class EmailSenderEditorViewModel {\n   static final String PROVIDER_DISABLED = \"Disabled\";\n+  static final String GMAIL = \"Gmail\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77a40d5a190b3fa8ddfd33b712492618c62354fe"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg0NDUyNw==", "bodyText": "Ditto on view model should be told what to render as opposed to computing what to render. This allows for the logic to be tested as well, you can append to the tests to verify that the right help message is provided under the correct conditions.", "url": "https://github.com/triplea-game/triplea/pull/6109#discussion_r399844527", "createdAt": "2020-03-29T19:50:53Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/posted/game/pbf/ForumPosterEditor.java", "diffHunk": "@@ -64,6 +73,43 @@\n           SwingComponents.highlightLabelIfNotValid(viewModel.isForumUsernameValid(), usernameLabel);\n           SwingComponents.highlightLabelIfNotValid(viewModel.isForumPasswordValid(), passwordLabel);\n           testForum.setEnabled(viewModel.isTestForumPostButtonEnabled());\n+          helpMessage.setText(\n+              viewModel.getForumSelection().equals(NodeBbForumPoster.TRIPLEA_FORUM_DISPLAY_NAME)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77a40d5a190b3fa8ddfd33b712492618c62354fe"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8e78cd954fcfffbbc0329d3b97fe3ef18760fee", "author": {"user": {"login": "ron-murhammer", "name": "Ron"}}, "url": "https://github.com/triplea-game/triplea/commit/a8e78cd954fcfffbbc0329d3b97fe3ef18760fee", "committedDate": "2020-03-29T21:55:01Z", "message": "Add max dialog width and improve dialog title"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dff0d3d128cb64691b58c3922477eee3ca02bb54", "author": {"user": {"login": "ron-murhammer", "name": "Ron"}}, "url": "https://github.com/triplea-game/triplea/commit/dff0d3d128cb64691b58c3922477eee3ca02bb54", "committedDate": "2020-03-29T21:56:51Z", "message": "Change all forum help messages to use username rather than login"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3739fc20475e475b0dd73d93c89520c296f5a7c", "author": {"user": {"login": "ron-murhammer", "name": "Ron"}}, "url": "https://github.com/triplea-game/triplea/commit/f3739fc20475e475b0dd73d93c89520c296f5a7c", "committedDate": "2020-03-29T22:00:52Z", "message": "Use existing constants"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5187fdf2977da847976d847ed2d44140aa82da92", "author": {"user": {"login": "ron-murhammer", "name": "Ron"}}, "url": "https://github.com/triplea-game/triplea/commit/5187fdf2977da847976d847ed2d44140aa82da92", "committedDate": "2020-03-29T22:05:15Z", "message": "Move forum provider check logic to view"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9fccdbd634b81e5aaee6197a41ec6500842ba11", "author": {"user": {"login": "ron-murhammer", "name": "Ron"}}, "url": "https://github.com/triplea-game/triplea/commit/f9fccdbd634b81e5aaee6197a41ec6500842ba11", "committedDate": "2020-03-29T22:22:41Z", "message": "Fix line length violations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNDY1Mjc5", "url": "https://github.com/triplea-game/triplea/pull/6109#pullrequestreview-383465279", "createdAt": "2020-03-29T22:52:28Z", "commit": {"oid": "f9fccdbd634b81e5aaee6197a41ec6500842ba11"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNTQwMjQ5", "url": "https://github.com/triplea-game/triplea/pull/6109#pullrequestreview-383540249", "createdAt": "2020-03-30T05:33:04Z", "commit": {"oid": "f9fccdbd634b81e5aaee6197a41ec6500842ba11"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwNTozMzowNFrOF9aJ-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwNTozMzowNFrOF9aJ-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTkzNTk5NA==", "bodyText": "Building on the last thread, this is different from a switch statement on a single value.\n        } else if (viewModel.isEmailProviderGmail()) {\n\nThat is a brand new boolean condition on the view model, the view should be able to know what to do based on a single value. In this case we have business logic in the view.\nWe should be able to get rid of all if statements and the method isEmailProviderGmail. The view should not be aware of a concept of 'gmail' or the different view providers, only that it gets data and it knows how to render it.", "url": "https://github.com/triplea-game/triplea/pull/6109#discussion_r399935994", "createdAt": "2020-03-30T05:33:04Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/posted/game/pbem/EmailSenderEditor.java", "diffHunk": "@@ -177,6 +190,82 @@ public void viewModelChanged(final EmailSenderEditorViewModel viewModel) {\n           toggleFieldVisibility();\n           emailProviderSelectionBox.setSelectedItem(viewModel.getSelectedProvider());\n \n+          if (viewModel.isEmailProviderDisabled()) {\n+            helpMessage.setText(\n+                \"<html><p style='width: 400px;'>\"\n+                    + \"Email sender<br/>\"\n+                    + \"An email sender can email the turn summary and save game to multiple \"\n+                    + \"recipients at the end of each players turn. This allows two or more \"\n+                    + \"players to play a game where you don't have to be online at the same \"\n+                    + \"time.<br/>\"\n+                    + \"Each email sender may require custom configuration, to learn more \"\n+                    + \"click help again after selecting a specific email sender.\"\n+                    + \"</p></html>\");\n+          } else if (viewModel.isEmailProviderGmail()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9fccdbd634b81e5aaee6197a41ec6500842ba11"}, "originalPosition": 65}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNTUyNDQ2", "url": "https://github.com/triplea-game/triplea/pull/6109#pullrequestreview-383552446", "createdAt": "2020-03-30T06:09:16Z", "commit": {"oid": "f9fccdbd634b81e5aaee6197a41ec6500842ba11"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwNjowOToxN1rOF9azPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwNjowOToxN1rOF9azPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk0NjU1Nw==", "bodyText": "This is perfect \ud83d\udc4d", "url": "https://github.com/triplea-game/triplea/pull/6109#discussion_r399946557", "createdAt": "2020-03-30T06:09:17Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/posted/game/pbf/ForumPosterEditorViewModel.java", "diffHunk": "@@ -116,6 +116,10 @@ synchronized boolean areFieldsValid() {\n     return isTopicIdValid() && isForumUsernameValid() && isForumPasswordValid();\n   }\n \n+  boolean isForumProviderTripleA() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9fccdbd634b81e5aaee6197a41ec6500842ba11"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNTUyNTg4", "url": "https://github.com/triplea-game/triplea/pull/6109#pullrequestreview-383552588", "createdAt": "2020-03-30T06:09:39Z", "commit": {"oid": "f9fccdbd634b81e5aaee6197a41ec6500842ba11"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwNjowOTozOVrOF9azpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwNjowOTozOVrOF9azpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk0NjY2MA==", "bodyText": "This is perfect \ud83d\udc4d\nThe boolean is acting like a flag selecting between two values, looks good.", "url": "https://github.com/triplea-game/triplea/pull/6109#discussion_r399946660", "createdAt": "2020-03-30T06:09:39Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/posted/game/pbf/ForumPosterEditor.java", "diffHunk": "@@ -64,6 +75,48 @@\n           SwingComponents.highlightLabelIfNotValid(viewModel.isForumUsernameValid(), usernameLabel);\n           SwingComponents.highlightLabelIfNotValid(viewModel.isForumPasswordValid(), passwordLabel);\n           testForum.setEnabled(viewModel.isTestForumPostButtonEnabled());\n+          helpMessage.setText(\n+              viewModel.isForumProviderTripleA()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9fccdbd634b81e5aaee6197a41ec6500842ba11"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNTUyODE1", "url": "https://github.com/triplea-game/triplea/pull/6109#pullrequestreview-383552815", "createdAt": "2020-03-30T06:10:16Z", "commit": {"oid": "f9fccdbd634b81e5aaee6197a41ec6500842ba11"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwNjoxMDoxNlrOF9a0bQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwNjoxMDoxNlrOF9a0bQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk0Njg2MQ==", "bodyText": "This method was meant to stay internal. I know that from the perspective as the author of this class. It's re-used as part of other computations, it is not intended to be used by the UI.", "url": "https://github.com/triplea-game/triplea/pull/6109#discussion_r399946861", "createdAt": "2020-03-30T06:10:16Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/posted/game/pbem/EmailSenderEditorViewModel.java", "diffHunk": "@@ -100,10 +104,18 @@ boolean showEmailOptions() {\n     return !isEmailProviderDisabled();\n   }\n \n-  private boolean isEmailProviderDisabled() {\n+  protected boolean isEmailProviderDisabled() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9fccdbd634b81e5aaee6197a41ec6500842ba11"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNTUzNjM5", "url": "https://github.com/triplea-game/triplea/pull/6109#pullrequestreview-383553639", "createdAt": "2020-03-30T06:12:18Z", "commit": {"oid": "f9fccdbd634b81e5aaee6197a41ec6500842ba11"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwNjoxMjoxOFrOF9a3Cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwNjoxMjoxOFrOF9a3Cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk0NzUzMA==", "bodyText": "These two methods use in combination with the isEmailProviderDisabled is where I see a problem. Combining these three into one method I would suggest is the way to go to avoid having any logic in the view and to fit very cleanly with the existing pattern.", "url": "https://github.com/triplea-game/triplea/pull/6109#discussion_r399947530", "createdAt": "2020-03-30T06:12:18Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/posted/game/pbem/EmailSenderEditorViewModel.java", "diffHunk": "@@ -100,10 +104,18 @@ boolean showEmailOptions() {\n     return !isEmailProviderDisabled();\n   }\n \n-  private boolean isEmailProviderDisabled() {\n+  protected boolean isEmailProviderDisabled() {\n     return selectedProvider.equals(PROVIDER_DISABLED);\n   }\n \n+  protected boolean isEmailProviderGmail() {\n+    return selectedProvider.equals(EmailProviderPreset.GMAIL.getName());\n+  }\n+\n+  protected boolean isEmailProviderHotmail() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9fccdbd634b81e5aaee6197a41ec6500842ba11"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21bebd580a7a6b0d90cec2ce91c32c560ef439ad", "author": {"user": {"login": "ron-murhammer", "name": "Ron"}}, "url": "https://github.com/triplea-game/triplea/commit/21bebd580a7a6b0d90cec2ce91c32c560ef439ad", "committedDate": "2020-03-31T01:55:16Z", "message": "Refactor email help to use a single method call"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0MzUyMTEw", "url": "https://github.com/triplea-game/triplea/pull/6109#pullrequestreview-384352110", "createdAt": "2020-03-31T01:57:05Z", "commit": {"oid": "21bebd580a7a6b0d90cec2ce91c32c560ef439ad"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwMTo1NzowNVrOF-CidA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwMTo1NzowNVrOF-CidQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU5NzYyMA==", "bodyText": "Similar blocks of code found in 2 locations. Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/6109#discussion_r400597620", "createdAt": "2020-03-31T01:57:05Z", "author": {"login": "codeclimate"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/posted/game/pbem/EmailSenderEditor.java", "diffHunk": "@@ -177,6 +190,83 @@ public void viewModelChanged(final EmailSenderEditorViewModel viewModel) {\n           toggleFieldVisibility();\n           emailProviderSelectionBox.setSelectedItem(viewModel.getSelectedProvider());\n \n+          final String emailHelpType = viewModel.getEmailHelpType();\n+          if (emailHelpType.equals(EmailSenderEditorViewModel.PROVIDER_DISABLED)) {\n+            helpMessage.setText(\n+                \"<html><p style='width: 400px;'>\"\n+                    + \"Email sender<br/>\"\n+                    + \"An email sender can email the turn summary and save game to multiple \"\n+                    + \"recipients at the end of each players turn. This allows two or more \"\n+                    + \"players to play a game where you don't have to be online at the same \"\n+                    + \"time.<br/>\"\n+                    + \"Each email sender may require custom configuration, to learn more \"\n+                    + \"click help again after selecting a specific email sender.\"\n+                    + \"</p></html>\");\n+          } else if (emailHelpType.equals(EmailProviderPreset.GMAIL.getName())) {\n+            helpMessage.setText(\n+                \"<html><p style='width: 400px;'>\"\n+                    + \"Email through Gmail<br/>\"\n+                    + \"This email sends email via Gmails SMTP service. To use this you must have a \"\n+                    + \"gmail account. Configuration:<br/>\"\n+                    + \"Subject: This will be the subject of the email. In addition to the text \"\n+                    + \"entered, the player and round number will be appended<br/>\"\n+                    + \"To: A list of email addresses separated by space. the email will be sent to \"\n+                    + \"all these users<br/>\"\n+                    + \"Login: Your gmail login used to authenticate against the gmail smtp service\"\n+                    + \"<br/>\"\n+                    + \"Password: Your gmail password used to authenticate against the gmail smtp \"\n+                    + \"service<br/>\"\n+                    + \"Note: All communication with the Gmail service uses TLS encryption. Your \"\n+                    + \"Gmail login and password are not stored as part of the save game, but they \"\n+                    + \"are stored encrypted in the local file system if you select the option to \"\n+                    + \"remember your credentials.<br/>\"\n+                    + \"You may have to enter your login and password again if you open the save \"\n+                    + \"game on another computer.\"\n+                    + \"</p></html>\");\n+          } else if (emailHelpType.equals(EmailProviderPreset.HOTMAIL.getName())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21bebd580a7a6b0d90cec2ce91c32c560ef439ad"}, "originalPosition": 87}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU5NzYyMQ==", "bodyText": "Similar blocks of code found in 2 locations. Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/6109#discussion_r400597621", "createdAt": "2020-03-31T01:57:05Z", "author": {"login": "codeclimate"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/posted/game/pbem/EmailSenderEditor.java", "diffHunk": "@@ -177,6 +190,83 @@ public void viewModelChanged(final EmailSenderEditorViewModel viewModel) {\n           toggleFieldVisibility();\n           emailProviderSelectionBox.setSelectedItem(viewModel.getSelectedProvider());\n \n+          final String emailHelpType = viewModel.getEmailHelpType();\n+          if (emailHelpType.equals(EmailSenderEditorViewModel.PROVIDER_DISABLED)) {\n+            helpMessage.setText(\n+                \"<html><p style='width: 400px;'>\"\n+                    + \"Email sender<br/>\"\n+                    + \"An email sender can email the turn summary and save game to multiple \"\n+                    + \"recipients at the end of each players turn. This allows two or more \"\n+                    + \"players to play a game where you don't have to be online at the same \"\n+                    + \"time.<br/>\"\n+                    + \"Each email sender may require custom configuration, to learn more \"\n+                    + \"click help again after selecting a specific email sender.\"\n+                    + \"</p></html>\");\n+          } else if (emailHelpType.equals(EmailProviderPreset.GMAIL.getName())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21bebd580a7a6b0d90cec2ce91c32c560ef439ad"}, "originalPosition": 66}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0NDExNDky", "url": "https://github.com/triplea-game/triplea/pull/6109#pullrequestreview-384411492", "createdAt": "2020-03-31T05:28:02Z", "commit": {"oid": "21bebd580a7a6b0d90cec2ce91c32c560ef439ad"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3617, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}