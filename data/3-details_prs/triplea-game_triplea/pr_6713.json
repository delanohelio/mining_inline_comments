{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2MjM1MzYy", "number": 6713, "title": "Compute loop constant once", "bodyText": "Small change to a for loop to compute the terminal condition just once.\n'getHitPoints' is a call to attachments which does casting, it is not\na constant value (so its better to compute it once rather than on each\nloop iteration).\n\nFunctional Changes\n\n[] New map or map update\n[] New Feature\n[] Feature update or enhancement\n[] Feature Removal\n[x] Code Cleanup or refactor\n[] Configuration Change\n[] Problem fix:  \n[] Other:   \nTesting", "createdAt": "2020-06-18T05:22:21Z", "url": "https://github.com/triplea-game/triplea/pull/6713", "merged": true, "mergeCommit": {"oid": "1dbdd0859c0976a9411ccd09c709bf95a7df0d6d"}, "closed": true, "closedAt": "2020-06-21T17:56:01Z", "author": {"login": "DanVanAtta"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsXfbvAH2gAyNDM2MjM1MzYyOjU1OWMwZWI0YzRjN2ExNGJiNWU1NDBlMWQ3MGI3NDE0Nzc0NGFmNzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsZtcmgFqTQzMzAyOTYyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "559c0eb4c4c7a14bb5e540e1d70b74147744af71", "author": {"user": {"login": "DanVanAtta", "name": "Dan Van Atta"}}, "url": "https://github.com/triplea-game/triplea/commit/559c0eb4c4c7a14bb5e540e1d70b74147744af71", "committedDate": "2020-06-18T05:20:54Z", "message": "Compute loop constant once\n\nSmall change to a for loop to compute the terminal condition just once.\n'getHitPoints' is a call to attachments which does casting, it is not\na constant value (so its better to compute it once rather than on each\nloop iteration)."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzMDI5NjI2", "url": "https://github.com/triplea-game/triplea/pull/6713#pullrequestreview-433029626", "createdAt": "2020-06-18T07:55:54Z", "commit": {"oid": "559c0eb4c4c7a14bb5e540e1d70b74147744af71"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQwNzo1NTo1NFrOGlj1pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQwNzo1NTo1NFrOGlj1pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjAzNzY3MA==", "bodyText": "Actually I think it would be better to just move initialisation and deklaration out of the loop, up one line", "url": "https://github.com/triplea-game/triplea/pull/6713#discussion_r442037670", "createdAt": "2020-06-18T07:55:54Z", "author": {"login": "RoiEXLab"}, "path": "game-core/src/main/java/games/strategy/triplea/ui/UnitChooser.java", "diffHunk": "@@ -418,7 +418,9 @@ void disableMax() {\n       defaultHits = new ArrayList<>(Math.max(1, category.getHitPoints() - category.getDamaged()));\n       final int numUnits = category.getUnits().size();\n       int hitsUsedSoFar = 0;\n-      for (int i = 0; i < Math.max(1, category.getHitPoints() - category.getDamaged()); i++) {\n+      for (int i = 0, m = Math.max(1, category.getHitPoints() - category.getDamaged());\n+          i < m;\n+          i++) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "559c0eb4c4c7a14bb5e540e1d70b74147744af71"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3262, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}