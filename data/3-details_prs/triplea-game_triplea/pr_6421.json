{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MzcxMTcw", "number": 6421, "title": "Fix display of Can't Target info in tooltips.", "bodyText": "The list of unit types was previously incorrectly formatted.\nAlso makes the getter get called only once, since the getter\ndoes work in generating the list.\nFunctional Changes\n\n[] New map or map update\n[] New Feature\n[] Feature update or enhancement\n[] Feature Removal\n[] Code Cleanup or refactor\n[] Configuration Change\n[X] Problem fix:  \n[] Other:   \nTesting\nManual.\nScreens Shots\nBefore\n\nAfter", "createdAt": "2020-05-06T22:46:17Z", "url": "https://github.com/triplea-game/triplea/pull/6421", "merged": true, "mergeCommit": {"oid": "710be1d69d3ba60da62a58e8b25c7f0211114477"}, "closed": true, "closedAt": "2020-05-07T00:03:34Z", "author": {"login": "asvitkine"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcev_WygH2gAyNDE0MzcxMTcwOjJmZGZlZDI5NzgwOWJjYTZlYWU5NmFkNTUyODk1ZmY4YjYxZGMwYTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcexUWPgFqTQwNzA1NTgzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2fdfed297809bca6eae96ad552895ff8b61dc0a0", "author": {"user": {"login": "asvitkine", "name": null}}, "url": "https://github.com/triplea-game/triplea/commit/2fdfed297809bca6eae96ad552895ff8b61dc0a0", "committedDate": "2020-05-06T21:58:33Z", "message": "Fix display of Can't Target info in tooltips.\n\nThe list of unit types was previously incorrectly formatted.\nAlso makes the getter get called only once, since the getter\ndoes work in generating the list."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3MDM5MDg5", "url": "https://github.com/triplea-game/triplea/pull/6421#pullrequestreview-407039089", "createdAt": "2020-05-06T22:48:10Z", "commit": {"oid": "2fdfed297809bca6eae96ad552895ff8b61dc0a0"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMjo0ODoxMFrOGRoHdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMjo0ODoxMFrOGRoHeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTEzNjI0Nw==", "bodyText": "Similar blocks of code found in 2 locations. Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/6421#discussion_r421136247", "createdAt": "2020-05-06T22:48:10Z", "author": {"login": "codeclimate"}, "path": "game-core/src/main/java/games/strategy/triplea/attachments/UnitAttachment.java", "diffHunk": "@@ -3366,16 +3366,20 @@ public String toStringShortAndOnlyImportantDifferences(final GamePlayer player)\n     if (getCanBeMovedThroughByEnemies()) {\n       tuples.add(Tuple.of(\"Can Be Moved Through By Enemies\", \"\"));\n     }\n-    if (!getCanNotTarget().isEmpty()) {\n-      if (getCanNotTarget().size() <= 4) {\n-        tuples.add(Tuple.of(\"Can't Target: \", getCanNotTarget().toString()));\n+    final Collection<UnitType> cannotTarget = getCanNotTarget();\n+    if (!cannotTarget.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fdfed297809bca6eae96ad552895ff8b61dc0a0"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTEzNjI0OA==", "bodyText": "Similar blocks of code found in 2 locations. Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/6421#discussion_r421136248", "createdAt": "2020-05-06T22:48:10Z", "author": {"login": "codeclimate"}, "path": "game-core/src/main/java/games/strategy/triplea/attachments/UnitAttachment.java", "diffHunk": "@@ -3366,16 +3366,20 @@ public String toStringShortAndOnlyImportantDifferences(final GamePlayer player)\n     if (getCanBeMovedThroughByEnemies()) {\n       tuples.add(Tuple.of(\"Can Be Moved Through By Enemies\", \"\"));\n     }\n-    if (!getCanNotTarget().isEmpty()) {\n-      if (getCanNotTarget().size() <= 4) {\n-        tuples.add(Tuple.of(\"Can't Target: \", getCanNotTarget().toString()));\n+    final Collection<UnitType> cannotTarget = getCanNotTarget();\n+    if (!cannotTarget.isEmpty()) {\n+      if (cannotTarget.size() <= 4) {\n+        tuples.add(Tuple.of(\"Can't Target\", MyFormatter.defaultNamedToTextList(cannotTarget)));\n       } else {\n         tuples.add(Tuple.of(\"Can't Target Some Units\", \"\"));\n       }\n     }\n-    if (!getCanNotBeTargetedBy().isEmpty()) {\n-      if (getCanNotBeTargetedBy().size() <= 4) {\n-        tuples.add(Tuple.of(\"Can't Be Targeted By: \", getCanNotBeTargetedBy().toString()));\n+    final Collection<UnitType> cannotBeTargettedBy = getCanNotBeTargetedBy();\n+    if (!cannotBeTargettedBy.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fdfed297809bca6eae96ad552895ff8b61dc0a0"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2eed22834cff98a91ee0168ba79896cd43c091eb", "author": {"user": {"login": "asvitkine", "name": null}}, "url": "https://github.com/triplea-game/triplea/commit/2eed22834cff98a91ee0168ba79896cd43c091eb", "committedDate": "2020-05-06T23:26:14Z", "message": "Make a helper function."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "539190da08e314ac264c8f472441818f01fb03ae", "author": {"user": {"login": "asvitkine", "name": null}}, "url": "https://github.com/triplea-game/triplea/commit/539190da08e314ac264c8f472441818f01fb03ae", "committedDate": "2020-05-06T23:27:05Z", "message": "final"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3MDU1ODM3", "url": "https://github.com/triplea-game/triplea/pull/6421#pullrequestreview-407055837", "createdAt": "2020-05-06T23:31:23Z", "commit": {"oid": "2eed22834cff98a91ee0168ba79896cd43c091eb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMzozMToyM1rOGRpCIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMzozMToyM1rOGRpCIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE1MTI2Nw==", "bodyText": "What are your thoughts to have this method return a Tuple rather than 'out' parameters?\nhttps://github.com/triplea-game/triplea/wiki/Java-Code-Conventions#do-not-mutate-parameters-avoid-out-and-avoid-inout-parameters-5489", "url": "https://github.com/triplea-game/triplea/pull/6421#discussion_r421151267", "createdAt": "2020-05-06T23:31:23Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/triplea/attachments/UnitAttachment.java", "diffHunk": "@@ -3607,6 +3591,19 @@ public String toStringShortAndOnlyImportantDifferences(final GamePlayer player)\n     return result.toString();\n   }\n \n+  private void addLabeledUnitTypes(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2eed22834cff98a91ee0168ba79896cd43c091eb"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3402, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}