{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2MzM4OTA4", "number": 6573, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxNTo0Nzo0NVrOECNq7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxNTo0OTowNVrOECNtEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwNzU2NTkxOnYy", "diffSide": "RIGHT", "path": "game-core/src/main/java/games/strategy/triplea/ui/ObjectivePanel.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxNTo0Nzo0NVrOGeiGyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMTo1OTozOFrOGf-ehg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDY2OTI1Ng==", "bodyText": "Just a thought:\nsections.getOrDefault(player.getName(), List.of()).contains(key.get(1))\nwould be a shorter variant of the if statement, I haven't convinced myself that it's clearly better though", "url": "https://github.com/triplea-game/triplea/pull/6573#discussion_r434669256", "createdAt": "2020-06-03T15:47:45Z", "author": {"login": "RoiEXLab"}, "path": "game-core/src/main/java/games/strategy/triplea/ui/ObjectivePanel.java", "diffHunk": "@@ -196,17 +196,16 @@ private void setObjectiveStats() {\n \n         // find which section\n         boolean found = false;\n-        if (sections.containsKey(player.getName())) {\n-          if (sections.get(player.getName()).contains(key.get(1))) {\n-            final Map<ICondition, String> map = statsObjectiveUnsorted.get(player.getName());\n-            if (map == null) {\n-              throw new IllegalStateException(\n-                  \"objective.properties group has nothing: \" + player.getName());\n-            }\n-            map.put(condition, value);\n-            statsObjectiveUnsorted.put(player.getName(), map);\n-            found = true;\n+        if (sections.containsKey(player.getName())\n+            && sections.get(player.getName()).contains(key.get(1))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ad701f86a33f5cb271d0cb6b4b132fcc1b36a3e"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE4MjAxNw==", "bodyText": "A more radical change introduces unwanted risk and perhaps should arguably be tested. I'm not saying I disagree, only that such a change should be done as it's own PR where we make that one change or a set of similar changes and ensure it is adequately tested.", "url": "https://github.com/triplea-game/triplea/pull/6573#discussion_r436182017", "createdAt": "2020-06-05T21:57:38Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/triplea/ui/ObjectivePanel.java", "diffHunk": "@@ -196,17 +196,16 @@ private void setObjectiveStats() {\n \n         // find which section\n         boolean found = false;\n-        if (sections.containsKey(player.getName())) {\n-          if (sections.get(player.getName()).contains(key.get(1))) {\n-            final Map<ICondition, String> map = statsObjectiveUnsorted.get(player.getName());\n-            if (map == null) {\n-              throw new IllegalStateException(\n-                  \"objective.properties group has nothing: \" + player.getName());\n-            }\n-            map.put(condition, value);\n-            statsObjectiveUnsorted.put(player.getName(), map);\n-            found = true;\n+        if (sections.containsKey(player.getName())\n+            && sections.get(player.getName()).contains(key.get(1))) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDY2OTI1Ng=="}, "originalCommit": {"oid": "2ad701f86a33f5cb271d0cb6b4b132fcc1b36a3e"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE4MjY2Mg==", "bodyText": "A multimap might be what we want. Having a person reading code realize that the later execution is a no-op because we default to an empty list is a bit indirect. It is arguably simpler than the series of if statements, I agree that is debatable.", "url": "https://github.com/triplea-game/triplea/pull/6573#discussion_r436182662", "createdAt": "2020-06-05T21:59:38Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/triplea/ui/ObjectivePanel.java", "diffHunk": "@@ -196,17 +196,16 @@ private void setObjectiveStats() {\n \n         // find which section\n         boolean found = false;\n-        if (sections.containsKey(player.getName())) {\n-          if (sections.get(player.getName()).contains(key.get(1))) {\n-            final Map<ICondition, String> map = statsObjectiveUnsorted.get(player.getName());\n-            if (map == null) {\n-              throw new IllegalStateException(\n-                  \"objective.properties group has nothing: \" + player.getName());\n-            }\n-            map.put(condition, value);\n-            statsObjectiveUnsorted.put(player.getName(), map);\n-            found = true;\n+        if (sections.containsKey(player.getName())\n+            && sections.get(player.getName()).contains(key.get(1))) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDY2OTI1Ng=="}, "originalCommit": {"oid": "2ad701f86a33f5cb271d0cb6b4b132fcc1b36a3e"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwNzU3MTM5OnYy", "diffSide": "RIGHT", "path": "game-core/src/main/java/games/strategy/triplea/ui/ObjectivePanel.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxNTo0OTowNVrOGeiKTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxNTo0OTowNVrOGeiKTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDY3MDE1OQ==", "bodyText": "This put operation is redundant btw if I'm not missing something obvious", "url": "https://github.com/triplea-game/triplea/pull/6573#discussion_r434670159", "createdAt": "2020-06-03T15:49:05Z", "author": {"login": "RoiEXLab"}, "path": "game-core/src/main/java/games/strategy/triplea/ui/ObjectivePanel.java", "diffHunk": "@@ -196,17 +196,16 @@ private void setObjectiveStats() {\n \n         // find which section\n         boolean found = false;\n-        if (sections.containsKey(player.getName())) {\n-          if (sections.get(player.getName()).contains(key.get(1))) {\n-            final Map<ICondition, String> map = statsObjectiveUnsorted.get(player.getName());\n-            if (map == null) {\n-              throw new IllegalStateException(\n-                  \"objective.properties group has nothing: \" + player.getName());\n-            }\n-            map.put(condition, value);\n-            statsObjectiveUnsorted.put(player.getName(), map);\n-            found = true;\n+        if (sections.containsKey(player.getName())\n+            && sections.get(player.getName()).contains(key.get(1))) {\n+          final Map<ICondition, String> map = statsObjectiveUnsorted.get(player.getName());\n+          if (map == null) {\n+            throw new IllegalStateException(\n+                \"objective.properties group has nothing: \" + player.getName());\n           }\n+          map.put(condition, value);\n+          statsObjectiveUnsorted.put(player.getName(), map);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ad701f86a33f5cb271d0cb6b4b132fcc1b36a3e"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2098, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}