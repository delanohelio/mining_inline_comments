{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI5NTEzMDA3", "number": 6610, "title": "Combine nested if statements", "bodyText": "Fixes instances where Codacy.com identified via static analysis\nnested if statements that can be combined together.\n\nFunctional Changes\n\n[] New map or map update\n[] New Feature\n[] Feature update or enhancement\n[] Feature Removal\n[x] Code Cleanup or refactor\n[] Configuration Change\n[] Problem fix:  \n[] Other:   \nTesting\n\n\n\n\nAdditional Review Notes\nPlease double check that if statements were combined with correct boolean operator. Please ignore whitespace changes.", "createdAt": "2020-06-06T23:24:59Z", "url": "https://github.com/triplea-game/triplea/pull/6610", "merged": true, "mergeCommit": {"oid": "246810cf165a97b1bddc946261968e2e8e8c33f6"}, "closed": true, "closedAt": "2020-06-07T02:54:39Z", "author": {"login": "DanVanAtta"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcovx9zAH2gAyNDI5NTEzMDA3OmU5ZDJjNjBiY2UyMmVlOTRiODhiZTQzYjdkZTIwMjkyMDY5OGRlODM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoyzekAFqTQyNTc4MzAwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e9d2c60bce22ee94b88be43b7de202920698de83", "author": {"user": {"login": "DanVanAtta", "name": "Dan Van Atta"}}, "url": "https://github.com/triplea-game/triplea/commit/e9d2c60bce22ee94b88be43b7de202920698de83", "committedDate": "2020-06-06T23:23:10Z", "message": "Combine nested if statements\n\nFixes instances where Codacy.com identified via static analysis\nnested if statements that can be combined together."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1Nzc1NDQy", "url": "https://github.com/triplea-game/triplea/pull/6610#pullrequestreview-425775442", "createdAt": "2020-06-06T23:26:58Z", "commit": {"oid": "e9d2c60bce22ee94b88be43b7de202920698de83"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQyMzoyNjo1OFrOGgGJ2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQyMzoyNjo1OVrOGgGJ2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMwODQ0MA==", "bodyText": "Consider simplifying this complex logical expression.", "url": "https://github.com/triplea-game/triplea/pull/6610#discussion_r436308440", "createdAt": "2020-06-06T23:26:58Z", "author": {"login": "codeclimate"}, "path": "game-core/src/main/java/games/strategy/triplea/delegate/MoveValidator.java", "diffHunk": "@@ -1666,16 +1660,15 @@ private static void addToMapping(\n     for (final Unit plane : selectFrom) {\n       final UnitAttachment planeAttachment = UnitAttachment.get(plane.getType());\n       final int cost = planeAttachment.getCarrierCost();\n-      if (available >= cost) {\n-        // this is to test if they started in the same sea zone or not, and its not a very good way\n-        // of testing it.\n-        if ((carrier.getAlreadyMoved().compareTo(plane.getAlreadyMoved()) == 0)\n-            || (Matches.unitHasNotMoved().test(plane) && Matches.unitHasNotMoved().test(carrier))\n-            || (Matches.unitIsOwnedBy(playerWhoIsDoingTheMovement).negate().test(plane)\n-                && Matches.alliedUnit(playerWhoIsDoingTheMovement, data).test(plane))) {\n-          available -= cost;\n-          canCarry.add(plane);\n-        }\n+      // this is to test if they started in the same sea zone or not, and its not a very good way\n+      // of testing it.\n+      if (available >= cost", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9d2c60bce22ee94b88be43b7de202920698de83"}, "originalPosition": 118}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMwODQ0MQ==", "bodyText": "Consider simplifying this complex logical expression.", "url": "https://github.com/triplea-game/triplea/pull/6610#discussion_r436308441", "createdAt": "2020-06-06T23:26:59Z", "author": {"login": "codeclimate"}, "path": "game-core/src/main/java/games/strategy/triplea/ai/weak/WeakAi.java", "diffHunk": "@@ -1015,12 +1013,11 @@ public void purchase(\n             (Math.random() < 0.7 && transportCount < goodNumberOfTransports)\n                 || Math.random() < 0.10;\n         final boolean dontBuyBecauseTooManyTransports = transportCount > 2 * goodNumberOfTransports;\n-        if ((!isTransport && Math.random() * cost < 2)\n-            || (isTransport && buyBecauseTransport && !dontBuyBecauseTooManyTransports)) {\n-          if (cost <= leftToSpend) {\n-            leftToSpend -= cost;\n-            purchase.add(rule, 1);\n-          }\n+        if (((!isTransport && Math.random() * cost < 2)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9d2c60bce22ee94b88be43b7de202920698de83"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMwODQ0Mg==", "bodyText": "Identical blocks of code found in 2 locations. Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/6610#discussion_r436308442", "createdAt": "2020-06-06T23:26:59Z", "author": {"login": "codeclimate"}, "path": "game-core/src/main/java/games/strategy/triplea/delegate/MoveValidator.java", "diffHunk": "@@ -724,12 +722,11 @@ private MoveValidationResult validateBasic(\n       }\n \n       // if there is a neutral in the middle must stop unless all are air or getNeutralsBlitzable\n-      if (route.hasNeutralBeforeEnd()) {\n-        if ((units.isEmpty() || !units.stream().allMatch(Matches.unitIsAir()))\n-            && !isNeutralsBlitzable(data)) {\n-          return result.setErrorReturnResult(\n-              \"Must stop land units when passing through neutral territories\");\n-        }\n+      if (route.hasNeutralBeforeEnd()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9d2c60bce22ee94b88be43b7de202920698de83"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61b39fae806909609dfda7c9e1fe5608a2cac5cf", "author": {"user": {"login": "DanVanAtta", "name": "Dan Van Atta"}}, "url": "https://github.com/triplea-game/triplea/commit/61b39fae806909609dfda7c9e1fe5608a2cac5cf", "committedDate": "2020-06-06T23:56:11Z", "message": "Combine duplicative if statements"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NzgzMDA1", "url": "https://github.com/triplea-game/triplea/pull/6610#pullrequestreview-425783005", "createdAt": "2020-06-07T02:54:32Z", "commit": {"oid": "61b39fae806909609dfda7c9e1fe5608a2cac5cf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3359, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}