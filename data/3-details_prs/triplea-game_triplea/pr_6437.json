{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1MTM3NDE4", "number": 6437, "title": "Convert multiplayer staging screen alliance label to 'click to play alliance' button", "bodyText": "Clicking alliance buttons will take the seat of all factions in that alliance,\nclicking again will release all such seats. The single player staging screen already\nhas 'alliance' buttons, this update makes the multiplayer staging screens\nsimilar.\nA notable use-case is to start games more quickly, for example launching NWO\na host can click 'allies' on start-up to release all allied players and a client\ncan then click 'allies' to take all of the released seats.\n\nFunctional Changes\n\n[] New map or map update\n[x] New Feature\n[] Feature update or enhancement\n[] Feature Removal\n[] Code Cleanup or refactor\n[] Configuration Change\n[] Problem fix:  \n[] Other:   \nTesting\n\npretty extensive manual testing on a local hosted game, connected with a client, and checked games hosted on a local lobby\nchecked maps with and without alliances (song of fire and ice is a good example of map without alliance).\n\n\n\nScreens Shots\nBefore\n\nAfter\n\n\nNo alliance case is unchanged:", "createdAt": "2020-05-08T09:19:14Z", "url": "https://github.com/triplea-game/triplea/pull/6437", "merged": true, "mergeCommit": {"oid": "3296bffb4e1bd6484fe9d5d066f40cddf8c9b8ba"}, "closed": true, "closedAt": "2020-05-18T01:02:14Z", "author": {"login": "DanVanAtta"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcfOOxAAH2gAyNDE1MTM3NDE4OmRlMzBhZDY1ZmI4Mzg0ODEzZTI4ZjlkYTMwMDJlMGNjOTE4YTBjOTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcfa-aLAFqTQwODU4NTE2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "de30ad65fb8384813e28f9da3002e0cc918a0c92", "author": {"user": {"login": "DanVanAtta", "name": "Dan Van Atta"}}, "url": "https://github.com/triplea-game/triplea/commit/de30ad65fb8384813e28f9da3002e0cc918a0c92", "committedDate": "2020-05-08T09:12:32Z", "message": "Convert multiplayer staging screen alliance label to 'click to play alliance' button\n\nClicking alliance buttons will take the seat of all factions in that alliance,\nclicking again will release all such seats. The single player staging screen already\nhas 'alliance' buttons, this update makes the multiplayer staging screens\nsimilar.\n\nA notable use-case is to start games more quickly, for example launching NWO\na host can click 'allies' on start-up to release all allied players and a client\ncan then click 'allies' to take all of the released seats."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4MTEzNTI4", "url": "https://github.com/triplea-game/triplea/pull/6437#pullrequestreview-408113528", "createdAt": "2020-05-08T09:21:14Z", "commit": {"oid": "de30ad65fb8384813e28f9da3002e0cc918a0c92"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwOToyMToxNFrOGSfShg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwOToyMToxNVrOGSfSiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA0MDE5OA==", "bodyText": "Similar blocks of code found in 2 locations. Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/6437#discussion_r422040198", "createdAt": "2020-05-08T09:21:14Z", "author": {"login": "codeclimate"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/ServerSetupPanel.java", "diffHunk": "@@ -272,6 +274,21 @@ private void layoutPlayers() {\n     validate();\n   }\n \n+  private void allianceRowButtonFired(final PlayerRow playerRow) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "de30ad65fb8384813e28f9da3002e0cc918a0c92"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA0MDIwMQ==", "bodyText": "Similar blocks of code found in 2 locations. Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/6437#discussion_r422040201", "createdAt": "2020-05-08T09:21:15Z", "author": {"login": "codeclimate"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/ClientSetupPanel.java", "diffHunk": "@@ -143,13 +144,29 @@ private void layoutComponents() {\n       players.add(row.getPlayer());\n       layout.setConstraints(row.getPlayerComponent(), playConstraints);\n       players.add(row.getPlayerComponent());\n-      layout.setConstraints(row.getAlliance(), allianceConstraints);\n-      players.add(row.getAlliance());\n+      layout.setConstraints(row.getAllianceComponent(), allianceConstraints);\n+      players.add(row.getAllianceComponent());\n+      row.getAlliance().addActionListener(e -> fireAllianceButtonClicked(row));\n     }\n     add(players, BorderLayout.CENTER);\n     validate();\n   }\n \n+  private void fireAllianceButtonClicked(final PlayerRow playerRow) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "de30ad65fb8384813e28f9da3002e0cc918a0c92"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NTg1MTY3", "url": "https://github.com/triplea-game/triplea/pull/6437#pullrequestreview-408585167", "createdAt": "2020-05-09T00:03:26Z", "commit": {"oid": "de30ad65fb8384813e28f9da3002e0cc918a0c92"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3409, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}