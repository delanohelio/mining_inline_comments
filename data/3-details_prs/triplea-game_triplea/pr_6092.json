{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzOTQzNzQ5", "number": 6092, "title": "Add test coverage for findNearbyEnemyCapitalsAndFactories.", "bodyText": "In preparation for a change in the implementation (in #6086), this adds test coverage for findNearbyEnemyCapitalsAndFactories() and improves its API.\nFunctional Changes\n\n[] New map or map update\n[] New Feature\n[] Feature update or enhancement\n[] Feature Removal\n[] Code Cleanup or refactor\n[] Configuration Change\n[] Problem fix:  \n[X] Other:  Test coverage\nTesting\nThat's what this is. :)", "createdAt": "2020-03-26T04:04:26Z", "url": "https://github.com/triplea-game/triplea/pull/6092", "merged": true, "mergeCommit": {"oid": "526ceb9a5c204066f322334af61909b90442287a"}, "closed": true, "closedAt": "2020-03-26T22:30:26Z", "author": {"login": "asvitkine"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRUBQUAH2gAyMzkzOTQzNzQ5OjVmNWU5NzlkZjQyYWNkZDQwYzZhMmVkZTc3ZjYzY2QwZmFmNDQ5OGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRjz4AAFqTM4MjQ2NDA2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5f5e979df42acdd40c6a2ede77f63cd0faf4498a", "author": {"user": {"login": "asvitkine", "name": null}}, "url": "https://github.com/triplea-game/triplea/commit/5f5e979df42acdd40c6a2ede77f63cd0faf4498a", "committedDate": "2020-03-26T04:02:16Z", "message": "Add test coverage for findNearbyEnemyCapitalsAndFactories."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxNjk1Nzk1", "url": "https://github.com/triplea-game/triplea/pull/6092#pullrequestreview-381695795", "createdAt": "2020-03-26T04:31:19Z", "commit": {"oid": "5f5e979df42acdd40c6a2ede77f63cd0faf4498a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQwNDozMToxOVrOF73CEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQwNDozMToxOVrOF73CEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODMxMTk1Mw==", "bodyText": "Looks good, one question why distance '9'? Perhaps referencing the constant that controls this could make it clear?\nIE: when they're within min distance (ProTerritoryValuesUtils.MIN_FACTORY_CHECK_DISTANCE)\nSecond, does MAX_FACTORY_CHECK_DISTANCE come into play anywhere? Is there a test case to be added where we don't find something that is outside of max distance?", "url": "https://github.com/triplea-game/triplea/pull/6092#discussion_r398311953", "createdAt": "2020-03-26T04:31:19Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/test/java/games/strategy/triplea/ai/pro/util/ProTerritoryValuesUtilsTest.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package games.strategy.triplea.ai.pro.util;\n+\n+import static games.strategy.triplea.delegate.GameDataTestUtil.territory;\n+import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.hamcrest.Matchers.containsInAnyOrder;\n+\n+import games.strategy.engine.data.GameData;\n+import games.strategy.engine.data.Territory;\n+import games.strategy.triplea.xml.TestMapGameData;\n+import java.util.Collection;\n+import java.util.Set;\n+import org.junit.jupiter.api.DisplayName;\n+import org.junit.jupiter.api.Test;\n+\n+public class ProTerritoryValuesUtilsTest {\n+  private final GameData gameData = TestMapGameData.BIG_WORLD_1942.getGameData();\n+  private final Territory swUsa = territory(\"Southwestern United States\", gameData);\n+  private final Territory england = territory(\"England\", gameData);\n+  private final Territory northJapan = territory(\"Northern Japan\", gameData);\n+  private final Territory moscow = territory(\"Moscow\", gameData);\n+  private final Territory newSouthWales = territory(\"New South Wales\", gameData);\n+\n+  @Test\n+  @DisplayName(\"all targets found when they're within distance of 9\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f5e979df42acdd40c6a2ede77f63cd0faf4498a"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxNzk3Mzk0", "url": "https://github.com/triplea-game/triplea/pull/6092#pullrequestreview-381797394", "createdAt": "2020-03-26T08:43:37Z", "commit": {"oid": "5f5e979df42acdd40c6a2ede77f63cd0faf4498a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35eb662b698bac2553a71a7f2f7cbf51417c1484", "author": {"user": {"login": "asvitkine", "name": null}}, "url": "https://github.com/triplea-game/triplea/commit/35eb662b698bac2553a71a7f2f7cbf51417c1484", "committedDate": "2020-03-26T22:00:14Z", "message": "Fix test name and add assert messages."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNDY0MDYw", "url": "https://github.com/triplea-game/triplea/pull/6092#pullrequestreview-382464060", "createdAt": "2020-03-26T22:26:08Z", "commit": {"oid": "35eb662b698bac2553a71a7f2f7cbf51417c1484"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3608, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}