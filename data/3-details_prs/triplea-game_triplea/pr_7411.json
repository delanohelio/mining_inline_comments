{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxOTM3MTE4", "number": 7411, "title": "Refactor: Extract more common utilities from http-server into dropwizard common  (notably auth)", "bodyText": "Also simplify the configuration within http-server; inline the JDBI creation\n\n\nTesting\n\nScreens Shots\n\nAdditional Notes to Reviewer\n\nRelease Note", "createdAt": "2020-08-22T04:53:04Z", "url": "https://github.com/triplea-game/triplea/pull/7411", "merged": true, "mergeCommit": {"oid": "f0c4aabf3a7bc36442fea7467ebaf1a5f7f5dd1e"}, "closed": true, "closedAt": "2020-08-23T13:53:14Z", "author": {"login": "DanVanAtta"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdBSCn7gH2gAyNDcxOTM3MTE4OmYyMDg0ZGIwNDdjYzAxM2M3OTBkMjc5N2MxYmZjZDI2YjBjYTVhZWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdBuYIYgFqTQ3MzAxMzM0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f2084db047cc013c790d2797c1bfcd26b0ca5aee", "author": {"user": {"login": "DanVanAtta", "name": "Dan Van Atta"}}, "url": "https://github.com/triplea-game/triplea/commit/f2084db047cc013c790d2797c1bfcd26b0ca5aee", "committedDate": "2020-08-22T04:52:19Z", "message": "Extract more common utilities from http-server into dropwizard common (notably auth)\n\n- Also simplify the configuration within http-server; inline the JDBI creation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyODk3ODUw", "url": "https://github.com/triplea-game/triplea/pull/7411#pullrequestreview-472897850", "createdAt": "2020-08-22T04:56:28Z", "commit": {"oid": "f2084db047cc013c790d2797c1bfcd26b0ca5aee"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQwNDo1NjoyOFrOHFCjSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQwNDo1NjoyOFrOHFCjSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA0NjcyOA==", "bodyText": "Method enableAuthentication has 5 arguments (exceeds 4 allowed). Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/7411#discussion_r475046728", "createdAt": "2020-08-22T04:56:28Z", "author": {"login": "codeclimate"}, "path": "dropwizard-common/src/main/java/org/triplea/dropwizard/common/AuthenticationConfiguration.java", "diffHunk": "@@ -0,0 +1,45 @@\n+package org.triplea.dropwizard.common;\n+\n+import com.codahale.metrics.MetricRegistry;\n+import com.google.common.cache.CacheBuilder;\n+import io.dropwizard.auth.AuthDynamicFeature;\n+import io.dropwizard.auth.AuthValueFactoryProvider;\n+import io.dropwizard.auth.Authenticator;\n+import io.dropwizard.auth.Authorizer;\n+import io.dropwizard.auth.CachingAuthenticator;\n+import io.dropwizard.auth.oauth.OAuthCredentialAuthFilter;\n+import io.dropwizard.setup.Environment;\n+import java.security.Principal;\n+import java.time.Duration;\n+import lombok.experimental.UtilityClass;\n+import org.glassfish.jersey.server.filter.RolesAllowedDynamicFeature;\n+import org.triplea.http.client.AuthenticationHeaders;\n+\n+@UtilityClass\n+public class AuthenticationConfiguration {\n+\n+  public static <UserT extends Principal> void enableAuthentication(\n+      final Environment environment,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2084db047cc013c790d2797c1bfcd26b0ca5aee"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMDEzMzQz", "url": "https://github.com/triplea-game/triplea/pull/7411#pullrequestreview-473013343", "createdAt": "2020-08-23T13:53:09Z", "commit": {"oid": "f2084db047cc013c790d2797c1bfcd26b0ca5aee"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3956, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}