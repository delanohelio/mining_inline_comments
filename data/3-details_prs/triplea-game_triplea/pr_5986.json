{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxODQ4MDkz", "number": 5986, "title": "ClientMessenger refactoring", "bodyText": "What started as a simple follow-up to #5984 turned out to be a rather satisfying refactoring procedure.\nIf you're interested in the details feel free to look at the individual commits in order to better understand what's happening there's a lot of stuff going on here.\nI did manually test those changes, but I must admit that I didn't check compatibility, but I'm 99% sure IClientMessenger is not shared over the network.\nFunctional Changes\n\n[] New map or map update\n[] New Feature\n[] Feature update or enhancement\n[] Feature Removal\n[x] Code Cleanup or refactor\n[] Configuration Change\n[] Problem fix:  \n[] Other:   \nTesting\n\n[x] Manual testing done", "createdAt": "2020-02-29T13:08:23Z", "url": "https://github.com/triplea-game/triplea/pull/5986", "merged": true, "mergeCommit": {"oid": "d44b767f599709610d208be2cb9438b1f95e819a"}, "closed": true, "closedAt": "2020-03-01T16:24:11Z", "author": {"login": "RoiEXLab"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJC8eeAH2gAyMzgxODQ4MDkzOmFhYjIyOGYyZjE2NmI0YmU1M2Q5M2IyNDlmY2I0NjMzZTdkNmJlNjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcJbpBvgFqTM2Njg3MDEyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "aab228f2f166b4be53d93b249fcb4633e7d6be65", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/aab228f2f166b4be53d93b249fcb4633e7d6be65", "committedDate": "2020-02-29T11:37:16Z", "message": "Simplify ClientMessenger file logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5900e56effc7fd7c36d9a5860386dddb7cefeba1", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/5900e56effc7fd7c36d9a5860386dddb7cefeba1", "committedDate": "2020-02-29T12:44:35Z", "message": "Use common remote mechanism"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7c93eeb24c7cfe83bb806f866cd99d563717c1c", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/b7c93eeb24c7cfe83bb806f866cd99d563717c1c", "committedDate": "2020-02-29T12:55:12Z", "message": "Move methods from IClientMessenger to IServerStartupRemote"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79f94148cd50739da68bece849defc2d547ea3b4", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/79f94148cd50739da68bece849defc2d547ea3b4", "committedDate": "2020-02-29T12:56:38Z", "message": "Simplify method structure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bae6bbc054c81fcd3b3e72a5f6b5a2d71e0de56", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/6bae6bbc054c81fcd3b3e72a5f6b5a2d71e0de56", "committedDate": "2020-02-29T12:59:15Z", "message": "Merge methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8020e36e14874aa6124cb45ec4ed50d812ff828d", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/8020e36e14874aa6124cb45ec4ed50d812ff828d", "committedDate": "2020-02-29T13:07:21Z", "message": "Remove redundant logger"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2Nzk3NDA0", "url": "https://github.com/triplea-game/triplea/pull/5986#pullrequestreview-366797404", "createdAt": "2020-02-29T13:09:24Z", "commit": {"oid": "8020e36e14874aa6124cb45ec4ed50d812ff828d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQxMzowOToyNVrOFwJPXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOVQxMzowOToyNVrOFwJPXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjAyNzM1Ng==", "bodyText": "This is a change I'm not sure is 100% safe, but it worked no problem so I didn't want to pass clientMessenger as well just for this null check", "url": "https://github.com/triplea-game/triplea/pull/5986#discussion_r386027356", "createdAt": "2020-02-29T13:09:25Z", "author": {"login": "RoiEXLab"}, "path": "game-core/src/main/java/games/strategy/engine/framework/network/ui/SetMapClientAction.java", "diffHunk": "@@ -17,29 +16,28 @@\n \n   final List<String> availableGames;\n   private final Component parent;\n-  private final IClientMessenger clientMessenger;\n+  private final IServerStartupRemote serverStartupRemote;\n \n   public SetMapClientAction(\n       final Component parent,\n-      final IClientMessenger clientMessenger,\n+      final IServerStartupRemote serverStartupRemote,\n       final List<String> availableGames) {\n     super(\"Change Game To\");\n     this.parent = JOptionPane.getFrameForComponent(parent);\n-    this.clientMessenger = clientMessenger;\n+    this.serverStartupRemote = serverStartupRemote;\n     this.availableGames = availableGames;\n     Collections.sort(this.availableGames);\n   }\n \n   @Override\n   public void actionPerformed(final ActionEvent e) {\n-    final INode serverNode = clientMessenger.getServerNode();\n     final DefaultComboBoxModel<String> model = new DefaultComboBoxModel<>();\n     final JComboBox<String> combo = new JComboBox<>(model);\n     model.addElement(\"\");\n     for (final String game : availableGames) {\n       model.addElement(game);\n     }\n-    if (serverNode == null || model.getSize() <= 1) {\n+    if (model.getSize() <= 1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8020e36e14874aa6124cb45ec4ed50d812ff828d"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59ef1cf80758b82894bb0cef0d2734dcb36e0481", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/59ef1cf80758b82894bb0cef0d2734dcb36e0481", "committedDate": "2020-02-29T14:26:27Z", "message": "Simplify UI code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87c3072f9bfcad181a535d0e2b22cac982472835", "author": {"user": {"login": "tripleabuilderbot", "name": null}}, "url": "https://github.com/triplea-game/triplea/commit/87c3072f9bfcad181a535d0e2b22cac982472835", "committedDate": "2020-02-29T14:28:38Z", "message": "Auto-Formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f51b5a0c666bf2d932f5f869f7140c7c4309f6b4", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/f51b5a0c666bf2d932f5f869f7140c7c4309f6b4", "committedDate": "2020-02-29T14:33:22Z", "message": "Remove redundant length check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2ODcwMTI3", "url": "https://github.com/triplea-game/triplea/pull/5986#pullrequestreview-366870127", "createdAt": "2020-03-01T16:23:39Z", "commit": {"oid": "f51b5a0c666bf2d932f5f869f7140c7c4309f6b4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3703, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}