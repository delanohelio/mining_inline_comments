{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyOTgxMDEx", "number": 6000, "title": "Split JavaFX UI into game-headed-javafx subproject", "bodyText": "As discussed in various places now. Here comes the split.\nAfter this PR, the JavaFX part is only built as fat-jar and deployed as such, without any Installer whatsoever, whereas the \"normal\" headed installer no longer ships a JavaFX dependency with it which should greatly reduce the size of everything.\nFunctional Changes\n\n[] New map or map update\n[] New Feature\n[] Feature update or enhancement\n[] Feature Removal\n[] Code Cleanup or refactor\n[] Configuration Change\n[x] Problem fix:   #5973\n[] Other:   \nTesting\n\n[x] Manual testing done", "createdAt": "2020-03-03T14:24:30Z", "url": "https://github.com/triplea-game/triplea/pull/6000", "merged": true, "mergeCommit": {"oid": "2fe9d168f06345357cf983e87886391fa9dfec09"}, "closed": true, "closedAt": "2020-03-03T17:59:46Z", "author": {"login": "RoiEXLab"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKCwCIAH2gAyMzgyOTgxMDExOjQ3YzFhMDc2MWUwNmEyN2VhYTA0YWYwZDRmZmZhNGMwMWU0Y2FmOTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKDmP2gH2gAyMzgyOTgxMDExOjFiMzdmNDBmMGEwZDYxZWIyOTc1ZTdhOTE3ZmUxZWFlMjJkZWQ2YmU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "47c1a0761e06a27eaa04af0d4fffa4c01e4caf98", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/47c1a0761e06a27eaa04af0d4fffa4c01e4caf98", "committedDate": "2020-03-03T13:57:36Z", "message": "Move JavaFX to dedicated subproject"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6698af9ec344a497ae06662bea3b307f12b93a2e", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/6698af9ec344a497ae06662bea3b307f12b93a2e", "committedDate": "2020-03-03T13:58:04Z", "message": "Formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89661f4813f67201ed000c421e65f98e2011e012", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/89661f4813f67201ed000c421e65f98e2011e012", "committedDate": "2020-03-03T13:59:28Z", "message": "Remove redundant ClientSetting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8124fb4f0f5995d337473f6f6a8d2570675d2189", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/8124fb4f0f5995d337473f6f6a8d2570675d2189", "committedDate": "2020-03-03T14:11:45Z", "message": "Add javafx jar to artifacts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "436117e38071696838651c1837c8b41ad4971180", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/436117e38071696838651c1837c8b41ad4971180", "committedDate": "2020-03-03T14:17:24Z", "message": "Add IntelliJ run configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f675885aeb316b0ff64f726f81b3459240e0a3bf", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/f675885aeb316b0ff64f726f81b3459240e0a3bf", "committedDate": "2020-03-03T14:20:57Z", "message": "Re-add ignored files"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MDIxMzE2", "url": "https://github.com/triplea-game/triplea/pull/6000#pullrequestreview-368021316", "createdAt": "2020-03-03T14:26:19Z", "commit": {"oid": "f675885aeb316b0ff64f726f81b3459240e0a3bf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNDoyNjoxOVrOFxH3mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNDoyNjoxOVrOFxH3mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA1MzQ2Ng==", "bodyText": "Method initializeDesktopIntegrations has 28 lines of code (exceeds 25 allowed). Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/6000#discussion_r387053466", "createdAt": "2020-03-03T14:26:19Z", "author": {"login": "codeclimate"}, "path": "game-headed/src/main/java/org/triplea/game/client/HeadedGameRunner.java", "diffHunk": "@@ -32,30 +28,21 @@\n public final class HeadedGameRunner {\n   private HeadedGameRunner() {}\n \n-  /** Entry point for running a new headed game client. */\n-  public static void main(final String[] args) {\n-    checkNotNull(args);\n-    checkState(\n-        !GraphicsEnvironment.isHeadless(),\n-        \"UI client launcher invoked from headless environment. This is currently \"\n-            + \"prohibited by design to avoid UI rendering errors in the headless environment.\");\n+  public static void initializeClientSettingAndLogging() {\n     Thread.setDefaultUncaughtExceptionHandler(\n         (t, e) -> log.log(Level.SEVERE, e.getLocalizedMessage(), e));\n \n     ClientSetting.initialize();\n \n     LoggerManager.setLogLevel(\n         ClientSetting.loggingVerbosity.getValue().map(Level::parse).orElse(Level.INFO));\n+  }\n+\n+  public static void initializeLookAndFeel() {\n     Interruptibles.await(() -> SwingAction.invokeAndWait(LookAndFeel::initialize));\n-    if (!ClientSetting.useExperimentalJavaFxUi.getValueOrThrow()) {\n-      Interruptibles.await(\n-          () ->\n-              SwingAction.invokeAndWait(\n-                  () -> {\n-                    ConsoleConfiguration.initialize();\n-                    ErrorMessage.initialize();\n-                  }));\n-    }\n+  }\n+\n+  public static void initializeDesktopIntegrations(final String[] args) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f675885aeb316b0ff64f726f81b3459240e0a3bf"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c93a071bc0b8ae09563ae4a181ffb1e78102b596", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/c93a071bc0b8ae09563ae4a181ffb1e78102b596", "committedDate": "2020-03-03T14:26:45Z", "message": "Fix trailing newlines"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b37f40f0a0d61eb2975e7a917fe1eae22ded6be", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/1b37f40f0a0d61eb2975e7a917fe1eae22ded6be", "committedDate": "2020-03-03T14:56:49Z", "message": "Fix smaller problems"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3710, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}