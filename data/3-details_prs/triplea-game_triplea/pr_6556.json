{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1NzM4MTEy", "number": 6556, "title": "Update Flyway deployment", "bodyText": "Instead of changing user to flyway (brittle if not already root),\ninstead use explicit ownership commands to change ownership\nof flyway download artifacts.\nInline deployment zip variable (to simplify)\n\n\nFunctional Changes\n\n[] New map or map update\n[] New Feature\n[] Feature update or enhancement\n[] Feature Removal\n[] Code Cleanup or refactor\n[x] Configuration Change\n[] Problem fix:  \n[] Other:   \nTesting\nVerified with a vagrant modified to Ubuntu 20.04\ncd infrastructure\nvagrant up\n./run_ansible_vagrant", "createdAt": "2020-06-01T03:57:13Z", "url": "https://github.com/triplea-game/triplea/pull/6556", "merged": true, "mergeCommit": {"oid": "88b4ec95111f539acca24c1d4dd0e122ca69bc08"}, "closed": true, "closedAt": "2020-06-02T00:36:44Z", "author": {"login": "DanVanAtta"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcm4DG8gH2gAyNDI1NzM4MTEyOmMwNjk3YjNhN2FiYjA0ZDc5YWZhMGRhN2RiMDBhMjE5ODcyZTQ0NDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnJ1RuAH2gAyNDI1NzM4MTEyOjIzMzRlOTc4MmI2ZWU3NDJlYTJhZmI1NDQ2MTc4NWI4Mjk5YjhmMjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c0697b3a7abb04d79afa0da7db00a219872e4440", "author": {"user": {"login": "DanVanAtta", "name": "Dan Van Atta"}}, "url": "https://github.com/triplea-game/triplea/commit/c0697b3a7abb04d79afa0da7db00a219872e4440", "committedDate": "2020-06-01T03:53:17Z", "message": "Update Flyway deployment\n\n- Instead of changing user to flyway (brittle if not already root),\n  instead use explicit ownership commands to change ownership\n  of flyway download artifacts.\n- Inline deployment zip variable (to simplify)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMjE1NTg2", "url": "https://github.com/triplea-game/triplea/pull/6556#pullrequestreview-422215586", "createdAt": "2020-06-01T22:07:58Z", "commit": {"oid": "c0697b3a7abb04d79afa0da7db00a219872e4440"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQyMjowNzo1OFrOGdbupw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQyMjowNzo1OFrOGdbupw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzUxNjE5OQ==", "bodyText": "Curious to know why you decided inlining this variable would be a better choice", "url": "https://github.com/triplea-game/triplea/pull/6556#discussion_r433516199", "createdAt": "2020-06-01T22:07:58Z", "author": {"login": "RoiEXLab"}, "path": "infrastructure/ansible/roles/flyway/tasks/main.yml", "diffHunk": "@@ -7,47 +7,46 @@\n \n - name: Download flyway CLI\n   become: true\n-  become_user: flyway\n   get_url:\n     url: \"{{ flyway_download_location }}\"\n-    dest: \"{{ flyway_downloaded_file_location }}\"\n+    dest: \"/home/flyway/flyway-cli.tar.gz\"\n     mode: \"644\"\n     checksum: \"md5:57f496acc6399fe30ee1fd957545abf1\"\n+    owner: flyway\n+    group: flyway\n \n - name: extract flyway\n   become: true\n-  become_user: flyway\n   unarchive:\n     copy: no\n-    src: \"{{ flyway_downloaded_file_location }}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0697b3a7abb04d79afa0da7db00a219872e4440"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2334e9782b6ee742ea2afb54461785b8299b8f25", "author": {"user": {"login": "DanVanAtta", "name": "Dan Van Atta"}}, "url": "https://github.com/triplea-game/triplea/commit/2334e9782b6ee742ea2afb54461785b8299b8f25", "committedDate": "2020-06-02T00:36:28Z", "message": "Merge branch 'master' into ansible-flyway"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3476, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}