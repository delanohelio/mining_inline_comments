{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwNzQ5NzM3", "number": 6872, "title": "Use Streams in a functional way to create map", "bodyText": "Follow-up to #6834\nFunctional Changes\n\n[] New map or map update\n[] New Feature\n[] Feature update or enhancement\n[] Feature Removal\n[x] Code Cleanup or refactor\n[] Configuration Change\n[] Problem fix\n[] Other:   \nTesting\n\nScreens Shots\n\nAdditional Notes to Reviewer\n\nRelease Note", "createdAt": "2020-06-26T19:25:44Z", "url": "https://github.com/triplea-game/triplea/pull/6872", "merged": true, "mergeCommit": {"oid": "749f9da7bfb5d5371a6423b283f2d3603ed1afe7"}, "closed": true, "closedAt": "2020-06-28T20:36:20Z", "author": {"login": "RoiEXLab"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvIWpbAH2gAyNDQwNzQ5NzM3OmNkY2M2Njg2MjYzNTM1MWYzNDAxODczZmRjYzQwZjNmZTk0MjI2YTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcvI0xKAFqTQzODU1OTUyMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cdcc66862635351f3401873fdcc40f3fe94226a8", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/cdcc66862635351f3401873fdcc40f3fe94226a8", "committedDate": "2020-06-26T19:24:30Z", "message": "Use Streams to create map"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8f3eef784662ea2bf96e4b071007e550f643604", "author": {"user": {"login": "tripleabuilderbot", "name": null}}, "url": "https://github.com/triplea-game/triplea/commit/b8f3eef784662ea2bf96e4b071007e550f643604", "committedDate": "2020-06-26T19:26:44Z", "message": "Auto-Formatting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NTU5NTIy", "url": "https://github.com/triplea-game/triplea/pull/6872#pullrequestreview-438559522", "createdAt": "2020-06-26T19:57:24Z", "commit": {"oid": "b8f3eef784662ea2bf96e4b071007e550f643604"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxOTo1NzoyNFrOGptA1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxOTo1NzoyNFrOGptA1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM4MjI5Mg==", "bodyText": "nit, have you considered extracting this to a function?\nOften streams are best when there is no or little body (eg; try to convert most of the blocks into method references).\nBeyond that, looks fine, feel free to update and merge. (I'll be AFK for a day or two).", "url": "https://github.com/triplea-game/triplea/pull/6872#discussion_r446382292", "createdAt": "2020-06-26T19:57:24Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/org/triplea/game/server/AvailableGames.java", "diffHunk": "@@ -35,19 +36,22 @@\n   private final Map<String, URI> availableGames;\n \n   AvailableGames() {\n-    availableGames = Collections.synchronizedMap(new HashMap<>());\n-\n-    FileUtils.listFiles(ClientFileSystemHelper.getUserMapsFolder())\n-        .parallelStream()\n-        .forEach(\n-            map -> {\n-              log.info(\"Loading map: \" + map);\n-              if (map.isDirectory()) {\n-                availableGames.putAll(getGamesFromDirectory(map));\n-              } else if (map.isFile() && map.getName().toLowerCase().endsWith(ZIP_EXTENSION)) {\n-                availableGames.putAll(getGamesFromZip(map));\n-              }\n-            });\n+    availableGames =\n+        FileUtils.listFiles(ClientFileSystemHelper.getUserMapsFolder())\n+            .parallelStream()\n+            .<Map<String, URI>>map(\n+                map -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8f3eef784662ea2bf96e4b071007e550f643604"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3295, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}