{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4OTg5NjY1", "number": 8307, "title": "Inline special sbr/fly over dice roll method", "bodyText": "Testing\n\nScreens Shots\n\nAdditional Notes to Reviewer\n\nRelease Note", "createdAt": "2020-11-28T18:10:50Z", "url": "https://github.com/triplea-game/triplea/pull/8307", "merged": true, "mergeCommit": {"oid": "a1a1a5c7d802c95de06b1d4839909236389ce72c"}, "closed": true, "closedAt": "2020-11-30T00:26:43Z", "author": {"login": "trevan"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhAIhvgH2gAyNTI4OTg5NjY1OjRjNWM1NDBiOTRlZDNkZTE5M2UyNTJlNzZlYTI0OWQ5M2ZkYzcxN2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdhZ8RqAH2gAyNTI4OTg5NjY1OjhjYmEzMWRkOGY3OGU3YjQ2MTFmZjY4ODdhOWJhODA1Y2MyNTc5N2M=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4c5c540b94ed3de193e252e76ea249d93fdc717a", "author": {"user": {"login": "trevan", "name": null}}, "url": "https://github.com/triplea-game/triplea/commit/4c5c540b94ed3de193e252e76ea249d93fdc717a", "committedDate": "2020-11-28T18:06:03Z", "message": "Remove special sbr/fly over dice roll method"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNDI2NDM0", "url": "https://github.com/triplea-game/triplea/pull/8307#pullrequestreview-540426434", "createdAt": "2020-11-29T00:45:33Z", "commit": {"oid": "4c5c540b94ed3de193e252e76ea249d93fdc717a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwMDo0NTozM1rOH7eUKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwMDo0NTozM1rOH7eUKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEyNDcxMg==", "bodyText": "nit, you can make the API nicer here by defaulting enemyUnits to an empty list, then you won't need to specify it in the builder.", "url": "https://github.com/triplea-game/triplea/pull/8307#discussion_r532124712", "createdAt": "2020-11-29T00:45:33Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/triplea/delegate/AaInMoveUtil.java", "diffHunk": "@@ -116,13 +116,20 @@ public void execute(final ExecutionStack stack, final IDelegateBridge bridge) {\n               // get rid of units already killed, so we don't target them twice\n               validTargetedUnitsForThisRoll.removeAll(casualties);\n               if (!validTargetedUnitsForThisRoll.isEmpty()) {\n+                // Fly over AA currently doesn't take into account support\n                 dice.set(\n-                    DiceRoll.rollSbrOrFlyOverAa(\n+                    DiceRoll.rollAa(\n                         validTargetedUnitsForThisRoll,\n                         currentPossibleAa,\n                         AaInMoveUtil.this.bridge,\n                         territory,\n-                        BattleState.Side.DEFENSE));\n+                        CombatValueBuilder.aaCombatValue()\n+                            .enemyUnits(List.of())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c5c540b94ed3de193e252e76ea249d93fdc717a"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNDI3NTQ2", "url": "https://github.com/triplea-game/triplea/pull/8307#pullrequestreview-540427546", "createdAt": "2020-11-29T01:19:30Z", "commit": {"oid": "4c5c540b94ed3de193e252e76ea249d93fdc717a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwMToxOTozMFrOH7ed9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwMToxOTozMFrOH7ed9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEyNzIyMQ==", "bodyText": "Is this comment calling out a bug? A TODO item - Should the comment be on the method itself?  I'm not sure how knowing that rollAa does not take into support really helps to understand the method call. To another extent, it is confusing as the support rules are passed to the next method, which raises questions (are they used?)", "url": "https://github.com/triplea-game/triplea/pull/8307#discussion_r532127221", "createdAt": "2020-11-29T01:19:30Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/triplea/delegate/AaInMoveUtil.java", "diffHunk": "@@ -116,13 +116,20 @@ public void execute(final ExecutionStack stack, final IDelegateBridge bridge) {\n               // get rid of units already killed, so we don't target them twice\n               validTargetedUnitsForThisRoll.removeAll(casualties);\n               if (!validTargetedUnitsForThisRoll.isEmpty()) {\n+                // Fly over AA currently doesn't take into account support", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c5c540b94ed3de193e252e76ea249d93fdc717a"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cba31dd8f78e7b4611ff6887a9ba805cc25797c", "author": {"user": {"login": "trevan", "name": null}}, "url": "https://github.com/triplea-game/triplea/commit/8cba31dd8f78e7b4611ff6887a9ba805cc25797c", "committedDate": "2020-11-30T00:10:12Z", "message": "Update the comments to be more helpful"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3788, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}