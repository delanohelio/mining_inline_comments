{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MTg4ODAy", "number": 6017, "title": "Use File array instead of constructing the file object", "bodyText": "Follow-up to #6002\nFunctional Changes\n\n[] New map or map update\n[] New Feature\n[] Feature update or enhancement\n[] Feature Removal\n[x] Code Cleanup or refactor\n[] Configuration Change\n[] Problem fix:  \n[] Other:   \nTesting\n\nI ran this code inside jshell to verify it actually returns the same thing. It did.", "createdAt": "2020-03-07T20:16:30Z", "url": "https://github.com/triplea-game/triplea/pull/6017", "merged": true, "mergeCommit": {"oid": "ec225daf3e80caad08e8af84f4da339871a59846"}, "closed": true, "closedAt": "2020-03-07T22:07:07Z", "author": {"login": "RoiEXLab"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcLaiVagH2gAyMzg1MTg4ODAyOmZmZmMxZDA1MDExYjBmNWNmNjE3ZWNiZjE4YjA4ZjI2ZGNhYTI0NjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcLcA5LAFqTM3MDc5MTIxOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fffc1d05011b0f5cf617ecbf18b08f26dcaa2463", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/fffc1d05011b0f5cf617ecbf18b08f26dcaa2463", "committedDate": "2020-03-07T20:14:17Z", "message": "Use File array instead of constructing the file object"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzg3ODA0", "url": "https://github.com/triplea-game/triplea/pull/6017#pullrequestreview-370787804", "createdAt": "2020-03-07T20:39:39Z", "commit": {"oid": "fffc1d05011b0f5cf617ecbf18b08f26dcaa2463"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QyMDozOTozOVrOFzRoiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QyMDozOTozOVrOFzRoiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMxMDYwMQ==", "bodyText": "I think this needs documentation to make explicit that we expect 'getFiles()' to have 0 or 1 elements. Second, did you test this out to be sure it works and you get 0 values back if you type in a file that DNE?", "url": "https://github.com/triplea-game/triplea/pull/6017#discussion_r389310601", "createdAt": "2020-03-07T20:39:39Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/panels/main/game/selector/GameFileSelector.java", "diffHunk": "@@ -35,11 +36,7 @@\n       fileDialog.setDirectory(ClientSetting.saveGamesFolderPath.getValueOrThrow().toString());\n       fileDialog.setFilenameFilter((dir, name) -> GameDataFileUtils.isCandidateFileName(name));\n       fileDialog.setVisible(true);\n-      final String fileName = fileDialog.getFile();\n-      final String dirName = fileDialog.getDirectory();\n-      return Optional.ofNullable(fileName)\n-          .map(name -> new File(dirName, fileName))\n-          .map(this::mapFileResult);\n+      return Arrays.stream(fileDialog.getFiles()).findAny().map(this::mapFileResult);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fffc1d05011b0f5cf617ecbf18b08f26dcaa2463"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a83e55b8f2bbad7ace1a0b1595af651d4778241e", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/a83e55b8f2bbad7ace1a0b1595af651d4778241e", "committedDate": "2020-03-07T21:18:01Z", "message": "Add comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzkwNzQ2", "url": "https://github.com/triplea-game/triplea/pull/6017#pullrequestreview-370790746", "createdAt": "2020-03-07T21:46:05Z", "commit": {"oid": "a83e55b8f2bbad7ace1a0b1595af651d4778241e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QyMTo0NjowNVrOFzR3yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QyMTo0NjowNVrOFzR3yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMxNDUwNw==", "bodyText": "The comment does not explain why we expect this to be true, why force a maintainer do API research when we can just say \"this is the setting that makes this so\".", "url": "https://github.com/triplea-game/triplea/pull/6017#discussion_r389314507", "createdAt": "2020-03-07T21:46:05Z", "author": {"login": "DanVanAtta"}, "path": "game-core/src/main/java/games/strategy/engine/framework/startup/ui/panels/main/game/selector/GameFileSelector.java", "diffHunk": "@@ -35,11 +36,10 @@\n       fileDialog.setDirectory(ClientSetting.saveGamesFolderPath.getValueOrThrow().toString());\n       fileDialog.setFilenameFilter((dir, name) -> GameDataFileUtils.isCandidateFileName(name));\n       fileDialog.setVisible(true);\n-      final String fileName = fileDialog.getFile();\n-      final String dirName = fileDialog.getDirectory();\n-      return Optional.ofNullable(fileName)\n-          .map(name -> new File(dirName, fileName))\n-          .map(this::mapFileResult);\n+\n+      // FileDialog.getFiles() always returns an array\n+      // of 1 or 0 items", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a83e55b8f2bbad7ace1a0b1595af651d4778241e"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51b471a0631f14172302b9f993702432379e6af9", "author": {"user": {"login": "RoiEXLab", "name": "RoiEX"}}, "url": "https://github.com/triplea-game/triplea/commit/51b471a0631f14172302b9f993702432379e6af9", "committedDate": "2020-03-07T21:53:22Z", "message": "Clarify comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzkxMjE4", "url": "https://github.com/triplea-game/triplea/pull/6017#pullrequestreview-370791218", "createdAt": "2020-03-07T21:57:34Z", "commit": {"oid": "51b471a0631f14172302b9f993702432379e6af9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3723, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}