{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwNjM1MjMx", "number": 7557, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQwMjozOToyOVrOEgpxsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQwMjo0ODoxNVrOEgpzrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNjc0MzUzOnYy", "diffSide": "RIGHT", "path": "xml-reader/src/main/java/org/triplea/generic/xml/scanner/AttributeScanner.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQwMjozOToyOVrOHNlx6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQwMjozOToyOVrOHNlx6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMjUyMQ==", "bodyText": "Method scanForAttributeValue has a Cognitive Complexity of 10 (exceeds 7 allowed). Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/7557#discussion_r484012521", "createdAt": "2020-09-06T02:39:29Z", "author": {"login": "codeclimate"}, "path": "xml-reader/src/main/java/org/triplea/generic/xml/scanner/AttributeScanner.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package org.triplea.generic.xml.scanner;\n+\n+import java.util.Optional;\n+import javax.xml.stream.XMLStreamException;\n+import javax.xml.stream.XMLStreamReader;\n+import lombok.experimental.UtilityClass;\n+\n+/**\n+ * Searches for a given XML tag and attribute name and returns the attribute value. Designed to run\n+ * quickly and only partially scan XML content.\n+ */\n+@UtilityClass\n+class AttributeScanner {\n+  Optional<String> scanForAttributeValue(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16f4d41e87f8edf140ffb46f92484fc5741ae554"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNjc0MzU0OnYy", "diffSide": "RIGHT", "path": "xml-reader/src/main/java/org/triplea/generic/xml/scanner/BodyTextScanner.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQwMjozOToyOVrOHNlx6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQwMjozOToyOVrOHNlx6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMjUyMg==", "bodyText": "Method scanForBodyText has a Cognitive Complexity of 17 (exceeds 7 allowed). Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/7557#discussion_r484012522", "createdAt": "2020-09-06T02:39:29Z", "author": {"login": "codeclimate"}, "path": "xml-reader/src/main/java/org/triplea/generic/xml/scanner/BodyTextScanner.java", "diffHunk": "@@ -0,0 +1,83 @@\n+package org.triplea.generic.xml.scanner;\n+\n+import java.util.Optional;\n+import javax.xml.stream.XMLStreamException;\n+import javax.xml.stream.XMLStreamReader;\n+import lombok.experimental.UtilityClass;\n+\n+/**\n+ * Searches for body tag content in a XML file (originally built to read 'game-notes'). This\n+ * searches for a specific tag, with attribute key value pairs, then looks for a specific child tag\n+ * underneath that and returns the tag body content.\n+ */\n+@UtilityClass\n+class BodyTextScanner {\n+\n+  /*\n+   Implementation notes:\n+\n+   This works by keeping track of state of whether we have found the parent tag and the child tag.\n+   When we first see the parent tag with matching attribute name and value then we toggle\n+   'foundParent' to true. When we find the child tag we'll toggle \"foundChild\" to true and\n+   from there we'll buffer any body content that we find.\n+\n+   When we hit the end tag for the child we'll return the buffered content. If we hit\n+   an end tag and \"foundChild\" is false, then the parent tag did not contain the desired\n+   child tag and we flag \"foundParent\" to false and we keep searching for another parent\n+   tag that matches, and then we'll search for a child tag and so on until we find something\n+   or return empty if we never do find a match.\n+\n+  */\n+  Optional<String> scanForBodyText(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16f4d41e87f8edf140ffb46f92484fc5741ae554"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNjc0MzU1OnYy", "diffSide": "RIGHT", "path": "xml-reader/src/main/java/org/triplea/generic/xml/scanner/BodyTextScanner.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQwMjozOTozMFrOHNlx6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQwMjozOTozMFrOHNlx6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMjUyMw==", "bodyText": "Method scanForBodyText has 32 lines of code (exceeds 30 allowed). Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/7557#discussion_r484012523", "createdAt": "2020-09-06T02:39:30Z", "author": {"login": "codeclimate"}, "path": "xml-reader/src/main/java/org/triplea/generic/xml/scanner/BodyTextScanner.java", "diffHunk": "@@ -0,0 +1,83 @@\n+package org.triplea.generic.xml.scanner;\n+\n+import java.util.Optional;\n+import javax.xml.stream.XMLStreamException;\n+import javax.xml.stream.XMLStreamReader;\n+import lombok.experimental.UtilityClass;\n+\n+/**\n+ * Searches for body tag content in a XML file (originally built to read 'game-notes'). This\n+ * searches for a specific tag, with attribute key value pairs, then looks for a specific child tag\n+ * underneath that and returns the tag body content.\n+ */\n+@UtilityClass\n+class BodyTextScanner {\n+\n+  /*\n+   Implementation notes:\n+\n+   This works by keeping track of state of whether we have found the parent tag and the child tag.\n+   When we first see the parent tag with matching attribute name and value then we toggle\n+   'foundParent' to true. When we find the child tag we'll toggle \"foundChild\" to true and\n+   from there we'll buffer any body content that we find.\n+\n+   When we hit the end tag for the child we'll return the buffered content. If we hit\n+   an end tag and \"foundChild\" is false, then the parent tag did not contain the desired\n+   child tag and we flag \"foundParent\" to false and we keep searching for another parent\n+   tag that matches, and then we'll search for a child tag and so on until we find something\n+   or return empty if we never do find a match.\n+\n+  */\n+  Optional<String> scanForBodyText(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16f4d41e87f8edf140ffb46f92484fc5741ae554"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNjc0ODYyOnYy", "diffSide": "LEFT", "path": "xml-reader/src/test/java/org/triplea/generic/xml/reader/XmlMapperTestUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQwMjo0ODoxNVrOHNl0Hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQwMjo0ODoxNVrOHNl0Hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzA4Nw==", "bodyText": "This class was moved and renamed so that it could be shared between the 'reader' and 'scanner' packages.", "url": "https://github.com/triplea-game/triplea/pull/7557#discussion_r484013087", "createdAt": "2020-09-06T02:48:15Z", "author": {"login": "DanVanAtta"}, "path": "xml-reader/src/test/java/org/triplea/generic/xml/reader/XmlMapperTestUtils.java", "diffHunk": "@@ -1,11 +0,0 @@\n-package org.triplea.generic.xml.reader;\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16f4d41e87f8edf140ffb46f92484fc5741ae554"}, "originalPosition": 2}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2915, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}