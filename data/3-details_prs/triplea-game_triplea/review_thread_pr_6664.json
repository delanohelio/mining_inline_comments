{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyMTg0OTY3", "number": 6664, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNzo0NDoyNlrOEEZi4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNzo0NDoyNlrOEEZi4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMDQ4Mjg4OnYy", "diffSide": "RIGHT", "path": "lobby-db/src/main/resources/db/migration/V2.00.05__drop_legacy_password.sql", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNzo0NDoyNlrOGh_0FQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQwMDoxMToxMlrOGiKTnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODMwMTcxNw==", "bodyText": "IIRC we have a constraint that ensures that at least one of the password fields has to be filled.\nIs this constraint properly removed along with the password column?", "url": "https://github.com/triplea-game/triplea/pull/6664#discussion_r438301717", "createdAt": "2020-06-10T17:44:26Z", "author": {"login": "RoiEXLab"}, "path": "lobby-db/src/main/resources/db/migration/V2.00.05__drop_legacy_password.sql", "diffHunk": "@@ -0,0 +1,2 @@\n+alter table lobby_user drop column password;\n+alter table lobby_user alter column bcrypt_password set not null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f73a1ec9bd40fa9c00ce51e837ad34d0696c0926"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ3MzIyOA==", "bodyText": "Good consideration. I thought it would not have been dropped, but it appears it is dropped. When I try to drop the constraint after the column is dropped, I get a SQL error:\n\nERROR: constraint \"lobby_user_pass_check\" of relation \"lobby_user\" does not exist", "url": "https://github.com/triplea-game/triplea/pull/6664#discussion_r438473228", "createdAt": "2020-06-11T00:09:40Z", "author": {"login": "DanVanAtta"}, "path": "lobby-db/src/main/resources/db/migration/V2.00.05__drop_legacy_password.sql", "diffHunk": "@@ -0,0 +1,2 @@\n+alter table lobby_user drop column password;\n+alter table lobby_user alter column bcrypt_password set not null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODMwMTcxNw=="}, "originalCommit": {"oid": "f73a1ec9bd40fa9c00ce51e837ad34d0696c0926"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ3MzYzMQ==", "bodyText": "Smart Database", "url": "https://github.com/triplea-game/triplea/pull/6664#discussion_r438473631", "createdAt": "2020-06-11T00:11:12Z", "author": {"login": "RoiEXLab"}, "path": "lobby-db/src/main/resources/db/migration/V2.00.05__drop_legacy_password.sql", "diffHunk": "@@ -0,0 +1,2 @@\n+alter table lobby_user drop column password;\n+alter table lobby_user alter column bcrypt_password set not null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODMwMTcxNw=="}, "originalCommit": {"oid": "f73a1ec9bd40fa9c00ce51e837ad34d0696c0926"}, "originalPosition": 2}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2139, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}