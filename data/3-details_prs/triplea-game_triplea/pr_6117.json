{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2MTQ0ODQw", "number": 6117, "title": "Update Unit Scroller - Single Row of Buttons", "bodyText": "Changes to the unit scroller:\n\nPut buttons on same row\nScaled/shrank button images to 20x20\nRemoved the unit flag and unit count\nRemoved the unit highlight button and center on units button\nDecreased button horizontal gap spacing (now 2 pixels apart rather than 15)\nFixed up layout so the component does not stretch to fill half of the vertical space of the action tab\nPut the component behind a collapse button, clicking the collapse button shows/hides the component\nUnit scroller is now always visible during combat and non-combat moves\nMade the territory text larger\nMoved the \"units left to move count\" to be part of the label for \"Units To Move (#)\"\nMoved the territory label to be below the units rather than above\n\nFixes:\n\nThe check for if the scroller was visible skipped the computation of selecting\nthe current players capitol. This meant the unit scroller was not pre-filled\nwith a territory or units. An empty unit scroller is only really expected\nwhen all units have moved. The problem was introduced in another fix to avoid\nunnecessary computation when the unit scroller is not visible anyways. There\nare a number of other fixes that make that not as much of a problem. For now\nit is necessary to do computation in the unit scroller when it is not visible\nso that when it does become visible, the data in the unit scroller would be\ncurrent.\n\n\nFunctional Changes\n\n[] New map or map update\n[] New Feature\n[x] Feature update or enhancement\n[] Feature Removal\n[] Code Cleanup or refactor\n[] Configuration Change\n[x] Problem fix:  \n[] Other:   \nTesting\n\n\nRan through a few turn phases to be sure that the unit scroller appeared and disappeared at expected times.\nExercised the unit scroller buttons, next/previous etc.. and verified behavior when unit movement was exhausted.\nVerified that on a new player turn the players capitol is the 'current selected' territory and has units.\nVerified that the units to move count updates/resets.\n\n\nScreens Shots\nBefore\nThis is an example of the 'bug' that was fixed, on initial render there is no current selection.\n\n\nAfter\n\n\n\nAdditional Review Notes\nForums feature thread: https://forums.triplea-game.org/topic/1433/screen-centering-cycling-around-map-ui-idea", "createdAt": "2020-03-31T07:53:32Z", "url": "https://github.com/triplea-game/triplea/pull/6117", "merged": true, "mergeCommit": {"oid": "6bfde285f0cdfb9e7b50ec028a3f2e98dc779985"}, "closed": true, "closedAt": "2020-04-01T01:34:10Z", "author": {"login": "DanVanAtta"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcS-QhogH2gAyMzk2MTQ0ODQwOmE4NGY5NGQwNzJlNmRkMWZlZmIyZDUyODkwYzE4ZTk2MDkwNTNjNjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTNfbMAFqTM4NTIxMTY3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a84f94d072e6dd1fefb2d52890c18e9609053c65", "author": {"user": {"login": "DanVanAtta", "name": "Dan Van Atta"}}, "url": "https://github.com/triplea-game/triplea/commit/a84f94d072e6dd1fefb2d52890c18e9609053c65", "committedDate": "2020-03-31T07:48:53Z", "message": "Update Unit Scroller - Single Row of Buttons\n\nChanges to the unit scroller:\n- Put buttons on same row\n- Scaled/shrank button images to 20x20\n- Removed the unit flag and unit count\n- Removed the unit highlight button and center on units button\n- Decreased button horizontal gap spacing (now 2 pixels apart rather than 15)\n- Fixed up layout so the component does not stretch to fill half of the vertical space of the action tab\n- Put the component behind a collapse button, clicking the collapse button shows/hides the component\n- Unit scroller is now always visible during combat and non-combat moves\n- Made the territory text larger\n- Moved the \"units left to move count\" to be part of the label for \"Units To Move (#)\"\n- Moved the territory label to be below the units rather than above\n\nFixes:\n- The check for if the scroller was visible skipped the computation of selecting\n  the current players capitol. This meant the unit scroller was not pre-filled\n  with a territory or units. An empty unit scroller is only really expected\n  when all units have moved. The problem was introduced in another fix to avoid\n  unnecessary computation when the unit scroller is not visible anyways. There\n  are a number of other fixes that make that not as much of a problem. For now\n  it is necessary to do computation in the unit scroller when it is not visible\n  so that when it does become visible, the data in the unit scroller would be\n  current."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0NDg1Mjk5", "url": "https://github.com/triplea-game/triplea/pull/6117#pullrequestreview-384485299", "createdAt": "2020-03-31T07:56:00Z", "commit": {"oid": "a84f94d072e6dd1fefb2d52890c18e9609053c65"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNzo1NjowMFrOF-Jj3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNzo1NjowMFrOF-Jj3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDcxMjY2OQ==", "bodyText": "Identical blocks of code found in 2 locations. Consider refactoring.", "url": "https://github.com/triplea-game/triplea/pull/6117#discussion_r400712669", "createdAt": "2020-03-31T07:56:00Z", "author": {"login": "codeclimate"}, "path": "swing-lib/src/main/java/org/triplea/swing/JLabelBuilder.java", "diffHunk": "@@ -66,6 +67,13 @@ public JLabel build() {\n     Optional.ofNullable(borderSize)\n         .ifPresent(size -> label.setBorder(new EmptyBorder(size, size, size, size)));\n \n+    if (biggerFont > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a84f94d072e6dd1fefb2d52890c18e9609053c65"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1MjExNjcw", "url": "https://github.com/triplea-game/triplea/pull/6117#pullrequestreview-385211670", "createdAt": "2020-04-01T01:33:44Z", "commit": {"oid": "a84f94d072e6dd1fefb2d52890c18e9609053c65"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3626, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}