{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyMjEwNTMz", "number": 213, "title": "KOGITO-1121 - Create advanced example for kogito + serverless workflo\u2026", "bodyText": "\u2026w - quarkus", "createdAt": "2020-04-11T16:04:01Z", "url": "https://github.com/kiegroup/kogito-examples/pull/213", "merged": true, "mergeCommit": {"oid": "da9e56e3f31cc0fec165325da4ba3b288d31c549"}, "closed": true, "closedAt": "2020-04-16T16:30:47Z", "author": {"login": "tsurdilo"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXPpOsgFqTM5MjE3MzExNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYNHZzgBqjMyNDAwNDY0MDY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMTczMTE0", "url": "https://github.com/kiegroup/kogito-examples/pull/213#pullrequestreview-392173114", "createdAt": "2020-04-13T14:19:22Z", "commit": {"oid": "87fcf6980d7e912eaaf3ac2a04b8b6a1c37037a3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxNDoxOToyMlrOGEn8PQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxNDoxOToyMlrOGEn8PQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzUwMTg4NQ==", "bodyText": "Same thing here regarding the jar final name", "url": "https://github.com/kiegroup/kogito-examples/pull/213#discussion_r407501885", "createdAt": "2020-04-13T14:19:22Z", "author": {"login": "ricardozanini"}, "path": "serverless-workflow-service-calls-quarkus/README.md", "diffHunk": "@@ -0,0 +1,88 @@\n+# Kogito Serverless Workflow - Country Info Services Example\n+\n+## Description\n+\n+This example showcases the use of [Serverless Workflow specification](https://github.com/cncf/wg-serverless/tree/master/workflow/spec) \n+markup to create country information\n+classification workflow. It also showcases how easy it is to create a simple AngularJS app/page \n+which you can use to start workflow instances and show the country information classified by the example\n+workflow.\n+\n+The serverless workflow used in this example expects a name of a country. It then uses an Operation state\n+to execute a function service that retrieves country information given the country name from https://restcountries.eu.\n+It then goes through a Switch state which looks at the provided country population size. The switch state is\n+very simple with just two conditions, namely if population size is less than 20000000 it classifies it as \"Small/Large\",\n+and if greater than 20000000 it classifies it as \"Large\". The workflow send the information to a classification\n+service to store the data before it finishes execution.\n+\n+## Installing and Running\n+\n+### Prerequisites\n+ \n+You will need:\n+  - Java 11+ installed\n+  - Environment variable JAVA_HOME set accordingly\n+  - Maven 3.6.2+ installed\n+\n+When using native image compilation, you will also need: \n+  - [GraalVm](https://www.graalvm.org/downloads/) 19.3.1+ installed\n+  - Environment variable GRAALVM_HOME set accordingly\n+  - Note that GraalVM native image compilation typically requires other packages (glibc-devel, zlib-devel and gcc) to be installed too.  You also need 'native-image' installed in GraalVM (using 'gu install native-image'). Please refer to [GraalVM installation documentation](https://www.graalvm.org/docs/reference-manual/aot-compilation/#prerequisites) for more details.\n+\n+### Compile and Run in Local Dev Mode\n+\n+```text\n+mvn clean package quarkus:dev    \n+```\n+\n+### Compile and Run in JVM mode\n+\n+```text\n+mvn clean package \n+java -jar target/serverless-workflow-service-calls-quarkus-{version}-runner.jar    ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87fcf6980d7e912eaaf3ac2a04b8b6a1c37037a3"}, "originalPosition": 42}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNDk0NzQ4", "url": "https://github.com/kiegroup/kogito-examples/pull/213#pullrequestreview-392494748", "createdAt": "2020-04-13T22:59:34Z", "commit": {"oid": "94d6859b1ff59a6492c9f5c30704658d6320adb3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNTQwODM0", "url": "https://github.com/kiegroup/kogito-examples/pull/213#pullrequestreview-392540834", "createdAt": "2020-04-14T01:18:56Z", "commit": {"oid": "94d6859b1ff59a6492c9f5c30704658d6320adb3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNjE1NTcy", "url": "https://github.com/kiegroup/kogito-examples/pull/213#pullrequestreview-392615572", "createdAt": "2020-04-14T05:37:38Z", "commit": {"oid": "94d6859b1ff59a6492c9f5c30704658d6320adb3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwNTozNzozOFrOGE-7AA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwNTo1NzoyOVrOGE_Sww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg3ODQwMA==", "bodyText": "Here we need really just the 'compile', please change so that all examples are in sync.", "url": "https://github.com/kiegroup/kogito-examples/pull/213#discussion_r407878400", "createdAt": "2020-04-14T05:37:38Z", "author": {"login": "jstastny-cz"}, "path": "serverless-workflow-service-calls-quarkus/README.md", "diffHunk": "@@ -0,0 +1,88 @@\n+# Kogito Serverless Workflow - Country Info Services Example\n+\n+## Description\n+\n+This example showcases the use of [Serverless Workflow specification](https://github.com/cncf/wg-serverless/tree/master/workflow/spec) \n+markup to create country information\n+classification workflow. It also showcases how easy it is to create a simple AngularJS app/page \n+which you can use to start workflow instances and show the country information classified by the example\n+workflow.\n+\n+The serverless workflow used in this example expects a name of a country. It then uses an Operation state\n+to execute a function service that retrieves country information given the country name from https://restcountries.eu.\n+It then goes through a Switch state which looks at the provided country population size. The switch state is\n+very simple with just two conditions, namely if population size is less than 20000000 it classifies it as \"Small/Large\",\n+and if greater than 20000000 it classifies it as \"Large\". The workflow send the information to a classification\n+service to store the data before it finishes execution.\n+\n+## Installing and Running\n+\n+### Prerequisites\n+ \n+You will need:\n+  - Java 11+ installed\n+  - Environment variable JAVA_HOME set accordingly\n+  - Maven 3.6.2+ installed\n+\n+When using native image compilation, you will also need: \n+  - [GraalVm](https://www.graalvm.org/downloads/) 19.3.1+ installed\n+  - Environment variable GRAALVM_HOME set accordingly\n+  - Note that GraalVM native image compilation typically requires other packages (glibc-devel, zlib-devel and gcc) to be installed too.  You also need 'native-image' installed in GraalVM (using 'gu install native-image'). Please refer to [GraalVM installation documentation](https://www.graalvm.org/docs/reference-manual/aot-compilation/#prerequisites) for more details.\n+\n+### Compile and Run in Local Dev Mode\n+\n+```text\n+mvn clean package quarkus:dev    ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94d6859b1ff59a6492c9f5c30704658d6320adb3"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg3ODQ2OA==", "bodyText": "Compile -> Package", "url": "https://github.com/kiegroup/kogito-examples/pull/213#discussion_r407878468", "createdAt": "2020-04-14T05:37:51Z", "author": {"login": "jstastny-cz"}, "path": "serverless-workflow-service-calls-quarkus/README.md", "diffHunk": "@@ -0,0 +1,88 @@\n+# Kogito Serverless Workflow - Country Info Services Example\n+\n+## Description\n+\n+This example showcases the use of [Serverless Workflow specification](https://github.com/cncf/wg-serverless/tree/master/workflow/spec) \n+markup to create country information\n+classification workflow. It also showcases how easy it is to create a simple AngularJS app/page \n+which you can use to start workflow instances and show the country information classified by the example\n+workflow.\n+\n+The serverless workflow used in this example expects a name of a country. It then uses an Operation state\n+to execute a function service that retrieves country information given the country name from https://restcountries.eu.\n+It then goes through a Switch state which looks at the provided country population size. The switch state is\n+very simple with just two conditions, namely if population size is less than 20000000 it classifies it as \"Small/Large\",\n+and if greater than 20000000 it classifies it as \"Large\". The workflow send the information to a classification\n+service to store the data before it finishes execution.\n+\n+## Installing and Running\n+\n+### Prerequisites\n+ \n+You will need:\n+  - Java 11+ installed\n+  - Environment variable JAVA_HOME set accordingly\n+  - Maven 3.6.2+ installed\n+\n+When using native image compilation, you will also need: \n+  - [GraalVm](https://www.graalvm.org/downloads/) 19.3.1+ installed\n+  - Environment variable GRAALVM_HOME set accordingly\n+  - Note that GraalVM native image compilation typically requires other packages (glibc-devel, zlib-devel and gcc) to be installed too.  You also need 'native-image' installed in GraalVM (using 'gu install native-image'). Please refer to [GraalVM installation documentation](https://www.graalvm.org/docs/reference-manual/aot-compilation/#prerequisites) for more details.\n+\n+### Compile and Run in Local Dev Mode\n+\n+```text\n+mvn clean package quarkus:dev    \n+```\n+\n+### Compile and Run in JVM mode", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94d6859b1ff59a6492c9f5c30704658d6320adb3"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg3ODUzMQ==", "bodyText": "Compile -> Package", "url": "https://github.com/kiegroup/kogito-examples/pull/213#discussion_r407878531", "createdAt": "2020-04-14T05:38:03Z", "author": {"login": "jstastny-cz"}, "path": "serverless-workflow-service-calls-quarkus/README.md", "diffHunk": "@@ -0,0 +1,88 @@\n+# Kogito Serverless Workflow - Country Info Services Example\n+\n+## Description\n+\n+This example showcases the use of [Serverless Workflow specification](https://github.com/cncf/wg-serverless/tree/master/workflow/spec) \n+markup to create country information\n+classification workflow. It also showcases how easy it is to create a simple AngularJS app/page \n+which you can use to start workflow instances and show the country information classified by the example\n+workflow.\n+\n+The serverless workflow used in this example expects a name of a country. It then uses an Operation state\n+to execute a function service that retrieves country information given the country name from https://restcountries.eu.\n+It then goes through a Switch state which looks at the provided country population size. The switch state is\n+very simple with just two conditions, namely if population size is less than 20000000 it classifies it as \"Small/Large\",\n+and if greater than 20000000 it classifies it as \"Large\". The workflow send the information to a classification\n+service to store the data before it finishes execution.\n+\n+## Installing and Running\n+\n+### Prerequisites\n+ \n+You will need:\n+  - Java 11+ installed\n+  - Environment variable JAVA_HOME set accordingly\n+  - Maven 3.6.2+ installed\n+\n+When using native image compilation, you will also need: \n+  - [GraalVm](https://www.graalvm.org/downloads/) 19.3.1+ installed\n+  - Environment variable GRAALVM_HOME set accordingly\n+  - Note that GraalVM native image compilation typically requires other packages (glibc-devel, zlib-devel and gcc) to be installed too.  You also need 'native-image' installed in GraalVM (using 'gu install native-image'). Please refer to [GraalVM installation documentation](https://www.graalvm.org/docs/reference-manual/aot-compilation/#prerequisites) for more details.\n+\n+### Compile and Run in Local Dev Mode\n+\n+```text\n+mvn clean package quarkus:dev    \n+```\n+\n+### Compile and Run in JVM mode\n+\n+```text\n+mvn clean package \n+java -jar target/serverless-workflow-service-calls-quarkus-runner.jar    \n+```\n+\n+or on windows\n+\n+```text\n+mvn clean package\n+java -jar target\\serverless-workflow-service-calls-quarkus-runner.jar\n+```\n+\n+### Compile and Run using Local Native Image", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94d6859b1ff59a6492c9f5c30704658d6320adb3"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg4MjYzMw==", "bodyText": "currently there are not native integration tests for quarkus, either add those or we can remove the failsafe configuration (as long as there are not any we'd like to exclude then)", "url": "https://github.com/kiegroup/kogito-examples/pull/213#discussion_r407882633", "createdAt": "2020-04-14T05:51:18Z", "author": {"login": "jstastny-cz"}, "path": "serverless-workflow-service-calls-quarkus/pom.xml", "diffHunk": "@@ -0,0 +1,129 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project\n+  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\n+  xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <parent>\n+    <groupId>org.kie.kogito</groupId>\n+    <artifactId>kogito-examples</artifactId>\n+    <version>8.0.0-SNAPSHOT</version>\n+  </parent>\n+\n+  <artifactId>serverless-workflow-service-calls-quarkus</artifactId>\n+\n+  <name>Kogito Examples :: Serverless Workflow Service Calls :: Quarkus</name>\n+  <description>Kogito Serverless Workflow Example - Quarkus</description>\n+\n+  <dependencyManagement>\n+    <dependencies>\n+      <dependency>\n+        <groupId>org.kie.kogito</groupId>\n+        <artifactId>kogito-quarkus-bom</artifactId>\n+        <version>${project.version}</version>\n+        <type>pom</type>\n+        <scope>import</scope>\n+      </dependency>\n+    </dependencies>\n+  </dependencyManagement>\n+\n+  <dependencies>\n+    <dependency>\n+      <groupId>org.kie.kogito</groupId>\n+      <artifactId>kogito-quarkus</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>io.quarkus</groupId>\n+      <artifactId>quarkus-resteasy</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>io.quarkus</groupId>\n+      <artifactId>quarkus-jsonb</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>io.quarkus</groupId>\n+      <artifactId>quarkus-jsonp</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>io.quarkus</groupId>\n+      <artifactId>quarkus-rest-client</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>com.jayway.jsonpath</groupId>\n+      <artifactId>json-path</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>io.quarkus</groupId>\n+      <artifactId>quarkus-junit5</artifactId>\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>io.rest-assured</groupId>\n+      <artifactId>rest-assured</artifactId>\n+      <scope>test</scope>\n+    </dependency>\n+  </dependencies>\n+\n+  <build>\n+    <finalName>${project.artifactId}</finalName>\n+    <plugins>\n+      <plugin>\n+        <artifactId>maven-surefire-plugin</artifactId>\n+      </plugin>\n+      <plugin>\n+        <groupId>io.quarkus</groupId>\n+        <artifactId>quarkus-maven-plugin</artifactId>\n+        <executions>\n+          <execution>\n+            <goals>\n+              <goal>build</goal>\n+            </goals>\n+          </execution>\n+        </executions>\n+      </plugin>\n+    </plugins>\n+  </build>\n+\n+  <profiles>\n+    <profile>\n+      <id>native</id>\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <groupId>io.quarkus</groupId>\n+            <artifactId>quarkus-maven-plugin</artifactId>\n+            <executions>\n+              <execution>\n+                <goals>\n+                  <goal>native-image</goal>\n+                </goals>\n+                <configuration>\n+                  <enableHttpUrlHandler>true</enableHttpUrlHandler>\n+                </configuration>\n+              </execution>\n+            </executions>\n+          </plugin>\n+          <plugin>\n+            <artifactId>maven-failsafe-plugin</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94d6859b1ff59a6492c9f5c30704658d6320adb3"}, "originalPosition": 108}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg4NDI2Mw==", "bodyText": "I think we should move the tests to integration-test phase, they rely on an external service.", "url": "https://github.com/kiegroup/kogito-examples/pull/213#discussion_r407884263", "createdAt": "2020-04-14T05:56:51Z", "author": {"login": "jstastny-cz"}, "path": "serverless-workflow-service-calls-quarkus/src/test/java/org/kogito/serverless/examples/CountriesResourceTest.java", "diffHunk": "@@ -0,0 +1,59 @@\n+package org.kogito.serverless.examples;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+\n+import static io.restassured.RestAssured.given;\n+import static org.hamcrest.CoreMatchers.is;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import org.junit.jupiter.api.Test;\n+\n+import io.quarkus.test.junit.QuarkusTest;\n+\n+import javax.inject.Inject;\n+\n+\n+@QuarkusTest\n+public class CountriesResourceTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94d6859b1ff59a6492c9f5c30704658d6320adb3"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg4NDQ4Mw==", "bodyText": "I think we should move the tests to integration-test phase, they rely on an external service.", "url": "https://github.com/kiegroup/kogito-examples/pull/213#discussion_r407884483", "createdAt": "2020-04-14T05:57:29Z", "author": {"login": "jstastny-cz"}, "path": "serverless-workflow-service-calls-quarkus/src/test/java/org/kogito/serverless/examples/CountryServiceWorkflowTest.java", "diffHunk": "@@ -0,0 +1,57 @@\n+package org.kogito.serverless.examples;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import org.junit.jupiter.api.Test;\n+\n+import io.quarkus.test.junit.QuarkusTest;\n+import org.kie.kogito.Model;\n+import org.kie.kogito.process.Process;\n+import org.kie.kogito.process.ProcessInstance;\n+\n+import javax.inject.Inject;\n+import javax.inject.Named;\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+@QuarkusTest\n+public class CountryServiceWorkflowTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94d6859b1ff59a6492c9f5c30704658d6320adb3"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzOTY0MzU2", "url": "https://github.com/kiegroup/kogito-examples/pull/213#pullrequestreview-393964356", "createdAt": "2020-04-15T17:00:16Z", "commit": {"oid": "04fe13fe8026c80d77fd8dd1fb81cbb39da68508"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e28dfe4a3db21336f3768a6c4bef2862b0390fa", "author": {"user": null}, "url": "https://github.com/kiegroup/kogito-examples/commit/2e28dfe4a3db21336f3768a6c4bef2862b0390fa", "committedDate": "2020-04-16T13:57:00Z", "message": "KOGITO-1121 - Create advanced example for kogito + serverless workflow - quarkus"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c14c89e0bad2ce3b64a87b3ecc1e5d28b7de4c3f", "author": {"user": null}, "url": "https://github.com/kiegroup/kogito-examples/commit/c14c89e0bad2ce3b64a87b3ecc1e5d28b7de4c3f", "committedDate": "2020-04-16T13:57:00Z", "message": "Fixing pom finalVersion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cfedf333cceab326736f8ab0c241531eb1751578", "author": {"user": null}, "url": "https://github.com/kiegroup/kogito-examples/commit/cfedf333cceab326736f8ab0c241531eb1751578", "committedDate": "2020-04-16T13:57:00Z", "message": "updates to readme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e77505cb0ab617162d930ea564605a58508ab6c0", "author": {"user": null}, "url": "https://github.com/kiegroup/kogito-examples/commit/e77505cb0ab617162d930ea564605a58508ab6c0", "committedDate": "2020-04-16T13:57:00Z", "message": "changing tests to integration phase"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "04fe13fe8026c80d77fd8dd1fb81cbb39da68508", "author": {"user": null}, "url": "https://github.com/kiegroup/kogito-examples/commit/04fe13fe8026c80d77fd8dd1fb81cbb39da68508", "committedDate": "2020-04-15T12:40:03Z", "message": "changing tests to integration phase"}, "afterCommit": {"oid": "e77505cb0ab617162d930ea564605a58508ab6c0", "author": {"user": null}, "url": "https://github.com/kiegroup/kogito-examples/commit/e77505cb0ab617162d930ea564605a58508ab6c0", "committedDate": "2020-04-16T13:57:00Z", "message": "changing tests to integration phase"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4411, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}