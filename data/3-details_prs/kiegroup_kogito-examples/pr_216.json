{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzMjE2Njg5", "number": 216, "title": "KOGITO-1829: BDD tests: Test that Spring boot cloud events are correc\u2026", "bodyText": "\u2026tly received on data-index\nJIRA Ticket: https://issues.redhat.com/browse/KOGITO-1829\nDescription: Enabling events profile in the process-springboot example.", "createdAt": "2020-04-14T14:23:45Z", "url": "https://github.com/kiegroup/kogito-examples/pull/216", "merged": true, "mergeCommit": {"oid": "6e92ecd01cc5bc88157ea5f33f92e8818b5975e2"}, "closed": true, "closedAt": "2020-04-22T07:01:36Z", "author": {"login": "Sgitario"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXkvoegFqTM5MzAwODk2NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZzA05gBqjMyNTYwMzgyNTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzMDA4OTY1", "url": "https://github.com/kiegroup/kogito-examples/pull/216#pullrequestreview-393008965", "createdAt": "2020-04-14T14:54:14Z", "commit": {"oid": "ffc5bf1818d0cc061c03dac37accb0babdcd3ad7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNDo1NDoxNFrOGFSpNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNDo1NDoxNFrOGFSpNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODIwMTUyNA==", "bodyText": "shouldn't this be provided by the kogito-events-spring-boot-addon ?", "url": "https://github.com/kiegroup/kogito-examples/pull/216#discussion_r408201524", "createdAt": "2020-04-14T14:54:14Z", "author": {"login": "jstastny-cz"}, "path": "process-springboot-example/pom.xml", "diffHunk": "@@ -48,6 +50,10 @@\n       <groupId>org.kie.kogito</groupId>\n       <artifactId>process-management-addon</artifactId>\n     </dependency>\n+    <dependency>\n+      <groupId>org.springframework.kafka</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffc5bf1818d0cc061c03dac37accb0babdcd3ad7"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzMDI3Njc4", "url": "https://github.com/kiegroup/kogito-examples/pull/216#pullrequestreview-393027678", "createdAt": "2020-04-14T15:12:28Z", "commit": {"oid": "ffc5bf1818d0cc061c03dac37accb0babdcd3ad7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNToxMjoyOVrOGFTjCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNToxMjoyOVrOGFTjCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODIxNjMzMQ==", "bodyText": "I think it should be KafkaProducerConfig", "url": "https://github.com/kiegroup/kogito-examples/pull/216#discussion_r408216331", "createdAt": "2020-04-14T15:12:29Z", "author": {"login": "sutaakar"}, "path": "process-springboot-example/src/main/java/org/kie/kogito/examples/KafkaConsumerConfig.java", "diffHunk": "@@ -0,0 +1,40 @@\n+package org.kie.kogito.examples;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import org.apache.kafka.clients.producer.ProducerConfig;\n+import org.apache.kafka.common.serialization.StringSerializer;\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+import org.springframework.kafka.annotation.EnableKafka;\n+import org.springframework.kafka.core.DefaultKafkaProducerFactory;\n+import org.springframework.kafka.core.KafkaTemplate;\n+import org.springframework.kafka.core.ProducerFactory;\n+import org.springframework.kafka.support.serializer.JsonSerializer;\n+\n+@EnableKafka\n+@Configuration\n+@ConditionalOnProperty(\"kafka.bootstrap.servers\")\n+public class KafkaConsumerConfig {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffc5bf1818d0cc061c03dac37accb0babdcd3ad7"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzMDQ3ODU2", "url": "https://github.com/kiegroup/kogito-examples/pull/216#pullrequestreview-393047856", "createdAt": "2020-04-14T15:33:23Z", "commit": {"oid": "ffc5bf1818d0cc061c03dac37accb0babdcd3ad7"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNTozMzoyM1rOGFUhyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNTozMzo0MlrOGFUiyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODIzMjM5NQ==", "bodyText": "as in kogito-kafka-quickstart-* examples, we should tell the user on which topic to listen for cloud events:\n\nkogito-processinstances-events\nkogito-usertaskinstances-events", "url": "https://github.com/kiegroup/kogito-examples/pull/216#discussion_r408232395", "createdAt": "2020-04-14T15:33:23Z", "author": {"login": "radtriste"}, "path": "process-quarkus-example/README.md", "diffHunk": "@@ -76,6 +76,12 @@ Once Infinispan is up and running you can build this project with `-Ppersistence\n \n This extra profile in maven configuration adds additional dependencies needed to work with Infinispan as persistent store.\n \n+### Running with events enabled", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffc5bf1818d0cc061c03dac37accb0babdcd3ad7"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODIzMjY0OQ==", "bodyText": "same here on listening to cloud events topics", "url": "https://github.com/kiegroup/kogito-examples/pull/216#discussion_r408232649", "createdAt": "2020-04-14T15:33:42Z", "author": {"login": "radtriste"}, "path": "process-springboot-example/README.md", "diffHunk": "@@ -56,6 +56,16 @@ Once Infinispan is up and running you can build this project with `-Ppersistence\n \n This extra profile in maven configuration adds additional dependencies needed to work with Infinispan as persistent store.\n \n+### Running with events enabled\n+\n+Kogito supports cloud events using Kafka as message broker. So to be able to enable this you need to have\n+Kafka cluster installed and available over the network. Refer to [Kafka Apache site](https://kafka.apache.org/quickstart) to more information about how to install. By default it expects it to be at (it can be configured via application.properties file located in src/main/resources):\n+\n+```\n+kafka.bootstrap.servers=localhost:9092\n+```\n+\n+Once Kafka is up and running you can build this project with `-Pevents` to enable additional processing during the build. This extra profile in maven configuration adds additional dependencies needed to work with Cloud Events.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffc5bf1818d0cc061c03dac37accb0babdcd3ad7"}, "originalPosition": 27}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ee76f8b61032b0c0f29efdeb0c75e1156b223f8f", "author": {"user": {"login": "Sgitario", "name": "Jose Carvajal"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/ee76f8b61032b0c0f29efdeb0c75e1156b223f8f", "committedDate": "2020-04-15T05:57:53Z", "message": "Changes after code review"}, "afterCommit": {"oid": "c4f6216ee69216b077e7cd72ed36a942be08e8f0", "author": {"user": {"login": "Sgitario", "name": "Jose Carvajal"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/c4f6216ee69216b077e7cd72ed36a942be08e8f0", "committedDate": "2020-04-15T05:59:10Z", "message": "KOGITO-1829: BDD tests: Test that Spring boot cloud events are correctly received on data-index"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzNTA1NDg4", "url": "https://github.com/kiegroup/kogito-examples/pull/216#pullrequestreview-393505488", "createdAt": "2020-04-15T07:05:04Z", "commit": {"oid": "c4f6216ee69216b077e7cd72ed36a942be08e8f0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNzowNTowNVrOGFsanw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNzowNTowNVrOGFsanw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYyMzc3NQ==", "bodyText": "we need also to define the different queues in there, else nothing will be sent if we use the events profile", "url": "https://github.com/kiegroup/kogito-examples/pull/216#discussion_r408623775", "createdAt": "2020-04-15T07:05:05Z", "author": {"login": "radtriste"}, "path": "process-springboot-example/src/main/resources/application.properties", "diffHunk": "@@ -2,4 +2,6 @@ spring.mvc.servlet.path=/docs\n \n resteasy.jaxrs.scan-packages=org.kie.kogito.**\n \n-infinispan.remote.server-list=127.0.0.1:11222\n\\ No newline at end of file\n+infinispan.remote.server-list=127.0.0.1:11222\n+\n+kafka.bootstrap.servers=127.0.0.1:9092", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4f6216ee69216b077e7cd72ed36a942be08e8f0"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzNzE3NDg3", "url": "https://github.com/kiegroup/kogito-examples/pull/216#pullrequestreview-393717487", "createdAt": "2020-04-15T12:17:43Z", "commit": {"oid": "c4f6216ee69216b077e7cd72ed36a942be08e8f0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c4f6216ee69216b077e7cd72ed36a942be08e8f0", "author": {"user": {"login": "Sgitario", "name": "Jose Carvajal"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/c4f6216ee69216b077e7cd72ed36a942be08e8f0", "committedDate": "2020-04-15T05:59:10Z", "message": "KOGITO-1829: BDD tests: Test that Spring boot cloud events are correctly received on data-index"}, "afterCommit": {"oid": "de8010ce8440cd22688cd396e225a52077a6676c", "author": {"user": {"login": "Sgitario", "name": "Jose Carvajal"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/de8010ce8440cd22688cd396e225a52077a6676c", "committedDate": "2020-04-17T12:48:00Z", "message": "KOGITO-1829: BDD tests: Test that Spring boot cloud events are correctly received on data-index"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NDI0Njg4", "url": "https://github.com/kiegroup/kogito-examples/pull/216#pullrequestreview-395424688", "createdAt": "2020-04-17T12:51:13Z", "commit": {"oid": "de8010ce8440cd22688cd396e225a52077a6676c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MTc3MzE1", "url": "https://github.com/kiegroup/kogito-examples/pull/216#pullrequestreview-396177315", "createdAt": "2020-04-20T06:43:34Z", "commit": {"oid": "de8010ce8440cd22688cd396e225a52077a6676c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NDQ0MjA5", "url": "https://github.com/kiegroup/kogito-examples/pull/216#pullrequestreview-396444209", "createdAt": "2020-04-20T13:19:05Z", "commit": {"oid": "de8010ce8440cd22688cd396e225a52077a6676c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMzoxOTowNVrOGIUB5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMzoxOTowNVrOGIUB5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM2OTk1OQ==", "bodyText": "add copywrite please", "url": "https://github.com/kiegroup/kogito-examples/pull/216#discussion_r411369959", "createdAt": "2020-04-20T13:19:05Z", "author": {"login": "cristianonicolai"}, "path": "process-springboot-example/src/main/java/org/kie/kogito/examples/KafkaProducerConfig.java", "diffHunk": "@@ -0,0 +1,40 @@\n+package org.kie.kogito.examples;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "de8010ce8440cd22688cd396e225a52077a6676c"}, "originalPosition": 1}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "de8010ce8440cd22688cd396e225a52077a6676c", "author": {"user": {"login": "Sgitario", "name": "Jose Carvajal"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/de8010ce8440cd22688cd396e225a52077a6676c", "committedDate": "2020-04-17T12:48:00Z", "message": "KOGITO-1829: BDD tests: Test that Spring boot cloud events are correctly received on data-index"}, "afterCommit": {"oid": "bd7e448cd7e8cd6dee5864f7fc43afebaaab055f", "author": {"user": {"login": "Sgitario", "name": "Jose Carvajal"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/bd7e448cd7e8cd6dee5864f7fc43afebaaab055f", "committedDate": "2020-04-20T13:24:14Z", "message": "KOGITO-1829: BDD tests: Test that Spring boot cloud events are correctly received on data-index\n\n\n\nadd header"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NDU4MTYw", "url": "https://github.com/kiegroup/kogito-examples/pull/216#pullrequestreview-396458160", "createdAt": "2020-04-20T13:35:45Z", "commit": {"oid": "bd7e448cd7e8cd6dee5864f7fc43afebaaab055f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bd7e448cd7e8cd6dee5864f7fc43afebaaab055f", "author": {"user": {"login": "Sgitario", "name": "Jose Carvajal"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/bd7e448cd7e8cd6dee5864f7fc43afebaaab055f", "committedDate": "2020-04-20T13:24:14Z", "message": "KOGITO-1829: BDD tests: Test that Spring boot cloud events are correctly received on data-index\n\n\n\nadd header"}, "afterCommit": {"oid": "ef8e4099e934682e31ecca96f4cf11b3bf6d218a", "author": {"user": {"login": "Sgitario", "name": "Jose Carvajal"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/ef8e4099e934682e31ecca96f4cf11b3bf6d218a", "committedDate": "2020-04-21T10:03:09Z", "message": "KOGITO-1829: BDD tests: Test that Spring boot cloud events are correctly received on data-index\n\n\n\nadd header"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89198159d942dc5f4a890caaa9efeae3964b9098", "author": {"user": {"login": "Sgitario", "name": "Jose Carvajal"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/89198159d942dc5f4a890caaa9efeae3964b9098", "committedDate": "2020-04-21T12:40:01Z", "message": "KOGITO-1829: BDD tests: Test that Spring boot cloud events are correctly received on data-index"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef8e4099e934682e31ecca96f4cf11b3bf6d218a", "author": {"user": {"login": "Sgitario", "name": "Jose Carvajal"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/ef8e4099e934682e31ecca96f4cf11b3bf6d218a", "committedDate": "2020-04-21T10:03:09Z", "message": "KOGITO-1829: BDD tests: Test that Spring boot cloud events are correctly received on data-index\n\n\n\nadd header"}, "afterCommit": {"oid": "89198159d942dc5f4a890caaa9efeae3964b9098", "author": {"user": {"login": "Sgitario", "name": "Jose Carvajal"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/89198159d942dc5f4a890caaa9efeae3964b9098", "committedDate": "2020-04-21T12:40:01Z", "message": "KOGITO-1829: BDD tests: Test that Spring boot cloud events are correctly received on data-index"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4420, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}