{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0MTY0NTEz", "number": 121, "title": "Flight Example", "bodyText": "", "createdAt": "2020-01-17T14:22:11Z", "url": "https://github.com/kiegroup/kogito-examples/pull/121", "merged": true, "mergeCommit": {"oid": "e76a628ef3e3632945ea85ef85fbbe88f54a47a1"}, "closed": true, "closedAt": "2020-03-13T16:03:18Z", "author": {"login": "Christopher-Chianelli"}, "timelineItems": {"totalCount": 59, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb9lzNiABqjI5Nzg2NDU5NzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcNShzvgFqTM3NDQyMTgxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cc444750375bd9d6b029bab78e6de05b12b43076", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/cc444750375bd9d6b029bab78e6de05b12b43076", "committedDate": "2020-01-20T20:47:50Z", "message": "Use async ajax; added future and suspense functions to provide\ngood UX experience when data is being fetched"}, "afterCommit": {"oid": "24f38c6121105dd647b8bab187d512223d9b1c1d", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/24f38c6121105dd647b8bab187d512223d9b1c1d", "committedDate": "2020-01-24T21:18:02Z", "message": "Show the seat the person is requesting on the form"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "62cc6c27130fc810b00e1a1679e951e907d21e2c", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/62cc6c27130fc810b00e1a1679e951e907d21e2c", "committedDate": "2020-01-27T21:02:16Z", "message": "Fix generate passenger list, add balance constraint (commented out\nsince it cause Drools Exception)"}, "afterCommit": {"oid": "17c3f1aea3803057055625c7e22614e52f925b7d", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/17c3f1aea3803057055625c7e22614e52f925b7d", "committedDate": "2020-01-29T16:37:26Z", "message": "Renamed solutionFactory, add a division by zero check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3c20a8d442987710a052b913d460e7cda739b53", "author": {"user": {"login": "ge0ffrey", "name": "Geoffrey De Smet"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/a3c20a8d442987710a052b913d460e7cda739b53", "committedDate": "2020-03-06T15:19:54Z", "message": "jBPM + OptaPlanner Spring Boot \"Wedding\" example"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41ff804e82ba47b031836dd8e2dec70173c78249", "author": {"user": {"login": "ge0ffrey", "name": "Geoffrey De Smet"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/41ff804e82ba47b031836dd8e2dec70173c78249", "committedDate": "2020-03-06T15:19:54Z", "message": "Remove license header to align with kogito-examples code style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7b4111598f7cce49ba234e564465506edce28ff", "author": {"user": {"login": "ge0ffrey", "name": "Geoffrey De Smet"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/e7b4111598f7cce49ba234e564465506edce28ff", "committedDate": "2020-03-06T15:19:54Z", "message": "Remove unused dependencies (thanks Maciej)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb8a711bbd6fc560c0c1a72b8df790225c32cdfa", "author": {"user": {"login": "ge0ffrey", "name": "Geoffrey De Smet"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/bb8a711bbd6fc560c0c1a72b8df790225c32cdfa", "committedDate": "2020-03-06T15:19:54Z", "message": "Add frontend static html and js"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a9f1aa20abbd600caa8d219e670e459b22a19e2", "author": {"user": {"login": "ge0ffrey", "name": "Geoffrey De Smet"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/8a9f1aa20abbd600caa8d219e670e459b22a19e2", "committedDate": "2020-03-06T15:19:54Z", "message": "Refactor from wedding to flight seat assignment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7122cb94a8a57bcd1aa5812fea6e983051c2ff4", "author": {"user": {"login": "ge0ffrey", "name": "Geoffrey De Smet"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/b7122cb94a8a57bcd1aa5812fea6e983051c2ff4", "committedDate": "2020-03-06T15:19:54Z", "message": "rename from Wedding to Flight Seating"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef6606042c47d4efc3df29c664f2a9b5625a6a1b", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/ef6606042c47d4efc3df29c664f2a9b5625a6a1b", "committedDate": "2020-03-06T15:19:54Z", "message": "Created DTO, edited bpmn, started client side interactions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc27d90848ce397ef39f39326d519e96ddf1144a", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/fc27d90848ce397ef39f39326d519e96ddf1144a", "committedDate": "2020-03-06T15:19:54Z", "message": "Added an \"Add Passenger\" task, although the \"Approve Passenger\"\ntask does not seem to exist."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2e861e5f481a320033c2d5102bd13a9b4374e3d", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/e2e861e5f481a320033c2d5102bd13a9b4374e3d", "committedDate": "2020-03-06T15:19:54Z", "message": "Got the BPMN diagram to FINALLY work; created a basic UI for tasks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92e2c20c38c19799563cde0bf75c3f7d1f3fc447", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/92e2c20c38c19799563cde0bf75c3f7d1f3fc447", "committedDate": "2020-03-06T15:19:54Z", "message": "Added jaxax dependency and stylized the button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4722b87e940fd19b2ff4fceb53adaa8f097d32a1", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/4722b87e940fd19b2ff4fceb53adaa8f097d32a1", "committedDate": "2020-03-06T15:19:54Z", "message": "Added a button to generate passenger list in the frontend"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa0151e1822e724449d578f75fed52af96b235b0", "author": {"user": {"login": "mswiderski", "name": "Maciej Swiderski"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/aa0151e1822e724449d578f75fed52af96b235b0", "committedDate": "2020-03-06T15:19:54Z", "message": "small fixes in the process and added test case for the main flight process"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "995d3d49dc1aa1db47b7d85f1664b1f1439476ee", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/995d3d49dc1aa1db47b7d85f1664b1f1439476ee", "committedDate": "2020-03-06T15:19:54Z", "message": "Fix params sent by the UI for approveDenyRequest, assign solution to flight"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8203d20d8be8de906230c896dae73210ca85e3e", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/e8203d20d8be8de906230c896dae73210ca85e3e", "committedDate": "2020-03-06T15:19:54Z", "message": "Add Seat Icon, Made column in the middle visible, changed\ndefault column and row lengths of the flight."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "292b8213fac1d44400219a08078734e677fb3d98", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/292b8213fac1d44400219a08078734e677fb3d98", "committedDate": "2020-03-06T15:19:54Z", "message": "Use async ajax; added future and suspense functions to provide\ngood UX experience when data is being fetched"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ecf9c37e34028334d6f3754a09e59b785ca50ad", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/1ecf9c37e34028334d6f3754a09e59b785ca50ad", "committedDate": "2020-03-06T15:19:54Z", "message": "Give passengers the ability to pay for their seats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f89ee79fc65ff47fbdaf82214eab4c28245d738", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/2f89ee79fc65ff47fbdaf82214eab4c28245d738", "committedDate": "2020-03-06T15:19:54Z", "message": "Show the seat the person is requesting on the form"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00e8c3949b6ade2eb8d97e7899e28b1a480b3e10", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/00e8c3949b6ade2eb8d97e7899e28b1a480b3e10", "committedDate": "2020-03-06T15:19:54Z", "message": "Fix generate passenger list, add balance constraint (commented out\nsince it cause Drools Exception)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d625d20d881d1632d3c55e8b5e39b8777cf29db", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/3d625d20d881d1632d3c55e8b5e39b8777cf29db", "committedDate": "2020-03-06T15:19:54Z", "message": "Renamed solutionFactory, add a division by zero check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5a067b5f6645f09c457d19c4042c87abe87e5af", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/a5a067b5f6645f09c457d19c4042c87abe87e5af", "committedDate": "2020-03-06T15:19:54Z", "message": "Commented out bad constraint, updated OptaPlanner version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ede8eaa827b61cfad33e2fbc3ea60b1dd85454d3", "author": {"user": {"login": "triceo", "name": "Luk\u00e1\u0161 Petrovick\u00fd"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/ede8eaa827b61cfad33e2fbc3ea60b1dd85454d3", "committedDate": "2020-03-06T15:19:54Z", "message": "Synchronize Optaplanner and Kogito Drools versions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66aa3db46dc86d9a80ea0a00aa315174571d80d0", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/66aa3db46dc86d9a80ea0a00aa315174571d80d0", "committedDate": "2020-03-06T15:19:54Z", "message": "Enabled and fix COG constraint (broken)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba20756c1eaffb9e683cccf5920a2bd42509ae9b", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/ba20756c1eaffb9e683cccf5920a2bd42509ae9b", "committedDate": "2020-03-06T15:19:54Z", "message": "Fix Plane balance constraint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "659f8c70545502a31d170b1ba6f643c924befbdf", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/659f8c70545502a31d170b1ba6f643c924befbdf", "committedDate": "2020-03-06T15:19:54Z", "message": "Add styles to button, use origin, destination and departure time\nfor flight title."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a35509d1710aa8d7c7e0041d90a0610dbcbb2326", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/a35509d1710aa8d7c7e0041d90a0610dbcbb2326", "committedDate": "2020-03-06T15:19:54Z", "message": "Updated look of passenger list; keep flight order consistent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b5c24f089ba6d924c0b3067724acb6a0da03e0d", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/3b5c24f089ba6d924c0b3067724acb6a0da03e0d", "committedDate": "2020-03-06T15:19:54Z", "message": "Use Event Subprocess to handle passenger requests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46f1977343fc7ceef0c6bf2c67ebe92cab9ca0fb", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/46f1977343fc7ceef0c6bf2c67ebe92cab9ca0fb", "committedDate": "2020-03-06T15:19:54Z", "message": "Add margins to buttons, flight seats, keep scroll position."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7e0407a54195c2aafe5440fc07ddd904a9b02aa", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/d7e0407a54195c2aafe5440fc07ddd904a9b02aa", "committedDate": "2020-03-06T15:19:54Z", "message": "Remove CreateFlightSeatAssignments BPMN as it only had one task"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f4df45b9c86b3baf6060dc8b016a550c6caf2e5", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/7f4df45b9c86b3baf6060dc8b016a550c6caf2e5", "committedDate": "2020-03-06T15:19:54Z", "message": "Replace existing components instead of clearing the screen, don't block\nwhen waiting for final solution, poll for best solution updates."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49751f876470a030b26ee476e0acc5fddce91675", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/49751f876470a030b26ee476e0acc5fddce91675", "committedDate": "2020-03-06T15:19:54Z", "message": "Rearrange BPMN file to better showcase event/task relationships."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7acb5118ee17c6231d49f608529a0fe54188d12d", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/7acb5118ee17c6231d49f608529a0fe54188d12d", "committedDate": "2020-03-06T15:19:54Z", "message": "Add heatmap, wait for requests to finish instead of relying on timers,\nuse unimprovedSpentLimit instead of spentLimit so larger datasets have\ntime to solve (without making smaller datasets wait for longer)."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ac9a95d743849fa4aab3e1d5c6a7e9ac1dde321", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/2ac9a95d743849fa4aab3e1d5c6a7e9ac1dde321", "committedDate": "2020-03-06T15:19:54Z", "message": "Disable unimproved-spent-limit since it also sets it on the\nconstruction heuristic."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2dfa5e5f80f308debb703a493c38bbc2c550f654", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/2dfa5e5f80f308debb703a493c38bbc2c550f654", "committedDate": "2020-03-06T15:19:54Z", "message": "Fix broken test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b53c44ad30755b88793bbc8991b72ad1ca8b722", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/2b53c44ad30755b88793bbc8991b72ad1ca8b722", "committedDate": "2020-03-06T15:19:54Z", "message": "Fix dependencies and test after merge with master"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fc45d9c0afc9164a86a599ca13b522fc8e9770c6", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/fc45d9c0afc9164a86a599ca13b522fc8e9770c6", "committedDate": "2020-03-06T15:14:43Z", "message": "Fix dependencies and test after merge with master"}, "afterCommit": {"oid": "2b53c44ad30755b88793bbc8991b72ad1ca8b722", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/2b53c44ad30755b88793bbc8991b72ad1ca8b722", "committedDate": "2020-03-06T15:19:54Z", "message": "Fix dependencies and test after merge with master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42d0965c56f03a81ada62fd4e089bcfe5348fcc2", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/42d0965c56f03a81ada62fd4e089bcfe5348fcc2", "committedDate": "2020-03-06T15:21:47Z", "message": "Merge remote-tracking branch 'upstream/master' into flight-example"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNTUzMzY3", "url": "https://github.com/kiegroup/kogito-examples/pull/121#pullrequestreview-370553367", "createdAt": "2020-03-06T18:58:33Z", "commit": {"oid": "42d0965c56f03a81ada62fd4e089bcfe5348fcc2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef5576357cbebb51f85796bbe42e979626201676", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/ef5576357cbebb51f85796bbe42e979626201676", "committedDate": "2020-03-06T20:38:25Z", "message": "Added a README for the flight example"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/1a27e29caff54c3a3243ee0add42185629a0b901", "committedDate": "2020-03-06T22:04:48Z", "message": "Added missing \"/rest\" prefix to README"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNjU3MDYy", "url": "https://github.com/kiegroup/kogito-examples/pull/121#pullrequestreview-370657062", "createdAt": "2020-03-06T22:09:14Z", "commit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwOTUwODY4", "url": "https://github.com/kiegroup/kogito-examples/pull/121#pullrequestreview-370950868", "createdAt": "2020-03-09T07:12:07Z", "commit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNzoxMjowN1rOFzcrGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNzoxMjowN1rOFzcrGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ5MTQ4MQ==", "bodyText": "@Christopher-Chianelli Please use the latest Final version, so 7.33.0.Final. You can look that up here:\nhttps://mvnrepository.com/artifact/org.optaplanner/optaplanner-core\nThere are a few bigger discussions here - such as kogito vs optaplanner versioning - as well as kogito-examples vs quarkus-quickstarts (that doesn't use SNAPSHOTs at all on master to make it easy for users to play with it) - but those are out of scope for this PR.", "url": "https://github.com/kiegroup/kogito-examples/pull/121#discussion_r389491481", "createdAt": "2020-03-09T07:12:07Z", "author": {"login": "ge0ffrey"}, "path": "jbpm-optaplanner-springboot-example/pom.xml", "diffHunk": "@@ -0,0 +1,171 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <parent>\n+    <groupId>org.kie.kogito</groupId>\n+    <artifactId>kogito-examples</artifactId>\n+    <version>8.0.0-SNAPSHOT</version>\n+  </parent>\n+  <groupId>org.kie.kogito.examples</groupId>\n+  <artifactId>jbpm-optaplanner-springboot-example</artifactId>\n+\n+  <name>Kogito Example :: jBPM, OptaPlanner and SpringBoot</name>\n+  <description>Flight assignment process and optimization</description>\n+\n+  <properties>\n+    <springboot.version>2.2.2.RELEASE</springboot.version>\n+    <version.org.optaplanner>7.33.0-SNAPSHOT</version.org.optaplanner>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwOTUyMTU4", "url": "https://github.com/kiegroup/kogito-examples/pull/121#pullrequestreview-370952158", "createdAt": "2020-03-09T07:16:12Z", "commit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNzoxNjoxMlrOFzcvOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNzoxNjoxMlrOFzcvOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ5MjUzNg==", "bodyText": "JavaEE is being replaced by JakartaEE. I'd expect this dependency to be replaced too. Also, it's probably not going to be a \"aggregate dependency\" but specifically the parts we need (for example only JPA, or only JAXB or only JPA and JAXB, etc).\nCan be done as a separate PR later.", "url": "https://github.com/kiegroup/kogito-examples/pull/121#discussion_r389492536", "createdAt": "2020-03-09T07:16:12Z", "author": {"login": "ge0ffrey"}, "path": "jbpm-optaplanner-springboot-example/pom.xml", "diffHunk": "@@ -0,0 +1,171 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <parent>\n+    <groupId>org.kie.kogito</groupId>\n+    <artifactId>kogito-examples</artifactId>\n+    <version>8.0.0-SNAPSHOT</version>\n+  </parent>\n+  <groupId>org.kie.kogito.examples</groupId>\n+  <artifactId>jbpm-optaplanner-springboot-example</artifactId>\n+\n+  <name>Kogito Example :: jBPM, OptaPlanner and SpringBoot</name>\n+  <description>Flight assignment process and optimization</description>\n+\n+  <properties>\n+    <springboot.version>2.2.2.RELEASE</springboot.version>\n+    <version.org.optaplanner>7.33.0-SNAPSHOT</version.org.optaplanner>\n+  </properties>\n+\n+  <dependencies>\n+    <dependency>\n+      <groupId>org.springframework.boot</groupId>\n+      <artifactId>spring-boot-starter-web</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.springframework.boot</groupId>\n+      <artifactId>spring-boot-devtools</artifactId>\n+      <optional>true</optional>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.kie.kogito</groupId>\n+      <artifactId>kogito-springboot-starter</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.optaplanner</groupId>\n+      <artifactId>optaplanner-spring-boot-starter</artifactId>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>javax</groupId>\n+      <artifactId>javaee-api</artifactId>\n+      <scope>provided</scope>\n+    </dependency>\n+\n+    <!-- Testing -->\n+    <dependency>\n+      <groupId>org.springframework.boot</groupId>\n+      <artifactId>spring-boot-starter-test</artifactId>\n+      <scope>test</scope>\n+    </dependency>\n+\n+    <!-- JavaScript libraries for frontend -->\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>webjars-locator</artifactId>\n+      <scope>runtime</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>bootstrap</artifactId>\n+      <scope>runtime</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>font-awesome</artifactId>\n+      <scope>runtime</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>momentjs</artifactId>\n+      <scope>runtime</scope>\n+    </dependency>\n+  </dependencies>\n+\n+  <dependencyManagement>\n+    <dependencies>\n+      <dependency>\n+        <groupId>org.springframework.boot</groupId>\n+        <artifactId>spring-boot-dependencies</artifactId>\n+        <version>${springboot.version}</version>\n+        <type>pom</type>\n+        <scope>import</scope>\n+      </dependency>\n+      <dependency>\n+        <groupId>javax</groupId>\n+        <artifactId>javaee-api</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "originalPosition": 86}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwOTUzMDE3", "url": "https://github.com/kiegroup/kogito-examples/pull/121#pullrequestreview-370953017", "createdAt": "2020-03-09T07:18:49Z", "commit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNzoxODo1MFrOFzcyMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNzoxODo1MFrOFzcyMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ5MzI5OA==", "bodyText": "@Christopher-Chianelli Is this the workaround for the lack of a solveAndListen method that has both a newBestSolution and finalBestSolution consumer?\nIn that case, add \"// TODO workaround for \"\n(Create an issue if it doesn't exist yet)", "url": "https://github.com/kiegroup/kogito-examples/pull/121#discussion_r389493298", "createdAt": "2020-03-09T07:18:50Z", "author": {"login": "ge0ffrey"}, "path": "jbpm-optaplanner-springboot-example/src/main/java/org/kie/kogito/examples/service/FlightSeatingSolveService.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package org.kie.kogito.examples.service;\n+\n+import java.util.concurrent.ExecutionException;\n+\n+import org.kie.kogito.examples.domain.Flight;\n+import org.kie.kogito.process.Process;\n+import org.kie.kogito.process.impl.Sig;\n+import org.optaplanner.core.api.solver.SolverJob;\n+import org.optaplanner.core.api.solver.SolverManager;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.beans.factory.annotation.Qualifier;\n+import org.springframework.stereotype.Service;\n+\n+@Service\n+public class FlightSeatingSolveService {\n+\n+    @Autowired\n+    private SolverManager<Flight, String> solverManager;\n+\n+    @Autowired\n+    @Qualifier(\"flights\")\n+    Process<?> process;\n+\n+    public void assignSeats(String id, Flight problem) {\n+        SolverJob<Flight, String> solverJob = solverManager.solveAndListen(id, (problemId) -> problem, (bestSolution) -> {\n+            // Can also use Kafka messages for this; probably would be a good showcase of Optaplanner + Kafka\n+            process.instances().findById(id).ifPresent(pi -> {\n+                pi.send(Sig.of(\"newSolution\", bestSolution));\n+            });\n+        });\n+\n+        // Wait for solving to finish in new thread (so we don't block the return)\n+        new Thread(() -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwOTUzOTgx", "url": "https://github.com/kiegroup/kogito-examples/pull/121#pullrequestreview-370953981", "createdAt": "2020-03-09T07:21:36Z", "commit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNzoyMTozNlrOFzc1VQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNzoyMTozNlrOFzc1VQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ5NDEwMQ==", "bodyText": "Almost nobody uses Java literal 2d. Use 2.0 instead.\nPS: For longs, put the L in capital (to avoid java puzzlers, see Josh Bloch's effictive java etc).", "url": "https://github.com/kiegroup/kogito-examples/pull/121#discussion_r389494101", "createdAt": "2020-03-09T07:21:36Z", "author": {"login": "ge0ffrey"}, "path": "jbpm-optaplanner-springboot-example/src/main/java/org/kie/kogito/examples/solver/FlightSeatingConstraintProvider.java", "diffHunk": "@@ -0,0 +1,63 @@\n+package org.kie.kogito.examples.solver;\n+\n+import org.kie.kogito.examples.domain.FlightInfo;\n+import org.kie.kogito.examples.domain.Passenger;\n+import org.optaplanner.core.api.score.buildin.hardsoft.HardSoftScore;\n+import org.optaplanner.core.api.score.stream.Constraint;\n+import org.optaplanner.core.api.score.stream.ConstraintCollectors;\n+import org.optaplanner.core.api.score.stream.ConstraintFactory;\n+import org.optaplanner.core.api.score.stream.ConstraintProvider;\n+\n+import static org.optaplanner.core.api.score.stream.Joiners.equal;\n+\n+import java.awt.geom.Point2D;\n+\n+public class FlightSeatingConstraintProvider implements ConstraintProvider {\n+\n+    @Override\n+    public Constraint[] defineConstraints(ConstraintFactory factory) {\n+        return new Constraint[] {\n+                seatConflict(factory),\n+                emergencyExitRow(factory),\n+                seatTypePreference(factory),\n+                planeBalance(factory)\n+        };\n+    }\n+\n+    private Constraint seatConflict(ConstraintFactory factory) {\n+        return factory\n+                .fromUniquePair(Passenger.class, equal(Passenger::getSeat))\n+                .penalize(\"Seat conflict\", HardSoftScore.ONE_HARD);\n+    }\n+\n+    private Constraint emergencyExitRow(ConstraintFactory factory) {\n+        return factory\n+                .from(Passenger.class)\n+                .filter(passenger -> passenger.getSeat().isEmergencyExitRow()\n+                        && !passenger.isEmergencyExitRowCapable())\n+                .penalize(\"Emergency exit row has incapable passenger\", HardSoftScore.ONE_HARD);\n+    }\n+\n+    private Constraint seatTypePreference(ConstraintFactory factory) {\n+        return factory\n+                .from(Passenger.class)\n+                .filter(passenger -> passenger.getSeat().getSeatType().violatesPreference(\n+                        passenger.getSeatTypePreference()))\n+                .penalize(\"Seat type preference\", HardSoftScore.ONE_SOFT);\n+    }\n+\n+    private Constraint planeBalance(ConstraintFactory factory) {\n+        return factory.from(Passenger.class).groupBy(ConstraintCollectors.sum(p -> p.getSeat().getColumn()))\n+                .join(factory.from(Passenger.class).groupBy(ConstraintCollectors.sum(p -> p.getSeat().getRow())))\n+                .join(factory.from(Passenger.class).groupBy(ConstraintCollectors.count()))\n+                .join(FlightInfo.class)\n+                .penalize(\"Plane Balance\", HardSoftScore.ONE_SOFT, (totalX, totalY, passengerCount, flightInfo) -> {\n+                    double localTotalX = totalX - passengerCount * ((flightInfo.getSeatColumnSize() / 2d) - 0.5);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "originalPosition": 55}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwOTU0Mzg4", "url": "https://github.com/kiegroup/kogito-examples/pull/121#pullrequestreview-370954388", "createdAt": "2020-03-09T07:22:41Z", "commit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMDMwNzM0", "url": "https://github.com/kiegroup/kogito-examples/pull/121#pullrequestreview-371030734", "createdAt": "2020-03-09T09:51:41Z", "commit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwOTo1MTo0MVrOFzgmBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwOTo1MTo0MVrOFzgmBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU1NTcxOA==", "bodyText": "AFAIK, paid is the proper English past tense for pay.", "url": "https://github.com/kiegroup/kogito-examples/pull/121#discussion_r389555718", "createdAt": "2020-03-09T09:51:41Z", "author": {"login": "triceo"}, "path": "jbpm-optaplanner-springboot-example/src/main/java/org/kie/kogito/examples/domain/Passenger.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package org.kie.kogito.examples.domain;\n+\n+import org.optaplanner.core.api.domain.entity.PlanningEntity;\n+import org.optaplanner.core.api.domain.entity.PlanningPin;\n+import org.optaplanner.core.api.domain.lookup.PlanningId;\n+import org.optaplanner.core.api.domain.variable.PlanningVariable;\n+\n+@PlanningEntity\n+public class Passenger {\n+\n+    @PlanningId\n+    private Long id;\n+\n+    private String name;\n+    // Sometimes null\n+    private SeatType seatTypePreference;\n+    // At least 15 years old, sufficient mobility, strength and dexterity to assist in an evacuation.\n+    private boolean emergencyExitRowCapable;\n+    @PlanningPin\n+    private boolean payedForSeat;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMDM0Mzg5", "url": "https://github.com/kiegroup/kogito-examples/pull/121#pullrequestreview-371034389", "createdAt": "2020-03-09T09:57:20Z", "commit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwOTo1NzoyMFrOFzgxpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwOTo1NzoyMFrOFzgxpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU1ODY5Mw==", "bodyText": "No this in this case?\nAlso, it took me a while to figure out what Character.toString((char) ('A' + column)); actually does. Either replace with a switch or at least add a comment explaining that it assigns seat A-F based on the column number.", "url": "https://github.com/kiegroup/kogito-examples/pull/121#discussion_r389558693", "createdAt": "2020-03-09T09:57:20Z", "author": {"login": "triceo"}, "path": "jbpm-optaplanner-springboot-example/src/main/java/org/kie/kogito/examples/domain/Seat.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package org.kie.kogito.examples.domain;\n+\n+import org.optaplanner.core.api.domain.lookup.PlanningId;\n+\n+public class Seat {\n+\n+    @PlanningId\n+    private String name;\n+    private int row;\n+    private int column;\n+    private SeatType seatType;\n+    private boolean emergencyExitRow;\n+\n+    public Seat() {\n+    }\n+\n+    public Seat(int row, int column, SeatType seatType, boolean emergencyExitRow) {\n+        this.row = row;\n+        this.column = column;\n+        name = (row + 1) + Character.toString((char) ('A' + column));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMDM1NjI2", "url": "https://github.com/kiegroup/kogito-examples/pull/121#pullrequestreview-371035626", "createdAt": "2020-03-09T09:59:07Z", "commit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwOTo1OTowN1rOFzg1lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwOTo1OTowN1rOFzg1lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU1OTcwMg==", "bodyText": "I'd add equals() and hashCode() here. Since this class is immutable, its instances should be considered equal where possible.", "url": "https://github.com/kiegroup/kogito-examples/pull/121#discussion_r389559702", "createdAt": "2020-03-09T09:59:07Z", "author": {"login": "triceo"}, "path": "jbpm-optaplanner-springboot-example/src/main/java/org/kie/kogito/examples/domain/Seat.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package org.kie.kogito.examples.domain;\n+\n+import org.optaplanner.core.api.domain.lookup.PlanningId;\n+\n+public class Seat {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMDM1ODM4", "url": "https://github.com/kiegroup/kogito-examples/pull/121#pullrequestreview-371035838", "createdAt": "2020-03-09T09:59:25Z", "commit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwOTo1OToyNVrOFzg2Pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwOTo1OToyNVrOFzg2Pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU1OTg3MQ==", "bodyText": "Since this class is immutable, all of these could be final.", "url": "https://github.com/kiegroup/kogito-examples/pull/121#discussion_r389559871", "createdAt": "2020-03-09T09:59:25Z", "author": {"login": "triceo"}, "path": "jbpm-optaplanner-springboot-example/src/main/java/org/kie/kogito/examples/domain/Seat.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package org.kie.kogito.examples.domain;\n+\n+import org.optaplanner.core.api.domain.lookup.PlanningId;\n+\n+public class Seat {\n+\n+    @PlanningId\n+    private String name;\n+    private int row;\n+    private int column;\n+    private SeatType seatType;\n+    private boolean emergencyExitRow;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMDcyMTI0", "url": "https://github.com/kiegroup/kogito-examples/pull/121#pullrequestreview-371072124", "createdAt": "2020-03-09T10:58:26Z", "commit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMDo1ODoyNlrOFzip_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMTowMTowMlrOFziuyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU4OTUwMQ==", "bodyText": "small typo in path => 2 /", "url": "https://github.com/kiegroup/kogito-examples/pull/121#discussion_r389589501", "createdAt": "2020-03-09T10:58:26Z", "author": {"login": "radtriste"}, "path": "jbpm-optaplanner-springboot-example/README.md", "diffHunk": "@@ -0,0 +1,323 @@\n+# jBPM + OptaPlanner + SpringBoot example\n+\n+## Description\n+\n+A simple process service for an airline scheduling flights and optimizing seat\n+assignments using OptaPlanner.\n+\n+It uses an event-based subprocess to simulate\n+passengers buying tickets, who the airline security officer must approve via\n+a user task before the passenger is allowed to get a ticket.\n+\n+The main process waits for a user task to be completed to finalize the passenger list.\n+It then invokes a custom Java service `FlightSeatingSolveService.assignSeats`\n+to optimize the flight's seats following the rules in `FlightSeatingConstraintProvider`\n+using OptaPlanner's, followed by a user task to finalize seat assignments.\n+\n+Based on these two processes (defined using BPMN 2.0 format), the custom data object\n+and custom Java service, a new service is generated that exposes REST operations to\n+create new flights (following the steps as defined in the main and sub-process)\n+and add passengers to flights.\n+\n+An UI is included in this example, which can be accessed on `localhost:8080`\n+when the application is running.\n+\n+## Installing and Running\n+\n+### Prerequisites\n+\n+You will need:\n+  - Java 1.8.0+ installed\n+  - Environment variable JAVA_HOME set accordingly\n+  - Maven 3.5.4+ installed\n+\n+## Installing and Running\n+\n+```\n+mvn clean package spring-boot:run    \n+```\n+\n+## Swagger documentation\n+\n+You can take a look at the [swagger definition](http://localhost:8080/docs/swagger.json) - automatically generated and included in this service - to determine all available operations exposed by this service.  For easy readability you can visualize the swagger definition file using a swagger UI like for example available [here](https://editor.swagger.io). In addition, various clients to interact with this service can be easily generated using this swagger definition.\n+\n+## Example Usage\n+\n+Once the service is up and running, you can access the UI at `localhost:8080` or use\n+the following examples to interact with the service.\n+\n+### POST  /rest/flights\n+\n+Allows to create a new flight with the given data:\n+\n+```sh\n+curl -d '{ \"params\": { \"origin\" : \"JFK\", \"destination\": \"SFO\", \"departureDateTime\": \"2020-01-01T12:00\", \"seatRowSize\": 8, \"seatColumnSize\": 6 } }' -H \"Content-Type: application/json\" -X POST http://localhost:8080/rest/flights\n+```\n+or on windows\n+\n+```sh\n+curl -d \"{\\\"params\\\": { \\\"origin\\\" : \\\"JFK\\\", \\\"destination\\\": \\\"SFO\\\", \\\"departureDateTime\\\": \\\"2020-01-01T12:00\\\", \\\"seatRowSize\\\": 8, \\\"seatColumnSize\\\": 6 }}\" -H \"Content-Type: application/json\" -X POST http://localhost:8080/rest/flights\n+```\n+\n+As response the created flight is returned (in field \"flight\").\n+Example response:\n+```json\n+{\n+  \"id\":\"7f24831f-9dc6-44c7-8dec-9b4a696506b5\",\n+  \"flight\":{\n+    \"flightInfo\":{\n+      \"origin\":\"YYZ\",\n+      \"destination\":\"KRND\",\n+      \"departureDateTime\":{...},\n+      \"seatRowSize\":1,\n+      \"seatColumnSize\":1\n+      },\n+    \"seatList\":[{\"name\":\"1A\",\"row\":0,\"column\":0,\"seatType\":\"WINDOW\",\"emergencyExitRow\":false}],\n+    \"passengerList\":[],\n+    \"score\":null,\n+    \"origin\":\"YYZ\",\n+    \"seatColumnSize\":6,\n+    \"seatRowSize\":4,\n+    \"destination\":\"KRND\",\n+    \"departureDateTime\":{...}\n+    },\n+  \"isSolving\":true,\n+  \"processId\":\"7f24831f-9dc6-44c7-8dec-9b4a696506b5\",\n+  \"params\":{\n+    \"origin\":\"YYZ\",\n+    \"destination\":\"KRND\",\n+    \"departureDateTime\":\"2020-03-06T20:19:49.240\",\n+    \"seatRowSize\":4,\n+    \"seatColumnSize\":6\n+  },\n+  \"isPassengerListFinalized\":false\n+}\n+```\n+\n+### GET  /rest/flights\n+\n+Returns list of flights currently being scheduled:\n+\n+```sh\n+curl -X GET http://localhost:8080/rest/flights\n+```\n+\n+As response an array of flights is returned.\n+\n+### GET  /rest/flight/{id}\n+\n+Returns flight with given id (if being scheduled):\n+\n+```sh\n+curl -X GET http://localhost:8080/rest/flights/62f1c985-d31c-4ead-9906-2fe8d05937f0\n+```\n+\n+As response a single flight is returned if found, otherwise no content (204) is returned.\n+\n+### DELETE /rest/flights/{id}\n+\n+Cancels flight with given id\n+\n+```sh\n+curl -X DELETE http://localhost:8080/rest/flights/62f1c985-d31c-4ead-9906-2fe8d05937f0\n+```\n+\n+### GET /rest/flights/{id}/tasks\n+\n+Get user tasks that currently require action for a flight.\n+\n+```sh\n+curl -X GET http://localhost:8080/rest/flights/62f1c985-d31c-4ead-9906-2fe8d05937f0/tasks\n+```\n+\n+Example response:\n+```json\n+{\n+  \"66c11e3e-c211-4cee-9a07-848b5e861bc5\": \"finalizePassengerList\",\n+  \"a2c11e3e-c211-4cee-9a07-848b5e861bc5\": \"finalizeSeatAssignment\",\n+  \"f4c11e3e-c211-4cee-9a07-848b5e861bc5\": \"approveDenyPassenger\"\n+}\n+```\n+\n+### POST /rest//flights/{id}/newPassengerRequest", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "originalPosition": 142}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU5MDcyOA==", "bodyText": "In all curl commands with an id, I would avoid putting an example id.\nInstead put a placeholder and tell the user to replace this placeholder.", "url": "https://github.com/kiegroup/kogito-examples/pull/121#discussion_r389590728", "createdAt": "2020-03-09T11:01:02Z", "author": {"login": "radtriste"}, "path": "jbpm-optaplanner-springboot-example/README.md", "diffHunk": "@@ -0,0 +1,323 @@\n+# jBPM + OptaPlanner + SpringBoot example\n+\n+## Description\n+\n+A simple process service for an airline scheduling flights and optimizing seat\n+assignments using OptaPlanner.\n+\n+It uses an event-based subprocess to simulate\n+passengers buying tickets, who the airline security officer must approve via\n+a user task before the passenger is allowed to get a ticket.\n+\n+The main process waits for a user task to be completed to finalize the passenger list.\n+It then invokes a custom Java service `FlightSeatingSolveService.assignSeats`\n+to optimize the flight's seats following the rules in `FlightSeatingConstraintProvider`\n+using OptaPlanner's, followed by a user task to finalize seat assignments.\n+\n+Based on these two processes (defined using BPMN 2.0 format), the custom data object\n+and custom Java service, a new service is generated that exposes REST operations to\n+create new flights (following the steps as defined in the main and sub-process)\n+and add passengers to flights.\n+\n+An UI is included in this example, which can be accessed on `localhost:8080`\n+when the application is running.\n+\n+## Installing and Running\n+\n+### Prerequisites\n+\n+You will need:\n+  - Java 1.8.0+ installed\n+  - Environment variable JAVA_HOME set accordingly\n+  - Maven 3.5.4+ installed\n+\n+## Installing and Running\n+\n+```\n+mvn clean package spring-boot:run    \n+```\n+\n+## Swagger documentation\n+\n+You can take a look at the [swagger definition](http://localhost:8080/docs/swagger.json) - automatically generated and included in this service - to determine all available operations exposed by this service.  For easy readability you can visualize the swagger definition file using a swagger UI like for example available [here](https://editor.swagger.io). In addition, various clients to interact with this service can be easily generated using this swagger definition.\n+\n+## Example Usage\n+\n+Once the service is up and running, you can access the UI at `localhost:8080` or use\n+the following examples to interact with the service.\n+\n+### POST  /rest/flights\n+\n+Allows to create a new flight with the given data:\n+\n+```sh\n+curl -d '{ \"params\": { \"origin\" : \"JFK\", \"destination\": \"SFO\", \"departureDateTime\": \"2020-01-01T12:00\", \"seatRowSize\": 8, \"seatColumnSize\": 6 } }' -H \"Content-Type: application/json\" -X POST http://localhost:8080/rest/flights\n+```\n+or on windows\n+\n+```sh\n+curl -d \"{\\\"params\\\": { \\\"origin\\\" : \\\"JFK\\\", \\\"destination\\\": \\\"SFO\\\", \\\"departureDateTime\\\": \\\"2020-01-01T12:00\\\", \\\"seatRowSize\\\": 8, \\\"seatColumnSize\\\": 6 }}\" -H \"Content-Type: application/json\" -X POST http://localhost:8080/rest/flights\n+```\n+\n+As response the created flight is returned (in field \"flight\").\n+Example response:\n+```json\n+{\n+  \"id\":\"7f24831f-9dc6-44c7-8dec-9b4a696506b5\",\n+  \"flight\":{\n+    \"flightInfo\":{\n+      \"origin\":\"YYZ\",\n+      \"destination\":\"KRND\",\n+      \"departureDateTime\":{...},\n+      \"seatRowSize\":1,\n+      \"seatColumnSize\":1\n+      },\n+    \"seatList\":[{\"name\":\"1A\",\"row\":0,\"column\":0,\"seatType\":\"WINDOW\",\"emergencyExitRow\":false}],\n+    \"passengerList\":[],\n+    \"score\":null,\n+    \"origin\":\"YYZ\",\n+    \"seatColumnSize\":6,\n+    \"seatRowSize\":4,\n+    \"destination\":\"KRND\",\n+    \"departureDateTime\":{...}\n+    },\n+  \"isSolving\":true,\n+  \"processId\":\"7f24831f-9dc6-44c7-8dec-9b4a696506b5\",\n+  \"params\":{\n+    \"origin\":\"YYZ\",\n+    \"destination\":\"KRND\",\n+    \"departureDateTime\":\"2020-03-06T20:19:49.240\",\n+    \"seatRowSize\":4,\n+    \"seatColumnSize\":6\n+  },\n+  \"isPassengerListFinalized\":false\n+}\n+```\n+\n+### GET  /rest/flights\n+\n+Returns list of flights currently being scheduled:\n+\n+```sh\n+curl -X GET http://localhost:8080/rest/flights\n+```\n+\n+As response an array of flights is returned.\n+\n+### GET  /rest/flight/{id}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a27e29caff54c3a3243ee0add42185629a0b901"}, "originalPosition": 107}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "786a26c435b98de77ac3df4fbad3b684dedf97a9", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/786a26c435b98de77ac3df4fbad3b684dedf97a9", "committedDate": "2020-03-09T15:42:31Z", "message": "Add comments, fix minor typos in README, change payedForSeat -> paidForSeat"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ccda51c379e938fabaa87297d9e66a4d9419d73", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/8ccda51c379e938fabaa87297d9e66a4d9419d73", "committedDate": "2020-03-09T17:26:09Z", "message": "payedForSeat -> paidForSeat in README"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyMTE3NzQ5", "url": "https://github.com/kiegroup/kogito-examples/pull/121#pullrequestreview-372117749", "createdAt": "2020-03-10T16:27:04Z", "commit": {"oid": "8ccda51c379e938fabaa87297d9e66a4d9419d73"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNjoyNzowNFrOF0W2yQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNjozNjozOVrOF0XQ5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQ0NDc0NQ==", "bodyText": "\"A UI\" ?", "url": "https://github.com/kiegroup/kogito-examples/pull/121#discussion_r390444745", "createdAt": "2020-03-10T16:27:04Z", "author": {"login": "evacchi"}, "path": "jbpm-optaplanner-springboot-example/README.md", "diffHunk": "@@ -0,0 +1,341 @@\n+# jBPM + OptaPlanner + SpringBoot example\n+\n+## Description\n+\n+A simple process service for an airline scheduling flights and optimizing seat\n+assignments using OptaPlanner.\n+\n+It uses an event-based subprocess to simulate\n+passengers buying tickets, who the airline security officer must approve via\n+a user task before the passenger is allowed to get a ticket.\n+\n+The main process waits for a user task to be completed to finalize the passenger list.\n+It then invokes a custom Java service `FlightSeatingSolveService.assignSeats`\n+to optimize the flight's seats following the rules in `FlightSeatingConstraintProvider`\n+using OptaPlanner's, followed by a user task to finalize seat assignments.\n+\n+Based on these two processes (defined using BPMN 2.0 format), the custom data object\n+and custom Java service, a new service is generated that exposes REST operations to\n+create new flights (following the steps as defined in the main and sub-process)\n+and add passengers to flights.\n+\n+An UI is included in this example, which can be accessed on `localhost:8080`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ccda51c379e938fabaa87297d9e66a4d9419d73"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQ0NTk3Mg==", "bodyText": "is this supposed to be a comment for end users?", "url": "https://github.com/kiegroup/kogito-examples/pull/121#discussion_r390445972", "createdAt": "2020-03-10T16:28:43Z", "author": {"login": "evacchi"}, "path": "jbpm-optaplanner-springboot-example/src/main/java/org/kie/kogito/examples/service/FlightSeatingSolveService.java", "diffHunk": "@@ -0,0 +1,45 @@\n+package org.kie.kogito.examples.service;\n+\n+import java.util.concurrent.ExecutionException;\n+\n+import org.kie.kogito.examples.domain.Flight;\n+import org.kie.kogito.process.Process;\n+import org.kie.kogito.process.impl.Sig;\n+import org.optaplanner.core.api.solver.SolverJob;\n+import org.optaplanner.core.api.solver.SolverManager;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.beans.factory.annotation.Qualifier;\n+import org.springframework.stereotype.Service;\n+\n+@Service\n+public class FlightSeatingSolveService {\n+\n+    @Autowired\n+    private SolverManager<Flight, String> solverManager;\n+\n+    @Autowired\n+    @Qualifier(\"flights\")\n+    Process<?> process;\n+\n+    public void assignSeats(String id, Flight problem) {\n+        SolverJob<Flight, String> solverJob = solverManager.solveAndListen(id, (problemId) -> problem, (bestSolution) -> {\n+            // Can also use Kafka messages for this; probably would be a good showcase of Optaplanner + Kafka", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ccda51c379e938fabaa87297d9e66a4d9419d73"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQ0OTkzOQ==", "bodyText": "Is it really necessary to spawn a bare thread here? I think you may want to use some Spring facility for async scheduling", "url": "https://github.com/kiegroup/kogito-examples/pull/121#discussion_r390449939", "createdAt": "2020-03-10T16:34:32Z", "author": {"login": "evacchi"}, "path": "jbpm-optaplanner-springboot-example/src/main/java/org/kie/kogito/examples/service/FlightSeatingSolveService.java", "diffHunk": "@@ -0,0 +1,45 @@\n+package org.kie.kogito.examples.service;\n+\n+import java.util.concurrent.ExecutionException;\n+\n+import org.kie.kogito.examples.domain.Flight;\n+import org.kie.kogito.process.Process;\n+import org.kie.kogito.process.impl.Sig;\n+import org.optaplanner.core.api.solver.SolverJob;\n+import org.optaplanner.core.api.solver.SolverManager;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.beans.factory.annotation.Qualifier;\n+import org.springframework.stereotype.Service;\n+\n+@Service\n+public class FlightSeatingSolveService {\n+\n+    @Autowired\n+    private SolverManager<Flight, String> solverManager;\n+\n+    @Autowired\n+    @Qualifier(\"flights\")\n+    Process<?> process;\n+\n+    public void assignSeats(String id, Flight problem) {\n+        SolverJob<Flight, String> solverJob = solverManager.solveAndListen(id, (problemId) -> problem, (bestSolution) -> {\n+            // Can also use Kafka messages for this; probably would be a good showcase of Optaplanner + Kafka\n+            process.instances().findById(id).ifPresent(pi -> {\n+                pi.send(Sig.of(\"newSolution\", bestSolution));\n+            });\n+        });\n+\n+        // TODO: Workaround for https://issues.redhat.com/browse/PLANNER-1868\n+        // Wait for solving to finish in new thread (so we don't block the return)\n+        new Thread(() -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ccda51c379e938fabaa87297d9e66a4d9419d73"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQ1MTQzMA==", "bodyText": "in kogito this file should be unnecessary", "url": "https://github.com/kiegroup/kogito-examples/pull/121#discussion_r390451430", "createdAt": "2020-03-10T16:36:39Z", "author": {"login": "evacchi"}, "path": "jbpm-optaplanner-springboot-example/src/main/resources/META-INF/kmodule.xml", "diffHunk": "@@ -0,0 +1 @@\n+<kmodule xmlns=\"http://www.drools.org/xsd/kmodule\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ccda51c379e938fabaa87297d9e66a4d9419d73"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5085ce20da841476f63ab70122fdec82e3405777", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/5085ce20da841476f63ab70122fdec82e3405777", "committedDate": "2020-03-10T18:31:32Z", "message": "Fix grammar, use task executor for siginaling end, remove unrequired kmodule."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b26f5df4767a3f81020aaa7af4dbfcb9882ddcbb", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/b26f5df4767a3f81020aaa7af4dbfcb9882ddcbb", "committedDate": "2020-03-13T14:33:02Z", "message": "Merge branch 'master' into flight-example"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62ee225e5683b22e69776e29312e209e52cc060e", "author": {"user": {"login": "Christopher-Chianelli", "name": "Christopher Chianelli"}}, "url": "https://github.com/kiegroup/kogito-examples/commit/62ee225e5683b22e69776e29312e209e52cc060e", "committedDate": "2020-03-13T14:57:54Z", "message": "PLANNER-1906: Flight Example Enhancements and merge fixes."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0NDIxODE5", "url": "https://github.com/kiegroup/kogito-examples/pull/121#pullrequestreview-374421819", "createdAt": "2020-03-13T16:02:19Z", "commit": {"oid": "62ee225e5683b22e69776e29312e209e52cc060e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4523, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}