{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2NzQzODEx", "number": 170, "title": "KOGITO-1120 - Create simple 'greeting' example (kogito + serverless w\u2026", "bodyText": "\u2026orkflow)", "createdAt": "2020-04-01T03:54:43Z", "url": "https://github.com/kiegroup/kogito-examples/pull/170", "merged": true, "mergeCommit": {"oid": "9b68fa238c8f9d74465d15dcf69fb0539591bf5f"}, "closed": true, "closedAt": "2020-04-09T15:03:39Z", "author": {"login": "tsurdilo"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTnAEcgFqTM4NjE2MDk4NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcV92_fAFqTM5MDg3NjM5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2MTYwOTg1", "url": "https://github.com/kiegroup/kogito-examples/pull/170#pullrequestreview-386160985", "createdAt": "2020-04-02T07:16:03Z", "commit": {"oid": "e3a1317683b4bc535644d1c1e3f94f64d5edba7a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQwNzoxNjowM1rOF_eLjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQwNzoxNjoxNFrOF_eLxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjA5OTA4NA==", "bodyText": "I think we have bumped reqs to align to quarkus (IIRC mvn 3.6.1 or 3.6.2 and Java 11)", "url": "https://github.com/kiegroup/kogito-examples/pull/170#discussion_r402099084", "createdAt": "2020-04-02T07:16:03Z", "author": {"login": "evacchi"}, "path": "kogito-sw-greeting/README.md", "diffHunk": "@@ -0,0 +1,108 @@\n+# Kogito Serverless Workflow Simple Greeting Example\n+\n+## Description\n+\n+This example contains two simple greeting workflow services. \n+The services are described using both JSON and YAML formats as defined in the \n+[CNCF Serverless Workflow specification](https://github.com/cncf/wg-serverless/tree/master/workflow/spec).\n+\n+## Installing and Running\n+\n+### Prerequisites\n+ \n+You will need:\n+  - Java 1.8.0+ installed \n+  - Environment variable JAVA_HOME set accordingly\n+  - Maven 3.5.4+ installed", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3a1317683b4bc535644d1c1e3f94f64d5edba7a"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjA5OTE0MQ==", "bodyText": "GraalVM >=19.3.1", "url": "https://github.com/kiegroup/kogito-examples/pull/170#discussion_r402099141", "createdAt": "2020-04-02T07:16:14Z", "author": {"login": "evacchi"}, "path": "kogito-sw-greeting/README.md", "diffHunk": "@@ -0,0 +1,108 @@\n+# Kogito Serverless Workflow Simple Greeting Example\n+\n+## Description\n+\n+This example contains two simple greeting workflow services. \n+The services are described using both JSON and YAML formats as defined in the \n+[CNCF Serverless Workflow specification](https://github.com/cncf/wg-serverless/tree/master/workflow/spec).\n+\n+## Installing and Running\n+\n+### Prerequisites\n+ \n+You will need:\n+  - Java 1.8.0+ installed \n+  - Environment variable JAVA_HOME set accordingly\n+  - Maven 3.5.4+ installed\n+\n+When using native image compilation, you will also need: \n+  - [GraalVM 19.1.1](https://github.com/oracle/graal/releases/tag/vm-19.1.1) installed ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3a1317683b4bc535644d1c1e3f94f64d5edba7a"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NTcwNTYy", "url": "https://github.com/kiegroup/kogito-examples/pull/170#pullrequestreview-387570562", "createdAt": "2020-04-03T20:47:59Z", "commit": {"oid": "4993ce17ec6c77fed1b1ed321f9deb1285f33898"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3OTEwMTMw", "url": "https://github.com/kiegroup/kogito-examples/pull/170#pullrequestreview-387910130", "createdAt": "2020-04-06T03:06:51Z", "commit": {"oid": "4993ce17ec6c77fed1b1ed321f9deb1285f33898"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwMzowNjo1MlrOGBGdYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwMzowOTozMFrOGBGfSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzgwNzU4NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              - Java 1.8.0+ installed \n          \n          \n            \n              - Java 11+ installed", "url": "https://github.com/kiegroup/kogito-examples/pull/170#discussion_r403807585", "createdAt": "2020-04-06T03:06:52Z", "author": {"login": "cristianonicolai"}, "path": "kogito-sw-greeting/README.md", "diffHunk": "@@ -0,0 +1,115 @@\n+# Kogito Serverless Workflow - Greeting Example\n+\n+## Description\n+\n+This example contains two simple greeting workflow services. \n+The services are described using both JSON and YAML formats as defined in the \n+[CNCF Serverless Workflow specification](https://github.com/cncf/wg-serverless/tree/master/workflow/spec).\n+\n+The workflow expects as JSON input containing the name of the person to greet \n+(see details in the [Submit a request](#Submit-a-request) section).\n+The workflow starts with a RELAY state which injects the greeting \"Hello\" into the workflow data.\n+It then transitions to an OPERATION state which references a sysout function and passes to it\n+input parameter containing the greeting and the name of the person to greet: \"$.greeting $.name\".\n+This is then printed out by the function to the console.\n+\n+## Installing and Running\n+\n+### Prerequisites\n+ \n+You will need:\n+  - Java 1.8.0+ installed ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4993ce17ec6c77fed1b1ed321f9deb1285f33898"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzgwNzY3Mg==", "bodyText": "you can remove the groupId from here as it is inherited.", "url": "https://github.com/kiegroup/kogito-examples/pull/170#discussion_r403807672", "createdAt": "2020-04-06T03:07:29Z", "author": {"login": "cristianonicolai"}, "path": "kogito-sw-greeting/pom.xml", "diffHunk": "@@ -0,0 +1,119 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project\n+  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\n+  xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <parent>\n+    <groupId>org.kie.kogito</groupId>\n+    <artifactId>kogito-examples</artifactId>\n+    <version>8.0.0-SNAPSHOT</version>\n+  </parent>\n+  <groupId>org.kie.kogito.examples</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4993ce17ec6c77fed1b1ed321f9deb1285f33898"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzgwODA3Mg==", "bodyText": "@tsurdilo its a fine tune but helps if you move this dependency version declaration into the dependencyManagement section on the root pom.", "url": "https://github.com/kiegroup/kogito-examples/pull/170#discussion_r403808072", "createdAt": "2020-04-06T03:09:30Z", "author": {"login": "cristianonicolai"}, "path": "kogito-sw-greeting/pom.xml", "diffHunk": "@@ -0,0 +1,119 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project\n+  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\n+  xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <parent>\n+    <groupId>org.kie.kogito</groupId>\n+    <artifactId>kogito-examples</artifactId>\n+    <version>8.0.0-SNAPSHOT</version>\n+  </parent>\n+  <groupId>org.kie.kogito.examples</groupId>\n+  <artifactId>sw-quarkus-greeting</artifactId>\n+\n+  <name>Kogito Example :: Serverless Workflow :: Greeting</name>\n+  <description>Greeting service</description>\n+\n+  <dependencyManagement>\n+    <dependencies>\n+      <dependency>\n+        <groupId>org.kie.kogito</groupId>\n+        <artifactId>kogito-quarkus-bom</artifactId>\n+        <version>${project.version}</version>\n+        <type>pom</type>\n+        <scope>import</scope>\n+      </dependency>\n+    </dependencies>\n+  </dependencyManagement>\n+\n+  <dependencies>\n+    <dependency>\n+      <groupId>org.kie.kogito</groupId>\n+      <artifactId>kogito-quarkus</artifactId>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>io.quarkus</groupId>\n+      <artifactId>quarkus-resteasy</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>io.quarkus</groupId>\n+      <artifactId>quarkus-arc</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>io.quarkus</groupId>\n+      <artifactId>quarkus-jsonb</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>io.quarkus</groupId>\n+      <artifactId>quarkus-jsonp</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>io.quarkus</groupId>\n+      <artifactId>quarkus-smallrye-openapi</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>com.jayway.jsonpath</groupId>\n+      <artifactId>json-path</artifactId>\n+      <version>${version.jayway.jsonpath}</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4993ce17ec6c77fed1b1ed321f9deb1285f33898"}, "originalPosition": 60}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12b1a70eca519395436f2723bcdc295c55b4e091", "author": {"user": null}, "url": "https://github.com/kiegroup/kogito-examples/commit/12b1a70eca519395436f2723bcdc295c55b4e091", "committedDate": "2020-04-08T12:31:54Z", "message": "KOGITO-1120 - Create simple 'greeting' example (kogito + serverless workflow)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "099a0dd1e0a1467def1f8845f53825972338041e", "author": {"user": null}, "url": "https://github.com/kiegroup/kogito-examples/commit/099a0dd1e0a1467def1f8845f53825972338041e", "committedDate": "2020-04-08T12:31:54Z", "message": "fixed typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "496cd2b5bfe6bb9525a7bb3b72cf2fd2d6563073", "author": {"user": null}, "url": "https://github.com/kiegroup/kogito-examples/commit/496cd2b5bfe6bb9525a7bb3b72cf2fd2d6563073", "committedDate": "2020-04-08T12:33:33Z", "message": "Updated examples to latest serverless runtime"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba0d04e6c31550d08994a9303285416b95a10c94", "author": {"user": null}, "url": "https://github.com/kiegroup/kogito-examples/commit/ba0d04e6c31550d08994a9303285416b95a10c94", "committedDate": "2020-04-08T12:33:33Z", "message": "updated example to also add switch state"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f279a68fcf9b2491687ef15a60fa98e4d34c704", "author": {"user": null}, "url": "https://github.com/kiegroup/kogito-examples/commit/5f279a68fcf9b2491687ef15a60fa98e4d34c704", "committedDate": "2020-04-08T12:33:33Z", "message": "fixing spanish spelling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "445ee6986008f2419ffc2b4bcf3715727a3cdf4a", "author": {"user": null}, "url": "https://github.com/kiegroup/kogito-examples/commit/445ee6986008f2419ffc2b4bcf3715727a3cdf4a", "committedDate": "2020-04-08T12:48:32Z", "message": "Renamed according to latest master changes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b8e74cb160ef74c8c3704f6dc894dad3ae790aeb", "author": {"user": null}, "url": "https://github.com/kiegroup/kogito-examples/commit/b8e74cb160ef74c8c3704f6dc894dad3ae790aeb", "committedDate": "2020-04-06T19:08:12Z", "message": "fixing spanish spelling"}, "afterCommit": {"oid": "445ee6986008f2419ffc2b4bcf3715727a3cdf4a", "author": {"user": null}, "url": "https://github.com/kiegroup/kogito-examples/commit/445ee6986008f2419ffc2b4bcf3715727a3cdf4a", "committedDate": "2020-04-08T12:48:32Z", "message": "Renamed according to latest master changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5OTUxOTk2", "url": "https://github.com/kiegroup/kogito-examples/pull/170#pullrequestreview-389951996", "createdAt": "2020-04-08T13:03:21Z", "commit": {"oid": "445ee6986008f2419ffc2b4bcf3715727a3cdf4a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMTY5Nzc5", "url": "https://github.com/kiegroup/kogito-examples/pull/170#pullrequestreview-390169779", "createdAt": "2020-04-08T17:10:16Z", "commit": {"oid": "445ee6986008f2419ffc2b4bcf3715727a3cdf4a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNzoxMDoxNlrOGC41_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNzoxMDoxNlrOGC41_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY4MTY2MQ==", "bodyText": "I don't see any logs running the curl commands.\nI ran the app using mvn clean package quarkus:dev\ncan you please check ?", "url": "https://github.com/kiegroup/kogito-examples/pull/170#discussion_r405681661", "createdAt": "2020-04-08T17:10:16Z", "author": {"login": "radtriste"}, "path": "serverless-workflow-greeting-quarkus/README.md", "diffHunk": "@@ -0,0 +1,148 @@\n+# Kogito Serverless Workflow - Greeting Example\n+\n+## Description\n+\n+This example contains two simple greeting workflow services. \n+The services are described using both JSON and YAML formats as defined in the \n+[CNCF Serverless Workflow specification](https://github.com/cncf/wg-serverless/tree/master/workflow/spec).\n+\n+The workflow expects as JSON input containing the name of the person to greet, and the language in \n+which to greet them in\n+(see details in the [Submit a request](#Submit-a-request) section).\n+\n+The workflow starts with a SWICH state, which is like a gateway. The switch state \n+decides which language to greet the person in based on the workflow input \"language\" parameter.\n+Depending on the language the workflow then injects the language-based greeting via RELAY states.\n+Relay states are just \"pass\" states which do no execute any functions and only have the ability\n+to inject data into the workflow.\n+The relay states then transition to the OPERATION state which call a \"sysout\" function passing it \n+input parameter containing the greeting and the name of the person to greet: \"$.greeting $.name\".\n+The function then prints out the greeting to the console.\n+\n+## Installing and Running\n+\n+### Prerequisites\n+ \n+You will need:\n+  - Java 11+ installed\n+  - Environment variable JAVA_HOME set accordingly\n+  - Maven 3.6.2+ installed\n+\n+When using native image compilation, you will also need: \n+  - [GraalVm](https://www.graalvm.org/downloads/) 19.3.1+ installed\n+  - Environment variable GRAALVM_HOME set accordingly\n+  - Note that GraalVM native image compilation typically requires other packages (glibc-devel, zlib-devel and gcc) to be installed too.  You also need 'native-image' installed in GraalVM (using 'gu install native-image'). Please refer to [GraalVM installation documentation](https://www.graalvm.org/docs/reference-manual/aot-compilation/#prerequisites) for more details.\n+\n+### Compile and Run in Local Dev Mode\n+\n+```text\n+mvn clean package quarkus:dev    \n+```\n+\n+### Compile and Run in JVM mode\n+\n+```text\n+mvn clean package \n+java -jar target/sw-quarkus-greeting-{version}-runner.jar    \n+```\n+\n+or on windows\n+\n+```text\n+mvn clean package\n+java -jar target\\sw-quarkus-greeting-{version}-runner.jar\n+```\n+\n+### Compile and Run using Local Native Image\n+Note that this requires GRAALVM_HOME to point to a valid GraalVM installation\n+\n+```text\n+mvn clean package -Pnative\n+```\n+  \n+To run the generated native executable, generated in `target/`, execute\n+\n+```text\n+./target/sw-quarkus-greeting-{version}-runner\n+```\n+\n+### Submit a request\n+\n+The service based on the JSON workflow definition can be access by sending a request to http://localhost:8080/jsongreet'\n+with following content \n+\n+```json\n+{\n+  \"workflowdata\": {\n+   \"name\" : \"John\",\n+   \"language\": \"English\"\n+  }\n+}\n+```\n+\n+Complete curl command can be found below:\n+\n+```text\n+curl -X POST -H 'Content-Type:application/json' -H 'Accept:application/json' -d '{\"workflowdata\" : {\"name\": \"John\", \"language\": \"English\"}}' http://localhost:8080/jsongreet\n+```\n+\n+Log after curl executed:\n+\n+```text\n+{\"id\":\"541a5363-1667-4f6d-a8b4-1299eba81eac\",\"workflowdata\":{\"name\":\"John\",\"language\":\"English\",\"greeting\":\"Hello from JSON Workflow, \"}}\n+```\n+\n+In Quarkus you should see the log message printed:\n+\n+```text\n+Hello from JSON Workflow, John", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "445ee6986008f2419ffc2b4bcf3715727a3cdf4a"}, "originalPosition": 98}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwNTYzNzA3", "url": "https://github.com/kiegroup/kogito-examples/pull/170#pullrequestreview-390563707", "createdAt": "2020-04-09T07:49:24Z", "commit": {"oid": "445ee6986008f2419ffc2b4bcf3715727a3cdf4a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwODc2Mzkw", "url": "https://github.com/kiegroup/kogito-examples/pull/170#pullrequestreview-390876390", "createdAt": "2020-04-09T15:02:46Z", "commit": {"oid": "445ee6986008f2419ffc2b4bcf3715727a3cdf4a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4568, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}