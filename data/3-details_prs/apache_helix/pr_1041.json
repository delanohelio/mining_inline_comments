{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1MzcwMzM1", "number": 1041, "title": "Change the error message to be meaningful naming", "bodyText": "Issues\n\n My PR addresses the following Helix issues and references them in the PR description:\n\nDescription\n\n Here are some details about my PR, including screenshots of any UI changes:\n\nChange the error message to be meaningful result. People see \"CustomPartition:partition_1\" may not understand what's going on.\nTests\n\n\n The following tests are written for this issue:\n\n\n The following is the result of the \"mvn test\" command on the appropriate module:\n\n\n[INFO] Tests run: 160, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 53.001 s - in TestSuite\n[INFO]\n[INFO] Results:\n[INFO]\n[INFO] Tests run: 160, Failures: 0, Errors: 0, Skipped: 0\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 01:00 min\n[INFO] Finished at: 2020-05-29T16:18:04-07:00\n[INFO] Final Memory: 30M/824M\n[INFO] ------------------------------------------------------------------------\nCommits\n\n My commits all reference appropriate Apache Helix GitHub issues in their subject lines. In addition, my commits follow the guidelines from \"How to write a good git commit message\":\n\nSubject is separated from body by a blank line\nSubject is limited to 50 characters (not including Jira issue reference)\nSubject does not end with a period\nSubject uses the imperative mood (\"add\", not \"adding\")\nBody wraps at 72 characters\nBody explains \"what\" and \"why\", not \"how\"\n\n\n\nDocumentation (Optional)\n\n In case of new functionality, my PR adds documentation in the following wiki page:\n\n(Link the GitHub wiki you added)\nCode Quality\n\n My diff has been formatted using helix-style.xml\n(helix-style-intellij.xml if IntelliJ IDE is used)", "createdAt": "2020-05-29T23:10:54Z", "url": "https://github.com/apache/helix/pull/1041", "merged": true, "mergeCommit": {"oid": "b226eb9f916270238e6f08972eff5bf41027fdb7"}, "closed": true, "closedAt": "2020-06-04T03:57:28Z", "author": {"login": "junkaixue"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcmSgqHAFqTQyMTM4Nzk2MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnjCIYAFqTQyMzIzODQ2Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMzg3OTYw", "url": "https://github.com/apache/helix/pull/1041#pullrequestreview-421387960", "createdAt": "2020-05-30T08:09:10Z", "commit": {"oid": "f2e1e223b5399e40df43568b4606826b5a9d7427"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQwODowOToxMFrOGcxVSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQwODowOToxMFrOGcxVSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyMTU3Ng==", "bodyText": "There are other fields in the response json as below.\n{\n  \"instance_stoppable_parallel\" : [ ],\n  \"instance_not_stoppable_with_reasons\" : {\n    \"localhost_8080\": [\n        \"CustomPartition:partion1\",\n        \"CustomPartition:partition2\"\n    ]\n  }\n}\n\n{\n  \"instance_stoppable_parallel\" : [ ],\n  \"instance_not_stoppable_with_reasons\" : {\n    \"localhost_8080\" : [ \"CustomInstance:localhost_8080\" ]\n  }\n}\n\nShall we make the keys format consistent: custom_health_failure_instance: ? (_instance at the end indicates the value is an instance. And add a space after colon :?) It looks more consistent and clearer to me.\n{\n  \"instance_stoppable_parallel\" : [ ],\n  \"instance_not_stoppable_with_reasons\" : {\n    \"localhost_8080\": [\n        \"custom_health_failure_partition: partion1\",\n        \"custom_health_failure_partition: partition2\"\n    ]\n  }\n}\n\nJust a thought: not sure if we have to consider backward-compatibility: if some tools are parsing the json response to determine stoppable, this change will break the tools. Internal code search doesn't show such code usage.", "url": "https://github.com/apache/helix/pull/1041#discussion_r432821576", "createdAt": "2020-05-30T08:09:10Z", "author": {"login": "huizhilu"}, "path": "helix-rest/src/main/java/org/apache/helix/rest/server/json/instance/StoppableCheck.java", "diffHunk": "@@ -30,8 +30,8 @@\n   // Category to differentiate which step the check fails\n   public enum Category {\n     HELIX_OWN_CHECK(\"Helix:\"),\n-    CUSTOM_INSTANCE_CHECK(\"CustomInstance:\"),\n-    CUSTOM_PARTITION_CHECK(\"CustomPartition:\");\n+    CUSTOM_INSTANCE_CHECK(\"CustomInstanceHealthFailure:\"),\n+    CUSTOM_PARTITION_CHECK(\"CustomPartitionHealthFailure:\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2e1e223b5399e40df43568b4606826b5a9d7427"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db54e3d753146a2e423109806a8f59933c2bcbc0", "author": {"user": {"login": "junkaixue", "name": "Junkai Xue"}}, "url": "https://github.com/apache/helix/commit/db54e3d753146a2e423109806a8f59933c2bcbc0", "committedDate": "2020-06-01T18:23:23Z", "message": "Change the error message to be meaningful naming"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f2e1e223b5399e40df43568b4606826b5a9d7427", "author": {"user": {"login": "junkaixue", "name": "Junkai Xue"}}, "url": "https://github.com/apache/helix/commit/f2e1e223b5399e40df43568b4606826b5a9d7427", "committedDate": "2020-05-29T23:04:59Z", "message": "Change the error message to be meaningful naming"}, "afterCommit": {"oid": "db54e3d753146a2e423109806a8f59933c2bcbc0", "author": {"user": {"login": "junkaixue", "name": "Junkai Xue"}}, "url": "https://github.com/apache/helix/commit/db54e3d753146a2e423109806a8f59933c2bcbc0", "committedDate": "2020-06-01T18:23:23Z", "message": "Change the error message to be meaningful naming"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMjM4NDYz", "url": "https://github.com/apache/helix/pull/1041#pullrequestreview-423238463", "createdAt": "2020-06-03T05:57:59Z", "commit": {"oid": "db54e3d753146a2e423109806a8f59933c2bcbc0"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwNTo1Nzo1OVrOGeNE7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwNTo1Nzo1OVrOGeNE7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDMyNDcxNw==", "bodyText": "Do you think lower case would be more consistent with other fields and easier to read? Adding a space after colon is clearer?", "url": "https://github.com/apache/helix/pull/1041#discussion_r434324717", "createdAt": "2020-06-03T05:57:59Z", "author": {"login": "huizhilu"}, "path": "helix-rest/src/main/java/org/apache/helix/rest/server/json/instance/StoppableCheck.java", "diffHunk": "@@ -29,9 +29,9 @@\n public class StoppableCheck {\n   // Category to differentiate which step the check fails\n   public enum Category {\n-    HELIX_OWN_CHECK(\"Helix:\"),\n-    CUSTOM_INSTANCE_CHECK(\"CustomInstance:\"),\n-    CUSTOM_PARTITION_CHECK(\"CustomPartition:\");\n+    HELIX_OWN_CHECK(\"HELIX:\"),\n+    CUSTOM_INSTANCE_CHECK(\"CUSTOM_INSTANCE_HEALTH_FAILURE:\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db54e3d753146a2e423109806a8f59933c2bcbc0"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4418, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}