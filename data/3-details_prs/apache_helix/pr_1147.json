{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4NjMyNzA3", "number": 1147, "title": "Remove legacy duplicate metric classes in helix-core", "bodyText": "Issues\n\n My PR addresses the following Helix issues and references them in the PR description:\n\nFixes #1146\nDescription\n\n Here are some details about my PR, including screenshots of any UI changes:\n\nAs part of ZooKeeper API separation initiative, most metric-related classes were moved to metrics-common module. However, there were some that were left in helix-core for backward-compatibility purposes, but these were causing class conflicts at runtime. This change removes such classes.\nTests\n\n The following tests are written for this issue:\n\nNo tests written.\n\n The following is the result of the \"mvn test\" command on the appropriate module:\n\nzookeeper-api:\n[INFO] Tests run: 37, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 51.075 s - in TestSuite\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 37, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  54.857 s\n[INFO] Finished at: 2020-07-13T21:24:50-07:00\n[INFO] ------------------------------------------------------------------------\n\nhelix-core:\n[INFO] Results:\n[INFO] \n[ERROR] Failures: \n[ERROR]   TestEnableCompression.testEnableCompressionResource:117 expected:<true> but was:<false>\n[ERROR]   TestControllerLeadershipChange.testMissingTopStateDurationMonitoring:262 expected:<true> but was:<false>\n[ERROR]   TestRebalanceRunningTask.testFixedTargetTaskAndEnabledRebalanceAndNodeAdded:330 expected:<true> but was:<false>\n[INFO] \n[ERROR] Tests run: 1152, Failures: 3, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n\nFailures were ran individually:\n[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 50.368 s - in TestSuite\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n\nCommits\n\n My commits all reference appropriate Apache Helix GitHub issues in their subject lines. In addition, my commits follow the guidelines from \"How to write a good git commit message\":\n\nSubject is separated from body by a blank line\nSubject is limited to 50 characters (not including Jira issue reference)\nSubject does not end with a period\nSubject uses the imperative mood (\"add\", not \"adding\")\nBody wraps at 72 characters\nBody explains \"what\" and \"why\", not \"how\"\n\n\n\nCode Quality\n\n My diff has been formatted using helix-style.xml\n(helix-style-intellij.xml if IntelliJ IDE is used)", "createdAt": "2020-07-14T04:18:13Z", "url": "https://github.com/apache/helix/pull/1147", "merged": true, "mergeCommit": {"oid": "90840f48eb1ede6ace06a6b30cb0fe2dfd02a210"}, "closed": true, "closedAt": "2020-07-15T19:11:24Z", "author": {"login": "narendly"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0uIz2AH2gAyNDQ4NjMyNzA3OjQxMjlmYmUzN2JkODAyMzYyNDJiMTFmZmY4MGE5ODk0NTA5NGRmODk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc07MKvAFqTQ0ODQwMDU4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4129fbe37bd80236242b11fff80a98945094df89", "author": {"user": {"login": "narendly", "name": "Hunter Lee"}}, "url": "https://github.com/apache/helix/commit/4129fbe37bd80236242b11fff80a98945094df89", "committedDate": "2020-07-14T04:15:24Z", "message": "Remove legacy duplicate metric classes in helix-core\n\nAs part of ZooKeeper API separation initiative, most metric-related classes were moved to metrics-common module. However, there were some that were left in helix-core for backward-compatibility purposes, but these were causing class conflicts at runtime. This change removes such classes."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3ODA3NTg2", "url": "https://github.com/apache/helix/pull/1147#pullrequestreview-447807586", "createdAt": "2020-07-14T05:56:52Z", "commit": {"oid": "4129fbe37bd80236242b11fff80a98945094df89"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwNTo1Njo1MlrOGxFQFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwNTo1Njo1MlrOGxFQFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDExOTQ0NA==", "bodyText": "I think the template is one line between the imports and the code, no?", "url": "https://github.com/apache/helix/pull/1147#discussion_r454119444", "createdAt": "2020-07-14T05:56:52Z", "author": {"login": "jiajunwang"}, "path": "helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java", "diffHunk": "@@ -31,6 +31,7 @@\n import org.apache.helix.monitoring.mbeans.dynamicMBeans.HistogramDynamicMetric;\n import org.apache.helix.monitoring.mbeans.dynamicMBeans.SimpleDynamicMetric;\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4129fbe37bd80236242b11fff80a98945094df89"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12c7b970ded99726bec86951d4569a3fd95859ec", "author": {"user": {"login": "narendly", "name": "Hunter Lee"}}, "url": "https://github.com/apache/helix/commit/12c7b970ded99726bec86951d4569a3fd95859ec", "committedDate": "2020-07-14T18:09:31Z", "message": "Remove lines"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NDAwNTgz", "url": "https://github.com/apache/helix/pull/1147#pullrequestreview-448400583", "createdAt": "2020-07-14T19:27:50Z", "commit": {"oid": "12c7b970ded99726bec86951d4569a3fd95859ec"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4553, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}