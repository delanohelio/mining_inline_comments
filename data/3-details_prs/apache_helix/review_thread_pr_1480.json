{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3OTMyNTE5", "number": 1480, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQwMDozNDowNlrOEwjTfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQwMDozNDowNlrOEwjTfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5MzQ1NTM0OnYy", "diffSide": "RIGHT", "path": "helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQwMDozNDowNlrOHmMdKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQwMzo1MTo1NFrOHmPn4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTgxMjAxMQ==", "bodyText": "Just have one suggestion. There are many duplicated pieces with previous function. Can we abstract it as a private function and called in both public method?", "url": "https://github.com/apache/helix/pull/1480#discussion_r509812011", "createdAt": "2020-10-22T00:34:06Z", "author": {"login": "junkaixue"}, "path": "helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java", "diffHunk": "@@ -157,6 +158,50 @@ public RealmAwareZkClient getRealmAwareZkClient() {\n     return _zkClient;\n   }\n \n+  /**\n+   * Returns a RealmAWareZkClient with ByteArraySerializer with double-checked locking.\n+   * NOTE: this is different from getRealmAwareZkClient in that it does not reset listeners for\n+   * _zkClientForListener because this RealmAwareZkClient is independent from routing data changes.\n+   * @return\n+   */\n+  public RealmAwareZkClient getByteArrayRealmAwareZkClient() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29cf37253f77381656535101be40cb8a2cd46c45"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTgxOTE3OA==", "bodyText": "+1, the only difference is the serializer, right?", "url": "https://github.com/apache/helix/pull/1480#discussion_r509819178", "createdAt": "2020-10-22T01:00:33Z", "author": {"login": "jiajunwang"}, "path": "helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java", "diffHunk": "@@ -157,6 +158,50 @@ public RealmAwareZkClient getRealmAwareZkClient() {\n     return _zkClient;\n   }\n \n+  /**\n+   * Returns a RealmAWareZkClient with ByteArraySerializer with double-checked locking.\n+   * NOTE: this is different from getRealmAwareZkClient in that it does not reset listeners for\n+   * _zkClientForListener because this RealmAwareZkClient is independent from routing data changes.\n+   * @return\n+   */\n+  public RealmAwareZkClient getByteArrayRealmAwareZkClient() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTgxMjAxMQ=="}, "originalCommit": {"oid": "29cf37253f77381656535101be40cb8a2cd46c45"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTg2MzkwNw==", "bodyText": "I agree with the suggestions made here. This PR has been updated with the refactor. @jiajunwang the serializer is not the only thing that differs, but I pulled some trick to make it work to cut down on duplication.", "url": "https://github.com/apache/helix/pull/1480#discussion_r509863907", "createdAt": "2020-10-22T03:51:54Z", "author": {"login": "narendly"}, "path": "helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java", "diffHunk": "@@ -157,6 +158,50 @@ public RealmAwareZkClient getRealmAwareZkClient() {\n     return _zkClient;\n   }\n \n+  /**\n+   * Returns a RealmAWareZkClient with ByteArraySerializer with double-checked locking.\n+   * NOTE: this is different from getRealmAwareZkClient in that it does not reset listeners for\n+   * _zkClientForListener because this RealmAwareZkClient is independent from routing data changes.\n+   * @return\n+   */\n+  public RealmAwareZkClient getByteArrayRealmAwareZkClient() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTgxMjAxMQ=="}, "originalCommit": {"oid": "29cf37253f77381656535101be40cb8a2cd46c45"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1041, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}