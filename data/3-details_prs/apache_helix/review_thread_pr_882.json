{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1OTMyNDE4", "number": 882, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxODoxMjoxMFrODmzGjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNzo0ODozNlrODn7BZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMDA5NzQyOnYy", "diffSide": "RIGHT", "path": "helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxODoxMjoxMFrOF0bH2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQyMDozOTo1NVrOF1IT2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUxNDY0OQ==", "bodyText": "Can you have another PR like Molly's work? The update/delete for a cloudConfig is working on update/delete entry of the CloudConfig.", "url": "https://github.com/apache/helix/pull/882#discussion_r390514649", "createdAt": "2020-03-10T18:12:10Z", "author": {"login": "junkaixue"}, "path": "helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java", "diffHunk": "@@ -617,10 +630,6 @@ public Response updateCloudConfig(@PathParam(\"clusterId\") String clusterId,\n     }\n     try {\n       switch (command) {\n-      case delete: {\n-        admin.removeCloudConfig(clusterId);\n-      }\n-      break;\n       case update: {\n         try {\n           CloudConfig cloudConfig = new CloudConfig.Builder(record).build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "993290cdde029546bcd039a9635c05c95d84ce27"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI1NTAwMQ==", "bodyText": "I will do new PR for update/delete the entries.", "url": "https://github.com/apache/helix/pull/882#discussion_r391255001", "createdAt": "2020-03-11T20:39:55Z", "author": {"login": "alirezazamani"}, "path": "helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java", "diffHunk": "@@ -617,10 +630,6 @@ public Response updateCloudConfig(@PathParam(\"clusterId\") String clusterId,\n     }\n     try {\n       switch (command) {\n-      case delete: {\n-        admin.removeCloudConfig(clusterId);\n-      }\n-      break;\n       case update: {\n         try {\n           CloudConfig cloudConfig = new CloudConfig.Builder(record).build();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUxNDY0OQ=="}, "originalCommit": {"oid": "993290cdde029546bcd039a9635c05c95d84ce27"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMDA5OTIxOnYy", "diffSide": "RIGHT", "path": "helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxODoxMjozOVrOF0bI9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQyMDo0MDo0MVrOF1IVhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUxNDkzNA==", "bodyText": "Move the logic to configAccessor.", "url": "https://github.com/apache/helix/pull/882#discussion_r390514934", "createdAt": "2020-03-10T18:12:39Z", "author": {"login": "junkaixue"}, "path": "helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java", "diffHunk": "@@ -584,6 +584,19 @@ public Response getCloudConfig(@PathParam(\"clusterId\") String clusterId) {\n     return notFound();\n   }\n \n+  @DELETE\n+  @Path(\"{clusterId}/cloudconfig\")\n+  public Response deleteCloudConfig(@PathParam(\"clusterId\") String clusterId) {\n+    HelixZkClient zkClient = getHelixZkClient();\n+    if (!ZKUtil.isClusterSetup(clusterId, zkClient)) {\n+      return notFound();\n+    }\n+\n+    HelixAdmin admin = getHelixAdmin();\n+    admin.removeCloudConfig(clusterId);\n+    return OK();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "993290cdde029546bcd039a9635c05c95d84ce27"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI1NDc4OQ==", "bodyText": "Done.", "url": "https://github.com/apache/helix/pull/882#discussion_r391254789", "createdAt": "2020-03-11T20:39:29Z", "author": {"login": "alirezazamani"}, "path": "helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java", "diffHunk": "@@ -584,6 +584,19 @@ public Response getCloudConfig(@PathParam(\"clusterId\") String clusterId) {\n     return notFound();\n   }\n \n+  @DELETE\n+  @Path(\"{clusterId}/cloudconfig\")\n+  public Response deleteCloudConfig(@PathParam(\"clusterId\") String clusterId) {\n+    HelixZkClient zkClient = getHelixZkClient();\n+    if (!ZKUtil.isClusterSetup(clusterId, zkClient)) {\n+      return notFound();\n+    }\n+\n+    HelixAdmin admin = getHelixAdmin();\n+    admin.removeCloudConfig(clusterId);\n+    return OK();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUxNDkzNA=="}, "originalCommit": {"oid": "993290cdde029546bcd039a9635c05c95d84ce27"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI1NTQzMQ==", "bodyText": "I also changed the tests accordingly.", "url": "https://github.com/apache/helix/pull/882#discussion_r391255431", "createdAt": "2020-03-11T20:40:41Z", "author": {"login": "alirezazamani"}, "path": "helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java", "diffHunk": "@@ -584,6 +584,19 @@ public Response getCloudConfig(@PathParam(\"clusterId\") String clusterId) {\n     return notFound();\n   }\n \n+  @DELETE\n+  @Path(\"{clusterId}/cloudconfig\")\n+  public Response deleteCloudConfig(@PathParam(\"clusterId\") String clusterId) {\n+    HelixZkClient zkClient = getHelixZkClient();\n+    if (!ZKUtil.isClusterSetup(clusterId, zkClient)) {\n+      return notFound();\n+    }\n+\n+    HelixAdmin admin = getHelixAdmin();\n+    admin.removeCloudConfig(clusterId);\n+    return OK();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUxNDkzNA=="}, "originalCommit": {"oid": "993290cdde029546bcd039a9635c05c95d84ce27"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzMTg4MDY4OnYy", "diffSide": "RIGHT", "path": "helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNzo0ODozNlrOF2NCqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxODowODo0MVrOF2NpHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjM4MTA5OA==", "bodyText": "This is not necessary.", "url": "https://github.com/apache/helix/pull/882#discussion_r392381098", "createdAt": "2020-03-13T17:48:36Z", "author": {"login": "junkaixue"}, "path": "helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java", "diffHunk": "@@ -584,6 +584,15 @@ public Response getCloudConfig(@PathParam(\"clusterId\") String clusterId) {\n     return notFound();\n   }\n \n+  @DELETE\n+  @Path(\"{clusterId}/cloudconfig\")\n+  public Response deleteCloudConfig(@PathParam(\"clusterId\") String clusterId) {\n+    HelixZkClient zkClient = getHelixZkClient();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40aca9d854f4ecd89759b5e5a42297a8603f0f28"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjM5MDk0MQ==", "bodyText": "Done.", "url": "https://github.com/apache/helix/pull/882#discussion_r392390941", "createdAt": "2020-03-13T18:08:41Z", "author": {"login": "alirezazamani"}, "path": "helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java", "diffHunk": "@@ -584,6 +584,15 @@ public Response getCloudConfig(@PathParam(\"clusterId\") String clusterId) {\n     return notFound();\n   }\n \n+  @DELETE\n+  @Path(\"{clusterId}/cloudconfig\")\n+  public Response deleteCloudConfig(@PathParam(\"clusterId\") String clusterId) {\n+    HelixZkClient zkClient = getHelixZkClient();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjM4MTA5OA=="}, "originalCommit": {"oid": "40aca9d854f4ecd89759b5e5a42297a8603f0f28"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1366, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}