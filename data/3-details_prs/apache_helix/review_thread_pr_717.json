{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5ODY5MTUx", "number": 717, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMDoyNjo1OVrODc0mcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMDoyNjo1OVrODc0mcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNTQ4NTMwOnYy", "diffSide": "RIGHT", "path": "helix-rest/src/test/java/org/apache/helix/rest/server/AbstractTestClass.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMDoyNjo1OVrOFlEmgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMTowNToyOFrOFlFNgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQxNzAyNQ==", "bodyText": "Question: In the test suit, where do we set MULTI_ZK_PROPERTY_KEY and NUM_ZK_PROPERTY_KEY?", "url": "https://github.com/apache/helix/pull/717#discussion_r374417025", "createdAt": "2020-02-04T00:26:59Z", "author": {"login": "alirezazamani"}, "path": "helix-rest/src/test/java/org/apache/helix/rest/server/AbstractTestClass.java", "diffHunk": "@@ -149,20 +155,43 @@ public void clearupLogs() {\n   @Override\n   protected Application configure() {\n     // start zk\n+    _zkServerMap = new HashMap<>();\n     try {\n       if (_zkServer == null) {\n         _zkServer = TestHelper.startZkServer(ZK_ADDR);\n-        Assert.assertTrue(_zkServer != null);\n+        Assert.assertNotNull(_zkServer);\n+        _zkServerMap.put(ZK_ADDR, _zkServer);\n         ZKClientPool.reset();\n       }\n \n       if (_zkServerTestNS == null) {\n         _zkServerTestNS = TestHelper.startZkServer(_zkAddrTestNS);\n-        Assert.assertTrue(_zkServerTestNS != null);\n+        Assert.assertNotNull(_zkServerTestNS);\n+        _zkServerMap.put(_zkAddrTestNS, _zkServerTestNS);\n         ZKClientPool.reset();\n       }\n     } catch (Exception e) {\n-      Assert.assertTrue(false, String.format(\"Failed to start ZK server: %s\", e.toString()));\n+      Assert.fail(String.format(\"Failed to start ZK server: %s\", e.toString()));\n+    }\n+\n+    // Start additional ZKs in a multi-ZK setup\n+    String multiZkConfig = System.getProperty(MULTI_ZK_PROPERTY_KEY);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f664bdc2fcd4594acdf7c3392e8bad0ac2c4ea72"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQyNzAwOA==", "bodyText": "pom.xml. That change is in the other PR (for helix-core).", "url": "https://github.com/apache/helix/pull/717#discussion_r374427008", "createdAt": "2020-02-04T01:05:28Z", "author": {"login": "narendly"}, "path": "helix-rest/src/test/java/org/apache/helix/rest/server/AbstractTestClass.java", "diffHunk": "@@ -149,20 +155,43 @@ public void clearupLogs() {\n   @Override\n   protected Application configure() {\n     // start zk\n+    _zkServerMap = new HashMap<>();\n     try {\n       if (_zkServer == null) {\n         _zkServer = TestHelper.startZkServer(ZK_ADDR);\n-        Assert.assertTrue(_zkServer != null);\n+        Assert.assertNotNull(_zkServer);\n+        _zkServerMap.put(ZK_ADDR, _zkServer);\n         ZKClientPool.reset();\n       }\n \n       if (_zkServerTestNS == null) {\n         _zkServerTestNS = TestHelper.startZkServer(_zkAddrTestNS);\n-        Assert.assertTrue(_zkServerTestNS != null);\n+        Assert.assertNotNull(_zkServerTestNS);\n+        _zkServerMap.put(_zkAddrTestNS, _zkServerTestNS);\n         ZKClientPool.reset();\n       }\n     } catch (Exception e) {\n-      Assert.assertTrue(false, String.format(\"Failed to start ZK server: %s\", e.toString()));\n+      Assert.fail(String.format(\"Failed to start ZK server: %s\", e.toString()));\n+    }\n+\n+    // Start additional ZKs in a multi-ZK setup\n+    String multiZkConfig = System.getProperty(MULTI_ZK_PROPERTY_KEY);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQxNzAyNQ=="}, "originalCommit": {"oid": "f664bdc2fcd4594acdf7c3392e8bad0ac2c4ea72"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1578, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}