{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxMzk4MjYz", "number": 4500, "title": "Actually disable concurrency limiting.", "bodyText": "Goals (and why):\nClientOptions currently has a field for clientQos to disable it. But the factory method #serverListToClient used by AtlasDB clients (so clients of timelock) did not actually propagate that setting to com.palantir.conjure.java.client.config.ClientConfiguration. Meaning that since this codepath became the default, concurrency limiting has been enabled. Timelock itself does not send 429s, but concurrency limiters also have an adaptive mechanism, where they slowly release new permits: effectively slowing us down, where we know we don't want this for timelock.\nTherefore, the code was simply incomplete.\nImplementation Description (bullets):\nTesting (What was existing testing like?  What have you done to improve it?):\nConcerns (what feedback would you like?):\nWhere should we start reviewing?:\nPriority (whenever / two weeks / yesterday):", "createdAt": "2020-01-10T11:05:08Z", "url": "https://github.com/palantir/atlasdb/pull/4500", "merged": true, "mergeCommit": {"oid": "cfa7c01ec2191463095b1e54985f0c565623bd7b"}, "closed": true, "closedAt": "2020-01-10T11:42:23Z", "author": {"login": "jkozlowski"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb48gxJgH2gAyMzYxMzk4MjYzOmFiYzZkMjRhMTg0MTg0ZTE3ZTJiNjE3OTE3ZTE0ZGFiMTFmY2ZmNTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb486S8AH2gAyMzYxMzk4MjYzOjIzNDYxY2IxODFhOGZhZDljYTIwMjM1YmY4MGRmNGJmY2IxN2ZmMGE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "abc6d24a184184e17e2b617917e14dab11fcff59", "author": {"user": {"login": "jkozlowski", "name": "Jakub Kozlowski"}}, "url": "https://github.com/palantir/atlasdb/commit/abc6d24a184184e17e2b617917e14dab11fcff59", "committedDate": "2020-01-10T11:04:47Z", "message": "Actually disable concurrency limiting."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1ddb050b72054a17d52ed28e68e1ece3526c71a", "author": {"user": {"login": "jkozlowski", "name": "Jakub Kozlowski"}}, "url": "https://github.com/palantir/atlasdb/commit/a1ddb050b72054a17d52ed28e68e1ece3526c71a", "committedDate": "2020-01-10T11:04:47Z", "message": "Add generated changelog entries"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxMDk0OTQ4", "url": "https://github.com/palantir/atlasdb/pull/4500#pullrequestreview-341094948", "createdAt": "2020-01-10T11:05:40Z", "commit": {"oid": "abc6d24a184184e17e2b617917e14dab11fcff59"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxMDk4OTUx", "url": "https://github.com/palantir/atlasdb/pull/4500#pullrequestreview-341098951", "createdAt": "2020-01-10T11:14:03Z", "commit": {"oid": "a1ddb050b72054a17d52ed28e68e1ece3526c71a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQxMToxNDowM1rOFcRNDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQxMToxNDowM1rOFcRNDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTE4NjMxOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              description: Actually disable concurrency limiting.\n          \n          \n            \n              description: Actually disable concurrency limiting for connections to Timelock.", "url": "https://github.com/palantir/atlasdb/pull/4500#discussion_r365186318", "createdAt": "2020-01-10T11:14:03Z", "author": {"login": "felixdesouza"}, "path": "changelog/@unreleased/pr-4500.v2.yml", "diffHunk": "@@ -0,0 +1,5 @@\n+type: improvement\n+improvement:\n+  description: Actually disable concurrency limiting.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1ddb050b72054a17d52ed28e68e1ece3526c71a"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23461cb181a8fad9ca20235bf80df4bfcb17ff0a", "author": {"user": {"login": "jkozlowski", "name": "Jakub Kozlowski"}}, "url": "https://github.com/palantir/atlasdb/commit/23461cb181a8fad9ca20235bf80df4bfcb17ff0a", "committedDate": "2020-01-10T11:32:40Z", "message": "Update changelog/@unreleased/pr-4500.v2.yml\n\nCo-Authored-By: Felix de Souza <fdesouza@palantir.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2358, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}