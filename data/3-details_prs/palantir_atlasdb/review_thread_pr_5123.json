{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0MTk4NDgz", "number": 5123, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMzoyODo1NFrOE7ilaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNDoxMjo1NlrOE-Aq0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwODY4MDcyOnYy", "diffSide": "RIGHT", "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/AtlasDbConstants.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMzoyODo1NFrOH3Pp-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMzoyODo1NFrOH3Pp-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY5MDIzNQ==", "bodyText": "Can we actually just bump this to 16?", "url": "https://github.com/palantir/atlasdb/pull/5123#discussion_r527690235", "createdAt": "2020-11-20T13:28:54Z", "author": {"login": "Jolyon-S"}, "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/AtlasDbConstants.java", "diffHunk": "@@ -150,7 +150,8 @@ private AtlasDbConstants() {\n \n     public static final boolean DEFAULT_ENABLE_SWEEP_QUEUE_WRITES = true;\n     public static final boolean DEFAULT_ENABLE_TARGETED_SWEEP = true;\n-    public static final int DEFAULT_SWEEP_QUEUE_SHARDS = 1;\n+    public static final int LEGACY_DEFAULT_TARGETED_SWEEP_SHARDS = 1;\n+    public static final int DEFAULT_TARGETED_SWEEP_SHARDS = 8;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f662b67563083117b60feb0cf97abab0b036bffa"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNDU4MTI4OnYy", "diffSide": "RIGHT", "path": "atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/ShardProgress.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNDoxMjo1NlrOH6_zHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNDoxMjo1NlrOH6_zHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYyNDczNQ==", "bodyText": "\ud83d\udc4d  for the defensiveness", "url": "https://github.com/palantir/atlasdb/pull/5123#discussion_r531624735", "createdAt": "2020-11-27T14:12:56Z", "author": {"login": "gmaretic"}, "path": "atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/ShardProgress.java", "diffHunk": "@@ -52,7 +52,9 @@ public ShardProgress(KeyValueService kvs) {\n      * Returns the persisted number of shards for the sweep queue.\n      */\n     public int getNumberOfShards() {\n-        return maybeGet(SHARD_COUNT_SAS).map(Long::intValue).orElse(AtlasDbConstants.DEFAULT_SWEEP_QUEUE_SHARDS);\n+        return maybeGet(SHARD_COUNT_SAS)\n+                .map(Long::intValue)\n+                .orElse(AtlasDbConstants.LEGACY_DEFAULT_TARGETED_SWEEP_SHARDS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f662b67563083117b60feb0cf97abab0b036bffa"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2506, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}