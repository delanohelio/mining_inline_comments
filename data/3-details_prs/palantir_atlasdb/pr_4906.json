{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUzMjgyODI2", "number": 4906, "title": "[TimeLock blue-green] PingV2 | ping gets version of timeLock on remote server with leader info", "bodyText": "Goals (and why):\nTo have pingV2 endpoint that returns the version of TimeLock server is running along with isLeader boolean.\nImplementation Description (bullets):\n\n\nAdd new endpoint -pingV2 that returns (version, isLeader)\n\n\nRefactor to have timeLock version through the flow\n\n\nTesting (What was existing testing like?  What have you done to improve it?):\n\nTBD\n\nConcerns (what feedback would you like?):\n\nAPI breaking changes\n\nWhere should we start reviewing?:\n\nPingableLeader, TimeLockAgent, TransactionManagers\n\nPriority (whenever / two weeks / yesterday):\n\nTomorrow", "createdAt": "2020-07-20T10:06:22Z", "url": "https://github.com/palantir/atlasdb/pull/4906", "merged": true, "mergeCommit": {"oid": "f6d41b09dcb27216600b297e73ceb86a6a91876e"}, "closed": true, "closedAt": "2020-07-29T13:40:29Z", "author": {"login": "sudiksha27"}, "timelineItems": {"totalCount": 35, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2wahIAFqTQ1MTU0MjMxMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5q6rMAFqTQ1NzUxMjQyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNTQyMzEy", "url": "https://github.com/palantir/atlasdb/pull/4906#pullrequestreview-451542312", "createdAt": "2020-07-20T12:02:23Z", "commit": {"oid": "735d08f1d57a5c64af0060dfd91475984a841983"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMjowMjoyM1rOG0IlnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMjowMjoyM1rOG0IlnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzMxOTgzNg==", "bodyText": "The default should be an identifier that should tell that cluster is not on / moving away from blue greening and leadership should not be snatched because of version diff in this case.", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r457319836", "createdAt": "2020-07-20T12:02:23Z", "author": {"login": "sudiksha27"}, "path": "atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java", "diffHunk": "@@ -245,6 +245,11 @@ boolean allSafeForLogging() {\n         return false;\n     }\n \n+    @Value.Default\n+    String timeLockVersion() {\n+        return \"0.0.0\";\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "735d08f1d57a5c64af0060dfd91475984a841983"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NTExMzEz", "url": "https://github.com/palantir/atlasdb/pull/4906#pullrequestreview-456511313", "createdAt": "2020-07-28T10:40:49Z", "commit": {"oid": "c167ba6e208692a0166d1b4db4b067a7f15fd89f"}, "state": "COMMENTED", "comments": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMDo0MDo0OVrOG4G4MA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMzozMjowMlrOG4MtOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4NjEyOA==", "bodyText": "Hmm, I don't think we need to rename this chain of methods (unless there's something I'm missing?) - the fact that a version is requested as a parameter should be enough", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r461486128", "createdAt": "2020-07-28T10:40:49Z", "author": {"login": "jeremyk-91"}, "path": "atlasdb-config/src/main/java/com/palantir/atlasdb/factory/Leaders.java", "diffHunk": "@@ -83,10 +83,25 @@ public static LocalPaxosServices createAndRegisterLocalServices(\n             MetricsManager metricsManager,\n             Consumer<Object> env,\n             LeaderConfig config,\n-            Supplier<LeaderRuntimeConfig> runtime,\n             UserAgent userAgent) {\n-        LocalPaxosServices localPaxosServices = createInstrumentedLocalServices(\n-                metricsManager, config, userAgent);\n+        return createAndRegisterLocalServicesWithVersion(\n+                metricsManager,\n+                env,\n+                config,\n+                userAgent,\n+                Optional.empty());\n+    }\n+\n+    public static LocalPaxosServices createAndRegisterLocalServicesWithVersion(MetricsManager metricsManager,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c167ba6e208692a0166d1b4db4b067a7f15fd89f"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4NzIyNw==", "bodyText": "We should discuss this in person: there is no reason for TransactionManagers to have a TimeLock version (at least right now), as TimeLock doesn't create a transaction manager - and even if it did we would not be using the leader or remote blocks.", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r461487227", "createdAt": "2020-07-28T10:43:08Z", "author": {"login": "jeremyk-91"}, "path": "atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java", "diffHunk": "@@ -245,6 +245,8 @@ boolean allSafeForLogging() {\n         return false;\n     }\n \n+    abstract Optional<OrderableSlsVersion> timeLockVersion();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c167ba6e208692a0166d1b4db4b067a7f15fd89f"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4NzQ2Ng==", "bodyText": "nit: unused?", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r461487466", "createdAt": "2020-07-28T10:43:39Z", "author": {"login": "jeremyk-91"}, "path": "atlasdb-config/src/test/java/com/palantir/atlasdb/factory/TransactionManagersTest.java", "diffHunk": "@@ -144,6 +143,7 @@\n     private static final UserAgent USER_AGENT = UserAgent.of(UserAgent.Agent.of(USER_AGENT_NAME, USER_AGENT_VERSION));\n     private static final String EXPECTED_USER_AGENT_STRING = UserAgents.format(USER_AGENT);\n     private static final String USER_AGENT_HEADER = \"User-Agent\";\n+    private static final String TIMELOCK_VERSION = \"0.0.0\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c167ba6e208692a0166d1b4db4b067a7f15fd89f"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4Nzc2OQ==", "bodyText": "I'd write this the other way: the primary goal of the endpoint is still returning information about leadership status", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r461487769", "createdAt": "2020-07-28T10:44:15Z", "author": {"login": "jeremyk-91"}, "path": "changelog/@unreleased/pr-4906.v2.yml", "diffHunk": "@@ -0,0 +1,6 @@\n+type: feature\n+feature:\n+  description: New api endpoint - pingV2 is added. It returns the version of TimeLock\n+    on remote server along with information regarding leadership status of the server.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c167ba6e208692a0166d1b4db4b067a7f15fd89f"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4ODEzNg==", "bodyText": "nit: It is probably worth JavaDoc explaining what this object is, especially its semantics in non-TimeLock contexts.", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r461488136", "createdAt": "2020-07-28T10:44:57Z", "author": {"login": "jeremyk-91"}, "path": "leader-election-api/src/main/java/com/palantir/leader/PingResult.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * (c) Copyright 2020 Palantir Technologies Inc. All rights reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.palantir.leader;\n+\n+import java.util.Optional;\n+\n+import org.immutables.value.Value;\n+\n+import com.palantir.sls.versions.OrderableSlsVersion;\n+\n+@Value.Immutable\n+public interface PingResult {\n+    boolean isLeader();\n+    Optional<OrderableSlsVersion> timeLockVersion();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c167ba6e208692a0166d1b4db4b067a7f15fd89f"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4ODQ2MQ==", "bodyText": "nit: As above, I think the \"am I the leader?\" is the core piece of information, not the version.", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r461488461", "createdAt": "2020-07-28T10:45:33Z", "author": {"login": "jeremyk-91"}, "path": "leader-election-api/src/main/java/com/palantir/leader/PingableLeader.java", "diffHunk": "@@ -45,4 +45,16 @@\n     @SuppressWarnings(\"checkstyle:AbbreviationAsWordInName\") // Avoiding API break\n     @Timed\n     String getUUID();\n+\n+    /**\n+     * If this call returns then the server is reachable.\n+     *\n+     * @return string version of TimeLock on remote server with boolean to represent if the\n+     * server thinks it is the leader or not", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c167ba6e208692a0166d1b4db4b067a7f15fd89f"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3NTA5Ng==", "bodyText": "nit: unused", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r461575096", "createdAt": "2020-07-28T13:23:03Z", "author": {"login": "jeremyk-91"}, "path": "timelock-impl/src/test/java/com/palantir/atlasdb/timelock/paxos/PaxosStateLogMigrationIntegrationTest.java", "diffHunk": "@@ -50,6 +51,7 @@\n     private static final long LATEST_ROUND_BEFORE_MIGRATING = 100;\n     private static final long CUTOFF = LATEST_ROUND_BEFORE_MIGRATING - PaxosStateLogMigrator.SAFETY_BUFFER;\n     private static final long ROUND_BEFORE_CUTOFF = CUTOFF - 1;\n+    private static final String TIMELOCK_VERSION = \"0.0.0\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c167ba6e208692a0166d1b4db4b067a7f15fd89f"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3NTI3Mw==", "bodyText": "nit: unused\nI think I see what you were trying to do here \ud83d\ude05", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r461575273", "createdAt": "2020-07-28T13:23:18Z", "author": {"login": "jeremyk-91"}, "path": "timelock-impl/src/test/java/com/palantir/atlasdb/timelock/paxos/PaxosTimestampBoundStoreTest.java", "diffHunk": "@@ -82,6 +83,7 @@\n             ImmutableSequenceAndBound.of(1, FORTY_TWO);\n \n     private static final RuntimeException EXCEPTION = new RuntimeException(\"exception\");\n+    private static final String TIMELOCK_VERSION = \"0.0.0\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c167ba6e208692a0166d1b4db4b067a7f15fd89f"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3NjMxNQ==", "bodyText": "I think as with the other class, it's probably fine to overload this - no need to say withVersion", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r461576315", "createdAt": "2020-07-28T13:24:52Z", "author": {"login": "jeremyk-91"}, "path": "timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalPaxosComponents.java", "diffHunk": "@@ -96,8 +98,29 @@ public static LocalPaxosComponents createWithBlockingMigration(\n             DataSource sqliteDataSource,\n             UUID leaderUuid,\n             boolean canCreateNewClients) {\n-        LocalPaxosComponents components = new LocalPaxosComponents(metrics, paxosUseCase, legacyLogDirectory,\n-                sqliteDataSource, leaderUuid, canCreateNewClients);\n+        return createWithBlockingMigrationWithVersion(metrics,\n+                paxosUseCase,\n+                legacyLogDirectory,\n+                sqliteDataSource,\n+                leaderUuid,\n+                canCreateNewClients,\n+                Optional.empty());\n+    }\n+\n+    public static LocalPaxosComponents createWithBlockingMigrationWithVersion(TimelockPaxosMetrics metrics,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c167ba6e208692a0166d1b4db4b067a7f15fd89f"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3OTY2NA==", "bodyText": "Maybe premature: In practice, there are only two possible versions of this result on each TimeLock server. Thus, I'd propose interning the results to improve perf.", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r461579664", "createdAt": "2020-07-28T13:29:31Z", "author": {"login": "jeremyk-91"}, "path": "leader-election-api/src/main/java/com/palantir/leader/PingResult.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * (c) Copyright 2020 Palantir Technologies Inc. All rights reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.palantir.leader;\n+\n+import java.util.Optional;\n+\n+import org.immutables.value.Value;\n+\n+import com.palantir.sls.versions.OrderableSlsVersion;\n+\n+@Value.Immutable\n+public interface PingResult {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c167ba6e208692a0166d1b4db4b067a7f15fd89f"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU4MTYyNw==", "bodyText": "I'd suggest we just put the version in the installation context (together with things like the user agent and cluster addresses).", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r461581627", "createdAt": "2020-07-28T13:32:02Z", "author": {"login": "jeremyk-91"}, "path": "timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/PaxosResourcesFactory.java", "diffHunk": "@@ -60,10 +61,27 @@ public static PaxosResources create(\n             MetricsManager metrics,\n             Supplier<PaxosRuntimeConfiguration> paxosRuntime,\n             ExecutorService sharedExecutor) {\n+        return createWithVersion(install,\n+                metrics,\n+                paxosRuntime,\n+                sharedExecutor,\n+                Optional.empty());\n+    }\n+\n+    public static PaxosResources createWithVersion(TimelockPaxosInstallationContext install,\n+            MetricsManager metrics,\n+            Supplier<PaxosRuntimeConfiguration> paxosRuntime,\n+            ExecutorService sharedExecutor,\n+            Optional<OrderableSlsVersion> timeLockVersion) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c167ba6e208692a0166d1b4db4b067a7f15fd89f"}, "originalPosition": 23}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f016a36dc46120d6c355f99babfa2a40a6a949bb", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/f016a36dc46120d6c355f99babfa2a40a6a949bb", "committedDate": "2020-07-28T19:26:19Z", "message": "Add generated changelog entries"}, "afterCommit": {"oid": "a58915e3118c8da175bc687ccd86815f8f9129b0", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/a58915e3118c8da175bc687ccd86815f8f9129b0", "committedDate": "2020-07-28T21:46:11Z", "message": "Checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MzY4ODYy", "url": "https://github.com/palantir/atlasdb/pull/4906#pullrequestreview-457368862", "createdAt": "2020-07-29T09:53:17Z", "commit": {"oid": "629833f70647880d8cf216f6323255b41a3ecc60"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOTo1MzoxN1rOG4xNiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOTo1NjowNlrOG4xT7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE3OTcyMw==", "bodyText": "nit: I'd write this as the current version of TimeLock that the server is on if this ping result came from a TimeLock server, and empty otherwise. (Imagine deployments of large internal product where TimeLock is running, but there is a separate cluster also running leader election.)", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r462179723", "createdAt": "2020-07-29T09:53:17Z", "author": {"login": "jeremyk-91"}, "path": "leader-election-api/src/main/java/com/palantir/leader/PingResult.java", "diffHunk": "@@ -0,0 +1,42 @@\n+/*\n+ * (c) Copyright 2020 Palantir Technologies Inc. All rights reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.palantir.leader;\n+\n+import java.util.Optional;\n+\n+import org.immutables.value.Value;\n+\n+import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n+import com.fasterxml.jackson.databind.annotation.JsonSerialize;\n+import com.palantir.sls.versions.OrderableSlsVersion;\n+\n+@Value.Immutable(intern = true)\n+@JsonSerialize(as = ImmutablePingResult.class)\n+@JsonDeserialize(as = ImmutablePingResult.class)\n+public interface PingResult {\n+    boolean isLeader();\n+\n+    /**\n+     * @return The current version of TimeLock that server is on\n+     * if TimeLock service is running, empty otherwise.\n+     */\n+    Optional<OrderableSlsVersion> timeLockVersion();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "629833f70647880d8cf216f6323255b41a3ecc60"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE4MDQ3NA==", "bodyText": "Since this is timelock-agent, why not make it compulsory?", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r462180474", "createdAt": "2020-07-29T09:54:35Z", "author": {"login": "jeremyk-91"}, "path": "timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/PaxosResourcesFactory.java", "diffHunk": "@@ -265,6 +269,9 @@ private static PaxosResources configureLeaderForAllClients(\n         @Value.Parameter\n         TimeLockDialogueServiceProvider dialogueServiceProvider();\n \n+        @Value.Parameter\n+        Optional<OrderableSlsVersion> timeLockVersion();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "629833f70647880d8cf216f6323255b41a3ecc60"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE4MTM1Nw==", "bodyText": "As above, I think if you're making a TimeLockAgent it's fine for this to be compulsory.\n(For the Benchmark Server and the test server here, you can use the AtlasDB version, perhaps?)", "url": "https://github.com/palantir/atlasdb/pull/4906#discussion_r462181357", "createdAt": "2020-07-29T09:56:06Z", "author": {"login": "jeremyk-91"}, "path": "timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java", "diffHunk": "@@ -90,19 +91,20 @@\n     private LeaderPingHealthCheck healthCheck;\n     private TimelockNamespaces namespaces;\n \n-    public static TimeLockAgent create(\n-            MetricsManager metricsManager,\n+    public static TimeLockAgent create(MetricsManager metricsManager,\n             TimeLockInstallConfiguration install,\n             Supplier<TimeLockRuntimeConfiguration> runtime,\n             UserAgent userAgent,\n             int threadPoolSize,\n             long blockingTimeoutMs,\n             Consumer<Object> registrar,\n-            Optional<Consumer<UndertowService>> undertowRegistrar) {\n+            Optional<Consumer<UndertowService>> undertowRegistrar,\n+            Optional<OrderableSlsVersion> timeLockVersion) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "629833f70647880d8cf216f6323255b41a3ecc60"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "962986dbebc4f34bc20560ea20f1957bae22066f", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/962986dbebc4f34bc20560ea20f1957bae22066f", "committedDate": "2020-07-29T11:33:22Z", "message": "PingV2 | ping get version of timeLock on remote server with leader info"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06cd9f50650736807977a01101501fb41dc16898", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/06cd9f50650736807977a01101501fb41dc16898", "committedDate": "2020-07-29T11:33:22Z", "message": "clean default version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7247409bd322c6a35108efd2e09e100a94899445", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/7247409bd322c6a35108efd2e09e100a94899445", "committedDate": "2020-07-29T11:33:22Z", "message": "preserve public apis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e6c5148865223fd979f2a9efd85aca99c54e620", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/4e6c5148865223fd979f2a9efd85aca99c54e620", "committedDate": "2020-07-29T11:33:22Z", "message": "Preserve"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69848c4caba510a757b053b9bc161551e478a3bc", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/69848c4caba510a757b053b9bc161551e478a3bc", "committedDate": "2020-07-29T11:33:22Z", "message": "More refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "baecf725a208f8ce62a9e9f86933a98bfc45536c", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/baecf725a208f8ce62a9e9f86933a98bfc45536c", "committedDate": "2020-07-29T11:34:20Z", "message": "Refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f8568b82a0a48ea9daaee5c4b69b868225dc53b", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/7f8568b82a0a48ea9daaee5c4b69b868225dc53b", "committedDate": "2020-07-29T11:34:20Z", "message": "Add generated changelog entries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2079f13c75a7b6340cf38bf0b994d599ddb8aed7", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/2079f13c75a7b6340cf38bf0b994d599ddb8aed7", "committedDate": "2020-07-29T11:34:20Z", "message": "Refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a576d0e58a1da05343ddbaae9ebc1e4b845543a5", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/a576d0e58a1da05343ddbaae9ebc1e4b845543a5", "committedDate": "2020-07-29T11:34:20Z", "message": "nit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8d90a5def9d70f74313fb53e024668bb500659c", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/a8d90a5def9d70f74313fb53e024668bb500659c", "committedDate": "2020-07-29T11:34:20Z", "message": "Test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6dc7d05d527cb035f394c0a45d315302d25d376", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/b6dc7d05d527cb035f394c0a45d315302d25d376", "committedDate": "2020-07-29T11:34:20Z", "message": "sls version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1d89e115c1b64e933b52c8d6edccea0b199fbaa", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/f1d89e115c1b64e933b52c8d6edccea0b199fbaa", "committedDate": "2020-07-29T11:34:20Z", "message": "Version locks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c92177ff3c08d5477a493b67208dc7ec7fc395db", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/c92177ff3c08d5477a493b67208dc7ec7fc395db", "committedDate": "2020-07-29T11:34:20Z", "message": "Gradle dependency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ebb9de956a7cff29a64817782e5b9b55576fd7d", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/5ebb9de956a7cff29a64817782e5b9b55576fd7d", "committedDate": "2020-07-29T11:34:52Z", "message": "Refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d8ccafd8cd455ba4f6ec74244a798743296a273", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/6d8ccafd8cd455ba4f6ec74244a798743296a273", "committedDate": "2020-07-29T11:34:52Z", "message": "Fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed5c588cf25eb2693808b7b9138448baa8f13368", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/ed5c588cf25eb2693808b7b9138448baa8f13368", "committedDate": "2020-07-29T11:34:52Z", "message": "Remove redundant"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcee3df4e08f7a82b4c3e60e2e1bf14b6cadf8c8", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/fcee3df4e08f7a82b4c3e60e2e1bf14b6cadf8c8", "committedDate": "2020-07-29T11:34:52Z", "message": "Reorder dependency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c6f3faa6b4718d278936311799bd5ee31d72d06", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/7c6f3faa6b4718d278936311799bd5ee31d72d06", "committedDate": "2020-07-29T11:34:52Z", "message": "Address comments - 1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68dcf4a46317275904e019a73c71d0cf5d4e362d", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/68dcf4a46317275904e019a73c71d0cf5d4e362d", "committedDate": "2020-07-29T11:34:52Z", "message": "Address comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b25799a5f46015108de91ab941651db7c6791f8c", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/b25799a5f46015108de91ab941651db7c6791f8c", "committedDate": "2020-07-29T11:34:52Z", "message": "Java doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a2e1bc27a11d4ed74f1a6b6949aa155d2b85aa6", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/8a2e1bc27a11d4ed74f1a6b6949aa155d2b85aa6", "committedDate": "2020-07-29T11:34:52Z", "message": "Add generated changelog entries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "308d838cf1fc932baafce3f1400f6d732ee8b044", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/308d838cf1fc932baafce3f1400f6d732ee8b044", "committedDate": "2020-07-29T11:34:52Z", "message": "Checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2040ec0cace80ed8a648e7edac4bfa29084d2f8a", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/2040ec0cace80ed8a648e7edac4bfa29084d2f8a", "committedDate": "2020-07-29T11:34:52Z", "message": "Checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e0dd7c61da016ea6b96c70e3026d32c395de4f0", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/0e0dd7c61da016ea6b96c70e3026d32c395de4f0", "committedDate": "2020-07-29T11:34:52Z", "message": "Remove redundant code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "495da028552cf2def4348478f64f2e960f9f3ffc", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/495da028552cf2def4348478f64f2e960f9f3ffc", "committedDate": "2020-07-29T11:34:52Z", "message": "Version compulsory in TimeLock modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb91a8eb7fba65e76ba89fcca857d7b9c9b15283", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/bb91a8eb7fba65e76ba89fcca857d7b9c9b15283", "committedDate": "2020-07-29T11:34:52Z", "message": "Address comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "57c192206290b1cd6ff51ab939e1d9c0ed4697cf", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/57c192206290b1cd6ff51ab939e1d9c0ed4697cf", "committedDate": "2020-07-29T11:21:46Z", "message": "Address comments"}, "afterCommit": {"oid": "bb91a8eb7fba65e76ba89fcca857d7b9c9b15283", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/bb91a8eb7fba65e76ba89fcca857d7b9c9b15283", "committedDate": "2020-07-29T11:34:52Z", "message": "Address comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12a4342f96cdc116478b80c7139992a8b439d6e7", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/12a4342f96cdc116478b80c7139992a8b439d6e7", "committedDate": "2020-07-29T11:45:44Z", "message": "Fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4cc1ee8fb6834f02ee44ca0b2bec94e6622860a5", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/4cc1ee8fb6834f02ee44ca0b2bec94e6622860a5", "committedDate": "2020-07-29T11:57:01Z", "message": "Remove redundant code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78dd60c510b7124cccef50180273847b6b7764af", "author": {"user": {"login": "sudiksha27", "name": "sudiksha nanda"}}, "url": "https://github.com/palantir/atlasdb/commit/78dd60c510b7124cccef50180273847b6b7764af", "committedDate": "2020-07-29T12:10:09Z", "message": "Fix tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3NTEyNDI3", "url": "https://github.com/palantir/atlasdb/pull/4906#pullrequestreview-457512427", "createdAt": "2020-07-29T13:19:52Z", "commit": {"oid": "78dd60c510b7124cccef50180273847b6b7764af"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2752, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}