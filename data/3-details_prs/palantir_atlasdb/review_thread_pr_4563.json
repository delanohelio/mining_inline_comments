{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczNjQ0MDg4", "number": 4563, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMzowNDoyOFrODey3Hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMzowNTowNFrODey3vA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNjE3MTgyOnYy", "diffSide": "RIGHT", "path": "atlasdb-config/src/main/java/com/palantir/atlasdb/http/VersionSelectingClients.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMzowNDoyOFrOFoIISw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMzowNDoyOFrOFoIISw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYyMDU1NQ==", "bodyText": "Is ok, since useExperimental is true and useFallback false. Is not great, but maybe exploding if we get into this kind of state that we don't expect is possible is not the worst reaction.", "url": "https://github.com/palantir/atlasdb/pull/4563#discussion_r377620555", "createdAt": "2020-02-11T13:04:28Z", "author": {"login": "jeremyk-91"}, "path": "atlasdb-config/src/main/java/com/palantir/atlasdb/http/VersionSelectingClients.java", "diffHunk": "@@ -83,6 +84,19 @@ private VersionSelectingClients() {\n                 errorMetric::increment);\n     }\n \n+    static <T> T createRefreshingNewClient(\n+            Supplier<TargetFactory.InstanceAndVersion<T>> newClientSupplier,\n+            Class<T> clazz) {\n+\n+        return ExperimentRunningProxy.newProxyInstance(\n+                Suppliers.compose(TargetFactory.InstanceAndVersion::instance, newClientSupplier::get),\n+                null,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "459cbc0bc133c352827cd92fe35c1d6fdd9a85bc"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNjE3MzA3OnYy", "diffSide": "RIGHT", "path": "atlasdb-config/src/test/java/com/palantir/atlasdb/factory/LeadersTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMzowNDo1N1rOFoIJGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMzowNjoxOVrOFoILqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYyMDc2MQ==", "bodyText": "wat \ud83e\udd86", "url": "https://github.com/palantir/atlasdb/pull/4563#discussion_r377620761", "createdAt": "2020-02-11T13:04:57Z", "author": {"login": "jeremyk-91"}, "path": "atlasdb-config/src/test/java/com/palantir/atlasdb/factory/LeadersTest.java", "diffHunk": "@@ -116,7 +116,7 @@ public void createProxyAndLocalListCreatesSingletonListIfNoRemoteAddressesProvid\n         verifyNoMoreInteractions(localAcceptor);\n     }\n \n-    @Test(expected = IllegalStateException.class)\n+    @Test(expected = IllegalArgumentException.class)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b01eacdc683319c099a517aa56b0f4abe7fdd01"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYyMTQxOA==", "bodyText": "\ud83e\udd37\u200d\u2642 weird, I know", "url": "https://github.com/palantir/atlasdb/pull/4563#discussion_r377621418", "createdAt": "2020-02-11T13:06:19Z", "author": {"login": "felixdesouza"}, "path": "atlasdb-config/src/test/java/com/palantir/atlasdb/factory/LeadersTest.java", "diffHunk": "@@ -116,7 +116,7 @@ public void createProxyAndLocalListCreatesSingletonListIfNoRemoteAddressesProvid\n         verifyNoMoreInteractions(localAcceptor);\n     }\n \n-    @Test(expected = IllegalStateException.class)\n+    @Test(expected = IllegalArgumentException.class)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYyMDc2MQ=="}, "originalCommit": {"oid": "8b01eacdc683319c099a517aa56b0f4abe7fdd01"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNjE3MzQwOnYy", "diffSide": "RIGHT", "path": "changelog/@unreleased/pr-4563.v2.yml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMzowNTowNFrOFoIJTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMzowNTowNFrOFoIJTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYyMDgxNQ==", "bodyText": "nit: fix?", "url": "https://github.com/palantir/atlasdb/pull/4563#discussion_r377620815", "createdAt": "2020-02-11T13:05:04Z", "author": {"login": "jeremyk-91"}, "path": "changelog/@unreleased/pr-4563.v2.yml", "diffHunk": "@@ -0,0 +1,6 @@\n+type: improvement\n+improvement:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b01eacdc683319c099a517aa56b0f4abe7fdd01"}, "originalPosition": 2}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2295, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}