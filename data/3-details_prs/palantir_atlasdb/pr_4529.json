{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY1OTk2MTA0", "number": 4529, "title": "Reset the Cassandra cluster after runs of Single/DoubleNodeDown ETE Test", "bodyText": "Goals (and why):\nStarting in Cassandra 3.6, Cassandra detects and fails to start if a different node previously existed at the same IP address.\nThe Multi Cassandra tests kill the docker container and then start it up again with the same IP, which is not valid since the node is technically no longer the same node (killing the docker container wipes the data).\nImplementation Description (bullets):\nAt the end of each Multi Cassandra test, reset the state of the Cassandra cluster by killing all of the nodes and starting them back up again.\nTesting (What was existing testing like?  What have you done to improve it?):\nI tested this fix on top of the Cassandra 3 development branch to prove that it worked in both Cassandra 2 and 3.  This is just a test fix, so no impact to production systems.\nConcerns (what feedback would you like?):\nWhere should we start reviewing?:\nPriority (whenever / two weeks / yesterday):", "createdAt": "2020-01-22T18:18:18Z", "url": "https://github.com/palantir/atlasdb/pull/4529", "merged": true, "mergeCommit": {"oid": "b327d908e99e2550ac7791815f3c86050b159e9b"}, "closed": true, "closedAt": "2020-01-27T16:03:54Z", "author": {"login": "leonz"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb8547IgH2gAyMzY1OTk2MTA0OmI1OWI4OGZiOGRlNjMyZDc2N2IyNWJiY2M1OGQ4Mjg3N2RmZTE5MjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-e09hAH2gAyMzY1OTk2MTA0OmU1ZmYxMmMyYjI1NWVkZmQwNTY3ZTAxM2ViN2Q0MDcwYTkyNjU3Njk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b59b88fb8de632d767b25bbcc58d82877dfe1920", "author": {"user": {"login": "leonz", "name": "Leon Zaruvinsky"}}, "url": "https://github.com/palantir/atlasdb/commit/b59b88fb8de632d767b25bbcc58d82877dfe1920", "committedDate": "2020-01-22T18:17:09Z", "message": "Reset the Cassandra cluster after runs of Single/DoubleNodeDown ETE Test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e465375b6034f2ad7f990722b04198dae26c7730", "author": {"user": {"login": "leonz", "name": "Leon Zaruvinsky"}}, "url": "https://github.com/palantir/atlasdb/commit/e465375b6034f2ad7f990722b04198dae26c7730", "committedDate": "2020-01-22T18:04:41Z", "message": "Add generated changelog entries"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4NTYyMDE4", "url": "https://github.com/palantir/atlasdb/pull/4529#pullrequestreview-348562018", "createdAt": "2020-01-27T10:28:47Z", "commit": {"oid": "e465375b6034f2ad7f990722b04198dae26c7730"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxMDoyODo0N1rOFh98gA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxMDoyODo0N1rOFh98gA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTE2MjI0MA==", "bodyText": "nit: I think JavaDoc usually is\n/**\n * bla\n */\n\notherwise normally we'd just use /* rather than /** to open.", "url": "https://github.com/palantir/atlasdb/pull/4529#discussion_r371162240", "createdAt": "2020-01-27T10:28:47Z", "author": {"login": "jeremyk-91"}, "path": "atlasdb-ete-tests/src/test/java/com/palantir/atlasdb/ete/MultiCassandraUtils.java", "diffHunk": "@@ -30,6 +31,12 @@ private MultiCassandraUtils() {\n         // utility\n     }\n \n+    /** Kill all of the Cassandra containers and start them again.  This wipes all data on the nodes. */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e465375b6034f2ad7f990722b04198dae26c7730"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5ff12c2b255edfd0567e013eb7d4070a9265769", "author": {"user": {"login": "leonz", "name": "Leon Zaruvinsky"}}, "url": "https://github.com/palantir/atlasdb/commit/e5ff12c2b255edfd0567e013eb7d4070a9265769", "committedDate": "2020-01-27T15:53:14Z", "message": "Update MultiCassandraUtils.java"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2208, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}