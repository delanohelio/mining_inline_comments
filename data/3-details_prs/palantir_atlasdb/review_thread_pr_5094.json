{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0NjUyNzIz", "number": 5094, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMTowMTo1NVrOE0wZ1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMToyNTo0MVrOE0w6UQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNzU0NDU1OnYy", "diffSide": "RIGHT", "path": "lock-api/src/test/java/com/palantir/lock/client/LeaderElectionReportingTimelockServiceTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMTowMTo1NVrOHspxxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMTowMTo1NVrOHspxxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU4Mzg3Ng==", "bodyText": "the method to create from a UUID is not public.", "url": "https://github.com/palantir/atlasdb/pull/5094#discussion_r516583876", "createdAt": "2020-11-03T11:01:55Z", "author": {"login": "Jolyon-S"}, "path": "lock-api/src/test/java/com/palantir/lock/client/LeaderElectionReportingTimelockServiceTest.java", "diffHunk": "@@ -49,13 +55,17 @@\n import org.mockito.stubbing.OngoingStubbing;\n \n public class LeaderElectionReportingTimelockServiceTest {\n-    private static final UUID LEADER_1 = UUID.randomUUID();\n+    private static final LeaderTime LEADER_1_TIME = LeaderTime.of(LeadershipId.random(), NanoTime.createForTests(999L));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5d7783a25fb03d844e00fce3fb6e71e92a11755"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNzYyNzY5OnYy", "diffSide": "RIGHT", "path": "lock-api/src/test/java/com/palantir/lock/client/LeaderElectionReportingTimelockServiceTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMToyNTo0MVrOHsqkRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMTo0MTo0MlrOHsrFRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU5NjgwNQ==", "bodyText": "a bit leaky, but I don't really have a better suggestion.", "url": "https://github.com/palantir/atlasdb/pull/5094#discussion_r516596805", "createdAt": "2020-11-03T11:25:41Z", "author": {"login": "jeremyk-91"}, "path": "lock-api/src/test/java/com/palantir/lock/client/LeaderElectionReportingTimelockServiceTest.java", "diffHunk": "@@ -302,6 +335,11 @@ public void detectWhenOldLeaderBecomesLongTerm() {\n         assertExpectedDuration(Instant.ofEpochMilli(3L), Instant.ofEpochMilli(15L));\n     }\n \n+    private void verifyEndpointRunsWithTiming(Runnable endpointCall) {\n+        endpointCall.run();\n+        verify(mockedClock, times(2)).instant();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5d7783a25fb03d844e00fce3fb6e71e92a11755"}, "originalPosition": 87}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjYwNTI1NQ==", "bodyText": "I totally agree with both sentiments here :)", "url": "https://github.com/palantir/atlasdb/pull/5094#discussion_r516605255", "createdAt": "2020-11-03T11:41:42Z", "author": {"login": "Jolyon-S"}, "path": "lock-api/src/test/java/com/palantir/lock/client/LeaderElectionReportingTimelockServiceTest.java", "diffHunk": "@@ -302,6 +335,11 @@ public void detectWhenOldLeaderBecomesLongTerm() {\n         assertExpectedDuration(Instant.ofEpochMilli(3L), Instant.ofEpochMilli(15L));\n     }\n \n+    private void verifyEndpointRunsWithTiming(Runnable endpointCall) {\n+        endpointCall.run();\n+        verify(mockedClock, times(2)).instant();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU5NjgwNQ=="}, "originalCommit": {"oid": "b5d7783a25fb03d844e00fce3fb6e71e92a11755"}, "originalPosition": 87}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2473, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}