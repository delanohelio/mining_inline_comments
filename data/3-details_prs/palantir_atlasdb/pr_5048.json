{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2MTA5ODg0", "number": 5048, "title": "Update error-prone configuration", "bodyText": "Disable relaxed errors rather than switching to WARN", "createdAt": "2020-10-19T16:25:45Z", "url": "https://github.com/palantir/atlasdb/pull/5048", "merged": true, "mergeCommit": {"oid": "ab3a67e66edfc230b0edc8a512a34b052ab7c89c"}, "closed": true, "closedAt": "2020-10-19T22:02:51Z", "author": {"login": "carterkozak"}, "timelineItems": {"totalCount": 33, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUGz0WgFqTUxMTk0ODA5Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUKqalAFqTUxMjE1NTg2Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExOTQ4MDky", "url": "https://github.com/palantir/atlasdb/pull/5048#pullrequestreview-511948092", "createdAt": "2020-10-19T16:31:41Z", "commit": {"oid": "7c20488aa92200b3721d2cedfd4bed36687b11d7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjozMTo0MVrOHkXPNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjozMTo0MVrOHkXPNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg5MTUwOA==", "bodyText": "Do we actually want to disable? I tend to grep the (error|warning): from build log to fix these up", "url": "https://github.com/palantir/atlasdb/pull/5048#discussion_r507891508", "createdAt": "2020-10-19T16:31:41Z", "author": {"login": "schlosna"}, "path": "build.gradle", "diffHunk": "@@ -106,17 +106,9 @@ allprojects {\n         }\n     }\n \n-    plugins.withId('com.palantir.baseline-error-prone', {\n-        tasks.withType(JavaCompile).configureEach {\n-            options.errorprone.disableWarningsInGeneratedCode = true\n-            options.errorprone.errorproneArgs.addAll([\n-                '-XepDisableWarningsInGeneratedCode',\n-                '-XepExcludedPaths:.*(generated).*',\n-            ])\n-\n-            // temporarily relax constraints until we can fix all violations\n-            Set<String> errorsToRelax = [\n-                'CatchBlockLogException',\n+    tasks.withType(JavaCompile) {\n+        // temporarily relax constraints until we can fix all violations\n+        options.errorprone.disable 'CatchBlockLogException',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c20488aa92200b3721d2cedfd4bed36687b11d7"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9820b54f3633f6a6f6a543d46bad8835e1fa1cc6", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/9820b54f3633f6a6f6a543d46bad8835e1fa1cc6", "committedDate": "2020-10-19T16:35:24Z", "message": "Update error-prone configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c063ef124e6ababb43be55454cbaf77e0c192da", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/1c063ef124e6ababb43be55454cbaf77e0c192da", "committedDate": "2020-10-19T16:35:24Z", "message": "Fix PreferCollectionConstructors\n\n```\n./gradlew compileJava compileTestJava -PerrorProneApply=PreferCollectionConstructors\n./gradlew format\n```"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3db5c4b8a34ab0d6ea328f716f47fae60e0e17d", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/a3db5c4b8a34ab0d6ea328f716f47fae60e0e17d", "committedDate": "2020-10-19T16:35:24Z", "message": "Fix BracesRequired\n\n`./gradlew compileJava compileTestJava -PerrorProneApply=BracesRequired && ./gradlew format`"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7c20488aa92200b3721d2cedfd4bed36687b11d7", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/7c20488aa92200b3721d2cedfd4bed36687b11d7", "committedDate": "2020-10-19T16:23:57Z", "message": "Update error-prone configuration"}, "afterCommit": {"oid": "a3db5c4b8a34ab0d6ea328f716f47fae60e0e17d", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/a3db5c4b8a34ab0d6ea328f716f47fae60e0e17d", "committedDate": "2020-10-19T16:35:24Z", "message": "Fix BracesRequired\n\n`./gradlew compileJava compileTestJava -PerrorProneApply=BracesRequired && ./gradlew format`"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e477b412c139671f7afa91bff2664829bd146d2a", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/e477b412c139671f7afa91bff2664829bd146d2a", "committedDate": "2020-10-19T16:40:43Z", "message": "Fix LoggerEnclosingClass\n\n`./gradlew compileJava compileTestJava -PerrorProneApply=LoggerEnclosingClass && ./gradlew format`"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83423168b99660b8325ec702b19717066512796b", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/83423168b99660b8325ec702b19717066512796b", "committedDate": "2020-10-19T16:54:05Z", "message": "Fix Slf4jLevelCheck\n\n```\n./gradlew compileJava compileTestJava -PerrorProneApply=Slf4jLevelCheck && ./gradlew format\n```"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd3eef4893087a1848e705c57e6a9e9f9e668d50", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/cd3eef4893087a1848e705c57e6a9e9f9e668d50", "committedDate": "2020-10-19T17:10:54Z", "message": "Fix ExecutorSubmitRunnableFutureIgnored"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70e5cea8147a793eb8d77afa17399b500e6927c9", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/70e5cea8147a793eb8d77afa17399b500e6927c9", "committedDate": "2020-10-19T17:38:45Z", "message": "Fix RedundantModifier"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51e3dc89f2b4391a3c63d3912a2644e0e3907b72", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/51e3dc89f2b4391a3c63d3912a2644e0e3907b72", "committedDate": "2020-10-19T17:41:51Z", "message": "Fix MissingOverride"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "047e2e3b19799c4f95d5c0a9db92382264ecebfe", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/047e2e3b19799c4f95d5c0a9db92382264ecebfe", "committedDate": "2020-10-19T17:43:47Z", "message": "Fix LambdaMethodReference"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95bc60000fd695aeecb83c9c7e45320b23351ae7", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/95bc60000fd695aeecb83c9c7e45320b23351ae7", "committedDate": "2020-10-19T17:45:30Z", "message": "Fix FinalClass"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20ceb22a9619efe61eb0b9d2e8889b38c9c8e0f6", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/20ceb22a9619efe61eb0b9d2e8889b38c9c8e0f6", "committedDate": "2020-10-19T17:48:43Z", "message": "silence StrictUnusedVariable to avoid losing other signal"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f401ddfacbab7ca81e3482e7048ebf5461d8a368", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/f401ddfacbab7ca81e3482e7048ebf5461d8a368", "committedDate": "2020-10-19T17:53:49Z", "message": "Fix PreferStaticLoggers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56c40c8adb35d32350d6798713b988162a43d87f", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/56c40c8adb35d32350d6798713b988162a43d87f", "committedDate": "2020-10-19T17:58:27Z", "message": "Fix UnnecessaryLambdaArgumentParentheses"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e92512de3e6a5c330fffadcbbdcf38a5e7217c66", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/e92512de3e6a5c330fffadcbbdcf38a5e7217c66", "committedDate": "2020-10-19T18:00:35Z", "message": "Fix BadImport"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5be08e32ddbe9e44952bc88f362327ce15546988", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/5be08e32ddbe9e44952bc88f362327ce15546988", "committedDate": "2020-10-19T18:02:52Z", "message": "Fix UnnecessaryParentheses"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a50a8bef3edbe197204347ebfffa33650801abd0", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/a50a8bef3edbe197204347ebfffa33650801abd0", "committedDate": "2020-10-19T18:09:29Z", "message": "remove unnecessary comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMDMyOTc3", "url": "https://github.com/palantir/atlasdb/pull/5048#pullrequestreview-512032977", "createdAt": "2020-10-19T18:11:21Z", "commit": {"oid": "20ceb22a9619efe61eb0b9d2e8889b38c9c8e0f6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxODoxMToyMVrOHkbnlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxODoxMToyMVrOHkbnlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk2MzI4NA==", "bodyText": "@schlosna I've disabled StrictUnusedVariable since it's responsible for the vast majority of compiler warning spam and we can attack it separately.", "url": "https://github.com/palantir/atlasdb/pull/5048#discussion_r507963284", "createdAt": "2020-10-19T18:11:21Z", "author": {"login": "carterkozak"}, "path": "build.gradle", "diffHunk": "@@ -124,8 +124,8 @@ allprojects {\n                 'ReturnValueIgnored',\n                 'SafeLoggingExceptionMessageFormat',\n                 'StreamOfEmpty',\n-                'StrictUnusedVariable',\n                 'ValidateConstantMessage'\n+        options.errorprone.disable 'StrictUnusedVariable'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20ceb22a9619efe61eb0b9d2e8889b38c9c8e0f6"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ef34631f228ee8acd8ca57475505331ec48b4e7", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/2ef34631f228ee8acd8ca57475505331ec48b4e7", "committedDate": "2020-10-19T18:20:52Z", "message": "Disable JdkObsolete for now to reduce compilation spam"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6087a650697107f85193a781593ead6333765213", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/6087a650697107f85193a781593ead6333765213", "committedDate": "2020-10-19T18:21:20Z", "message": "More FinalClass fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c105bad0609c43ea5ac35002d4fc50f35e6557d1", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/c105bad0609c43ea5ac35002d4fc50f35e6557d1", "committedDate": "2020-10-19T18:24:17Z", "message": "More MissingOverride"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31b0b187458db3433bb7d01c016aca3dc5569e06", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/31b0b187458db3433bb7d01c016aca3dc5569e06", "committedDate": "2020-10-19T18:39:46Z", "message": "Fix Incomparable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3aea09fab4afe88ba2b6da8c1570fcab7a1d7492", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/3aea09fab4afe88ba2b6da8c1570fcab7a1d7492", "committedDate": "2020-10-19T18:44:05Z", "message": "Fix CollectionStreamForEach"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e0c10881fdc80b67f71c7c67d61d967a84ac0a0", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/4e0c10881fdc80b67f71c7c67d61d967a84ac0a0", "committedDate": "2020-10-19T18:47:30Z", "message": "Fix StreamOfEmpty"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02c709a3ff6ea19af020a5297f0fe5b4349aa288", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/02c709a3ff6ea19af020a5297f0fe5b4349aa288", "committedDate": "2020-10-19T19:08:34Z", "message": "More LambdaMethodReference"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17b5119b311fd412ec51154e24ecbd355424ab0b", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/17b5119b311fd412ec51154e24ecbd355424ab0b", "committedDate": "2020-10-19T19:17:58Z", "message": "More BadImport"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd1674220f96a64ace31b8b1ce7f44acbbadf74f", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/fd1674220f96a64ace31b8b1ce7f44acbbadf74f", "committedDate": "2020-10-19T19:20:45Z", "message": "More ClassCanBeStatic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "970fa64d52e471c0aea89ca298cbf858693e8ced", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/970fa64d52e471c0aea89ca298cbf858693e8ced", "committedDate": "2020-10-19T19:42:57Z", "message": "Suppress PreferStaticLoggers in ProfilingTimelockServiceTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddd28e7faa7f228dbfcdf8ca4ded986bb7cd2d61", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/ddd28e7faa7f228dbfcdf8ca4ded986bb7cd2d61", "committedDate": "2020-10-19T19:43:13Z", "message": "Suppress static/final class on MaxTimestampsToGiveTimestampService\n\nRequired for mockito spies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cfb95f7af720ab68aa0b08858d324983a6ea3376", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/cfb95f7af720ab68aa0b08858d324983a6ea3376", "committedDate": "2020-10-19T19:47:19Z", "message": "Suppress PreferStaticLoggers in TimestampAllocationFailuresTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "549137863c351e21b285ee455b657cf4f93361fb", "author": {"user": {"login": "carterkozak", "name": "Carter Kozak"}}, "url": "https://github.com/palantir/atlasdb/commit/549137863c351e21b285ee455b657cf4f93361fb", "committedDate": "2020-10-19T20:06:59Z", "message": "format"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMTU1ODYz", "url": "https://github.com/palantir/atlasdb/pull/5048#pullrequestreview-512155863", "createdAt": "2020-10-19T21:01:06Z", "commit": {"oid": "549137863c351e21b285ee455b657cf4f93361fb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2668, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}