{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0MzczODU5", "number": 4677, "title": "The Wrath of Indonesia: JavaX -> Jakarta Migration", "bodyText": "Goals (and why):\n\nGet on latest version of conjure-java-runtime\n\nImplementation Description (bullets):\n\nUpgrade CJR versions.\nBut this has transitives that break: Tritium and Jersey classes\nAnd this has further transitives: Dropwizard and its role in testing\nAnd that has a transitive effect: WireMock\nThis PR resolves all of the aforementioned transitives. Thankfully the WireMock folks prepped a fat jar.\nI validated that we don't have cases where both JavaX and Jakarta things live on the classpath.\n\nTesting (What was existing testing like?  What have you done to improve it?):\n\nExisting tests, for general integrity of library stack\nI used baseline-class-uniqueness to validate that no JavaX and Jakarta things simultaneously live on the classpath. I did not leave it there as there were unrelated issues between AssertJ and ByteBuddy that I don't have the bandwidth to resolve right now.\n\nConcerns (what feedback would you like?):\n\nWhile the tests work, I still have a feeling that some of the HTTP stack stuff is risky, especially since we bumped Dropwizard through two major versions. The scary dependency-resolution problems I had would not affect prod code, so I'm a bit less worried, but that's worth validating.\n\nWhere should we start reviewing?: versions.props\nPriority (whenever / two weeks / yesterday): this week, if not in by tomorrow we should probably go with #4655 first", "createdAt": "2020-03-26T19:27:13Z", "url": "https://github.com/palantir/atlasdb/pull/4677", "merged": true, "mergeCommit": {"oid": "a8e39bd9088f3f11633b2a1561367503490a148e"}, "closed": true, "closedAt": "2020-03-27T18:38:14Z", "author": {"login": "jeremyk-91"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRclgNAH2gAyMzk0MzczODU5OjZkOGUyZTNiMjRhNjhlZDc1NWJlOGU4Nzk5OWM3ZWEyODRhYjI0MjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcR0InSAFqTM4MzA2MTgxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6d8e2e3b24a68ed755be8e87999c7ea284ab2424", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/6d8e2e3b24a68ed755be8e87999c7ea284ab2424", "committedDate": "2020-03-26T14:01:06Z", "message": "test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9b6e63a84caa2acb0c04d5ae02a3fc1821f349c", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/c9b6e63a84caa2acb0c04d5ae02a3fc1821f349c", "committedDate": "2020-03-26T14:01:37Z", "message": "http2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0dc8fdf8d665ce4c4bbb1f8a79ebad43321e46a", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/c0dc8fdf8d665ce4c4bbb1f8a79ebad43321e46a", "committedDate": "2020-03-26T14:26:26Z", "message": "Add jakarta"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f905b8e0b8c590b5136d33cc67fac3c64e86586e", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/f905b8e0b8c590b5136d33cc67fac3c64e86586e", "committedDate": "2020-03-26T14:30:02Z", "message": "No need to pin validation-api"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7bcfecc4054f60e9b86860535def1bc5c7c11b84", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/7bcfecc4054f60e9b86860535def1bc5c7c11b84", "committedDate": "2020-03-26T15:44:21Z", "message": "substitution hell"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aaf931a631516fdbd939b3fa540a9b52a979cd37", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/aaf931a631516fdbd939b3fa540a9b52a979cd37", "committedDate": "2020-03-26T16:11:04Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a88d00c74ec8cb5f39a5065002d13800216c1ca", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/3a88d00c74ec8cb5f39a5065002d13800216c1ca", "committedDate": "2020-03-26T16:27:11Z", "message": "argh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a339a15e892d74db6066bd409b9c0deb8666f94", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/0a339a15e892d74db6066bd409b9c0deb8666f94", "committedDate": "2020-03-26T16:40:36Z", "message": "aargh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c58cadb0c6ef8bf6c97ae27fb89ec6f1aea4b47d", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/c58cadb0c6ef8bf6c97ae27fb89ec6f1aea4b47d", "committedDate": "2020-03-26T17:45:30Z", "message": "Dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9926db1e6631901bd0ad931a2daa7b6d1f641c6c", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/9926db1e6631901bd0ad931a2daa7b6d1f641c6c", "committedDate": "2020-03-26T17:58:19Z", "message": "Revert"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e40c4f50b21377d9778a0df1db24df42a11e1892", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/e40c4f50b21377d9778a0df1db24df42a11e1892", "committedDate": "2020-03-26T18:13:36Z", "message": "This is probably a very bad idea"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0262168bd448c1e37f83a40b10c403fdd3eeb52f", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/0262168bd448c1e37f83a40b10c403fdd3eeb52f", "committedDate": "2020-03-26T18:27:16Z", "message": "Bad ideas"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eedf204d5769529bd2f6b5b36610e1f2432a4c34", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/eedf204d5769529bd2f6b5b36610e1f2432a4c34", "committedDate": "2020-03-26T19:00:40Z", "message": "Es ist schwer zu sagen..."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b87051e5ca51f963dc24f27c725a89ccc7bbe70a", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/b87051e5ca51f963dc24f27c725a89ccc7bbe70a", "committedDate": "2020-03-26T19:03:28Z", "message": "Remove BCU: verified that no jakarta/javax stuff is involved in conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a2eb7b2b9e95a29d11c553c8745c5ec420872be", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/6a2eb7b2b9e95a29d11c553c8745c5ec420872be", "committedDate": "2020-03-26T19:03:28Z", "message": "Add generated changelog entries"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNDQxNzcz", "url": "https://github.com/palantir/atlasdb/pull/4677#pullrequestreview-382441773", "createdAt": "2020-03-26T21:42:05Z", "commit": {"oid": "6a2eb7b2b9e95a29d11c553c8745c5ec420872be"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNzY5MjEy", "url": "https://github.com/palantir/atlasdb/pull/4677#pullrequestreview-382769212", "createdAt": "2020-03-27T11:16:27Z", "commit": {"oid": "6a2eb7b2b9e95a29d11c553c8745c5ec420872be"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxMToxNjoyOFrOF8s1DA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxMToxNjoyOFrOF8s1DA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTE5MzM1Ng==", "bodyText": "Will this not effectively cause a bump in version for anyone that consumes atlasdb?", "url": "https://github.com/palantir/atlasdb/pull/4677#discussion_r399193356", "createdAt": "2020-03-27T11:16:28Z", "author": {"login": "jkozlowski"}, "path": "versions.props", "diffHunk": "@@ -43,13 +44,17 @@ io.airlift:airline = 0.8\n io.atomix.catalyst:* = 1.1.2\n io.atomix.copycat:* = 1.2.0\n io.atomix:* = 1.0.0-rc9\n-io.dropwizard.metrics:metrics-* = 3.2.3\n+io.dropwizard.metrics:metrics-* = 4.1.5", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a2eb7b2b9e95a29d11c553c8745c5ec420872be"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "101038b517ae1c50ab3bcd11726b64856b30276d", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/101038b517ae1c50ab3bcd11726b64856b30276d", "committedDate": "2020-03-27T12:04:06Z", "message": "old metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7758793b4eab55ec442b2f88f1d82ba6ea471716", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/7758793b4eab55ec442b2f88f1d82ba6ea471716", "committedDate": "2020-03-27T12:27:26Z", "message": "bla"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ac5953578d4dfa305c8179afb9f14456eda26b0", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/0ac5953578d4dfa305c8179afb9f14456eda26b0", "committedDate": "2020-03-27T12:41:03Z", "message": "maybe:"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee793c5cbb9bb7f88883356d663ea76fdb6686d5", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/ee793c5cbb9bb7f88883356d663ea76fdb6686d5", "committedDate": "2020-03-27T12:57:34Z", "message": "blargh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8dd13c39bd01724a87533d6e31f7e34c9d6330f3", "author": {"user": {"login": "jeremyk-91", "name": "Jeremy Kong"}}, "url": "https://github.com/palantir/atlasdb/commit/8dd13c39bd01724a87533d6e31f7e34c9d6330f3", "committedDate": "2020-03-27T13:56:11Z", "message": "maybe?"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMDYxODEw", "url": "https://github.com/palantir/atlasdb/pull/4677#pullrequestreview-383061810", "createdAt": "2020-03-27T17:27:16Z", "commit": {"oid": "8dd13c39bd01724a87533d6e31f7e34c9d6330f3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3012, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}