{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxMzA3MjYy", "number": 4614, "title": "[LW] Add LW to conjure start transactions", "bodyText": "Goals (and why):\nStart transaction requests must specify a last known version for lock watch state.\nImplementation Description (bullets):\nPretty straightforward\nTesting (What was existing testing like?  What have you done to improve it?):\nNo new tests\nConcerns (what feedback would you like?):\nThis is not API breaking, but will require clients to have a not yet released version of timelock. Generally fine, but need to make sure that the version dependency is correctly specified.\nWhere should we start reviewing?:\nPriority (whenever / two weeks / yesterday):\nLet's decide either way today", "createdAt": "2020-02-28T10:10:09Z", "url": "https://github.com/palantir/atlasdb/pull/4614", "merged": true, "mergeCommit": {"oid": "bbefe8f134a34fdff5c5624d8a728c67146b22a5"}, "closed": true, "closedAt": "2020-03-03T11:23:26Z", "author": {"login": "gmaretic"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIs798AH2gAyMzgxMzA3MjYyOmIxYjg3MjdhYTBiZjUzZTJlZTE2Nzg3YzAzNjQyNzM3NmQzNmFmYmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKAY2WAH2gAyMzgxMzA3MjYyOjhmNDFmNWI0MTU5MjA2ZWYxNTQxM2Y4NWZiODRjY2IxMDUzMzQ0YjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b1b8727aa0bf53e2ee16787c036427376d36afbc", "author": {"user": {"login": "gmaretic", "name": null}}, "url": "https://github.com/palantir/atlasdb/commit/b1b8727aa0bf53e2ee16787c036427376d36afbc", "committedDate": "2020-02-28T09:58:48Z", "message": "Break the API to support LW"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2MjkxNjA1", "url": "https://github.com/palantir/atlasdb/pull/4614#pullrequestreview-366291605", "createdAt": "2020-02-28T10:18:51Z", "commit": {"oid": "b1b8727aa0bf53e2ee16787c036427376d36afbc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMDoxODo1MVrOFvwBWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMDoxODo1MVrOFvwBWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTYxNDE3MA==", "bodyText": "This is not a breaking change, you are adding an optional field. It's just that this will be hidden from conjure backcompat the way it is written", "url": "https://github.com/palantir/atlasdb/pull/4614#discussion_r385614170", "createdAt": "2020-02-28T10:18:51Z", "author": {"login": "jkozlowski"}, "path": "timelock-api/src/main/conjure/timelock-api.yml", "diffHunk": "@@ -28,11 +36,13 @@ types:\n           requestId: uuid\n           requestorId: uuid\n           numTransactions: integer\n+          lastKnownVersion: LastKnownVersion\n       ConjureStartTransactionsResponse:\n         fields:\n           immutableTimestamp: LockImmutableTimestampResponse\n           timestamps: PartitionedTimestamps\n           lease: Lease\n+          lockWatchUpdate: LockWatchStateUpdate", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1b8727aa0bf53e2ee16787c036427376d36afbc"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9b89a602ab893cf57f81a01a3738c6e8413b7c4", "author": {"user": {"login": "gmaretic", "name": null}}, "url": "https://github.com/palantir/atlasdb/commit/f9b89a602ab893cf57f81a01a3738c6e8413b7c4", "committedDate": "2020-02-28T11:49:49Z", "message": "Do not break API"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "906dc8fc768fe3610d3c542c87557f0c55eb78f9", "author": {"user": {"login": "gmaretic", "name": null}}, "url": "https://github.com/palantir/atlasdb/commit/906dc8fc768fe3610d3c542c87557f0c55eb78f9", "committedDate": "2020-02-28T11:54:07Z", "message": "Fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b48634881fd3d64a9cadcda8de44936952c18f9", "author": {"user": {"login": "gmaretic", "name": null}}, "url": "https://github.com/palantir/atlasdb/commit/9b48634881fd3d64a9cadcda8de44936952c18f9", "committedDate": "2020-02-28T11:54:07Z", "message": "Add generated changelog entries"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3MjA4NjE2", "url": "https://github.com/palantir/atlasdb/pull/4614#pullrequestreview-367208616", "createdAt": "2020-03-02T13:47:03Z", "commit": {"oid": "9b48634881fd3d64a9cadcda8de44936952c18f9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed38871c998678fbc7b110737be38f40fbf400de", "author": {"user": {"login": "gmaretic", "name": null}}, "url": "https://github.com/palantir/atlasdb/commit/ed38871c998678fbc7b110737be38f40fbf400de", "committedDate": "2020-03-02T15:15:36Z", "message": "Resolve merge conflict, and point to the next timelock version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "759c760152daa679bd0191ad4c7e143636f0f2f2", "author": {"user": {"login": "gmaretic", "name": null}}, "url": "https://github.com/palantir/atlasdb/commit/759c760152daa679bd0191ad4c7e143636f0f2f2", "committedDate": "2020-03-02T16:00:00Z", "message": "Merge branch 'develop' of github.com:palantir/atlasdb into lw/break"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35636cb8853f7241382f64f6e05d13de4dbc4ae8", "author": {"user": {"login": "gmaretic", "name": null}}, "url": "https://github.com/palantir/atlasdb/commit/35636cb8853f7241382f64f6e05d13de4dbc4ae8", "committedDate": "2020-03-02T16:13:24Z", "message": "Fix conjure"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NDkwOTA3", "url": "https://github.com/palantir/atlasdb/pull/4614#pullrequestreview-367490907", "createdAt": "2020-03-02T20:07:12Z", "commit": {"oid": "35636cb8853f7241382f64f6e05d13de4dbc4ae8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMDowNzoxMlrOFwtgeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMDowNzoxMlrOFwtgeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYyMTU2Mg==", "bodyText": "Please add information about the new product dependency.", "url": "https://github.com/palantir/atlasdb/pull/4614#discussion_r386621562", "createdAt": "2020-03-02T20:07:12Z", "author": {"login": "jeremyk-91"}, "path": "changelog/@unreleased/pr-4614.v2.yml", "diffHunk": "@@ -0,0 +1,5 @@\n+type: improvement\n+improvement:\n+  description: Start transactions requests now return lock watch state information", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "35636cb8853f7241382f64f6e05d13de4dbc4ae8"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05dc49cdad6f9c7bc887a55234aea8ba1c77caee", "author": {"user": {"login": "gmaretic", "name": null}}, "url": "https://github.com/palantir/atlasdb/commit/05dc49cdad6f9c7bc887a55234aea8ba1c77caee", "committedDate": "2020-03-03T11:10:17Z", "message": "Fix conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f41f5b4159206ef15413f85fb84ccb1053344b6", "author": {"user": {"login": "gmaretic", "name": null}}, "url": "https://github.com/palantir/atlasdb/commit/8f41f5b4159206ef15413f85fb84ccb1053344b6", "committedDate": "2020-03-03T11:12:28Z", "message": "Amend changelog with product dependency info"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2317, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}