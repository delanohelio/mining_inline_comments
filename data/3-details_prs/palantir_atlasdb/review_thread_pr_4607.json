{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNDkzOTky", "number": 4607, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQyMToxMzoxNlrODjPjQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNjowNDowMFrODkUwLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4MjgxNTM2OnYy", "diffSide": "RIGHT", "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQyMToxMzoxNlrOFu8aLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNjowNjo1MFrOFwlU9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDc2ODU1Ng==", "bodyText": "The way you wrote this, this will never return null.", "url": "https://github.com/palantir/atlasdb/pull/4607#discussion_r384768556", "createdAt": "2020-02-26T21:13:16Z", "author": {"login": "tjwilson90"}, "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java", "diffHunk": "@@ -33,13 +35,15 @@ private SweepStrategyManagers() {\n     }\n \n     public static SweepStrategyManager createDefault(KeyValueService kvs) {\n-        RecomputingSupplier<Map<TableReference, SweepStrategy>> supplier =\n-                RecomputingSupplier.create(() -> getSweepStrategies(kvs));\n+        // On a cache miss, load metadata only for the relevant table. Helpful when many dynamic tables.\n+        LoadingCache<TableReference, SweepStrategy> cache = Caffeine.newBuilder()\n+                .build(tableRef -> getSweepStrategy(kvs.getMetadataForTable(tableRef)));\n         return tableRef -> {\n-            SweepStrategy strategy = supplier.get().get(tableRef);\n-            if (strategy == null) {\n-                strategy = supplier.recompute().get(tableRef);\n+            // Add all existing tables the first time this is called, to optimize for cases when mostly non-dynamic tables.\n+            if (cache.estimatedSize() == 0) {\n+                cache.putAll(getSweepStrategies(kvs));\n             }\n+            SweepStrategy strategy = cache.get(tableRef);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "111761046bf748cbeed3f63f8993571337ba2071"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ3MzI1NA==", "bodyText": "It could be if we queried for a tableRef for a table that had already been deleted by the time Atlas initialized, right?", "url": "https://github.com/palantir/atlasdb/pull/4607#discussion_r386473254", "createdAt": "2020-03-02T15:46:17Z", "author": {"login": "mswintermeyer"}, "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java", "diffHunk": "@@ -33,13 +35,15 @@ private SweepStrategyManagers() {\n     }\n \n     public static SweepStrategyManager createDefault(KeyValueService kvs) {\n-        RecomputingSupplier<Map<TableReference, SweepStrategy>> supplier =\n-                RecomputingSupplier.create(() -> getSweepStrategies(kvs));\n+        // On a cache miss, load metadata only for the relevant table. Helpful when many dynamic tables.\n+        LoadingCache<TableReference, SweepStrategy> cache = Caffeine.newBuilder()\n+                .build(tableRef -> getSweepStrategy(kvs.getMetadataForTable(tableRef)));\n         return tableRef -> {\n-            SweepStrategy strategy = supplier.get().get(tableRef);\n-            if (strategy == null) {\n-                strategy = supplier.recompute().get(tableRef);\n+            // Add all existing tables the first time this is called, to optimize for cases when mostly non-dynamic tables.\n+            if (cache.estimatedSize() == 0) {\n+                cache.putAll(getSweepStrategies(kvs));\n             }\n+            SweepStrategy strategy = cache.get(tableRef);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDc2ODU1Ng=="}, "originalCommit": {"oid": "111761046bf748cbeed3f63f8993571337ba2071"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ4NTY0NQ==", "bodyText": "getSweepStrategy never returns null though right? Similarly TableMetadata.BYTES_HYDRATOR.hydrateFromBytes(tableMeta).getSweepStrategy().", "url": "https://github.com/palantir/atlasdb/pull/4607#discussion_r386485645", "createdAt": "2020-03-02T16:03:51Z", "author": {"login": "felixdesouza"}, "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java", "diffHunk": "@@ -33,13 +35,15 @@ private SweepStrategyManagers() {\n     }\n \n     public static SweepStrategyManager createDefault(KeyValueService kvs) {\n-        RecomputingSupplier<Map<TableReference, SweepStrategy>> supplier =\n-                RecomputingSupplier.create(() -> getSweepStrategies(kvs));\n+        // On a cache miss, load metadata only for the relevant table. Helpful when many dynamic tables.\n+        LoadingCache<TableReference, SweepStrategy> cache = Caffeine.newBuilder()\n+                .build(tableRef -> getSweepStrategy(kvs.getMetadataForTable(tableRef)));\n         return tableRef -> {\n-            SweepStrategy strategy = supplier.get().get(tableRef);\n-            if (strategy == null) {\n-                strategy = supplier.recompute().get(tableRef);\n+            // Add all existing tables the first time this is called, to optimize for cases when mostly non-dynamic tables.\n+            if (cache.estimatedSize() == 0) {\n+                cache.putAll(getSweepStrategies(kvs));\n             }\n+            SweepStrategy strategy = cache.get(tableRef);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDc2ODU1Ng=="}, "originalCommit": {"oid": "111761046bf748cbeed3f63f8993571337ba2071"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ4NzU0MA==", "bodyText": "Oh yeah.. argh, I need coffee before I deal with support tickets in the morning", "url": "https://github.com/palantir/atlasdb/pull/4607#discussion_r386487540", "createdAt": "2020-03-02T16:06:50Z", "author": {"login": "mswintermeyer"}, "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java", "diffHunk": "@@ -33,13 +35,15 @@ private SweepStrategyManagers() {\n     }\n \n     public static SweepStrategyManager createDefault(KeyValueService kvs) {\n-        RecomputingSupplier<Map<TableReference, SweepStrategy>> supplier =\n-                RecomputingSupplier.create(() -> getSweepStrategies(kvs));\n+        // On a cache miss, load metadata only for the relevant table. Helpful when many dynamic tables.\n+        LoadingCache<TableReference, SweepStrategy> cache = Caffeine.newBuilder()\n+                .build(tableRef -> getSweepStrategy(kvs.getMetadataForTable(tableRef)));\n         return tableRef -> {\n-            SweepStrategy strategy = supplier.get().get(tableRef);\n-            if (strategy == null) {\n-                strategy = supplier.recompute().get(tableRef);\n+            // Add all existing tables the first time this is called, to optimize for cases when mostly non-dynamic tables.\n+            if (cache.estimatedSize() == 0) {\n+                cache.putAll(getSweepStrategies(kvs));\n             }\n+            SweepStrategy strategy = cache.get(tableRef);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDc2ODU1Ng=="}, "originalCommit": {"oid": "111761046bf748cbeed3f63f8993571337ba2071"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDE0Mzk0OnYy", "diffSide": "RIGHT", "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java", "isResolved": false, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNjowMTo1M1rOFwlIXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNzoxNTo0MFrOFwn9mA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ4NDMxNg==", "bodyText": "in this initial case doesn't this degrade to the version on the left on initial load? or is that an acceptable compromise?", "url": "https://github.com/palantir/atlasdb/pull/4607#discussion_r386484316", "createdAt": "2020-03-02T16:01:53Z", "author": {"login": "felixdesouza"}, "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java", "diffHunk": "@@ -33,13 +35,15 @@ private SweepStrategyManagers() {\n     }\n \n     public static SweepStrategyManager createDefault(KeyValueService kvs) {\n-        RecomputingSupplier<Map<TableReference, SweepStrategy>> supplier =\n-                RecomputingSupplier.create(() -> getSweepStrategies(kvs));\n+        // On a cache miss, load metadata only for the relevant table. Helpful when many dynamic tables.\n+        LoadingCache<TableReference, SweepStrategy> cache = Caffeine.newBuilder()\n+                .build(tableRef -> getSweepStrategy(kvs.getMetadataForTable(tableRef)));\n         return tableRef -> {\n-            SweepStrategy strategy = supplier.get().get(tableRef);\n-            if (strategy == null) {\n-                strategy = supplier.recompute().get(tableRef);\n+            // Add all existing tables the first time this is called, to optimize for cases when mostly non-dynamic tables.\n+            if (cache.estimatedSize() == 0) {\n+                cache.putAll(getSweepStrategies(kvs));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f53546830f2a9b282c457942fc5c38038e246977"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ5MjY2NA==", "bodyText": "If you are asking if it's okay to load all tables a single time: Even before #4542, we loaded the sweep strategy for all tables initially, and hadn't heard complaints around perf. So my guess is this is just a problem when dynamic tables get created often, and thus now we limit loading all tables to only happen once.\nIf your concern is instead about how we no longer clear deleted table entries from the cache after seeing a new table entry: I hope that's fine.", "url": "https://github.com/palantir/atlasdb/pull/4607#discussion_r386492664", "createdAt": "2020-03-02T16:14:44Z", "author": {"login": "mswintermeyer"}, "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java", "diffHunk": "@@ -33,13 +35,15 @@ private SweepStrategyManagers() {\n     }\n \n     public static SweepStrategyManager createDefault(KeyValueService kvs) {\n-        RecomputingSupplier<Map<TableReference, SweepStrategy>> supplier =\n-                RecomputingSupplier.create(() -> getSweepStrategies(kvs));\n+        // On a cache miss, load metadata only for the relevant table. Helpful when many dynamic tables.\n+        LoadingCache<TableReference, SweepStrategy> cache = Caffeine.newBuilder()\n+                .build(tableRef -> getSweepStrategy(kvs.getMetadataForTable(tableRef)));\n         return tableRef -> {\n-            SweepStrategy strategy = supplier.get().get(tableRef);\n-            if (strategy == null) {\n-                strategy = supplier.recompute().get(tableRef);\n+            // Add all existing tables the first time this is called, to optimize for cases when mostly non-dynamic tables.\n+            if (cache.estimatedSize() == 0) {\n+                cache.putAll(getSweepStrategies(kvs));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ4NDMxNg=="}, "originalCommit": {"oid": "f53546830f2a9b282c457942fc5c38038e246977"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjUxNDk4Ng==", "bodyText": "There's still a potential problem here where if loading all the sweep strategies takes a long time, you could have many threads all hit this case (as the cache size would still be 0 while the first thread is still loading).", "url": "https://github.com/palantir/atlasdb/pull/4607#discussion_r386514986", "createdAt": "2020-03-02T16:49:15Z", "author": {"login": "berler"}, "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java", "diffHunk": "@@ -33,13 +35,15 @@ private SweepStrategyManagers() {\n     }\n \n     public static SweepStrategyManager createDefault(KeyValueService kvs) {\n-        RecomputingSupplier<Map<TableReference, SweepStrategy>> supplier =\n-                RecomputingSupplier.create(() -> getSweepStrategies(kvs));\n+        // On a cache miss, load metadata only for the relevant table. Helpful when many dynamic tables.\n+        LoadingCache<TableReference, SweepStrategy> cache = Caffeine.newBuilder()\n+                .build(tableRef -> getSweepStrategy(kvs.getMetadataForTable(tableRef)));\n         return tableRef -> {\n-            SweepStrategy strategy = supplier.get().get(tableRef);\n-            if (strategy == null) {\n-                strategy = supplier.recompute().get(tableRef);\n+            // Add all existing tables the first time this is called, to optimize for cases when mostly non-dynamic tables.\n+            if (cache.estimatedSize() == 0) {\n+                cache.putAll(getSweepStrategies(kvs));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ4NDMxNg=="}, "originalCommit": {"oid": "f53546830f2a9b282c457942fc5c38038e246977"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjUyMDMwNA==", "bodyText": "hmm yeah, might we want to have a Suppliers.memoize on line 42?", "url": "https://github.com/palantir/atlasdb/pull/4607#discussion_r386520304", "createdAt": "2020-03-02T16:57:34Z", "author": {"login": "felixdesouza"}, "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java", "diffHunk": "@@ -33,13 +35,15 @@ private SweepStrategyManagers() {\n     }\n \n     public static SweepStrategyManager createDefault(KeyValueService kvs) {\n-        RecomputingSupplier<Map<TableReference, SweepStrategy>> supplier =\n-                RecomputingSupplier.create(() -> getSweepStrategies(kvs));\n+        // On a cache miss, load metadata only for the relevant table. Helpful when many dynamic tables.\n+        LoadingCache<TableReference, SweepStrategy> cache = Caffeine.newBuilder()\n+                .build(tableRef -> getSweepStrategy(kvs.getMetadataForTable(tableRef)));\n         return tableRef -> {\n-            SweepStrategy strategy = supplier.get().get(tableRef);\n-            if (strategy == null) {\n-                strategy = supplier.recompute().get(tableRef);\n+            // Add all existing tables the first time this is called, to optimize for cases when mostly non-dynamic tables.\n+            if (cache.estimatedSize() == 0) {\n+                cache.putAll(getSweepStrategies(kvs));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ4NDMxNg=="}, "originalCommit": {"oid": "f53546830f2a9b282c457942fc5c38038e246977"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjUyMjYyOA==", "bodyText": "If memoizing, we'd want that to happen outside of the lambda, right? (Line 42 is inside the lambda)", "url": "https://github.com/palantir/atlasdb/pull/4607#discussion_r386522628", "createdAt": "2020-03-02T17:01:09Z", "author": {"login": "mswintermeyer"}, "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java", "diffHunk": "@@ -33,13 +35,15 @@ private SweepStrategyManagers() {\n     }\n \n     public static SweepStrategyManager createDefault(KeyValueService kvs) {\n-        RecomputingSupplier<Map<TableReference, SweepStrategy>> supplier =\n-                RecomputingSupplier.create(() -> getSweepStrategies(kvs));\n+        // On a cache miss, load metadata only for the relevant table. Helpful when many dynamic tables.\n+        LoadingCache<TableReference, SweepStrategy> cache = Caffeine.newBuilder()\n+                .build(tableRef -> getSweepStrategy(kvs.getMetadataForTable(tableRef)));\n         return tableRef -> {\n-            SweepStrategy strategy = supplier.get().get(tableRef);\n-            if (strategy == null) {\n-                strategy = supplier.recompute().get(tableRef);\n+            // Add all existing tables the first time this is called, to optimize for cases when mostly non-dynamic tables.\n+            if (cache.estimatedSize() == 0) {\n+                cache.putAll(getSweepStrategies(kvs));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ4NDMxNg=="}, "originalCommit": {"oid": "f53546830f2a9b282c457942fc5c38038e246977"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjUyNzcxOA==", "bodyText": "oop I can't read lol, but yes", "url": "https://github.com/palantir/atlasdb/pull/4607#discussion_r386527718", "createdAt": "2020-03-02T17:10:01Z", "author": {"login": "felixdesouza"}, "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java", "diffHunk": "@@ -33,13 +35,15 @@ private SweepStrategyManagers() {\n     }\n \n     public static SweepStrategyManager createDefault(KeyValueService kvs) {\n-        RecomputingSupplier<Map<TableReference, SweepStrategy>> supplier =\n-                RecomputingSupplier.create(() -> getSweepStrategies(kvs));\n+        // On a cache miss, load metadata only for the relevant table. Helpful when many dynamic tables.\n+        LoadingCache<TableReference, SweepStrategy> cache = Caffeine.newBuilder()\n+                .build(tableRef -> getSweepStrategy(kvs.getMetadataForTable(tableRef)));\n         return tableRef -> {\n-            SweepStrategy strategy = supplier.get().get(tableRef);\n-            if (strategy == null) {\n-                strategy = supplier.recompute().get(tableRef);\n+            // Add all existing tables the first time this is called, to optimize for cases when mostly non-dynamic tables.\n+            if (cache.estimatedSize() == 0) {\n+                cache.putAll(getSweepStrategies(kvs));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ4NDMxNg=="}, "originalCommit": {"oid": "f53546830f2a9b282c457942fc5c38038e246977"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjUzMDcxMg==", "bodyText": "Pushed #4625", "url": "https://github.com/palantir/atlasdb/pull/4607#discussion_r386530712", "createdAt": "2020-03-02T17:15:40Z", "author": {"login": "mswintermeyer"}, "path": "atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java", "diffHunk": "@@ -33,13 +35,15 @@ private SweepStrategyManagers() {\n     }\n \n     public static SweepStrategyManager createDefault(KeyValueService kvs) {\n-        RecomputingSupplier<Map<TableReference, SweepStrategy>> supplier =\n-                RecomputingSupplier.create(() -> getSweepStrategies(kvs));\n+        // On a cache miss, load metadata only for the relevant table. Helpful when many dynamic tables.\n+        LoadingCache<TableReference, SweepStrategy> cache = Caffeine.newBuilder()\n+                .build(tableRef -> getSweepStrategy(kvs.getMetadataForTable(tableRef)));\n         return tableRef -> {\n-            SweepStrategy strategy = supplier.get().get(tableRef);\n-            if (strategy == null) {\n-                strategy = supplier.recompute().get(tableRef);\n+            // Add all existing tables the first time this is called, to optimize for cases when mostly non-dynamic tables.\n+            if (cache.estimatedSize() == 0) {\n+                cache.putAll(getSweepStrategies(kvs));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ4NDMxNg=="}, "originalCommit": {"oid": "f53546830f2a9b282c457942fc5c38038e246977"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDE1MzQzOnYy", "diffSide": "RIGHT", "path": "changelog/@unreleased/pr-4607.v2.yml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNjowNDowMFrOFwlN4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNjoxMTowN1rOFwlfxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ4NTczMA==", "bodyText": "please fix up the changelog", "url": "https://github.com/palantir/atlasdb/pull/4607#discussion_r386485730", "createdAt": "2020-03-02T16:04:00Z", "author": {"login": "felixdesouza"}, "path": "changelog/@unreleased/pr-4607.v2.yml", "diffHunk": "@@ -0,0 +1,28 @@\n+type: fix\n+fix:\n+  description: |-\n+    SweepStrategyManagers only load one table metadata on cache miss", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f53546830f2a9b282c457942fc5c38038e246977"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ4OTI5MA==", "bodyText": "What fixing up do you want? What's the usual Atlas formatting for these changelogs?", "url": "https://github.com/palantir/atlasdb/pull/4607#discussion_r386489290", "createdAt": "2020-03-02T16:09:30Z", "author": {"login": "mswintermeyer"}, "path": "changelog/@unreleased/pr-4607.v2.yml", "diffHunk": "@@ -0,0 +1,28 @@\n+type: fix\n+fix:\n+  description: |-\n+    SweepStrategyManagers only load one table metadata on cache miss", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ4NTczMA=="}, "originalCommit": {"oid": "f53546830f2a9b282c457942fc5c38038e246977"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ5MDMwOQ==", "bodyText": "Just a short description of the change akin to a commit message if you will. This has copied the entire PR description which is usually just bloat.", "url": "https://github.com/palantir/atlasdb/pull/4607#discussion_r386490309", "createdAt": "2020-03-02T16:11:07Z", "author": {"login": "felixdesouza"}, "path": "changelog/@unreleased/pr-4607.v2.yml", "diffHunk": "@@ -0,0 +1,28 @@\n+type: fix\n+fix:\n+  description: |-\n+    SweepStrategyManagers only load one table metadata on cache miss", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ4NTczMA=="}, "originalCommit": {"oid": "f53546830f2a9b282c457942fc5c38038e246977"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2344, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}