{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2ODQ0MzQ3", "number": 5054, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxODoxMDoxOFrOEw4syA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNFQwMTo1NDo1M1rOExblyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5Njk2MDcyOnYy", "diffSide": "RIGHT", "path": "commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxODoxMDoxOFrOHmt9Tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxODoxMDoxOFrOHmt9Tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDM2MDkxMQ==", "bodyText": "This automated refactor throws an IOException that won't ever actually happen when reading from the ByteArrayInputStream\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    ByteStreams.readFully(bais, bytes, 0, bais.available());\n          \n          \n            \n                                    try {\n          \n          \n            \n                                        ByteStreams.readFully(bais, bytes, 0, bais.available());\n          \n          \n            \n                                    } catch (IOException e) {\n          \n          \n            \n                                        throw new SafeRuntimeException(\"Unable to read SQL args from ByteArrayInputStream\", e);\n          \n          \n            \n                                    }", "url": "https://github.com/palantir/atlasdb/pull/5054#discussion_r510360911", "createdAt": "2020-10-22T18:10:18Z", "author": {"login": "schlosna"}, "path": "commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java", "diffHunk": "@@ -328,7 +329,7 @@ public static void toStringSqlArgs(final StringBuilder sb, Object[] args) {\n                         @SuppressWarnings(\"resource\") // Caller is responsible for closing\n                         ByteArrayInputStream bais = (ByteArrayInputStream) arg;\n                         byte[] bytes = new byte[bais.available()];\n-                        bais.read(bytes, 0, bais.available());\n+                        ByteStreams.readFully(bais, bytes, 0, bais.available());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c1efcfbe002b15539d1f30474d2fa2b1312bae9"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMjY3NzIzOnYy", "diffSide": "RIGHT", "path": "atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNFQwMTo1NDo1M1rOHnkLQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNFQwMTo1NDo1M1rOHnkLQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTI0OTIxOQ==", "bodyText": "this might not be what is desired", "url": "https://github.com/palantir/atlasdb/pull/5054#discussion_r511249219", "createdAt": "2020-10-24T01:54:53Z", "author": {"login": "schlosna"}, "path": "atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java", "diffHunk": "@@ -198,7 +198,7 @@ public static void throwIfUncheckedException(Throwable ex) {\n      */\n     public static <T extends Throwable> T rewrap(final String newMessage, final T throwable) {\n         Preconditions.checkNotNull(throwable);\n-        log.info(\"Rewrapping throwable {} with newMessage {}\", throwable, newMessage);\n+        log.info(\"Rewrapping throwable {} with newMessage {}\", newMessage, throwable);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32523fb2cddc4bb7d64476c28cd41397fceb0637"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2665, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}