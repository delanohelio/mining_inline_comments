{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1Njc4ODY2", "number": 4684, "title": "[PDS-114088] Add further warnings about performing a migration", "bodyText": "Goals (and why):\nEnsure that it is very clear that all steps of a KVS migration must be run before using the new KVS.\nImplementation Description (bullets):\n\nAdded another danger note in the KVS migration docs.\n\nTesting (What was existing testing like?  What have you done to improve it?):\nN/A\nConcerns (what feedback would you like?):\nIs this too aggressive? Not aggressive enough? Am I using the right terminology?\nWhere should we start reviewing?:\nkvs-migration\nPriority (whenever / two weeks / yesterday):\nThis week", "createdAt": "2020-03-30T14:12:20Z", "url": "https://github.com/palantir/atlasdb/pull/4684", "merged": true, "mergeCommit": {"oid": "c86d76f5f83a4280f289e362470fb3bab1ff0ef1"}, "closed": true, "closedAt": "2020-03-30T14:46:38Z", "author": {"login": "Jolyon-S"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSvHByAH2gAyMzk1Njc4ODY2Ojc5M2VkMWU1OTE4NjRmNzUyNWU2ZDM5MjQxZWI4ZDA4NzFhMjdiNjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcSvWErAH2gAyMzk1Njc4ODY2Ojc0YWM4MzQwZDlkOTgyYTQ5MDhjNDcyZjlmM2IyZTk2Mzk0YzZiYTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "793ed1e591864f7525e6d39241eb8d0871a27b65", "author": {"user": {"login": "Jolyon-S", "name": "Jolyon"}}, "url": "https://github.com/palantir/atlasdb/commit/793ed1e591864f7525e6d39241eb8d0871a27b65", "committedDate": "2020-03-30T14:09:56Z", "message": "add somewhat aggressive danger sign in migration doc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzOTA3ODQy", "url": "https://github.com/palantir/atlasdb/pull/4684#pullrequestreview-383907842", "createdAt": "2020-03-30T14:24:45Z", "commit": {"oid": "793ed1e591864f7525e6d39241eb8d0871a27b65"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNDoyNDo0NVrOF9sTIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNDoyNTozMlrOF9sVeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIzMzI1MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                you re-enable your service.\n          \n          \n            \n                you restart your service with the new KVS.", "url": "https://github.com/palantir/atlasdb/pull/4684#discussion_r400233250", "createdAt": "2020-03-30T14:24:45Z", "author": {"login": "jeremyk-91"}, "path": "docs/source/cluster_management/kvs-migration.rst", "diffHunk": "@@ -119,6 +119,12 @@ may contain unrelated YAML objects. For example:\n \n Running the migration is typically done by invoking the CLI three times, one for each main stage of the migration.\n \n+.. danger::\n+\n+    All three steps (Setup, Migrate, Validate) must be run before the migration can be considered finished, and the\n+    new KVS used. Failure to do so may result in **SEVERE DATA CORRUPTION**. Please ensure this is the case before\n+    you re-enable your service.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "793ed1e591864f7525e6d39241eb8d0871a27b65"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIzMzg1MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                All three steps (Setup, Migrate, Validate) must be run before the migration can be considered finished, and the\n          \n          \n            \n                **ALL** three steps (Setup, Migrate, Validate) must be run before the migration can be considered finished, and the\n          \n      \n    \n    \n  \n\nHopefully that won't mess with the length limit.", "url": "https://github.com/palantir/atlasdb/pull/4684#discussion_r400233850", "createdAt": "2020-03-30T14:25:32Z", "author": {"login": "jeremyk-91"}, "path": "docs/source/cluster_management/kvs-migration.rst", "diffHunk": "@@ -119,6 +119,12 @@ may contain unrelated YAML objects. For example:\n \n Running the migration is typically done by invoking the CLI three times, one for each main stage of the migration.\n \n+.. danger::\n+\n+    All three steps (Setup, Migrate, Validate) must be run before the migration can be considered finished, and the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "793ed1e591864f7525e6d39241eb8d0871a27b65"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0108206b63234f54ca12eb4bc7f58668cb10f87", "author": {"user": {"login": "Jolyon-S", "name": "Jolyon"}}, "url": "https://github.com/palantir/atlasdb/commit/a0108206b63234f54ca12eb4bc7f58668cb10f87", "committedDate": "2020-03-30T14:26:11Z", "message": "Update docs/source/cluster_management/kvs-migration.rst\n\nCo-Authored-By: Jeremy Kong <jeremykong@hotmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74ac8340d9d982a4908c472f9f3b2e96394c6ba6", "author": {"user": {"login": "Jolyon-S", "name": "Jolyon"}}, "url": "https://github.com/palantir/atlasdb/commit/74ac8340d9d982a4908c472f9f3b2e96394c6ba6", "committedDate": "2020-03-30T14:26:22Z", "message": "Update docs/source/cluster_management/kvs-migration.rst\n\nCo-Authored-By: Jeremy Kong <jeremykong@hotmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3025, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}