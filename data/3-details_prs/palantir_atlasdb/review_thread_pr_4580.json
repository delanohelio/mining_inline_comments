{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc2MjA4MTg2", "number": 4580, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxNjowMTo1NlrODgcJ7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxNjowMTo1NlrODgcJ7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1MzQyMzE2OnYy", "diffSide": "RIGHT", "path": "atlasdb-config/src/main/java/com/palantir/atlasdb/http/AtlasDbHttpClients.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxNjowMTo1NlrOFqpanQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxNjoxMDowNVrOFqpqiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI2MzA2OQ==", "bodyText": "So I thought this was the first thing we tried and with 30 minutes expiration it was OOMing. Why is the 30 minutes fine on develop, but not fine here?", "url": "https://github.com/palantir/atlasdb/pull/4580#discussion_r380263069", "createdAt": "2020-02-17T16:01:56Z", "author": {"login": "jkozlowski"}, "path": "atlasdb-config/src/main/java/com/palantir/atlasdb/http/AtlasDbHttpClients.java", "diffHunk": "@@ -41,7 +44,12 @@ private AtlasDbHttpClients() {\n             String uri,\n             Class<T> type,\n             AuxiliaryRemotingParameters parameters) {\n-        return ConjureJavaRuntimeTargetFactory.DEFAULT.createProxy(trustContext, uri, type, parameters).instance();\n+        return Suppliers.memoizeWithExpiration(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0daa06a404e7f807dae3de9a4d363836db7a3fb"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI2NDUwMg==", "bodyText": "Unclear, I'm chalking it down to me doing it wrong the first time and trying to get it to work with everything that exists already. I'm struggling to figure out an alternate hypothesis tbh.", "url": "https://github.com/palantir/atlasdb/pull/4580#discussion_r380264502", "createdAt": "2020-02-17T16:04:49Z", "author": {"login": "felixdesouza"}, "path": "atlasdb-config/src/main/java/com/palantir/atlasdb/http/AtlasDbHttpClients.java", "diffHunk": "@@ -41,7 +44,12 @@ private AtlasDbHttpClients() {\n             String uri,\n             Class<T> type,\n             AuxiliaryRemotingParameters parameters) {\n-        return ConjureJavaRuntimeTargetFactory.DEFAULT.createProxy(trustContext, uri, type, parameters).instance();\n+        return Suppliers.memoizeWithExpiration(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI2MzA2OQ=="}, "originalCommit": {"oid": "f0daa06a404e7f807dae3de9a4d363836db7a3fb"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI2NjUxNA==", "bodyText": "ok, so I would say we probably want to keep the 30 minute period here, in case your original PR just didn't do the wiring correctly. Then it's a representative test case", "url": "https://github.com/palantir/atlasdb/pull/4580#discussion_r380266514", "createdAt": "2020-02-17T16:08:44Z", "author": {"login": "jkozlowski"}, "path": "atlasdb-config/src/main/java/com/palantir/atlasdb/http/AtlasDbHttpClients.java", "diffHunk": "@@ -41,7 +44,12 @@ private AtlasDbHttpClients() {\n             String uri,\n             Class<T> type,\n             AuxiliaryRemotingParameters parameters) {\n-        return ConjureJavaRuntimeTargetFactory.DEFAULT.createProxy(trustContext, uri, type, parameters).instance();\n+        return Suppliers.memoizeWithExpiration(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI2MzA2OQ=="}, "originalCommit": {"oid": "f0daa06a404e7f807dae3de9a4d363836db7a3fb"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI2NzAwNw==", "bodyText": "cool", "url": "https://github.com/palantir/atlasdb/pull/4580#discussion_r380267007", "createdAt": "2020-02-17T16:09:48Z", "author": {"login": "felixdesouza"}, "path": "atlasdb-config/src/main/java/com/palantir/atlasdb/http/AtlasDbHttpClients.java", "diffHunk": "@@ -41,7 +44,12 @@ private AtlasDbHttpClients() {\n             String uri,\n             Class<T> type,\n             AuxiliaryRemotingParameters parameters) {\n-        return ConjureJavaRuntimeTargetFactory.DEFAULT.createProxy(trustContext, uri, type, parameters).instance();\n+        return Suppliers.memoizeWithExpiration(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI2MzA2OQ=="}, "originalCommit": {"oid": "f0daa06a404e7f807dae3de9a4d363836db7a3fb"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI2NzE0Nw==", "bodyText": "well no build is working because certs \ud83d\ude20", "url": "https://github.com/palantir/atlasdb/pull/4580#discussion_r380267147", "createdAt": "2020-02-17T16:10:05Z", "author": {"login": "felixdesouza"}, "path": "atlasdb-config/src/main/java/com/palantir/atlasdb/http/AtlasDbHttpClients.java", "diffHunk": "@@ -41,7 +44,12 @@ private AtlasDbHttpClients() {\n             String uri,\n             Class<T> type,\n             AuxiliaryRemotingParameters parameters) {\n-        return ConjureJavaRuntimeTargetFactory.DEFAULT.createProxy(trustContext, uri, type, parameters).instance();\n+        return Suppliers.memoizeWithExpiration(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI2MzA2OQ=="}, "originalCommit": {"oid": "f0daa06a404e7f807dae3de9a4d363836db7a3fb"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2304, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}