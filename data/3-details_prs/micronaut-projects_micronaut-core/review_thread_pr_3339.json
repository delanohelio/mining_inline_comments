{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyODc0MzY1", "number": 3339, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMzoyOTo0NFrOD_rIbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMzozNzoxM1rOD_rUtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MDkzNTQ5OnYy", "diffSide": "RIGHT", "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/AccessLog.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMzoyOTo0NFrOGaeTLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDowMTo0MFrOGafsyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQxMjU5MA==", "bodyText": "It seems like these initializers are redundant and the fields can be made final since they are reassigned in the constructor?", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3339#discussion_r430412590", "createdAt": "2020-05-26T13:29:44Z", "author": {"login": "graemerocher"}, "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/AccessLog.java", "diffHunk": "@@ -0,0 +1,133 @@\n+/*\n+ * Copyright 2017-2020 original authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.micronaut.http.server.netty.handler.accesslog.element;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import org.slf4j.Logger;\n+\n+import io.micronaut.http.server.netty.handler.accesslog.element.AccessLogFormatParser.IndexedLogElement;\n+import io.netty.channel.ChannelHandlerContext;\n+import io.netty.channel.socket.SocketChannel;\n+import io.netty.handler.codec.http.HttpHeaders;\n+\n+/**\n+ * An Access log instance.\n+ *\n+ * @author croudet\n+ * @since 2.0\n+ */\n+public class AccessLog {\n+    private List<IndexedLogElement> onRequestHeadersElements = new ArrayList<>();\n+    private List<IndexedLogElement> onResponseHeadersElements = new ArrayList<>();\n+    private List<IndexedLogElement> onResponseWriteElements = new ArrayList<>();\n+    private List<IndexedLogElement> onLastResponseWriteElements = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d63013f886cbc6574fef3d3b997bbc51b4d8684"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQzNTUyOA==", "bodyText": "Fields made final. But they are not reassigned", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3339#discussion_r430435528", "createdAt": "2020-05-26T14:01:40Z", "author": {"login": "croudet"}, "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/AccessLog.java", "diffHunk": "@@ -0,0 +1,133 @@\n+/*\n+ * Copyright 2017-2020 original authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.micronaut.http.server.netty.handler.accesslog.element;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import org.slf4j.Logger;\n+\n+import io.micronaut.http.server.netty.handler.accesslog.element.AccessLogFormatParser.IndexedLogElement;\n+import io.netty.channel.ChannelHandlerContext;\n+import io.netty.channel.socket.SocketChannel;\n+import io.netty.handler.codec.http.HttpHeaders;\n+\n+/**\n+ * An Access log instance.\n+ *\n+ * @author croudet\n+ * @since 2.0\n+ */\n+public class AccessLog {\n+    private List<IndexedLogElement> onRequestHeadersElements = new ArrayList<>();\n+    private List<IndexedLogElement> onResponseHeadersElements = new ArrayList<>();\n+    private List<IndexedLogElement> onResponseWriteElements = new ArrayList<>();\n+    private List<IndexedLogElement> onLastResponseWriteElements = new ArrayList<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQxMjU5MA=="}, "originalCommit": {"oid": "5d63013f886cbc6574fef3d3b997bbc51b4d8684"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MDk0OTkzOnYy", "diffSide": "RIGHT", "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/AccessLogFormatParser.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMzozMzoyNFrOGaec-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDowMTowOFrOGafrXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQxNTA5OA==", "bodyText": "Also please make the fields final if possible", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3339#discussion_r430415098", "createdAt": "2020-05-26T13:33:24Z", "author": {"login": "graemerocher"}, "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/AccessLogFormatParser.java", "diffHunk": "@@ -0,0 +1,359 @@\n+/*\n+ * Copyright 2017-2020 original authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.micronaut.http.server.netty.handler.accesslog.element;\n+\n+import java.util.ArrayList;\n+import java.util.IdentityHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.SortedSet;\n+import java.util.TreeSet;\n+import java.util.stream.Collectors;\n+\n+import io.netty.channel.ChannelHandlerContext;\n+import io.netty.channel.socket.SocketChannel;\n+import io.netty.handler.codec.http.HttpHeaderNames;\n+\n+/**\n+ * The access log format parser.\n+ *\n+ * The syntax is based on <a href=\"http://httpd.apache.org/docs/current/mod/mod_log_config.html\">Apache httpd log format</a>.\n+ * Here are the supported directives:\n+ * <ul>\n+ * <li><b>%a</b> - Remote IP address</li>\n+ * <li><b>%A</b> - Local IP address</li>\n+ * <li><b>%b</b> - Bytes sent, excluding HTTP headers, or '-' if no bytes were sent</li>\n+ * <li><b>%B</b> - Bytes sent, excluding HTTP headers</li>\n+ * <li><b>%h</b> - Remote host name</li>\n+ * <li><b>%H</b> - Request protocol</li>\n+ * <li><b>%{<header>}i</b> - Request header. If the argument is omitted (<b>%i</b>) all headers will be printed</li>\n+ * <li><b>%{<header>}o</b> - Response header. If the argument is omitted (<b>%o</b>) all headers will be printed</li>\n+ * <li><b>%{<cookie>}C</b> - Request cookie (COOKIE). If the argument is omitted (<b>%C</b>) all cookies will be printed</li>\n+ * <li><b>%{<cookie>}c</b> - Response cookie (SET_COOKIE). If the argument is omitted (<b>%c</b>) all cookies will be printed</li>\n+ * <li><b>%l</b> - Remote logical username from identd (always returns '-')</li>\n+ * <li><b>%m</b> - Request method</li>\n+ * <li><b>%p</b> - Local port</li>\n+ * <li><b>%q</b> - Query string (excluding the '?' character)</li>\n+ * <li><b>%r</b> - First line of the request</li>\n+ * <li><b>%s</b> - HTTP status code of the response</li>\n+ * <li><b>%{<format>}t</b> - Date and time. If the argument is ommitted the Common Log Format format is used (\"'['dd/MMM/yyyy:HH:mm:ss Z']'\").\n+ * If the format starts with begin: (default) the time is taken at the beginning of the request processing. If it starts with end: it is the time when the log entry gets written, close to the end of the request processing.\n+ * The format should follow the DateTimeFormatter syntax.</li>\n+ * <li><b>%u</b> - Remote user that was authenticated. Not implemented. Prints '-'.</li>\n+ * <li><b>%U</b> - Requested URI</li>\n+ * <li><b>%v</b> - Local server name</li>\n+ * <li><b>%D</b> - Time taken to process the request, in millis</li>\n+ * <li><b>%T</b> - Time taken to process the request, in seconds</li>\n+ * </ul>\n+ * <p>In addition, the following aliases for commonly utilized patterns:</p>\n+ * <ul>\n+ * <li><b>common</b> - <code>%h %l %u %t \"%r\" %s %b</code> Common Log Format (CLF)</li>\n+ * <li><b>combined</b> -\n+ * <code>%h %l %u %t \"%r\" %s %b \"%{Referer}i\" \"%{User-Agent}i\"</code> Combined Log Format</li>\n+ * </ul>\n+ *\n+ * @author croudet\n+ * @since 2.0\n+ */\n+public class AccessLogFormatParser {\n+    /**\n+     * The combined log format.\n+     */\n+    public static final String COMBINED_LOG_FORMAT = \"%h %l %u %t \\\"%r\\\" %s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\";\n+    /**\n+     * The common log format.\n+     */\n+    public static final String COMMON_LOG_FORMAT = \"%h %l %u %t \\\"%r\\\" %s %b\";\n+\n+    private List<IndexedLogElement> onRequestElements = new ArrayList<>();\n+    private List<IndexedLogElement> onResponseHeadersElements = new ArrayList<>();\n+    private List<IndexedLogElement> onResponseWriteElements = new ArrayList<>();\n+    private List<IndexedLogElement> onLastResponseWriteElements = new ArrayList<>();\n+    private List<IndexedLogElement> constantElements = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d63013f886cbc6574fef3d3b997bbc51b4d8684"}, "originalPosition": 86}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQzNTE2NA==", "bodyText": "Done", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3339#discussion_r430435164", "createdAt": "2020-05-26T14:01:08Z", "author": {"login": "croudet"}, "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/AccessLogFormatParser.java", "diffHunk": "@@ -0,0 +1,359 @@\n+/*\n+ * Copyright 2017-2020 original authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.micronaut.http.server.netty.handler.accesslog.element;\n+\n+import java.util.ArrayList;\n+import java.util.IdentityHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.SortedSet;\n+import java.util.TreeSet;\n+import java.util.stream.Collectors;\n+\n+import io.netty.channel.ChannelHandlerContext;\n+import io.netty.channel.socket.SocketChannel;\n+import io.netty.handler.codec.http.HttpHeaderNames;\n+\n+/**\n+ * The access log format parser.\n+ *\n+ * The syntax is based on <a href=\"http://httpd.apache.org/docs/current/mod/mod_log_config.html\">Apache httpd log format</a>.\n+ * Here are the supported directives:\n+ * <ul>\n+ * <li><b>%a</b> - Remote IP address</li>\n+ * <li><b>%A</b> - Local IP address</li>\n+ * <li><b>%b</b> - Bytes sent, excluding HTTP headers, or '-' if no bytes were sent</li>\n+ * <li><b>%B</b> - Bytes sent, excluding HTTP headers</li>\n+ * <li><b>%h</b> - Remote host name</li>\n+ * <li><b>%H</b> - Request protocol</li>\n+ * <li><b>%{<header>}i</b> - Request header. If the argument is omitted (<b>%i</b>) all headers will be printed</li>\n+ * <li><b>%{<header>}o</b> - Response header. If the argument is omitted (<b>%o</b>) all headers will be printed</li>\n+ * <li><b>%{<cookie>}C</b> - Request cookie (COOKIE). If the argument is omitted (<b>%C</b>) all cookies will be printed</li>\n+ * <li><b>%{<cookie>}c</b> - Response cookie (SET_COOKIE). If the argument is omitted (<b>%c</b>) all cookies will be printed</li>\n+ * <li><b>%l</b> - Remote logical username from identd (always returns '-')</li>\n+ * <li><b>%m</b> - Request method</li>\n+ * <li><b>%p</b> - Local port</li>\n+ * <li><b>%q</b> - Query string (excluding the '?' character)</li>\n+ * <li><b>%r</b> - First line of the request</li>\n+ * <li><b>%s</b> - HTTP status code of the response</li>\n+ * <li><b>%{<format>}t</b> - Date and time. If the argument is ommitted the Common Log Format format is used (\"'['dd/MMM/yyyy:HH:mm:ss Z']'\").\n+ * If the format starts with begin: (default) the time is taken at the beginning of the request processing. If it starts with end: it is the time when the log entry gets written, close to the end of the request processing.\n+ * The format should follow the DateTimeFormatter syntax.</li>\n+ * <li><b>%u</b> - Remote user that was authenticated. Not implemented. Prints '-'.</li>\n+ * <li><b>%U</b> - Requested URI</li>\n+ * <li><b>%v</b> - Local server name</li>\n+ * <li><b>%D</b> - Time taken to process the request, in millis</li>\n+ * <li><b>%T</b> - Time taken to process the request, in seconds</li>\n+ * </ul>\n+ * <p>In addition, the following aliases for commonly utilized patterns:</p>\n+ * <ul>\n+ * <li><b>common</b> - <code>%h %l %u %t \"%r\" %s %b</code> Common Log Format (CLF)</li>\n+ * <li><b>combined</b> -\n+ * <code>%h %l %u %t \"%r\" %s %b \"%{Referer}i\" \"%{User-Agent}i\"</code> Combined Log Format</li>\n+ * </ul>\n+ *\n+ * @author croudet\n+ * @since 2.0\n+ */\n+public class AccessLogFormatParser {\n+    /**\n+     * The combined log format.\n+     */\n+    public static final String COMBINED_LOG_FORMAT = \"%h %l %u %t \\\"%r\\\" %s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\";\n+    /**\n+     * The common log format.\n+     */\n+    public static final String COMMON_LOG_FORMAT = \"%h %l %u %t \\\"%r\\\" %s %b\";\n+\n+    private List<IndexedLogElement> onRequestElements = new ArrayList<>();\n+    private List<IndexedLogElement> onResponseHeadersElements = new ArrayList<>();\n+    private List<IndexedLogElement> onResponseWriteElements = new ArrayList<>();\n+    private List<IndexedLogElement> onLastResponseWriteElements = new ArrayList<>();\n+    private List<IndexedLogElement> constantElements = new ArrayList<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQxNTA5OA=="}, "originalCommit": {"oid": "5d63013f886cbc6574fef3d3b997bbc51b4d8684"}, "originalPosition": 86}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MDk2MTc0OnYy", "diffSide": "RIGHT", "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/BytesSentElement.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMzozNTo1NlrOGaej4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDowMTowMVrOGafrAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQxNjg2NA==", "bodyText": "since this class is internal maybe make it final", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3339#discussion_r430416864", "createdAt": "2020-05-26T13:35:56Z", "author": {"login": "graemerocher"}, "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/BytesSentElement.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ * Copyright 2017-2020 original authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.micronaut.http.server.netty.handler.accesslog.element;\n+\n+import java.util.EnumSet;\n+import java.util.Set;\n+\n+/**\n+ * BytesSentElement LogElement. The bytes sent.\n+ *\n+ * @author croudet\n+ * @since 2.0\n+ */\n+class BytesSentElement implements LogElement {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d63013f886cbc6574fef3d3b997bbc51b4d8684"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQzNTA3NA==", "bodyText": "Done", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3339#discussion_r430435074", "createdAt": "2020-05-26T14:01:01Z", "author": {"login": "croudet"}, "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/BytesSentElement.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ * Copyright 2017-2020 original authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.micronaut.http.server.netty.handler.accesslog.element;\n+\n+import java.util.EnumSet;\n+import java.util.Set;\n+\n+/**\n+ * BytesSentElement LogElement. The bytes sent.\n+ *\n+ * @author croudet\n+ * @since 2.0\n+ */\n+class BytesSentElement implements LogElement {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQxNjg2NA=="}, "originalCommit": {"oid": "5d63013f886cbc6574fef3d3b997bbc51b4d8684"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MDk2MzMyOnYy", "diffSide": "RIGHT", "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/ConstantElement.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMzozNjoxOVrOGaek8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDowMDo1NFrOGafqrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQxNzEzNw==", "bodyText": "Maybe make it final", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3339#discussion_r430417137", "createdAt": "2020-05-26T13:36:19Z", "author": {"login": "graemerocher"}, "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/ConstantElement.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/*\n+ * Copyright 2017-2020 original authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.micronaut.http.server.netty.handler.accesslog.element;\n+\n+import java.util.EnumSet;\n+import java.util.Set;\n+\n+import io.netty.channel.socket.SocketChannel;\n+import io.netty.handler.codec.http.HttpHeaders;\n+\n+/**\n+ * ConstantElement LogElement. Represents a fixed value.\n+ *\n+ * @author croudet\n+ * @since 2.0\n+ */\n+class ConstantElement implements LogElement {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d63013f886cbc6574fef3d3b997bbc51b4d8684"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQzNDk5MQ==", "bodyText": "Done", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3339#discussion_r430434991", "createdAt": "2020-05-26T14:00:54Z", "author": {"login": "croudet"}, "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/ConstantElement.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/*\n+ * Copyright 2017-2020 original authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.micronaut.http.server.netty.handler.accesslog.element;\n+\n+import java.util.EnumSet;\n+import java.util.Set;\n+\n+import io.netty.channel.socket.SocketChannel;\n+import io.netty.handler.codec.http.HttpHeaders;\n+\n+/**\n+ * ConstantElement LogElement. Represents a fixed value.\n+ *\n+ * @author croudet\n+ * @since 2.0\n+ */\n+class ConstantElement implements LogElement {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQxNzEzNw=="}, "originalCommit": {"oid": "5d63013f886cbc6574fef3d3b997bbc51b4d8684"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MDk2NDk2OnYy", "diffSide": "RIGHT", "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/DateTimeElement.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMzozNjo0NVrOGaemCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDowMDo0OFrOGafqYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQxNzQxNg==", "bodyText": "Maybe make this one final", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3339#discussion_r430417416", "createdAt": "2020-05-26T13:36:45Z", "author": {"login": "graemerocher"}, "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/DateTimeElement.java", "diffHunk": "@@ -0,0 +1,110 @@\n+/*\n+ * Copyright 2017-2020 original authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.micronaut.http.server.netty.handler.accesslog.element;\n+\n+import java.time.ZonedDateTime;\n+import java.time.format.DateTimeFormatter;\n+import java.util.EnumSet;\n+import java.util.Locale;\n+import java.util.Set;\n+\n+import io.netty.channel.socket.SocketChannel;\n+import io.netty.handler.codec.http.HttpHeaders;\n+\n+/**\n+ * DateTimeElement LogElement.\n+ *\n+ * @author croudet\n+ * @since 2.0\n+ */\n+class DateTimeElement implements LogElement {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d63013f886cbc6574fef3d3b997bbc51b4d8684"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQzNDkxNQ==", "bodyText": "Done", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3339#discussion_r430434915", "createdAt": "2020-05-26T14:00:48Z", "author": {"login": "croudet"}, "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/DateTimeElement.java", "diffHunk": "@@ -0,0 +1,110 @@\n+/*\n+ * Copyright 2017-2020 original authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.micronaut.http.server.netty.handler.accesslog.element;\n+\n+import java.time.ZonedDateTime;\n+import java.time.format.DateTimeFormatter;\n+import java.util.EnumSet;\n+import java.util.Locale;\n+import java.util.Set;\n+\n+import io.netty.channel.socket.SocketChannel;\n+import io.netty.handler.codec.http.HttpHeaders;\n+\n+/**\n+ * DateTimeElement LogElement.\n+ *\n+ * @author croudet\n+ * @since 2.0\n+ */\n+class DateTimeElement implements LogElement {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQxNzQxNg=="}, "originalCommit": {"oid": "5d63013f886cbc6574fef3d3b997bbc51b4d8684"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MDk2NTg5OnYy", "diffSide": "RIGHT", "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/ElapseTimeElement.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMzozNjo1OVrOGaemlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDowMDo0MlrOGafqFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQxNzU1Ng==", "bodyText": "Maybe make this final", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3339#discussion_r430417556", "createdAt": "2020-05-26T13:36:59Z", "author": {"login": "graemerocher"}, "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/ElapseTimeElement.java", "diffHunk": "@@ -0,0 +1,86 @@\n+/*\n+ * Copyright 2017-2020 original authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.micronaut.http.server.netty.handler.accesslog.element;\n+\n+import java.util.EnumSet;\n+import java.util.Set;\n+import java.util.concurrent.TimeUnit;\n+\n+import io.netty.channel.socket.SocketChannel;\n+import io.netty.handler.codec.http.HttpHeaders;\n+\n+/**\n+ * ElapseTimeElement LogElement. Time spent to complete the request.\n+ *\n+ * @author croudet\n+ * @since 2.0\n+ */\n+class ElapseTimeElement implements LogElement {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d63013f886cbc6574fef3d3b997bbc51b4d8684"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQzNDgzOQ==", "bodyText": "Done.", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3339#discussion_r430434839", "createdAt": "2020-05-26T14:00:42Z", "author": {"login": "croudet"}, "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/ElapseTimeElement.java", "diffHunk": "@@ -0,0 +1,86 @@\n+/*\n+ * Copyright 2017-2020 original authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.micronaut.http.server.netty.handler.accesslog.element;\n+\n+import java.util.EnumSet;\n+import java.util.Set;\n+import java.util.concurrent.TimeUnit;\n+\n+import io.netty.channel.socket.SocketChannel;\n+import io.netty.handler.codec.http.HttpHeaders;\n+\n+/**\n+ * ElapseTimeElement LogElement. Time spent to complete the request.\n+ *\n+ * @author croudet\n+ * @since 2.0\n+ */\n+class ElapseTimeElement implements LogElement {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQxNzU1Ng=="}, "originalCommit": {"oid": "5d63013f886cbc6574fef3d3b997bbc51b4d8684"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MDk2NjkyOnYy", "diffSide": "RIGHT", "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/HeaderElement.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMzozNzoxM1rOGaenOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDowMDozNFrOGafpxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQxNzcyMg==", "bodyText": "Maybe make this final", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3339#discussion_r430417722", "createdAt": "2020-05-26T13:37:13Z", "author": {"login": "graemerocher"}, "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/HeaderElement.java", "diffHunk": "@@ -0,0 +1,72 @@\n+/*\n+ * Copyright 2017-2020 original authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.micronaut.http.server.netty.handler.accesslog.element;\n+\n+import java.util.List;\n+import java.util.StringJoiner;\n+\n+import io.netty.handler.codec.http.HttpHeaders;\n+\n+/**\n+ * HeaderElement LogElement. A http header.\n+ *\n+ * @author croudet\n+ * @since 2.0\n+ */\n+class HeaderElement extends AbstractHttpMessageLogElement {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d63013f886cbc6574fef3d3b997bbc51b4d8684"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQzNDc1Ng==", "bodyText": "Done", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3339#discussion_r430434756", "createdAt": "2020-05-26T14:00:34Z", "author": {"login": "croudet"}, "path": "http-server-netty/src/main/java/io/micronaut/http/server/netty/handler/accesslog/element/HeaderElement.java", "diffHunk": "@@ -0,0 +1,72 @@\n+/*\n+ * Copyright 2017-2020 original authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.micronaut.http.server.netty.handler.accesslog.element;\n+\n+import java.util.List;\n+import java.util.StringJoiner;\n+\n+import io.netty.handler.codec.http.HttpHeaders;\n+\n+/**\n+ * HeaderElement LogElement. A http header.\n+ *\n+ * @author croudet\n+ * @since 2.0\n+ */\n+class HeaderElement extends AbstractHttpMessageLogElement {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQxNzcyMg=="}, "originalCommit": {"oid": "5d63013f886cbc6574fef3d3b997bbc51b4d8684"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1351, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}