{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYwMDMyMTA3", "number": 3835, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxMzozMzo1NFrOEUD0FA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxMzozMzo1NFrOEUD0FA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5NDY5NDYwOnYy", "diffSide": "RIGHT", "path": "http-server-netty/src/test/groovy/io/micronaut/docs/http/server/exception/SimpleControllerSpec.groovy", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxMzozMzo1NFrOG6IubA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxMzo1NDoyNVrOG6JcIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzYxMzU0OA==", "bodyText": "What value is this method adding? Perhaps add a test that throws Exception to ensure the one that catches Throwable is not invoked?", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3835#discussion_r463613548", "createdAt": "2020-07-31T13:33:54Z", "author": {"login": "jameskleeh"}, "path": "http-server-netty/src/test/groovy/io/micronaut/docs/http/server/exception/SimpleControllerSpec.groovy", "diffHunk": "@@ -87,11 +88,25 @@ class SimpleControllerSpec extends Specification {\n         }\n \n         @Error\n-        HttpResponse exceptionHandler(HttpRequest request, Throwable throwable) {\n+        HttpResponse throwableExceptionHandler(HttpRequest request, Throwable throwable) {\n+            JsonError error = new JsonError(\"Invalid: \" + throwable.getMessage())\n+            return HttpResponse.<JsonError>status(HttpStatus.BAD_REQUEST, \"throwableExceptionHandler\")\n+                    .body(error)\n+        }\n+\n+        @Error\n+        HttpResponse exceptionHandler(HttpRequest request, RuntimeException throwable) {\n             JsonError error = new JsonError(\"Invalid: \" + throwable.getMessage())\n             return HttpResponse.<JsonError>status(HttpStatus.BAD_REQUEST, \"Fix it!\")\n                     .body(error)\n         }\n+\n+        @Error\n+        HttpResponse exceptionExceptionHandler(HttpRequest request, Exception throwable) {\n+            JsonError error = new JsonError(\"Invalid: \" + throwable.getMessage())\n+            return HttpResponse.<JsonError>status(HttpStatus.BAD_REQUEST, \"exceptionExceptionHandler\")\n+                    .body(error)\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "798d89480537bc7945413d356afcbae1018636ce"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzYyNTI1MQ==", "bodyText": "I was just trying to surround the error handler so it will trigger the problem because I\u2019m not sure what is the logic to find the handler.", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3835#discussion_r463625251", "createdAt": "2020-07-31T13:54:25Z", "author": {"login": "dstepanov"}, "path": "http-server-netty/src/test/groovy/io/micronaut/docs/http/server/exception/SimpleControllerSpec.groovy", "diffHunk": "@@ -87,11 +88,25 @@ class SimpleControllerSpec extends Specification {\n         }\n \n         @Error\n-        HttpResponse exceptionHandler(HttpRequest request, Throwable throwable) {\n+        HttpResponse throwableExceptionHandler(HttpRequest request, Throwable throwable) {\n+            JsonError error = new JsonError(\"Invalid: \" + throwable.getMessage())\n+            return HttpResponse.<JsonError>status(HttpStatus.BAD_REQUEST, \"throwableExceptionHandler\")\n+                    .body(error)\n+        }\n+\n+        @Error\n+        HttpResponse exceptionHandler(HttpRequest request, RuntimeException throwable) {\n             JsonError error = new JsonError(\"Invalid: \" + throwable.getMessage())\n             return HttpResponse.<JsonError>status(HttpStatus.BAD_REQUEST, \"Fix it!\")\n                     .body(error)\n         }\n+\n+        @Error\n+        HttpResponse exceptionExceptionHandler(HttpRequest request, Exception throwable) {\n+            JsonError error = new JsonError(\"Invalid: \" + throwable.getMessage())\n+            return HttpResponse.<JsonError>status(HttpStatus.BAD_REQUEST, \"exceptionExceptionHandler\")\n+                    .body(error)\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzYxMzU0OA=="}, "originalCommit": {"oid": "798d89480537bc7945413d356afcbae1018636ce"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1279, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}