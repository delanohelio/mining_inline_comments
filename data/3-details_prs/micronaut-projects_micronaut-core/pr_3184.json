{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0NzY5OTE3", "number": 3184, "title": "Provide API and solution sending events async ", "bodyText": "Provides solution for #3124\nThe actual problem is not solvable because a lock is placed on the bean registry to avoid duplicate singletons being created so removing this lock would break correctness.\nHowever the issue can be resolved by looking up the event listeners before firing events. This change adds an API to do that and provides a solution for this use case.\nDebatable whether it should go into 1.3.x or not.", "createdAt": "2020-05-07T15:46:01Z", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3184", "merged": true, "mergeCommit": {"oid": "b939c7e24099ab68e61fcd5a20cecfd7e5f47d64"}, "closed": true, "closedAt": "2020-05-07T16:43:22Z", "author": {"login": "graemerocher"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABce-bqEAH2gAyNDE0NzY5OTE3OjgwMmQzNWM3NmM3YWRmOTlmNjgyMTQ1NmFlZjJmZTUyZTc4YmQzNzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABce_oHngH2gAyNDE0NzY5OTE3OjA5MTI0ZWUxOWY1Zjk1NDU4OTUyZTE0ODUyNjc4YzA4M2RmNWVhYTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "802d35c76c7adf99f6821456aef2fe52e78bd379", "author": {"user": {"login": "graemerocher", "name": "Graeme Rocher"}}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/802d35c76c7adf99f6821456aef2fe52e78bd379", "committedDate": "2020-05-07T14:48:08Z", "message": "Add publishEventAsync method. Resolution for #3124"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10480a28cd7cd12a3cb8b161b964a8ec7d8807f1", "author": {"user": {"login": "graemerocher", "name": "Graeme Rocher"}}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/10480a28cd7cd12a3cb8b161b964a8ec7d8807f1", "committedDate": "2020-05-07T15:16:46Z", "message": "Checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "349ec60318338e824c3c458af7b18d82079b339f", "author": {"user": {"login": "graemerocher", "name": "Graeme Rocher"}}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/349ec60318338e824c3c458af7b18d82079b339f", "committedDate": "2020-05-07T15:17:00Z", "message": "Add since"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5eb53dec0bee1f72a2f2bd2c1d70a476b02e3c97", "author": {"user": {"login": "graemerocher", "name": "Graeme Rocher"}}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/5eb53dec0bee1f72a2f2bd2c1d70a476b02e3c97", "committedDate": "2020-05-07T16:05:33Z", "message": "Throw UnsupportedOperationException"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NjIyNzk5", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3184#pullrequestreview-407622799", "createdAt": "2020-05-07T16:08:01Z", "commit": {"oid": "5eb53dec0bee1f72a2f2bd2c1d70a476b02e3c97"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNjowODowMlrOGSFyzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNjowODowMlrOGSFyzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTYyMjQ3Ng==", "bodyText": "Javadoc needs updated", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3184#discussion_r421622476", "createdAt": "2020-05-07T16:08:02Z", "author": {"login": "jameskleeh"}, "path": "inject/src/main/java/io/micronaut/context/event/ApplicationEventPublisher.java", "diffHunk": "@@ -34,4 +35,15 @@\n      * @param event The event to publish\n      */\n     void publishEvent(@Nonnull Object event);\n+\n+    /**\n+     * Publish the given event. The event will be published synchronously and only return once all listeners have consumed the event.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5eb53dec0bee1f72a2f2bd2c1d70a476b02e3c97"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "512150d15b2e06f6e2cc981ec9af28ed22187fdb", "author": {"user": {"login": "jameskleeh", "name": "James Kleeh"}}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/512150d15b2e06f6e2cc981ec9af28ed22187fdb", "committedDate": "2020-05-07T16:10:18Z", "message": "Change default method to return a future that completes exceptionally"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "011a6ca0668e837f6173eeac00cf7bbc7610e831", "author": {"user": {"login": "graemerocher", "name": "Graeme Rocher"}}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/011a6ca0668e837f6173eeac00cf7bbc7610e831", "committedDate": "2020-05-07T16:11:14Z", "message": "Javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09124ee19f5f95458952e14852678c083df5eaa8", "author": {"user": {"login": "graemerocher", "name": "Graeme Rocher"}}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/09124ee19f5f95458952e14852678c083df5eaa8", "committedDate": "2020-05-07T16:11:39Z", "message": "Merge branch 'issue-3124' of github.com:micronaut-projects/micronaut-core into issue-3124"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2889, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}