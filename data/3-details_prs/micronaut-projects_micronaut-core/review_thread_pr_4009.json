{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc4MDc0NTUz", "number": 4009, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMTo1Mzo0N1rOEftRUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMTo1Mzo0N1rOEftRUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxNjgzMDI2OnYy", "diffSide": "RIGHT", "path": "inject-java/src/main/java/io/micronaut/annotation/processing/visitor/AbstractJavaElement.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMTo1Mzo0N1rOHMKKLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwNzowODowM1rOHMY-cA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjUxMTQwNA==", "bodyText": "The only part I am not sure about is if this cast is safe, or if there is another way to obtain the declaring type...", "url": "https://github.com/micronaut-projects/micronaut-core/pull/4009#discussion_r482511404", "createdAt": "2020-09-02T21:53:47Z", "author": {"login": "tomas-langer"}, "path": "inject-java/src/main/java/io/micronaut/annotation/processing/visitor/AbstractJavaElement.java", "diffHunk": "@@ -76,7 +77,20 @@\n                 .newAnnotationBuilder()\n                 .annotate(annotationMetadata, av);\n \n-        String declaringTypeName = this instanceof MemberElement ? ((MemberElement) this).getOwningType().getName() : getName();\n+        String declaringTypeName;\n+        if (this instanceof MemberElement) {\n+            declaringTypeName = ((MemberElement) this).getOwningType().getName();\n+        } else if (this instanceof ParameterElement) {\n+            TypeElement typeElement = visitorContext.getModelUtils().classElementFor((Element) this.getNativeType());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4371fc5df1d5ad67a1bcf417db3b58f6bb9e8a8c"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mjc1NDE2MA==", "bodyText": "Yes it is safe", "url": "https://github.com/micronaut-projects/micronaut-core/pull/4009#discussion_r482754160", "createdAt": "2020-09-03T07:08:03Z", "author": {"login": "graemerocher"}, "path": "inject-java/src/main/java/io/micronaut/annotation/processing/visitor/AbstractJavaElement.java", "diffHunk": "@@ -76,7 +77,20 @@\n                 .newAnnotationBuilder()\n                 .annotate(annotationMetadata, av);\n \n-        String declaringTypeName = this instanceof MemberElement ? ((MemberElement) this).getOwningType().getName() : getName();\n+        String declaringTypeName;\n+        if (this instanceof MemberElement) {\n+            declaringTypeName = ((MemberElement) this).getOwningType().getName();\n+        } else if (this instanceof ParameterElement) {\n+            TypeElement typeElement = visitorContext.getModelUtils().classElementFor((Element) this.getNativeType());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjUxMTQwNA=="}, "originalCommit": {"oid": "4371fc5df1d5ad67a1bcf417db3b58f6bb9e8a8c"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1265, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}