{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1ODIyMTU3", "number": 2903, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMzozNDoyNlrODnE5Qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMzozNDoyNlrODnE5Qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMzAxMjUwOnYy", "diffSide": "RIGHT", "path": "http/src/main/java/io/micronaut/http/MediaType.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMzozNDoyNlrOF03E8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMzo0MTozNFrOF03XDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk3MjY1Nw==", "bodyText": "Is there a reason why only x-yaml is checked?", "url": "https://github.com/micronaut-projects/micronaut-core/pull/2903#discussion_r390972657", "createdAt": "2020-03-11T13:34:26Z", "author": {"login": "graemerocher"}, "path": "http/src/main/java/io/micronaut/http/MediaType.java", "diffHunk": "@@ -532,9 +532,9 @@ public CharSequence subSequence(int start, int end) {\n      * @return Whether the media type is text based\n      */\n     public boolean isTextBased() {\n-        boolean matches = textTypePatterns.stream().anyMatch((p) -> p.matcher(name).matches());\n+        boolean matches = textTypePatterns.stream().anyMatch(p -> p.matcher(name).matches());\n         if (!matches) {\n-            matches = subtype.equalsIgnoreCase(\"json\") || subtype.equalsIgnoreCase(\"xml\");\n+            matches = subtype.equalsIgnoreCase(\"json\") || subtype.equalsIgnoreCase(\"xml\") || subtype.equalsIgnoreCase(\"x-yaml\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6727988912036bf169198a3d3bf89d7d897aa5f1"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk3NTQ2NQ==", "bodyText": "Well the media type is application/x-yaml and text/yaml will be matched by the textTypePatterns.", "url": "https://github.com/micronaut-projects/micronaut-core/pull/2903#discussion_r390975465", "createdAt": "2020-03-11T13:38:50Z", "author": {"login": "croudet"}, "path": "http/src/main/java/io/micronaut/http/MediaType.java", "diffHunk": "@@ -532,9 +532,9 @@ public CharSequence subSequence(int start, int end) {\n      * @return Whether the media type is text based\n      */\n     public boolean isTextBased() {\n-        boolean matches = textTypePatterns.stream().anyMatch((p) -> p.matcher(name).matches());\n+        boolean matches = textTypePatterns.stream().anyMatch(p -> p.matcher(name).matches());\n         if (!matches) {\n-            matches = subtype.equalsIgnoreCase(\"json\") || subtype.equalsIgnoreCase(\"xml\");\n+            matches = subtype.equalsIgnoreCase(\"json\") || subtype.equalsIgnoreCase(\"xml\") || subtype.equalsIgnoreCase(\"x-yaml\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk3MjY1Nw=="}, "originalCommit": {"oid": "6727988912036bf169198a3d3bf89d7d897aa5f1"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk3NzI5NA==", "bodyText": "I can add a pattern if you want:\ntextTypePatterns.add(Pattern.compile(\"^.*\\\\+yaml$\"));", "url": "https://github.com/micronaut-projects/micronaut-core/pull/2903#discussion_r390977294", "createdAt": "2020-03-11T13:41:34Z", "author": {"login": "croudet"}, "path": "http/src/main/java/io/micronaut/http/MediaType.java", "diffHunk": "@@ -532,9 +532,9 @@ public CharSequence subSequence(int start, int end) {\n      * @return Whether the media type is text based\n      */\n     public boolean isTextBased() {\n-        boolean matches = textTypePatterns.stream().anyMatch((p) -> p.matcher(name).matches());\n+        boolean matches = textTypePatterns.stream().anyMatch(p -> p.matcher(name).matches());\n         if (!matches) {\n-            matches = subtype.equalsIgnoreCase(\"json\") || subtype.equalsIgnoreCase(\"xml\");\n+            matches = subtype.equalsIgnoreCase(\"json\") || subtype.equalsIgnoreCase(\"xml\") || subtype.equalsIgnoreCase(\"x-yaml\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk3MjY1Nw=="}, "originalCommit": {"oid": "6727988912036bf169198a3d3bf89d7d897aa5f1"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1371, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}