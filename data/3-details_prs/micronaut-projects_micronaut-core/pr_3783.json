{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1ODc0NTA2", "number": 3783, "title": "i18n ticket - describe/doc how it works", "bodyText": "closes Issue #2617", "createdAt": "2020-07-23T18:12:25Z", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3783", "merged": true, "mergeCommit": {"oid": "8b2d30813898ca1d6192f802333270cad6418948"}, "closed": true, "closedAt": "2020-07-24T08:12:22Z", "author": {"login": "ladybug"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0h4KEgH2gAyNDU1ODc0NTA2OmY3ZGIwNmQ5NzI4NjM1ZDkzZDEzMWU4ZTdhMjBhM2I4N2VlYzJkZjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3_PHngH2gAyNDU1ODc0NTA2OjZiZmNjMWI5MzQ5MWYxMzNlOWY5MjFlZjdiY2RlMTQxOWE1NjcxZTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f7db06d9728635d93d131e8e7a20a3b87eec2df4", "author": {"user": null}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/f7db06d9728635d93d131e8e7a20a3b87eec2df4", "committedDate": "2020-07-13T13:58:21Z", "message": "start the doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b04a8ace3f241e5c5ced665e52d391725d2a40ab", "author": {"user": null}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/b04a8ace3f241e5c5ced665e52d391725d2a40ab", "committedDate": "2020-07-14T19:30:17Z", "message": "Merge branch 'master' into issue-2617"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11e8bae1f1cb13a73eb6b1f49d1524caf564e32a", "author": {"user": null}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/11e8bae1f1cb13a73eb6b1f49d1524caf564e32a", "committedDate": "2020-07-17T20:15:55Z", "message": "Merge branch 'master' into issue-2617"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a96f6aa081a71b3fdb23a692a4921d2c960c3a6", "author": {"user": null}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/4a96f6aa081a71b3fdb23a692a4921d2c960c3a6", "committedDate": "2020-07-23T18:07:37Z", "message": "i18n writeup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac620825fdb9663c6d2c708e2578efcf7b53da3b", "author": {"user": null}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/ac620825fdb9663c6d2c708e2578efcf7b53da3b", "committedDate": "2020-07-23T18:09:12Z", "message": "Merge branch 'master' into issue-2617"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NDg2OTI5", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3783#pullrequestreview-454486929", "createdAt": "2020-07-23T20:53:11Z", "commit": {"oid": "ac620825fdb9663c6d2c708e2578efcf7b53da3b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "511fa4337d32db32f92025b539498f41ac996a7a", "author": {"user": null}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/511fa4337d32db32f92025b539498f41ac996a7a", "committedDate": "2020-07-23T21:01:43Z", "message": "removed wordy docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef8cd771fc19907ff2057c3269d2eb93b1d3afe5", "author": {"user": null}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/ef8cd771fc19907ff2057c3269d2eb93b1d3afe5", "committedDate": "2020-07-23T21:03:07Z", "message": "Merge branch 'master' into issue-2617"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NjUwNDMx", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3783#pullrequestreview-454650431", "createdAt": "2020-07-24T06:03:33Z", "commit": {"oid": "ef8cd771fc19907ff2057c3269d2eb93b1d3afe5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwNjowMzozM1rOG2kBjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwNzo0NDoyOVrOG2mCTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTg2NjUxMA==", "bodyText": "You should use the Asciidoctor Macro to create links from MessageSource and ResourceBundleMessageSource to Javadocs.\ne.g.\napi:context.MessageSource[]\napi:context.i18n.ResourceBundleMessageSource[].", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3783#discussion_r459866510", "createdAt": "2020-07-24T06:03:33Z", "author": {"login": "sdelamo"}, "path": "src/main/docs/guide/bundle", "diffHunk": "@@ -0,0 +1,9 @@\n+Micronaut supports internationalization (i18n) by allowing it's applications to resolve text messages written in different languages and locales.  Messages are usually grouped by locale and \n+accessed through key/value pairs in properties files named for that language and locale.  These properties files are referred to as resource bundles.\n+\n+MessageSource is an interface for resolving messages from some defined source.  In Micronaut's context, i18n messages are retrieved from resource bundles using the class ResourceBundleMessageSource.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef8cd771fc19907ff2057c3269d2eb93b1d3afe5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTg2NzEwMw==", "bodyText": "This file should be named bundle.adoc. Moreover, this file is not included in toc.yml. Thus, if you run ./gradlew docs it is not included in the docs.", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3783#discussion_r459867103", "createdAt": "2020-07-24T06:05:40Z", "author": {"login": "sdelamo"}, "path": "src/main/docs/guide/bundle", "diffHunk": "@@ -0,0 +1,9 @@\n+Micronaut supports internationalization (i18n) by allowing it's applications to resolve text messages written in different languages and locales.  Messages are usually grouped by locale and ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef8cd771fc19907ff2057c3269d2eb93b1d3afe5"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTg2ODg0Mg==", "bodyText": "Code samples should be use code in tests. This allows easier to maintain documentation.", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3783#discussion_r459868842", "createdAt": "2020-07-24T06:12:40Z", "author": {"login": "sdelamo"}, "path": "src/main/docs/guide/config/i18n.adoc", "diffHunk": "@@ -0,0 +1,31 @@\n+== Internationalization (i18n)\n+\n+Micronaut provides for internationalization by reading user defined properties files.  A resource bundle is the grouping\n+of all properties files with the same base name.  All locales translations will provide the keys the same but the values\n+will be in the language specified.\n+\n+messages.properties - file will define key value pairs like this:\n+\n+[source,text]\n+app.title=micronaut.demo\n+\n+To retrieve this message inside your application, you will use the ResourceBundle like this:\n+\n+[source,java]\n+package com.example;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef8cd771fc19907ff2057c3269d2eb93b1d3afe5"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTg5OTA5OQ==", "bodyText": "This should be a top level instead of nested inside configuration.", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3783#discussion_r459899099", "createdAt": "2020-07-24T07:43:36Z", "author": {"login": "sdelamo"}, "path": "src/main/docs/guide/toc.yml", "diffHunk": "@@ -52,6 +52,8 @@ config:\n   # validation: Validating Configuration\n   jmx:\n     title: JMX Support\n+  i18n:\n+    title: Internationalization", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef8cd771fc19907ff2057c3269d2eb93b1d3afe5"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTg5OTQ2OA==", "bodyText": "link:{api}/io/micronaut/context/i18n/ResourceBundleMessageSource.html[ResourceBundleMessageSource]can be simplified as api:context.i18n.ResourceBundleMessageSource[].", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3783#discussion_r459899468", "createdAt": "2020-07-24T07:44:29Z", "author": {"login": "sdelamo"}, "path": "src/main/docs/guide/config/i18n.adoc", "diffHunk": "@@ -0,0 +1,31 @@\n+== Internationalization (i18n)\n+\n+Micronaut provides for internationalization by reading user defined properties files.  A resource bundle is the grouping\n+of all properties files with the same base name.  All locales translations will provide the keys the same but the values\n+will be in the language specified.\n+\n+messages.properties - file will define key value pairs like this:\n+\n+[source,text]\n+app.title=micronaut.demo\n+\n+To retrieve this message inside your application, you will use the ResourceBundle like this:\n+\n+[source,java]\n+package com.example;\n+import io.micronaut.runtime.Micronaut;\n+public class Application {\n+    public static void main(String[] args) {\n+        Micronaut.run(Application.class);\n+        Locale defaultLocale = new Locale();\n+        ResourceBundle messages = ResourceBundle.getBundle(\"messages\", defaultLocale);\n+        String msg1 = messages.getString(\"app.title\");\n+        System.out.println( msg1 ); // this will print \"micronaut.demo\"\n+    }\n+}\n+\n+Micronaut provides a class called\n+link:{api}/io/micronaut/context/i18n/ResourceBundleMessageSource.html[ResourceBundleMessageSource] to read the user", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef8cd771fc19907ff2057c3269d2eb93b1d3afe5"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bfcc1b93491f133e9f921ef7bcde1419a5671e3", "author": {"user": {"login": "sdelamo", "name": "Sergio del Amo"}}, "url": "https://github.com/micronaut-projects/micronaut-core/commit/6bfcc1b93491f133e9f921ef7bcde1419a5671e3", "committedDate": "2020-07-24T07:52:27Z", "message": "doc: test code samples ResourceBundleMessageSource"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2825, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}