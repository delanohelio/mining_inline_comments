{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3NjQ3OTA3", "number": 3241, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMDoxODoxOFrOEN-Zbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNTowMToyN1rOEOuh4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMDg5MjYyOnYy", "diffSide": "RIGHT", "path": "cli/src/tasks/new-plugin.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMDoxODoxOFrOGw4SUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMDoxODoxOFrOGw4SUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkwNzAyNA==", "bodyText": "The swift version can be bumped since 5.1 is the oldest version supported by Xcode 11.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              s.swift_version = '5.0'\n          \n          \n            \n              s.swift_version = '5.1'", "url": "https://github.com/ionic-team/capacitor/pull/3241#discussion_r453907024", "createdAt": "2020-07-13T20:18:18Z", "author": {"login": "ikeith"}, "path": "cli/src/tasks/new-plugin.ts", "diffHunk": "@@ -167,24 +167,24 @@ async function createIosPlugin(config: Config, pluginPath: string, domain: strin\n }\n \n function generatePodspec(config: Config, answers: NewPluginAnswers) {\n-  return `\n-  require 'json'\n-\n-  package = JSON.parse(File.read(File.join(__dir__, 'package.json')))\n-\n-  Pod::Spec.new do |s|\n-    s.name = '${fixName(answers.name)}'\n-    s.version = package['version']\n-    s.summary = package['description']\n-    s.license = package['license']\n-    s.homepage = package['repository']['url']\n-    s.author = package['author']\n-    s.source = { :git => package['repository']['url'], :tag => s.version.to_s }\n-    s.source_files = 'ios/Plugin/**/*.{swift,h,m,c,cc,mm,cpp}'\n-    s.ios.deployment_target  = '${config.ios.minVersion}'\n-    s.dependency 'Capacitor'\n-    s.swift_version = '5.0'\n-  end`;\n+  return `require 'json'\n+\n+package = JSON.parse(File.read(File.join(__dir__, 'package.json')))\n+\n+Pod::Spec.new do |s|\n+  s.name = '${fixName(answers.name)}'\n+  s.version = package['version']\n+  s.summary = package['description']\n+  s.license = package['license']\n+  s.homepage = package['repository']['url']\n+  s.author = package['author']\n+  s.source = { :git => package['repository']['url'], :tag => s.version.to_s }\n+  s.source_files = 'ios/Plugin/**/*.{swift,h,m,c,cc,mm,cpp}'\n+  s.ios.deployment_target  = '${config.ios.minVersion}'\n+  s.dependency 'Capacitor'\n+  s.swift_version = '5.0'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c5804595aca13600c5a90e7f0086a0d684c55ae"}, "originalPosition": 60}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzODc2NDYzOnYy", "diffSide": "RIGHT", "path": "cli/src/tasks/new-plugin.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo1ODoxMVrOGyCTqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo1ODoxMVrOGyCTqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTExOTc4Nw==", "bodyText": "isn't too much example?", "url": "https://github.com/ionic-team/capacitor/pull/3241#discussion_r455119787", "createdAt": "2020-07-15T14:58:11Z", "author": {"login": "jcesarmobile"}, "path": "cli/src/tasks/new-plugin.ts", "diffHunk": "@@ -46,19 +46,19 @@ export async function newPlugin(config: Config) {\n     {\n       type: 'input',\n       name: 'name',\n-      message: 'Plugin NPM name (kebab-case):',\n+      message: 'Plugin npm name (kebab-case. ex: capacitor-plugin-example):',\n       validate: requiredInput\n     },\n     {\n       type: 'input',\n       name: 'domain',\n-      message: 'Plugin id (domain-style syntax. ex: com.example.plugin)',\n+      message: 'Plugin id (domain-style syntax. ex: com.example.plugins.example)',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6987cfdd93a3b7a3c9cdfe11c4ba87c14ccd8f0a"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzODc3MjEzOnYy", "diffSide": "RIGHT", "path": "cli/src/tasks/new-plugin.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo1OTo1N1rOGyCYaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo1OTo1N1rOGyCYaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEyMTAwMw==", "bodyText": "since you are wrapping everything with '', shouldn't src be wrapped too?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    src: 'ios',\n          \n          \n            \n                    'src': 'ios',", "url": "https://github.com/ionic-team/capacitor/pull/3241#discussion_r455121003", "createdAt": "2020-07-15T14:59:57Z", "author": {"login": "jcesarmobile"}, "path": "cli/src/tasks/new-plugin.ts", "diffHunk": "@@ -221,47 +221,61 @@ function generateAndroidManifest(domain: string, pluginPath: string) {\n \n function generatePackageJSON(answers: NewPluginAnswers, cliVersion: string) {\n   return {\n-    name: answers.name,\n-    version: '0.0.1',\n-    description: answers.description,\n-    main: 'dist/esm/index.js',\n-    types: 'dist/esm/index.d.ts',\n-    scripts: {\n-      'build': 'npm run clean && tsc',\n+    'name': answers.name,\n+    'version': '0.0.1',\n+    'description': answers.description,\n+    'main': 'dist/plugin.js',\n+    'module': 'dist/esm/index.js',\n+    'types': 'dist/esm/index.d.ts',\n+    'scripts': {\n+      'lint': 'npm run prettier -- --check && npm run swiftlint -- lint',\n+      'prettier': 'prettier \"**/*.{css,html,ts,js,java}\"',\n+      'swiftlint': 'swiftlint',\n+      'build': 'npm run clean && tsc && rollup -c rollup.config.js',\n       'clean': 'rimraf ./dist',\n       'watch': 'tsc --watch',\n       'prepublishOnly': 'npm run build'\n     },\n-    author: answers.author,\n-    license: answers.license,\n-    dependencies: {\n-      '@capacitor/core': `^${cliVersion}`\n-    },\n-    devDependencies: {\n-      'rimraf': '^3.0.0',\n-      'typescript': '^3.2.4',\n+    'author': answers.author,\n+    'license': answers.license,\n+    'devDependencies': {\n+      '@capacitor/android': `^${cliVersion}`,\n+      '@capacitor/core': `^${cliVersion}`,\n       '@capacitor/ios': `^${cliVersion}`,\n-      '@capacitor/android': `^${cliVersion}`\n+      '@ionic/prettier-config': '^1.0.0',\n+      '@ionic/swiftlint-config': '^1.0.0',\n+      '@rollup/plugin-node-resolve': '^8.1.0',\n+      'prettier': '^2.0.5',\n+      'prettier-plugin-java': '^0.8.0',\n+      'rimraf': '^3.0.0',\n+      'rollup': '^2.21.0',\n+      'swiftlint': '^0.39.4',\n+      'typescript': '~3.8.3'\n+    },\n+    'peerDependencies': {\n+      '@capacitor/core': `^${cliVersion}`\n     },\n-    files: [\n+    'files': [\n       'dist/',\n       'ios/',\n       'android/',\n       `${fixName(answers.name)}.podspec`\n     ],\n-    keywords: [\n+    'keywords': [\n       'capacitor',\n       'plugin',\n       'native'\n     ],\n-    capacitor: {\n-      ios: {\n+    'capacitor': {\n+      'ios': {\n         src: 'ios',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6987cfdd93a3b7a3c9cdfe11c4ba87c14ccd8f0a"}, "originalPosition": 137}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzODc3ODU3OnYy", "diffSide": "RIGHT", "path": "plugin-template/android/Plugin.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNTowMToyN1rOGyCcVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNjowMDo1NlrOGyE21A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEyMjAwNg==", "bodyText": "Not related to the PR itself, but if the () is not really needed (tested and seems to work fine without it), we should probably remove it from all our core plugins, they all have it", "url": "https://github.com/ionic-team/capacitor/pull/3241#discussion_r455122006", "createdAt": "2020-07-15T15:01:27Z", "author": {"login": "jcesarmobile"}, "path": "plugin-template/android/Plugin.java", "diffHunk": "@@ -6,10 +6,10 @@\n import com.getcapacitor.PluginCall;\n import com.getcapacitor.PluginMethod;\n \n-@NativePlugin()\n+@NativePlugin", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6987cfdd93a3b7a3c9cdfe11c4ba87c14ccd8f0a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTE2MTU1Ng==", "bodyText": "Prettier will remove them automatically as it did for the plugin template", "url": "https://github.com/ionic-team/capacitor/pull/3241#discussion_r455161556", "createdAt": "2020-07-15T16:00:56Z", "author": {"login": "imhoffd"}, "path": "plugin-template/android/Plugin.java", "diffHunk": "@@ -6,10 +6,10 @@\n import com.getcapacitor.PluginCall;\n import com.getcapacitor.PluginMethod;\n \n-@NativePlugin()\n+@NativePlugin", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEyMjAwNg=="}, "originalCommit": {"oid": "6987cfdd93a3b7a3c9cdfe11c4ba87c14ccd8f0a"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3536, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}