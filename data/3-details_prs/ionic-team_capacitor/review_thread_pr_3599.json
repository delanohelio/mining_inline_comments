{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxMjM1OTQw", "number": 3599, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNjo0Njo1OFrOEuFYzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNjo0Njo1OFrOEuFYzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NzU4MjIyOnYy", "diffSide": "RIGHT", "path": "cli/src/common.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNjo0Njo1OFrOHiQ7BQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNjo0Njo1OFrOHiQ7BQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTY5MDg4NQ==", "bodyText": "would be good to give some insight about native-run, install from where? or how?", "url": "https://github.com/ionic-team/capacitor/pull/3599#discussion_r505690885", "createdAt": "2020-10-15T16:46:58Z", "author": {"login": "jcesarmobile"}, "path": "cli/src/common.ts", "diffHunk": "@@ -292,28 +288,62 @@ export async function runPlatformHook(\n   });\n }\n \n-export function runCommand(command: string): Promise<string> {\n-  return new Promise((resolve, reject) => {\n-    exec(command, (error, stdout, stderr) => {\n-      if (error) {\n-        reject(stdout + stderr);\n-      } else {\n-        resolve(stdout);\n-      }\n-    });\n-  });\n+export interface RunCommandOptions {\n+  cwd?: string;\n+}\n+\n+export async function runCommand(\n+  command: string,\n+  args: readonly string[],\n+  options: RunCommandOptions = {},\n+): Promise<string> {\n+  const p = new Subprocess(command, args, options);\n+\n+  try {\n+    return await p.output();\n+  } catch (e) {\n+    if (e instanceof SubprocessError) {\n+      // old behavior of just throwing the stdout/stderr strings\n+      throw e.output ? e.output : e.code;\n+    }\n+\n+    throw e;\n+  }\n+}\n+\n+export async function runNativeRun(\n+  args: readonly string[],\n+  options: RunCommandOptions = {},\n+): Promise<string> {\n+  try {\n+    return await runCommand('native-run', args, options);\n+  } catch (e) {\n+    if (e === ERROR_COMMAND_NOT_FOUND) {\n+      logFatal(\n+        `${c.input('native-run')} not found in PATH\\n` +\n+          `Are you sure ${c.strong('native-run')} is installed?`,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e00cd79e75d7397ff2e272b3c7efb2759505798a"}, "originalPosition": 164}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3410, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}