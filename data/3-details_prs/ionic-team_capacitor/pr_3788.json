{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE4ODExMDg3", "number": 3788, "title": "feat: automatically import Android plugins", "bodyText": "This is an implementation of the Android Plugin Auto-registration Proposal.\nTODO:\n\n Support adding additional classes during initialization (e.g. plugins from the app itself)\n Make it backwards compatible with @NativePlugin (?)\n Think about error handling when reflection fails\n\nInternally, the CLI creates a capacitor.plugins.json file inside android/app/src/main/assets (alongside capacitor.config.json) which is meant to be shipped in the final Android bundled app.\nThis file contains a list of classpaths to the Capacitor plugins it finds during npx cap update android. It looks like this:\n[\n        {\n                \"pkg\": \"@capacitor/action-sheet\",\n                \"classpath\": \"com.capacitorjs.plugins.actionsheet.ActionSheetPlugin\"\n        },\n\n        ...\n]\nThen, in Java, we use Reflection to load classes via Class.forName().\nThis simplifies the app developer workflow because they no longer need to use add() to add the class names to the list. MainActivity.java in most apps can look like this:\npublic class MainActivity extends BridgeActivity { }\nIf they want to add app plugins, they need to do something like this:\npublic class MainActivity extends BridgeActivity {\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    registerPlugin(CustomPlugin.class);\n  }\n}\ndepends on #3866\ndepends on #3762\nresolves #3266", "createdAt": "2020-11-10T22:50:38Z", "url": "https://github.com/ionic-team/capacitor/pull/3788", "merged": true, "mergeCommit": {"oid": "aa1e1c604e260cc8babb0e7f5230f692bdcf6f09"}, "closed": true, "closedAt": "2020-12-02T00:00:55Z", "author": {"login": "imhoffd"}, "timelineItems": {"totalCount": 50, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYp2ubAH2gAyNTE4ODExMDg3OmFmYjIxYWRiYzYyMThiMjgwOWRlOWViMTRlNDgyZmY5NTJjMzA4MGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiCd35AH2gAyNTE4ODExMDg3OjM1ZDFiZDgxOTkyNDdkMzliNzRiM2VjM2IzOGYzOThhYjA0ZGQ5NmI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "afb21adbc6218b2809de9eb14e482ff952c3080b", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/afb21adbc6218b2809de9eb14e482ff952c3080b", "committedDate": "2020-11-02T19:37:18Z", "message": "feat(cli): STUDIO_PATH environment variable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1e7f666f3e8ec21a5e4585f5ed345e24d52156c", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/e1e7f666f3e8ec21a5e4585f5ed345e24d52156c", "committedDate": "2020-11-02T19:58:29Z", "message": "check before opening"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf26a4b246aa841637a10e6983fefc62fa20a61e", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/cf26a4b246aa841637a10e6983fefc62fa20a61e", "committedDate": "2020-11-02T23:01:35Z", "message": "use config for config file name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c96aa186f666c197ec0bce5cf7612019c709b3b9", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/c96aa186f666c197ec0bce5cf7612019c709b3b9", "committedDate": "2020-11-02T23:21:23Z", "message": "split out extConfig stuff"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d54128741092c616b5eac450231d8ec994e9fd73", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/d54128741092c616b5eac450231d8ec994e9fd73", "committedDate": "2020-11-02T23:44:39Z", "message": "load js"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d0e5c1bbc5c8d78a043998f96bce317244f5a40", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/7d0e5c1bbc5c8d78a043998f96bce317244f5a40", "committedDate": "2020-11-02T23:56:19Z", "message": "copy = write json from loaded config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a47e914b0bfcbaf8923fa6d00fcab260301f0a1", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/8a47e914b0bfcbaf8923fa6d00fcab260301f0a1", "committedDate": "2020-11-03T00:02:44Z", "message": "init for non-json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e9860588760cc59e17e5cfac5b958b4e2fa82a1", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/5e9860588760cc59e17e5cfac5b958b4e2fa82a1", "committedDate": "2020-11-03T16:32:25Z", "message": "Merge branch 'main' into dynamic-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76264f27f6be0eba8f9886a61c8354d30cace188", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/76264f27f6be0eba8f9886a61c8354d30cace188", "committedDate": "2020-11-03T16:35:54Z", "message": "revert the help output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9462e6a7ae5b171dae7fa6473fcb36659efb83d8", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/9462e6a7ae5b171dae7fa6473fcb36659efb83d8", "committedDate": "2020-11-03T20:22:27Z", "message": "support TS files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "859c0effe837ee88bfc2c1e30add8f2c85a6e276", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/859c0effe837ee88bfc2c1e30add8f2c85a6e276", "committedDate": "2020-11-03T20:48:44Z", "message": "expose CapacitorConfig type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2eb9c376b80eb6949ffd15bc8abad874b8266a2", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/c2eb9c376b80eb6949ffd15bc8abad874b8266a2", "committedDate": "2020-11-03T20:56:41Z", "message": "internalize readonly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7861b808e034f32068c4df03400f334786e8531f", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/7861b808e034f32068c4df03400f334786e8531f", "committedDate": "2020-11-03T21:53:51Z", "message": "document all the things"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b3b2bddb1affaff7228d250b69fcb3adb20bdeb", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/4b3b2bddb1affaff7228d250b69fcb3adb20bdeb", "committedDate": "2020-11-03T21:57:32Z", "message": "undo core change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6450aa50ea25422dfab1399b7ab760577d1e984", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/e6450aa50ea25422dfab1399b7ab760577d1e984", "committedDate": "2020-11-04T23:06:43Z", "message": "add definitions for plugin config values"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de6e9e18fea268012e223f5331c6d66abca8743e", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/de6e9e18fea268012e223f5331c6d66abca8743e", "committedDate": "2020-11-04T23:25:06Z", "message": "locate plugins by allowlist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e8db7852dac2584ecc06e0f1ae56c7932f84522", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/3e8db7852dac2584ecc06e0f1ae56c7932f84522", "committedDate": "2020-11-06T20:27:47Z", "message": "add warning for deprecated usage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2075bd1cff55b92b4ad35bad50239cd4ec2f52a", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/c2075bd1cff55b92b4ad35bad50239cd4ec2f52a", "committedDate": "2020-11-09T21:13:04Z", "message": "Merge branch 'main' into plugin-locator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a56d83dc6ecc6512f8f653b60421e41953855efd", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/a56d83dc6ecc6512f8f653b60421e41953855efd", "committedDate": "2020-11-10T20:47:28Z", "message": "Merge branch 'main' into plugin-locator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a83d03492cfe39d17184356ce5d28a7a3d7ee2c", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/7a83d03492cfe39d17184356ce5d28a7a3d7ee2c", "committedDate": "2020-11-10T22:01:03Z", "message": "write capacitor.plugins.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9944b81141da618ef83b3ad926088dc73d3a6839", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/9944b81141da618ef83b3ad926088dc73d3a6839", "committedDate": "2020-11-10T22:42:37Z", "message": "load from json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd74cdbfeb42e142101bfec21023495196e59b29", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/dd74cdbfeb42e142101bfec21023495196e59b29", "committedDate": "2020-11-25T20:42:11Z", "message": "Merge branch 'main' into auto-android"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "917a739f7c5cc8dea26b6c9b8439d514d0ce9bfe", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/917a739f7c5cc8dea26b6c9b8439d514d0ce9bfe", "committedDate": "2020-11-25T21:04:27Z", "message": "Merge branch 'main' into auto-android"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0ac650089b98bc14e10c42d6632a888ebed120e", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/d0ac650089b98bc14e10c42d6632a888ebed120e", "committedDate": "2020-11-25T21:05:18Z", "message": "no need to override onCreate"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27942d68417a8d43234586e0459fec705f2f86d3", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/27942d68417a8d43234586e0459fec705f2f86d3", "committedDate": "2020-11-25T21:05:29Z", "message": "remove declarations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "633f5a7025b2686a0cd327c08e19dc5dde973e7b", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/633f5a7025b2686a0cd327c08e19dc5dde973e7b", "committedDate": "2020-11-25T22:57:25Z", "message": "refactor(android): consolidate bridge construction"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f5068bd65cebfe3e12394055540976bc4abad6a", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/9f5068bd65cebfe3e12394055540976bc4abad6a", "committedDate": "2020-11-29T20:38:27Z", "message": "bridge activity changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e94cbba17224975ca7d2e691f7ffe1cd3091dd9", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/6e94cbba17224975ca7d2e691f7ffe1cd3091dd9", "committedDate": "2020-11-29T20:43:37Z", "message": "Merge branch 'main' into auto-android"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ee879441452807aed56d5741bfb796873047ed2", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/9ee879441452807aed56d5741bfb796873047ed2", "committedDate": "2020-11-29T20:53:25Z", "message": "add plugins shortcut"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0e2e4ffcf8723ede18d51e92a96dd6aa749ef71", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/b0e2e4ffcf8723ede18d51e92a96dd6aa749ef71", "committedDate": "2020-11-29T20:58:47Z", "message": "take out init deprecations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c805e409e4404621c5eac51be2351552aff29220", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/c805e409e4404621c5eac51be2351552aff29220", "committedDate": "2020-11-29T21:00:27Z", "message": "revert viz change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e05bfd92752ce860bc9f4684ed27c9e1ec31ce30", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/e05bfd92752ce860bc9f4684ed27c9e1ec31ce30", "committedDate": "2020-11-29T21:01:14Z", "message": "fix call"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abdc85af8c18a70fd48153725bb5658605da719f", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/abdc85af8c18a70fd48153725bb5658605da719f", "committedDate": "2020-11-29T21:02:14Z", "message": "Merge branch 'main' into refactor-bridge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c7c0c336be3ca969aab8708d9166f5743feddf6", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/6c7c0c336be3ca969aab8708d9166f5743feddf6", "committedDate": "2020-11-29T21:05:05Z", "message": "Merge branch 'refactor-bridge' into auto-android\n\nConflicts:\n\tandroid/capacitor/src/main/java/com/getcapacitor/BridgeActivity.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "979fbe59290398e99c4b6bd1419ac9c5997cd1f8", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/979fbe59290398e99c4b6bd1419ac9c5997cd1f8", "committedDate": "2020-11-29T21:10:52Z", "message": "deprecate and load automatically"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25d7726730b308bc1406407f4987c3f6bc39e5d7", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/25d7726730b308bc1406407f4987c3f6bc39e5d7", "committedDate": "2020-11-30T22:45:11Z", "message": "make it work with NativePlugin annotation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcd18a000e56c620d52b9645195615e26f2da16b", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/fcd18a000e56c620d52b9645195615e26f2da16b", "committedDate": "2020-11-30T23:04:48Z", "message": "plugin manager, error handling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77807c96e7b6ed2f9daafe5997f757a4485696e0", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/77807c96e7b6ed2f9daafe5997f757a4485696e0", "committedDate": "2020-11-30T23:29:02Z", "message": "integrate Builder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4177c4236f9964967072cff65b360521105b585e", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/4177c4236f9964967072cff65b360521105b585e", "committedDate": "2020-11-30T23:32:15Z", "message": "Merge branch 'main' into refactor-bridge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae0003586f9591ec77f2947a13ecc9e01f9c26b2", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/ae0003586f9591ec77f2947a13ecc9e01f9c26b2", "committedDate": "2020-11-30T23:32:46Z", "message": "Merge branch 'refactor-bridge' into auto-android"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b17fa0a262332756fb5ed692c9162b7555f3739d", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/b17fa0a262332756fb5ed692c9162b7555f3739d", "committedDate": "2020-11-30T23:35:22Z", "message": "build() -> create()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d6d4b70415ca68bfa7cba4831ec795978aa21cf", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/1d6d4b70415ca68bfa7cba4831ec795978aa21cf", "committedDate": "2020-12-01T00:09:11Z", "message": "Merge branch 'refactor-bridge' into auto-android"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1eb89dd7f009bc1ae678962bfb31c7b4235253f8", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/1eb89dd7f009bc1ae678962bfb31c7b4235253f8", "committedDate": "2020-12-01T00:10:32Z", "message": "Merge branch 'main' into auto-android"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9407e064a10113a45a177d402b7b4fcf641fe2e3", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/9407e064a10113a45a177d402b7b4fcf641fe2e3", "committedDate": "2020-12-01T00:19:18Z", "message": "add deprecation messages"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMzk4ODI1", "url": "https://github.com/ionic-team/capacitor/pull/3788#pullrequestreview-541398825", "createdAt": "2020-12-01T00:24:07Z", "commit": {"oid": "9407e064a10113a45a177d402b7b4fcf641fe2e3"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMDoyNDowOFrOH8TNQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMDoyNDowOFrOH8TNQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk5MTI5OQ==", "bodyText": ":)\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    try (BufferedReader br = new BufferedReader(new InputStreamReader(assetManager.open(\"capacitor.plugins.json\")))) {\n          \n          \n            \n                        StringBuilder b = new StringBuilder();\n          \n          \n            \n                        String line;\n          \n          \n            \n                        while ((line = br.readLine()) != null) {\n          \n          \n            \n                            b.append(line);\n          \n          \n            \n                        }\n          \n          \n            \n                        String jsonString = b.toString();\n          \n          \n            \n                    try (BufferedReader reader = new BufferedReader(new InputStreamReader(assetManager.open(\"capacitor.plugins.json\")))) {\n          \n          \n            \n                        StringBuilder builder = new StringBuilder();\n          \n          \n            \n                        String line;\n          \n          \n            \n                        while ((line = reader.readLine()) != null) {\n          \n          \n            \n                            builder.append(line);\n          \n          \n            \n                        }\n          \n          \n            \n                        String jsonString = builder.toString();", "url": "https://github.com/ionic-team/capacitor/pull/3788#discussion_r532991299", "createdAt": "2020-12-01T00:24:08Z", "author": {"login": "carlpoole"}, "path": "android/capacitor/src/main/java/com/getcapacitor/PluginManager.java", "diffHunk": "@@ -0,0 +1,56 @@\n+package com.getcapacitor;\n+\n+import android.content.res.AssetManager;\n+import java.io.BufferedReader;\n+import java.io.IOException;\n+import java.io.InputStreamReader;\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.json.JSONArray;\n+import org.json.JSONException;\n+import org.json.JSONObject;\n+\n+public class PluginManager {\n+\n+    private final AssetManager assetManager;\n+\n+    public PluginManager(AssetManager assetManager) {\n+        this.assetManager = assetManager;\n+    }\n+\n+    public List<Class<? extends Plugin>> loadPluginClasses() throws PluginLoadException {\n+        JSONArray pluginsJSON = parsePluginsJSON();\n+        ArrayList<Class<? extends Plugin>> pluginList = new ArrayList<>();\n+\n+        try {\n+            for (int i = 0, size = pluginsJSON.length(); i < size; i++) {\n+                JSONObject pluginJSON = pluginsJSON.getJSONObject(i);\n+                String classPath = pluginJSON.getString(\"classpath\");\n+                Class<?> c = Class.forName(classPath);\n+                pluginList.add(c.asSubclass(Plugin.class));\n+            }\n+        } catch (JSONException e) {\n+            throw new PluginLoadException(\"Could not parse capacitor.plugins.json as JSON\");\n+        } catch (ClassNotFoundException e) {\n+            throw new PluginLoadException(\"Could not find class by class path: \" + e.getMessage());\n+        }\n+\n+        return pluginList;\n+    }\n+\n+    private JSONArray parsePluginsJSON() throws PluginLoadException {\n+        try (BufferedReader br = new BufferedReader(new InputStreamReader(assetManager.open(\"capacitor.plugins.json\")))) {\n+            StringBuilder b = new StringBuilder();\n+            String line;\n+            while ((line = br.readLine()) != null) {\n+                b.append(line);\n+            }\n+            String jsonString = b.toString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9407e064a10113a45a177d402b7b4fcf641fe2e3"}, "originalPosition": 48}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20700551e28a276d3597accf4ec18314450f8966", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/20700551e28a276d3597accf4ec18314450f8966", "committedDate": "2020-12-01T00:31:46Z", "message": "Update android/capacitor/src/main/java/com/getcapacitor/PluginManager.java\n\nCo-authored-by: Carl Poole <mail@carlpoole.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d06e23ff26754a1c538807f9dc0552155ee421b0", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/d06e23ff26754a1c538807f9dc0552155ee421b0", "committedDate": "2020-12-01T01:42:53Z", "message": "add registerPlugin/registerPlugins helpers"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyMDYxMDY2", "url": "https://github.com/ionic-team/capacitor/pull/3788#pullrequestreview-542061066", "createdAt": "2020-12-01T16:11:28Z", "commit": {"oid": "d06e23ff26754a1c538807f9dc0552155ee421b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6164e0d3ea040b853417d83faa047454219c4d7", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/c6164e0d3ea040b853417d83faa047454219c4d7", "committedDate": "2020-12-01T17:34:36Z", "message": "Merge branch 'main' into auto-android"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35d1bd8199247d39b74b3ec3b38f398ab04dd96b", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/35d1bd8199247d39b74b3ec3b38f398ab04dd96b", "committedDate": "2020-12-01T23:23:06Z", "message": "Merge branch 'main' into auto-android"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1106, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}