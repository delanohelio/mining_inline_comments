{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2MTkwMzg5", "number": 2548, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxOToxMDo0M1rODod-mA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxMTowNzozOVrODorLcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNzYwNzkyOnYy", "diffSide": "RIGHT", "path": "android/capacitor/src/main/java/com/getcapacitor/plugin/notification/LocalNotificationManager.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxOToxMDo0M1rOF3CVRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxOToxMDo0M1rOF3CVRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI1NDIxMw==", "bodyText": "this crash if the color is not valid, put it inside a try catch (check other plugins like Browser or Statusbar)", "url": "https://github.com/ionic-team/capacitor/pull/2548#discussion_r393254213", "createdAt": "2020-03-16T19:10:43Z", "author": {"login": "jcesarmobile"}, "path": "android/capacitor/src/main/java/com/getcapacitor/plugin/notification/LocalNotificationManager.java", "diffHunk": "@@ -174,6 +175,12 @@ private void buildNotification(NotificationManagerCompat notificationManager, Lo\n     mBuilder.setOnlyAlertOnce(true);\n \n     mBuilder.setSmallIcon(localNotification.getSmallIcon(context));\n+\n+    String iconColor = localNotification.getIconColor();\n+    if (iconColor != null) {\n+      mBuilder.setColor(Color.parseColor(iconColor));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "627cf9718877b925d048d75cb743c5b6260f52c3"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNzYwODk4OnYy", "diffSide": "RIGHT", "path": "core/src/core-plugin-definitions.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxOToxMDo1OVrOF3CV4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxOToxMDo1OVrOF3CV4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI1NDM3MQ==", "bodyText": "can you properly align this?", "url": "https://github.com/ionic-team/capacitor/pull/2548#discussion_r393254371", "createdAt": "2020-03-16T19:10:59Z", "author": {"login": "jcesarmobile"}, "path": "core/src/core-plugin-definitions.ts", "diffHunk": "@@ -1033,6 +1033,10 @@ export interface LocalNotification {\n    * If set, it overrides default icon from capacitor.config.json\n    */\n   smallIcon?: string;\n+      /**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "627cf9718877b925d048d75cb743c5b6260f52c3"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNzYxMzU3OnYy", "diffSide": "RIGHT", "path": "site/docs-md/apis/local-notifications/index.md", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxOToxMjoyNlrOF3CYyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNzoyODo0M1rOF3mozQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI1NTExNQ==", "bodyText": "since they are optional, don't add them to the sample, or if you add them, do it with a real value and not null.\nIn this case, null crash the app (see my previous try catch comment)", "url": "https://github.com/ionic-team/capacitor/pull/2548#discussion_r393255115", "createdAt": "2020-03-16T19:12:26Z", "author": {"login": "jcesarmobile"}, "path": "site/docs-md/apis/local-notifications/index.md", "diffHunk": "@@ -33,7 +33,9 @@ LocalNotifications.schedule({\n       sound: null,\n       attachments: null,\n       actionTypeId: \"\",\n-      extra: null\n+      extra: null,\n+      smallIcon: null,\n+      iconColor: null", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "627cf9718877b925d048d75cb743c5b6260f52c3"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI1OTM3Mw==", "bodyText": "is there a better way to show users that these values are optional anywhere in docs?  Feel like leaving it off doesn't let people know that they are there.", "url": "https://github.com/ionic-team/capacitor/pull/2548#discussion_r393259373", "createdAt": "2020-03-16T19:21:16Z", "author": {"login": "andysousa"}, "path": "site/docs-md/apis/local-notifications/index.md", "diffHunk": "@@ -33,7 +33,9 @@ LocalNotifications.schedule({\n       sound: null,\n       attachments: null,\n       actionTypeId: \"\",\n-      extra: null\n+      extra: null,\n+      smallIcon: null,\n+      iconColor: null", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI1NTExNQ=="}, "originalCommit": {"oid": "627cf9718877b925d048d75cb743c5b6260f52c3"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzYwMzU4Mg==", "bodyText": "Most people will use typescript, so they can easily check the types.\nDocs are generated from the types, but don't work very well in some cases, so checking the types directly is better than the website docs.\nBut as I said, if you want to change the example to use smallIcon and iconColor, just use valid values instead of null", "url": "https://github.com/ionic-team/capacitor/pull/2548#discussion_r393603582", "createdAt": "2020-03-17T11:13:42Z", "author": {"login": "jcesarmobile"}, "path": "site/docs-md/apis/local-notifications/index.md", "diffHunk": "@@ -33,7 +33,9 @@ LocalNotifications.schedule({\n       sound: null,\n       attachments: null,\n       actionTypeId: \"\",\n-      extra: null\n+      extra: null,\n+      smallIcon: null,\n+      iconColor: null", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI1NTExNQ=="}, "originalCommit": {"oid": "627cf9718877b925d048d75cb743c5b6260f52c3"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzg0OTAzNw==", "bodyText": "removed for consistency", "url": "https://github.com/ionic-team/capacitor/pull/2548#discussion_r393849037", "createdAt": "2020-03-17T17:28:43Z", "author": {"login": "andysousa"}, "path": "site/docs-md/apis/local-notifications/index.md", "diffHunk": "@@ -33,7 +33,9 @@ LocalNotifications.schedule({\n       sound: null,\n       attachments: null,\n       actionTypeId: \"\",\n-      extra: null\n+      extra: null,\n+      smallIcon: null,\n+      iconColor: null", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI1NTExNQ=="}, "originalCommit": {"oid": "627cf9718877b925d048d75cb743c5b6260f52c3"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzOTc3MDc0OnYy", "diffSide": "RIGHT", "path": "android/capacitor/src/main/java/com/getcapacitor/plugin/notification/LocalNotificationManager.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxMTowNzozOVrOF3XduQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNzoyODozMVrOF3moSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzYwMDQ0MQ==", "bodyText": "For consistency, better use the same error message as Status Bar plugin\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    call.error(\"The iconColor string was not able to be parsed.  Please provide a valid string hexidecimal color code.\", ex);\n          \n          \n            \n                    call.error(\"Invalid color provided. Must be a hex string (ex: #ff0000\");", "url": "https://github.com/ionic-team/capacitor/pull/2548#discussion_r393600441", "createdAt": "2020-03-17T11:07:39Z", "author": {"login": "jcesarmobile"}, "path": "android/capacitor/src/main/java/com/getcapacitor/plugin/notification/LocalNotificationManager.java", "diffHunk": "@@ -174,6 +175,17 @@ private void buildNotification(NotificationManagerCompat notificationManager, Lo\n     mBuilder.setOnlyAlertOnce(true);\n \n     mBuilder.setSmallIcon(localNotification.getSmallIcon(context));\n+\n+    String iconColor = localNotification.getIconColor();\n+    if (iconColor != null) {\n+      try {\n+        mBuilder.setColor(Color.parseColor(iconColor));\n+      } catch (Exception ex) {\n+        call.error(\"The iconColor string was not able to be parsed.  Please provide a valid string hexidecimal color code.\", ex);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2403ed4fcd6f5c1b54b0160fa3c000993779fa70"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzg0ODkwNw==", "bodyText": "fixed", "url": "https://github.com/ionic-team/capacitor/pull/2548#discussion_r393848907", "createdAt": "2020-03-17T17:28:31Z", "author": {"login": "andysousa"}, "path": "android/capacitor/src/main/java/com/getcapacitor/plugin/notification/LocalNotificationManager.java", "diffHunk": "@@ -174,6 +175,17 @@ private void buildNotification(NotificationManagerCompat notificationManager, Lo\n     mBuilder.setOnlyAlertOnce(true);\n \n     mBuilder.setSmallIcon(localNotification.getSmallIcon(context));\n+\n+    String iconColor = localNotification.getIconColor();\n+    if (iconColor != null) {\n+      try {\n+        mBuilder.setColor(Color.parseColor(iconColor));\n+      } catch (Exception ex) {\n+        call.error(\"The iconColor string was not able to be parsed.  Please provide a valid string hexidecimal color code.\", ex);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzYwMDQ0MQ=="}, "originalCommit": {"oid": "2403ed4fcd6f5c1b54b0160fa3c000993779fa70"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3558, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}