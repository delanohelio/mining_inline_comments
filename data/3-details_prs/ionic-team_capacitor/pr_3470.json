{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczNDgxNTIx", "number": 3470, "title": "chore(cli): replace inquirer with prompts", "bodyText": "prompts will reduce CLI dependencies by ~30 and save >20MB of disk space per install.\nThe onCancel emulates the previous behavior with inquirer. When ctrl+c is used with inquirer, it calls process.exit automatically.", "createdAt": "2020-08-25T20:55:15Z", "url": "https://github.com/ionic-team/capacitor/pull/3470", "merged": true, "mergeCommit": {"oid": "f5b94ffcbd2e9da0278c9f1deef67c917a98f91f"}, "closed": true, "closedAt": "2020-08-26T16:56:36Z", "author": {"login": "imhoffd"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCdgmGAH2gAyNDczNDgxNTIxOjY2OGI4Yjc2OGE2YWRhNzZiNzFjOWQ1YzU0ODQwY2JmODRmYmJhNTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCuDBWgFqTQ3NTYzODYwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "668b8b768a6ada76b71c9d5c54840cbf84fbba51", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/668b8b768a6ada76b71c9d5c54840cbf84fbba51", "committedDate": "2020-08-25T20:47:56Z", "message": "replace inquirer with prompts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NDAzNzY5", "url": "https://github.com/ionic-team/capacitor/pull/3470#pullrequestreview-475403769", "createdAt": "2020-08-26T11:39:48Z", "commit": {"oid": "668b8b768a6ada76b71c9d5c54840cbf84fbba51"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozOTo0OFrOHHIGHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozOTo0OFrOHHIGHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIzNDcxNw==", "bodyText": "Looks like this code is unreachable, the whole generateCapacitorConfig could be deleted. The capacitor.config.json is generated on init, so it always exists on add. And if it doesn't exist add won't work anyway, so it never prompts for webDir.\nMaybe it should be moved to the init?\nBut I would vote for deleting the whole generateCapacitorConfig from here and maybe reintroduce the webDir prompt as part of #3465", "url": "https://github.com/ionic-team/capacitor/pull/3470#discussion_r477234717", "createdAt": "2020-08-26T11:39:48Z", "author": {"login": "jcesarmobile"}, "path": "cli/src/tasks/add.ts", "diffHunk": "@@ -93,16 +94,18 @@ export async function generateCapacitorConfig(config: Config) {\n     return;\n   }\n \n-  const inquirer = await import('inquirer');\n-  const answers = await inquirer.prompt([\n-    {\n-      type: 'input',\n-      name: 'webDir',\n-      message:\n-        'What directory are your web assets in? (index.html, built JavaScript, etc.):',\n-      default: 'www',\n-    },\n-  ]);\n+  const answers = await prompts(\n+    [\n+      {\n+        type: 'text',\n+        name: 'webDir',\n+        message:\n+          'What directory are your web assets in? (index.html, built JavaScript, etc.):',\n+        initial: 'www',\n+      },\n+    ],\n+    { onCancel: () => process.exit(1) },\n+  );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "668b8b768a6ada76b71c9d5c54840cbf84fbba51"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NjM4NjA4", "url": "https://github.com/ionic-team/capacitor/pull/3470#pullrequestreview-475638608", "createdAt": "2020-08-26T16:04:01Z", "commit": {"oid": "668b8b768a6ada76b71c9d5c54840cbf84fbba51"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1165, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}