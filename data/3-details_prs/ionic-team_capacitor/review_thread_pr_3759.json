{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0OTE1NDQ2", "number": 3759, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQyMToyMzo1N1rOE29WcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMDoyMTozMVrOE7swbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2MDYzNzI5OnYy", "diffSide": "RIGHT", "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "isResolved": true, "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQyMToyMzo1N1rOHwCKCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMToxNDozNVrOHwv29A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDEyOTAzNQ==", "bodyText": "Since this is now defined, should we deprecate CAPPlugin.getConfigValue() ?", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r520129035", "createdAt": "2020-11-09T21:23:57Z", "author": {"login": "imhoffd"}, "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "diffHunk": "@@ -0,0 +1,17 @@\n+import Foundation\n+\n+extension InstanceConfiguration {\n+    @objc public func getPluginConfigValue(_ pluginId: String, _ configKey: String) -> Any? {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce2cb0176463174364668f67a1bd0a8722fbe838"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE2MDcyOQ==", "bodyText": "This has always been defined on CAPConfig. I moved it here for compatibility as CAPPlugin.getConfigValue() is just a pass-through to this method. (having two methods to do the same thing is potentially confusing but that's the way it's always worked)\nIdeally, I think it'd be better if the plugin held its own configuration (which could be set at registration), at which point both of these methods could be deprecated. But if we pursue that approach it would be a follow-on piece of work.", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r520160729", "createdAt": "2020-11-09T22:26:40Z", "author": {"login": "ikeith"}, "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "diffHunk": "@@ -0,0 +1,17 @@\n+import Foundation\n+\n+extension InstanceConfiguration {\n+    @objc public func getPluginConfigValue(_ pluginId: String, _ configKey: String) -> Any? {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDEyOTAzNQ=="}, "originalCommit": {"oid": "ce2cb0176463174364668f67a1bd0a8722fbe838"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE5ODAyMw==", "bodyText": "Ideally, I think it'd be better if the plugin held its own configuration\n\n\"held\" meaning what exactly? What API do you propose for getting the plugin's config?", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r520198023", "createdAt": "2020-11-09T23:59:34Z", "author": {"login": "aparajita"}, "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "diffHunk": "@@ -0,0 +1,17 @@\n+import Foundation\n+\n+extension InstanceConfiguration {\n+    @objc public func getPluginConfigValue(_ pluginId: String, _ configKey: String) -> Any? {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDEyOTAzNQ=="}, "originalCommit": {"oid": "ce2cb0176463174364668f67a1bd0a8722fbe838"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY5MTk2Mg==", "bodyText": "Presently, the plugin's config is parsed from the file and held as a sub dictionary by the bridge's config. Like so:\n{\n\"plugins\": {\n  \"SplashScreen\": {\n    \"launchShowDuration\": 3000,\n    \"backgroundColor\": \"#ffffffff\"\n  }\n}}\n\nWhich means that the plugins call getConfigValue(\"backgroundColor\"), which calls bridge.getPluginConfigValue(\"SplashScreen\", \"backgroundColor\") (or they can call getPluginConfigValue directly) and the bridge looks for that key path in its store to get the value. It's unnecessarily complicated.\nInstead, the bridge could match up the name of the plugin and set the configuration at registration. So the plugin would have its own ivar that looks like:\n{\n  \"launchShowDuration\": 3000,\n  \"backgroundColor\": \"#ffffffff\"\n }\n\nSo rather than reaching up the bridge for each and every value, it would function more like CAPPluginCalls options. And that opens the possibility for the plugin's config to adopt the same typed accessors like getString, getBool, etc.", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r520691962", "createdAt": "2020-11-10T16:20:30Z", "author": {"login": "ikeith"}, "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "diffHunk": "@@ -0,0 +1,17 @@\n+import Foundation\n+\n+extension InstanceConfiguration {\n+    @objc public func getPluginConfigValue(_ pluginId: String, _ configKey: String) -> Any? {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDEyOTAzNQ=="}, "originalCommit": {"oid": "ce2cb0176463174364668f67a1bd0a8722fbe838"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDczMzU0NQ==", "bodyText": "@ikeith Yeah, I know all about the current structure, I've pretty heavily extended CAPConfig. I figured putting the config on the plugin object itself is what you meant, because that's exactly what I would do. \ud83d\ude01\nOne thing I did in my plugins was to implement a convenience API that looks first in a call's options and then falls back to the config. So:\nfunc getString(from call: CAPPluginCall, orConfig fallback: Bool = false) -> String?\nThis ends up being quite useful.\nWhile you're rewriting so much API, have you given any thought to making the Swift API more iOS idiomatic? For example, this is idiomatic for JavaScript or Java, because there are no labeled parameters in those languages:\nfunc getString(_ call: CAPPluginCall) -> String?\nBut this is idiomatic for iOS:\nfunc getString(from call: CAPPluginCall) -> String?", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r520733545", "createdAt": "2020-11-10T17:17:40Z", "author": {"login": "aparajita"}, "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "diffHunk": "@@ -0,0 +1,17 @@\n+import Foundation\n+\n+extension InstanceConfiguration {\n+    @objc public func getPluginConfigValue(_ pluginId: String, _ configKey: String) -> Any? {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDEyOTAzNQ=="}, "originalCommit": {"oid": "ce2cb0176463174364668f67a1bd0a8722fbe838"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgyMDgxNw==", "bodyText": "Well, the usage of get in the name isn't idiomatic for Swift in the first place so that isn't a great example. But, yes, moving toward a more fluent, idiomatic API is a goal but not an absolute one. It's a gradual process (some of which was done in #3678) and has to be balanced against backwards compatibility, unnecessarily disruption, and expectations of developers less familiar with the native conventions.", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r520820817", "createdAt": "2020-11-10T19:29:18Z", "author": {"login": "ikeith"}, "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "diffHunk": "@@ -0,0 +1,17 @@\n+import Foundation\n+\n+extension InstanceConfiguration {\n+    @objc public func getPluginConfigValue(_ pluginId: String, _ configKey: String) -> Any? {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDEyOTAzNQ=="}, "originalCommit": {"oid": "ce2cb0176463174364668f67a1bd0a8722fbe838"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg1MTAyOA==", "bodyText": "You can always add idiomatic API that calls through to the non-idiomatic API. Or maybe vice versa is better since you may want to eventually deprecate the non-idiomatic API.\nI guess the most idiomatic API would be to define functions on the config object on the plugin. Something like this:\nclass CAPPluginConfig {\n  private config: [String: Any?]\n\n  func string(withKey key: String) -> String? {\n    return config[key] as? String\n  }\n\n  func int(withKey key: String) -> Int {\n    return config[key] as? Int\n  }\n\n  // and so on...\n}\n\nclass CAPPlugin {\n  public config: CAPPluginConfig\n\n  func getConfigString(_ key: String) -> String? {\n    return config.string(withKey: key)\n  }\n}\n\npublic class MyPlugin: CAPPlugin {\n  @objc func doSomething() {\n    if let foo = config.string(withKey: \"foo\") {\n      // hooray\n    }\n  }\n}\nHaving wrestled with (and read all of the source code of) the current config API, I'd be happy to work on adding something like the above.", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r520851028", "createdAt": "2020-11-10T20:22:55Z", "author": {"login": "aparajita"}, "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "diffHunk": "@@ -0,0 +1,17 @@\n+import Foundation\n+\n+extension InstanceConfiguration {\n+    @objc public func getPluginConfigValue(_ pluginId: String, _ configKey: String) -> Any? {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDEyOTAzNQ=="}, "originalCommit": {"oid": "ce2cb0176463174364668f67a1bd0a8722fbe838"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg2ODI4NQ==", "bodyText": "In the example of CAPPluginCall, the idiomatic way to access the parameters would be call.options[\"something] as? String ?? \"default\". The various get methods exist solely as a convenience for developers who don't want/expect Swift idioms. So any change to the plugin would follow a similar pattern. Making Swift-idiomatic wrapper methods isn't the point.", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r520868285", "createdAt": "2020-11-10T20:55:53Z", "author": {"login": "ikeith"}, "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "diffHunk": "@@ -0,0 +1,17 @@\n+import Foundation\n+\n+extension InstanceConfiguration {\n+    @objc public func getPluginConfigValue(_ pluginId: String, _ configKey: String) -> Any? {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDEyOTAzNQ=="}, "originalCommit": {"oid": "ce2cb0176463174364668f67a1bd0a8722fbe838"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg3NzgxMg==", "bodyText": "You are right, good point. I sometimes forget just how good Swift is.", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r520877812", "createdAt": "2020-11-10T21:14:35Z", "author": {"login": "aparajita"}, "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "diffHunk": "@@ -0,0 +1,17 @@\n+import Foundation\n+\n+extension InstanceConfiguration {\n+    @objc public func getPluginConfigValue(_ pluginId: String, _ configKey: String) -> Any? {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDEyOTAzNQ=="}, "originalCommit": {"oid": "ce2cb0176463174364668f67a1bd0a8722fbe838"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxMDMxMTUyOnYy", "diffSide": "LEFT", "path": "ios/Capacitor/Capacitor/CAPLog.swift", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMDowOTowNlrOH3fLmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMDo1OTozNFrOH3gjMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk0NDYwMA==", "bodyText": "Not sure why this was public to begin with, but just noting that it is something being removed from the public API.", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r527944600", "createdAt": "2020-11-20T20:09:06Z", "author": {"login": "imhoffd"}, "path": "ios/Capacitor/Capacitor/CAPLog.swift", "diffHunk": "@@ -1,19 +1,11 @@\n public class CAPLog {\n-\n-    public static let config = CAPConfig()\n+    public static var enableLogging: Bool = true\n \n     public static func print(_ items: Any..., separator: String = \" \", terminator: String = \"\\n\") {\n-        if !self.hideLogs() {\n+        if enableLogging {\n             for (itemIndex, item) in items.enumerated() {\n                 Swift.print(item, terminator: itemIndex == items.count - 1 ? terminator : separator)\n             }\n         }\n     }\n-\n-    public static func hideLogs() -> Bool {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1daa7f3b64c4613a5ed9999fca74a7bc46236cd4"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk2NzAyNA==", "bodyText": "Yeah, its replacement property is public as well but we should probably note that.", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r527967024", "createdAt": "2020-11-20T20:59:34Z", "author": {"login": "ikeith"}, "path": "ios/Capacitor/Capacitor/CAPLog.swift", "diffHunk": "@@ -1,19 +1,11 @@\n public class CAPLog {\n-\n-    public static let config = CAPConfig()\n+    public static var enableLogging: Bool = true\n \n     public static func print(_ items: Any..., separator: String = \" \", terminator: String = \"\\n\") {\n-        if !self.hideLogs() {\n+        if enableLogging {\n             for (itemIndex, item) in items.enumerated() {\n                 Swift.print(item, terminator: itemIndex == items.count - 1 ? terminator : separator)\n             }\n         }\n     }\n-\n-    public static func hideLogs() -> Bool {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk0NDYwMA=="}, "originalCommit": {"oid": "1daa7f3b64c4613a5ed9999fca74a7bc46236cd4"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxMDMyNTMwOnYy", "diffSide": "RIGHT", "path": "ios/Capacitor/Capacitor/KeyPath.swift", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMDoxMzo1MVrOH3fT7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMTowODo0OVrOH3gxhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk0NjczNA==", "bodyText": "I don't know swift very well, does this modify self.segments?", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r527946734", "createdAt": "2020-11-20T20:13:51Z", "author": {"login": "imhoffd"}, "path": "ios/Capacitor/Capacitor/KeyPath.swift", "diffHunk": "@@ -0,0 +1,62 @@\n+import Foundation\n+\n+public struct KeyPath {\n+    var segments: [String]\n+    var isEmpty: Bool { return segments.isEmpty }\n+    var path: String {\n+        return segments.joined(separator: \".\")\n+    }\n+\n+    // initializers\n+    init(_ string: String) {\n+        self.segments = string.components(separatedBy: \".\")\n+    }\n+\n+    init(segments: [String]) {\n+        self.segments = segments\n+    }\n+\n+    // returns a tuple of the first segment and the remaining key path. result is nil if the key path has no segments.\n+    func headAndRemainder() -> (head: String, remainder: KeyPath)? {\n+        guard !isEmpty else {\n+            return nil\n+        }\n+        var paths = segments\n+        let head = paths.removeFirst()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1daa7f3b64c4613a5ed9999fca74a7bc46236cd4"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk2OTE1Nw==", "bodyText": "Short answer: no.\nLong answer: collections are value types in Swift (unless you jump through some hoops to make a reference type) so this is only modifying paths not segments. In addition, KeyPath itself is a struct (which is a copy-on-write value types) so if this method did change segments then it would need to be marked as mutating or else it wouldn't compile.", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r527969157", "createdAt": "2020-11-20T21:04:56Z", "author": {"login": "ikeith"}, "path": "ios/Capacitor/Capacitor/KeyPath.swift", "diffHunk": "@@ -0,0 +1,62 @@\n+import Foundation\n+\n+public struct KeyPath {\n+    var segments: [String]\n+    var isEmpty: Bool { return segments.isEmpty }\n+    var path: String {\n+        return segments.joined(separator: \".\")\n+    }\n+\n+    // initializers\n+    init(_ string: String) {\n+        self.segments = string.components(separatedBy: \".\")\n+    }\n+\n+    init(segments: [String]) {\n+        self.segments = segments\n+    }\n+\n+    // returns a tuple of the first segment and the remaining key path. result is nil if the key path has no segments.\n+    func headAndRemainder() -> (head: String, remainder: KeyPath)? {\n+        guard !isEmpty else {\n+            return nil\n+        }\n+        var paths = segments\n+        let head = paths.removeFirst()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk0NjczNA=="}, "originalCommit": {"oid": "1daa7f3b64c4613a5ed9999fca74a7bc46236cd4"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk3MDY5Mw==", "bodyText": "Thanks!", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r527970693", "createdAt": "2020-11-20T21:08:49Z", "author": {"login": "imhoffd"}, "path": "ios/Capacitor/Capacitor/KeyPath.swift", "diffHunk": "@@ -0,0 +1,62 @@\n+import Foundation\n+\n+public struct KeyPath {\n+    var segments: [String]\n+    var isEmpty: Bool { return segments.isEmpty }\n+    var path: String {\n+        return segments.joined(separator: \".\")\n+    }\n+\n+    // initializers\n+    init(_ string: String) {\n+        self.segments = string.components(separatedBy: \".\")\n+    }\n+\n+    init(segments: [String]) {\n+        self.segments = segments\n+    }\n+\n+    // returns a tuple of the first segment and the remaining key path. result is nil if the key path has no segments.\n+    func headAndRemainder() -> (head: String, remainder: KeyPath)? {\n+        guard !isEmpty else {\n+            return nil\n+        }\n+        var paths = segments\n+        let head = paths.removeFirst()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk0NjczNA=="}, "originalCommit": {"oid": "1daa7f3b64c4613a5ed9999fca74a7bc46236cd4"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxMDMyODM1OnYy", "diffSide": "RIGHT", "path": "ios/Capacitor/Capacitor/KeyPath.swift", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMDoxNDo0OVrOH3fVmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMDoxNDo0OVrOH3fVmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk0NzE2Mg==", "bodyText": "This is so functional \ud83d\ude0d", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r527947162", "createdAt": "2020-11-20T20:14:49Z", "author": {"login": "imhoffd"}, "path": "ios/Capacitor/Capacitor/KeyPath.swift", "diffHunk": "@@ -0,0 +1,62 @@\n+import Foundation\n+\n+public struct KeyPath {\n+    var segments: [String]\n+    var isEmpty: Bool { return segments.isEmpty }\n+    var path: String {\n+        return segments.joined(separator: \".\")\n+    }\n+\n+    // initializers\n+    init(_ string: String) {\n+        self.segments = string.components(separatedBy: \".\")\n+    }\n+\n+    init(segments: [String]) {\n+        self.segments = segments\n+    }\n+\n+    // returns a tuple of the first segment and the remaining key path. result is nil if the key path has no segments.\n+    func headAndRemainder() -> (head: String, remainder: KeyPath)? {\n+        guard !isEmpty else {\n+            return nil\n+        }\n+        var paths = segments\n+        let head = paths.removeFirst()\n+        return (head, KeyPath(segments: paths))\n+    }\n+}\n+\n+extension KeyPath: ExpressibleByStringLiteral {\n+    public init(stringLiteral value: String) {\n+        self.init(value)\n+    }\n+\n+    public init(unicodeScalarLiteral value: String) {\n+        self.init(value)\n+    }\n+\n+    public init(extendedGraphemeClusterLiteral value: String) {\n+        self.init(value)\n+    }\n+}\n+\n+extension JSObject {\n+    public subscript(keyPath keyPath: KeyPath) -> JSValue? {\n+        get {\n+            switch keyPath.headAndRemainder() {\n+            case nil: // path is empty\n+                return nil\n+            case let (head, remainder)? where remainder.isEmpty: // reached the end of the path\n+                return self[head]\n+            case let (head, remainder)?: // we have at least one level to traverse\n+                switch self[head] {\n+                case let childObject as JSObject: // iterate down the next level\n+                    return childObject[keyPath: remainder]\n+                default: // not an object, can't go any deeper\n+                    return nil\n+                }\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1daa7f3b64c4613a5ed9999fca74a7bc46236cd4"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxMDM0NTg4OnYy", "diffSide": "RIGHT", "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMDoyMTowMlrOH3fggA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMToxNToyOFrOH3g8OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk0OTk1Mg==", "bodyText": "How come you can't do this like in other places?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return (pluginConfigurations as? JSObject)?[keyPath: KeyPath(\"\\(pluginId).\\(configKey)\")]\n          \n          \n            \n                    return (pluginConfigurations as? JSObject)?[keyPath: \"\\(pluginId).\\(configKey)\"]", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r527949952", "createdAt": "2020-11-20T20:21:02Z", "author": {"login": "imhoffd"}, "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "diffHunk": "@@ -0,0 +1,17 @@\n+import Foundation\n+\n+extension InstanceConfiguration {\n+    @objc public func getPluginConfigValue(_ pluginId: String, _ configKey: String) -> Any? {\n+        return (pluginConfigurations as? JSObject)?[keyPath: KeyPath(\"\\(pluginId).\\(configKey)\")]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1daa7f3b64c4613a5ed9999fca74a7bc46236cd4"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk3MzQzMg==", "bodyText": "Because this is not using a string literal (which is fully defined at compile time) like \"server.url\"; this string is assembled from variables at runtime. The other way works through some implicit type conversions to create a KeyPath from the literal automatically.\nI did consider making a second subscript operator for JSObject that accepted a string and converted it into a KeyPath but deferred to being more explicit. That felt like it was getting too clever for the sake of syntactic sugar but I don't feel that strongly about it either.", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r527973432", "createdAt": "2020-11-20T21:15:28Z", "author": {"login": "ikeith"}, "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "diffHunk": "@@ -0,0 +1,17 @@\n+import Foundation\n+\n+extension InstanceConfiguration {\n+    @objc public func getPluginConfigValue(_ pluginId: String, _ configKey: String) -> Any? {\n+        return (pluginConfigurations as? JSObject)?[keyPath: KeyPath(\"\\(pluginId).\\(configKey)\")]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk0OTk1Mg=="}, "originalCommit": {"oid": "1daa7f3b64c4613a5ed9999fca74a7bc46236cd4"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxMDM0NjU2OnYy", "diffSide": "RIGHT", "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMDoyMToxNlrOH3fg5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMDoyMToxNlrOH3fg5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk1MDA1Mw==", "bodyText": "same question\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return (legacyConfig as? JSObject)?[keyPath: KeyPath(key)]\n          \n          \n            \n                    return (legacyConfig as? JSObject)?[keyPath: key]", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r527950053", "createdAt": "2020-11-20T20:21:16Z", "author": {"login": "imhoffd"}, "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "diffHunk": "@@ -0,0 +1,17 @@\n+import Foundation\n+\n+extension InstanceConfiguration {\n+    @objc public func getPluginConfigValue(_ pluginId: String, _ configKey: String) -> Any? {\n+        return (pluginConfigurations as? JSObject)?[keyPath: KeyPath(\"\\(pluginId).\\(configKey)\")]\n+    }\n+\n+    @available(*, deprecated, message: \"Use direct property accessors\")\n+    @objc public func getValue(_ key: String) -> Any? {\n+        return (legacyConfig as? JSObject)?[keyPath: KeyPath(key)]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1daa7f3b64c4613a5ed9999fca74a7bc46236cd4"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxMDM0NzM1OnYy", "diffSide": "RIGHT", "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMDoyMTozMVrOH3fhXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMDoyMTozMVrOH3fhXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk1MDE3NQ==", "bodyText": "same question\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return (legacyConfig as? JSObject)?[keyPath: KeyPath(key)] as? String\n          \n          \n            \n                    return (legacyConfig as? JSObject)?[keyPath: key] as? String", "url": "https://github.com/ionic-team/capacitor/pull/3759#discussion_r527950175", "createdAt": "2020-11-20T20:21:31Z", "author": {"login": "imhoffd"}, "path": "ios/Capacitor/Capacitor/CAPInstanceConfiguration.swift", "diffHunk": "@@ -0,0 +1,17 @@\n+import Foundation\n+\n+extension InstanceConfiguration {\n+    @objc public func getPluginConfigValue(_ pluginId: String, _ configKey: String) -> Any? {\n+        return (pluginConfigurations as? JSObject)?[keyPath: KeyPath(\"\\(pluginId).\\(configKey)\")]\n+    }\n+\n+    @available(*, deprecated, message: \"Use direct property accessors\")\n+    @objc public func getValue(_ key: String) -> Any? {\n+        return (legacyConfig as? JSObject)?[keyPath: KeyPath(key)]\n+    }\n+\n+    @available(*, deprecated, message: \"Use direct property accessors\")\n+    @objc public func getString(_ key: String) -> String? {\n+        return (legacyConfig as? JSObject)?[keyPath: KeyPath(key)] as? String", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1daa7f3b64c4613a5ed9999fca74a7bc46236cd4"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3442, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}