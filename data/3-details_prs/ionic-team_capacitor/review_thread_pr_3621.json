{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0MzkxNjE1", "number": 3621, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMzo1Nzo0NVrOEoTNAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTowNjo1N1rOEz1YHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNjkzMTIzOnYy", "diffSide": "RIGHT", "path": "android/capacitor/src/main/java/com/getcapacitor/NativePlugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMzo1Nzo0NVrOHZTq6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMzo1Nzo0NVrOHZTq6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjI5ODcyOQ==", "bodyText": "Is there any way to document what should be used instead?", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r496298729", "createdAt": "2020-09-28T23:57:45Z", "author": {"login": "imhoffd"}, "path": "android/capacitor/src/main/java/com/getcapacitor/NativePlugin.java", "diffHunk": "@@ -7,6 +7,7 @@\n  * Base annotation for all Plugins\n  */\n @Retention(RetentionPolicy.RUNTIME)\n+@Deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e0b24e5238177c49670fcb80cc79638db4fdbe7"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNjkzNTQ3OnYy", "diffSide": "RIGHT", "path": "android/capacitor/src/main/java/com/getcapacitor/Permission.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMzo1OTo1M1rOHZTtQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNjoxMjozMlrOHZ2Abw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjI5OTMzMQ==", "bodyText": "Since we have the opportunity, would it make sense to create an annotation namespace for this class and for CapacitorPlugin?\nImports would look like this:\nimport com.getcapacitor.annotation.CapacitorPlugin;\nimport com.getcapacitor.annotation.Permission;", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r496299331", "createdAt": "2020-09-28T23:59:53Z", "author": {"login": "imhoffd"}, "path": "android/capacitor/src/main/java/com/getcapacitor/Permission.java", "diffHunk": "@@ -0,0 +1,22 @@\n+package com.getcapacitor;\n+\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+\n+/**\n+ * Permission annotation for use with @CapacitorPlugin\n+ */\n+@Retention(RetentionPolicy.RUNTIME)\n+public @interface Permission {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e0b24e5238177c49670fcb80cc79638db4fdbe7"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg2MTI5NQ==", "bodyText": "Yeah I can do that, would be more organized", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r496861295", "createdAt": "2020-09-29T16:12:32Z", "author": {"login": "carlpoole"}, "path": "android/capacitor/src/main/java/com/getcapacitor/Permission.java", "diffHunk": "@@ -0,0 +1,22 @@\n+package com.getcapacitor;\n+\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+\n+/**\n+ * Permission annotation for use with @CapacitorPlugin\n+ */\n+@Retention(RetentionPolicy.RUNTIME)\n+public @interface Permission {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjI5OTMzMQ=="}, "originalCommit": {"oid": "1e0b24e5238177c49670fcb80cc79638db4fdbe7"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNDg0MDA5OnYy", "diffSide": "RIGHT", "path": "core/src/web/local-notifications.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMzoyNDozNVrOHpUjLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMzoyNDozNVrOHpUjLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzA5MDM0OQ==", "bodyText": "[any] = 1-tuple whose element is of type any\nany[] = array of any\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              requestPermissions(): Promise<{ results: [any] }> {\n          \n          \n            \n              requestPermissions(): Promise<{ results: any[] }> {", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r513090349", "createdAt": "2020-10-27T23:24:35Z", "author": {"login": "imhoffd"}, "path": "core/src/web/local-notifications.ts", "diffHunk": "@@ -133,7 +132,7 @@ export class LocalNotificationsPluginWeb\n     });\n   }\n \n-  requestPermissions(): Promise<PermissionsRequestResult> {\n+  requestPermissions(): Promise<{ results: [any] }> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "faee1c39d5612271eae9e263c56b2555899081be"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNDg0NzE1OnYy", "diffSide": "RIGHT", "path": "android/capacitor/src/main/java/com/getcapacitor/NativePlugin.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMzoyODowM1rOHpUnWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQwMzo0NToxNVrOHpY-PA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzA5MTQxNw==", "bodyText": "Not sure if this was intentional? Does it need to be wrapped in <p></p> tags?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * <p> Use {@link CapacitorPlugin} instead\n          \n          \n            \n             * Use {@link CapacitorPlugin} instead", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r513091417", "createdAt": "2020-10-27T23:28:03Z", "author": {"login": "imhoffd"}, "path": "android/capacitor/src/main/java/com/getcapacitor/NativePlugin.java", "diffHunk": "@@ -1,12 +1,16 @@\n package com.getcapacitor;\n \n+import com.getcapacitor.annotation.CapacitorPlugin;\n import java.lang.annotation.Retention;\n import java.lang.annotation.RetentionPolicy;\n \n /**\n  * Base annotation for all Plugins\n+ * @deprecated\n+ * <p> Use {@link CapacitorPlugin} instead", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "faee1c39d5612271eae9e263c56b2555899081be"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzE2MjgxMg==", "bodyText": "It's valid. It doesn't look right but it's how the IDE formatted it correctly, I think. https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html#format", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r513162812", "createdAt": "2020-10-28T03:45:15Z", "author": {"login": "carlpoole"}, "path": "android/capacitor/src/main/java/com/getcapacitor/NativePlugin.java", "diffHunk": "@@ -1,12 +1,16 @@\n package com.getcapacitor;\n \n+import com.getcapacitor.annotation.CapacitorPlugin;\n import java.lang.annotation.Retention;\n import java.lang.annotation.RetentionPolicy;\n \n /**\n  * Base annotation for all Plugins\n+ * @deprecated\n+ * <p> Use {@link CapacitorPlugin} instead", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzA5MTQxNw=="}, "originalCommit": {"oid": "faee1c39d5612271eae9e263c56b2555899081be"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxODY0MDk5OnYy", "diffSide": "RIGHT", "path": "android/capacitor/src/main/java/com/getcapacitor/Bridge.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODo0NTozMlrOHp4pCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODo0NTozMlrOHp4pCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY4MTY3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import android.webkit.WebChromeClient;\n          \n      \n    \n    \n  \n\nnot used", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r513681672", "createdAt": "2020-10-28T18:45:32Z", "author": {"login": "jcesarmobile"}, "path": "android/capacitor/src/main/java/com/getcapacitor/Bridge.java", "diffHunk": "@@ -13,8 +13,10 @@\n import android.os.Handler;\n import android.os.HandlerThread;\n import android.webkit.ValueCallback;\n+import android.webkit.WebChromeClient;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11a79372ee37e1e08567738dad20791a52415a20"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxODY0OTE0OnYy", "diffSide": "RIGHT", "path": "android/capacitor/src/main/java/com/getcapacitor/BridgeWebChromeClient.java", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODo0Nzo0NVrOHp4uaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQyMzoxMjo0OFrOHqx4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY4MzA0OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                static final int FILE_CHOOSER = 9007;\n          \n          \n            \n                static final int FILE_CHOOSER_IMAGE_CAPTURE = 9008;\n          \n          \n            \n                static final int FILE_CHOOSER_VIDEO_CAPTURE = 9009;\n          \n          \n            \n                static final int FILE_CHOOSER_CAMERA_PERMISSION = 9010;\n          \n          \n            \n                static final int GET_USER_MEDIA_PERMISSIONS = 9011;\n          \n          \n            \n                static final int GEOLOCATION_REQUEST_PERMISSIONS = 9004;\n          \n          \n            \n                static final int FILE_CHOOSER = 9001;\n          \n          \n            \n                static final int FILE_CHOOSER_IMAGE_CAPTURE = 9002;\n          \n          \n            \n                static final int FILE_CHOOSER_VIDEO_CAPTURE = 9003;\n          \n          \n            \n                static final int FILE_CHOOSER_CAMERA_PERMISSION = 9004;\n          \n          \n            \n                static final int GET_USER_MEDIA_PERMISSIONS = 9005;\n          \n          \n            \n                static final int GEOLOCATION_REQUEST_PERMISSIONS = 9006;\n          \n      \n    \n    \n  \n\nbetter put codes in order for making easier to spot which ones are available in case we need to add more", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r513683048", "createdAt": "2020-10-28T18:47:45Z", "author": {"login": "jcesarmobile"}, "path": "android/capacitor/src/main/java/com/getcapacitor/BridgeWebChromeClient.java", "diffHunk": "@@ -39,13 +39,12 @@\n  */\n public class BridgeWebChromeClient extends WebChromeClient {\n \n-    static final int FILE_CHOOSER = PluginRequestCodes.FILE_CHOOSER;\n-    static final int FILE_CHOOSER_IMAGE_CAPTURE = PluginRequestCodes.FILE_CHOOSER_IMAGE_CAPTURE;\n-    static final int FILE_CHOOSER_VIDEO_CAPTURE = PluginRequestCodes.FILE_CHOOSER_VIDEO_CAPTURE;\n-    static final int FILE_CHOOSER_CAMERA_PERMISSION = PluginRequestCodes.FILE_CHOOSER_CAMERA_PERMISSION;\n-    static final int GET_USER_MEDIA_PERMISSIONS = PluginRequestCodes.GET_USER_MEDIA_PERMISSIONS;\n-    static final int GEOLOCATION_REQUEST_PERMISSIONS = PluginRequestCodes.GEOLOCATION_REQUEST_PERMISSIONS;\n-    static final String[] geoPermissions = { Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION };\n+    static final int FILE_CHOOSER = 9007;\n+    static final int FILE_CHOOSER_IMAGE_CAPTURE = 9008;\n+    static final int FILE_CHOOSER_VIDEO_CAPTURE = 9009;\n+    static final int FILE_CHOOSER_CAMERA_PERMISSION = 9010;\n+    static final int GET_USER_MEDIA_PERMISSIONS = 9011;\n+    static final int GEOLOCATION_REQUEST_PERMISSIONS = 9004;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11a79372ee37e1e08567738dad20791a52415a20"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM0MzcwNA==", "bodyText": "Will these not conflict with the uses that already used the codes in that range? https://github.com/ionic-team/capacitor/pull/3621/files#diff-120f0e6b31193b391266aa177c18c6825b978c72c444be297115b31a061bb3a1", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r514343704", "createdAt": "2020-10-29T15:20:39Z", "author": {"login": "carlpoole"}, "path": "android/capacitor/src/main/java/com/getcapacitor/BridgeWebChromeClient.java", "diffHunk": "@@ -39,13 +39,12 @@\n  */\n public class BridgeWebChromeClient extends WebChromeClient {\n \n-    static final int FILE_CHOOSER = PluginRequestCodes.FILE_CHOOSER;\n-    static final int FILE_CHOOSER_IMAGE_CAPTURE = PluginRequestCodes.FILE_CHOOSER_IMAGE_CAPTURE;\n-    static final int FILE_CHOOSER_VIDEO_CAPTURE = PluginRequestCodes.FILE_CHOOSER_VIDEO_CAPTURE;\n-    static final int FILE_CHOOSER_CAMERA_PERMISSION = PluginRequestCodes.FILE_CHOOSER_CAMERA_PERMISSION;\n-    static final int GET_USER_MEDIA_PERMISSIONS = PluginRequestCodes.GET_USER_MEDIA_PERMISSIONS;\n-    static final int GEOLOCATION_REQUEST_PERMISSIONS = PluginRequestCodes.GEOLOCATION_REQUEST_PERMISSIONS;\n-    static final String[] geoPermissions = { Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION };\n+    static final int FILE_CHOOSER = 9007;\n+    static final int FILE_CHOOSER_IMAGE_CAPTURE = 9008;\n+    static final int FILE_CHOOSER_VIDEO_CAPTURE = 9009;\n+    static final int FILE_CHOOSER_CAMERA_PERMISSION = 9010;\n+    static final int GET_USER_MEDIA_PERMISSIONS = 9011;\n+    static final int GEOLOCATION_REQUEST_PERMISSIONS = 9004;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY4MzA0OA=="}, "originalCommit": {"oid": "11a79372ee37e1e08567738dad20791a52415a20"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM2MDE4MA==", "bodyText": "In the plugins that used those codes we will need to use different codes from this ones, but plugins need to be updated anyway since this PR removes the file with the constants.\nWe just need to make sure the codes in the plugins are unique.", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r514360180", "createdAt": "2020-10-29T15:40:57Z", "author": {"login": "jcesarmobile"}, "path": "android/capacitor/src/main/java/com/getcapacitor/BridgeWebChromeClient.java", "diffHunk": "@@ -39,13 +39,12 @@\n  */\n public class BridgeWebChromeClient extends WebChromeClient {\n \n-    static final int FILE_CHOOSER = PluginRequestCodes.FILE_CHOOSER;\n-    static final int FILE_CHOOSER_IMAGE_CAPTURE = PluginRequestCodes.FILE_CHOOSER_IMAGE_CAPTURE;\n-    static final int FILE_CHOOSER_VIDEO_CAPTURE = PluginRequestCodes.FILE_CHOOSER_VIDEO_CAPTURE;\n-    static final int FILE_CHOOSER_CAMERA_PERMISSION = PluginRequestCodes.FILE_CHOOSER_CAMERA_PERMISSION;\n-    static final int GET_USER_MEDIA_PERMISSIONS = PluginRequestCodes.GET_USER_MEDIA_PERMISSIONS;\n-    static final int GEOLOCATION_REQUEST_PERMISSIONS = PluginRequestCodes.GEOLOCATION_REQUEST_PERMISSIONS;\n-    static final String[] geoPermissions = { Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION };\n+    static final int FILE_CHOOSER = 9007;\n+    static final int FILE_CHOOSER_IMAGE_CAPTURE = 9008;\n+    static final int FILE_CHOOSER_VIDEO_CAPTURE = 9009;\n+    static final int FILE_CHOOSER_CAMERA_PERMISSION = 9010;\n+    static final int GET_USER_MEDIA_PERMISSIONS = 9011;\n+    static final int GEOLOCATION_REQUEST_PERMISSIONS = 9004;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY4MzA0OA=="}, "originalCommit": {"oid": "11a79372ee37e1e08567738dad20791a52415a20"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDUzNjY1Nw==", "bodyText": "I think this is good, but let's do it after we have fixed all the plugins to work with the new permissions. Then we can do all the code changes across all plugins in a single commit and centralize it in one place so we don't miss any.", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r514536657", "createdAt": "2020-10-29T20:10:15Z", "author": {"login": "carlpoole"}, "path": "android/capacitor/src/main/java/com/getcapacitor/BridgeWebChromeClient.java", "diffHunk": "@@ -39,13 +39,12 @@\n  */\n public class BridgeWebChromeClient extends WebChromeClient {\n \n-    static final int FILE_CHOOSER = PluginRequestCodes.FILE_CHOOSER;\n-    static final int FILE_CHOOSER_IMAGE_CAPTURE = PluginRequestCodes.FILE_CHOOSER_IMAGE_CAPTURE;\n-    static final int FILE_CHOOSER_VIDEO_CAPTURE = PluginRequestCodes.FILE_CHOOSER_VIDEO_CAPTURE;\n-    static final int FILE_CHOOSER_CAMERA_PERMISSION = PluginRequestCodes.FILE_CHOOSER_CAMERA_PERMISSION;\n-    static final int GET_USER_MEDIA_PERMISSIONS = PluginRequestCodes.GET_USER_MEDIA_PERMISSIONS;\n-    static final int GEOLOCATION_REQUEST_PERMISSIONS = PluginRequestCodes.GEOLOCATION_REQUEST_PERMISSIONS;\n-    static final String[] geoPermissions = { Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION };\n+    static final int FILE_CHOOSER = 9007;\n+    static final int FILE_CHOOSER_IMAGE_CAPTURE = 9008;\n+    static final int FILE_CHOOSER_VIDEO_CAPTURE = 9009;\n+    static final int FILE_CHOOSER_CAMERA_PERMISSION = 9010;\n+    static final int GET_USER_MEDIA_PERMISSIONS = 9011;\n+    static final int GEOLOCATION_REQUEST_PERMISSIONS = 9004;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY4MzA0OA=="}, "originalCommit": {"oid": "11a79372ee37e1e08567738dad20791a52415a20"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU4Njk2Mg==", "bodyText": "Then would be better to revert the removal of PluginRequestCodes.java and remove it once all plugins are migrated", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r514586962", "createdAt": "2020-10-29T21:46:48Z", "author": {"login": "jcesarmobile"}, "path": "android/capacitor/src/main/java/com/getcapacitor/BridgeWebChromeClient.java", "diffHunk": "@@ -39,13 +39,12 @@\n  */\n public class BridgeWebChromeClient extends WebChromeClient {\n \n-    static final int FILE_CHOOSER = PluginRequestCodes.FILE_CHOOSER;\n-    static final int FILE_CHOOSER_IMAGE_CAPTURE = PluginRequestCodes.FILE_CHOOSER_IMAGE_CAPTURE;\n-    static final int FILE_CHOOSER_VIDEO_CAPTURE = PluginRequestCodes.FILE_CHOOSER_VIDEO_CAPTURE;\n-    static final int FILE_CHOOSER_CAMERA_PERMISSION = PluginRequestCodes.FILE_CHOOSER_CAMERA_PERMISSION;\n-    static final int GET_USER_MEDIA_PERMISSIONS = PluginRequestCodes.GET_USER_MEDIA_PERMISSIONS;\n-    static final int GEOLOCATION_REQUEST_PERMISSIONS = PluginRequestCodes.GEOLOCATION_REQUEST_PERMISSIONS;\n-    static final String[] geoPermissions = { Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION };\n+    static final int FILE_CHOOSER = 9007;\n+    static final int FILE_CHOOSER_IMAGE_CAPTURE = 9008;\n+    static final int FILE_CHOOSER_VIDEO_CAPTURE = 9009;\n+    static final int FILE_CHOOSER_CAMERA_PERMISSION = 9010;\n+    static final int GET_USER_MEDIA_PERMISSIONS = 9011;\n+    static final int GEOLOCATION_REQUEST_PERMISSIONS = 9004;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY4MzA0OA=="}, "originalCommit": {"oid": "11a79372ee37e1e08567738dad20791a52415a20"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDYxOTQ0OQ==", "bodyText": "Makes sense, reverted for now", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r514619449", "createdAt": "2020-10-29T23:12:48Z", "author": {"login": "carlpoole"}, "path": "android/capacitor/src/main/java/com/getcapacitor/BridgeWebChromeClient.java", "diffHunk": "@@ -39,13 +39,12 @@\n  */\n public class BridgeWebChromeClient extends WebChromeClient {\n \n-    static final int FILE_CHOOSER = PluginRequestCodes.FILE_CHOOSER;\n-    static final int FILE_CHOOSER_IMAGE_CAPTURE = PluginRequestCodes.FILE_CHOOSER_IMAGE_CAPTURE;\n-    static final int FILE_CHOOSER_VIDEO_CAPTURE = PluginRequestCodes.FILE_CHOOSER_VIDEO_CAPTURE;\n-    static final int FILE_CHOOSER_CAMERA_PERMISSION = PluginRequestCodes.FILE_CHOOSER_CAMERA_PERMISSION;\n-    static final int GET_USER_MEDIA_PERMISSIONS = PluginRequestCodes.GET_USER_MEDIA_PERMISSIONS;\n-    static final int GEOLOCATION_REQUEST_PERMISSIONS = PluginRequestCodes.GEOLOCATION_REQUEST_PERMISSIONS;\n-    static final String[] geoPermissions = { Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION };\n+    static final int FILE_CHOOSER = 9007;\n+    static final int FILE_CHOOSER_IMAGE_CAPTURE = 9008;\n+    static final int FILE_CHOOSER_VIDEO_CAPTURE = 9009;\n+    static final int FILE_CHOOSER_CAMERA_PERMISSION = 9010;\n+    static final int GET_USER_MEDIA_PERMISSIONS = 9011;\n+    static final int GEOLOCATION_REQUEST_PERMISSIONS = 9004;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY4MzA0OA=="}, "originalCommit": {"oid": "11a79372ee37e1e08567738dad20791a52415a20"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyNzc5ODc1OnYy", "diffSide": "RIGHT", "path": "android/capacitor/src/main/java/com/getcapacitor/BridgeWebChromeClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNDo1MToyMlrOHrSg6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNDo1MToyMlrOHrSg6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE1NDE1Mg==", "bodyText": "The private hasPermissions should probably also be moved to the PermissionHelper", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r515154152", "createdAt": "2020-10-30T14:51:22Z", "author": {"login": "jcesarmobile"}, "path": "android/capacitor/src/main/java/com/getcapacitor/BridgeWebChromeClient.java", "diffHunk": "@@ -333,7 +334,7 @@ public void onRequestPermissionResult(int requestCode, String[] permissions, int\n \n     private boolean isMediaCaptureSupported() {\n         String[] permissions = { Manifest.permission.CAMERA };\n-        return hasPermissions(permissions) || !hasDefinedPermission(Manifest.permission.CAMERA);\n+        return hasPermissions(permissions) || !PermissionHelper.hasDefinedPermission(bridge.getContext(), Manifest.permission.CAMERA);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79817fa2d4ea3063115b05f6719ae4abd8ec8e3f"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyNzg3MzU3OnYy", "diffSide": "RIGHT", "path": "android/capacitor/src/main/java/com/getcapacitor/Plugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTowNjo1N1rOHrTR8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTowNjo1N1rOHrTR8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2NjcwNw==", "bodyText": "add what should be used instead.", "url": "https://github.com/ionic-team/capacitor/pull/3621#discussion_r515166707", "createdAt": "2020-10-30T15:06:57Z", "author": {"login": "jcesarmobile"}, "path": "android/capacitor/src/main/java/com/getcapacitor/Plugin.java", "diffHunk": "@@ -449,15 +525,18 @@ public void requestPermissions(PluginCall call) {\n      * Handle request permissions result. A plugin can override this to handle the result\n      * themselves, or this method will handle the result for our convenient requestPermissions\n      * call.\n+     * @deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79817fa2d4ea3063115b05f6719ae4abd8ec8e3f"}, "originalPosition": 303}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3415, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}