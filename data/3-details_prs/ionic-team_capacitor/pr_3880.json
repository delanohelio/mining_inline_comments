{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NjUyMjYx", "number": 3880, "title": "chore: update husky to v5", "bodyText": "CHANGES\n\nUpdated to husky 5.0.4 which fixes npm 7 hook issues\nAdded .husky folder which contains the hooks\nAdded husky install to the postinstall so it will be setup\nAdded pinst package which doesn't run husky install for devs that are using capacitor (see here for details)\n\nMy bad rebase brought in the previous commit from main \ud83d\ude05  but that will be fixed on merge. Also if lint is running twice, run rm -rf .git/hooks to delete the v4 husky hooks and then run npx husky install to setup the new ones\nLICENSE CHANGE IN DEPENDENCY\nHusky v5 also has a license change from MIT to The Parity Public License 7.0.0. Because Capacitor is open source and MIT Licensed, I don't believe this is an issue, but we should double check before merging this in\nFixes #3839", "createdAt": "2020-11-30T16:10:26Z", "url": "https://github.com/ionic-team/capacitor/pull/3880", "merged": true, "mergeCommit": {"oid": "f59631bccaab337ff8f53731fd9469b29c435b06"}, "closed": true, "closedAt": "2020-12-03T19:29:14Z", "author": {"login": "thomasvidas"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhnftSAH2gAyNTI5NjUyMjYxOjAzMDg5ODA3ZTAwOTA0ZWUwNmIxZmQ2ZDY4NzNkNGMwMGM2OWRmZjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdioJ3FAFqTU0NDMwMDMyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "03089807e00904ee06b1fd6d6873d4c00c69dff3", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/03089807e00904ee06b1fd6d6873d4c00c69dff3", "committedDate": "2020-11-30T15:57:40Z", "message": "fix(ios): share message handler between webview and bridge (#3875)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3246ce07e4f3ce20df4329a2e6ac5acc7f039dc8", "author": {"user": {"login": "thomasvidas", "name": "Thomas Vidas"}}, "url": "https://github.com/ionic-team/capacitor/commit/3246ce07e4f3ce20df4329a2e6ac5acc7f039dc8", "committedDate": "2020-11-30T15:57:54Z", "message": "husky v5"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc8177a77cee07855b9b25b4974d1f5ebb5b527a", "author": {"user": {"login": "thomasvidas", "name": "Thomas Vidas"}}, "url": "https://github.com/ionic-team/capacitor/commit/dc8177a77cee07855b9b25b4974d1f5ebb5b527a", "committedDate": "2020-11-30T16:03:31Z", "message": "Add pinst for preventing hooks from running on dev systems"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93f1c70d9845abb4139f32266d17755613a5d9a6", "author": {"user": {"login": "thomasvidas", "name": "Thomas Vidas"}}, "url": "https://github.com/ionic-team/capacitor/commit/93f1c70d9845abb4139f32266d17755613a5d9a6", "committedDate": "2020-11-30T16:11:00Z", "message": "Remove .husky from ignored, use local .gitignore in .husky folder instead"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6fcfd434086dc6a6832c2395df48bf42c3323b3", "author": {"user": {"login": "thomasvidas", "name": "Thomas Vidas"}}, "url": "https://github.com/ionic-team/capacitor/commit/d6fcfd434086dc6a6832c2395df48bf42c3323b3", "committedDate": "2020-11-30T16:11:25Z", "message": "Merge branch 'main' into git-hooks-fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMTA1MTQw", "url": "https://github.com/ionic-team/capacitor/pull/3880#pullrequestreview-541105140", "createdAt": "2020-11-30T16:57:02Z", "commit": {"oid": "d6fcfd434086dc6a6832c2395df48bf42c3323b3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNjo1NzowMlrOH8EbqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNjo1NzowMlrOH8EbqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjc0OTIyNA==", "bodyText": "Can this husky block be removed, then?", "url": "https://github.com/ionic-team/capacitor/pull/3880#discussion_r532749224", "createdAt": "2020-11-30T16:57:02Z", "author": {"login": "imhoffd"}, "path": "package.json", "diffHunk": "@@ -7,7 +7,9 @@\n     \"prettier\": \"prettier \\\"**/*.{css,html,java,js,ts}\\\"\",\n     \"eslint\": \"eslint . --ext ts\",\n     \"swiftlint\": \"node-swiftlint\",\n-    \"postinstall\": \"lerna bootstrap\"\n+    \"postinstall\": \"husky install && lerna bootstrap\",\n+    \"prepublish\": \"pinst --disable\",\n+    \"postpublish\": \"pinst --enable\"\n   },\n   \"husky\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6fcfd434086dc6a6832c2395df48bf42c3323b3"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "701be9925a633ca544036951d4d51db8d78453b8", "author": {"user": {"login": "thomasvidas", "name": "Thomas Vidas"}}, "url": "https://github.com/ionic-team/capacitor/commit/701be9925a633ca544036951d4d51db8d78453b8", "committedDate": "2020-12-01T17:31:25Z", "message": "remove husky block from package.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ed7175811d8680996cee33f588b8f2f4769401a", "author": {"user": {"login": "thomasvidas", "name": "Thomas Vidas"}}, "url": "https://github.com/ionic-team/capacitor/commit/5ed7175811d8680996cee33f588b8f2f4769401a", "committedDate": "2020-12-01T17:31:55Z", "message": "Merge branch 'git-hooks-fix' of github.com:ionic-team/capacitor into git-hooks-fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c3c1a36550473b580070a20a5e8b4e23062a451", "author": {"user": {"login": "thomasvidas", "name": "Thomas Vidas"}}, "url": "https://github.com/ionic-team/capacitor/commit/1c3c1a36550473b580070a20a5e8b4e23062a451", "committedDate": "2020-12-01T17:32:53Z", "message": "Merge branch 'main' into git-hooks-fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c7f9f6971ba756ed41a48f89be135484e335924", "author": {"user": {"login": "thomasvidas", "name": "Thomas Vidas"}}, "url": "https://github.com/ionic-team/capacitor/commit/3c7f9f6971ba756ed41a48f89be135484e335924", "committedDate": "2020-12-01T17:34:53Z", "message": "Merge branch 'main' into git-hooks-fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyMjY2MzI1", "url": "https://github.com/ionic-team/capacitor/pull/3880#pullrequestreview-542266325", "createdAt": "2020-12-01T20:23:51Z", "commit": {"oid": "3c7f9f6971ba756ed41a48f89be135484e335924"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMDoyMzo1MVrOH8-WYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMDoyMzo1OVrOH8-WqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzY5ODE0Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                \"postpublish\": \"pinst --enable\"\n          \n          \n            \n                \"version\": \"npm run sync-peer-dependencies\"\n          \n          \n            \n                \"postpublish\": \"pinst --enable\",\n          \n          \n            \n                \"version\": \"npm run sync-peer-dependencies\"", "url": "https://github.com/ionic-team/capacitor/pull/3880#discussion_r533698146", "createdAt": "2020-12-01T20:23:51Z", "author": {"login": "imhoffd"}, "path": "package.json", "diffHunk": "@@ -8,14 +8,11 @@\n     \"prettier\": \"prettier \\\"**/*.{css,html,java,js,mjs,ts}\\\"\",\n     \"eslint\": \"eslint . --ext ts\",\n     \"swiftlint\": \"node-swiftlint\",\n-    \"postinstall\": \"lerna bootstrap\",\n+    \"postinstall\": \"husky install && lerna bootstrap\",\n+    \"prepublish\": \"pinst --disable\",\n+    \"postpublish\": \"pinst --enable\"\n     \"version\": \"npm run sync-peer-dependencies\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c7f9f6971ba756ed41a48f89be135484e335924"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzY5ODIxNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            npm run lint\n          \n          \n            \n            npm run lint", "url": "https://github.com/ionic-team/capacitor/pull/3880#discussion_r533698217", "createdAt": "2020-12-01T20:23:59Z", "author": {"login": "imhoffd"}, "path": ".husky/pre-commit", "diffHunk": "@@ -0,0 +1,4 @@\n+#!/bin/sh\n+. \"$(dirname $0)/_/husky.sh\"\n+\n+npm run lint", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c7f9f6971ba756ed41a48f89be135484e335924"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de37b32f0471848d2e66256e38de0199d4bb67b9", "author": {"user": {"login": "thomasvidas", "name": "Thomas Vidas"}}, "url": "https://github.com/ionic-team/capacitor/commit/de37b32f0471848d2e66256e38de0199d4bb67b9", "committedDate": "2020-12-02T02:34:04Z", "message": "Update package.json\n\nCo-authored-by: Dan Imhoff <dwieeb@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23bbe282bfd9840bb4d125f8fcb160e9392bf84f", "author": {"user": {"login": "thomasvidas", "name": "Thomas Vidas"}}, "url": "https://github.com/ionic-team/capacitor/commit/23bbe282bfd9840bb4d125f8fcb160e9392bf84f", "committedDate": "2020-12-02T02:35:00Z", "message": "new line in husky pre-commit file\n\nCo-authored-by: Dan Imhoff <dwieeb@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e13b50228d8b511552c89a6f0e3bc27314bd9ce1", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/e13b50228d8b511552c89a6f0e3bc27314bd9ce1", "committedDate": "2020-12-02T03:43:00Z", "message": "Merge branch 'main' into git-hooks-fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNDgyMDQ0", "url": "https://github.com/ionic-team/capacitor/pull/3880#pullrequestreview-542482044", "createdAt": "2020-12-02T04:00:45Z", "commit": {"oid": "e13b50228d8b511552c89a6f0e3bc27314bd9ce1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwNDowMDo0NVrOH9JifA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwNDowMDo0NVrOH9JifA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzg4MTQ2OA==", "bodyText": "We actually don't need pinst because our root package is private.", "url": "https://github.com/ionic-team/capacitor/pull/3880#discussion_r533881468", "createdAt": "2020-12-02T04:00:45Z", "author": {"login": "imhoffd"}, "path": "package.json", "diffHunk": "@@ -8,14 +8,11 @@\n     \"prettier\": \"prettier \\\"**/*.{css,html,java,js,mjs,ts}\\\"\",\n     \"eslint\": \"eslint . --ext ts\",\n     \"swiftlint\": \"node-swiftlint\",\n-    \"postinstall\": \"lerna bootstrap\",\n+    \"postinstall\": \"husky install && lerna bootstrap\",\n+    \"prepublish\": \"pinst --disable\",\n+    \"postpublish\": \"pinst --enable\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e13b50228d8b511552c89a6f0e3bc27314bd9ce1"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1fa356a99e858c0f3f05047a0cca225ea838f29", "author": {"user": {"login": "thomasvidas", "name": "Thomas Vidas"}}, "url": "https://github.com/ionic-team/capacitor/commit/a1fa356a99e858c0f3f05047a0cca225ea838f29", "committedDate": "2020-12-03T14:49:41Z", "message": "Remove pinst"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd1f0ef9b994f378381ed83554e06067b8025565", "author": {"user": {"login": "thomasvidas", "name": "Thomas Vidas"}}, "url": "https://github.com/ionic-team/capacitor/commit/cd1f0ef9b994f378381ed83554e06067b8025565", "committedDate": "2020-12-03T14:51:48Z", "message": "Merge branch 'main' into git-hooks-fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9acc1598c107e08486b44ea65fee5adc5dd263e", "author": {"user": {"login": "imhoffd", "name": "Dan Imhoff"}}, "url": "https://github.com/ionic-team/capacitor/commit/a9acc1598c107e08486b44ea65fee5adc5dd263e", "committedDate": "2020-12-03T19:17:24Z", "message": "Merge branch 'main' into git-hooks-fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MzAwMzI1", "url": "https://github.com/ionic-team/capacitor/pull/3880#pullrequestreview-544300325", "createdAt": "2020-12-03T19:17:38Z", "commit": {"oid": "a9acc1598c107e08486b44ea65fee5adc5dd263e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1031, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}