{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyNjU5NTcw", "number": 3967, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQyMjoyMTo0MVrOFHXS_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQyMjoyMzoyNlrOFHXU2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzMjY2MDQ0OnYy", "diffSide": "RIGHT", "path": "android/capacitor/src/main/java/com/getcapacitor/Plugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQyMjoyMTo0MVrOII0bAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQyMjoyMTo0MVrOII0bAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjExODQwMg==", "bodyText": "We should probably rephrase this to talk about the \"alias\"", "url": "https://github.com/ionic-team/capacitor/pull/3967#discussion_r546118402", "createdAt": "2020-12-18T22:21:41Z", "author": {"login": "imhoffd"}, "path": "android/capacitor/src/main/java/com/getcapacitor/Plugin.java", "diffHunk": "@@ -364,9 +363,9 @@ public void pluginRequestPermission(String permission, int requestCode) {\n      * Helper to check all permissions defined on a plugin and see the state of each.\n      *\n      * @since 3.0.0\n-     * @return an object containing the permission names and the permission result\n+     * @return an map containing the permission names and the permission state", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3789cf0c040a4a77d38664dd016402cfd01a7c99"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzMjY2NTIxOnYy", "diffSide": "RIGHT", "path": "android/capacitor/src/main/java/com/getcapacitor/Bridge.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQyMjoyMzoyNlrOII0dnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQyMjoyMzoyNlrOII0dnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjExOTA3MQ==", "bodyText": "Do we want to call the plugin instance version?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    plugin.getInstance().onRequestPermissionsResult(savedPermissionCall, getPermissionStates(plugin.getInstance()));\n          \n          \n            \n                                    plugin.getInstance().onRequestPermissionsResult(savedPermissionCall, plugin.getInstance().getPermissionStates());", "url": "https://github.com/ionic-team/capacitor/pull/3967#discussion_r546119071", "createdAt": "2020-12-18T22:23:26Z", "author": {"login": "imhoffd"}, "path": "android/capacitor/src/main/java/com/getcapacitor/Bridge.java", "diffHunk": "@@ -786,10 +787,10 @@ public void onRequestPermissionsResult(int requestCode, String[] permissions, in\n                 if (validatePermissions(plugin.getInstance(), savedPermissionCall, permissions, grantResults)) {\n                     // handle request permissions call\n                     if (savedPermissionCall.getMethodName().equals(\"requestPermissions\")) {\n-                        savedPermissionCall.resolve(plugin.getInstance().getPermissionStates());\n+                        plugin.getInstance().checkPermissions(savedPermissionCall);\n                     } else {\n                         // handle permission requests by other methods on the plugin\n-                        plugin.getInstance().onRequestPermissionsResult(savedPermissionCall, requestCode, permissions, grantResults);\n+                        plugin.getInstance().onRequestPermissionsResult(savedPermissionCall, getPermissionStates(plugin.getInstance()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3789cf0c040a4a77d38664dd016402cfd01a7c99"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3405, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}