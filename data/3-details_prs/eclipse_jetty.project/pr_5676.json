{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxNzI4MjAy", "number": 5676, "title": "Issue #5675 Update some osgi test dependencies", "bodyText": "closes #5675\nUpdate many of the 3rd party osgi test dependencies:\nbiz.aQute.bnd bndlib 5.2.0\norg.ops4j.pax.tinybundles tinybundles 3.0.0\norg.ops4j.pax.url pax-url-wrap  2.6.2\norg.ops4j.pax.url pax-url-aether 2.6.2\nNote: updating the version of org.ops4j.pax.exam:pax-exam-container-forked from 4.13.1 to 4.13.4 did not work and needs more investigation in a separate pull request.", "createdAt": "2020-11-16T15:13:52Z", "url": "https://github.com/eclipse/jetty.project/pull/5676", "merged": true, "mergeCommit": {"oid": "f0a2ab4fedef6bc062e833128abf2479ac9d927a"}, "closed": true, "closedAt": "2020-12-02T17:21:19Z", "author": {"login": "janbartel"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddGazqgH2gAyNTIxNzI4MjAyOmJkYjRkZDQzNWUxODMzNmM2MWY2N2QyNzAwMDRlMTc2OTY0ODFiYzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdh6a-xAH2gAyNTIxNzI4MjAyOjdhZDYyMGE0NjI0MDdiMDVhODQzYjZhNmU5YWQxY2ZiNGJlYWZkZTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bdb4dd435e18336c61f67d270004e17696481bc3", "author": {"user": {"login": "janbartel", "name": "Jan Bartel"}}, "url": "https://github.com/eclipse/jetty.project/commit/bdb4dd435e18336c61f67d270004e17696481bc3", "committedDate": "2020-11-16T15:09:45Z", "message": "Issue #5675 Update some osgi test dependencies\n\nSigned-off-by: Jan Bartel <janb@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8af99e6c6a33f75eb927bb860d00f301289f430", "author": {"user": {"login": "janbartel", "name": "Jan Bartel"}}, "url": "https://github.com/eclipse/jetty.project/commit/c8af99e6c6a33f75eb927bb860d00f301289f430", "committedDate": "2020-11-17T14:51:09Z", "message": "Merge remote-tracking branch 'origin/jetty-9.4.x' into jetty-9.4.x-5675-update-osgi-test-deps"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f911dbcd5d65bc9cae745b29a37bb38c6d77284c", "author": {"user": {"login": "janbartel", "name": "Jan Bartel"}}, "url": "https://github.com/eclipse/jetty.project/commit/f911dbcd5d65bc9cae745b29a37bb38c6d77284c", "committedDate": "2020-11-23T09:07:22Z", "message": "Issue #5675 update osgi platform version\n\nSigned-off-by: Jan Bartel <janb@webtide.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NTA3OTQ1", "url": "https://github.com/eclipse/jetty.project/pull/5676#pullrequestreview-537507945", "createdAt": "2020-11-24T13:49:26Z", "commit": {"oid": "f911dbcd5d65bc9cae745b29a37bb38c6d77284c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMzo0OToyNlrOH5BqYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMzo0OToyNlrOH5BqYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTU1ODExMg==", "bodyText": "This osgi-services-version is still using ...\n<dependency>\n  <groupId>org.eclipse.osgi</groupId>\n  <artifactId>org.eclipse.osgi.services</artifactId>\n  <version>3.2.100.v20100503</version>\n</dependency>\nWhich is the old, bad, maven coordinates. (which is a 10 year old artifact now with no updates on this coordinate space)\nLink to old / bad coordinates: https://search.maven.org/artifact/org.eclipse.osgi/org.eclipse.osgi.services\nThe correct coordinates for osgi.services is ...\n<dependency>\n  <groupId>org.eclipse.platform</groupId>\n  <artifactId>org.eclipse.osgi.services</artifactId>\n  <version>3.9.0</version>\n</dependency>\nWhich was updated 14-Sep-2020\nLink to proper coordinates: https://search.maven.org/artifact/org.eclipse.platform/org.eclipse.osgi.services", "url": "https://github.com/eclipse/jetty.project/pull/5676#discussion_r529558112", "createdAt": "2020-11-24T13:49:26Z", "author": {"login": "joakime"}, "path": "jetty-osgi/pom.xml", "diffHunk": "@@ -12,7 +12,7 @@\n   <packaging>pom</packaging>\n \n   <properties>\n-    <osgi-version>3.6.0.v20100517</osgi-version>\n+    <osgi-version>3.7.1</osgi-version>\n     <osgi-services-version>3.2.100.v20100503</osgi-services-version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f911dbcd5d65bc9cae745b29a37bb38c6d77284c"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e730c274a73e463ccf3892e2ff203b369b74dd53", "author": {"user": {"login": "janbartel", "name": "Jan Bartel"}}, "url": "https://github.com/eclipse/jetty.project/commit/e730c274a73e463ccf3892e2ff203b369b74dd53", "committedDate": "2020-11-24T16:20:56Z", "message": "Issue 5675 Also update osgi services to newest version.\n\nSigned-off-by: Jan Bartel <janb@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4aac7f03f1a08292c37598125427a619defbfb49", "author": {"user": {"login": "janbartel", "name": "Jan Bartel"}}, "url": "https://github.com/eclipse/jetty.project/commit/4aac7f03f1a08292c37598125427a619defbfb49", "committedDate": "2020-11-25T13:30:10Z", "message": "Merge remote-tracking branch 'origin/jetty-9.4.x' into jetty-9.4.x-5675-update-osgi-test-deps"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4NzA0NDkw", "url": "https://github.com/eclipse/jetty.project/pull/5676#pullrequestreview-538704490", "createdAt": "2020-11-25T17:11:41Z", "commit": {"oid": "4aac7f03f1a08292c37598125427a619defbfb49"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNzoxMTo0MlrOH586ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNzoxMzozOFrOH58_Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUyODg5MQ==", "bodyText": "Why add only org.osgi.service.event and not the rest of the other packages in the new osgi-service jar?", "url": "https://github.com/eclipse/jetty.project/pull/5676#discussion_r530528891", "createdAt": "2020-11-25T17:11:42Z", "author": {"login": "joakime"}, "path": "jetty-osgi/jetty-osgi-boot/pom.xml", "diffHunk": "@@ -81,7 +81,8 @@\n                 javax.transaction.xa;version=\"1.1.0\";resolution:=optional,\n                 org.objectweb.asm;version=\"$(version;=;${asm.version})\";resolution:=optional,\n                 org.osgi.framework,\n-                org.osgi.service.cm;version=\"1.2.0\",\n+                org.osgi.service.cm;version=\"1.4.0\",\n+                org.osgi.service.event;version=\"1.4.0\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4aac7f03f1a08292c37598125427a619defbfb49"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUyOTUzMg==", "bodyText": "Shouldn't this be .versionAsInProject() instead of .version(\"3.5.0\") ?", "url": "https://github.com/eclipse/jetty.project/pull/5676#discussion_r530529532", "createdAt": "2020-11-25T17:12:42Z", "author": {"login": "joakime"}, "path": "jetty-osgi/test-jetty-osgi/src/test/java/org/eclipse/jetty/osgi/test/TestJettyOSGiAnnotationParser.java", "diffHunk": "@@ -64,8 +64,8 @@\n         options.add(TestOSGiUtil.optionalRemoteDebug());\n         options.add(CoreOptions.junitBundles());\n         options.addAll(TestOSGiUtil.coreJettyDependencies());\n-        options.add(mavenBundle().groupId(\"biz.aQute.bnd\").artifactId(\"bndlib\").versionAsInProject().start());\n-        options.add(mavenBundle().groupId(\"org.ops4j.pax.tinybundles\").artifactId(\"tinybundles\").version(\"2.1.1\").start());\n+        options.add(mavenBundle().groupId(\"biz.aQute.bnd\").artifactId(\"biz.aQute.bndlib\").version(\"3.5.0\").start());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4aac7f03f1a08292c37598125427a619defbfb49"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUyOTcyOQ==", "bodyText": "Shouldn't this be .versionAsInProject() instead of .version(\"3.5.0\") ?", "url": "https://github.com/eclipse/jetty.project/pull/5676#discussion_r530529729", "createdAt": "2020-11-25T17:13:01Z", "author": {"login": "joakime"}, "path": "jetty-osgi/test-jetty-osgi/src/test/java/org/eclipse/jetty/osgi/test/TestJettyOSGiBootWithJavaxWebSocket.java", "diffHunk": "@@ -93,8 +93,9 @@\n     public static List<Option> extraDependencies()\n     {\n         List<Option> res = new ArrayList<>();\n-        res.add(mavenBundle().groupId(\"biz.aQute.bnd\").artifactId(\"bndlib\").versionAsInProject().start());\n-        res.add(mavenBundle().groupId(\"org.ops4j.pax.tinybundles\").artifactId(\"tinybundles\").version(\"2.1.1\").start());\n+        //Need an earlier version of bndlib because of tinybundles\n+        res.add(mavenBundle().groupId(\"biz.aQute.bnd\").artifactId(\"biz.aQute.bndlib\").version(\"3.5.0\").start());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4aac7f03f1a08292c37598125427a619defbfb49"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUyOTg5Nw==", "bodyText": "Shouldn't this be .versionAsInProject() instead of .version(\"3.5.0\") ?", "url": "https://github.com/eclipse/jetty.project/pull/5676#discussion_r530529897", "createdAt": "2020-11-25T17:13:17Z", "author": {"login": "joakime"}, "path": "jetty-osgi/test-jetty-osgi/src/test/java/org/eclipse/jetty/osgi/test/TestJettyOSGiClasspathResources.java", "diffHunk": "@@ -70,8 +69,9 @@\n             \"com.sun.org.apache.xpath.internal.jaxp\", \"com.sun.org.apache.xpath.internal.objects\"));\n \n         options.addAll(TestOSGiUtil.coreJettyDependencies());\n-        options.add(mavenBundle().groupId(\"biz.aQute.bnd\").artifactId(\"bndlib\").versionAsInProject().start());\n-        options.add(mavenBundle().groupId(\"org.ops4j.pax.tinybundles\").artifactId(\"tinybundles\").version(\"2.1.1\").start());\n+        //Note: we have to back down the version of bnd used here because tinybundles expects only this version\n+        options.add(mavenBundle().groupId(\"biz.aQute.bnd\").artifactId(\"biz.aQute.bndlib\").version(\"3.5.0\").start());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4aac7f03f1a08292c37598125427a619defbfb49"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUzMDA5OA==", "bodyText": "Do we want a property for this one too?", "url": "https://github.com/eclipse/jetty.project/pull/5676#discussion_r530530098", "createdAt": "2020-11-25T17:13:38Z", "author": {"login": "joakime"}, "path": "jetty-osgi/test-jetty-osgi/pom.xml", "diffHunk": "@@ -88,13 +118,19 @@\n     <dependency>\n       <groupId>org.eclipse.platform</groupId>\n       <artifactId>org.eclipse.osgi</artifactId>\n-      <version>3.16.0</version>\n+      <version>${osgi-version}</version>\n       <scope>test</scope>\n     </dependency>\n     <dependency>\n       <groupId>org.eclipse.platform</groupId>\n       <artifactId>org.eclipse.osgi.services</artifactId>\n-      <version>3.9.0</version>\n+      <version>${osgi-services-version}</version>\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.eclipse.platform</groupId>\n+      <artifactId>org.eclipse.osgi.util</artifactId>\n+      <version>3.5.300</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4aac7f03f1a08292c37598125427a619defbfb49"}, "originalPosition": 94}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e45ab8a61b63ac0ea57babdb6e2a3a19b4cfe022", "author": {"user": {"login": "janbartel", "name": "Jan Bartel"}}, "url": "https://github.com/eclipse/jetty.project/commit/e45ab8a61b63ac0ea57babdb6e2a3a19b4cfe022", "committedDate": "2020-11-25T21:21:54Z", "message": "Issue #5675 Make property for osgi utils.\n\nSigned-off-by: Jan Bartel <janb@webtide.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwOTEwOTUw", "url": "https://github.com/eclipse/jetty.project/pull/5676#pullrequestreview-540910950", "createdAt": "2020-11-30T13:34:08Z", "commit": {"oid": "e45ab8a61b63ac0ea57babdb6e2a3a19b4cfe022"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21893bfb01847e502579d8f43dc8cd0f5fe32572", "author": {"user": {"login": "janbartel", "name": "Jan Bartel"}}, "url": "https://github.com/eclipse/jetty.project/commit/21893bfb01847e502579d8f43dc8cd0f5fe32572", "committedDate": "2020-11-30T13:45:27Z", "message": "Merge remote-tracking branch 'origin/jetty-9.4.x' into jetty-9.4.x-5675-update-osgi-test-deps"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ad620a462407b05a843b6a6e9ad1cfb4beafde3", "author": {"user": {"login": "janbartel", "name": "Jan Bartel"}}, "url": "https://github.com/eclipse/jetty.project/commit/7ad620a462407b05a843b6a6e9ad1cfb4beafde3", "committedDate": "2020-12-01T14:00:42Z", "message": "Merge remote-tracking branch 'origin/jetty-9.4.x' into jetty-9.4.x-5675-update-osgi-test-deps"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4969, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}