{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1MTM2ODQ0", "number": 4856, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwOToyNDowNVrOD6k8AQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxMTowMzoyNVrOD6mjxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNzQ5MTg1OnYy", "diffSide": "RIGHT", "path": "jetty-server/src/main/config/etc/jetty-http.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwOToyNDowNVrOGSfXaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxMDowNTo0MlrOGSgdwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA0MTQ0OA==", "bodyText": "Please:\n\nrename the property names to jetty.http.acceptedTcpNoDelay (i.e. not dot after accepted)\nadd acceptedReuseAddress - use reuseAddress on the ServerSocket and acceptedReuseAddress on the accepted Socket", "url": "https://github.com/eclipse/jetty.project/pull/4856#discussion_r422041448", "createdAt": "2020-05-08T09:24:05Z", "author": {"login": "sbordet"}, "path": "jetty-server/src/main/config/etc/jetty-http.xml", "diffHunk": "@@ -34,6 +34,10 @@\n         <Set name=\"idleTimeout\"><Property name=\"jetty.http.idleTimeout\" deprecated=\"http.timeout\" default=\"30000\"/></Set>\n         <Set name=\"acceptorPriorityDelta\"><Property name=\"jetty.http.acceptorPriorityDelta\" deprecated=\"http.acceptorPriorityDelta\" default=\"0\"/></Set>\n         <Set name=\"acceptQueueSize\"><Property name=\"jetty.http.acceptQueueSize\" deprecated=\"http.acceptQueueSize\" default=\"0\"/></Set>\n+        <Set name=\"reuseAddress\"><Property name=\"jetty.http.reuseAddress\" default=\"true\"/></Set>\n+        <Set name=\"acceptedTcpNoDelay\"><Property name=\"jetty.http.accepted.tcpNoDelay\" default=\"true\"/></Set>\n+        <Set name=\"acceptedReceiveBufferSize\"><Property name=\"jetty.http.accepted.receiveBufferSize\" default=\"-1\"/></Set>\n+        <Set name=\"acceptedSendBufferSize\"><Property name=\"jetty.http.accepted.sendBufferSize\" default=\"-1\"/></Set>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9e8a70fb93268f29fd688e12ba3e5ca5019cbbc"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA1OTQ1OA==", "bodyText": "I'm okay with renaming the properties.\nRegarding acceptedReuseAddress, I don't think setting SO_REUSEADDR as any effect on an accepted socket.", "url": "https://github.com/eclipse/jetty.project/pull/4856#discussion_r422059458", "createdAt": "2020-05-08T10:05:42Z", "author": {"login": "lorban"}, "path": "jetty-server/src/main/config/etc/jetty-http.xml", "diffHunk": "@@ -34,6 +34,10 @@\n         <Set name=\"idleTimeout\"><Property name=\"jetty.http.idleTimeout\" deprecated=\"http.timeout\" default=\"30000\"/></Set>\n         <Set name=\"acceptorPriorityDelta\"><Property name=\"jetty.http.acceptorPriorityDelta\" deprecated=\"http.acceptorPriorityDelta\" default=\"0\"/></Set>\n         <Set name=\"acceptQueueSize\"><Property name=\"jetty.http.acceptQueueSize\" deprecated=\"http.acceptQueueSize\" default=\"0\"/></Set>\n+        <Set name=\"reuseAddress\"><Property name=\"jetty.http.reuseAddress\" default=\"true\"/></Set>\n+        <Set name=\"acceptedTcpNoDelay\"><Property name=\"jetty.http.accepted.tcpNoDelay\" default=\"true\"/></Set>\n+        <Set name=\"acceptedReceiveBufferSize\"><Property name=\"jetty.http.accepted.receiveBufferSize\" default=\"-1\"/></Set>\n+        <Set name=\"acceptedSendBufferSize\"><Property name=\"jetty.http.accepted.sendBufferSize\" default=\"-1\"/></Set>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA0MTQ0OA=="}, "originalCommit": {"oid": "d9e8a70fb93268f29fd688e12ba3e5ca5019cbbc"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNzQ5MjU4OnYy", "diffSide": "RIGHT", "path": "jetty-server/src/main/config/etc/jetty-ssl.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwOToyNDoyMFrOGSfX3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwOToyNDoyMFrOGSfX3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA0MTU2Ng==", "bodyText": "Same as above.", "url": "https://github.com/eclipse/jetty.project/pull/4856#discussion_r422041566", "createdAt": "2020-05-08T09:24:20Z", "author": {"login": "sbordet"}, "path": "jetty-server/src/main/config/etc/jetty-ssl.xml", "diffHunk": "@@ -26,6 +26,10 @@\n         <Set name=\"idleTimeout\"><Property name=\"jetty.ssl.idleTimeout\" deprecated=\"ssl.timeout\" default=\"30000\"/></Set>\n         <Set name=\"acceptorPriorityDelta\"><Property name=\"jetty.ssl.acceptorPriorityDelta\" deprecated=\"ssl.acceptorPriorityDelta\" default=\"0\"/></Set>\n         <Set name=\"acceptQueueSize\"><Property name=\"jetty.ssl.acceptQueueSize\" deprecated=\"ssl.acceptQueueSize\" default=\"0\"/></Set>\n+        <Set name=\"reuseAddress\"><Property name=\"jetty.http.reuseAddress\" default=\"true\"/></Set>\n+        <Set name=\"acceptedTcpNoDelay\"><Property name=\"jetty.http.accepted.tcpNoDelay\" default=\"true\"/></Set>\n+        <Set name=\"acceptedReceiveBufferSize\"><Property name=\"jetty.http.accepted.receiveBufferSize\" default=\"-1\"/></Set>\n+        <Set name=\"acceptedSendBufferSize\"><Property name=\"jetty.http.accepted.sendBufferSize\" default=\"-1\"/></Set>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9e8a70fb93268f29fd688e12ba3e5ca5019cbbc"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNzQ5NjUyOnYy", "diffSide": "RIGHT", "path": "jetty-server/src/main/java/org/eclipse/jetty/server/ServerConnector.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwOToyNTozOFrOGSfaVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxMDowMDoxMFrOGSgU1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA0MjE5OA==", "bodyText": "Please check if we hardcode tcpNoDelay=true for the ServerSocket too, and make it settable.", "url": "https://github.com/eclipse/jetty.project/pull/4856#discussion_r422042198", "createdAt": "2020-05-08T09:25:38Z", "author": {"login": "sbordet"}, "path": "jetty-server/src/main/java/org/eclipse/jetty/server/ServerConnector.java", "diffHunk": "@@ -83,6 +83,9 @@\n     private volatile int _localPort = -1;\n     private volatile int _acceptQueueSize = 0;\n     private volatile boolean _reuseAddress = true;\n+    private volatile boolean _acceptedTcpNoDelay = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9e8a70fb93268f29fd688e12ba3e5ca5019cbbc"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA1NzE3NQ==", "bodyText": "No, we don't touch tcpNoDelay on the ServerSocket because there was no API to do that before JDK 9.", "url": "https://github.com/eclipse/jetty.project/pull/4856#discussion_r422057175", "createdAt": "2020-05-08T10:00:10Z", "author": {"login": "lorban"}, "path": "jetty-server/src/main/java/org/eclipse/jetty/server/ServerConnector.java", "diffHunk": "@@ -83,6 +83,9 @@\n     private volatile int _localPort = -1;\n     private volatile int _acceptQueueSize = 0;\n     private volatile boolean _reuseAddress = true;\n+    private volatile boolean _acceptedTcpNoDelay = true;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA0MjE5OA=="}, "originalCommit": {"oid": "d9e8a70fb93268f29fd688e12ba3e5ca5019cbbc"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNzc1NzI0OnYy", "diffSide": "RIGHT", "path": "jetty-server/src/main/config/etc/jetty-http.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxMTowMzoyMFrOGSh2Og==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxMTowNTozN1rOGSh5tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA4MjEwNg==", "bodyText": "These are good. Can you please go to the correspondent *.mod file and add them there too?", "url": "https://github.com/eclipse/jetty.project/pull/4856#discussion_r422082106", "createdAt": "2020-05-08T11:03:20Z", "author": {"login": "sbordet"}, "path": "jetty-server/src/main/config/etc/jetty-http.xml", "diffHunk": "@@ -34,6 +34,10 @@\n         <Set name=\"idleTimeout\"><Property name=\"jetty.http.idleTimeout\" deprecated=\"http.timeout\" default=\"30000\"/></Set>\n         <Set name=\"acceptorPriorityDelta\"><Property name=\"jetty.http.acceptorPriorityDelta\" deprecated=\"http.acceptorPriorityDelta\" default=\"0\"/></Set>\n         <Set name=\"acceptQueueSize\"><Property name=\"jetty.http.acceptQueueSize\" deprecated=\"http.acceptQueueSize\" default=\"0\"/></Set>\n+        <Set name=\"reuseAddress\"><Property name=\"jetty.http.reuseAddress\" default=\"true\"/></Set>\n+        <Set name=\"acceptedTcpNoDelay\"><Property name=\"jetty.http.acceptedTcpNoDelay\" default=\"true\"/></Set>\n+        <Set name=\"acceptedReceiveBufferSize\"><Property name=\"jetty.http.acceptedReceiveBufferSize\" default=\"-1\"/></Set>\n+        <Set name=\"acceptedSendBufferSize\"><Property name=\"jetty.http.acceptedSendBufferSize\" default=\"-1\"/></Set>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da2c7f48a1e629a63d5429e2b2c29278bced249a"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA4Mjk5OA==", "bodyText": "Sure, let me do it.", "url": "https://github.com/eclipse/jetty.project/pull/4856#discussion_r422082998", "createdAt": "2020-05-08T11:05:37Z", "author": {"login": "lorban"}, "path": "jetty-server/src/main/config/etc/jetty-http.xml", "diffHunk": "@@ -34,6 +34,10 @@\n         <Set name=\"idleTimeout\"><Property name=\"jetty.http.idleTimeout\" deprecated=\"http.timeout\" default=\"30000\"/></Set>\n         <Set name=\"acceptorPriorityDelta\"><Property name=\"jetty.http.acceptorPriorityDelta\" deprecated=\"http.acceptorPriorityDelta\" default=\"0\"/></Set>\n         <Set name=\"acceptQueueSize\"><Property name=\"jetty.http.acceptQueueSize\" deprecated=\"http.acceptQueueSize\" default=\"0\"/></Set>\n+        <Set name=\"reuseAddress\"><Property name=\"jetty.http.reuseAddress\" default=\"true\"/></Set>\n+        <Set name=\"acceptedTcpNoDelay\"><Property name=\"jetty.http.acceptedTcpNoDelay\" default=\"true\"/></Set>\n+        <Set name=\"acceptedReceiveBufferSize\"><Property name=\"jetty.http.acceptedReceiveBufferSize\" default=\"-1\"/></Set>\n+        <Set name=\"acceptedSendBufferSize\"><Property name=\"jetty.http.acceptedSendBufferSize\" default=\"-1\"/></Set>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA4MjEwNg=="}, "originalCommit": {"oid": "da2c7f48a1e629a63d5429e2b2c29278bced249a"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNzc1NzQ5OnYy", "diffSide": "RIGHT", "path": "jetty-server/src/main/config/etc/jetty-ssl.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxMTowMzoyNVrOGSh2Wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxMTowMzoyNVrOGSh2Wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA4MjEzOA==", "bodyText": "Ditto.", "url": "https://github.com/eclipse/jetty.project/pull/4856#discussion_r422082138", "createdAt": "2020-05-08T11:03:25Z", "author": {"login": "sbordet"}, "path": "jetty-server/src/main/config/etc/jetty-ssl.xml", "diffHunk": "@@ -26,6 +26,10 @@\n         <Set name=\"idleTimeout\"><Property name=\"jetty.ssl.idleTimeout\" deprecated=\"ssl.timeout\" default=\"30000\"/></Set>\n         <Set name=\"acceptorPriorityDelta\"><Property name=\"jetty.ssl.acceptorPriorityDelta\" deprecated=\"ssl.acceptorPriorityDelta\" default=\"0\"/></Set>\n         <Set name=\"acceptQueueSize\"><Property name=\"jetty.ssl.acceptQueueSize\" deprecated=\"ssl.acceptQueueSize\" default=\"0\"/></Set>\n+        <Set name=\"reuseAddress\"><Property name=\"jetty.ssl.reuseAddress\" default=\"true\"/></Set>\n+        <Set name=\"acceptedTcpNoDelay\"><Property name=\"jetty.ssl.acceptedTcpNoDelay\" default=\"true\"/></Set>\n+        <Set name=\"acceptedReceiveBufferSize\"><Property name=\"jetty.ssl.acceptedReceiveBufferSize\" default=\"-1\"/></Set>\n+        <Set name=\"acceptedSendBufferSize\"><Property name=\"jetty.ssl.acceptedSendBufferSize\" default=\"-1\"/></Set>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da2c7f48a1e629a63d5429e2b2c29278bced249a"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2528, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}