{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0NDE2MDQ3", "number": 4643, "reviewThreads": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNjoxMjoxNVrODmXQNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwOTozNDo0NlrODmmpdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNTUzNDYxOnYy", "diffSide": "RIGHT", "path": "jetty-start/src/main/java/org/eclipse/jetty/start/Modules.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNjoxMjoxNVrOFzvSNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNjo0NjoyMVrOFzwo6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc5NjQwNQ==", "bodyText": "While I'm not opposed to a mechanism to tag a module as the default for the tag that it provides, I think it is a complication we don't need for this PR.\nIt would be sufficient to have a module called logging that just depends on logging-jetty and that will transitively be picked as the default unless another logging module is explicitly enabled.", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r389796405", "createdAt": "2020-03-09T16:12:15Z", "author": {"login": "gregw"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/Modules.java", "diffHunk": "@@ -215,7 +216,22 @@ private Module registerModule(Path file)\n             _names.put(module.getName(), module);\n             module.getProvides().forEach(n ->\n             {\n-                _provided.computeIfAbsent(n, k -> new HashSet<Module>()).add(module);\n+                // Syntax can be :\n+                // \"<name>\" - for a simple provider reference\n+                // \"<name>|default\" - for a provider that is also the default implementation", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a31a050ec38a7d325b52dd6292c94c9192b8bd33"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgwODE5NA==", "bodyText": "In fact I definitely would like to see this default mechanism removed for now.   I just did an experiment of removing the default and creating a logging.mod file instead and it did not work.  I think the logic to used the obvious named module may have been removed.... checking....", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r389808194", "createdAt": "2020-03-09T16:30:04Z", "author": {"login": "gregw"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/Modules.java", "diffHunk": "@@ -215,7 +216,22 @@ private Module registerModule(Path file)\n             _names.put(module.getName(), module);\n             module.getProvides().forEach(n ->\n             {\n-                _provided.computeIfAbsent(n, k -> new HashSet<Module>()).add(module);\n+                // Syntax can be :\n+                // \"<name>\" - for a simple provider reference\n+                // \"<name>|default\" - for a provider that is also the default implementation", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc5NjQwNQ=="}, "originalCommit": {"oid": "a31a050ec38a7d325b52dd6292c94c9192b8bd33"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgxODYwMg==", "bodyText": "Actually cancel this.... the existing named mechanism is still working, it is just really clumsy to use in this situation, as it needs to have a logging-impl target rather than just logging.\nThus I think the new default mechanism is probably neater.... even though I don't like it being added in such a big PR.\nBut let's leave it for now.\nHowever, we should review other modules that depend on the name mechanism and see if they would be better off with the default mechanism.", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r389818602", "createdAt": "2020-03-09T16:46:21Z", "author": {"login": "gregw"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/Modules.java", "diffHunk": "@@ -215,7 +216,22 @@ private Module registerModule(Path file)\n             _names.put(module.getName(), module);\n             module.getProvides().forEach(n ->\n             {\n-                _provided.computeIfAbsent(n, k -> new HashSet<Module>()).add(module);\n+                // Syntax can be :\n+                // \"<name>\" - for a simple provider reference\n+                // \"<name>|default\" - for a provider that is also the default implementation", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc5NjQwNQ=="}, "originalCommit": {"oid": "a31a050ec38a7d325b52dd6292c94c9192b8bd33"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNTcwODU3OnYy", "diffSide": "RIGHT", "path": "jetty-home/src/main/resources/modules/logging-noop.mod", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNjo1NDoxMFrOFzw8IQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMTowNjowMFrOFz5W_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgyMzUyMQ==", "bodyText": "We do not need to have the license section here because enabling logging-noop does not actually add any new jars that are not already used by the default logging-jetty", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r389823521", "createdAt": "2020-03-09T16:54:10Z", "author": {"login": "gregw"}, "path": "jetty-home/src/main/resources/modules/logging-noop.mod", "diffHunk": "@@ -1,23 +1,20 @@\n-DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n \n [description]\n-Provides SLF4J API.  Requires a slf4j implementation (eg slf4j-simple-impl)\n-otherwise a noop implementation is used.\n+Configure logging to use SLF4J No-Op Implementation\n \n [tags]\n logging\n-slf4j\n-internal\n \n-[files]\n-maven://org.slf4j/slf4j-api/${slf4j.version}|lib/slf4j/slf4j-api-${slf4j.version}.jar\n+[provides]\n+logging\n \n [lib]\n-lib/slf4j/slf4j-api-${slf4j.version}.jar\n+lib/logging/slf4j-api-${slf4j.version}.jar\n \n [ini]\n-slf4j.version?=1.8.0-beta2\n-jetty.webapp.addServerClasses+=,${jetty.base.uri}/lib/slf4j/\n+slf4j.version?=2.0.0-alpha1\n+jetty.webapp.addSystemClasses+=,org.slf4j.\n \n [license]\n SLF4J is distributed under the MIT License.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "171a960fd39f35d0588853198dd90310c76193c2"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgyNTM3MA==", "bodyText": "Unless of course we need to add the license to the logging-jetty module ???\nI think we really only need license confirmation when we download something new, so perhaps we need a way to say what the license is, but that it is already confirmed by the jetty-home download?", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r389825370", "createdAt": "2020-03-09T16:56:56Z", "author": {"login": "gregw"}, "path": "jetty-home/src/main/resources/modules/logging-noop.mod", "diffHunk": "@@ -1,23 +1,20 @@\n-DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n \n [description]\n-Provides SLF4J API.  Requires a slf4j implementation (eg slf4j-simple-impl)\n-otherwise a noop implementation is used.\n+Configure logging to use SLF4J No-Op Implementation\n \n [tags]\n logging\n-slf4j\n-internal\n \n-[files]\n-maven://org.slf4j/slf4j-api/${slf4j.version}|lib/slf4j/slf4j-api-${slf4j.version}.jar\n+[provides]\n+logging\n \n [lib]\n-lib/slf4j/slf4j-api-${slf4j.version}.jar\n+lib/logging/slf4j-api-${slf4j.version}.jar\n \n [ini]\n-slf4j.version?=1.8.0-beta2\n-jetty.webapp.addServerClasses+=,${jetty.base.uri}/lib/slf4j/\n+slf4j.version?=2.0.0-alpha1\n+jetty.webapp.addSystemClasses+=,org.slf4j.\n \n [license]\n SLF4J is distributed under the MIT License.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgyMzUyMQ=="}, "originalCommit": {"oid": "171a960fd39f35d0588853198dd90310c76193c2"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk2MTQ3MA==", "bodyText": "If this PR gets approved, I'm going to file a piggy-back CQ on slf4j-api for distribution in jetty-home + jetty-distribution", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r389961470", "createdAt": "2020-03-09T21:06:00Z", "author": {"login": "joakime"}, "path": "jetty-home/src/main/resources/modules/logging-noop.mod", "diffHunk": "@@ -1,23 +1,20 @@\n-DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n \n [description]\n-Provides SLF4J API.  Requires a slf4j implementation (eg slf4j-simple-impl)\n-otherwise a noop implementation is used.\n+Configure logging to use SLF4J No-Op Implementation\n \n [tags]\n logging\n-slf4j\n-internal\n \n-[files]\n-maven://org.slf4j/slf4j-api/${slf4j.version}|lib/slf4j/slf4j-api-${slf4j.version}.jar\n+[provides]\n+logging\n \n [lib]\n-lib/slf4j/slf4j-api-${slf4j.version}.jar\n+lib/logging/slf4j-api-${slf4j.version}.jar\n \n [ini]\n-slf4j.version?=1.8.0-beta2\n-jetty.webapp.addServerClasses+=,${jetty.base.uri}/lib/slf4j/\n+slf4j.version?=2.0.0-alpha1\n+jetty.webapp.addSystemClasses+=,org.slf4j.\n \n [license]\n SLF4J is distributed under the MIT License.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgyMzUyMQ=="}, "originalCommit": {"oid": "171a960fd39f35d0588853198dd90310c76193c2"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNTc0NzA3OnYy", "diffSide": "RIGHT", "path": "jetty-home/src/main/resources/modules/logging-noop.mod", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzowMzo0NVrOFzxUCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwOTozNTo0MVrOF0HTuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgyOTY0Mw==", "bodyText": "Somehow this is not working?\n[1787] java -jar ../start.jar --add-to-start=server\nINFO  : server          initialized in ${jetty.base}/start.d/server.ini\nINFO  : logging-jetty   transitively enabled\nINFO  : resources       transitively enabled\nINFO  : threadpool      transitively enabled, ini template available with --add-to-start=threadpool\nINFO  : bytebufferpool  transitively enabled, ini template available with --add-to-start=bytebufferpool\nINFO  : Base directory was modified\n\n[1788] java -jar ../start.jar \n2020-03-09 18:01:38.862:WARN :oejx.XmlConfiguration:main: Ignored arg: <Arg name=\"threadpool\"><Ref refid=\"threadPool\"/></Arg>\n2020-03-09 18:01:38.898:INFO :oejs.Server:main: jetty-10.0.0-SNAPSHOT; built: 2020-03-09T16:23:20.158Z; git: 171a960fd39f35d0588853198dd90310c76193c2; jvm 13.0.2+8\n2020-03-09 18:01:38.945:INFO :oejs.Server:main: Started Server@1d371b2d{STARTING}[10.0.0-SNAPSHOT,sto=5000] @477ms\n^C\n[1789] java -jar ../start.jar --add-to-start=logging-noop\n\nALERT: There are enabled module(s) with licenses.\nThe following 1 module(s):\n + contains software not provided by the Eclipse Foundation!\n + contains software not covered by the Eclipse Public License!\n + has not been audited for compliance with its license\n\n Module: logging-noop\n  + SLF4J is distributed under the MIT License.\n  + Copyright (c) 2004-2013 QOS.ch\n  + All rights reserved.\n  + Permission is hereby granted, free  of charge, to any person obtaining\n  + a  copy  of this  software  and  associated  documentation files  (the\n  + \"Software\"), to  deal in  the Software without  restriction, including\n  + without limitation  the rights to  use, copy, modify,  merge, publish,\n  + distribute,  sublicense, and/or sell  copies of  the Software,  and to\n  + permit persons to whom the Software  is furnished to do so, subject to\n  + the following conditions:\n  + The  above  copyright  notice  and  this permission  notice  shall  be\n  + included in all copies or substantial portions of the Software.\n  + THE  SOFTWARE IS  PROVIDED  \"AS  IS\", WITHOUT  WARRANTY  OF ANY  KIND,\n  + EXPRESS OR  IMPLIED, INCLUDING  BUT NOT LIMITED  TO THE  WARRANTIES OF\n  + MERCHANTABILITY,    FITNESS    FOR    A   PARTICULAR    PURPOSE    AND\n  + NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n  + LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n  + OF CONTRACT, TORT OR OTHERWISE,  ARISING FROM, OUT OF OR IN CONNECTION\n  + WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nProceed (y/N)? y\nINFO  : logging-noop    initialized in ${jetty.base}/start.d/logging-noop.ini\nINFO  : Base directory was modified\n\n[1790] java -jar ../start.jar \n2020-03-09 18:01:58.722:WARN :oejx.XmlConfiguration:main: Ignored arg: <Arg name=\"threadpool\"><Ref refid=\"threadPool\"/></Arg>\n2020-03-09 18:01:58.752:INFO :oejs.Server:main: jetty-10.0.0-SNAPSHOT; built: 2020-03-09T16:23:20.158Z; git: 171a960fd39f35d0588853198dd90310c76193c2; jvm 13.0.2+8\n2020-03-09 18:01:58.791:INFO :oejs.Server:main: Started Server@5891e32e{STARTING}[10.0.0-SNAPSHOT,sto=5000] @451ms\n^C\n[1791] java -jar ../start.jar --dry-run\n/opt/jdk-13.0.2/bin/java -Djava.io.tmpdir=/tmp -Djetty.home=/home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home -Djetty.base=/home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home/test -cp /home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home/lib/logging/slf4j-api-2.0.0-alpha1.jar:/home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home/lib/jetty-servlet-api-4.0.3.jar:/home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home/lib/jetty-http-10.0.0-SNAPSHOT.jar:/home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home/lib/jetty-server-10.0.0-SNAPSHOT.jar:/home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home/lib/jetty-xml-10.0.0-SNAPSHOT.jar:/home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home/lib/jetty-util-10.0.0-SNAPSHOT.jar:/home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home/lib/jetty-io-10.0.0-SNAPSHOT.jar org.eclipse.jetty.xml.XmlConfiguration java.version=13.0.2 java.version.major=13 java.version.micro=2 java.version.minor=0 java.version.platform=13 jetty.base=/home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home/test jetty.base.uri=file:///home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home/test jetty.home=/home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home jetty.home.uri=file:///home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home jetty.webapp.addSystemClasses=org.slf4j. slf4j.version=2.0.0-alpha1 /home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home/etc/jetty-bytebufferpool.xml /home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home/etc/jetty-threadpool.xml /home/gregw/src/jetty-10.0.x/jetty-home/target/jetty-home/etc/jetty.xml", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r389829643", "createdAt": "2020-03-09T17:03:45Z", "author": {"login": "gregw"}, "path": "jetty-home/src/main/resources/modules/logging-noop.mod", "diffHunk": "@@ -1,23 +1,20 @@\n-DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n \n [description]\n-Provides SLF4J API.  Requires a slf4j implementation (eg slf4j-simple-impl)\n-otherwise a noop implementation is used.\n+Configure logging to use SLF4J No-Op Implementation", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "171a960fd39f35d0588853198dd90310c76193c2"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE5MDAwOQ==", "bodyText": "still not working?   No idea how it is finding our implementation as it doesn't appear on the dry run classpath?", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r390190009", "createdAt": "2020-03-10T09:35:41Z", "author": {"login": "gregw"}, "path": "jetty-home/src/main/resources/modules/logging-noop.mod", "diffHunk": "@@ -1,23 +1,20 @@\n-DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n \n [description]\n-Provides SLF4J API.  Requires a slf4j implementation (eg slf4j-simple-impl)\n-otherwise a noop implementation is used.\n+Configure logging to use SLF4J No-Op Implementation", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgyOTY0Mw=="}, "originalCommit": {"oid": "171a960fd39f35d0588853198dd90310c76193c2"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNTc1NjI3OnYy", "diffSide": "RIGHT", "path": "jetty-home/src/main/resources/modules/logging-log4j1.mod", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzowNjoxOFrOFzxZ2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzowNjoxOFrOFzxZ2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgzMTEzMA==", "bodyText": "The variable ${log4j1.version} should be ${log4j.version}", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r389831130", "createdAt": "2020-03-09T17:06:18Z", "author": {"login": "gregw"}, "path": "jetty-home/src/main/resources/modules/logging-log4j1.mod", "diffHunk": "@@ -0,0 +1,59 @@\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+\n+[description]\n+Configure jetty logging to use Log4j Logging\n+SLF4J is used as the core logging mechanism.\n+\n+[tags]\n+logging\n+log4j\n+\n+[depends]\n+resources\n+\n+[provides]\n+logging\n+log4j\n+\n+[files]\n+basehome:modules/logging/log4j1\n+maven://org.slf4j/slf4j-log4j12/${slf4j.version}|lib/logging/slf4j-log4j12-${slf4j.version}.jar\n+maven://log4j/log4j/${log4j1.version}|lib/logging/log4j-${log4j.version}.jar", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "171a960fd39f35d0588853198dd90310c76193c2"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNTc2NTYzOnYy", "diffSide": "RIGHT", "path": "jetty-home/src/main/resources/modules/logging-log4j1.mod", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzowODozMlrOFzxfew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzowODozMlrOFzxfew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgzMjU3MQ==", "bodyText": "Why does every module have to specify the slf4j.version? can't that be done once in a common module that also provides the library and license?", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r389832571", "createdAt": "2020-03-09T17:08:32Z", "author": {"login": "gregw"}, "path": "jetty-home/src/main/resources/modules/logging-log4j1.mod", "diffHunk": "@@ -0,0 +1,59 @@\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+\n+[description]\n+Configure jetty logging to use Log4j Logging\n+SLF4J is used as the core logging mechanism.\n+\n+[tags]\n+logging\n+log4j\n+\n+[depends]\n+resources\n+\n+[provides]\n+logging\n+log4j\n+\n+[files]\n+basehome:modules/logging/log4j1\n+maven://org.slf4j/slf4j-log4j12/${slf4j.version}|lib/logging/slf4j-log4j12-${slf4j.version}.jar\n+maven://log4j/log4j/${log4j1.version}|lib/logging/log4j-${log4j.version}.jar\n+\n+[lib]\n+lib/logging/slf4j-api-${slf4j.version}.jar\n+lib/logging/slf4j-log4j12-${slf4j.version}.jar\n+lib/logging/log4j-${log4j.version}.jar\n+\n+[ini]\n+slf4j.version?=2.0.0-alpha1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "171a960fd39f35d0588853198dd90310c76193c2"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNTc2NzYzOnYy", "diffSide": "RIGHT", "path": "jetty-home/src/main/resources/modules/logging-log4j1.mod", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzowOTowMlrOFzxgrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzowOTowMlrOFzxgrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgzMjg3OA==", "bodyText": "@olamy did we ever work out a way to get these module versions from the pom?", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r389832878", "createdAt": "2020-03-09T17:09:02Z", "author": {"login": "gregw"}, "path": "jetty-home/src/main/resources/modules/logging-log4j1.mod", "diffHunk": "@@ -0,0 +1,59 @@\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+\n+[description]\n+Configure jetty logging to use Log4j Logging\n+SLF4J is used as the core logging mechanism.\n+\n+[tags]\n+logging\n+log4j\n+\n+[depends]\n+resources\n+\n+[provides]\n+logging\n+log4j\n+\n+[files]\n+basehome:modules/logging/log4j1\n+maven://org.slf4j/slf4j-log4j12/${slf4j.version}|lib/logging/slf4j-log4j12-${slf4j.version}.jar\n+maven://log4j/log4j/${log4j1.version}|lib/logging/log4j-${log4j.version}.jar\n+\n+[lib]\n+lib/logging/slf4j-api-${slf4j.version}.jar\n+lib/logging/slf4j-log4j12-${slf4j.version}.jar\n+lib/logging/log4j-${log4j.version}.jar\n+\n+[ini]\n+slf4j.version?=2.0.0-alpha1\n+log4j.version?=1.2.17", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "171a960fd39f35d0588853198dd90310c76193c2"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNTc4Mzg3OnYy", "diffSide": "RIGHT", "path": "jetty-home/src/main/resources/modules/logging-jul-capture.mod", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzoxMjo1N1rOFzxqPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzoxMjo1N1rOFzxqPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgzNTMyNQ==", "bodyText": "How did this bridge jar get downloaded?  why is there no licence?", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r389835325", "createdAt": "2020-03-09T17:12:57Z", "author": {"login": "gregw"}, "path": "jetty-home/src/main/resources/modules/logging-jul-capture.mod", "diffHunk": "@@ -0,0 +1,23 @@\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+\n+[description]\n+Capture java.util.logging events and bridge them to org.slf4j\n+\n+[tags]\n+java-util-logging\n+\n+[depends]\n+logging\n+\n+[provides]\n+java-util-logging\n+\n+[xml]\n+etc/logging-jul-capture.xml\n+\n+[lib]\n+lib/logging/slf4j-api-${slf4j.version}.jar\n+lib/logging/jul-to-slf4j-${slf4j.version}.jar", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "171a960fd39f35d0588853198dd90310c76193c2"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNTc5OTk4OnYy", "diffSide": "RIGHT", "path": "jetty-home/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzoxNjo1OVrOFzx0bQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzoxNjo1OVrOFzx0bQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgzNzkzMw==", "bodyText": "The jul-to-slf4j, jcl-over-slf4j and log4j-over-slf4j bridge jars should not be included in jetty-home.  They should be downloaded into jetty-base only if their module is enabled.", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r389837933", "createdAt": "2020-03-09T17:16:59Z", "author": {"login": "gregw"}, "path": "jetty-home/pom.xml", "diffHunk": "@@ -170,6 +170,33 @@\n               <outputDirectory>${source-assembly-directory}/lib</outputDirectory>\n             </configuration>\n           </execution>\n+          <execution>\n+            <id>copy-lib-logging-deps</id>\n+            <phase>generate-resources</phase>\n+            <goals>\n+              <goal>copy-dependencies</goal>\n+            </goals>\n+            <configuration>\n+              <includeGroupIds>org.eclipse.jetty,org.slf4j</includeGroupIds>\n+              <includeArtifactIds>jetty-slf4j-impl,slf4j-api,jul-to-slf4j,jcl-over-slf4j,log4j-over-slf4j</includeArtifactIds>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "171a960fd39f35d0588853198dd90310c76193c2"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxODAzMzE2OnYy", "diffSide": "RIGHT", "path": "jetty-home/src/main/resources/modules/logging-slf4j.mod", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwOToyODoxOFrOF0HDRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwOToyODoxOFrOF0HDRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE4NTc5OQ==", "bodyText": "I think this module should just be called slf4j not ``logging-sl4j` as it doesn't provide logging, just a common dependency used by all logging.", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r390185799", "createdAt": "2020-03-10T09:28:18Z", "author": {"login": "gregw"}, "path": "jetty-home/src/main/resources/modules/logging-slf4j.mod", "diffHunk": "@@ -0,0 +1,18 @@\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+\n+[description]\n+Configure logging to use slf4j with no impl\n+(If you don't select an impl, then NOP will be used by slf4j)\n+\n+[tags]\n+logging\n+\n+[provides]\n+slf4j", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c8e25fafa58fddb1de47069df2db92280ce55e1"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxODAzNzcyOnYy", "diffSide": "RIGHT", "path": "jetty-home/src/main/resources/modules/logging-slf4j.mod", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwOToyOToyNlrOF0HF_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMzo0NTo1OVrOF200XQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE4NjQ5NQ==", "bodyText": "I think that slf4j should be a server class not a system class.   There is no reason that a webapp cannot have it's own version of slf4j which is a different version.     Now we might want to provide a mechanism that exposes server slf4j to a webapp, but it should not be the default.", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r390186495", "createdAt": "2020-03-10T09:29:26Z", "author": {"login": "gregw"}, "path": "jetty-home/src/main/resources/modules/logging-slf4j.mod", "diffHunk": "@@ -0,0 +1,18 @@\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+\n+[description]\n+Configure logging to use slf4j with no impl\n+(If you don't select an impl, then NOP will be used by slf4j)\n+\n+[tags]\n+logging\n+\n+[provides]\n+slf4j\n+\n+[lib]\n+lib/logging/slf4j-api-${slf4j.version}.jar\n+\n+[ini]\n+slf4j.version?=2.0.0-alpha1\n+jetty.webapp.addSystemClasses+=,org.slf4j.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c8e25fafa58fddb1de47069df2db92280ce55e1"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk2MzIxNQ==", "bodyText": "This needs a review.", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r390963215", "createdAt": "2020-03-11T13:19:40Z", "author": {"login": "joakime"}, "path": "jetty-home/src/main/resources/modules/logging-slf4j.mod", "diffHunk": "@@ -0,0 +1,18 @@\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+\n+[description]\n+Configure logging to use slf4j with no impl\n+(If you don't select an impl, then NOP will be used by slf4j)\n+\n+[tags]\n+logging\n+\n+[provides]\n+slf4j\n+\n+[lib]\n+lib/logging/slf4j-api-${slf4j.version}.jar\n+\n+[ini]\n+slf4j.version?=2.0.0-alpha1\n+jetty.webapp.addSystemClasses+=,org.slf4j.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE4NjQ5NQ=="}, "originalCommit": {"oid": "6c8e25fafa58fddb1de47069df2db92280ce55e1"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk2NDAzMA==", "bodyText": "Behavior here could be a new module - default behavior - option to expose to webapp.", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r390964030", "createdAt": "2020-03-11T13:20:57Z", "author": {"login": "joakime"}, "path": "jetty-home/src/main/resources/modules/logging-slf4j.mod", "diffHunk": "@@ -0,0 +1,18 @@\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+\n+[description]\n+Configure logging to use slf4j with no impl\n+(If you don't select an impl, then NOP will be used by slf4j)\n+\n+[tags]\n+logging\n+\n+[provides]\n+slf4j\n+\n+[lib]\n+lib/logging/slf4j-api-${slf4j.version}.jar\n+\n+[ini]\n+slf4j.version?=2.0.0-alpha1\n+jetty.webapp.addSystemClasses+=,org.slf4j.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE4NjQ5NQ=="}, "originalCommit": {"oid": "6c8e25fafa58fddb1de47069df2db92280ce55e1"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzAzMjc5Nw==", "bodyText": "Changed to server classes in this PR.", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r393032797", "createdAt": "2020-03-16T13:45:59Z", "author": {"login": "joakime"}, "path": "jetty-home/src/main/resources/modules/logging-slf4j.mod", "diffHunk": "@@ -0,0 +1,18 @@\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+\n+[description]\n+Configure logging to use slf4j with no impl\n+(If you don't select an impl, then NOP will be used by slf4j)\n+\n+[tags]\n+logging\n+\n+[provides]\n+slf4j\n+\n+[lib]\n+lib/logging/slf4j-api-${slf4j.version}.jar\n+\n+[ini]\n+slf4j.version?=2.0.0-alpha1\n+jetty.webapp.addSystemClasses+=,org.slf4j.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE4NjQ5NQ=="}, "originalCommit": {"oid": "6c8e25fafa58fddb1de47069df2db92280ce55e1"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxODA1Njg3OnYy", "diffSide": "RIGHT", "path": "jetty-home/src/main/resources/modules/logging-log4j1.mod", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwOTozNDo0NlrOF0HRwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwOTozNDo0NlrOF0HRwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE4OTUwNQ==", "bodyText": "This is the wrong license.   The license here should be for the log4j jar downloaded.  The logging-slf4j module should have the slf4j license.", "url": "https://github.com/eclipse/jetty.project/pull/4643#discussion_r390189505", "createdAt": "2020-03-10T09:34:46Z", "author": {"login": "gregw"}, "path": "jetty-home/src/main/resources/modules/logging-log4j1.mod", "diffHunk": "@@ -0,0 +1,57 @@\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+\n+[description]\n+Configure jetty logging to use Log4j Logging\n+SLF4J is used as the core logging mechanism.\n+\n+[tags]\n+logging\n+\n+[depends]\n+logging-slf4j\n+resources\n+\n+[provides]\n+logging\n+log4j\n+\n+[files]\n+basehome:modules/logging/log4j1\n+maven://org.slf4j/slf4j-log4j12/${slf4j.version}|lib/logging/slf4j-log4j12-${slf4j.version}.jar\n+maven://log4j/log4j/${log4j.version}|lib/logging/log4j-${log4j.version}.jar\n+\n+[lib]\n+lib/logging/slf4j-log4j12-${slf4j.version}.jar\n+lib/logging/log4j-${log4j.version}.jar\n+\n+[ini]\n+log4j.version?=1.2.17\n+jetty.webapp.addSystemClasses+=,org.slf4j.,org.apache.log4j.\n+\n+\n+[license]\n+SLF4J is distributed under the MIT License.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c8e25fafa58fddb1de47069df2db92280ce55e1"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2657, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}