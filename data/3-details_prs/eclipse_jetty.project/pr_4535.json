{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MzUwMzg0", "number": 4535, "title": "Issue #4462 - do not throw IOException on Javax websocket close", "bodyText": "Signed-off-by: Lachlan Roberts lachlan@webtide.com\nIssue #4462", "createdAt": "2020-01-31T00:10:54Z", "url": "https://github.com/eclipse/jetty.project/pull/4535", "merged": true, "mergeCommit": {"oid": "f8219a56cccd5dd777f881bd5101c63607601149"}, "closed": true, "closedAt": "2020-02-02T23:22:24Z", "author": {"login": "lachlan-roberts"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_juYpAH2gAyMzY5MzUwMzg0OmJkYWEwNmU4ZGQ3ODIzOTViZDIwMjcwODgwOTBiYzM1YmE1ZmJiNzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcAWiEEAFqTM1MTkzNDc0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bdaa06e8dd782395bd2027088090bc35ba5fbb78", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/bdaa06e8dd782395bd2027088090bc35ba5fbb78", "committedDate": "2020-01-31T00:09:30Z", "message": "Issue #4462 - do not throw IOException on Javax websocket close\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fde1ab3e5bccb79deeb5296e08c8688109fb5bc6", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/fde1ab3e5bccb79deeb5296e08c8688109fb5bc6", "committedDate": "2020-01-31T05:31:35Z", "message": "Issue #4462 - fix incorrect test expectations\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTM0NzQ1", "url": "https://github.com/eclipse/jetty.project/pull/4535#pullrequestreview-351934745", "createdAt": "2020-02-02T11:20:22Z", "commit": {"oid": "fde1ab3e5bccb79deeb5296e08c8688109fb5bc6"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxMToyMDoyMlrOFkhPtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxMToyMDoyMlrOFkhPtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgzNzc0OQ==", "bodyText": "getBlockingTimeout() is only used from close() so perhaps should be renamed to getCloseTimeout()?", "url": "https://github.com/eclipse/jetty.project/pull/4535#discussion_r373837749", "createdAt": "2020-02-02T11:20:22Z", "author": {"login": "sbordet"}, "path": "jetty-websocket/websocket-javax-common/src/main/java/org/eclipse/jetty/websocket/javax/common/JavaxWebSocketSession.java", "diffHunk": "@@ -189,11 +189,18 @@ public void close() throws IOException\n      * @since JSR356 v1.0\n      */\n     @Override\n-    public void close(CloseReason closeReason) throws IOException\n+    public void close(CloseReason closeReason)\n     {\n-        FutureCallback b = new FutureCallback();\n-        coreSession.close(closeReason.getCloseCode().getCode(), closeReason.getReasonPhrase(), b);\n-        b.block(getBlockingTimeout(), TimeUnit.MILLISECONDS);\n+        try\n+        {\n+            FutureCallback b = new FutureCallback();\n+            coreSession.close(closeReason.getCloseCode().getCode(), closeReason.getReasonPhrase(), b);\n+            b.block(getBlockingTimeout(), TimeUnit.MILLISECONDS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fde1ab3e5bccb79deeb5296e08c8688109fb5bc6"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 571, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}