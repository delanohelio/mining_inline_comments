{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE4ODAwNjIy", "number": 5638, "title": "Run websocket autobahn-testsuite with docker in junit test", "bodyText": "Use docker with testcontainers to run autobahn-testsuite in a junit test.\nWe use the image jettyproject/autobahn-testsuite:latest which is a custom image where the autobahn-testsuite has been updated.", "createdAt": "2020-11-10T22:24:44Z", "url": "https://github.com/eclipse/jetty.project/pull/5638", "merged": true, "mergeCommit": {"oid": "b2bd86701c2136e2c0744603c61f9846b872e55c"}, "closed": true, "closedAt": "2020-11-16T05:10:24Z", "author": {"login": "lachlan-roberts"}, "timelineItems": {"totalCount": 34, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdW6zjDAH2gAyNTE4ODAwNjIyOjVmZDBiMDdjNDUyZTIyYTdlZjlmYjU1ZjZhY2ViZTRhZDdkN2JhYzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdc8z9FAFqTUzMDkwNTk4Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5fd0b07c452e22a7ef9fb55f6acebe4ad7d7bac0", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/5fd0b07c452e22a7ef9fb55f6acebe4ad7d7bac0", "committedDate": "2020-10-28T10:14:22Z", "message": "run WebSocket Autobahn tests in java code using Testcontainers\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eacddab552946b525bdd905586ef5face86c81e7", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/eacddab552946b525bdd905586ef5face86c81e7", "committedDate": "2020-10-28T10:14:22Z", "message": "fix file permissions on websocket autobahn generated test reports\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a1f31c9ebd19fb1f883e38c79e2e9314f615c5d", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/3a1f31c9ebd19fb1f883e38c79e2e9314f615c5d", "committedDate": "2020-10-28T10:14:23Z", "message": "only chown autobahn reports if directory exists\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46de11ec2df3be1ba9b1c50d2168d04cc8223111", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/46de11ec2df3be1ba9b1c50d2168d04cc8223111", "committedDate": "2020-10-28T10:14:23Z", "message": "debug to find jenkins workspace\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8db752f0bfe3fb12b21bcfb00f8c04013f8afc4", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/e8db752f0bfe3fb12b21bcfb00f8c04013f8afc4", "committedDate": "2020-10-28T10:14:24Z", "message": "wip\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32fc73d64182b7e27e23aa5cb41a14a22ec8e8ab", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/32fc73d64182b7e27e23aa5cb41a14a22ec8e8ab", "committedDate": "2020-10-28T10:14:24Z", "message": "use try resource for container\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3b79d5c86ec14590906b24c577107a9b84e9198", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/e3b79d5c86ec14590906b24c577107a9b84e9198", "committedDate": "2020-10-28T10:14:24Z", "message": "use userdir only\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ced55d18b2725210e20c1a88721890ddaa7dc53", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/7ced55d18b2725210e20c1a88721890ddaa7dc53", "committedDate": "2020-10-28T21:54:06Z", "message": "start working on getting json result and transform then into junit results\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5222df8967339f29822ab9fb8bb796bc94d5b9a", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/d5222df8967339f29822ab9fb8bb796bc94d5b9a", "committedDate": "2020-10-29T05:09:44Z", "message": "copy all .json and .html reports from docker container\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "377d0a8dc0a0184efb7f5c121345ea5d31c9891a", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/377d0a8dc0a0184efb7f5c121345ea5d31c9891a", "committedDate": "2020-10-29T05:17:01Z", "message": "fix checkstyle issues\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ccbe7289cce4936a9bf4416b593df701e993881", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/1ccbe7289cce4936a9bf4416b593df701e993881", "committedDate": "2020-10-31T05:48:25Z", "message": "turn json reports to surefire reports\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b8f3aa07a6dc1f7765c722ef99389cace2ef57e", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/1b8f3aa07a6dc1f7765c722ef99389cace2ef57e", "committedDate": "2020-11-01T00:31:17Z", "message": "copy fuzzing config at start of the container\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "137c1e8b3a8de836b48fa6d2f5b8c65a68d90b48", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/137c1e8b3a8de836b48fa6d2f5b8c65a68d90b48", "committedDate": "2020-11-02T03:06:04Z", "message": "localhost cannot work on kubernetes\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07c313151716e87f30bf2ffb5ac84a05b51f94fd", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/07c313151716e87f30bf2ffb5ac84a05b51f94fd", "committedDate": "2020-11-03T06:28:42Z", "message": "use different name for test case result name\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "acff50720065f6cc74ac2ae5d89e2544001699b3", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/acff50720065f6cc74ac2ae5d89e2544001699b3", "committedDate": "2020-11-03T23:09:15Z", "message": "increase the overall startup timeout to 2hours\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88b703547425374a4944e0bc3362f8ff8b1304bc", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/88b703547425374a4944e0bc3362f8ff8b1304bc", "committedDate": "2020-11-03T23:27:12Z", "message": "do not report unimplemented tests as failures\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53454e70cd5da4f2156685da555f4cb7a640d501", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/53454e70cd5da4f2156685da555f4cb7a640d501", "committedDate": "2020-11-09T07:16:33Z", "message": "Merge remote-tracking branch 'origin/jetty-10.0.x' into jetty-10.0.x-AutobahnDocker"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ba1ac55b711463403c958e0483d3d0bb8a64512", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/6ba1ac55b711463403c958e0483d3d0bb8a64512", "committedDate": "2020-11-09T08:43:16Z", "message": "exclude incorrect test case 7.9.6\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab8b4c34278f3a5d757623c76f968aed8a0f08a3", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/ab8b4c34278f3a5d757623c76f968aed8a0f08a3", "committedDate": "2020-11-10T00:23:13Z", "message": "cleanups of AutobahnTests\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b9db1501865e1fc9f81c0537a1d4b1c3c35c753", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/5b9db1501865e1fc9f81c0537a1d4b1c3c35c753", "committedDate": "2020-11-10T03:42:22Z", "message": "use the custom jettyproject/autobahn-testsuite image\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2979173c5fd04027fd65b68bf6872fc8f05af18", "author": {"user": {"login": "lachlan-roberts", "name": "Lachlan"}}, "url": "https://github.com/eclipse/jetty.project/commit/b2979173c5fd04027fd65b68bf6872fc8f05af18", "committedDate": "2020-11-10T03:54:36Z", "message": "fail the junit test if there were any failed test cases\n\nSigned-off-by: Lachlan Roberts <lachlan@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c46920dafd21d9a945225c8fea263f887b72e277", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/c46920dafd21d9a945225c8fea263f887b72e277", "committedDate": "2020-11-11T07:48:35Z", "message": "activate autobahn tests only for ci profile\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3OTY0NDY3", "url": "https://github.com/eclipse/jetty.project/pull/5638#pullrequestreview-527964467", "createdAt": "2020-11-11T08:37:18Z", "commit": {"oid": "c46920dafd21d9a945225c8fea263f887b72e277"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQwODozNzoxOFrOHxDYkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQwODozNzoxOFrOHxDYkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTE5NzcxNQ==", "bodyText": "@olamy it would be good if we could still run the tests in intellij without having to set a system property. Is there anyway we can do this.", "url": "https://github.com/eclipse/jetty.project/pull/5638#discussion_r521197715", "createdAt": "2020-11-11T08:37:18Z", "author": {"login": "lachlan-roberts"}, "path": "jetty-websocket/websocket-core-tests/src/test/java/org/eclipse/jetty/websocket/core/autobahn/AutobahnTests.java", "diffHunk": "@@ -88,6 +88,9 @@ public static void before() throws Exception\n     @Test\n     public void testClient() throws Exception\n     {\n+        if(!Boolean.getBoolean(\"autobahn.tests\")){\n+            return;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c46920dafd21d9a945225c8fea263f887b72e277"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf01cf280e3961c86b27e6df27a976623b584b81", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/bf01cf280e3961c86b27e6df27a976623b584b81", "committedDate": "2020-11-11T08:59:56Z", "message": "exclude autobahn via surefire property\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1b5cc3cd3a0c88c07905fb1cc3c9cf188ac40ca", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/b1b5cc3cd3a0c88c07905fb1cc3c9cf188ac40ca", "committedDate": "2020-11-11T09:32:13Z", "message": "not needed anymore\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26f1e0b7231447f7a6ab22a374ff5c1c21687e66", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/26f1e0b7231447f7a6ab22a374ff5c1c21687e66", "committedDate": "2020-11-13T05:24:27Z", "message": "use autobahn to not run it per default\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5NzQ4MTM4", "url": "https://github.com/eclipse/jetty.project/pull/5638#pullrequestreview-529748138", "createdAt": "2020-11-13T05:34:10Z", "commit": {"oid": "26f1e0b7231447f7a6ab22a374ff5c1c21687e66"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNTozNDoxMFrOHyc9-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNTozNDoxMFrOHyc9-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY2NTQ2NA==", "bodyText": "@olamy Will this not run AutoBahnTests.java by default or exclude the whole websocket-core-tests module?", "url": "https://github.com/eclipse/jetty.project/pull/5638#discussion_r522665464", "createdAt": "2020-11-13T05:34:10Z", "author": {"login": "lachlan-roberts"}, "path": "jetty-websocket/websocket-core-tests/pom.xml", "diffHunk": "@@ -94,7 +94,7 @@\n   </build>\n   <profiles>\n     <profile>\n-      <id>ci</id>\n+      <id>autobahn</id>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26f1e0b7231447f7a6ab22a374ff5c1c21687e66"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e09b8690391e03a16dc19ab1ab1b54ce11e9ae6", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/3e09b8690391e03a16dc19ab1ab1b54ce11e9ae6", "committedDate": "2020-11-14T03:04:19Z", "message": "should exclude autobahn test per default\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9786bc4c98dd07312150861e96b712d3811541c2", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/9786bc4c98dd07312150861e96b712d3811541c2", "committedDate": "2020-11-14T04:10:44Z", "message": "add Jenkinsfile for autobahn build\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a1130bc4191fcebc058d18bc9153ab8d3f018dd", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/8a1130bc4191fcebc058d18bc9153ab8d3f018dd", "committedDate": "2020-11-14T04:15:39Z", "message": "simpify autobahn build\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48c8db63165c200ebd0aa6a60f9ff946cd425f24", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/48c8db63165c200ebd0aa6a60f9ff946cd425f24", "committedDate": "2020-11-14T04:17:13Z", "message": "pool scm daily\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "041b5c871283c4fe161be2fb222bf9f405e1eebc", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/041b5c871283c4fe161be2fb222bf9f405e1eebc", "committedDate": "2020-11-14T05:44:46Z", "message": "keep -fae\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5cf5c0e862b38501270928eece07e90fdd8dbef", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/a5cf5c0e862b38501270928eece07e90fdd8dbef", "committedDate": "2020-11-14T08:53:31Z", "message": "restore -Dmaven.test.failure.ignore=true\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwOTA1OTg3", "url": "https://github.com/eclipse/jetty.project/pull/5638#pullrequestreview-530905987", "createdAt": "2020-11-16T03:58:10Z", "commit": {"oid": "a5cf5c0e862b38501270928eece07e90fdd8dbef"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4964, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}