{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4NjUxNjg3", "number": 5292, "title": "Issue #5264 Demo modules", "bodyText": "Create modules in jetty-home to download and deploy demos for #5264", "createdAt": "2020-09-17T13:01:25Z", "url": "https://github.com/eclipse/jetty.project/pull/5292", "merged": true, "mergeCommit": {"oid": "ede63b0de2643619bac002a442f0ff2f8410067b"}, "closed": true, "closedAt": "2020-09-24T01:21:16Z", "author": {"login": "gregw"}, "timelineItems": {"totalCount": 45, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJwnLBgH2gAyNDg4NjUxNjg3OjUyYTBmZGZiZmExZDhlZWQxNmNmZTc5MTJkODQ1ZGNjZjFhY2I4ZWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdL2yg3gH2gAyNDg4NjUxNjg3OjM1YmNhODJlMzVhNDMxYTYwN2Q0MzM1YjgxYmZlODY2NmJmNDlmNGI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "52a0fdfbfa1d8eed16cfe7912d845dccf1acb8eb", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/52a0fdfbfa1d8eed16cfe7912d845dccf1acb8eb", "committedDate": "2020-09-17T13:00:47Z", "message": "Issue #5264 Demo modules\n\nCreate modules in jetty-home to download and deploy demos"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e338310c0a59140925bf1392f6311a8f03cc53f0", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/e338310c0a59140925bf1392f6311a8f03cc53f0", "committedDate": "2020-09-18T19:20:41Z", "message": "Issue #5264 - Supporting snapshot maven repo metadata in start.jar\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba78355bd678a4355ca1250923f2caa43d23be62", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/ba78355bd678a4355ca1250923f2caa43d23be62", "committedDate": "2020-09-18T20:53:31Z", "message": "Issue #5264 - Supporting extract of maven archive to destination\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ecff26022f8b686cec40ce0ad89072dcb6869bb", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/4ecff26022f8b686cec40ce0ad89072dcb6869bb", "committedDate": "2020-09-21T18:56:34Z", "message": "Issue #5264 - Reworking test-distribution to use jetty-home\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0b8a314118a307083ba88b955bf34371bedba93", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/d0b8a314118a307083ba88b955bf34371bedba93", "committedDate": "2020-09-21T18:56:50Z", "message": "Issue #5264 - Disabling jetty-distribution from build reactor\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a64309cdfafeb8bcbcf450fbecf0120c2057d79", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/8a64309cdfafeb8bcbcf450fbecf0120c2057d79", "committedDate": "2020-09-21T18:57:23Z", "message": "Issue #5264 - Reworking demo/tests into modules based on config classifiers\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "533d64cda1cf78d082f471b76e1971a0c69766fd", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/533d64cda1cf78d082f471b76e1971a0c69766fd", "committedDate": "2020-09-21T19:47:31Z", "message": "Issue #5264 - Fixing deploy status on demo webapps\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "817533f460954b55de2725c331aece6b8c84001d", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/817533f460954b55de2725c331aece6b8c84001d", "committedDate": "2020-09-21T19:56:48Z", "message": "Issue #5264 - Removing compact3 build\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c002305cb2331c4170738c6ac3cf3ec7c9d7cbdf", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/c002305cb2331c4170738c6ac3cf3ec7c9d7cbdf", "committedDate": "2020-09-21T20:53:45Z", "message": "Issue #5264 - Fixing demo-jndi config\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "770f251cbbf83b62755ecc02eab565e208dc1741", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/770f251cbbf83b62755ecc02eab565e208dc1741", "committedDate": "2020-09-21T21:48:50Z", "message": "Issue #5264 - Fixing demo-jndi deps for javax.mail\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3768b09d6f2db7d200af826fa6cb8e57a339b7f9", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/3768b09d6f2db7d200af826fa6cb8e57a339b7f9", "committedDate": "2020-09-22T11:07:14Z", "message": "added jstl\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1f6cbb9da7981c42b2c0d25aba0d1d8065dd5ac", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/d1f6cbb9da7981c42b2c0d25aba0d1d8065dd5ac", "committedDate": "2020-09-22T11:28:10Z", "message": "added jndi and jaas dependencies\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63736990c5150cc78ab02b3c6bc43a7ffea347f9", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/63736990c5150cc78ab02b3c6bc43a7ffea347f9", "committedDate": "2020-09-22T16:35:15Z", "message": "Issue #5264 - Changing Distro to Home in jetty-maven-plugin\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2cd9b3a502c444c818f14941f089bf6dbf877b9", "author": {"user": {"login": "olamy", "name": "Olivier Lamy"}}, "url": "https://github.com/eclipse/jetty.project/commit/a2cd9b3a502c444c818f14941f089bf6dbf877b9", "committedDate": "2020-09-23T07:18:22Z", "message": "fix maven plugin starting distribution as jetty home has different name, configure invoker plugin to be faster when running locally\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NDAyMDQ3", "url": "https://github.com/eclipse/jetty.project/pull/5292#pullrequestreview-494402047", "createdAt": "2020-09-23T08:05:19Z", "commit": {"oid": "a2cd9b3a502c444c818f14941f089bf6dbf877b9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODowNToxOVrOHWbtsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODowNToxOVrOHWbtsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzI4NDc4NA==", "bodyText": "I don't like much the idea about having test depending on downloading resources from https://oss.sonatype.org.\n@joakime not urgent but I can fix that (next week when back from holidays)", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493284784", "createdAt": "2020-09-23T08:05:19Z", "author": {"login": "olamy"}, "path": "jetty-start/src/test/java/org/eclipse/jetty/start/fileinits/MavenLocalRepoFileInitializerTest.java", "diffHunk": "@@ -172,28 +177,90 @@ public void testGetCoordinateTestMavenBaseUri()\n     }\n \n     @Test\n-    public void testDownloaddefaultrepo()\n+    public void testDownloadDefaultRepo()\n         throws Exception\n     {\n         MavenLocalRepoFileInitializer repo =\n             new MavenLocalRepoFileInitializer(baseHome, null, false);\n-        String ref = \"maven://org.eclipse.jetty/jetty-http/9.4.10.v20180503/jar/tests\";\n+        String ref = \"maven://org.eclipse.jetty/jetty-http/9.4.31.v20200723/jar/tests\";\n         Coordinates coords = repo.getCoordinates(URI.create(ref));\n         assertThat(\"Coordinates\", coords, notNullValue());\n \n         assertThat(\"coords.groupId\", coords.groupId, is(\"org.eclipse.jetty\"));\n         assertThat(\"coords.artifactId\", coords.artifactId, is(\"jetty-http\"));\n-        assertThat(\"coords.version\", coords.version, is(\"9.4.10.v20180503\"));\n+        assertThat(\"coords.version\", coords.version, is(\"9.4.31.v20200723\"));\n         assertThat(\"coords.type\", coords.type, is(\"jar\"));\n         assertThat(\"coords.classifier\", coords.classifier, is(\"tests\"));\n \n         assertThat(\"coords.toCentralURI\", coords.toCentralURI().toASCIIString(),\n-            is(\"https://repo1.maven.org/maven2/org/eclipse/jetty/jetty-http/9.4.10.v20180503/jetty-http-9.4.10.v20180503-tests.jar\"));\n+            is(\"https://repo1.maven.org/maven2/org/eclipse/jetty/jetty-http/9.4.31.v20200723/jetty-http-9.4.31.v20200723-tests.jar\"));\n \n-        Path destination = Paths.get(System.getProperty(\"java.io.tmpdir\"), \"jetty-http-9.4.10.v20180503-tests.jar\");\n+        Path destination = testdir.getEmptyPathDir().resolve(\"jetty-http-9.4.31.v20200723-tests.jar\");\n         Files.deleteIfExists(destination);\n         repo.download(coords.toCentralURI(), destination);\n         assertThat(Files.exists(destination), is(true));\n-        assertThat(destination.toFile().length(), is(962621L));\n+        assertThat(destination.toFile().length(), is(986193L));\n+    }\n+\n+    @Test\n+    public void testDownloadSnapshotRepo()\n+        throws Exception\n+    {\n+        Path snapshotLocalRepoDir = testdir.getPath().resolve(\"snapshot-repo\");\n+        FS.ensureEmpty(snapshotLocalRepoDir);\n+\n+        MavenLocalRepoFileInitializer repo =\n+            new MavenLocalRepoFileInitializer(baseHome, snapshotLocalRepoDir, false, \"https://oss.sonatype.org/content/repositories/jetty-snapshots/\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2cd9b3a502c444c818f14941f089bf6dbf877b9"}, "originalPosition": 84}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NDQwNjI4", "url": "https://github.com/eclipse/jetty.project/pull/5292#pullrequestreview-494440628", "createdAt": "2020-09-23T08:52:00Z", "commit": {"oid": "a2cd9b3a502c444c818f14941f089bf6dbf877b9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODo1MjowMVrOHWegOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODo1MjowMVrOHWegOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMzMDQ4OA==", "bodyText": "variable not used", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493330488", "createdAt": "2020-09-23T08:52:01Z", "author": {"login": "olamy"}, "path": "jetty-start/src/test/java/org/eclipse/jetty/start/fileinits/MavenMetadataTest.java", "diffHunk": "@@ -0,0 +1,107 @@\n+//\n+// ========================================================================\n+// Copyright (c) 1995-2020 Mort Bay Consulting Pty Ltd and others.\n+//\n+// This program and the accompanying materials are made available under\n+// the terms of the Eclipse Public License 2.0 which is available at\n+// https://www.eclipse.org/legal/epl-2.0\n+//\n+// This Source Code may also be made available under the following\n+// Secondary Licenses when the conditions for such availability set\n+// forth in the Eclipse Public License, v. 2.0 are satisfied:\n+// the Apache License v2.0 which is available at\n+// https://www.apache.org/licenses/LICENSE-2.0\n+//\n+// SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+// ========================================================================\n+//\n+\n+package org.eclipse.jetty.start.fileinits;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.time.LocalDateTime;\n+import java.time.ZoneId;\n+import java.time.format.DateTimeFormatter;\n+import java.util.TimeZone;\n+import javax.xml.parsers.ParserConfigurationException;\n+\n+import org.eclipse.jetty.toolchain.test.MavenTestingUtils;\n+import org.junit.jupiter.api.Test;\n+import org.xml.sax.SAXException;\n+\n+import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.hamcrest.Matchers.is;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+public class MavenMetadataTest\n+{\n+    private static final TimeZone UTC = TimeZone.getTimeZone(\"UTC\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2cd9b3a502c444c818f14941f089bf6dbf877b9"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NDQxMjQy", "url": "https://github.com/eclipse/jetty.project/pull/5292#pullrequestreview-494441242", "createdAt": "2020-09-23T08:52:45Z", "commit": {"oid": "a2cd9b3a502c444c818f14941f089bf6dbf877b9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODo1Mjo0NlrOHWejZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODo1Mjo0NlrOHWejZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMzMTMwMA==", "bodyText": "this test will fail is executed before noon :)", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493331300", "createdAt": "2020-09-23T08:52:46Z", "author": {"login": "olamy"}, "path": "jetty-start/src/test/java/org/eclipse/jetty/start/fileinits/MavenMetadataTest.java", "diffHunk": "@@ -0,0 +1,107 @@\n+//\n+// ========================================================================\n+// Copyright (c) 1995-2020 Mort Bay Consulting Pty Ltd and others.\n+//\n+// This program and the accompanying materials are made available under\n+// the terms of the Eclipse Public License 2.0 which is available at\n+// https://www.eclipse.org/legal/epl-2.0\n+//\n+// This Source Code may also be made available under the following\n+// Secondary Licenses when the conditions for such availability set\n+// forth in the Eclipse Public License, v. 2.0 are satisfied:\n+// the Apache License v2.0 which is available at\n+// https://www.apache.org/licenses/LICENSE-2.0\n+//\n+// SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+// ========================================================================\n+//\n+\n+package org.eclipse.jetty.start.fileinits;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.time.LocalDateTime;\n+import java.time.ZoneId;\n+import java.time.format.DateTimeFormatter;\n+import java.util.TimeZone;\n+import javax.xml.parsers.ParserConfigurationException;\n+\n+import org.eclipse.jetty.toolchain.test.MavenTestingUtils;\n+import org.junit.jupiter.api.Test;\n+import org.xml.sax.SAXException;\n+\n+import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.hamcrest.Matchers.is;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+public class MavenMetadataTest\n+{\n+    private static final TimeZone UTC = TimeZone.getTimeZone(\"UTC\");\n+\n+    @Test\n+    public void testParseExample() throws ParserConfigurationException, SAXException, IOException\n+    {\n+        Path example = MavenTestingUtils.getTestResourcePathFile(\"example-maven-metadata.xml\");\n+        MavenMetadata mavenMetadata = new MavenMetadata(example);\n+\n+        assertThat(\"Metadata.groupId\", mavenMetadata.getGroupId(), is(\"org.eclipse.jetty\"));\n+        assertThat(\"Metadata.artifactId\", mavenMetadata.getArtifactId(), is(\"jetty-rewrite\"));\n+        assertThat(\"Metadata.version\", mavenMetadata.getVersion(), is(\"10.0.0-SNAPSHOT\"));\n+\n+        assertThat(\"Metadata.versioning.lastUpdated\", mavenMetadata.getLastUpdated(), is(\"20200918022411\"));\n+\n+        assertThat(\"Metadata.versioning.snapshot.timestamp\", mavenMetadata.getSnapshotTimestamp(), is(\"20200918.022411\"));\n+        assertThat(\"Metadata.versioning.snapshot.buildNumber\", mavenMetadata.getSnapshotBuildNumber(), is(\"580\"));\n+\n+        assertThat(\"Metadata.snapshots.size\", mavenMetadata.getSnapshots().size(), is(4));\n+\n+        assertThat(\"Metadata.snapshot(null, 'jar').value\",\n+            mavenMetadata.getSnapshot(null, \"jar\").getValue(),\n+            is(\"10.0.0-20200918.022411-580\"));\n+    }\n+\n+    @Test\n+    public void testIsExpiredTimestampVeryOld()\n+    {\n+        String timestamp = \"20190822223344\";\n+        assertTrue(MavenMetadata.isExpiredTimestamp(timestamp), \"Timestamp should be stale: \" + timestamp);\n+    }\n+\n+    @Test\n+    public void testIsExpiredTimestampNextWeek()\n+    {\n+        LocalDateTime nextWeek = LocalDateTime.now().plusWeeks(1);\n+        String timestamp = getTimestampFormatter().format(nextWeek);\n+        assertFalse(MavenMetadata.isExpiredTimestamp(timestamp), \"Timestamp should NOT be stale: \" + timestamp);\n+    }\n+\n+    @Test\n+    public void testIsExpiredTimestampNow()\n+    {\n+        LocalDateTime now = LocalDateTime.now();\n+        String timestamp = getTimestampFormatter().format(now);\n+        assertFalse(MavenMetadata.isExpiredTimestamp(timestamp), \"Timestamp should NOT be stale: \" + timestamp);\n+    }\n+\n+    @Test\n+    public void testIsExpiredTimestampYesterday()\n+    {\n+        LocalDateTime yesterday = LocalDateTime.now().minusDays(1);\n+        String timestamp = getTimestampFormatter().format(yesterday);\n+        assertTrue(MavenMetadata.isExpiredTimestamp(timestamp), \"Timestamp should be stale: \" + timestamp);\n+    }\n+\n+    @Test\n+    public void testIsExpiredTimestamp12HoursOld()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2cd9b3a502c444c818f14941f089bf6dbf877b9"}, "originalPosition": 96}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NDQxOTQy", "url": "https://github.com/eclipse/jetty.project/pull/5292#pullrequestreview-494441942", "createdAt": "2020-09-23T08:53:38Z", "commit": {"oid": "a2cd9b3a502c444c818f14941f089bf6dbf877b9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODo1MzozOFrOHWemwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODo1MzozOFrOHWemwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMzMjE2MQ==", "bodyText": "what about something such now(ZoneId.of(\"UTC\")) as getTimestampFormatter use UTC?", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493332161", "createdAt": "2020-09-23T08:53:38Z", "author": {"login": "olamy"}, "path": "jetty-start/src/test/java/org/eclipse/jetty/start/fileinits/MavenMetadataTest.java", "diffHunk": "@@ -0,0 +1,107 @@\n+//\n+// ========================================================================\n+// Copyright (c) 1995-2020 Mort Bay Consulting Pty Ltd and others.\n+//\n+// This program and the accompanying materials are made available under\n+// the terms of the Eclipse Public License 2.0 which is available at\n+// https://www.eclipse.org/legal/epl-2.0\n+//\n+// This Source Code may also be made available under the following\n+// Secondary Licenses when the conditions for such availability set\n+// forth in the Eclipse Public License, v. 2.0 are satisfied:\n+// the Apache License v2.0 which is available at\n+// https://www.apache.org/licenses/LICENSE-2.0\n+//\n+// SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+// ========================================================================\n+//\n+\n+package org.eclipse.jetty.start.fileinits;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.time.LocalDateTime;\n+import java.time.ZoneId;\n+import java.time.format.DateTimeFormatter;\n+import java.util.TimeZone;\n+import javax.xml.parsers.ParserConfigurationException;\n+\n+import org.eclipse.jetty.toolchain.test.MavenTestingUtils;\n+import org.junit.jupiter.api.Test;\n+import org.xml.sax.SAXException;\n+\n+import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.hamcrest.Matchers.is;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+public class MavenMetadataTest\n+{\n+    private static final TimeZone UTC = TimeZone.getTimeZone(\"UTC\");\n+\n+    @Test\n+    public void testParseExample() throws ParserConfigurationException, SAXException, IOException\n+    {\n+        Path example = MavenTestingUtils.getTestResourcePathFile(\"example-maven-metadata.xml\");\n+        MavenMetadata mavenMetadata = new MavenMetadata(example);\n+\n+        assertThat(\"Metadata.groupId\", mavenMetadata.getGroupId(), is(\"org.eclipse.jetty\"));\n+        assertThat(\"Metadata.artifactId\", mavenMetadata.getArtifactId(), is(\"jetty-rewrite\"));\n+        assertThat(\"Metadata.version\", mavenMetadata.getVersion(), is(\"10.0.0-SNAPSHOT\"));\n+\n+        assertThat(\"Metadata.versioning.lastUpdated\", mavenMetadata.getLastUpdated(), is(\"20200918022411\"));\n+\n+        assertThat(\"Metadata.versioning.snapshot.timestamp\", mavenMetadata.getSnapshotTimestamp(), is(\"20200918.022411\"));\n+        assertThat(\"Metadata.versioning.snapshot.buildNumber\", mavenMetadata.getSnapshotBuildNumber(), is(\"580\"));\n+\n+        assertThat(\"Metadata.snapshots.size\", mavenMetadata.getSnapshots().size(), is(4));\n+\n+        assertThat(\"Metadata.snapshot(null, 'jar').value\",\n+            mavenMetadata.getSnapshot(null, \"jar\").getValue(),\n+            is(\"10.0.0-20200918.022411-580\"));\n+    }\n+\n+    @Test\n+    public void testIsExpiredTimestampVeryOld()\n+    {\n+        String timestamp = \"20190822223344\";\n+        assertTrue(MavenMetadata.isExpiredTimestamp(timestamp), \"Timestamp should be stale: \" + timestamp);\n+    }\n+\n+    @Test\n+    public void testIsExpiredTimestampNextWeek()\n+    {\n+        LocalDateTime nextWeek = LocalDateTime.now().plusWeeks(1);\n+        String timestamp = getTimestampFormatter().format(nextWeek);\n+        assertFalse(MavenMetadata.isExpiredTimestamp(timestamp), \"Timestamp should NOT be stale: \" + timestamp);\n+    }\n+\n+    @Test\n+    public void testIsExpiredTimestampNow()\n+    {\n+        LocalDateTime now = LocalDateTime.now();\n+        String timestamp = getTimestampFormatter().format(now);\n+        assertFalse(MavenMetadata.isExpiredTimestamp(timestamp), \"Timestamp should NOT be stale: \" + timestamp);\n+    }\n+\n+    @Test\n+    public void testIsExpiredTimestampYesterday()\n+    {\n+        LocalDateTime yesterday = LocalDateTime.now().minusDays(1);\n+        String timestamp = getTimestampFormatter().format(yesterday);\n+        assertTrue(MavenMetadata.isExpiredTimestamp(timestamp), \"Timestamp should be stale: \" + timestamp);\n+    }\n+\n+    @Test\n+    public void testIsExpiredTimestamp12HoursOld()\n+    {\n+        LocalDateTime oldish = LocalDateTime.now().minusHours(12);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2cd9b3a502c444c818f14941f089bf6dbf877b9"}, "originalPosition": 98}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NDQ0Njc1", "url": "https://github.com/eclipse/jetty.project/pull/5292#pullrequestreview-494444675", "createdAt": "2020-09-23T08:56:50Z", "commit": {"oid": "a2cd9b3a502c444c818f14941f089bf6dbf877b9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODo1Njo1MFrOHWez6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODo1Njo1MFrOHWez6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMzNTUzMA==", "bodyText": "maybe we could have some configuration \u00e0 la mvn -U to force downloading SNAPSHOT as here we have a sort of hardcoded value (the day before) maybe a sys property?", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493335530", "createdAt": "2020-09-23T08:56:50Z", "author": {"login": "olamy"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/fileinits/MavenLocalRepoFileInitializer.java", "diffHunk": "@@ -219,6 +290,65 @@ public Coordinates getCoordinates(URI uri)\n         return coords;\n     }\n \n+    protected void download(Coordinates coords, Path destination)\n+        throws IOException\n+    {\n+        if (coords.version.endsWith(\"-SNAPSHOT\"))\n+        {\n+            Path localRepoMetadataPath = localRepositoryDir.resolve(coords.toMetadataPath());\n+            if (isMetadataStale(localRepoMetadataPath))\n+            {\n+                // Grab a fresh copy of the metadata xml\n+                URI mavenMetadataURI = coords.toSnapshotMetadataXmlURI();\n+                super.download(mavenMetadataURI, localRepoMetadataPath);\n+            }\n+\n+            if (Files.exists(localRepoMetadataPath))\n+            {\n+                // parse metadata to get actual SNAPSHOT version\n+                String actualVersion = getMetadataVersion(localRepoMetadataPath, coords);\n+                super.download(coords.toCentralURI(actualVersion), destination);\n+            }\n+        }\n+        else\n+        {\n+            super.download(coords.toCentralURI(), destination);\n+        }\n+    }\n+\n+    private boolean isMetadataStale(Path localRepoMetadataPath)\n+    {\n+        if (!Files.exists(localRepoMetadataPath))\n+        {\n+            // doesn't exist, it's stale.\n+            return true;\n+        }\n+\n+        try\n+        {\n+            MavenMetadata mavenMetadata = new MavenMetadata(localRepoMetadataPath);\n+            return MavenMetadata.isExpiredTimestamp(mavenMetadata.getLastUpdated());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2cd9b3a502c444c818f14941f089bf6dbf877b9"}, "originalPosition": 247}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d432599b6aaed4255c03285692adf0a58def9a3", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/9d432599b6aaed4255c03285692adf0a58def9a3", "committedDate": "2020-09-23T12:01:16Z", "message": "Issue #5264 - Removing 12 hour expired test (too time of day sensitive)\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "797b267e362d8386fe3a9bf426070137b06bb8da", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/797b267e362d8386fe3a9bf426070137b06bb8da", "committedDate": "2020-09-23T12:02:52Z", "message": "Issue #5264 - Removing unused variable\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eedcac314b3f01e988afbc0428fb65353170443e", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/eedcac314b3f01e988afbc0428fb65353170443e", "committedDate": "2020-09-23T13:27:56Z", "message": "Merge branch 'jetty-10.0.x' into jetty-10.0.x-5264-demo-modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55f1046c816a21813321119b21c78708c32bd4a1", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/55f1046c816a21813321119b21c78708c32bd4a1", "committedDate": "2020-09-23T16:48:17Z", "message": "Merge remote-tracking branch 'origin/jetty-10.0.x' into jetty-10.0.x-5264-demo-modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5332f3f685ea86b0d4c398eab7b3e83f7b8a76f8", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/5332f3f685ea86b0d4c398eab7b3e83f7b8a76f8", "committedDate": "2020-09-23T17:10:42Z", "message": "demo-jaas depends on jaas\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0ODQzMDM2", "url": "https://github.com/eclipse/jetty.project/pull/5292#pullrequestreview-494843036", "createdAt": "2020-09-23T16:31:29Z", "commit": {"oid": "797b267e362d8386fe3a9bf426070137b06bb8da"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNjozMTozMFrOHW28OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNzoyMTozMlrOHW40oA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzczMDg3Mw==", "bodyText": "The groupId should be org.eclipse.jetty.examples like we have o.e.j.tests.", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493730873", "createdAt": "2020-09-23T16:31:30Z", "author": {"login": "sbordet"}, "path": "examples/async-rest/async-rest-webapp/src/main/config/modules/demo-async-rest.mod", "diffHunk": "@@ -0,0 +1,15 @@\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+\n+[description]\n+Demo Async Rest webapp\n+\n+[tags]\n+demo\n+webapp\n+\n+[depends]\n+deploy\n+\n+[files]\n+maven://org.eclipse.jetty.example-async-rest/example-async-rest-webapp/${jetty.version}/war|webapps/demo-async-rest.war", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "797b267e362d8386fe3a9bf426070137b06bb8da"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzczMTU2NA==", "bodyText": "Shouldn't the async-rest groupId be here too?", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493731564", "createdAt": "2020-09-23T16:32:36Z", "author": {"login": "sbordet"}, "path": "jetty-home/pom.xml", "diffHunk": "@@ -464,7 +464,7 @@\n               <goal>unpack-dependencies</goal>\n             </goals>\n             <configuration>\n-              <includeGroupIds>org.eclipse.jetty,org.eclipse.jetty.websocket</includeGroupIds>\n+              <includeGroupIds>org.eclipse.jetty,org.eclipse.jetty.tests,org.eclipse.jetty.websocket</includeGroupIds>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "797b267e362d8386fe3a9bf426070137b06bb8da"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzczMTgzNA==", "bodyText": "Unnecessary empty line.", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493731834", "createdAt": "2020-09-23T16:33:04Z", "author": {"login": "sbordet"}, "path": "jetty-home/src/main/resources/modules/demo-base.mod", "diffHunk": "@@ -0,0 +1,28 @@\n+# DO NOT EDIT - See: https://www.eclipse.org/jetty/documentation/current/startup-modules.html\n+\n+[description]\n+A meta module to enable all demo modules.\n+\n+[tags]\n+demo\n+\n+[depends]\n+http\n+https\n+http2\n+test-keystore\n+work\n+demo-root\n+demo-async-rest\n+demo-proxy\n+demo-spec\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "797b267e362d8386fe3a9bf426070137b06bb8da"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc1NDM5OQ==", "bodyText": "I don't think this is necessary at all - seems to introduce a lot of additional complexity.\nMaybe it's a generic feature but I don't think it should go into this PR.", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493754399", "createdAt": "2020-09-23T17:09:42Z", "author": {"login": "sbordet"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/fileinits/MavenLocalRepoFileInitializer.java", "diffHunk": "@@ -219,6 +290,65 @@ public Coordinates getCoordinates(URI uri)\n         return coords;\n     }\n \n+    protected void download(Coordinates coords, Path destination)\n+        throws IOException\n+    {\n+        if (coords.version.endsWith(\"-SNAPSHOT\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55f1046c816a21813321119b21c78708c32bd4a1"}, "originalPosition": 213}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc1Nzk4NQ==", "bodyText": "Just remove the <configuration> section altogether.", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493757985", "createdAt": "2020-09-23T17:15:32Z", "author": {"login": "sbordet"}, "path": "tests/test-webapps/test-jaas-webapp/pom.xml", "diffHunk": "@@ -18,50 +18,37 @@\n         <groupId>org.apache.maven.plugins</groupId>\n         <artifactId>maven-deploy-plugin</artifactId>\n         <configuration>\n-          <!-- DO NOT DEPLOY (or Release) -->\n-          <skip>true</skip>\n+          <!-- DEMO Project, Must Deploy -->\n+          <skip>false</skip>\n         </configuration>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5332f3f685ea86b0d4c398eab7b3e83f7b8a76f8"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc1OTExNA==", "bodyText": "Remove <configuration> section.", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493759114", "createdAt": "2020-09-23T17:17:17Z", "author": {"login": "sbordet"}, "path": "tests/test-webapps/test-jetty-webapp/pom.xml", "diffHunk": "@@ -88,50 +86,55 @@\n           </archive>\n         </configuration>\n       </plugin>\n-      <plugin>\n-        <groupId>org.eclipse.jetty</groupId>\n-        <artifactId>jetty-maven-plugin</artifactId>\n-        <version>${project.version}</version>\n-        <dependencies>\n-          <dependency>\n-            <groupId>org.eclipse.jetty</groupId>\n-            <artifactId>jetty-client</artifactId>\n-            <version>${project.version}</version>\n-          </dependency>\n-          <dependency>\n-            <groupId>org.eclipse.jetty</groupId>\n-            <artifactId>jetty-servlets</artifactId>\n-            <version>${project.version}</version>\n-          </dependency>\n-        </dependencies>\n-        <configuration>\n-          <stopPort>8087</stopPort>\n-          <stopKey>foo</stopKey>\n-          <scan>1</scan>\n-          <systemProperties>\n-              <fooprop>222</fooprop>\n-          </systemProperties>\n-          <webApp>\n-            <contextPath>/test</contextPath>\n-            <tempDirectory>${project.build.directory}/work</tempDirectory>\n-          </webApp>\n-          <loginServices>\n-            <loginService implementation=\"org.eclipse.jetty.security.HashLoginService\">\n-              <name>Test Realm</name>\n-              <config>src/main/config/demo-base/etc/realm.properties</config>\n-            </loginService>\n-          </loginServices>\n-        </configuration>\n-      </plugin>\n       <plugin>\n         <groupId>org.apache.maven.plugins</groupId>\n         <artifactId>maven-deploy-plugin</artifactId>\n         <configuration>\n-          <!-- must deploy: required for jetty-distribution -->\n+          <!-- DEMO Project, Must Deploy -->\n           <skip>false</skip>\n         </configuration>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5332f3f685ea86b0d4c398eab7b3e83f7b8a76f8"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc2MDEwNA==", "bodyText": "Why has this part been moved from <build> to <pluginManagement>? We don't need to manage plugins for children POMs, no?", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493760104", "createdAt": "2020-09-23T17:18:58Z", "author": {"login": "sbordet"}, "path": "tests/test-webapps/test-jetty-webapp/pom.xml", "diffHunk": "@@ -88,50 +86,55 @@\n           </archive>\n         </configuration>\n       </plugin>\n-      <plugin>\n-        <groupId>org.eclipse.jetty</groupId>\n-        <artifactId>jetty-maven-plugin</artifactId>\n-        <version>${project.version}</version>\n-        <dependencies>\n-          <dependency>\n-            <groupId>org.eclipse.jetty</groupId>\n-            <artifactId>jetty-client</artifactId>\n-            <version>${project.version}</version>\n-          </dependency>\n-          <dependency>\n-            <groupId>org.eclipse.jetty</groupId>\n-            <artifactId>jetty-servlets</artifactId>\n-            <version>${project.version}</version>\n-          </dependency>\n-        </dependencies>\n-        <configuration>\n-          <stopPort>8087</stopPort>\n-          <stopKey>foo</stopKey>\n-          <scan>1</scan>\n-          <systemProperties>\n-              <fooprop>222</fooprop>\n-          </systemProperties>\n-          <webApp>\n-            <contextPath>/test</contextPath>\n-            <tempDirectory>${project.build.directory}/work</tempDirectory>\n-          </webApp>\n-          <loginServices>\n-            <loginService implementation=\"org.eclipse.jetty.security.HashLoginService\">\n-              <name>Test Realm</name>\n-              <config>src/main/config/demo-base/etc/realm.properties</config>\n-            </loginService>\n-          </loginServices>\n-        </configuration>\n-      </plugin>\n       <plugin>\n         <groupId>org.apache.maven.plugins</groupId>\n         <artifactId>maven-deploy-plugin</artifactId>\n         <configuration>\n-          <!-- must deploy: required for jetty-distribution -->\n+          <!-- DEMO Project, Must Deploy -->\n           <skip>false</skip>\n         </configuration>\n       </plugin>\n     </plugins>\n+    <pluginManagement>\n+      <plugins>\n+        <plugin>\n+          <groupId>org.eclipse.jetty</groupId>\n+          <artifactId>jetty-maven-plugin</artifactId>\n+          <version>${project.version}</version>\n+          <dependencies>\n+            <dependency>\n+              <groupId>org.eclipse.jetty</groupId>\n+              <artifactId>jetty-client</artifactId>\n+              <version>${project.version}</version>\n+            </dependency>\n+            <dependency>\n+              <groupId>org.eclipse.jetty</groupId>\n+              <artifactId>jetty-servlets</artifactId>\n+              <version>${project.version}</version>\n+            </dependency>\n+          </dependencies>\n+          <configuration>\n+            <stopPort>8087</stopPort>\n+            <stopKey>foo</stopKey>\n+            <scan>1</scan>\n+            <systemProperties>\n+              <fooprop>222</fooprop>\n+            </systemProperties>\n+            <webApp>\n+              <contextPath>/test</contextPath>\n+              <tempDirectory>${project.build.directory}/work</tempDirectory>\n+            </webApp>\n+            <loginServices>\n+              <loginService implementation=\"org.eclipse.jetty.security.HashLoginService\">\n+                <name>Test Realm</name>\n+                <config>src/main/config/demo-base/etc/realm.properties</config>\n+              </loginService>\n+            </loginServices>\n+          </configuration>\n+        </plugin>\n+\n+      </plugins>\n+    </pluginManagement>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5332f3f685ea86b0d4c398eab7b3e83f7b8a76f8"}, "originalPosition": 104}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc2MDUxMQ==", "bodyText": "Use 4.0.", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493760511", "createdAt": "2020-09-23T17:19:39Z", "author": {"login": "sbordet"}, "path": "tests/test-webapps/test-jetty-webapp/src/main/config/modules/demo.d/demo-jetty-override-web.xml", "diffHunk": "@@ -0,0 +1,64 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<web-app \n+   xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" \n+   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+   xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" \n+   version=\"3.1\"> ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5332f3f685ea86b0d4c398eab7b3e83f7b8a76f8"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc2MDkzNA==", "bodyText": "Remove <configuration> section.", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493760934", "createdAt": "2020-09-23T17:20:20Z", "author": {"login": "sbordet"}, "path": "tests/test-webapps/test-jndi-webapp/pom.xml", "diffHunk": "@@ -18,8 +18,8 @@\n         <groupId>org.apache.maven.plugins</groupId>\n         <artifactId>maven-deploy-plugin</artifactId>\n         <configuration>\n-          <!-- DO NOT DEPLOY (or Release) -->\n-          <skip>true</skip>\n+          <!-- DEMO Project, Must Deploy -->\n+          <skip>false</skip>\n         </configuration>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5332f3f685ea86b0d4c398eab7b3e83f7b8a76f8"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc2MTQyMg==", "bodyText": "Must be configure_10_0.dtd.", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493761422", "createdAt": "2020-09-23T17:21:05Z", "author": {"login": "sbordet"}, "path": "tests/test-webapps/test-jndi-webapp/src/main/config/modules/demo.d/demo-jndi.xml", "diffHunk": "@@ -0,0 +1,74 @@\n+<?xml version=\"1.0\"?><!DOCTYPE Configure PUBLIC \"-//Jetty//Configure//EN\" \"https://www.eclipse.org/jetty/configure_9_3.dtd\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5332f3f685ea86b0d4c398eab7b3e83f7b8a76f8"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc2MTY5Ng==", "bodyText": "Remove <configuration>", "url": "https://github.com/eclipse/jetty.project/pull/5292#discussion_r493761696", "createdAt": "2020-09-23T17:21:32Z", "author": {"login": "sbordet"}, "path": "tests/test-webapps/test-servlet-spec/test-spec-webapp/pom.xml", "diffHunk": "@@ -18,7 +18,8 @@\n         <groupId>org.apache.maven.plugins</groupId>\n         <artifactId>maven-deploy-plugin</artifactId>\n         <configuration>\n-          <skip>true</skip>\n+          <!-- DEMO Project, Must Deploy -->\n+          <skip>false</skip>\n         </configuration>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5332f3f685ea86b0d4c398eab7b3e83f7b8a76f8"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5654437cc9fe57d80be8677ed5c6882c2317910a", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/5654437cc9fe57d80be8677ed5c6882c2317910a", "committedDate": "2020-09-23T17:31:24Z", "message": "demo-jaas does not depend on demo-jndi\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "faf6d803900802ce4b1ef774e5165f00adc09dc3", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/faf6d803900802ce4b1ef774e5165f00adc09dc3", "committedDate": "2020-09-23T18:35:19Z", "message": "Issue #5264 - Moving demo webapps to /demos/ tree\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "934a95b8eff40e028cdd40233d34411de14b04bf", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/934a95b8eff40e028cdd40233d34411de14b04bf", "committedDate": "2020-09-23T18:38:38Z", "message": "Issue #5264 - Updating embedded JettyDistro to JettyHome\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1feb60bb2c8e521f80aaee2abc901c067b561026", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/1feb60bb2c8e521f80aaee2abc901c067b561026", "committedDate": "2020-09-23T18:52:30Z", "message": "Issue #5264 - Updating Configure DTD to 10_0 for Demos\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdf30ba43740fe8bfdae6af275fa15dffbccf1e1", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/bdf30ba43740fe8bfdae6af275fa15dffbccf1e1", "committedDate": "2020-09-23T19:56:53Z", "message": "Issue #5264 - Adding demo.mod support to embedded examples tests\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4556e476f26e28fb0b4ad3446a130bde97201ac", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/d4556e476f26e28fb0b4ad3446a130bde97201ac", "committedDate": "2020-09-23T20:06:35Z", "message": "Issue #5264 - Work around junit-vintage flappy test error\n\n+ ApacheDS has old school testing lib which doesn't\n  play nice with surefire.\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7cf41109b257125332ab5b6fa9b1859000cdaeb", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/f7cf41109b257125332ab5b6fa9b1859000cdaeb", "committedDate": "2020-09-23T20:29:25Z", "message": "Issue #5264 - Fixing jetty-maven-plugin exclusions for demos\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad805d4756f56e1c941aeafe5f3bb893bad85ff8", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/ad805d4756f56e1c941aeafe5f3bb893bad85ff8", "committedDate": "2020-09-23T20:38:34Z", "message": "Issue #5264 - More post move to /demos/ updates\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09d159d038fc37999f720e95d8db479b2d385033", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/09d159d038fc37999f720e95d8db479b2d385033", "committedDate": "2020-09-23T20:38:49Z", "message": "Merge remote-tracking branch 'origin/jetty-10.0.x' into jetty-10.0.x-5264-demo-modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9be742d70943646c8ecb431b217c7dd2e8d18d6", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/c9be742d70943646c8ecb431b217c7dd2e8d18d6", "committedDate": "2020-09-23T21:44:17Z", "message": "Issue #5264 - Fixing test-integration references to demos\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "413eb4ccfeb42fa5295d37bb18beb2a5b2a3d2c7", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/413eb4ccfeb42fa5295d37bb18beb2a5b2a3d2c7", "committedDate": "2020-09-23T21:44:34Z", "message": "Issue #5264 - Javadoc processing excludes for demos\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a2d6cd5970f95e513e0691541db10485ee1c9e4", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/9a2d6cd5970f95e513e0691541db10485ee1c9e4", "committedDate": "2020-09-23T22:03:44Z", "message": "Issue #5264 - Adding HostHeaderCustomizer to H2/H2C Transport tests\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23b6eca489100dce99d155abfa26c5f123bcb018", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/23b6eca489100dce99d155abfa26c5f123bcb018", "committedDate": "2020-09-23T22:04:04Z", "message": "Issue #5264 - More javadoc skippedModules\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d73b42fb34a5aafa6edd4ae040fa5bc348c44b8", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/5d73b42fb34a5aafa6edd4ae040fa5bc348c44b8", "committedDate": "2020-09-23T22:42:34Z", "message": "Issue #5264 -Fixing name\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f3c41c3ee5b3e5c8e3d58c593ef97edab284805", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/0f3c41c3ee5b3e5c8e3d58c593ef97edab284805", "committedDate": "2020-09-23T22:43:36Z", "message": "Issue #5264 - making embedded examples more reliable\n\n+ Discovering ${jetty.version} better\n+ Creating ${jetty.base}/logs/ on JettyDemoBase usage\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b56733915b1b9457d78adc4ffc42cbcce9838203", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/b56733915b1b9457d78adc4ffc42cbcce9838203", "committedDate": "2020-09-23T22:50:50Z", "message": "Issue #5264 - identifying optional deps in jetty-home\n\n + Done to ease dependency / exclusions listing requirements\n   elsewhere in the reactor.\n   (Prevents accidental discovered components from\n    triggering actions during use of jetty-home\n    as a dependency)\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32875aa564ca966b441098c1e38cbeead24d5e2a", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/32875aa564ca966b441098c1e38cbeead24d5e2a", "committedDate": "2020-09-23T22:56:58Z", "message": "Issue #5264 - Fixing OSGi tests\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73fe2ecfe87a5a1f3abc951bc92319bf84f3dedb", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/73fe2ecfe87a5a1f3abc951bc92319bf84f3dedb", "committedDate": "2020-09-23T23:52:04Z", "message": "Issue #5264 - Fixing demo-async-rest module reference\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dbedd83478b6014c4df249960a86ba6ae43ba2c", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/3dbedd83478b6014c4df249960a86ba6ae43ba2c", "committedDate": "2020-09-23T23:52:37Z", "message": "Issue #5264 - Fixing OSGi symbolic name references\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35bca82e35a431a607d4335b81bfe8666bf49f4b", "author": {"user": {"login": "joakime", "name": "Joakim Erdfelt"}}, "url": "https://github.com/eclipse/jetty.project/commit/35bca82e35a431a607d4335b81bfe8666bf49f4b", "committedDate": "2020-09-24T01:20:27Z", "message": "Issue #5264 - Addressing (some) aggregate-javadoc issues\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 344, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}