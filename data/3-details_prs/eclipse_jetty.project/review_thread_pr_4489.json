{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0MDMzMTM4", "number": 4489, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNTozNDozMFrODb9XPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNTo0MDoxOFrODb9fwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNjQzNTE4OnYy", "diffSide": "RIGHT", "path": "jetty-alpn/jetty-alpn-conscrypt-server/src/test/java/org/eclipse/jetty/alpn/conscrypt/server/ConscryptHTTP2ServerTest.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNTozNDozMFrOFjvZlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNzo0NjowMlrOFj0Cfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAyMTA3OQ==", "bodyText": "shall we not use obfuscation at all?", "url": "https://github.com/eclipse/jetty.project/pull/4489#discussion_r373021079", "createdAt": "2020-01-30T15:34:30Z", "author": {"login": "gregw"}, "path": "jetty-alpn/jetty-alpn-conscrypt-server/src/test/java/org/eclipse/jetty/alpn/conscrypt/server/ConscryptHTTP2ServerTest.java", "diffHunk": "@@ -79,11 +79,9 @@\n     private void configureSslContextFactory(SslContextFactory sslContextFactory)\n     {\n         Path path = Paths.get(\"src\", \"test\", \"resources\");\n-        File keys = path.resolve(\"keystore\").toFile();\n+        File keys = path.resolve(\"keystore.p12\").toFile();\n         sslContextFactory.setKeyStorePath(keys.getAbsolutePath());\n-        sslContextFactory.setKeyManagerPassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");\n-        sslContextFactory.setTrustStorePath(keys.getAbsolutePath());\n-        sslContextFactory.setTrustStorePassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");\n+        sslContextFactory.setKeyStorePassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d60b4459bf16e710b66a74cebd1e4e8b7a48f515"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA1NTA3MA==", "bodyText": "No, it's just a test.", "url": "https://github.com/eclipse/jetty.project/pull/4489#discussion_r373055070", "createdAt": "2020-01-30T16:29:09Z", "author": {"login": "sbordet"}, "path": "jetty-alpn/jetty-alpn-conscrypt-server/src/test/java/org/eclipse/jetty/alpn/conscrypt/server/ConscryptHTTP2ServerTest.java", "diffHunk": "@@ -79,11 +79,9 @@\n     private void configureSslContextFactory(SslContextFactory sslContextFactory)\n     {\n         Path path = Paths.get(\"src\", \"test\", \"resources\");\n-        File keys = path.resolve(\"keystore\").toFile();\n+        File keys = path.resolve(\"keystore.p12\").toFile();\n         sslContextFactory.setKeyStorePath(keys.getAbsolutePath());\n-        sslContextFactory.setKeyManagerPassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");\n-        sslContextFactory.setTrustStorePath(keys.getAbsolutePath());\n-        sslContextFactory.setTrustStorePassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");\n+        sslContextFactory.setKeyStorePassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAyMTA3OQ=="}, "originalCommit": {"oid": "d60b4459bf16e710b66a74cebd1e4e8b7a48f515"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA3NDI1Ng==", "bodyText": "but we use the password directly sometimes and obfuscate others.   We should just do one or the other everywhere.... but not really important.", "url": "https://github.com/eclipse/jetty.project/pull/4489#discussion_r373074256", "createdAt": "2020-01-30T17:01:55Z", "author": {"login": "gregw"}, "path": "jetty-alpn/jetty-alpn-conscrypt-server/src/test/java/org/eclipse/jetty/alpn/conscrypt/server/ConscryptHTTP2ServerTest.java", "diffHunk": "@@ -79,11 +79,9 @@\n     private void configureSslContextFactory(SslContextFactory sslContextFactory)\n     {\n         Path path = Paths.get(\"src\", \"test\", \"resources\");\n-        File keys = path.resolve(\"keystore\").toFile();\n+        File keys = path.resolve(\"keystore.p12\").toFile();\n         sslContextFactory.setKeyStorePath(keys.getAbsolutePath());\n-        sslContextFactory.setKeyManagerPassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");\n-        sslContextFactory.setTrustStorePath(keys.getAbsolutePath());\n-        sslContextFactory.setTrustStorePassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");\n+        sslContextFactory.setKeyStorePassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAyMTA3OQ=="}, "originalCommit": {"oid": "d60b4459bf16e710b66a74cebd1e4e8b7a48f515"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA5NzA4Ng==", "bodyText": "I updated the tests to never use obfuscated passwords, which are now only used in specific tests and in configuration files (e.g. realm.properties, *.mod files, etc.).", "url": "https://github.com/eclipse/jetty.project/pull/4489#discussion_r373097086", "createdAt": "2020-01-30T17:46:02Z", "author": {"login": "sbordet"}, "path": "jetty-alpn/jetty-alpn-conscrypt-server/src/test/java/org/eclipse/jetty/alpn/conscrypt/server/ConscryptHTTP2ServerTest.java", "diffHunk": "@@ -79,11 +79,9 @@\n     private void configureSslContextFactory(SslContextFactory sslContextFactory)\n     {\n         Path path = Paths.get(\"src\", \"test\", \"resources\");\n-        File keys = path.resolve(\"keystore\").toFile();\n+        File keys = path.resolve(\"keystore.p12\").toFile();\n         sslContextFactory.setKeyStorePath(keys.getAbsolutePath());\n-        sslContextFactory.setKeyManagerPassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");\n-        sslContextFactory.setTrustStorePath(keys.getAbsolutePath());\n-        sslContextFactory.setTrustStorePassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");\n+        sslContextFactory.setKeyStorePassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAyMTA3OQ=="}, "originalCommit": {"oid": "d60b4459bf16e710b66a74cebd1e4e8b7a48f515"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNjQ0MTI4OnYy", "diffSide": "RIGHT", "path": "jetty-osgi/test-jetty-osgi/src/test/java/org/eclipse/jetty/osgi/test/TestJettyOSGiBootHTTP2Conscrypt.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNTozNjoxNVrOFjvdkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNTozNjoxNVrOFjvdkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAyMjA5Nw==", "bodyText": "no obfuscation", "url": "https://github.com/eclipse/jetty.project/pull/4489#discussion_r373022097", "createdAt": "2020-01-30T15:36:15Z", "author": {"login": "gregw"}, "path": "jetty-osgi/test-jetty-osgi/src/test/java/org/eclipse/jetty/osgi/test/TestJettyOSGiBootHTTP2Conscrypt.java", "diffHunk": "@@ -135,13 +135,13 @@ public void testHTTP2() throws Exception\n             assertNotNull(port);\n \n             Path path = Paths.get(\"src\", \"test\", \"config\");\n-            File keys = path.resolve(\"etc\").resolve(\"keystore\").toFile();\n+            File keys = path.resolve(\"etc\").resolve(\"keystore.p12\").toFile();\n \n             ClientConnector clientConnector = new ClientConnector();\n             SslContextFactory.Client sslContextFactory = new SslContextFactory.Client();\n-            sslContextFactory.setKeyManagerPassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");\n-            sslContextFactory.setTrustStorePath(keys.getAbsolutePath());\n             sslContextFactory.setKeyStorePath(keys.getAbsolutePath());\n+            sslContextFactory.setKeyStorePassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d60b4459bf16e710b66a74cebd1e4e8b7a48f515"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNjQ1MDc0OnYy", "diffSide": "RIGHT", "path": "jetty-server/src/main/config/modules/test-keystore.mod", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNTozODozOVrOFjvjbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNjoyOToyM1rOFjxe9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAyMzU5OA==", "bodyText": "can we just call the file either keystore.p12 or test-keystore.p12 and not rename during the move?", "url": "https://github.com/eclipse/jetty.project/pull/4489#discussion_r373023598", "createdAt": "2020-01-30T15:38:39Z", "author": {"login": "gregw"}, "path": "jetty-server/src/main/config/modules/test-keystore.mod", "diffHunk": "@@ -9,13 +9,10 @@ ssl\n ssl\n \n [files]\n-basehome:modules/test-keystore/keystore|etc/test-keystore\n+basehome:modules/test-keystore/keystore.p12|etc/test-keystore.p12", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d60b4459bf16e710b66a74cebd1e4e8b7a48f515"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA1NTIyMQ==", "bodyText": "Okay.", "url": "https://github.com/eclipse/jetty.project/pull/4489#discussion_r373055221", "createdAt": "2020-01-30T16:29:23Z", "author": {"login": "sbordet"}, "path": "jetty-server/src/main/config/modules/test-keystore.mod", "diffHunk": "@@ -9,13 +9,10 @@ ssl\n ssl\n \n [files]\n-basehome:modules/test-keystore/keystore|etc/test-keystore\n+basehome:modules/test-keystore/keystore.p12|etc/test-keystore.p12", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAyMzU5OA=="}, "originalCommit": {"oid": "d60b4459bf16e710b66a74cebd1e4e8b7a48f515"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNjQ1Njk2OnYy", "diffSide": "RIGHT", "path": "tests/test-integration/src/test/java/org/eclipse/jetty/test/HttpInputIntegrationTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNTo0MDoxOFrOFjvnaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNjo0NjozMVrOFjyGbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAyNDYxNg==", "bodyText": "can we lose the ../../..?", "url": "https://github.com/eclipse/jetty.project/pull/4489#discussion_r373024616", "createdAt": "2020-01-30T15:40:18Z", "author": {"login": "gregw"}, "path": "tests/test-integration/src/test/java/org/eclipse/jetty/test/HttpInputIntegrationTest.java", "diffHunk": "@@ -104,9 +104,8 @@ public static void beforeClass() throws Exception\n         // SSL Context Factory for HTTPS and HTTP/2\n         String jettyDistro = System.getProperty(\"jetty.distro\", \"../../jetty-distribution/target/distribution\");\n         __sslContextFactory = new SslContextFactory.Server();\n-        __sslContextFactory.setKeyStorePath(jettyDistro + \"/../../../jetty-server/src/test/config/etc/keystore\");\n-        __sslContextFactory.setKeyStorePassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");\n-        __sslContextFactory.setKeyManagerPassword(\"OBF:1u2u1wml1z7s1z7a1wnl1u2g\");\n+        __sslContextFactory.setKeyStorePath(jettyDistro + \"/../../../jetty-server/src/test/resources/keystore.p12\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d60b4459bf16e710b66a74cebd1e4e8b7a48f515"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA2NTMyNg==", "bodyText": "Yes.", "url": "https://github.com/eclipse/jetty.project/pull/4489#discussion_r373065326", "createdAt": "2020-01-30T16:46:31Z", "author": {"login": "sbordet"}, "path": "tests/test-integration/src/test/java/org/eclipse/jetty/test/HttpInputIntegrationTest.java", "diffHunk": "@@ -104,9 +104,8 @@ public static void beforeClass() throws Exception\n         // SSL Context Factory for HTTPS and HTTP/2\n         String jettyDistro = System.getProperty(\"jetty.distro\", \"../../jetty-distribution/target/distribution\");\n         __sslContextFactory = new SslContextFactory.Server();\n-        __sslContextFactory.setKeyStorePath(jettyDistro + \"/../../../jetty-server/src/test/config/etc/keystore\");\n-        __sslContextFactory.setKeyStorePassword(\"OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\");\n-        __sslContextFactory.setKeyManagerPassword(\"OBF:1u2u1wml1z7s1z7a1wnl1u2g\");\n+        __sslContextFactory.setKeyStorePath(jettyDistro + \"/../../../jetty-server/src/test/resources/keystore.p12\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAyNDYxNg=="}, "originalCommit": {"oid": "d60b4459bf16e710b66a74cebd1e4e8b7a48f515"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2753, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}