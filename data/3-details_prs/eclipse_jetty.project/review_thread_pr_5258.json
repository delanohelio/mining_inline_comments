{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1ODc0MTU1", "number": 5258, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwNzowNToxMlrOEi_RyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMzozMzo1MVrOEjIRTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MTIzNzg0OnYy", "diffSide": "RIGHT", "path": "jetty-start/src/main/java/org/eclipse/jetty/start/FileInitializer.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwNzowNToxMlrOHRGawA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMDoxNDoyOVrOHRNGSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzY5Mjk5Mg==", "bodyText": "I kind of liked the previous format, although it was not consistent (e.g. was using INFO for module activity).\nIf you go this direction, then there are 3 occurrences of StartLog.log(\"COPY\", ...) and 1 of StartLog.log(\"DOWNLD\", ...) to replace.", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487692992", "createdAt": "2020-09-14T07:05:12Z", "author": {"login": "sbordet"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/FileInitializer.java", "diffHunk": "@@ -128,7 +128,7 @@ protected Path getDestination(URI uri, String location) throws IOException\n     protected void download(URI uri, Path destination) throws IOException\n     {\n         if (FS.ensureDirectoryExists(destination.getParent()))\n-            StartLog.log(\"MKDIR\", _basehome.toShortForm(destination.getParent()));\n+            StartLog.log(\"INFO\", \"mkdir \" + _basehome.toShortForm(destination.getParent()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "877fd4ac7771bf295b840b9500bd2302851d078d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzgwMjQ0Mw==", "bodyText": "I'm torn.... but on balance I think that INFO/WARN are least surprise.", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487802443", "createdAt": "2020-09-14T10:14:29Z", "author": {"login": "gregw"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/FileInitializer.java", "diffHunk": "@@ -128,7 +128,7 @@ protected Path getDestination(URI uri, String location) throws IOException\n     protected void download(URI uri, Path destination) throws IOException\n     {\n         if (FS.ensureDirectoryExists(destination.getParent()))\n-            StartLog.log(\"MKDIR\", _basehome.toShortForm(destination.getParent()));\n+            StartLog.log(\"INFO\", \"mkdir \" + _basehome.toShortForm(destination.getParent()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzY5Mjk5Mg=="}, "originalCommit": {"oid": "877fd4ac7771bf295b840b9500bd2302851d078d"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MjY3OTQ2OnYy", "diffSide": "RIGHT", "path": "jetty-start/src/main/java/org/eclipse/jetty/start/BaseBuilder.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMzoyOTowMlrOHRT0JA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMzo0ODo0MlrOHRVDHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkxMjQ4NA==", "bodyText": "This should be mkdir for consistency with other logs, not create.", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487912484", "createdAt": "2020-09-14T13:29:02Z", "author": {"login": "sbordet"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/BaseBuilder.java", "diffHunk": "@@ -169,35 +172,70 @@ else if (!licensing.acknowledgeLicenses())\n         Path startd = getBaseHome().getBasePath(\"start.d\");\n         Path startini = getBaseHome().getBasePath(\"start.ini\");\n \n-        if (startArgs.isCreateStartd() && !Files.exists(startd))\n+        if (startArgs.isCreateStartIni())\n         {\n-            if (FS.ensureDirectoryExists(startd))\n+            if (!Files.exists(startini))\n             {\n-                StartLog.log(\"MKDIR\", baseHome.toShortForm(startd));\n+                StartLog.info(\"create \" + baseHome.toShortForm(startini));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46f051d7e264f907c98d5ec4dd44102b436ee165"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkyNDIzMA==", "bodyText": "but it is not a directory!  \"touch\" ?", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487924230", "createdAt": "2020-09-14T13:40:28Z", "author": {"login": "gregw"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/BaseBuilder.java", "diffHunk": "@@ -169,35 +172,70 @@ else if (!licensing.acknowledgeLicenses())\n         Path startd = getBaseHome().getBasePath(\"start.d\");\n         Path startini = getBaseHome().getBasePath(\"start.ini\");\n \n-        if (startArgs.isCreateStartd() && !Files.exists(startd))\n+        if (startArgs.isCreateStartIni())\n         {\n-            if (FS.ensureDirectoryExists(startd))\n+            if (!Files.exists(startini))\n             {\n-                StartLog.log(\"MKDIR\", baseHome.toShortForm(startd));\n+                StartLog.info(\"create \" + baseHome.toShortForm(startini));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkxMjQ4NA=="}, "originalCommit": {"oid": "46f051d7e264f907c98d5ec4dd44102b436ee165"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkyNjQ2OA==", "bodyText": "Changed from startd to startini ?", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487926468", "createdAt": "2020-09-14T13:42:37Z", "author": {"login": "joakime"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/BaseBuilder.java", "diffHunk": "@@ -169,35 +172,70 @@ else if (!licensing.acknowledgeLicenses())\n         Path startd = getBaseHome().getBasePath(\"start.d\");\n         Path startini = getBaseHome().getBasePath(\"start.ini\");\n \n-        if (startArgs.isCreateStartd() && !Files.exists(startd))\n+        if (startArgs.isCreateStartIni())\n         {\n-            if (FS.ensureDirectoryExists(startd))\n+            if (!Files.exists(startini))\n             {\n-                StartLog.log(\"MKDIR\", baseHome.toShortForm(startd));\n+                StartLog.info(\"create \" + baseHome.toShortForm(startini));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkxMjQ4NA=="}, "originalCommit": {"oid": "46f051d7e264f907c98d5ec4dd44102b436ee165"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkzMTk5NA==", "bodyText": "@joakime exectly because the option is now --create-start-ini and --create-startd is a noop", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487931994", "createdAt": "2020-09-14T13:48:01Z", "author": {"login": "gregw"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/BaseBuilder.java", "diffHunk": "@@ -169,35 +172,70 @@ else if (!licensing.acknowledgeLicenses())\n         Path startd = getBaseHome().getBasePath(\"start.d\");\n         Path startini = getBaseHome().getBasePath(\"start.ini\");\n \n-        if (startArgs.isCreateStartd() && !Files.exists(startd))\n+        if (startArgs.isCreateStartIni())\n         {\n-            if (FS.ensureDirectoryExists(startd))\n+            if (!Files.exists(startini))\n             {\n-                StartLog.log(\"MKDIR\", baseHome.toShortForm(startd));\n+                StartLog.info(\"create \" + baseHome.toShortForm(startini));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkxMjQ4NA=="}, "originalCommit": {"oid": "46f051d7e264f907c98d5ec4dd44102b436ee165"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkzMjcwMw==", "bodyText": "Note that --create-start-ini  takes all the files in start.d and concats them into a start.ini and then removes start.d", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487932703", "createdAt": "2020-09-14T13:48:42Z", "author": {"login": "gregw"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/BaseBuilder.java", "diffHunk": "@@ -169,35 +172,70 @@ else if (!licensing.acknowledgeLicenses())\n         Path startd = getBaseHome().getBasePath(\"start.d\");\n         Path startini = getBaseHome().getBasePath(\"start.ini\");\n \n-        if (startArgs.isCreateStartd() && !Files.exists(startd))\n+        if (startArgs.isCreateStartIni())\n         {\n-            if (FS.ensureDirectoryExists(startd))\n+            if (!Files.exists(startini))\n             {\n-                StartLog.log(\"MKDIR\", baseHome.toShortForm(startd));\n+                StartLog.info(\"create \" + baseHome.toShortForm(startini));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkxMjQ4NA=="}, "originalCommit": {"oid": "46f051d7e264f907c98d5ec4dd44102b436ee165"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MjY4OTg2OnYy", "diffSide": "RIGHT", "path": "jetty-start/src/main/java/org/eclipse/jetty/start/FileInitializer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMzozMDo1NlrOHRT6YA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMzozMDo1NlrOHRT6YA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkxNDA4MA==", "bodyText": "You used cp in BaseBuilder:205 so I would be consistent - I like better \"copy\" than \"cp\".", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487914080", "createdAt": "2020-09-14T13:30:56Z", "author": {"login": "sbordet"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/FileInitializer.java", "diffHunk": "@@ -215,7 +215,7 @@ public boolean copyDirectory(Path source, Path destination) throws IOException\n                 }\n                 else if (!Files.exists(to))\n                 {\n-                    StartLog.log(\"COPY \", \"%s to %s\", _basehome.toShortForm(from), _basehome.toShortForm(to));\n+                    StartLog.info(\"copy %s to %s\", _basehome.toShortForm(from), _basehome.toShortForm(to));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46f051d7e264f907c98d5ec4dd44102b436ee165"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MjcwMDAwOnYy", "diffSide": "RIGHT", "path": "jetty-start/src/main/java/org/eclipse/jetty/start/Licensing.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMzozMjoxOVrOHRUAXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMzozMjoxOVrOHRUAXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkxNTYxMw==", "bodyText": "\"Programmatic ACK\" -> \"Automatic License Acknowledgment\" - these are sysops or beginners, they don't know what \"ACK\" is.", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487915613", "createdAt": "2020-09-14T13:32:19Z", "author": {"login": "sbordet"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/Licensing.java", "diffHunk": "@@ -85,7 +85,7 @@ public boolean acknowledgeLicenses() throws IOException\n         String propBasedAckValue = System.getProperty(PROP_ACK_LICENSES);\n         if (propBasedAckValue != null)\n         {\n-            StartLog.log(\"TESTING MODE\", \"Programmatic ACK - %s=%s\", PROP_ACK_LICENSES, propBasedAckValue);\n+            StartLog.info(\"Programmatic ACK - %s=%s\", PROP_ACK_LICENSES, propBasedAckValue);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46f051d7e264f907c98d5ec4dd44102b436ee165"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MjcxMTE5OnYy", "diffSide": "RIGHT", "path": "jetty-start/src/main/java/org/eclipse/jetty/start/builders/StartDirBuilder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMzozMzo1MVrOHRUGmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMzozMzo1MVrOHRUGmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkxNzIxMQ==", "bodyText": "Typo: modues -> modules.", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487917211", "createdAt": "2020-09-14T13:33:51Z", "author": {"login": "sbordet"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/builders/StartDirBuilder.java", "diffHunk": "@@ -35,7 +35,7 @@\n /**\n  * Management of the <code>${jetty.base}/start.d/</code> based configuration.\n  * <p>\n- * Implementation of the <code>--add-to-startd=[name]</code> command line behavior\n+ * Implementation of the <code>--add-modues=[name]</code> command line behavior", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46f051d7e264f907c98d5ec4dd44102b436ee165"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2383, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}