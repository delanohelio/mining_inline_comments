{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0NjE4Nzg4", "number": 5128, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwOTozMDozNVrOEXIWqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwOTozMDozNVrOEXIWqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkyNjg5NTc4OnYy", "diffSide": "RIGHT", "path": "jetty-client/src/main/java/org/eclipse/jetty/client/HttpClient.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwOTozMDozNVrOG-v5fA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxODowMjo0NlrOG_DNNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQ0OTY2MA==", "bodyText": "should the impl at least call HostPort.normalize so that it works if somebody does call it?", "url": "https://github.com/eclipse/jetty.project/pull/5128#discussion_r468449660", "createdAt": "2020-08-11T09:30:35Z", "author": {"login": "gregw"}, "path": "jetty-client/src/main/java/org/eclipse/jetty/client/HttpClient.java", "diffHunk": "@@ -1155,10 +1155,14 @@ protected HttpField getAcceptEncodingField()\n         return encodingField;\n     }\n \n+    /**\n+     * @param host the host to normalize\n+     * @return the host itself\n+     * @deprecated no replacement, do not use it\n+     */\n+    @Deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "867621af89650b380350ddb625f711ee62ea3a13"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODc2MjY2Nw==", "bodyText": "Also, perhaps add some apidoc text telling developers what the options are now that it's deprecated ...\n/**\n * @deprecated use {@link HostPort#normalize(String)} instead.\n */\n@Deprecated", "url": "https://github.com/eclipse/jetty.project/pull/5128#discussion_r468762667", "createdAt": "2020-08-11T17:57:03Z", "author": {"login": "joakime"}, "path": "jetty-client/src/main/java/org/eclipse/jetty/client/HttpClient.java", "diffHunk": "@@ -1155,10 +1155,14 @@ protected HttpField getAcceptEncodingField()\n         return encodingField;\n     }\n \n+    /**\n+     * @param host the host to normalize\n+     * @return the host itself\n+     * @deprecated no replacement, do not use it\n+     */\n+    @Deprecated", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQ0OTY2MA=="}, "originalCommit": {"oid": "867621af89650b380350ddb625f711ee62ea3a13"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODc2NjAwNw==", "bodyText": "Nope, the method should not be used. It's protected so only subclasses could use it, but they should not - there is no need to normalize the host anymore.\nI initially followed @gregw suggestion to call HostPort.normalizeHost(), but actually this method was doing exactly the opposite. So either restore the old behavior, or keep this new one that does nothing.", "url": "https://github.com/eclipse/jetty.project/pull/5128#discussion_r468766007", "createdAt": "2020-08-11T18:02:46Z", "author": {"login": "sbordet"}, "path": "jetty-client/src/main/java/org/eclipse/jetty/client/HttpClient.java", "diffHunk": "@@ -1155,10 +1155,14 @@ protected HttpField getAcceptEncodingField()\n         return encodingField;\n     }\n \n+    /**\n+     * @param host the host to normalize\n+     * @return the host itself\n+     * @deprecated no replacement, do not use it\n+     */\n+    @Deprecated", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQ0OTY2MA=="}, "originalCommit": {"oid": "867621af89650b380350ddb625f711ee62ea3a13"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2297, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}