{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwMTk4ODYy", "number": 5058, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwNDoxOTo0NVrOEPY9Ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMDowMjozMlrOEQFo9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NTcyOTYyOnYy", "diffSide": "RIGHT", "path": "jetty-servlet/src/test/java/org/eclipse/jetty/servlet/IncludedServletTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwNDoxOTo0NVrOGzE0vQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwNDoxOTo0NVrOGzE0vQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwOTU5Nw==", "bodyText": "You might want to remove the print here and log instead.", "url": "https://github.com/eclipse/jetty.project/pull/5058#discussion_r456209597", "createdAt": "2020-07-17T04:19:45Z", "author": {"login": "lachlan-roberts"}, "path": "jetty-servlet/src/test/java/org/eclipse/jetty/servlet/IncludedServletTest.java", "diffHunk": "@@ -173,4 +219,54 @@ private String getPotentialBody(HttpURLConnection connection)\n             IO.close(in);\n         }\n     }\n+\n+    @Test\n+    public void testIncludeAttributes() throws IOException\n+    {\n+        URI uri = baseUri.resolve(\"/attr/one\");\n+        System.out.println(\"GET (String): \" + uri.toASCIIString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea0ce64734a9bc7fe3bf61173d0b45772b3dee09"}, "originalPosition": 92}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MzA1MDc5OnYy", "diffSide": "RIGHT", "path": "jetty-server/src/main/java/org/eclipse/jetty/server/handler/ContextHandler.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMDowMjozMlrOG0D6Pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxNDo0NDo1MFrOG0QvAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI0MzE5OA==", "bodyText": "How does this compare to ContextHandler.Context.getContextPath()? see for example https://github.com/eclipse/jetty.project/blob/jetty-9.4.x/jetty-server/src/main/java/org/eclipse/jetty/server/handler/ContextHandler.java#L2421.", "url": "https://github.com/eclipse/jetty.project/pull/5058#discussion_r457243198", "createdAt": "2020-07-20T10:02:32Z", "author": {"login": "janbartel"}, "path": "jetty-server/src/main/java/org/eclipse/jetty/server/handler/ContextHandler.java", "diffHunk": "@@ -591,6 +591,16 @@ public String getContextPathEncoded()\n         return _contextPathEncoded;\n     }\n \n+    /**\n+     * Get the context path in a form suitable to be returned from {@link HttpServletRequest#getContextPath()}\n+     * @return Returns the encoded contextPath, or empty string for root context\n+     */\n+    public String getRequestContextPath()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea0ce64734a9bc7fe3bf61173d0b45772b3dee09"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzMxNzQ2NQ==", "bodyText": "Interesting question, because I think ContextHandler.Context.getContextPath() is actually wrong in that it should be returning the encoded path.\nEitherway, I think we should only have one of the two methods.... stand by....", "url": "https://github.com/eclipse/jetty.project/pull/5058#discussion_r457317465", "createdAt": "2020-07-20T11:58:53Z", "author": {"login": "gregw"}, "path": "jetty-server/src/main/java/org/eclipse/jetty/server/handler/ContextHandler.java", "diffHunk": "@@ -591,6 +591,16 @@ public String getContextPathEncoded()\n         return _contextPathEncoded;\n     }\n \n+    /**\n+     * Get the context path in a form suitable to be returned from {@link HttpServletRequest#getContextPath()}\n+     * @return Returns the encoded contextPath, or empty string for root context\n+     */\n+    public String getRequestContextPath()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI0MzE5OA=="}, "originalCommit": {"oid": "ea0ce64734a9bc7fe3bf61173d0b45772b3dee09"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzQyNDAzMA==", "bodyText": "Question ...\nWhat happens in this situation ...\n$ cd /path/to/mybase\n$ cd webapps\n$ mkdir \"this%2Fpath\"\n$ echo \"can you see this\" > \"this%2Fpath/index.html\"\nWhat is the context path here?", "url": "https://github.com/eclipse/jetty.project/pull/5058#discussion_r457424030", "createdAt": "2020-07-20T14:13:22Z", "author": {"login": "joakime"}, "path": "jetty-server/src/main/java/org/eclipse/jetty/server/handler/ContextHandler.java", "diffHunk": "@@ -591,6 +591,16 @@ public String getContextPathEncoded()\n         return _contextPathEncoded;\n     }\n \n+    /**\n+     * Get the context path in a form suitable to be returned from {@link HttpServletRequest#getContextPath()}\n+     * @return Returns the encoded contextPath, or empty string for root context\n+     */\n+    public String getRequestContextPath()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI0MzE5OA=="}, "originalCommit": {"oid": "ea0ce64734a9bc7fe3bf61173d0b45772b3dee09"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzQ0NzQyOA==", "bodyText": "I think technically it would be/this%252fpath and should be ok other than being confusing.\nBut we should test and I expect some nasties.", "url": "https://github.com/eclipse/jetty.project/pull/5058#discussion_r457447428", "createdAt": "2020-07-20T14:38:20Z", "author": {"login": "gregw"}, "path": "jetty-server/src/main/java/org/eclipse/jetty/server/handler/ContextHandler.java", "diffHunk": "@@ -591,6 +591,16 @@ public String getContextPathEncoded()\n         return _contextPathEncoded;\n     }\n \n+    /**\n+     * Get the context path in a form suitable to be returned from {@link HttpServletRequest#getContextPath()}\n+     * @return Returns the encoded contextPath, or empty string for root context\n+     */\n+    public String getRequestContextPath()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI0MzE5OA=="}, "originalCommit": {"oid": "ea0ce64734a9bc7fe3bf61173d0b45772b3dee09"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzQ1MzMxMw==", "bodyText": "But I'd prefer not to hold up this PR for that.", "url": "https://github.com/eclipse/jetty.project/pull/5058#discussion_r457453313", "createdAt": "2020-07-20T14:44:50Z", "author": {"login": "gregw"}, "path": "jetty-server/src/main/java/org/eclipse/jetty/server/handler/ContextHandler.java", "diffHunk": "@@ -591,6 +591,16 @@ public String getContextPathEncoded()\n         return _contextPathEncoded;\n     }\n \n+    /**\n+     * Get the context path in a form suitable to be returned from {@link HttpServletRequest#getContextPath()}\n+     * @return Returns the encoded contextPath, or empty string for root context\n+     */\n+    public String getRequestContextPath()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI0MzE5OA=="}, "originalCommit": {"oid": "ea0ce64734a9bc7fe3bf61173d0b45772b3dee09"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2427, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}