{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzOTU4MzU3", "number": 5557, "title": "SessionCookieConfig name may be null", "bodyText": "Protect against NPE by make a null name in SessionCookieConfig deactive session cookies.\nSee discussion in eclipse-ee4j/jakartaee-tck#567", "createdAt": "2020-11-02T10:29:11Z", "url": "https://github.com/eclipse/jetty.project/pull/5557", "merged": true, "mergeCommit": {"oid": "f88f09a1484c77ab9c3ec7f1e072895579b2d009"}, "closed": true, "closedAt": "2020-11-03T15:22:27Z", "author": {"login": "gregw"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYh_04AH2gAyNTEzOTU4MzU3OjI3ZDIyY2NmNjYyM2MwNmYxZTdjMGU4MTdhMGE3ZjViNGJjN2MxNzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdY6u6QgFqTUyMjYwMDAwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "27d22ccf6623c06f1e7c0e817a0a7f5b4bc7c179", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/27d22ccf6623c06f1e7c0e817a0a7f5b4bc7c179", "committedDate": "2020-11-02T10:28:00Z", "message": "SessionCookieConfig name may be null\n\nProtect against NPE by make a null name in SessionCookieConfig deactive session cookies."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "526f8144bb2d33543af43dedbe3ee231a026aeca", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/526f8144bb2d33543af43dedbe3ee231a026aeca", "committedDate": "2020-11-02T12:17:47Z", "message": "SessionCookieConfig name may be null\n\nProtect against NPE by make a null name in SessionCookieConfig deactive session cookies."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f07665e2c3a5a6772eb0b45b9e295152108ac88c", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/f07665e2c3a5a6772eb0b45b9e295152108ac88c", "committedDate": "2020-11-02T12:30:24Z", "message": "SessionCookieConfig name may be null\n\nProtect against NPE by make a null name in SessionCookieConfig deactive session cookies."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMzgwMjA2", "url": "https://github.com/eclipse/jetty.project/pull/5557#pullrequestreview-522380206", "createdAt": "2020-11-03T10:52:42Z", "commit": {"oid": "f07665e2c3a5a6772eb0b45b9e295152108ac88c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMDo1Mjo0MlrOHspc5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMDo1Mjo0MlrOHspc5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU3ODUzMg==", "bodyText": "I don't think that testing _cookieConfig.getName() for null should be here. As per issue eclipse-ee4j/jakartaee-tck#567 it looks like cookieConfig.getName() should indeed be able to return null, but the container needs to either use it's own default name, or the spec default name in that case.\nWe should also be consistent in SessionCookieConfig:  if you look at getPath(), we allow that to return null, but when we need to have a path, we substitute the context path of the relevant context.", "url": "https://github.com/eclipse/jetty.project/pull/5557#discussion_r516578532", "createdAt": "2020-11-03T10:52:42Z", "author": {"login": "janbartel"}, "path": "jetty-server/src/main/java/org/eclipse/jetty/server/session/SessionHandler.java", "diffHunk": "@@ -654,7 +655,7 @@ public String getSessionCookie()\n      */\n     public HttpCookie getSessionCookie(HttpSession session, String contextPath, boolean requestIsSecure)\n     {\n-        if (isUsingCookies())\n+        if (isUsingCookies() && _cookieConfig.getName() != null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f07665e2c3a5a6772eb0b45b9e295152108ac88c"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52544e4835b341f591506783270da6b7795b4290", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/52544e4835b341f591506783270da6b7795b4290", "committedDate": "2020-11-03T13:52:52Z", "message": "feedback from review\n\nadded static method to convert null name to default."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyNjAwMDA3", "url": "https://github.com/eclipse/jetty.project/pull/5557#pullrequestreview-522600007", "createdAt": "2020-11-03T15:17:09Z", "commit": {"oid": "52544e4835b341f591506783270da6b7795b4290"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4990, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}