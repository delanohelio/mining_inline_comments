{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5NDIzMzAw", "number": 5167, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxOTozMDoxMFrOEarOFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMjozNzo1NFrOEbi8dA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2NDA2NTUwOnYy", "diffSide": "RIGHT", "path": "jetty-http2/http2-hpack/src/main/java/org/eclipse/jetty/http2/hpack/HpackEncoder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxOTozMDoxMFrOHEQHMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxOTozMDoxMFrOHEQHMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIyMDMzNg==", "bodyText": "This last parameter was just a guess.", "url": "https://github.com/eclipse/jetty.project/pull/5167#discussion_r474220336", "createdAt": "2020-08-20T19:30:10Z", "author": {"login": "joakime"}, "path": "jetty-http2/http2-hpack/src/main/java/org/eclipse/jetty/http2/hpack/HpackEncoder.java", "diffHunk": "@@ -265,7 +265,7 @@ else if (metadata.isResponse())\n             // Check size\n             if (_maxHeaderListSize > 0 && _headerListSize > _maxHeaderListSize)\n             {\n-                LOG.warn(\"Header list size too large {} > {} for {}\", _headerListSize, _maxHeaderListSize);\n+                LOG.warn(\"Header list size too large {} > {} for {}\", _headerListSize, _maxHeaderListSize, metadata);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a79b1c812fc7dc5e182080a6631e312a31b35725"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2NDA2Nzc4OnYy", "diffSide": "RIGHT", "path": "jetty-server/src/main/java/org/eclipse/jetty/server/PushBuilderImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxOTozMDo0MFrOHEQIsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwODo0NjoyM1rOHEjXSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIyMDcyMA==", "bodyText": "I got rid of c={}, as I have no idea what c could have been.", "url": "https://github.com/eclipse/jetty.project/pull/5167#discussion_r474220720", "createdAt": "2020-08-20T19:30:40Z", "author": {"login": "joakime"}, "path": "jetty-server/src/main/java/org/eclipse/jetty/server/PushBuilderImpl.java", "diffHunk": "@@ -68,7 +68,7 @@ public PushBuilderImpl(Request request, HttpFields fields, String method, String\n         _sessionId = sessionId;\n         _fields.add(JETTY_PUSH);\n         if (LOG.isDebugEnabled())\n-            LOG.debug(\"PushBuilder({} {}?{} s={} c={})\", _method, _request.getRequestURI(), _queryString, _sessionId);\n+            LOG.debug(\"PushBuilder({} {}?{} s={})\", _method, _request.getRequestURI(), _queryString, _sessionId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a79b1c812fc7dc5e182080a6631e312a31b35725"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDUzNTc1NQ==", "bodyText": "Looks like the constructor used to have a boolean passed in, but it doesn't exist any more. Good catch.", "url": "https://github.com/eclipse/jetty.project/pull/5167#discussion_r474535755", "createdAt": "2020-08-21T08:46:23Z", "author": {"login": "janbartel"}, "path": "jetty-server/src/main/java/org/eclipse/jetty/server/PushBuilderImpl.java", "diffHunk": "@@ -68,7 +68,7 @@ public PushBuilderImpl(Request request, HttpFields fields, String method, String\n         _sessionId = sessionId;\n         _fields.add(JETTY_PUSH);\n         if (LOG.isDebugEnabled())\n-            LOG.debug(\"PushBuilder({} {}?{} s={} c={})\", _method, _request.getRequestURI(), _queryString, _sessionId);\n+            LOG.debug(\"PushBuilder({} {}?{} s={})\", _method, _request.getRequestURI(), _queryString, _sessionId);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIyMDcyMA=="}, "originalCommit": {"oid": "a79b1c812fc7dc5e182080a6631e312a31b35725"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2NDA3NjE5OnYy", "diffSide": "RIGHT", "path": "jetty-server/src/main/java/org/eclipse/jetty/server/handler/ResourceHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxOTozMjoyNFrOHEQOmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwODo1NDo0NlrOHEj3kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIyMjIzNQ==", "bodyText": "This one had base vs context resource, then resourcebase, then path.  Not sure what the correct step here should have been.\nAlmost thinking it should just be ...\nLOG.debug(\"getResource({}) baseResource={}, context={}\", path, _baseResource, _context);\nWDYT?", "url": "https://github.com/eclipse/jetty.project/pull/5167#discussion_r474222235", "createdAt": "2020-08-20T19:32:24Z", "author": {"login": "joakime"}, "path": "jetty-server/src/main/java/org/eclipse/jetty/server/handler/ResourceHandler.java", "diffHunk": "@@ -143,7 +143,7 @@ public MimeTypes getMimeTypes()\n     public Resource getResource(String path)\n     {\n         if (LOG.isDebugEnabled())\n-            LOG.debug(\"{} getResource({})\", _context == null ? _baseResource : _context, _baseResource, path);\n+            LOG.debug(\"{} getResource({})\", _context == null ? _baseResource : _context, path);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a79b1c812fc7dc5e182080a6631e312a31b35725"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDU0NDAxOA==", "bodyText": "I'm thinking it looks like we just want either the context, if there is one, or the baseResource otherwise, plus the path arg to the method, so the change in your commit is correct.", "url": "https://github.com/eclipse/jetty.project/pull/5167#discussion_r474544018", "createdAt": "2020-08-21T08:54:46Z", "author": {"login": "janbartel"}, "path": "jetty-server/src/main/java/org/eclipse/jetty/server/handler/ResourceHandler.java", "diffHunk": "@@ -143,7 +143,7 @@ public MimeTypes getMimeTypes()\n     public Resource getResource(String path)\n     {\n         if (LOG.isDebugEnabled())\n-            LOG.debug(\"{} getResource({})\", _context == null ? _baseResource : _context, _baseResource, path);\n+            LOG.debug(\"{} getResource({})\", _context == null ? _baseResource : _context, path);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIyMjIzNQ=="}, "originalCommit": {"oid": "a79b1c812fc7dc5e182080a6631e312a31b35725"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2NjEyOTgzOnYy", "diffSide": "RIGHT", "path": "jetty-http2/http2-hpack/src/main/java/org/eclipse/jetty/http2/hpack/HpackEncoder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwODo1MToyMFrOHEjqFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwODo1MToyMFrOHEjqFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDU0MDU2NA==", "bodyText": "It looks like the intent was only to output the metadata if debug was enabled, so how about this instead:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if (LOG.isDebugEnabled())\n          \n          \n            \n                            if (LOG.isDebugEnabled())\n          \n          \n            \n                               LOG.warn(\"Header list size too large {} > {} metadata={}\", _headerListSize, _maxHeaderListSize, metadata);\n          \n          \n            \n                            else\n          \n          \n            \n                                LOG.warn(\"Header list size too large {} > {}\", _headerListSize, _maxHeaderListSize);", "url": "https://github.com/eclipse/jetty.project/pull/5167#discussion_r474540564", "createdAt": "2020-08-21T08:51:20Z", "author": {"login": "janbartel"}, "path": "jetty-http2/http2-hpack/src/main/java/org/eclipse/jetty/http2/hpack/HpackEncoder.java", "diffHunk": "@@ -265,7 +265,7 @@ else if (metadata.isResponse())\n             // Check size\n             if (_maxHeaderListSize > 0 && _headerListSize > _maxHeaderListSize)\n             {\n-                LOG.warn(\"Header list size too large {} > {} for {}\", _headerListSize, _maxHeaderListSize);\n+                LOG.warn(\"Header list size too large {} > {} for {}\", _headerListSize, _maxHeaderListSize, metadata);\n                 if (LOG.isDebugEnabled())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a79b1c812fc7dc5e182080a6631e312a31b35725"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3MzE3MjAzOnYy", "diffSide": "RIGHT", "path": "jetty-documentation/src/main/asciidoc/contribution-guide/3-source.adoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMjozMToyMFrOHFiIzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxNDo1OTo1MlrOHFpH-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTU2NDIzNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * we should not call more than one LOG method for a single event: otherwise log messages may be interleaved and more confusing\n          \n          \n            \n            * we should not call more than one LOG method for a single event: otherwise log messages may be interleaved and more confusing\n          \n          \n            \n            * we should never LOG.warn and then throw that exception, as that will result in double handling.\n          \n          \n            \n            * we should seldom LOG.debug and then throw as that will make debug verbose and add little information.", "url": "https://github.com/eclipse/jetty.project/pull/5167#discussion_r475564237", "createdAt": "2020-08-24T12:31:20Z", "author": {"login": "gregw"}, "path": "jetty-documentation/src/main/asciidoc/contribution-guide/3-source.adoc", "diffHunk": "@@ -163,6 +163,60 @@ Intellectual Property is a hallmark concern of the Eclipse Foundation so you are\n As much as we would like to accept a tremendous pull request, without the proper chain of events being completed our hands are tied.\n That being said, the steps are not particularly onerous and we are happy to work with you to get them accomplished.\n \n+==== Logging Conventions\n+\n+When deciding when and what to log, bear in mind a few things:\n+\n+* never use `LOG.debug` without a preceding `if (LOG.isDebugEnabled())`\n+* we don't want to pollute the log with very long stacktraces unless necessary\n+* we don't want to routinely produce logging events in response to data sent by a user\n+* we should not call more than one LOG method for a single event: otherwise log messages may be interleaved and more confusing", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a79b1c812fc7dc5e182080a6631e312a31b35725"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTY3ODcxMg==", "bodyText": "Added", "url": "https://github.com/eclipse/jetty.project/pull/5167#discussion_r475678712", "createdAt": "2020-08-24T14:59:52Z", "author": {"login": "janbartel"}, "path": "jetty-documentation/src/main/asciidoc/contribution-guide/3-source.adoc", "diffHunk": "@@ -163,6 +163,60 @@ Intellectual Property is a hallmark concern of the Eclipse Foundation so you are\n As much as we would like to accept a tremendous pull request, without the proper chain of events being completed our hands are tied.\n That being said, the steps are not particularly onerous and we are happy to work with you to get them accomplished.\n \n+==== Logging Conventions\n+\n+When deciding when and what to log, bear in mind a few things:\n+\n+* never use `LOG.debug` without a preceding `if (LOG.isDebugEnabled())`\n+* we don't want to pollute the log with very long stacktraces unless necessary\n+* we don't want to routinely produce logging events in response to data sent by a user\n+* we should not call more than one LOG method for a single event: otherwise log messages may be interleaved and more confusing", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTU2NDIzNw=="}, "originalCommit": {"oid": "a79b1c812fc7dc5e182080a6631e312a31b35725"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3MzE5NTQwOnYy", "diffSide": "RIGHT", "path": "jetty-documentation/src/main/asciidoc/contribution-guide/3-source.adoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMjozNzo1NFrOHFiWoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxNTowMDowMlrOHFpI0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTU2Nzc3Nw==", "bodyText": "Maybe just enumerate these once, rather than have short list then long list.", "url": "https://github.com/eclipse/jetty.project/pull/5167#discussion_r475567777", "createdAt": "2020-08-24T12:37:54Z", "author": {"login": "gregw"}, "path": "jetty-documentation/src/main/asciidoc/contribution-guide/3-source.adoc", "diffHunk": "@@ -163,6 +163,60 @@ Intellectual Property is a hallmark concern of the Eclipse Foundation so you are\n As much as we would like to accept a tremendous pull request, without the proper chain of events being completed our hands are tied.\n That being said, the steps are not particularly onerous and we are happy to work with you to get them accomplished.\n \n+==== Logging Conventions\n+\n+When deciding when and what to log, bear in mind a few things:\n+\n+* never use `LOG.debug` without a preceding `if (LOG.isDebugEnabled())`\n+* we don't want to pollute the log with very long stacktraces unless necessary\n+* we don't want to routinely produce logging events in response to data sent by a user\n+* we should not call more than one LOG method for a single event: otherwise log messages may be interleaved and more confusing\n+\n+Specifically:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a79b1c812fc7dc5e182080a6631e312a31b35725"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTY3ODkyOQ==", "bodyText": "Done", "url": "https://github.com/eclipse/jetty.project/pull/5167#discussion_r475678929", "createdAt": "2020-08-24T15:00:02Z", "author": {"login": "janbartel"}, "path": "jetty-documentation/src/main/asciidoc/contribution-guide/3-source.adoc", "diffHunk": "@@ -163,6 +163,60 @@ Intellectual Property is a hallmark concern of the Eclipse Foundation so you are\n As much as we would like to accept a tremendous pull request, without the proper chain of events being completed our hands are tied.\n That being said, the steps are not particularly onerous and we are happy to work with you to get them accomplished.\n \n+==== Logging Conventions\n+\n+When deciding when and what to log, bear in mind a few things:\n+\n+* never use `LOG.debug` without a preceding `if (LOG.isDebugEnabled())`\n+* we don't want to pollute the log with very long stacktraces unless necessary\n+* we don't want to routinely produce logging events in response to data sent by a user\n+* we should not call more than one LOG method for a single event: otherwise log messages may be interleaved and more confusing\n+\n+Specifically:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTU2Nzc3Nw=="}, "originalCommit": {"oid": "a79b1c812fc7dc5e182080a6631e312a31b35725"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2316, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}