{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3NDc3Nzc1", "number": 4744, "title": "Issue #4737 Ensure lifecycle callbacks happen for run-as and non async servlets", "bodyText": "Closes #4737\nNeed to unwrap RunAsServlet and NotAsyncServlet before calling ServletHandler.destroyServlet(Servlet) because these wrapper classnames are unknown outside of the ServletHolder, in particular to the LifeCycleCallbackCollection, which contains the maps of postConstruct and preDestroy methods to call based on the name of the class.", "createdAt": "2020-04-02T10:04:21Z", "url": "https://github.com/eclipse/jetty.project/pull/4744", "merged": true, "mergeCommit": {"oid": "4b2842265ac80641f88447de9f23666925cf2b7b"}, "closed": true, "closedAt": "2020-04-06T09:30:34Z", "author": {"login": "janbartel"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTpU17gH2gAyMzk3NDc3Nzc1OjE5ZWEwOTY0NWIyMDk2NTNmNjAwMDYwZmRiZTY2MWU4ZDMwMGZlNGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcU7Q1KgH2gAyMzk3NDc3Nzc1OjBhMGY0ZjBlNzBhNTExMjRkMzdlMTM2MmIyOTQyMzVlYTBiMDQ1NmU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "19ea09645b209653f600060fdbe661e8d300fe4b", "author": {"user": {"login": "janbartel", "name": "Jan Bartel"}}, "url": "https://github.com/eclipse/jetty.project/commit/19ea09645b209653f600060fdbe661e8d300fe4b", "committedDate": "2020-04-02T09:59:31Z", "message": "Issue #4737 Ensure lifecycle callbacks happen for run-as and non async servlets\n\nSigned-off-by: Jan Bartel <janb@webtide.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NjYzMDE0", "url": "https://github.com/eclipse/jetty.project/pull/4744#pullrequestreview-386663014", "createdAt": "2020-04-02T17:52:40Z", "commit": {"oid": "19ea09645b209653f600060fdbe661e8d300fe4b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MDcyMDk0", "url": "https://github.com/eclipse/jetty.project/pull/4744#pullrequestreview-388072094", "createdAt": "2020-04-06T09:20:24Z", "commit": {"oid": "19ea09645b209653f600060fdbe661e8d300fe4b"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwOToyMDoyNVrOGBO7Lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwOToyMDoyNVrOGBO7Lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzk0NjI4Nw==", "bodyText": "should be called getServlet or getWrappedServlet", "url": "https://github.com/eclipse/jetty.project/pull/4744#discussion_r403946287", "createdAt": "2020-04-06T09:20:25Z", "author": {"login": "gregw"}, "path": "jetty-servlet/src/main/java/org/eclipse/jetty/servlet/ServletHolder.java", "diffHunk": "@@ -1304,6 +1310,14 @@ public void destroy()\n         {\n             _servlet.destroy();\n         }\n+        \n+        /**\n+         * @return the original servlet\n+         */\n+        public Servlet unwrap()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19ea09645b209653f600060fdbe661e8d300fe4b"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a0f4f0e70a51124d37e1362b294235ea0b0456e", "author": {"user": {"login": "janbartel", "name": "Jan Bartel"}}, "url": "https://github.com/eclipse/jetty.project/commit/0a0f4f0e70a51124d37e1362b294235ea0b0456e", "committedDate": "2020-04-06T09:27:21Z", "message": "Issue #4737 change after review\n\nSigned-off-by: Jan Bartel <janb@webtide.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 528, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}