{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1ODc0MTU1", "number": 5258, "title": "Issue #5256 Adding start.jar --add-module", "bodyText": "Fixes #5256\n\nadded --add-module\nadded --create-start-ini", "createdAt": "2020-09-12T11:28:50Z", "url": "https://github.com/eclipse/jetty.project/pull/5258", "merged": true, "mergeCommit": {"oid": "0f4031089b51a55be6c54b886155ced96b20bf5a"}, "closed": true, "closedAt": "2020-09-15T09:54:45Z", "author": {"login": "gregw"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdIIRh4gH2gAyNDg1ODc0MTU1OjYwNzc2NThmZDEzZGJmZDE4NTI5YzEwOGE2MGY1NGI2MWYyZDZlNzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdI0_JcAH2gAyNDg1ODc0MTU1Ojk0OTk5ZGVhZDY2YmExZGQ1NmE5NWI0OWRjOWQxYTRlNDZkOWRjMjQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6077658fd13dbfd18529c108a60f54b61f2d6e77", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/6077658fd13dbfd18529c108a60f54b61f2d6e77", "committedDate": "2020-09-12T11:27:01Z", "message": "Issue #5256 --add-modules\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a73bd7f6b41354b9dbce807ac5c1a13c22182a2b", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/a73bd7f6b41354b9dbce807ac5c1a13c22182a2b", "committedDate": "2020-09-12T11:27:38Z", "message": "main.ini\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "877fd4ac7771bf295b840b9500bd2302851d078d", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/877fd4ac7771bf295b840b9500bd2302851d078d", "committedDate": "2020-09-12T12:10:04Z", "message": "Issue #5256 --add-modules\n\nusage.txt\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NDY3NDIy", "url": "https://github.com/eclipse/jetty.project/pull/5258#pullrequestreview-487467422", "createdAt": "2020-09-14T07:05:12Z", "commit": {"oid": "877fd4ac7771bf295b840b9500bd2302851d078d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwNzowNToxMlrOHRGawA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwNzowNToxMlrOHRGawA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzY5Mjk5Mg==", "bodyText": "I kind of liked the previous format, although it was not consistent (e.g. was using INFO for module activity).\nIf you go this direction, then there are 3 occurrences of StartLog.log(\"COPY\", ...) and 1 of StartLog.log(\"DOWNLD\", ...) to replace.", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487692992", "createdAt": "2020-09-14T07:05:12Z", "author": {"login": "sbordet"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/FileInitializer.java", "diffHunk": "@@ -128,7 +128,7 @@ protected Path getDestination(URI uri, String location) throws IOException\n     protected void download(URI uri, Path destination) throws IOException\n     {\n         if (FS.ensureDirectoryExists(destination.getParent()))\n-            StartLog.log(\"MKDIR\", _basehome.toShortForm(destination.getParent()));\n+            StartLog.log(\"INFO\", \"mkdir \" + _basehome.toShortForm(destination.getParent()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "877fd4ac7771bf295b840b9500bd2302851d078d"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46f051d7e264f907c98d5ec4dd44102b436ee165", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/46f051d7e264f907c98d5ec4dd44102b436ee165", "committedDate": "2020-09-14T10:33:49Z", "message": "Issue #5256 --add-modules\n\nupdates from review\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NzY2NTg2", "url": "https://github.com/eclipse/jetty.project/pull/5258#pullrequestreview-487766586", "createdAt": "2020-09-14T13:29:02Z", "commit": {"oid": "46f051d7e264f907c98d5ec4dd44102b436ee165"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMzoyOTowMlrOHRT0JA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMzozMzo1MVrOHRUGmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkxMjQ4NA==", "bodyText": "This should be mkdir for consistency with other logs, not create.", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487912484", "createdAt": "2020-09-14T13:29:02Z", "author": {"login": "sbordet"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/BaseBuilder.java", "diffHunk": "@@ -169,35 +172,70 @@ else if (!licensing.acknowledgeLicenses())\n         Path startd = getBaseHome().getBasePath(\"start.d\");\n         Path startini = getBaseHome().getBasePath(\"start.ini\");\n \n-        if (startArgs.isCreateStartd() && !Files.exists(startd))\n+        if (startArgs.isCreateStartIni())\n         {\n-            if (FS.ensureDirectoryExists(startd))\n+            if (!Files.exists(startini))\n             {\n-                StartLog.log(\"MKDIR\", baseHome.toShortForm(startd));\n+                StartLog.info(\"create \" + baseHome.toShortForm(startini));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46f051d7e264f907c98d5ec4dd44102b436ee165"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkxNDA4MA==", "bodyText": "You used cp in BaseBuilder:205 so I would be consistent - I like better \"copy\" than \"cp\".", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487914080", "createdAt": "2020-09-14T13:30:56Z", "author": {"login": "sbordet"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/FileInitializer.java", "diffHunk": "@@ -215,7 +215,7 @@ public boolean copyDirectory(Path source, Path destination) throws IOException\n                 }\n                 else if (!Files.exists(to))\n                 {\n-                    StartLog.log(\"COPY \", \"%s to %s\", _basehome.toShortForm(from), _basehome.toShortForm(to));\n+                    StartLog.info(\"copy %s to %s\", _basehome.toShortForm(from), _basehome.toShortForm(to));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46f051d7e264f907c98d5ec4dd44102b436ee165"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkxNTYxMw==", "bodyText": "\"Programmatic ACK\" -> \"Automatic License Acknowledgment\" - these are sysops or beginners, they don't know what \"ACK\" is.", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487915613", "createdAt": "2020-09-14T13:32:19Z", "author": {"login": "sbordet"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/Licensing.java", "diffHunk": "@@ -85,7 +85,7 @@ public boolean acknowledgeLicenses() throws IOException\n         String propBasedAckValue = System.getProperty(PROP_ACK_LICENSES);\n         if (propBasedAckValue != null)\n         {\n-            StartLog.log(\"TESTING MODE\", \"Programmatic ACK - %s=%s\", PROP_ACK_LICENSES, propBasedAckValue);\n+            StartLog.info(\"Programmatic ACK - %s=%s\", PROP_ACK_LICENSES, propBasedAckValue);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46f051d7e264f907c98d5ec4dd44102b436ee165"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkxNzIxMQ==", "bodyText": "Typo: modues -> modules.", "url": "https://github.com/eclipse/jetty.project/pull/5258#discussion_r487917211", "createdAt": "2020-09-14T13:33:51Z", "author": {"login": "sbordet"}, "path": "jetty-start/src/main/java/org/eclipse/jetty/start/builders/StartDirBuilder.java", "diffHunk": "@@ -35,7 +35,7 @@\n /**\n  * Management of the <code>${jetty.base}/start.d/</code> based configuration.\n  * <p>\n- * Implementation of the <code>--add-to-startd=[name]</code> command line behavior\n+ * Implementation of the <code>--add-modues=[name]</code> command line behavior", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46f051d7e264f907c98d5ec4dd44102b436ee165"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4567a4dd6f036fe31a10506bf7c5d0ef7a6e0fa", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/f4567a4dd6f036fe31a10506bf7c5d0ef7a6e0fa", "committedDate": "2020-09-14T13:45:28Z", "message": "Issue #5256 --add-modules\n\nupdates from review\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3ODA2MzUx", "url": "https://github.com/eclipse/jetty.project/pull/5258#pullrequestreview-487806351", "createdAt": "2020-09-14T14:06:17Z", "commit": {"oid": "f4567a4dd6f036fe31a10506bf7c5d0ef7a6e0fa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94999dead66ba1dd56a95b49dc9d1a4e46d9dc24", "author": {"user": {"login": "gregw", "name": "Greg Wilkins"}}, "url": "https://github.com/eclipse/jetty.project/commit/94999dead66ba1dd56a95b49dc9d1a4e46d9dc24", "committedDate": "2020-09-14T15:32:40Z", "message": "fixed test\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 337, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}