{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1MDA3MzQ1", "number": 277, "title": "Add optional TLS SNI initiator support", "bodyText": "Fixes #276.", "createdAt": "2020-03-27T23:21:18Z", "url": "https://github.com/quickfix-j/quickfixj/pull/277", "merged": true, "mergeCommit": {"oid": "e53d41bc6b7a51ae02a63b7b0222846d248dcb7c"}, "closed": true, "closedAt": "2020-04-03T12:51:05Z", "author": {"login": "youurayy"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcR5LVlAH2gAyMzk1MDA3MzQ1OjczOTVjNWQ5ZWQxODExZWIwNzYzN2E2YWNmMGE4MTJlZGJkYjgzZmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTVaSpAH2gAyMzk1MDA3MzQ1OmY0MTU1N2IyYjg2MDk3MmU4NDg3ZDk2YTI0NGEwNzFmZjg3MmJiOGE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7395c5d9ed1811eb07637a6acf0a812edbdb83fa", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/7395c5d9ed1811eb07637a6acf0a812edbdb83fa", "committedDate": "2020-03-27T23:19:46Z", "message": "activate TLS SNI support by default when using TLS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNDA0MTI4", "url": "https://github.com/quickfix-j/quickfixj/pull/277#pullrequestreview-383404128", "createdAt": "2020-03-29T12:13:13Z", "commit": {"oid": "7395c5d9ed1811eb07637a6acf0a812edbdb83fa"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQxMjoxMzoxM1rOF9RMDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQxMjoxMzoxM1rOF9RMDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc4OTA3MA==", "bodyText": "I would log the remote peer address being set.", "url": "https://github.com/quickfix-j/quickfixj/pull/277#discussion_r399789070", "createdAt": "2020-03-29T12:13:13Z", "author": {"login": "the-thing"}, "path": "quickfixj-core/src/main/java/quickfix/mina/ssl/SSLFilter.java", "diffHunk": "@@ -49,4 +58,20 @@ public void setEnabledCipherSuites(String[] cipherSuites) {\n     public void setCipherSuites(String[] cipherSuites) {\r\n         super.setEnabledCipherSuites(cipherSuites);\r\n     }\r\n+\r\n+    @Override\r\n+    public void onPreAdd(IoFilterChain parent, String name, NextFilter nextFilter)\r\n+        throws SSLException {\r\n+\r\n+        IoSession session = parent.getSession();\r\n+        SocketAddress remoteAddress = session.getRemoteAddress();\r\n+\r\n+        if(remoteAddress instanceof InetSocketAddress) {\r\n+            // activate the SNI support in the JSSE SSLEngine\r\n+            log.info(\"activating TLS SNI support\");\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7395c5d9ed1811eb07637a6acf0a812edbdb83fa"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a93a20ca02d82d4318725e0a4cfcc7e6ec278147", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/a93a20ca02d82d4318725e0a4cfcc7e6ec278147", "committedDate": "2020-03-30T18:51:20Z", "message": "add address to SNI init log output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "028b2762c0af051b49b072f02a2dde85243bfeb6", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/028b2762c0af051b49b072f02a2dde85243bfeb6", "committedDate": "2020-03-30T19:30:16Z", "message": "add UseSNI opt-in parameter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "acf00c10073b4e91ab24fa92225253b2da895173", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/acf00c10073b4e91ab24fa92225253b2da895173", "committedDate": "2020-03-30T19:39:19Z", "message": "add doc for the UseSNI config parameter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0MTc0MTY3", "url": "https://github.com/quickfix-j/quickfixj/pull/277#pullrequestreview-384174167", "createdAt": "2020-03-30T19:44:14Z", "commit": {"oid": "acf00c10073b4e91ab24fa92225253b2da895173"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxOTo0NDoxNVrOF95etA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxOTo0NDozNlrOF95fdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDQ0OTIwNA==", "bodyText": "No need for +, you can use the argument", "url": "https://github.com/quickfix-j/quickfixj/pull/277#discussion_r400449204", "createdAt": "2020-03-30T19:44:15Z", "author": {"login": "the-thing"}, "path": "quickfixj-core/src/main/java/quickfix/mina/ssl/SSLFilter.java", "diffHunk": "@@ -49,4 +59,26 @@ public void setEnabledCipherSuites(String[] cipherSuites) {\n     public void setCipherSuites(String[] cipherSuites) {\r\n         super.setEnabledCipherSuites(cipherSuites);\r\n     }\r\n+\r\n+    @Override\r\n+    public void onPreAdd(IoFilterChain parent, String name, NextFilter nextFilter)\r\n+        throws SSLException {\r\n+\r\n+        if (useSNI) {\r\n+            IoSession session = parent.getSession();\r\n+            SocketAddress remoteAddress = session.getRemoteAddress();\r\n+\r\n+            if (remoteAddress instanceof InetSocketAddress) {\r\n+                // activate the SNI support in the JSSE SSLEngine\r\n+                log.info(\"activating TLS SNI support for peer address: \" + remoteAddress);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "acf00c10073b4e91ab24fa92225253b2da895173"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDQ0OTM5OA==", "bodyText": "This can be combined with  below if statement.", "url": "https://github.com/quickfix-j/quickfixj/pull/277#discussion_r400449398", "createdAt": "2020-03-30T19:44:36Z", "author": {"login": "the-thing"}, "path": "quickfixj-core/src/main/java/quickfix/mina/ssl/SSLFilter.java", "diffHunk": "@@ -49,4 +59,26 @@ public void setEnabledCipherSuites(String[] cipherSuites) {\n     public void setCipherSuites(String[] cipherSuites) {\r\n         super.setEnabledCipherSuites(cipherSuites);\r\n     }\r\n+\r\n+    @Override\r\n+    public void onPreAdd(IoFilterChain parent, String name, NextFilter nextFilter)\r\n+        throws SSLException {\r\n+\r\n+        if (useSNI) {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "acf00c10073b4e91ab24fa92225253b2da895173"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a499f4552195750effa5822aa957f6fa7d4e0cd", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/3a499f4552195750effa5822aa957f6fa7d4e0cd", "committedDate": "2020-03-30T20:18:25Z", "message": "change to parametrized logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "260d266c5cf7ff9dd70e96cbc536ff6144924a04", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/260d266c5cf7ff9dd70e96cbc536ff6144924a04", "committedDate": "2020-03-31T14:44:47Z", "message": "remove javascript from LGTM processing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f981b055476c1532e1f0c688a0d392ca5f0306e1", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/f981b055476c1532e1f0c688a0d392ca5f0306e1", "committedDate": "2020-03-31T15:05:37Z", "message": "remove javascript and html from LGTM processing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bea7b6e54e442fd231bfa04fd9924682b9f940e7", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/bea7b6e54e442fd231bfa04fd9924682b9f940e7", "committedDate": "2020-03-31T15:10:15Z", "message": "remove javascript and html from LGTM processing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21753fd4bd331dde1cad91b79aa29edd93691199", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/21753fd4bd331dde1cad91b79aa29edd93691199", "committedDate": "2020-03-31T15:29:14Z", "message": "remove javascript from LGTM processing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "884005a054caf41a5bd4412d02d9ec1fc2ef4b75", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/884005a054caf41a5bd4412d02d9ec1fc2ef4b75", "committedDate": "2020-03-31T15:33:21Z", "message": "remove javascript, html and yaml from LGTM processing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f7789f601b2a71ab03b7598a67d502b94a2c690", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/9f7789f601b2a71ab03b7598a67d502b94a2c690", "committedDate": "2020-03-31T15:36:18Z", "message": "specify Java for LGTM processing explicitly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a78a862db5dadacaad15f068c439eaf685775e6", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/6a78a862db5dadacaad15f068c439eaf685775e6", "committedDate": "2020-03-31T15:49:38Z", "message": "dummy javascript file to make LGTM extractor happy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1eca95e1b37b5b048cb53f91ef7f1debfe7eb2f8", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/1eca95e1b37b5b048cb53f91ef7f1debfe7eb2f8", "committedDate": "2020-03-31T15:55:39Z", "message": "dummy html file to make LGTM extractor happy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11a5b15b91adb9b8382860f52d6fdd2f9e636a24", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/11a5b15b91adb9b8382860f52d6fdd2f9e636a24", "committedDate": "2020-03-31T16:04:31Z", "message": "dummy html file to make LGTM javascript extractor happy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5fe53ed4917d572d71f084da8279fc4b4992e84", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/c5fe53ed4917d572d71f084da8279fc4b4992e84", "committedDate": "2020-03-31T16:04:46Z", "message": "dummy html file to make LGTM javascript extractor happy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb96d577215f91d6f1fd9ebbd6b088b929142942", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/bb96d577215f91d6f1fd9ebbd6b088b929142942", "committedDate": "2020-03-31T16:12:55Z", "message": "dummy html file to make LGTM javascript extractor happy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5d12e9c3f767327b2f0884ecdbf40f4e27e5af6", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/b5d12e9c3f767327b2f0884ecdbf40f4e27e5af6", "committedDate": "2020-03-31T16:24:24Z", "message": "add a dummy JS to make LGTM extractor happy; remove previous dummy file attempt;"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2317f54d4af21dcaabf845d89166951ddc06b527", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/2317f54d4af21dcaabf845d89166951ddc06b527", "committedDate": "2020-03-31T16:36:14Z", "message": "remove javascript from LGTM processing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e397cbebf8ec93db578287d2e2eff8244367309", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/9e397cbebf8ec93db578287d2e2eff8244367309", "committedDate": "2020-03-31T16:40:42Z", "message": "remove javascript from LGTM processing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b83adf3a313760fe89bf711f2781adb0824f901", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/9b83adf3a313760fe89bf711f2781adb0824f901", "committedDate": "2020-03-31T16:44:13Z", "message": "remove javascript from LGTM processing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b14a0e100f0bcaef27f7ae22463b65a48906eab", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/3b14a0e100f0bcaef27f7ae22463b65a48906eab", "committedDate": "2020-03-31T16:56:06Z", "message": "remove javascript from LGTM processing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35ab5d33bf139b2d68ac9fdb8fff870150ea4e91", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/35ab5d33bf139b2d68ac9fdb8fff870150ea4e91", "committedDate": "2020-03-31T17:03:10Z", "message": "remove javascript from LGTM processing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5be49de76070962d3395ba4a2eb242372a44a42f", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/5be49de76070962d3395ba4a2eb242372a44a42f", "committedDate": "2020-03-31T17:17:49Z", "message": "remove javascript from LGTM processing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e94b78bfb62c9a4810b61f837c0855f84425d6b1", "author": {"user": {"login": "youurayy", "name": "Juraj Vitko"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/e94b78bfb62c9a4810b61f837c0855f84425d6b1", "committedDate": "2020-03-31T17:25:14Z", "message": "undo the lgtm exlusion attempts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a9bec3ea7d66ba4fd7688d49fa3a91783afc501", "author": {"user": {"login": "chrjohn", "name": "Christoph John"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/6a9bec3ea7d66ba4fd7688d49fa3a91783afc501", "committedDate": "2020-04-01T10:42:42Z", "message": "minor changes to comments and logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f41557b2b860972e8487d96a244a071ff872bb8a", "author": {"user": {"login": "chrjohn", "name": "Christoph John"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/f41557b2b860972e8487d96a244a071ff872bb8a", "committedDate": "2020-04-01T10:47:22Z", "message": "corrected SNI (indication)"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3095, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}