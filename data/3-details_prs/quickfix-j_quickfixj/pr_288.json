{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4NDgxMjYw", "number": 288, "title": "QFJ-375 - configurable timeout multiplier", "bodyText": "Fixes QFJ-375\nChanges\n\nsession timeout multiplier is configurable (default values retained)\ndocumentation update", "createdAt": "2020-05-15T09:30:51Z", "url": "https://github.com/quickfix-j/quickfixj/pull/288", "merged": true, "mergeCommit": {"oid": "5a31fcd730829841d35a34919b351f487f288347"}, "closed": true, "closedAt": "2020-05-19T21:24:13Z", "author": {"login": "the-thing"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchef72gH2gAyNDE4NDgxMjYwOjgxMGJhOWQ0NDg2NzUzZGRkNzQyNmQzYmQ0YzkwODk5ODI0YjM0ZTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABci6mEdgFqTQxNDgwMjcyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "810ba9d4486753ddd7426d3bd4c90899824b34e3", "author": {"user": {"login": "the-thing", "name": "Marcin L"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/810ba9d4486753ddd7426d3bd4c90899824b34e3", "committedDate": "2020-05-15T09:17:37Z", "message": "QFJ-375 - configurable timeout multiplier"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyNTI5MDk0", "url": "https://github.com/quickfix-j/quickfixj/pull/288#pullrequestreview-412529094", "createdAt": "2020-05-15T10:27:12Z", "commit": {"oid": "810ba9d4486753ddd7426d3bd4c90899824b34e3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMDoyNzoxMlrOGV_Uhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMDoyNzoxMlrOGV_Uhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTcxMDcyNw==", "bodyText": "I don't know if I made it worst by clarifying the final coefficient values as for TestRequestDelayMultiplier there is also number of requests variable which might require to look in in the code anyway.", "url": "https://github.com/quickfix-j/quickfixj/pull/288#discussion_r425710727", "createdAt": "2020-05-15T10:27:12Z", "author": {"login": "the-thing"}, "path": "quickfixj-core/src/main/doc/usermanual/usage/configuration.html", "diffHunk": "@@ -1285,11 +1285,21 @@ <H3>QuickFIX Settings</H3>\n   <TR ALIGN=\"left\" VALIGN=\"middle\">\n     <TD><I>TestRequestDelayMultiplier</I></TD>\n     <TD>Fraction of the heartbeat interval which defines the additional time to wait\n-    if a TestRequest sent after a missing heartbeat times out.\n+    if a TestRequest sent after a missing heartbeat times out (final coefficient value is equal to", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "810ba9d4486753ddd7426d3bd4c90899824b34e3"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyNTI5Njky", "url": "https://github.com/quickfix-j/quickfixj/pull/288#pullrequestreview-412529692", "createdAt": "2020-05-15T10:28:06Z", "commit": {"oid": "810ba9d4486753ddd7426d3bd4c90899824b34e3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMDoyODowN1rOGV_WYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMDoyODowN1rOGV_WYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTcxMTIwMw==", "bodyText": "The default hardcoded values was 2.4, but +1 is always done in the code the same as for TestRequestDelayMultiplier", "url": "https://github.com/quickfix-j/quickfixj/pull/288#discussion_r425711203", "createdAt": "2020-05-15T10:28:07Z", "author": {"login": "the-thing"}, "path": "quickfixj-core/src/main/doc/usermanual/usage/configuration.html", "diffHunk": "@@ -1285,11 +1285,21 @@ <H3>QuickFIX Settings</H3>\n   <TR ALIGN=\"left\" VALIGN=\"middle\">\n     <TD><I>TestRequestDelayMultiplier</I></TD>\n     <TD>Fraction of the heartbeat interval which defines the additional time to wait\n-    if a TestRequest sent after a missing heartbeat times out.\n+    if a TestRequest sent after a missing heartbeat times out (final coefficient value is equal to\n+    TestRequestDelayMultiplier + 1.0).\n     </TD>\n-    <TD>0..1</TD>\n+    <TD>any non-negative value</TD>\n     <TD>0.5</TD>\n   </TR>\n+  <TR ALIGN=\"left\" VALIGN=\"middle\">\n+      <TD><I>HeartBeatTimeoutMultiplier</I></TD>\n+      <TD>Fraction of the heartbeat interval which defines the additional time to wait\n+      since the last message was received before disconnecting (final coefficient value is equal to\n+      HeartBeatTimeoutMultiplier + 1.0).\n+      </TD>\n+      <TD>any non-negative value</TD>\n+      <TD>1.4</TD>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "810ba9d4486753ddd7426d3bd4c90899824b34e3"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyNTMwMzEx", "url": "https://github.com/quickfix-j/quickfixj/pull/288#pullrequestreview-412530311", "createdAt": "2020-05-15T10:29:10Z", "commit": {"oid": "810ba9d4486753ddd7426d3bd4c90899824b34e3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMDoyOToxMVrOGV_YSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMDoyOToxMVrOGV_YSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTcxMTY4OA==", "bodyText": "This has only informative value as there were no checks anyway.", "url": "https://github.com/quickfix-j/quickfixj/pull/288#discussion_r425711688", "createdAt": "2020-05-15T10:29:11Z", "author": {"login": "the-thing"}, "path": "quickfixj-core/src/main/doc/usermanual/usage/configuration.html", "diffHunk": "@@ -1285,11 +1285,21 @@ <H3>QuickFIX Settings</H3>\n   <TR ALIGN=\"left\" VALIGN=\"middle\">\n     <TD><I>TestRequestDelayMultiplier</I></TD>\n     <TD>Fraction of the heartbeat interval which defines the additional time to wait\n-    if a TestRequest sent after a missing heartbeat times out.\n+    if a TestRequest sent after a missing heartbeat times out (final coefficient value is equal to\n+    TestRequestDelayMultiplier + 1.0).\n     </TD>\n-    <TD>0..1</TD>\n+    <TD>any non-negative value</TD>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "810ba9d4486753ddd7426d3bd4c90899824b34e3"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NDY2ODY4", "url": "https://github.com/quickfix-j/quickfixj/pull/288#pullrequestreview-414466868", "createdAt": "2020-05-19T13:52:06Z", "commit": {"oid": "810ba9d4486753ddd7426d3bd4c90899824b34e3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzo1MjowNlrOGXhdbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzo1MjowNlrOGXhdbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzMxODYzOQ==", "bodyText": "Just a nitpick: could we remove the access modifier to enable access from within the package?", "url": "https://github.com/quickfix-j/quickfixj/pull/288#discussion_r427318639", "createdAt": "2020-05-19T13:52:06Z", "author": {"login": "chrjohn"}, "path": "quickfixj-core/src/test/java/quickfix/MockSystemTimeSource.java", "diffHunk": "@@ -40,7 +40,7 @@ public void setSystemTimes(long[] times) {\n         systemTimes = times;\n     }\n \n-    private void setSystemTimes(long time) {\n+    public void setSystemTimes(long time) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "810ba9d4486753ddd7426d3bd4c90899824b34e3"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NDY2ODg4", "url": "https://github.com/quickfix-j/quickfixj/pull/288#pullrequestreview-414466888", "createdAt": "2020-05-19T13:52:07Z", "commit": {"oid": "810ba9d4486753ddd7426d3bd4c90899824b34e3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzo1MjowOFrOGXhdgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzo1MjowOFrOGXhdgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzMxODY1Ng==", "bodyText": "Just a nitpick: could we remove the access modifier to enable access from within the package?", "url": "https://github.com/quickfix-j/quickfixj/pull/288#discussion_r427318656", "createdAt": "2020-05-19T13:52:08Z", "author": {"login": "chrjohn"}, "path": "quickfixj-core/src/test/java/quickfix/MockSystemTimeSource.java", "diffHunk": "@@ -40,7 +40,7 @@ public void setSystemTimes(long[] times) {\n         systemTimes = times;\n     }\n \n-    private void setSystemTimes(long time) {\n+    public void setSystemTimes(long time) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "810ba9d4486753ddd7426d3bd4c90899824b34e3"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de4a975a0a6f54641a8e22e0ac75d059cbdcfd54", "author": {"user": {"login": "the-thing", "name": "Marcin L"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/de4a975a0a6f54641a8e22e0ac75d059cbdcfd54", "committedDate": "2020-05-19T15:31:55Z", "message": "QFJ-375 - configurable timeout multiplier"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0Nzg3ODc1", "url": "https://github.com/quickfix-j/quickfixj/pull/288#pullrequestreview-414787875", "createdAt": "2020-05-19T20:13:27Z", "commit": {"oid": "810ba9d4486753ddd7426d3bd4c90899824b34e3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMDoxMzoyN1rOGXw5-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMDoxMzoyN1rOGXw5-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU3MTcwNQ==", "bodyText": "Instead of using this magic number, what about using Session.DEFAULT_HEARTBEAT_TIMEOUT_MULTIPLIER in this test?", "url": "https://github.com/quickfix-j/quickfixj/pull/288#discussion_r427571705", "createdAt": "2020-05-19T20:13:27Z", "author": {"login": "chrjohn"}, "path": "quickfixj-core/src/test/java/quickfix/SessionTest.java", "diffHunk": "@@ -101,7 +101,7 @@ public void testDisposalOfFileResources() throws Exception {\n                 new DefaultMessageFactory(), 30, false, 30, UtcTimestampPrecision.MILLIS, true, false,\n                 false, false, false, false, true, false, 1.5, null, true,\n                 new int[] { 5 }, false, false, false, false, true, false, true, false,\n-                null, true, 0, false, false, true, new ArrayList<>())) {\n+                null, true, 0, false, false, true, new ArrayList<>(), 1.4)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "810ba9d4486753ddd7426d3bd4c90899824b34e3"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42aea7beb1565d406f146f54cf8a93a8e6bc149f", "author": {"user": {"login": "the-thing", "name": "Marcin L"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/42aea7beb1565d406f146f54cf8a93a8e6bc149f", "committedDate": "2020-05-19T20:27:19Z", "message": "QFJ-375 - replaced heartbeat timeout multiplier magic number with default value in unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8cf88c295e96b8e49701775b2ba5238674e556d4", "author": {"user": {"login": "the-thing", "name": "Marcin L"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/8cf88c295e96b8e49701775b2ba5238674e556d4", "committedDate": "2020-05-19T20:20:40Z", "message": "QFJ-375 - replaced heartbeat timeout multiplier magic number with default value in unit test"}, "afterCommit": {"oid": "42aea7beb1565d406f146f54cf8a93a8e6bc149f", "author": {"user": {"login": "the-thing", "name": "Marcin L"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/42aea7beb1565d406f146f54cf8a93a8e6bc149f", "committedDate": "2020-05-19T20:27:19Z", "message": "QFJ-375 - replaced heartbeat timeout multiplier magic number with default value in unit test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0ODAyNzI4", "url": "https://github.com/quickfix-j/quickfixj/pull/288#pullrequestreview-414802728", "createdAt": "2020-05-19T20:35:35Z", "commit": {"oid": "42aea7beb1565d406f146f54cf8a93a8e6bc149f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3102, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}