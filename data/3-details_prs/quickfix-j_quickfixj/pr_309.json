{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1NzgxOTk3", "number": 309, "title": "QFJ-456 - NetworkingOptions should be applied before the socket is connected", "bodyText": "As mentioned in the original JIRA certain socket options set after org.apache.mina.core.service.IoHandlerAdapter#sessionOpened event might not be configured properly as they require to be set before call to listen() or connect() e.g. SO_REUSEADDR, SO_RCVBUF.\nChanges\n\nquickfix.mina.NetworkingOptions will be applied before sockets around bound.\n\nThis chagne makes \"SocketReceiveBufferSize\" configuration TCP handshake advertisement correct and it will allow finer tweaking based on network capacity, system requirements etc.\nIncreasing the \"SocketReceiveBufferSize\" above 64KB was working correct for initiators already, but was fixed as part of https://issues.apache.org/jira/projects/DIRMINA/issues/DIRMINA-1123 for acceptors.\nPlease be aware that there is still an issue for initiators when setting \"SocketReceiveBufferSize\" below 65536 which will still use default os values.\nhttps://github.com/apache/mina/blob/faf9e5cdaf40da3a816f789bd27c95e2f3b4d354/mina-core/src/main/java/org/apache/mina/transport/socket/nio/NioSocketConnector.java#L245", "createdAt": "2020-08-29T14:11:26Z", "url": "https://github.com/quickfix-j/quickfixj/pull/309", "merged": true, "mergeCommit": {"oid": "f183ea82da6b1a408805378ad6b319a64a7dcddb"}, "closed": true, "closedAt": "2020-08-31T09:21:36Z", "author": {"login": "the-thing"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdDoQZLgH2gAyNDc1NzgxOTk3OmJlZmJiZTE5YzFlNDU2YjhkYzA4NjBiNDFmNDc4ZDI4NDQ4ZjhhZjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEPRqYAFqTQ3ODQ1MTc0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "befbbe19c1e456b8dc0860b41f478d28448f8af7", "author": {"user": {"login": "the-thing", "name": "Marcin L"}}, "url": "https://github.com/quickfix-j/quickfixj/commit/befbbe19c1e456b8dc0860b41f478d28448f8af7", "committedDate": "2020-08-29T11:53:07Z", "message": "applying network options before session is connected"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MjQ1NDM0", "url": "https://github.com/quickfix-j/quickfixj/pull/309#pullrequestreview-478245434", "createdAt": "2020-08-30T23:40:58Z", "commit": {"oid": "befbbe19c1e456b8dc0860b41f478d28448f8af7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQyMzo0MDo1OVrOHJmi9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQyMzo0MDo1OVrOHJmi9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgzMDc3Mw==", "bodyText": "Is there a specific reason to remove the thrown Exception from the method signature? Just asking because it remains on the other methods.", "url": "https://github.com/quickfix-j/quickfixj/pull/309#discussion_r479830773", "createdAt": "2020-08-30T23:40:59Z", "author": {"login": "chrjohn"}, "path": "quickfixj-core/src/main/java/quickfix/mina/AbstractIoHandler.java", "diffHunk": "@@ -102,13 +102,7 @@ public void exceptionCaught(IoSession ioSession, Throwable cause) throws Excepti\n     }\n \n     @Override\n-    public void sessionCreated(IoSession ioSession) throws Exception {\n-        super.sessionCreated(ioSession);\n-        networkingOptions.apply(ioSession);\n-    }\n-\n-    @Override\n-    public void sessionClosed(IoSession ioSession) throws Exception {\n+    public void sessionClosed(IoSession ioSession) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "befbbe19c1e456b8dc0860b41f478d28448f8af7"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NDUxNzQ5", "url": "https://github.com/quickfix-j/quickfixj/pull/309#pullrequestreview-478451749", "createdAt": "2020-08-31T09:20:48Z", "commit": {"oid": "befbbe19c1e456b8dc0860b41f478d28448f8af7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3120, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}