{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3NjA4Nzkw", "number": 4145, "reviewThreads": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMToyMzoyN1rOE9wywA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTo0MzoyOFrOE9w_fA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTk4MDE2OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-client/src/main/java/org/odpi/openmetadata/adminservices/client/OMAGServerPlatformConfigurationClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMToyMzoyN1rOH6nlXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMToxNzowMVrOH66ogQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyNzk5Nw==", "bodyText": "This is a confusing name since the server configurations are not stored in the platform.  They are managed by the config store connector.  This may be being shared by multiple platforms (for example when we run multiple servers in IntelliJ, all of the configuration is visible to all platforms).  A better name would be getAllServerConfigurations() since it spells out configuration to match the other methods in this module and does not imply that these configurations are tied to the platform.", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531227997", "createdAt": "2020-11-26T21:23:27Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-client/src/main/java/org/odpi/openmetadata/adminservices/client/OMAGServerPlatformConfigurationClient.java", "diffHunk": "@@ -252,4 +256,25 @@ public Connection getPlatformSecurityConnection() throws OMAGNotAuthorizedExcept\n \n         return restResult.getConnection();\n     }\n+\n+    /**\n+     * Return all the the OMAG Server configurations that are stored on this platform\n+     *\n+     * @return the OMAG Server configurations that are stored on this platform\n+     * @throws OMAGNotAuthorizedException the supplied userId is not authorized to issue this command.\n+     * @throws OMAGInvalidParameterException invalid parameter.\n+     * @throws OMAGConfigurationErrorException unusual state in the admin server.\n+     */\n+    public Set<OMAGServerConfig> getPlatformServerConfigs() throws OMAGNotAuthorizedException,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7f6edd4c868092323b160e17437bd8b91ec97db"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTU0MDA5Nw==", "bodyText": "OK Changing", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531540097", "createdAt": "2020-11-27T11:17:01Z", "author": {"login": "davidradl"}, "path": "open-metadata-implementation/admin-services/admin-services-client/src/main/java/org/odpi/openmetadata/adminservices/client/OMAGServerPlatformConfigurationClient.java", "diffHunk": "@@ -252,4 +256,25 @@ public Connection getPlatformSecurityConnection() throws OMAGNotAuthorizedExcept\n \n         return restResult.getConnection();\n     }\n+\n+    /**\n+     * Return all the the OMAG Server configurations that are stored on this platform\n+     *\n+     * @return the OMAG Server configurations that are stored on this platform\n+     * @throws OMAGNotAuthorizedException the supplied userId is not authorized to issue this command.\n+     * @throws OMAGInvalidParameterException invalid parameter.\n+     * @throws OMAGConfigurationErrorException unusual state in the admin server.\n+     */\n+    public Set<OMAGServerConfig> getPlatformServerConfigs() throws OMAGNotAuthorizedException,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyNzk5Nw=="}, "originalCommit": {"oid": "d7f6edd4c868092323b160e17437bd8b91ec97db"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTk4MDQzOnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-client/src/main/java/org/odpi/openmetadata/adminservices/client/OMAGServerPlatformConfigurationClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMToyMzozOVrOH6nlgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMToxNzoxM1rOH66o4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyODAzMw==", "bodyText": "Code formatting", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531228033", "createdAt": "2020-11-26T21:23:39Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-client/src/main/java/org/odpi/openmetadata/adminservices/client/OMAGServerPlatformConfigurationClient.java", "diffHunk": "@@ -252,4 +256,25 @@ public Connection getPlatformSecurityConnection() throws OMAGNotAuthorizedExcept\n \n         return restResult.getConnection();\n     }\n+\n+    /**\n+     * Return all the the OMAG Server configurations that are stored on this platform\n+     *\n+     * @return the OMAG Server configurations that are stored on this platform\n+     * @throws OMAGNotAuthorizedException the supplied userId is not authorized to issue this command.\n+     * @throws OMAGInvalidParameterException invalid parameter.\n+     * @throws OMAGConfigurationErrorException unusual state in the admin server.\n+     */\n+    public Set<OMAGServerConfig> getPlatformServerConfigs() throws OMAGNotAuthorizedException,\n+                                                                   OMAGConfigurationErrorException,\n+                                                                   OMAGInvalidParameterException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7f6edd4c868092323b160e17437bd8b91ec97db"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTU0MDE5Mg==", "bodyText": "changing", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531540192", "createdAt": "2020-11-27T11:17:13Z", "author": {"login": "davidradl"}, "path": "open-metadata-implementation/admin-services/admin-services-client/src/main/java/org/odpi/openmetadata/adminservices/client/OMAGServerPlatformConfigurationClient.java", "diffHunk": "@@ -252,4 +256,25 @@ public Connection getPlatformSecurityConnection() throws OMAGNotAuthorizedExcept\n \n         return restResult.getConnection();\n     }\n+\n+    /**\n+     * Return all the the OMAG Server configurations that are stored on this platform\n+     *\n+     * @return the OMAG Server configurations that are stored on this platform\n+     * @throws OMAGNotAuthorizedException the supplied userId is not authorized to issue this command.\n+     * @throws OMAGInvalidParameterException invalid parameter.\n+     * @throws OMAGConfigurationErrorException unusual state in the admin server.\n+     */\n+    public Set<OMAGServerConfig> getPlatformServerConfigs() throws OMAGNotAuthorizedException,\n+                                                                   OMAGConfigurationErrorException,\n+                                                                   OMAGInvalidParameterException {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyODAzMw=="}, "originalCommit": {"oid": "d7f6edd4c868092323b160e17437bd8b91ec97db"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTk4MzI5OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/adapters/open-connectors/configuration-store-connectors/configuration-encrypted-file-store-connector/src/main/java/org/odpi/openmetadata/adapters/adminservices/configurationstore/encryptedfile/DocStoreErrorCode.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMToyNTowNlrOH6nnBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNzoyODo1OFrOH7E_Zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyODQyMg==", "bodyText": "Would be useful to include the name of the directory/file it was trying to access.", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531228422", "createdAt": "2020-11-26T21:25:06Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/adapters/open-connectors/configuration-store-connectors/configuration-encrypted-file-store-connector/src/main/java/org/odpi/openmetadata/adapters/adminservices/configurationstore/encryptedfile/DocStoreErrorCode.java", "diffHunk": "@@ -78,6 +78,10 @@\n             \"Unable to delete the encrypted configuration file {0}; exception was {1} with message {2}.\",\n             \"The system was unable to delete the encrypted configuration file.\",\n             \"Review the full stack trace in the logs to troubleshoot further. Then retry the request.\"),\n+    CONFIG_RETRIEVE_ALL_ERROR(400, \"ENCRYPTED-DOC-STORE-400-014 \",\n+                        \"Unable to retrieve the encrypted configuration files; exception was {0} with message {1}.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcwOTc5OA==", "bodyText": "added", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531709798", "createdAt": "2020-11-27T17:28:58Z", "author": {"login": "davidradl"}, "path": "open-metadata-implementation/adapters/open-connectors/configuration-store-connectors/configuration-encrypted-file-store-connector/src/main/java/org/odpi/openmetadata/adapters/adminservices/configurationstore/encryptedfile/DocStoreErrorCode.java", "diffHunk": "@@ -78,6 +78,10 @@\n             \"Unable to delete the encrypted configuration file {0}; exception was {1} with message {2}.\",\n             \"The system was unable to delete the encrypted configuration file.\",\n             \"Review the full stack trace in the logs to troubleshoot further. Then retry the request.\"),\n+    CONFIG_RETRIEVE_ALL_ERROR(400, \"ENCRYPTED-DOC-STORE-400-014 \",\n+                        \"Unable to retrieve the encrypted configuration files; exception was {0} with message {1}.\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyODQyMg=="}, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTk4ODQ3OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/adapters/open-connectors/configuration-store-connectors/configuration-file-store-connector/src/main/java/org/odpi/openmetadata/adapters/adminservices/configurationstore/file/DocStoreErrorCode.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMToyODozMVrOH6np6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNzoyODo1MFrOH7E_QQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyOTE2MQ==", "bodyText": "Again add the directory / file name that is not accessible.  Also a message id prefix such as \"FILE-CONFIG-DOC-STORE\"\nwould be much more helpful to identify that is this a configuration document store that uses files - not any old document store.", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531229161", "createdAt": "2020-11-26T21:28:31Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/adapters/open-connectors/configuration-store-connectors/configuration-file-store-connector/src/main/java/org/odpi/openmetadata/adapters/adminservices/configurationstore/file/DocStoreErrorCode.java", "diffHunk": "@@ -0,0 +1,97 @@\n+/* SPDX-License-Identifier: Apache-2.0 */\n+/* Copyright Contributors to the ODPi Egeria project. */\n+package org.odpi.openmetadata.adapters.adminservices.configurationstore.file;\n+\n+import org.odpi.openmetadata.frameworks.auditlog.messagesets.ExceptionMessageDefinition;\n+import org.odpi.openmetadata.frameworks.auditlog.messagesets.ExceptionMessageSet;\n+\n+/**\n+ * The DocStoreErrorCode is used to define first failure data capture (FFDC) for errors that occur when working with\n+ * the unencrypted file based doc store.  It is used in conjunction with all Exceptions, both Checked and Runtime (unchecked).\n+ *\n+ * The 5 fields in the enum are:\n+ * <ul>\n+ *     <li>HTTP Error Code for translating between REST and JAVA - Typically the numbers used are:</li>\n+ *     <li><ul>\n+ *         <li>500 - internal error</li>\n+ *         <li>400 - invalid parameters</li>\n+ *         <li>404 - not found</li>\n+ *         <li>409 - data conflict errors - eg item already defined</li>\n+ *     </ul></li>\n+ *     <li>Error Message Id - to uniquely identify the message</li>\n+ *     <li>Error Message Text - includes placeholder to allow additional values to be captured</li>\n+ *     <li>SystemAction - describes the result of the error</li>\n+ *     <li>UserAction - describes how a user should correct the error</li>\n+ * </ul>\n+ */\n+public enum DocStoreErrorCode implements ExceptionMessageSet\n+{\n+    CONFIG_RETRIEVE_ALL_ERROR(400, \"UNENCRYPTED-DOC-STORE-400-001 \",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcwOTc2MQ==", "bodyText": "done", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531709761", "createdAt": "2020-11-27T17:28:50Z", "author": {"login": "davidradl"}, "path": "open-metadata-implementation/adapters/open-connectors/configuration-store-connectors/configuration-file-store-connector/src/main/java/org/odpi/openmetadata/adapters/adminservices/configurationstore/file/DocStoreErrorCode.java", "diffHunk": "@@ -0,0 +1,97 @@\n+/* SPDX-License-Identifier: Apache-2.0 */\n+/* Copyright Contributors to the ODPi Egeria project. */\n+package org.odpi.openmetadata.adapters.adminservices.configurationstore.file;\n+\n+import org.odpi.openmetadata.frameworks.auditlog.messagesets.ExceptionMessageDefinition;\n+import org.odpi.openmetadata.frameworks.auditlog.messagesets.ExceptionMessageSet;\n+\n+/**\n+ * The DocStoreErrorCode is used to define first failure data capture (FFDC) for errors that occur when working with\n+ * the unencrypted file based doc store.  It is used in conjunction with all Exceptions, both Checked and Runtime (unchecked).\n+ *\n+ * The 5 fields in the enum are:\n+ * <ul>\n+ *     <li>HTTP Error Code for translating between REST and JAVA - Typically the numbers used are:</li>\n+ *     <li><ul>\n+ *         <li>500 - internal error</li>\n+ *         <li>400 - invalid parameters</li>\n+ *         <li>404 - not found</li>\n+ *         <li>409 - data conflict errors - eg item already defined</li>\n+ *     </ul></li>\n+ *     <li>Error Message Id - to uniquely identify the message</li>\n+ *     <li>Error Message Text - includes placeholder to allow additional values to be captured</li>\n+ *     <li>SystemAction - describes the result of the error</li>\n+ *     <li>UserAction - describes how a user should correct the error</li>\n+ * </ul>\n+ */\n+public enum DocStoreErrorCode implements ExceptionMessageSet\n+{\n+    CONFIG_RETRIEVE_ALL_ERROR(400, \"UNENCRYPTED-DOC-STORE-400-001 \",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyOTE2MQ=="}, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTk5MDY3OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/adapters/open-connectors/configuration-store-connectors/configuration-file-store-connector/src/main/java/org/odpi/openmetadata/adapters/adminservices/configurationstore/file/FileBasedServerConfigStoreConnector.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozMDowMVrOH6nrCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNzoyODozN1rOH7E-5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyOTQ1MA==", "bodyText": "Code formatting\nCan not just test for files that end in config - need to use the file formatting string.", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531229450", "createdAt": "2020-11-26T21:30:01Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/adapters/open-connectors/configuration-store-connectors/configuration-file-store-connector/src/main/java/org/odpi/openmetadata/adapters/adminservices/configurationstore/file/FileBasedServerConfigStoreConnector.java", "diffHunk": "@@ -144,7 +153,27 @@ public void removeServerConfig()\n \n         configStoreFile.delete();\n     }\n-\n+    @Override\n+    public Set<OMAGServerConfig> retrieveAllServerConfigs() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTU0MDQ2MQ==", "bodyText": "Good spot -I was not aware of that.", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531540461", "createdAt": "2020-11-27T11:17:50Z", "author": {"login": "davidradl"}, "path": "open-metadata-implementation/adapters/open-connectors/configuration-store-connectors/configuration-file-store-connector/src/main/java/org/odpi/openmetadata/adapters/adminservices/configurationstore/file/FileBasedServerConfigStoreConnector.java", "diffHunk": "@@ -144,7 +153,27 @@ public void removeServerConfig()\n \n         configStoreFile.delete();\n     }\n-\n+    @Override\n+    public Set<OMAGServerConfig> retrieveAllServerConfigs() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyOTQ1MA=="}, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcwOTY3MA==", "bodyText": "changed the code to use the formatting.", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531709670", "createdAt": "2020-11-27T17:28:37Z", "author": {"login": "davidradl"}, "path": "open-metadata-implementation/adapters/open-connectors/configuration-store-connectors/configuration-file-store-connector/src/main/java/org/odpi/openmetadata/adapters/adminservices/configurationstore/file/FileBasedServerConfigStoreConnector.java", "diffHunk": "@@ -144,7 +153,27 @@ public void removeServerConfig()\n \n         configStoreFile.delete();\n     }\n-\n+    @Override\n+    public Set<OMAGServerConfig> retrieveAllServerConfigs() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyOTQ1MA=="}, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTk5MzMzOnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/ffdc/OMAGAdminErrorCode.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozMToyOFrOH6nsWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozMToyOFrOH6nsWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyOTc4NA==", "bodyText": "... what is not supporting this command?", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531229784", "createdAt": "2020-11-26T21:31:28Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/ffdc/OMAGAdminErrorCode.java", "diffHunk": "@@ -299,6 +299,15 @@\n                           \"The view service has not been passed valid configuration.\",\n                           \"Check whether the view service expects SolutionViewServiceConfiguration or IntegrationViewServiceConfiguration, correct the configuration and restart the server.\"),\n \n+    RETRIEVE_ALL_CONFIGS_NOT_SUPPORTED(400, \"OMAG-ADMIN-400-043\",\n+                        \"A retrieve all configurations has been attempted, but operation is not supported.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTk5Mzk5OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/ffdc/OMAGAdminErrorCode.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozMTo1N1rOH6nssQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozMTo1N1rOH6nssQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyOTg3Mw==", "bodyText": "What has rejected this operation?", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531229873", "createdAt": "2020-11-26T21:31:57Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/ffdc/OMAGAdminErrorCode.java", "diffHunk": "@@ -299,6 +299,15 @@\n                           \"The view service has not been passed valid configuration.\",\n                           \"Check whether the view service expects SolutionViewServiceConfiguration or IntegrationViewServiceConfiguration, correct the configuration and restart the server.\"),\n \n+    RETRIEVE_ALL_CONFIGS_NOT_SUPPORTED(400, \"OMAG-ADMIN-400-043\",\n+                        \"A retrieve all configurations has been attempted, but operation is not supported.\",\n+                        \"The retrieve all server configurations operation is rejected.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTk5NDU1OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/ffdc/OMAGAdminErrorCode.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozMjoxNFrOH6ns_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozMjoxNFrOH6ns_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyOTk1MQ==", "bodyText": "What do you do when you have checked?", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531229951", "createdAt": "2020-11-26T21:32:14Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/ffdc/OMAGAdminErrorCode.java", "diffHunk": "@@ -299,6 +299,15 @@\n                           \"The view service has not been passed valid configuration.\",\n                           \"Check whether the view service expects SolutionViewServiceConfiguration or IntegrationViewServiceConfiguration, correct the configuration and restart the server.\"),\n \n+    RETRIEVE_ALL_CONFIGS_NOT_SUPPORTED(400, \"OMAG-ADMIN-400-043\",\n+                        \"A retrieve all configurations has been attempted, but operation is not supported.\",\n+                        \"The retrieve all server configurations operation is rejected.\",\n+                        \"Check whether OMAG Server configuration connector supports retrieve all configurations.\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTk5NjI0OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/ffdc/OMAGAdminErrorCode.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozMzozM1rOH6nt5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozMzozM1rOH6nt5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMDE4Mw==", "bodyText": "Typo in atored.\nWhat is the error?", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531230183", "createdAt": "2020-11-26T21:33:33Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/ffdc/OMAGAdminErrorCode.java", "diffHunk": "@@ -299,6 +299,15 @@\n                           \"The view service has not been passed valid configuration.\",\n                           \"Check whether the view service expects SolutionViewServiceConfiguration or IntegrationViewServiceConfiguration, correct the configuration and restart the server.\"),\n \n+    RETRIEVE_ALL_CONFIGS_NOT_SUPPORTED(400, \"OMAG-ADMIN-400-043\",\n+                        \"A retrieve all configurations has been attempted, but operation is not supported.\",\n+                        \"The retrieve all server configurations operation is rejected.\",\n+                        \"Check whether OMAG Server configuration connector supports retrieve all configurations.\"),\n+    UNABLE_TO_OBTAIN_SERVER_CONFIG_STORE(400, \"OMAG-ADMIN-400-044\",\n+                                         \"User {0} has attempted to obtain a server config store to be able to retrieve the OMAG server atored configurations but an error occurred.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTk5NzAxOnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/ffdc/OMAGAdminErrorCode.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozNDowMlrOH6nuUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozNDowMlrOH6nuUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMDI4OA==", "bodyText": "Is it the store or is it the connector that can not be obtained?", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531230288", "createdAt": "2020-11-26T21:34:02Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/ffdc/OMAGAdminErrorCode.java", "diffHunk": "@@ -299,6 +299,15 @@\n                           \"The view service has not been passed valid configuration.\",\n                           \"Check whether the view service expects SolutionViewServiceConfiguration or IntegrationViewServiceConfiguration, correct the configuration and restart the server.\"),\n \n+    RETRIEVE_ALL_CONFIGS_NOT_SUPPORTED(400, \"OMAG-ADMIN-400-043\",\n+                        \"A retrieve all configurations has been attempted, but operation is not supported.\",\n+                        \"The retrieve all server configurations operation is rejected.\",\n+                        \"Check whether OMAG Server configuration connector supports retrieve all configurations.\"),\n+    UNABLE_TO_OBTAIN_SERVER_CONFIG_STORE(400, \"OMAG-ADMIN-400-044\",\n+                                         \"User {0} has attempted to obtain a server config store to be able to retrieve the OMAG server atored configurations but an error occurred.\",\n+                                         \"The retrieve all server configurations operation is rejected, as the OMAG Server Configuration store could not be obtained.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTk5OTQ0OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/rest/OMAGServerConfigsResponse.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozNToxNFrOH6nvjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozNToxNFrOH6nvjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMDYwNw==", "bodyText": "All other methods in this module use Lists rather than Sets.   Lists have an advantage in that they have an order and that creates a consistency in operation.", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531230607", "createdAt": "2020-11-26T21:35:14Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/rest/OMAGServerConfigsResponse.java", "diffHunk": "@@ -0,0 +1,130 @@\n+/* SPDX-License-Identifier: Apache-2.0 */\n+/* Copyright Contributors to the ODPi Egeria project. */\n+package org.odpi.openmetadata.adminservices.rest;\n+\n+import com.fasterxml.jackson.annotation.JsonAutoDetect;\n+import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n+import com.fasterxml.jackson.annotation.JsonInclude;\n+import org.odpi.openmetadata.adminservices.configuration.properties.OMAGServerConfig;\n+\n+import java.util.Arrays;\n+import java.util.Objects;\n+import java.util.Set;\n+\n+import static com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility.NONE;\n+import static com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility.PUBLIC_ONLY;\n+\n+\n+/**\n+ * OMAGServerConfigsResponse is the response structure used on the OMAG REST API calls that returns a set of\n+ * OMAGServerConfig objects as a response.\n+ */\n+@JsonAutoDetect(getterVisibility=PUBLIC_ONLY, setterVisibility=PUBLIC_ONLY, fieldVisibility=NONE)\n+@JsonInclude(JsonInclude.Include.NON_NULL)\n+@JsonIgnoreProperties(ignoreUnknown=true)\n+public class OMAGServerConfigsResponse extends AdminServicesAPIResponse\n+{\n+    private static final long    serialVersionUID = 1L;\n+\n+    private Set<OMAGServerConfig> serverConfigs = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMjAwMDk5OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/rest/OMAGServerConfigsResponse.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozNjoxM1rOH6nwbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozNjoxM1rOH6nwbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMDgzMA==", "bodyText": "Need to test for empty set and return null.  The current logic is just returning the server configs irrespective of value", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531230830", "createdAt": "2020-11-26T21:36:13Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/rest/OMAGServerConfigsResponse.java", "diffHunk": "@@ -0,0 +1,130 @@\n+/* SPDX-License-Identifier: Apache-2.0 */\n+/* Copyright Contributors to the ODPi Egeria project. */\n+package org.odpi.openmetadata.adminservices.rest;\n+\n+import com.fasterxml.jackson.annotation.JsonAutoDetect;\n+import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n+import com.fasterxml.jackson.annotation.JsonInclude;\n+import org.odpi.openmetadata.adminservices.configuration.properties.OMAGServerConfig;\n+\n+import java.util.Arrays;\n+import java.util.Objects;\n+import java.util.Set;\n+\n+import static com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility.NONE;\n+import static com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility.PUBLIC_ONLY;\n+\n+\n+/**\n+ * OMAGServerConfigsResponse is the response structure used on the OMAG REST API calls that returns a set of\n+ * OMAGServerConfig objects as a response.\n+ */\n+@JsonAutoDetect(getterVisibility=PUBLIC_ONLY, setterVisibility=PUBLIC_ONLY, fieldVisibility=NONE)\n+@JsonInclude(JsonInclude.Include.NON_NULL)\n+@JsonIgnoreProperties(ignoreUnknown=true)\n+public class OMAGServerConfigsResponse extends AdminServicesAPIResponse\n+{\n+    private static final long    serialVersionUID = 1L;\n+\n+    private Set<OMAGServerConfig> serverConfigs = null;\n+\n+\n+    /**\n+     * Default constructor\n+     */\n+    public OMAGServerConfigsResponse()\n+    {\n+    }\n+\n+\n+    /**\n+     * Return the OMAGServerConfig objects.\n+     *\n+     * @return OMAGServerConfig objects\n+     */\n+    public Set<OMAGServerConfig> getOMAGServerConfigs()\n+    {\n+        if (serverConfigs == null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMjAwMjU5OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/store/OMAGServerConfigStoreRetrieveAll.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozNzoxMVrOH6nxUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozNzoxMVrOH6nxUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMTA1OQ==", "bodyText": "This name does not match the name of the interface.", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531231059", "createdAt": "2020-11-26T21:37:11Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-api/src/main/java/org/odpi/openmetadata/adminservices/store/OMAGServerConfigStoreRetrieveAll.java", "diffHunk": "@@ -0,0 +1,26 @@\n+/* SPDX-License-Identifier: Apache-2.0 */\n+/* Copyright Contributors to the ODPi Egeria project. */\n+package org.odpi.openmetadata.adminservices.store;\n+\n+import org.odpi.openmetadata.adminservices.configuration.properties.OMAGServerConfig;\n+import org.odpi.openmetadata.adminservices.ffdc.exception.OMAGInvalidParameterException;\n+import org.odpi.openmetadata.adminservices.ffdc.exception.OMAGNotAuthorizedException;\n+\n+import java.util.Set;\n+\n+/**\n+ * OMAGServerConfigStoreQueryAll provides a method to retrieve all the stored servers. It is an extension to the OMAGServerConfigStore interface", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMjAwMzAxOnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-server/src/main/java/org/odpi/openmetadata/adminservices/OMAGServerAdminServices.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozNzozMVrOH6nxjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozNzozMVrOH6nxjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMTExOA==", "bodyText": "Formatting", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531231118", "createdAt": "2020-11-26T21:37:31Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-server/src/main/java/org/odpi/openmetadata/adminservices/OMAGServerAdminServices.java", "diffHunk": "@@ -3088,6 +3091,36 @@ public OMAGServerConfigResponse getStoredConfiguration(String userId,\n \n         return response;\n     }\n+    /**\n+     * Return the stored configuration documents stored on the platform\n+     *\n+     * @param userId  user that is issuing the request\n+     * @return OMAGServerConfigs properties or\n+     * OMAGNotAuthorizedException the supplied userId is not authorized to issue this command or\n+     * OMAGInvalidParameterException invalid parameter occurred while processing.\n+     */\n+    public OMAGServerConfigsResponse retrieveAllServerConfigs(String userId) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMjAwNDk1OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-server/src/main/java/org/odpi/openmetadata/adminservices/OMAGServerAdminStoreServices.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozODo1MFrOH6nynA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozODo1MFrOH6nynA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMTM4OA==", "bodyText": "Seems that the retrieve all connector should be a different type of connector to the existing configuration store", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531231388", "createdAt": "2020-11-26T21:38:50Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-server/src/main/java/org/odpi/openmetadata/adminservices/OMAGServerAdminStoreServices.java", "diffHunk": "@@ -215,6 +242,58 @@ private OMAGServerConfigStore getServerConfigStore(String   serverName,\n                                                     error);\n         }\n     }\n+    /**\n+     * Retrieve the connection to the config files.\n+     *\n+     * @param methodName  method requesting the server details\n+     * @return configuration connector file\n+     * @throws OMAGConfigurationErrorException A connection error occurred while attempting to access the server config store.\n+     */\n+    private OMAGServerConfigStoreRetrieveAll getServerConfigStoreForRetrieveAll(\n+                                                       String   methodName) throws OMAGConfigurationErrorException\n+    {\n+        Connection   connection = this.getConnectionForRetrieveAll();\n+\n+        try\n+        {\n+            ConnectorBroker connectorBroker = new ConnectorBroker();\n+\n+            Connector connector = connectorBroker.getConnector(connection);\n+\n+            OMAGServerConfigStore serverConfigStore = (OMAGServerConfigStore) connector;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 81}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMjAwNTI0OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-server/src/main/java/org/odpi/openmetadata/adminservices/OMAGServerAdminStoreServices.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozOTowMlrOH6nywg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozOTowMlrOH6nywg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMTQyNg==", "bodyText": "Typo", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531231426", "createdAt": "2020-11-26T21:39:02Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-server/src/main/java/org/odpi/openmetadata/adminservices/OMAGServerAdminStoreServices.java", "diffHunk": "@@ -215,6 +242,58 @@ private OMAGServerConfigStore getServerConfigStore(String   serverName,\n                                                     error);\n         }\n     }\n+    /**\n+     * Retrieve the connection to the config files.\n+     *\n+     * @param methodName  method requesting the server details\n+     * @return configuration connector file\n+     * @throws OMAGConfigurationErrorException A connection error occurred while attempting to access the server config store.\n+     */\n+    private OMAGServerConfigStoreRetrieveAll getServerConfigStoreForRetrieveAll(\n+                                                       String   methodName) throws OMAGConfigurationErrorException\n+    {\n+        Connection   connection = this.getConnectionForRetrieveAll();\n+\n+        try\n+        {\n+            ConnectorBroker connectorBroker = new ConnectorBroker();\n+\n+            Connector connector = connectorBroker.getConnector(connection);\n+\n+            OMAGServerConfigStore serverConfigStore = (OMAGServerConfigStore) connector;\n+\n+            connector.start();\n+            return getOMAGServerConfigStoreRetrieveAll(serverConfigStore, methodName);\n+        }\n+        catch (Throwable   error)\n+        {\n+            throw new OMAGConfigurationErrorException(OMAGAdminErrorCode.UNABLE_TO_OBTAIN_SERVER_CONFIG_STORE.getMessageDefinition(methodName,\n+                                                                                                            error.getClass().getName(),\n+                                                                                                            error.getMessage()),\n+                                                    this.getClass().getName(),\n+                                                    methodName,\n+                                                    error);\n+        }\n+    }\n+\n+    /**\n+     * Get hte OMAG Server Config store for retrieving all the server configurations associated with this platform", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 98}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMjAwNTQ0OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-server/src/main/java/org/odpi/openmetadata/adminservices/OMAGServerAdminStoreServices.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozOToxNVrOH6ny4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozOToxNVrOH6ny4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMTQ1OQ==", "bodyText": "Code formatting", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531231459", "createdAt": "2020-11-26T21:39:15Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-server/src/main/java/org/odpi/openmetadata/adminservices/OMAGServerAdminStoreServices.java", "diffHunk": "@@ -215,6 +242,58 @@ private OMAGServerConfigStore getServerConfigStore(String   serverName,\n                                                     error);\n         }\n     }\n+    /**\n+     * Retrieve the connection to the config files.\n+     *\n+     * @param methodName  method requesting the server details\n+     * @return configuration connector file\n+     * @throws OMAGConfigurationErrorException A connection error occurred while attempting to access the server config store.\n+     */\n+    private OMAGServerConfigStoreRetrieveAll getServerConfigStoreForRetrieveAll(\n+                                                       String   methodName) throws OMAGConfigurationErrorException\n+    {\n+        Connection   connection = this.getConnectionForRetrieveAll();\n+\n+        try\n+        {\n+            ConnectorBroker connectorBroker = new ConnectorBroker();\n+\n+            Connector connector = connectorBroker.getConnector(connection);\n+\n+            OMAGServerConfigStore serverConfigStore = (OMAGServerConfigStore) connector;\n+\n+            connector.start();\n+            return getOMAGServerConfigStoreRetrieveAll(serverConfigStore, methodName);\n+        }\n+        catch (Throwable   error)\n+        {\n+            throw new OMAGConfigurationErrorException(OMAGAdminErrorCode.UNABLE_TO_OBTAIN_SERVER_CONFIG_STORE.getMessageDefinition(methodName,\n+                                                                                                            error.getClass().getName(),\n+                                                                                                            error.getMessage()),\n+                                                    this.getClass().getName(),\n+                                                    methodName,\n+                                                    error);\n+        }\n+    }\n+\n+    /**\n+     * Get hte OMAG Server Config store for retrieving all the server configurations associated with this platform\n+     * @param serverConfigStore the server config store- note this may not support this operations\n+     * @param methodName current operation\n+     * @return the store to use for the retrieve all server configurations\n+     * @throws OMAGConfigurationErrorException the store does not support the retrieve all configured servers for this platform operation\n+     */\n+    OMAGServerConfigStoreRetrieveAll getOMAGServerConfigStoreRetrieveAll(OMAGServerConfigStore serverConfigStore, String  methodName) throws OMAGConfigurationErrorException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 104}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMjAwNjEyOnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-server/src/main/java/org/odpi/openmetadata/adminservices/OMAGServerAdminStoreServices.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozOTozMVrOH6nzNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozOTozMVrOH6nzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMTU0Mw==", "bodyText": "Code formatting", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531231543", "createdAt": "2020-11-26T21:39:31Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-server/src/main/java/org/odpi/openmetadata/adminservices/OMAGServerAdminStoreServices.java", "diffHunk": "@@ -344,6 +423,22 @@ void saveServerConfig(String            serverName,\n         }\n     }\n \n+    /**\n+     * Retrieve all the saved OMAG Server configurations for this platform.\n+     *\n+     * @param userId calling user\n+     * @param methodName  method requesting the servers details\n+     * @return  a set of OMAG Server configurations\n+     * @throws OMAGConfigurationErrorException the OMAG Server configuration connector defined in configuration does not support retrieve all servers call.\n+     */\n+    Set<OMAGServerConfig> retrieveAllServerConfigs(String   userId,\n+                                              String   methodName) throws OMAGConfigurationErrorException, OMAGInvalidParameterException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 131}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMjAwNjcxOnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-server/src/test/java/org/odpi/openmetadata/adminservices/TestOMAGServerAdminStoreServices.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTozOTo0OVrOH6nzgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNzoyMjoyOFrOH7E3tQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMTYxNw==", "bodyText": "Code formatting", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531231617", "createdAt": "2020-11-26T21:39:49Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-server/src/test/java/org/odpi/openmetadata/adminservices/TestOMAGServerAdminStoreServices.java", "diffHunk": "@@ -0,0 +1,84 @@\n+/* SPDX-License-Identifier: Apache-2.0 */\n+/* Copyright Contributors to the ODPi Egeria project. */\n+package org.odpi.openmetadata.adminservices;\n+\n+import org.odpi.openmetadata.adminservices.configuration.properties.OMAGServerConfig;\n+import org.odpi.openmetadata.adminservices.ffdc.exception.OMAGConfigurationErrorException;\n+import org.odpi.openmetadata.adminservices.store.OMAGServerConfigStore;\n+import org.odpi.openmetadata.adminservices.store.OMAGServerConfigStoreRetrieveAll;\n+import org.testng.annotations.Test;\n+import java.util.Set;\n+import static org.testng.FileAssert.fail;\n+\n+public class TestOMAGServerAdminStoreServices {\n+    /**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcwNzgyOQ==", "bodyText": "changed", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531707829", "createdAt": "2020-11-27T17:22:28Z", "author": {"login": "davidradl"}, "path": "open-metadata-implementation/admin-services/admin-services-server/src/test/java/org/odpi/openmetadata/adminservices/TestOMAGServerAdminStoreServices.java", "diffHunk": "@@ -0,0 +1,84 @@\n+/* SPDX-License-Identifier: Apache-2.0 */\n+/* Copyright Contributors to the ODPi Egeria project. */\n+package org.odpi.openmetadata.adminservices;\n+\n+import org.odpi.openmetadata.adminservices.configuration.properties.OMAGServerConfig;\n+import org.odpi.openmetadata.adminservices.ffdc.exception.OMAGConfigurationErrorException;\n+import org.odpi.openmetadata.adminservices.store.OMAGServerConfigStore;\n+import org.odpi.openmetadata.adminservices.store.OMAGServerConfigStoreRetrieveAll;\n+import org.testng.annotations.Test;\n+import java.util.Set;\n+import static org.testng.FileAssert.fail;\n+\n+public class TestOMAGServerAdminStoreServices {\n+    /**", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMTYxNw=="}, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMjAwODM0OnYy", "diffSide": "LEFT", "path": "open-metadata-implementation/admin-services/admin-services-spring/src/main/java/org/odpi/openmetadata/adminservices/spring/ConfigResource.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTo0MDo0OFrOH6n0Tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNzoyMjoxN1rOH7E3eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMTgyMw==", "bodyText": "Better to put the new method in a new Resource file rather than having to change all of the existing methods", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531231823", "createdAt": "2020-11-26T21:40:48Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-spring/src/main/java/org/odpi/openmetadata/adminservices/spring/ConfigResource.java", "diffHunk": "@@ -17,7 +18,7 @@\n  * configuration document is not found, a new one is created.\n  */\n @RestController\n-@RequestMapping(\"/open-metadata/admin-services/users/{userId}/servers/{serverName}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcwNzc3MA==", "bodyText": "changed", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531707770", "createdAt": "2020-11-27T17:22:17Z", "author": {"login": "davidradl"}, "path": "open-metadata-implementation/admin-services/admin-services-spring/src/main/java/org/odpi/openmetadata/adminservices/spring/ConfigResource.java", "diffHunk": "@@ -17,7 +18,7 @@\n  * configuration document is not found, a new one is created.\n  */\n @RestController\n-@RequestMapping(\"/open-metadata/admin-services/users/{userId}/servers/{serverName}\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMTgyMw=="}, "originalCommit": {"oid": "a90d70823f6ecb68d7ef2365066f60d7c66e994e"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMjAxMTI4OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-client/src/main/java/org/odpi/openmetadata/adminservices/client/OMAGServerPlatformConfigurationClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTo0MjoxOVrOH6n1yA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNzoyODozMFrOH7E-zQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMjIwMA==", "bodyText": "should not have platform in the name as the server configuration documents are not associated with a platform", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531232200", "createdAt": "2020-11-26T21:42:19Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-client/src/main/java/org/odpi/openmetadata/adminservices/client/OMAGServerPlatformConfigurationClient.java", "diffHunk": "@@ -269,7 +269,7 @@ public Connection getPlatformSecurityConnection() throws OMAGNotAuthorizedExcept\n                                                                    OMAGConfigurationErrorException,\n                                                                    OMAGInvalidParameterException {\n         final String methodName  = \"getPlatformServerConfigs\";\n-        final String urlTemplate = \"/open-metadata/admin-services/users/{0}/configurations\";\n+        final String urlTemplate = \"/open-metadata/admin-services/users/{0}/platform/server-configurations\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce1cde2177f2d3c400bb562b60d9933ebfd72ffd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcwOTY0NQ==", "bodyText": "removed the platform", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531709645", "createdAt": "2020-11-27T17:28:30Z", "author": {"login": "davidradl"}, "path": "open-metadata-implementation/admin-services/admin-services-client/src/main/java/org/odpi/openmetadata/adminservices/client/OMAGServerPlatformConfigurationClient.java", "diffHunk": "@@ -269,7 +269,7 @@ public Connection getPlatformSecurityConnection() throws OMAGNotAuthorizedExcept\n                                                                    OMAGConfigurationErrorException,\n                                                                    OMAGInvalidParameterException {\n         final String methodName  = \"getPlatformServerConfigs\";\n-        final String urlTemplate = \"/open-metadata/admin-services/users/{0}/configurations\";\n+        final String urlTemplate = \"/open-metadata/admin-services/users/{0}/platform/server-configurations\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMjIwMA=="}, "originalCommit": {"oid": "ce1cde2177f2d3c400bb562b60d9933ebfd72ffd"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMjAxMjA4OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-spring/src/main/java/org/odpi/openmetadata/adminservices/spring/ConfigResource.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTo0Mjo0NVrOH6n2Nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNzoyODowOVrOH7E-Zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMjMxMQ==", "bodyText": "Not stored in the platform.", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531232311", "createdAt": "2020-11-26T21:42:45Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-spring/src/main/java/org/odpi/openmetadata/adminservices/spring/ConfigResource.java", "diffHunk": "@@ -46,16 +46,20 @@ public OMAGServerConfigResponse getStoredConfiguration(@PathVariable String user\n         return adminAPI.getStoredConfiguration(userId, serverName);\n     }\n     /**\n-     * Return the configuration documents stored on the platform\n+     * Return the server configuration documents stored on the platform", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce1cde2177f2d3c400bb562b60d9933ebfd72ffd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcwOTU0Mg==", "bodyText": "removed this comment", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531709542", "createdAt": "2020-11-27T17:28:09Z", "author": {"login": "davidradl"}, "path": "open-metadata-implementation/admin-services/admin-services-spring/src/main/java/org/odpi/openmetadata/adminservices/spring/ConfigResource.java", "diffHunk": "@@ -46,16 +46,20 @@ public OMAGServerConfigResponse getStoredConfiguration(@PathVariable String user\n         return adminAPI.getStoredConfiguration(userId, serverName);\n     }\n     /**\n-     * Return the configuration documents stored on the platform\n+     * Return the server configuration documents stored on the platform", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMjMxMQ=="}, "originalCommit": {"oid": "ce1cde2177f2d3c400bb562b60d9933ebfd72ffd"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMjAxMjc2OnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/admin-services/admin-services-spring/src/main/java/org/odpi/openmetadata/adminservices/spring/ConfigResource.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMTo0MzoyOFrOH6n2nQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNjo1MDoyMVrOH7ELpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMjQxMw==", "bodyText": "should be somethin like .../configurations/all", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531232413", "createdAt": "2020-11-26T21:43:28Z", "author": {"login": "mandy-chessell"}, "path": "open-metadata-implementation/admin-services/admin-services-spring/src/main/java/org/odpi/openmetadata/adminservices/spring/ConfigResource.java", "diffHunk": "@@ -46,16 +46,20 @@ public OMAGServerConfigResponse getStoredConfiguration(@PathVariable String user\n         return adminAPI.getStoredConfiguration(userId, serverName);\n     }\n     /**\n-     * Return the configuration documents stored on the platform\n+     * Return the server configuration documents stored on the platform\n      *\n      * @param userId  user that is issuing the request\n      * @return OMAGServerConfigs properties or\n      * OMAGNotAuthorizedException the supplied userId is not authorized to issue this command or\n      * OMAGInvalidParameterException invalid parameter occurred while processing.\n      */\n-    @GetMapping(path = \"/configurations\")\n+    @GetMapping(path = \"/platform/server-configurations\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce1cde2177f2d3c400bb562b60d9933ebfd72ffd"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTY5NjU0OA==", "bodyText": "I changed to /configurations , I think this implies that all the configurations will be returned, we we need to filter , page, etc in the future I suggest we add query params for that.", "url": "https://github.com/odpi/egeria/pull/4145#discussion_r531696548", "createdAt": "2020-11-27T16:50:21Z", "author": {"login": "davidradl"}, "path": "open-metadata-implementation/admin-services/admin-services-spring/src/main/java/org/odpi/openmetadata/adminservices/spring/ConfigResource.java", "diffHunk": "@@ -46,16 +46,20 @@ public OMAGServerConfigResponse getStoredConfiguration(@PathVariable String user\n         return adminAPI.getStoredConfiguration(userId, serverName);\n     }\n     /**\n-     * Return the configuration documents stored on the platform\n+     * Return the server configuration documents stored on the platform\n      *\n      * @param userId  user that is issuing the request\n      * @return OMAGServerConfigs properties or\n      * OMAGNotAuthorizedException the supplied userId is not authorized to issue this command or\n      * OMAGInvalidParameterException invalid parameter occurred while processing.\n      */\n-    @GetMapping(path = \"/configurations\")\n+    @GetMapping(path = \"/platform/server-configurations\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIzMjQxMw=="}, "originalCommit": {"oid": "ce1cde2177f2d3c400bb562b60d9933ebfd72ffd"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2482, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}