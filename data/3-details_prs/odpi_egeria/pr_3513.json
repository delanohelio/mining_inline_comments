{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcyNTYxMjg4", "number": 3513, "title": "Vertical lineage - OMRS Events Processing", "bodyText": "Update, Delete Entity, (Re/De) Classify Entity Events are send out for a Glossary Term/Glossary Category if the entity is involved in Semantic Assignment and/or Term Categorization relationships\nTerm Categorization Relationship type added for processing\nCreation of a SemanticAssigment/TermCategorization Relationships is used to publish out the glossary term context\nThe Glossary Categories are included in the Glossary Term context", "createdAt": "2020-08-24T14:32:31Z", "url": "https://github.com/odpi/egeria/pull/3513", "merged": true, "mergeCommit": {"oid": "3f2c636e4384c3a7644556061ffe05d89fe7828a"}, "closed": true, "closedAt": "2020-08-27T09:47:30Z", "author": {"login": "danielaotelea"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCCyrhgH2gAyNDcyNTYxMjg4OmI4NGUyYjI3YTExMjg5YWUzYTI4NWNlN2FkZTY3OGZlMWI4NjI4OGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdC8sceAH2gAyNDcyNTYxMjg4OjgzYjU4YWYxNzVmODYwZWU5MTYxNDllZGIxNmU1Zjk3ZDE5MWZmNDM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b84e2b27a11289ae3a285ce7ade678fe1b86288b", "author": {"user": {"login": "danielaotelea", "name": "Daniela Otelea"}}, "url": "https://github.com/odpi/egeria/commit/b84e2b27a11289ae3a285ce7ade678fe1b86288b", "committedDate": "2020-08-24T13:40:15Z", "message": "Vertical Lineage - OMRS events processing\n1. Update, Delete Entity, (Re/De) Classify Entity Events are send out for a Glossary Term/Glossary Category if the entity is involved in Semantic Assignment and/or Term Categorization relationships\n2. Term Categorization Relationship type added for processing\n3. Creation of a SemanticAssigment/TermCategorization Relationships is used to publish out the glossary term context\n4. The Glossary Categories are included in the Glossary Term context\n\nSigned-off-by: Daniela Otelea <daniela-valentina.otelea@ing.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e213417d4104a0dec2b5ec818614849502244d2", "author": {"user": {"login": "danielaotelea", "name": "Daniela Otelea"}}, "url": "https://github.com/odpi/egeria/commit/1e213417d4104a0dec2b5ec818614849502244d2", "committedDate": "2020-08-24T13:41:20Z", "message": "Merge branch 'master' into vertical-lineage"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0MjE1MTM4", "url": "https://github.com/odpi/egeria/pull/3513#pullrequestreview-474215138", "createdAt": "2020-08-25T07:42:27Z", "commit": {"oid": "1e213417d4104a0dec2b5ec818614849502244d2"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwNzo0MjoyN1rOHGLiMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwNzo0MzoyOFrOHGLkmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjI0MjQ4MA==", "bodyText": "Would it not be better to have a positive if and  put the subsequent 2 lines inthe body of the if. So you do not need to issue the return?", "url": "https://github.com/odpi/egeria/pull/3513#discussion_r476242480", "createdAt": "2020-08-25T07:42:27Z", "author": {"login": "davidradl"}, "path": "open-metadata-implementation/access-services/asset-lineage/asset-lineage-server/src/main/java/org/odpi/openmetadata/accessservices/assetlineage/listeners/AssetLineageOMRSTopicListener.java", "diffHunk": "@@ -209,6 +209,10 @@ private void processClassifiedEntityEvent(EntityDetail entityDetail) throws OCFC\n         if (!anyLineageClassificationsLeft(entityDetail))\n             return;\n \n+        if (!publisher.isEntityEligibleForPublishing(entityDetail)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e213417d4104a0dec2b5ec818614849502244d2"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjI0MzA5Nw==", "bodyText": "Would it not be better to have a positive if and put the subsequent line in the body of the if. So you do not need to issue the return?", "url": "https://github.com/odpi/egeria/pull/3513#discussion_r476243097", "createdAt": "2020-08-25T07:43:28Z", "author": {"login": "davidradl"}, "path": "open-metadata-implementation/access-services/asset-lineage/asset-lineage-server/src/main/java/org/odpi/openmetadata/accessservices/assetlineage/handlers/GlossaryContextHandler.java", "diffHunk": "@@ -101,6 +112,17 @@ private void addSchemaElementsContext(String userId, EntityDetail glossaryTerm,\n     }\n \n \n+    private void addGlossaryCategories(String userId,\n+                                       EntityDetail glossaryTerm,\n+                                       AssetContext glossaryContext,\n+                                       List<Relationship> termCategorization) throws OCFCheckedExceptionBase {\n+        if (CollectionUtils.isEmpty(termCategorization)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e213417d4104a0dec2b5ec818614849502244d2"}, "originalPosition": 55}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc3118613fe5b5edeabcf11625f179784e35db6b", "author": {"user": {"login": "danielaotelea", "name": "Daniela Otelea"}}, "url": "https://github.com/odpi/egeria/commit/dc3118613fe5b5edeabcf11625f179784e35db6b", "committedDate": "2020-08-25T10:03:06Z", "message": "Vertical Lineage - OMRS events processing\na glossary term context is build only if the GT has semantic assignments and/or term categorization relationships\n\nSigned-off-by: Daniela Otelea <daniela-valentina.otelea@ing.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92f6e5e441e179c87cbbe8d82cf98e3c759e2a18", "author": {"user": {"login": "danielaotelea", "name": "Daniela Otelea"}}, "url": "https://github.com/odpi/egeria/commit/92f6e5e441e179c87cbbe8d82cf98e3c759e2a18", "committedDate": "2020-08-25T10:13:23Z", "message": "Vertical Lineage - OMRS events processing\nrefactoring the new relationship event processing\n\nSigned-off-by: Daniela Otelea <daniela-valentina.otelea@ing.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0MzQyNTA0", "url": "https://github.com/odpi/egeria/pull/3513#pullrequestreview-474342504", "createdAt": "2020-08-25T10:23:27Z", "commit": {"oid": "92f6e5e441e179c87cbbe8d82cf98e3c759e2a18"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7e677e3bb6aa3c7e91d7f6eea3b7958f9bcff8e", "author": {"user": {"login": "popa-raluca", "name": null}}, "url": "https://github.com/odpi/egeria/commit/c7e677e3bb6aa3c7e91d7f6eea3b7958f9bcff8e", "committedDate": "2020-08-25T10:47:19Z", "message": "Merge branch 'master' into vertical-lineage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24d62a226c8dee2bd316e1be48bbb570a3755ac6", "author": {"user": {"login": "popa-raluca", "name": null}}, "url": "https://github.com/odpi/egeria/commit/24d62a226c8dee2bd316e1be48bbb570a3755ac6", "committedDate": "2020-08-27T06:27:12Z", "message": "Merge branch 'master' into vertical-lineage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83b58af175f860ee916149edb16e5f97d191ff43", "author": {"user": {"login": "popa-raluca", "name": null}}, "url": "https://github.com/odpi/egeria/commit/83b58af175f860ee916149edb16e5f97d191ff43", "committedDate": "2020-08-27T09:07:56Z", "message": "Merge branch 'master' into vertical-lineage"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3934, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}