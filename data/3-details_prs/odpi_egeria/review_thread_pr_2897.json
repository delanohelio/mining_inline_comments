{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNTAzNjMw", "number": 2897, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNjowNzowM1rODweCgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNjowNzowM1rODweCgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyMTUwNDAxOnYy", "diffSide": "RIGHT", "path": "open-metadata-implementation/user-interfaces/ui-chassis/ui-chassis-spring/src/main/static/src/repository-explorer/repository-explorer-view.js", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNjowNzowM1rOGDfbPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNjoyMDoyNFrOGDf7EQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMxMzc5MQ==", "bodyText": "console.debug might be more suitable", "url": "https://github.com/odpi/egeria/pull/2897#discussion_r406313791", "createdAt": "2020-04-09T16:07:03Z", "author": {"login": "bogdan-sava"}, "path": "open-metadata-implementation/user-interfaces/ui-chassis/ui-chassis-spring/src/main/static/src/repository-explorer/repository-explorer-view.js", "diffHunk": "@@ -605,26 +605,48 @@ class RepositoryExplorerView extends mixinBehaviors([AppLocalizeBehavior], Polym\n \n     _routeChanged(routeData) {\n \n-        var serverName = this.routeData.serverName;\n-        var serverURLRoot_base64 = this.routeData.serverURLRoot_base64;\n-        var serverURLRoot = atob(serverURLRoot_base64);\n-        var guid = this.routeData.guid;\n+        /*\n+         * Whether the caller has appended to the URI or not, routeData will be\n+         * non-null - it is always an object. But if the caller has used the\n+         * plain repository-explorer URI with no tail, the serverName and other\n+         * fields will be undefined.\n+         *\n+         * A note on routeData - it is accessible both as the raw arg or through 'this'\n+         * The following code uses the raw arg.\n+         */\n \n         /*\n-         * It is not possible to connect to the specified server and load the GUID yet,\n-         * because the repository-explorer-view component has not finished loading yet - its\n-         * ready() method has not been called.\n-         * To facilitate the connect and load, package the details into the autoLoad property\n-         * which is inspected at the end of ready() and will initiate the connection to the\n-         * specified server and try to load the object with the given GUID.\n+         * If there is no route data we need to ensure autoLoad is null.\n          */\n-        this.autoLoad = {};\n-        this.autoLoad['serverName'] = serverName;\n-        this.autoLoad['serverURLRoot'] = serverURLRoot;\n-        this.autoLoad['guid'] = guid;\n+        this.autoLoad = null;\n \n-    }\n+        if (routeData.serverName           !== undefined &&\n+            routeData.serverURLRoot_base64 !== undefined &&\n+            routeData.guid                 !== undefined) {\n+\n+            /* We have everything we think we need */\n+            var serverName           = routeData.serverName;\n+            var serverURLRoot_base64 = routeData.serverURLRoot_base64;\n+            var serverURLRoot        = atob(serverURLRoot_base64);\n+            var guid                 = routeData.guid;\n+\n+            console.log(\"routeData is serverName \"+serverName+\" serverURLRoot \"+serverURLRoot+\" guid \"+guid);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32687e23fd094e35a4852b040e8946ece8f7a171"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMxNzg2OA==", "bodyText": "Whoops - sorry - I meant to remove that!", "url": "https://github.com/odpi/egeria/pull/2897#discussion_r406317868", "createdAt": "2020-04-09T16:13:45Z", "author": {"login": "grahamwallis"}, "path": "open-metadata-implementation/user-interfaces/ui-chassis/ui-chassis-spring/src/main/static/src/repository-explorer/repository-explorer-view.js", "diffHunk": "@@ -605,26 +605,48 @@ class RepositoryExplorerView extends mixinBehaviors([AppLocalizeBehavior], Polym\n \n     _routeChanged(routeData) {\n \n-        var serverName = this.routeData.serverName;\n-        var serverURLRoot_base64 = this.routeData.serverURLRoot_base64;\n-        var serverURLRoot = atob(serverURLRoot_base64);\n-        var guid = this.routeData.guid;\n+        /*\n+         * Whether the caller has appended to the URI or not, routeData will be\n+         * non-null - it is always an object. But if the caller has used the\n+         * plain repository-explorer URI with no tail, the serverName and other\n+         * fields will be undefined.\n+         *\n+         * A note on routeData - it is accessible both as the raw arg or through 'this'\n+         * The following code uses the raw arg.\n+         */\n \n         /*\n-         * It is not possible to connect to the specified server and load the GUID yet,\n-         * because the repository-explorer-view component has not finished loading yet - its\n-         * ready() method has not been called.\n-         * To facilitate the connect and load, package the details into the autoLoad property\n-         * which is inspected at the end of ready() and will initiate the connection to the\n-         * specified server and try to load the object with the given GUID.\n+         * If there is no route data we need to ensure autoLoad is null.\n          */\n-        this.autoLoad = {};\n-        this.autoLoad['serverName'] = serverName;\n-        this.autoLoad['serverURLRoot'] = serverURLRoot;\n-        this.autoLoad['guid'] = guid;\n+        this.autoLoad = null;\n \n-    }\n+        if (routeData.serverName           !== undefined &&\n+            routeData.serverURLRoot_base64 !== undefined &&\n+            routeData.guid                 !== undefined) {\n+\n+            /* We have everything we think we need */\n+            var serverName           = routeData.serverName;\n+            var serverURLRoot_base64 = routeData.serverURLRoot_base64;\n+            var serverURLRoot        = atob(serverURLRoot_base64);\n+            var guid                 = routeData.guid;\n+\n+            console.log(\"routeData is serverName \"+serverName+\" serverURLRoot \"+serverURLRoot+\" guid \"+guid);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMxMzc5MQ=="}, "originalCommit": {"oid": "32687e23fd094e35a4852b040e8946ece8f7a171"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMyMTkzNw==", "bodyText": "Have removed it and re-pushed", "url": "https://github.com/odpi/egeria/pull/2897#discussion_r406321937", "createdAt": "2020-04-09T16:20:24Z", "author": {"login": "grahamwallis"}, "path": "open-metadata-implementation/user-interfaces/ui-chassis/ui-chassis-spring/src/main/static/src/repository-explorer/repository-explorer-view.js", "diffHunk": "@@ -605,26 +605,48 @@ class RepositoryExplorerView extends mixinBehaviors([AppLocalizeBehavior], Polym\n \n     _routeChanged(routeData) {\n \n-        var serverName = this.routeData.serverName;\n-        var serverURLRoot_base64 = this.routeData.serverURLRoot_base64;\n-        var serverURLRoot = atob(serverURLRoot_base64);\n-        var guid = this.routeData.guid;\n+        /*\n+         * Whether the caller has appended to the URI or not, routeData will be\n+         * non-null - it is always an object. But if the caller has used the\n+         * plain repository-explorer URI with no tail, the serverName and other\n+         * fields will be undefined.\n+         *\n+         * A note on routeData - it is accessible both as the raw arg or through 'this'\n+         * The following code uses the raw arg.\n+         */\n \n         /*\n-         * It is not possible to connect to the specified server and load the GUID yet,\n-         * because the repository-explorer-view component has not finished loading yet - its\n-         * ready() method has not been called.\n-         * To facilitate the connect and load, package the details into the autoLoad property\n-         * which is inspected at the end of ready() and will initiate the connection to the\n-         * specified server and try to load the object with the given GUID.\n+         * If there is no route data we need to ensure autoLoad is null.\n          */\n-        this.autoLoad = {};\n-        this.autoLoad['serverName'] = serverName;\n-        this.autoLoad['serverURLRoot'] = serverURLRoot;\n-        this.autoLoad['guid'] = guid;\n+        this.autoLoad = null;\n \n-    }\n+        if (routeData.serverName           !== undefined &&\n+            routeData.serverURLRoot_base64 !== undefined &&\n+            routeData.guid                 !== undefined) {\n+\n+            /* We have everything we think we need */\n+            var serverName           = routeData.serverName;\n+            var serverURLRoot_base64 = routeData.serverURLRoot_base64;\n+            var serverURLRoot        = atob(serverURLRoot_base64);\n+            var guid                 = routeData.guid;\n+\n+            console.log(\"routeData is serverName \"+serverName+\" serverURLRoot \"+serverURLRoot+\" guid \"+guid);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMxMzc5MQ=="}, "originalCommit": {"oid": "32687e23fd094e35a4852b040e8946ece8f7a171"}, "originalPosition": 44}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2397, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}