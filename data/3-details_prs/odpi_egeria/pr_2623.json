{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4MDI2MzMw", "number": 2623, "title": "Asset Lineage OMAS: Error handling, Logging, General refactoring", "bodyText": "", "createdAt": "2020-02-20T23:21:08Z", "url": "https://github.com/odpi/egeria/pull/2623", "merged": true, "mergeCommit": {"oid": "02f58dbabbd02bb1b65367794a5fe365d94abbe1"}, "closed": true, "closedAt": "2020-02-25T13:55:33Z", "author": {"login": "GuyAckermans"}, "timelineItems": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcFfi7tgH2gAyMzc4MDI2MzMwOmQyZjg2NTdmYTc2ODU3ZjY2Yzc0YzUxZWFhNWYzMzc0NTkxNzFhZTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHyhdSgFqTM2NDE1NzE1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d2f8657fa76857f66c74c51eaa5f337459171ae8", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/d2f8657fa76857f66c74c51eaa5f337459171ae8", "committedDate": "2020-02-18T10:40:55Z", "message": "AL omas: wip\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe280b3d473b561b6f6191570b99e287cedc5ec8", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/fe280b3d473b561b6f6191570b99e287cedc5ec8", "committedDate": "2020-02-18T13:06:11Z", "message": "AL omas WIP\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a015f7cacd1577d81e7170cf0254cee7bc741542", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/a015f7cacd1577d81e7170cf0254cee7bc741542", "committedDate": "2020-02-18T13:25:59Z", "message": "AL omas: refactor WIP\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "630dcc0c8ebe48f4df110d0f6ac202c197de4a17", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/630dcc0c8ebe48f4df110d0f6ac202c197de4a17", "committedDate": "2020-02-18T13:43:44Z", "message": "AL omas refactor\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7eeb5c3199d2921d5832c3b540d674c52eeaf98a", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/7eeb5c3199d2921d5832c3b540d674c52eeaf98a", "committedDate": "2020-02-18T14:17:41Z", "message": "AL OMAS: refactor wip\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8169397bffdc80f2b5e08fbddb20050801136d2c", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/8169397bffdc80f2b5e08fbddb20050801136d2c", "committedDate": "2020-02-18T15:09:59Z", "message": "AL OMAS: refactor\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "454090320bd5889e3a7c5fc8bd84ba37ffd872e2", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/454090320bd5889e3a7c5fc8bd84ba37ffd872e2", "committedDate": "2020-02-18T15:37:35Z", "message": "AL omas refactor\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da9c6b52df894b9cc8d868b600bd66d354bbebed", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/da9c6b52df894b9cc8d868b600bd66d354bbebed", "committedDate": "2020-02-20T13:13:31Z", "message": "AL omas: errorhandling\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdd769506d3399a28018416feaf5b004bf7c2a56", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/bdd769506d3399a28018416feaf5b004bf7c2a56", "committedDate": "2020-02-20T13:57:28Z", "message": "AL OMAS: Errorhandling\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a772759ba930d1823bff9356ed90cb984eb9e1b9", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/a772759ba930d1823bff9356ed90cb984eb9e1b9", "committedDate": "2020-02-20T14:57:56Z", "message": "AL omas: logging\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79b14a61a2d40d898d80290e96d3cfc9b90a0558", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/79b14a61a2d40d898d80290e96d3cfc9b90a0558", "committedDate": "2020-02-20T14:58:13Z", "message": "Merge branch 'master' of https://github.com/odpi/egeria into classifications"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2704d7f7132c251fe6b21b9dfef00858d7c071e", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/c2704d7f7132c251fe6b21b9dfef00858d7c071e", "committedDate": "2020-02-20T16:41:15Z", "message": "AL omas: refactor\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee76b25cec36abe5053045992bf1f36fe0ab6d10", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/ee76b25cec36abe5053045992bf1f36fe0ab6d10", "committedDate": "2020-02-20T21:25:01Z", "message": "OLS: comment out classifications\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82541c1a279f26812d7a840c49de7dc98b607148", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/82541c1a279f26812d7a840c49de7dc98b607148", "committedDate": "2020-02-20T22:32:20Z", "message": "AL omas: refactor\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a26dea7e4523528d2787fe1538f41c31b8264f96", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/a26dea7e4523528d2787fe1538f41c31b8264f96", "committedDate": "2020-02-20T23:07:52Z", "message": "AL omas: finish refactor\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "297fe5526a3d1926cf407cd27547e1bc3fb07100", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/297fe5526a3d1926cf407cd27547e1bc3fb07100", "committedDate": "2020-02-20T23:17:00Z", "message": "AL Omas: errorhandling\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2e6eb1f13a6ec6db554d87e15d822b92c11ad68", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/b2e6eb1f13a6ec6db554d87e15d822b92c11ad68", "committedDate": "2020-02-20T23:17:51Z", "message": "AL omas: refactor\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5c020efd4fbf93ba9f037fd232a3759f0131b14", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/b5c020efd4fbf93ba9f037fd232a3759f0131b14", "committedDate": "2020-02-20T23:21:44Z", "message": "Merge branch 'master' into classifications"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5b3e1a74c54c488806ed2dc8275894f91315d74", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/b5b3e1a74c54c488806ed2dc8275894f91315d74", "committedDate": "2020-02-20T23:43:34Z", "message": "AL omas: refactor\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5605ce4c94023be2e97637171460768ae539fee", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/e5605ce4c94023be2e97637171460768ae539fee", "committedDate": "2020-02-20T23:43:49Z", "message": "Merge branch 'classifications' of https://github.com/GuyAckermans/egeria into classifications"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8befe53d863fa58f8783e04227bbccf0377cec4b", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/8befe53d863fa58f8783e04227bbccf0377cec4b", "committedDate": "2020-02-20T23:44:47Z", "message": "AL omas: typo\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89a90c67f0174d821ed45b3b150cf803d0053e69", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/89a90c67f0174d821ed45b3b150cf803d0053e69", "committedDate": "2020-02-21T10:58:03Z", "message": "AL omas: fix pom\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e21ba48878ea14fc16be2efac657fafd8523f265", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/e21ba48878ea14fc16be2efac657fafd8523f265", "committedDate": "2020-02-21T11:47:27Z", "message": "Merge branch 'master' into classifications"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a2df04f1d01ee82895dcd7e4bb314481c9e333f", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/9a2df04f1d01ee82895dcd7e4bb314481c9e333f", "committedDate": "2020-02-24T13:35:11Z", "message": "Merge branch 'master' into classifications"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMjY3MDg3", "url": "https://github.com/odpi/egeria/pull/2623#pullrequestreview-363267087", "createdAt": "2020-02-24T09:52:37Z", "commit": {"oid": "e21ba48878ea14fc16be2efac657fafd8523f265"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQwOTo1MjozN1rOFtal9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQwOTo1Nzo0MFrOFtawQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzE2NTk0MQ==", "bodyText": "From the clean code perspective, the immutable final variables come before the mutable non final ones", "url": "https://github.com/odpi/egeria/pull/2623#discussion_r383165941", "createdAt": "2020-02-24T09:52:37Z", "author": {"login": "danielaotelea"}, "path": "open-metadata-implementation/access-services/asset-lineage/asset-lineage-server/src/main/java/org/odpi/openmetadata/accessservices/assetlineage/admin/AssetLineageAdmin.java", "diffHunk": "@@ -21,14 +25,12 @@\n  * the Asset Lineage OMAS. The initialization call provides this OMAS with resources from the\n  * Open Metadata Repository Services.\n  */\n-public class AssetLineageAdmin extends AccessServiceAdmin\n-{\n+public class AssetLineageAdmin extends AccessServiceAdmin {\n \n     private OMRSAuditLog auditLog;\n     private AssetLineageServicesInstance instance;\n     private String serverName;\n-    private String serverUserName;\n-\n+    private static final Logger log = LoggerFactory.getLogger(AssetLineageAdmin.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e21ba48878ea14fc16be2efac657fafd8523f265"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzE2ODU3OA==", "bodyText": "you may use CollectionUtils.isEmpty that checks also if the list of classifications is null.", "url": "https://github.com/odpi/egeria/pull/2623#discussion_r383168578", "createdAt": "2020-02-24T09:57:40Z", "author": {"login": "danielaotelea"}, "path": "open-metadata-implementation/access-services/asset-lineage/asset-lineage-server/src/main/java/org/odpi/openmetadata/accessservices/assetlineage/handlers/ClassificationHandler.java", "diffHunk": "@@ -28,156 +32,123 @@\n \n     private static final Logger log = LoggerFactory.getLogger(AssetContextHandler.class);\n \n-    private String serviceName;\n-    private String serverName;\n-    private RepositoryHandler repositoryHandler;\n-    private OMRSRepositoryHelper repositoryHelper;\n     private InvalidParameterHandler invalidParameterHandler;\n-    private CommonHandler commonHandler;\n     private AssetContext graph;\n \n \n     /**\n      * Instantiates a new Classification handler.\n      *\n-     * @param serviceName             the service name\n-     * @param serverName              the server name\n      * @param invalidParameterHandler the invalid parameter handler\n-     * @param repositoryHelper        the repository helper\n-     * @param repositoryHandler       the repository handler\n      */\n-    public ClassificationHandler(String serviceName,\n-                                 String serverName,\n-                                 InvalidParameterHandler invalidParameterHandler,\n-                                 OMRSRepositoryHelper repositoryHelper,\n-                                 RepositoryHandler repositoryHandler) {\n-        this.serviceName = serviceName;\n-        this.serverName = serverName;\n-        this.repositoryHandler = repositoryHandler;\n-        this.repositoryHelper = repositoryHelper;\n+    public ClassificationHandler(InvalidParameterHandler invalidParameterHandler) {\n         this.invalidParameterHandler = invalidParameterHandler;\n-        this.commonHandler = new CommonHandler(serviceName, serverName, invalidParameterHandler, repositoryHelper, repositoryHandler);\n     }\n \n \n     /**\n      * Gets asset context from the entity by classification type.\n      *\n-     * @param serverName         the server name\n-     * @param userId             the user id\n-     * @param entityDetail       the entity for retrieving the classifications attached to it\n+     * @param userId       the user id\n+     * @param entityDetail the entity for retrieving the classifications attached to it\n      * @return the asset context by classification\n      */\n-    public Map<String, Set<GraphContext>> getAssetContextByClassification(String serverName, String userId, EntityDetail entityDetail) {\n-\n+    public Map<String, Set<GraphContext>> getAssetContextByClassification(String userId, EntityDetail entityDetail) throws OCFCheckedExceptionBase {\n \n \n-        if (! entityDetail.getClassifications().isEmpty() && checkLineageClassificationTypes(entityDetail)) {\n+        if (!entityDetail.getClassifications().isEmpty() && checkLineageClassificationTypes(entityDetail)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e21ba48878ea14fc16be2efac657fafd8523f265"}, "originalPosition": 89}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68c35002e84cceb50527c49f10851978b758d073", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/68c35002e84cceb50527c49f10851978b758d073", "committedDate": "2020-02-24T13:53:49Z", "message": "AL omas: refactor\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25a7a3740811faaab890344d19858e1381247410", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/25a7a3740811faaab890344d19858e1381247410", "committedDate": "2020-02-24T13:54:04Z", "message": "Merge branch 'classifications' of https://github.com/GuyAckermans/egeria into classifications"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7035d6345b3a16391a4e158a8f79a374aa95baf", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/d7035d6345b3a16391a4e158a8f79a374aa95baf", "committedDate": "2020-02-25T12:17:01Z", "message": "AL omas: use CollectionUtils.isEmpty\n\nSigned-off-by: Guy Ackermans <guy.ackermans92@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a1fc5fa5cc4f1795b363444d038de2119971332", "author": {"user": {"login": "GuyAckermans", "name": "Guy Ackermans"}}, "url": "https://github.com/odpi/egeria/commit/9a1fc5fa5cc4f1795b363444d038de2119971332", "committedDate": "2020-02-25T12:17:37Z", "message": "Merge branch 'master' of https://github.com/odpi/egeria into classifications"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MTU3MTUz", "url": "https://github.com/odpi/egeria/pull/2623#pullrequestreview-364157153", "createdAt": "2020-02-25T13:55:21Z", "commit": {"oid": "9a1fc5fa5cc4f1795b363444d038de2119971332"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3773, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}