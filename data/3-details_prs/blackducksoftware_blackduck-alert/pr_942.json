{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNDUxNDQ1", "number": 942, "title": "fix: Fix the failing test and SonarCloud link.", "bodyText": "", "createdAt": "2020-04-09T14:18:14Z", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/942", "merged": true, "mergeCommit": {"oid": "1eec36edb9de067b39aff5fe8d43f232388ed2cd"}, "closed": true, "closedAt": "2020-04-09T14:42:28Z", "author": {"login": "psantos1113"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcV9NeQgH2gAyNDAxNDUxNDQ1OjVmNGYwODBkNWZmZTUwODAzMWZjZDdiZDlkZjI0M2I5Njk3OGZjMjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcV9hN7gH2gAyNDAxNDUxNDQ1OmQwNzI4NzUzYjMxMTBhYWI0MGI0ZDczODkzYjY2MzQ0NTZhODk5ZmE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5f4f080d5ffe508031fcd7bd9df243b96978fc20", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/5f4f080d5ffe508031fcd7bd9df243b96978fc20", "committedDate": "2020-04-09T14:17:25Z", "message": "fix: Fix the failing test and SonarCloud link."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwODM4MjQ0", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/942#pullrequestreview-390838244", "createdAt": "2020-04-09T14:21:28Z", "commit": {"oid": "5f4f080d5ffe508031fcd7bd9df243b96978fc20"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwODM5NTM2", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/942#pullrequestreview-390839536", "createdAt": "2020-04-09T14:23:00Z", "commit": {"oid": "5f4f080d5ffe508031fcd7bd9df243b96978fc20"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNDoyMzowMFrOGDbAqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNDoyMzowMFrOGDbAqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI0MTQ1MA==", "bodyText": "Should we change this to something like this, since contains uses indexOf anyway?\nint indexOfQABuild = versionToken.indexOf(QA_BUILD);\nint indexOfSnapshot = versionToken.indexOf(SNAPSHOT);\nif (indexOfQABuild > 0) {\n            resultToken = versionToken.substring(0, indexOfQABuild);\n } else if (indexOfSnapshot > 0) {\n            resultToken = versionToken.substring(0, indexOfSnapshot);\n}", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/942#discussion_r406241450", "createdAt": "2020-04-09T14:23:00Z", "author": {"login": "jamesrichard91"}, "path": "src/main/java/com/synopsys/integration/alert/workflow/scheduled/update/UpdateChecker.java", "diffHunk": "@@ -195,10 +195,11 @@ private int compareVersions(String firstVersion, String secondVersion) {\n \n     private String getVersionToken(String versionToken) {\n         String resultToken = versionToken;\n-        if (versionToken.contains(SNAPSHOT)) {\n-            resultToken = versionToken.substring(0, versionToken.indexOf(SNAPSHOT));\n-        } else if (versionToken.contains(QA_BUILD)) {\n+        // currently we get -SIGQA1-SNAPSHOT so we need to look for SIGQA first.\n+        if (versionToken.contains(QA_BUILD)) {\n             resultToken = versionToken.substring(0, versionToken.indexOf(QA_BUILD));\n+        } else if (versionToken.contains(SNAPSHOT)) {\n+            resultToken = versionToken.substring(0, versionToken.indexOf(SNAPSHOT));\n         }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f4f080d5ffe508031fcd7bd9df243b96978fc20"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwODM5NzY0", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/942#pullrequestreview-390839764", "createdAt": "2020-04-09T14:23:15Z", "commit": {"oid": "5f4f080d5ffe508031fcd7bd9df243b96978fc20"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwODQxNzcw", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/942#pullrequestreview-390841770", "createdAt": "2020-04-09T14:25:30Z", "commit": {"oid": "5f4f080d5ffe508031fcd7bd9df243b96978fc20"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0728753b3110aab40b4d73893b6634456a899fa", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/d0728753b3110aab40b4d73893b6634456a899fa", "committedDate": "2020-04-09T14:38:59Z", "message": "refactor: Implement the PR feedback."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2666, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}