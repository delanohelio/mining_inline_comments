{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE4MDE0Mjc3", "number": 1249, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQyMDoyNjoxNlrOE28KMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxOTo0MzozNFrOE3YrjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2MDQ0MjA5OnYy", "diffSide": "RIGHT", "path": "component/src/main/java/com/synopsys/integration/alert/component/audit/web/AuditEntryActions.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQyMDoyNjoxNlrOHwATug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxOTo0NDoxN1rOHws6jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDA5ODc0Ng==", "bodyText": "I think the class that AuditEntryPageModel extends might have constants that could be used for the default values.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1249#discussion_r520098746", "createdAt": "2020-11-09T20:26:16Z", "author": {"login": "gkillough"}, "path": "component/src/main/java/com/synopsys/integration/alert/component/audit/web/AuditEntryActions.java", "diffHunk": "@@ -91,7 +92,9 @@ public AuditEntryActions(\n         if (!authorizationManager.hasReadPermission(ConfigContextEnum.GLOBAL, descriptorKey)) {\n             return new ActionResponse<>(HttpStatus.FORBIDDEN, ActionResponse.FORBIDDEN_MESSAGE);\n         }\n-        AuditEntryPageModel pagedRestModel = auditAccessor.getPageOfAuditEntries(pageNumber, pageSize, searchTerm, sortField, sortOrder, onlyShowSentNotifications, auditAccessor::convertToAuditEntryModelFromNotification);\n+        Integer page = ObjectUtils.defaultIfNull(pageNumber, 0);\n+        Integer size = ObjectUtils.defaultIfNull(pageSize, 100);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6cf2b5dcc4bb3bf1332ae7aab7db107eeb3cab4"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE2MDk5Mw==", "bodyText": "If those constants don't exist we should at least make some in this class", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1249#discussion_r520160993", "createdAt": "2020-11-09T22:27:12Z", "author": {"login": "bamandel"}, "path": "component/src/main/java/com/synopsys/integration/alert/component/audit/web/AuditEntryActions.java", "diffHunk": "@@ -91,7 +92,9 @@ public AuditEntryActions(\n         if (!authorizationManager.hasReadPermission(ConfigContextEnum.GLOBAL, descriptorKey)) {\n             return new ActionResponse<>(HttpStatus.FORBIDDEN, ActionResponse.FORBIDDEN_MESSAGE);\n         }\n-        AuditEntryPageModel pagedRestModel = auditAccessor.getPageOfAuditEntries(pageNumber, pageSize, searchTerm, sortField, sortOrder, onlyShowSentNotifications, auditAccessor::convertToAuditEntryModelFromNotification);\n+        Integer page = ObjectUtils.defaultIfNull(pageNumber, 0);\n+        Integer size = ObjectUtils.defaultIfNull(pageSize, 100);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDA5ODc0Ng=="}, "originalCommit": {"oid": "c6cf2b5dcc4bb3bf1332ae7aab7db107eeb3cab4"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgyOTU4Mg==", "bodyText": "I am now using the constants in AlertPagedModel. But that introduces a new issue #1249 (comment)", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1249#discussion_r520829582", "createdAt": "2020-11-10T19:44:17Z", "author": {"login": "JakeMathews"}, "path": "component/src/main/java/com/synopsys/integration/alert/component/audit/web/AuditEntryActions.java", "diffHunk": "@@ -91,7 +92,9 @@ public AuditEntryActions(\n         if (!authorizationManager.hasReadPermission(ConfigContextEnum.GLOBAL, descriptorKey)) {\n             return new ActionResponse<>(HttpStatus.FORBIDDEN, ActionResponse.FORBIDDEN_MESSAGE);\n         }\n-        AuditEntryPageModel pagedRestModel = auditAccessor.getPageOfAuditEntries(pageNumber, pageSize, searchTerm, sortField, sortOrder, onlyShowSentNotifications, auditAccessor::convertToAuditEntryModelFromNotification);\n+        Integer page = ObjectUtils.defaultIfNull(pageNumber, 0);\n+        Integer size = ObjectUtils.defaultIfNull(pageSize, 100);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDA5ODc0Ng=="}, "originalCommit": {"oid": "c6cf2b5dcc4bb3bf1332ae7aab7db107eeb3cab4"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2NTExNTAxOnYy", "diffSide": "RIGHT", "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/rest/model/AlertPagedModel.java", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxOTo0MzozNFrOHws41g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMDo1MDo0OFrOHwvHaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgyOTE0Mg==", "bodyText": "Spring requires a String constant in ReadPageController. We want to use the same defaults, but as an Integer. Should we convert the String to an Integer at runtime? Do what I've done here? Something else?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1249#discussion_r520829142", "createdAt": "2020-11-10T19:43:34Z", "author": {"login": "JakeMathews"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/rest/model/AlertPagedModel.java", "diffHunk": "@@ -27,8 +27,10 @@\n import net.minidev.json.annotate.JsonIgnore;\n \n public class AlertPagedModel<M extends AlertSerializableModel> extends AlertSerializableModel {\n-    public static final String DEFAULT_PAGE_NUMBER = \"0\";\n-    public static final String DEFAULT_PAGE_SIZE = \"10\";\n+    public static final Integer DEFAULT_PAGE_NUMBER = 0;\n+    public static final Integer DEFAULT_PAGE_SIZE = 10;\n+    public static final String DEFAULT_PAGE_NUMBER_STRING = \"0\";\n+    public static final String DEFAULT_PAGE_SIZE_STRING = \"10\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc0f34de45229396f61de6604086cd9f7ec5dfe5"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgzMzg5NA==", "bodyText": "public static final Integer DEFAULT_PAGE_NUMBER = 0;\n    public static final Integer DEFAULT_PAGE_SIZE = 10;\n    public static final String DEFAULT_PAGE_NUMBER_STRING = DEFAULT_PAGE_NUMBER.toString();\n    public static final String DEFAULT_PAGE_SIZE_STRING = DEFAULT_PAGE_SIZE.toString();\nbased on https://stackoverflow.com/a/654068/6921621", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1249#discussion_r520833894", "createdAt": "2020-11-10T19:51:40Z", "author": {"login": "gkillough"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/rest/model/AlertPagedModel.java", "diffHunk": "@@ -27,8 +27,10 @@\n import net.minidev.json.annotate.JsonIgnore;\n \n public class AlertPagedModel<M extends AlertSerializableModel> extends AlertSerializableModel {\n-    public static final String DEFAULT_PAGE_NUMBER = \"0\";\n-    public static final String DEFAULT_PAGE_SIZE = \"10\";\n+    public static final Integer DEFAULT_PAGE_NUMBER = 0;\n+    public static final Integer DEFAULT_PAGE_SIZE = 10;\n+    public static final String DEFAULT_PAGE_NUMBER_STRING = \"0\";\n+    public static final String DEFAULT_PAGE_SIZE_STRING = \"10\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgyOTE0Mg=="}, "originalCommit": {"oid": "dc0f34de45229396f61de6604086cd9f7ec5dfe5"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg0ODYxMw==", "bodyText": "Then it is no longer a constant.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1249#discussion_r520848613", "createdAt": "2020-11-10T20:18:10Z", "author": {"login": "JakeMathews"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/rest/model/AlertPagedModel.java", "diffHunk": "@@ -27,8 +27,10 @@\n import net.minidev.json.annotate.JsonIgnore;\n \n public class AlertPagedModel<M extends AlertSerializableModel> extends AlertSerializableModel {\n-    public static final String DEFAULT_PAGE_NUMBER = \"0\";\n-    public static final String DEFAULT_PAGE_SIZE = \"10\";\n+    public static final Integer DEFAULT_PAGE_NUMBER = 0;\n+    public static final Integer DEFAULT_PAGE_SIZE = 10;\n+    public static final String DEFAULT_PAGE_NUMBER_STRING = \"0\";\n+    public static final String DEFAULT_PAGE_SIZE_STRING = \"10\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgyOTE0Mg=="}, "originalCommit": {"oid": "dc0f34de45229396f61de6604086cd9f7ec5dfe5"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg1MDYwNQ==", "bodyText": "Alright, in that case maybe move the string constants into that interface and leave them as literals. Leave the integers in the paged model.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1249#discussion_r520850605", "createdAt": "2020-11-10T20:22:03Z", "author": {"login": "gkillough"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/rest/model/AlertPagedModel.java", "diffHunk": "@@ -27,8 +27,10 @@\n import net.minidev.json.annotate.JsonIgnore;\n \n public class AlertPagedModel<M extends AlertSerializableModel> extends AlertSerializableModel {\n-    public static final String DEFAULT_PAGE_NUMBER = \"0\";\n-    public static final String DEFAULT_PAGE_SIZE = \"10\";\n+    public static final Integer DEFAULT_PAGE_NUMBER = 0;\n+    public static final Integer DEFAULT_PAGE_SIZE = 10;\n+    public static final String DEFAULT_PAGE_NUMBER_STRING = \"0\";\n+    public static final String DEFAULT_PAGE_SIZE_STRING = \"10\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgyOTE0Mg=="}, "originalCommit": {"oid": "dc0f34de45229396f61de6604086cd9f7ec5dfe5"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg2MTQ5OQ==", "bodyText": "You could reverse it, leave the static Strings as literals and have the static integers based on those\npublic static final Integer DEFAULT_PAGE_NUMBER = Integer.valueOf(ReadPageController. DEFAULT_PAGE_NUMBER);\npublic static final Integer DEFAULT_PAGE_SIZE =  Integer.valueOf(ReadPageController. DEFAULT_PAGE_SIZE);", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1249#discussion_r520861499", "createdAt": "2020-11-10T20:42:53Z", "author": {"login": "jamesrichard91"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/rest/model/AlertPagedModel.java", "diffHunk": "@@ -27,8 +27,10 @@\n import net.minidev.json.annotate.JsonIgnore;\n \n public class AlertPagedModel<M extends AlertSerializableModel> extends AlertSerializableModel {\n-    public static final String DEFAULT_PAGE_NUMBER = \"0\";\n-    public static final String DEFAULT_PAGE_SIZE = \"10\";\n+    public static final Integer DEFAULT_PAGE_NUMBER = 0;\n+    public static final Integer DEFAULT_PAGE_SIZE = 10;\n+    public static final String DEFAULT_PAGE_NUMBER_STRING = \"0\";\n+    public static final String DEFAULT_PAGE_SIZE_STRING = \"10\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgyOTE0Mg=="}, "originalCommit": {"oid": "dc0f34de45229396f61de6604086cd9f7ec5dfe5"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg2NTY0MQ==", "bodyText": "I was hesitant to do the String parsing at runtime, but I think that's better than declaring the constants twice.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1249#discussion_r520865641", "createdAt": "2020-11-10T20:50:48Z", "author": {"login": "JakeMathews"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/rest/model/AlertPagedModel.java", "diffHunk": "@@ -27,8 +27,10 @@\n import net.minidev.json.annotate.JsonIgnore;\n \n public class AlertPagedModel<M extends AlertSerializableModel> extends AlertSerializableModel {\n-    public static final String DEFAULT_PAGE_NUMBER = \"0\";\n-    public static final String DEFAULT_PAGE_SIZE = \"10\";\n+    public static final Integer DEFAULT_PAGE_NUMBER = 0;\n+    public static final Integer DEFAULT_PAGE_SIZE = 10;\n+    public static final String DEFAULT_PAGE_NUMBER_STRING = \"0\";\n+    public static final String DEFAULT_PAGE_SIZE_STRING = \"10\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgyOTE0Mg=="}, "originalCommit": {"oid": "dc0f34de45229396f61de6604086cd9f7ec5dfe5"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2183, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}