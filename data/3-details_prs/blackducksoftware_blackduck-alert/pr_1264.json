{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxODkzMDQ4", "number": 1264, "title": "Change ConfigurationFieldModelConverter to throw a Runtime exception", "bodyText": "Per IALERT-2011, we want to change ConfigurationFieldModelConverter.getDescriptorName to throw a runtime exception rather than an AlertDatabaseConstraintException. We do not want this exception because if we trace it up to where the ConfigurationModel that is being passed in comes from, it will come from a database read where an option check has already been performed (in DefaultDescriptorGlobalConfigUtility).", "createdAt": "2020-11-16T19:41:21Z", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1264", "merged": true, "mergeCommit": {"oid": "f5839c3691b5191e8050de848d4e1545b459d45e"}, "closed": true, "closedAt": "2020-11-17T14:18:22Z", "author": {"login": "ChomickiM"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddKK71AH2gAyNTIxODkzMDQ4OmNlNWUzYzQwOTdiYTkxODZmZjJiMTkxN2IzNmE3ODE5MmU0Mzk4Y2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddaL6dgFqTUzMjM5OTYzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ce5e3c4097ba9186ff2b1917b36a78192e4398ce", "author": {"user": {"login": "ChomickiM", "name": "Martin"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/ce5e3c4097ba9186ff2b1917b36a78192e4398ce", "committedDate": "2020-11-16T19:32:02Z", "message": "refactor: Change ConfigurationFieldModelConverter to throw a Runtime exception rather than an AlertDatabaseConstraintException"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxNjUwNjEw", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1264#pullrequestreview-531650610", "createdAt": "2020-11-16T19:46:12Z", "commit": {"oid": "ce5e3c4097ba9186ff2b1917b36a78192e4398ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxOTo0NjoxMlrOH0OtUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxOTo0NjoxMlrOH0OtUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDUyODk3OQ==", "bodyText": "I think we might just be able to return from here.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1264#discussion_r524528979", "createdAt": "2020-11-16T19:46:12Z", "author": {"login": "gkillough"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/persistence/util/ConfigurationFieldModelConverter.java", "diffHunk": "@@ -161,11 +167,17 @@ private void populateAndSecureFields(ConfigurationFieldModel fieldModel, Map<Str\n         fields.put(key, fieldValueModel);\n     }\n \n-    private String getDescriptorName(ConfigurationModel configurationModel) throws AlertDatabaseConstraintException {\n-        return descriptorAccessor.getRegisteredDescriptorById(configurationModel.getDescriptorId())\n-                   .map(RegisteredDescriptorModel::getName)\n-                   // FIXME this is the wrong type of exception to throw here\n-                   .orElseThrow(() -> new AlertDatabaseConstraintException(\"Expected to find registered descriptor but none was found.\"));\n+    private String getDescriptorName(ConfigurationModel configurationModel) {\n+        String descriptorName;\n+        try {\n+            descriptorName = descriptorAccessor.getRegisteredDescriptorById(configurationModel.getDescriptorId())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce5e3c4097ba9186ff2b1917b36a78192e4398ce"}, "originalPosition": 50}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxNjUxMzY1", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1264#pullrequestreview-531651365", "createdAt": "2020-11-16T19:47:17Z", "commit": {"oid": "ce5e3c4097ba9186ff2b1917b36a78192e4398ce"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxNjUyMDky", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1264#pullrequestreview-531652092", "createdAt": "2020-11-16T19:48:18Z", "commit": {"oid": "ce5e3c4097ba9186ff2b1917b36a78192e4398ce"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "568ca6c21a2f9814f1e5e6110fc442551ab3ad6e", "author": {"user": {"login": "ChomickiM", "name": "Martin"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/568ca6c21a2f9814f1e5e6110fc442551ab3ad6e", "committedDate": "2020-11-16T19:57:18Z", "message": "refactor: Move return statement into try block of getDescriptorName"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyMzk5NjM4", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1264#pullrequestreview-532399638", "createdAt": "2020-11-17T14:11:36Z", "commit": {"oid": "568ca6c21a2f9814f1e5e6110fc442551ab3ad6e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2911, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}