{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMxODM1Njgz", "number": 1284, "title": "Truncate provider project descriptions", "bodyText": "We used to do this when the projects were synced. Long descriptions bloat the table in the UI.", "createdAt": "2020-12-03T14:50:08Z", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1284", "merged": true, "mergeCommit": {"oid": "8afcb6571e6e83330a98da922a48ba1f7d16503d"}, "closed": true, "closedAt": "2020-12-03T15:39:05Z", "author": {"login": "gkillough"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdikTZpAH2gAyNTMxODM1NjgzOjgzODRlNjk1ZTE5ZDI3OWYxZTZmNWFjMmE1YTYwZjQ3MzRhODM0NzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdikdSdAFqTU0NDA0MDU0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8384e695e19d279f1e6f5ac2a5a60f4734a83470", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/8384e695e19d279f1e6f5ac2a5a60f4734a83470", "committedDate": "2020-12-03T14:48:26Z", "message": "Fix: Truncate provider project descriptions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MDMyMTc0", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1284#pullrequestreview-544032174", "createdAt": "2020-12-03T14:51:32Z", "commit": {"oid": "8384e695e19d279f1e6f5ac2a5a60f4734a83470"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f321c6795d5ffaa32f56cf73d76ef736de3a7fa", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/0f321c6795d5ffaa32f56cf73d76ef736de3a7fa", "committedDate": "2020-12-03T14:56:51Z", "message": "Fix: Trim description string like previous implementation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MDQwMjkx", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1284#pullrequestreview-544040291", "createdAt": "2020-12-03T14:59:02Z", "commit": {"oid": "0f321c6795d5ffaa32f56cf73d76ef736de3a7fa"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNDo1OTowMlrOH-geZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNDo1OTowMlrOH-geZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTMwNTgzMA==", "bodyText": "Would it be beneficial to truncate to a few under 256 then add the new content? Not sure the most efficient way of storing data in our current DB.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1284#discussion_r535305830", "createdAt": "2020-12-03T14:59:02Z", "author": {"login": "bamandel"}, "path": "provider/src/main/java/com/synopsys/integration/alert/provider/blackduck/BlackDuckProviderDataAccessor.java", "diffHunk": "@@ -314,4 +319,12 @@ private int computeTotalCount(BlackDuckPageResponse<?> blackDuckPageResponse, in\n         return blackDuckResponsesTransformer.getSomeMatchingResponses(pagedRequest, responseClass, searchFilter, pagedRequest.getLimit());\n     }\n \n+    private String truncateDescription(@Nullable String originalDescription) {\n+        String trimmedDescription = StringUtils.trimToEmpty(originalDescription);\n+        if (trimmedDescription.length() > PROJECT_DESCRIPTION_MAX_CHARS) {\n+            return StringUtils.truncate(trimmedDescription, PROJECT_DESCRIPTION_MAX_CHARS) + \". . .\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f321c6795d5ffaa32f56cf73d76ef736de3a7fa"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MDQwNTQ2", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1284#pullrequestreview-544040546", "createdAt": "2020-12-03T14:59:14Z", "commit": {"oid": "0f321c6795d5ffaa32f56cf73d76ef736de3a7fa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2934, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}