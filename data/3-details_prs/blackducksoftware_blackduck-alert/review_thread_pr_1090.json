{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4NDgyNTQz", "number": 1090, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDo0MDoxOVrOETSVbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDo0MTo0OFrOETSYNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NjU4Nzk2OnYy", "diffSide": "RIGHT", "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/descriptor/config/field/validators/ValidationResult.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDo0MDoxOVrOG47wJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDo0MDoxOVrOG47wJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1MjQyMA==", "bodyText": "Since these constructors are private, we only need this constructor. The static methods that construct this object can pass in empty lists as needed.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1090#discussion_r462352420", "createdAt": "2020-07-29T14:40:19Z", "author": {"login": "jamesrichard91"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/descriptor/config/field/validators/ValidationResult.java", "diffHunk": "@@ -45,31 +46,66 @@ public static ValidationResult errors(String... errors) {\n         return new ValidationResult(Arrays.asList(errors));\n     }\n \n+    public static ValidationResult warnings(Collection<String> warnings) {\n+        return new ValidationResult(List.of(), warnings);\n+    }\n+\n+    public static ValidationResult warnings(String... warnings) {\n+        return new ValidationResult(List.of(), Arrays.asList(warnings));\n+    }\n+\n     public static ValidationResult of(ValidationResult... validationResults) {\n         Collection<String> validationErrors = Arrays.stream(validationResults)\n                                                   .map(ValidationResult::getErrors)\n                                                   .flatMap(Collection::stream)\n                                                   .collect(Collectors.toList());\n-        return new ValidationResult(validationErrors);\n+        Collection<String> validationWarnings = Arrays.stream(validationResults)\n+                                                    .map(ValidationResult::getWarnings)\n+                                                    .flatMap(Collection::stream)\n+                                                    .collect(Collectors.toList());\n+        return new ValidationResult(validationErrors, validationWarnings);\n     }\n \n     private ValidationResult() {\n         this.errors = List.of();\n+        this.warnings = List.of();\n     }\n \n     private ValidationResult(Collection<String> errors) {\n         this.errors = errors;\n+        this.warnings = List.of();\n+    }\n+\n+    private ValidationResult(Collection<String> errors, Collection<String> warnings) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d44103e330c4a479309cddabb5d1c8a9fe95b12b"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NjU5NTExOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/synopsys/integration/alert/web/config/FieldValidationAction.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDo0MTo0OFrOG470lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDo1MTozMVrOG48RZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1MzU1OQ==", "bodyText": "Should we be adding warnings to the fieldErrors?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1090#discussion_r462353559", "createdAt": "2020-07-29T14:41:48Z", "author": {"login": "jamesrichard91"}, "path": "src/main/java/com/synopsys/integration/alert/web/config/FieldValidationAction.java", "diffHunk": "@@ -63,6 +63,9 @@ public void validateConfig(Map<String, ConfigField> descriptorFields, FieldModel\n                 if (validationResult.hasErrors()) {\n                     fieldErrors.put(key, validationResult.combineErrorMessages());\n                 }\n+                if (validationResult.hasWarnings()) {\n+                    fieldErrors.put(key, validationResult.combineWarningMessages());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d44103e330c4a479309cddabb5d1c8a9fe95b12b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1NTIyMA==", "bodyText": "This is a work in progress.  We are keeping the same functionality for now and making sure that the code is in place to be able to add warnings even though they are treated as errors. The next branch and refactoring will to convert to the objects that contain information about warnings or errors. Taking a phased approach to this refactor.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1090#discussion_r462355220", "createdAt": "2020-07-29T14:44:00Z", "author": {"login": "psantos1113"}, "path": "src/main/java/com/synopsys/integration/alert/web/config/FieldValidationAction.java", "diffHunk": "@@ -63,6 +63,9 @@ public void validateConfig(Map<String, ConfigField> descriptorFields, FieldModel\n                 if (validationResult.hasErrors()) {\n                     fieldErrors.put(key, validationResult.combineErrorMessages());\n                 }\n+                if (validationResult.hasWarnings()) {\n+                    fieldErrors.put(key, validationResult.combineWarningMessages());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1MzU1OQ=="}, "originalCommit": {"oid": "d44103e330c4a479309cddabb5d1c8a9fe95b12b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1NjY4MQ==", "bodyText": "That's our next step.   We know this code works with the existing code and provides the pieces to add warnings.  Next step is to incorporate all of it together.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1090#discussion_r462356681", "createdAt": "2020-07-29T14:45:49Z", "author": {"login": "psantos1113"}, "path": "src/main/java/com/synopsys/integration/alert/web/config/FieldValidationAction.java", "diffHunk": "@@ -63,6 +63,9 @@ public void validateConfig(Map<String, ConfigField> descriptorFields, FieldModel\n                 if (validationResult.hasErrors()) {\n                     fieldErrors.put(key, validationResult.combineErrorMessages());\n                 }\n+                if (validationResult.hasWarnings()) {\n+                    fieldErrors.put(key, validationResult.combineWarningMessages());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1MzU1OQ=="}, "originalCommit": {"oid": "d44103e330c4a479309cddabb5d1c8a9fe95b12b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1NzE5Ng==", "bodyText": "Can we add a TODO in the places that we know need to change?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1090#discussion_r462357196", "createdAt": "2020-07-29T14:46:32Z", "author": {"login": "jamesrichard91"}, "path": "src/main/java/com/synopsys/integration/alert/web/config/FieldValidationAction.java", "diffHunk": "@@ -63,6 +63,9 @@ public void validateConfig(Map<String, ConfigField> descriptorFields, FieldModel\n                 if (validationResult.hasErrors()) {\n                     fieldErrors.put(key, validationResult.combineErrorMessages());\n                 }\n+                if (validationResult.hasWarnings()) {\n+                    fieldErrors.put(key, validationResult.combineWarningMessages());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1MzU1OQ=="}, "originalCommit": {"oid": "d44103e330c4a479309cddabb5d1c8a9fe95b12b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM2MDkzNQ==", "bodyText": "We will add TODOs as we move forward.  We are working on a feature branch so the feature branch will ultimately be reviewed by everyone.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1090#discussion_r462360935", "createdAt": "2020-07-29T14:51:31Z", "author": {"login": "psantos1113"}, "path": "src/main/java/com/synopsys/integration/alert/web/config/FieldValidationAction.java", "diffHunk": "@@ -63,6 +63,9 @@ public void validateConfig(Map<String, ConfigField> descriptorFields, FieldModel\n                 if (validationResult.hasErrors()) {\n                     fieldErrors.put(key, validationResult.combineErrorMessages());\n                 }\n+                if (validationResult.hasWarnings()) {\n+                    fieldErrors.put(key, validationResult.combineWarningMessages());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1MzU1OQ=="}, "originalCommit": {"oid": "d44103e330c4a479309cddabb5d1c8a9fe95b12b"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1917, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}