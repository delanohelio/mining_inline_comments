{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0NjUzMzE5", "number": 1107, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo0MTo0OVrOEWQ1Cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNzo0Mjo0M1rOEWTOuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNzc5ODUwOnYy", "diffSide": "RIGHT", "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/descriptor/config/field/validators/ValidationResult.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo0MTo0OVrOG9er6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo0NzoxNVrOG9e32g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzExOTA4MA==", "bodyText": "Is the idea for this method to turn the Array of ValidationResult's into a Collection?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1107#discussion_r467119080", "createdAt": "2020-08-07T15:41:49Z", "author": {"login": "jamesrichard91"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/descriptor/config/field/validators/ValidationResult.java", "diffHunk": "@@ -103,4 +99,11 @@ public String combineWarningMessages() {\n     private String combineMessages(Collection<String> messages) {\n         return StringUtils.join(messages, \", \");\n     }\n+\n+    private static Collection<String> getStatus(Function<ValidationResult, Collection<String>> mapResults, ValidationResult... validationResults) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6843bcc404eba87929b257a0a6cbd9d88e9e4e37"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzEyMjEzOA==", "bodyText": "this was created to simplify calling getErrors and getWarnings in the static of method above. We are using the ValidationResult(Collection<String> errors, Collection<String> warnings) constructor to set the errors and warnings collections.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1107#discussion_r467122138", "createdAt": "2020-08-07T15:47:15Z", "author": {"login": "ChomickiM"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/descriptor/config/field/validators/ValidationResult.java", "diffHunk": "@@ -103,4 +99,11 @@ public String combineWarningMessages() {\n     private String combineMessages(Collection<String> messages) {\n         return StringUtils.join(messages, \", \");\n     }\n+\n+    private static Collection<String> getStatus(Function<ValidationResult, Collection<String>> mapResults, ValidationResult... validationResults) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzExOTA4MA=="}, "originalCommit": {"oid": "6843bcc404eba87929b257a0a6cbd9d88e9e4e37"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNzgwMDI4OnYy", "diffSide": "RIGHT", "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/exception/AlertFieldException.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo0MjoyMlrOG9etBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo0MjoyMlrOG9etBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzExOTM2NQ==", "bodyText": "We should delete the commented out lines of code.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1107#discussion_r467119365", "createdAt": "2020-08-07T15:42:22Z", "author": {"login": "jamesrichard91"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/exception/AlertFieldException.java", "diffHunk": "@@ -22,52 +22,52 @@\n  */\n package com.synopsys.integration.alert.common.exception;\n \n-import java.util.Map;\n+import java.util.List;\n+\n+import com.synopsys.integration.alert.common.descriptor.config.field.errors.AlertFieldStatus;\n \n public class AlertFieldException extends AlertException {\n     private static final long serialVersionUID = 7993564907680483145L;\n \n-    private final Map<String, AlertFieldStatus> fieldErrors;\n+    private final List<AlertFieldStatus> fieldErrors;\n \n-    public static AlertFieldException singleFieldError(String fieldKey, AlertFieldStatus fieldError) {\n-        return new AlertFieldException(Map.of(fieldKey, fieldError));\n+    public static AlertFieldException singleFieldError(String fieldKey, String fieldError) {\n+        //return new AlertFieldException(Map.of(fieldKey, fieldError));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6843bcc404eba87929b257a0a6cbd9d88e9e4e37"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNzgxMzU4OnYy", "diffSide": "RIGHT", "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/descriptor/config/field/validators/ValidationResult.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo0NTo0OVrOG9e05w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo0NTo0OVrOG9e05w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzEyMTM4Mw==", "bodyText": "Can we change the variable name mapResults to extractValidationResults.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1107#discussion_r467121383", "createdAt": "2020-08-07T15:45:49Z", "author": {"login": "gkillough"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/descriptor/config/field/validators/ValidationResult.java", "diffHunk": "@@ -103,4 +99,11 @@ public String combineWarningMessages() {\n     private String combineMessages(Collection<String> messages) {\n         return StringUtils.join(messages, \", \");\n     }\n+\n+    private static Collection<String> getStatus(Function<ValidationResult, Collection<String>> mapResults, ValidationResult... validationResults) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6843bcc404eba87929b257a0a6cbd9d88e9e4e37"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNzgxNzI0OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/synopsys/integration/alert/component/authentication/actions/AuthenticationTestAction.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo0Njo1OVrOG9e3Lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo0Njo1OVrOG9e3Lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzEyMTk2Ng==", "bodyText": "We should update the variable name since it is no longer a Map.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1107#discussion_r467121966", "createdAt": "2020-08-07T15:46:59Z", "author": {"login": "jamesrichard91"}, "path": "src/main/java/com/synopsys/integration/alert/component/authentication/actions/AuthenticationTestAction.java", "diffHunk": "@@ -67,9 +67,9 @@ public MessageResult testConfig(String configId, FieldModel fieldModel, FieldAcc\n         boolean samlEnabled = registeredFieldValues.getBooleanOrFalse(AuthenticationDescriptor.KEY_SAML_ENABLED);\n         if (!ldapEnabled && !samlEnabled) {\n             String errorMessage = \"Enable LDAP or SAML authentication.\";\n-            Map<String, AlertFieldStatus> errorsMap = Map.of(\n-                AuthenticationDescriptor.KEY_LDAP_ENABLED, AlertFieldStatus.error(errorMessage),\n-                AuthenticationDescriptor.KEY_SAML_ENABLED, AlertFieldStatus.error(errorMessage));\n+            List<AlertFieldStatus> errorsMap = List.of(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6843bcc404eba87929b257a0a6cbd9d88e9e4e37"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNzgxODMwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/synopsys/integration/alert/component/authentication/actions/AuthenticationTestAction.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo0NzoxNFrOG9e3zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo0NzoxNFrOG9e3zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzEyMjEyNg==", "bodyText": "Update variable name", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1107#discussion_r467122126", "createdAt": "2020-08-07T15:47:14Z", "author": {"login": "jamesrichard91"}, "path": "src/main/java/com/synopsys/integration/alert/component/authentication/actions/AuthenticationTestAction.java", "diffHunk": "@@ -112,7 +112,7 @@ private void performSAMLTest(FieldAccessor registeredFieldValues) throws Integra\n         Optional<ConfigurationFieldModel> metaDataFileField = registeredFieldValues.getField(AuthenticationDescriptor.KEY_SAML_METADATA_FILE);\n         boolean testMetaDataURL = metaDataURLField.map(ConfigurationFieldModel::isSet).orElse(false);\n         boolean testMetaDataFile = metaDataFileField.map(ConfigurationFieldModel::isSet).orElse(false);\n-        Map<String, AlertFieldStatus> errorsMap = new HashMap<>();\n+        List<AlertFieldStatus> errorsMap = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6843bcc404eba87929b257a0a6cbd9d88e9e4e37"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNzgxOTY3OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/synopsys/integration/alert/component/authentication/actions/AuthenticationTestAction.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo0NzozMlrOG9e4iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo0NzozMlrOG9e4iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzEyMjMxNQ==", "bodyText": "Update variable name", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1107#discussion_r467122315", "createdAt": "2020-08-07T15:47:32Z", "author": {"login": "jamesrichard91"}, "path": "src/main/java/com/synopsys/integration/alert/component/authentication/actions/AuthenticationTestAction.java", "diffHunk": "@@ -89,15 +89,15 @@ private void performLdapTest(FieldModel fieldModel, FieldAccessor registeredFiel\n         String userName = fieldModel.getFieldValue(AuthenticationUIConfig.TEST_FIELD_KEY_USERNAME).orElse(\"\");\n         Optional<LdapAuthenticationProvider> ldapProvider = ldapManager.createAuthProvider(registeredFieldValues);\n         String errorMessage = String.format(\"Ldap Authentication test failed for the test user %s.  Please check the LDAP configuration.\", userName);\n-        Map<String, AlertFieldStatus> errorsMap = new HashMap<>();\n+        List<AlertFieldStatus> errorsMap = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6843bcc404eba87929b257a0a6cbd9d88e9e4e37"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNzgzMTE1OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/synopsys/integration/alert/component/authentication/actions/AuthenticationTestAction.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo1MDozOFrOG9e_VA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo1MDozOFrOG9e_VA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzEyNDA1Mg==", "bodyText": "Let's rename this to just errors because it is no longer a Map. It also helps if we change the type in the future so that it's not coupled to a specific data structure.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1107#discussion_r467124052", "createdAt": "2020-08-07T15:50:38Z", "author": {"login": "gkillough"}, "path": "src/main/java/com/synopsys/integration/alert/component/authentication/actions/AuthenticationTestAction.java", "diffHunk": "@@ -67,9 +67,9 @@ public MessageResult testConfig(String configId, FieldModel fieldModel, FieldAcc\n         boolean samlEnabled = registeredFieldValues.getBooleanOrFalse(AuthenticationDescriptor.KEY_SAML_ENABLED);\n         if (!ldapEnabled && !samlEnabled) {\n             String errorMessage = \"Enable LDAP or SAML authentication.\";\n-            Map<String, AlertFieldStatus> errorsMap = Map.of(\n-                AuthenticationDescriptor.KEY_LDAP_ENABLED, AlertFieldStatus.error(errorMessage),\n-                AuthenticationDescriptor.KEY_SAML_ENABLED, AlertFieldStatus.error(errorMessage));\n+            List<AlertFieldStatus> errorsMap = List.of(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6843bcc404eba87929b257a0a6cbd9d88e9e4e37"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNzgzMTg5OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/synopsys/integration/alert/component/authentication/actions/AuthenticationTestAction.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo1MDo1MVrOG9e_zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNTo1MDo1MVrOG9e_zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzEyNDE3NA==", "bodyText": "errors", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1107#discussion_r467124174", "createdAt": "2020-08-07T15:50:51Z", "author": {"login": "gkillough"}, "path": "src/main/java/com/synopsys/integration/alert/component/authentication/actions/AuthenticationTestAction.java", "diffHunk": "@@ -89,15 +89,15 @@ private void performLdapTest(FieldModel fieldModel, FieldAccessor registeredFiel\n         String userName = fieldModel.getFieldValue(AuthenticationUIConfig.TEST_FIELD_KEY_USERNAME).orElse(\"\");\n         Optional<LdapAuthenticationProvider> ldapProvider = ldapManager.createAuthProvider(registeredFieldValues);\n         String errorMessage = String.format(\"Ldap Authentication test failed for the test user %s.  Please check the LDAP configuration.\", userName);\n-        Map<String, AlertFieldStatus> errorsMap = new HashMap<>();\n+        List<AlertFieldStatus> errorsMap = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6843bcc404eba87929b257a0a6cbd9d88e9e4e37"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxODE5MTkzOnYy", "diffSide": "RIGHT", "path": "src/test/java/com/synopsys/integration/alert/util/AlertFieldStatusConverter.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNzo0Mjo0M1rOG9idYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNzo0Mjo0M1rOG9idYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzE4MDg5Nw==", "bodyText": "We have DataStructureUtils which essentially does these conversions I believe. I would verify whether this class is absolutely necessary.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1107#discussion_r467180897", "createdAt": "2020-08-07T17:42:43Z", "author": {"login": "bamandel"}, "path": "src/test/java/com/synopsys/integration/alert/util/AlertFieldStatusConverter.java", "diffHunk": "@@ -0,0 +1,22 @@\n+package com.synopsys.integration.alert.util;\n+\n+import java.util.List;\n+import java.util.Map;\n+import java.util.function.Function;\n+import java.util.stream.Collectors;\n+\n+import com.synopsys.integration.alert.common.descriptor.config.field.errors.AlertFieldStatus;\n+\n+public class AlertFieldStatusConverter {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d5b4632953258f344085f66c91350e828e3e50b3"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1669, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}