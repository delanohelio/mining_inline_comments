{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMzU3NTE0", "number": 1134, "title": "Fix Azure Custom Fields", "bodyText": "The hope with the original custom fields was since they are potentially user-visible, to minimize the number of them. Unfortunately, the text fields we used have a size limit of 255, and the other option is not queryable beyond 255 characters, so we needed to add more fields.", "createdAt": "2020-08-25T17:37:32Z", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1134", "merged": true, "mergeCommit": {"oid": "63fe53beebdaa825ef877157de2c502e9c9646e7"}, "closed": true, "closedAt": "2020-08-25T19:05:10Z", "author": {"login": "gkillough"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCYfdXAH2gAyNDczMzU3NTE0OmFjZTg5MWQ3MjdkMmQ5NWYyNTRmZjMzYTlkZjlmNmRhOWE4ZmI4ZDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCcCCVgH2gAyNDczMzU3NTE0OjEwZTQzODFlNzM5NWYyMTliOTFiMzI3NTYwOWFhNmZmOTg5ZjQ1MmE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ace891d727d2d95f254ff33a9df9f6da9a8fb8d9", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/ace891d727d2d95f254ff33a9df9f6da9a8fb8d9", "committedDate": "2020-08-25T14:57:10Z", "message": "Fix(Azure): Separate provider-key in search properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "435427062eb1e793ea68d42c6fb697806e3edb82", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/435427062eb1e793ea68d42c6fb697806e3edb82", "committedDate": "2020-08-25T15:05:50Z", "message": "Fix(Azure): Ensure a default link is provided if no UI link could be extracted from the work item response"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c41c19e6d5fb3d475030733faa3f8b7bb959d99d", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/c41c19e6d5fb3d475030733faa3f8b7bb959d99d", "committedDate": "2020-08-25T17:13:56Z", "message": "Fix(Azure): Separate tracking keys to minimize risk of hitting 255 char limit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eaad0e08be89b676d44739e7096d96f2a68a62be", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/eaad0e08be89b676d44739e7096d96f2a68a62be", "committedDate": "2020-08-25T17:33:32Z", "message": "Fix(Azure): Remove commented code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NzE5MTk1", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1134#pullrequestreview-474719195", "createdAt": "2020-08-25T17:51:20Z", "commit": {"oid": "eaad0e08be89b676d44739e7096d96f2a68a62be"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNzo1MToyMFrOHGjWNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNzo1MToyMFrOHGjWNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjYzMjYyOA==", "bodyText": "Do these reference name need to be as unique as possible? If so, we might want to add synopsys or something to the name as well so that there are no conflicts.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1134#discussion_r476632628", "createdAt": "2020-08-25T17:51:20Z", "author": {"login": "bamandel"}, "path": "src/main/java/com/synopsys/integration/alert/channel/azure/boards/service/AzureCustomFieldManager.java", "diffHunk": "@@ -46,13 +49,43 @@\n import com.synopsys.integration.azure.boards.common.service.project.TeamProjectReferenceResponseModel;\n \n public class AzureCustomFieldManager {\n-    public static final String ALERT_TOP_LEVEL_KEY_FIELD_NAME = \"Alert Top Level Key\";\n-    public static final String ALERT_TOP_LEVEL_KEY_FIELD_REFERENCE_NAME = \"Custom.AlertTopLevelKey\";\n-    public static final String ALERT_TOP_LEVEL_KEY_FIELD_DESCRIPTION = \"A top-level tracking key for Alert\";\n-\n-    public static final String ALERT_COMPONENT_LEVEL_KEY_FIELD_NAME = \"Alert Component Level Key\";\n-    public static final String ALERT_COMPONENT_LEVEL_KEY_FIELD_REFERENCE_NAME = \"Custom.AlertComponentLevelKey\";\n-    public static final String ALERT_COMPONENT_LEVEL_KEY_FIELD_DESCRIPTION = \"A component-level tracking key for Alert\";\n+    public static final String ALERT_PROVIDER_KEY_FIELD_NAME = \"Alert Provider Key\";\n+    public static final String ALERT_PROVIDER_KEY_FIELD_REFERENCE_NAME = \"Custom.AlertProviderKey\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eaad0e08be89b676d44739e7096d96f2a68a62be"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NzI1MzU3", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1134#pullrequestreview-474725357", "createdAt": "2020-08-25T17:59:45Z", "commit": {"oid": "eaad0e08be89b676d44739e7096d96f2a68a62be"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNzo1OTo0NVrOHGjpRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNzo1OTo0NVrOHGjpRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjYzNzUwOA==", "bodyText": "Should we just remove the private method and put the contents in the public one?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1134#discussion_r476637508", "createdAt": "2020-08-25T17:59:45Z", "author": {"login": "bamandel"}, "path": "src/main/java/com/synopsys/integration/alert/channel/azure/boards/service/AzureCustomFieldManager.java", "diffHunk": "@@ -69,23 +102,31 @@ public AzureCustomFieldManager(String organizationName, AzureProjectService proj\n     }\n \n     public void installCustomFields(String projectName, String workItemTypeName) throws AlertException {\n-        Future<ProjectWorkItemFieldModel> topLevelKeyFieldCreationResultHolder =\n-            executorService.submit(() -> findOrCreateAlertCustomProjectField(projectName, ALERT_TOP_LEVEL_KEY_FIELD_NAME, ALERT_TOP_LEVEL_KEY_FIELD_REFERENCE_NAME, ALERT_TOP_LEVEL_KEY_FIELD_DESCRIPTION));\n-        Future<ProjectWorkItemFieldModel> componentLevelKeyFieldCreationResultHolder =\n-            executorService.submit(() -> findOrCreateAlertCustomProjectField(projectName, ALERT_COMPONENT_LEVEL_KEY_FIELD_NAME, ALERT_COMPONENT_LEVEL_KEY_FIELD_REFERENCE_NAME, ALERT_COMPONENT_LEVEL_KEY_FIELD_DESCRIPTION));\n+        installCustomFields(projectName, workItemTypeName, AZURE_CUSTOM_FIELDS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eaad0e08be89b676d44739e7096d96f2a68a62be"}, "originalPosition": 76}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f54253039967b24a1d355430d1b30991b4e18c9c", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/f54253039967b24a1d355430d1b30991b4e18c9c", "committedDate": "2020-08-25T18:02:33Z", "message": "Fix(Azure): Update query for existing work items and fix transition issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NzM3MzE2", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1134#pullrequestreview-474737316", "createdAt": "2020-08-25T18:17:08Z", "commit": {"oid": "f54253039967b24a1d355430d1b30991b4e18c9c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02b8b5e090890b443f8fd9e090789242a296c3d8", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/02b8b5e090890b443f8fd9e090789242a296c3d8", "committedDate": "2020-08-25T18:47:32Z", "message": "Refactor(Azure): Remove unnecessary nesting of private method always being called with a constant"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10e4381e7395f219b91b3275609aa6ff989f452a", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/10e4381e7395f219b91b3275609aa6ff989f452a", "committedDate": "2020-08-25T19:04:39Z", "message": "Merge branch '6.2.0' into gk_fix_azure_custom_fields"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3424, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}