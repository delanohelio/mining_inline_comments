{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyNjM2NTYz", "number": 928, "title": "Add a delete button to the global configurations.", "bodyText": "Added a delete button with a confirmation modal to the config buttons.  The global configurations, provider and channel, will display a delete button to delete the configurations.", "createdAt": "2020-03-23T21:00:01Z", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/928", "merged": true, "mergeCommit": {"oid": "ba2b323d606e17fc75d02bdbad258bc1703c208a"}, "closed": true, "closedAt": "2020-03-24T17:04:57Z", "author": {"login": "psantos1113"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQkulSAH2gAyMzkyNjM2NTYzOmI1NDRjNDcxN2FkMGQzMGUwNDA0NjNiMjZkYmYwYmMyNTc5NzhjODc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQy4-EgFqTM4MDMwNDczMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b544c4717ad0d30e040463b26dbf0bc257978c87", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/b544c4717ad0d30e040463b26dbf0bc257978c87", "committedDate": "2020-03-23T20:56:20Z", "message": "fix: Add a delete confirmation modal dialog."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5ODIxOTU3", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/928#pullrequestreview-379821957", "createdAt": "2020-03-23T21:05:43Z", "commit": {"oid": "b544c4717ad0d30e040463b26dbf0bc257978c87"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QyMTowNTo0M1rOF6YFjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QyMTowNTo0M1rOF6YFjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njc1NjM2NA==", "bodyText": "Do we have a modal component that can be used effectively here?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/928#discussion_r396756364", "createdAt": "2020-03-23T21:05:43Z", "author": {"login": "bamandel"}, "path": "src/main/js/component/common/ConfirmModal.js", "diffHunk": "@@ -0,0 +1,86 @@\n+import React, { Component } from 'react';\n+import { Modal } from 'react-bootstrap';\n+import PropTypes from 'prop-types';\n+\n+class ConfirmModal extends Component {\n+    constructor(props) {\n+        super(props);\n+        this.handleAffirmativeClick = this.handleAffirmativeClick.bind(this);\n+        this.handleNegativeClick = this.handleNegativeClick.bind(this);\n+        this.resetState = this.resetState.bind(this);\n+        this.state = {\n+            show: props.showModal,\n+            confirmed: false\n+        };\n+    }\n+\n+    componentDidUpdate(prevProps) {\n+        if (prevProps.showModal != this.props.showModal) {\n+            this.setState({\n+                show: this.props.showModal\n+            });\n+        }\n+    }\n+\n+    handleAffirmativeClick(event) {\n+        if (event) {\n+            event.preventDefault();\n+            event.stopPropagation();\n+        }\n+        this.props.affirmativeAction();\n+        this.resetState();\n+    }\n+\n+    handleNegativeClick(event) {\n+        if (event) {\n+            event.preventDefault();\n+            event.stopPropagation();\n+        }\n+        this.props.negativeAction();\n+        this.resetState();\n+    }\n+\n+    resetState() {\n+        this.setState({\n+            show: false,\n+            confirmed: false\n+        });\n+    }\n+\n+    render() {\n+        const { affirmativeButtonText, message, negativeButtonText, title } = this.props;\n+        return (\n+            <Modal show={this.state.show} onHide={this.handleNegativeClick}>\n+                <Modal.Header closeButton>\n+                    <Modal.Title>{title}</Modal.Title>\n+                </Modal.Header>\n+                <Modal.Body>\n+                    {message}\n+                </Modal.Body>\n+                <Modal.Footer>\n+                    <button id=\"confirmNegative\" type=\"button\" className=\"btn btn-link\" onClick={this.handleNegativeClick}>{negativeButtonText}</button>\n+                    <button id=\"confirmAffirmative\" type=\"button\" className=\"btn btn-danger\" onClick={this.handleAffirmativeClick}>{affirmativeButtonText}</button>\n+                </Modal.Footer>\n+            </Modal>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b544c4717ad0d30e040463b26dbf0bc257978c87"}, "originalPosition": 64}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "428b85463f891c8feb63e66bdeabc2ce88a13073", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/428b85463f891c8feb63e66bdeabc2ce88a13073", "committedDate": "2020-03-24T11:27:21Z", "message": "fix: Submit will only update the configuration."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMjQyNzQ0", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/928#pullrequestreview-380242744", "createdAt": "2020-03-24T12:03:04Z", "commit": {"oid": "428b85463f891c8feb63e66bdeabc2ce88a13073"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMzA0NzMx", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/928#pullrequestreview-380304731", "createdAt": "2020-03-24T13:26:21Z", "commit": {"oid": "428b85463f891c8feb63e66bdeabc2ce88a13073"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2647, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}