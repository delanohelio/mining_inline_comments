{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyNzkwMjgy", "number": 1316, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxNTo0MjozMVrOFH1kxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNjo1OToxNlrOFIOpvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzNzYyMTE2OnYy", "diffSide": "RIGHT", "path": "channel/src/main/java/com/synopsys/integration/alert/channel/jira/cloud/descriptor/JiraCloudDistributionUIConfig.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxNTo0MjozMVrOIJcnmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxNTo0MjozMVrOIJcnmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc3Njk4NA==", "bodyText": "We'll need to eventually add this to Jira Server as well.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1316#discussion_r546776984", "createdAt": "2020-12-21T15:42:31Z", "author": {"login": "gkillough"}, "path": "channel/src/main/java/com/synopsys/integration/alert/channel/jira/cloud/descriptor/JiraCloudDistributionUIConfig.java", "diffHunk": "@@ -67,8 +70,10 @@ public JiraCloudDistributionUIConfig() {\n         ConfigField resolveWorkflow = new TextInputConfigField(JiraCloudDescriptor.KEY_RESOLVE_WORKFLOW_TRANSITION, LABEL_RESOLVE_WORKFLOW_TRANSITION, DESCRIPTION_RESOLVE_WORKFLOW_TRANSITION);\n         ConfigField openWorkflow = new TextInputConfigField(JiraCloudDescriptor.KEY_OPEN_WORKFLOW_TRANSITION, LABEL_OPEN_WORKFLOW_TRANSITION, DESCRIPTION_OPEN_WORKFLOW_TRANSITION)\n                                        .applyRequiredRelatedField(resolveWorkflow.getKey());\n+        ConfigField fieldMapping = new FieldMappingEndpointField(JiraCloudDescriptor.KEY_FIELD_MAPPING, LABEL_FIELD_MAPPING, DESCRIPTION_FIELD_MAPPING, \"Jira Field\", \"Notification content\")\n+                                       .applyNewMappingTitle(\"Create Jira Field Mapping\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09d5be1c20eeb9c14c643674f5e1c2200e414bde"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MTY0MzM1OnYy", "diffSide": "RIGHT", "path": "ui/src/main/js/field/TableDisplay.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNjozMzo1N1rOIKBRGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNjozMzo1N1rOIKBRGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM3NzQzNA==", "bodyText": "Added this to address browser errors with columns not having unique keys.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1316#discussion_r547377434", "createdAt": "2020-12-22T16:33:57Z", "author": {"login": "jamesrichard91"}, "path": "ui/src/main/js/field/TableDisplay.js", "diffHunk": "@@ -408,6 +408,7 @@ class TableDisplay extends Component {\n     createIconTableHeader(dataFormat, text) {\n         return (\n             <TableHeaderColumn\n+                key={`${text}Key`}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f02751834e364edea430cd44c17cadd2628c0c1c"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MTY0Mzk3OnYy", "diffSide": "RIGHT", "path": "ui/src/main/js/field/input/TableSelectInput.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNjozNDowOFrOIKBReA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNjozNDowOFrOIKBReA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM3NzUyOA==", "bodyText": "Added this to address browser errors with columns not having unique keys.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1316#discussion_r547377528", "createdAt": "2020-12-22T16:34:08Z", "author": {"login": "jamesrichard91"}, "path": "ui/src/main/js/field/input/TableSelectInput.js", "diffHunk": "@@ -383,7 +383,7 @@ class TableSelectInput extends Component {\n         ));\n \n         // Need to add this column to the array as you can't display tableColumns dynamically and statically https://github.com/AllenFang/react-bootstrap-table/issues/1814\n-        tableColumns.push(<TableHeaderColumn dataField=\"missing\" dataFormat={assignDataFormat} hidden>Missing Data</TableHeaderColumn>);\n+        tableColumns.push(<TableHeaderColumn key=\"missingHeaderKey\" dataField=\"missing\" dataFormat={assignDataFormat} hidden>Missing Data</TableHeaderColumn>);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f02751834e364edea430cd44c17cadd2628c0c1c"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MTY4MzM3OnYy", "diffSide": "RIGHT", "path": "alert-database/src/main/java/com/synopsys/integration/alert/database/job/jira/cloud/JiraCloudJobDetailsAccessor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNjo0NTozOVrOIKBpFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNjo0NTozOVrOIKBpFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM4MzU3NA==", "bodyText": "Oh wow. This is probably a bug in a few other places as well. I'll create a ticket against 6.4.0", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1316#discussion_r547383574", "createdAt": "2020-12-22T16:45:39Z", "author": {"login": "gkillough"}, "path": "alert-database/src/main/java/com/synopsys/integration/alert/database/job/jira/cloud/JiraCloudJobDetailsAccessor.java", "diffHunk": "@@ -68,6 +67,8 @@ public JiraCloudJobDetailsEntity saveJiraCloudJobDetails(UUID jobId, JiraCloudJo\n         if (!customFieldsToSave.isEmpty()) {\n             List<JiraCloudJobCustomFieldEntity> savedCustomFields = jiraCloudJobCustomFieldRepository.saveAll(customFieldsToSave);\n             savedJobDetails.setJobCustomFields(savedCustomFields);\n+        } else {\n+            savedJobDetails.setJobCustomFields(List.of());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f3dcd163b2e0782d1919e15cefe4ecaf558dd8c"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MTcwMDU2OnYy", "diffSide": "RIGHT", "path": "alert-database/src/main/resources/liquibase/6.4.0/jira-custom-fields.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNjo1MDozNVrOIKBzWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNzowNzozM1rOIKCUKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM4NjIwMg==", "bodyText": "Do we still need these fields in the DB if we aren't storing them with these tables? Does the UI config adequately handle the current dynamic field generation without these being stored?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1316#discussion_r547386202", "createdAt": "2020-12-22T16:50:35Z", "author": {"login": "gkillough"}, "path": "alert-database/src/main/resources/liquibase/6.4.0/jira-custom-fields.xml", "diffHunk": "@@ -76,4 +76,33 @@\n         />\n     </changeSet>\n \n+    <changeSet author=\"jrichard\" id=\"add-defined-field-field-mapping\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f3dcd163b2e0782d1919e15cefe4ecaf558dd8c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM5NDYwMw==", "bodyText": "I added these, because our current job config handling strips out all non-registered fields from the key value pairs. When we change the job handling, this will no longer be necessary.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1316#discussion_r547394603", "createdAt": "2020-12-22T17:07:33Z", "author": {"login": "jamesrichard91"}, "path": "alert-database/src/main/resources/liquibase/6.4.0/jira-custom-fields.xml", "diffHunk": "@@ -76,4 +76,33 @@\n         />\n     </changeSet>\n \n+    <changeSet author=\"jrichard\" id=\"add-defined-field-field-mapping\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM4NjIwMg=="}, "originalCommit": {"oid": "4f3dcd163b2e0782d1919e15cefe4ecaf558dd8c"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MTcyNzU2OnYy", "diffSide": "RIGHT", "path": "channel/src/main/java/com/synopsys/integration/alert/channel/jira/cloud/descriptor/JiraCloudDistributionUIConfig.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNjo1ODo0MFrOIKCDgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNjo1ODo0MFrOIKCDgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM5MDMzOQ==", "bodyText": "We should put this in its own field group. \"Advanced\" or something. I think you can apply it to ConfigField.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1316#discussion_r547390339", "createdAt": "2020-12-22T16:58:40Z", "author": {"login": "gkillough"}, "path": "channel/src/main/java/com/synopsys/integration/alert/channel/jira/cloud/descriptor/JiraCloudDistributionUIConfig.java", "diffHunk": "@@ -67,8 +86,33 @@ public JiraCloudDistributionUIConfig() {\n         ConfigField resolveWorkflow = new TextInputConfigField(JiraCloudDescriptor.KEY_RESOLVE_WORKFLOW_TRANSITION, LABEL_RESOLVE_WORKFLOW_TRANSITION, DESCRIPTION_RESOLVE_WORKFLOW_TRANSITION);\n         ConfigField openWorkflow = new TextInputConfigField(JiraCloudDescriptor.KEY_OPEN_WORKFLOW_TRANSITION, LABEL_OPEN_WORKFLOW_TRANSITION, DESCRIPTION_OPEN_WORKFLOW_TRANSITION)\n                                        .applyRequiredRelatedField(resolveWorkflow.getKey());\n+        ConfigField fieldMapping = new FieldMappingEndpointField(JiraCloudDescriptor.KEY_FIELD_MAPPING, LABEL_FIELD_MAPPING, DESCRIPTION_FIELD_MAPPING, \"Jira Field\", \"Value\")\n+                                       .applyNewMappingTitle(\"Create Jira Field Mapping\")\n+                                       .applyValidationFunctions(this::validateFieldMapping);\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f3dcd163b2e0782d1919e15cefe4ecaf558dd8c"}, "originalPosition": 60}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MTcyOTkxOnYy", "diffSide": "RIGHT", "path": "channel/src/main/java/com/synopsys/integration/alert/channel/jira/server/descriptor/JiraServerDistributionUIConfig.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNjo1OToxNlrOIKCE4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNjo1OToxNlrOIKCE4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM5MDY5MQ==", "bodyText": "Same group comment here.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1316#discussion_r547390691", "createdAt": "2020-12-22T16:59:16Z", "author": {"login": "gkillough"}, "path": "channel/src/main/java/com/synopsys/integration/alert/channel/jira/server/descriptor/JiraServerDistributionUIConfig.java", "diffHunk": "@@ -64,8 +85,33 @@ public JiraServerDistributionUIConfig() {\n         ConfigField resolveWorkflow = new TextInputConfigField(JiraServerDescriptor.KEY_RESOLVE_WORKFLOW_TRANSITION, LABEL_RESOLVE_WORKFLOW_TRANSITION, DESCRIPTION_RESOLVE_WORKFLOW_TRANSITION);\n         ConfigField openWorkflow = new TextInputConfigField(JiraServerDescriptor.KEY_OPEN_WORKFLOW_TRANSITION, LABEL_OPEN_WORKFLOW_TRANSITION, DESCRIPTION_OPEN_WORKFLOW_TRANSITION)\n                                        .applyRequiredRelatedField(resolveWorkflow.getKey());\n+        ConfigField fieldMapping = new FieldMappingEndpointField(JiraCloudDescriptor.KEY_FIELD_MAPPING, LABEL_FIELD_MAPPING, DESCRIPTION_FIELD_MAPPING, \"Jira Field\", \"Value\")\n+                                       .applyNewMappingTitle(\"Create Jira Field Mapping\")\n+                                       .applyValidationFunctions(this::validateFieldMapping);\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f3dcd163b2e0782d1919e15cefe4ecaf558dd8c"}, "originalPosition": 62}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2269, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}