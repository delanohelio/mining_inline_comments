{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcyNzA1MDgz", "number": 1131, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxOToxNTowMlrOEbtQcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMjoyMTo0N1rOEcjIgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3NDg4NDk5OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/synopsys/integration/alert/web/api/certificate/CertificateActions.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxOToxNTowMlrOHFy0Qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxOTozNDoyMVrOHFzaPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgzNzUwNw==", "bodyText": "The class names are confusing to me here. We have a CertificateModel that we run convertToDatabaseModel which changes it to a CustomCertificateModel. I feel like the name CustomCertificateModel is misleading? Or perhaps the convertToDatabaseModel Should be changed?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1131#discussion_r475837507", "createdAt": "2020-08-24T19:15:02Z", "author": {"login": "bamandel"}, "path": "src/main/java/com/synopsys/integration/alert/web/api/certificate/CertificateActions.java", "diffHunk": "@@ -69,6 +70,43 @@ public CertificateActions(CustomCertificateAccessor certificateAccessor, Certifi\n                    .map(this::convertFromDatabaseModel);\n     }\n \n+    public MessageResult validateCertificate(CertificateModel certificateModel) {\n+        CustomCertificateModel convertedModel = convertToDatabaseModel(certificateModel);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ca282c35e177e210add199b85913a2d8c0d2d3c"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgzOTQxNw==", "bodyText": "The database API serves a CustomCertificateModel. The REST API serves a CertificateModel.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1131#discussion_r475839417", "createdAt": "2020-08-24T19:18:45Z", "author": {"login": "gkillough"}, "path": "src/main/java/com/synopsys/integration/alert/web/api/certificate/CertificateActions.java", "diffHunk": "@@ -69,6 +70,43 @@ public CertificateActions(CustomCertificateAccessor certificateAccessor, Certifi\n                    .map(this::convertFromDatabaseModel);\n     }\n \n+    public MessageResult validateCertificate(CertificateModel certificateModel) {\n+        CustomCertificateModel convertedModel = convertToDatabaseModel(certificateModel);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgzNzUwNw=="}, "originalCommit": {"oid": "4ca282c35e177e210add199b85913a2d8c0d2d3c"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg0NTY0Mw==", "bodyText": "I guess I'm confused about what a custom certificate is. Is it just a self signed certificate? Or is the user somehow customizing this model?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1131#discussion_r475845643", "createdAt": "2020-08-24T19:31:09Z", "author": {"login": "bamandel"}, "path": "src/main/java/com/synopsys/integration/alert/web/api/certificate/CertificateActions.java", "diffHunk": "@@ -69,6 +70,43 @@ public CertificateActions(CustomCertificateAccessor certificateAccessor, Certifi\n                    .map(this::convertFromDatabaseModel);\n     }\n \n+    public MessageResult validateCertificate(CertificateModel certificateModel) {\n+        CustomCertificateModel convertedModel = convertToDatabaseModel(certificateModel);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgzNzUwNw=="}, "originalCommit": {"oid": "4ca282c35e177e210add199b85913a2d8c0d2d3c"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg0NzIyOQ==", "bodyText": "It would probably be better to call it a UserProvidedCertificate or something, but this code is actually just moved code from lower in the class. I could make the change in this PR, but it's slightly out of scope.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1131#discussion_r475847229", "createdAt": "2020-08-24T19:34:21Z", "author": {"login": "gkillough"}, "path": "src/main/java/com/synopsys/integration/alert/web/api/certificate/CertificateActions.java", "diffHunk": "@@ -69,6 +70,43 @@ public CertificateActions(CustomCertificateAccessor certificateAccessor, Certifi\n                    .map(this::convertFromDatabaseModel);\n     }\n \n+    public MessageResult validateCertificate(CertificateModel certificateModel) {\n+        CustomCertificateModel convertedModel = convertToDatabaseModel(certificateModel);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgzNzUwNw=="}, "originalCommit": {"oid": "4ca282c35e177e210add199b85913a2d8c0d2d3c"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3NDk1MDExOnYy", "diffSide": "RIGHT", "path": "src/main/js/dynamic/loaded/certificates/CertificatesPage.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxOTozNTowN1rOHFzb5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxOTozNTowN1rOHFzb5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg0NzY1Mw==", "bodyText": "It doesn't look like this else statement is necessary.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1131#discussion_r475847653", "createdAt": "2020-08-24T19:35:07Z", "author": {"login": "bamandel"}, "path": "src/main/js/dynamic/loaded/certificates/CertificatesPage.js", "diffHunk": "@@ -91,6 +91,16 @@ class CertificatesPage extends Component {\n     createModalFields() {\n         const { certificate } = this.state;\n         const { fieldErrors } = this.props;\n+\n+        const fieldStatuses = fieldErrors.fieldErrors;\n+        let fieldErrorMap = {};\n+        if (fieldStatuses) {\n+            fieldStatuses.forEach((fieldStatus) => {\n+                fieldErrorMap[fieldStatus.fieldName] = fieldStatus;\n+            });\n+        } else {\n+            fieldErrorMap = {};\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "de19b3c32b864ce65642dcfd484e38e5a8c3e480"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4MzcxMjAxOnYy", "diffSide": "RIGHT", "path": "src/main/js/dynamic/loaded/certificates/CertificatesPage.js", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMjoyMTo0OFrOHHJeCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMjozNjoxMlrOHHJ-nA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzI1NzIyNg==", "bodyText": "This code could most likely be moved into the httpErrorUtilities.js file to be used elsewhere until we convert to using the validation rest endpoint with a better object.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1131#discussion_r477257226", "createdAt": "2020-08-26T12:21:48Z", "author": {"login": "psantos1113"}, "path": "src/main/js/dynamic/loaded/certificates/CertificatesPage.js", "diffHunk": "@@ -91,6 +91,14 @@ class CertificatesPage extends Component {\n     createModalFields() {\n         const { certificate } = this.state;\n         const { fieldErrors } = this.props;\n+\n+        const fieldStatuses = fieldErrors.fieldErrors;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc72aab285b91382a4ad60059a7651d476c7efd2"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzI2NTU2NA==", "bodyText": "Yeah, this was actually the line I was concerned about. Not sure how it was working before, but I think the best solution might be to rename the prop for now so we don't have the weird nesting.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1131#discussion_r477265564", "createdAt": "2020-08-26T12:36:12Z", "author": {"login": "gkillough"}, "path": "src/main/js/dynamic/loaded/certificates/CertificatesPage.js", "diffHunk": "@@ -91,6 +91,14 @@ class CertificatesPage extends Component {\n     createModalFields() {\n         const { certificate } = this.state;\n         const { fieldErrors } = this.props;\n+\n+        const fieldStatuses = fieldErrors.fieldErrors;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzI1NzIyNg=="}, "originalCommit": {"oid": "fc72aab285b91382a4ad60059a7651d476c7efd2"}, "originalPosition": 35}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1698, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}