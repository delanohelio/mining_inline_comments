{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1MDQ0MzU2", "number": 1196, "title": "Move the permission cache updates into authorizationManager", "bodyText": "Move the permission cache updates into authorizationManager", "createdAt": "2020-09-29T19:09:21Z", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1196", "merged": true, "mergeCommit": {"oid": "530fd0fe61a6250ea6f118e0cbe47008bdc99bad"}, "closed": true, "closedAt": "2020-09-30T14:32:30Z", "author": {"login": "jamesrichard91"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNtEAIgH2gAyNDk1MDQ0MzU2OjNlNDlmZWZiY2QzNGQ2NjBmMjUwNmJlMmFjNWM3NjViYTgyOTJhYmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdN6LliAFqTQ5OTI4OTc0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3e49fefbcd34d660f2506be2ac5c765ba8292abd", "author": {"user": {"login": "jamesrichard91", "name": "James Richard"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/3e49fefbcd34d660f2506be2ac5c765ba8292abd", "committedDate": "2020-09-29T19:08:21Z", "message": "Refactor: Move the permission cache updates into authorizationManager"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4ODAwNzY3", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1196#pullrequestreview-498800767", "createdAt": "2020-09-29T19:11:52Z", "commit": {"oid": "3e49fefbcd34d660f2506be2ac5c765ba8292abd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOToxMTo1MlrOHZ8-bA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOToxMTo1MlrOHZ8-bA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk3NTQ2OA==", "bodyText": "We can now return this line.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1196#discussion_r496975468", "createdAt": "2020-09-29T19:11:52Z", "author": {"login": "gkillough"}, "path": "src/main/java/com/synopsys/integration/alert/ApplicationConfiguration.java", "diffHunk": "@@ -134,7 +134,6 @@ public PasswordEncoder defaultPasswordEncoder() {\n     @Bean\n     public AuthorizationManager authorizationManager(RoleAccessor roleAccessor) {\n         AuthorizationManager authorizationManager = new AuthorizationManager(roleAccessor);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e49fefbcd34d660f2506be2ac5c765ba8292abd"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4ODAxNDQ3", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1196#pullrequestreview-498801447", "createdAt": "2020-09-29T19:12:46Z", "commit": {"oid": "3e49fefbcd34d660f2506be2ac5c765ba8292abd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOToxMjo0N1rOHZ9B2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOToxMjo0N1rOHZ9B2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk3NjM0Ng==", "bodyText": "Let's move this private method to under the public ones.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1196#discussion_r496976346", "createdAt": "2020-09-29T19:12:47Z", "author": {"login": "gkillough"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/security/authorization/AuthorizationManager.java", "diffHunk": "@@ -164,9 +167,35 @@ private boolean currentUserHasPermission(AccessOperation operation, String conte\n                    .map(role -> StringUtils.substringAfter(role, UserModel.ROLE_PREFIX)).collect(Collectors.toSet());\n     }\n \n-    public final void loadPermissionsIntoCache() {\n+    private final void loadPermissionsIntoCache() {\n         Collection<UserRoleModel> roles = roleAccessor.getRoles();\n         permissionCache.putAll(roles.stream().collect(Collectors.toMap(UserRoleModel::getName, UserRoleModel::getPermissions)));\n     }\n \n+    private final void updateRoleInCache(String roleName, PermissionMatrixModel permissions) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e49fefbcd34d660f2506be2ac5c765ba8292abd"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4ODAyNjMy", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1196#pullrequestreview-498802632", "createdAt": "2020-09-29T19:14:26Z", "commit": {"oid": "3e49fefbcd34d660f2506be2ac5c765ba8292abd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a0e74cc39a2fd40ec947a484cfe7506879bc05c", "author": {"user": {"login": "jamesrichard91", "name": "James Richard"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/3a0e74cc39a2fd40ec947a484cfe7506879bc05c", "committedDate": "2020-09-29T19:27:42Z", "message": "Refactor: moving the public method above private methods based on PR suggestions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4ODIyODE2", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1196#pullrequestreview-498822816", "createdAt": "2020-09-29T19:43:38Z", "commit": {"oid": "3a0e74cc39a2fd40ec947a484cfe7506879bc05c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5Mjg5NzQ1", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1196#pullrequestreview-499289745", "createdAt": "2020-09-30T10:25:24Z", "commit": {"oid": "3a0e74cc39a2fd40ec947a484cfe7506879bc05c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3527, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}