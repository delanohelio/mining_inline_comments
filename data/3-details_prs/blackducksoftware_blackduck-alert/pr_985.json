{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxNTIxMzEx", "number": 985, "title": " helm docs", "bodyText": "Updated helm installation README file.  You can see how the changes look by navigating here.\nhttps://github.com/blackducksoftware/blackduck-alert/blob/ps_helm_docs/deployment/helm/synopsys-alert/README.md", "createdAt": "2020-05-21T18:57:02Z", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/985", "merged": true, "mergeCommit": {"oid": "9bbfb761b03b91f2a8a257d320e40b1e4c675d22"}, "closed": true, "closedAt": "2020-05-22T15:06:05Z", "author": {"login": "psantos1113"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjiUt9AH2gAyNDIxNTIxMzExOjBiY2VmOWQ0NWFlYTljM2Q3MjRhNjEyNDQ5OTNjM2E5ZGRjZGIzZjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjznaFAH2gAyNDIxNTIxMzExOjJjZWZmMmVlMWM0M2ViMjYxZWZiNTZhYzAyNjlkMGY2OWI2ZDJmOTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0bcef9d45aea9c3d724a61244993c3a9ddcdb3f0", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/0bcef9d45aea9c3d724a61244993c3a9ddcdb3f0", "committedDate": "2020-05-21T18:52:50Z", "message": "docs: Update the helm documentation."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NDQxODA0", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/985#pullrequestreview-416441804", "createdAt": "2020-05-21T19:48:36Z", "commit": {"oid": "0bcef9d45aea9c3d724a61244993c3a9ddcdb3f0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NDUwMTE1", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/985#pullrequestreview-416450115", "createdAt": "2020-05-21T20:01:26Z", "commit": {"oid": "0bcef9d45aea9c3d724a61244993c3a9ddcdb3f0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2OTIwOTA4", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/985#pullrequestreview-416920908", "createdAt": "2020-05-22T13:44:39Z", "commit": {"oid": "0bcef9d45aea9c3d724a61244993c3a9ddcdb3f0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxMzo0NDozOVrOGZXm9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxMzo0NDozOVrOGZXm9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI1NDM5MA==", "bodyText": "I believe this needs to be https://<EXTERNAL_NODE_IP>:<EXTERNAL_PORT>/alert. Users can get that information by doing a kubectl get nodes -o wide or by setting up an ingress.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/985#discussion_r429254390", "createdAt": "2020-05-22T13:44:39Z", "author": {"login": "mphammer"}, "path": "deployment/helm/synopsys-alert/README.md", "diffHunk": "@@ -29,36 +43,63 @@ $ helm install . --name <name> --namespace <namespace>\n \n ## Installing the Chart -- Helm 3\n \n-#### Create the Namespace and TLS Secrets\n+### Create the Namespace and TLS Secrets\n ```console\n $ kubectl create ns <namespace>\n ```\n-#### Configure your Black Duck Instance\n+### Configure your Alert Instance\n Modify the values.yaml file or pass in values to `helm install` with --set.  \n+Please see the [Configuration](#configuration) section for more details.\n \n-#### Install the Black Duck Chart\n-```\n+### Install the Alert Chart\n+```console\n $ helm install <name> . --namespace <namespace>\n ```\n \n-## Quick Start with Helm 3\n+### Quick Start with Helm 3\n #### Step 1\n Navigate to the alert-helm chart repository in your terminal\n-```\n+```console\n $ cd <path>/alert-helm\n ```\n \n #### Step 2\n-```\n+```console\n $ kubectl create ns myalert\n ```\n \n #### Step 3\n Deploy Alert\n-```\n+```console\n $ helm install myalert . --namespace myalert\n ```\n \n+## Finding Alert External Port\n+ Once Alert has been deployed if the `exposeui` parameter is true, then Alert will be available via an exposed port.\n+ To determine the port to access the Alert UI execute the following command:\n+ ```console \n+ $ kubectl -n <NAMESPACE> get services\n+ ```\n+ From the output find the Alert exposed service. This service will be your Alert installation name with the `-exposed` suffix in the name. \n+ If the installation name is 'myalert' then there will be a service `myalert-exposed` in the list of services.\n+ \n+ It will display a port with the following format:\n+  \n+  `<INTERNAL_PORT>:<EXTERNAL_PORT>/TCP`\n+  \n+  For example:\n+  \n+  `8443:31594/TCP`\n+  \n+  The internal port is 8443 and the external port is 31594. When accessing the Alert UI the external port will be used in the URL.\n+  Once the external port is identified the URL to access the UI will be in the following format:\n+  \n+  `https://my.kubernetes.host:<EXTERNAL_PORT>/alert`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bcef9d45aea9c3d724a61244993c3a9ddcdb3f0"}, "originalPosition": 108}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2OTI1NDc0", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/985#pullrequestreview-416925474", "createdAt": "2020-05-22T13:50:46Z", "commit": {"oid": "0bcef9d45aea9c3d724a61244993c3a9ddcdb3f0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxMzo1MDo0NlrOGZX05A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxMzo1MDo0NlrOGZX05A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI1Nzk1Ng==", "bodyText": "It only needs to be created first if they don't have a dynamic provisioner - which will see the pvc and create a persistent volume for it", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/985#discussion_r429257956", "createdAt": "2020-05-22T13:50:46Z", "author": {"login": "mphammer"}, "path": "deployment/helm/synopsys-alert/README.md", "diffHunk": "@@ -130,3 +190,237 @@ Alternatively, a YAML file that specifies the values for the above parameters ca\n ```console\n $ helm install . --name <name> --namespace <namespace> --set enableStandalone=true\n ```\n+\n+### Persistent Storage\n+The section will describe the changes needed to configure persistent storage.  \n+**Please note:** By default the 'values.yaml' file has persistent storage disabled in order for Alert to work out of the box.\n+\n+#### Enable Persistent Storage\n+- In the 'values.yaml' file change \n+  ```yaml\n+  enablePersistentStorage: true \n+  ```\n+#### With Storage Claims\n+This section defines configuration using Persistent Volume Claims.  Claims can be optionally used rather than just a Persistent volume.\n+You must have a claim created for the 'alert' service regardless of an on-premise or external database.\n+For the on-premise database deployment a second Persistent Volume Claim must be created to store the database data.\n+\n+##### Alert Volume Claim Configuration\n+- A persistent volume must be created first", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bcef9d45aea9c3d724a61244993c3a9ddcdb3f0"}, "originalPosition": 213}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d493c319456581089a08b404de6a626e51a15aa3", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/d493c319456581089a08b404de6a626e51a15aa3", "committedDate": "2020-05-22T14:33:44Z", "message": "docs: Update based on PR feedback."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e724be151e634f9d6a081d4109f35e7733cdb3c", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/8e724be151e634f9d6a081d4109f35e7733cdb3c", "committedDate": "2020-05-22T14:46:48Z", "message": "docs: Update persistent storage section."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2OTcwNTIz", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/985#pullrequestreview-416970523", "createdAt": "2020-05-22T14:48:36Z", "commit": {"oid": "8e724be151e634f9d6a081d4109f35e7733cdb3c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ceff2ee1c43eb261efb56ac0269d0f69b6d2f93", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/2ceff2ee1c43eb261efb56ac0269d0f69b6d2f93", "committedDate": "2020-05-22T15:01:38Z", "message": "docs: Update information about persistent storage."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2737, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}