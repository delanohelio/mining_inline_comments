{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyNTEzMTY1", "number": 1236, "title": "Static Job Accessor", "bodyText": "There are some \"intermediate\" helper utils for the time being until we can completely update the JobAccessor API.\nRead This First!\n\nThe strongly-typed ChannelKeys are not currently available in alert-common or alert-database\nThe field name String literals are an intermediate step to transitioning to static models in JobAccessor's API\nMoving channel keys or field keys is out of scope for this PR\nI did not want to create new constants for these things because then it would create more than one \"source of truth\" on what these Strings should look like. If I put them in alert-common it could get messy very quickly as people start using them instead of the descriptors for channel keys and field keys.", "createdAt": "2020-10-29T19:33:59Z", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236", "merged": true, "mergeCommit": {"oid": "07369e1c124341afcedea2c00fc6b827ecb8f466"}, "closed": true, "closedAt": "2020-10-30T17:41:06Z", "author": {"login": "gkillough"}, "timelineItems": {"totalCount": 35, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdW-B5GgH2gAyNTEyNTEzMTY1OjcyNzM4YmFlNDkwMTFmNDNkYzZiYmYxNDRlNzdkNDczOGExYTdiZDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXqY3cAH2gAyNTEyNTEzMTY1OjRlZjhkOGQzNTcyZTQxYTRmZDUxOTc1ZDMzMzlmY2YzMDljOWQ0NjM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "72738bae49011f43dc6bbf144e77d4738a1a7bd4", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/72738bae49011f43dc6bbf144e77d4738a1a7bd4", "committedDate": "2020-10-28T13:59:45Z", "message": "Feat(Jobs): Begin implementing alternative job accessor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b723c72bb2fd1d089c3466e1a12aa2cd6d014587", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/b723c72bb2fd1d089c3466e1a12aa2cd6d014587", "committedDate": "2020-10-28T14:25:31Z", "message": "Feat(Jobs): Begin implementing configuration model channel field population"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8dd0c72108d1d6747c921ee3b9f7dc28e0249747", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/8dd0c72108d1d6747c921ee3b9f7dc28e0249747", "committedDate": "2020-10-28T14:59:45Z", "message": "Feat(Jobs): Complete implementation of channel field population for a configuration model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7a4f76f5f7a291c3af944096293b406120906b0", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/f7a4f76f5f7a291c3af944096293b406120906b0", "committedDate": "2020-10-28T15:03:41Z", "message": "Feat(Jobs): Implement methods for new job accessor that require no custom queries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abca6784789a5a199fa8506f54b9b89dba439edf", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/abca6784789a5a199fa8506f54b9b89dba439edf", "committedDate": "2020-10-28T15:54:51Z", "message": "Feat(Jobs): Implement non-standard queries for static job accessor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c6408beb638979e3cdebfab73ccfa1e0930d296", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/3c6408beb638979e3cdebfab73ccfa1e0930d296", "committedDate": "2020-10-28T18:12:42Z", "message": "Feat(Jobs): Add new strongly-typed models to use with distribution jobs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33050c196e74c73b56c232cd2ea12b2aee8c53ab", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/33050c196e74c73b56c232cd2ea12b2aee8c53ab", "committedDate": "2020-10-28T19:00:12Z", "message": "Feat(Jobs): Beging implementing job write operations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d26e64a187abb841f3927c31dd1b088ffea158d", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/4d26e64a187abb841f3927c31dd1b088ffea158d", "committedDate": "2020-10-29T13:33:33Z", "message": "Feat(Jobs): Add strongly typed job details models for channels"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08ad35ee0e974f2f4fda479a1aa665d40faeac15", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/08ad35ee0e974f2f4fda479a1aa665d40faeac15", "committedDate": "2020-10-29T14:19:54Z", "message": "Feat(Jobs): Move BlackDuck database operations to its own accessor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "459e7414fb8aa893cb4e506a3003709c9a61ca8f", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/459e7414fb8aa893cb4e506a3003709c9a61ca8f", "committedDate": "2020-10-29T17:22:08Z", "message": "Feat(Jobs): Create accessors for each channel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b3e9de41329897cfc3715c808983a0b054b2206", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/5b3e9de41329897cfc3715c808983a0b054b2206", "committedDate": "2020-10-29T19:21:12Z", "message": "Fix(Jobs): Clean up nullable handling and switch component annotation from the old job accessor to the new job accessor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/a6da524629b0685b80cc0dfa0249fafa6c38838d", "committedDate": "2020-10-30T13:33:47Z", "message": "Fix(Jobs): Add transactional annotations and remove unnecessary join relationships from java entities"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjc4NzAx", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520678701", "createdAt": "2020-10-30T13:42:46Z", "commit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo0Mjo0NlrOHrPkrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo0Mjo0NlrOHrPkrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEwNTk2Nw==", "bodyText": "Can we change the distributionFrequency to use the Enum type FrequencyType, since this is not the Database entity?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515105967", "createdAt": "2020-10-30T13:42:46Z", "author": {"login": "jamesrichard91"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/persistence/model/job/DistributionJobModel.java", "diffHunk": "@@ -0,0 +1,162 @@\n+/**\n+ * alert-common\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.common.persistence.model.job;\n+\n+import java.time.OffsetDateTime;\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.UUID;\n+\n+import org.jetbrains.annotations.Nullable;\n+\n+import com.synopsys.integration.alert.common.persistence.model.job.details.DistributionJobDetailsModel;\n+import com.synopsys.integration.alert.common.rest.model.AlertSerializableModel;\n+\n+public class DistributionJobModel extends AlertSerializableModel {\n+    private final UUID jobId;\n+    private final boolean enabled;\n+    private final String name;\n+    private final String distributionFrequency;\n+    private final String processingType;\n+    private final String channelDescriptorName;\n+    private final OffsetDateTime createdAt;\n+    private final OffsetDateTime lastUpdated;\n+\n+    // Black Duck fields will be common as long as it is the only provider\n+    private final Long blackDuckGlobalConfigId;\n+    private final boolean filterByProject;\n+    private final String projectNamePattern;\n+    private final List<String> notificationTypes;\n+    private final List<String> projectFilterProjectNames;\n+    private final List<String> policyFilterPolicyNames;\n+    private final List<String> vulnerabilityFilterSeverityNames;\n+\n+    private final DistributionJobDetailsModel distributionJobDetails;\n+\n+    public static DistributionJobModelBuilder builder() {\n+        return new DistributionJobModelBuilder();\n+    }\n+\n+    protected DistributionJobModel(\n+        UUID jobId,\n+        boolean enabled,\n+        String name,\n+        String distributionFrequency,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "originalPosition": 64}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjc5OTI4", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520679928", "createdAt": "2020-10-30T13:44:11Z", "commit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo0NDoxMVrOHrPn4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo0NDoxMVrOHrPn4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEwNjc4Nw==", "bodyText": "Can we change the processingType to use the Enum type ProcessingType, since this is not the Database entity?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515106787", "createdAt": "2020-10-30T13:44:11Z", "author": {"login": "jamesrichard91"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/persistence/model/job/DistributionJobModel.java", "diffHunk": "@@ -0,0 +1,162 @@\n+/**\n+ * alert-common\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.common.persistence.model.job;\n+\n+import java.time.OffsetDateTime;\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.UUID;\n+\n+import org.jetbrains.annotations.Nullable;\n+\n+import com.synopsys.integration.alert.common.persistence.model.job.details.DistributionJobDetailsModel;\n+import com.synopsys.integration.alert.common.rest.model.AlertSerializableModel;\n+\n+public class DistributionJobModel extends AlertSerializableModel {\n+    private final UUID jobId;\n+    private final boolean enabled;\n+    private final String name;\n+    private final String distributionFrequency;\n+    private final String processingType;\n+    private final String channelDescriptorName;\n+    private final OffsetDateTime createdAt;\n+    private final OffsetDateTime lastUpdated;\n+\n+    // Black Duck fields will be common as long as it is the only provider\n+    private final Long blackDuckGlobalConfigId;\n+    private final boolean filterByProject;\n+    private final String projectNamePattern;\n+    private final List<String> notificationTypes;\n+    private final List<String> projectFilterProjectNames;\n+    private final List<String> policyFilterPolicyNames;\n+    private final List<String> vulnerabilityFilterSeverityNames;\n+\n+    private final DistributionJobDetailsModel distributionJobDetails;\n+\n+    public static DistributionJobModelBuilder builder() {\n+        return new DistributionJobModelBuilder();\n+    }\n+\n+    protected DistributionJobModel(\n+        UUID jobId,\n+        boolean enabled,\n+        String name,\n+        String distributionFrequency,\n+        String processingType,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "originalPosition": 65}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjg1MzA5", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520685309", "createdAt": "2020-10-30T13:50:14Z", "commit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1MDoxNFrOHrP3ow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1MDoxNFrOHrP3ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExMDgxOQ==", "bodyText": "We should get this key from the Jira Server Channel Key. Either construct the Object here and call getUniversalKey() OR make this string public static final in the Jira Server Channel Key.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515110819", "createdAt": "2020-10-30T13:50:14Z", "author": {"login": "jamesrichard91"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/persistence/model/job/details/JiraServerJobDetailsModel.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/**\n+ * alert-common\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.common.persistence.model.job.details;\n+\n+public class JiraServerJobDetailsModel extends DistributionJobDetailsModel {\n+    private final boolean addComments;\n+    private final String issueCreatorUsername;\n+    private final String projectNameOrKey;\n+    private final String issueType;\n+    private final String resolveTransition;\n+    private final String reopenTransition;\n+\n+    public JiraServerJobDetailsModel(boolean addComments, String issueCreatorUsername, String projectNameOrKey, String issueType, String resolveTransition, String reopenTransition) {\n+        super(\"channel_jira_server\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjg1NjIz", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520685623", "createdAt": "2020-10-30T13:50:36Z", "commit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1MDozNlrOHrP4iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1MDozNlrOHrP4iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExMTA1MQ==", "bodyText": "We should get this key from the Email Channel Key. Either construct the Object here and call getUniversalKey() OR make this string public static final in the Email Channel Key.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515111051", "createdAt": "2020-10-30T13:50:36Z", "author": {"login": "jamesrichard91"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/persistence/model/job/details/EmailJobDetailsModel.java", "diffHunk": "@@ -0,0 +1,63 @@\n+/**\n+ * alert-common\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.common.persistence.model.job.details;\n+\n+import java.util.List;\n+\n+public class EmailJobDetailsModel extends DistributionJobDetailsModel {\n+    private final String subjectLine;\n+    private final boolean projectOwnerOnly;\n+    private final boolean additionalEmailAddressesOnly;\n+    private final String attachmentFileType;\n+    private final List<String> additionalEmailAddresses;\n+\n+    public EmailJobDetailsModel(String subjectLine, boolean projectOwnerOnly, boolean additionalEmailAddressesOnly, String attachmentFileType, List<String> additionalEmailAddresses) {\n+        super(\"channel_email\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjg1ODU4", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520685858", "createdAt": "2020-10-30T13:50:53Z", "commit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1MDo1M1rOHrP5Rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1MDo1M1rOHrP5Rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExMTIzOA==", "bodyText": "Same, get from channel key", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515111238", "createdAt": "2020-10-30T13:50:53Z", "author": {"login": "jamesrichard91"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/persistence/model/job/details/JiraCloudJobDetailsModel.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/**\n+ * alert-common\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.common.persistence.model.job.details;\n+\n+public class JiraCloudJobDetailsModel extends DistributionJobDetailsModel {\n+    private final boolean addComments;\n+    private final String issueCreatorEmail;\n+    private final String projectNameOrKey;\n+    private final String issueType;\n+    private final String resolveTransition;\n+    private final String reopenTransition;\n+\n+    public JiraCloudJobDetailsModel(boolean addComments, String issueCreatorEmail, String projectNameOrKey, String issueType, String resolveTransition, String reopenTransition) {\n+        super(\"channel_jira_cloud\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjg2MzAw", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520686300", "createdAt": "2020-10-30T13:51:07Z", "commit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1MTowOFrOHrP5-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1MTowOFrOHrP5-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExMTQxOA==", "bodyText": "Same, get from channel key", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515111418", "createdAt": "2020-10-30T13:51:08Z", "author": {"login": "jamesrichard91"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/persistence/model/job/details/MSTeamsJobDetailsModel.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/**\n+ * alert-common\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.common.persistence.model.job.details;\n+\n+public class MSTeamsJobDetailsModel extends DistributionJobDetailsModel {\n+    private final String webhook;\n+\n+    public MSTeamsJobDetailsModel(String webhook) {\n+        super(\"msteamskey\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjg2Nzg2", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520686786", "createdAt": "2020-10-30T13:51:20Z", "commit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1MToyMFrOHrP6ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1MToyMFrOHrP6ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExMTU2Mg==", "bodyText": "Same, get from channel key", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515111562", "createdAt": "2020-10-30T13:51:20Z", "author": {"login": "jamesrichard91"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/persistence/model/job/details/SlackJobDetailsModel.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/**\n+ * alert-common\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.common.persistence.model.job.details;\n+\n+public class SlackJobDetailsModel extends DistributionJobDetailsModel {\n+    private final String webhook;\n+    private final String channelName;\n+    private final String channelUsername;\n+\n+    public SlackJobDetailsModel(String webhook, String channelName, String channelUsername) {\n+        super(\"channel_slack\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjg5MTE2", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520689116", "createdAt": "2020-10-30T13:53:50Z", "commit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1Mzo1MVrOHrQDfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1Mzo1MVrOHrQDfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExMzg1Mw==", "bodyText": "Should this return DistributionJobModel instead of ConfigurationJobModel at this point? Same for the methods above?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515113853", "createdAt": "2020-10-30T13:53:51Z", "author": {"login": "jamesrichard91"}, "path": "alert-database/src/main/java/com/synopsys/integration/alert/database/api/StaticJobAccessor.java", "diffHunk": "@@ -0,0 +1,276 @@\n+/**\n+ * alert-database\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.database.api;\n+\n+import java.time.OffsetDateTime;\n+import java.util.Collection;\n+import java.util.LinkedHashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.UUID;\n+import java.util.function.Function;\n+import java.util.stream.Collectors;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.data.domain.Page;\n+import org.springframework.data.domain.PageRequest;\n+import org.springframework.stereotype.Component;\n+import org.springframework.transaction.annotation.Transactional;\n+\n+import com.synopsys.integration.alert.common.enumeration.ConfigContextEnum;\n+import com.synopsys.integration.alert.common.enumeration.FrequencyType;\n+import com.synopsys.integration.alert.common.exception.AlertDatabaseConstraintException;\n+import com.synopsys.integration.alert.common.exception.AlertRuntimeException;\n+import com.synopsys.integration.alert.common.persistence.accessor.JobAccessor;\n+import com.synopsys.integration.alert.common.persistence.model.ConfigurationFieldModel;\n+import com.synopsys.integration.alert.common.persistence.model.ConfigurationJobModel;\n+import com.synopsys.integration.alert.common.persistence.model.ConfigurationModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.DistributionJobModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.DistributionJobDetailsModel;\n+import com.synopsys.integration.alert.common.persistence.model.mutable.ConfigurationModelMutable;\n+import com.synopsys.integration.alert.common.provider.ProviderKey;\n+import com.synopsys.integration.alert.common.rest.model.AlertPagedModel;\n+import com.synopsys.integration.alert.common.util.DateUtils;\n+import com.synopsys.integration.alert.database.configuration.RegisteredDescriptorEntity;\n+import com.synopsys.integration.alert.database.configuration.repository.RegisteredDescriptorRepository;\n+import com.synopsys.integration.alert.database.job.DistributionJobEntity;\n+import com.synopsys.integration.alert.database.job.DistributionJobRepository;\n+import com.synopsys.integration.alert.database.job.JobConfigurationModelFieldExtractorUtils;\n+import com.synopsys.integration.alert.database.job.JobConfigurationModelFieldPopulationUtils;\n+import com.synopsys.integration.alert.database.job.azure.boards.AzureBoardsJobDetailsAccessor;\n+import com.synopsys.integration.alert.database.job.azure.boards.AzureBoardsJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.blackduck.BlackDuckJobDetailsAccessor;\n+import com.synopsys.integration.alert.database.job.blackduck.BlackDuckJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.email.EmailJobDetailsAccessor;\n+import com.synopsys.integration.alert.database.job.email.EmailJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.jira.cloud.JiraCloudJobDetailsAccessor;\n+import com.synopsys.integration.alert.database.job.jira.cloud.JiraCloudJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.jira.server.JiraServerJobDetailsAccessor;\n+import com.synopsys.integration.alert.database.job.jira.server.JiraServerJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.msteams.MSTeamsJobDetailsAccessor;\n+import com.synopsys.integration.alert.database.job.msteams.MSTeamsJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.slack.SlackJobDetailsAccessor;\n+import com.synopsys.integration.alert.database.job.slack.SlackJobDetailsEntity;\n+\n+@Component\n+public class StaticJobAccessor implements JobAccessor {\n+    private final DistributionJobRepository distributionJobRepository;\n+    private final BlackDuckJobDetailsAccessor blackDuckJobDetailsAccessor;\n+    private final AzureBoardsJobDetailsAccessor azureBoardsJobDetailsAccessor;\n+    private final EmailJobDetailsAccessor emailJobDetailsAccessor;\n+    private final JiraCloudJobDetailsAccessor jiraCloudJobDetailsAccessor;\n+    private final JiraServerJobDetailsAccessor jiraServerJobDetailsAccessor;\n+    private final MSTeamsJobDetailsAccessor msTeamsJobDetailsAccessor;\n+    private final SlackJobDetailsAccessor slackJobDetailsAccessor;\n+\n+    // Temporary until all three tiers of the application have been updated to new Job models\n+    private final RegisteredDescriptorRepository registeredDescriptorRepository;\n+    // BlackDuck is currently the only provider, so this is safe in the short-term while we transition to new models\n+    private final ProviderKey blackDuckProviderKey;\n+\n+    @Autowired\n+    public StaticJobAccessor(\n+        DistributionJobRepository distributionJobRepository,\n+        BlackDuckJobDetailsAccessor blackDuckJobDetailsAccessor,\n+        AzureBoardsJobDetailsAccessor azureBoardsJobDetailsAccessor,\n+        EmailJobDetailsAccessor emailJobDetailsAccessor,\n+        JiraCloudJobDetailsAccessor jiraCloudJobDetailsAccessor,\n+        JiraServerJobDetailsAccessor jiraServerJobDetailsAccessor,\n+        MSTeamsJobDetailsAccessor msTeamsJobDetailsAccessor,\n+        SlackJobDetailsAccessor slackJobDetailsAccessor,\n+\n+        RegisteredDescriptorRepository registeredDescriptorRepository,\n+        ProviderKey blackDuckProviderKey\n+    ) {\n+        this.distributionJobRepository = distributionJobRepository;\n+        this.blackDuckJobDetailsAccessor = blackDuckJobDetailsAccessor;\n+        this.azureBoardsJobDetailsAccessor = azureBoardsJobDetailsAccessor;\n+        this.emailJobDetailsAccessor = emailJobDetailsAccessor;\n+        this.jiraCloudJobDetailsAccessor = jiraCloudJobDetailsAccessor;\n+        this.jiraServerJobDetailsAccessor = jiraServerJobDetailsAccessor;\n+        this.msTeamsJobDetailsAccessor = msTeamsJobDetailsAccessor;\n+        this.slackJobDetailsAccessor = slackJobDetailsAccessor;\n+        this.registeredDescriptorRepository = registeredDescriptorRepository;\n+        this.blackDuckProviderKey = blackDuckProviderKey;\n+    }\n+\n+    @Override\n+    @Transactional(readOnly = true)\n+    public List<ConfigurationJobModel> getAllJobs() {\n+        return distributionJobRepository.findAll()\n+                   .stream()\n+                   .map(this::convertToConfigurationJobModel)\n+                   .collect(Collectors.toList());\n+    }\n+\n+    @Override\n+    @Transactional(readOnly = true)\n+    public List<ConfigurationJobModel> getJobsById(Collection<UUID> jobIds) {\n+        return distributionJobRepository.findAllById(jobIds)\n+                   .stream()\n+                   .map(this::convertToConfigurationJobModel)\n+                   .collect(Collectors.toList());\n+    }\n+\n+    @Override\n+    @Transactional(readOnly = true)\n+    public AlertPagedModel<ConfigurationJobModel> getPageOfJobs(int pageOffset, int pageLimit, Collection<String> descriptorsNamesToInclude) {\n+        if (!descriptorsNamesToInclude.contains(blackDuckProviderKey.getUniversalKey())) {\n+            return new AlertPagedModel<>(0, pageOffset, pageLimit, List.of());\n+        }\n+\n+        PageRequest pageRequest = PageRequest.of(pageOffset, pageLimit);\n+        Page<ConfigurationJobModel> pageOfJobsWithDescriptorNames = distributionJobRepository.findByChannelDescriptorNameIn(descriptorsNamesToInclude, pageRequest)\n+                                                                        .map(this::convertToConfigurationJobModel);\n+        return new AlertPagedModel<>(pageOfJobsWithDescriptorNames.getTotalPages(), pageOffset, pageLimit, pageOfJobsWithDescriptorNames.getContent());\n+    }\n+\n+    @Override\n+    @Transactional(readOnly = true)\n+    public Optional<ConfigurationJobModel> getJobById(UUID jobId) {\n+        return distributionJobRepository.findById(jobId).map(this::convertToConfigurationJobModel);\n+    }\n+\n+    @Override\n+    @Transactional(readOnly = true)\n+    public Optional<ConfigurationJobModel> getJobByName(String jobName) {\n+        return distributionJobRepository.findByName(jobName)\n+                   .map(this::convertToConfigurationJobModel);\n+    }\n+\n+    @Override\n+    @Transactional(readOnly = true)\n+    public List<ConfigurationJobModel> getJobsByFrequency(FrequencyType frequency) {\n+        return distributionJobRepository.findByDistributionFrequency(frequency.name())\n+                   .stream()\n+                   .map(this::convertToConfigurationJobModel)\n+                   .collect(Collectors.toList());\n+    }\n+\n+    @Override\n+    @Transactional\n+    public ConfigurationJobModel createJob(Collection<String> descriptorNames, Collection<ConfigurationFieldModel> configuredFields) {\n+        return createJobWithId(null, configuredFields, DateUtils.createCurrentDateTimestamp(), null);\n+    }\n+\n+    @Override\n+    @Transactional\n+    public ConfigurationJobModel updateJob(UUID jobId, Collection<String> descriptorNames, Collection<ConfigurationFieldModel> configuredFields) throws AlertDatabaseConstraintException {\n+        DistributionJobEntity jobEntity = distributionJobRepository.findById(jobId)\n+                                              .orElseThrow(() -> new AlertDatabaseConstraintException(String.format(\"No job exists with the id [%s]\", jobId.toString())));\n+        OffsetDateTime createdAt = jobEntity.getCreatedAt();\n+\n+        deleteJob(jobId);\n+        return createJobWithId(jobId, configuredFields, createdAt, DateUtils.createCurrentDateTimestamp());\n+    }\n+\n+    @Override\n+    @Transactional\n+    public void deleteJob(UUID jobId) {\n+        distributionJobRepository.deleteById(jobId);\n+    }\n+\n+    private ConfigurationJobModel convertToConfigurationJobModel(DistributionJobEntity jobEntity) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "originalPosition": 195}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjkxMDU0", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520691054", "createdAt": "2020-10-30T13:56:01Z", "commit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1NjowMVrOHrQJPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1NjowMVrOHrQJPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExNTMyNg==", "bodyText": "All of these field keys should be public static final somewhere and we should be referencing the static strings rather than creating the field keys in this class.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515115326", "createdAt": "2020-10-30T13:56:01Z", "author": {"login": "jamesrichard91"}, "path": "alert-database/src/main/java/com/synopsys/integration/alert/database/job/JobConfigurationModelFieldExtractorUtils.java", "diffHunk": "@@ -0,0 +1,131 @@\n+/**\n+ * alert-database\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.database.job;\n+\n+import java.time.OffsetDateTime;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.UUID;\n+\n+import com.synopsys.integration.alert.common.persistence.model.ConfigurationFieldModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.DistributionJobModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.DistributionJobModelBuilder;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.AzureBoardsJobDetailsModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.DistributionJobDetailsModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.EmailJobDetailsModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.JiraCloudJobDetailsModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.JiraServerJobDetailsModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.MSTeamsJobDetailsModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.SlackJobDetailsModel;\n+\n+public class JobConfigurationModelFieldExtractorUtils {\n+    public static DistributionJobModel convertToDistributionJobModel(UUID jobId, Map<String, ConfigurationFieldModel> configuredFieldsMap, OffsetDateTime createdAt, OffsetDateTime lastUpdated) {\n+        String channelDescriptorName = extractFieldValueOrEmptyString(\"channel.common.channel.name\", configuredFieldsMap);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "originalPosition": 45}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjkyMDI4", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520692028", "createdAt": "2020-10-30T13:56:53Z", "commit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1Njo1M1rOHrQMDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1Njo1M1rOHrQMDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExNjA0NA==", "bodyText": "Field keys (\"provider.common.config.id\") should be referencing static strings rather than creating the string here.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515116044", "createdAt": "2020-10-30T13:56:53Z", "author": {"login": "jamesrichard91"}, "path": "alert-database/src/main/java/com/synopsys/integration/alert/database/job/JobConfigurationModelFieldPopulationUtils.java", "diffHunk": "@@ -0,0 +1,201 @@\n+/**\n+ * alert-database\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.database.job;\n+\n+import java.util.Collection;\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+\n+import org.apache.commons.lang3.StringUtils;\n+\n+import com.synopsys.integration.alert.common.persistence.model.ConfigurationFieldModel;\n+import com.synopsys.integration.alert.common.persistence.model.mutable.ConfigurationModelMutable;\n+import com.synopsys.integration.alert.database.job.azure.boards.AzureBoardsJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.blackduck.BlackDuckJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.blackduck.notification.BlackDuckJobNotificationTypeEntity;\n+import com.synopsys.integration.alert.database.job.blackduck.policy.BlackDuckJobPolicyFilterEntity;\n+import com.synopsys.integration.alert.database.job.blackduck.projects.BlackDuckJobProjectEntity;\n+import com.synopsys.integration.alert.database.job.blackduck.vulnerability.BlackDuckJobVulnerabilitySeverityFilterEntity;\n+import com.synopsys.integration.alert.database.job.email.EmailJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.email.additional.EmailJobAdditionalEmailAddressEntity;\n+import com.synopsys.integration.alert.database.job.jira.cloud.JiraCloudJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.jira.server.JiraServerJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.msteams.MSTeamsJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.slack.SlackJobDetailsEntity;\n+\n+public class JobConfigurationModelFieldPopulationUtils {\n+    public static void populateBlackDuckConfigurationModelFields(DistributionJobEntity jobEntity, ConfigurationModelMutable blackDuckConfigurationModel) {\n+        BlackDuckJobDetailsEntity blackDuckJobDetails = jobEntity.getBlackDuckJobDetails();\n+\n+        blackDuckConfigurationModel.put(createConfigFieldModel(\"provider.common.config.id\", blackDuckJobDetails.getGlobalConfigId().toString()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "originalPosition": 51}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjkyNTI2", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520692526", "createdAt": "2020-10-30T13:57:28Z", "commit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1NzoyOVrOHrQOEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1NzoyOVrOHrQOEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExNjU2Mg==", "bodyText": "These descriptor names should be coming from the channel keys or static strings in the channel keys.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515116562", "createdAt": "2020-10-30T13:57:29Z", "author": {"login": "jamesrichard91"}, "path": "alert-database/src/main/java/com/synopsys/integration/alert/database/job/JobConfigurationModelFieldPopulationUtils.java", "diffHunk": "@@ -0,0 +1,201 @@\n+/**\n+ * alert-database\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.database.job;\n+\n+import java.util.Collection;\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+\n+import org.apache.commons.lang3.StringUtils;\n+\n+import com.synopsys.integration.alert.common.persistence.model.ConfigurationFieldModel;\n+import com.synopsys.integration.alert.common.persistence.model.mutable.ConfigurationModelMutable;\n+import com.synopsys.integration.alert.database.job.azure.boards.AzureBoardsJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.blackduck.BlackDuckJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.blackduck.notification.BlackDuckJobNotificationTypeEntity;\n+import com.synopsys.integration.alert.database.job.blackduck.policy.BlackDuckJobPolicyFilterEntity;\n+import com.synopsys.integration.alert.database.job.blackduck.projects.BlackDuckJobProjectEntity;\n+import com.synopsys.integration.alert.database.job.blackduck.vulnerability.BlackDuckJobVulnerabilitySeverityFilterEntity;\n+import com.synopsys.integration.alert.database.job.email.EmailJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.email.additional.EmailJobAdditionalEmailAddressEntity;\n+import com.synopsys.integration.alert.database.job.jira.cloud.JiraCloudJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.jira.server.JiraServerJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.msteams.MSTeamsJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.slack.SlackJobDetailsEntity;\n+\n+public class JobConfigurationModelFieldPopulationUtils {\n+    public static void populateBlackDuckConfigurationModelFields(DistributionJobEntity jobEntity, ConfigurationModelMutable blackDuckConfigurationModel) {\n+        BlackDuckJobDetailsEntity blackDuckJobDetails = jobEntity.getBlackDuckJobDetails();\n+\n+        blackDuckConfigurationModel.put(createConfigFieldModel(\"provider.common.config.id\", blackDuckJobDetails.getGlobalConfigId().toString()));\n+        blackDuckConfigurationModel.put(createConfigFieldModel(\"provider.distribution.processing.type\", jobEntity.getProcessingType()));\n+\n+        Boolean filterByProject = blackDuckJobDetails.getFilterByProject();\n+        blackDuckConfigurationModel.put(createConfigFieldModel(\"channel.common.filter.by.project\", filterByProject.toString()));\n+        if (filterByProject) {\n+            String projectNamePattern = blackDuckJobDetails.getProjectNamePattern();\n+            if (StringUtils.isNotBlank(projectNamePattern)) {\n+                blackDuckConfigurationModel.put(createConfigFieldModel(\"channel.common.project.name.pattern\", projectNamePattern));\n+            }\n+\n+            List<BlackDuckJobProjectEntity> blackDuckJobProjects = blackDuckJobDetails.getBlackDuckJobProjects();\n+            if (null != blackDuckJobProjects && !blackDuckJobProjects.isEmpty()) {\n+                List<String> blackDuckProjectNames = blackDuckJobProjects\n+                                                         .stream()\n+                                                         .map(BlackDuckJobProjectEntity::getProjectName)\n+                                                         .collect(Collectors.toList());\n+                blackDuckConfigurationModel.put(createConfigFieldModel(\"channel.common.configured.project\", blackDuckProjectNames));\n+            }\n+        }\n+\n+        // These are required so they will not be null/empty\n+        List<String> blackDuckJobNotificationTypeNames = blackDuckJobDetails.getBlackDuckJobNotificationTypes()\n+                                                             .stream()\n+                                                             .map(BlackDuckJobNotificationTypeEntity::getNotificationType)\n+                                                             .collect(Collectors.toList());\n+        blackDuckConfigurationModel.put(createConfigFieldModel(\"provider.distribution.notification.types\", blackDuckJobNotificationTypeNames));\n+\n+        List<BlackDuckJobPolicyFilterEntity> blackDuckJobPolicyFilters = blackDuckJobDetails.getBlackDuckJobPolicyFilters();\n+        if (null != blackDuckJobPolicyFilters && !blackDuckJobPolicyFilters.isEmpty()) {\n+            List<String> blackDuckPolicyNames = blackDuckJobPolicyFilters\n+                                                    .stream()\n+                                                    .map(BlackDuckJobPolicyFilterEntity::getPolicyName)\n+                                                    .collect(Collectors.toList());\n+            blackDuckConfigurationModel.put(createConfigFieldModel(\"blackduck.policy.notification.filter\", blackDuckPolicyNames));\n+        }\n+\n+        List<BlackDuckJobVulnerabilitySeverityFilterEntity> blackDuckJobVulnerabilitySeverityFilters = blackDuckJobDetails.getBlackDuckJobVulnerabilitySeverityFilters();\n+        if (null != blackDuckJobVulnerabilitySeverityFilters && !blackDuckJobVulnerabilitySeverityFilters.isEmpty()) {\n+            List<String> blackDuckJobVulnerabilitySeverityNames = blackDuckJobVulnerabilitySeverityFilters\n+                                                                      .stream()\n+                                                                      .map(BlackDuckJobVulnerabilitySeverityFilterEntity::getSeverityName)\n+                                                                      .collect(Collectors.toList());\n+            blackDuckConfigurationModel.put(createConfigFieldModel(\"blackduck.vulnerability.notification.filter\", blackDuckJobVulnerabilitySeverityNames));\n+        }\n+    }\n+\n+    public static void populateChannelConfigurationModelFields(DistributionJobEntity jobEntity, ConfigurationModelMutable channelConfigurationModel) {\n+        String channelDescriptorName = jobEntity.getChannelDescriptorName();\n+        channelConfigurationModel.put(createConfigFieldModel(\"channel.common.enabled\", jobEntity.getEnabled().toString()));\n+        channelConfigurationModel.put(createConfigFieldModel(\"channel.common.name\", jobEntity.getName()));\n+        channelConfigurationModel.put(createConfigFieldModel(\"channel.common.channel.name\", channelDescriptorName));\n+        channelConfigurationModel.put(createConfigFieldModel(\"channel.common.frequency\", jobEntity.getDistributionFrequency()));\n+        channelConfigurationModel.put(createConfigFieldModel(\"provider.distribution.processing.type\", jobEntity.getProcessingType()));\n+\n+        if (\"channel_azure_boards\".equals(channelDescriptorName)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "originalPosition": 106}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNzA2NDQ2", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520706446", "createdAt": "2020-10-30T14:12:11Z", "commit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNDoxMjoxMVrOHrQ3Tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNDoxMjoxMVrOHrQ3Tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEyNzExOQ==", "bodyText": "this key I think is already available at AzureBoardsChannelKey.COMPONENT_NAME", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515127119", "createdAt": "2020-10-30T14:12:11Z", "author": {"login": "ChomickiM"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/persistence/model/job/details/AzureBoardsJobDetailsModel.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/**\n+ * alert-common\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.common.persistence.model.job.details;\n+\n+public class AzureBoardsJobDetailsModel extends DistributionJobDetailsModel {\n+    private final boolean addComments;\n+    private final String projectNameOrId;\n+    private final String workItemType;\n+    private final String workItemCompletedState;\n+    private final String workItemReopenState;\n+\n+    public AzureBoardsJobDetailsModel(boolean addComments, String projectNameOrId, String workItemType, String workItemCompletedState, String workItemReopenState) {\n+        super(\"channel_azure_boards\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNzI3NjMy", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520727632", "createdAt": "2020-10-30T14:34:54Z", "commit": {"oid": "a6da524629b0685b80cc0dfa0249fafa6c38838d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6b40f101c5f7b1e30d279a5f899ee60672d8475", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/a6b40f101c5f7b1e30d279a5f899ee60672d8475", "committedDate": "2020-10-30T14:50:21Z", "message": "Fix(Jobs): Use enums in job models"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "870fdb36c864405bfce47401af83e80062abb9b5", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/870fdb36c864405bfce47401af83e80062abb9b5", "committedDate": "2020-10-30T15:05:01Z", "message": "Fix(Test): Split out job tests from old configuration tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwODAyMDgz", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520802083", "createdAt": "2020-10-30T15:50:06Z", "commit": {"oid": "870fdb36c864405bfce47401af83e80062abb9b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwODE4MzUz", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520818353", "createdAt": "2020-10-30T16:08:33Z", "commit": {"oid": "870fdb36c864405bfce47401af83e80062abb9b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNjowODozM1rOHrV-aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNjowODozM1rOHrV-aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIxMDg1OQ==", "bodyText": "When do we prefer @nullable on methods vs constructor param?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515210859", "createdAt": "2020-10-30T16:08:33Z", "author": {"login": "bamandel"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/persistence/model/job/DistributionJobModel.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/**\n+ * alert-common\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.common.persistence.model.job;\n+\n+import java.time.OffsetDateTime;\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.UUID;\n+\n+import org.jetbrains.annotations.Nullable;\n+\n+import com.synopsys.integration.alert.common.enumeration.FrequencyType;\n+import com.synopsys.integration.alert.common.enumeration.ProcessingType;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.DistributionJobDetailsModel;\n+import com.synopsys.integration.alert.common.rest.model.AlertSerializableModel;\n+\n+public class DistributionJobModel extends AlertSerializableModel {\n+    private final UUID jobId;\n+    private final boolean enabled;\n+    private final String name;\n+    private final FrequencyType distributionFrequency;\n+    private final ProcessingType processingType;\n+    private final String channelDescriptorName;\n+    private final OffsetDateTime createdAt;\n+    private final OffsetDateTime lastUpdated;\n+\n+    // Black Duck fields will be common as long as it is the only provider\n+    private final Long blackDuckGlobalConfigId;\n+    private final boolean filterByProject;\n+    private final String projectNamePattern;\n+    private final List<String> notificationTypes;\n+    private final List<String> projectFilterProjectNames;\n+    private final List<String> policyFilterPolicyNames;\n+    private final List<String> vulnerabilityFilterSeverityNames;\n+\n+    private final DistributionJobDetailsModel distributionJobDetails;\n+\n+    public static DistributionJobModelBuilder builder() {\n+        return new DistributionJobModelBuilder();\n+    }\n+\n+    protected DistributionJobModel(\n+        UUID jobId,\n+        boolean enabled,\n+        String name,\n+        FrequencyType distributionFrequency,\n+        ProcessingType processingType,\n+        String channelDescriptorName,\n+        OffsetDateTime createdAt,\n+        OffsetDateTime lastUpdated,\n+        Long blackDuckGlobalConfigId,\n+        boolean filterByProject,\n+        String projectNamePattern,\n+        List<String> notificationTypes,\n+        List<String> projectFilterProjectNames,\n+        List<String> policyFilterPolicyNames,\n+        List<String> vulnerabilityFilterSeverityNames,\n+        DistributionJobDetailsModel distributionJobDetails\n+    ) {\n+        this.jobId = jobId;\n+        this.enabled = enabled;\n+        this.name = name;\n+        this.distributionFrequency = distributionFrequency;\n+        this.processingType = processingType;\n+        this.channelDescriptorName = channelDescriptorName;\n+        this.createdAt = createdAt;\n+        this.lastUpdated = lastUpdated;\n+        this.blackDuckGlobalConfigId = blackDuckGlobalConfigId;\n+        this.filterByProject = filterByProject;\n+        this.projectNamePattern = projectNamePattern;\n+        this.notificationTypes = notificationTypes;\n+        this.projectFilterProjectNames = projectFilterProjectNames;\n+        this.policyFilterPolicyNames = policyFilterPolicyNames;\n+        this.vulnerabilityFilterSeverityNames = vulnerabilityFilterSeverityNames;\n+        this.distributionJobDetails = distributionJobDetails;\n+    }\n+\n+    @Nullable", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "870fdb36c864405bfce47401af83e80062abb9b5"}, "originalPosition": 98}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwODIwNDM4", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520820438", "createdAt": "2020-10-30T16:10:54Z", "commit": {"oid": "870fdb36c864405bfce47401af83e80062abb9b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNjoxMDo1NFrOHrWEYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNjoxMDo1NFrOHrWEYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIxMjM4NA==", "bodyText": "We will probably want a model sub project that will hold basic data like these keys and enums.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515212384", "createdAt": "2020-10-30T16:10:54Z", "author": {"login": "bamandel"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/persistence/model/job/details/DistributionJobDetailsModel.java", "diffHunk": "@@ -0,0 +1,91 @@\n+/**\n+ * alert-common\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.common.persistence.model.job.details;\n+\n+import com.synopsys.integration.alert.common.channel.key.ChannelKey;\n+\n+public abstract class DistributionJobDetailsModel {\n+    private final String channelDescriptorName;\n+\n+    // TODO create a new sub-project for descriptors (or at least descriptor keys)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "870fdb36c864405bfce47401af83e80062abb9b5"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwODI1OTMy", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520825932", "createdAt": "2020-10-30T16:17:31Z", "commit": {"oid": "870fdb36c864405bfce47401af83e80062abb9b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNjoxNzozMVrOHrWThg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNjoxNzozMVrOHrWThg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIxNjI2Mg==", "bodyText": "Do we want this space here? We already have the space in the class members, so I think we should remove this blank line.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515216262", "createdAt": "2020-10-30T16:17:31Z", "author": {"login": "bamandel"}, "path": "alert-database/src/main/java/com/synopsys/integration/alert/database/api/StaticJobAccessor.java", "diffHunk": "@@ -0,0 +1,276 @@\n+/**\n+ * alert-database\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.database.api;\n+\n+import java.time.OffsetDateTime;\n+import java.util.Collection;\n+import java.util.LinkedHashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.UUID;\n+import java.util.function.Function;\n+import java.util.stream.Collectors;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.data.domain.Page;\n+import org.springframework.data.domain.PageRequest;\n+import org.springframework.stereotype.Component;\n+import org.springframework.transaction.annotation.Transactional;\n+\n+import com.synopsys.integration.alert.common.enumeration.ConfigContextEnum;\n+import com.synopsys.integration.alert.common.enumeration.FrequencyType;\n+import com.synopsys.integration.alert.common.exception.AlertDatabaseConstraintException;\n+import com.synopsys.integration.alert.common.exception.AlertRuntimeException;\n+import com.synopsys.integration.alert.common.persistence.accessor.JobAccessor;\n+import com.synopsys.integration.alert.common.persistence.model.ConfigurationFieldModel;\n+import com.synopsys.integration.alert.common.persistence.model.ConfigurationJobModel;\n+import com.synopsys.integration.alert.common.persistence.model.ConfigurationModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.DistributionJobModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.DistributionJobDetailsModel;\n+import com.synopsys.integration.alert.common.persistence.model.mutable.ConfigurationModelMutable;\n+import com.synopsys.integration.alert.common.provider.ProviderKey;\n+import com.synopsys.integration.alert.common.rest.model.AlertPagedModel;\n+import com.synopsys.integration.alert.common.util.DateUtils;\n+import com.synopsys.integration.alert.database.configuration.RegisteredDescriptorEntity;\n+import com.synopsys.integration.alert.database.configuration.repository.RegisteredDescriptorRepository;\n+import com.synopsys.integration.alert.database.job.DistributionJobEntity;\n+import com.synopsys.integration.alert.database.job.DistributionJobRepository;\n+import com.synopsys.integration.alert.database.job.JobConfigurationModelFieldExtractorUtils;\n+import com.synopsys.integration.alert.database.job.JobConfigurationModelFieldPopulationUtils;\n+import com.synopsys.integration.alert.database.job.azure.boards.AzureBoardsJobDetailsAccessor;\n+import com.synopsys.integration.alert.database.job.azure.boards.AzureBoardsJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.blackduck.BlackDuckJobDetailsAccessor;\n+import com.synopsys.integration.alert.database.job.blackduck.BlackDuckJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.email.EmailJobDetailsAccessor;\n+import com.synopsys.integration.alert.database.job.email.EmailJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.jira.cloud.JiraCloudJobDetailsAccessor;\n+import com.synopsys.integration.alert.database.job.jira.cloud.JiraCloudJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.jira.server.JiraServerJobDetailsAccessor;\n+import com.synopsys.integration.alert.database.job.jira.server.JiraServerJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.msteams.MSTeamsJobDetailsAccessor;\n+import com.synopsys.integration.alert.database.job.msteams.MSTeamsJobDetailsEntity;\n+import com.synopsys.integration.alert.database.job.slack.SlackJobDetailsAccessor;\n+import com.synopsys.integration.alert.database.job.slack.SlackJobDetailsEntity;\n+\n+@Component\n+public class StaticJobAccessor implements JobAccessor {\n+    private final DistributionJobRepository distributionJobRepository;\n+    private final BlackDuckJobDetailsAccessor blackDuckJobDetailsAccessor;\n+    private final AzureBoardsJobDetailsAccessor azureBoardsJobDetailsAccessor;\n+    private final EmailJobDetailsAccessor emailJobDetailsAccessor;\n+    private final JiraCloudJobDetailsAccessor jiraCloudJobDetailsAccessor;\n+    private final JiraServerJobDetailsAccessor jiraServerJobDetailsAccessor;\n+    private final MSTeamsJobDetailsAccessor msTeamsJobDetailsAccessor;\n+    private final SlackJobDetailsAccessor slackJobDetailsAccessor;\n+\n+    // Temporary until all three tiers of the application have been updated to new Job models\n+    private final RegisteredDescriptorRepository registeredDescriptorRepository;\n+    // BlackDuck is currently the only provider, so this is safe in the short-term while we transition to new models\n+    private final ProviderKey blackDuckProviderKey;\n+\n+    @Autowired\n+    public StaticJobAccessor(\n+        DistributionJobRepository distributionJobRepository,\n+        BlackDuckJobDetailsAccessor blackDuckJobDetailsAccessor,\n+        AzureBoardsJobDetailsAccessor azureBoardsJobDetailsAccessor,\n+        EmailJobDetailsAccessor emailJobDetailsAccessor,\n+        JiraCloudJobDetailsAccessor jiraCloudJobDetailsAccessor,\n+        JiraServerJobDetailsAccessor jiraServerJobDetailsAccessor,\n+        MSTeamsJobDetailsAccessor msTeamsJobDetailsAccessor,\n+        SlackJobDetailsAccessor slackJobDetailsAccessor,\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "870fdb36c864405bfce47401af83e80062abb9b5"}, "originalPosition": 103}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwODM0MDQw", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520834040", "createdAt": "2020-10-30T16:27:36Z", "commit": {"oid": "870fdb36c864405bfce47401af83e80062abb9b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNjoyNzozNlrOHrWrMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNjoyNzozNlrOHrWrMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIyMjMyMQ==", "bodyText": "I'm not sure how temporary this file is, but I feel that each of the models should be doing it's own conversion instead of this giant if else block. This class should exist for the actual extraction code at the bottom.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#discussion_r515222321", "createdAt": "2020-10-30T16:27:36Z", "author": {"login": "bamandel"}, "path": "alert-database/src/main/java/com/synopsys/integration/alert/database/job/JobConfigurationModelFieldExtractorUtils.java", "diffHunk": "@@ -0,0 +1,131 @@\n+/**\n+ * alert-database\n+ *\n+ * Copyright (c) 2020 Synopsys, Inc.\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements. See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership. The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package com.synopsys.integration.alert.database.job;\n+\n+import java.time.OffsetDateTime;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.UUID;\n+\n+import com.synopsys.integration.alert.common.persistence.model.ConfigurationFieldModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.DistributionJobModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.DistributionJobModelBuilder;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.AzureBoardsJobDetailsModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.DistributionJobDetailsModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.EmailJobDetailsModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.JiraCloudJobDetailsModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.JiraServerJobDetailsModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.MSTeamsJobDetailsModel;\n+import com.synopsys.integration.alert.common.persistence.model.job.details.SlackJobDetailsModel;\n+\n+public class JobConfigurationModelFieldExtractorUtils {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "870fdb36c864405bfce47401af83e80062abb9b5"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwODQ1NDc3", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1236#pullrequestreview-520845477", "createdAt": "2020-10-30T16:41:26Z", "commit": {"oid": "870fdb36c864405bfce47401af83e80062abb9b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b191328be6a3b5ced31113a44c26b20cb4eb9d7", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/3b191328be6a3b5ced31113a44c26b20cb4eb9d7", "committedDate": "2020-10-30T17:40:16Z", "message": "Fix(Jobs): Make lastUpdated field optional"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ef8d8d3572e41a4fd51975d3339fcf309c9d463", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/4ef8d8d3572e41a4fd51975d3339fcf309c9d463", "committedDate": "2020-10-30T17:40:40Z", "message": "Merge branch 'master' into gk_implement_static_job_accessor"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3040, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}