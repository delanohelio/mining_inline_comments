{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4OTQ4MjE2", "number": 1066, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNToxOTo1N1rOEOTqcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNToyMDo1NVrOEOTsJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDM3NjgxOnYy", "diffSide": "LEFT", "path": "src/main/java/com/synopsys/integration/alert/channel/jira/cloud/web/JiraCustomEndpoint.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNToxOTo1N1rOGxYpyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNToxOTo1N1rOGxYpyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQzNzMyMA==", "bodyText": "Having the return Optional.empty() after the try-catch makes it easy to forget to return/throw errors.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1066#discussion_r454437320", "createdAt": "2020-07-14T15:19:57Z", "author": {"login": "gkillough"}, "path": "src/main/java/com/synopsys/integration/alert/channel/jira/cloud/web/JiraCustomEndpoint.java", "diffHunk": "@@ -95,8 +96,6 @@ public JiraCustomEndpoint(JiraChannelKey jiraChannelKey, CustomEndpointManager c\n             Thread.currentThread().interrupt();\n             return Optional.of(responseFactory.createInternalServerErrorResponse(\"\", \"Thread was interrupted while validating Jira plugin installation: \" + e.getMessage()));\n         }\n-\n-        return Optional.empty();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "749fc78163d71aac0e85128a5e393f3265c49c83"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDM3OTM5OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/synopsys/integration/alert/channel/jira/server/web/JiraServerCustomEndpoint.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNToyMDoyOVrOGxYrYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNToyMDoyOVrOGxYrYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQzNzcyOA==", "bodyText": "The actual fix.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1066#discussion_r454437728", "createdAt": "2020-07-14T15:20:29Z", "author": {"login": "gkillough"}, "path": "src/main/java/com/synopsys/integration/alert/channel/jira/server/web/JiraServerCustomEndpoint.java", "diffHunk": "@@ -92,15 +92,14 @@ public JiraServerCustomEndpoint(JiraServerChannelKey jiraChannelKey, CustomEndpo\n             if (!jiraPluginInstalled) {\n                 return Optional.of(responseFactory.createNotFoundResponse(\"Was not able to confirm Jira server successfully installed the Jira Server plugin. Please verify the installation on you Jira server.\"));\n             }\n+            return Optional.empty();\n         } catch (IntegrationException e) {\n-            createBadRequestIntegrationException(e);\n+            return createBadRequestIntegrationException(e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "749fc78163d71aac0e85128a5e393f3265c49c83"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDM3OTk1OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/synopsys/integration/alert/channel/jira/cloud/web/JiraCustomEndpoint.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNToyMDozN1rOGxYrtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNToyNDoyN1rOGxY21g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQzNzgxMw==", "bodyText": "Is this change so we are consistent with the jira server change?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1066#discussion_r454437813", "createdAt": "2020-07-14T15:20:37Z", "author": {"login": "jamesrichard91"}, "path": "src/main/java/com/synopsys/integration/alert/channel/jira/cloud/web/JiraCustomEndpoint.java", "diffHunk": "@@ -87,6 +87,7 @@ public JiraCustomEndpoint(JiraChannelKey jiraChannelKey, CustomEndpointManager c\n             if (!jiraPluginInstalled) {\n                 return Optional.of(responseFactory.createNotFoundResponse(\"Was not able to confirm Jira Cloud successfully installed the Jira Cloud plugin. Please verify the installation on you Jira Cloud server.\"));\n             }\n+            return Optional.empty();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "749fc78163d71aac0e85128a5e393f3265c49c83"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ0MDY2Mg==", "bodyText": "Yes. Just to ensure that we don't forget to actually return the error message.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1066#discussion_r454440662", "createdAt": "2020-07-14T15:24:27Z", "author": {"login": "gkillough"}, "path": "src/main/java/com/synopsys/integration/alert/channel/jira/cloud/web/JiraCustomEndpoint.java", "diffHunk": "@@ -87,6 +87,7 @@ public JiraCustomEndpoint(JiraChannelKey jiraChannelKey, CustomEndpointManager c\n             if (!jiraPluginInstalled) {\n                 return Optional.of(responseFactory.createNotFoundResponse(\"Was not able to confirm Jira Cloud successfully installed the Jira Cloud plugin. Please verify the installation on you Jira Cloud server.\"));\n             }\n+            return Optional.empty();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQzNzgxMw=="}, "originalCommit": {"oid": "749fc78163d71aac0e85128a5e393f3265c49c83"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDM4MTE2OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/synopsys/integration/alert/channel/jira/server/web/JiraServerCustomEndpoint.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNToyMDo1NVrOGxYsew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNToyMDo1NVrOGxYsew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQzODAxMQ==", "bodyText": "Was this the cause of the issue?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1066#discussion_r454438011", "createdAt": "2020-07-14T15:20:55Z", "author": {"login": "jamesrichard91"}, "path": "src/main/java/com/synopsys/integration/alert/channel/jira/server/web/JiraServerCustomEndpoint.java", "diffHunk": "@@ -92,15 +92,14 @@ public JiraServerCustomEndpoint(JiraServerChannelKey jiraChannelKey, CustomEndpo\n             if (!jiraPluginInstalled) {\n                 return Optional.of(responseFactory.createNotFoundResponse(\"Was not able to confirm Jira server successfully installed the Jira Server plugin. Please verify the installation on you Jira server.\"));\n             }\n+            return Optional.empty();\n         } catch (IntegrationException e) {\n-            createBadRequestIntegrationException(e);\n+            return createBadRequestIntegrationException(e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "749fc78163d71aac0e85128a5e393f3265c49c83"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1882, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}