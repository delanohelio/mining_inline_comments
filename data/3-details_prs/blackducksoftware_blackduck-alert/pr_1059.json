{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3MDEzMjUw", "number": 1059, "title": "feat: Adding liquibase changes for Alertboards", "bodyText": "This PR is for adding the descriptors and fields through liquibase. Also included is the liquibase changes for the different user permissions for the global and distribution configs.", "createdAt": "2020-07-09T18:05:13Z", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059", "merged": true, "mergeCommit": {"oid": "646bd8f2a1e700b9038370bb543bc5ffe0c325d6"}, "closed": true, "closedAt": "2020-07-09T19:03:22Z", "author": {"login": "ChomickiM"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczS-z3gH2gAyNDQ3MDEzMjUwOjI2ZDY0YzMyN2FiMmVjYzQ1MzVjZTIyMjM2MTFmZWVjMmQ1OWFlYTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczTrgOAFqTQ0NTg4MjE0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "26d64c327ab2ecc4535ce2223611feec2d59aea5", "author": {"user": {"login": "ChomickiM", "name": "Martin"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/26d64c327ab2ecc4535ce2223611feec2d59aea5", "committedDate": "2020-07-09T18:03:07Z", "message": "feat: Adding liquibase changes for Alertboards"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1ODU0OTQ2", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#pullrequestreview-445854946", "createdAt": "2020-07-09T18:11:49Z", "commit": {"oid": "26d64c327ab2ecc4535ce2223611feec2d59aea5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODoxMTo1MFrOGvcXzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODoxMTo1MFrOGvcXzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwMTEwMg==", "bodyText": "Would this be sensitive data?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#discussion_r452401102", "createdAt": "2020-07-09T18:11:50Z", "author": {"login": "bamandel"}, "path": "alert-database/src/main/resources/liquibase/6.2.0/azure-boards.xml", "diffHunk": "@@ -0,0 +1,200 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<databaseChangeLog xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+                   xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd\">\n+    <!-- Initialize registered descriptors -->\n+    <changeSet author=\"martinc\" id=\"2020-07-08-13-41-52-507\">\n+        <preConditions onFail=\"MARK_RAN\">\n+            <sqlCheck expectedResult=\"0\">select count(*) from ALERT.REGISTERED_DESCRIPTORS where NAME = 'channel_azure_boards'</sqlCheck>\n+        </preConditions>\n+        <insert schemaName=\"ALERT\" tableName=\"REGISTERED_DESCRIPTORS\">\n+            <column name=\"TYPE_ID\" valueComputed=\"GET_DESCRIPTOR_TYPE_ID('CHANNEL')\"/>\n+            <column name=\"NAME\">channel_azure_boards</column>\n+        </insert>\n+    </changeSet>\n+    <!-- Initialize defined fields -->\n+    <changeSet author=\"martinc\" id=\"2020-07-08-13-42-13-225\">\n+        <preConditions onFail=\"MARK_RAN\">\n+            <sqlCheck expectedResult=\"0\">select count(*) from ALERT.DEFINED_FIELDS where SOURCE_KEY = 'azure.boards.project'</sqlCheck>\n+        </preConditions>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.project</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.board</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.type</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.completed.state</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.reopen.state</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.url</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.organization.name</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.consumer.key</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.private.key</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.oauth</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.access.token</column>\n+            <column name=\"SENSITIVE\">false</column>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26d64c327ab2ecc4535ce2223611feec2d59aea5"}, "originalPosition": 61}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1ODU1MDUw", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#pullrequestreview-445855050", "createdAt": "2020-07-09T18:11:59Z", "commit": {"oid": "26d64c327ab2ecc4535ce2223611feec2d59aea5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODoxMTo1OVrOGvcYIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODoxMTo1OVrOGvcYIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwMTE4NQ==", "bodyText": "Would this be sensitive data?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#discussion_r452401185", "createdAt": "2020-07-09T18:11:59Z", "author": {"login": "bamandel"}, "path": "alert-database/src/main/resources/liquibase/6.2.0/azure-boards.xml", "diffHunk": "@@ -0,0 +1,200 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<databaseChangeLog xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+                   xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd\">\n+    <!-- Initialize registered descriptors -->\n+    <changeSet author=\"martinc\" id=\"2020-07-08-13-41-52-507\">\n+        <preConditions onFail=\"MARK_RAN\">\n+            <sqlCheck expectedResult=\"0\">select count(*) from ALERT.REGISTERED_DESCRIPTORS where NAME = 'channel_azure_boards'</sqlCheck>\n+        </preConditions>\n+        <insert schemaName=\"ALERT\" tableName=\"REGISTERED_DESCRIPTORS\">\n+            <column name=\"TYPE_ID\" valueComputed=\"GET_DESCRIPTOR_TYPE_ID('CHANNEL')\"/>\n+            <column name=\"NAME\">channel_azure_boards</column>\n+        </insert>\n+    </changeSet>\n+    <!-- Initialize defined fields -->\n+    <changeSet author=\"martinc\" id=\"2020-07-08-13-42-13-225\">\n+        <preConditions onFail=\"MARK_RAN\">\n+            <sqlCheck expectedResult=\"0\">select count(*) from ALERT.DEFINED_FIELDS where SOURCE_KEY = 'azure.boards.project'</sqlCheck>\n+        </preConditions>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.project</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.board</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.type</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.completed.state</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.reopen.state</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.url</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.organization.name</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.consumer.key</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.private.key</column>\n+            <column name=\"SENSITIVE\">false</column>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26d64c327ab2ecc4535ce2223611feec2d59aea5"}, "originalPosition": 53}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1ODU3NjQ2", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#pullrequestreview-445857646", "createdAt": "2020-07-09T18:15:38Z", "commit": {"oid": "26d64c327ab2ecc4535ce2223611feec2d59aea5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69702e520c690592f89f7792f26fe661b25e6d59", "author": {"user": {"login": "ChomickiM", "name": "Martin"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/69702e520c690592f89f7792f26fe661b25e6d59", "committedDate": "2020-07-09T18:23:41Z", "message": "feat: Fixing defined fields to correctly be labeled sensitive."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1ODc0OTcx", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#pullrequestreview-445874971", "createdAt": "2020-07-09T18:40:12Z", "commit": {"oid": "69702e520c690592f89f7792f26fe661b25e6d59"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1ODc5MjYx", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#pullrequestreview-445879261", "createdAt": "2020-07-09T18:46:26Z", "commit": {"oid": "69702e520c690592f89f7792f26fe661b25e6d59"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1ODgyMTQ2", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#pullrequestreview-445882146", "createdAt": "2020-07-09T18:50:47Z", "commit": {"oid": "69702e520c690592f89f7792f26fe661b25e6d59"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODo1MDo0N1rOGvdp7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODo1MDo0N1rOGvdp7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQyMjEyNg==", "bodyText": "Do we know if the consumer key is also a sensitive field?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#discussion_r452422126", "createdAt": "2020-07-09T18:50:47Z", "author": {"login": "psantos1113"}, "path": "alert-database/src/main/resources/liquibase/6.2.0/azure-boards.xml", "diffHunk": "@@ -0,0 +1,200 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<databaseChangeLog xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+                   xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd\">\n+    <!-- Initialize registered descriptors -->\n+    <changeSet author=\"martinc\" id=\"2020-07-08-13-41-52-507\">\n+        <preConditions onFail=\"MARK_RAN\">\n+            <sqlCheck expectedResult=\"0\">select count(*) from ALERT.REGISTERED_DESCRIPTORS where NAME = 'channel_azure_boards'</sqlCheck>\n+        </preConditions>\n+        <insert schemaName=\"ALERT\" tableName=\"REGISTERED_DESCRIPTORS\">\n+            <column name=\"TYPE_ID\" valueComputed=\"GET_DESCRIPTOR_TYPE_ID('CHANNEL')\"/>\n+            <column name=\"NAME\">channel_azure_boards</column>\n+        </insert>\n+    </changeSet>\n+    <!-- Initialize defined fields -->\n+    <changeSet author=\"martinc\" id=\"2020-07-08-13-42-13-225\">\n+        <preConditions onFail=\"MARK_RAN\">\n+            <sqlCheck expectedResult=\"0\">select count(*) from ALERT.DEFINED_FIELDS where SOURCE_KEY = 'azure.boards.project'</sqlCheck>\n+        </preConditions>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.project</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.board</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.type</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.completed.state</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.reopen.state</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.url</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.organization.name</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.consumer.key</column>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69702e520c690592f89f7792f26fe661b25e6d59"}, "originalPosition": 48}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3601, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}