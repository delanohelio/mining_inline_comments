{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3MjE4ODYy", "number": 1002, "title": "Add repository flush call to save method.", "bodyText": "Add a flush call before handleEvent in order to ensure the notifications are saved in the database and can be read via notification ID's in the real time event handler.", "createdAt": "2020-06-03T13:56:13Z", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1002", "merged": true, "mergeCommit": {"oid": "f2eda12663426a08bd4663e4baa20d67631e2074"}, "closed": true, "closedAt": "2020-06-03T15:41:24Z", "author": {"login": "psantos1113"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnoGVZgH2gAyNDI3MjE4ODYyOmZlOTVkNjU2M2ZiNzI4ZDE5MzJmZjdlN2Y3Y2RlNzA3YmM1NDdiNzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnqFHqAH2gAyNDI3MjE4ODYyOjc1ODJlNjNkNTgwNzdiYzYwNTg4ODZmNmM0NTgzMDdmMmQ0YjVhOGY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fe95d6563fb728d1932ff7e7f7cde707bc547b78", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/fe95d6563fb728d1932ff7e7f7cde707bc547b78", "committedDate": "2020-06-03T11:52:15Z", "message": "fix: Add repository flush call to save method."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzNTc5OTQx", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1002#pullrequestreview-423579941", "createdAt": "2020-06-03T13:57:40Z", "commit": {"oid": "fe95d6563fb728d1932ff7e7f7cde707bc547b78"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzNTgyODY1", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1002#pullrequestreview-423582865", "createdAt": "2020-06-03T14:00:23Z", "commit": {"oid": "fe95d6563fb728d1932ff7e7f7cde707bc547b78"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxNDowMDoyM1rOGedPIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxNDowMDoyM1rOGedPIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDU4OTQ3NQ==", "bodyText": "Can we also add a TODO to move the event sending out of the database api?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1002#discussion_r434589475", "createdAt": "2020-06-03T14:00:23Z", "author": {"login": "gkillough"}, "path": "alert-database/src/main/java/com/synopsys/integration/alert/database/api/DefaultNotificationManager.java", "diffHunk": "@@ -89,6 +89,7 @@ public DefaultNotificationManager(NotificationContentRepository notificationCont\n                                                        .stream()\n                                                        .map(this::toModel)\n                                                        .collect(Collectors.toList());\n+        notificationContentRepository.flush();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe95d6563fb728d1932ff7e7f7cde707bc547b78"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzNTg2NDI5", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1002#pullrequestreview-423586429", "createdAt": "2020-06-03T14:03:37Z", "commit": {"oid": "fe95d6563fb728d1932ff7e7f7cde707bc547b78"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzNTkwMTQy", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1002#pullrequestreview-423590142", "createdAt": "2020-06-03T14:07:22Z", "commit": {"oid": "fe95d6563fb728d1932ff7e7f7cde707bc547b78"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7582e63d58077bc6058886f6c458307f2d4b5a8f", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/7582e63d58077bc6058886f6c458307f2d4b5a8f", "committedDate": "2020-06-03T14:10:44Z", "message": "chore: Add a todo comment to refactor in the future."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3539, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}