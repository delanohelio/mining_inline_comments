{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2NTA3NDM1", "number": 1203, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxOTo0OTozNlrOEpnFcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxMToxMTo1MlrOEpxuYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMDY3NDQwOnYy", "diffSide": "RIGHT", "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/action/CustomFunctionAction.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxOTo0OTozNlrOHbYrNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxOTo0OTozNlrOHbYrNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ3Nzg3Nw==", "bodyText": "This function is the primary change, most of the other changes are related to updating autowired constructor params.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1203#discussion_r498477877", "createdAt": "2020-10-01T19:49:36Z", "author": {"login": "gkillough"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/action/CustomFunctionAction.java", "diffHunk": "@@ -22,28 +22,53 @@\n  */\n package com.synopsys.integration.alert.common.action;\n \n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+\n import org.springframework.http.HttpStatus;\n import org.springframework.web.server.ResponseStatusException;\n \n+import com.github.jsonldjava.shaded.com.google.common.base.Predicate;\n+import com.synopsys.integration.alert.common.descriptor.DescriptorProcessor;\n+import com.synopsys.integration.alert.common.descriptor.config.field.ConfigField;\n+import com.synopsys.integration.alert.common.descriptor.config.field.errors.AlertFieldStatus;\n+import com.synopsys.integration.alert.common.descriptor.config.field.errors.FieldStatusSeverity;\n+import com.synopsys.integration.alert.common.descriptor.config.field.validation.FieldValidationUtility;\n import com.synopsys.integration.alert.common.rest.HttpServletContentWrapper;\n import com.synopsys.integration.alert.common.rest.ResponseFactory;\n import com.synopsys.integration.alert.common.rest.model.FieldModel;\n import com.synopsys.integration.alert.common.security.authorization.AuthorizationManager;\n+import com.synopsys.integration.alert.common.util.DataStructureUtils;\n import com.synopsys.integration.exception.IntegrationException;\n \n public abstract class CustomFunctionAction<T> {\n     public static final String API_FUNCTION_URL = \"/api/function\";\n-    private AuthorizationManager authorizationManager;\n \n-    public CustomFunctionAction(AuthorizationManager authorizationManager) {\n+    private final String fieldKey;\n+    private final AuthorizationManager authorizationManager;\n+    private final DescriptorProcessor descriptorProcessor;\n+    private final FieldValidationUtility fieldValidationUtility;\n+\n+    public CustomFunctionAction(String fieldKey, AuthorizationManager authorizationManager, DescriptorProcessor descriptorProcessor, FieldValidationUtility fieldValidationUtility) {\n+        this.fieldKey = fieldKey;\n         this.authorizationManager = authorizationManager;\n+        this.descriptorProcessor = descriptorProcessor;\n+        this.fieldValidationUtility = fieldValidationUtility;\n     }\n \n     public ActionResponse<T> createResponse(FieldModel fieldModel, HttpServletContentWrapper servletContentWrapper) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4e3c335a42ef36df1f7d6769e984345db1e875f0"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMDY3ODc4OnYy", "diffSide": "RIGHT", "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/descriptor/config/field/validation/FieldValidationUtility.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxOTo1MTowOVrOHbYt6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxOTo1MTowOVrOHbYt6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ3ODU3MQ==", "bodyText": "This file contains some secondary changes. It is primarily making more methods public and updating the return types instead of modifying input parameters.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1203#discussion_r498478571", "createdAt": "2020-10-01T19:51:09Z", "author": {"login": "gkillough"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/descriptor/config/field/validation/FieldValidationUtility.java", "diffHunk": "@@ -33,14 +33,13 @@\n \n import com.synopsys.integration.alert.common.descriptor.config.field.ConfigField;\n import com.synopsys.integration.alert.common.descriptor.config.field.errors.AlertFieldStatus;\n-import com.synopsys.integration.alert.common.descriptor.config.field.validators.ValidationResult;\n import com.synopsys.integration.alert.common.enumeration.FieldType;\n import com.synopsys.integration.alert.common.rest.model.FieldModel;\n import com.synopsys.integration.alert.common.rest.model.FieldValueModel;\n \n @Component\n-public class FieldValidationAction {\n-    private final Logger logger = LoggerFactory.getLogger(FieldValidationAction.class);\n+public class FieldValidationUtility {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4e3c335a42ef36df1f7d6769e984345db1e875f0"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMjQxNzYyOnYy", "diffSide": "RIGHT", "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/action/CustomFunctionAction.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxMToxMTo1MlrOHbp1jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxMjoxMjowN1rOHbrR-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODc1OTA1NQ==", "bodyText": "I think you want to use Java's Predicate and not this Predicate object.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1203#discussion_r498759055", "createdAt": "2020-10-02T11:11:52Z", "author": {"login": "psantos1113"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/action/CustomFunctionAction.java", "diffHunk": "@@ -22,28 +22,53 @@\n  */\n package com.synopsys.integration.alert.common.action;\n \n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+\n import org.springframework.http.HttpStatus;\n import org.springframework.web.server.ResponseStatusException;\n \n+import com.github.jsonldjava.shaded.com.google.common.base.Predicate;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68eb83f1d704181194d8eb655bd0784929d57fb2"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODc4MjcxMw==", "bodyText": "Wow, good catch. Why is this even a suggestion from Intellij haha?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1203#discussion_r498782713", "createdAt": "2020-10-02T12:12:07Z", "author": {"login": "gkillough"}, "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/action/CustomFunctionAction.java", "diffHunk": "@@ -22,28 +22,53 @@\n  */\n package com.synopsys.integration.alert.common.action;\n \n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+\n import org.springframework.http.HttpStatus;\n import org.springframework.web.server.ResponseStatusException;\n \n+import com.github.jsonldjava.shaded.com.google.common.base.Predicate;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODc1OTA1NQ=="}, "originalCommit": {"oid": "68eb83f1d704181194d8eb655bd0784929d57fb2"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2275, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}