{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwOTgxNTYx", "number": 841, "title": "Reformat old database classes and reorganize liquibase files", "bodyText": "", "createdAt": "2020-02-04T18:17:08Z", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/841", "merged": true, "mergeCommit": {"oid": "a2006fd62612a8c7d7f253d104762b75ccce9802"}, "closed": true, "closedAt": "2020-02-05T13:25:55Z", "author": {"login": "gkillough"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBCKOTgH2gAyMzcwOTgxNTYxOmJlZWZiMmViYWM3YTlhYzhjNjFlN2ZiNjcwYjg5NGViMzQ5NWRiMjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBGFOwgFqTM1MzIxMzE4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "beefb2ebac7a9ac8c61e7fb670b894eb3495db28", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/beefb2ebac7a9ac8c61e7fb670b894eb3495db28", "committedDate": "2020-02-04T14:10:59Z", "message": "Feat(Database): Remove old liquibase files and move migration scripts to database sub-project"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12f6bdde4129db54d74d66aa53768d5224c57dc3", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/12f6bdde4129db54d74d66aa53768d5224c57dc3", "committedDate": "2020-02-04T14:35:28Z", "message": "Fix(Java): Remove final from method parameters in alert-database"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2006fd62612a8c7d7f253d104762b75ccce9802", "author": {"user": {"login": "gkillough", "name": "Gavin Killough"}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/a2006fd62612a8c7d7f253d104762b75ccce9802", "committedDate": "2020-02-04T18:15:35Z", "message": "Fix(Liquibase): Keep old changelogs for the sake of upgrades, but move new changelogs to alert-database"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMTk1OTI3", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/841#pullrequestreview-353195927", "createdAt": "2020-02-04T18:18:28Z", "commit": {"oid": "a2006fd62612a8c7d7f253d104762b75ccce9802"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxODoxODoyOFrOFleacQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxODoxODoyOFrOFleacQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgzOTkyMQ==", "bodyText": "This was unused.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/841#discussion_r374839921", "createdAt": "2020-02-04T18:18:28Z", "author": {"login": "gkillough"}, "path": "alert-database/src/main/java/com/synopsys/integration/alert/database/configuration/repository/RegisteredDescriptorRepository.java", "diffHunk": "@@ -35,16 +34,10 @@\n \n @Component\n public interface RegisteredDescriptorRepository extends JpaRepository<RegisteredDescriptorEntity, Long> {\n-    Optional<RegisteredDescriptorEntity> findFirstByName(final String descriptorName);\n+    Optional<RegisteredDescriptorEntity> findFirstByName(String descriptorName);\n \n     List<RegisteredDescriptorEntity> findByTypeId(Long descriptorTypeId);\n \n-    @Query(value = \"SELECT entity FROM RegisteredDescriptorEntity entity \"\n-                       + \"INNER JOIN entity.descriptorConfigEntities config ON entity.id = config.descriptorId \"\n-                       + \"INNER JOIN config.configGroupEntity configGroup ON config.id = configGroup.configId \"\n-                       + \"WHERE configGroup.jobId = ?1\")\n-    List<RegisteredDescriptorEntity> findByJobId(final UUID jobId);\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2006fd62612a8c7d7f253d104762b75ccce9802"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMTk2NDY0", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/841#pullrequestreview-353196464", "createdAt": "2020-02-04T18:19:15Z", "commit": {"oid": "a2006fd62612a8c7d7f253d104762b75ccce9802"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxODoxOToxNVrOFlecIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxODoxOToxNVrOFlecIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDg0MDM1Mg==", "bodyText": "This was unused.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/841#discussion_r374840352", "createdAt": "2020-02-04T18:19:15Z", "author": {"login": "gkillough"}, "path": "alert-database/src/main/java/com/synopsys/integration/alert/database/user/RoleRepository.java", "diffHunk": "@@ -34,9 +34,6 @@\n \n     boolean existsRoleEntityByRoleName(String roleName);\n \n-    @Query(\"SELECT entity.roleName FROM RoleEntity entity WHERE entity.id IN (?1)\")\n-    List<String> getRoleNames(List<Long> roleIds);\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2006fd62612a8c7d7f253d104762b75ccce9802"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMTk2ODg2", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/841#pullrequestreview-353196886", "createdAt": "2020-02-04T18:19:52Z", "commit": {"oid": "a2006fd62612a8c7d7f253d104762b75ccce9802"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxODoxOTo1MlrOFledRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxODoxOTo1MlrOFledRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDg0MDY0NQ==", "bodyText": "Most of the actual changes are here.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/841#discussion_r374840645", "createdAt": "2020-02-04T18:19:52Z", "author": {"login": "gkillough"}, "path": "build.gradle", "diffHunk": "@@ -120,9 +120,9 @@ distributions {\n             }\n             from('src/main/resources/db/changelog-master.xml') { into 'upgradeResources' }\n             from('src/main/resources/db/changelog/') { into 'upgradeResources/changelog/' }\n-            from('src/main/resources/db/release-locks-changelog.xml') { into 'upgradeResources' }\n-            from('src/main/resources/db/export_h2_tables.sql') { into 'upgradeResources' }\n-            from('src/main/resources/db/import_postgres_tables.sql') { into 'upgradeResources' }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2006fd62612a8c7d7f253d104762b75ccce9802"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMTk5NTkx", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/841#pullrequestreview-353199591", "createdAt": "2020-02-04T18:24:03Z", "commit": {"oid": "a2006fd62612a8c7d7f253d104762b75ccce9802"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMjEzMTg1", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/841#pullrequestreview-353213185", "createdAt": "2020-02-04T18:45:10Z", "commit": {"oid": "a2006fd62612a8c7d7f253d104762b75ccce9802"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2788, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}