{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwNzIzOTA1", "number": 1036, "title": "forbidden permission fix", "bodyText": "Used the Global configuration as a model for the UI changes.\nUse the StatusMessage component to show errors on the various Alert screens.  This includes any component using TableDisplay, the global configurations, distribution jobs, and audit.\nBuilt a mechanism to clearly define an error object and what its contents can be.\nMade the fetch code more consistent in setting up error handling.\nThe ui now uses the error object to display errors in the UI.  If they are field errors for field panels or errors creating and deleting items in the tables. The error object is used.", "createdAt": "2020-06-26T18:19:28Z", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036", "merged": true, "mergeCommit": {"oid": "0b4fb632f1872bbb1703d1bf05f6010c4fd76857"}, "closed": true, "closedAt": "2020-06-29T14:53:04Z", "author": {"login": "psantos1113"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuJRpQgH2gAyNDQwNzIzOTA1OjAxY2ZkZTMyMWE0MTFlMGFmMDk0ZmNhZTYzM2E4NTY4OGY1ZmFiMTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwBcfIAFqTQzOTE2ODE2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "01cfde321a411e0af094fcae633a85688f5fab16", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/01cfde321a411e0af094fcae633a85688f5fab16", "committedDate": "2020-06-23T17:55:01Z", "message": "refactor: Create utilities to process http errors."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ef7992344741a853ea6aa5c9e69aeb9e1d42237", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/7ef7992344741a853ea6aa5c9e69aeb9e1d42237", "committedDate": "2020-06-23T19:48:08Z", "message": "refactor: Encapsulate forbidden error messages."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41f8ee58205c8bae6665b2d7813c33229697ef35", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/41f8ee58205c8bae6665b2d7813c33229697ef35", "committedDate": "2020-06-24T13:46:18Z", "message": "refactor: Use utility methods to create error objects."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea46b755b5256cf33a662b2826837711cbb454ca", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/ea46b755b5256cf33a662b2826837711cbb454ca", "committedDate": "2020-06-24T18:15:07Z", "message": "refactor: Update certificates to the new error objects."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e4dae4907d0dd03d1c6eeeac70fd1c1aa9c314e", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/4e4dae4907d0dd03d1c6eeeac70fd1c1aa9c314e", "committedDate": "2020-06-24T18:33:23Z", "message": "refactor: Use new error object structure for roles."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7e31a826b5cd7d1247d613d3a73da99f8992dfd", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/a7e31a826b5cd7d1247d613d3a73da99f8992dfd", "committedDate": "2020-06-24T18:44:25Z", "message": "refactor: Change users to the new error structure."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "788eb63846a55b54297d5d3ed5e6ece599d72569", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/788eb63846a55b54297d5d3ed5e6ece599d72569", "committedDate": "2020-06-24T21:00:21Z", "message": "refactor: Remove '.call' on handler functions and make response more consistent."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0abaf4bd79189623c302eee177527965d5227e03", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/0abaf4bd79189623c302eee177527965d5227e03", "committedDate": "2020-06-25T19:57:12Z", "message": "refactor: Use the error object for distributions and fix updates to data in tables."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a70c0346b7665f57b5e6a795812b4a5057ec907", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/1a70c0346b7665f57b5e6a795812b4a5057ec907", "committedDate": "2020-06-25T19:57:50Z", "message": "fix: Fix an issue where the wrong validation state is set."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8cbdb6fb100e4d11c2c16ecc1d27746e1291a9d", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/d8cbdb6fb100e4d11c2c16ecc1d27746e1291a9d", "committedDate": "2020-06-25T19:58:20Z", "message": "fix: Remove transactional to allow roles to be deleted."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64aebdcd4e26df66bafc6c983299a797aa812033", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/64aebdcd4e26df66bafc6c983299a797aa812033", "committedDate": "2020-06-26T17:53:35Z", "message": "refactor: Get the various UI components to display error messages consistently."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "041500d2adedab5ac79f14b89ebd0a43032ffd17", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/041500d2adedab5ac79f14b89ebd0a43032ffd17", "committedDate": "2020-06-26T18:09:10Z", "message": "refactor: Update distribution to show error when reading like other UI components."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NTA1NjYz", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036#pullrequestreview-438505663", "createdAt": "2020-06-26T18:22:26Z", "commit": {"oid": "041500d2adedab5ac79f14b89ebd0a43032ffd17"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxODoyMjoyN1rOGpqh-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxODoyMjoyN1rOGpqh-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM0MTYyNw==", "bodyText": "Deletes wouldn't work because the delete uses this transaction.  The accessor deletes the entity but then with the loadPermissionIntoCache calls a get from the accessor and PSQL complains because we are not in a read only transaction.  Use the transactions in the accessor and remove transactional here.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036#discussion_r446341627", "createdAt": "2020-06-26T18:22:27Z", "author": {"login": "psantos1113"}, "path": "src/main/java/com/synopsys/integration/alert/web/user/RoleActions.java", "diffHunk": "@@ -53,7 +51,6 @@\n import com.synopsys.integration.alert.web.model.RolePermissionModel;\n \n @Component\n-@Transactional", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "041500d2adedab5ac79f14b89ebd0a43032ffd17"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NTA1OTYx", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036#pullrequestreview-438505961", "createdAt": "2020-06-26T18:22:58Z", "commit": {"oid": "041500d2adedab5ac79f14b89ebd0a43032ffd17"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxODoyMjo1OFrOGpqi7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxODoyMjo1OFrOGpqi7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM0MTg3MQ==", "bodyText": "Do we not want to use the StatusMessage here and leave the action message empty?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036#discussion_r446341871", "createdAt": "2020-06-26T18:22:58Z", "author": {"login": "jamesrichard91"}, "path": "src/main/js/dynamic/loaded/audit/Details.js", "diffHunk": "@@ -157,6 +157,7 @@ class Details extends Component {\n                                 </div>\n                             </Tab>\n                         </Tabs>\n+                        <p name=\"message\">{this.props.errorMessage}</p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "041500d2adedab5ac79f14b89ebd0a43032ffd17"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NTA2MDQ0", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036#pullrequestreview-438506044", "createdAt": "2020-06-26T18:23:06Z", "commit": {"oid": "041500d2adedab5ac79f14b89ebd0a43032ffd17"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxODoyMzowNlrOGpqjKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxODoyMzowNlrOGpqjKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM0MTkyOA==", "bodyText": "This is used to show read failures.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036#discussion_r446341928", "createdAt": "2020-06-26T18:23:06Z", "author": {"login": "psantos1113"}, "path": "src/main/js/distribution/Index.js", "diffHunk": "@@ -345,6 +346,8 @@ class Index extends Component {\n         const content = (\n             <div>\n                 {this.getCurrentJobConfig()}\n+                <StatusMessage actionMessage={null}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "041500d2adedab5ac79f14b89ebd0a43032ffd17"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NTA2NTI1", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036#pullrequestreview-438506525", "createdAt": "2020-06-26T18:23:54Z", "commit": {"oid": "041500d2adedab5ac79f14b89ebd0a43032ffd17"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxODoyMzo1NVrOGpqkeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxODoyMzo1NVrOGpqkeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM0MjI2Ng==", "bodyText": "The import path should be fixed", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036#discussion_r446342266", "createdAt": "2020-06-26T18:23:55Z", "author": {"login": "jamesrichard91"}, "path": "src/main/js/store/actions/about.js", "diffHunk": "@@ -1,6 +1,7 @@\n import { ABOUT_INFO_FETCH_ERROR, ABOUT_INFO_FETCHED, ABOUT_INFO_FETCHING } from 'store/actions/types';\n \n-import { verifyLoginByStatus } from 'store/actions/session';\n+import { unauthorized } from 'store/actions/session';\n+import * as HTTPErrorUtils from '../../util/httpErrorUtilities';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "041500d2adedab5ac79f14b89ebd0a43032ffd17"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NTA4MzI1", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036#pullrequestreview-438508325", "createdAt": "2020-06-26T18:26:59Z", "commit": {"oid": "041500d2adedab5ac79f14b89ebd0a43032ffd17"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0f63e33d59360694b570a7266b5449d4be24a57", "author": {"user": {"login": "psantos1113", "name": null}}, "url": "https://github.com/blackducksoftware/blackduck-alert/commit/a0f63e33d59360694b570a7266b5449d4be24a57", "committedDate": "2020-06-26T18:33:11Z", "message": "fix: Fix the import path."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NTEzMzU3", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036#pullrequestreview-438513357", "createdAt": "2020-06-26T18:35:20Z", "commit": {"oid": "a0f63e33d59360694b570a7266b5449d4be24a57"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NTQzNTM3", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036#pullrequestreview-438543537", "createdAt": "2020-06-26T19:28:01Z", "commit": {"oid": "a0f63e33d59360694b570a7266b5449d4be24a57"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MTY4MTYx", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1036#pullrequestreview-439168161", "createdAt": "2020-06-29T13:55:28Z", "commit": {"oid": "a0f63e33d59360694b570a7266b5449d4be24a57"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3572, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}