{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyNzUwMjUz", "number": 1287, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxOTo1MToxNFrOFA9GGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxOTo1MToxNFrOFA9GGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2NTQ1MzA3OnYy", "diffSide": "RIGHT", "path": "alert-database/src/main/java/com/synopsys/integration/alert/database/api/DefaultAuditAccessor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxOTo1MToxNFrOH_fvcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQyMDoyMTozM1rOH_gsUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjM0MjM4NQ==", "bodyText": "You may want to call distributionJobModel.get() once, rather than pulling out the DistributionJobModel from the optional on both lines.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1287#discussion_r536342385", "createdAt": "2020-12-04T19:51:14Z", "author": {"login": "jamesrichard91"}, "path": "alert-database/src/main/java/com/synopsys/integration/alert/database/api/DefaultAuditAccessor.java", "diffHunk": "@@ -261,12 +261,12 @@ public AuditEntryModel convertToAuditEntryModelFromNotification(AlertNotificatio\n             String errorMessage = auditEntryEntity.getErrorMessage();\n             String errorStackTrace = auditEntryEntity.getErrorStackTrace();\n \n-            Optional<ConfigurationJobModel> commonConfig = jobAccessor.getJobById(jobId);\n+            Optional<DistributionJobModel> distributionJobModel = jobAccessor.getJobById(jobId);\n             String distributionConfigName = null;\n             String eventType = null;\n-            if (commonConfig.isPresent()) {\n-                distributionConfigName = commonConfig.get().getName();\n-                eventType = commonConfig.get().getChannelName();\n+            if (distributionJobModel.isPresent()) {\n+                distributionConfigName = distributionJobModel.get().getName();\n+                eventType = distributionJobModel.get().getChannelDescriptorName();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2cfd58f3ae539c84db3d9c246ea3c225112548f4"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjM1Nzk2OA==", "bodyText": "I changed it to\nString distributionConfigName = distributionJobModel.map(DistributionJobModelData::getName).orElse(null);\nString eventType = distributionJobModel.map(DistributionJobModelData::getChannelDescriptorName).orElse(null);", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1287#discussion_r536357968", "createdAt": "2020-12-04T20:21:33Z", "author": {"login": "JakeMathews"}, "path": "alert-database/src/main/java/com/synopsys/integration/alert/database/api/DefaultAuditAccessor.java", "diffHunk": "@@ -261,12 +261,12 @@ public AuditEntryModel convertToAuditEntryModelFromNotification(AlertNotificatio\n             String errorMessage = auditEntryEntity.getErrorMessage();\n             String errorStackTrace = auditEntryEntity.getErrorStackTrace();\n \n-            Optional<ConfigurationJobModel> commonConfig = jobAccessor.getJobById(jobId);\n+            Optional<DistributionJobModel> distributionJobModel = jobAccessor.getJobById(jobId);\n             String distributionConfigName = null;\n             String eventType = null;\n-            if (commonConfig.isPresent()) {\n-                distributionConfigName = commonConfig.get().getName();\n-                eventType = commonConfig.get().getChannelName();\n+            if (distributionJobModel.isPresent()) {\n+                distributionConfigName = distributionJobModel.get().getName();\n+                eventType = distributionJobModel.get().getChannelDescriptorName();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjM0MjM4NQ=="}, "originalCommit": {"oid": "2cfd58f3ae539c84db3d9c246ea3c225112548f4"}, "originalPosition": 45}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2240, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}