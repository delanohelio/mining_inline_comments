{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyNjM2NTYz", "number": 928, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QyMTowNTo0M1rODqjheQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QyMTowNTo0M1rODqjheQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1OTQ4NzkzOnYy", "diffSide": "RIGHT", "path": "src/main/js/component/common/ConfirmModal.js", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QyMTowNTo0M1rOF6YFjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMzoxMjoxOFrOF6vgZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njc1NjM2NA==", "bodyText": "Do we have a modal component that can be used effectively here?", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/928#discussion_r396756364", "createdAt": "2020-03-23T21:05:43Z", "author": {"login": "bamandel"}, "path": "src/main/js/component/common/ConfirmModal.js", "diffHunk": "@@ -0,0 +1,86 @@\n+import React, { Component } from 'react';\n+import { Modal } from 'react-bootstrap';\n+import PropTypes from 'prop-types';\n+\n+class ConfirmModal extends Component {\n+    constructor(props) {\n+        super(props);\n+        this.handleAffirmativeClick = this.handleAffirmativeClick.bind(this);\n+        this.handleNegativeClick = this.handleNegativeClick.bind(this);\n+        this.resetState = this.resetState.bind(this);\n+        this.state = {\n+            show: props.showModal,\n+            confirmed: false\n+        };\n+    }\n+\n+    componentDidUpdate(prevProps) {\n+        if (prevProps.showModal != this.props.showModal) {\n+            this.setState({\n+                show: this.props.showModal\n+            });\n+        }\n+    }\n+\n+    handleAffirmativeClick(event) {\n+        if (event) {\n+            event.preventDefault();\n+            event.stopPropagation();\n+        }\n+        this.props.affirmativeAction();\n+        this.resetState();\n+    }\n+\n+    handleNegativeClick(event) {\n+        if (event) {\n+            event.preventDefault();\n+            event.stopPropagation();\n+        }\n+        this.props.negativeAction();\n+        this.resetState();\n+    }\n+\n+    resetState() {\n+        this.setState({\n+            show: false,\n+            confirmed: false\n+        });\n+    }\n+\n+    render() {\n+        const { affirmativeButtonText, message, negativeButtonText, title } = this.props;\n+        return (\n+            <Modal show={this.state.show} onHide={this.handleNegativeClick}>\n+                <Modal.Header closeButton>\n+                    <Modal.Title>{title}</Modal.Title>\n+                </Modal.Header>\n+                <Modal.Body>\n+                    {message}\n+                </Modal.Body>\n+                <Modal.Footer>\n+                    <button id=\"confirmNegative\" type=\"button\" className=\"btn btn-link\" onClick={this.handleNegativeClick}>{negativeButtonText}</button>\n+                    <button id=\"confirmAffirmative\" type=\"button\" className=\"btn btn-danger\" onClick={this.handleAffirmativeClick}>{affirmativeButtonText}</button>\n+                </Modal.Footer>\n+            </Modal>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b544c4717ad0d30e040463b26dbf0bc257978c87"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzA5OTg5MA==", "bodyText": "I think this component is exactly that.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/928#discussion_r397099890", "createdAt": "2020-03-24T12:02:10Z", "author": {"login": "gkillough"}, "path": "src/main/js/component/common/ConfirmModal.js", "diffHunk": "@@ -0,0 +1,86 @@\n+import React, { Component } from 'react';\n+import { Modal } from 'react-bootstrap';\n+import PropTypes from 'prop-types';\n+\n+class ConfirmModal extends Component {\n+    constructor(props) {\n+        super(props);\n+        this.handleAffirmativeClick = this.handleAffirmativeClick.bind(this);\n+        this.handleNegativeClick = this.handleNegativeClick.bind(this);\n+        this.resetState = this.resetState.bind(this);\n+        this.state = {\n+            show: props.showModal,\n+            confirmed: false\n+        };\n+    }\n+\n+    componentDidUpdate(prevProps) {\n+        if (prevProps.showModal != this.props.showModal) {\n+            this.setState({\n+                show: this.props.showModal\n+            });\n+        }\n+    }\n+\n+    handleAffirmativeClick(event) {\n+        if (event) {\n+            event.preventDefault();\n+            event.stopPropagation();\n+        }\n+        this.props.affirmativeAction();\n+        this.resetState();\n+    }\n+\n+    handleNegativeClick(event) {\n+        if (event) {\n+            event.preventDefault();\n+            event.stopPropagation();\n+        }\n+        this.props.negativeAction();\n+        this.resetState();\n+    }\n+\n+    resetState() {\n+        this.setState({\n+            show: false,\n+            confirmed: false\n+        });\n+    }\n+\n+    render() {\n+        const { affirmativeButtonText, message, negativeButtonText, title } = this.props;\n+        return (\n+            <Modal show={this.state.show} onHide={this.handleNegativeClick}>\n+                <Modal.Header closeButton>\n+                    <Modal.Title>{title}</Modal.Title>\n+                </Modal.Header>\n+                <Modal.Body>\n+                    {message}\n+                </Modal.Body>\n+                <Modal.Footer>\n+                    <button id=\"confirmNegative\" type=\"button\" className=\"btn btn-link\" onClick={this.handleNegativeClick}>{negativeButtonText}</button>\n+                    <button id=\"confirmAffirmative\" type=\"button\" className=\"btn btn-danger\" onClick={this.handleAffirmativeClick}>{affirmativeButtonText}</button>\n+                </Modal.Footer>\n+            </Modal>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njc1NjM2NA=="}, "originalCommit": {"oid": "b544c4717ad0d30e040463b26dbf0bc257978c87"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzEyNzA3Nw==", "bodyText": "You're talking about Popup.js which should move into the component folder.  But that uses our config buttons.  This is to confirm an action and it has the same look and feel as LogoutConfirmation. Which is also a confirmation dialog.", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/928#discussion_r397127077", "createdAt": "2020-03-24T12:50:48Z", "author": {"login": "psantos1113"}, "path": "src/main/js/component/common/ConfirmModal.js", "diffHunk": "@@ -0,0 +1,86 @@\n+import React, { Component } from 'react';\n+import { Modal } from 'react-bootstrap';\n+import PropTypes from 'prop-types';\n+\n+class ConfirmModal extends Component {\n+    constructor(props) {\n+        super(props);\n+        this.handleAffirmativeClick = this.handleAffirmativeClick.bind(this);\n+        this.handleNegativeClick = this.handleNegativeClick.bind(this);\n+        this.resetState = this.resetState.bind(this);\n+        this.state = {\n+            show: props.showModal,\n+            confirmed: false\n+        };\n+    }\n+\n+    componentDidUpdate(prevProps) {\n+        if (prevProps.showModal != this.props.showModal) {\n+            this.setState({\n+                show: this.props.showModal\n+            });\n+        }\n+    }\n+\n+    handleAffirmativeClick(event) {\n+        if (event) {\n+            event.preventDefault();\n+            event.stopPropagation();\n+        }\n+        this.props.affirmativeAction();\n+        this.resetState();\n+    }\n+\n+    handleNegativeClick(event) {\n+        if (event) {\n+            event.preventDefault();\n+            event.stopPropagation();\n+        }\n+        this.props.negativeAction();\n+        this.resetState();\n+    }\n+\n+    resetState() {\n+        this.setState({\n+            show: false,\n+            confirmed: false\n+        });\n+    }\n+\n+    render() {\n+        const { affirmativeButtonText, message, negativeButtonText, title } = this.props;\n+        return (\n+            <Modal show={this.state.show} onHide={this.handleNegativeClick}>\n+                <Modal.Header closeButton>\n+                    <Modal.Title>{title}</Modal.Title>\n+                </Modal.Header>\n+                <Modal.Body>\n+                    {message}\n+                </Modal.Body>\n+                <Modal.Footer>\n+                    <button id=\"confirmNegative\" type=\"button\" className=\"btn btn-link\" onClick={this.handleNegativeClick}>{negativeButtonText}</button>\n+                    <button id=\"confirmAffirmative\" type=\"button\" className=\"btn btn-danger\" onClick={this.handleAffirmativeClick}>{affirmativeButtonText}</button>\n+                </Modal.Footer>\n+            </Modal>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njc1NjM2NA=="}, "originalCommit": {"oid": "b544c4717ad0d30e040463b26dbf0bc257978c87"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE0MDA3MA==", "bodyText": "We could try building on top of the pop up button a couple different types of pop ups. But that would be for the next version", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/928#discussion_r397140070", "createdAt": "2020-03-24T13:12:18Z", "author": {"login": "bamandel"}, "path": "src/main/js/component/common/ConfirmModal.js", "diffHunk": "@@ -0,0 +1,86 @@\n+import React, { Component } from 'react';\n+import { Modal } from 'react-bootstrap';\n+import PropTypes from 'prop-types';\n+\n+class ConfirmModal extends Component {\n+    constructor(props) {\n+        super(props);\n+        this.handleAffirmativeClick = this.handleAffirmativeClick.bind(this);\n+        this.handleNegativeClick = this.handleNegativeClick.bind(this);\n+        this.resetState = this.resetState.bind(this);\n+        this.state = {\n+            show: props.showModal,\n+            confirmed: false\n+        };\n+    }\n+\n+    componentDidUpdate(prevProps) {\n+        if (prevProps.showModal != this.props.showModal) {\n+            this.setState({\n+                show: this.props.showModal\n+            });\n+        }\n+    }\n+\n+    handleAffirmativeClick(event) {\n+        if (event) {\n+            event.preventDefault();\n+            event.stopPropagation();\n+        }\n+        this.props.affirmativeAction();\n+        this.resetState();\n+    }\n+\n+    handleNegativeClick(event) {\n+        if (event) {\n+            event.preventDefault();\n+            event.stopPropagation();\n+        }\n+        this.props.negativeAction();\n+        this.resetState();\n+    }\n+\n+    resetState() {\n+        this.setState({\n+            show: false,\n+            confirmed: false\n+        });\n+    }\n+\n+    render() {\n+        const { affirmativeButtonText, message, negativeButtonText, title } = this.props;\n+        return (\n+            <Modal show={this.state.show} onHide={this.handleNegativeClick}>\n+                <Modal.Header closeButton>\n+                    <Modal.Title>{title}</Modal.Title>\n+                </Modal.Header>\n+                <Modal.Body>\n+                    {message}\n+                </Modal.Body>\n+                <Modal.Footer>\n+                    <button id=\"confirmNegative\" type=\"button\" className=\"btn btn-link\" onClick={this.handleNegativeClick}>{negativeButtonText}</button>\n+                    <button id=\"confirmAffirmative\" type=\"button\" className=\"btn btn-danger\" onClick={this.handleAffirmativeClick}>{affirmativeButtonText}</button>\n+                </Modal.Footer>\n+            </Modal>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njc1NjM2NA=="}, "originalCommit": {"oid": "b544c4717ad0d30e040463b26dbf0bc257978c87"}, "originalPosition": 64}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1940, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}