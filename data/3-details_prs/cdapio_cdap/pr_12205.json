{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzMjU3MDYz", "number": 12205, "title": "[CDAP-16860] Create Routing & Basic Plugin Information page (plugin JSON)", "bodyText": "JIRA: https://issues.cask.co/browse/CDAP-16860\n\nset up basic routing http://localhost:11011/cdap/ns/default/plugincreation\nadd Wizard UI experience on the page (huge thanks to the existing replication page!)\n1st page consists of input fields where users can set the basic information of the JSON plugin\n\nUsers can set the basic information (such as display name, plugin name, plugin type, emit alerts , and emit errors).\nThe view of the page\n\nWhen user fills in all the required fields, they can move to the next page", "createdAt": "2020-05-26T14:53:44Z", "url": "https://github.com/cdapio/cdap/pull/12205", "merged": true, "mergeCommit": {"oid": "aa50ae22c7b93b5f22df9181fdac845b04f6adba"}, "closed": true, "closedAt": "2020-06-01T23:01:47Z", "author": {"login": "jennac3"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclGD_QABqjMzNzM5OTU5MzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnF4cFAFqTQyMjEzOTkxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "69c2c2ea638a73da5beb29e581f9a075696898cb", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/69c2c2ea638a73da5beb29e581f9a075696898cb", "committedDate": "2020-05-26T14:52:16Z", "message": "Create Routing & Basic Plugin Information page"}, "afterCommit": {"oid": "2b97ba672b450b8df4b27bcacd501a3fecd23190", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/2b97ba672b450b8df4b27bcacd501a3fecd23190", "committedDate": "2020-05-26T15:04:44Z", "message": "[CDAP-16860] Create Routing & Basic Plugin Information page"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4Njg0MjU0", "url": "https://github.com/cdapio/cdap/pull/12205#pullrequestreview-418684254", "createdAt": "2020-05-26T21:14:44Z", "commit": {"oid": "2b97ba672b450b8df4b27bcacd501a3fecd23190"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQyMToxNDo0NFrOGawjvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQyMToxOTozMFrOGawsfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcxMTc0MA==", "bodyText": "nit: We should probably use the colors from our theme file. colors.ts/scss should have this color that we can use from the theme palette.", "url": "https://github.com/cdapio/cdap/pull/12205#discussion_r430711740", "createdAt": "2020-05-26T21:14:44Z", "author": {"login": "ajainarayanan"}, "path": "cdap-ui/app/cdap/components/PluginJSONCreator/Create/Content/index.tsx", "diffHunk": "@@ -0,0 +1,54 @@\n+/*\n+ * Copyright \u00a9 2020 Cask Data, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import * as React from 'react';\n+import { STEPS } from 'components/PluginJSONCreator/Create/steps';\n+import { createContextConnect } from 'components/PluginJSONCreator/Create';\n+import withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\n+\n+const styles = (): StyleRules => {\n+  return {\n+    comp: {\n+      borderRight: '1px solid #e0e0e0',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b97ba672b450b8df4b27bcacd501a3fecd23190"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcxMzk4MA==", "bodyText": "Can we extract this out a generic component? We can have both the CreateContext(or any generic react context) and Comp as props. If for the context I think this can be reused anywhere would be a good abstraction.", "url": "https://github.com/cdapio/cdap/pull/12205#discussion_r430713980", "createdAt": "2020-05-26T21:19:30Z", "author": {"login": "ajainarayanan"}, "path": "cdap-ui/app/cdap/components/PluginJSONCreator/Create/index.tsx", "diffHunk": "@@ -0,0 +1,123 @@\n+/*\n+ * Copyright \u00a9 2020 Cask Data, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import * as React from 'react';\n+import withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\n+import WizardGuideline from 'components/PluginJSONCreator/Create/WizardGuideline';\n+import Content from 'components/PluginJSONCreator/Create/Content';\n+\n+export const CreateContext = React.createContext({});\n+export const LEFT_PANEL_WIDTH = 250;\n+\n+const styles = (): StyleRules => {\n+  return {\n+    root: {\n+      height: '100%',\n+    },\n+    content: {\n+      height: 'calc(100% - 50px)',\n+      display: 'grid',\n+      gridTemplateColumns: `${LEFT_PANEL_WIDTH}px 1fr`,\n+\n+      '& > div': {\n+        overflowY: 'auto',\n+      },\n+    },\n+  };\n+};\n+\n+interface ICreateState {\n+  activeStep: number;\n+  pluginName: string;\n+  pluginType: string;\n+  displayName: string;\n+  emitAlerts: boolean;\n+  emitErrors: boolean;\n+  setActiveStep: (step: number) => void;\n+  setBasicPluginInfo: (basicPluginInfo: IBasicPluginInfo) => void;\n+}\n+\n+export interface IBasicPluginInfo {\n+  pluginName: string;\n+  pluginType: string;\n+  displayName: string;\n+  emitAlerts: boolean;\n+  emitErrors: boolean;\n+}\n+\n+export type ICreateContext = Partial<ICreateState>;\n+\n+class CreateView extends React.PureComponent<ICreateContext & WithStyles<typeof styles>> {\n+  public setActiveStep = (activeStep: number) => {\n+    this.setState({ activeStep });\n+  };\n+\n+  public setBasicPluginInfo = (basicPluginInfo: IBasicPluginInfo) => {\n+    const { pluginName, pluginType, displayName, emitAlerts, emitErrors } = basicPluginInfo;\n+    this.setState({\n+      pluginName,\n+      pluginType,\n+      displayName,\n+      emitAlerts,\n+      emitErrors,\n+    });\n+  };\n+\n+  public state = {\n+    pluginName: '',\n+    pluginType: '',\n+    displayName: '',\n+    emitAlerts: true,\n+    emitErrors: true,\n+    activeStep: 0,\n+\n+    setActiveStep: this.setActiveStep,\n+    setBasicPluginInfo: this.setBasicPluginInfo,\n+  };\n+\n+  public render() {\n+    return (\n+      <CreateContext.Provider value={this.state}>\n+        <div className={this.props.classes.root}>\n+          <div className={this.props.classes.content}>\n+            <WizardGuideline />\n+            <Content />\n+          </div>\n+        </div>\n+      </CreateContext.Provider>\n+    );\n+  }\n+}\n+\n+export function createContextConnect(Comp) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b97ba672b450b8df4b27bcacd501a3fecd23190"}, "originalPosition": 105}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2b97ba672b450b8df4b27bcacd501a3fecd23190", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/2b97ba672b450b8df4b27bcacd501a3fecd23190", "committedDate": "2020-05-26T15:04:44Z", "message": "[CDAP-16860] Create Routing & Basic Plugin Information page"}, "afterCommit": {"oid": "b90588b291a5035a6e4cb06fdc7610d6c8ef0406", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/b90588b291a5035a6e4cb06fdc7610d6c8ef0406", "committedDate": "2020-05-26T23:33:28Z", "message": "[CDAP-16860] Create Routing & Basic Plugin Information page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ae1de03d68bbc747d2c68a6ceb30b1da23a1bd4", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/8ae1de03d68bbc747d2c68a6ceb30b1da23a1bd4", "committedDate": "2020-05-26T23:39:49Z", "message": "[CDAP-16860] Create Routing & Basic Plugin Information page"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b90588b291a5035a6e4cb06fdc7610d6c8ef0406", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/b90588b291a5035a6e4cb06fdc7610d6c8ef0406", "committedDate": "2020-05-26T23:33:28Z", "message": "[CDAP-16860] Create Routing & Basic Plugin Information page"}, "afterCommit": {"oid": "8ae1de03d68bbc747d2c68a6ceb30b1da23a1bd4", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/8ae1de03d68bbc747d2c68a6ceb30b1da23a1bd4", "committedDate": "2020-05-26T23:39:49Z", "message": "[CDAP-16860] Create Routing & Basic Plugin Information page"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMTM5OTEy", "url": "https://github.com/cdapio/cdap/pull/12205#pullrequestreview-422139912", "createdAt": "2020-06-01T20:00:18Z", "commit": {"oid": "8ae1de03d68bbc747d2c68a6ceb30b1da23a1bd4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2068, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}