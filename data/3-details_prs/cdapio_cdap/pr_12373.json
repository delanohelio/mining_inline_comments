{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2MjE5MDA3", "number": 12373, "title": "[CDAP 16835] Use Primitive type wrapper instead of primitive types in Configs", "bodyText": "Use primitive type class wrapper instead of primitive types in ETLBatchConfig and DataStreamConfig to handle upgrade gracefully where certain fields in old config might not be set. If that is the case then during deserialization they will be set to null and using primitive types in function argument will cause nullptr exception.\nhttps://builds.cask.co/browse/CDAP-DUT7259-1", "createdAt": "2020-06-18T04:24:24Z", "url": "https://github.com/cdapio/cdap/pull/12373", "merged": true, "mergeCommit": {"oid": "22f99701cd33f345720e37d34f17b63b369aaf46"}, "closed": true, "closedAt": "2020-06-18T17:41:25Z", "author": {"login": "pandyajay10"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsXftUAFqTQzMjk0ODI1MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsh4KtABqjM0NTkzMDYxODc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyOTQ4MjUw", "url": "https://github.com/cdapio/cdap/pull/12373#pullrequestreview-432948250", "createdAt": "2020-06-18T05:21:07Z", "commit": {"oid": "13feda8cde8543b6c6a6713a8a64a5db48858c4d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQwNToyMTowN1rOGlf98A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQwNToyMTowN1rOGlf98A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTk3NDI1Ng==", "bodyText": "Are the values passing to the constructor allowed to be nullable? If not, you can keep using primitive type here and only change the field type to allow null values during deserialization.", "url": "https://github.com/cdapio/cdap/pull/12373#discussion_r441974256", "createdAt": "2020-06-18T05:21:07Z", "author": {"login": "chtyim"}, "path": "cdap-app-templates/cdap-etl/cdap-etl-proto/src/main/java/io/cdap/cdap/etl/proto/v2/ETLConfig.java", "diffHunk": "@@ -61,8 +61,8 @@\n \n   protected ETLConfig(Set<ETLStage> stages, Set<Connection> connections,\n                       Resources resources, Resources driverResources, Resources clientResources,\n-                      boolean stageLoggingEnabled, boolean processTimingEnabled,\n-                      int numOfRecordsPreview, Map<String, String> properties) {\n+                      Boolean stageLoggingEnabled, Boolean processTimingEnabled,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13feda8cde8543b6c6a6713a8a64a5db48858c4d"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyOTgxMzA0", "url": "https://github.com/cdapio/cdap/pull/12373#pullrequestreview-432981304", "createdAt": "2020-06-18T06:40:42Z", "commit": {"oid": "13feda8cde8543b6c6a6713a8a64a5db48858c4d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d81819a534f4efcfa2bac906c851ed78b43220e2", "author": {"user": null}, "url": "https://github.com/cdapio/cdap/commit/d81819a534f4efcfa2bac906c851ed78b43220e2", "committedDate": "2020-06-18T16:18:10Z", "message": "Add Nullable annotation"}, "afterCommit": {"oid": "022c64906d093079ce1b2141b1e78b9dc7d5441a", "author": {"user": null}, "url": "https://github.com/cdapio/cdap/commit/022c64906d093079ce1b2141b1e78b9dc7d5441a", "committedDate": "2020-06-18T16:19:37Z", "message": "Use Primtive class wrapper instead of primitive types in ETLBatchConfig & DataStreamConfig for graceful handling of upgrade"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a9a4c6df0e351db40c448804c8ba3757005bb068", "author": {"user": null}, "url": "https://github.com/cdapio/cdap/commit/a9a4c6df0e351db40c448804c8ba3757005bb068", "committedDate": "2020-06-18T16:53:14Z", "message": "dummy2"}, "afterCommit": {"oid": "592353e19a607fa40faf19a9423a2210a4022bc0", "author": {"user": null}, "url": "https://github.com/cdapio/cdap/commit/592353e19a607fa40faf19a9423a2210a4022bc0", "committedDate": "2020-06-18T16:54:28Z", "message": "Use Primtive class wrapper instead of primitive types in ETLBatchConfig & DataStreamConfig for graceful handling of upgrade"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d09a3f0337891ad68d4726f2228638633b4536d5", "author": {"user": null}, "url": "https://github.com/cdapio/cdap/commit/d09a3f0337891ad68d4726f2228638633b4536d5", "committedDate": "2020-06-18T17:26:33Z", "message": "Use Primtive class wrapper instead of primitive types in ETLBatchConfig & DataStreamConfig for graceful handling of upgrade"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "592353e19a607fa40faf19a9423a2210a4022bc0", "author": {"user": null}, "url": "https://github.com/cdapio/cdap/commit/592353e19a607fa40faf19a9423a2210a4022bc0", "committedDate": "2020-06-18T16:54:28Z", "message": "Use Primtive class wrapper instead of primitive types in ETLBatchConfig & DataStreamConfig for graceful handling of upgrade"}, "afterCommit": {"oid": "d09a3f0337891ad68d4726f2228638633b4536d5", "author": {"user": null}, "url": "https://github.com/cdapio/cdap/commit/d09a3f0337891ad68d4726f2228638633b4536d5", "committedDate": "2020-06-18T17:26:33Z", "message": "Use Primtive class wrapper instead of primitive types in ETLBatchConfig & DataStreamConfig for graceful handling of upgrade"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1909, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}