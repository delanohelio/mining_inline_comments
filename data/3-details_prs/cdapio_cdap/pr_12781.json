{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwNzAwMTQ1", "number": 12781, "title": "[CDAP-17283] Fixes the name of record type to conform to Avro Schema spec", "bodyText": "JIRA: https://issues.cask.co/browse/CDAP-17283\nAvro Schema Name specification - http://avro.apache.org/docs/current/spec.html#names\nThe new schema editor added name to the record type with -. This doesn't conform to the avro schema which fails the pipeline to write", "createdAt": "2020-09-22T05:31:41Z", "url": "https://github.com/cdapio/cdap/pull/12781", "merged": true, "mergeCommit": {"oid": "25c0531f57309bfec4ee54830ce4db0b2095ffd6"}, "closed": true, "closedAt": "2020-09-22T19:47:17Z", "author": {"login": "ajainarayanan"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLRE6KgH2gAyNDkwNzAwMTQ1OmE5OTlmYWEyODI1NDcxM2IwZGZhNWVhOTUyMGQ1YWM2NjdhMTUxZWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLa0BEgFqTQ5MzY1NzAwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a999faa28254713b0dfa5ea9520d5ac667a151ea", "author": {"user": {"login": "ajainarayanan", "name": "Ajai"}}, "url": "https://github.com/cdapio/cdap/commit/a999faa28254713b0dfa5ea9520d5ac667a151ea", "committedDate": "2020-09-22T05:24:09Z", "message": "[CDAP-17283] Fixes the name of record type to conform to Avro Schema spec"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMTM4MTk5", "url": "https://github.com/cdapio/cdap/pull/12781#pullrequestreview-493138199", "createdAt": "2020-09-22T05:39:17Z", "commit": {"oid": "a999faa28254713b0dfa5ea9520d5ac667a151ea"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwNTozOToxN1rOHVq2aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwNTozOToxN1rOHVq2aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ4NDIwMw==", "bodyText": "we might want to only do this replace if we were the one generating the name. If it's the user, such as a nested record schema that already have the currentNode.name, this might overwrite what they put, and there might be some database that actually support - in the column name", "url": "https://github.com/cdapio/cdap/pull/12781#discussion_r492484203", "createdAt": "2020-09-22T05:39:17Z", "author": {"login": "elfenheart"}, "path": "cdap-ui/app/cdap/components/AbstractWidget/SchemaEditor/Context/SchemaGenerator.ts", "diffHunk": "@@ -123,9 +123,10 @@ function generateEnumType(children: IOrderedChildren, currentNode: INode, nullab\n function generateRecordType(children: IOrderedChildren, currentNode: INode, nullable: boolean) {\n   const finalType: IRecordField = {\n     type: AvroSchemaTypesEnum.RECORD,\n-    name: currentNode.name || `name-${uuidV4()}`,\n+    name: currentNode.name || `name_${uuidV4()}`,\n     fields: [],\n   };\n+  finalType.name = finalType.name.replace(/-/g, '');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a999faa28254713b0dfa5ea9520d5ac667a151ea"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNjU3MDAx", "url": "https://github.com/cdapio/cdap/pull/12781#pullrequestreview-493657001", "createdAt": "2020-09-22T16:44:45Z", "commit": {"oid": "a999faa28254713b0dfa5ea9520d5ac667a151ea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1658, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}