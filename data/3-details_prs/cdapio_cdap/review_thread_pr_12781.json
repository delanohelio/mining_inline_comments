{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwNzAwMTQ1", "number": 12781, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwNTozOToxN1rOEl7eug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwNTozOToxN1rOEl7eug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MjA3MjkwOnYy", "diffSide": "RIGHT", "path": "cdap-ui/app/cdap/components/AbstractWidget/SchemaEditor/Context/SchemaGenerator.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwNTozOToxN1rOHVq2aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwNTo0Mzo1OFrOHVq7RA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ4NDIwMw==", "bodyText": "we might want to only do this replace if we were the one generating the name. If it's the user, such as a nested record schema that already have the currentNode.name, this might overwrite what they put, and there might be some database that actually support - in the column name", "url": "https://github.com/cdapio/cdap/pull/12781#discussion_r492484203", "createdAt": "2020-09-22T05:39:17Z", "author": {"login": "elfenheart"}, "path": "cdap-ui/app/cdap/components/AbstractWidget/SchemaEditor/Context/SchemaGenerator.ts", "diffHunk": "@@ -123,9 +123,10 @@ function generateEnumType(children: IOrderedChildren, currentNode: INode, nullab\n function generateRecordType(children: IOrderedChildren, currentNode: INode, nullable: boolean) {\n   const finalType: IRecordField = {\n     type: AvroSchemaTypesEnum.RECORD,\n-    name: currentNode.name || `name-${uuidV4()}`,\n+    name: currentNode.name || `name_${uuidV4()}`,\n     fields: [],\n   };\n+  finalType.name = finalType.name.replace(/-/g, '');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a999faa28254713b0dfa5ea9520d5ac667a151ea"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ4NTQ0NA==", "bodyText": "Avro Schema specification doesn't allow -s in names. https://avro.apache.org/docs/current/spec.html#names. This is the record name. Not sure how this will be related to databases.", "url": "https://github.com/cdapio/cdap/pull/12781#discussion_r492485444", "createdAt": "2020-09-22T05:43:58Z", "author": {"login": "ajainarayanan"}, "path": "cdap-ui/app/cdap/components/AbstractWidget/SchemaEditor/Context/SchemaGenerator.ts", "diffHunk": "@@ -123,9 +123,10 @@ function generateEnumType(children: IOrderedChildren, currentNode: INode, nullab\n function generateRecordType(children: IOrderedChildren, currentNode: INode, nullable: boolean) {\n   const finalType: IRecordField = {\n     type: AvroSchemaTypesEnum.RECORD,\n-    name: currentNode.name || `name-${uuidV4()}`,\n+    name: currentNode.name || `name_${uuidV4()}`,\n     fields: [],\n   };\n+  finalType.name = finalType.name.replace(/-/g, '');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ4NDIwMw=="}, "originalCommit": {"oid": "a999faa28254713b0dfa5ea9520d5ac667a151ea"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3040, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}