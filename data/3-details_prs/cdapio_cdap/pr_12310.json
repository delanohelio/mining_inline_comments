{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzMzc4NTg4", "number": 12310, "title": "[CDAP-16936] Refactor source code (Plugin JSON Creator)", "bodyText": "Refactored the source code for Plugin JSON Creator in order to make it more clear and maintainable. Each component will be explained more thoroughly in the design documentation.\nSome of the changes include...\n\nRestructure the files.\nSplitting the existing components to make it more readable.\nSimplifying & commenting some of the existing logic.\nImprovement in very minor css stylings.\nRename of certain variables and functions.\n\nThe new structure is as following:\n|-Create\n|---Content\n|-----ConfigurationGroupPage\n|-------GroupPanel\n|---------GroupActionButtons\n|---------GroupInfoInput\n|---------WidgetCollection\n|-----------WidgetAttributesPanel\n|-------------WidgetAttributeInput\n|---------------MultipleAttributesInput\n|-----------------AttributeKeyvalueRowsInput\n|-----------------AttributeRowsInput\n|---------------SingleAttributeInput\n|-----------------AttributeKeyValueInput\n|-----------WidgetPanel\n|-------------WidgetActionButtons\n|-------------WidgetInfoInput\n|-----FilterPage\n|-------FilterPanel\n|---------FilerNameInput\n|---------FilterConditionInput\n|---------FilterShowlistInput\n|-----------ShowPropertyRow\n|-------------ShowActionButtons\n|-----OutputPage\n|-------ExplicitSchemaDefiner\n|-------ImplicitSchemaDefiner\n|-----PluginInfoPage\n|-----PluginInput\n|-----StepButtons\n|---PluginJSONMenu\n|-----CollapsedMenu\n|-----JSONActionButtons\n|-------CollapseLiveViewButton\n|-------ExpandLiveViewButtton\n|-------JSONDownloadButton\n|-------JSONImportButton\n|-------SwitchLiveViewModeButton\n|-----LiveViewMenu\n|-------LiveConfigurationGroup\n|-------LiveJSON\n|-------LiveViewTopPanel\n|---StepsGuidelineMenu", "createdAt": "2020-06-11T23:16:50Z", "url": "https://github.com/cdapio/cdap/pull/12310", "merged": true, "mergeCommit": {"oid": "7ae779fa1f966cb4804460c0e0d9d8c33b9d8bf8"}, "closed": true, "closedAt": "2020-06-25T15:12:47Z", "author": {"login": "jennac3"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcueLx4gBqjM0Nzg3MjYxNjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuv9YhgBqjM0ODI4MTIyNzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6daa963ed67fed950253cb472c21e436f366bc46", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/6daa963ed67fed950253cb472c21e436f366bc46", "committedDate": "2020-06-16T18:31:30Z", "message": "prepare for demo"}, "afterCommit": {"oid": "da070e076148434c34ea18024913a2276b639836", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/da070e076148434c34ea18024913a2276b639836", "committedDate": "2020-06-24T18:15:51Z", "message": "pull from develop"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "da070e076148434c34ea18024913a2276b639836", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/da070e076148434c34ea18024913a2276b639836", "committedDate": "2020-06-24T18:15:51Z", "message": "pull from develop"}, "afterCommit": {"oid": "0991eabafa5c252d4946aaf6f1c103f0cb5dcbb7", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/0991eabafa5c252d4946aaf6f1c103f0cb5dcbb7", "committedDate": "2020-06-24T19:20:59Z", "message": "[CDAP-16936] Refactor source code (Plugin JSON Creator)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MjEzNDI4", "url": "https://github.com/cdapio/cdap/pull/12310#pullrequestreview-437213428", "createdAt": "2020-06-25T06:53:18Z", "commit": {"oid": "0991eabafa5c252d4946aaf6f1c103f0cb5dcbb7"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNjo1MzoxOVrOGotmzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNjo1NDoyNVrOGotobQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM0MzQzNw==", "bodyText": "both the set loading true and false needs to be inside the debounce function", "url": "https://github.com/cdapio/cdap/pull/12310#discussion_r445343437", "createdAt": "2020-06-25T06:53:19Z", "author": {"login": "elfenheart"}, "path": "cdap-ui/app/cdap/components/PluginJSONCreator/Create/PluginJSONMenu/LiveViewMenu/LiveConfigurationGroup/index.tsx", "diffHunk": "@@ -49,16 +49,19 @@ const LiveConfigurationGroupView: React.FC<ILiveConfigurationGroup> = ({ classes\n   const debouncedUpdate = debounce(() => {\n     const newPluginProperties = getNewPluginProperties(JSONOutput);\n     setPluginProperties(newPluginProperties);\n-    setLoading(false);\n   }, 500);\n \n   React.useEffect(() => {\n+    // after a setTimeout for 500ms, set the loading state back to false\n     setLoading(true);\n-\n-    // after a setTimeout for 500ms,\n-    // set the loading state back to false and set the plugin properties\n-    // in order to re-render the live configuration group view.\n     debouncedUpdate();\n+    const timer = setTimeout(() => {\n+      setLoading(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0991eabafa5c252d4946aaf6f1c103f0cb5dcbb7"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM0Mzg1Mw==", "bodyText": "nit remove if not required", "url": "https://github.com/cdapio/cdap/pull/12310#discussion_r445343853", "createdAt": "2020-06-25T06:54:25Z", "author": {"login": "elfenheart"}, "path": "cdap-ui/app/cdap/components/PluginJSONCreator/constants.tsx", "diffHunk": "@@ -60,7 +60,7 @@ export const WIDGET_TYPE_TO_ATTRIBUTES = {\n     */\n   },\n   dlp: {\n-    transforms: { type: 'ITransformProp[]', required: true },\n+    // transforms: { type: 'ITransformProp[]', required: true },", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0991eabafa5c252d4946aaf6f1c103f0cb5dcbb7"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0991eabafa5c252d4946aaf6f1c103f0cb5dcbb7", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/0991eabafa5c252d4946aaf6f1c103f0cb5dcbb7", "committedDate": "2020-06-24T19:20:59Z", "message": "[CDAP-16936] Refactor source code (Plugin JSON Creator)"}, "afterCommit": {"oid": "b0e6df4a92cb21363ba8980265873a8474ef7d11", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/b0e6df4a92cb21363ba8980265873a8474ef7d11", "committedDate": "2020-06-25T14:47:14Z", "message": "[CDAP-16936] Refactor source code (Plugin JSON Creator)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e08fd38a7368f7484dcd778dd167038a3e97987", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/7e08fd38a7368f7484dcd778dd167038a3e97987", "committedDate": "2020-06-25T14:58:56Z", "message": "[CDAP-16936] Refactor source code (Plugin JSON Creator)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b0e6df4a92cb21363ba8980265873a8474ef7d11", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/b0e6df4a92cb21363ba8980265873a8474ef7d11", "committedDate": "2020-06-25T14:47:14Z", "message": "[CDAP-16936] Refactor source code (Plugin JSON Creator)"}, "afterCommit": {"oid": "7e08fd38a7368f7484dcd778dd167038a3e97987", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/7e08fd38a7368f7484dcd778dd167038a3e97987", "committedDate": "2020-06-25T14:58:56Z", "message": "[CDAP-16936] Refactor source code (Plugin JSON Creator)"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2013, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}