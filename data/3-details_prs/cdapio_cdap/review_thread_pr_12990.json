{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1MDQzNzA5", "number": 12990, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMTo1Mzo1OFrOFIw2ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMTo1NDowNVrOFIw24w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0NzMzMzIyOnYy", "diffSide": "RIGHT", "path": "cdap-app-fabric/src/test/java/io/cdap/cdap/internal/capability/CapabilityManagementServiceTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMTo1Mzo1OFrOIK33hA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMTo1Mzo1OFrOIK33hA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODI3MjAwNA==", "bodyText": "Here I don't think we need to wait state to get stopped, we need to use other method to check for RUNNING since the program might not exist, at this time, the program should exist", "url": "https://github.com/cdapio/cdap/pull/12990#discussion_r548272004", "createdAt": "2020-12-23T21:53:58Z", "author": {"login": "yaojiefeng"}, "path": "cdap-app-fabric/src/test/java/io/cdap/cdap/internal/capability/CapabilityManagementServiceTest.java", "diffHunk": "@@ -207,6 +210,7 @@ public void testCapabilityRefresh() throws Exception {\n     CapabilityConfig disabledConfig = changeConfigStatus(config, CapabilityStatus.DISABLED);\n     writeConfigAsFile(externalConfigPath, disabledConfig.getCapability(), disabledConfig);\n     capabilityManagementService.runTask();\n+    waitState(programId, \"STOPPED\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16a90bf27dda8f7b4ac454853a6498e1792974f9"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0NzMzNDExOnYy", "diffSide": "RIGHT", "path": "cdap-app-fabric/src/test/java/io/cdap/cdap/internal/capability/CapabilityManagementServiceTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMTo1NDowNVrOIK34EQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMTo1NDowNVrOIK34EQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODI3MjE0NQ==", "bodyText": "Same here", "url": "https://github.com/cdapio/cdap/pull/12990#discussion_r548272145", "createdAt": "2020-12-23T21:54:05Z", "author": {"login": "yaojiefeng"}, "path": "cdap-app-fabric/src/test/java/io/cdap/cdap/internal/capability/CapabilityManagementServiceTest.java", "diffHunk": "@@ -341,6 +346,7 @@ public void testProgramStart() throws Exception {\n                                                            Collections.emptyList());\n     writeConfigAsFile(externalConfigPath, capability, disabledConfig);\n     capabilityManagementService.runTask();\n+    waitState(programId, \"STOPPED\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16a90bf27dda8f7b4ac454853a6498e1792974f9"}, "originalPosition": 44}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2525, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}