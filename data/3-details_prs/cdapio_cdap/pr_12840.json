{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1NzIwMzIz", "number": 12840, "title": "[CDAP-16539] Honor empty values set by user for plugin properties not to be overwritten by defaults set in widget json", "bodyText": "JIRA - https://issues.cask.co/browse/CDAP-16539\n\nWe right now don't manually remove the empty values from plugin properties while building the pipeline\nAt the end when the pipeline is published UI removes all empty string properties and publishes the pipeline (essentially removing the property from the plugin).", "createdAt": "2020-11-05T00:46:10Z", "url": "https://github.com/cdapio/cdap/pull/12840", "merged": true, "mergeCommit": {"oid": "877d83e2871535838afcf8872e29c6df44f289a1"}, "closed": true, "closedAt": "2020-11-10T07:28:07Z", "author": {"login": "ajainarayanan"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABda5KNCAFqTUyNjU0MDE0NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABda6WAmABqjM5NzU1NTE2NTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2NTQwMTQ1", "url": "https://github.com/cdapio/cdap/pull/12840#pullrequestreview-526540145", "createdAt": "2020-11-09T18:35:00Z", "commit": {"oid": "858e7b8b1c29ff00507f8b56d80fed3f6be5ae6d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxODozNTowMFrOHv8Irw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxODozNTowMFrOHv8Irw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDAzMDM4Mw==", "bodyText": "Could this use lodash defaults?", "url": "https://github.com/cdapio/cdap/pull/12840#discussion_r520030383", "createdAt": "2020-11-09T18:35:00Z", "author": {"login": "njbriggs"}, "path": "cdap-ui/app/cdap/components/ConfigurationGroup/index.tsx", "diffHunk": "@@ -100,10 +100,14 @@ const ConfigurationGroupView: React.FC<IConfigurationGroupProps> = ({\n \n     // set default values\n     const defaultValues = processedConfigurationGroup.defaultValues;\n-    const newValues = {\n-      ...defaultValues,\n-      ...values,\n-    };\n+    const newValues = {};\n+    for (const property of Object.keys(pluginProperties)) {\n+      if (!values.hasOwnProperty(property)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "858e7b8b1c29ff00507f8b56d80fed3f6be5ae6d"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2NTQ3Nzkx", "url": "https://github.com/cdapio/cdap/pull/12840#pullrequestreview-526547791", "createdAt": "2020-11-09T18:45:09Z", "commit": {"oid": "858e7b8b1c29ff00507f8b56d80fed3f6be5ae6d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11e5d390a65f5df8e8566d9c1a915cc69baca470", "author": {"user": {"login": "ajainarayanan", "name": "Ajai"}}, "url": "https://github.com/cdapio/cdap/commit/11e5d390a65f5df8e8566d9c1a915cc69baca470", "committedDate": "2020-11-09T19:57:34Z", "message": "[CDAP-16539] Fixes plugin properties UI to honor user\\'s choice of empty values even if there is a default"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59af5127f173ea323a908ead04caf50604301797", "author": {"user": {"login": "ajainarayanan", "name": "Ajai"}}, "url": "https://github.com/cdapio/cdap/commit/59af5127f173ea323a908ead04caf50604301797", "committedDate": "2020-11-09T19:57:39Z", "message": "Adds e2e to pipeline studio spec validating empty values set by user is retained"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6c787de8f4779b8d813b8e2897090162f6467dd0", "author": {"user": {"login": "ajainarayanan", "name": "Ajai"}}, "url": "https://github.com/cdapio/cdap/commit/6c787de8f4779b8d813b8e2897090162f6467dd0", "committedDate": "2020-11-09T19:56:56Z", "message": "Address review comments"}, "afterCommit": {"oid": "59af5127f173ea323a908ead04caf50604301797", "author": {"user": {"login": "ajainarayanan", "name": "Ajai"}}, "url": "https://github.com/cdapio/cdap/commit/59af5127f173ea323a908ead04caf50604301797", "committedDate": "2020-11-09T19:57:39Z", "message": "Adds e2e to pipeline studio spec validating empty values set by user is retained"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1723, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}