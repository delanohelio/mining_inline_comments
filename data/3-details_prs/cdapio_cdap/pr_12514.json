{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3ODk1NDM0", "number": 12514, "title": "[CDAP-17111] Revamp + Refactor Plugin JSON Creator", "bodyText": "Addressed Lea's feedback\nImprove UI stylings on live viewer\nFixed bugs (Configuration Groups update on filter change, scrolling bug etc)", "createdAt": "2020-07-28T15:44:15Z", "url": "https://github.com/cdapio/cdap/pull/12514", "merged": true, "mergeCommit": {"oid": "c6a8363a7bb560d739117a63f96fd36781baafcf"}, "closed": true, "closedAt": "2020-08-04T15:55:54Z", "author": {"login": "jennac3"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5anFJgFqTQ1Njg5MjYzOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7oUS1gBqjM2MjA3ODQ5NTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2ODkyNjM5", "url": "https://github.com/cdapio/cdap/pull/12514#pullrequestreview-456892639", "createdAt": "2020-07-28T18:19:58Z", "commit": {"oid": "5465c59a83c5efa2d2c5e9a29bdd1cd3db08ad4b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxODoxOTo1OVrOG4Y5Ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxODoxOTo1OVrOG4Y5Ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc4MTI1MA==", "bodyText": "Why customize the styles for the button and tooltip?", "url": "https://github.com/cdapio/cdap/pull/12514#discussion_r461781250", "createdAt": "2020-07-28T18:19:59Z", "author": {"login": "njbriggs"}, "path": "cdap-ui/app/cdap/components/PluginJSONCreator/Create/PluginJSONMenu/JSONActionButtons/LiveJSONButton/index.tsx", "diffHunk": "@@ -14,35 +14,55 @@\n  * the License.\n  */\n \n-import Button from '@material-ui/core/Button';\n+import * as React from 'react';\n+\n import withStyles, { StyleRules } from '@material-ui/core/styles/withStyles';\n-import Tooltip from '@material-ui/core/Tooltip';\n+\n import CodeIcon from '@material-ui/icons/Code';\n-import * as React from 'react';\n+import IconButton from '@material-ui/core/IconButton';\n+import { LiveViewMode } from 'components/PluginJSONCreator/Create/PluginJSONMenu';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import classnames from 'classnames';\n \n const styles = (theme): StyleRules => {\n   return {\n     buttonTooltip: {\n-      fontSize: '14px',\n-      backgroundColor: theme.palette.grey[500],\n+      fontSize: '13px',\n+      backgroundColor: theme.palette.grey[50],\n+    },\n+    liveJSONButton: {\n+      '&:focus': {\n+        outline: 'none',\n+      },\n+    },\n+    clickedButton: {\n+      backgroundColor: 'rgb(26,115,232,0.2)',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5465c59a83c5efa2d2c5e9a29bdd1cd3db08ad4b"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NTMwNzc0", "url": "https://github.com/cdapio/cdap/pull/12514#pullrequestreview-458530774", "createdAt": "2020-07-30T15:47:03Z", "commit": {"oid": "5465c59a83c5efa2d2c5e9a29bdd1cd3db08ad4b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNTo0NzowM1rOG5pB1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNTo0NzowM1rOG5pB1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzA5NDIyOA==", "bodyText": "Can we get this from theme.palette? (It looks like theme.palette.primary.main)", "url": "https://github.com/cdapio/cdap/pull/12514#discussion_r463094228", "createdAt": "2020-07-30T15:47:03Z", "author": {"login": "yukiej"}, "path": "cdap-ui/app/cdap/components/PluginJSONCreator/Create/PluginJSONMenu/JSONActionButtons/LiveConfigurationGroupButton/index.tsx", "diffHunk": "@@ -0,0 +1,74 @@\n+/*\n+ * Copyright \u00a9 2020 Cask Data, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+import * as React from 'react';\n+\n+import withStyles, { StyleRules } from '@material-ui/core/styles/withStyles';\n+\n+import IconButton from '@material-ui/core/IconButton';\n+import ImportContactsIcon from '@material-ui/icons/ImportContacts';\n+import { LiveViewMode } from 'components/PluginJSONCreator/Create/PluginJSONMenu';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import classnames from 'classnames';\n+\n+const styles = (theme): StyleRules => {\n+  return {\n+    buttonTooltip: {\n+      fontSize: '13px',\n+      backgroundColor: theme.palette.grey[50],\n+    },\n+    liveConfigurationGroupButton: {\n+      '&:focus': {\n+        outline: 'none',\n+      },\n+    },\n+    clickedButton: {\n+      backgroundColor: 'rgb(26,115,232,0.2)',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5465c59a83c5efa2d2c5e9a29bdd1cd3db08ad4b"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NTMxNTcx", "url": "https://github.com/cdapio/cdap/pull/12514#pullrequestreview-458531571", "createdAt": "2020-07-30T15:47:55Z", "commit": {"oid": "5465c59a83c5efa2d2c5e9a29bdd1cd3db08ad4b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNTo0Nzo1NVrOG5pEOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNTo0Nzo1NVrOG5pEOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzA5NDg0MQ==", "bodyText": "See previous comment about getting this from theme.palette", "url": "https://github.com/cdapio/cdap/pull/12514#discussion_r463094841", "createdAt": "2020-07-30T15:47:55Z", "author": {"login": "yukiej"}, "path": "cdap-ui/app/cdap/components/PluginJSONCreator/Create/PluginJSONMenu/JSONActionButtons/LiveJSONButton/index.tsx", "diffHunk": "@@ -14,35 +14,55 @@\n  * the License.\n  */\n \n-import Button from '@material-ui/core/Button';\n+import * as React from 'react';\n+\n import withStyles, { StyleRules } from '@material-ui/core/styles/withStyles';\n-import Tooltip from '@material-ui/core/Tooltip';\n+\n import CodeIcon from '@material-ui/icons/Code';\n-import * as React from 'react';\n+import IconButton from '@material-ui/core/IconButton';\n+import { LiveViewMode } from 'components/PluginJSONCreator/Create/PluginJSONMenu';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import classnames from 'classnames';\n \n const styles = (theme): StyleRules => {\n   return {\n     buttonTooltip: {\n-      fontSize: '14px',\n-      backgroundColor: theme.palette.grey[500],\n+      fontSize: '13px',\n+      backgroundColor: theme.palette.grey[50],\n+    },\n+    liveJSONButton: {\n+      '&:focus': {\n+        outline: 'none',\n+      },\n+    },\n+    clickedButton: {\n+      backgroundColor: 'rgb(26,115,232,0.2)',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5465c59a83c5efa2d2c5e9a29bdd1cd3db08ad4b"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NTMzODQ1", "url": "https://github.com/cdapio/cdap/pull/12514#pullrequestreview-458533845", "createdAt": "2020-07-30T15:50:22Z", "commit": {"oid": "5465c59a83c5efa2d2c5e9a29bdd1cd3db08ad4b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNTo1MDoyMlrOG5pK4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNTo1MDoyMlrOG5pK4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzA5NjU0Ng==", "bodyText": "can we use config.hasOwnProperty here instead? Same for line 95", "url": "https://github.com/cdapio/cdap/pull/12514#discussion_r463096546", "createdAt": "2020-07-30T15:50:22Z", "author": {"login": "yukiej"}, "path": "cdap-ui/app/cdap/components/PluginJSONCreator/Create/PluginJSONMenu/LiveView/LiveConfigurationGroup/index.tsx", "diffHunk": "@@ -62,7 +74,7 @@ const LiveConfigurationGroupView: React.FC<ILiveConfigurationGroup> = ({ classes\n    * Get pluginProperties, which is required for ConfigurationGroups component.\n    */\n   function getNewPluginProperties(config) {\n-    if (!config['configuration-groups']) {\n+    if (!config || !config['configuration-groups']) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5465c59a83c5efa2d2c5e9a29bdd1cd3db08ad4b"}, "originalPosition": 48}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NTM1NDI1", "url": "https://github.com/cdapio/cdap/pull/12514#pullrequestreview-458535425", "createdAt": "2020-07-30T15:52:06Z", "commit": {"oid": "5465c59a83c5efa2d2c5e9a29bdd1cd3db08ad4b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNTo1MjowNlrOG5pPjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNTo1MjowNlrOG5pPjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzA5Nzc0Mg==", "bodyText": "These comments are helpful!", "url": "https://github.com/cdapio/cdap/pull/12514#discussion_r463097742", "createdAt": "2020-07-30T15:52:06Z", "author": {"login": "yukiej"}, "path": "cdap-ui/app/cdap/components/PluginJSONCreator/Create/PluginJSONMenu/index.tsx", "diffHunk": "@@ -28,43 +29,56 @@ import {\n   usePluginInfoState,\n   useWidgetState,\n } from 'components/PluginJSONCreator/Create';\n-import CollapsedMenu from 'components/PluginJSONCreator/Create/PluginJSONMenu/CollapsedMenu';\n-import LiveViewMenu from 'components/PluginJSONCreator/Create/PluginJSONMenu/LiveViewMenu';\n-import {\n-  downloadPluginJSON,\n-  getJSONOutput,\n-  parsePluginJSON,\n-} from 'components/PluginJSONCreator/utilities';\n-import * as React from 'react';\n+import withStyles, { StyleRules, WithStyles } from '@material-ui/core/styles/withStyles';\n+\n+import Alert from 'components/Alert';\n+import Drawer from '@material-ui/core/Drawer';\n+import If from 'components/If';\n+import JSONActionButtons from 'components/PluginJSONCreator/Create/PluginJSONMenu/JSONActionButtons';\n+import { JSONStatusMessage } from 'components/PluginJSONCreator/constants';\n+import LiveView from 'components/PluginJSONCreator/Create/PluginJSONMenu/LiveView';\n+\n+export enum LiveViewMode {\n+  JSONView = 'JSON_VIEW',\n+  ConfigurationGroupsView = 'CONFIGURATION_GROUPS',\n+  None = 'NONE',\n+}\n \n-const LIVE_VIEWER_WIDTH = '600px';\n+const LIVE_VIEWER_WIDTH = '550px';\n \n const styles = (theme): StyleRules => {\n   return {\n     mainMenu: {\n+      display: 'grid',\n+      gridTemplateColumns: '1fr 9fr',\n       width: '100%',\n       height: '100%',\n       borderTop: `1px solid ${theme.palette.grey['500']}`,\n-      paddingTop: theme.Spacing(1),\n-      paddingBottom: theme.Spacing(1),\n+    },\n+    jsonActionButtons: {\n+      margin: 'auto',\n+      padding: '0',\n+    },\n+    liveView: {\n+      width: '100%',\n     },\n     toolbar: {\n       minHeight: '48px',\n     },\n-    closedPluginJSONMenu: {\n+    closedMenu: {\n       zIndex: 1000, // lower than '1061', which is Alert component's z-index", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5465c59a83c5efa2d2c5e9a29bdd1cd3db08ad4b"}, "originalPosition": 73}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NTM2NDY3", "url": "https://github.com/cdapio/cdap/pull/12514#pullrequestreview-458536467", "createdAt": "2020-07-30T15:53:14Z", "commit": {"oid": "5465c59a83c5efa2d2c5e9a29bdd1cd3db08ad4b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNTo1MzoxNFrOG5pSzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNTo1MzoxNFrOG5pSzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzA5ODU3Mw==", "bodyText": "Update license year?", "url": "https://github.com/cdapio/cdap/pull/12514#discussion_r463098573", "createdAt": "2020-07-30T15:53:14Z", "author": {"login": "yukiej"}, "path": "cdap-ui/app/cdap/components/StandardModal/index.tsx", "diffHunk": "@@ -0,0 +1,97 @@\n+/*\n+ * Copyright \u00a9 2016-2017 Cask Data, Inc.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5465c59a83c5efa2d2c5e9a29bdd1cd3db08ad4b"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNDU0MTUy", "url": "https://github.com/cdapio/cdap/pull/12514#pullrequestreview-460454152", "createdAt": "2020-08-04T02:27:45Z", "commit": {"oid": "beea721bca4bcb4bcb0106b09fbb481d230d8381"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjoyNzo0NVrOG7Oz8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMjoyODo1NFrOG7O09Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MTg0Mw==", "bodyText": "nit: consolidate these into a single class", "url": "https://github.com/cdapio/cdap/pull/12514#discussion_r464761843", "createdAt": "2020-08-04T02:27:45Z", "author": {"login": "elfenheart"}, "path": "cdap-ui/app/cdap/components/PluginJSONCreator/Create/Content/StepButtons/index.tsx", "diffHunk": "@@ -31,6 +33,12 @@ const styles = (theme): StyleRules => {\n         marginRight: '50px',\n       },\n     },\n+    previousButton: {\n+      textTransform: 'none',\n+    },\n+    nextButton: {\n+      textTransform: 'none',\n+    },", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "beea721bca4bcb4bcb0106b09fbb481d230d8381"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc2MjEwMQ==", "bodyText": "what about header?", "url": "https://github.com/cdapio/cdap/pull/12514#discussion_r464762101", "createdAt": "2020-08-04T02:28:54Z", "author": {"login": "elfenheart"}, "path": "cdap-ui/app/cdap/components/PluginJSONCreator/Create/PluginJSONMenu/JSONActionButtons/index.tsx", "diffHunk": "@@ -14,48 +14,73 @@\n  * the License.\n  */\n \n-import Divider from '@material-ui/core/Divider';\n+import * as React from 'react';\n+\n import withStyles, { StyleRules, WithStyles } from '@material-ui/core/styles/withStyles';\n-import ExpandLiveViewButton from 'components/PluginJSONCreator/Create/PluginJSONMenu/JSONActionButtons/ExpandLiveViewButtton';\n+\n+import Divider from '@material-ui/core/Divider';\n import JSONDownloadButton from 'components/PluginJSONCreator/Create/PluginJSONMenu/JSONActionButtons/JSONDownloadButton';\n import JSONImportButton from 'components/PluginJSONCreator/Create/PluginJSONMenu/JSONActionButtons/JSONImportButton';\n-import * as React from 'react';\n+import LiveConfigurationGroupButton from 'components/PluginJSONCreator/Create/PluginJSONMenu/JSONActionButtons/LiveConfigurationGroupButton';\n+import LiveJSONButton from 'components/PluginJSONCreator/Create/PluginJSONMenu/JSONActionButtons/LiveJSONButton';\n+import { LiveViewMode } from 'components/PluginJSONCreator/Create/PluginJSONMenu';\n+import classnames from 'classnames';\n \n const styles = (theme): StyleRules => {\n   return {\n     JSONActionButtons: {\n-      padding: '15px',\n       flexDirection: 'column',\n+      borderRight: `1px solid ${theme.palette.divider}`,\n+      height: 'calc(100vh - 53px)', // height excluding footer", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "beea721bca4bcb4bcb0106b09fbb481d230d8381"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwOTE0MTcw", "url": "https://github.com/cdapio/cdap/pull/12514#pullrequestreview-460914170", "createdAt": "2020-08-04T15:15:54Z", "commit": {"oid": "fb21269c99d9742649dbe3b9f11bbaa4ce5cfc1e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "921a01ca2204d31ef7b857fadf9681b051a8a2bc", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/921a01ca2204d31ef7b857fadf9681b051a8a2bc", "committedDate": "2020-08-04T15:25:46Z", "message": "[CDAP-17111] Revamp + Refactor Plugin JSON Creator"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fb21269c99d9742649dbe3b9f11bbaa4ce5cfc1e", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/fb21269c99d9742649dbe3b9f11bbaa4ce5cfc1e", "committedDate": "2020-08-04T14:46:44Z", "message": "addresss comments"}, "afterCommit": {"oid": "921a01ca2204d31ef7b857fadf9681b051a8a2bc", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/921a01ca2204d31ef7b857fadf9681b051a8a2bc", "committedDate": "2020-08-04T15:25:46Z", "message": "[CDAP-17111] Revamp + Refactor Plugin JSON Creator"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1871, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}