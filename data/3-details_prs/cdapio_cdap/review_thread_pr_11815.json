{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwNzIxNzMz", "number": 11815, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQwMDoxOToxM1rODXBXCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMTozNzo1NlrODXRweQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NDY2MTIzOnYy", "diffSide": "RIGHT", "path": "cdap-ui/app/cdap/components/AbstractWidget/AbstractMultiRowWidget/AbstractRow.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQwMDoxOToxM1rOFcHM2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQwMDoxOToxM1rOFcHM2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAyMjQyNw==", "bodyText": "Any reason why you're using className instead of data-cy here and in other places in this PR?", "url": "https://github.com/cdapio/cdap/pull/11815#discussion_r365022427", "createdAt": "2020-01-10T00:19:13Z", "author": {"login": "itsanudeep"}, "path": "cdap-ui/app/cdap/components/AbstractWidget/AbstractMultiRowWidget/AbstractRow.tsx", "diffHunk": "@@ -87,26 +88,27 @@ export default class AbstractRow<\n   };\n \n   public render() {\n-    const { errors, value } = this.props;\n+    const { errors, value, dataCy, index } = this.props;\n     let errorMsg = null;\n     if (errors && value) {\n       const errorObj = errors.find((error: IErrorObj) => error.element === value);\n       if (errorObj) {\n         errorMsg = errorObj.msg;\n       }\n     }\n+\n     return (\n       <React.Fragment>\n-        <div className={this.props.classes.root}>\n+        <div className={this.props.classes.root} data-cy={`${index}`}>\n           {this.renderInput()}\n \n           <If condition={!this.props.disabled}>\n             <React.Fragment>\n-              <IconButton onClick={this.props.addRow}>\n+              <IconButton onClick={this.props.addRow} className=\"add-row\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be10cbbf538f273026a76edf069fd1c880dba952"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NDY2NzgxOnYy", "diffSide": "RIGHT", "path": "cdap-ui/cypress/support/MultiRowWidgets/utilities.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQwMDoyMzo0N1rOFcHRIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQwMDoyMzo0N1rOFcHRIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAyMzUyMw==", "bodyText": "I like this function! \ud83d\ude04\nDo you think renaming this to something that says this is data-cy selector would be helpful? When I first read the function name earlier in this PR, I thought this would select a plugin property.", "url": "https://github.com/cdapio/cdap/pull/11815#discussion_r365023523", "createdAt": "2020-01-10T00:23:47Z", "author": {"login": "itsanudeep"}, "path": "cdap-ui/cypress/support/MultiRowWidgets/utilities.ts", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Copyright \u00a9 2020 Cask Data, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+export function propertySelector(property) {\n+  return `[data-cy=\"${property}\"]`;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be10cbbf538f273026a76edf069fd1c880dba952"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzM0NjkyOnYy", "diffSide": "RIGHT", "path": "cdap-ui/cypress/support/MultiRowWidgets/utilities.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMTozNzozMlrOFcgtsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMTozNzozMlrOFcgtsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ0MDQzNA==", "bodyText": "@elfenheart I am adding this as a cypress command to be used across all the tests. https://github.com/cdapio/cdap/pull/11814/files#diff-3f1be9a94ccb41c3adcaa145f1dbdc11R420-R435. Do you mind waiting for my PR to use the cypress command?", "url": "https://github.com/cdapio/cdap/pull/11815#discussion_r365440434", "createdAt": "2020-01-10T21:37:32Z", "author": {"login": "ajainarayanan"}, "path": "cdap-ui/cypress/support/MultiRowWidgets/utilities.ts", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Copyright \u00a9 2020 Cask Data, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+export function propertySelector(property) {\n+  return `[data-cy=\"${property}\"]`;\n+}\n+\n+export function rowSelector(property, index) {\n+  return `${propertySelector(property)} [data-cy=\"${index}\"]`;\n+}\n+\n+export function openPropertyModal() {\n+  // open plugin properties\n+  cy.get('[data-cy=\"plugin-node-Projection-transform-0\"] .node .node-configure-btn')\n+    .invoke('show')\n+    .click();\n+}\n+\n+export function getExportProperties(stageName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be10cbbf538f273026a76edf069fd1c880dba952"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzM0Nzc3OnYy", "diffSide": "RIGHT", "path": "cdap-ui/cypress/support/MultiRowWidgets/utilities.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMTozNzo1NlrOFcguNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMTozNzo1NlrOFcguNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ0MDU2NQ==", "bodyText": "This would also be a good cypress command. Almost all the pipeline studio tests will use this.", "url": "https://github.com/cdapio/cdap/pull/11815#discussion_r365440565", "createdAt": "2020-01-10T21:37:56Z", "author": {"login": "ajainarayanan"}, "path": "cdap-ui/cypress/support/MultiRowWidgets/utilities.ts", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Copyright \u00a9 2020 Cask Data, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+export function propertySelector(property) {\n+  return `[data-cy=\"${property}\"]`;\n+}\n+\n+export function rowSelector(property, index) {\n+  return `${propertySelector(property)} [data-cy=\"${index}\"]`;\n+}\n+\n+export function openPropertyModal() {\n+  // open plugin properties", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be10cbbf538f273026a76edf069fd1c880dba952"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3021, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}