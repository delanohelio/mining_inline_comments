{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwMjgwNTkz", "number": 12464, "title": "[CDAP-17084] Limit request log entries to be <= 200 (RequestHistoryTab)", "bodyText": "Limit request log entries to be <= 200 counts. If there are more than 200 logs added, delete the oldest log from both localstorage and local UI states.", "createdAt": "2020-07-16T15:20:52Z", "url": "https://github.com/cdapio/cdap/pull/12464", "merged": true, "mergeCommit": {"oid": "5db6b4e5560de083ddb560c99e8cdd2383ee4bd3"}, "closed": true, "closedAt": "2020-07-22T23:27:08Z", "author": {"login": "jennac3"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1k44lgFqTQ1MDE3NTAxOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3jC_wABqjM1Nzc4NjEwMjQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMTc1MDE5", "url": "https://github.com/cdapio/cdap/pull/12464#pullrequestreview-450175019", "createdAt": "2020-07-16T20:02:47Z", "commit": {"oid": "cd8d059ba1ed788662039cbf3ec09232777a06f4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMDowMjo0N1rOGy6w9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMDowMjo0N1rOGy6w9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjA0NDc5MA==", "bodyText": "Could you do requestLog.values().forEach((v) => { count += v.size; });? This would save a conversion and a lookup.", "url": "https://github.com/cdapio/cdap/pull/12464#discussion_r456044790", "createdAt": "2020-07-16T20:02:47Z", "author": {"login": "njbriggs"}, "path": "cdap-ui/app/cdap/components/HttpExecutor/RequestHistoryTab/index.tsx", "diffHunk": "@@ -284,10 +310,26 @@ const RequestHistoryTabView: React.FC<IRequestHistoryTabProps> = ({\n     }\n   };\n \n+  const getTotalLogCount = () => {\n+    let count = 0;\n+    requestLog\n+      .keySeq()\n+      .toArray()\n+      .forEach((dateID: string) => {\n+        count += requestLog.get(dateID).size;\n+      });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd8d059ba1ed788662039cbf3ec09232777a06f4"}, "originalPosition": 128}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c4622f59f3200b4d1039af0c889606616d0d1b28", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/c4622f59f3200b4d1039af0c889606616d0d1b28", "committedDate": "2020-07-22T22:19:42Z", "message": "pull from develop"}, "afterCommit": {"oid": "494905897944745d8da40ed1527b148e886549c8", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/494905897944745d8da40ed1527b148e886549c8", "committedDate": "2020-07-22T22:26:51Z", "message": "[CDAP-17084] Limit request log entries to be <= 200 (RequestHistoryTab)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "494905897944745d8da40ed1527b148e886549c8", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/494905897944745d8da40ed1527b148e886549c8", "committedDate": "2020-07-22T22:26:51Z", "message": "[CDAP-17084] Limit request log entries to be <= 200 (RequestHistoryTab)"}, "afterCommit": {"oid": "8abd696c7a118bd3c64adf7518841c0f5fb7567e", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/8abd696c7a118bd3c64adf7518841c0f5fb7567e", "committedDate": "2020-07-22T22:38:45Z", "message": "[CDAP-17084] Limit request log entries to be <= 200 (RequestHistoryTab)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNzQxNTk5", "url": "https://github.com/cdapio/cdap/pull/12464#pullrequestreview-453741599", "createdAt": "2020-07-22T22:59:33Z", "commit": {"oid": "8abd696c7a118bd3c64adf7518841c0f5fb7567e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1528efd865c78d25b534829948a622eb1d04d292", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/1528efd865c78d25b534829948a622eb1d04d292", "committedDate": "2020-07-22T23:01:40Z", "message": "[CDAP-17084] Limit request log entries to be <= 200 (RequestHistoryTab)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "35530c69891bfe6748a38b4393829363b8680cf7", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/35530c69891bfe6748a38b4393829363b8680cf7", "committedDate": "2020-07-22T23:00:58Z", "message": "limit to 200"}, "afterCommit": {"oid": "1528efd865c78d25b534829948a622eb1d04d292", "author": {"user": {"login": "jennac3", "name": "Jenna Choi"}}, "url": "https://github.com/cdapio/cdap/commit/1528efd865c78d25b534829948a622eb1d04d292", "committedDate": "2020-07-22T23:01:40Z", "message": "[CDAP-17084] Limit request log entries to be <= 200 (RequestHistoryTab)"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1823, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}