{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5NjEwMDg1", "number": 12800, "title": "make DataprocProvisioner accept gcp-dataproc.serviceAccount property from cdap-site.xml", "bodyText": "context: Dataproc has enforced some new permission check :\nhttps://cloud.google.com/dataproc/docs/concepts/configuring-clusters/service-accounts\nso we are allowing cdap-site.xml to configure a service account that can be passed to Dataproc when CDAP creates an ephemeral Dataproc cluster to run pipelines\nchanges: enable DataprocProvisioner to accept gcp-dataproc.serviceAccount property", "createdAt": "2020-10-08T02:06:20Z", "url": "https://github.com/cdapio/cdap/pull/12800", "merged": true, "mergeCommit": {"oid": "e9cefc084cc88e2a94e16bf0a97e490075c7ff3d"}, "closed": true, "closedAt": "2020-10-08T07:44:15Z", "author": {"login": "seanzhougoogle"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQaYp0gFqTUwNDQzMDU2Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQcc6qgFqTUwNDQ5NzQzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NDMwNTYz", "url": "https://github.com/cdapio/cdap/pull/12800#pullrequestreview-504430563", "createdAt": "2020-10-08T05:04:08Z", "commit": {"oid": "c601a1c78d0dc437b813a6916675167a680beb09"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwNTowNDowOFrOHeOFLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwNTowNDowOFrOHeOFLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTQ1MDAyOA==", "bodyText": "Remove extra empty lines.", "url": "https://github.com/cdapio/cdap/pull/12800#discussion_r501450028", "createdAt": "2020-10-08T05:04:08Z", "author": {"login": "chtyim"}, "path": "cdap-runtime-ext-dataproc/src/test/java/io/cdap/cdap/runtime/spi/provisioner/dataproc/DataprocProvisionerTest.java", "diffHunk": "@@ -114,13 +115,16 @@ public void testDataprocConf() {\n     Assert.assertEquals(conf.getProjectId(), \"pid\");\n     Assert.assertEquals(conf.getRegion(), \"region1\");\n     Assert.assertEquals(conf.getZone(), \"region1-a\");\n+    Assert.assertEquals(\"service-account-1\", conf.getServiceAccount());\n \n     Map<String, String> dataprocProps = conf.getDataprocProperties();\n     Assert.assertEquals(3, dataprocProps.size());\n \n     Assert.assertEquals(\"100\", dataprocProps.get(\"spark:spark.reducer.maxSizeInFlight\"));\n     Assert.assertEquals(\"xyz\", dataprocProps.get(\"hadoop-env:MAPREDUCE_CLASSPATH\"));\n     Assert.assertEquals(\"true\", dataprocProps.get(\"dataproc:am.primary_only\"));\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c601a1c78d0dc437b813a6916675167a680beb09"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3fe789cb3e9a56a8a3ccb2bdcda47580f1ed38d", "author": {"user": {"login": "seanzhougoogle", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/c3fe789cb3e9a56a8a3ccb2bdcda47580f1ed38d", "committedDate": "2020-10-08T07:22:44Z", "message": "make DataprocProvisioner accept gcp-dataproc.serviceAccount property from cdap-site.xml"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c601a1c78d0dc437b813a6916675167a680beb09", "author": {"user": {"login": "seanzhougoogle", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/c601a1c78d0dc437b813a6916675167a680beb09", "committedDate": "2020-10-08T02:03:27Z", "message": "make DataprocProvisioner accept gcp-dataproc.serviceAccount property from cdap-site.xml"}, "afterCommit": {"oid": "c3fe789cb3e9a56a8a3ccb2bdcda47580f1ed38d", "author": {"user": {"login": "seanzhougoogle", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/c3fe789cb3e9a56a8a3ccb2bdcda47580f1ed38d", "committedDate": "2020-10-08T07:22:44Z", "message": "make DataprocProvisioner accept gcp-dataproc.serviceAccount property from cdap-site.xml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NDk3NDMy", "url": "https://github.com/cdapio/cdap/pull/12800#pullrequestreview-504497432", "createdAt": "2020-10-08T07:28:57Z", "commit": {"oid": "c3fe789cb3e9a56a8a3ccb2bdcda47580f1ed38d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1681, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}