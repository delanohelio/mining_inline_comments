{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzMTMxNzI0", "number": 12566, "title": "[CDAP-17153] Add tabs for Preview tables when there are multiple stages", "bodyText": "JIRA: https://issues.cask.co/browse/CDAP-17153\nJIRA for tab styling: https://issues.cask.co/browse/CDAP-17171\nBuild: https://builds.cask.co/browse/CDAP-URUT312\nAlso made small changes to styling:\n\nfor record view to not use Paper component, to be more consistent between table and record view (also the shadow from Paper was not necessary).\nset height of horizontal tabs in ConfigurableTabs (instead of using fit-content) to be able to precisely align side by side tables if one side is using tabs.", "createdAt": "2020-08-05T04:08:13Z", "url": "https://github.com/cdapio/cdap/pull/12566", "merged": true, "mergeCommit": {"oid": "63d5af6d5773e1ccfc3f9b99e0c09d33dd5b4e28"}, "closed": true, "closedAt": "2020-08-07T18:50:00Z", "author": {"login": "yukiej"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc79tY6ABqjM2MjU0NjQ4ODE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8o0d9gBqjM2MzQzMTI5NzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a0fcd6b0b2e60ffb3030974a286bb84075b3ec99", "author": {"user": {"login": "yukiej", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/a0fcd6b0b2e60ffb3030974a286bb84075b3ec99", "committedDate": "2020-08-05T15:43:03Z", "message": "Modify multipleednpoints e2e test to check for tabs in table view"}, "afterCommit": {"oid": "b70a70ba855f0228a05536c0faf58f78e5f944c4", "author": {"user": {"login": "yukiej", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/b70a70ba855f0228a05536c0faf58f78e5f944c4", "committedDate": "2020-08-05T16:20:50Z", "message": "Modify multipleednpoints e2e test to check for tabs in table view"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b70a70ba855f0228a05536c0faf58f78e5f944c4", "author": {"user": {"login": "yukiej", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/b70a70ba855f0228a05536c0faf58f78e5f944c4", "committedDate": "2020-08-05T16:20:50Z", "message": "Modify multipleednpoints e2e test to check for tabs in table view"}, "afterCommit": {"oid": "fadf6db38a46bfea4e1dd91607053b5492d83ea9", "author": {"user": {"login": "yukiej", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/fadf6db38a46bfea4e1dd91607053b5492d83ea9", "committedDate": "2020-08-05T18:09:47Z", "message": "Modify multipleednpoints e2e test to check for tabs in table view"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxOTA2NTM0", "url": "https://github.com/cdapio/cdap/pull/12566#pullrequestreview-461906534", "createdAt": "2020-08-05T18:10:47Z", "commit": {"oid": "b70a70ba855f0228a05536c0faf58f78e5f944c4"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxODoxMTowNFrOG8VAEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxODoxMTo0MFrOG8VBkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTkxMTgyNQ==", "bodyText": "Nit: Is there an easy way to consolidate this loop with the input table loop?", "url": "https://github.com/cdapio/cdap/pull/12566#discussion_r465911825", "createdAt": "2020-08-05T18:11:04Z", "author": {"login": "njbriggs"}, "path": "cdap-ui/app/cdap/components/PreviewData/DataView/TableContainer.tsx", "diffHunk": "@@ -116,29 +160,29 @@ const TableContainer: React.FC<IPreviewTableContainerProps> = ({\n           })}\n         >\n           <h2 className={classes.h2Title}>{T.translate(`${I18N_PREFIX}.outputHeader`)}</h2>\n-          {outputs.map(([tableKey, tableValue], j) => {\n-            const outputHeaders = tableValue.schemaFields;\n-            const outputRecords = tableValue.records;\n-            return (\n-              <div key={`output-table-${j}`} className={classes.tableContainer}>\n-                {outputs.length > 1 ? (\n-                  <Heading type={HeadingTypes.h3} label={tableKey} />\n-                ) : (\n-                  <div\n-                    className={classnames({\n-                      [classes.headerBumper]: outputs.length === 1 && inputs.length > 1,\n-                    })}\n-                  />\n-                )}\n-                <DataTable\n-                  headers={outputHeaders}\n-                  records={outputRecords}\n-                  isInput={false}\n-                  previewStatus={previewStatus}\n-                />\n-              </div>\n-            );\n-          })}\n+          {showOutputTabs", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fadf6db38a46bfea4e1dd91607053b5492d83ea9"}, "originalPosition": 158}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTkxMjIxMQ==", "bodyText": "Will this cause issues with other Tab instances?", "url": "https://github.com/cdapio/cdap/pull/12566#discussion_r465912211", "createdAt": "2020-08-05T18:11:40Z", "author": {"login": "njbriggs"}, "path": "cdap-ui/app/cdap/components/Tabs/Tabs.scss", "diffHunk": "@@ -41,7 +41,7 @@\n       width: 100%;\n       display: flex;\n       &:first-child {\n-        height: fit-content;\n+        height: 42px;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fadf6db38a46bfea4e1dd91607053b5492d83ea9"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "46ddf373bd5c4944e5a3bc2682ce8f45457b98ed", "author": {"user": {"login": "yukiej", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/46ddf373bd5c4944e5a3bc2682ce8f45457b98ed", "committedDate": "2020-08-05T20:55:43Z", "message": "Refactor record rendering to reduce duplicate code"}, "afterCommit": {"oid": "102a5662c5f7aea06d78376e71f92f1024855087", "author": {"user": {"login": "yukiej", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/102a5662c5f7aea06d78376e71f92f1024855087", "committedDate": "2020-08-05T21:00:34Z", "message": "Refactor record rendering to reduce duplicate code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMDQzNTEy", "url": "https://github.com/cdapio/cdap/pull/12566#pullrequestreview-462043512", "createdAt": "2020-08-05T21:40:05Z", "commit": {"oid": "102a5662c5f7aea06d78376e71f92f1024855087"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e7959f8d7e3cc84db79fac162f2e782f3221321f", "author": {"user": {"login": "yukiej", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/e7959f8d7e3cc84db79fac162f2e782f3221321f", "committedDate": "2020-08-07T14:49:57Z", "message": "Tweak styles to work on mac scrolling always on system headings while still aligning on default"}, "afterCommit": {"oid": "bef1cccca93d10f82ea9b6271eea2ae64f789ba3", "author": {"user": {"login": "yukiej", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/bef1cccca93d10f82ea9b6271eea2ae64f789ba3", "committedDate": "2020-08-07T18:28:44Z", "message": "Tweak styles to work on mac scrolling always on system headings while still aligning on default"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0107f99402ccb42b2b60afc4d693d8b427d8164", "author": {"user": {"login": "yukiej", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/a0107f99402ccb42b2b60afc4d693d8b427d8164", "committedDate": "2020-08-07T18:34:26Z", "message": "Add tabs for multiple stages in tab view\n\nRemove paper styles in record view and fix linter error\n\nModify multipleednpoints e2e test to check for tabs in table view\n\nTweak styles to work on mac scrolling always on system headings while still aligning on default"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bef1cccca93d10f82ea9b6271eea2ae64f789ba3", "author": {"user": {"login": "yukiej", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/bef1cccca93d10f82ea9b6271eea2ae64f789ba3", "committedDate": "2020-08-07T18:28:44Z", "message": "Tweak styles to work on mac scrolling always on system headings while still aligning on default"}, "afterCommit": {"oid": "a0107f99402ccb42b2b60afc4d693d8b427d8164", "author": {"user": {"login": "yukiej", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/a0107f99402ccb42b2b60afc4d693d8b427d8164", "committedDate": "2020-08-07T18:34:26Z", "message": "Add tabs for multiple stages in tab view\n\nRemove paper styles in record view and fix linter error\n\nModify multipleednpoints e2e test to check for tabs in table view\n\nTweak styles to work on mac scrolling always on system headings while still aligning on default"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1764, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}