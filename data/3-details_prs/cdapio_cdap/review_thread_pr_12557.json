{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyMzgyNjQ5", "number": 12557, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDozNzowM1rOEUv99g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDozNzowN1rOEUv-DQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTkyODg2OnYy", "diffSide": "RIGHT", "path": "cdap-ui/app/cdap/components/AbstractWidget/SchemaEditor/SchemaValidator/index.tsx", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDozNzowM1rOG7H59Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDo0OTowNVrOG7IQLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0ODY5Mw==", "bodyText": "nit: we may also do if (e.message.includes('duplicate field name')", "url": "https://github.com/cdapio/cdap/pull/12557#discussion_r464648693", "createdAt": "2020-08-03T20:37:03Z", "author": {"login": "jennac3"}, "path": "cdap-ui/app/cdap/components/AbstractWidget/SchemaEditor/SchemaValidator/index.tsx", "diffHunk": "@@ -101,6 +101,11 @@ class SchemaValidatorProvider extends React.Component<ISchemaValidatorProviderPr\n         const entireSchema = SchemaGenerator(schemaTree);\n         cdapavsc.parse(entireSchema.schema, { wrapUnions: true });\n       } catch (e) {\n+        // TODO: CDAP-17152. We don't have specific fields that are duplicate today.\n+        // We should improve the way we validate the avro schema\n+        if (e.message.indexOf('duplicate field name') !== -1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e01745028d7534e7b549328c3b8fd174352e8c69"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY1MjExNw==", "bodyText": "We could but I don't see any specific advantage of using includes over indexOf. Do you see it as a better API?", "url": "https://github.com/cdapio/cdap/pull/12557#discussion_r464652117", "createdAt": "2020-08-03T20:44:19Z", "author": {"login": "ajainarayanan"}, "path": "cdap-ui/app/cdap/components/AbstractWidget/SchemaEditor/SchemaValidator/index.tsx", "diffHunk": "@@ -101,6 +101,11 @@ class SchemaValidatorProvider extends React.Component<ISchemaValidatorProviderPr\n         const entireSchema = SchemaGenerator(schemaTree);\n         cdapavsc.parse(entireSchema.schema, { wrapUnions: true });\n       } catch (e) {\n+        // TODO: CDAP-17152. We don't have specific fields that are duplicate today.\n+        // We should improve the way we validate the avro schema\n+        if (e.message.indexOf('duplicate field name') !== -1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0ODY5Mw=="}, "originalCommit": {"oid": "e01745028d7534e7b549328c3b8fd174352e8c69"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY1NDM4MA==", "bodyText": "Since we're checking whether it includes plain string, I don't think it matters too much.", "url": "https://github.com/cdapio/cdap/pull/12557#discussion_r464654380", "createdAt": "2020-08-03T20:49:05Z", "author": {"login": "jennac3"}, "path": "cdap-ui/app/cdap/components/AbstractWidget/SchemaEditor/SchemaValidator/index.tsx", "diffHunk": "@@ -101,6 +101,11 @@ class SchemaValidatorProvider extends React.Component<ISchemaValidatorProviderPr\n         const entireSchema = SchemaGenerator(schemaTree);\n         cdapavsc.parse(entireSchema.schema, { wrapUnions: true });\n       } catch (e) {\n+        // TODO: CDAP-17152. We don't have specific fields that are duplicate today.\n+        // We should improve the way we validate the avro schema\n+        if (e.message.indexOf('duplicate field name') !== -1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0ODY5Mw=="}, "originalCommit": {"oid": "e01745028d7534e7b549328c3b8fd174352e8c69"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTkyOTA5OnYy", "diffSide": "RIGHT", "path": "cdap-ui/app/cdap/components/AbstractWidget/SchemaEditor/SchemaValidator/index.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDozNzowN1rOG7H6Fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDozNzowN1rOG7H6Fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0ODcyNw==", "bodyText": "nit: we may also do if (e.message.includes('duplicate field name')", "url": "https://github.com/cdapio/cdap/pull/12557#discussion_r464648727", "createdAt": "2020-08-03T20:37:07Z", "author": {"login": "jennac3"}, "path": "cdap-ui/app/cdap/components/AbstractWidget/SchemaEditor/SchemaValidator/index.tsx", "diffHunk": "@@ -110,6 +115,11 @@ class SchemaValidatorProvider extends React.Component<ISchemaValidatorProviderPr\n       try {\n         cdapavsc.parse(avroSchema, { wrapUnions: true });\n       } catch (e) {\n+        // TODO: CDAP-17152. We don't have specific fields that are duplicate today.\n+        // We should improve the way we validate the avro schema\n+        if (e.message.indexOf('duplicate field name') !== -1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e01745028d7534e7b549328c3b8fd174352e8c69"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3146, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}