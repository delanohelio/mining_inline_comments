{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4NjI1MjE4", "number": 12118, "title": "[CDAP-16663] Properly surface macros in input schema", "bodyText": "Properly generate input schema if previous stages' output schema is a macro\nFix input schema directive to properly handle macro (including multiple input schemas)\n\nJIRA: https://issues.cask.co/browse/CDAP-16663\nBuild: https://builds.cask.co/browse/CDAP-URUT240-1", "createdAt": "2020-04-24T15:41:27Z", "url": "https://github.com/cdapio/cdap/pull/12118", "merged": true, "mergeCommit": {"oid": "5b3eb1908e83c390afa43d6bc7978adace7e874e"}, "closed": true, "closedAt": "2020-05-02T12:39:45Z", "author": {"login": "ajainarayanan"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABca1dBhgFqTQwMDE2MzA5Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABccJAomABqjMyODE3OTM2NTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMTYzMDk3", "url": "https://github.com/cdapio/cdap/pull/12118#pullrequestreview-400163097", "createdAt": "2020-04-24T18:04:47Z", "commit": {"oid": "b4da0a8505cb03bf9130ffffb938b9d092bf057a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODowNDo0N1rOGLjOtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODowNDo0N1rOGLjOtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc2NDcyNQ==", "bodyText": "Should the comments at the beginning of this file be updated to reflect the changes?", "url": "https://github.com/cdapio/cdap/pull/12118#discussion_r414764725", "createdAt": "2020-04-24T18:04:47Z", "author": {"login": "yukiej"}, "path": "cdap-ui/app/directives/widget-container/widget-input-schema/widget-input-schema.html", "diffHunk": "@@ -52,6 +53,12 @@\n           errors=\"errors[inputschema.name]\">\n         </my-complex-schema>\n       </div>\n+      <div", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4da0a8505cb03bf9130ffffb938b9d092bf057a"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMTczNDIw", "url": "https://github.com/cdapio/cdap/pull/12118#pullrequestreview-400173420", "createdAt": "2020-04-24T18:20:55Z", "commit": {"oid": "b4da0a8505cb03bf9130ffffb938b9d092bf057a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODoyMDo1NVrOGLjzjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODoyMDo1NVrOGLjzjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc3NDE1OQ==", "bodyText": "Possibly dumb question: Why do we need the second part of this expression in ng-class?", "url": "https://github.com/cdapio/cdap/pull/12118#discussion_r414774159", "createdAt": "2020-04-24T18:20:55Z", "author": {"login": "yukiej"}, "path": "cdap-ui/app/directives/widget-container/widget-input-schema/widget-input-schema.html", "diffHunk": "@@ -52,6 +53,12 @@\n           errors=\"errors[inputschema.name]\">\n         </my-complex-schema>\n       </div>\n+      <div\n+        ng-if=\"inputschema.isMacro\"\n+        ng-class=\"{'hide': MyInputSchemaCtrl.currentIndex !== $index, '': MyInputSchemaCtrl.currentIndex === $index}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4da0a8505cb03bf9130ffffb938b9d092bf057a"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b4da0a8505cb03bf9130ffffb938b9d092bf057a", "author": {"user": {"login": "ajainarayanan", "name": "Ajai"}}, "url": "https://github.com/cdapio/cdap/commit/b4da0a8505cb03bf9130ffffb938b9d092bf057a", "committedDate": "2020-04-24T15:38:41Z", "message": "Fixes node service to properly generate input schema to handle macros"}, "afterCommit": {"oid": "89a1cc29de29233a2404aea408435ebe311adccf", "author": {"user": {"login": "ajainarayanan", "name": "Ajai"}}, "url": "https://github.com/cdapio/cdap/commit/89a1cc29de29233a2404aea408435ebe311adccf", "committedDate": "2020-04-24T19:05:20Z", "message": "Fixes node service to properly generate input schema to handle macros"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMDM1NTM5", "url": "https://github.com/cdapio/cdap/pull/12118#pullrequestreview-402035539", "createdAt": "2020-04-28T17:00:13Z", "commit": {"oid": "beaf8329f2061d5fafd51cd46a0c33df33cacea2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "749f8b8fae9e94364b4b9321c3bb0a06c0f50aee", "author": {"user": {"login": "ajainarayanan", "name": "Ajai"}}, "url": "https://github.com/cdapio/cdap/commit/749f8b8fae9e94364b4b9321c3bb0a06c0f50aee", "committedDate": "2020-04-28T19:25:26Z", "message": "[CDAP-16663] Properly surface macros in input schema\n\n - Fixes node service to properly generate input schema to handle macros\n - Adds cypress test for testing macro output schema propagation to subsequent nodes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "beaf8329f2061d5fafd51cd46a0c33df33cacea2", "author": {"user": {"login": "ajainarayanan", "name": "Ajai"}}, "url": "https://github.com/cdapio/cdap/commit/beaf8329f2061d5fafd51cd46a0c33df33cacea2", "committedDate": "2020-04-28T14:40:02Z", "message": "Adds cypress test for testing macro output schema propagation to subsequent nodes"}, "afterCommit": {"oid": "749f8b8fae9e94364b4b9321c3bb0a06c0f50aee", "author": {"user": {"login": "ajainarayanan", "name": "Ajai"}}, "url": "https://github.com/cdapio/cdap/commit/749f8b8fae9e94364b4b9321c3bb0a06c0f50aee", "committedDate": "2020-04-28T19:25:26Z", "message": "[CDAP-16663] Properly surface macros in input schema\n\n - Fixes node service to properly generate input schema to handle macros\n - Adds cypress test for testing macro output schema propagation to subsequent nodes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2192, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}