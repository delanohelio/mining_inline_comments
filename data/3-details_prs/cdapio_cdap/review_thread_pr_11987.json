{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxMzY2Njg0", "number": 11987, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxNzoyMDowMlrODp8-Qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxNzoyMDowMlrODp8-Qw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1MzE3MTg3OnYy", "diffSide": "RIGHT", "path": "cdap-ui/server/url-helper.js", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxNzoyMDowMlrOF5cpTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxODozNjoyMlrOF5fJKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4MjQ3Ng==", "bodyText": "If it is possible for there to be no defaultMarketUrl, could this sometimes cause an issue on line 38?", "url": "https://github.com/cdapio/cdap/pull/11987#discussion_r395782476", "createdAt": "2020-03-20T17:20:02Z", "author": {"login": "yukiej"}, "path": "cdap-ui/server/url-helper.js", "diffHunk": "@@ -38,16 +38,21 @@ function extractMarketUrls(cdapConfig) {\n     return [defaultMarketUrl];\n   }\n   const marketUrls = cdapConfig['market.base.urls'].split('+');\n-  const filteredMarketUrls = marketUrls.filter(element => element !== defaultMarketUrl); \n+  let filteredMarketUrls;\n+  if (!defaultMarketUrl) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3958c41a5cddf7f47f0a81eaecd807167de4e900"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTgyMzQwMQ==", "bodyText": "The assumption is if the market.base.urls is not present then the market.base.url is assumed to be present. But you are right there can be corner case when both of them are not present which will render the hub useless. Anyhow I have added additional check.", "url": "https://github.com/cdapio/cdap/pull/11987#discussion_r395823401", "createdAt": "2020-03-20T18:36:22Z", "author": {"login": "ajainarayanan"}, "path": "cdap-ui/server/url-helper.js", "diffHunk": "@@ -38,16 +38,21 @@ function extractMarketUrls(cdapConfig) {\n     return [defaultMarketUrl];\n   }\n   const marketUrls = cdapConfig['market.base.urls'].split('+');\n-  const filteredMarketUrls = marketUrls.filter(element => element !== defaultMarketUrl); \n+  let filteredMarketUrls;\n+  if (!defaultMarketUrl) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4MjQ3Ng=="}, "originalCommit": {"oid": "3958c41a5cddf7f47f0a81eaecd807167de4e900"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2864, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}