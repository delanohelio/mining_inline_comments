{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNzE1NDk1", "number": 12046, "title": "Fixed GSON parsing error when using configuration string", "bodyText": "Fix for CDAP-16211 was incomplete and it would result in a GSON error when attempting to deploy using a json string in the configuration field", "createdAt": "2020-04-10T01:20:10Z", "url": "https://github.com/cdapio/cdap/pull/12046", "merged": true, "mergeCommit": {"oid": "752d5c61ece29e6f8d697c8f54233b5c16fd6121"}, "closed": true, "closedAt": "2020-04-10T03:39:00Z", "author": {"login": "MEseifan"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWGqsogH2gAyNDAxNzE1NDk1OjNiYzU3OWI4NzhhYWU0YzM1YWU5Zjk3ZjM5ZTEwODNjNTI1OTdlMmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWHYG4gH2gAyNDAxNzE1NDk1OmQ5ODgzYTZhMTVkMTZkMmI2YjU3Y2ZiNTczNTMzMzE4MTFhZGNiNWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3bc579b878aae4c35ae9f97f39e1083c52597e2f", "author": {"user": {"login": "MEseifan", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/3bc579b878aae4c35ae9f97f39e1083c52597e2f", "committedDate": "2020-04-10T01:18:29Z", "message": "Fixed JSON parsing error and added tests for deploying with configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04aeca5d86a93462532273e307298ba8fd81409a", "author": {"user": {"login": "MEseifan", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/04aeca5d86a93462532273e307298ba8fd81409a", "committedDate": "2020-04-10T01:27:45Z", "message": "Minor renaming"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMjI0MjY1", "url": "https://github.com/cdapio/cdap/pull/12046#pullrequestreview-391224265", "createdAt": "2020-04-10T01:28:44Z", "commit": {"oid": "04aeca5d86a93462532273e307298ba8fd81409a"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwMToyODo0NVrOGDueBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwMTozMDoyOVrOGDufkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjU2MDI2Mw==", "bodyText": "nit - I dont think we need this", "url": "https://github.com/cdapio/cdap/pull/12046#discussion_r406560263", "createdAt": "2020-04-10T01:28:45Z", "author": {"login": "yaojiefeng"}, "path": "cdap-app-fabric/src/main/java/io/cdap/cdap/gateway/handlers/AppLifecycleHttpHandler.java", "diffHunk": "@@ -391,7 +391,7 @@ public void updateApp(FullHttpRequest request, HttpResponder responder,\n    * ]\n    * }\n    * </pre>\n-   *\n+   * <p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04aeca5d86a93462532273e307298ba8fd81409a"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjU2MDUzMw==", "bodyText": "This might break unit test as some test might depend on the config, is this required for your unit test? If not lets not make this change", "url": "https://github.com/cdapio/cdap/pull/12046#discussion_r406560533", "createdAt": "2020-04-10T01:29:50Z", "author": {"login": "yaojiefeng"}, "path": "cdap-app-fabric/src/test/java/io/cdap/cdap/internal/app/services/http/AppFabricTestBase.java", "diffHunk": "@@ -530,7 +530,7 @@ protected HttpResponse deploy(Class<?> application, int expectedCode, @Nullable\n   }\n \n   protected HttpResponse deploy(Id.Application appId,\n-                                AppRequest<? extends Config> appRequest) throws Exception {\n+                                AppRequest<?> appRequest) throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04aeca5d86a93462532273e307298ba8fd81409a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjU2MDY1Ng==", "bodyText": "just want to check - this test will fail without the fix right?", "url": "https://github.com/cdapio/cdap/pull/12046#discussion_r406560656", "createdAt": "2020-04-10T01:30:29Z", "author": {"login": "yaojiefeng"}, "path": "cdap-app-fabric/src/test/java/io/cdap/cdap/internal/app/services/http/handlers/AppLifecycleHttpHandlerTest.java", "diffHunk": "@@ -115,6 +115,43 @@ public void testAppWithConfig() throws Exception {\n     deleteArtifact(artifactId, 200);\n   }\n \n+  @Test\n+  public void testAppWithConfigurationString() throws Exception {\n+    Id.Application appId = Id.Application.from(Id.Namespace.DEFAULT, \"ConfigApp\");\n+    Id.Artifact artifactId = Id.Artifact.from(Id.Namespace.DEFAULT, \"appWithConfig\", \"1.0.0-SNAPSHOT\");\n+    HttpResponse response = addAppArtifact(artifactId, ConfigTestApp.class);\n+    Assert.assertEquals(200, response.getResponseCode());\n+\n+    ConfigTestApp.ConfigClass configuration = new ConfigTestApp.ConfigClass(\"abc\", \"def\");\n+    String configurationString = GSON.toJson(configuration);\n+    response = deploy(appId, new AppRequest<>(ArtifactSummary.from(artifactId.toArtifactId()), null, null, null, null,\n+                                              configurationString));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04aeca5d86a93462532273e307298ba8fd81409a"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMjI2ODU3", "url": "https://github.com/cdapio/cdap/pull/12046#pullrequestreview-391226857", "createdAt": "2020-04-10T01:40:30Z", "commit": {"oid": "04aeca5d86a93462532273e307298ba8fd81409a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9883a6a15d16d2b6b57cfb57353331811adcb5e", "author": {"user": {"login": "MEseifan", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/d9883a6a15d16d2b6b57cfb57353331811adcb5e", "committedDate": "2020-04-10T02:08:05Z", "message": "Removed random p tag that was added"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2137, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}