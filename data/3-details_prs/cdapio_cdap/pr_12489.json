{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1OTIyNjE1", "number": 12489, "title": "(PLUGIN-303) Added new property to MutliStageSelector widget", "bodyText": "", "createdAt": "2020-07-23T19:59:09Z", "url": "https://github.com/cdapio/cdap/pull/12489", "merged": true, "mergeCommit": {"oid": "6c44cb9072df2d6f8510bc91fc492746210cbdd4"}, "closed": true, "closedAt": "2020-07-23T23:55:23Z", "author": {"login": "MEseifan"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc31DfhABqjM1ODE1MTM3Njg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc32dYcgBqjM1ODE4MTk4MjE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1b13fb3d4dc09aef4afae3b9756093a8dc039a6f", "author": {"user": {"login": "MEseifan", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/1b13fb3d4dc09aef4afae3b9756093a8dc039a6f", "committedDate": "2020-07-23T19:57:14Z", "message": "Added new property to MutliStageSelector widget3"}, "afterCommit": {"oid": "b351df20198c12eee20e21c341174964253d58f8", "author": {"user": {"login": "MEseifan", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/b351df20198c12eee20e21c341174964253d58f8", "committedDate": "2020-07-23T20:00:24Z", "message": "Added new property to MutliStageSelector widget"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NTAwNTgx", "url": "https://github.com/cdapio/cdap/pull/12489#pullrequestreview-454500581", "createdAt": "2020-07-23T21:15:21Z", "commit": {"oid": "b351df20198c12eee20e21c341174964253d58f8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QyMToxNToyMVrOG2b1Hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QyMToxNToyMVrOG2b1Hg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTczMjI1NA==", "bodyText": "Should this be optional?", "url": "https://github.com/cdapio/cdap/pull/12489#discussion_r459732254", "createdAt": "2020-07-23T21:15:21Z", "author": {"login": "yukiej"}, "path": "cdap-ui/app/cdap/components/AbstractWidget/MultiStageSelector/index.tsx", "diffHunk": "@@ -36,6 +37,7 @@ const styles = () => {\n \n interface IMultiStageSelectorWidgetProps {\n   delimiter: string;\n+  singleSelectOnly: boolean;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b351df20198c12eee20e21c341174964253d58f8"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NTAwODU1", "url": "https://github.com/cdapio/cdap/pull/12489#pullrequestreview-454500855", "createdAt": "2020-07-23T21:15:49Z", "commit": {"oid": "b351df20198c12eee20e21c341174964253d58f8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QyMToxNTo0OVrOG2b18g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QyMToxNTo0OVrOG2b18g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTczMjQ2Ng==", "bodyText": "I don't think we need the \"or\" logic here.", "url": "https://github.com/cdapio/cdap/pull/12489#discussion_r459732466", "createdAt": "2020-07-23T21:15:49Z", "author": {"login": "yukiej"}, "path": "cdap-ui/app/cdap/components/AbstractWidget/MultiStageSelector/index.tsx", "diffHunk": "@@ -58,28 +60,44 @@ const MultiStageSelectorBase: React.FC<IMultiStageSelectorProps> = ({\n }) => {\n   const inputSchema = objectQuery(extraConfig, 'inputSchema');\n   const inputStages = getInputStages(inputSchema);\n-  const { delimiter } = widgetProps;\n-  const multiSelectWidgetProps = {\n-    delimiter,\n-    options: inputStages,\n-    showSelectionCount: false,\n-    emptyPlaceholder: 'Select input stage',\n-  };\n+  const { delimiter, singleSelectOnly } = widgetProps;\n+\n   if (!inputStages.length) {\n     return (\n       <div className={classes.emptyMessageContainer}>\n         <div className={classes.emptyMessage}>No input stages</div>\n       </div>\n     );\n   }\n-  return (\n-    <MultiSelect\n-      value={value}\n-      onChange={onChange}\n-      widgetProps={multiSelectWidgetProps}\n-      disabled={disabled}\n-    />\n-  );\n+\n+  if (singleSelectOnly || false) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b351df20198c12eee20e21c341174964253d58f8"}, "originalPosition": 50}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NTAxMjUw", "url": "https://github.com/cdapio/cdap/pull/12489#pullrequestreview-454501250", "createdAt": "2020-07-23T21:16:32Z", "commit": {"oid": "b351df20198c12eee20e21c341174964253d58f8"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QyMToxNjozMlrOG2b3MQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QyMToxODoxMVrOG2b6Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTczMjc4NQ==", "bodyText": "nit: if singleSelectOnly value is not provided set it to false here like this,\nconst { delimiter, singleSelectOnly = false } = widgetProps;", "url": "https://github.com/cdapio/cdap/pull/12489#discussion_r459732785", "createdAt": "2020-07-23T21:16:32Z", "author": {"login": "ajainarayanan"}, "path": "cdap-ui/app/cdap/components/AbstractWidget/MultiStageSelector/index.tsx", "diffHunk": "@@ -58,28 +60,44 @@ const MultiStageSelectorBase: React.FC<IMultiStageSelectorProps> = ({\n }) => {\n   const inputSchema = objectQuery(extraConfig, 'inputSchema');\n   const inputStages = getInputStages(inputSchema);\n-  const { delimiter } = widgetProps;\n-  const multiSelectWidgetProps = {\n-    delimiter,\n-    options: inputStages,\n-    showSelectionCount: false,\n-    emptyPlaceholder: 'Select input stage',\n-  };\n+  const { delimiter, singleSelectOnly } = widgetProps;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b351df20198c12eee20e21c341174964253d58f8"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTczMzU1OA==", "bodyText": "Can we reuse the same getInputStages function here?", "url": "https://github.com/cdapio/cdap/pull/12489#discussion_r459733558", "createdAt": "2020-07-23T21:18:11Z", "author": {"login": "ajainarayanan"}, "path": "cdap-ui/app/cdap/components/AbstractWidget/MultiStageSelector/index.tsx", "diffHunk": "@@ -58,28 +60,44 @@ const MultiStageSelectorBase: React.FC<IMultiStageSelectorProps> = ({\n }) => {\n   const inputSchema = objectQuery(extraConfig, 'inputSchema');\n   const inputStages = getInputStages(inputSchema);\n-  const { delimiter } = widgetProps;\n-  const multiSelectWidgetProps = {\n-    delimiter,\n-    options: inputStages,\n-    showSelectionCount: false,\n-    emptyPlaceholder: 'Select input stage',\n-  };\n+  const { delimiter, singleSelectOnly } = widgetProps;\n+\n   if (!inputStages.length) {\n     return (\n       <div className={classes.emptyMessageContainer}>\n         <div className={classes.emptyMessage}>No input stages</div>\n       </div>\n     );\n   }\n-  return (\n-    <MultiSelect\n-      value={value}\n-      onChange={onChange}\n-      widgetProps={multiSelectWidgetProps}\n-      disabled={disabled}\n-    />\n-  );\n+\n+  if (singleSelectOnly || false) {\n+    const selectWidgetProps = {\n+      options: inputStages.map((stage) => stage.label),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b351df20198c12eee20e21c341174964253d58f8"}, "originalPosition": 52}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NTA3MzQ0", "url": "https://github.com/cdapio/cdap/pull/12489#pullrequestreview-454507344", "createdAt": "2020-07-23T21:27:04Z", "commit": {"oid": "e266e2aaefcc3eefd018db0fdf5d211276fb0a5f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e625ce39db150d4caf3cb28c04144c43aedb4d43", "author": {"user": {"login": "MEseifan", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/e625ce39db150d4caf3cb28c04144c43aedb4d43", "committedDate": "2020-07-23T21:38:40Z", "message": "Added new property to MutliStageSelector widget"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e266e2aaefcc3eefd018db0fdf5d211276fb0a5f", "author": {"user": {"login": "MEseifan", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/e266e2aaefcc3eefd018db0fdf5d211276fb0a5f", "committedDate": "2020-07-23T21:24:02Z", "message": "Addressed comments"}, "afterCommit": {"oid": "e625ce39db150d4caf3cb28c04144c43aedb4d43", "author": {"user": {"login": "MEseifan", "name": null}}, "url": "https://github.com/cdapio/cdap/commit/e625ce39db150d4caf3cb28c04144c43aedb4d43", "committedDate": "2020-07-23T21:38:40Z", "message": "Added new property to MutliStageSelector widget"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1853, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}