{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyMTA5OTg1", "number": 1892, "title": "highway=path and bicycle=yes should not get speed for pushing section", "bodyText": "See https://discuss.graphhopper.com/t/bike-profil-highway-pathpath-and-bicycle-yes-should-not-get-speed-for-pushing-section/5148", "createdAt": "2020-02-06T21:01:24Z", "url": "https://github.com/graphhopper/graphhopper/pull/1892", "merged": true, "mergeCommit": {"oid": "b56ae1dc45c53dc4df06ecd9c0607faed4aed8c9"}, "closed": true, "closedAt": "2020-02-23T13:24:35Z", "author": {"login": "ratrun"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBxFNtgH2gAyMzcyMTA5OTg1OjAxNDZmZjVmNWM1MDRkZDExNTk3ZmM0NWZiNGNiMDQxMTVmODkxNGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHI3cSgH2gAyMzcyMTA5OTg1OjM0YzNjZGEwMWNiNTYwNjdkNjBiNGI3ZTgxZjliM2I0MDcwODA2MDM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0146ff5f5c504dd11597fc45fb4cb04115f8914c", "author": {"user": {"login": "ratrun", "name": null}}, "url": "https://github.com/graphhopper/graphhopper/commit/0146ff5f5c504dd11597fc45fb4cb04115f8914c", "committedDate": "2020-02-06T20:51:03Z", "message": "highway=pathPath and bicycle=yes should not get speed for pushing section\nSee https://discuss.graphhopper.com/t/bike-profil-highway-pathpath-and-bicycle-yes-should-not-get-speed-for-pushing-section/5148"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MzA1MTU0", "url": "https://github.com/graphhopper/graphhopper/pull/1892#pullrequestreview-355305154", "createdAt": "2020-02-07T17:09:04Z", "commit": {"oid": "0146ff5f5c504dd11597fc45fb4cb04115f8914c"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef9bfe9891c3985cfe7f844865405d47dfebe939", "author": {"user": {"login": "ratrun", "name": null}}, "url": "https://github.com/graphhopper/graphhopper/commit/ef9bfe9891c3985cfe7f844865405d47dfebe939", "committedDate": "2020-02-21T15:04:37Z", "message": "Merge branch 'master' into highway=pathPathAndbicycle=yesNopushingSection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5875fa4e58f2ac16b592b88cbacc08b74f19d464", "author": {"user": {"login": "ratrun", "name": null}}, "url": "https://github.com/graphhopper/graphhopper/commit/5875fa4e58f2ac16b592b88cbacc08b74f19d464", "committedDate": "2020-02-22T16:32:06Z", "message": "Reduce speed for bicycle=yes on a pushing section part from 14km/h to 10km/h."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMDQwMDU4", "url": "https://github.com/graphhopper/graphhopper/pull/1892#pullrequestreview-363040058", "createdAt": "2020-02-22T17:18:16Z", "commit": {"oid": "5875fa4e58f2ac16b592b88cbacc08b74f19d464"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQxNzoxODoxN1rOFtMCQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQxNzoxODoxN1rOFtMCQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyNzQyNQ==", "bodyText": "For nested if-else blocks can you add the brackets?", "url": "https://github.com/graphhopper/graphhopper/pull/1892#discussion_r382927425", "createdAt": "2020-02-22T17:18:17Z", "author": {"login": "karussell"}, "path": "core/src/main/java/com/graphhopper/routing/util/BikeCommonFlagEncoder.java", "diffHunk": "@@ -375,15 +376,22 @@ int getSpeed(ReaderWay way) {\n                     speed = PUSHING_SECTION_SPEED / 2;\n                 else\n                     speed = PUSHING_SECTION_SPEED;\n-            } else if (way.hasTag(\"bicycle\", \"designated\") || way.hasTag(\"bicycle\", \"official\")) {\n+            } else if (way.hasTag(\"bicycle\", \"designated\") || \n+                       way.hasTag(\"bicycle\", \"official\")   || \n+                       way.hasTag(\"segregated\", \"yes\")    ||\n+                       way.hasTag(\"bicycle\", \"yes\")) {\n                 // Here we handle the cases where the OSM tagging results in something similar to \"highway=cycleway\"\n-                speed = highwaySpeeds.get(\"cycleway\");\n-            } else {\n-                speed = PUSHING_SECTION_SPEED;\n-            }\n-            // Increase speed in case of segregated\n-            if (speed <= PUSHING_SECTION_SPEED && way.hasTag(\"segregated\", \"yes\"))\n-                speed = PUSHING_SECTION_SPEED * 2;\n+                    if (way.hasTag(\"segregated\", \"yes\"))\n+                        speed = highwaySpeeds.get(\"cycleway\");\n+                    else\n+                        if  (way.hasTag(\"bicycle\", \"yes\"))\n+                            speed = 10;\n+                        else\n+                            speed = highwaySpeeds.get(\"cycleway\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5875fa4e58f2ac16b592b88cbacc08b74f19d464"}, "originalPosition": 48}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4abf31b395c525c17edf7cf521da073c4d3b3163", "author": {"user": {"login": "ratrun", "name": null}}, "url": "https://github.com/graphhopper/graphhopper/commit/4abf31b395c525c17edf7cf521da073c4d3b3163", "committedDate": "2020-02-22T17:53:43Z", "message": "Indentations fixed."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34c3cda01cb56067d60b4b7e81f9b3b407080603", "author": {"user": {"login": "karussell", "name": "Peter"}}, "url": "https://github.com/graphhopper/graphhopper/commit/34c3cda01cb56067d60b4b7e81f9b3b407080603", "committedDate": "2020-02-23T13:23:21Z", "message": "indentation"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4713, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}