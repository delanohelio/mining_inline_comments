{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1MjEyNjY0", "number": 1974, "title": "Make sure node-based algos are not running with turn costs", "bodyText": "Fixes #1965", "createdAt": "2020-03-29T07:36:12Z", "url": "https://github.com/graphhopper/graphhopper/pull/1974", "merged": true, "mergeCommit": {"oid": "a01fc06bab46f2761abbe7b6ac4d7b0cff0f578f"}, "closed": true, "closedAt": "2020-03-31T14:42:24Z", "author": {"login": "easbar"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSU0KqAH2gAyMzk1MjEyNjY0Ojk1OTMwNDFhZDM3ODRkMTI2YzU1ZjVlZDgzNTUzYzZiZGQ5NWVkOGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTEKl7AH2gAyMzk1MjEyNjY0OjRiOThhNGYzNTE2MWQxOGQyYTY1OGMyMDgxYzYxMThhMzFhZGU4ZTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9593041ad3784d126c55f5ed83553c6bdd95ed8f", "author": {"user": {"login": "easbar", "name": "Andi"}}, "url": "https://github.com/graphhopper/graphhopper/commit/9593041ad3784d126c55f5ed83553c6bdd95ed8f", "committedDate": "2020-03-29T07:31:48Z", "message": "Add Weighting#hasTurnCosts, make sure node-based algos are not running with turn costs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzgyMzI2", "url": "https://github.com/graphhopper/graphhopper/pull/1974#pullrequestreview-383382326", "createdAt": "2020-03-29T07:37:24Z", "commit": {"oid": "9593041ad3784d126c55f5ed83553c6bdd95ed8f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwNzozNzoyNFrOF9PX0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwNzozNzoyNFrOF9PX0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc1OTMxNQ==", "bodyText": "Since disabling the turn costs is actually something we need to do sometimes I made this an actual parameter", "url": "https://github.com/graphhopper/graphhopper/pull/1974#discussion_r399759315", "createdAt": "2020-03-29T07:37:24Z", "author": {"login": "easbar"}, "path": "core/src/main/java/com/graphhopper/GraphHopper.java", "diffHunk": "@@ -982,12 +982,19 @@ void interpolateBridgesAndOrTunnels() {\n         }\n     }\n \n+    final public Weighting createWeighting(ProfileConfig profileConfig, PMap hints) {\n+        return createWeighting(profileConfig, hints, false);\n+    }\n+\n     /**\n-     * @param profileConfig The profile for which the weighting shall be created\n-     * @param hints         Additional hints that can be used to further specify the weighting that shall be created\n+     * @param profileConfig    The profile for which the weighting shall be created\n+     * @param hints            Additional hints that can be used to further specify the weighting that shall be created\n+     * @param disableTurnCosts Can be used to explicitly create the weighting without turn costs. This is sometimes needed when the\n+     *                         weighting shall be used by some algorithm that can only be run with node-based graph traversal, like\n+     *                         LM preparation or Isochrones\n      */\n-    public Weighting createWeighting(ProfileConfig profileConfig, PMap hints) {\n-        return new DefaultWeightingFactory(encodingManager, ghStorage).createWeighting(profileConfig, hints);\n+    public Weighting createWeighting(ProfileConfig profileConfig, PMap hints, boolean disableTurnCosts) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9593041ad3784d126c55f5ed83553c6bdd95ed8f"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4f989ba8ededeeed22367b886cbee85bfb12ab4", "author": {"user": {"login": "easbar", "name": "Andi"}}, "url": "https://github.com/graphhopper/graphhopper/commit/e4f989ba8ededeeed22367b886cbee85bfb12ab4", "committedDate": "2020-03-29T08:54:51Z", "message": "Add check for AlternativeRoute"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9ccf950c68cbdb8fed8d4ef0bff599e72e6d972", "author": {"user": {"login": "easbar", "name": "Andi"}}, "url": "https://github.com/graphhopper/graphhopper/commit/a9ccf950c68cbdb8fed8d4ef0bff599e72e6d972", "committedDate": "2020-03-29T13:44:01Z", "message": "Merge branch 'master' into has_turn_costs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0ODAyNDIw", "url": "https://github.com/graphhopper/graphhopper/pull/1974#pullrequestreview-384802420", "createdAt": "2020-03-31T14:40:32Z", "commit": {"oid": "a9ccf950c68cbdb8fed8d4ef0bff599e72e6d972"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b98a4f35161d18d2a658c2081c6118a31ade8e7", "author": {"user": {"login": "easbar", "name": "Andi"}}, "url": "https://github.com/graphhopper/graphhopper/commit/4b98a4f35161d18d2a658c2081c6118a31ade8e7", "committedDate": "2020-03-31T14:41:50Z", "message": "Merge branch 'master' into has_turn_costs"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4623, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}