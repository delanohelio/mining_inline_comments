{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1NDg4Nzky", "number": 1911, "title": "fix country rule ordering", "bodyText": "fixes #1875\nAs we currently already sort the strings https://github.com/graphhopper/graphhopper/blob/master/core/src/main/java/com/graphhopper/routing/util/spatialrules/SpatialRuleLookupBuilder.java#L86\nthe only required change for #1875 would be to reorder the Country enum (AUT should come before DEU).\nBut as this is too error-prone I decided for a better & special handling when using the Country enum in combination with the SpatialRuleFactory. This is currently done in SpatialRuleLookupHelper.buildAndInjectSpatialRuleIntoGH. I have renamed this to a more Country-specific name as it is nothing generic. Also spatial_rules.borders_directory is renamed to country.borders_directory to make usage more clear. To avoid mixing this in the future I have removed the SpatialRuleParser constructor the with enum-Country default.", "createdAt": "2020-02-14T17:12:10Z", "url": "https://github.com/graphhopper/graphhopper/pull/1911", "merged": true, "mergeCommit": {"oid": "b57a55e3ae9e7a12b76a3ff15eeebd68f4c43e00"}, "closed": true, "closedAt": "2020-02-21T12:02:00Z", "author": {"login": "karussell"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcESs-sAH2gAyMzc1NDg4NzkyOmQ4MjY5MWQ1NmQ0OWI2NzMwMTU4MDM0YTdmYmQzYTI1OWFjZDcyZTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcGeTF5AH2gAyMzc1NDg4NzkyOmNiZWNiYjVlNWY2M2Y0YmI2YmQzYjZiMGJlNjFjYmFiZWY4MDE3OWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d82691d56d49b6730158034a7fbd3a259acd72e4", "author": {"user": {"login": "karussell", "name": "Peter"}}, "url": "https://github.com/graphhopper/graphhopper/commit/d82691d56d49b6730158034a7fbd3a259acd72e4", "committedDate": "2020-02-14T17:09:12Z", "message": "trying to fix #1875"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MDk0MDE5", "url": "https://github.com/graphhopper/graphhopper/pull/1911#pullrequestreview-359094019", "createdAt": "2020-02-14T17:14:01Z", "commit": {"oid": "d82691d56d49b6730158034a7fbd3a259acd72e4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxNzoxNDowMVrOFp9wyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxNzoxNDowMVrOFp9wyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTU0Nzg0OA==", "bodyText": "Or better singular country?", "url": "https://github.com/graphhopper/graphhopper/pull/1911#discussion_r379547848", "createdAt": "2020-02-14T17:14:01Z", "author": {"login": "karussell"}, "path": "web-bundle/src/main/java/com/graphhopper/http/GraphHopperManaged.java", "diffHunk": "@@ -67,11 +67,11 @@ public GraphHopperManaged(GraphHopperConfig configuration, ObjectMapper objectMa\n             graphHopper = new GraphHopperOSM(landmarkSplittingFeatureCollection).forServer();\n         }\n         if (!configuration.get(\"spatial_rules.location\", \"\").isEmpty()) {\n-            throw new RuntimeException(\"spatial_rules.location has been deprecated. Please use spatial_rules.borders_directory instead.\");\n+            throw new RuntimeException(\"spatial_rules.location has been deprecated. Please use countries.borders_directory instead.\");\n         }\n-        String spatialRuleBordersDirLocation = configuration.get(\"spatial_rules.borders_directory\", \"\");\n+        String spatialRuleBordersDirLocation = configuration.get(\"countries.borders_directory\", \"\");\n         if (!spatialRuleBordersDirLocation.isEmpty()) {\n-            final BBox maxBounds = BBox.parseBBoxString(configuration.get(\"spatial_rules.max_bbox\", \"-180, 180, -90, 90\"));\n+            final BBox maxBounds = BBox.parseBBoxString(configuration.get(\"countries.max_bbox\", \"-180, 180, -90, 90\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d82691d56d49b6730158034a7fbd3a259acd72e4"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22a7a422a014f006b1fb5b54f626461906d260bb", "author": {"user": {"login": "karussell", "name": "Peter"}}, "url": "https://github.com/graphhopper/graphhopper/commit/22a7a422a014f006b1fb5b54f626461906d260bb", "committedDate": "2020-02-21T11:46:24Z", "message": "revert to spatial_rules.* names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbecbb5e5f63f4bb6bd3b6b0be61cbabef80179e", "author": {"user": {"login": "karussell", "name": "Peter"}}, "url": "https://github.com/graphhopper/graphhopper/commit/cbecbb5e5f63f4bb6bd3b6b0be61cbabef80179e", "committedDate": "2020-02-21T11:47:38Z", "message": "forgot one occurance"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4565, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}