{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1MjIyNTg5", "number": 1975, "title": "Allow running isochrones with profiles supporting turn costs (without turn costs)", "bodyText": "This is based on #1974.\nFixes one of the issues of #1967. With this fix is no longer problematic to run isochrone requests when the profile in use supports turn costs and the turn costs are simply ignored (they cannot be dealt with because we are missing an edge-based isochrone implementation). The alternative would be forcing another profile with turn_costs: false, but this seems ugly and at some point we probably will have an edge-based isochrone algorithm.", "createdAt": "2020-03-29T09:21:20Z", "url": "https://github.com/graphhopper/graphhopper/pull/1975", "merged": true, "mergeCommit": {"oid": "58fde258f55d170707956b42194f11d57314e629"}, "closed": true, "closedAt": "2020-03-31T14:51:01Z", "author": {"login": "easbar"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSU0KqAH2gAyMzk1MjIyNTg5Ojk1OTMwNDFhZDM3ODRkMTI2YzU1ZjVlZDgzNTUzYzZiZGQ5NWVkOGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTEM8UAH2gAyMzk1MjIyNTg5OjQ1ZmM2ZDVmN2U3MGNiMDA0N2E1OWZmMzZkNTM4OTVkNDk2ZDA3YTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9593041ad3784d126c55f5ed83553c6bdd95ed8f", "author": {"user": {"login": "easbar", "name": "Andi"}}, "url": "https://github.com/graphhopper/graphhopper/commit/9593041ad3784d126c55f5ed83553c6bdd95ed8f", "committedDate": "2020-03-29T07:31:48Z", "message": "Add Weighting#hasTurnCosts, make sure node-based algos are not running with turn costs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4f989ba8ededeeed22367b886cbee85bfb12ab4", "author": {"user": {"login": "easbar", "name": "Andi"}}, "url": "https://github.com/graphhopper/graphhopper/commit/e4f989ba8ededeeed22367b886cbee85bfb12ab4", "committedDate": "2020-03-29T08:54:51Z", "message": "Add check for AlternativeRoute"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ed7cf0af1d5a379117b22fdb3bbe08994eac5d9", "author": {"user": {"login": "easbar", "name": "Andi"}}, "url": "https://github.com/graphhopper/graphhopper/commit/4ed7cf0af1d5a379117b22fdb3bbe08994eac5d9", "committedDate": "2020-03-29T09:16:05Z", "message": "Allow running isochrones with profiles supporting turn costs (still ignoring turn costs for isochrones)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9ccf950c68cbdb8fed8d4ef0bff599e72e6d972", "author": {"user": {"login": "easbar", "name": "Andi"}}, "url": "https://github.com/graphhopper/graphhopper/commit/a9ccf950c68cbdb8fed8d4ef0bff599e72e6d972", "committedDate": "2020-03-29T13:44:01Z", "message": "Merge branch 'master' into has_turn_costs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2eeafe2e0f456a708c3859469506f7688f09bba", "author": {"user": {"login": "easbar", "name": "Andi"}}, "url": "https://github.com/graphhopper/graphhopper/commit/d2eeafe2e0f456a708c3859469506f7688f09bba", "committedDate": "2020-03-29T13:44:52Z", "message": "Merge branch 'has_turn_costs' into isochrone_turn_costs_fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNzc0NTAw", "url": "https://github.com/graphhopper/graphhopper/pull/1975#pullrequestreview-383774500", "createdAt": "2020-03-30T11:47:37Z", "commit": {"oid": "d2eeafe2e0f456a708c3859469506f7688f09bba"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMTo0NzozOFrOF9l6zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMTo0NzozOFrOF9l6zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDEyODcxOQ==", "bodyText": "There is a small mistake for Landmark.DISABLE -> ch -> lm", "url": "https://github.com/graphhopper/graphhopper/pull/1975#discussion_r400128719", "createdAt": "2020-03-30T11:47:38Z", "author": {"login": "karussell"}, "path": "web-bundle/src/main/java/com/graphhopper/resources/IsochroneResource.java", "diffHunk": "@@ -77,13 +77,19 @@ public Response doGet(\n \n         HintsMap hintsMap = new HintsMap();\n         RouteResource.initHints(hintsMap, uriInfo.getQueryParameters());\n+        if (!hintsMap.getBool(Parameters.CH.DISABLE, true))\n+            throw new IllegalArgumentException(\"Currently you cannot use speed mode for /isochrone, Do not use `ch.disable=true`\");\n+        if (!hintsMap.getBool(Parameters.Landmark.DISABLE, true))\n+            throw new IllegalArgumentException(\"Currently you cannot use hybrid mode for /isochrone, Do not use `ch.disable=true`\");\n+        if (hintsMap.getBool(Parameters.Routing.EDGE_BASED, false))\n+            throw new IllegalArgumentException(\"Currently you cannot use edge-based for /isochrone. Do not use `edge_based=true`\");\n+        if (hintsMap.getBool(Parameters.Routing.TURN_COSTS, false))\n+            throw new IllegalArgumentException(\"Currently you cannot use turn costs for /isochrone, Do not use `turn_costs=true`\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2eeafe2e0f456a708c3859469506f7688f09bba"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55c1395ec98ef412c0d3c423c29603947f6bb7d7", "author": {"user": {"login": "easbar", "name": "Andi"}}, "url": "https://github.com/graphhopper/graphhopper/commit/55c1395ec98ef412c0d3c423c29603947f6bb7d7", "committedDate": "2020-03-30T11:50:53Z", "message": "Fix typo in IsochroneResource error message (ch<->lm)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "671b983aa33ede120e482965a8ee0710135ac7f4", "author": {"user": {"login": "easbar", "name": "Andi"}}, "url": "https://github.com/graphhopper/graphhopper/commit/671b983aa33ede120e482965a8ee0710135ac7f4", "committedDate": "2020-03-30T15:20:43Z", "message": "Ignore turn_costs/edge_based=false for /isochrone"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45fc6d5f7e70cb0047a59ff36d53895d496d07a7", "author": {"user": {"login": "easbar", "name": "Andi"}}, "url": "https://github.com/graphhopper/graphhopper/commit/45fc6d5f7e70cb0047a59ff36d53895d496d07a7", "committedDate": "2020-03-31T14:44:24Z", "message": "Merge branch 'master' into isochrone_turn_costs_fix"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4625, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}