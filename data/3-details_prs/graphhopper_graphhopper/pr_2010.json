{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2NTU0OTU5", "number": 2010, "title": "Consolidate validation for GET&POST /route, clean up GHRequest#heading", "bodyText": "Fixes #1995 and Fixes #1996.\nI moved the validation checks we previously only did for GET into GraphHopper and created a new validateRequest method there, which did/does all kind of checks, some of which also check relations between multiple parameters. One blocker was the treatment of headings in GHRequest. This class was trying very hard to maintain that the number of points equals the number of headings, but IMO this is the wrong place to do this. GHRequest is just a data object that represents a routing request. Whether or not this request is 'valid' or not should be up to the entity that handles the request (GraphHopper#route in this case). The constraint is not even as simple as \"number of headings must equal number of points\", but in some cases its also allowed to only specify one heading etc. So I removed all this from GHRequest let me know if you think otherwise.", "createdAt": "2020-04-21T09:31:46Z", "url": "https://github.com/graphhopper/graphhopper/pull/2010", "merged": true, "mergeCommit": {"oid": "82b6f8b2647f27f8400768fc2b24fe9ed11afac1"}, "closed": true, "closedAt": "2020-04-23T12:08:48Z", "author": {"login": "easbar"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZwMQQgH2gAyNDA2NTU0OTU5OjRmZjFkYjU4YjI3MGQ3Yjk1MjUwYzkyMzI3OWJkZmM2NDNiNTIxOTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcabpWfgH2gAyNDA2NTU0OTU5OmRmMGIyZGJhZThiNjJkNzg3MDlkOTA4ZmM4NTk5ZTZhYjdkYWJkMGY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4ff1db58b270d7b95250c923279bdfc643b52195", "author": {"user": {"login": "easbar", "name": "Andi"}}, "url": "https://github.com/graphhopper/graphhopper/commit/4ff1db58b270d7b95250c923279bdfc643b52195", "committedDate": "2020-04-21T09:23:01Z", "message": "Apply same checks for both GET&POST /route, clean up GHRequest#heading stuff"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MTU3MDgy", "url": "https://github.com/graphhopper/graphhopper/pull/2010#pullrequestreview-397157082", "createdAt": "2020-04-21T09:33:49Z", "commit": {"oid": "4ff1db58b270d7b95250c923279bdfc643b52195"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwOTozMzo0OVrOGI8Sqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwOTozMzo0OVrOGI8Sqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjAyOTYxMA==", "bodyText": "@michaz for a moment I was tempted to set this to @NotEmpty with a custom error message, but then I thought its more consistent to do this later so its the same for GET&POST. But @NotNull cannot hurt, because by default I like to assume that nothing is null (for example when I later use the GHRequest).", "url": "https://github.com/graphhopper/graphhopper/pull/2010#discussion_r412029610", "createdAt": "2020-04-21T09:33:49Z", "author": {"login": "easbar"}, "path": "web-bundle/src/main/java/com/graphhopper/resources/RouteResource.java", "diffHunk": "@@ -75,7 +73,7 @@ public Response doGet(\n             @Context HttpServletRequest httpReq,\n             @Context UriInfo uriInfo,\n             @QueryParam(WAY_POINT_MAX_DISTANCE) @DefaultValue(\"1\") double minPathPrecision,\n-            @QueryParam(\"point\") List<GHPointParam> pointParams,\n+            @QueryParam(\"point\") @NotNull List<GHPointParam> pointParams,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ff1db58b270d7b95250c923279bdfc643b52195"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df0b2dbae8b62d78709d908fc8599e6ab7dabd0f", "author": {"user": {"login": "easbar", "name": "Andi"}}, "url": "https://github.com/graphhopper/graphhopper/commit/df0b2dbae8b62d78709d908fc8599e6ab7dabd0f", "committedDate": "2020-04-23T12:00:43Z", "message": "Merge branch 'master' into consolidate_gh_request_validation"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4640, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}