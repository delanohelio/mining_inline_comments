{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwMzI4NjAx", "number": 6093, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwOToxMjoxMVrOD3iraQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwOToxMjoxMVrOD3iraQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NTY2NDQxOnYy", "diffSide": "RIGHT", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/DefaultCodegen.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwOToxMjoxMVrOGN2Q-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMTozNDowOFrOGN6wsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzE3Mzc1Mw==", "bodyText": "@asmundg thanks for the PR. In https://github.com/OpenAPITools/openapi-generator/pull/6093/files#diff-7cb46fa53f89a458a7b7cb201d2214a8R2820, we should have \"unalias\" (dereference) the schema so looks like something wrong with the unaliasing that we need to fix. I'll take another look when I've time later this week.\nI think I've a better understanding of this fix after reviewing a bit more.\nCan you please add a comment in line 2848 to explain this particular condition (the reference model is deprecated and therefore setting the property to deprecated) ?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6093#discussion_r417173753", "createdAt": "2020-04-29T09:12:11Z", "author": {"login": "wing328"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/DefaultCodegen.java", "diffHunk": "@@ -2844,6 +2844,14 @@ public CodegenProperty fromProperty(String name, Schema p) {\n \n         if (p.getDeprecated() != null) {\n             property.deprecated = p.getDeprecated();\n+        } else if (p.get$ref() != null) {\n+            String ref = ModelUtils.getSimpleRef(p.get$ref());\n+            if (ref != null) {\n+                Schema referencedSchema = ModelUtils.getSchemas(this.openAPI).get(ref);\n+                if (referencedSchema != null && referencedSchema.getDeprecated() != null) {\n+                    property.deprecated = referencedSchema.getDeprecated();\n+                }\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "867d47dd6d6ae744479af47c9f18fa4a3a22eb5b"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzI0NzQwOA==", "bodyText": "Gah, I lost a comment block in rebasing there. Thanks for pointing it out.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6093#discussion_r417247408", "createdAt": "2020-04-29T11:34:08Z", "author": {"login": "asmundg"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/DefaultCodegen.java", "diffHunk": "@@ -2844,6 +2844,14 @@ public CodegenProperty fromProperty(String name, Schema p) {\n \n         if (p.getDeprecated() != null) {\n             property.deprecated = p.getDeprecated();\n+        } else if (p.get$ref() != null) {\n+            String ref = ModelUtils.getSimpleRef(p.get$ref());\n+            if (ref != null) {\n+                Schema referencedSchema = ModelUtils.getSchemas(this.openAPI).get(ref);\n+                if (referencedSchema != null && referencedSchema.getDeprecated() != null) {\n+                    property.deprecated = referencedSchema.getDeprecated();\n+                }\n+            }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzE3Mzc1Mw=="}, "originalCommit": {"oid": "867d47dd6d6ae744479af47c9f18fa4a3a22eb5b"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3608, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}