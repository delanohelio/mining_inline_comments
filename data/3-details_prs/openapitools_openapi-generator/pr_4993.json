{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMzQxNTk4", "number": 4993, "title": "[CORE] Add support for HTTP signature", "bodyText": "This is adding a new \"HTTP signature\" security schemes (https://datatracker.ietf.org/doc/draft-cavage-http-signatures/)? HTTP signatures is still a IETF draft, and hopefully it will become an official RFC this year. On one hand one may argue it shouldn\u2019t be added because it\u2019s still a draft, but on the other hand it is already being used by multiple products, so there may be benefits to support it. It is possible multiple organizations are independently adding the same security scheme.\nIdeally one way to address the problem would be to make it possible to add new security schemes (such as HTTP signature) without being required to fork the OpenAPITools repo. But given the current code structure, it\u2019s not clear to me how this could be achieved. Adding new security schemes involves surgery in multiple locations (Java codegen, templates, mustache tags).\nI raised this point in Slack before opening the PR.\nI suggest merging #5049 before this PR.\n\nPR checklist\n\n Read the contribution guidelines.\n If contributing template-only or documentation-only changes which will change sample output, build the project before.\n Run the shell script(s) under ./bin/ (or Windows batch scripts under.\\bin\\windows) to update Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit, and these must match the expectations made by your contribution. You only need to run ./bin/{LANG}-petstore.sh, ./bin/openapi3/{LANG}-petstore.sh if updating the code or mustache templates for a language ({LANG}) (e.g. php, ruby, python, etc).\n File the PR against the correct branch: master, 4.3.x, 5.0.x. Default: master.\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.", "createdAt": "2020-01-13T21:56:47Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4993", "merged": true, "mergeCommit": {"oid": "20afa870a99c4b44bb5ebdc3eb782aebced572e9"}, "closed": true, "closedAt": "2020-01-26T16:48:23Z", "author": {"login": "sebastien-rosset"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6DoQEgH2gAyMzYyMzQxNTk4OmQ2MjYyOTM1NzdjY2QwOGE1YjEwYjYxNzQ5OGUzMGM4NjAyZjZlZWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-K_aigFqTM0ODM5MTU2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d626293577ccd08a5b10b617498e30c8602f6eee", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/d626293577ccd08a5b10b617498e30c8602f6eee", "committedDate": "2020-01-13T21:56:13Z", "message": "Add support for HTTP signature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9eca52c65f9ba6c2c7ab0a96aa0e3c64c4600874", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/9eca52c65f9ba6c2c7ab0a96aa0e3c64c4600874", "committedDate": "2020-01-13T22:02:50Z", "message": "Add code comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a59f75979a851cbbdd1a8c818bf70adb28c691d3", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/a59f75979a851cbbdd1a8c818bf70adb28c691d3", "committedDate": "2020-01-13T22:08:20Z", "message": "Add code comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMTg2MDcz", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4993#pullrequestreview-342186073", "createdAt": "2020-01-13T22:34:24Z", "commit": {"oid": "a59f75979a851cbbdd1a8c818bf70adb28c691d3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QyMjozNDoyNVrOFdG2mQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QyMjozNDoyNVrOFdG2mQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjA2NTMwNQ==", "bodyText": "One issue here is that the \"signature\" scheme has not been registered with IANA yet. This value may have to be changed when it is actually registered.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4993#discussion_r366065305", "createdAt": "2020-01-13T22:34:25Z", "author": {"login": "sebastien-rosset"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/DefaultCodegen.java", "diffHunk": "@@ -3626,6 +3627,13 @@ public boolean isDataTypeFile(String dataType) {\n                 } else if (\"bearer\".equals(securityScheme.getScheme())) {\n                     cs.isBasicBearer = true;\n                     cs.bearerFormat = securityScheme.getBearerFormat();\n+                } else if (\"signature\".equals(securityScheme.getScheme())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a59f75979a851cbbdd1a8c818bf70adb28c691d3"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e6395fa4ec299a16e18ff895763177a21e3eb1b", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/9e6395fa4ec299a16e18ff895763177a21e3eb1b", "committedDate": "2020-01-14T00:24:03Z", "message": "add code comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8175a07b8a1cf25a365f094ed09c24cca844fdc", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/d8175a07b8a1cf25a365f094ed09c24cca844fdc", "committedDate": "2020-01-14T16:25:31Z", "message": "Merge remote-tracking branch 'origin' into http-signature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "acfb44dadb6f50989d1c7175faf7014152609ecc", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/acfb44dadb6f50989d1c7175faf7014152609ecc", "committedDate": "2020-01-15T06:55:13Z", "message": "Merge remote-tracking branch 'origin' into http-signature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb124210a23ff595c191e0230c6b35ab86476aa5", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/bb124210a23ff595c191e0230c6b35ab86476aa5", "committedDate": "2020-01-15T23:16:12Z", "message": "move method to ProcessUtils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c1967eff0cfe4f2099120ae0f39ff77d04f2ec1", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/7c1967eff0cfe4f2099120ae0f39ff77d04f2ec1", "committedDate": "2020-01-16T01:00:30Z", "message": "Code reformatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "755335c2726d1e754e09e237b98c9e3082e969ed", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/755335c2726d1e754e09e237b98c9e3082e969ed", "committedDate": "2020-01-16T14:31:02Z", "message": "Merge remote-tracking branch 'origin' into http-signature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1bf286fb797700ab91735adae9c3989b16d819a7", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/1bf286fb797700ab91735adae9c3989b16d819a7", "committedDate": "2020-01-17T00:17:31Z", "message": "Add http-signature security scheme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "517019545f2258920644e558937b2ab8c28b0794", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/517019545f2258920644e558937b2ab8c28b0794", "committedDate": "2020-01-17T00:56:48Z", "message": "Run sample scripts for go"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef59c0ca45c721b5163126895a01032faa930bda", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/ef59c0ca45c721b5163126895a01032faa930bda", "committedDate": "2020-01-17T04:49:27Z", "message": "add http_signature_test to security scheme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f7cbb1ec75ddd1f18ca4b67ff8fa28678306679", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/0f7cbb1ec75ddd1f18ca4b67ff8fa28678306679", "committedDate": "2020-01-17T16:19:31Z", "message": "Merge branch 'master' into http-signature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8dea28d02889b1648bfdc353244610e436dde6d", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/f8dea28d02889b1648bfdc353244610e436dde6d", "committedDate": "2020-01-17T16:21:11Z", "message": "remove http signature from petapi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21e35f0cfeabef0d5cf51043872ea96bd418406d", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/21e35f0cfeabef0d5cf51043872ea96bd418406d", "committedDate": "2020-01-17T16:23:29Z", "message": "Add separate OAS file with support for HTTP signature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "daf060e87fcd77bc819f5f8226b00b65e50cb48e", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/daf060e87fcd77bc819f5f8226b00b65e50cb48e", "committedDate": "2020-01-17T22:31:48Z", "message": "remove http signature from petstore-with-fake-endpoints-models-for-testing.yaml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b1aef6b13b8a6f52ced21b610351bbd916d330a", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/1b1aef6b13b8a6f52ced21b610351bbd916d330a", "committedDate": "2020-01-19T03:43:46Z", "message": "Merge remote-tracking branch 'origin' into http-signature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f7e6eb7c49780c553bac29d55a8a7c6c0041a54", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/4f7e6eb7c49780c553bac29d55a8a7c6c0041a54", "committedDate": "2020-01-19T15:50:23Z", "message": "Merge remote-tracking branch 'origin' into http-signature"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1MDY4NzUy", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4993#pullrequestreview-345068752", "createdAt": "2020-01-20T03:49:02Z", "commit": {"oid": "4f7e6eb7c49780c553bac29d55a8a7c6c0041a54"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQwMzo0OTowMlrOFfS93w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQwMzo0OTowMlrOFfS93w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODM2MDkyNw==", "bodyText": "This would be a breaking change, as we failed silently for any unsupported schemes previously.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4993#discussion_r368360927", "createdAt": "2020-01-20T03:49:02Z", "author": {"login": "jimschubert"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/DefaultCodegen.java", "diffHunk": "@@ -3629,6 +3630,15 @@ public boolean isDataTypeFile(String dataType) {\n                 } else if (\"bearer\".equals(securityScheme.getScheme())) {\n                     cs.isBasicBearer = true;\n                     cs.bearerFormat = securityScheme.getBearerFormat();\n+                } else if (\"signature\".equals(securityScheme.getScheme())) {\n+                    // HTTP signature as defined in https://datatracker.ietf.org/doc/draft-cavage-http-signatures/\n+                    // The registry of security schemes is maintained by IANA.\n+                    // https://www.iana.org/assignments/http-authschemes/http-authschemes.xhtml\n+                    // As of January 2020, the \"signature\" scheme has not been registered with IANA yet.\n+                    // This scheme may have to be changed when it is officially registered with IANA.\n+                    cs.isHttpSignature = true;\n+                } else {\n+                    throw new RuntimeException(\"Unsupported security scheme: \" + securityScheme.getScheme());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f7e6eb7c49780c553bac29d55a8a7c6c0041a54"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "066237f18938f8e797a57fd30c189e02e5c99146", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/066237f18938f8e797a57fd30c189e02e5c99146", "committedDate": "2020-01-20T05:00:59Z", "message": "Merge remote-tracking branch 'origin' into http-signature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34f126fb65077ecf2d23d12907158471c37fc93c", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/34f126fb65077ecf2d23d12907158471c37fc93c", "committedDate": "2020-01-20T05:13:01Z", "message": "do not throw exception if security scheme is unrecognized"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b3a54b277601c0c43474b99449ec8046704b800", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/7b3a54b277601c0c43474b99449ec8046704b800", "committedDate": "2020-01-21T22:53:39Z", "message": "change URL of apache license to use https"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8b0dc65e1be4d84b628891988a4096a7e4d469a", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/d8b0dc65e1be4d84b628891988a4096a7e4d469a", "committedDate": "2020-01-22T01:06:16Z", "message": "Merge remote-tracking branch 'origin' into http-signature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d89594ca9d258b0ee8521cd92326ec1df68bb45", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/7d89594ca9d258b0ee8521cd92326ec1df68bb45", "committedDate": "2020-01-23T17:38:03Z", "message": "Merge remote-tracking branch 'origin' into http-signature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90541370238bca18afae48417f5963251002a039", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/90541370238bca18afae48417f5963251002a039", "committedDate": "2020-01-24T02:49:20Z", "message": "Merge remote-tracking branch 'origin' into http-signature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ca756ed4c85a25d1ffff1cf7e889cd14729e5c5", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/0ca756ed4c85a25d1ffff1cf7e889cd14729e5c5", "committedDate": "2020-01-24T02:54:05Z", "message": "add log warning to indicate the 'http signature' security scheme is still a draft"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MzkxNTY3", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4993#pullrequestreview-348391567", "createdAt": "2020-01-26T16:46:33Z", "commit": {"oid": "0ca756ed4c85a25d1ffff1cf7e889cd14729e5c5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1990, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}