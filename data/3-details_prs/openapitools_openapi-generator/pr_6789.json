{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwNDgxMTY0", "number": 6789, "title": "Fix Union Types Import Issue", "bodyText": "This is an attempt to fix the bug reported here: #5467\nThe problem was that the union types in typescrit e.g. TypeA | TypeB represented by the oneOf keyword in the service definition lead to not valid code:\nimport{TypeA | TypeB} from '../models'\n\nyou can either use a comma in the import or split into separate imports. I did the latter one because I thought this could be more solid for models in different files and paths potentially. If they are not all exported from the same path.\nI adjusted it for three typescript generators:\n\naxios (this I where I was effected)\nnode\nangular\n\nThen I stopped and thought it is a good point to start the discussion before I adjust it for all the other Typescript generators.\nSince I am new I would highly appreciate some help regarding the following issues:\n\n How to run the code formatter. When I run mvn formatter:format I get hundreds of code changes.\n How to run the tests. Is mvn test fine?\n Not sure about the locations where I put the tests and so on. Perhaps this kind of test has to go somewhere else.\n\nPR checklist\n\n Read the contribution guidelines.\nIf contributing template-only or documentation-only changes which will change sample output, build the project beforehand.\n Run the shell script ./bin/generate-samples.shto update all Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit as it would merge with master. These must match the expectations made by your contribution. You may regenerate an individual generator by passing the relevant config(s) as an argument to the script, for example ./bin/generate-samples.sh bin/config/java*. For Windows users, please run the script in Git BASH.\n File the PR against the correct branch: master\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.", "createdAt": "2020-06-26T09:29:41Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6789", "merged": true, "mergeCommit": {"oid": "d3017ffba8f2ceb49bdc96c55510988ec43a6481"}, "closed": true, "closedAt": "2020-08-20T13:15:10Z", "author": {"login": "FrankEssenberger"}, "timelineItems": {"totalCount": 50, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcu_qrZAH2gAyNDQwNDgxMTY0OjU0YTUyOWNmZTVjNDIwMTA2ZDcyOThhNzgyMTM0NmE0ODA1MzUzZGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAv2IdAFqTQ3MTU3MTE2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "54a529cfe5c420106d7298a7821346a4805353de", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/54a529cfe5c420106d7298a7821346a4805353de", "committedDate": "2020-06-26T09:17:14Z", "message": "First approach for discussion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "234d2bd1c337bc19d893b7f15b10692474f57448", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/234d2bd1c337bc19d893b7f15b10692474f57448", "committedDate": "2020-06-26T09:17:47Z", "message": "typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NDI1MDcx", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6789#pullrequestreview-438425071", "createdAt": "2020-06-26T16:15:57Z", "commit": {"oid": "234d2bd1c337bc19d893b7f15b10692474f57448"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNjoxNTo1N1rOGpmxFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNjoxNzowNFrOGpmzYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjI3OTk1OQ==", "bodyText": "please add some docs to describe what this does, with an example", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6789#discussion_r446279959", "createdAt": "2020-06-26T16:15:57Z", "author": {"login": "macjohnny"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java", "diffHunk": "@@ -221,6 +224,65 @@ public void processOpts() {\n         }\n     }\n \n+    @Override\n+    public String toModelImport( String name){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "234d2bd1c337bc19d893b7f15b10692474f57448"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjI4MDA3Ng==", "bodyText": "docs", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6789#discussion_r446280076", "createdAt": "2020-06-26T16:16:09Z", "author": {"login": "macjohnny"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java", "diffHunk": "@@ -221,6 +224,65 @@ public void processOpts() {\n         }\n     }\n \n+    @Override\n+    public String toModelImport( String name){\n+        if(name.contains(\"|\")){\n+            List<String> names = Arrays.asList(name.split(\"\\\\|\"));\n+           return names.stream()\n+                   .map(withSpace->withSpace.replaceAll(\" \",\"\"))\n+                   .map(noSpace->super.toModelImport(noSpace))\n+                   .collect(Collectors.joining(\"|\"));\n+        }\n+        return super.toModelImport(name);\n+    }\n+\n+    protected String toModelImportForUnionTypes(String name, Function<String,String> toModelImportSingle){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "234d2bd1c337bc19d893b7f15b10692474f57448"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjI4MDU0Ng==", "bodyText": "@amakhrov @wing328  do you think such a complicated logic is necessary, or could this be solved elsewhere?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6789#discussion_r446280546", "createdAt": "2020-06-26T16:17:04Z", "author": {"login": "macjohnny"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java", "diffHunk": "@@ -221,6 +224,65 @@ public void processOpts() {\n         }\n     }\n \n+    @Override\n+    public String toModelImport( String name){\n+        if(name.contains(\"|\")){\n+            List<String> names = Arrays.asList(name.split(\"\\\\|\"));\n+           return names.stream()\n+                   .map(withSpace->withSpace.replaceAll(\" \",\"\"))\n+                   .map(noSpace->super.toModelImport(noSpace))\n+                   .collect(Collectors.joining(\"|\"));\n+        }\n+        return super.toModelImport(name);\n+    }\n+\n+    protected String toModelImportForUnionTypes(String name, Function<String,String> toModelImportSingle){\n+        if(name.contains(\"|\")){\n+            List<String> names = Arrays.asList(name.split(\"\\\\|\"));\n+            return names.stream()\n+                    .map(withSpace->withSpace.replaceAll(\" \",\"\"))\n+                    .map(noSpace->toModelImportSingle.apply(noSpace))\n+                    .collect(Collectors.joining(\"|\"));\n+        }\n+        return toModelImportSingle.apply(name);\n+    }\n+\n+    @Override\n+    public Map<String, Object> postProcessOperationsWithModels(final Map<String, Object> objs, final List<Object> allModels) {\n+        Map<String, Object> objsUnderProcess=  super.postProcessOperationsWithModels(objs, allModels);\n+\n+        if(Boolean.valueOf(objsUnderProcess.get(\"hasImport\").toString())){\n+            objsUnderProcess.put(\"imports\", splitUniontypeImports((List<Map<String,String>>) objsUnderProcess.get(\"imports\")));\n+        }\n+        return objsUnderProcess;\n+    }\n+\n+    protected List<Object> splitUniontypeImports(List<Map<String,String>> imports){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "234d2bd1c337bc19d893b7f15b10692474f57448"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74f32861f2bc48a7f6ffa801e6f48e1dae2273b6", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/74f32861f2bc48a7f6ffa801e6f48e1dae2273b6", "committedDate": "2020-07-01T12:55:44Z", "message": "add addiotional method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "598ec7b24e24bd0d524925a9a0533ccf52562b16", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/598ec7b24e24bd0d524925a9a0533ccf52562b16", "committedDate": "2020-07-01T13:03:45Z", "message": "polish a bit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57e9f2ea13d42419686b115bfada8fd057859639", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/57e9f2ea13d42419686b115bfada8fd057859639", "committedDate": "2020-07-01T13:10:19Z", "message": "remove call of super method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5f5021d32ec66931b98f90e80e8f460933c102c", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/a5f5021d32ec66931b98f90e80e8f460933c102c", "committedDate": "2020-07-01T13:30:15Z", "message": "fix javadoc error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f12d9a80cb2f3d8d2b74c32d6ad899e48803480", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/5f12d9a80cb2f3d8d2b74c32d6ad899e48803480", "committedDate": "2020-07-02T08:57:45Z", "message": "Merge branch 'master' of https://github.com/OpenAPITools/openapi-generator"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMDMwNzE4", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6789#pullrequestreview-442030718", "createdAt": "2020-07-02T21:31:35Z", "commit": {"oid": "5f12d9a80cb2f3d8d2b74c32d6ad899e48803480"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQyMTozMTozNVrOGsdleQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQyMTozMTozNVrOGsdleQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI3NTI1Nw==", "bodyText": "Is google.common.colllect preferred over java.util.* in OAI generator?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6789#discussion_r449275257", "createdAt": "2020-07-02T21:31:35Z", "author": {"login": "TiFu"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/DefaultGenerator.java", "diffHunk": "@@ -17,6 +17,8 @@\n \n package org.openapitools.codegen;\n \n+import com.google.common.collect.Lists;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f12d9a80cb2f3d8d2b74c32d6ad899e48803480"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53d6b3c03b5e1042caa6cb9ee6f0cfabdcba5654", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/53d6b3c03b5e1042caa6cb9ee6f0cfabdcba5654", "committedDate": "2020-07-03T07:08:36Z", "message": "com.google.common.collect."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0f83e3b7caca045aa7fa813ea47e67a1446b9a4", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/d0f83e3b7caca045aa7fa813ea47e67a1446b9a4", "committedDate": "2020-07-03T12:19:32Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f4d3b730b95f43121237ab38b5828916cea3a7f", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/8f4d3b730b95f43121237ab38b5828916cea3a7f", "committedDate": "2020-07-07T08:51:35Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2529f408e823b5dd0ea1f566cdf96351545c96bf", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/2529f408e823b5dd0ea1f566cdf96351545c96bf", "committedDate": "2020-07-10T13:17:08Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbb87013de05af27ff253361f9c1cc05fa8c99dd", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/cbb87013de05af27ff253361f9c1cc05fa8c99dd", "committedDate": "2020-07-10T13:57:24Z", "message": "merge master regenerate samples"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3fc17e687f12923cc1724d6871d26e402ec0730", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/b3fc17e687f12923cc1724d6871d26e402ec0730", "committedDate": "2020-07-10T18:18:11Z", "message": "sort imports alphabetically"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bcfdc66b52b5051c4073c77aaa07d25b997da1f6", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/bcfdc66b52b5051c4073c77aaa07d25b997da1f6", "committedDate": "2020-07-10T18:24:03Z", "message": "sort imports alphabetically with right key"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51b911c2f92cca7889d43a98328d49e0b8d57238", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/51b911c2f92cca7889d43a98328d49e0b8d57238", "committedDate": "2020-07-10T18:27:05Z", "message": "typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8f113980138222e98315402fd445c4eed606836", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/c8f113980138222e98315402fd445c4eed606836", "committedDate": "2020-07-11T11:47:11Z", "message": "add type previous imports are still there."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eec9818bd107618ee07daae8c2cec696a6f18979", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/eec9818bd107618ee07daae8c2cec696a6f18979", "committedDate": "2020-07-12T11:23:58Z", "message": "add type previous imports are still there."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d52396d11032d7cec74efb934262563489fb2da0", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/d52396d11032d7cec74efb934262563489fb2da0", "committedDate": "2020-07-12T11:24:20Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23de7559d715f3dbf19079afa5d2f7865371527c", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/23de7559d715f3dbf19079afa5d2f7865371527c", "committedDate": "2020-07-20T09:18:30Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1c0882100679e912f2d730f9c8e7926125db402", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/e1c0882100679e912f2d730f9c8e7926125db402", "committedDate": "2020-07-20T12:18:30Z", "message": "remove new test to see if they are the problem."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f34fe6223e25d0ced3ca4b7d591dbc3708b076e0", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/f34fe6223e25d0ced3ca4b7d591dbc3708b076e0", "committedDate": "2020-07-27T07:33:07Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d75a96a84b0f9a66630c936c6701d2a92953709d", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/d75a96a84b0f9a66630c936c6701d2a92953709d", "committedDate": "2020-07-27T07:33:33Z", "message": "merge master add tests back in"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f66c514cd619acf3f56b41dbfd35760bf670e588", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/f66c514cd619acf3f56b41dbfd35760bf670e588", "committedDate": "2020-07-27T07:56:18Z", "message": "align changes which should not lead to failing test but you never know."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8ecd4e6b47cbf1ee1522ec9507c8ed1b069f79b", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/a8ecd4e6b47cbf1ee1522ec9507c8ed1b069f79b", "committedDate": "2020-07-27T08:16:56Z", "message": "remove formatting changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "460a0f57667b23026a0c6b831fe97a269bd635d6", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/460a0f57667b23026a0c6b831fe97a269bd635d6", "committedDate": "2020-07-27T08:25:19Z", "message": "dummy change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7a9516360682d0cb02580d88a17c675f52d505d", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/f7a9516360682d0cb02580d88a17c675f52d505d", "committedDate": "2020-07-27T08:28:55Z", "message": "revert spaces"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08042bf34a2b11e8201152f0fce592aaecfd2c50", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/08042bf34a2b11e8201152f0fce592aaecfd2c50", "committedDate": "2020-07-27T08:31:23Z", "message": "revert spaces"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7096692406d14042fd30c6ea0a98e7e0bcfe09dd", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/7096692406d14042fd30c6ea0a98e7e0bcfe09dd", "committedDate": "2020-07-28T07:06:39Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "246614b08393e5a79df685e17aa25993825ab960", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/246614b08393e5a79df685e17aa25993825ab960", "committedDate": "2020-07-28T07:14:37Z", "message": "revert functional changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bbd922a9080bc3f4efbb5b0ee54420c812fa582", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/2bbd922a9080bc3f4efbb5b0ee54420c812fa582", "committedDate": "2020-07-28T07:25:21Z", "message": "comment out test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56eff35e14944e78a9a7ab0607f6e935ed8fc569", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/56eff35e14944e78a9a7ab0607f6e935ed8fc569", "committedDate": "2020-07-28T09:01:33Z", "message": "remove model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16f897f82247392a7c6cd52c0de6d9993cbe7cbf", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/16f897f82247392a7c6cd52c0de6d9993cbe7cbf", "committedDate": "2020-07-28T09:55:42Z", "message": "remove interface method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83b5e6f477e48681dd67a704b6da6f8766131496", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/83b5e6f477e48681dd67a704b6da6f8766131496", "committedDate": "2020-07-28T11:08:17Z", "message": "remove test class completely"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc0f5751900ba7fd0552f185aee7514a85135476", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/dc0f5751900ba7fd0552f185aee7514a85135476", "committedDate": "2020-08-03T06:40:41Z", "message": "put test class back - test body commented out"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de585d5b3392f92d392ab7d7d25499e94ece889e", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/de585d5b3392f92d392ab7d7d25499e94ece889e", "committedDate": "2020-08-03T07:16:11Z", "message": "rename test methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40dce449a0c449cbdb16019df75c2c98365d46d5", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/40dce449a0c449cbdb16019df75c2c98365d46d5", "committedDate": "2020-08-03T09:04:12Z", "message": "put back logic and tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6da31ba0d983516066d9f25bf7d8f7a92d939133", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/6da31ba0d983516066d9f25bf7d8f7a92d939133", "committedDate": "2020-08-03T09:40:57Z", "message": "regenerate samples"}, "afterCommit": {"oid": "40dce449a0c449cbdb16019df75c2c98365d46d5", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/40dce449a0c449cbdb16019df75c2c98365d46d5", "committedDate": "2020-08-03T09:04:12Z", "message": "put back logic and tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7cc0b16a6a888ce1aee8ee170fa1f4eccb287dbe", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/7cc0b16a6a888ce1aee8ee170fa1f4eccb287dbe", "committedDate": "2020-08-03T11:16:49Z", "message": "remove generated APIs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNDY3MTc0", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6789#pullrequestreview-460467174", "createdAt": "2020-08-04T03:12:45Z", "commit": {"oid": "7cc0b16a6a888ce1aee8ee170fa1f4eccb287dbe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMzoxMjo0NVrOG7Pg_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwMzoxMjo0NVrOG7Pg_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc3MzM3NA==", "bodyText": "These two methods (toModelImportMap and toModelImport) look very similar (split by |, remove spaces, process each part). Should one method just delegate to the other? E.g. toModelImport could call toModelImportMap and then collect the resulting map back into a string.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6789#discussion_r464773374", "createdAt": "2020-08-04T03:12:45Z", "author": {"login": "amakhrov"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java", "diffHunk": "@@ -221,6 +224,38 @@ public void processOpts() {\n         }\n     }\n \n+    @Override\n+    public String toModelImport( String name){\n+        if(name.contains(\"|\")){\n+           List<String> names = Arrays.asList(name.split(\"\\\\|\"));\n+           LOGGER.warn(\"The import is a union type. Consider using the toModelImportMap method.\");\n+           return names.stream()\n+                   .map(withSpace->withSpace.replaceAll(\" \",\"\"))\n+                   .map(noSpace->super.toModelImport(noSpace))\n+                   .collect(Collectors.joining(\"|\"));\n+        }\n+        return super.toModelImport(name);\n+    }\n+\n+    /**\n+     * Maps the fully qualified model import to the initial given name. In case of union types the map will have multiple entries.\n+     * For example for \"classA | classB\" the map will two entries have [\"model.classA\",\"classA\"] and [\"model.classB\",\"classB\"].\n+     *\n+     * @param name the name of the \"Model\"\n+     * @return Map between the fully qualified model import and the initial given name.\n+     */\n+    @Override\n+    public Map<String,String> toModelImportMap( String name){\n+        if(name.contains(\"|\")){\n+            List<String> names = Arrays.asList(name.replace(\" \",\"\").split(\"\\\\|\"));\n+            Map<String,String> result = Maps.newHashMap();\n+            names.forEach(s->result.put(toModelImport(s),s));\n+            return  result;\n+        }\n+        return Collections.singletonMap(toModelImport(name),name);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc0b16a6a888ce1aee8ee170fa1f4eccb287dbe"}, "originalPosition": 50}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1aff13b3cb5e5d29588d49dc74fd089482dc78ea", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/1aff13b3cb5e5d29588d49dc74fd089482dc78ea", "committedDate": "2020-08-04T07:36:41Z", "message": "remark amakhrov"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88ded7d0ebb05c36cf71ff2b484e5ba2e64d221c", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/88ded7d0ebb05c36cf71ff2b484e5ba2e64d221c", "committedDate": "2020-08-04T08:02:58Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fb99beb26791b15a9222968f0363e9f57dde044", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/1fb99beb26791b15a9222968f0363e9f57dde044", "committedDate": "2020-08-04T08:45:45Z", "message": "check in one generated file to test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24dc8ce2d864d84a6f51f4e58c77b3671c5ca98c", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/24dc8ce2d864d84a6f51f4e58c77b3671c5ca98c", "committedDate": "2020-08-04T09:02:38Z", "message": "adjust call super"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c83d6b49176db46e1a7c5eed6da9eac76a4b78a7", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/c83d6b49176db46e1a7c5eed6da9eac76a4b78a7", "committedDate": "2020-08-04T11:57:47Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f376de14126f4fd13948741fda3db4b4cefc60f", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/5f376de14126f4fd13948741fda3db4b4cefc60f", "committedDate": "2020-08-11T16:52:34Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1Njc5MDYw", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6789#pullrequestreview-465679060", "createdAt": "2020-08-12T08:01:28Z", "commit": {"oid": "5f376de14126f4fd13948741fda3db4b4cefc60f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwODowMToyOFrOG_WOnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwODowMToyOFrOG_WOnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA3NzY2Mw==", "bodyText": "Can you please add docstrings to explain what these new (private) functions do (e.g. avoid duplicates)?\nWe want to document all methods in the default codegen/generator class to make code easier to understand for new contributors. (I do not expect you to document all methods missing the docstring. The community can help with separate PRs)", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6789#discussion_r469077663", "createdAt": "2020-08-12T08:01:28Z", "author": {"login": "wing328"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/DefaultGenerator.java", "diffHunk": "@@ -1115,6 +1099,40 @@ private static String generateParameterId(Parameter parameter) {\n         return operations;\n     }\n \n+    private Map<String,String> getAllImportsMapppings(Set<String> allImports){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f376de14126f4fd13948741fda3db4b4cefc60f"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0761607197dbbc7b48ebc12782fd4fabd24ea82", "author": {"user": {"login": "FrankEssenberger", "name": "Frank Essenberger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/d0761607197dbbc7b48ebc12782fd4fabd24ea82", "committedDate": "2020-08-13T15:25:26Z", "message": "add comment use set."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNTcxMTYw", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6789#pullrequestreview-471571160", "createdAt": "2020-08-20T13:01:55Z", "commit": {"oid": "d0761607197dbbc7b48ebc12782fd4fabd24ea82"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3413, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}