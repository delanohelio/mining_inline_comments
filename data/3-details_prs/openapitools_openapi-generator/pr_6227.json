{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1NDc0OTg1", "number": 6227, "title": "[codegen][python-experimental] Add configuration knob to disable JSON schema validation", "bodyText": "The 'multipleOf' keyword was not supported for INTEGER values, for any code generator\nThe 'multipleOf' keyword was not supported for python-experimental\nAdd Boolean value indicating whether to disable the JSON\nschema structural validation rules specified in the OpenAPI document.\nThis includes multipleOf, maximum, exclusiveMaximum, minimum, exclusiveMinimum,\nmaxLength, minLength, pattern...\nBy default, the validation is performed for data generated locally by the client\nand data received from the server, independent of any validation performed by\nthe server side.\nIf the input data does not satisfy the JSON schema validation rules specified\nin the OpenAPI document, an exception is raised.\nIf disable_validation is set to true, structural validation is disabled. This\ncan be useful to troubleshoot data validation problem, such as when the OpenAPI\ndocument validation rules do not match the actual API data received by the server.\n\n\nPR checklist\n\n Read the contribution guidelines.\n If contributing template-only or documentation-only changes which will change sample output, build the project before.\n Run the shell script(s) under ./bin/ (or Windows batch scripts under.\\bin\\windows) to update Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit, and these must match the expectations made by your contribution. You only need to run ./bin/{LANG}-petstore.sh, ./bin/openapi3/{LANG}-petstore.sh if updating the code or mustache templates for a language ({LANG}) (e.g. php, ruby, python, etc).\n File the PR against the correct branch: master, 4.3.x, 5.0.x. Default: master.\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.", "createdAt": "2020-05-08T23:34:25Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6227", "merged": true, "mergeCommit": {"oid": "b4954b0d80c1a182824bf8548ddf86868c4d98fa"}, "closed": true, "closedAt": "2020-05-17T16:11:02Z", "author": {"login": "sebastien-rosset"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcfah4-gH2gAyNDE1NDc0OTg1OjFmYTcxYWQ2NWVkMGY3NzhiM2UzOTE1MmM3YTVjMmU3MGQ4ZTRjNmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABciNmsMAFqTQxMzE3NjYwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1fa71ad65ed0f778b3e39152c7a5c2e70d8e4c6c", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/1fa71ad65ed0f778b3e39152c7a5c2e70d8e4c6c", "committedDate": "2020-05-08T23:32:17Z", "message": "Add knob to disable JSON schema structural validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c8ff6a2c572cbdf9466a1b1a3206ebc4a06383a", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/8c8ff6a2c572cbdf9466a1b1a3206ebc4a06383a", "committedDate": "2020-05-08T23:33:23Z", "message": "Add knob to disable JSON schema structural validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8d05f2ac19333b40d877f1d46d1c6cdc9bd2bc1", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/c8d05f2ac19333b40d877f1d46d1c6cdc9bd2bc1", "committedDate": "2020-05-09T00:02:32Z", "message": "Fix formatting issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f1860d661ba9ed4a33ae816737b9baa9f1d03ca", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/8f1860d661ba9ed4a33ae816737b9baa9f1d03ca", "committedDate": "2020-05-09T01:27:57Z", "message": "execute sample scripts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc06890e6b9508b0294210de1e5cac1a539afd11", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/fc06890e6b9508b0294210de1e5cac1a539afd11", "committedDate": "2020-05-09T01:33:44Z", "message": "execute sample scripts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4ODE3NDMw", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6227#pullrequestreview-408817430", "createdAt": "2020-05-11T01:54:20Z", "commit": {"oid": "fc06890e6b9508b0294210de1e5cac1a539afd11"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMTo1NDoyMFrOGTKCVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMTo1NDoyMFrOGTKCVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc0MDU2Ng==", "bodyText": "It looks like type checking not impacted by this change.\nCan you mention that in this comment?\nWhat about enum value checking?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6227#discussion_r422740566", "createdAt": "2020-05-11T01:54:20Z", "author": {"login": "spacether"}, "path": "samples/openapi3/client/petstore/python/petstore_api/configuration.py", "diffHunk": "@@ -49,6 +49,19 @@ class Configuration(object):\n       then all undeclared properties received by the server are injected into the\n       additional properties map. In that case, there are undeclared properties, and\n       nothing to discard.\n+    :param disable_client_side_validation: Boolean value indicating whether to disable\n+      the JSON schema structural validation rules specified in the OpenAPI document.\n+      This includes multipleOf, maximum, exclusiveMaximum, minimum, exclusiveMinimum,\n+      maxLength, minLength, pattern...\n+      By default, the validation is performed for data generated locally by the client\n+      and data received from the server, independent of any validation performed by\n+      the server side.\n+      If the input data does not satisfy the JSON schema validation rules specified\n+      in the OpenAPI document, an exception is raised.\n+      If disable_client_side_validation is set to true, structural validation is\n+      disabled. This can be useful to troubleshoot data validation problem, such as\n+      when the OpenAPI document validation rules do not match the actual API data\n+      received by the server.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc06890e6b9508b0294210de1e5cac1a539afd11"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a40b74d23e55b2128ecdeacf45473fbef48491a", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/1a40b74d23e55b2128ecdeacf45473fbef48491a", "committedDate": "2020-05-12T01:37:20Z", "message": "Merge branch 'master' of github.com:CiscoM31/openapi-generator into python-add-knob-to-disable-validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2dd51ad7de1bc8d20c2dff03825dc64f6e660512", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/2dd51ad7de1bc8d20c2dff03825dc64f6e660512", "committedDate": "2020-05-12T13:33:22Z", "message": "Merge branch 'master' of github.com:CiscoM31/openapi-generator into python-add-knob-to-disable-validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f46d0c5539ba593e4d96e576fc143e1aea8a1fb4", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/f46d0c5539ba593e4d96e576fc143e1aea8a1fb4", "committedDate": "2020-05-12T17:00:36Z", "message": "fix multipleOf validation issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b14e93e1b091bed4acc4d4fabdf41d6e04c1a14c", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/b14e93e1b091bed4acc4d4fabdf41d6e04c1a14c", "committedDate": "2020-05-12T17:02:01Z", "message": "Add validation log for multipleOf. Add customizable validation checks. add unit tests for JSON schema validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2db11f1950b062a40ae20df3e740a29c7807fb4", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/c2db11f1950b062a40ae20df3e740a29c7807fb4", "committedDate": "2020-05-12T17:06:00Z", "message": "Add validation log for multipleOf. Add customizable validation checks. add unit tests for JSON schema validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ece58e16bd5d80e3a32a3a78964848d84568972d", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/ece58e16bd5d80e3a32a3a78964848d84568972d", "committedDate": "2020-05-12T17:39:42Z", "message": "Add validation log for multipleOf. Add customizable validation checks. add unit tests for JSON schema validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06f9b818bf380f87df0569f55ae08430bada3d59", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/06f9b818bf380f87df0569f55ae08430bada3d59", "committedDate": "2020-05-12T17:40:44Z", "message": "Merge branch 'master' of github.com:CiscoM31/openapi-generator into python-add-knob-to-disable-validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e512302787993d7215085339671eb34670c02e2e", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/e512302787993d7215085339671eb34670c02e2e", "committedDate": "2020-05-12T18:08:08Z", "message": "Add validation log for multipleOf. Add customizable validation checks. add unit tests for JSON schema validation. Fix for python 2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNDIwMDM0", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6227#pullrequestreview-410420034", "createdAt": "2020-05-12T21:03:01Z", "commit": {"oid": "e512302787993d7215085339671eb34670c02e2e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMTowMzowMVrOGUY25w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMTowMzowMVrOGUY25w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAzMTk3NQ==", "bodyText": "How about using ApiValueError so it can be captured by using our OpenApiException base exception class?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6227#discussion_r424031975", "createdAt": "2020-05-12T21:03:01Z", "author": {"login": "spacether"}, "path": "modules/openapi-generator/src/main/resources/python/configuration.mustache", "diffHunk": "@@ -277,6 +298,13 @@ conf = {{{packageName}}}.Configuration(\n \n     def __setattr__(self, name, value):\n         object.__setattr__(self, name, value)\n+        if name == 'disable_client_side_validation' and value is not None:\n+            s = set(value.split(','))\n+            for v in s:\n+                if v not in JSON_SCHEMA_VALIDATION_KEYWORDS:\n+                    raise ValueError(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e512302787993d7215085339671eb34670c02e2e"}, "originalPosition": 57}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNDIzNTk3", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6227#pullrequestreview-410423597", "createdAt": "2020-05-12T21:08:38Z", "commit": {"oid": "e512302787993d7215085339671eb34670c02e2e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMTowODozOVrOGUZB1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMTowODozOVrOGUZB1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAzNDc3Mw==", "bodyText": "How about naming this disabled_client_side_validations and making its type string only?\nThat way \"\" means that no validations are disabled and the type is always string.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6227#discussion_r424034773", "createdAt": "2020-05-12T21:08:39Z", "author": {"login": "spacether"}, "path": "modules/openapi-generator/src/main/resources/python/configuration.mustache", "diffHunk": "@@ -43,6 +49,19 @@ class Configuration(object):\n       then all undeclared properties received by the server are injected into the\n       additional properties map. In that case, there are undeclared properties, and\n       nothing to discard.\n+    :param disable_client_side_validation (string/None): Comma-separated list of", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e512302787993d7215085339671eb34670c02e2e"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea2b170f56c59935439367cec08359fa2dcea484", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/ea2b170f56c59935439367cec08359fa2dcea484", "committedDate": "2020-05-12T22:08:49Z", "message": "address review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMTc2NjA1", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6227#pullrequestreview-413176605", "createdAt": "2020-05-17T16:10:32Z", "commit": {"oid": "ea2b170f56c59935439367cec08359fa2dcea484"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2375, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}