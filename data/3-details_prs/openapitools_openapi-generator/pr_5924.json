{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyOTYxMDQx", "number": 5924, "title": "[Python-experimental] Use DER encoding for ECDSA signatures, add parameter to configure hash algorithm", "bodyText": "ECDSA signatures can be encoded using raw binary or ASN.1 encoding. This PR uses the same ASN1 encoding as the go-experimental implementation.\nAdd hash algorithm parameter in the configuration.py for HTTP signatures.\nThe IETF is still actively working on the draft and I opened an issue with the IETF HTTP working group to clarify the encoding of ECDSA signatures.\n\nPR checklist\n\n Read the contribution guidelines.\n If contributing template-only or documentation-only changes which will change sample output, build the project before.\n Run the shell script(s) under ./bin/ (or Windows batch scripts under.\\bin\\windows) to update Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit, and these must match the expectations made by your contribution. You only need to run ./bin/{LANG}-petstore.sh, ./bin/openapi3/{LANG}-petstore.sh if updating the code or mustache templates for a language ({LANG}) (e.g. php, ruby, python, etc).\n File the PR against the correct branch: master, 4.3.x, 5.0.x. Default: master.\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.", "createdAt": "2020-04-14T04:23:25Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5924", "merged": true, "mergeCommit": {"oid": "827904f732bc3289227689172eb49ffe4ab9b7ce"}, "closed": true, "closedAt": "2020-04-15T17:43:33Z", "author": {"login": "sebastien-rosset"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXbsl4gH2gAyNDAyOTYxMDQxOjNiYTE0ZWM0MTBkYjM5OGMwYWNjODdjOWFjODFhMmNiZjY3MDVjNTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcX7wPjAFqTM5Mzk5NjI0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3ba14ec410db398c0acc87c9ac81a2cbf6705c57", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/3ba14ec410db398c0acc87c9ac81a2cbf6705c57", "committedDate": "2020-04-14T04:22:29Z", "message": "Use DER encoding for ECDSA signatures"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5df82b8f3227002c5b9612ece28fb507432b1b69", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/5df82b8f3227002c5b9612ece28fb507432b1b69", "committedDate": "2020-04-14T05:05:42Z", "message": "Use DER encoding for ECDSA signatures"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23e28102fa5c427aedff4264af9223a79998ea2b", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/23e28102fa5c427aedff4264af9223a79998ea2b", "committedDate": "2020-04-14T19:30:53Z", "message": "Use DER encoding for ECDSA signatures"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzMjU0MjMz", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5924#pullrequestreview-393254233", "createdAt": "2020-04-14T20:04:07Z", "commit": {"oid": "23e28102fa5c427aedff4264af9223a79998ea2b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQyMDowNDowN1rOGFe2dQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQyMDowNDowN1rOGFe2dQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQwMTUyNQ==", "bodyText": "The standard python practice is to use is None when comparing to None.\nCan you change this and the below lines to that pattern?\n\n141\n147\n\nIf a user passes in an instance of a custom class then using self.hash_algorithm == None could be True when we don't expect it to be per https://stackoverflow.com/questions/14247373/python-none-comparison-should-i-use-is-or", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5924#discussion_r408401525", "createdAt": "2020-04-14T20:04:07Z", "author": {"login": "spacether"}, "path": "modules/openapi-generator/src/main/resources/python/python-experimental/signing.mustache", "diffHunk": "@@ -118,6 +130,24 @@ class HttpSigningConfiguration(object):\n         self.private_key_path = private_key_path\n         self.private_key_passphrase = private_key_passphrase\n         self.signing_algorithm = signing_algorithm\n+        self.hash_algorithm = hash_algorithm\n+        if signing_scheme == SCHEME_RSA_SHA256:\n+            if self.hash_algorithm == None:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23e28102fa5c427aedff4264af9223a79998ea2b"}, "originalPosition": 45}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzMjU2Mjk5", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5924#pullrequestreview-393256299", "createdAt": "2020-04-14T20:07:10Z", "commit": {"oid": "23e28102fa5c427aedff4264af9223a79998ea2b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQyMDowNzoxMFrOGFe86g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQyMDowNzoxMFrOGFe86g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQwMzE3OA==", "bodyText": "Where is self.hash_algorithm used other than these exception raising checks?\nIf it is only used for exception raising, why assign it as the self.hash_algorithm instance variable?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5924#discussion_r408403178", "createdAt": "2020-04-14T20:07:10Z", "author": {"login": "spacether"}, "path": "samples/openapi3/client/petstore/python-experimental/petstore_api/signing.py", "diffHunk": "@@ -126,6 +138,24 @@ def __init__(self, key_id, signing_scheme, private_key_path,\n         self.private_key_path = private_key_path\n         self.private_key_passphrase = private_key_passphrase\n         self.signing_algorithm = signing_algorithm\n+        self.hash_algorithm = hash_algorithm", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23e28102fa5c427aedff4264af9223a79998ea2b"}, "originalPosition": 43}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "978df0172683bcb00880b654fed96af597498bb8", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/978df0172683bcb00880b654fed96af597498bb8", "committedDate": "2020-04-14T20:14:53Z", "message": "Use DER encoding for ECDSA signatures"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7c8ef48cf3a82a906e76215f5a2c6ba29c50034", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/c7c8ef48cf3a82a906e76215f5a2c6ba29c50034", "committedDate": "2020-04-14T22:57:11Z", "message": "fix python unit tests for http message signature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6cbc24aec17bf7ba66291a339211082f53c9624c", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/6cbc24aec17bf7ba66291a339211082f53c9624c", "committedDate": "2020-04-15T01:52:45Z", "message": "Fix error message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d22990f69b850971b1172cbba09a36e5d090a168", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/d22990f69b850971b1172cbba09a36e5d090a168", "committedDate": "2020-04-15T14:29:06Z", "message": "format python code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7bd6bab2866a850b32dcad5a7efd2f1c5917a59", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/a7bd6bab2866a850b32dcad5a7efd2f1c5917a59", "committedDate": "2020-04-15T15:19:17Z", "message": "format python code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzOTk2MjQ0", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5924#pullrequestreview-393996244", "createdAt": "2020-04-15T17:43:26Z", "commit": {"oid": "a7bd6bab2866a850b32dcad5a7efd2f1c5917a59"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2410, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}