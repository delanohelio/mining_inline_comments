{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwOTExODcx", "number": 6112, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTozNzo0MVrOD3xdWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTo0MTo0MVrOD3xi2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODA4NjAzOnYy", "diffSide": "RIGHT", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractCSharpCodegen.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTozNzo0MVrOGOOCTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTozNzo0MVrOGOOCTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU2MzIxNA==", "bodyText": "Only at this timing isEnum is set to the correct value", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6112#discussion_r417563214", "createdAt": "2020-04-29T19:37:41Z", "author": {"login": "shibayan"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractCSharpCodegen.java", "diffHunk": "@@ -603,6 +604,25 @@ protected void updateValueTypeProperty(Map<String, Object> models) {\n         }\n     }\n \n+    /**\n+     * Update property if it is a C# nullable type\n+     *\n+     * @param models list of all models\n+     */\n+    protected void updateNullableTypeProperty(Map<String, Object> models) {\n+        for (Map.Entry<String, Object> entry : models.entrySet()) {\n+            String openAPIName = entry.getKey();\n+            CodegenModel model = ModelUtils.getModelByName(openAPIName, models);\n+            if (model != null) {\n+                for (CodegenProperty var : model.vars) {\n+                    if (!var.isContainer && (nullableType.contains(var.dataType) || var.isEnum)) {\n+                        var.vendorExtensions.put(\"x-csharp-value-type\", true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03be724169e145280fe0f2bb08c7762ae8bfd13b"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODA5MjczOnYy", "diffSide": "RIGHT", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractCSharpCodegen.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTozOTozNVrOGOOGNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTozOTozNVrOGOOGNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU2NDIxNQ==", "bodyText": "Only an enum with type generation can be determined here.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6112#discussion_r417564215", "createdAt": "2020-04-29T19:39:35Z", "author": {"login": "shibayan"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractCSharpCodegen.java", "diffHunk": "@@ -692,6 +719,37 @@ protected void processOperation(CodegenOperation operation) {\n         // default noop\n     }\n \n+    private void updateCodegenParametersEnum(List<CodegenParameter> parameters, List<Object> allModels) {\n+        for (CodegenParameter parameter : parameters) {\n+            CodegenModel model = null;\n+            for (Object modelHashMap : allModels) {\n+                CodegenModel codegenModel = ((HashMap<String, CodegenModel>) modelHashMap).get(\"model\");\n+                if (codegenModel.getClassname().equals(parameter.dataType)) {\n+                    model = codegenModel;\n+                    break;\n+                }\n+            }\n+\n+            if (model != null) {\n+                // Effectively mark enum models as enums and non-nullable\n+                if (model.isEnum) {\n+                    parameter.isEnum = true;\n+                    parameter.allowableValues = model.allowableValues;\n+                    parameter.isPrimitiveType = true;\n+                    parameter.vendorExtensions.put(\"x-csharp-value-type\", true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03be724169e145280fe0f2bb08c7762ae8bfd13b"}, "originalPosition": 69}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODA5NDk1OnYy", "diffSide": "LEFT", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/CSharpNetCoreClientCodegen.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTo0MDoxNFrOGOOHpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTo0MDoxNFrOGOOHpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU2NDU4MA==", "bodyText": "isEnum is always false at this timing", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6112#discussion_r417564580", "createdAt": "2020-04-29T19:40:14Z", "author": {"login": "shibayan"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/CSharpNetCoreClientCodegen.java", "diffHunk": "@@ -423,10 +423,6 @@ public void postProcessModelProperty(CodegenModel model, CodegenProperty propert\n         postProcessEmitDefaultValue(property.vendorExtensions);\n \n         super.postProcessModelProperty(model, property);\n-\n-        if (!property.isContainer && (nullableType.contains(property.dataType) || property.isEnum)) {\n-            property.vendorExtensions.put(\"x-csharp-value-type\", true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03be724169e145280fe0f2bb08c7762ae8bfd13b"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODEwMDExOnYy", "diffSide": "RIGHT", "path": "modules/openapi-generator/src/main/resources/csharp-netcore/api.mustache", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTo0MTo0MVrOGOOKxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTo0MTo0MVrOGOOKxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU2NTM4Mw==", "bodyText": "It has been confirmed that required parameters have values at the beginning of the method regardless of whether they are nullable.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6112#discussion_r417565383", "createdAt": "2020-04-29T19:41:41Z", "author": {"login": "shibayan"}, "path": "modules/openapi-generator/src/main/resources/csharp-netcore/api.mustache", "diffHunk": "@@ -256,36 +256,48 @@ namespace {{packageName}}.{{apiPackage}}\n             if (localVarAccept != null) localVarRequestOptions.HeaderParameters.Add(\"Accept\", localVarAccept);\n \n             {{#pathParams}}\n-            {{^vendorExtensions.x-csharp-value-type}}\n+            {{#required}}\n+            localVarRequestOptions.PathParameters.Add(\"{{baseName}}\", {{packageName}}.Client.ClientUtils.ParameterToString({{paramName}})); // path parameter\n+            {{/required}}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03be724169e145280fe0f2bb08c7762ae8bfd13b"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3474, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}