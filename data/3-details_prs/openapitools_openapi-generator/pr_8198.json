{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQwNDQwODA0", "number": 8198, "title": "[dart][dart-dio] Prevent name clashes with existing dart types", "bodyText": "Can not use dart import aliases for now as this is not supported by built_value. This means we need to add potentially clashing names/classes to an additionalReservedWords exclusion list. Starting with a basic list of some http/io classes.\nCorrectly use importMapping and defaultIncludes this time around. Improve reserved word checking.\nThis now successfully generates ModelList, ModelFile and ModelClient models which previously were not generated at all or were wrong types.\nAlso add some more test cases for correct model name generation.\nThis is a huge step as this fixes some of the last remaining problems in the dart-dio generator mentioned here: #8179\n\n\nPR checklist\n\n Read the contribution guidelines.\n Pull Request title clearly describes the work in the pull request and Pull Request description provides details about how to validate the work. Missing information here may result in delayed response from the community.\n If contributing template-only or documentation-only changes which will change sample output, build the project beforehand.\n Run the shell script ./bin/generate-samples.shto update all Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit as it would merge with master. These must match the expectations made by your contribution. You may regenerate an individual generator by passing the relevant config(s) as an argument to the script, for example ./bin/generate-samples.sh bin/configs/java*. For Windows users, please run the script in Git BASH.\n File the PR against the correct branch: master\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.\n\nCC @swipesight (2018/09) @jaumard (2018/09) @josh-burton (2019/12) @amondnet (2019/12) @sbu-WBT (2020/12) @kuhnroyal (2020/12) @agilob (2020/12)", "createdAt": "2020-12-15T17:19:36Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8198", "merged": true, "mergeCommit": {"oid": "e1c43f135639b9f300350f788fec98bbc375c932"}, "closed": true, "closedAt": "2020-12-16T09:25:21Z", "author": {"login": "kuhnroyal"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmd7SrAH2gAyNTQwNDQwODA0OjkzZmI0OGEwMTFlOWMzNjVmYTk2ZWE4ZmRkZDkyZGU1MjA1NGU0MDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmjbfsAH2gAyNTQwNDQwODA0OmYyZWYxYzQ1YmU2ZWUwYjViZWQxZGY1OThmNjAxODczODcxY2NhZGE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "93fb48a011e9c365fa96ea8fddd92de52054e401", "author": {"user": {"login": "kuhnroyal", "name": "Peter Leibiger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/93fb48a011e9c365fa96ea8fddd92de52054e401", "committedDate": "2020-12-15T17:38:22Z", "message": "[dart][dart-dio] Prevent name clashes with existing dart types\n\nCan not use dart import aliases for now as this is not supported by built_value. This means we need to add potentially clashing names/classes to an `additionalReservedWords` exclusion list. Starting with a basic list of some http/io classes.\n\nCorrectly use `importMapping` and `defaultIncludes` this time around. Improve reserved word checking.\n\nThis now successfully generates `ModelList`, `ModelFile` and `ModelClient` models which previously were not generated at all or were wrong types."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a7b97a3eebcbcf442d8c728029e66fd6ac02b428", "author": {"user": {"login": "kuhnroyal", "name": "Peter Leibiger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/a7b97a3eebcbcf442d8c728029e66fd6ac02b428", "committedDate": "2020-12-15T17:18:13Z", "message": "[dart][dart-dio] Prevent name clashes with existing dart types\n\nCan not use dart import aliases for now as this is not supported by built_value. This means we need to add potentially clashing names/classes to an `additionalReservedWords` exclusion list. Starting with a basic list of some http/io classes.\n\nCorrectly use `importMapping` and `defaultIncludes` this time around. Improve reserved word checking.\n\nThis now successfully generates `ModelList`, `ModelFile` and `ModelClient` models which previously were not generated at all or were wrong types."}, "afterCommit": {"oid": "93fb48a011e9c365fa96ea8fddd92de52054e401", "author": {"user": {"login": "kuhnroyal", "name": "Peter Leibiger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/93fb48a011e9c365fa96ea8fddd92de52054e401", "committedDate": "2020-12-15T17:38:22Z", "message": "[dart][dart-dio] Prevent name clashes with existing dart types\n\nCan not use dart import aliases for now as this is not supported by built_value. This means we need to add potentially clashing names/classes to an `additionalReservedWords` exclusion list. Starting with a basic list of some http/io classes.\n\nCorrectly use `importMapping` and `defaultIncludes` this time around. Improve reserved word checking.\n\nThis now successfully generates `ModelList`, `ModelFile` and `ModelClient` models which previously were not generated at all or were wrong types."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyNzE2MzU4", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8198#pullrequestreview-552716358", "createdAt": "2020-12-15T17:49:51Z", "commit": {"oid": "93fb48a011e9c365fa96ea8fddd92de52054e401"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxNzo0OTo1MVrOIGYHYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxNzo0OTo1MVrOIGYHYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzU1NzQ3Mg==", "bodyText": "Can we initialize this once in constructor? No need for a HashSet constructor there when it's in DartClientCodegen() already", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8198#discussion_r543557472", "createdAt": "2020-12-15T17:49:51Z", "author": {"login": "agilob"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/DartClientCodegen.java", "diffHunk": "@@ -73,6 +73,10 @@\n     protected String apiTestPath = \"test\" + File.separator;\n     protected String modelTestPath = \"test\" + File.separator;\n \n+    // Names that must not be used as model names because they clash with existing\n+    // default imports (dart:io, dart:async, package:http etc.) but are not basic dataTypes.\n+    protected Set<String> additionalReservedWords = new HashSet<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93fb48a011e9c365fa96ea8fddd92de52054e401"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyNzU3NTY5", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8198#pullrequestreview-552757569", "createdAt": "2020-12-15T18:41:05Z", "commit": {"oid": "93fb48a011e9c365fa96ea8fddd92de52054e401"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbd9d8b181284fe886b3e3a265b0530d6ffd33bf", "author": {"user": {"login": "kuhnroyal", "name": "Peter Leibiger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/bbd9d8b181284fe886b3e3a265b0530d6ffd33bf", "committedDate": "2020-12-15T18:42:48Z", "message": "Address review comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyNzkzODcx", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8198#pullrequestreview-552793871", "createdAt": "2020-12-15T19:23:34Z", "commit": {"oid": "bbd9d8b181284fe886b3e3a265b0530d6ffd33bf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2ef1c45be6ee0b5bed1df598f601873871ccada", "author": {"user": {"login": "kuhnroyal", "name": "Peter Leibiger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/f2ef1c45be6ee0b5bed1df598f601873871ccada", "committedDate": "2020-12-16T00:03:04Z", "message": "Update generator docs"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1826, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}