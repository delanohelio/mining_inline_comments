{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4ODI3Mzgz", "number": 5162, "title": "[typescript] Introduce \"enumPropertyNaming\" option", "bodyText": "This works similar to the existing \"modelPropertyNaming\", but applies to enum var names instead of model properties.\nDefault value is \"PascalCase\", which reflects the way it works currently.\nPersonally, I only need this configurable in the typescript-angular generator now. However, since the enum var name transformation is implemented in the abstract typescript class, I thought it would be beneficial to keep consistency across multiple typescript generators. After all, this is quite a generic setting, not specific to a particular framework.\nPR checklist\n\n Read the contribution guidelines.\n Run the shell script(s) under ./bin/ (or Windows batch scripts under.\\bin\\windows) to update Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit, and these must match the expectations made by your contribution. You only need to run ./bin/{LANG}-petstore.sh, ./bin/openapi3/{LANG}-petstore.sh if updating the code or mustache templates for a language ({LANG}) (e.g. php, ruby, python, etc).\n File the PR against the correct branch: master, 4.3.x, 5.0.x. Default: master.\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.\n\n@TiFu @taxpon @sebastianhaas @kenisteward @Vrolijkx @macjohnny @nicokoenig @topce @akehir @petejohansonxo", "createdAt": "2020-01-30T00:07:44Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5162", "merged": true, "mergeCommit": {"oid": "f0d92bb0c1d2013fe7595d50166873face078e14"}, "closed": true, "closedAt": "2020-01-31T06:56:19Z", "author": {"login": "amakhrov"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_V7V_gFqTM1MDYzNjgzMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_pirygFqTM1MTMyMDE4MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwNjM2ODMy", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5162#pullrequestreview-350636832", "createdAt": "2020-01-30T08:04:58Z", "commit": {"oid": "78843d1c6104aa050f003061a98ec4e7562a3462"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwODowNDo1OVrOFjiLew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwODowNDo1OVrOFjiLew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgwNDQ3NQ==", "bodyText": "why is the javascript-flowtyped affected?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5162#discussion_r372804475", "createdAt": "2020-01-30T08:04:59Z", "author": {"login": "macjohnny"}, "path": "docs/generators/javascript-flowtyped.md", "diffHunk": "@@ -7,6 +7,7 @@ sidebar_label: javascript-flowtyped\n | ------ | ----------- | ------ | ------- |\n |allowUnicodeIdentifiers|boolean, toggles whether unicode identifiers are allowed in names or not, default is false| |false|\n |ensureUniqueParams|Whether to ensure parameter names are unique in an operation (rename parameters that are not).| |true|\n+|enumPropertyNaming|Naming convention for enum properties: 'camelCase', 'PascalCase', 'snake_case', 'UPPERCASE', and 'original'| |PascalCase|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78843d1c6104aa050f003061a98ec4e7562a3462"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwNjc3NDY3", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5162#pullrequestreview-350677467", "createdAt": "2020-01-30T09:23:09Z", "commit": {"oid": "26a9a1ba45debac2d55ff1cd131f1663c4c459c8"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwOToyMzowOVrOFjkJKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwOToyNDoxNlrOFjkLKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgzNjY1MA==", "bodyText": "maybe the available values in ENUM_PROPERTY_NAMING_TYPE could be listed automatically, so the comment will not be outdated", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5162#discussion_r372836650", "createdAt": "2020-01-30T09:23:09Z", "author": {"login": "macjohnny"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractTypeScriptClientCodegen.java", "diffHunk": "@@ -588,6 +592,37 @@ public String toEnumName(CodegenProperty property) {\n         }\n     }\n \n+    protected void setEnumPropertyNaming(String naming) {\n+        try {\n+            enumPropertyNaming = ENUM_PROPERTY_NAMING_TYPE.valueOf(naming);\n+        } catch (IllegalArgumentException e) {\n+            throw new IllegalArgumentException(\"Invalid enum property naming '\" +\n+                    naming + \"'. Must be 'original', 'camelCase', \" +\n+                    \"'PascalCase', 'snake_case', or 'UPPERCASE'\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26a9a1ba45debac2d55ff1cd131f1663c4c459c8"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgzNzE2Mw==", "bodyText": "maybe you would want to add a test for the non-original case, too?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5162#discussion_r372837163", "createdAt": "2020-01-30T09:24:16Z", "author": {"login": "macjohnny"}, "path": "modules/openapi-generator/src/test/java/org/openapitools/codegen/typescript/typescriptangular/TypeScriptAngularClientCodegenTest.java", "diffHunk": "@@ -16,6 +17,22 @@\n \n \n public class TypeScriptAngularClientCodegenTest {\n+    @Test\n+    public void toEnumVarName() {\n+        TypeScriptAngularClientCodegen codegen = new TypeScriptAngularClientCodegen();\n+        codegen.processOpts();\n+\n+        Assert.assertEquals(codegen.toEnumVarName(\"valid_id\", \"string\"), \"ValidId\");\n+        Assert.assertEquals(codegen.toEnumVarName(\"illegal-id+\", \"string\"), \"IllegalId\");\n+\n+        codegen = new TypeScriptAngularClientCodegen();\n+        codegen.additionalProperties().put(CodegenConstants.ENUM_PROPERTY_NAMING, CodegenConstants.ENUM_PROPERTY_NAMING_TYPE.original.name());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26a9a1ba45debac2d55ff1cd131f1663c4c459c8"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fa119e6260979b34b6997fefdee1e342f3812be", "author": {"user": {"login": "amakhrov", "name": "Alexey Makhrov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/7fa119e6260979b34b6997fefdee1e342f3812be", "committedDate": "2020-01-30T17:38:42Z", "message": "Add enumPropertyNaming option to typescript generators"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2720aa3ed86b35fe19e78426731b5bd51e1abcb2", "author": {"user": {"login": "amakhrov", "name": "Alexey Makhrov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/2720aa3ed86b35fe19e78426731b5bd51e1abcb2", "committedDate": "2020-01-30T17:38:47Z", "message": "Regenerate docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7720c4951f7574e46e3961dd1e4f0306c4dd942", "author": {"user": {"login": "amakhrov", "name": "Alexey Makhrov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/d7720c4951f7574e46e3961dd1e4f0306c4dd942", "committedDate": "2020-01-30T17:38:47Z", "message": "Add Locale.ROOT to toUpperCase() call"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89da970082591f301fbfc11cfc831c386372e9ce", "author": {"user": {"login": "amakhrov", "name": "Alexey Makhrov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/89da970082591f301fbfc11cfc831c386372e9ce", "committedDate": "2020-01-30T17:38:48Z", "message": "Use actual enum values in an error message, instead of hardcoding them"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92329c8e8e0f802e51b1d1d6611625b59ce86522", "author": {"user": {"login": "amakhrov", "name": "Alexey Makhrov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/92329c8e8e0f802e51b1d1d6611625b59ce86522", "committedDate": "2020-01-30T17:43:26Z", "message": "Add tests for \"UPPERCASE\" and \"snake_case\" enum var namings"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "26a9a1ba45debac2d55ff1cd131f1663c4c459c8", "author": {"user": {"login": "amakhrov", "name": "Alexey Makhrov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/26a9a1ba45debac2d55ff1cd131f1663c4c459c8", "committedDate": "2020-01-30T08:54:40Z", "message": "Revert: Fake commit to trigger travis"}, "afterCommit": {"oid": "92329c8e8e0f802e51b1d1d6611625b59ce86522", "author": {"user": {"login": "amakhrov", "name": "Alexey Makhrov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/92329c8e8e0f802e51b1d1d6611625b59ce86522", "committedDate": "2020-01-30T17:43:26Z", "message": "Add tests for \"UPPERCASE\" and \"snake_case\" enum var namings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4acf1b8221db3b962ccf19ec6bd9d1749afd38c2", "author": {"user": {"login": "amakhrov", "name": "Alexey Makhrov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/4acf1b8221db3b962ccf19ec6bd9d1749afd38c2", "committedDate": "2020-01-30T19:51:45Z", "message": "Add LOCALE.ROOT to String#format call"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMzIwMTgx", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5162#pullrequestreview-351320181", "createdAt": "2020-01-31T06:56:09Z", "commit": {"oid": "4acf1b8221db3b962ccf19ec6bd9d1749afd38c2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2898, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}