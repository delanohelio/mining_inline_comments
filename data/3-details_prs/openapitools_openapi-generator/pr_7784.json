{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3NTQ2MjUy", "number": 7784, "title": "[python] Add option to return None instead of raising exception when accessing unset attribute", "bodyText": "See #7781\nAdd option to return None instead of raising exception when accessing unset attribute.\nPR checklist\n\n Read the contribution guidelines.\n Pull Request title clearly describes the work in the pull request and Pull Request description provides details about how to validate the work. Missing information here may result in delayed response from the community.\n If contributing template-only or documentation-only changes which will change sample output, build the project beforehand.\n Run the shell script ./bin/generate-samples.shto update all Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit as it would merge with master. These must match the expectations made by your contribution. You may regenerate an individual generator by passing the relevant config(s) as an argument to the script, for example ./bin/generate-samples.sh bin/configs/java*. For Windows users, please run the script in Git BASH.\n File the PR against the correct branch: master\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.\n\ncc @spacether", "createdAt": "2020-10-21T13:28:43Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7784", "merged": true, "mergeCommit": {"oid": "b70edd7f1b600b7927913528405de98ebbebf5ce"}, "closed": true, "closedAt": "2020-10-25T16:13:23Z", "author": {"login": "keymone"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVLwP3AFqTUxNTIxMTgzOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWCIr6AFqTUxNjM3NDE2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1MjExODM4", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7784#pullrequestreview-515211838", "createdAt": "2020-10-23T00:51:18Z", "commit": {"oid": "1b25c9eaa54d99cb192bbbc7df196e64308214b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwMDo1MToxOFrOHm4uIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwMDo1MToxOFrOHm4uIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDUzNzI1MA==", "bodyText": "How about updating the docstring here?\nwe use this to set values for instance.field_name = val and instance[\"field_name\"] = val", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7784#discussion_r510537250", "createdAt": "2020-10-23T00:51:18Z", "author": {"login": "spacether"}, "path": "modules/openapi-generator/src/main/resources/python/python-experimental/model_templates/methods_setattr_getattr_composed.mustache", "diffHunk": "@@ -1,4 +1,4 @@\n-    def __setattr__(self, name, value):\n+    def __setitem__(self, name, value):\n         \"\"\"this allows us to set a value with instance.field_name = val\"\"\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b25c9eaa54d99cb192bbbc7df196e64308214b5"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1MjE0NTkz", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7784#pullrequestreview-515214593", "createdAt": "2020-10-23T01:01:48Z", "commit": {"oid": "1b25c9eaa54d99cb192bbbc7df196e64308214b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwMTowMTo0OFrOHm43dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwMTowMTo0OFrOHm43dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDUzOTYzOA==", "bodyText": "How about just using name here? We know that name was not found.\n\nthis same comment applies on line 70 too", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7784#discussion_r510539638", "createdAt": "2020-10-23T01:01:48Z", "author": {"login": "spacether"}, "path": "modules/openapi-generator/src/main/resources/python/python-experimental/model_templates/methods_setattr_getattr_composed.mustache", "diffHunk": "@@ -20,28 +20,22 @@\n                     )\n             return None\n \n-        path_to_item = []\n-        if self._path_to_item:\n-            path_to_item.extend(self._path_to_item)\n-        path_to_item.append(name)\n         raise ApiAttributeError(\n             \"{0} has no attribute '{1}'\".format(\n                 type(self).__name__, name),\n-            path_to_item\n+            [e for e in [self._path_to_item, name] if e]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b25c9eaa54d99cb192bbbc7df196e64308214b5"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1MjE0OTQ2", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7784#pullrequestreview-515214946", "createdAt": "2020-10-23T01:03:06Z", "commit": {"oid": "1b25c9eaa54d99cb192bbbc7df196e64308214b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwMTowMzowNlrOHm44hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwMTowMzowNlrOHm44hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDUzOTkxMQ==", "bodyText": "How about unset_attribute_value = object\nThen we always point to a singleton and don't need to instantiate additional empty objects", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7784#discussion_r510539911", "createdAt": "2020-10-23T01:03:06Z", "author": {"login": "spacether"}, "path": "modules/openapi-generator/src/main/resources/python/python-experimental/model_templates/methods_setattr_getattr_composed.mustache", "diffHunk": "@@ -20,28 +20,22 @@\n                     )\n             return None\n \n-        path_to_item = []\n-        if self._path_to_item:\n-            path_to_item.extend(self._path_to_item)\n-        path_to_item.append(name)\n         raise ApiAttributeError(\n             \"{0} has no attribute '{1}'\".format(\n                 type(self).__name__, name),\n-            path_to_item\n+            [e for e in [self._path_to_item, name] if e]\n         )\n \n-    def __getattr__(self, name):\n+    __unset_attribute_value__ = object()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b25c9eaa54d99cb192bbbc7df196e64308214b5"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f85a23be316ffa829fd04b862c597ce9c6cb632d", "author": {"user": {"login": "keymone", "name": "Maksym Melnychok"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/f85a23be316ffa829fd04b862c597ce9c6cb632d", "committedDate": "2020-10-23T17:13:29Z", "message": "add option to return None instead of raising exception when accessing unset attribute"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b20d7b834fa65db952175464ff485dc91c873e3", "author": {"user": {"login": "keymone", "name": "Maksym Melnychok"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/5b20d7b834fa65db952175464ff485dc91c873e3", "committedDate": "2020-10-23T17:13:29Z", "message": "update python samples"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62bd01c297b418ff15d095868ea5a38db30b145c", "author": {"user": {"login": "keymone", "name": "Maksym Melnychok"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/62bd01c297b418ff15d095868ea5a38db30b145c", "committedDate": "2020-10-23T17:13:29Z", "message": "reimplement getattr using getitem or get depending on attrNoneIfUnset"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "234c8f674c41b2ad4479eff8a31de67b002f81f2", "author": {"user": {"login": "keymone", "name": "Maksym Melnychok"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/234c8f674c41b2ad4479eff8a31de67b002f81f2", "committedDate": "2020-10-23T17:13:29Z", "message": "move getattr and setattr to respective templates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d69a5980996d4973985ba9c0c4369fa58c8bafa3", "author": {"user": {"login": "keymone", "name": "Maksym Melnychok"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/d69a5980996d4973985ba9c0c4369fa58c8bafa3", "committedDate": "2020-10-23T17:13:29Z", "message": "update docstrings, def get/setattr methods to have docstrings in them, use __dict__ to avoid recursion issues"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a626d27fdae6f8d7307cab545a0d013da05ada59", "author": {"user": {"login": "keymone", "name": "Maksym Melnychok"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/a626d27fdae6f8d7307cab545a0d013da05ada59", "committedDate": "2020-10-23T17:12:00Z", "message": "update docstrings, def get/setattr methods to have docstrings in them, use __dict__ to avoid recursion issues"}, "afterCommit": {"oid": "d69a5980996d4973985ba9c0c4369fa58c8bafa3", "author": {"user": {"login": "keymone", "name": "Maksym Melnychok"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/d69a5980996d4973985ba9c0c4369fa58c8bafa3", "committedDate": "2020-10-23T17:13:29Z", "message": "update docstrings, def get/setattr methods to have docstrings in them, use __dict__ to avoid recursion issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fdaa38820a98db1fc480347428835a34eaf9b0d6", "author": {"user": {"login": "keymone", "name": "Maksym Melnychok"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/fdaa38820a98db1fc480347428835a34eaf9b0d6", "committedDate": "2020-10-24T08:21:09Z", "message": "revert required_properties change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83a51e820be1a2b6596003d0258e93da83fa521f", "author": {"user": {"login": "keymone", "name": "Maksym Melnychok"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/83a51e820be1a2b6596003d0258e93da83fa521f", "committedDate": "2020-10-25T12:17:56Z", "message": "add manual tests for .get method"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2Mzc0MTY5", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7784#pullrequestreview-516374169", "createdAt": "2020-10-25T16:12:52Z", "commit": {"oid": "83a51e820be1a2b6596003d0258e93da83fa521f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3045, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}