{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1MTIxMzI4", "number": 5314, "title": "[typescript] Remove incomplete support of Date type", "bodyText": "Intro\nHistorically, TypeScript generators had typeMapping \"DateTime=Date\". However only select generators generate code that really does serialization/deserialization of dates at runtime.\nSome other generators support serialization of Date query parameters, but not deserialize models returned from api. Without proper model deserialization, the whole DateTime=Date mapping is simply incorrect (declared data type is Date, but real value at runtime coming from api is still string).\n\nGenerators that fully implement serialization: typescript-fetch, typescript-reduxquery, typescript-node.\nGenerators with partial support (query params only, but not models): typescript-angular, typescript-axios.\n\nLately this partial Date support seems to get quite a bit of traction:\n#4869, #5057, #5225, #5266, #5287\nThe approach implemented in this PR is\n\nKeep Date support as is for generators that fully support serialization/deserialization.\nSet typeMapping DateTime=string for all other typescript generators (actually, in AbstractTypescriptClient).\nRemove partial support for Dates from mustache templates (for generators with partial support, as listed above).\n\nPR checklist\n\n Read the contribution guidelines.\n Run the shell script(s) under ./bin/ (or Windows batch scripts under.\\bin\\windows) to update Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit, and these must match the expectations made by your contribution. You only need to run ./bin/{LANG}-petstore.sh, ./bin/openapi3/{LANG}-petstore.sh if updating the code or mustache templates for a language ({LANG}) (e.g. php, ruby, python, etc).\n File the PR against the correct branch: master, 4.3.x, 5.0.x. Default: master.\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.\n\n@TiFu (2017/07) @taxpon (2017/07) @sebastianhaas (2017/07) @kenisteward (2017/07) @Vrolijkx (2017/09) @macjohnny (2018/01) @nicokoenig (2018/09) @topce (2018/10) @akehir (2019/07) @petejohansonxo (2019/11) @amakhrov (2020/02)", "createdAt": "2020-02-13T22:33:30Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5314", "merged": true, "mergeCommit": {"oid": "acf85921e4e7de115139dd1d84adab5011cd4db5"}, "closed": true, "closedAt": "2020-02-17T06:52:51Z", "author": {"login": "amakhrov"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcEBkDkAH2gAyMzc1MTIxMzI4OmNhZGMzYTQyYmVjNDc0M2Q0ZDE3ODAxYzA0MDdhMGUwNGRiNDdhMGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcEV6QYgBqjMwNDAxMDI1MzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cadc3a42bec4743d4d17801c0407a0e04db47a0d", "author": {"user": {"login": "amakhrov", "name": "Alexey Makhrov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/cadc3a42bec4743d4d17801c0407a0e04db47a0d", "committedDate": "2020-02-13T21:11:04Z", "message": "Remove DateTime mapping from concrete TypeScript generators that do not have full support for Date deserialization"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4NzMwOTA5", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5314#pullrequestreview-358730909", "createdAt": "2020-02-14T06:16:47Z", "commit": {"oid": "aee4cd20deb43570c218675442c0e39defb14d46"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQwNjoxNjo0N1rOFpsjoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQwNjoxNjo0N1rOFpsjoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2NTk1Mw==", "bodyText": "@amakhrov how about we leave this code here for users that manually provide the current type mapping to Date as a fallback?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5314#discussion_r379265953", "createdAt": "2020-02-14T06:16:47Z", "author": {"login": "macjohnny"}, "path": "modules/openapi-generator/src/main/resources/typescript-angular/api.service.mustache", "diffHunk": "@@ -168,13 +168,6 @@ export class {{classname}} {\n         if (typeof value === \"object\") {\n             if (Array.isArray(value)) {\n                 (value as any[]).forEach( elem => httpParams = this.addToHttpParamsRecursive(httpParams, elem, key));\n-            } else if (value instanceof Date) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aee4cd20deb43570c218675442c0e39defb14d46"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4429d88d812b451e785c58d370c80cf44a531f1", "author": {"user": {"login": "amakhrov", "name": "Alexey Makhrov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/b4429d88d812b451e785c58d370c80cf44a531f1", "committedDate": "2020-02-14T20:38:38Z", "message": "Fix model unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65ce1e2415ebdc7c5b07ff9929df63066587c0f9", "author": {"user": {"login": "amakhrov", "name": "Alexey Makhrov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/65ce1e2415ebdc7c5b07ff9929df63066587c0f9", "committedDate": "2020-02-14T20:53:10Z", "message": "Regenerate samples"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aee4cd20deb43570c218675442c0e39defb14d46", "author": {"user": {"login": "amakhrov", "name": "Alexey Makhrov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/aee4cd20deb43570c218675442c0e39defb14d46", "committedDate": "2020-02-13T22:16:07Z", "message": "Regenerate samples"}, "afterCommit": {"oid": "65ce1e2415ebdc7c5b07ff9929df63066587c0f9", "author": {"user": {"login": "amakhrov", "name": "Alexey Makhrov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/65ce1e2415ebdc7c5b07ff9929df63066587c0f9", "committedDate": "2020-02-14T20:53:10Z", "message": "Regenerate samples"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2788, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}