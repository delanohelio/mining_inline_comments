{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3MDk0OTM0", "number": 5788, "title": "[Java] Generate valid code if no Authentication implementations present", "bodyText": "resurrects #2861\n\nAdd hasBasicAuthMethods & hasTokenAuthMethods methods, use to decide which authentication code to use in standard Java and Java+RestTemplate templates.\n\nPR checklist\n\n Read the contribution guidelines.\n If contributing template-only or documentation-only changes which will change sample output, build the project before.\n Run the shell script(s) under ./bin/ (or Windows batch scripts under.\\bin\\windows) to update Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit, and these must match the expectations made by your contribution. You only need to run ./bin/{LANG}-petstore.sh, ./bin/openapi3/{LANG}-petstore.sh if updating the code or mustache templates for a language ({LANG}) (e.g. php, ruby, python, etc).\n File the PR against the correct branch: master, 4.3.x, 5.0.x. Default: master.\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.\n\n@bbdouglas @sreeshas @jfiala @lukoyanov @cbornet @jeff9finger @karismann @Zomzog @lwlee2608 @bkabrda", "createdAt": "2020-04-01T16:14:39Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5788", "merged": true, "mergeCommit": {"oid": "950508fd4b4774b458ce3efd1e807f9be5702709"}, "closed": true, "closedAt": "2020-05-23T10:36:04Z", "author": {"login": "jonfreedman"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTaEGNgH2gAyMzk3MDk0OTM0OjgyNGZhMGEwMTk4MWEzZDVlYjk2NjZkNDBiYTA0ODVmNTZlMDY5OWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABckEaguAFqTQxNzI2ODc0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "824fa0a01981a3d5eb9666d40ba0485f56e0699d", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/824fa0a01981a3d5eb9666d40ba0485f56e0699d", "committedDate": "2020-04-01T16:12:39Z", "message": "generate valid code if no Authentication implementations present\n\nresurrects https://github.com/OpenAPITools/openapi-generator/pull/2861"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31c81cb01295823e5ebf2380bd20491b85915de4", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/31c81cb01295823e5ebf2380bd20491b85915de4", "committedDate": "2020-04-02T08:31:59Z", "message": "remove what I assume are human generated test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e6247e0fe237a52d6acdbf55303795abf1189b6", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/6e6247e0fe237a52d6acdbf55303795abf1189b6", "committedDate": "2020-04-02T14:55:11Z", "message": "need to iterate over authMethods in order to pull out name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1278ab788f8bdf3d6b6f4589911cc75c72a881a4", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/1278ab788f8bdf3d6b6f4589911cc75c72a881a4", "committedDate": "2020-04-02T19:48:31Z", "message": "fix another test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "190612b0e3bdf1cd27292a5322ab7959a9c2c76f", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/190612b0e3bdf1cd27292a5322ab7959a9c2c76f", "committedDate": "2020-04-09T15:57:05Z", "message": "Merge remote-tracking branch 'upstream/master' into hasBasicAuthMethods-hasTokenAuthMethods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf4a320200fff7b400dfefe94fc25cce6f267117", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/bf4a320200fff7b400dfefe94fc25cce6f267117", "committedDate": "2020-04-09T20:09:19Z", "message": "update more tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NTI1MDEx", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5788#pullrequestreview-397525011", "createdAt": "2020-04-21T17:33:57Z", "commit": {"oid": "bf4a320200fff7b400dfefe94fc25cce6f267117"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzozMzo1N1rOGJQHNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzozMzo1N1rOGJQHNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM1NDM1Nw==", "bodyText": "why does auths.get(\"api_key\") return null?\nI remember some endpoints in the petstore spec are defined to use \"api_key\" for authentication", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5788#discussion_r412354357", "createdAt": "2020-04-21T17:33:57Z", "author": {"login": "wing328"}, "path": "CI/samples.ci/client/petstore/java/test-manual/jersey1/ApiClientTest.java", "diffHunk": "@@ -102,14 +102,9 @@ public void testSelectHeaderContentType() {\n     public void testGetAuthentications() {\n         Map<String, Authentication> auths = apiClient.getAuthentications();\n \n-        Authentication auth = auths.get(\"api_key\");\n-        assertNotNull(auth);\n-        assertTrue(auth instanceof ApiKeyAuth);\n-        ApiKeyAuth apiKeyAuth = (ApiKeyAuth) auth;\n-        assertEquals(\"header\", apiKeyAuth.getLocation());\n-        assertEquals(\"api_key\", apiKeyAuth.getParamName());\n-\n-        auth = auths.get(\"petstore_auth\");\n+        assertNull(auths.get(\"api_key\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf4a320200fff7b400dfefe94fc25cce6f267117"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f40f596f4fd526bd2c5407dea026f704e2769e4c", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/f40f596f4fd526bd2c5407dea026f704e2769e4c", "committedDate": "2020-04-27T20:14:12Z", "message": "rename hasTokenAuthMethods to hasApiKeyAuthMethods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c68d7f3bd851b33fce8abd3a21731e7da0ee834", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/1c68d7f3bd851b33fce8abd3a21731e7da0ee834", "committedDate": "2020-05-22T14:28:33Z", "message": "Merge remote-tracking branch 'upstream/master' into hasBasicAuthMethods-hasTokenAuthMethods\n\n# Conflicts:\n#\tmodules/openapi-generator/src/main/java/org/openapitools/codegen/DefaultGenerator.java\n#\tmodules/openapi-generator/src/main/java/org/openapitools/codegen/languages/JavaClientCodegen.java\n#\tmodules/openapi-generator/src/main/java/org/openapitools/codegen/utils/ProcessUtils.java\n#\tmodules/openapi-generator/src/test/java/org/openapitools/codegen/java/JavaClientCodegenTest.java\n#\tsamples/client/petstore/java/jersey2/src/test/java/org/openapitools/client/ApiClientTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d32cfc0f655053830416c6701e60ae6a6f502216", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/d32cfc0f655053830416c6701e60ae6a6f502216", "committedDate": "2020-05-22T14:43:24Z", "message": "remove duplicate methods, fix hasHttpBearerMethods check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a53f0d31d7df0aebfe41cbb08b8cf17a89122d47", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/a53f0d31d7df0aebfe41cbb08b8cf17a89122d47", "committedDate": "2020-05-22T15:09:48Z", "message": "update templates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4fcbfad404e2f24f31b93bb64769920b0775a7d4", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/4fcbfad404e2f24f31b93bb64769920b0775a7d4", "committedDate": "2020-05-22T15:16:03Z", "message": "update windows java-petstore files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "901eb73806b95ed411a16a60cdf6a7e20d88982e", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/901eb73806b95ed411a16a60cdf6a7e20d88982e", "committedDate": "2020-05-22T15:19:44Z", "message": "update windows java-petstore files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1947138fa7c0a3a781cf69abfd4f337891a985d8", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/1947138fa7c0a3a781cf69abfd4f337891a985d8", "committedDate": "2020-05-22T15:29:15Z", "message": "re-generate"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e59deb21a7d589f18f74c8076d7093f4ed311ca0", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/e59deb21a7d589f18f74c8076d7093f4ed311ca0", "committedDate": "2020-05-22T15:43:20Z", "message": "re-generate"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "779058f1113880b7b537c3672052803340ebcaf3", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/779058f1113880b7b537c3672052803340ebcaf3", "committedDate": "2020-05-22T15:46:37Z", "message": "restore samples.ci tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "594335ed42f7505afa743414e3c46faef022c126", "author": {"user": {"login": "jonfreedman", "name": "Jon Freedman"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/594335ed42f7505afa743414e3c46faef022c126", "committedDate": "2020-05-22T15:47:45Z", "message": "restore samples.ci tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MjY4NzQ0", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5788#pullrequestreview-417268744", "createdAt": "2020-05-23T10:35:56Z", "commit": {"oid": "594335ed42f7505afa743414e3c46faef022c126"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2526, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}