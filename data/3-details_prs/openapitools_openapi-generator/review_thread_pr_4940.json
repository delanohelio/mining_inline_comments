{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwMDU1MjEx", "number": 4940, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QxNjo0NTozNFrODY4D3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QxNjo0NTozNFrODY4D3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3NDEwOTA5OnYy", "diffSide": "RIGHT", "path": "modules/openapi-generator/src/main/resources/go-experimental/api.mustache", "isResolved": false, "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QxNjo0NTozNFrOFe-6oA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwOTozMzoyMFrOFrg5VQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODAzMjQxNg==", "bodyText": "It would be good to document this vendor extension somewhere. Currently the vendor extensions are listed at https://github.com/OpenAPITools/openapi-generator/wiki/Vendor-Extensions, but it does not look like only owners can make a change (?), which imo explains why vendor extensions are not well documented.\nThis new 'x-lookup' vendor extension is buried in the template, so I think very few people would know this aliasing capability exists.\nRelevant issue:\n#4976", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4940#discussion_r368032416", "createdAt": "2020-01-17T16:45:34Z", "author": {"login": "sebastien-rosset"}, "path": "modules/openapi-generator/src/main/resources/go-experimental/api.mustache", "diffHunk": "@@ -242,7 +242,7 @@ func (r api{{operationId}}Request) Execute() ({{#returnType}}{{{.}}}, {{/returnT\n \tif r.ctx != nil {\n \t\t// API Key Authentication\n \t\tif auth, ok := r.ctx.Value(ContextAPIKeys).(map[string]APIKey); ok {\n-\t\t\tif auth, ok := auth[\"{{keyParamName}}\"]; ok {\n+\t\t\tif auth, ok := auth[\"{{#vendorExtensions.x-lookup}}{{.}}{{/vendorExtensions.x-lookup}}{{^vendorExtensions.x-lookup}}{{name}}{{/vendorExtensions.x-lookup}}\"]; ok {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d0184d2390b3f14d7dea759786477385eaa40fb"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODYzMDg2NA==", "bodyText": "@sebastien-rosset I agree we should document it. Personally I would move the wiki to /docs so it's editable by contributors.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4940#discussion_r368630864", "createdAt": "2020-01-20T16:18:44Z", "author": {"login": "jirikuncar"}, "path": "modules/openapi-generator/src/main/resources/go-experimental/api.mustache", "diffHunk": "@@ -242,7 +242,7 @@ func (r api{{operationId}}Request) Execute() ({{#returnType}}{{{.}}}, {{/returnT\n \tif r.ctx != nil {\n \t\t// API Key Authentication\n \t\tif auth, ok := r.ctx.Value(ContextAPIKeys).(map[string]APIKey); ok {\n-\t\t\tif auth, ok := auth[\"{{keyParamName}}\"]; ok {\n+\t\t\tif auth, ok := auth[\"{{#vendorExtensions.x-lookup}}{{.}}{{/vendorExtensions.x-lookup}}{{^vendorExtensions.x-lookup}}{{name}}{{/vendorExtensions.x-lookup}}\"]; ok {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODAzMjQxNg=="}, "originalCommit": {"oid": "5d0184d2390b3f14d7dea759786477385eaa40fb"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTk4MzY4MQ==", "bodyText": "I saw the switch from {{keyParamName}} to {{name}}. Is keyParamName casuing issue?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4940#discussion_r369983681", "createdAt": "2020-01-23T08:30:13Z", "author": {"login": "wing328"}, "path": "modules/openapi-generator/src/main/resources/go-experimental/api.mustache", "diffHunk": "@@ -242,7 +242,7 @@ func (r api{{operationId}}Request) Execute() ({{#returnType}}{{{.}}}, {{/returnT\n \tif r.ctx != nil {\n \t\t// API Key Authentication\n \t\tif auth, ok := r.ctx.Value(ContextAPIKeys).(map[string]APIKey); ok {\n-\t\t\tif auth, ok := auth[\"{{keyParamName}}\"]; ok {\n+\t\t\tif auth, ok := auth[\"{{#vendorExtensions.x-lookup}}{{.}}{{/vendorExtensions.x-lookup}}{{^vendorExtensions.x-lookup}}{{name}}{{/vendorExtensions.x-lookup}}\"]; ok {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODAzMjQxNg=="}, "originalCommit": {"oid": "5d0184d2390b3f14d7dea759786477385eaa40fb"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTk4NDg5Mg==", "bodyText": "Another minor feedback is that when I saw {{#vendorExtensions.x-lookup}}, I really have no idea what lookup means in this case.\nWhat about {{#vendorExtensions.x-auth-id-alias}} instead?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4940#discussion_r369984892", "createdAt": "2020-01-23T08:33:05Z", "author": {"login": "wing328"}, "path": "modules/openapi-generator/src/main/resources/go-experimental/api.mustache", "diffHunk": "@@ -242,7 +242,7 @@ func (r api{{operationId}}Request) Execute() ({{#returnType}}{{{.}}}, {{/returnT\n \tif r.ctx != nil {\n \t\t// API Key Authentication\n \t\tif auth, ok := r.ctx.Value(ContextAPIKeys).(map[string]APIKey); ok {\n-\t\t\tif auth, ok := auth[\"{{keyParamName}}\"]; ok {\n+\t\t\tif auth, ok := auth[\"{{#vendorExtensions.x-lookup}}{{.}}{{/vendorExtensions.x-lookup}}{{^vendorExtensions.x-lookup}}{{name}}{{/vendorExtensions.x-lookup}}\"]; ok {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODAzMjQxNg=="}, "originalCommit": {"oid": "5d0184d2390b3f14d7dea759786477385eaa40fb"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDE1NTQ4OA==", "bodyText": "@wing328 other languages are using {{keyParamName}} and - yes - {{name}} can cause problem if query param and header have the same name.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4940#discussion_r370155488", "createdAt": "2020-01-23T14:39:50Z", "author": {"login": "jirikuncar"}, "path": "modules/openapi-generator/src/main/resources/go-experimental/api.mustache", "diffHunk": "@@ -242,7 +242,7 @@ func (r api{{operationId}}Request) Execute() ({{#returnType}}{{{.}}}, {{/returnT\n \tif r.ctx != nil {\n \t\t// API Key Authentication\n \t\tif auth, ok := r.ctx.Value(ContextAPIKeys).(map[string]APIKey); ok {\n-\t\t\tif auth, ok := auth[\"{{keyParamName}}\"]; ok {\n+\t\t\tif auth, ok := auth[\"{{#vendorExtensions.x-lookup}}{{.}}{{/vendorExtensions.x-lookup}}{{^vendorExtensions.x-lookup}}{{name}}{{/vendorExtensions.x-lookup}}\"]; ok {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODAzMjQxNg=="}, "originalCommit": {"oid": "5d0184d2390b3f14d7dea759786477385eaa40fb"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDE1ODEzNw==", "bodyText": "I don't have any strong opinion about the name. At first I thought about it as key aliasing, but during the implementation I have changed my mind can call it x-lookup since it's more about from where the value is looked up.\nI have to also update #4966 after we take a decision here.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4940#discussion_r370158137", "createdAt": "2020-01-23T14:44:12Z", "author": {"login": "jirikuncar"}, "path": "modules/openapi-generator/src/main/resources/go-experimental/api.mustache", "diffHunk": "@@ -242,7 +242,7 @@ func (r api{{operationId}}Request) Execute() ({{#returnType}}{{{.}}}, {{/returnT\n \tif r.ctx != nil {\n \t\t// API Key Authentication\n \t\tif auth, ok := r.ctx.Value(ContextAPIKeys).(map[string]APIKey); ok {\n-\t\t\tif auth, ok := auth[\"{{keyParamName}}\"]; ok {\n+\t\t\tif auth, ok := auth[\"{{#vendorExtensions.x-lookup}}{{.}}{{/vendorExtensions.x-lookup}}{{^vendorExtensions.x-lookup}}{{name}}{{/vendorExtensions.x-lookup}}\"]; ok {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODAzMjQxNg=="}, "originalCommit": {"oid": "5d0184d2390b3f14d7dea759786477385eaa40fb"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTA1MjIyMg==", "bodyText": "I like William's suggestion of x-auth-id-alias.\nAlso, it sounds like {{name}} should be changed back to {{keyParamName}}? Maybe it's usage in {{^vendorExtensions.x-lookup}}{{name}}{{/vendorExtensions.x-lookup}} was unintentional?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4940#discussion_r381052222", "createdAt": "2020-02-19T02:54:28Z", "author": {"login": "jimschubert"}, "path": "modules/openapi-generator/src/main/resources/go-experimental/api.mustache", "diffHunk": "@@ -242,7 +242,7 @@ func (r api{{operationId}}Request) Execute() ({{#returnType}}{{{.}}}, {{/returnT\n \tif r.ctx != nil {\n \t\t// API Key Authentication\n \t\tif auth, ok := r.ctx.Value(ContextAPIKeys).(map[string]APIKey); ok {\n-\t\t\tif auth, ok := auth[\"{{keyParamName}}\"]; ok {\n+\t\t\tif auth, ok := auth[\"{{#vendorExtensions.x-lookup}}{{.}}{{/vendorExtensions.x-lookup}}{{^vendorExtensions.x-lookup}}{{name}}{{/vendorExtensions.x-lookup}}\"]; ok {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODAzMjQxNg=="}, "originalCommit": {"oid": "5d0184d2390b3f14d7dea759786477385eaa40fb"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTE3MjA1Mw==", "bodyText": "I have changed the x-lookup to x-auth-id-alias.\nusing keyParamName is wrong since there can be a collision when using API key in header and query argument under same name: curl -H 'my-key: header-key' https://example.com/endpoint vs. curl https://example.com/endpoint?my-key=query-key", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4940#discussion_r381172053", "createdAt": "2020-02-19T09:33:20Z", "author": {"login": "jirikuncar"}, "path": "modules/openapi-generator/src/main/resources/go-experimental/api.mustache", "diffHunk": "@@ -242,7 +242,7 @@ func (r api{{operationId}}Request) Execute() ({{#returnType}}{{{.}}}, {{/returnT\n \tif r.ctx != nil {\n \t\t// API Key Authentication\n \t\tif auth, ok := r.ctx.Value(ContextAPIKeys).(map[string]APIKey); ok {\n-\t\t\tif auth, ok := auth[\"{{keyParamName}}\"]; ok {\n+\t\t\tif auth, ok := auth[\"{{#vendorExtensions.x-lookup}}{{.}}{{/vendorExtensions.x-lookup}}{{^vendorExtensions.x-lookup}}{{name}}{{/vendorExtensions.x-lookup}}\"]; ok {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODAzMjQxNg=="}, "originalCommit": {"oid": "5d0184d2390b3f14d7dea759786477385eaa40fb"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3997, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}