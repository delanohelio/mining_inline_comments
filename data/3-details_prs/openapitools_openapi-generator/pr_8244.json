{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzMDgwNzA2", "number": 8244, "title": "[dart] fix some compilation issues and added casts for analyzer implicit-casts flag", "bodyText": "Details\nI've made some fixes for the dart templates, @kuhnroyal and I had some discussion on #8179.\nMy changes were necessary to be able to compile my personal project and also the fake petstore generated clients.\nNot all changes were made to fix compile errors: I've mistakenly enabled the implicit-casts:false on the generated client and then fixed the resulting analyzer errors..\n\nif fixing casts 'issues' and supporting that flag is not desired I can revert my cast changes.\nif fixing casts 'issues' and supporting that flag is desired we could enable the strong mode like @kuhnroyal did in #8231\n\nFrom the changelist listed in #8179 I've fixed:\n\n De-serialization of maps of maps e.g. Map<String, Map<String, String>>\n\n(I've only fixed the compilation error, not sure if it will work properly on runtime)\nMaybe I've fixed other issues.. but I'm not sure, would be glad if someone test it and confirm exactly what is still broken\nPR checklist\n\n Read the contribution guidelines.\n Pull Request title clearly describes the work in the pull request and Pull Request description provides details about how to validate the work. Missing information here may result in delayed response from the community.\n If contributing template-only or documentation-only changes which will change sample output, build the project beforehand.\n Run the shell script ./bin/generate-samples.shto update all Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit as it would merge with master. These must match the expectations made by your contribution. You may regenerate an individual generator by passing the relevant config(s) as an argument to the script, for example ./bin/generate-samples.sh bin/configs/java*. For Windows users, please run the script in Git BASH.\n File the PR against the correct branch: master\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.\n\n@kuhnroyal could you comment on the casts you said that were uneeded?\n@swipesight @jaumard @josh-burton @amondnet @sbu-WBT @kuhnroyal @agilob", "createdAt": "2020-12-20T15:02:25Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244", "merged": true, "mergeCommit": {"oid": "44c1fee3e2a223ce0ba4423675a82b3fabb89b1c"}, "closed": true, "closedAt": "2021-06-24T02:24:29Z", "author": {"login": "Grohden"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdoCQ6EgH2gAyNTQzMDgwNzA2OjhjOTNmNWUzZThhNjU3NmIwNGUxY2VmOGVkMGMzNGUzMzM3MDczZjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABeOyIxpAH2gAyNTQzMDgwNzA2OjliNjNmMjJmZDMzZDU5YzQwYTUxZDk0Y2E1NmNjZGU5NjczZmU0Yzg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8c93f5e3e8a6576b04e1cef8ed0c34e3337073f2", "author": {"user": {"login": "Grohden", "name": "Gabriel Rohden"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/8c93f5e3e8a6576b04e1cef8ed0c34e3337073f2", "committedDate": "2020-12-20T14:32:29Z", "message": "fix: missing dart casts and analyzer issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00", "author": {"user": {"login": "Grohden", "name": "Gabriel Rohden"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/0dfcd2f6794ed92db67b68a5fa0328fd4162bc00", "committedDate": "2020-12-20T14:43:29Z", "message": "chore: regenerate dart template files"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDMxMTQ5", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#pullrequestreview-556031149", "createdAt": "2020-12-20T16:15:17Z", "commit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoxNToxN1rOIJFcRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoxNToxN1rOIJFcRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5NzI1Mw==", "bodyText": "do we need == true?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546397253", "createdAt": "2020-12-20T16:15:17Z", "author": {"login": "agilob"}, "path": "modules/openapi-generator/src/main/resources/dart2/class.mustache", "diffHunk": "@@ -190,22 +188,22 @@ class {{{classname}}} {\n   static List<{{{classname}}}> listFromJson(List<dynamic> json, {bool emptyIsNull, bool growable,}) =>\n     json == null || json.isEmpty\n       ? true == emptyIsNull ? null : <{{{classname}}}>[]\n-      : json.map((v) => {{{classname}}}.fromJson(v)).toList(growable: true == growable);\n+      : (json as List<Map<String, dynamic>>).map({{{classname}}}.fromJson).toList(growable: true == growable);\n \n   static Map<String, {{{classname}}}> mapFromJson(Map<String, dynamic> json) {\n     final map = <String, {{{classname}}}>{};\n-    if (json != null && json.isNotEmpty) {\n-      json.forEach((String key, dynamic v) => map[key] = {{{classname}}}.fromJson(v));\n+    if (json?.isNotEmpty == true) {\n+      json.forEach((key, value) => map[key] = {{{classname}}}.fromJson(value as Map<String, dynamic>));\n     }\n     return map;\n   }\n \n   // maps a json object with a list of {{{classname}}}-objects as value to a dart map\n   static Map<String, List<{{{classname}}}>> mapListFromJson(Map<String, dynamic> json, {bool emptyIsNull, bool growable,}) {\n     final map = <String, List<{{{classname}}}>>{};\n-    if (json != null && json.isNotEmpty) {\n-      json.forEach((String key, dynamic v) {\n-        map[key] = {{{classname}}}.listFromJson(v, emptyIsNull: emptyIsNull, growable: growable);\n+    if (json?.isNotEmpty == true) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "originalPosition": 101}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDMxMjU1", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#pullrequestreview-556031255", "createdAt": "2020-12-20T16:16:45Z", "commit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoxNjo0NVrOIJFdCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoxNjo0NVrOIJFdCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5NzQ1MA==", "bodyText": "can you assess if this has any performance hit? Can casting things inside a loop be slower than casting upfront in loop definition?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546397450", "createdAt": "2020-12-20T16:16:45Z", "author": {"login": "agilob"}, "path": "modules/openapi-generator/src/main/resources/dart2/class.mustache", "diffHunk": "@@ -190,22 +188,22 @@ class {{{classname}}} {\n   static List<{{{classname}}}> listFromJson(List<dynamic> json, {bool emptyIsNull, bool growable,}) =>\n     json == null || json.isEmpty\n       ? true == emptyIsNull ? null : <{{{classname}}}>[]\n-      : json.map((v) => {{{classname}}}.fromJson(v)).toList(growable: true == growable);\n+      : (json as List<Map<String, dynamic>>).map({{{classname}}}.fromJson).toList(growable: true == growable);\n \n   static Map<String, {{{classname}}}> mapFromJson(Map<String, dynamic> json) {\n     final map = <String, {{{classname}}}>{};\n-    if (json != null && json.isNotEmpty) {\n-      json.forEach((String key, dynamic v) => map[key] = {{{classname}}}.fromJson(v));\n+    if (json?.isNotEmpty == true) {\n+      json.forEach((key, value) => map[key] = {{{classname}}}.fromJson(value as Map<String, dynamic>));\n     }\n     return map;\n   }\n \n   // maps a json object with a list of {{{classname}}}-objects as value to a dart map\n   static Map<String, List<{{{classname}}}>> mapListFromJson(Map<String, dynamic> json, {bool emptyIsNull, bool growable,}) {\n     final map = <String, List<{{{classname}}}>>{};\n-    if (json != null && json.isNotEmpty) {\n-      json.forEach((String key, dynamic v) {\n-        map[key] = {{{classname}}}.listFromJson(v, emptyIsNull: emptyIsNull, growable: growable);\n+    if (json?.isNotEmpty == true) {\n+      json.forEach((key, value) {\n+        map[key] = {{{classname}}}.listFromJson(value as List<dynamic>, emptyIsNull: emptyIsNull, growable: growable,);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "originalPosition": 103}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDMxNTIw", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#pullrequestreview-556031520", "createdAt": "2020-12-20T16:19:52Z", "commit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoxOTo1MlrOIJFesg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoxOTo1MlrOIJFesg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5Nzg3NA==", "bodyText": "we already know it's a map of things, what does knowing it is <dynamic, dynamic> bring?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546397874", "createdAt": "2020-12-20T16:19:52Z", "author": {"login": "agilob"}, "path": "modules/openapi-generator/src/main/resources/dart2/api.mustache", "diffHunk": "@@ -192,7 +192,7 @@ class {{{classname}}} {\n       {{/isArray}}\n       {{^isArray}}\n         {{#isMap}}\n-      return {{{returnType}}}.from(apiClient.deserialize(_decodeBodyBytes(response), '{{{returnType}}}'));\n+      return {{{returnType}}}.from(apiClient.deserialize(_decodeBodyBytes(response), '{{{returnType}}}') as Map<dynamic, dynamic>);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDMxNjM3", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#pullrequestreview-556031637", "createdAt": "2020-12-20T16:21:17Z", "commit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoyMToxN1rOIJFfPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjoyMToxN1rOIJFfPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5ODAxMw==", "bodyText": "same here, we know that the method accepts List<dynamic> json as first param, so why the cast here?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546398013", "createdAt": "2020-12-20T16:21:17Z", "author": {"login": "agilob"}, "path": "modules/openapi-generator/src/main/resources/dart2/class.mustache", "diffHunk": "@@ -109,15 +109,15 @@ class {{{classname}}} {\n           ? null\n           : (json[r'{{{baseName}}}'] as List).map(\n       {{#items.complexType}}\n-              {{items.complexType}}.listFromJson(json[r'{{{baseName}}}'])\n+              {{items.complexType}}.listFromJson(json[r'{{{baseName}}}'] as List<dynamic>)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDMzMzY5", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#pullrequestreview-556033369", "createdAt": "2020-12-20T16:44:39Z", "commit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDMzOTg5", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#pullrequestreview-556033989", "createdAt": "2020-12-20T16:52:39Z", "commit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjo1Mjo0MFrOIJFt0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxNjo1Mjo0MFrOIJFt0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMTc0NQ==", "bodyText": "User of this API should be able to pass Set as well, eg. let dart remove duplicated elements and not relay on order of elements in Iterable.\nquery params and json aren't order dependent, so abstract collection fits better here.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546401745", "createdAt": "2020-12-20T16:52:40Z", "author": {"login": "agilob"}, "path": "modules/openapi-generator/src/main/resources/dart2/api_client.mustache", "diffHunk": "@@ -70,7 +70,7 @@ class ApiClient {\n   Future<Response> invokeAPI(\n     String path,\n     String method,\n-    Iterable<QueryParam> queryParams,\n+    List<QueryParam> queryParams,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDQzMDgz", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#pullrequestreview-556043083", "createdAt": "2020-12-20T19:09:50Z", "commit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxOTowOTo1MFrOIJGnQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxOTowOTo1MFrOIJGnQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQxNjQ1MA==", "bodyText": "Are we sure that this can only be a primitive type here?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546416450", "createdAt": "2020-12-20T19:09:50Z", "author": {"login": "kuhnroyal"}, "path": "modules/openapi-generator/src/main/resources/dart2/class.mustache", "diffHunk": "@@ -133,17 +133,15 @@ class {{{classname}}} {\n   \t          {{/items.complexType}}\n           {{/items.isArray}}\n           {{^items.isArray}}\n-        {{{name}}}: json[r'{{{baseName}}}'] == null\n-          ? null\n-          : {{{complexType}}}.mapFromJson(json[r'{{{baseName}}}']),\n+        {{{name}}}: json[r'{{{baseName}}}'] as {{{datatype}}},", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "originalPosition": 51}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2Mzg1NTU2", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#pullrequestreview-556385556", "createdAt": "2020-12-21T13:40:20Z", "commit": {"oid": "8208aec7fa4bbe8cc1a6e47bfa80bc0e1fbb66be"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b", "author": {"user": {"login": "Grohden", "name": "Gabriel Rohden"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b", "committedDate": "2020-12-21T14:21:02Z", "message": "refactor: remove unneeded implicit-casts:false and regenerate sources"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8208aec7fa4bbe8cc1a6e47bfa80bc0e1fbb66be", "author": {"user": {"login": "Grohden", "name": "Gabriel Rohden"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/8208aec7fa4bbe8cc1a6e47bfa80bc0e1fbb66be", "committedDate": "2020-12-21T13:02:09Z", "message": "refactor: remove unneeded implicit-casts:false and regenerate sources"}, "afterCommit": {"oid": "a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b", "author": {"user": {"login": "Grohden", "name": "Gabriel Rohden"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b", "committedDate": "2020-12-21T14:21:02Z", "message": "refactor: remove unneeded implicit-casts:false and regenerate sources"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2NDU2NjU4", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#pullrequestreview-556456658", "createdAt": "2020-12-21T15:21:12Z", "commit": {"oid": "a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxNToyMToxM1rOIJb5hA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxNTozNTowNlrOIJcXfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc2NTE4OA==", "bodyText": "Missing space", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546765188", "createdAt": "2020-12-21T15:21:13Z", "author": {"login": "kuhnroyal"}, "path": "modules/openapi-generator/src/main/resources/dart2/api_client.mustache", "diffHunk": "@@ -209,12 +209,12 @@ class ApiClient {\n     List<QueryParam> queryParams,\n     Map<String, String> headerParams,\n   ) {\n-    authNames.forEach((authName) {\n+    for(final authName in authNames) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc2NjY3MQ==", "bodyText": "Remove the newline", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546766671", "createdAt": "2020-12-21T15:23:52Z", "author": {"login": "kuhnroyal"}, "path": "modules/openapi-generator/src/main/resources/dart2/enum.mustache", "diffHunk": "@@ -78,4 +78,4 @@ class {{{classname}}}TypeTransformer {\n \n   /// Singleton [{{{classname}}}TypeTransformer] instance.\n   static {{{classname}}}TypeTransformer _instance;\n-}\n\\ No newline at end of file\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc2NjcyOQ==", "bodyText": "Remove the newline", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546766729", "createdAt": "2020-12-21T15:23:59Z", "author": {"login": "kuhnroyal"}, "path": "modules/openapi-generator/src/main/resources/dart2/enum_inline.mustache", "diffHunk": "@@ -78,4 +78,4 @@ class {{{classname}}}{{{enumName}}}TypeTransformer {\n \n   /// Singleton [{{{classname}}}{{{enumName}}}TypeTransformer] instance.\n   static {{{classname}}}{{{enumName}}}TypeTransformer _instance;\n-}\n\\ No newline at end of file\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc3MTQ1MQ==", "bodyText": "I understand this change but in any case we don't care about wether it is empty. foreach doesn't run if it is empty.\nMaybe something like this but thats just my preference, up  to you.\nreturn json?.map((key, dynamic value) => MapEntry(key, {{{classname}}}.listFromJson(value, emptyIsNull: emptyIsNull, growable: growable,),) ?? <String, {{{classname}}}>{};", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546771451", "createdAt": "2020-12-21T15:32:31Z", "author": {"login": "kuhnroyal"}, "path": "modules/openapi-generator/src/main/resources/dart2/class.mustache", "diffHunk": "@@ -190,22 +188,22 @@ class {{{classname}}} {\n   static List<{{{classname}}}> listFromJson(List<dynamic> json, {bool emptyIsNull, bool growable,}) =>\n     json == null || json.isEmpty\n       ? true == emptyIsNull ? null : <{{{classname}}}>[]\n-      : json.map((v) => {{{classname}}}.fromJson(v)).toList(growable: true == growable);\n+      : (json as List<Map<String, dynamic>>).map({{{classname}}}.fromJson).toList(growable: true == growable);\n \n   static Map<String, {{{classname}}}> mapFromJson(Map<String, dynamic> json) {\n     final map = <String, {{{classname}}}>{};\n-    if (json != null && json.isNotEmpty) {\n-      json.forEach((String key, dynamic v) => map[key] = {{{classname}}}.fromJson(v));\n+    if (json?.isNotEmpty == true) {\n+      json.forEach((key, value) => map[key] = {{{classname}}}.fromJson(value as Map<String, dynamic>));\n     }\n     return map;\n   }\n \n   // maps a json object with a list of {{{classname}}}-objects as value to a dart map\n   static Map<String, List<{{{classname}}}>> mapListFromJson(Map<String, dynamic> json, {bool emptyIsNull, bool growable,}) {\n     final map = <String, List<{{{classname}}}>>{};\n-    if (json != null && json.isNotEmpty) {\n-      json.forEach((String key, dynamic v) {\n-        map[key] = {{{classname}}}.listFromJson(v, emptyIsNull: emptyIsNull, growable: growable);\n+    if (json?.isNotEmpty == true) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5NzI1Mw=="}, "originalCommit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "originalPosition": 101}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc3Mjg2Mg==", "bodyText": "Is this external API? If so, this is a breaking change, 5.0.0 was just released. But it also fixes a bug so I am not sure what the process is here. @agilob You gonna fix this before the next release? :)", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546772862", "createdAt": "2020-12-21T15:35:06Z", "author": {"login": "kuhnroyal"}, "path": "modules/openapi-generator/src/main/resources/dart2/api_client.mustache", "diffHunk": "@@ -70,7 +70,7 @@ class ApiClient {\n   Future<Response> invokeAPI(\n     String path,\n     String method,\n-    Iterable<QueryParam> queryParams,\n+    List<QueryParam> queryParams,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMTc0NQ=="}, "originalCommit": {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2NTAwMTIz", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#pullrequestreview-556500123", "createdAt": "2020-12-21T16:21:30Z", "commit": {"oid": "a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2NTA3MTk4", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#pullrequestreview-556507198", "createdAt": "2020-12-21T16:31:47Z", "commit": {"oid": "a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37ceb20dc61fe57eefa5036a121855e328d15274", "author": {"user": {"login": "Grohden", "name": "Gabriel Rohden"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/37ceb20dc61fe57eefa5036a121855e328d15274", "committedDate": "2021-03-01T18:08:08Z", "message": "Merge branch 'master' into fix/dart-templates\n\n# Conflicts:\n#\tmodules/openapi-generator/src/main/resources/dart2/enum.mustache\n#\tmodules/openapi-generator/src/main/resources/dart2/enum_inline.mustache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "516430a2cf8324171ab582e2bdcd35dedcee624c", "author": {"user": {"login": "Grohden", "name": "Gabriel Rohden"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/516430a2cf8324171ab582e2bdcd35dedcee624c", "committedDate": "2021-03-01T18:18:35Z", "message": "chore: regenerate templates after merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53f652523f0d783d907509dc6df4e7009a8fc945", "author": {"user": {"login": "Grohden", "name": "Gabriel Rohden"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/53f652523f0d783d907509dc6df4e7009a8fc945", "committedDate": "2021-04-19T22:06:29Z", "message": "Merge branch 'master' into fix/dart-templates\n\n# Conflicts:\n#\tmodules/openapi-generator/src/main/resources/dart2/api_client.mustache\n#\tmodules/openapi-generator/src/main/resources/dart2/serialization/native/native_enum.mustache\n#\tmodules/openapi-generator/src/main/resources/dart2/serialization/native/native_enum_inline.mustache\n#\tsamples/client/petstore/dart2/petstore_client_lib/.openapi-generator/FILES\n#\tsamples/client/petstore/dart2/petstore_client_lib/lib/api_client.dart\n#\tsamples/client/petstore/dart2/petstore_client_lib/lib/model/api_response.dart\n#\tsamples/client/petstore/dart2/petstore_client_lib/lib/model/category.dart\n#\tsamples/client/petstore/dart2/petstore_client_lib/lib/model/order.dart\n#\tsamples/client/petstore/dart2/petstore_client_lib/lib/model/pet.dart\n#\tsamples/client/petstore/dart2/petstore_client_lib/lib/model/tag.dart\n#\tsamples/client/petstore/dart2/petstore_client_lib/lib/model/user.dart\n#\tsamples/openapi3/client/petstore/dart-dio-next/petstore_client_lib_fake/analysis_options.yaml\n#\tsamples/openapi3/client/petstore/dart2/petstore_client_lib/lib/api_client.dart\n#\tsamples/openapi3/client/petstore/dart2/petstore_client_lib_fake/lib/api_client.dart\n#\tsamples/openapi3/client/petstore/dart2/petstore_json_serializable_client_lib_fake/lib/model/enum_arrays.dart\n#\tsamples/openapi3/client/petstore/dart2/petstore_json_serializable_client_lib_fake/lib/model/enum_test.dart"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b63f22fd33d59c40a51d94ca56ccde9673fe4c8", "author": {"user": {"login": "Grohden", "name": "Gabriel Rohden"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/9b63f22fd33d59c40a51d94ca56ccde9673fe4c8", "committedDate": "2021-04-19T23:48:10Z", "message": "chore: regenerate dart pet store codes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1861, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}