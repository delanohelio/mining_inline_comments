{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1NDc5ODA2", "number": 8149, "title": "[dart][dart-dio] Enum improvements", "bodyText": "use raw strings for enum value where possible\nspecial handling for dart-dio as raw string don't work as expected with the built_value generator\nuse the correct datatype in dart enum templates\n\n\nPR checklist\n\n Read the contribution guidelines.\n Pull Request title clearly describes the work in the pull request and Pull Request description provides details about how to validate the work. Missing information here may result in delayed response from the community.\n If contributing template-only or documentation-only changes which will change sample output, build the project beforehand.\n Run the shell script ./bin/generate-samples.shto update all Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit as it would merge with master. These must match the expectations made by your contribution. You may regenerate an individual generator by passing the relevant config(s) as an argument to the script, for example ./bin/generate-samples.sh bin/configs/java*. For Windows users, please run the script in Git BASH.\n File the PR against the correct branch: master\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.\n\nCC @ircecho (2017/07) @swipesight (2018/09) @jaumard (2018/09) @josh-burton (2019/12) @amondnet (2019/12)\nFYI @agilob\n@noordawod I reverted some of your changes to the enum templates. As far as I can tell isEnum is always true in enum templates.", "createdAt": "2020-12-09T21:36:36Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8149", "merged": true, "mergeCommit": {"oid": "cd0257b0e50291046d9faedde31a60eff926d2c0"}, "closed": true, "closedAt": "2020-12-13T15:59:30Z", "author": {"login": "kuhnroyal"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdk0VcuAH2gAyNTM1NDc5ODA2OjQ5ZTc1OGI2M2UzZDkzYzc0YTFhZDlhNjk1Y2Q1MzIyZmRiZGJkMzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdk6fJ_AFqTU0OTYyOTMyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "49e758b63e3d93c74a1ad9a695cd5322fdbdbd37", "author": {"user": {"login": "kuhnroyal", "name": "Peter Leibiger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/49e758b63e3d93c74a1ad9a695cd5322fdbdbd37", "committedDate": "2020-12-10T14:37:00Z", "message": "[dart] Always use the correct enum data type\n\n* use raw strings for enum string values"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e2588cdd47a0b74db7b2eb9ad0ce1e53bfb7cc6", "author": {"user": {"login": "kuhnroyal", "name": "Peter Leibiger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/0e2588cdd47a0b74db7b2eb9ad0ce1e53bfb7cc6", "committedDate": "2020-12-10T14:39:59Z", "message": "[dart-dio] Use raw strings for built_value enums\n\n`@BuiltValueEnumConst` does some wierd string handling in the generated code `r'\\$'` becomes `'$'`. This is different compared to the wireName in `@BuiltValueField`"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8b9528c84a744d7919ce9b1f91f4c606dc4f7dd2", "author": {"user": {"login": "kuhnroyal", "name": "Peter Leibiger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/8b9528c84a744d7919ce9b1f91f4c606dc4f7dd2", "committedDate": "2020-12-09T21:30:24Z", "message": "[dart-dio] Use raw strings for built_value enums\n\n`@BuiltValueEnumConst` does some wierd string handling in the generated code `r'\\$'` becomes `'$'`. This is different compared to the wireName in `@BuiltValueField`"}, "afterCommit": {"oid": "0e2588cdd47a0b74db7b2eb9ad0ce1e53bfb7cc6", "author": {"user": {"login": "kuhnroyal", "name": "Peter Leibiger"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/0e2588cdd47a0b74db7b2eb9ad0ce1e53bfb7cc6", "committedDate": "2020-12-10T14:39:59Z", "message": "[dart-dio] Use raw strings for built_value enums\n\n`@BuiltValueEnumConst` does some wierd string handling in the generated code `r'\\$'` becomes `'$'`. This is different compared to the wireName in `@BuiltValueField`"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5NjE2MzI2", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8149#pullrequestreview-549616326", "createdAt": "2020-12-10T21:27:38Z", "commit": {"oid": "0e2588cdd47a0b74db7b2eb9ad0ce1e53bfb7cc6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMToyNzozOFrOIDeDsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMTozNDoyNFrOIDeTbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDUwOTEwNw==", "bodyText": "Found a mismatch between dart-dio and dart. a few files below you will find:\nstatic const dollar = EnumArraysJustSymbolEnum._(r'$');\n\nYou can see the $ isn't escaped with \\ but it is here, both are raw strings. I suspect this is breaking compatibility between them?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8149#discussion_r540509107", "createdAt": "2020-12-10T21:27:38Z", "author": {"login": "agilob"}, "path": "samples/openapi3/client/petstore/dart-dio/petstore_client_lib_fake/lib/model/inline_object2.dart", "diffHunk": "@@ -27,10 +27,10 @@ abstract class InlineObject2 implements Built<InlineObject2, InlineObject2Builde\n class InlineObject2EnumFormStringArray extends EnumClass {\n \n   /// Form parameter enum test (string array)\n-  @BuiltValueEnumConst(wireName: '>')\n+  @BuiltValueEnumConst(wireName: r'>')\n   static const InlineObject2EnumFormStringArray greaterThan = _$inlineObject2EnumFormStringArray_greaterThan;\n   /// Form parameter enum test (string array)\n-  @BuiltValueEnumConst(wireName: '$')\n+  @BuiltValueEnumConst(wireName: r'\\$')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e2588cdd47a0b74db7b2eb9ad0ce1e53bfb7cc6"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDUxMzEzNQ==", "bodyText": "other.value == value\nthis is comparing references not contents of lists, so it's not what I would expect from == on enum. What are your expectations?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8149#discussion_r540513135", "createdAt": "2020-12-10T21:34:24Z", "author": {"login": "agilob"}, "path": "samples/openapi3/client/petstore/dart2/petstore_client_lib_fake/lib/model/inline_object2.dart", "diffHunk": "@@ -86,23 +86,22 @@ class InlineObject2EnumFormStringArrayEnum {\n   const InlineObject2EnumFormStringArrayEnum._(this.value);\n \n   /// The underlying value of this enum member.\n-  final String value;\n+  final List<String> value;\n \n   @override\n   bool operator ==(Object other) => identical(this, other) ||\n-      other is InlineObject2EnumFormStringArrayEnum && other.value == value ||\n-      other is String && other == value;\n+      other is InlineObject2EnumFormStringArrayEnum && other.value == value;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e2588cdd47a0b74db7b2eb9ad0ce1e53bfb7cc6"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5NjI5MzIz", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8149#pullrequestreview-549629323", "createdAt": "2020-12-10T21:47:02Z", "commit": {"oid": "0e2588cdd47a0b74db7b2eb9ad0ce1e53bfb7cc6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1797, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}