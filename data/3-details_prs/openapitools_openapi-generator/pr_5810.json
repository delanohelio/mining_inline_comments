{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3ODYxMjA2", "number": 5810, "title": "[Python-experimental] Fix TypeError: unhashable type: 'list'", "bodyText": "During unmarshaling, handle scenario when value is a list. The generated code was trying to insert the value into a set, and because a list is not hashable, a TypeError exception was raised.\n\n\nPR checklist\n\n Read the contribution guidelines.\n If contributing template-only or documentation-only changes which will change sample output, build the project before.\n Run the shell script(s) under ./bin/ (or Windows batch scripts under.\\bin\\windows) to update Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit, and these must match the expectations made by your contribution. You only need to run ./bin/{LANG}-petstore.sh, ./bin/openapi3/{LANG}-petstore.sh if updating the code or mustache templates for a language ({LANG}) (e.g. php, ruby, python, etc).\n File the PR against the correct branch: master, 4.3.x, 5.0.x. Default: master.\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.", "createdAt": "2020-04-02T23:40:14Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5810", "merged": true, "mergeCommit": {"oid": "91cfabdad28b2a78ffe4d2f47e07daf9015c8d21"}, "closed": true, "closedAt": "2020-04-16T00:02:57Z", "author": {"login": "sebastien-rosset"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcT1ChbAH2gAyMzk3ODYxMjA2OjEzYTkxNWQ4ZjAzMDBhYzljMGM1MmU3YmVmNjI3NjI1ZmJiMzNiZmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYBLlCgFqTM5NDIxNDA0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "13a915d8f0300ac9c0c52e7bef627625fbb33bff", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/13a915d8f0300ac9c0c52e7bef627625fbb33bff", "committedDate": "2020-04-02T23:38:22Z", "message": "handle scenario when value is a list, fix TypeError: unhashable type: 'list'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "645162c289c5d4655c198e2dc2e63c5f11f4de2a", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/645162c289c5d4655c198e2dc2e63c5f11f4de2a", "committedDate": "2020-04-03T04:29:47Z", "message": "Add __hash__ function"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNTI4NDE3", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5810#pullrequestreview-391528417", "createdAt": "2020-04-10T16:17:58Z", "commit": {"oid": "645162c289c5d4655c198e2dc2e63c5f11f4de2a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNjoxNzo1OFrOGD-8jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNjoxNzo1OFrOGD-8jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgzMDIyMw==", "bodyText": "How about using our hash method in out __eq__ method?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5810#discussion_r406830223", "createdAt": "2020-04-10T16:17:58Z", "author": {"login": "spacether"}, "path": "samples/openapi3/client/petstore/python-experimental/petstore_api/model_utils.py", "diffHunk": "@@ -204,6 +208,10 @@ def to_str(self):\n         \"\"\"Returns the string representation of the model\"\"\"\n         return pprint.pformat(self.to_dict())\n \n+    def __hash__(self):\n+        \"\"\"Returns the hash value of this object.\"\"\"\n+        return hash(frozenset(self._data_store.items()))\n+\n     def __eq__(self, other):\n         \"\"\"Returns true if both objects are equal\"\"\"\n         if not isinstance(other, self.__class__):", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "645162c289c5d4655c198e2dc2e63c5f11f4de2a"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNTMyMTYx", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5810#pullrequestreview-391532161", "createdAt": "2020-04-10T16:25:28Z", "commit": {"oid": "645162c289c5d4655c198e2dc2e63c5f11f4de2a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNjoyNToyOFrOGD_JAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNjoyNToyOFrOGD_JAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgzMzQxMQ==", "bodyText": "Can you change this to hash(frozenset(self._data_store.items())) so it is the same as the one in modules/openapi-generator/src/main/resources/python/python-experimental/model_templates/methods_todict_tostr_eq_shared.mustache ? That will reduce the chance of hash collisions when we have different ModelSimple, ModelNormal, and ModelComposed instances in a set.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5810#discussion_r406833411", "createdAt": "2020-04-10T16:25:28Z", "author": {"login": "spacether"}, "path": "modules/openapi-generator/src/main/resources/python/python-experimental/model_templates/methods_tostr_eq_simple.mustache", "diffHunk": "@@ -2,6 +2,10 @@\n         \"\"\"Returns the string representation of the model\"\"\"\n         return str(self.value)\n \n+    def __hash__(self):\n+        \"\"\"Returns the hash value of this object.\"\"\"\n+        return hash(self._data_store['value'])", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "645162c289c5d4655c198e2dc2e63c5f11f4de2a"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNTM4NDc1", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5810#pullrequestreview-391538475", "createdAt": "2020-04-10T16:38:18Z", "commit": {"oid": "645162c289c5d4655c198e2dc2e63c5f11f4de2a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de4432412a8be75d3fe205d2c5280f06acc3fe01", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/de4432412a8be75d3fe205d2c5280f06acc3fe01", "committedDate": "2020-04-15T00:51:55Z", "message": "use list instead of set"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d7bc499efd4e43be6ee02dab6aab5e8c700622e", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/5d7bc499efd4e43be6ee02dab6aab5e8c700622e", "committedDate": "2020-04-15T00:59:09Z", "message": "use list instead of set"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bad077997f95f4feb8587d9f442dab25bfffe458", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/bad077997f95f4feb8587d9f442dab25bfffe458", "committedDate": "2020-04-15T01:01:38Z", "message": "use list instead of set"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f670047e26bbd136d9be0604f3274aa95bb1492", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/1f670047e26bbd136d9be0604f3274aa95bb1492", "committedDate": "2020-04-15T01:02:03Z", "message": "use list instead of set"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0d53a416d38d9f57485cb7f093fa8f91a35eca7", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/a0d53a416d38d9f57485cb7f093fa8f91a35eca7", "committedDate": "2020-04-15T01:02:58Z", "message": "use list instead of set"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f4d9741f895d5f6a888f3446a2c3a9a9d91dcf1", "author": {"user": {"login": "sebastien-rosset", "name": "Sebastien Rosset"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/9f4d9741f895d5f6a888f3446a2c3a9a9d91dcf1", "committedDate": "2020-04-15T01:13:52Z", "message": "use list instead of set"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0MjE0MDQw", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5810#pullrequestreview-394214040", "createdAt": "2020-04-16T00:02:49Z", "commit": {"oid": "9f4d9741f895d5f6a888f3446a2c3a9a9d91dcf1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2549, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}