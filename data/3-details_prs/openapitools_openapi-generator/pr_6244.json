{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1NzE1Mjk5", "number": 6244, "title": "[Rust Server] Hyper 0.13 + Async/Await support", "bodyText": "Updated dependencies:\n\nhyper 0.13 (from 0.12)\nhyper-openssl 0.8 (from 0.7)\nfutures 0.3 (from 0.1)\nswagger-rs 5 (from 4)\nuuid 0.8 (from 0.7)\nserde_ignored 0.1 (from 0.0.4)\nurl 2.1 (new)\nserde_urlencoded 0.6 (from 0.5)\npercent-encoding 2 (from 1)\nregex 1 (from 0.2)\nfrunk-enum-derive 0.2 (from 0.1 internal)\nfrunk-enum-core 0.2 (from 0.1 internal)\n\n\nUpdated dev dependencies\n\nerror_chain removed\ntokio 0.2 (from 0.1)\nnative-tls 0.2 (from 0.1)\ntokio-tls 0.3 (from 0.1)\ntokio-openssl 0.4 (from 0.3)\n\n\nAPI changes\n\nAddition of poll_ready to expose API busy-ness - this is optional.\nTrait is now tagged with async_trait, and all methods are async.\n\n\nDeprecation removals\n\nNo longer export swagger::ApiError, or futures::Future\n\n\nClient changes:\n\nNow parameterised by enclosing Service, rather than by the future it produces\n\u26a0\ufe0f Service must be Clone and Send and Sync.\n\n\nServer Changes:\n\n\u26a0\ufe0f Context is now required to be Clone and Send and Sync.\nMakeService and Service are now a tower::Services.\n\n\nMiddleware changes\n\nMakeAddContext/AddContext now impl tower::Service\n\n\nServer and Client are implemented using async/await.\n\nNote, for Server, this is done by mirroring how async_trait works\nSadly tower::Service doesn't use async_trait, so this doesn't just fall out.\nFor client, both URL construction and Multipart construction is forced into a block to workaround limitations in Rust's escape analysis for futures.\n\n\n\nThis resolves #3865\nRust Server Technical Committee\n\n@frol\n@farcaller\n@bjgill\n@paladinzh\n\nPR checklist\n\n Read the contribution guidelines.\n If contributing template-only or documentation-only changes which will change sample output, build the project before.\n Run the shell script(s) under ./bin/ (or Windows batch scripts under.\\bin\\windows) to update Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit, and these must match the expectations made by your contribution. You only need to run ./bin/{LANG}-petstore.sh, ./bin/openapi3/{LANG}-petstore.sh if updating the code or mustache templates for a language ({LANG}) (e.g. php, ruby, python, etc).\n File the PR against the correct branch: master, 4.3.x, 5.0.x. Default: master.\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.", "createdAt": "2020-05-10T12:43:30Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6244", "merged": true, "mergeCommit": {"oid": "82410ae90b94ea2e8b8aa574c274b9569dc55c31"}, "closed": true, "closedAt": "2020-05-29T14:18:31Z", "author": {"login": "richardwhiuk"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcf6TAHgH2gAyNDE1NzE1Mjk5Ojc1OGYwNGZlMmY3YzdiYTliNTU1N2NjMzYxNjJmYjY5OWFkY2ZjODA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABciL2vJgH2gAyNDE1NzE1Mjk5OmUwN2VkY2YyNzM3MjE3MmVjYTA0ZjVkNzViNGZkMTA4M2NmNmMyYTI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "758f04fe2f7c7ba9b5557cc36162fb699adcfc80", "author": {"user": {"login": "richardwhiuk", "name": "Richard Whitehouse"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/758f04fe2f7c7ba9b5557cc36162fb699adcfc80", "committedDate": "2020-05-10T12:32:59Z", "message": "[Rust Server] Hyper 0.13 + Async/Await support\n\nUpgrade dependencies to Hyper 0.13 and use async/await."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81e6d6fa2e9ccaf84b35efd2365918449552d03c", "author": {"user": {"login": "richardwhiuk", "name": "Richard Whitehouse"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/81e6d6fa2e9ccaf84b35efd2365918449552d03c", "committedDate": "2020-05-10T12:33:38Z", "message": "Update samples"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NzQxOTc5", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6244#pullrequestreview-408741979", "createdAt": "2020-05-10T12:46:54Z", "commit": {"oid": "81e6d6fa2e9ccaf84b35efd2365918449552d03c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMFQxMjo0Njo1NFrOGTD9hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMFQxMjo0Njo1NFrOGTD9hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjY0MTAzMQ==", "bodyText": "This is an alpha release, mainly because the Hyper 0.13 code here is so new. I'll cut a 5.0 release of swagger prior to 5.0 of OpenAPI Generator being released, and update this to match.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6244#discussion_r422641031", "createdAt": "2020-05-10T12:46:54Z", "author": {"login": "richardwhiuk"}, "path": "modules/openapi-generator/src/main/resources/rust-server/Cargo.mustache", "diffHunk": "@@ -51,18 +51,19 @@ conversion = [\"frunk\", \"frunk_derives\", \"frunk_core\", \"frunk-enum-core\", \"frunk-\n native-tls = { version = \"0.2\", optional = true }\n \n [target.'cfg(not(any(target_os = \"macos\", target_os = \"windows\", target_os = \"ios\")))'.dependencies]\n-hyper-openssl = { version = \"0.7.1\", optional = true }\n+hyper-openssl = { version = \"0.8\", optional = true }\n openssl = {version = \"0.10\", optional = true }\n \n [dependencies]\n # Common\n+async-trait = \"0.1.24\"\n chrono = { version = \"0.4\", features = [\"serde\"] }\n-futures = \"0.1\"\n-swagger = \"4.0\"\n+futures = \"0.3\"\n+swagger = \"5.0.0-alpha-1\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81e6d6fa2e9ccaf84b35efd2365918449552d03c"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fb11f630d8e12513cdd8500fc24a475f54227a4", "author": {"user": {"login": "richardwhiuk", "name": "Richard Whitehouse"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/0fb11f630d8e12513cdd8500fc24a475f54227a4", "committedDate": "2020-05-17T14:00:07Z", "message": "[Rust Server] Add missing hyper-tls dependency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8f06a9182fae98ebef506bd5bc0b24f1917c698", "author": {"user": {"login": "richardwhiuk", "name": "Richard Whitehouse"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/e8f06a9182fae98ebef506bd5bc0b24f1917c698", "committedDate": "2020-05-17T14:00:22Z", "message": "[Rust Server] Add missing models import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e07edcf27372172eca04f5d75b4fd1083cf6c2a2", "author": {"user": {"login": "richardwhiuk", "name": "Richard Whitehouse"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/e07edcf27372172eca04f5d75b4fd1083cf6c2a2", "committedDate": "2020-05-17T14:08:15Z", "message": "Update samples"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2391, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}