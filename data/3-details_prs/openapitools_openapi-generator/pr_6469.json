{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0NDcxNjA5", "number": 6469, "title": "[feature][python] Support aliasing of API keys", "bodyText": "Adds support for API key aliasing as it's done in Go and Java:\n\n#4940\n#4966\n\n\nPR checklist\n\n Read the contribution guidelines.\n If contributing template-only or documentation-only changes which will change sample output, build the project before.\n Run the shell script(s) under ./bin/ (or Windows batch scripts under.\\bin\\windows) to update Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit, and these must match the expectations made by your contribution. You only need to run ./bin/{LANG}-petstore.sh, ./bin/openapi3/{LANG}-petstore.sh if updating the code or mustache templates for a language ({LANG}) (e.g. php, ruby, python, etc).\n File the PR against the correct branch: master, 4.3.x, 5.0.x. Default: master.\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.\n\n@taxpon (2017/07) @frol (2017/07) @mbohlool (2017/07) @cbornet (2017/09) @kenjones-cisco (2017/11) @tomplus (2018/10) @Jyhess (2019/01) @arun-nalla (2019/11) @spacether (2019/11)", "createdAt": "2020-05-28T13:02:45Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469", "merged": true, "mergeCommit": {"oid": "046ba7de8e855a2900eb1db38359b161fbc7964b"}, "closed": true, "closedAt": "2020-06-11T16:19:58Z", "author": {"login": "jirikuncar"}, "timelineItems": {"totalCount": 33, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcltcQIAH2gAyNDI0NDcxNjA5OjJiODBiOGE3ODM0YmM5OGI4NTcwODU3NzVhM2Q0ODVjOTg2N2ZkM2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqQuHOgFqTQyOTA3Nzk4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2b80b8a7834bc98b857085775a3d485c9867fd3a", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/2b80b8a7834bc98b857085775a3d485c9867fd3a", "committedDate": "2020-05-28T12:57:52Z", "message": "[python] Support aliasing of API keys"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMzgxNzQ5", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#pullrequestreview-421381749", "createdAt": "2020-05-30T06:04:47Z", "commit": {"oid": "2b80b8a7834bc98b857085775a3d485c9867fd3a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQwNjowNDo0OFrOGcw5mQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQwNjowNDo0OFrOGcw5mQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgxNDQ4OQ==", "bodyText": "Why aren't we using {{keyParamName}} if there is no vendor extension set?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#discussion_r432814489", "createdAt": "2020-05-30T06:04:48Z", "author": {"login": "spacether"}, "path": "modules/openapi-generator/src/main/resources/python/configuration.mustache", "diffHunk": "@@ -466,7 +466,7 @@ conf = {{{packageName}}}.Configuration(\n             auth['{{name}}'] = {\n                 'type': 'api_key',\n                 'in': {{#isKeyInCookie}}'cookie'{{/isKeyInCookie}}{{#isKeyInHeader}}'header'{{/isKeyInHeader}}{{#isKeyInQuery}}'query'{{/isKeyInQuery}},\n-                'key': '{{keyParamName}}',\n+                'key': '{{#vendorExtensions.x-auth-id-alias}}{{.}}{{/vendorExtensions.x-auth-id-alias}}{{^vendorExtensions.x-auth-id-alias}}{{name}}{{/vendorExtensions.x-auth-id-alias}}',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b80b8a7834bc98b857085775a3d485c9867fd3a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b4250c57576c1a127d37fff8748dbe7aef67c79", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/1b4250c57576c1a127d37fff8748dbe7aef67c79", "committedDate": "2020-06-02T09:38:48Z", "message": "Merge remote-tracking branch 'upstream/master' into jirikuncar/python-experimental/key-aliasing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93a722300f91bdc36a1675d5528f7e545341388b", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/93a722300f91bdc36a1675d5528f7e545341388b", "committedDate": "2020-06-02T11:24:36Z", "message": "Support for aliasing and prefix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ae3dc6afb2091463fde7ca67f4009024c063ce4", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/7ae3dc6afb2091463fde7ca67f4009024c063ce4", "committedDate": "2020-06-02T11:28:07Z", "message": "Make more realistic usage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b8f65f1ca54ef9bc343c586fcfc6485bf368c63", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/5b8f65f1ca54ef9bc343c586fcfc6485bf368c63", "committedDate": "2020-06-02T13:38:36Z", "message": "Regenerate"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMTc5ODYw", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#pullrequestreview-423179860", "createdAt": "2020-06-03T02:37:24Z", "commit": {"oid": "5b8f65f1ca54ef9bc343c586fcfc6485bf368c63"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwMjozNzoyNFrOGeKGog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwMjozNzoyNFrOGeKGog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDI3NjAwMg==", "bodyText": "Is this missing a -?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#discussion_r434276002", "createdAt": "2020-06-03T02:37:24Z", "author": {"login": "spacether"}, "path": "modules/openapi-generator/src/test/resources/3_0/python-experimental/petstore-with-fake-endpoints-models-for-testing-with-http-signature.yaml", "diffHunk": "@@ -572,6 +572,9 @@ paths:\n       summary: To test \"client\" model\n       description: To test \"client\" model\n       operationId: testClientModel\n+      security:\n+        - api_key_query: []\n+          api_key: []", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b8f65f1ca54ef9bc343c586fcfc6485bf368c63"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMTg0MDY1", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#pullrequestreview-423184065", "createdAt": "2020-06-03T02:52:02Z", "commit": {"oid": "5b8f65f1ca54ef9bc343c586fcfc6485bf368c63"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwMjo1MjowM1rOGeKUCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwMjo1MjowM1rOGeKUCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDI3OTQzMg==", "bodyText": "How about changing alias to identifier_alias to help convey that this is related to the identifier?\n\n\nCan you add this new parameter to the docstring of this function?\n\n\nFor the key assignment how about something which is a little easier to understand, like this snippet?\n\n\nkey = self.api_key.get(identifier)\nif key is None and identifier_alias is not None:\n  key = self.api_key.get(identifier_alias)", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#discussion_r434279432", "createdAt": "2020-06-03T02:52:03Z", "author": {"login": "spacether"}, "path": "samples/openapi3/client/petstore/python-experimental/petstore_api/configuration.py", "diffHunk": "@@ -396,15 +396,15 @@ def logger_format(self, value):\n         self.__logger_format = value\n         self.logger_formatter = logging.Formatter(self.__logger_format)\n \n-    def get_api_key_with_prefix(self, identifier):\n+    def get_api_key_with_prefix(self, identifier, alias=None):", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b8f65f1ca54ef9bc343c586fcfc6485bf368c63"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMTg1MjE1", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#pullrequestreview-423185215", "createdAt": "2020-06-03T02:56:16Z", "commit": {"oid": "5b8f65f1ca54ef9bc343c586fcfc6485bf368c63"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwMjo1NjoxNlrOGeKX5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwMjo1NjoxNlrOGeKX5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDI4MDQyMw==", "bodyText": "Thank you for adding this example, I understand how this will be used now", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#discussion_r434280423", "createdAt": "2020-06-03T02:56:16Z", "author": {"login": "spacether"}, "path": "samples/openapi3/client/petstore/python-experimental/tests/test_api_validation.py", "diffHunk": "@@ -43,6 +44,31 @@ def test_configuration(self):\n         config.disabled_client_side_validations = \"\"\n \n \n+    def test_x_auth_id_alias(self):\n+        configuration = petstore_api.Configuration(\n+            host='http://localhost/',\n+            api_key={\n+                'api_key': 'SECRET_VALUE'\n+            },\n+            api_key_prefix={\n+                'api_key': 'PREFIX'\n+            }\n+        )\n+\n+        def request(*args, **kwargs):\n+            assert ('api_key_query', 'SECRET_VALUE') in kwargs['query_params']\n+            assert 'PREFIX SECRET_VALUE' == kwargs['headers']['api_key']\n+            raise RuntimeError(\"passed\")\n+\n+        with petstore_api.ApiClient(configuration) as client:\n+            api = FakeApi(client)\n+            client.request = request\n+            try:\n+                api.test_client_model(client_client={})\n+            except RuntimeError as e:\n+                assert \"passed\" == str(e)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b8f65f1ca54ef9bc343c586fcfc6485bf368c63"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0637df2eb1c278ebcc32a74713a5d1fb369ad28c", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/0637df2eb1c278ebcc32a74713a5d1fb369ad28c", "committedDate": "2020-06-03T09:57:39Z", "message": "Merge remote-tracking branch 'upstream/master' into jirikuncar/python-experimental/key-aliasing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "116fa250baafd084e8095ec6d3a0bf02aa654567", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/116fa250baafd084e8095ec6d3a0bf02aa654567", "committedDate": "2020-06-03T10:02:31Z", "message": "Document alias in generated code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb6557ebd14f8d6bac8f60a64aa11a27a1e612c6", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/eb6557ebd14f8d6bac8f60a64aa11a27a1e612c6", "committedDate": "2020-06-03T10:19:49Z", "message": "Support override of aliased keys"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49a4c3ddde5c8a6c1f14c9038d6b09dcd1711b7c", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/49a4c3ddde5c8a6c1f14c9038d6b09dcd1711b7c", "committedDate": "2020-06-03T10:43:21Z", "message": "Use diferent id and name for api keys"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "185650ad84633f31b27935562c0833827c1548d3", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/185650ad84633f31b27935562c0833827c1548d3", "committedDate": "2020-06-03T13:58:29Z", "message": "ensure up-to-date"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzOTYwMDgw", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#pullrequestreview-423960080", "createdAt": "2020-06-03T21:45:41Z", "commit": {"oid": "185650ad84633f31b27935562c0833827c1548d3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMTo0NTo0MVrOGeutlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMTo0NTo0MVrOGeutlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg3NTc5OA==", "bodyText": "@spacether please note that the aliasargument is only generated for x-auth-id-alias now.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#discussion_r434875798", "createdAt": "2020-06-03T21:45:41Z", "author": {"login": "jirikuncar"}, "path": "modules/openapi-generator/src/main/resources/python/configuration.mustache", "diffHunk": "@@ -462,12 +463,15 @@ conf = {{{packageName}}}.Configuration(\n         auth = {}\n {{#authMethods}}\n {{#isApiKey}}\n-        if '{{keyParamName}}' in self.api_key:\n+        if '{{name}}' in self.api_key{{#vendorExtensions.x-auth-id-alias}} or '{{.}}' in self.api_key{{/vendorExtensions.x-auth-id-alias}}:\n             auth['{{name}}'] = {\n                 'type': 'api_key',\n                 'in': {{#isKeyInCookie}}'cookie'{{/isKeyInCookie}}{{#isKeyInHeader}}'header'{{/isKeyInHeader}}{{#isKeyInQuery}}'query'{{/isKeyInQuery}},\n                 'key': '{{keyParamName}}',\n-                'value': self.get_api_key_with_prefix('{{keyParamName}}')\n+                'value': self.get_api_key_with_prefix(\n+                    '{{name}}',{{#vendorExtensions.x-auth-id-alias}}\n+                    alias='{{.}}',{{/vendorExtensions.x-auth-id-alias}}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "185650ad84633f31b27935562c0833827c1548d3"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzOTYwNTkx", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#pullrequestreview-423960591", "createdAt": "2020-06-03T21:46:40Z", "commit": {"oid": "185650ad84633f31b27935562c0833827c1548d3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMTo0Njo0MFrOGeuvIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMTo0Njo0MFrOGeuvIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg3NjE5Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # configuration.api_key_prefix['{{#vendorExtensions.x-auth-id-alias}}{{{.}}}{{/vendorExtensions.x-auth-id-alias}}{{^vendorExtensions.x-auth-id-alias}}{{{name}}}{{/vendorExtensions.x-auth-id-alias}}'] = 'Bearer'\n          \n          \n            \n            # configuration.api_key_prefix['{{name}}'] = 'Bearer'", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#discussion_r434876192", "createdAt": "2020-06-03T21:46:40Z", "author": {"login": "jirikuncar"}, "path": "modules/openapi-generator/src/main/resources/python/python_doc_auth_partial.mustache", "diffHunk": "@@ -95,11 +95,11 @@ configuration = {{{packageName}}}.Configuration(\n configuration = {{{packageName}}}.Configuration(\n     host = \"{{{basePath}}}\",\n     api_key = {\n-        '{{{keyParamName}}}': 'YOUR_API_KEY'\n+        '{{#vendorExtensions.x-auth-id-alias}}{{{.}}}{{/vendorExtensions.x-auth-id-alias}}{{^vendorExtensions.x-auth-id-alias}}{{{name}}}{{/vendorExtensions.x-auth-id-alias}}': 'YOUR_API_KEY'\n     }\n )\n # Uncomment below to setup prefix (e.g. Bearer) for API key, if needed\n-# configuration.api_key_prefix['{{{keyParamName}}}'] = 'Bearer'\n+# configuration.api_key_prefix['{{#vendorExtensions.x-auth-id-alias}}{{{.}}}{{/vendorExtensions.x-auth-id-alias}}{{^vendorExtensions.x-auth-id-alias}}{{{name}}}{{/vendorExtensions.x-auth-id-alias}}'] = 'Bearer'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "185650ad84633f31b27935562c0833827c1548d3"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzOTYwNjY5", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#pullrequestreview-423960669", "createdAt": "2020-06-03T21:46:47Z", "commit": {"oid": "185650ad84633f31b27935562c0833827c1548d3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMTo0Njo0OFrOGeuvXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMTo0Njo0OFrOGeuvXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg3NjI1Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    '{{#vendorExtensions.x-auth-id-alias}}{{{.}}}{{/vendorExtensions.x-auth-id-alias}}{{^vendorExtensions.x-auth-id-alias}}{{{name}}}{{/vendorExtensions.x-auth-id-alias}}': 'YOUR_API_KEY'\n          \n          \n            \n                    '{{name}}': 'YOUR_API_KEY'", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#discussion_r434876253", "createdAt": "2020-06-03T21:46:48Z", "author": {"login": "jirikuncar"}, "path": "modules/openapi-generator/src/main/resources/python/python_doc_auth_partial.mustache", "diffHunk": "@@ -95,11 +95,11 @@ configuration = {{{packageName}}}.Configuration(\n configuration = {{{packageName}}}.Configuration(\n     host = \"{{{basePath}}}\",\n     api_key = {\n-        '{{{keyParamName}}}': 'YOUR_API_KEY'\n+        '{{#vendorExtensions.x-auth-id-alias}}{{{.}}}{{/vendorExtensions.x-auth-id-alias}}{{^vendorExtensions.x-auth-id-alias}}{{{name}}}{{/vendorExtensions.x-auth-id-alias}}': 'YOUR_API_KEY'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "185650ad84633f31b27935562c0833827c1548d3"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5710b7d561525b4b34b7794378892ac0f28df89", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/c5710b7d561525b4b34b7794378892ac0f28df89", "committedDate": "2020-06-03T21:48:39Z", "message": "Simple example without x-auth-id-alias"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "899e1f4f453c86f010b0021286e17765b2e85d07", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/899e1f4f453c86f010b0021286e17765b2e85d07", "committedDate": "2020-06-03T21:50:15Z", "message": "regenerate docs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0MDMwNzMx", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#pullrequestreview-424030731", "createdAt": "2020-06-04T00:53:54Z", "commit": {"oid": "899e1f4f453c86f010b0021286e17765b2e85d07"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwMDo1Mzo1NFrOGeyPEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwMDo1Mzo1NFrOGeyPEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkzMzUyMw==", "bodyText": "It may not be obvious but some generators samples have \"live\" tests which run pre-written tests against compiled code (see jersey2-java8). The tests aren't overwritten on generation (as a rule within DefaultGenerator).\nThis is documented in the description at the top of the file:\n\nThis spec is mainly for testing Petstore server and contains fake endpoints, models. Please do not use this for any other purpose.\n\nIf you update this api key, it would require changing those other \"live tests\".\nIn this case, I'd recommend creating a separate smaller spec or adding another auth type outside of api_key which allows you to test the aliasing. That way you wouldn't have the conflict in the test.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#discussion_r434933523", "createdAt": "2020-06-04T00:53:54Z", "author": {"login": "jimschubert"}, "path": "modules/openapi-generator/src/test/resources/3_0/python-experimental/petstore-with-fake-endpoints-models-for-testing-with-http-signature.yaml", "diffHunk": "@@ -1159,11 +1162,13 @@ components:\n             'read:pets': read your pets\n     api_key:\n       type: apiKey\n-      name: api_key\n+      name: X-Api-Key", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "899e1f4f453c86f010b0021286e17765b2e85d07"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12e4f9db39e3304209fbfc9799c6d03ba98ae3a7", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/12e4f9db39e3304209fbfc9799c6d03ba98ae3a7", "committedDate": "2020-06-04T09:56:24Z", "message": "Merge remote-tracking branch 'upstream/master' into jirikuncar/python-experimental/key-aliasing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2d82c11b6d3cbe36a101d2f4fe103af6ac9b6e1", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/b2d82c11b6d3cbe36a101d2f4fe103af6ac9b6e1", "committedDate": "2020-06-04T09:58:03Z", "message": "Regenerate"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea2706d4e4cacc7959704c3aeb38bf813fb1fdc4", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/ea2706d4e4cacc7959704c3aeb38bf813fb1fdc4", "committedDate": "2020-06-04T12:37:02Z", "message": "Provide separate spec for x-auth-id-alias"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0Mzk3NDI3", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#pullrequestreview-424397427", "createdAt": "2020-06-04T12:38:37Z", "commit": {"oid": "ea2706d4e4cacc7959704c3aeb38bf813fb1fdc4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxMjozODozN1rOGfDu-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxMjozODozN1rOGfDu-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTIyMDIxNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            from petstore_api.api import FakeApi", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#discussion_r435220217", "createdAt": "2020-06-04T12:38:37Z", "author": {"login": "jirikuncar"}, "path": "samples/openapi3/client/petstore/python-experimental/tests/test_api_validation.py", "diffHunk": "@@ -21,6 +21,7 @@\n from collections import namedtuple\n \n import petstore_api\n+from petstore_api.api import FakeApi", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea2706d4e4cacc7959704c3aeb38bf813fb1fdc4"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8cdc89c91f4ea155a6bfd17fb566dd8eb04d6be", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/e8cdc89c91f4ea155a6bfd17fb566dd8eb04d6be", "committedDate": "2020-06-04T12:38:41Z", "message": "Apply suggestions from code review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0NTY5NzA1", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#pullrequestreview-424569705", "createdAt": "2020-06-04T15:29:37Z", "commit": {"oid": "e8cdc89c91f4ea155a6bfd17fb566dd8eb04d6be"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNToyOTozN1rOGfLkGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNToyOTozN1rOGfLkGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTM0ODUwNg==", "bodyText": "If we decide to keep this separate sample can you put in a python-experimental folder so our uses see both python-experimental samples at the same place?\nSomething like\n\nsamples/openapi3/client/petstore/python-experimental/general_sample\nsamples/openapi3/client/petstore/python-experimental/auith_id_alias_sample\n\nAlso, how about this solution of separating our existing spec into a python-experimental only version and a java version. That will let us add this feature in a python-experimental only spec, have no impact on other generators, not impact live server testing, and will keep it clear to users what sample to look at because there will only be one.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#discussion_r435348506", "createdAt": "2020-06-04T15:29:37Z", "author": {"login": "spacether"}, "path": "bin/openapi3/python-experimental-petstore.sh", "diffHunk": "@@ -32,3 +32,8 @@ yaml=\"modules/openapi-generator/src/test/resources/3_0/python-experimental/petst\n ags=\"generate -t modules/openapi-generator/src/main/resources/python -i $yaml -g python-experimental -o samples/openapi3/client/petstore/python-experimental/ --additional-properties packageName=petstore_api $@\"\n \n java $JAVA_OPTS -jar $executable $ags\n+\n+yaml=\"modules/openapi-generator/src/test/resources/3_0/extensions/x-auth-id-alias.yaml\"\n+ags=\"generate -t modules/openapi-generator/src/main/resources/python -i $yaml -g python-experimental -o samples/openapi3/client/extensions/x-auth-id-alias/python-experimental/ --additional-properties packageName=x_auth_id_alias $@\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8cdc89c91f4ea155a6bfd17fb566dd8eb04d6be"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0NjE4OTU3", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#pullrequestreview-424618957", "createdAt": "2020-06-04T16:20:55Z", "commit": {"oid": "e8cdc89c91f4ea155a6bfd17fb566dd8eb04d6be"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjoyMDo1NlrOGfN0vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjoyMDo1NlrOGfN0vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTM4NTUzNQ==", "bodyText": "I could change the folder name where the client is generated:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ags=\"generate -t modules/openapi-generator/src/main/resources/python -i $yaml -g python-experimental -o samples/openapi3/client/extensions/x-auth-id-alias/python-experimental/ --additional-properties packageName=x_auth_id_alias $@\"\n          \n          \n            \n            ags=\"generate -t modules/openapi-generator/src/main/resources/python -i $yaml -g python-experimental -o samples/openapi3/client/python-experimental/extensions/x-auth-id-alias/ --additional-properties packageName=x_auth_id_alias $@\"", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#discussion_r435385535", "createdAt": "2020-06-04T16:20:56Z", "author": {"login": "jirikuncar"}, "path": "bin/openapi3/python-experimental-petstore.sh", "diffHunk": "@@ -32,3 +32,8 @@ yaml=\"modules/openapi-generator/src/test/resources/3_0/python-experimental/petst\n ags=\"generate -t modules/openapi-generator/src/main/resources/python -i $yaml -g python-experimental -o samples/openapi3/client/petstore/python-experimental/ --additional-properties packageName=petstore_api $@\"\n \n java $JAVA_OPTS -jar $executable $ags\n+\n+yaml=\"modules/openapi-generator/src/test/resources/3_0/extensions/x-auth-id-alias.yaml\"\n+ags=\"generate -t modules/openapi-generator/src/main/resources/python -i $yaml -g python-experimental -o samples/openapi3/client/extensions/x-auth-id-alias/python-experimental/ --additional-properties packageName=x_auth_id_alias $@\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8cdc89c91f4ea155a6bfd17fb566dd8eb04d6be"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d5f7b7bfe80fcccc0a742bdb76e02aeec0fb466", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/3d5f7b7bfe80fcccc0a742bdb76e02aeec0fb466", "committedDate": "2020-06-05T10:23:34Z", "message": "Merge remote-tracking branch 'upstream/master' into jirikuncar/python-experimental/key-aliasing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e770aadb5676d1ed9cf3eb3610b2741d9160b2fa", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/e770aadb5676d1ed9cf3eb3610b2741d9160b2fa", "committedDate": "2020-06-05T15:35:47Z", "message": "regenerated"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55277024780f2bd948c5cd3e050a3d2d33c31cdd", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/55277024780f2bd948c5cd3e050a3d2d33c31cdd", "committedDate": "2020-06-05T15:35:50Z", "message": "Merge remote-tracking branch 'upstream/master' into jirikuncar/python-experimental/key-aliasing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2502a2c28b24bdd44bcb85163e058f031a49e5a4", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/2502a2c28b24bdd44bcb85163e058f031a49e5a4", "committedDate": "2020-06-08T09:05:19Z", "message": "Merge remote-tracking branch 'upstream/master' into jirikuncar/python-experimental/key-aliasing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7a9183f39392dc12e9c5f643a36e7633a5cd9fe", "author": {"user": {"login": "jirikuncar", "name": "Jiri Kuncar"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/a7a9183f39392dc12e9c5f643a36e7633a5cd9fe", "committedDate": "2020-06-11T14:08:08Z", "message": "Merge remote-tracking branch 'upstream/master' into jirikuncar/python-experimental/key-aliasing"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5MDc3OTg2", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6469#pullrequestreview-429077986", "createdAt": "2020-06-11T16:19:45Z", "commit": {"oid": "a7a9183f39392dc12e9c5f643a36e7633a5cd9fe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2164, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}