{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0MDYwODkx", "number": 7528, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMTowMToxMlrOEoBz4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxOTowMDowMVrOEq4ZZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNDA4MTYwOnYy", "diffSide": "RIGHT", "path": "modules/openapi-generator/src/main/resources/php/ObjectSerializer.mustache", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMTowMToxMlrOHY4rxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMTowMToxMlrOHY4rxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTg1NjU4Mg==", "bodyText": "The previous statement basically made no sense, it's just a null check in disguise.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7528#discussion_r495856582", "createdAt": "2020-09-28T11:01:12Z", "author": {"login": "dkarlovi"}, "path": "modules/openapi-generator/src/main/resources/php/ObjectSerializer.mustache", "diffHunk": "@@ -354,8 +354,8 @@ class ObjectSerializer\n                     continue;\n                 }\n \n-                $propertyValue = $data->{$instance::attributeMap()[$property]};\n-                if (isset($propertyValue)) {\n+                if (isset($data->{$instance::attributeMap()[$property]})) {\n+                    $propertyValue = $data->{$instance::attributeMap()[$property]};", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "feb6597cc9bfd4b0b9375b34ced58ea6ed348fbd"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNDA4MjIzOnYy", "diffSide": "RIGHT", "path": "modules/openapi-generator/src/main/resources/php/api.mustache", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMTowMToyNlrOHY4sJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMTowMToyNlrOHY4sJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTg1NjY3Nw==", "bodyText": "Code style fix.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7528#discussion_r495856677", "createdAt": "2020-09-28T11:01:26Z", "author": {"login": "dkarlovi"}, "path": "modules/openapi-generator/src/main/resources/php/api.mustache", "diffHunk": "@@ -63,18 +63,18 @@ use {{invokerPackage}}\\ObjectSerializer;\n      * @param ClientInterface $client\n      * @param Configuration   $config\n      * @param HeaderSelector  $selector\n-     * @param int             $host_index (Optional) host index to select the list of hosts if defined in the OpenAPI spec\n+     * @param int             $hostIndex (Optional) host index to select the list of hosts if defined in the OpenAPI spec", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "feb6597cc9bfd4b0b9375b34ced58ea6ed348fbd"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNDA4ODI2OnYy", "diffSide": "RIGHT", "path": "modules/openapi-generator/src/main/resources/php/api.mustache", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMTowMzoyNVrOHY4v3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMTowMzoyNVrOHY4v3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTg1NzYzMA==", "bodyText": "This one produced nonsensical code unless you have body params:\n\nsets $_tempBody to null\nchecks if $_tempBody is not null\n\nIt can never be not null because the code mutating it is not generated, why are the checks for it generated then?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7528#discussion_r495857630", "createdAt": "2020-09-28T11:03:25Z", "author": {"login": "dkarlovi"}, "path": "modules/openapi-generator/src/main/resources/php/api.mustache", "diffHunk": "@@ -567,14 +560,16 @@ use {{invokerPackage}}\\ObjectSerializer;\n         }\n \n         // for model (json/xml)\n-        if (isset($_tempBody)) {\n-            // $_tempBody is the method argument, if present\n+        {{#bodyParams}}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "feb6597cc9bfd4b0b9375b34ced58ea6ed348fbd"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMzk5NjU1OnYy", "diffSide": "RIGHT", "path": "modules/openapi-generator/src/main/resources/php/api.mustache", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxOTowMDowMVrOHdV2ZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMDo1MDowMVrOHdZa8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUyODc0MQ==", "bodyText": "This abandoned else really bothers me... Did you forgot to delete it? Or maybe you wanted it as elseif as it was before?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7528#discussion_r500528741", "createdAt": "2020-10-06T19:00:01Z", "author": {"login": "ybelenko"}, "path": "modules/openapi-generator/src/main/resources/php/api.mustache", "diffHunk": "@@ -567,14 +560,16 @@ use {{invokerPackage}}\\ObjectSerializer;\n         }\n \n         // for model (json/xml)\n-        if (isset($_tempBody)) {\n-            // $_tempBody is the method argument, if present\n+        {{#bodyParams}}\n+        if (isset(${{paramName}})) {\n             if ($headers['Content-Type'] === 'application/json') {\n-                $httpBody = \\GuzzleHttp\\json_encode(ObjectSerializer::sanitizeForSerialization($_tempBody));\n+                $httpBody = \\GuzzleHttp\\json_encode(ObjectSerializer::sanitizeForSerialization(${{paramName}}));\n             } else {\n-                $httpBody = $_tempBody;\n+                $httpBody = ${{paramName}};\n             }\n-        } elseif (count($formParams) > 0) {\n+        } else", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "feb6597cc9bfd4b0b9375b34ced58ea6ed348fbd"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU0NTQ0NQ==", "bodyText": "The issue is the if is only needed when you have the body, otherwise I delete it and the elseif becomes if. I don't know how to do it better with Mustache. \ud83d\ude48", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7528#discussion_r500545445", "createdAt": "2020-10-06T19:30:48Z", "author": {"login": "dkarlovi"}, "path": "modules/openapi-generator/src/main/resources/php/api.mustache", "diffHunk": "@@ -567,14 +560,16 @@ use {{invokerPackage}}\\ObjectSerializer;\n         }\n \n         // for model (json/xml)\n-        if (isset($_tempBody)) {\n-            // $_tempBody is the method argument, if present\n+        {{#bodyParams}}\n+        if (isset(${{paramName}})) {\n             if ($headers['Content-Type'] === 'application/json') {\n-                $httpBody = \\GuzzleHttp\\json_encode(ObjectSerializer::sanitizeForSerialization($_tempBody));\n+                $httpBody = \\GuzzleHttp\\json_encode(ObjectSerializer::sanitizeForSerialization(${{paramName}}));\n             } else {\n-                $httpBody = $_tempBody;\n+                $httpBody = ${{paramName}};\n             }\n-        } elseif (count($formParams) > 0) {\n+        } else", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUyODc0MQ=="}, "originalCommit": {"oid": "feb6597cc9bfd4b0b9375b34ced58ea6ed348fbd"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU4NzI1MQ==", "bodyText": "Seems like I fixed it in my commit.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7528#discussion_r500587251", "createdAt": "2020-10-06T20:50:01Z", "author": {"login": "ybelenko"}, "path": "modules/openapi-generator/src/main/resources/php/api.mustache", "diffHunk": "@@ -567,14 +560,16 @@ use {{invokerPackage}}\\ObjectSerializer;\n         }\n \n         // for model (json/xml)\n-        if (isset($_tempBody)) {\n-            // $_tempBody is the method argument, if present\n+        {{#bodyParams}}\n+        if (isset(${{paramName}})) {\n             if ($headers['Content-Type'] === 'application/json') {\n-                $httpBody = \\GuzzleHttp\\json_encode(ObjectSerializer::sanitizeForSerialization($_tempBody));\n+                $httpBody = \\GuzzleHttp\\json_encode(ObjectSerializer::sanitizeForSerialization(${{paramName}}));\n             } else {\n-                $httpBody = $_tempBody;\n+                $httpBody = ${{paramName}};\n             }\n-        } elseif (count($formParams) > 0) {\n+        } else", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUyODc0MQ=="}, "originalCommit": {"oid": "feb6597cc9bfd4b0b9375b34ced58ea6ed348fbd"}, "originalPosition": 52}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4187, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}