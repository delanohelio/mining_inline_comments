{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczMDg5NTIy", "number": 5258, "title": "[kotlin]Fix ktor doesn't generate nullable types", "bodyText": "fixes #5198\nOptional parameters have to annotated as nullable\n\n\nPR checklist\n\n Read the contribution guidelines.\n If contributing template-only or documentation-only changes which will change sample output, build the project before.\n Run the shell script(s) under ./bin/ (or Windows batch scripts under.\\bin\\windows) to update Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit, and these must match the expectations made by your contribution. You only need to run ./bin/{LANG}-petstore.sh, ./bin/openapi3/{LANG}-petstore.sh if updating the code or mustache templates for a language ({LANG}) (e.g. php, ruby, python, etc).\n File the PR against the correct branch: master, 4.3.x, 5.0.x. Default: master.\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.\n\nI can't find ./bin/openapi3/kotlin-server-petstore.sh\ud83d\ude22", "createdAt": "2020-02-10T11:44:47Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5258", "merged": true, "mergeCommit": {"oid": "015b4047290ab3dd43ad6b9d4d63e5689277d12a"}, "closed": true, "closedAt": "2020-03-01T09:58:59Z", "author": {"login": "yutaka0m"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcC17pbgH2gAyMzczMDg5NTIyOjNmZTFlODIxZjRkODQ4MjZlODAxODg0ODRmNTY5MTFiZWMyOTRlODM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHlnGkgH2gAyMzczMDg5NTIyOjg5N2E2MWFiNTRmNmYxMjQ5YTlhZTE1Y2I5ZGNlNzdiOWMwMjA0MGE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3fe1e821f4d84826e80188484f56911bec294e83", "author": {"user": {"login": "yutaka0m", "name": "Yutaka Miyamae"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/3fe1e821f4d84826e80188484f56911bec294e83", "committedDate": "2020-02-10T05:04:03Z", "message": "If not required, need `? = null`"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ba0d310ab6de9a8d4d981ddfc6f9438b99b0212", "author": {"user": {"login": "yutaka0m", "name": "Yutaka Miyamae"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/6ba0d310ab6de9a8d4d981ddfc6f9438b99b0212", "committedDate": "2020-02-10T11:19:25Z", "message": "run  ./bin/kotlin-server-petstore.sh"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxMDcwOTA3", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5258#pullrequestreview-361070907", "createdAt": "2020-02-19T12:29:31Z", "commit": {"oid": "6ba0d310ab6de9a8d4d981ddfc6f9438b99b0212"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxMTE0NDEx", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5258#pullrequestreview-361114411", "createdAt": "2020-02-19T13:38:22Z", "commit": {"oid": "6ba0d310ab6de9a8d4d981ddfc6f9438b99b0212"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxMzozODoyMlrOFroUXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxMzozODoyMlrOFroUXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTI5MzY2MQ==", "bodyText": "Maybe we should also check for {{#isNullable}}?{{/isNullable}}. What do you think?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5258#discussion_r381293661", "createdAt": "2020-02-19T13:38:22Z", "author": {"login": "4brunu"}, "path": "modules/openapi-generator/src/main/resources/kotlin-server/libraries/ktor/Paths.kt.mustache", "diffHunk": "@@ -18,7 +18,7 @@ object Paths {\n      {{#allParams}}* @param {{paramName}} {{description}} {{^required}}(optional{{#defaultValue}}, default to {{{.}}}{{/defaultValue}}){{/required}}\n      {{/allParams}}*/\n     @KtorExperimentalLocationsAPI\n-    @Location(\"{{path}}\") class {{operationId}}({{#allParams}}val {{paramName}}: {{{dataType}}}{{#hasMore}}, {{/hasMore}}{{/allParams}})\n+    @Location(\"{{path}}\") class {{operationId}}({{#allParams}}val {{paramName}}: {{{dataType}}}{{^required}}? = null{{/required}}{{#hasMore}}, {{/hasMore}}{{/allParams}})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ba0d310ab6de9a8d4d981ddfc6f9438b99b0212"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMTI5MTU3", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5258#pullrequestreview-363129157", "createdAt": "2020-02-23T22:51:30Z", "commit": {"oid": "6ba0d310ab6de9a8d4d981ddfc6f9438b99b0212"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QyMjo1MTozMFrOFtTT-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QyMjo1MTozMFrOFtTT-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA0NjY1MQ==", "bodyText": "I think required would have to append ? if it's nullable, but this would change assignment in the method body not just in the parameter list. Also, rather than assigning null I think we'd want to honor defaults. For example, i: Int? = 1 would be a valid argument.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5258#discussion_r383046651", "createdAt": "2020-02-23T22:51:30Z", "author": {"login": "jimschubert"}, "path": "modules/openapi-generator/src/main/resources/kotlin-server/libraries/ktor/Paths.kt.mustache", "diffHunk": "@@ -18,7 +18,7 @@ object Paths {\n      {{#allParams}}* @param {{paramName}} {{description}} {{^required}}(optional{{#defaultValue}}, default to {{{.}}}{{/defaultValue}}){{/required}}\n      {{/allParams}}*/\n     @KtorExperimentalLocationsAPI\n-    @Location(\"{{path}}\") class {{operationId}}({{#allParams}}val {{paramName}}: {{{dataType}}}{{#hasMore}}, {{/hasMore}}{{/allParams}})\n+    @Location(\"{{path}}\") class {{operationId}}({{#allParams}}val {{paramName}}: {{{dataType}}}{{^required}}? = null{{/required}}{{#hasMore}}, {{/hasMore}}{{/allParams}})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ba0d310ab6de9a8d4d981ddfc6f9438b99b0212"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d96fbcfaad049ef0c40f58a96a26d4be9922efd", "author": {"user": {"login": "yutaka0m", "name": "Yutaka Miyamae"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/6d96fbcfaad049ef0c40f58a96a26d4be9922efd", "committedDate": "2020-02-24T22:44:36Z", "message": "Added `?` when value is `required` and `isNullable`"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "897a61ab54f6f1249a9ae15cb9dce77b9c02040a", "author": {"user": {"login": "yutaka0m", "name": "Yutaka Miyamae"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/897a61ab54f6f1249a9ae15cb9dce77b9c02040a", "committedDate": "2020-02-24T22:52:45Z", "message": "Rerun ./bin/kotlin-server-petstore.sh. But No differences"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2769, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}