{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNTM4ODA5", "number": 5459, "title": "[kotlin][client] Add Jackson to interface properties and remove extra line feed", "bodyText": "Follow on to #5236, this add Jackson annotations to interface variables as well.\nI also added the JsonFormat annotation to all of them for consistency and removed the extra line feeds from the data class var files to fix the output.\nPR checklist\n\n Read the contribution guidelines.\n If contributing template-only or documentation-only changes which will change sample output, build the project before.\n Run the shell script(s) under ./bin/ (or Windows batch scripts under.\\bin\\windows) to update Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit, and these must match the expectations made by your contribution. You only need to run ./bin/{LANG}-petstore.sh, ./bin/openapi3/{LANG}-petstore.sh if updating the code or mustache templates for a language ({LANG}) (e.g. php, ruby, python, etc).\n File the PR against the correct branch: master, 4.3.x, 5.0.x. Default: master.\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.\n\n@jimschubert (2017/09)\u00a0\u2764\ufe0f, @dr4ke616 (2018/08) @karismann (2019/03) @Zomzog (2019/04) @andrewemery (2019/10) @4brunu (2019/11)", "createdAt": "2020-02-26T22:25:59Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5459", "merged": true, "mergeCommit": {"oid": "6400ce233078a5955ff78952edf4a9399caa4d92"}, "closed": true, "closedAt": "2020-03-24T02:05:47Z", "author": {"login": "mtraynham"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIOVvxAH2gAyMzgwNTM4ODA5OjdmNTcwZjM5MzUyMmE5NWM0OWU1M2QzYmU0ZjhhYzRjZDI4MWY2Mzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIfr9egH2gAyMzgwNTM4ODA5OmNlMGFhNDJmMTRhZGNhMDhmMTUwMjI2MDliNTc2ODExY2MwZTBmN2Q=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7f570f393522a95c49e53d3be4f8ac4cd281f637", "author": {"user": {"login": "mtraynham", "name": "Matt Traynham"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/7f570f393522a95c49e53d3be4f8ac4cd281f637", "committedDate": "2020-02-26T22:19:54Z", "message": "[kotlin][client] Ensure Jackson annotations are consistent with interface vars"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f385ae96b31037f346310e5a508070abb954e70", "author": {"user": {"login": "mtraynham", "name": "Matt Traynham"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/3f385ae96b31037f346310e5a508070abb954e70", "committedDate": "2020-02-26T22:23:20Z", "message": "[kotlin][client] Rebuild samples"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1NTYwNDgz", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5459#pullrequestreview-365560483", "createdAt": "2020-02-27T10:16:09Z", "commit": {"oid": "3f385ae96b31037f346310e5a508070abb954e70"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMDoxNjowOVrOFvMemw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMDoxNjo0NVrOFvMf1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTAzMTgzNQ==", "bodyText": "I think here we should use the iso8601 date format", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5459#discussion_r385031835", "createdAt": "2020-02-27T10:16:09Z", "author": {"login": "4brunu"}, "path": "modules/openapi-generator/src/main/resources/kotlin-client/data_class_opt_var.mustache", "diffHunk": "@@ -10,10 +10,9 @@\n     {{/gson}}\n     {{#jackson}}\n     {{#isDateTime}}\n-    @JsonFormat\n-    (shape = JsonFormat.Shape.STRING, pattern = \"dd-MM-yyyy hh:mm:ss\")\n+    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"dd-MM-yyyy hh:mm:ss\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f385ae96b31037f346310e5a508070abb954e70"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTAzMTk3OA==", "bodyText": "The same here", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5459#discussion_r385031978", "createdAt": "2020-02-27T10:16:25Z", "author": {"login": "4brunu"}, "path": "modules/openapi-generator/src/main/resources/kotlin-client/data_class_req_var.mustache", "diffHunk": "@@ -9,7 +9,10 @@\n     @SerializedName(\"{{{vendorExtensions.x-base-name-literal}}}\")\n     {{/gson}}\n     {{#jackson}}\n+    {{#isDateTime}}\n+    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"dd-MM-yyyy hh:mm:ss\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f385ae96b31037f346310e5a508070abb954e70"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTAzMjA2Mg==", "bodyText": "And here", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5459#discussion_r385032062", "createdAt": "2020-02-27T10:16:35Z", "author": {"login": "4brunu"}, "path": "modules/openapi-generator/src/main/resources/kotlin-client/interface_opt_var.mustache", "diffHunk": "@@ -8,5 +8,11 @@\n     {{#gson}}\n     @SerializedName(\"{{{vendorExtensions.x-base-name-literal}}}\")\n     {{/gson}}\n+    {{#jackson}}\n+    {{#isDateTime}}\n+    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"dd-MM-yyyy hh:mm:ss\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f385ae96b31037f346310e5a508070abb954e70"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTAzMjE1MA==", "bodyText": "And here", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5459#discussion_r385032150", "createdAt": "2020-02-27T10:16:45Z", "author": {"login": "4brunu"}, "path": "modules/openapi-generator/src/main/resources/kotlin-client/interface_req_var.mustache", "diffHunk": "@@ -8,5 +8,11 @@\n     {{#gson}}\n     @SerializedName(\"{{{vendorExtensions.x-base-name-literal}}}\")\n     {{/gson}}\n+    {{#jackson}}\n+    {{#isDateTime}}\n+    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"dd-MM-yyyy hh:mm:ss\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f385ae96b31037f346310e5a508070abb954e70"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0309c96c25a4c48c86acfe6d2cffca29de975805", "author": {"user": {"login": "mtraynham", "name": "Matt Traynham"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/0309c96c25a4c48c86acfe6d2cffca29de975805", "committedDate": "2020-02-27T18:32:31Z", "message": "[kotlin][client] Some kotlin client enhancements\n\n- Don't use JsonFormat for Date objects, this should be controlled via\n  a custom serializer/deserializer or a turning on and off serialization\n  features of Jackson.  I've updated the jacksonObjectMapper config to\n  write the dates as strings, which I think was intended in the original\n  commit.\n  https://fasterxml.github.io/jackson-databind/javadoc/2.6/com/fasterxml/jackson/databind/SerializationFeature.html#WRITE_DATES_AS_TIMESTAMPS\n  https://fasterxml.github.io/jackson-databind/javadoc/2.6/com/fasterxml/jackson/databind/cfg/MapperConfig.html#getDateFormat--\n- Dont' use @JsonFormat(shape = JsonFormat.Shape.OBJECT) for enums.\n  This causes Enums to be formatted as objects with an internal \"value\"\n  field.  In reality, OpenAPI enums are just strings without properties\n  and should be treated as a string.\n  https://www.baeldung.com/jackson-serialize-enums#2-enum-as-json-object\n- Add's Kotlin use site annotation @get: to JsonProperty for parent interface\n  properties.  Otherwise Kotlin will warn:\n  \"This annotation is not applicable to target 'member property without\n  backing field or delegate'\"\n- Add's JsonTypeInfo annotations to interfaces for inheritance.  This\n  was copied verbatim from the kotlin-spring generator.\n  https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/kotlin-spring/typeInfoAnnotation.mustache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce0aa42f14adca08f15022609b576811cc0e0f7d", "author": {"user": {"login": "mtraynham", "name": "Matt Traynham"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/ce0aa42f14adca08f15022609b576811cc0e0f7d", "committedDate": "2020-02-27T18:32:33Z", "message": "[kotlin][client] Rebuild kotlin samples"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2695, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}