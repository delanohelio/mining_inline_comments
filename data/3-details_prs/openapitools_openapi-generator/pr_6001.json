{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2NjgzMTkz", "number": 6001, "title": "[typescript-rxjs] restore prototype inheritance for clone & its clients", "bodyText": "This reverts (by improving) a change by @denyo in #4250, which I spoke to him in the review comment. In my opinion, if this change is accepted, it should be adopted by the rest of typescript templates.\n\npreviously clone() and its clients in the BaseAPI class were generic\nwith removal of the generic argument, these methods became unavailable\nto the API classes inheriting from BaseAPI\noriginal generic was imprecise, as these are not statics\nreturn type of this is the correct notation\n\nAdditionally, @denyo requested I add some of the changes he has PRed in #5465 to avoid future conflict. I agree with the destructuring change and have included it. I've left a couple of comments in his PR with my take on the ternary usage.\nNB: Apologies for force pushes, the local environment has created a flawed starting point.\n\n\nPR checklist\n\n Read the contribution guidelines.\n If contributing template-only or documentation-only changes which will change sample output, build the project before.\n Run the shell script(s) under ./bin/ (or Windows batch scripts under.\\bin\\windows) to update Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit, and these must match the expectations made by your contribution. You only need to run ./bin/{LANG}-petstore.sh, ./bin/openapi3/{LANG}-petstore.sh if updating the code or mustache templates for a language ({LANG}) (e.g. php, ruby, python, etc).\n File the PR against the correct branch: master, 4.3.x, 5.0.x. Default: master.\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.\n\ncc @TiFu (2017/07) @taxpon (2017/07) @sebastianhaas (2017/07) @kenisteward (2017/07) @Vrolijkx (2017/09) @macjohnny (2018/01) @topce (2018/10) @akehir (2019/07) @petejohansonxo (2019/11) @amakhrov (2020/02)", "createdAt": "2020-04-21T13:42:28Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6001", "merged": true, "mergeCommit": {"oid": "2f9aa282e52b2165f7c2d57e55ea013784f25e01"}, "closed": true, "closedAt": "2020-05-19T08:06:09Z", "author": {"login": "ermik"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZz_-5AFqTM5NzM0ODU2NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcdZoOdgFqTQwNDU0NTIyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MzQ4NTY1", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6001#pullrequestreview-397348565", "createdAt": "2020-04-21T13:49:14Z", "commit": {"oid": "9e5c69ae29dbdd6d8cb6f7f3419b666b953f40b9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMzo0OToxNFrOGJGv1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMzo0OToxNFrOGJGv1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIwMDkxOA==", "bodyText": "It would be cool if you could already include these changes so avoid future merge conflicts: https://github.com/OpenAPITools/openapi-generator/pull/5465/files#diff-6230332f5c9f92f92f53b16d952c60b2R38-R39 and https://github.com/OpenAPITools/openapi-generator/pull/5465/files#diff-6230332f5c9f92f92f53b16d952c60b2R43-R44", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6001#discussion_r412200918", "createdAt": "2020-04-21T13:49:14Z", "author": {"login": "denyo"}, "path": "samples/client/petstore/typescript-rxjs/builds/default/runtime.ts", "diffHunk": "@@ -47,12 +47,18 @@ export class Configuration {\n \n     get apiKey(): ((name: string) => string) | undefined {\n         const apiKey = this.configuration.apiKey;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e5c69ae29dbdd6d8cb6f7f3419b666b953f40b9"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NTIwMzE1", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6001#pullrequestreview-398520315", "createdAt": "2020-04-22T19:42:01Z", "commit": {"oid": "9e5c69ae29dbdd6d8cb6f7f3419b666b953f40b9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOTo0MjowMVrOGKIA2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOTo0MjowMVrOGKIA2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzI3MDIzNA==", "bodyText": "I'm having an issue with the petstore script. @amakhrov maybe you can help?\nNo matter how many times / ways I run it, it generates code with an if conditional instead of a && (or ternary, that @denyo put in), referencing an older version of the template (I did a search in the entire repo and these lines of code are only found in the generated code).", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6001#discussion_r413270234", "createdAt": "2020-04-22T19:42:01Z", "author": {"login": "ermik"}, "path": "samples/client/petstore/typescript-rxjs/builds/default/runtime.ts", "diffHunk": "@@ -47,12 +47,18 @@ export class Configuration {\n \n     get apiKey(): ((name: string) => string) | undefined {\n         const apiKey = this.configuration.apiKey;\n-        return apiKey && (typeof apiKey === 'function' ? apiKey : () => apiKey);\n+        if (!apiKey) {\n+            return undefined;\n+        }\n+        return typeof apiKey === 'string' ? () => apiKey : apiKey;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e5c69ae29dbdd6d8cb6f7f3419b666b953f40b9"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9e5c69ae29dbdd6d8cb6f7f3419b666b953f40b9", "author": {"user": {"login": "ermik", "name": "Ermolay Romanov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/9e5c69ae29dbdd6d8cb6f7f3419b666b953f40b9", "committedDate": "2020-04-21T13:36:50Z", "message": "[typescript-rxjs] restore prototype inhertance\n\n- previously clone() and its clients in the BaseAPI class were generic\n- with removal of the generic argument, these methods became unavailable\n  to the API classes inheriting from BaseAPI\n- original generic was imprecise, as these are not statics\n- return type of `this` is the correct notation"}, "afterCommit": {"oid": "2075f8f28596953ba9b91a20a959a805cf390900", "author": {"user": {"login": "ermik", "name": "Ermolay Romanov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/2075f8f28596953ba9b91a20a959a805cf390900", "committedDate": "2020-04-22T19:51:52Z", "message": "[typescript-rxjs] restore prototype inhertance\n\n- previously clone() and its clients in the BaseAPI class were generic\n- with removal of the generic argument, these methods became unavailable\n  to the API classes inheriting from BaseAPI\n- original generic was imprecise, as these are not statics\n- return type of `this` is the correct notation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2075f8f28596953ba9b91a20a959a805cf390900", "author": {"user": {"login": "ermik", "name": "Ermolay Romanov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/2075f8f28596953ba9b91a20a959a805cf390900", "committedDate": "2020-04-22T19:51:52Z", "message": "[typescript-rxjs] restore prototype inhertance\n\n- previously clone() and its clients in the BaseAPI class were generic\n- with removal of the generic argument, these methods became unavailable\n  to the API classes inheriting from BaseAPI\n- original generic was imprecise, as these are not statics\n- return type of `this` is the correct notation"}, "afterCommit": {"oid": "17d0e9dcbbd2e74ea1fc098e11c28b5720567ac4", "author": {"user": {"login": "ermik", "name": "Ermolay Romanov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/17d0e9dcbbd2e74ea1fc098e11c28b5720567ac4", "committedDate": "2020-04-22T21:12:12Z", "message": "[typescript-rxjs] restore prototype inhertance- previously clone() and its clients in the BaseAPI class were generic- with removal of the generic argument, these methods became unavailable  to the API classes inheriting from BaseAPI- original generic was imprecise, as these are not statics- return type of `this` is the correct notation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "17d0e9dcbbd2e74ea1fc098e11c28b5720567ac4", "author": {"user": {"login": "ermik", "name": "Ermolay Romanov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/17d0e9dcbbd2e74ea1fc098e11c28b5720567ac4", "committedDate": "2020-04-22T21:12:12Z", "message": "[typescript-rxjs] restore prototype inhertance- previously clone() and its clients in the BaseAPI class were generic- with removal of the generic argument, these methods became unavailable  to the API classes inheriting from BaseAPI- original generic was imprecise, as these are not statics- return type of `this` is the correct notation"}, "afterCommit": {"oid": "c55326502390ff762dbbb175d99039902d4c6197", "author": {"user": {"login": "ermik", "name": "Ermolay Romanov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/c55326502390ff762dbbb175d99039902d4c6197", "committedDate": "2020-04-22T21:13:56Z", "message": "[typescript-rxjs] restore prototype inhertance\n\n- previously clone() and its clients in the BaseAPI class were generic\n- with removal of the generic argument, these methods became unavailable\n  to the API classes inheriting from BaseAPI\n- original generic was imprecise, as these are not statics\n- return type of `this` is the correct notation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cfe63a717c5adf454accf97ded118adf3ee69621", "author": {"user": {"login": "ermik", "name": "Ermolay Romanov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/cfe63a717c5adf454accf97ded118adf3ee69621", "committedDate": "2020-04-22T21:24:30Z", "message": "[typescript-rxjs] restore prototype inhertance\n\n- previously clone() and its clients in the BaseAPI class were generic\n- with removal of the generic argument, these methods became unavailable\n  to the API classes inheriting from BaseAPI\n- original generic was imprecise, as these are not statics\n- return type of `this` is the correct notation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54c620061d114dcc69af0020bd2dec4a5a367a5b", "author": {"user": {"login": "ermik", "name": "Ermolay Romanov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/54c620061d114dcc69af0020bd2dec4a5a367a5b", "committedDate": "2020-04-22T21:29:40Z", "message": "[typescript-rxjs] Chery-pick from #5465 by @denyo\n\n  - this is done to prevent the changes slated for 5.0 from conflicting\n  - apply destructuring changes from\n      - denyo:feature/rxjs-statuscode-and-progress@673d67c"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c55326502390ff762dbbb175d99039902d4c6197", "author": {"user": {"login": "ermik", "name": "Ermolay Romanov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/c55326502390ff762dbbb175d99039902d4c6197", "committedDate": "2020-04-22T21:13:56Z", "message": "[typescript-rxjs] restore prototype inhertance\n\n- previously clone() and its clients in the BaseAPI class were generic\n- with removal of the generic argument, these methods became unavailable\n  to the API classes inheriting from BaseAPI\n- original generic was imprecise, as these are not statics\n- return type of `this` is the correct notation"}, "afterCommit": {"oid": "54c620061d114dcc69af0020bd2dec4a5a367a5b", "author": {"user": {"login": "ermik", "name": "Ermolay Romanov"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/54c620061d114dcc69af0020bd2dec4a5a367a5b", "committedDate": "2020-04-22T21:29:40Z", "message": "[typescript-rxjs] Chery-pick from #5465 by @denyo\n\n  - this is done to prevent the changes slated for 5.0 from conflicting\n  - apply destructuring changes from\n      - denyo:feature/rxjs-statuscode-and-progress@673d67c"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NTQ1MjI4", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6001#pullrequestreview-404545228", "createdAt": "2020-05-02T17:21:27Z", "commit": {"oid": "54c620061d114dcc69af0020bd2dec4a5a367a5b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2460, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}