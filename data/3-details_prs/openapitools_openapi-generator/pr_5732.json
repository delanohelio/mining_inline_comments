{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0OTYzNDI5", "number": 5732, "title": "[Java][Client][vert.x] Support per-call authentication and JsonNullable in client request bodies, fix path parameter encoding", "bodyText": "Extensions\nSince vertx is an asynchronous/reactive toolkit usage of mutable fields of ApiClient to store authentication prohibits delegation of authentication from incoming call without recreating the client\neverytime (which is prohibitively expensive due to instantiation of objectmapper). This commit adds a per call authentication override which takes precedence over the mutable fields so a single client can be safely reused. To ease usage a simple builder-style auxiliary AuthInfo object is provided providing methods for each specified authentication.\nA new configuration option for ApiClient has been added: timeout. It gets applied as timeout for the vertx http request.\nFixes #6428\nRequest bodies have been wrongly serialized using vert.x built-in ObjectMapper instance instead of the embedded instance thus usage of beans with JsonNullable wrapped fields in request bodies led to bad requests because the required Jackson module is not registered in the vert.x mapper instance.\nFixes #6876\nPath parameters have been replaced as is in the operation path template. This breaks whenever a parameter contains reserved characters. Now all path parameters are properly URL encoded prior to replacement.\nPR checklist\n\n Read the contribution guidelines.\n If contributing template-only or documentation-only changes which will change sample output, build the project before.\n Run the shell script(s) under ./bin/ (or Windows batch scripts under.\\bin\\windows) to update Petstore samples related to your fix. This is important, as CI jobs will verify all generator outputs of your HEAD commit, and these must match the expectations made by your contribution. You only need to run ./bin/{LANG}-petstore.sh, ./bin/openapi3/{LANG}-petstore.sh if updating the code or mustache templates for a language ({LANG}) (e.g. php, ruby, python, etc).\n File the PR against the correct branch: master, 4.3.x, 5.0.x. Default: master.\n Copy the technical committee to review the pull request if your PR is targeting a particular programming language.\n\n@bbdouglas\n@sreeshas\n@jfiala\n@lukoyanov\n@cbornet\n@jeff9finger\n@karismann\n@Zomzog\n@lwlee2608\n@bkabrda", "createdAt": "2020-03-27T20:48:46Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5732", "merged": true, "mergeCommit": {"oid": "0be0a06d8417db7694840f699f346e95c2c9183b"}, "closed": true, "closedAt": "2020-07-08T08:30:32Z", "author": {"login": "jekkel"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZ3JL2AFqTM5NzUyMDk5Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcy2L9fAFqTQ0NDUyNDM1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NTIwOTk2", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5732#pullrequestreview-397520996", "createdAt": "2020-04-21T17:28:59Z", "commit": {"oid": "85fe1e57ce0f98adfa4398f38c3840b78fa84577"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzoyODo1OVrOGJP5Lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzoyODo1OVrOGJP5Lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM1MDc2Ng==", "bodyText": "@jekkel Looks like a breaking change to me as the method signature has changed.", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5732#discussion_r412350766", "createdAt": "2020-04-21T17:28:59Z", "author": {"login": "wing328"}, "path": "modules/openapi-generator/src/main/resources/Java/libraries/vertx/api.mustache", "diffHunk": "@@ -14,6 +15,8 @@ public interface {{classname}} {\n     {{#operation}}\n     void {{operationId}}({{#allParams}}{{{dataType}}} {{paramName}}, {{/allParams}}Handler<AsyncResult<{{#returnType}}{{{returnType}}}{{/returnType}}{{^returnType}}Void{{/returnType}}>> handler);\n \n+    void {{operationId}}({{#allParams}}{{{dataType}}} {{paramName}}, {{/allParams}}ApiClient.AuthInfo authInfo, Handler<AsyncResult<{{#returnType}}{{{returnType}}}{{/returnType}}{{^returnType}}Void{{/returnType}}>> handler);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85fe1e57ce0f98adfa4398f38c3840b78fa84577"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd197a7697a4adfd9a447b4b9e3e5c1c66381ab8", "author": {"user": {"login": "jekkel", "name": "J\u00f6rg Eichhorn"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/dd197a7697a4adfd9a447b4b9e3e5c1c66381ab8", "committedDate": "2020-05-25T14:19:27Z", "message": "Support per-call authentication and JsonNullable in client request bodies\n\nExtensions\n----------\nSince vertx is an asynchronous/reactive toolkit usage of mutable fields\nof `ApiClient` to store authentication prohibits delegation of\nauthentication from incoming call without recreating the client\neverytime (which is prohibitively expensive due to instantiation of objectmapper).\nThis commit adds a per call authentication override which takes precedence\nover the mutable fields so a single client can be safely reused. To ease\nusage a simple builder-style auxiliary `AuthInfo` object is provided\nproviding methods for each specified authentication.\n\nA new configuration option for `ApiClient` has been added: `timeout`. It gets\napplied as timeout for the vertx http request.\n\nFixes\n-----\nRequest bodies have been wrongly serialized using vert.x built-in\nobjectmapper instead of the embedded instance thus usage of beans with\n`JsonNullable` wrapped fields in request bodies led to bad requests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0559534b7be7ea06a76f2d870d288221662e3429", "author": {"user": {"login": "jekkel", "name": "J\u00f6rg Eichhorn"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/0559534b7be7ea06a76f2d870d288221662e3429", "committedDate": "2020-07-02T10:16:38Z", "message": "Merge remote-tracking branch 'upstream/master' into vertx-client-fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "185cfce92745097f9a514dd75a338d534787152c", "author": {"user": {"login": "jekkel", "name": "J\u00f6rg Eichhorn"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/185cfce92745097f9a514dd75a338d534787152c", "committedDate": "2020-07-06T13:56:57Z", "message": "update vertx samples"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8295a86da6001584819f528851ceb9c03fba95a7", "author": {"user": {"login": "jekkel", "name": "J\u00f6rg Eichhorn"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/8295a86da6001584819f528851ceb9c03fba95a7", "committedDate": "2020-07-06T19:20:38Z", "message": "Client Java Vertx: Add url encode for path parameters."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f82e21126fb87f964a833a643890f0db6310a941", "author": {"user": {"login": "jekkel", "name": "J\u00f6rg Eichhorn"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/f82e21126fb87f964a833a643890f0db6310a941", "committedDate": "2020-07-06T19:24:17Z", "message": "update vertx samples"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NTI0MzUx", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5732#pullrequestreview-444524351", "createdAt": "2020-07-08T08:30:14Z", "commit": {"oid": "f82e21126fb87f964a833a643890f0db6310a941"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2657, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}