{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3OTMwNjk3", "number": 6027, "title": "Typescript refactor fixes", "bodyText": "Fixes the issues identified in #802 (comment)\nI'll also try to add binary file download to the fetch http client class.\nCC @TiFu", "createdAt": "2020-04-23T13:45:02Z", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6027", "merged": true, "mergeCommit": {"oid": "659369c3ea959aca66d26d4c7613ce6eeae094c1"}, "closed": true, "closedAt": "2020-05-21T13:34:15Z", "author": {"login": "bodograumann"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceSEMegBqjMzMDM3MTY0MDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABciNHgGABqjMzNDQ2Njg4NjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "25ead3d8825b558dcae5443041e07f4249c2785e", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/25ead3d8825b558dcae5443041e07f4249c2785e", "committedDate": "2020-04-23T13:14:17Z", "message": "Fix: do not call toString on undefined"}, "afterCommit": {"oid": "f0635ccef62280178d9785317908d7fe5d164316", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/f0635ccef62280178d9785317908d7fe5d164316", "committedDate": "2020-05-05T11:06:54Z", "message": "Fix typo in doc comment"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f0635ccef62280178d9785317908d7fe5d164316", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/f0635ccef62280178d9785317908d7fe5d164316", "committedDate": "2020-05-05T11:06:54Z", "message": "Fix typo in doc comment"}, "afterCommit": {"oid": "20259fa2dd640c0166a6517902d4617879bd4437", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/20259fa2dd640c0166a6517902d4617879bd4437", "committedDate": "2020-05-05T15:56:54Z", "message": "Fix typo in doc comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3ODQ3NDM0", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6027#pullrequestreview-407847434", "createdAt": "2020-05-07T21:23:26Z", "commit": {"oid": "20259fa2dd640c0166a6517902d4617879bd4437"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QyMToyMzoyNlrOGSQzYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QyMTo0MDo1N1rOGSRTIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgwMjg1MA==", "bodyText": "Does this change anything except inverting the condition and adding continue?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6027#discussion_r421802850", "createdAt": "2020-05-07T21:23:26Z", "author": {"login": "TiFu"}, "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/DefaultGenerator.java", "diffHunk": "@@ -783,40 +783,40 @@ private void generateSupportingFiles(List<File> files, Map<String, Object> bundl\n                     continue;\n                 }\n \n-                if (ignoreProcessor.allowsFile(new File(outputFilename))) {\n-                    // support.templateFile is the unmodified/original supporting file name (e.g. build.sh.mustache)\n-                    // templatingEngine.templateExists dispatches resolution to this, performing template-engine specific inspect of support file extensions.\n-                    if (templatingEngine.templateExists(this, support.templateFile)) {\n-                        String templateContent = templatingEngine.compileTemplate(this, bundle, support.templateFile);\n-                        writeToFile(outputFilename, templateContent);\n-                        File written = new File(outputFilename);\n-                        files.add(written);\n-                        if (config.isEnablePostProcessFile()) {\n-                            config.postProcessFile(written, \"supporting-mustache\");\n-                        }\n-                    } else {\n-                        InputStream in = null;\n-\n-                        try {\n-                            in = new FileInputStream(templateFile);\n-                        } catch (Exception e) {\n-                            // continue\n-                        }\n-                        if (in == null) {\n-                            in = this.getClass().getClassLoader().getResourceAsStream(getCPResourcePath(templateFile));\n-                        }\n-                        File outputFile = writeInputStreamToFile(outputFilename, in, templateFile);\n-                        files.add(outputFile);\n-                        if (config.isEnablePostProcessFile() && !dryRun) {\n-                            config.postProcessFile(outputFile, \"supporting-common\");\n-                        }\n-                    }\n-\n-                } else {\n+                if (!ignoreProcessor.allowsFile(new File(outputFilename))) {\n                     if (dryRun) {\n                         dryRunStatusMap.put(outputFilename, new DryRunStatus(java.nio.file.Paths.get(outputFilename), DryRunStatus.State.Ignored));\n                     }\n                     LOGGER.info(\"Skipped generation of {} due to rule in .openapi-generator-ignore\", outputFilename);\n+                    continue;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20259fa2dd640c0166a6517902d4617879bd4437"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgwNzg5NQ==", "bodyText": "Would it make sense to define a type for this? type Body = string | FormData | undefined or something similar?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6027#discussion_r421807895", "createdAt": "2020-05-07T21:33:56Z", "author": {"login": "TiFu"}, "path": "modules/openapi-generator/src/main/resources/typescript/http/http.mustache", "diffHunk": "@@ -112,7 +112,7 @@ export class RequestContext {\n     \treturn this.headers;\n     }\n     \n-    public getBody(): string | FormData { \n+    public getBody(): string | FormData | undefined{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20259fa2dd640c0166a6517902d4617879bd4437"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgxMDk3OA==", "bodyText": "Should generators/jquery.mustache also be removed?", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6027#discussion_r421810978", "createdAt": "2020-05-07T21:40:57Z", "author": {"login": "TiFu"}, "path": "modules/openapi-generator/src/main/resources/typescript/generators/fetch-api.mustache", "diffHunk": "@@ -1,7 +0,0 @@\n-export * from './http/http';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20259fa2dd640c0166a6517902d4617879bd4437"}, "originalPosition": 1}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "20259fa2dd640c0166a6517902d4617879bd4437", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/20259fa2dd640c0166a6517902d4617879bd4437", "committedDate": "2020-05-05T15:56:54Z", "message": "Fix typo in doc comment"}, "afterCommit": {"oid": "4df77dc827de378f3fb6ebe4df696e1454a4c508", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/4df77dc827de378f3fb6ebe4df696e1454a4c508", "committedDate": "2020-05-13T11:21:10Z", "message": "Introduce RequestBody type and remove method check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55f5986ab7e4810e858f0580d34e41a642c236f3", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/55f5986ab7e4810e858f0580d34e41a642c236f3", "committedDate": "2020-05-17T15:34:21Z", "message": "Clean: Remove redundant cliOption definition"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ccd1cb8e1e87b506c852d8b56c4f1044de12767", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/6ccd1cb8e1e87b506c852d8b56c4f1044de12767", "committedDate": "2020-05-17T15:34:22Z", "message": "Remove redundant directory structure in templates\n\nIf we need to have different index.ts files for the different\nframeworks, we can mostly do that in the one mustache file. In the cases\nwhere that is not possible, we can still add a new override file later."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a4bc35346620ffded1d55bf9d412459d887a5f6", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/3a4bc35346620ffded1d55bf9d412459d887a5f6", "committedDate": "2020-05-17T15:34:23Z", "message": "Use File.separator consistently"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e766000fd526ce906c3afa0911517733d74e5fb", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/7e766000fd526ce906c3afa0911517733d74e5fb", "committedDate": "2020-05-17T15:34:23Z", "message": "Only export selected api type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90573a5fa05b932b1f31c500f4f5c3950c0153bb", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/90573a5fa05b932b1f31c500f4f5c3950c0153bb", "committedDate": "2020-05-17T15:34:24Z", "message": "Simplify promise polyfill import\n\nThe behaviour should be the same, according to the es6-promise docs.\nPreviously tsc would report the error:\n> error TS2307: Cannot find module 'es6-promise'."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51ea0e841d65f8df66bf45b5f9d7ccc2f4033c7d", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/51ea0e841d65f8df66bf45b5f9d7ccc2f4033c7d", "committedDate": "2020-05-17T15:34:24Z", "message": "Import HttpFile in all models"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90f2fbbe9b5e680f93bd299f9283d5a4c7e41f6f", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/90f2fbbe9b5e680f93bd299f9283d5a4c7e41f6f", "committedDate": "2020-05-17T15:34:25Z", "message": "Export server configurations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41f5b717110088bd538067e37f0fb891f2cf0e47", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/41f5b717110088bd538067e37f0fb891f2cf0e47", "committedDate": "2020-05-17T15:34:25Z", "message": "Use undefined as default body value\n\nThe empty string is not interpreted as \"no body\" by the browser fetch\napi and thus leads to an exception during get requests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28b47ca1c24b9284277ded2bfaa719d149d4cd58", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/28b47ca1c24b9284277ded2bfaa719d149d4cd58", "committedDate": "2020-05-17T15:34:26Z", "message": "Improve codestyle: prefer guards to nesting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0610d7a66dc60da0a80249fe288bd6b8545ef362", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/0610d7a66dc60da0a80249fe288bd6b8545ef362", "committedDate": "2020-05-17T15:34:26Z", "message": "Remove verbose debug output\n\nThis should not be commited, because every developer has very different\nrequirements what debug information he needs to see."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cda977ab4f44ccdfd441f8b9e36a6eb3d7310679", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/cda977ab4f44ccdfd441f8b9e36a6eb3d7310679", "committedDate": "2020-05-17T15:34:27Z", "message": "Fix: Use cleaned model names for imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b5d89ea4cd35d4ae1f6d9a66807f4f0e3c68978", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/4b5d89ea4cd35d4ae1f6d9a66807f4f0e3c68978", "committedDate": "2020-05-17T15:34:28Z", "message": "Fix: do not call toString on undefined"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "772390e2b6a88586a23cb580719f70470824699b", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/772390e2b6a88586a23cb580719f70470824699b", "committedDate": "2020-05-17T15:34:28Z", "message": "Fix typo in doc comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb57789d4da85fb868aae115e4bf77dfab87a9c5", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/cb57789d4da85fb868aae115e4bf77dfab87a9c5", "committedDate": "2020-05-17T15:34:29Z", "message": "Introduce RequestBody type and remove method check"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4df77dc827de378f3fb6ebe4df696e1454a4c508", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/4df77dc827de378f3fb6ebe4df696e1454a4c508", "committedDate": "2020-05-13T11:21:10Z", "message": "Introduce RequestBody type and remove method check"}, "afterCommit": {"oid": "cb57789d4da85fb868aae115e4bf77dfab87a9c5", "author": {"user": {"login": "bodograumann", "name": "Bodo Graumann"}}, "url": "https://github.com/OpenAPITools/openapi-generator/commit/cb57789d4da85fb868aae115e4bf77dfab87a9c5", "committedDate": "2020-05-17T15:34:29Z", "message": "Introduce RequestBody type and remove method check"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2472, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}