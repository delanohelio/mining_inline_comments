{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3Mjg1Nzg2", "number": 391, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDo1NjozNFrODngA9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDo1NzoxM1rODngCDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyNzQ1NTg5OnYy", "diffSide": "RIGHT", "path": "gnd/build.gradle", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDo1NjozNFrOF1iMRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNTozODo0NlrOF1j9wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY3OTA0NA==", "bodyText": "Nit: Commons -> proper noun", "url": "https://github.com/google/ground-android/pull/391#discussion_r391679044", "createdAt": "2020-03-12T14:56:34Z", "author": {"login": "gino-m"}, "path": "gnd/build.gradle", "diffHunk": "@@ -207,6 +208,10 @@ dependencies {\n \n     implementation \"com.uber.autodispose:autodispose-android:$project.autoDisposeVersion\"\n     implementation \"com.uber.autodispose:autodispose-android-archcomponents:$project.autoDisposeVersion\"\n+\n+    // Apache commons IO", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11330c90c776d4f678c92b808d40c127d25d6081"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTcwODA5OA==", "bodyText": "done!", "url": "https://github.com/google/ground-android/pull/391#discussion_r391708098", "createdAt": "2020-03-12T15:38:46Z", "author": {"login": "scolsen"}, "path": "gnd/build.gradle", "diffHunk": "@@ -207,6 +208,10 @@ dependencies {\n \n     implementation \"com.uber.autodispose:autodispose-android:$project.autoDisposeVersion\"\n     implementation \"com.uber.autodispose:autodispose-android-archcomponents:$project.autoDisposeVersion\"\n+\n+    // Apache commons IO", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY3OTA0NA=="}, "originalCommit": {"oid": "11330c90c776d4f678c92b808d40c127d25d6081"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyNzQ1ODcwOnYy", "diffSide": "RIGHT", "path": "gnd/src/main/java/com/google/android/gnd/persistence/geojson/GeoJsonParser.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDo1NzoxM1rOF1iOEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNTozODo1M1rOF1j-Dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY3OTUwNQ==", "bodyText": "Nit: Please extract Charset to constant.", "url": "https://github.com/google/ground-android/pull/391#discussion_r391679505", "createdAt": "2020-03-12T14:57:13Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/java/com/google/android/gnd/persistence/geojson/GeoJsonParser.java", "diffHunk": "@@ -42,34 +40,24 @@\n \n   private static final String TAG = GeoJsonParser.class.getSimpleName();\n   private final OfflineUuidGenerator uuidGenerator;\n+  private static final String FEATURES_KEY = \"features\";\n \n   @Inject\n   GeoJsonParser(OfflineUuidGenerator uuidGenerator) {\n     this.uuidGenerator = uuidGenerator;\n   }\n \n-  private String readJsonFile(File file) throws IOException {\n-    InputStream is = new FileInputStream(file);\n-    BufferedReader buf = new BufferedReader(new InputStreamReader(is));\n-    StringBuilder sb = new StringBuilder();\n-\n-    int res = buf.read();\n-    while (res != -1) {\n-      sb.append(res);\n-      res = buf.read();\n-    }\n-    return sb.toString();\n-  }\n-\n   /**\n    * Returns the immutable list of tiles specified in {@param geojson} that intersect {@param\n    * bounds}.\n    */\n   public ImmutableList<Tile> intersectingTiles(LatLngBounds bounds, File file) {\n     try {\n-      String fileContents = readJsonFile(file);\n+      String fileContents = FileUtils.readFileToString(file, Charset.forName(\"UTF-8\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11330c90c776d4f678c92b808d40c127d25d6081"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTcwODE3NA==", "bodyText": "Done!", "url": "https://github.com/google/ground-android/pull/391#discussion_r391708174", "createdAt": "2020-03-12T15:38:53Z", "author": {"login": "scolsen"}, "path": "gnd/src/main/java/com/google/android/gnd/persistence/geojson/GeoJsonParser.java", "diffHunk": "@@ -42,34 +40,24 @@\n \n   private static final String TAG = GeoJsonParser.class.getSimpleName();\n   private final OfflineUuidGenerator uuidGenerator;\n+  private static final String FEATURES_KEY = \"features\";\n \n   @Inject\n   GeoJsonParser(OfflineUuidGenerator uuidGenerator) {\n     this.uuidGenerator = uuidGenerator;\n   }\n \n-  private String readJsonFile(File file) throws IOException {\n-    InputStream is = new FileInputStream(file);\n-    BufferedReader buf = new BufferedReader(new InputStreamReader(is));\n-    StringBuilder sb = new StringBuilder();\n-\n-    int res = buf.read();\n-    while (res != -1) {\n-      sb.append(res);\n-      res = buf.read();\n-    }\n-    return sb.toString();\n-  }\n-\n   /**\n    * Returns the immutable list of tiles specified in {@param geojson} that intersect {@param\n    * bounds}.\n    */\n   public ImmutableList<Tile> intersectingTiles(LatLngBounds bounds, File file) {\n     try {\n-      String fileContents = readJsonFile(file);\n+      String fileContents = FileUtils.readFileToString(file, Charset.forName(\"UTF-8\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY3OTUwNQ=="}, "originalCommit": {"oid": "11330c90c776d4f678c92b808d40c127d25d6081"}, "originalPosition": 49}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2631, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}