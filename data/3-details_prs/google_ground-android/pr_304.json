{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwNjkyNzMw", "number": 304, "title": "[Offline sync] Fix storing loading project offline", "bodyText": "Fixes #298. Depends on #293. Includes some small cleanup tasks done while debugging.", "createdAt": "2020-01-08T22:56:54Z", "url": "https://github.com/google/ground-android/pull/304", "merged": true, "mergeCommit": {"oid": "320d3e04a41f3d0ad20deb8c0de85ffd862d498d"}, "closed": true, "closedAt": "2020-01-09T18:01:14Z", "author": {"login": "gino-m"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb4dPVWgH2gAyMzYwNjkyNzMwOjk0MGMyN2MxZWU0YWVlOGJlMzFkZWE1ODM5ZmRiMjY3MzA3MDE3ODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4t3jtAFqTM0MDcwOTcyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "940c27c1ee4aee8be31dea5839fdb26730701788", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/940c27c1ee4aee8be31dea5839fdb26730701788", "committedDate": "2020-01-08T22:38:41Z", "message": "Log failures to load project from local db"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a35639673f42a3607dfc61cc46b8169984b29bc0", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/a35639673f42a3607dfc61cc46b8169984b29bc0", "committedDate": "2020-01-08T22:43:02Z", "message": "Show project selector when project loading fails"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c720a53aed6b9121067bc69e183a953d35feb69b", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/c720a53aed6b9121067bc69e183a953d35feb69b", "committedDate": "2020-01-08T23:35:22Z", "message": "Add JavaDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db08f0cf4e5d2f97b39f0862d8a17fe5c65a962d", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/db08f0cf4e5d2f97b39f0862d8a17fe5c65a962d", "committedDate": "2020-01-08T23:37:17Z", "message": "Rename method for consistency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52b54186325e7fce542f95a46505d2ea78cb48bb", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/52b54186325e7fce542f95a46505d2ea78cb48bb", "committedDate": "2020-01-08T23:46:57Z", "message": "Delete unused method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67387c8e0747582404f2c5223daf071e53b89198", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/67387c8e0747582404f2c5223daf071e53b89198", "committedDate": "2020-01-08T23:50:21Z", "message": "Remove obsolete Timestamps class"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1859f5ed3dec323daa546a577cf3d8e9f53f3024", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/1859f5ed3dec323daa546a577cf3d8e9f53f3024", "committedDate": "2020-01-08T22:57:02Z", "message": "Merge branch 'master' into fix-offline"}, "afterCommit": {"oid": "67387c8e0747582404f2c5223daf071e53b89198", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/67387c8e0747582404f2c5223daf071e53b89198", "committedDate": "2020-01-08T23:50:21Z", "message": "Remove obsolete Timestamps class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f2914dc1ef2a1a6b13137b1ca0f17fe88563625", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/3f2914dc1ef2a1a6b13137b1ca0f17fe88563625", "committedDate": "2020-01-08T23:55:10Z", "message": "Fix JavaDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77763a8ef2f5aade1190c2f9a767c19b65b42d9d", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/77763a8ef2f5aade1190c2f9a767c19b65b42d9d", "committedDate": "2020-01-09T01:40:50Z", "message": "Undo accidental commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a48f937c4e3bde96431395235c6339703d719271", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/a48f937c4e3bde96431395235c6339703d719271", "committedDate": "2020-01-09T02:02:28Z", "message": "Fix saving project locally"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8be71d025b791eedf1650351382338e25526f6d0", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/8be71d025b791eedf1650351382338e25526f6d0", "committedDate": "2020-01-09T02:14:06Z", "message": "Remove 3p RxJava debug lib which may interfere with crashlytics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa8c140b6fc50bfc2d68dfc804f62dbbecde1dc1", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/aa8c140b6fc50bfc2d68dfc804f62dbbecde1dc1", "committedDate": "2020-01-09T02:32:19Z", "message": "Merge branch 'master' into fix-offline"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwMzcyOTc0", "url": "https://github.com/google/ground-android/pull/304#pullrequestreview-340372974", "createdAt": "2020-01-09T09:06:43Z", "commit": {"oid": "aa8c140b6fc50bfc2d68dfc804f62dbbecde1dc1"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQwOTowNjo0M1rOFbu6xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQwOTowNjo0M1rOFbu6xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyNDU4Mw==", "bodyText": "Please remove this", "url": "https://github.com/google/ground-android/pull/304#discussion_r364624583", "createdAt": "2020-01-09T09:06:43Z", "author": {"login": "shobhitagarwal1612"}, "path": "gnd/src/main/java/com/google/android/gnd/repository/ProjectRepository.java", "diffHunk": "@@ -84,8 +84,14 @@ public ProjectRepository(\n \n     return syncProjectWithRemote(id)\n         .doOnSubscribe(__ -> Log.d(TAG, \"Activating project \" + id))\n-        .doOnError(err -> Log.d(TAG, \"Failed to load project from remote\", err))\n-        .onErrorResumeNext(__ -> localDataStore.getProjectById(id).toSingle())\n+        .doOnError(err -> Log.d(TAG, \"Error loading project from remote\", err))\n+        .onErrorResumeNext(\n+            __ ->\n+                localDataStore\n+                    .getProjectById(id)\n+                    .doOnComplete(() -> Log.d(TAG, \"Project not found in local db\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa8c140b6fc50bfc2d68dfc804f62dbbecde1dc1"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff6ad7ef60ac1a529d2a51ad16cba11e28d9f9e4", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/ff6ad7ef60ac1a529d2a51ad16cba11e28d9f9e4", "committedDate": "2020-01-09T14:18:36Z", "message": "Remove duplicate log statement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a56f0c4d419ef1d900214b0cb4cf323edf4d54a6", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/a56f0c4d419ef1d900214b0cb4cf323edf4d54a6", "committedDate": "2020-01-09T14:19:08Z", "message": "Merge remote-tracking branch 'origin/fix-offline' into fix-offline"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "101961596ce0ea2687379555584635cabbc1183b", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/101961596ce0ea2687379555584635cabbc1183b", "committedDate": "2020-01-09T14:29:12Z", "message": "Revert removal of RxJava2Debug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c191f1c6adf3545c14bd1e57987b98fee8c664d", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/8c191f1c6adf3545c14bd1e57987b98fee8c664d", "committedDate": "2020-01-09T14:29:32Z", "message": "Move init of Rx error handler into application"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "baae8e7586c837668d1dd9ac15a749b49a3486d2", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/baae8e7586c837668d1dd9ac15a749b49a3486d2", "committedDate": "2020-01-09T14:58:42Z", "message": "Fix PMD errors"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwNzA5NzIw", "url": "https://github.com/google/ground-android/pull/304#pullrequestreview-340709720", "createdAt": "2020-01-09T18:01:06Z", "commit": {"oid": "baae8e7586c837668d1dd9ac15a749b49a3486d2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1667, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}