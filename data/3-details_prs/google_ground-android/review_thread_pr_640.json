{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3NTA2MDk1", "number": 640, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzowODozOFrOFCen5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzowOToyN1rOFCep9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTQzMjA0OnYy", "diffSide": "RIGHT", "path": "gnd/src/main/java/com/google/android/gnd/util/StreamUtil.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzowODozOVrOIBqVGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzoxODo1M1rOIBrAmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODYxMzAxOA==", "bodyText": "Timber.e", "url": "https://github.com/google/ground-android/pull/640#discussion_r538613018", "createdAt": "2020-12-08T17:08:39Z", "author": {"login": "shobhitagarwal1612"}, "path": "gnd/src/main/java/com/google/android/gnd/util/StreamUtil.java", "diffHunk": "@@ -0,0 +1,42 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.android.gnd.util;\n+\n+import static java8.util.stream.StreamSupport.stream;\n+\n+import java.util.Collections;\n+import java8.util.function.Supplier;\n+import java8.util.stream.Stream;\n+import timber.log.Timber;\n+\n+/** Methods for working with and manipulating {@link java8.util.stream.Stream}s. */\n+public class StreamUtil {\n+\n+  /**\n+   * Executes the specified Supplier, writing throw Error exceptions to debug logs. If an error\n+   * occurs, an empty Stream is returned, otherwise a Stream with only the result of the Supplier is\n+   * returned.\n+   */\n+  public static <R> Stream<R> logErrorsAndSkip(Supplier<R> supplier) {\n+    try {\n+      return stream(Collections.singleton(supplier.get()));\n+    } catch (RuntimeException e) {\n+      Timber.d(e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80774f1aa6d51675cb3f34a2221426d92b387f4a"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODYyMTQ2Ng==", "bodyText": "Not sure at what level these should actually be logged, but will change to e() to err [:))] on the side of caution.", "url": "https://github.com/google/ground-android/pull/640#discussion_r538621466", "createdAt": "2020-12-08T17:16:20Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/java/com/google/android/gnd/util/StreamUtil.java", "diffHunk": "@@ -0,0 +1,42 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.android.gnd.util;\n+\n+import static java8.util.stream.StreamSupport.stream;\n+\n+import java.util.Collections;\n+import java8.util.function.Supplier;\n+import java8.util.stream.Stream;\n+import timber.log.Timber;\n+\n+/** Methods for working with and manipulating {@link java8.util.stream.Stream}s. */\n+public class StreamUtil {\n+\n+  /**\n+   * Executes the specified Supplier, writing throw Error exceptions to debug logs. If an error\n+   * occurs, an empty Stream is returned, otherwise a Stream with only the result of the Supplier is\n+   * returned.\n+   */\n+  public static <R> Stream<R> logErrorsAndSkip(Supplier<R> supplier) {\n+    try {\n+      return stream(Collections.singleton(supplier.get()));\n+    } catch (RuntimeException e) {\n+      Timber.d(e);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODYxMzAxOA=="}, "originalCommit": {"oid": "80774f1aa6d51675cb3f34a2221426d92b387f4a"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODYyNDE1Mg==", "bodyText": "All error type logs are uploaded to crashlytics. So it would be a nice thing for us to keep track of.", "url": "https://github.com/google/ground-android/pull/640#discussion_r538624152", "createdAt": "2020-12-08T17:18:53Z", "author": {"login": "shobhitagarwal1612"}, "path": "gnd/src/main/java/com/google/android/gnd/util/StreamUtil.java", "diffHunk": "@@ -0,0 +1,42 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.android.gnd.util;\n+\n+import static java8.util.stream.StreamSupport.stream;\n+\n+import java.util.Collections;\n+import java8.util.function.Supplier;\n+import java8.util.stream.Stream;\n+import timber.log.Timber;\n+\n+/** Methods for working with and manipulating {@link java8.util.stream.Stream}s. */\n+public class StreamUtil {\n+\n+  /**\n+   * Executes the specified Supplier, writing throw Error exceptions to debug logs. If an error\n+   * occurs, an empty Stream is returned, otherwise a Stream with only the result of the Supplier is\n+   * returned.\n+   */\n+  public static <R> Stream<R> logErrorsAndSkip(Supplier<R> supplier) {\n+    try {\n+      return stream(Collections.singleton(supplier.get()));\n+    } catch (RuntimeException e) {\n+      Timber.d(e);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODYxMzAxOA=="}, "originalCommit": {"oid": "80774f1aa6d51675cb3f34a2221426d92b387f4a"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTQzNzM0OnYy", "diffSide": "RIGHT", "path": "gnd/src/main/java/com/google/android/gnd/persistence/local/room/RoomLocalDataStore.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzowOToyOFrOIBqYxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzoxOToxOFrOIBrCdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODYxMzk1Nw==", "bodyText": "Timber.e", "url": "https://github.com/google/ground-android/pull/640#discussion_r538613957", "createdAt": "2020-12-08T17:09:28Z", "author": {"login": "shobhitagarwal1612"}, "path": "gnd/src/main/java/com/google/android/gnd/persistence/local/room/RoomLocalDataStore.java", "diffHunk": "@@ -268,8 +266,8 @@ public Completable applyAndEnqueue(FeatureMutation mutation) {\n     return featureDao\n         .findById(featureId)\n         .map(f -> FeatureEntity.toFeature(f, project))\n-        .filter(Optional::isPresent)\n-        .map(Optional::get)\n+        .doOnError(e -> Timber.d(e))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80774f1aa6d51675cb3f34a2221426d92b387f4a"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODYyNDYzMA==", "bodyText": "This one is left.", "url": "https://github.com/google/ground-android/pull/640#discussion_r538624630", "createdAt": "2020-12-08T17:19:18Z", "author": {"login": "shobhitagarwal1612"}, "path": "gnd/src/main/java/com/google/android/gnd/persistence/local/room/RoomLocalDataStore.java", "diffHunk": "@@ -268,8 +266,8 @@ public Completable applyAndEnqueue(FeatureMutation mutation) {\n     return featureDao\n         .findById(featureId)\n         .map(f -> FeatureEntity.toFeature(f, project))\n-        .filter(Optional::isPresent)\n-        .map(Optional::get)\n+        .doOnError(e -> Timber.d(e))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODYxMzk1Nw=="}, "originalCommit": {"oid": "80774f1aa6d51675cb3f34a2221426d92b387f4a"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2424, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}