{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzMjc1MDk3", "number": 499, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNDo1NzoxMlrOEFFu_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNToyMTowN1rOEFlVJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNzcyMjg3OnYy", "diffSide": "RIGHT", "path": "gnd/src/main/java/com/google/android/gnd/persistence/geojson/GeoJsonExtent.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNDo1NzoxMlrOGjHLHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNjo0Mzo0N1rOGjKxXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ3MDg3OA==", "bodyText": "This code will work, but the variable names may not always be correct because we can't count on the polygon having the sw coordinate first. Why not just tread the polygon vertices as an arbitrary list of coordinates?", "url": "https://github.com/google/ground-android/pull/499#discussion_r439470878", "createdAt": "2020-06-12T14:57:12Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/java/com/google/android/gnd/persistence/geojson/GeoJsonExtent.java", "diffHunk": "@@ -48,10 +48,10 @@\n       return ImmutableList.of();\n     }\n \n-    double south = sw.optDouble(0, 0.0);\n-    double west = sw.optDouble(1, 0.0);\n-    double north = ne.optDouble(0, 0.0);\n-    double east = ne.optDouble(1, 0.0);\n+    double south = sw.optDouble(1, 0.0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbad72ecae0928ad73063f9870a11bd9c84bf854"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTUyOTgyMg==", "bodyText": "fantastic point! I've updated the implementation to better reflect this 7b660a7", "url": "https://github.com/google/ground-android/pull/499#discussion_r439529822", "createdAt": "2020-06-12T16:43:47Z", "author": {"login": "scolsen"}, "path": "gnd/src/main/java/com/google/android/gnd/persistence/geojson/GeoJsonExtent.java", "diffHunk": "@@ -48,10 +48,10 @@\n       return ImmutableList.of();\n     }\n \n-    double south = sw.optDouble(0, 0.0);\n-    double west = sw.optDouble(1, 0.0);\n-    double north = ne.optDouble(0, 0.0);\n-    double east = ne.optDouble(1, 0.0);\n+    double south = sw.optDouble(1, 0.0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ3MDg3OA=="}, "originalCommit": {"oid": "bbad72ecae0928ad73063f9870a11bd9c84bf854"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0Mjg5OTU3OnYy", "diffSide": "RIGHT", "path": "gnd/src/main/java/com/google/android/gnd/persistence/geojson/GeoJsonExtent.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNToyMTowN1rOGj3Beg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNToyMTowN1rOGj3Beg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDI1NDg0Mg==", "bodyText": "Nice!", "url": "https://github.com/google/ground-android/pull/499#discussion_r440254842", "createdAt": "2020-06-15T15:21:07Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/java/com/google/android/gnd/persistence/geojson/GeoJsonExtent.java", "diffHunk": "@@ -31,32 +37,26 @@\n   }\n \n   ImmutableList<LatLng> getVertices() {\n-    if (geometry.getVertices().isEmpty()) {\n-      return ImmutableList.of();\n-    }\n+    Optional<JSONArray> exteriorRing = geometry.getVertices().map(j -> j.optJSONArray(0));\n \n-    JSONArray g = geometry.getVertices().map(j -> j.optJSONArray(0)).orElse(null);\n+    return ringCoordinatesToLatLngs(exteriorRing.orElse(null));\n+  }\n \n-    if (g == null) {\n+  private ImmutableList<LatLng> ringCoordinatesToLatLngs(JSONArray exteriorRing) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b660a7624ef77f64d31632a2b4a725e95f4334f"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2468, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}