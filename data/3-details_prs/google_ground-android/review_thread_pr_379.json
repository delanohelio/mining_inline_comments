{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5MTQ4MjMz", "number": 379, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxODo0NTo0MFrODizvVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMzo1MDozMlrODnFTxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3ODI1ODc4OnYy", "diffSide": "RIGHT", "path": "gnd/src/main/java/com/google/android/gnd/ui/home/HomeScreenFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxODo0NTo0MFrOFuQyOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxODo0NTo0MFrOFuQyOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDA1MzgxOA==", "bodyText": "We call these \"local\" here, and \"saved\" above.  Is there a more consistent name we can use? From the user's perspective, they will \"join/leave\" a project, which will store them locally for offline use, and sync them when online. Maybe \"offline projects\" would be clear?", "url": "https://github.com/google/ground-android/pull/379#discussion_r384053818", "createdAt": "2020-02-25T18:45:40Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/java/com/google/android/gnd/ui/home/HomeScreenFragment.java", "diffHunk": "@@ -424,7 +427,7 @@ public boolean onBack() {\n   @Override\n   public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n     if (item.getGroupId() == R.id.group_join_project) {\n-      projectSelectorViewModel.activateProject(item.getOrder());\n+      projectSelectorViewModel.activateLocalProject(item.getOrder());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6da192bd5879044d31b7fa3d7353b9e1c03f1749"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3ODI2NTQ5OnYy", "diffSide": "RIGHT", "path": "gnd/src/main/java/com/google/android/gnd/repository/ProjectRepository.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxODo0NzoyM1rOFuQ2Nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxODo0NzoyM1rOFuQ2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDA1NDgzOQ==", "bodyText": "getOfflineProjectsOnceAndStream(), as per https://github.com/google/ground-android/wiki/RxJava-Usage-Guidelines#observable-and-flowable", "url": "https://github.com/google/ground-android/pull/379#discussion_r384054839", "createdAt": "2020-02-25T18:47:23Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/java/com/google/android/gnd/repository/ProjectRepository.java", "diffHunk": "@@ -131,6 +131,10 @@ public void activateProject(String projectId) {\n         .compose(Loadable::loadingOnceAndWrap);\n   }\n \n+  public Flowable<Loadable<List<Project>>> getSavedProjects() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6da192bd5879044d31b7fa3d7353b9e1c03f1749"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMzA4MDM4OnYy", "diffSide": "RIGHT", "path": "gnd/src/main/java/com/google/android/gnd/ui/home/HomeScreenFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMzo1MDozMlrOF03upw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMzo1MDozMlrOF03upw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk4MzMzNQ==", "bodyText": "If the project is not yet activated, value() will return null here. Instead, you can replace the  activeProject null check with Loadable.getValue(activeProject) to cover both cases (i.e. Loadable.getValue(activeProject).ifPresent(p => updateSelectedProjectUI(getSelectedProjectIndex(p)));)", "url": "https://github.com/google/ground-android/pull/379#discussion_r390983335", "createdAt": "2020-03-11T13:50:32Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/java/com/google/android/gnd/ui/home/HomeScreenFragment.java", "diffHunk": "@@ -210,6 +204,13 @@ private void addProjectToNavDrawer(List<Project> projects) {\n           .add(R.id.group_join_project, Menu.NONE, index, projects.get(index).getTitle())\n           .setIcon(R.drawable.ic_menu_project);\n     }\n+\n+    // Highlight active project\n+    Loadable<Project> activeProject = viewModel.getActiveProject().getValue();\n+    if (activeProject != null) {\n+      int index = getSelectedProjectIndex(activeProject.value().get());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93b8709ef048e92209d30538245a709460549aeb"}, "originalPosition": 57}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2621, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}