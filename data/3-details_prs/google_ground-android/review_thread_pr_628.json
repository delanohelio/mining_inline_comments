{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIyNzA3MTg1", "number": 628, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNDozOTo0NlrOFCYUaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzowOTowOFrOFCepJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MDM5OTE1OnYy", "diffSide": "RIGHT", "path": "gnd/src/main/java/com/google/android/gnd/ui/offlinebasemap/OfflineBaseMapsFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNDozOTo0NlrOIBgFGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNTo0MDo0MVrOIBkNng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ0NTA4MA==", "bodyText": "Rather than subscribing and imperatively updating the visibility, can we instead expose an LiveData that is derived from the getOfflineAreas() stream? We've started doing this elsewhere and I think we got the best of both worlds - readable code, and purely functional impl. Wdyt?", "url": "https://github.com/google/ground-android/pull/628#discussion_r538445080", "createdAt": "2020-12-08T14:39:46Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/java/com/google/android/gnd/ui/offlinebasemap/OfflineBaseMapsFragment.java", "diffHunk": "@@ -66,6 +66,17 @@ public View onCreateView(\n     recyclerView.setAdapter(offlineBaseMapListAdapter);\n \n     viewModel.getOfflineAreas().observe(getViewLifecycleOwner(), offlineBaseMapListAdapter::update);\n+    viewModel", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dd3c9f06b091703beb904190c4cde6994510ce5a"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODUxMjc5OA==", "bodyText": "0d480ff", "url": "https://github.com/google/ground-android/pull/628#discussion_r538512798", "createdAt": "2020-12-08T15:40:41Z", "author": {"login": "scolsen"}, "path": "gnd/src/main/java/com/google/android/gnd/ui/offlinebasemap/OfflineBaseMapsFragment.java", "diffHunk": "@@ -66,6 +66,17 @@ public View onCreateView(\n     recyclerView.setAdapter(offlineBaseMapListAdapter);\n \n     viewModel.getOfflineAreas().observe(getViewLifecycleOwner(), offlineBaseMapListAdapter::update);\n+    viewModel", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ0NTA4MA=="}, "originalCommit": {"oid": "dd3c9f06b091703beb904190c4cde6994510ce5a"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MDQwMzEyOnYy", "diffSide": "RIGHT", "path": "gnd/src/main/res/layout/offline_base_map_selector_frag.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNDo0MDoyOFrOIBgHuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNTo0MDo0NFrOIBkN2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ0NTc1Mw==", "bodyText": "Nit: Add blank link above to make the separation of these two elements more visible.", "url": "https://github.com/google/ground-android/pull/628#discussion_r538445753", "createdAt": "2020-12-08T14:40:28Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/res/layout/offline_base_map_selector_frag.xml", "diffHunk": "@@ -51,24 +56,25 @@\n         app:layout_constraintStart_toStartOf=\"parent\"\n         app:layout_constraintTop_toTopOf=\"parent\"\n         app:title=\"@string/offline_base_map_selector\"\n-        app:titleTextColor=\"@color/colorBackground\" />\n-\n-      <com.google.android.material.chip.Chip\n-        android:id=\"@+id/download_button\"\n-        style=\"@style/ChipButton\"\n-        android:layout_width=\"wrap_content\"\n-        android:layout_height=\"wrap_content\"\n-        android:layout_gravity=\"bottom|end\"\n-        android:layout_marginEnd=\"@dimen/chip_button_margin_right\"\n-        android:layout_marginRight=\"@dimen/chip_button_margin_right\"\n-        android:layout_marginBottom=\"@dimen/map_btn_margin_bottom\"\n-        android:elevation=\"6dp\"\n-        android:text=\"@string/offline_base_map_selector_download\"\n-        app:chipIcon=\"@drawable/ic_area_download\"\n-        app:layout_constraintBottom_toBottomOf=\"parent\"\n-        app:layout_constraintEnd_toEndOf=\"parent\"\n-        app:useCompatPadding=\"true\" />\n-\n+        app:titleTextColor=\"@color/colorBackground\">\n+        <com.google.android.material.button.MaterialButton", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dd3c9f06b091703beb904190c4cde6994510ce5a"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODUxMjg1Ng==", "bodyText": "0d480ff", "url": "https://github.com/google/ground-android/pull/628#discussion_r538512856", "createdAt": "2020-12-08T15:40:44Z", "author": {"login": "scolsen"}, "path": "gnd/src/main/res/layout/offline_base_map_selector_frag.xml", "diffHunk": "@@ -51,24 +56,25 @@\n         app:layout_constraintStart_toStartOf=\"parent\"\n         app:layout_constraintTop_toTopOf=\"parent\"\n         app:title=\"@string/offline_base_map_selector\"\n-        app:titleTextColor=\"@color/colorBackground\" />\n-\n-      <com.google.android.material.chip.Chip\n-        android:id=\"@+id/download_button\"\n-        style=\"@style/ChipButton\"\n-        android:layout_width=\"wrap_content\"\n-        android:layout_height=\"wrap_content\"\n-        android:layout_gravity=\"bottom|end\"\n-        android:layout_marginEnd=\"@dimen/chip_button_margin_right\"\n-        android:layout_marginRight=\"@dimen/chip_button_margin_right\"\n-        android:layout_marginBottom=\"@dimen/map_btn_margin_bottom\"\n-        android:elevation=\"6dp\"\n-        android:text=\"@string/offline_base_map_selector_download\"\n-        app:chipIcon=\"@drawable/ic_area_download\"\n-        app:layout_constraintBottom_toBottomOf=\"parent\"\n-        app:layout_constraintEnd_toEndOf=\"parent\"\n-        app:useCompatPadding=\"true\" />\n-\n+        app:titleTextColor=\"@color/colorBackground\">\n+        <com.google.android.material.button.MaterialButton", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ0NTc1Mw=="}, "originalCommit": {"oid": "dd3c9f06b091703beb904190c4cde6994510ce5a"}, "originalPosition": 63}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTQzNTI2OnYy", "diffSide": "RIGHT", "path": "gnd/src/main/java/com/google/android/gnd/ui/offlinebasemap/OfflineBaseMapsFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzowOTowOFrOIBqXaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNzowNzowOFrOIDT8Ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODYxMzYxMQ==", "bodyText": "This can now be set by binding the noAreasDownloadedMessage in the fragment layout. Example:\n\n  \n    \n      ground-android/gnd/src/main/res/layout/edit_observation_frag.xml\n    \n    \n         Line 92\n      in\n      f1d82b9\n    \n    \n    \n    \n\n        \n          \n           android:visibility=\"@{viewModel.isLoading ? View.VISIBLE : View.GONE }\"/>", "url": "https://github.com/google/ground-android/pull/628#discussion_r538613611", "createdAt": "2020-12-08T17:09:08Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/java/com/google/android/gnd/ui/offlinebasemap/OfflineBaseMapsFragment.java", "diffHunk": "@@ -66,6 +66,9 @@ public View onCreateView(\n     recyclerView.setAdapter(offlineBaseMapListAdapter);\n \n     viewModel.getOfflineAreas().observe(getViewLifecycleOwner(), offlineBaseMapListAdapter::update);\n+    viewModel", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d480ff4b2ad4894209d86c815269db0b56fe003"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM0MzMxNQ==", "bodyText": "c6b1a83", "url": "https://github.com/google/ground-android/pull/628#discussion_r540343315", "createdAt": "2020-12-10T17:07:08Z", "author": {"login": "scolsen"}, "path": "gnd/src/main/java/com/google/android/gnd/ui/offlinebasemap/OfflineBaseMapsFragment.java", "diffHunk": "@@ -66,6 +66,9 @@ public View onCreateView(\n     recyclerView.setAdapter(offlineBaseMapListAdapter);\n \n     viewModel.getOfflineAreas().observe(getViewLifecycleOwner(), offlineBaseMapListAdapter::update);\n+    viewModel", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODYxMzYxMQ=="}, "originalCommit": {"oid": "0d480ff4b2ad4894209d86c815269db0b56fe003"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2569, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}