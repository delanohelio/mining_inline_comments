{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE4NTc1MTEw", "number": 625, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNjoxMjozNFrOE3TNhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNjoxMjozNFrOE3TNhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2NDIxODkzOnYy", "diffSide": "RIGHT", "path": "gnd/src/main/java/com/google/android/gnd/ui/home/mapcontainer/MapContainerViewModel.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNjoxMjozNFrOHwkJtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwOTozMDozNlrOHxyBSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY4NjAwNg==", "bodyText": "Can we move this to the MapContainerFragment? Only the true/false should be exposed and then the color can be set using data binding. We can also get rid of the BindingAdapter then. Wdyt?", "url": "https://github.com/google/ground-android/pull/625#discussion_r520686006", "createdAt": "2020-11-10T16:12:34Z", "author": {"login": "shobhitagarwal1612"}, "path": "gnd/src/main/java/com/google/android/gnd/ui/home/mapcontainer/MapContainerViewModel.java", "diffHunk": "@@ -99,6 +100,11 @@\n     this.locationLockState =\n         LiveDataReactiveStreams.fromPublisher(\n             locationLockStateFlowable.startWith(BooleanOrError.falseValue()));\n+    this.iconTint =\n+        LiveDataReactiveStreams.fromPublisher(\n+            locationLockStateFlowable\n+                .map(locked -> locked.isTrue() ? R.color.colorMapBlue : R.color.colorGrey800)\n+                .startWith(R.color.colorGrey800));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1cb3c8e10810fac19a551ef59c7931f55e80c9c0"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTQ0NDMyOA==", "bodyText": "How would we use data binding without the BindingAdapter? What would that look like?\nAlso note that we aim to have as little logic as possible in the View components (MapContainerFragment) to improve testability, so moving this in this into the Fragment might be consider a move in the opposite direction. Open to ideas though!", "url": "https://github.com/google/ground-android/pull/625#discussion_r521444328", "createdAt": "2020-11-11T15:37:26Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/java/com/google/android/gnd/ui/home/mapcontainer/MapContainerViewModel.java", "diffHunk": "@@ -99,6 +100,11 @@\n     this.locationLockState =\n         LiveDataReactiveStreams.fromPublisher(\n             locationLockStateFlowable.startWith(BooleanOrError.falseValue()));\n+    this.iconTint =\n+        LiveDataReactiveStreams.fromPublisher(\n+            locationLockStateFlowable\n+                .map(locked -> locked.isTrue() ? R.color.colorMapBlue : R.color.colorGrey800)\n+                .startWith(R.color.colorGrey800));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY4NjAwNg=="}, "originalCommit": {"oid": "1cb3c8e10810fac19a551ef59c7931f55e80c9c0"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk2MTgwMQ==", "bodyText": "On second thought, let's stick with the current approach. Sorry for the confusion!", "url": "https://github.com/google/ground-android/pull/625#discussion_r521961801", "createdAt": "2020-11-12T09:30:36Z", "author": {"login": "shobhitagarwal1612"}, "path": "gnd/src/main/java/com/google/android/gnd/ui/home/mapcontainer/MapContainerViewModel.java", "diffHunk": "@@ -99,6 +100,11 @@\n     this.locationLockState =\n         LiveDataReactiveStreams.fromPublisher(\n             locationLockStateFlowable.startWith(BooleanOrError.falseValue()));\n+    this.iconTint =\n+        LiveDataReactiveStreams.fromPublisher(\n+            locationLockStateFlowable\n+                .map(locked -> locked.isTrue() ? R.color.colorMapBlue : R.color.colorGrey800)\n+                .startWith(R.color.colorGrey800));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY4NjAwNg=="}, "originalCommit": {"oid": "1cb3c8e10810fac19a551ef59c7931f55e80c9c0"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2567, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}