{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA4MjM2MzY4", "number": 600, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMDoyMjoxM1rOEzO5tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMDoyNzo0NFrOEzPBWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyMTU2OTgyOnYy", "diffSide": "RIGHT", "path": "gnd/src/main/java/com/google/android/gnd/model/feature/Feature.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMDoyMjoxM1rOHqVRJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNDo0NToxMVrOHqfUKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE1MDY5Mw==", "bodyText": "This may be a good use of polymorphism, since PointFeature and GeoJsonFeature are mutually exclusive feature types. Wdyt?\nNote that I don't know whether we will want to support drawing of multi-polygons (vs one polygon per feature) in the future; imported GeoJson might be treated differently from polygons that can be edited in the UI (at least for now), which is why I suggested calling the subclass specifically GeoJsonFeature instead of something like MultiPolygonFeature.", "url": "https://github.com/google/ground-android/pull/600#discussion_r514150693", "createdAt": "2020-10-29T10:22:13Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/java/com/google/android/gnd/model/feature/Feature.java", "diffHunk": "@@ -39,8 +52,12 @@\n   @Nullable\n   public abstract String getCaption();\n \n+  @Nullable", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "681ad138ff287bf929b95221e16c77185b47a2a2"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDI2OTE1Mg==", "bodyText": "This is what I went for in the first place. But then I realized that 'point' is a non-null property right now.\nSo this change cannot be made until point becomes optional wherever it is being used.", "url": "https://github.com/google/ground-android/pull/600#discussion_r514269152", "createdAt": "2020-10-29T13:45:08Z", "author": {"login": "shobhitagarwal1612"}, "path": "gnd/src/main/java/com/google/android/gnd/model/feature/Feature.java", "diffHunk": "@@ -39,8 +52,12 @@\n   @Nullable\n   public abstract String getCaption();\n \n+  @Nullable", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE1MDY5Mw=="}, "originalCommit": {"oid": "681ad138ff287bf929b95221e16c77185b47a2a2"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMxNTMwNQ==", "bodyText": "That's why I was suggesting subclassing Feature; PointFeature could have @NonNull getLocation(), and GeoJsonFeature could have @NonNull getPolygons(), for example. Would that work? Might require some changes here and there though, but it would allow us to enforce the presence of a point or polygon at compile time instead of runtime.", "url": "https://github.com/google/ground-android/pull/600#discussion_r514315305", "createdAt": "2020-10-29T14:45:11Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/java/com/google/android/gnd/model/feature/Feature.java", "diffHunk": "@@ -39,8 +52,12 @@\n   @Nullable\n   public abstract String getCaption();\n \n+  @Nullable", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE1MDY5Mw=="}, "originalCommit": {"oid": "681ad138ff287bf929b95221e16c77185b47a2a2"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyMTU4OTM2OnYy", "diffSide": "RIGHT", "path": "gnd/src/main/java/com/google/android/gnd/model/feature/Feature.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMDoyNzo0NFrOHqVdRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMzo0NToxNFrOHqcgNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE1Mzc5Nw==", "bodyText": "If we define this in a subclass of Feature, this accessor can be @NonNull. Same for getPoint.", "url": "https://github.com/google/ground-android/pull/600#discussion_r514153797", "createdAt": "2020-10-29T10:27:44Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/java/com/google/android/gnd/model/feature/Feature.java", "diffHunk": "@@ -39,8 +52,12 @@\n   @Nullable\n   public abstract String getCaption();\n \n+  @Nullable\n   public abstract Point getPoint();\n \n+  @Nullable", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "681ad138ff287bf929b95221e16c77185b47a2a2"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDI2OTIzOQ==", "bodyText": "Same as above", "url": "https://github.com/google/ground-android/pull/600#discussion_r514269239", "createdAt": "2020-10-29T13:45:14Z", "author": {"login": "shobhitagarwal1612"}, "path": "gnd/src/main/java/com/google/android/gnd/model/feature/Feature.java", "diffHunk": "@@ -39,8 +52,12 @@\n   @Nullable\n   public abstract String getCaption();\n \n+  @Nullable\n   public abstract Point getPoint();\n \n+  @Nullable", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE1Mzc5Nw=="}, "originalCommit": {"oid": "681ad138ff287bf929b95221e16c77185b47a2a2"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2550, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}