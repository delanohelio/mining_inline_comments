{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE4NTc1MTEw", "number": 625, "title": "Set GPS lock icon using data bound tint", "bodyText": "Fixes #593.", "createdAt": "2020-11-10T15:35:35Z", "url": "https://github.com/google/ground-android/pull/625", "merged": true, "mergeCommit": {"oid": "aa6264e130de02c7317ad6119b89e04806cad90a"}, "closed": true, "closedAt": "2020-11-12T09:30:52Z", "author": {"login": "gino-m"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbIccdAH2gAyNTE4NTc1MTEwOjUzNTU5OTZkM2E1NzgyMjNmMmQ5Zjk4YzEzMjk0OTU3NjRlNDAzM2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdbvLAYgFqTUyODkwMDQwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5355996d3a578223f2d9f98c1329495764e4033c", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/5355996d3a578223f2d9f98c1329495764e4033c", "committedDate": "2020-11-10T12:23:30Z", "message": "Set GPS lock icon using data bound tint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7e32a67029bf6430cf0bdddcc15b651d02f7d44", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/c7e32a67029bf6430cf0bdddcc15b651d02f7d44", "committedDate": "2020-11-10T12:36:14Z", "message": "Move default lock value up to LiveData streams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbbee78e5825da541ead4cd18d60ceee49d0fa7e", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/cbbee78e5825da541ead4cd18d60ceee49d0fa7e", "committedDate": "2020-11-10T12:41:17Z", "message": "Remove transparency from location lock icon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fe82861cb044f0b4a6a07147553a7dbd997d44a", "author": {"user": {"login": "shobhitagarwal1612", "name": "Shobhit Agarwal"}}, "url": "https://github.com/google/ground-android/commit/1fe82861cb044f0b4a6a07147553a7dbd997d44a", "committedDate": "2020-11-10T15:38:56Z", "message": "Merge branch 'master' into issue-593"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3aac71c9a2be5e9526398839d941af48795536cf", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/3aac71c9a2be5e9526398839d941af48795536cf", "committedDate": "2020-11-10T15:47:35Z", "message": "Restore PNG location lock icons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f7b996504a89064876b2797f2bd7c1200dff78c", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/2f7b996504a89064876b2797f2bd7c1200dff78c", "committedDate": "2020-11-10T15:52:13Z", "message": "Merge remote-tracking branch 'origin/issue-593' into issue-593"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cb3c8e10810fac19a551ef59c7931f55e80c9c0", "author": {"user": {"login": "shobhitagarwal1612", "name": "Shobhit Agarwal"}}, "url": "https://github.com/google/ground-android/commit/1cb3c8e10810fac19a551ef59c7931f55e80c9c0", "committedDate": "2020-11-10T16:02:59Z", "message": "Merge branch 'master' into issue-593"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3MzY3MDEy", "url": "https://github.com/google/ground-android/pull/625#pullrequestreview-527367012", "createdAt": "2020-11-10T16:12:34Z", "commit": {"oid": "1cb3c8e10810fac19a551ef59c7931f55e80c9c0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNjoxMjozNFrOHwkJtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNjoxMjozNFrOHwkJtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY4NjAwNg==", "bodyText": "Can we move this to the MapContainerFragment? Only the true/false should be exposed and then the color can be set using data binding. We can also get rid of the BindingAdapter then. Wdyt?", "url": "https://github.com/google/ground-android/pull/625#discussion_r520686006", "createdAt": "2020-11-10T16:12:34Z", "author": {"login": "shobhitagarwal1612"}, "path": "gnd/src/main/java/com/google/android/gnd/ui/home/mapcontainer/MapContainerViewModel.java", "diffHunk": "@@ -99,6 +100,11 @@\n     this.locationLockState =\n         LiveDataReactiveStreams.fromPublisher(\n             locationLockStateFlowable.startWith(BooleanOrError.falseValue()));\n+    this.iconTint =\n+        LiveDataReactiveStreams.fromPublisher(\n+            locationLockStateFlowable\n+                .map(locked -> locked.isTrue() ? R.color.colorMapBlue : R.color.colorGrey800)\n+                .startWith(R.color.colorGrey800));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1cb3c8e10810fac19a551ef59c7931f55e80c9c0"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4efe28c29edc3b8f4dcb5ae6650d69dc45213e0", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/b4efe28c29edc3b8f4dcb5ae6650d69dc45213e0", "committedDate": "2020-11-10T16:54:21Z", "message": "Restore PNG location lock icons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc7c7d86ca68cec209295675f29de43a69b94199", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/fc7c7d86ca68cec209295675f29de43a69b94199", "committedDate": "2020-11-10T16:54:34Z", "message": "Merge remote-tracking branch 'origin/issue-593' into issue-593"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2df14be60082a5f935af8e8ec1927e058eac9663", "author": {"user": {"login": "gino-m", "name": "Gino Miceli"}}, "url": "https://github.com/google/ground-android/commit/2df14be60082a5f935af8e8ec1927e058eac9663", "committedDate": "2020-11-11T15:43:36Z", "message": "Add required XML header"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4OTAwNDA1", "url": "https://github.com/google/ground-android/pull/625#pullrequestreview-528900405", "createdAt": "2020-11-12T09:30:36Z", "commit": {"oid": "2df14be60082a5f935af8e8ec1927e058eac9663"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwOTozMDozNlrOHxyBSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwOTozMDozNlrOHxyBSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk2MTgwMQ==", "bodyText": "On second thought, let's stick with the current approach. Sorry for the confusion!", "url": "https://github.com/google/ground-android/pull/625#discussion_r521961801", "createdAt": "2020-11-12T09:30:36Z", "author": {"login": "shobhitagarwal1612"}, "path": "gnd/src/main/java/com/google/android/gnd/ui/home/mapcontainer/MapContainerViewModel.java", "diffHunk": "@@ -99,6 +100,11 @@\n     this.locationLockState =\n         LiveDataReactiveStreams.fromPublisher(\n             locationLockStateFlowable.startWith(BooleanOrError.falseValue()));\n+    this.iconTint =\n+        LiveDataReactiveStreams.fromPublisher(\n+            locationLockStateFlowable\n+                .map(locked -> locked.isTrue() ? R.color.colorMapBlue : R.color.colorGrey800)\n+                .startWith(R.color.colorGrey800));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY4NjAwNg=="}, "originalCommit": {"oid": "1cb3c8e10810fac19a551ef59c7931f55e80c9c0"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1653, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}