{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxODUzNzMz", "number": 568, "title": "[Bug] Load all features after activating project", "bodyText": "Fixes #470\n\nAdded detailed explanation about the solution in the commit description.\n\n\nSteps to verify bug:\n\nLogin into app with test user\nChoose 'sample project' from the list of projects\nAll features should be loaded on first attempt\n\n\n@gino-m  PTAL?", "createdAt": "2020-08-21T21:02:11Z", "url": "https://github.com/google/ground-android/pull/568", "merged": true, "mergeCommit": {"oid": "883f1983ce4d467c466fb305235272783f774c46"}, "closed": true, "closedAt": "2020-09-21T18:29:54Z", "author": {"login": "shobhitagarwal1612"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdBLNRsgH2gAyNDcxODUzNzMzOjc5ZWEyNmUwNzk3ZTFjOTdmMThhOTA1ZTNkZTZmZjhiOGRlMTZjZjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLHt1WAFqTQ5Mjg3NTg0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "79ea26e0797e1c97f18a905e3de6ff8b8de16cf7", "author": {"user": {"login": "shobhitagarwal1612", "name": "Shobhit Agarwal"}}, "url": "https://github.com/google/ground-android/commit/79ea26e0797e1c97f18a905e3de6ff8b8de16cf7", "committedDate": "2020-08-21T20:54:37Z", "message": "Keep previous subscription while mapping upstream to completable\n\nswitchMapCompletable maps the upstream values into CompletableSources, subscribes to the newer one while disposing the subscription to the previous CompletableSources\n\nflatMapCompletable maps each element of the upstream into CompletableSources, subscribes to them and waits until the upstream and all CompletableSources complete\n\nHuge shout out to Gino for finding this needle in the hay!"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1992abbf2d06ee65b3e1079ad54f01362af35e7e", "author": {"user": {"login": "shobhitagarwal1612", "name": "Shobhit Agarwal"}}, "url": "https://github.com/google/ground-android/commit/1992abbf2d06ee65b3e1079ad54f01362af35e7e", "committedDate": "2020-08-21T20:56:27Z", "message": "Use ImmutableList instead and replace log with timber"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NzIyNzI5", "url": "https://github.com/google/ground-android/pull/568#pullrequestreview-475722729", "createdAt": "2020-08-26T17:51:07Z", "commit": {"oid": "1992abbf2d06ee65b3e1079ad54f01362af35e7e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNzo1MTowN1rOHHXJfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNzo1MTowN1rOHHXJfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ4MTM0Mw==", "bodyText": "Consider using ImmutableList.builder() instead of copying the list at the end.", "url": "https://github.com/google/ground-android/pull/568#discussion_r477481343", "createdAt": "2020-08-26T17:51:07Z", "author": {"login": "gino-m"}, "path": "gnd/src/main/java/com/google/android/gnd/persistence/local/room/converter/ResponseJsonConverter.java", "diffHunk": "@@ -66,6 +67,6 @@ private static Object toJsonArray(MultipleChoiceResponse response) {\n         Timber.e(\"Error parsing JSONArray in db: %s\", jsonArray);\n       }\n     }\n-    return list;\n+    return ImmutableList.copyOf(list);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1992abbf2d06ee65b3e1079ad54f01362af35e7e"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39cd7aecf26f25a03cbddeb640ad4d7d66c14e11", "author": {"user": {"login": "shobhitagarwal1612", "name": "Shobhit Agarwal"}}, "url": "https://github.com/google/ground-android/commit/39cd7aecf26f25a03cbddeb640ad4d7d66c14e11", "committedDate": "2020-09-03T16:18:51Z", "message": "Merge branch 'master' into issue-470"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecb137de5c65ae0d3208f3a483823c99db3f98c7", "author": {"user": {"login": "shobhitagarwal1612", "name": "Shobhit Agarwal"}}, "url": "https://github.com/google/ground-android/commit/ecb137de5c65ae0d3208f3a483823c99db3f98c7", "committedDate": "2020-09-03T16:21:50Z", "message": "Use ImmutableList.builder() instead of ImmutableList.of()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb1026b57c8f928c641ece1a40444b2d551923cd", "author": {"user": {"login": "shobhitagarwal1612", "name": "Shobhit Agarwal"}}, "url": "https://github.com/google/ground-android/commit/bb1026b57c8f928c641ece1a40444b2d551923cd", "committedDate": "2020-09-05T17:24:58Z", "message": "Merge branch 'master' into issue-470"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36bc3f76b78d9d48694ac5377e24f9f687f5771f", "author": {"user": {"login": "shobhitagarwal1612", "name": "Shobhit Agarwal"}}, "url": "https://github.com/google/ground-android/commit/36bc3f76b78d9d48694ac5377e24f9f687f5771f", "committedDate": "2020-09-15T14:56:49Z", "message": "Merge branch 'master' into issue-470"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyODc1ODQx", "url": "https://github.com/google/ground-android/pull/568#pullrequestreview-492875841", "createdAt": "2020-09-21T18:29:48Z", "commit": {"oid": "36bc3f76b78d9d48694ac5377e24f9f687f5771f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1610, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}