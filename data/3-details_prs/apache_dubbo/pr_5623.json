{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwOTk4MDcy", "number": 5623, "title": "backward compatible with ListenableFilter", "bodyText": "fix #5619\nThis pr is to fix the bug that is not compatible with the previous listenable filter in version 2.7.5, but if this pr is used, it will not be compatible with the filter created by the  listener declared in 2.7.5. I think this should be regarded as an urgent bug-fix.\n@chickenlj What do you think?  Is there any other way to solve this problem perfectly?", "createdAt": "2020-01-09T14:50:24Z", "url": "https://github.com/apache/dubbo/pull/5623", "merged": true, "mergeCommit": {"oid": "63809bf8e3bd556d2da4cea8affa9f530ee026a6"}, "closed": true, "closedAt": "2020-01-10T04:00:36Z", "author": {"login": "CodingSinger"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb4rESEgH2gAyMzYwOTk4MDcyOmIyOWJhMzQyZWVmZDdhYzgzZDRhYjUwZTI4YTNiMjkzNWU4MWY5Mzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb47fZjgFqTM0MTA1NTc3NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b29ba342eefd7ac83d4ab50e28a3b2935e81f937", "author": {"user": {"login": "CodingSinger", "name": "zechao zheng"}}, "url": "https://github.com/apache/dubbo/commit/b29ba342eefd7ac83d4ab50e28a3b2935e81f937", "committedDate": "2020-01-09T14:45:17Z", "message": "backward compatible with ListenableFilter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxMDU1Nzc1", "url": "https://github.com/apache/dubbo/pull/5623#pullrequestreview-341055775", "createdAt": "2020-01-10T09:52:42Z", "commit": {"oid": "b29ba342eefd7ac83d4ab50e28a3b2935e81f937"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQwOTo1Mjo0MlrOFcPJsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQwOTo1Mjo0MlrOFcPJsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTE1MjY4OQ==", "bodyText": "I think keep two methods in Listener is better:\ninterface Listener {\n        @Deprecated\n        void onResponse(Result appResponse, Invoker<?> invoker, Invocation invocation);\n\n        default void onMessage(Result appResponse, Invoker<?> invoker, Invocation invocation) {\n                onResponse(appResponse, invoker, invocation);\n        }\n\n        void onError(Throwable t, Invoker<?> invoker, Invocation invocation);\n    }\n\nThen call the onMessage method in ProtocolFilterWrapper, so user can implement eithor onMessage or onResponse method.", "url": "https://github.com/apache/dubbo/pull/5623#discussion_r365152689", "createdAt": "2020-01-10T09:52:42Z", "author": {"login": "RojerAlone"}, "path": "dubbo-rpc/dubbo-rpc-api/src/main/java/org/apache/dubbo/rpc/Filter.java", "diffHunk": "@@ -60,11 +60,19 @@ default Result onResponse(Result appResponse, Invoker<?> invoker, Invocation inv\n         return appResponse;\r\n     }\r\n \r\n+    @Deprecated\r\n     interface Listener {\r\n \r\n+        void onResponse(Result appResponse, Invoker<?> invoker, Invocation invocation);\r\n+\r\n+        void onError(Throwable t, Invoker<?> invoker, Invocation invocation);\r\n+    }\r\n+    interface Listener2 {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b29ba342eefd7ac83d4ab50e28a3b2935e81f937"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2192, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}