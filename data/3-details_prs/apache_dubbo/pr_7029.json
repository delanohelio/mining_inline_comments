{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQwOTg5ODU2", "number": 7029, "title": "Normalize the metadata(\u89c4\u8303\u5316metadata)", "bodyText": "What is the purpose of the change\n\nTypeDefinition#type doesn't have same meaning. for class, it's typeName, for array, it's canonical name.\nThe TypeDefinition of Collection doesn't have items.\nFor complex type, the TypeDefinition is too deep. It could be \"flattened\".\n\nBrief changelog\n\nmake TypeDefinition#type to be canonical name.\ntypes could be \"flattened\", It's easier to generate example data for test service.\n\nVerifying this change\nunit test\nFollow this checklist to help us incorporate your contribution quickly and easily:\n\n Make sure there is a GITHUB_issue field for the change (usually before you start working on it). Trivial changes like typos do not require a GITHUB issue. Your pull request should address just this issue, without pulling in other changes - one PR resolves one issue.\n Format the pull request title like [Dubbo-XXX] Fix UnknownException when host config not exist #XXX. Each commit in the pull request should have a meaningful subject line and body.\n Write a pull request description that is detailed enough to understand what the pull request does, how, and why.\n Write necessary unit-test to verify your logic correction, more mock a little better when cross module dependency exist. If the new feature or significant change is committed, please remember to add sample in dubbo samples project.\n Run mvn clean install -DskipTests=false & mvn clean test-compile failsafe:integration-test to make sure unit-test and integration-test pass.\n\n\n\u53d8\u66f4\u76ee\u6807\n\n\n\u5f53\u524d\uff0cTypeDefinition#type \u5728\u4e0d\u540c\u7684\u60c5\u51b5\u4e0b\u6709\u4e0d\u540c\u7684\u542b\u4e49\uff1a\u5bf9\u4e8e\u666e\u901aclass\u662ftypeName\uff0c\u5bf9\u4e8e\u6570\u7ec4\u662fcanonical name\u3002\n\u6bd4\u5982ComplexObject.InnerObject3[]\n\n\nCollection\u7684TypeDefinition\u6ca1\u6709\u5bf9\u5e94items\u3002\n\n\n\u5bf9\u4e8e\u590d\u6742\u7c7b\u578b\uff0cTypeDefinition\u5c42\u7ea7\u4f1a\u5f88\u6df1\u3002\u53ef\u4ee5\u5c06\u5176\u201c\u644a\u5e73\u201d\uff0c\u5373\u6bcf\u79cd\u7c7b\u578b\u90fd\u4ecetypes\u4e2d\u67e5\u627e\uff0c\u800c\u4e0d\u662f\u9012\u5f52\u67e5\u627eitems\u548cproperties\u3002\n\n\n\u53d8\u66f4\u65e5\u5fd7\n\nTypeDefinition#type\u89c4\u5b9a\u4e3acanonical name\n\u5c06TypeDefinition\u644a\u5e73\uff0c\u5373\u6bcf\u79cd\u7c7b\u578b\u90fd\u4ecetypes\u4e2d\u67e5\u627e\uff0c\u800c\u4e0d\u662f\u9012\u5f52\u67e5\u627eitems\u548cproperties\u3002\n\nVerifying this change\nunit test", "createdAt": "2020-12-16T08:35:33Z", "url": "https://github.com/apache/dubbo/pull/7029", "merged": true, "mergeCommit": {"oid": "7580232b4a1f2a487965ba2b9ba6594e1f5e3a46"}, "closed": true, "closedAt": "2021-01-10T11:02:53Z", "author": {"login": "robberphex"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABduFc87AFqTU2NDEyMjM1Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdusarjgH2gAyNTQwOTg5ODU2Ojg4MzY4MmQ3ZjcyODEzZGQyYWZhOTY4OWIxOWZhMGQxYWQzNmQwYzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY0MTIyMzUy", "url": "https://github.com/apache/dubbo/pull/7029#pullrequestreview-564122352", "createdAt": "2021-01-08T09:38:20Z", "commit": {"oid": "6e449d6dc144938955adf1cbfe38443c184505c9"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQwOTozODoyMFrOIQLm-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQwOTozODozNVrOIQLngw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzgzODMyOA==", "bodyText": "do not merge imports", "url": "https://github.com/apache/dubbo/pull/7029#discussion_r553838328", "createdAt": "2021-01-08T09:38:20Z", "author": {"login": "chickenlj"}, "path": "dubbo-metadata/dubbo-metadata-api/src/main/java/org/apache/dubbo/metadata/definition/model/TypeDefinition.java", "diffHunk": "@@ -19,26 +19,42 @@\n import com.google.gson.annotations.SerializedName;\n \n import java.io.Serializable;\n-import java.util.ArrayList;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.Map;\n-import java.util.Objects;\n+import java.lang.reflect.Type;\n+import java.util.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e449d6dc144938955adf1cbfe38443c184505c9"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzgzODQ2Nw==", "bodyText": "do not merge imports with wildcard", "url": "https://github.com/apache/dubbo/pull/7029#discussion_r553838467", "createdAt": "2021-01-08T09:38:35Z", "author": {"login": "chickenlj"}, "path": "dubbo-metadata/dubbo-metadata-api/src/main/java/org/apache/dubbo/metadata/definition/util/ClassUtils.java", "diffHunk": "@@ -16,9 +16,9 @@\n  */\n package org.apache.dubbo.metadata.definition.util;\n \n-import java.lang.reflect.Field;\n-import java.lang.reflect.Method;\n-import java.lang.reflect.Modifier;\n+import sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl;\n+\n+import java.lang.reflect.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e449d6dc144938955adf1cbfe38443c184505c9"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "883682d7f72813dd2afa9689b19fa0d1ad36d0c6", "author": {"user": {"login": "robberphex", "name": "Robert LU"}}, "url": "https://github.com/apache/dubbo/commit/883682d7f72813dd2afa9689b19fa0d1ad36d0c6", "committedDate": "2021-01-10T07:02:43Z", "message": "[Dubbo-7029] new format ServiceDefinition"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2218, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}