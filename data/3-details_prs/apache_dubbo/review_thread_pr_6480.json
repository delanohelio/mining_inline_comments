{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwMjExNzA1", "number": 6480, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xNFQwNzoyMjoxNFrOFlpVzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xNFQwNzoyMjoxNFrOFlpVzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzc1MDE4OTU3OnYy", "diffSide": "RIGHT", "path": "dubbo-filter/dubbo-filter-cache/src/main/java/org/apache/dubbo/cache/support/expiring/ExpiringMap.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xNFQwNzoyMjoxNFrOI2WEiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0yNFQxMjo1MzozN1rOI8ofgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5Mzg1NTYyNA==", "bodyText": "shall we check if expireThread.getTimeToLive() is zero or even negative", "url": "https://github.com/apache/dubbo/pull/6480#discussion_r593855624", "createdAt": "2021-03-14T07:22:14Z", "author": {"login": "AlbumenJ"}, "path": "dubbo-filter/dubbo-filter-cache/src/main/java/org/apache/dubbo/cache/support/expiring/ExpiringMap.java", "diffHunk": "@@ -84,6 +84,11 @@ public V put(K key, V value) {\n     public V get(Object key) {\n         ExpiryObject object = delegateMap.get(key);\n         if (object != null) {\n+            long timeIdle = System.currentTimeMillis() - object.getLastAccessTime();\n+            if (timeIdle >= expireThread.getTimeToLive() * 1000) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dbed9fc54071813269ce7fdd2603417417d5908"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwMDQ0ODg5Ng==", "bodyText": "oh yes. we should be", "url": "https://github.com/apache/dubbo/pull/6480#discussion_r600448896", "createdAt": "2021-03-24T12:53:37Z", "author": {"login": "wenbochang888"}, "path": "dubbo-filter/dubbo-filter-cache/src/main/java/org/apache/dubbo/cache/support/expiring/ExpiringMap.java", "diffHunk": "@@ -84,6 +84,11 @@ public V put(K key, V value) {\n     public V get(Object key) {\n         ExpiryObject object = delegateMap.get(key);\n         if (object != null) {\n+            long timeIdle = System.currentTimeMillis() - object.getLastAccessTime();\n+            if (timeIdle >= expireThread.getTimeToLive() * 1000) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5Mzg1NTYyNA=="}, "originalCommit": {"oid": "4dbed9fc54071813269ce7fdd2603417417d5908"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2054, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}