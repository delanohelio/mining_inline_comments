{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0NjA2NTc2", "number": 4049, "title": "Fixed automatic location recording", "bodyText": "Closes #3984\nWhat has been done to verify that this works as intended?\nI tested implemented changes manually and added automated tests.\nWhy is this the best possible solution? Were any other approaches considered?\nThis is a bug fix and the only solution. The problem was that we tried to start recording first after clicking Start button and then in onDestroy method we set properties we need to start the process. It should work the other way around.\nHow does this change affect users? Describe intentional changes to behavior and behavior that could have accidentally been affected by code changes. In other words, what are the regression risks?\nIt's just a bug fix so I find it pretty safe. I think that testing recording locations would be enough.\nDo we need any specific form for testing your changes? If so, please attach one.\nAny form with GeoTrace/GeoShape widgets like the all widgets form.\nDoes this change require updates to documentation? If so, please file an issue here and include the link below.\nNo.\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-08-27T10:31:23Z", "url": "https://github.com/getodk/collect/pull/4049", "merged": true, "mergeCommit": {"oid": "1c4c6f6fd7f5561209be3837f423e22ad877ad5b"}, "closed": true, "closedAt": "2020-09-07T15:59:15Z", "author": {"login": "grzesiek2010"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdDDMHAgFqTQ3Njg5ODYyOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdDbrKBgFqTQ3ODAyOTE4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2ODk4NjI4", "url": "https://github.com/getodk/collect/pull/4049#pullrequestreview-476898628", "createdAt": "2020-08-27T16:40:10Z", "commit": {"oid": "a8f94c9ecebd940b8ac8db2af0f7ed04a5473da3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxNjo0MDoxMFrOHIYkSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxNjo0MDoxMFrOHIYkSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODU1MzE2MQ==", "bodyText": "How I wish these annotations were more standardized! Since this is an android class, we should use NonNull which is already imported here. I think it makes sense to use this one for classes that are not related to android at all.", "url": "https://github.com/getodk/collect/pull/4049#discussion_r478553161", "createdAt": "2020-08-27T16:40:10Z", "author": {"login": "lognaturel"}, "path": "collect_app/src/main/java/org/odk/collect/android/geo/SettingsDialogFragment.java", "diffHunk": "@@ -35,7 +36,7 @@\n     private int accuracyThresholdIndex = -1;\n \n     @Override\n-    public void onAttach(Context context) {\n+    public void onAttach(@NotNull Context context) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8f94c9ecebd940b8ac8db2af0f7ed04a5473da3"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "503f8b09db07acae742244cfe3045227ecd47a4c", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/503f8b09db07acae742244cfe3045227ecd47a4c", "committedDate": "2020-08-28T06:49:11Z", "message": "Update localtion recording props before starting the process"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6c7cf47038bb4cf2a7f24f775f7dac4e6e909af", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/f6c7cf47038bb4cf2a7f24f775f7dac4e6e909af", "committedDate": "2020-08-28T06:49:11Z", "message": "Code improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25b05bdb7425e5de2c7844596da55802562d1f29", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/25b05bdb7425e5de2c7844596da55802562d1f29", "committedDate": "2020-08-28T06:49:11Z", "message": "Improved tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17a64d473386c824f7b87c22b266da7e2a5c8f48", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/17a64d473386c824f7b87c22b266da7e2a5c8f48", "committedDate": "2020-08-28T06:51:00Z", "message": "Use androidx annotation instead of jetbrains"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a8f94c9ecebd940b8ac8db2af0f7ed04a5473da3", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/a8f94c9ecebd940b8ac8db2af0f7ed04a5473da3", "committedDate": "2020-08-27T10:11:25Z", "message": "Improved tests"}, "afterCommit": {"oid": "17a64d473386c824f7b87c22b266da7e2a5c8f48", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/17a64d473386c824f7b87c22b266da7e2a5c8f48", "committedDate": "2020-08-28T06:51:00Z", "message": "Use androidx annotation instead of jetbrains"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MDI5MTgw", "url": "https://github.com/getodk/collect/pull/4049#pullrequestreview-478029180", "createdAt": "2020-08-28T21:13:35Z", "commit": {"oid": "17a64d473386c824f7b87c22b266da7e2a5c8f48"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2629, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}