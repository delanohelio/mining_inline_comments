{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxNzA5Mjc3", "number": 3625, "title": "Updated minSdkVersion to 21 and removed special cases for APIs under 21 ", "bodyText": "Closes #3624\n\nWhat has been done to verify that this works as intended?\nI tested it.\nWhy is this the best possible solution? Were any other approaches considered?\nI updated the minSdkVersion to 21, and clearing the codebase of special cases for target APIs under 21.\nHow does this change affect users? Describe intentional changes to behavior and behavior that could have accidentally been affected by code changes. In other words, what are the regression risks?\nNo regression risks\nDo we need any specific form for testing your changes? If so, please attach one.\nNo specific form\nDoes this change require updates to documentation? If so, please file an issue here and include the link below.\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-02-06T04:59:54Z", "url": "https://github.com/getodk/collect/pull/3625", "merged": true, "mergeCommit": {"oid": "f47353aaeffa2b2abbff0f007cee460fb42cd66d"}, "closed": true, "closedAt": "2020-02-26T10:42:31Z", "author": {"login": "SaumiaSinghal"}, "timelineItems": {"totalCount": 73, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBjXClgH2gAyMzcxNzA5Mjc3Ojc5MzhjNmM3MWFhYWExNGNlMzYxMDlkZmI3MzZmMWFjNGEyM2UwMDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHyfZdAFqTM2NDE1NTUwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7938c6c71aaaa14ce36109dfb736f1ac4a23e006", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/7938c6c71aaaa14ce36109dfb736f1ac4a23e006", "committedDate": "2020-02-06T04:51:51Z", "message": "updated minSdkVersion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19a281491c93a7b2fe718e0d14bbae1dc22fc92f", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/19a281491c93a7b2fe718e0d14bbae1dc22fc92f", "committedDate": "2020-02-06T07:07:00Z", "message": "removed special cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7adee1f10af9b0d791f2bad26bd41253f5f239a1", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/7adee1f10af9b0d791f2bad26bd41253f5f239a1", "committedDate": "2020-02-06T07:54:45Z", "message": "Merge branch 'master' of https://github.com/opendatakit/collect into Issue#3624\n\nresolved conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43a3ee525a60c86151a900ca34a40b4de033c933", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/43a3ee525a60c86151a900ca34a40b4de033c933", "committedDate": "2020-02-06T09:06:16Z", "message": "fixed pmd"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MzM0MjY2", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-354334266", "createdAt": "2020-02-06T10:13:27Z", "commit": {"oid": "43a3ee525a60c86151a900ca34a40b4de033c933"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDoxMzoyN1rOFmVvaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDoxMzoyN1rOFmVvaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTc0NjQxMQ==", "bodyText": "Isn't this whole class unused now?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r375746411", "createdAt": "2020-02-06T10:13:27Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/utilities/PRNGFixes.java", "diffHunk": "@@ -39,107 +36,13 @@\n  */\n public final class PRNGFixes {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43a3ee525a60c86151a900ca34a40b4de033c933"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MzUyMjk5", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-354352299", "createdAt": "2020-02-06T10:41:26Z", "commit": {"oid": "43a3ee525a60c86151a900ca34a40b4de033c933"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDo0MToyN1rOFmWlqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDo0MToyN1rOFmWlqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTc2MDI5OA==", "bodyText": "Looks like CaptureSelfieActivity should be removed at all because it's unused.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r375760298", "createdAt": "2020-02-06T10:41:27Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/ImageWidget.java", "diffHunk": "@@ -150,11 +148,7 @@ private void captureImage() {\n         errorTextView.setVisibility(View.GONE);\n         Intent intent;\n         if (selfie) {\n-            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n-                intent = new Intent(getContext(), CaptureSelfieActivityNewApi.class);\n-            } else {\n-                intent = new Intent(getContext(), CaptureSelfieActivity.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43a3ee525a60c86151a900ca34a40b4de033c933"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MzU1ODM3", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-354355837", "createdAt": "2020-02-06T10:46:51Z", "commit": {"oid": "43a3ee525a60c86151a900ca34a40b4de033c933"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDo0Njo1MVrOFmWwXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDo0Njo1MVrOFmWwXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTc2MzAzOA==", "bodyText": "The same here, looks as if this class was used just here so we can get rid of it.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r375763038", "createdAt": "2020-02-06T10:46:51Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/VideoWidget.java", "diffHunk": "@@ -352,26 +285,11 @@ public void denied() {\n     private void captureVideo() {\n         Intent i;\n         if (selfie) {\n-            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n-                i = new Intent(getContext(), CaptureSelfieVideoActivityNewApi.class);\n-            } else {\n-                i = new Intent(getContext(), CaptureSelfieVideoActivity.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43a3ee525a60c86151a900ca34a40b4de033c933"}, "originalPosition": 127}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7d0964102031183e96e11d0679b9d5eab57d952", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/a7d0964102031183e96e11d0679b9d5eab57d952", "committedDate": "2020-02-06T15:29:17Z", "message": "removed special cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5500e30c5bc91f788eb91330448f4bac18a5c969", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/5500e30c5bc91f788eb91330448f4bac18a5c969", "committedDate": "2020-02-06T15:48:42Z", "message": "deleted CaptureSelfieActivity and CaptureSelfieVideoActivity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba1a637fbe9e8925e3df7ec519318e5124bc2b2d", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/ba1a637fbe9e8925e3df7ec519318e5124bc2b2d", "committedDate": "2020-02-06T15:57:14Z", "message": "deleted layout-v17"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MDU4OTY1", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-355058965", "createdAt": "2020-02-07T10:21:02Z", "commit": {"oid": "ba1a637fbe9e8925e3df7ec519318e5124bc2b2d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMDoyMTowM1rOFm4hwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMDoyMTowM1rOFm4hwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjMxNjM1Mg==", "bodyText": "If you have resources with specified API level like here v17 it's not only for API 17 but for 17+. I know it's misleading but actually this file is the one we want to keep, it should be moved to general layout folder to replace the one that exists there and then this folder should be removed.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376316352", "createdAt": "2020-02-07T10:21:03Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/layout-v17/range_widget_horizontal.xml", "diffHunk": "@@ -1,67 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba1a637fbe9e8925e3df7ec519318e5124bc2b2d"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85334405da1be6991e32b554cf2ee72d6649424b", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/85334405da1be6991e32b554cf2ee72d6649424b", "committedDate": "2020-02-07T22:58:52Z", "message": "replaced range_widget_horizontal.xml"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7f43f8656c73270908ed75a64d79ce855de91350", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/7f43f8656c73270908ed75a64d79ce855de91350", "committedDate": "2020-02-07T21:53:57Z", "message": "replaced range_widget_horizontal.xml"}, "afterCommit": {"oid": "85334405da1be6991e32b554cf2ee72d6649424b", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/85334405da1be6991e32b554cf2ee72d6649424b", "committedDate": "2020-02-07T22:58:52Z", "message": "replaced range_widget_horizontal.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f252a651b31e8356dcce3737190e8209338af58", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/3f252a651b31e8356dcce3737190e8209338af58", "committedDate": "2020-02-07T23:11:20Z", "message": "removed themes.xml for -v21"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43ff81bf97b0018a56d36c85b2d66e12a605af66", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/43ff81bf97b0018a56d36c85b2d66e12a605af66", "committedDate": "2020-02-07T23:42:51Z", "message": "removed -v21 files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c05dc54448a2a01e53acb83169add2f58945522", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/3c05dc54448a2a01e53acb83169add2f58945522", "committedDate": "2020-02-08T00:53:28Z", "message": "removed activity_capture_selfie.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c7fff33ddbc6c441ee86183772f62f57138dea9", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/2c7fff33ddbc6c441ee86183772f62f57138dea9", "committedDate": "2020-02-08T01:39:28Z", "message": "removed unused Widget.Collect.Button.Custom in styles.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b269f43fc0b9de9a9a41bd83173e3cef3bd55e72", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/b269f43fc0b9de9a9a41bd83173e3cef3bd55e72", "committedDate": "2020-02-08T02:29:11Z", "message": "removed light_theme_tint_list.xml and dark_theme_tint_list.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "271a02b4fd3bf81f8e247d39608a3259fea44b97", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/271a02b4fd3bf81f8e247d39608a3259fea44b97", "committedDate": "2020-02-08T02:36:11Z", "message": "removed redundant attributes toRightOf and toLeftOf"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28742618ae5233465053b52443ece353c4f07d1f", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/28742618ae5233465053b52443ece353c4f07d1f", "committedDate": "2020-02-08T02:54:14Z", "message": "removed redundant attributes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8999df0b9e12ff78c90690a693dc53aa1ac0ff9b", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/8999df0b9e12ff78c90690a693dc53aa1ac0ff9b", "committedDate": "2020-02-08T03:07:30Z", "message": "removed redundant attributes in layout files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/064f809d17fbb29be806268ec3563d0a1bda1042", "committedDate": "2020-02-08T03:15:10Z", "message": "removed redundant attribute marginLeft in geopolyDialog.xml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NzY3NDgz", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-355767483", "createdAt": "2020-02-10T08:53:46Z", "commit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1Mzo0NlrOFnd90Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1Mzo0NlrOFnd90Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkyOTc0NQ==", "bodyText": "Now it doesn't make sense to keep this class. Could you get rid of it and use View.generateViewId() everywhere instead?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376929745", "createdAt": "2020-02-10T08:53:46Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/utilities/ViewIds.java", "diffHunk": "@@ -1,47 +1,17 @@\n package org.odk.collect.android.utilities;\n \n-import android.os.Build;\n import android.view.View;\n \n-import java.util.concurrent.atomic.AtomicInteger;\n-\n public class ViewIds {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NzY5NzE1", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-355769715", "createdAt": "2020-02-10T08:57:33Z", "commit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1NzozM1rOFneEkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1NzozM1rOFneEkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkzMTQ3NA==", "bodyText": "Please get rid of this extra empty line. Hmm it should break the build, i'm wondering why it didn't happen in this case.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376931474", "createdAt": "2020-02-10T08:57:33Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/ImageWidget.java", "diffHunk": "@@ -64,6 +62,7 @@ public ImageWidget(Context context, final QuestionDetails prompt) {\n         addAnswerView(answerLayout);\n     }\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NzcwMzU2", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-355770356", "createdAt": "2020-02-10T08:58:39Z", "commit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1ODozOVrOFneGiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1ODozOVrOFneGiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkzMTk3Nw==", "bodyText": "Please rename this class removing NewApi because now it's misleading.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376931977", "createdAt": "2020-02-10T08:58:39Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieActivityNewApi.java", "diffHunk": "@@ -28,7 +26,6 @@\n \n import static org.odk.collect.android.utilities.PermissionUtils.isCameraPermissionGranted;\n \n-@TargetApi(Build.VERSION_CODES.LOLLIPOP)\n public class CaptureSelfieActivityNewApi extends CollectAbstractActivity {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NzcwNjAy", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-355770602", "createdAt": "2020-02-10T08:59:04Z", "commit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1OTowNFrOFneHVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1OTowNFrOFneHVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkzMjE4MA==", "bodyText": "Please rename this class removing NewApi because now it's misleading.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376932180", "createdAt": "2020-02-10T08:59:04Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieVideoActivityNewApi.java", "diffHunk": "@@ -28,7 +26,6 @@\n \n import static org.odk.collect.android.utilities.PermissionUtils.areCameraAndRecordAudioPermissionsGranted;\n \n-@TargetApi(Build.VERSION_CODES.LOLLIPOP)\n public class CaptureSelfieVideoActivityNewApi extends Activity {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NzcyMzQ1", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-355772345", "createdAt": "2020-02-10T09:02:09Z", "commit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOTowMjowOVrOFneMiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOTowMjowOVrOFneMiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkzMzUxNQ==", "bodyText": "There is something wrong here, KITKAT won't be supported so you don't need this check.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376933515", "createdAt": "2020-02-10T09:02:09Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/RangeWidget.java", "diffHunk": "@@ -172,14 +170,10 @@ private void setUpSeekBar() {\n         seekBar.setOnSeekBarChangeListener(this);\n         if (isRTL()) {\n             float rotate = seekBar.getRotation();\n-            if (Build.VERSION.SDK_INT == Build.VERSION_CODES.KITKAT ||\n-                    Build.VERSION.SDK_INT == Build.VERSION_CODES.JELLY_BEAN_MR2) {\n+            if (Build.VERSION.SDK_INT == Build.VERSION_CODES.KITKAT) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1Nzc3NzA0", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-355777704", "createdAt": "2020-02-10T09:11:43Z", "commit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOToxMTo0M1rOFnec4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOToxMTo0M1rOFnec4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkzNzY5Ng==", "bodyText": "Why did you remove this file? The comment is clear and I explained above:\n\nif you have resources with specified API level like here v17 it's not only for API 17 but for 17+. I know it's misleading but actually this file is the one we want to keep, it should be moved to general layout folder to replace the one that exists there and then this folder should be removed.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376937696", "createdAt": "2020-02-10T09:11:43Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/values-v21/themes.xml", "diffHunk": "@@ -1,19 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>\n-\n-<!--\n-    This file contains the app's light and dark theme definitions for\n-    API 21 and above", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NzgxOTYy", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-355781962", "createdAt": "2020-02-10T09:18:29Z", "commit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOToxODozMFrOFneqLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOToxODozMFrOFneqLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njk0MTEwMw==", "bodyText": "Again we need this file it's for api 21+.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376941103", "createdAt": "2020-02-10T09:18:30Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/drawable-v21/action_bar_shadow.xml", "diffHunk": "@@ -1,20 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NzgyNzM5", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-355782739", "createdAt": "2020-02-10T09:19:50Z", "commit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOToxOTo1MFrOFneswA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOToxOTo1MFrOFneswA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njk0MTc2MA==", "bodyText": "We need this file it's for api 21+. You just need to move it to the main layout package to replace the one for other APIs.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376941760", "createdAt": "2020-02-10T09:19:50Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/layout-v21/toolbar_action_bar_shadow.xml", "diffHunk": "@@ -1,6 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1OTQ5MzA1", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-355949305", "createdAt": "2020-02-10T13:50:41Z", "commit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fbbe51b3d8ab82e0b293af643a95766ce7a0361", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/6fbbe51b3d8ab82e0b293af643a95766ce7a0361", "committedDate": "2020-02-10T15:29:29Z", "message": "deleted ViewIds.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f6f5a21202799d2d215ae789fe307da3cce6a8c", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/7f6f5a21202799d2d215ae789fe307da3cce6a8c", "committedDate": "2020-02-10T15:38:03Z", "message": "refractor CaptureSelfieActivity and CaptureSelfieVideoActivity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "757fbab421cd6ba25b678063b80e7206c47717ab", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/757fbab421cd6ba25b678063b80e7206c47717ab", "committedDate": "2020-02-10T15:49:43Z", "message": "made changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8b05bdcace920618c04e2dfb79b1d6d20717176", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/d8b05bdcace920618c04e2dfb79b1d6d20717176", "committedDate": "2020-02-10T18:41:58Z", "message": "revert changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a6c6929bc91911461c7f0fc08bf4022eb7ebbe2", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/5a6c6929bc91911461c7f0fc08bf4022eb7ebbe2", "committedDate": "2020-02-10T18:44:22Z", "message": "fixed pmd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5fc5c85f5ec07baab8219689d588fdb7823e462", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/a5fc5c85f5ec07baab8219689d588fdb7823e462", "committedDate": "2020-02-11T21:31:36Z", "message": "revert changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6fa089cbad9e980368aa64c8034520ca673ccf2", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/c6fa089cbad9e980368aa64c8034520ca673ccf2", "committedDate": "2020-02-11T21:34:24Z", "message": "resolved conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/d07273805e0189f28b711bc3d29afe4a184696ee", "committedDate": "2020-02-11T21:40:11Z", "message": "resolved conflicts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3NjUwMDE2", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-357650016", "createdAt": "2020-02-12T17:34:38Z", "commit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNzozNDozOFrOFo4Axw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNzo0MzozOVrOFo4UIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQwNTA2Mw==", "bodyText": "Probably don't need this comment any longer!", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378405063", "createdAt": "2020-02-12T17:34:38Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/fragments/AppListFragment.java", "diffHunk": "@@ -104,12 +103,10 @@ public static void toggleButtonLabel(Button toggleButton, ListView lv) {\n     public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n         super.onViewCreated(view, savedInstanceState);\n \n-        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n-            // Use the nicer-looking drawable with Material Design insets.\n-            ListView listView = getListView();\n-            listView.setDivider(getResources().getDrawable(R.drawable.list_item_divider, getActivity().getTheme()));\n-            listView.setDividerHeight(1);\n-        }\n+        // Use the nicer-looking drawable with Material Design insets.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQwNjEyOA==", "bodyText": "We can probably lose this @SupressLint", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378406128", "createdAt": "2020-02-12T17:36:36Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/utilities/MediaUtils.java", "diffHunk": "@@ -419,32 +418,7 @@ public static final int deleteVideoInFolderFromMediaProvider(File folder) {\n      */\n     @SuppressLint(\"NewApi\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQxMDAxOA==", "bodyText": "I think we're still missing this one unless I just can't see it?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378410018", "createdAt": "2020-02-12T17:43:39Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/res/layout-v17/range_widget_horizontal.xml", "diffHunk": "@@ -1,67 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjMxNjM1Mg=="}, "originalCommit": {"oid": "ba1a637fbe9e8925e3df7ec519318e5124bc2b2d"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3ODI2OTU2", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-357826956", "createdAt": "2020-02-12T22:12:44Z", "commit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoxMjo0NFrOFpAc5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoxMjo0NFrOFpAc5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU0MzMzNQ==", "bodyText": "Since now we won't support lower versions you can get rid of this comment.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378543335", "createdAt": "2020-02-12T22:12:44Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/values/themes.xml", "diffHunk": "@@ -2,12 +2,18 @@\n \n <!--\n     This file contains the app's light and dark theme definitions for\n-    API 20 and below\n+    API 21 and above", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3ODMwNDc0", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-357830474", "createdAt": "2020-02-12T22:19:08Z", "commit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoxOTowOFrOFpAnVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoxOTowOFrOFpAnVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU0NjAwNg==", "bodyText": "Why did you remove it?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378546006", "createdAt": "2020-02-12T22:19:08Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/layout/material_full_screen_dialog_toolbar.xml", "diffHunk": "@@ -13,11 +13,4 @@\n         app:navigationIcon=\"@drawable/ic_close_black_24dp\"\n         tools:title=\"Title\" />\n \n-    <include", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3ODMyMTYy", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-357832162", "createdAt": "2020-02-12T22:22:09Z", "commit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoyMjowOVrOFpAshw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoyMjowOVrOFpAshw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU0NzMzNQ==", "bodyText": "Please rename this layout file as well removing _new_api.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378547335", "createdAt": "2020-02-12T22:22:09Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieActivity.java", "diffHunk": "@@ -16,95 +16,36 @@\n \n package org.odk.collect.android.activities;\n \n-import android.hardware.Camera;\n import android.os.Bundle;\n-import android.view.View;\n import android.view.Window;\n import android.view.WindowManager;\n-import android.widget.FrameLayout;\n \n import org.odk.collect.android.R;\n-import org.odk.collect.android.storage.StoragePathProvider;\n-import org.odk.collect.android.utilities.CameraUtils;\n+import org.odk.collect.android.fragments.Camera2Fragment;\n import org.odk.collect.android.utilities.ToastUtils;\n-import org.odk.collect.android.views.CameraPreview;\n \n-import timber.log.Timber;\n+import static org.odk.collect.android.utilities.PermissionUtils.isCameraPermissionGranted;\n \n public class CaptureSelfieActivity extends CollectAbstractActivity {\n-    private Camera camera;\n-    private CameraPreview preview;\n-    private int cameraId;\n \n     @Override\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n-        requestWindowFeature(Window.FEATURE_NO_TITLE);\n-        getWindow().setFlags(WindowManager\n-                .LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n-\n-        setContentView(R.layout.activity_capture_selfie);\n-        FrameLayout previewLayout = findViewById(R.id.camera_preview);\n-\n-        try {\n-            cameraId = CameraUtils.getFrontCameraId();\n-            camera = CameraUtils.getCameraInstance(this, cameraId);\n-        } catch (Exception e) {\n-            Timber.e(e);\n-        }\n-\n-        preview = new CameraPreview(this, camera);\n-        previewLayout.addView(preview);\n-\n-        preview.setOnClickListener(new View.OnClickListener() {\n-            @Override\n-            public void onClick(View v) {\n-                preview.setEnabled(false);\n-                camera.takePicture(null, null, picture);\n-            }\n-        });\n-\n-        ToastUtils.showLongToast(R.string.take_picture_instruction);\n-    }\n \n-    private final Camera.PictureCallback picture = new Camera.PictureCallback() {\n-        @Override\n-        public void onPictureTaken(byte[] data, Camera camera) {\n-            CameraUtils.savePhoto(new StoragePathProvider().getTmpFilePath(), data);\n-            setResult(RESULT_OK);\n+        if (!isCameraPermissionGranted(this)) {\n             finish();\n+            return;\n         }\n-    };\n \n-    @Override\n-    protected void onPause() {\n-        camera = null;\n-        super.onPause();\n-    }\n-\n-    @Override\n-    protected void onResume() {\n-        super.onResume();\n-\n-        if (camera == null) {\n-            setContentView(R.layout.activity_capture_selfie);\n-            FrameLayout preview = findViewById(R.id.camera_preview);\n-\n-            try {\n-                cameraId = CameraUtils.getFrontCameraId();\n-                camera = CameraUtils.getCameraInstance(this, cameraId);\n-            } catch (Exception e) {\n-                Timber.e(e);\n-            }\n-\n-            this.preview = new CameraPreview(this, camera);\n-            preview.addView(this.preview);\n-            preview.setOnClickListener(new View.OnClickListener() {\n-                @Override\n-                public void onClick(View v) {\n-                    camera.takePicture(null, null, picture);\n-                }\n-            });\n+        requestWindowFeature(Window.FEATURE_NO_TITLE);\n+        getWindow().setFlags(WindowManager\n+                .LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n+        setContentView(R.layout.activity_capture_selfie_new_api);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "originalPosition": 100}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3ODMyNDM2", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-357832436", "createdAt": "2020-02-12T22:22:36Z", "commit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoyMjozNlrOFpAtUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoyMjozNlrOFpAtUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU0NzUzOQ==", "bodyText": "Please rename this layout file as well removing _new_api.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378547539", "createdAt": "2020-02-12T22:22:36Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieVideoActivity.java", "diffHunk": "@@ -17,196 +18,31 @@\n  */\n \n import android.app.Activity;\n-import android.content.Intent;\n-import android.hardware.Camera;\n-import android.media.CamcorderProfile;\n-import android.media.MediaRecorder;\n-import android.net.Uri;\n import android.os.Bundle;\n-import android.view.View;\n-import android.view.Window;\n-import android.view.WindowManager;\n-import android.widget.FrameLayout;\n \n import org.odk.collect.android.R;\n-import org.odk.collect.android.application.Collect;\n-import org.odk.collect.android.utilities.CameraUtils;\n+import org.odk.collect.android.fragments.Camera2VideoFragment;\n import org.odk.collect.android.utilities.ToastUtils;\n-import org.odk.collect.android.views.CameraPreview;\n-\n-import java.io.File;\n-import java.io.IOException;\n-\n-import timber.log.Timber;\n \n-/*https://developer.android.com/guide/topics/media/camera.html#capture-video*/\n+import static org.odk.collect.android.utilities.PermissionUtils.areCameraAndRecordAudioPermissionsGranted;\n \n public class CaptureSelfieVideoActivity extends Activity {\n-    private Camera camera;\n-    private CameraPreview camPreview;\n-    private int cameraId;\n-    private boolean recording;\n-    private MediaRecorder mediaRecorder;\n-    private String outputFile;\n \n     @Override\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n-        requestWindowFeature(Window.FEATURE_NO_TITLE);\n-        getWindow().setFlags(WindowManager\n-                .LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n-\n-        setContentView(R.layout.activity_capture_selfie);\n-        FrameLayout preview = findViewById(R.id.camera_preview);\n-\n-        try {\n-            cameraId = CameraUtils.getFrontCameraId();\n-            camera = CameraUtils.getCameraInstance(this, cameraId);\n-        } catch (Exception e) {\n-            Timber.e(e);\n-        }\n-\n-        this.camPreview = new CameraPreview(this, camera);\n-        preview.addView(this.camPreview);\n-\n-        mediaRecorder = new MediaRecorder();\n-\n-        this.camPreview.setOnClickListener(new View.OnClickListener() {\n-            @Override\n-            public void onClick(View v) {\n-                if (Collect.allowClick(getClass().getName())) {\n-                    if (!recording) {\n-                        // initialize video camera\n-                        if (prepareVideoRecorder()) {\n-                            // Camera is available and unlocked, MediaRecorder is prepared,\n-                            // now you can start recording\n-                            mediaRecorder.start();\n-                            Timber.d(\"Started recording\");\n-\n-                            // inform the user that recording has started\n-                            ToastUtils.showLongToast(getString(R.string.stop_video_capture_instruction));\n-                            recording = true;\n-                        } else {\n-                            // prepare didn't work, release the camera\n-                            releaseMediaRecorder();\n-                        }\n-                    } else {\n-                        try {\n-                            camPreview.setClickable(false);\n-                            Timber.d(\"About to stop recording\");\n-                            mediaRecorder.stop();  // stop the recording\n-\n-                            releaseMediaRecorder(); // release the MediaRecorder object\n-                            camera.lock();         // take camera access back from MediaRecorder\n-                            recording = false;\n-                            releaseCamera();\n-\n-                            Intent i = new Intent();\n-                            i.setData(Uri.fromFile(new File(outputFile)));\n-                            setResult(RESULT_OK, i);\n-                        } catch (RuntimeException e) {\n-                            // RuntimeException is thrown when stop() is called immediately after start().\n-                            // In this case the output file is not properly constructed ans should be deleted.\n-                            Timber.d(\"RuntimeException: stop() is called immediately after start()\");\n-                            //noinspection ResultOfMethodCallIgnored\n-                            new File(outputFile).delete();\n-\n-                            releaseMediaRecorder(); // release the MediaRecorder object\n-                            camera.lock();         // take camera access back from MediaRecorder\n-                            recording = false;\n-                            releaseCamera();\n-                        }\n-                        finish();\n-                    }\n-                }\n-            }\n-        });\n-\n-        ToastUtils.showLongToast(getString(R.string.start_video_capture_instruction));\n-    }\n-\n-    private boolean prepareVideoRecorder() {\n-\n-        mediaRecorder = new MediaRecorder();\n-\n-        // Step 1: Unlock and set camera to MediaRecorder\n-        camera.unlock();\n-        mediaRecorder.setCamera(camera);\n-\n-        // Step 2: Set sources\n-        mediaRecorder.setAudioSource(MediaRecorder.AudioSource.CAMCORDER);\n-        mediaRecorder.setVideoSource(MediaRecorder.VideoSource.CAMERA);\n \n-        // Step 3: Set a CamcorderProfile (requires API Level 8 or higher)\n-        mediaRecorder.setProfile(CamcorderProfile.get(cameraId, CamcorderProfile.QUALITY_HIGH));\n-\n-        // Step 4: Set output file\n-\n-        if (outputFile == null || outputFile.isEmpty()) {\n-            outputFile = CameraUtils.getVideoFilePath(this);\n-        }\n-        mediaRecorder.setOutputFile(outputFile);\n-\n-        // Step 5: Set the preview output\n-        mediaRecorder.setPreviewDisplay(camPreview.getHolder().getSurface());\n-\n-        // Step 6: Prepare configured MediaRecorder\n-        try {\n-            mediaRecorder.prepare();\n-        } catch (IllegalStateException | IOException e) {\n-            Timber.e(e);\n-            releaseMediaRecorder();\n-            return false;\n-        }\n-        return true;\n-    }\n-\n-    private void releaseMediaRecorder() {\n-        if (mediaRecorder != null) {\n-            mediaRecorder.reset();   // clear recorder configuration\n-            mediaRecorder.release(); // release the recorder object\n-            mediaRecorder = null;\n-            camera.lock();           // lock camera for later use\n-        }\n-    }\n-\n-    private void releaseCamera() {\n-        if (camera != null) {\n-            // release the camera for other applications\n-            try {\n-                camera.release();\n-                Timber.i(\"Camera released\");\n-            } catch (Exception e) {\n-                Timber.d(\"Camera has been already released\");\n-            }\n-            camera = null;\n+        if (!areCameraAndRecordAudioPermissionsGranted(this)) {\n+            finish();\n+            return;\n         }\n-    }\n-\n-    @Override\n-    protected void onPause() {\n-        releaseMediaRecorder();       // if you are using MediaRecorder, release it first\n-        releaseCamera();\n-        super.onPause();\n-    }\n \n-    @Override\n-    protected void onResume() {\n-        super.onResume();\n-\n-        if (camera == null) {\n-            setContentView(R.layout.activity_capture_selfie);\n-            FrameLayout preview = findViewById(R.id.camera_preview);\n-\n-            try {\n-                cameraId = CameraUtils.getFrontCameraId();\n-                camera = CameraUtils.getCameraInstance(this, cameraId);\n-            } catch (Exception e) {\n-                Timber.e(e);\n-            }\n-\n-            this.camPreview = new CameraPreview(this, camera);\n-            preview.addView(this.camPreview);\n+        setContentView(R.layout.activity_capture_selfie_video_new_api);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "originalPosition": 216}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1818558b51fb2ed6ac64120789075881c016e27f", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/1818558b51fb2ed6ac64120789075881c016e27f", "committedDate": "2020-02-14T00:59:08Z", "message": "made changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d1fb423e6a7b844bc106663c3d9ce82b97c371f", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/6d1fb423e6a7b844bc106663c3d9ce82b97c371f", "committedDate": "2020-02-14T01:02:47Z", "message": "resolved conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db8a74e58f4e6fd6ea760ef81739cb38978b3d62", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/db8a74e58f4e6fd6ea760ef81739cb38978b3d62", "committedDate": "2020-02-14T01:10:08Z", "message": "fixed pmd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "816bc50a5f629754d5a928f81d6fd5e1a28f02f6", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/816bc50a5f629754d5a928f81d6fd5e1a28f02f6", "committedDate": "2020-02-14T01:28:58Z", "message": "removed comment 'intended for lollipop nad above'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6502f9152d18cfd25fd6617f699b90e263353fc", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/b6502f9152d18cfd25fd6617f699b90e263353fc", "committedDate": "2020-02-14T01:35:53Z", "message": "removed unused xml namespace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e21f4843c0d80afe98d02efb28818f9071d2ae91", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/e21f4843c0d80afe98d02efb28818f9071d2ae91", "committedDate": "2020-02-18T11:26:37Z", "message": "fixed test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwMzEzNDI4", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-360313428", "createdAt": "2020-02-18T12:54:53Z", "commit": {"oid": "e21f4843c0d80afe98d02efb28818f9071d2ae91"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMjo1NDo1M1rOFrBPCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMjo1NDo1M1rOFrBPCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY1MzMyMA==", "bodyText": "There is something to improve in that method as well. Please take a look.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r380653320", "createdAt": "2020-02-18T12:54:53Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/DateWidget.java", "diffHunk": "@@ -223,7 +223,7 @@ private int getTheme() {\n         int theme = 0;\n         // https://github.com/opendatakit/collect/issues/1424\n         // https://github.com/opendatakit/collect/issues/1367\n-        if (!isBrokenSamsungDevice() && Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n+        if (!isBrokenSamsungDevice()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e21f4843c0d80afe98d02efb28818f9071d2ae91"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwMzIyNDky", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-360322492", "createdAt": "2020-02-18T13:09:26Z", "commit": {"oid": "e21f4843c0d80afe98d02efb28818f9071d2ae91"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMzowOToyNlrOFrBqaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMzowOToyNlrOFrBqaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY2MDMyOQ==", "bodyText": "Why did you remove it?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r380660329", "createdAt": "2020-02-18T13:09:26Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/layout/sort_item_layout.xml", "diffHunk": "@@ -20,7 +20,6 @@ the License.\n     android:layout_height=\"wrap_content\"\n     android:clickable=\"true\"\n     android:focusable=\"true\"\n-    android:foreground=\"?android:attr/selectableItemBackground\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e21f4843c0d80afe98d02efb28818f9071d2ae91"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/9f2012f8d670a68f94743adcc619d054e9b44f4b", "committedDate": "2020-02-18T21:45:23Z", "message": "made changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98bfc6170572d534e4f8ee651fdd4e0ec0a00944", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/98bfc6170572d534e4f8ee651fdd4e0ec0a00944", "committedDate": "2020-02-18T21:53:44Z", "message": "TODO task in ServerPreferencesFragment.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f468275590f919301c89322b01e8506de8bfc46", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/2f468275590f919301c89322b01e8506de8bfc46", "committedDate": "2020-02-18T21:58:17Z", "message": "fixed pmd"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwNzQyODgy", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-360742882", "createdAt": "2020-02-18T23:15:36Z", "commit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMzoxNTozN1rOFrV7rQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMzoxNTozN1rOFrV7rQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk5MjQyOQ==", "bodyText": "Why FrameLayout?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r380992429", "createdAt": "2020-02-18T23:15:37Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/layout/sort_item_layout.xml", "diffHunk": "@@ -14,12 +14,13 @@ License for the specific language governing permissions and limitations under\n the License.\n \n -->\n-<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+<FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwNzQzNDMw", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-360743430", "createdAt": "2020-02-18T23:17:02Z", "commit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMzoxNzowMlrOFrV9bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMzoxNzowMlrOFrV9bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk5Mjg3OQ==", "bodyText": "You can now remove UriUtils class and the related UriUtilsTest.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r380992879", "createdAt": "2020-02-18T23:17:02Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/provider/FormsProvider.java", "diffHunk": "@@ -528,14 +528,12 @@ public int update(Uri uri, ContentValues values, String where,\n         return newWhereArgs;\n     }\n \n-    // Leading slashes are removed from paths to support minSdkVersion < 18:\n-    // https://developer.android.com/reference/android/content/UriMatcher\n     static {\n         URI_MATCHER = new UriMatcher(UriMatcher.NO_MATCH);\n-        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, UriUtils.stripLeadingUriSlashes(FormsColumns.CONTENT_URI.getPath()), FORMS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwNzUwMzM0", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-360750334", "createdAt": "2020-02-18T23:34:56Z", "commit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMzozNDo1NlrOFrWTFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMzozNDo1NlrOFrWTFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk5ODQyMg==", "bodyText": "I think it's a wrong solution please take a look at this commit where it was implemented f22b49d and InstancesProvider class.\nI think it should be:\nforms\nforms/#\nuniqueFormsByFormId", "url": "https://github.com/getodk/collect/pull/3625#discussion_r380998422", "createdAt": "2020-02-18T23:34:56Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/provider/FormsProvider.java", "diffHunk": "@@ -528,14 +528,12 @@ public int update(Uri uri, ContentValues values, String where,\n         return newWhereArgs;\n     }\n \n-    // Leading slashes are removed from paths to support minSdkVersion < 18:\n-    // https://developer.android.com/reference/android/content/UriMatcher\n     static {\n         URI_MATCHER = new UriMatcher(UriMatcher.NO_MATCH);\n-        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, UriUtils.stripLeadingUriSlashes(FormsColumns.CONTENT_URI.getPath()), FORMS);\n-        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, UriUtils.stripLeadingUriSlashes(FormsColumns.CONTENT_URI.getPath()) + \"/#\", FORM_ID);\n+        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, FormsColumns.CONTENT_URI.getPath(), FORMS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42e058cdd099fd6f7168eb95b69d48aeb5bd78ab", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/42e058cdd099fd6f7168eb95b69d48aeb5bd78ab", "committedDate": "2020-02-21T11:15:26Z", "message": "deleted UriUtils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78265873180a14fb39573f86c518970feebe3c42", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/78265873180a14fb39573f86c518970feebe3c42", "committedDate": "2020-02-21T11:19:03Z", "message": "deleted ObjectUtils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "005536279258cd4dd0b51772925a9e825bf9e696", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/005536279258cd4dd0b51772925a9e825bf9e696", "committedDate": "2020-02-21T11:25:02Z", "message": "updated FormsProvider"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04e9606575db2b71f1ba3ac3b67b398dabab4be6", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/04e9606575db2b71f1ba3ac3b67b398dabab4be6", "committedDate": "2020-02-21T12:18:06Z", "message": "updated sort_item"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27303466a3bdc4d51d9b5201805141501ee7ae21", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/27303466a3bdc4d51d9b5201805141501ee7ae21", "committedDate": "2020-02-21T14:22:54Z", "message": "updated isBrokenSamsungDevice"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNzc0Mjc2", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-362774276", "createdAt": "2020-02-21T16:56:28Z", "commit": {"oid": "27303466a3bdc4d51d9b5201805141501ee7ae21"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNjo1NjoyOFrOFs9zzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNjo1NjoyOFrOFs9zzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY5NDM1MQ==", "bodyText": "Please get rid of the comment above since the explanation won't be needed now.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r382694351", "createdAt": "2020-02-21T16:56:28Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/utilities/FileUtils.java", "diffHunk": "@@ -587,20 +584,6 @@ public static String getFileExtension(String fileName) {\n     public static void grantFilePermissions(Intent intent, Uri uri, Context context) {\n         intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n         intent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27303466a3bdc4d51d9b5201805141501ee7ae21"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bec8550546e6b89e40dab0946adc9860b53963e6", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/bec8550546e6b89e40dab0946adc9860b53963e6", "committedDate": "2020-02-21T17:03:13Z", "message": "comment removed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f4f6fabbeea0394b10f075486f40c98a3f502bb", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/9f4f6fabbeea0394b10f075486f40c98a3f502bb", "committedDate": "2020-02-24T13:02:22Z", "message": "revreted changes in FormsProvider"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMzg3MzIz", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-363387323", "createdAt": "2020-02-24T13:29:15Z", "commit": {"oid": "9f4f6fabbeea0394b10f075486f40c98a3f502bb"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxMzoyOToxNVrOFtglrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxMzoyOToxNVrOFtglrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2NDE3Mg==", "bodyText": "Why do we still need this comment?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r383264172", "createdAt": "2020-02-24T13:29:15Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieVideoActivity.java", "diffHunk": "@@ -1,13 +1,14 @@\n+\n package org.odk.collect.android.activities;\n \n /*\n- * Copyright (C) 2013 The Android Open Source Project\n+ * Copyright 2014 The Android Open Source Project", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f4f6fabbeea0394b10f075486f40c98a3f502bb"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MTAxOTk3", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-364101997", "createdAt": "2020-02-25T12:27:46Z", "commit": {"oid": "9f4f6fabbeea0394b10f075486f40c98a3f502bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjoyNzo0NlrOFuEOCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjoyNzo0NlrOFuEOCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg0Nzk0NA==", "bodyText": "Please remove this comment", "url": "https://github.com/getodk/collect/pull/3625#discussion_r383847944", "createdAt": "2020-02-25T12:27:46Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java", "diffHunk": "@@ -2783,11 +2782,7 @@ private void displayUIFor(@Nullable BackgroundLocationManager.BackgroundLocation\n         // double space where the placeholder is in the text resource. Collapse those spaces.\n         // See https://github.com/opendatakit/collect/pull/2864", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f4f6fabbeea0394b10f075486f40c98a3f502bb"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MTA5MjYy", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-364109262", "createdAt": "2020-02-25T12:40:42Z", "commit": {"oid": "9f4f6fabbeea0394b10f075486f40c98a3f502bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjo0MDo0MlrOFuEkpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjo0MDo0MlrOFuEkpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg1MzczNA==", "bodyText": "We also don't need this comment anymore.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r383853734", "createdAt": "2020-02-25T12:40:42Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/VideoWidget.java", "diffHunk": "@@ -275,13 +215,6 @@ public void setBinaryData(Object object) {\n         // Need to have this ugly code to account for\n         // a bug in the Nexus 7 on 4.3 not returning the mediaUri in the data\n         // of the intent - uri in this case is a file", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f4f6fabbeea0394b10f075486f40c98a3f502bb"}, "originalPosition": 109}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53a75e3de9d44aab37f7c0553cf0d62798a40271", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/53a75e3de9d44aab37f7c0553cf0d62798a40271", "committedDate": "2020-02-25T12:43:36Z", "message": "removed comment"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f722d1791d260ef423ebf003964ad8218b764efb", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/f722d1791d260ef423ebf003964ad8218b764efb", "committedDate": "2020-02-25T12:42:19Z", "message": "comment removed"}, "afterCommit": {"oid": "53a75e3de9d44aab37f7c0553cf0d62798a40271", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/53a75e3de9d44aab37f7c0553cf0d62798a40271", "committedDate": "2020-02-25T12:43:36Z", "message": "removed comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5851322e32ccff8f4468acb6935e8360b8062c6", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/c5851322e32ccff8f4468acb6935e8360b8062c6", "committedDate": "2020-02-25T13:44:42Z", "message": "removed unused view in material_full_screen_dialog_toolbar.xml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MTU1NTA1", "url": "https://github.com/getodk/collect/pull/3625#pullrequestreview-364155505", "createdAt": "2020-02-25T13:53:06Z", "commit": {"oid": "c5851322e32ccff8f4468acb6935e8360b8062c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2288, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}