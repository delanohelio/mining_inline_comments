{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwOTUyMjg5", "number": 4256, "title": "Add pause/unpause to recording", "bodyText": "Closes #4234\nBlocked by #4241\nThe interface isn't the greatest right now (switches between Pause/Resume with same icon) but will iterate on this when we do design polish.\nWhat has been done to verify that this works as intended?\nNew tests and verified manually.\nWhy is this the best possible solution? Were any other approaches considered?\nJust uses the Android MediaRecorder to pause so no big changes here. Annoyingly this doesn't work below API 24. Additional comments inline.\nHow does this change affect users? Describe intentional changes to behavior and behavior that could have accidentally been affected by code changes. In other words, what are the regression risks?\nDefinitely think we should leave QA on this until we have the \"finished\" (ready for release) feature set.\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-12-02T11:32:16Z", "url": "https://github.com/getodk/collect/pull/4256", "merged": true, "mergeCommit": {"oid": "9e1ae28452c7d5c222afc3326beb5429f2f4e26c"}, "closed": true, "closedAt": "2020-12-03T16:54:33Z", "author": {"login": "seadowg"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdiSN6igH2gAyNTMwOTUyMjg5OjEzZjIxMjIxNTM5ZDRjZDYyNDM5ZTg5ZWUyYTE2YTRmODE2OWM1MDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdimDUugFqTU0NDE2OTY0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "13f21221539d4cd62439e89ee2a16a4f8169c507", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/13f21221539d4cd62439e89ee2a16a4f8169c507", "committedDate": "2020-12-02T17:44:09Z", "message": "Add pause button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1712258486262fd29dc5078f4012cdea14debdae", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/1712258486262fd29dc5078f4012cdea14debdae", "committedDate": "2020-12-02T17:44:09Z", "message": "Implement pause"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "999ee8c5cc8edae10173d3cb763fefa34e60631a", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/999ee8c5cc8edae10173d3cb763fefa34e60631a", "committedDate": "2020-12-02T17:44:10Z", "message": "Make sure time and amplitude updates stop while paused"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de88234a1dbfdb968dd274e65a7839267e28e8d0", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/de88234a1dbfdb968dd274e65a7839267e28e8d0", "committedDate": "2020-12-02T17:44:10Z", "message": "Hide pause button on platforms pause isn't available"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab6efe5ea89e421eb16e4eb0f12eb477b4fdf992", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/ab6efe5ea89e421eb16e4eb0f12eb477b4fdf992", "committedDate": "2020-12-02T17:44:10Z", "message": "Remove unused import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "835796ac05c8c29a22848306a52c6bf1d66c18dd", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/835796ac05c8c29a22848306a52c6bf1d66c18dd", "committedDate": "2020-12-02T17:44:10Z", "message": "Seperate out mediarecorder implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "208c20d5ec9bc8e3b97953cded3b9f5f423ca374", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/208c20d5ec9bc8e3b97953cded3b9f5f423ca374", "committedDate": "2020-12-02T17:44:10Z", "message": "Optimize imports"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3c243c77cb8f80e97f8b0ec8b8be9ba21bf12b09", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/3c243c77cb8f80e97f8b0ec8b8be9ba21bf12b09", "committedDate": "2020-12-02T12:19:11Z", "message": "Optimize imports"}, "afterCommit": {"oid": "208c20d5ec9bc8e3b97953cded3b9f5f423ca374", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/208c20d5ec9bc8e3b97953cded3b9f5f423ca374", "committedDate": "2020-12-02T17:44:10Z", "message": "Optimize imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzMTE4NTg1", "url": "https://github.com/getodk/collect/pull/4256#pullrequestreview-543118585", "createdAt": "2020-12-02T18:23:31Z", "commit": {"oid": "208c20d5ec9bc8e3b97953cded3b9f5f423ca374"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxODoyMzozMlrOH9oVcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxODoyMzozMlrOH9oVcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDM4NjAzNA==", "bodyText": "Naming is hard. I'm attempting to make it clear that this could be implemented using something other than MediaRecorder. It's the direction I think we'd need to take if we look at a lossless codec.", "url": "https://github.com/getodk/collect/pull/4256#discussion_r534386034", "createdAt": "2020-12-02T18:23:32Z", "author": {"login": "seadowg"}, "path": "audiorecorder/src/main/java/org/odk/collect/audiorecorder/DaggerSetup.kt", "diffHunk": "@@ -65,7 +65,7 @@ internal open class AudioRecorderDependencyModule {\n \n     @Provides\n     open fun providesRecorder(application: Application): Recorder {\n-        return MediaRecorderRecorder(application.cacheDir) { RealMediaRecorderWrapper(MediaRecorder()) }\n+        return RecordingResourceRecorder(application.cacheDir) { MediaRecorderRecordingResource(MediaRecorder()) }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "208c20d5ec9bc8e3b97953cded3b9f5f423ca374"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c2b0592916b24aeb6f7782df71f341334c2a814c", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/c2b0592916b24aeb6f7782df71f341334c2a814c", "committedDate": "2020-12-02T18:27:29Z", "message": "Paused doesn't need to be optional"}, "afterCommit": {"oid": "658f2f7594f2f2d18ab2f61f41e9b9e562173bd6", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/658f2f7594f2f2d18ab2f61f41e9b9e562173bd6", "committedDate": "2020-12-02T18:35:22Z", "message": "Paused doesn't need to be optional"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7cc8cda965658b8df07ba6b7d9053fc6f7dc94a", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/f7cc8cda965658b8df07ba6b7d9053fc6f7dc94a", "committedDate": "2020-12-02T18:41:18Z", "message": "Paused doesn't need to be optional"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "658f2f7594f2f2d18ab2f61f41e9b9e562173bd6", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/658f2f7594f2f2d18ab2f61f41e9b9e562173bd6", "committedDate": "2020-12-02T18:35:22Z", "message": "Paused doesn't need to be optional"}, "afterCommit": {"oid": "f7cc8cda965658b8df07ba6b7d9053fc6f7dc94a", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/f7cc8cda965658b8df07ba6b7d9053fc6f7dc94a", "committedDate": "2020-12-02T18:41:18Z", "message": "Paused doesn't need to be optional"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MTY5NjQz", "url": "https://github.com/getodk/collect/pull/4256#pullrequestreview-544169643", "createdAt": "2020-12-03T16:50:41Z", "commit": {"oid": "f7cc8cda965658b8df07ba6b7d9053fc6f7dc94a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2491, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}