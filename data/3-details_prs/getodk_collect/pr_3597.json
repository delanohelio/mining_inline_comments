{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0MzY3NDEx", "number": 3597, "title": "Manifest cleanup in preparation for FileProvider changes", "bodyText": "I am looking at designing the API to support external applications that currently directly read from or write to /sdcard/odk and won't be able to after #3360. There are currently several Android Studio checks failing and those make it hard to see clearly in the manifest. I'd like to make these quick cleanup changes before starting work.\nWhat has been done to verify that this works as intended?\nThere should be no behavioral changes. I ran all tests and also made sure that the app actually launches.\nWhy is this the best possible solution? Were any other approaches considered?\nI split each change into its own commit to explicitly explain why they're being made.\nHow does this change affect users? Describe intentional changes to behavior and behavior that could have accidentally been affected by code changes. In other words, what are the regression risks?\nThere should be no behavior change. The riskiest part is probably 8573897 but the documentation is very explicit about not needing this block and devices that don't support OpenGL 2 must be quite rare by now.\nDo we need any specific form for testing your changes? If so, please attach one.\nNo.\nDoes this change require updates to documentation? If so, please file an issue here and include the link below.\nI have filed getodk/docs#1168 to document backup behavior since it seems like something that users would like to explicitly know about.\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-01-18T00:19:37Z", "url": "https://github.com/getodk/collect/pull/3597", "merged": true, "mergeCommit": {"oid": "abf7be1d3859f20ecb0566eb6fd95d583af78f6d"}, "closed": true, "closedAt": "2020-01-20T17:28:55Z", "author": {"login": "lognaturel"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7WlryAH2gAyMzY0MzY3NDExOjBlM2JkMjg4NTkzZmIzOWY2NjQ4ZGRjOWVlODVlY2Y4MDc2ZTAwYTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8LyHkgFqTM0NTI3NzQ3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0e3bd288593fb39f6648ddc9ee85ecf8076e00a6", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/0e3bd288593fb39f6648ddc9ee85ecf8076e00a6", "committedDate": "2020-01-17T22:35:32Z", "message": "Suppress warning for app indexing which we don't want\n\nApp indexing is particularly useful for applications that include standard content that might be useful for search engines to index. ODK Collect has no such content. We could use deep linking to link to specific activities from the documentation (see https://developer.android.com/training/app-links/deep-linking). However, this is not a priority and the Android Studio warning masks other warnings. Disable it for now."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa9fd400ab04acd78eb19b611f4167315b118f82", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/fa9fd400ab04acd78eb19b611f4167315b118f82", "committedDate": "2020-01-17T22:40:01Z", "message": "Remove redundant Google Maps comment\n\nSee GoogleMapConfigurator.isGoogleMapsSdkAvailable for the same."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "857389707d54369975940bdb318a2a4bcf3911b7", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/857389707d54369975940bdb318a2a4bcf3911b7", "committedDate": "2020-01-17T22:41:59Z", "message": "Remove redundant GL requirement\n\nFrom https://developers.google.com/maps/documentation/android-sdk/config: The Maps SDK for Android uses OpenGL ES version 2 to render the map. The following setting is defined in the Google Play services manifest, and is automatically merged into your app's manifest at build time. You don't need to add it explicitly to your manifest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8bd7fc0a674e81f6fa98f117e89eae6182884ee5", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/8bd7fc0a674e81f6fa98f117e89eae6182884ee5", "committedDate": "2020-01-17T22:50:50Z", "message": "Explicitly opt-in to backups\n\nThis will only affect shared preferences on Android 6+ for now. Once we moved to storing files in getExternalFilesDir, those will be backed up as well, up to 25mb. https://developer.android.com/guide/topics/data/autobackup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea68ef2583b10d602732eedb605056f4c6802f1c", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/ea68ef2583b10d602732eedb605056f4c6802f1c", "committedDate": "2020-01-18T00:20:09Z", "message": "Ignore app link lint check"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c92143a470a76a128ce3d45c19df5407af82622e", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/c92143a470a76a128ce3d45c19df5407af82622e", "committedDate": "2020-01-17T22:57:14Z", "message": "Ignore app link lint check for activities with view actions"}, "afterCommit": {"oid": "ea68ef2583b10d602732eedb605056f4c6802f1c", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/ea68ef2583b10d602732eedb605056f4c6802f1c", "committedDate": "2020-01-18T00:20:09Z", "message": "Ignore app link lint check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1Mjc3NDcx", "url": "https://github.com/getodk/collect/pull/3597#pullrequestreview-345277471", "createdAt": "2020-01-20T12:33:16Z", "commit": {"oid": "ea68ef2583b10d602732eedb605056f4c6802f1c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQxMjozMzoxNlrOFfc8hA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQxMjozMzoxNlrOFfc8hA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODUyNDQyMA==", "bodyText": "I was initially confused why this was added but then I remembered it's true by default. I'm guessing the intention is just to make it explicit here?", "url": "https://github.com/getodk/collect/pull/3597#discussion_r368524420", "createdAt": "2020-01-20T12:33:16Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/AndroidManifest.xml", "diffHunk": "@@ -87,7 +78,8 @@ the specific language governing permissions and limitations under the License.\n         android:label=\"@string/app_name\"\n         android:largeHeap=\"true\"\n         android:supportsRtl=\"true\"\n-        android:usesCleartextTraffic=\"true\">\n+        android:usesCleartextTraffic=\"true\"\n+        android:allowBackup=\"true\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea68ef2583b10d602732eedb605056f4c6802f1c"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2243, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}