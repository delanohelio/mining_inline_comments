{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2NDk5Nzk1", "number": 4241, "title": "Show recording duration and waveform", "bodyText": "Closes #4152\nCloses #4153\nBlocked by #4222\nWhat has been done to verify that this works as intended?\nNew tests and verified manually.\nWhy is this the best possible solution? Were any other approaches considered?\nComments inline.\nHow does this change affect users? Describe intentional changes to behavior and behavior that could have accidentally been affected by code changes. In other words, what are the regression risks?\nI think we want to skip QA on this as it really only touches the new features.\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-11-24T14:01:24Z", "url": "https://github.com/getodk/collect/pull/4241", "merged": true, "mergeCommit": {"oid": "fa3642314b1cfcebed4cec1a1d66458026629a1f"}, "closed": true, "closedAt": "2020-12-02T17:41:09Z", "author": {"login": "seadowg"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdh3TTeAH2gAyNTI2NDk5Nzk1OmRkMTI0ODA1MWMzNjNiY2Y5YjNlN2Y3YjllZDEyZmVlMjA1ZWRlZmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiSLB-AFqTU0MzA4Mzg0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dd1248051c363bcf9b3e7f7b9ed12fee205edefd", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/dd1248051c363bcf9b3e7f7b9ed12fee205edefd", "committedDate": "2020-12-01T10:22:36Z", "message": "Show recording duration in notification"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "433476731ff8c8580c063c212ce866ac85061caa", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/433476731ff8c8580c063c212ce866ac85061caa", "committedDate": "2020-12-01T10:22:41Z", "message": "Move notification code out of service"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f530ac4dab9416c8f1bb47f653149f718c29c85", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/0f530ac4dab9416c8f1bb47f653149f718c29c85", "committedDate": "2020-12-01T10:22:42Z", "message": "Hook up duration but no updates yet"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abdd668c17db4d604935f98ae0afd42a69f7be40", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/abdd668c17db4d604935f98ae0afd42a69f7be40", "committedDate": "2020-12-01T10:22:42Z", "message": "Update duration every second"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be8204151c78fda5195b784fa8272f08e696f0b3", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/be8204151c78fda5195b784fa8272f08e696f0b3", "committedDate": "2020-12-01T10:22:42Z", "message": "Move all foreground service logic into notification class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "198c07129bb951daa1613a07d4c13c182001b141", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/198c07129bb951daa1613a07d4c13c182001b141", "committedDate": "2020-12-01T10:22:42Z", "message": "Visual tweaks based on mockups"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81d75ebcb5406bf6078929526000561cd5cd22b6", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/81d75ebcb5406bf6078929526000561cd5cd22b6", "committedDate": "2020-12-01T10:22:42Z", "message": "Move LengthFormatter to strings module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cbc842d09927b71b201042a6fa438c7a8e9eaf6", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/8cbc842d09927b71b201042a6fa438c7a8e9eaf6", "committedDate": "2020-12-01T10:22:43Z", "message": "Add strings to Circle config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "248a12f42b9726f690eeec0b78fff269dccc1ec7", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/248a12f42b9726f690eeec0b78fff269dccc1ec7", "committedDate": "2020-12-01T10:22:43Z", "message": "Simplify audio recorder interface"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "788a0b8a51395b9ff2972f38f3227a04687854c4", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/788a0b8a51395b9ff2972f38f3227a04687854c4", "committedDate": "2020-12-01T10:22:43Z", "message": "Fix test missing scrolling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef1f27d631288644fe027d2dcccde728a97de763", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/ef1f27d631288644fe027d2dcccde728a97de763", "committedDate": "2020-12-01T10:22:43Z", "message": "Make sure notification doesn't show after recoring stops"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c70687c21c17e687090e60173fd86faeede4dae6", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/c70687c21c17e687090e60173fd86faeede4dae6", "committedDate": "2020-12-01T10:22:43Z", "message": "Generalize in progress recording API for widget"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1506a467342ad971741585b1086e7f21e4c76a2", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/d1506a467342ad971741585b1086e7f21e4c76a2", "committedDate": "2020-12-01T10:24:48Z", "message": "Add waveform to AudioWidget"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "007b6e1b96971c95c9fbd3b8769e17fb2a108ffe", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/007b6e1b96971c95c9fbd3b8769e17fb2a108ffe", "committedDate": "2020-12-01T10:25:15Z", "message": "Wrap AudioRecordView to make it testable and protect AudioWidget from it"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cf2f892f6116a8a6831fac5a6a7d9eccc1e5073e", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/cf2f892f6116a8a6831fac5a6a7d9eccc1e5073e", "committedDate": "2020-11-25T15:05:32Z", "message": "Wrap AudioRecordView to make it testable and protect AudioWidget from it"}, "afterCommit": {"oid": "007b6e1b96971c95c9fbd3b8769e17fb2a108ffe", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/007b6e1b96971c95c9fbd3b8769e17fb2a108ffe", "committedDate": "2020-12-01T10:25:15Z", "message": "Wrap AudioRecordView to make it testable and protect AudioWidget from it"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxODU5NTE3", "url": "https://github.com/getodk/collect/pull/4241#pullrequestreview-541859517", "createdAt": "2020-12-01T12:46:03Z", "commit": {"oid": "007b6e1b96971c95c9fbd3b8769e17fb2a108ffe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjo0NjowM1rOH8q_7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjo0NjowM1rOH8q_7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM4MTEwMQ==", "bodyText": "Now that we have a test file in strings we should really be running it on CI.", "url": "https://github.com/getodk/collect/pull/4241#discussion_r533381101", "createdAt": "2020-12-01T12:46:03Z", "author": {"login": "seadowg"}, "path": ".circleci/config.yml", "diffHunk": "@@ -57,6 +57,9 @@ jobs:\n       - run:\n           name: Run async unit tests\n           command: ./gradlew -PdisablePreDex --no-daemon --max-workers=2 async:testDebug\n+      - run:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "007b6e1b96971c95c9fbd3b8769e17fb2a108ffe"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxODYwMjcy", "url": "https://github.com/getodk/collect/pull/4241#pullrequestreview-541860272", "createdAt": "2020-12-01T12:46:59Z", "commit": {"oid": "007b6e1b96971c95c9fbd3b8769e17fb2a108ffe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjo0Njo1OVrOH8rCSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjo0Njo1OVrOH8rCSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM4MTcwNQ==", "bodyText": "We won't always need deferred tasks so thought I'd split the implementations. I think long term it might make sense to split the interfaces but lets see how it evolves.", "url": "https://github.com/getodk/collect/pull/4241#discussion_r533381705", "createdAt": "2020-12-01T12:46:59Z", "author": {"login": "seadowg"}, "path": "async/src/main/java/org/odk/collect/async/CoroutineScheduler.kt", "diffHunk": "@@ -0,0 +1,55 @@\n+package org.odk.collect.async\n+\n+import kotlinx.coroutines.CoroutineScope\n+import kotlinx.coroutines.delay\n+import kotlinx.coroutines.isActive\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import java.util.function.Consumer\n+import java.util.function.Supplier\n+import kotlin.coroutines.CoroutineContext\n+\n+open class CoroutineScheduler(private val foregroundContext: CoroutineContext, private val backgroundContext: CoroutineContext) : Scheduler {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "007b6e1b96971c95c9fbd3b8769e17fb2a108ffe"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71fc627b45b57b370e1f186bb1bef07d4d22d5c0", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/71fc627b45b57b370e1f186bb1bef07d4d22d5c0", "committedDate": "2020-12-01T12:48:34Z", "message": "Remove unused dependency"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxODYyNTMx", "url": "https://github.com/getodk/collect/pull/4241#pullrequestreview-541862531", "createdAt": "2020-12-01T12:50:02Z", "commit": {"oid": "71fc627b45b57b370e1f186bb1bef07d4d22d5c0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjo1MDowMlrOH8rJDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjo1MDowMlrOH8rJDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM4MzQzNw==", "bodyText": "I think we're now in a better place with this abstraction. Adding time/amplitude helped it make more sense as it forced the key data exposed to be the current \"session\" details.", "url": "https://github.com/getodk/collect/pull/4241#discussion_r533383437", "createdAt": "2020-12-01T12:50:02Z", "author": {"login": "seadowg"}, "path": "audiorecorder/src/main/java/org/odk/collect/audiorecorder/recording/AudioRecorderViewModel.kt", "diffHunk": "@@ -7,12 +7,12 @@ import java.io.File\n \n /**\n  * Interface for a ViewModel that records audio. Can only record once session", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71fc627b45b57b370e1f186bb1bef07d4d22d5c0"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxODY0MTM5", "url": "https://github.com/getodk/collect/pull/4241#pullrequestreview-541864139", "createdAt": "2020-12-01T12:52:14Z", "commit": {"oid": "71fc627b45b57b370e1f186bb1bef07d4d22d5c0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjo1MjoxNFrOH8rOAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjo1MjoxNFrOH8rOAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM4NDcwNQ==", "bodyText": "This was the simplest waveform library I could find that still looked supported. I think we may want to improve this in the future or add our own flair.", "url": "https://github.com/getodk/collect/pull/4241#discussion_r533384705", "createdAt": "2020-12-01T12:52:14Z", "author": {"login": "seadowg"}, "path": "collect_app/build.gradle", "diffHunk": "@@ -320,6 +320,8 @@ dependencies {\n     // Better \"Subjects\" for Rx:\n     implementation \"com.jakewharton.rxrelay2:rxrelay:2.1.1\"\n \n+    implementation 'com.github.Armen101:AudioRecordView:1.0.2'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71fc627b45b57b370e1f186bb1bef07d4d22d5c0"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxODY0Nzc5", "url": "https://github.com/getodk/collect/pull/4241#pullrequestreview-541864779", "createdAt": "2020-12-01T12:53:09Z", "commit": {"oid": "71fc627b45b57b370e1f186bb1bef07d4d22d5c0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjo1MzowOVrOH8rP4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjo1MzowOVrOH8rP4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM4NTE4NA==", "bodyText": "These tests were failing due to the audio widget getting slightly taller and it forcing other items in the test to be scrolled off screen.", "url": "https://github.com/getodk/collect/pull/4241#discussion_r533385184", "createdAt": "2020-12-01T12:53:09Z", "author": {"login": "seadowg"}, "path": "collect_app/src/androidTest/java/org/odk/collect/android/feature/formentry/IntentGroupTest.java", "diffHunk": "@@ -128,7 +128,7 @@ public void externalApp_ShouldPopulateFields() throws IOException {\n         resultIntent.setClipData(clipData);\n         resultIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n         intending(not(isInternal())).respondWith(new Instrumentation.ActivityResult(Activity.RESULT_OK, resultIntent));\n-        onView(withText(\"This is buttonText\")).perform(click());\n+        onView(withText(\"This is buttonText\")).perform(nestedScrollTo(), click());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71fc627b45b57b370e1f186bb1bef07d4d22d5c0"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxODY2MTMz", "url": "https://github.com/getodk/collect/pull/4241#pullrequestreview-541866133", "createdAt": "2020-12-01T12:55:04Z", "commit": {"oid": "71fc627b45b57b370e1f186bb1bef07d4d22d5c0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjo1NTowNFrOH8rT7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjo1NTowNFrOH8rT7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM4NjIyMg==", "bodyText": "Could totally see others disagreeing with moving this here. For me, it makes sense to have formatters etc live in strings but could see an argument that they should live in a separate utils module.", "url": "https://github.com/getodk/collect/pull/4241#discussion_r533386222", "createdAt": "2020-12-01T12:55:04Z", "author": {"login": "seadowg"}, "path": "strings/src/main/java/org/odk/collect/strings/format/LengthFormatter.kt", "diffHunk": "@@ -0,0 +1,18 @@\n+package org.odk.collect.strings.format\n+\n+import java.util.Locale\n+\n+private const val ONE_HOUR = 3600000\n+private const val ONE_MINUTE = 60000\n+private const val ONE_SECOND = 1000\n+\n+fun formatLength(milliseconds: Long): String {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71fc627b45b57b370e1f186bb1bef07d4d22d5c0"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxODY3MDg2", "url": "https://github.com/getodk/collect/pull/4241#pullrequestreview-541867086", "createdAt": "2020-12-01T12:56:24Z", "commit": {"oid": "71fc627b45b57b370e1f186bb1bef07d4d22d5c0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjo1NjoyNFrOH8rW7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMjo1NjoyNFrOH8rW7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM4Njk5MA==", "bodyText": "For some of the tests this needed to be a bit more advanced so it now actually keeps scheduled tasks in queues/lists so it runs them in the correct order and can run repeated tasks.", "url": "https://github.com/getodk/collect/pull/4241#discussion_r533386990", "createdAt": "2020-12-01T12:56:24Z", "author": {"login": "seadowg"}, "path": "testshared/src/main/java/org/odk/collect/testshared/FakeScheduler.kt", "diffHunk": "@@ -3,58 +3,72 @@ package org.odk.collect.testshared\n import org.odk.collect.async.Cancellable\n import org.odk.collect.async.Scheduler\n import org.odk.collect.async.TaskSpec\n+import java.util.LinkedList\n import java.util.function.Consumer\n import java.util.function.Supplier\n \n class FakeScheduler : Scheduler {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71fc627b45b57b370e1f186bb1bef07d4d22d5c0"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74dca6c456a25bdf4c23667cbd8602eddf9392df", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/74dca6c456a25bdf4c23667cbd8602eddf9392df", "committedDate": "2020-12-01T18:04:04Z", "message": "Tweak waveform"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyMzgzOTA3", "url": "https://github.com/getodk/collect/pull/4241#pullrequestreview-542383907", "createdAt": "2020-12-01T23:31:25Z", "commit": {"oid": "74dca6c456a25bdf4c23667cbd8602eddf9392df"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMzozMToyNVrOH9EHwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMzo0MjowMFrOH9EWxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzc5MjcwNg==", "bodyText": "I see a size increase of .2mb from 1.28.4 to this branch. Not sure how much is from this lib but either way it seems ok.", "url": "https://github.com/getodk/collect/pull/4241#discussion_r533792706", "createdAt": "2020-12-01T23:31:25Z", "author": {"login": "lognaturel"}, "path": "collect_app/build.gradle", "diffHunk": "@@ -320,6 +320,8 @@ dependencies {\n     // Better \"Subjects\" for Rx:\n     implementation \"com.jakewharton.rxrelay2:rxrelay:2.1.1\"\n \n+    implementation 'com.github.Armen101:AudioRecordView:1.0.2'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM4NDcwNQ=="}, "originalCommit": {"oid": "71fc627b45b57b370e1f186bb1bef07d4d22d5c0"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzc5NjU0OQ==", "bodyText": "Seems fine to me.", "url": "https://github.com/getodk/collect/pull/4241#discussion_r533796549", "createdAt": "2020-12-01T23:42:00Z", "author": {"login": "lognaturel"}, "path": "strings/src/main/java/org/odk/collect/strings/format/LengthFormatter.kt", "diffHunk": "@@ -0,0 +1,18 @@\n+package org.odk.collect.strings.format\n+\n+import java.util.Locale\n+\n+private const val ONE_HOUR = 3600000\n+private const val ONE_MINUTE = 60000\n+private const val ONE_SECOND = 1000\n+\n+fun formatLength(milliseconds: Long): String {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM4NjIyMg=="}, "originalCommit": {"oid": "71fc627b45b57b370e1f186bb1bef07d4d22d5c0"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90a78f5277f536e526ee69ae8089123e6911948f", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/90a78f5277f536e526ee69ae8089123e6911948f", "committedDate": "2020-12-02T10:39:20Z", "message": "Fix rotation for waveform"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b5154355ccb5a8b5be15cea0838f3f6c805d62bc", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/b5154355ccb5a8b5be15cea0838f3f6c805d62bc", "committedDate": "2020-12-02T10:22:25Z", "message": "Fix rotation for waveform"}, "afterCommit": {"oid": "90a78f5277f536e526ee69ae8089123e6911948f", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/90a78f5277f536e526ee69ae8089123e6911948f", "committedDate": "2020-12-02T10:39:20Z", "message": "Fix rotation for waveform"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzMDgzODQ5", "url": "https://github.com/getodk/collect/pull/4241#pullrequestreview-543083849", "createdAt": "2020-12-02T17:41:00Z", "commit": {"oid": "90a78f5277f536e526ee69ae8089123e6911948f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2481, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}