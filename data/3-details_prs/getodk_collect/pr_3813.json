{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MDA2NjAx", "number": 3813, "title": "Remove KEYS_WE_SHOULD_NOT_RESET", "bodyText": "Closes #3669\nThis moves keys to that should not be reset to the new meta shared preferences bucket. Most of  of these keys were removed during this work:\n\nKEY_LAST_VERSION and KEY_FIRST_RUN - these keys were only used to show the splash screen on the first run of each new version of Collect. After discussing with @lognaturel, we decided that this wasn't a feature we needed any longer.\nKEY_METADATA_MIGRATED - this was used as part of data migration to allow the server username to be copied to the newer metadata username. This was really only needed for a couple of releases after the new fields were added.\nKEY_AUTOSEND_WIFI and KEY_AUTOSEND_NETWORK - it didn't seem like these should have been avoiding reset. They are the old keys used for autosend prefs and are migrated for old version upgrades. If @grzesiek2010 has a reason then need to stay in then please shout at me!\n\nWhat has been done to verify that this works as intended?\nAdded new tests for the new migrations.\nHow does this change affect users? Describe intentional changes to behavior and behavior that could have accidentally been affected by code changes. In other words, what are the regression risks?\nThere shouldn't be any change in behaviour but checking version upgrades work ok and that resetting the application works as expected would be good. We found #3811 as part of working on this as a heads up.\nThere is a change in behaviour to the splash screen. Before the splash screen would show on the first run of the app (fresh install) and the first run after an update as well as when it was enabled in User Interface settings. The splash screen will now only show when it is enabled.\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-05-06T10:21:49Z", "url": "https://github.com/getodk/collect/pull/3813", "merged": true, "mergeCommit": {"oid": "55a9b48e0f5e269c1b98d4a9ac98800cabef8437"}, "closed": true, "closedAt": "2020-06-08T08:28:20Z", "author": {"login": "seadowg"}, "timelineItems": {"totalCount": 34, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABce5fbyAFqTQwNzIzMDQxMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoPTdYgBqjM0MTA0OTg3NDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3MjMwNDEy", "url": "https://github.com/getodk/collect/pull/3813#pullrequestreview-407230412", "createdAt": "2020-05-07T07:54:05Z", "commit": {"oid": "e246f6bc0767f3ae609fcb3d7f78390692d3461f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwNzo1NDowNVrOGRyriw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwOTowMTowMVrOGR1MHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMwOTMyMw==", "bodyText": "It's unused so we can remove it.", "url": "https://github.com/getodk/collect/pull/3813#discussion_r421309323", "createdAt": "2020-05-07T07:54:05Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/SplashScreenActivity.java", "diffHunk": "@@ -63,14 +61,23 @@\n     @Inject\n     Analytics analytics;\n \n+    @Inject\n+    ApplicationInitializer applicationInitializer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e246f6bc0767f3ae609fcb3d7f78390692d3461f"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMxMzkwNw==", "bodyText": "Why this or registering receivers or setupOSMDroid() is not a part of applicationInitializer?", "url": "https://github.com/getodk/collect/pull/3813#discussion_r421313907", "createdAt": "2020-05-07T08:01:30Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/Collect.java", "diffHunk": "@@ -148,41 +131,14 @@ public void onCreate() {\n         singleton = this;\n \n         setupDagger();\n-\n-        NotificationUtils.createNotificationChannel(singleton);\n+        applicationInitializer.initializePreferences();\n+        applicationInitializer.initializeFrameworks();\n+        applicationInitializer.initializeLocale();\n \n         registerReceiver(new SmsSentBroadcastReceiver(), new IntentFilter(SMS_SEND_ACTION));\n         registerReceiver(new SmsNotificationReceiver(), new IntentFilter(SMS_NOTIFICATION_ACTION));\n \n-        try {\n-            JobManager\n-                    .create(this)\n-                    .addJobCreator(collectJobCreator);\n-        } catch (JobManagerCreateException e) {\n-            Timber.e(e);\n-        }\n-\n-        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);\n-        FormMetadataMigrator.migrate(prefs);\n-        PrefMigrator.migrateSharedPrefs();\n-        AutoSendPreferenceMigrator.migrate();\n-\n-        reloadSharedPreferences();\n-\n-        AppCompatDelegate.setCompatVectorFromResourcesEnabled(true);\n-        JodaTimeAndroid.init(this);\n-\n-        defaultSysLanguage = Locale.getDefault().getLanguage();\n-        new LocaleHelper().updateLocale(this);\n-\n         initializeJavaRosa();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e246f6bc0767f3ae609fcb3d7f78390692d3461f"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTM1MDQzMA==", "bodyText": "I think it would be good to factor out more methods here like initializeTimber/initializeJobManager etc. It might be strange to create separate methods for those one line initializations so it's ok to keep them in one method.", "url": "https://github.com/getodk/collect/pull/3813#discussion_r421350430", "createdAt": "2020-05-07T09:01:01Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/initialization/ApplicationInitializer.java", "diffHunk": "@@ -0,0 +1,107 @@\n+package org.odk.collect.android.application.initialization;\n+\n+import android.app.Application;\n+import android.content.SharedPreferences;\n+import android.util.Log;\n+\n+import androidx.appcompat.app.AppCompatDelegate;\n+\n+import com.crashlytics.android.Crashlytics;\n+import com.evernote.android.job.JobManager;\n+import com.evernote.android.job.JobManagerCreateException;\n+\n+import net.danlew.android.joda.JodaTimeAndroid;\n+\n+import org.odk.collect.android.BuildConfig;\n+import org.odk.collect.android.application.Collect;\n+import org.odk.collect.android.jobs.CollectJobCreator;\n+import org.odk.collect.android.preferences.AdminSharedPreferences;\n+import org.odk.collect.android.preferences.AutoSendPreferenceMigrator;\n+import org.odk.collect.android.preferences.GeneralSharedPreferences;\n+import org.odk.collect.android.utilities.LocaleHelper;\n+import org.odk.collect.android.utilities.NotificationUtils;\n+\n+import java.util.Locale;\n+\n+import timber.log.Timber;\n+\n+public class ApplicationInitializer {\n+\n+    private final Application context;\n+    private final CollectJobCreator collectJobCreator;\n+    private final SharedPreferences metaSharedPreferences;\n+    private final GeneralSharedPreferences generalSharedPreferences;\n+    private final AdminSharedPreferences adminSharedPreferences;\n+\n+    public ApplicationInitializer(Application context, CollectJobCreator collectJobCreator, SharedPreferences metaSharedPreferences) {\n+        this.context = context;\n+        this.collectJobCreator = collectJobCreator;\n+        this.metaSharedPreferences = metaSharedPreferences;\n+\n+        generalSharedPreferences = GeneralSharedPreferences.getInstance();\n+        adminSharedPreferences = AdminSharedPreferences.getInstance();\n+    }\n+\n+    public void initializePreferences() {\n+        performMigrations();\n+        reloadSharedPreferences();\n+    }\n+\n+    public void initializeFrameworks() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e246f6bc0767f3ae609fcb3d7f78390692d3461f"}, "originalPosition": 50}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ca840683ebf9ea2894b4bc37a149102d6e547e23", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/ca840683ebf9ea2894b4bc37a149102d6e547e23", "committedDate": "2020-05-07T17:29:22Z", "message": "Pull lengthy initialization into their own methods"}, "afterCommit": {"oid": "8b760c76b06f2db7940759ba79a483445d1146ac", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/8b760c76b06f2db7940759ba79a483445d1146ac", "committedDate": "2020-05-11T13:38:03Z", "message": "Move map inits to ApplicationInitializer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8b760c76b06f2db7940759ba79a483445d1146ac", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/8b760c76b06f2db7940759ba79a483445d1146ac", "committedDate": "2020-05-11T13:38:03Z", "message": "Move map inits to ApplicationInitializer"}, "afterCommit": {"oid": "5f5553ee14d84dca7d34fc8d19d4cac0cfdfb558", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/5f5553ee14d84dca7d34fc8d19d4cac0cfdfb558", "committedDate": "2020-05-12T14:10:28Z", "message": "Move map inits to ApplicationInitializer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNjI1NTY2", "url": "https://github.com/getodk/collect/pull/3813#pullrequestreview-411625566", "createdAt": "2020-05-14T09:28:15Z", "commit": {"oid": "5f5553ee14d84dca7d34fc8d19d4cac0cfdfb558"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOToyODoxNVrOGVT1iA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTozMDowOFrOGVT6Hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk5ODI4MA==", "bodyText": "It is unused now.", "url": "https://github.com/getodk/collect/pull/3813#discussion_r424998280", "createdAt": "2020-05-14T09:28:15Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/Collect.java", "diffHunk": "@@ -88,7 +70,7 @@\n     UserAgentProvider userAgentProvider;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f5553ee14d84dca7d34fc8d19d4cac0cfdfb558"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk5OTQ1NQ==", "bodyText": "Is there any reason you unpacked this? I mean having it in a separate method like initializeMaps or initializeMapProviders seems more elegant.", "url": "https://github.com/getodk/collect/pull/3813#discussion_r424999455", "createdAt": "2020-05-14T09:30:08Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/initialization/ApplicationInitializer.java", "diffHunk": "@@ -0,0 +1,119 @@\n+package org.odk.collect.android.application.initialization;\n+\n+import android.app.Application;\n+import android.content.SharedPreferences;\n+import android.util.Log;\n+\n+import androidx.appcompat.app.AppCompatDelegate;\n+\n+import com.crashlytics.android.Crashlytics;\n+import com.evernote.android.job.JobManager;\n+import com.evernote.android.job.JobManagerCreateException;\n+\n+import net.danlew.android.joda.JodaTimeAndroid;\n+\n+import org.odk.collect.android.BuildConfig;\n+import org.odk.collect.android.application.Collect;\n+import org.odk.collect.android.geo.MapboxUtils;\n+import org.odk.collect.android.jobs.CollectJobCreator;\n+import org.odk.collect.android.preferences.AdminSharedPreferences;\n+import org.odk.collect.android.preferences.AutoSendPreferenceMigrator;\n+import org.odk.collect.android.preferences.GeneralSharedPreferences;\n+import org.odk.collect.android.utilities.LocaleHelper;\n+import org.odk.collect.android.utilities.NotificationUtils;\n+import org.odk.collect.utilities.UserAgentProvider;\n+\n+import java.util.Locale;\n+\n+import timber.log.Timber;\n+\n+public class ApplicationInitializer {\n+\n+    private final Application context;\n+    private final CollectJobCreator collectJobCreator;\n+    private final SharedPreferences metaSharedPreferences;\n+    private final UserAgentProvider userAgentProvider;\n+    private final GeneralSharedPreferences generalSharedPreferences;\n+    private final AdminSharedPreferences adminSharedPreferences;\n+\n+    public ApplicationInitializer(Application context, CollectJobCreator collectJobCreator, SharedPreferences metaSharedPreferences, UserAgentProvider userAgentProvider) {\n+        this.context = context;\n+        this.collectJobCreator = collectJobCreator;\n+        this.metaSharedPreferences = metaSharedPreferences;\n+        this.userAgentProvider = userAgentProvider;\n+\n+        generalSharedPreferences = GeneralSharedPreferences.getInstance();\n+        adminSharedPreferences = AdminSharedPreferences.getInstance();\n+    }\n+\n+    public void initializePreferences() {\n+        performMigrations();\n+        reloadSharedPreferences();\n+    }\n+\n+    public void initializeFrameworks() {\n+        NotificationUtils.createNotificationChannel(context);\n+        initializeJobManager();\n+        JodaTimeAndroid.init(context);\n+        initializeLogging();\n+        AppCompatDelegate.setCompatVectorFromResourcesEnabled(true);\n+\n+        new com.google.android.gms.maps.MapView(context).onCreate(null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f5553ee14d84dca7d34fc8d19d4cac0cfdfb558"}, "originalPosition": 61}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzNTIzNTAx", "url": "https://github.com/getodk/collect/pull/3813#pullrequestreview-413523501", "createdAt": "2020-05-18T11:57:15Z", "commit": {"oid": "d769dbc3874b57b6910a12e80262b6c13ce1dda2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d769dbc3874b57b6910a12e80262b6c13ce1dda2", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/d769dbc3874b57b6910a12e80262b6c13ce1dda2", "committedDate": "2020-05-18T11:21:43Z", "message": "Extract map framework initialization"}, "afterCommit": {"oid": "fcaf86fbb7186fc2a39b1d3a00d5ecf65b603309", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/fcaf86fbb7186fc2a39b1d3a00d5ecf65b603309", "committedDate": "2020-05-18T12:09:39Z", "message": "Extract map framework initialization"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fcaf86fbb7186fc2a39b1d3a00d5ecf65b603309", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/fcaf86fbb7186fc2a39b1d3a00d5ecf65b603309", "committedDate": "2020-05-18T12:09:39Z", "message": "Extract map framework initialization"}, "afterCommit": {"oid": "4b899b237443274b1ff81ed2abf4c5d6237946e6", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/4b899b237443274b1ff81ed2abf4c5d6237946e6", "committedDate": "2020-05-25T10:54:23Z", "message": "Migrate mapbox initialization key"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b899b237443274b1ff81ed2abf4c5d6237946e6", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/4b899b237443274b1ff81ed2abf4c5d6237946e6", "committedDate": "2020-05-25T10:54:23Z", "message": "Migrate mapbox initialization key"}, "afterCommit": {"oid": "87bdbe8e09c8ebe97dec8c3b20f6033c3c8cdd35", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/87bdbe8e09c8ebe97dec8c3b20f6033c3c8cdd35", "committedDate": "2020-06-03T12:46:24Z", "message": "Migrate mapbox initialization key"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1b66390ece27b4cb738c4d86cc81485f634a18e", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/d1b66390ece27b4cb738c4d86cc81485f634a18e", "committedDate": "2020-06-05T08:34:25Z", "message": "Rename ResetUtility"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3700477d47697dc0cb37c6a23c6cd54fb23a223d", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/3700477d47697dc0cb37c6a23c6cd54fb23a223d", "committedDate": "2020-06-05T08:34:25Z", "message": "Move application initialization to a dedicated use case object"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d02d55d336283ce1e3b332b5451e1c6312bc7656", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/d02d55d336283ce1e3b332b5451e1c6312bc7656", "committedDate": "2020-06-05T08:34:26Z", "message": "Use Meta shared preferences for last_version and first_run"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ded5e9524360c1f3ccc7a11b1ad50a2f6110b19", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/4ded5e9524360c1f3ccc7a11b1ad50a2f6110b19", "committedDate": "2020-06-05T09:02:46Z", "message": "Pull migration code into its own package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffa0ad6605188e9d641bb00502710aae35f32bc0", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/ffa0ad6605188e9d641bb00502710aae35f32bc0", "committedDate": "2020-06-05T09:09:22Z", "message": "Pull migration tests out to their own classes\n\nSome notes on why there isn't as many tests:\n\n* Key \"splitting\" for translator is covered by `whenKeyHasUnknownValue_doesNotDoAnything` and `canTranslateMultipleValues`\n* Key \"merging\" for translator is also covered by the above"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95c5281916749aab7a2f027c74be6477add5ad64", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/95c5281916749aab7a2f027c74be6477add5ad64", "committedDate": "2020-06-05T09:09:24Z", "message": "Add KeyMover migration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "485685684a6c5f968455e524646d51becedc837c", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/485685684a6c5f968455e524646d51becedc837c", "committedDate": "2020-06-05T09:16:59Z", "message": "Migrate first run and last version pref keys"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d865493d9f56c9d39fbbbe04e2b0ca4dbaa0165f", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/d865493d9f56c9d39fbbbe04e2b0ca4dbaa0165f", "committedDate": "2020-06-05T09:17:01Z", "message": "Remove last version and first run general keys"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3100e66d3a81a07000c16f433c4af78a35a06ac4", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/3100e66d3a81a07000c16f433c4af78a35a06ac4", "committedDate": "2020-06-05T09:17:01Z", "message": "Replace SplashScreenActivity Espresso test with Robolectric"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ba5f1e7197f6b1dda16b1757a1e7d708aa506d6", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/2ba5f1e7197f6b1dda16b1757a1e7d708aa506d6", "committedDate": "2020-06-05T09:17:02Z", "message": "Add tests for splash screen behaviour"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25f751d297a522b746d2aceb6f962db35ce35a3e", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/25f751d297a522b746d2aceb6f962db35ce35a3e", "committedDate": "2020-06-05T09:17:02Z", "message": "Replace custom threading with handler"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85ce4ac86dd616e350439259488976af84589031", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/85ce4ac86dd616e350439259488976af84589031", "committedDate": "2020-06-05T09:18:43Z", "message": "Stop showing splash screen on first run when not enabled"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42ec8f02e5d96932bcc0bf11ebdf00eedd422f98", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/42ec8f02e5d96932bcc0bf11ebdf00eedd422f98", "committedDate": "2020-06-05T09:19:02Z", "message": "Move install ID key to MetaKeys"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab735d5bca9f5ee181696e6c0d59f760143bc1ce", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/ab735d5bca9f5ee181696e6c0d59f760143bc1ce", "committedDate": "2020-06-05T09:19:02Z", "message": "Move storage migration key to meta shared preferences"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e288c7e0e9f182f9d58e039fd049b9c02376b6a", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/5e288c7e0e9f182f9d58e039fd049b9c02376b6a", "committedDate": "2020-06-05T09:19:02Z", "message": "Add migration for SCOPED_STORAGE_USED"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ad846d5f3ff0564218dd38797decb8d3a51bcec", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/0ad846d5f3ff0564218dd38797decb8d3a51bcec", "committedDate": "2020-06-05T09:19:02Z", "message": "Remove FormMetadataMigration\n\nThis copied values from server settings to the form metadata preferences\nback when that was needed. Was only really needed to be kept around for a\nshort while after but had managed to hide itself in the code!"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c37cfa5f2ad8b629b8e6f8ea5f59fd9ed528cefa", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/c37cfa5f2ad8b629b8e6f8ea5f59fd9ed528cefa", "committedDate": "2020-06-05T09:19:02Z", "message": "Remove keys not to reset"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15b531c0897fe581d9de5f1e7acc2720fcde5f88", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/15b531c0897fe581d9de5f1e7acc2720fcde5f88", "committedDate": "2020-06-05T09:19:02Z", "message": "Remove unused field"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b091adeb6cdfe5491cbb8763f29abf4fd7061ff9", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/b091adeb6cdfe5491cbb8763f29abf4fd7061ff9", "committedDate": "2020-06-05T09:19:03Z", "message": "Pull lengthy initialization into their own methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bacc3fb52111de25d01896d25f222bd7e3ee5238", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/bacc3fb52111de25d01896d25f222bd7e3ee5238", "committedDate": "2020-06-05T09:19:03Z", "message": "Move map inits to ApplicationInitializer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "decc3804bce913ef71ae7c829b7d3d041b8d2d2e", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/decc3804bce913ef71ae7c829b7d3d041b8d2d2e", "committedDate": "2020-06-05T09:19:03Z", "message": "Remove unused field"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cde986d1d3f1411a4a2691a85ddeb3d86bd41612", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/cde986d1d3f1411a4a2691a85ddeb3d86bd41612", "committedDate": "2020-06-05T09:19:03Z", "message": "Extract map framework initialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55bb2b5671cde299d9b3e63f70a4aae76c49096f", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/55bb2b5671cde299d9b3e63f70a4aae76c49096f", "committedDate": "2020-06-05T09:19:03Z", "message": "Use meta shared preferences for mapbox initialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "328841a3b83c70e113a48a8d2565899120bfaaa3", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/328841a3b83c70e113a48a8d2565899120bfaaa3", "committedDate": "2020-06-05T09:19:03Z", "message": "Migrate mapbox initialization key"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca441fb1d41f9bcbba1ffa949514e9d4ce90ef14", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/ca441fb1d41f9bcbba1ffa949514e9d4ce90ef14", "committedDate": "2020-06-05T09:19:03Z", "message": "Correct splash screen test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9de6f26e18f6897afa1426ff6d2de56c7a0ccc72", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/9de6f26e18f6897afa1426ff6d2de56c7a0ccc72", "committedDate": "2020-06-03T12:59:00Z", "message": "Correct splash screen test"}, "afterCommit": {"oid": "ca441fb1d41f9bcbba1ffa949514e9d4ce90ef14", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/ca441fb1d41f9bcbba1ffa949514e9d4ce90ef14", "committedDate": "2020-06-05T09:19:03Z", "message": "Correct splash screen test"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2672, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}