{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyNzM4MzU4", "number": 4326, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxOTo0MToxMlrOFHUrjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQyMzowMjo0N1rOFHX7Tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzMjIzMTgwOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxOTo0MToxMlrOIIwfag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQyMjoxODoyMFrOII0W3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjA1Mzk5NA==", "bodyText": "I see this in a lot of our logs and I can't tell if it's actually meaningful. Hopefully seeing the exception will give us some insights. I'm hoping it turns out to be expected and we can just remove the logging.", "url": "https://github.com/getodk/collect/pull/4326#discussion_r546053994", "createdAt": "2020-12-18T19:41:12Z", "author": {"login": "lognaturel"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java", "diffHunk": "@@ -2297,7 +2301,7 @@ public void denied() {\n                         formController.setLanguage(newLanguage);\n                     } catch (Exception e) {\n                         // if somehow we end up with a bad language, set it to the default\n-                        Timber.e(\"Ended up with a bad language. %s\", newLanguage);\n+                        Timber.e(e, \"Ended up with a bad language. %s\", newLanguage);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04346f95ae83ca66b6a26527762d6c0fc0e6224a"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjExNTkxOQ==", "bodyText": "It takes place every time I open the demo form. I think it's caused by language code, we have just label but it should be label::English (en) https://xlsform.org/en/#multiple-language-support", "url": "https://github.com/getodk/collect/pull/4326#discussion_r546115919", "createdAt": "2020-12-18T22:14:14Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java", "diffHunk": "@@ -2297,7 +2301,7 @@ public void denied() {\n                         formController.setLanguage(newLanguage);\n                     } catch (Exception e) {\n                         // if somehow we end up with a bad language, set it to the default\n-                        Timber.e(\"Ended up with a bad language. %s\", newLanguage);\n+                        Timber.e(e, \"Ended up with a bad language. %s\", newLanguage);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjA1Mzk5NA=="}, "originalCommit": {"oid": "04346f95ae83ca66b6a26527762d6c0fc0e6224a"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjExNjY0NA==", "bodyText": "Yeah, I saw the stacktrace locally and realized it's really nothing so I should take this change out.\nIt doesn't have to do with language codes because those are ignored in JR/Collect for now. I think it's just that because no language was explicitly chosen from the menu the database column for language has a null value.", "url": "https://github.com/getodk/collect/pull/4326#discussion_r546116644", "createdAt": "2020-12-18T22:16:09Z", "author": {"login": "lognaturel"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java", "diffHunk": "@@ -2297,7 +2301,7 @@ public void denied() {\n                         formController.setLanguage(newLanguage);\n                     } catch (Exception e) {\n                         // if somehow we end up with a bad language, set it to the default\n-                        Timber.e(\"Ended up with a bad language. %s\", newLanguage);\n+                        Timber.e(e, \"Ended up with a bad language. %s\", newLanguage);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjA1Mzk5NA=="}, "originalCommit": {"oid": "04346f95ae83ca66b6a26527762d6c0fc0e6224a"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjExNzM0MA==", "bodyText": "To be explicit, I think it's important to clarify/clean up this logging because it can waste our time when troubleshooting logs on Crashlytics.", "url": "https://github.com/getodk/collect/pull/4326#discussion_r546117340", "createdAt": "2020-12-18T22:18:20Z", "author": {"login": "lognaturel"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java", "diffHunk": "@@ -2297,7 +2301,7 @@ public void denied() {\n                         formController.setLanguage(newLanguage);\n                     } catch (Exception e) {\n                         // if somehow we end up with a bad language, set it to the default\n-                        Timber.e(\"Ended up with a bad language. %s\", newLanguage);\n+                        Timber.e(e, \"Ended up with a bad language. %s\", newLanguage);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjA1Mzk5NA=="}, "originalCommit": {"oid": "04346f95ae83ca66b6a26527762d6c0fc0e6224a"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzMjc2MzY2OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQyMzowMjo0N1rOII1ajQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQyMzowMjo0N1rOII1ajQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjEzNDY2OQ==", "bodyText": "This change makes sense. I wonder if we should also maybe dismiss the loading dialog later once we set everything because now we do that at the beginning of this method what unblocks the UI and if the rest of the job we do in this method takes some time it's dangerous.", "url": "https://github.com/getodk/collect/pull/4326#discussion_r546134669", "createdAt": "2020-12-18T23:02:47Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java", "diffHunk": "@@ -2282,6 +2283,8 @@ public void denied() {\n                 t.destroy();\n \n                 Collect.getInstance().setFormController(formController);\n+                formControllerAvailable(formController);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f11048ec70df535a1b3dcf69b08b37f98a9e16d4"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3096, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}