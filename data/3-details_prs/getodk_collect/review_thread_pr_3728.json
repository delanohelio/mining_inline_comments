{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxNDUwNTM1", "number": 3728, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMDoxNzo1NVrODp0FeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQyMjoxNTozOFrODq_bzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1MTcxNTc2OnYy", "diffSide": "LEFT", "path": "collect_app/build.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMDoxNzo1NVrOF5OEzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMDoxNzo1NVrOF5OEzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU0Mzc1Ng==", "bodyText": "According to https://square.github.io/leakcanary/upgrading-to-leakcanary-2.0/ we no longer need no-op artifacts", "url": "https://github.com/getodk/collect/pull/3728#discussion_r395543756", "createdAt": "2020-03-20T10:17:55Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/build.gradle", "diffHunk": "@@ -262,15 +262,10 @@ dependencies {\n     implementation \"net.danlew:android.joda:2.10.3\"\n \n     // Real LeakCanary for debug builds only: notifications, analysis, etc\n-    debugImplementation \"com.squareup.leakcanary:leakcanary-android:${rootProject.leakyCanaryVersion}\"\n-    // No-Op version of LeakCanary for release builds: no notifications, no analysis, nothing\n-    releaseImplementation \"com.squareup.leakcanary:leakcanary-android-no-op:${rootProject.leakyCanaryVersion}\"\n-    testImplementation \"com.squareup.leakcanary:leakcanary-android-no-op:${rootProject.leakyCanaryVersion}\"\n-    androidTestImplementation \"com.squareup.leakcanary:leakcanary-android-no-op:${rootProject.leakyCanaryVersion}\"\n-    odkCollectReleaseImplementation \"com.squareup.leakcanary:leakcanary-android-no-op:${rootProject.leakyCanaryVersion}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3fd5b0f62aa7895620cd0d13ee99072cddfd1bee"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1MTcyMTQ1OnYy", "diffSide": "LEFT", "path": "collect_app/src/main/java/org/odk/collect/android/application/TestCollect.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMDoxOTo1M1rOF5OIqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMDoyNjoxNFrOF5OUvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU0NDc0Nw==", "bodyText": "Huh so LeakCanary won't be running in any test build automatically now?", "url": "https://github.com/getodk/collect/pull/3728#discussion_r395544747", "createdAt": "2020-03-20T10:19:53Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/TestCollect.java", "diffHunk": "@@ -12,12 +10,6 @@\n \n public class TestCollect extends Collect {\n \n-    @Override\n-    protected RefWatcher setupLeakCanary() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3fd5b0f62aa7895620cd0d13ee99072cddfd1bee"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU0NjQ3OQ==", "bodyText": "That's what I understand https://square.github.io/leakcanary/recipes/#running-leakcanary-in-instrumentation-tests", "url": "https://github.com/getodk/collect/pull/3728#discussion_r395546479", "createdAt": "2020-03-20T10:23:23Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/TestCollect.java", "diffHunk": "@@ -12,12 +10,6 @@\n \n public class TestCollect extends Collect {\n \n-    @Override\n-    protected RefWatcher setupLeakCanary() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU0NDc0Nw=="}, "originalCommit": {"oid": "3fd5b0f62aa7895620cd0d13ee99072cddfd1bee"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU0NzgzOA==", "bodyText": "So much better!", "url": "https://github.com/getodk/collect/pull/3728#discussion_r395547838", "createdAt": "2020-03-20T10:26:14Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/TestCollect.java", "diffHunk": "@@ -12,12 +10,6 @@\n \n public class TestCollect extends Collect {\n \n-    @Override\n-    protected RefWatcher setupLeakCanary() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU0NDc0Nw=="}, "originalCommit": {"oid": "3fd5b0f62aa7895620cd0d13ee99072cddfd1bee"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2MTgzMzU1OnYy", "diffSide": "RIGHT", "path": "gradle/wrapper/gradle-wrapper.properties", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMjo1Njo0MFrOF6u7kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxNDoyNDo1OVrOF6ysuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzEzMDY0MA==", "bodyText": "Why not the latest 6.2.2?", "url": "https://github.com/getodk/collect/pull/3728#discussion_r397130640", "createdAt": "2020-03-24T12:56:40Z", "author": {"login": "grzesiek2010"}, "path": "gradle/wrapper/gradle-wrapper.properties", "diffHunk": "@@ -1,9 +1,8 @@\n-#Wed May 08 10:57:16 CEST 2019\n+#Tue Mar 24 09:13:30 GMT 2020\n distributionBase=GRADLE_USER_HOME\n distributionPath=wrapper/dists\n zipStoreBase=GRADLE_USER_HOME\n zipStorePath=wrapper/dists\n android.enableD8.desugaring=true\n-distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.3-all.zip\n-# Android Studio Gradle wrapper >= 3.1.2 doesn't support configure on demand\n+distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "051b26b92b7126eb74459e7056dcbc8315b77bc8"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE1OTc2OQ==", "bodyText": "Huh that was auto generated. Probably just game me the minimum for that plugin version. I'll update it.", "url": "https://github.com/getodk/collect/pull/3728#discussion_r397159769", "createdAt": "2020-03-24T13:41:16Z", "author": {"login": "seadowg"}, "path": "gradle/wrapper/gradle-wrapper.properties", "diffHunk": "@@ -1,9 +1,8 @@\n-#Wed May 08 10:57:16 CEST 2019\n+#Tue Mar 24 09:13:30 GMT 2020\n distributionBase=GRADLE_USER_HOME\n distributionPath=wrapper/dists\n zipStoreBase=GRADLE_USER_HOME\n zipStorePath=wrapper/dists\n android.enableD8.desugaring=true\n-distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.3-all.zip\n-# Android Studio Gradle wrapper >= 3.1.2 doesn't support configure on demand\n+distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzEzMDY0MA=="}, "originalCommit": {"oid": "051b26b92b7126eb74459e7056dcbc8315b77bc8"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE4ODk3OA==", "bodyText": "Wow this is causing all kinds of problems. Did you try and update spotbugs at all as part of this? It looks like we might be using a very old version.", "url": "https://github.com/getodk/collect/pull/3728#discussion_r397188978", "createdAt": "2020-03-24T14:20:43Z", "author": {"login": "seadowg"}, "path": "gradle/wrapper/gradle-wrapper.properties", "diffHunk": "@@ -1,9 +1,8 @@\n-#Wed May 08 10:57:16 CEST 2019\n+#Tue Mar 24 09:13:30 GMT 2020\n distributionBase=GRADLE_USER_HOME\n distributionPath=wrapper/dists\n zipStoreBase=GRADLE_USER_HOME\n zipStorePath=wrapper/dists\n android.enableD8.desugaring=true\n-distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.3-all.zip\n-# Android Studio Gradle wrapper >= 3.1.2 doesn't support configure on demand\n+distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzEzMDY0MA=="}, "originalCommit": {"oid": "051b26b92b7126eb74459e7056dcbc8315b77bc8"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE5MjM3Nw==", "bodyText": "ahh spotbugs... I think I was able to update it to version 2.0.0 but not the latest 4.0.4 because it was related somehow with gradle version", "url": "https://github.com/getodk/collect/pull/3728#discussion_r397192377", "createdAt": "2020-03-24T14:24:59Z", "author": {"login": "grzesiek2010"}, "path": "gradle/wrapper/gradle-wrapper.properties", "diffHunk": "@@ -1,9 +1,8 @@\n-#Wed May 08 10:57:16 CEST 2019\n+#Tue Mar 24 09:13:30 GMT 2020\n distributionBase=GRADLE_USER_HOME\n distributionPath=wrapper/dists\n zipStoreBase=GRADLE_USER_HOME\n zipStorePath=wrapper/dists\n android.enableD8.desugaring=true\n-distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.3-all.zip\n-# Android Studio Gradle wrapper >= 3.1.2 doesn't support configure on demand\n+distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzEzMDY0MA=="}, "originalCommit": {"oid": "051b26b92b7126eb74459e7056dcbc8315b77bc8"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2Mjk1NzczOnYy", "diffSide": "LEFT", "path": "build.gradle", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxNzowMToxOFrOF66NeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQyMjoxMzo0M1rOF7FGIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzMxNTQ0OQ==", "bodyText": "This repo link doesn't seem to be working any longer as they don't provide a .pom for the dependency. Given its a pretty stagnant dependency I think using a local jar is fine.", "url": "https://github.com/getodk/collect/pull/3728#discussion_r397315449", "createdAt": "2020-03-24T17:01:18Z", "author": {"login": "seadowg"}, "path": "build.gradle", "diffHunk": "@@ -23,7 +23,6 @@ allprojects {\n         jcenter()\n         maven { url 'https://oss.sonatype.org/content/groups/public' }\n         maven { url 'https://jitpack.io' }\n-        maven { url 'https://staging.dev.medicmobile.org/_couch/maven-repo' }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9590e8fb5ae5832a98a781e425e9026add4cec7c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM5NDgzMw==", "bodyText": "I think such a trick would work:\nmaven {\n            url 'https://staging.dev.medicmobile.org/_couch/maven-repo'\n            metadataSources { artifact() }\n        }\n\nand you won't need anything more.", "url": "https://github.com/getodk/collect/pull/3728#discussion_r397394833", "createdAt": "2020-03-24T19:05:35Z", "author": {"login": "grzesiek2010"}, "path": "build.gradle", "diffHunk": "@@ -23,7 +23,6 @@ allprojects {\n         jcenter()\n         maven { url 'https://oss.sonatype.org/content/groups/public' }\n         maven { url 'https://jitpack.io' }\n-        maven { url 'https://staging.dev.medicmobile.org/_couch/maven-repo' }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzMxNTQ0OQ=="}, "originalCommit": {"oid": "9590e8fb5ae5832a98a781e425e9026add4cec7c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQ0MDAxOA==", "bodyText": "I was looking around for something like this as it really surprised me that there wasn't a way to get it working with just a JAR. Will give this a go tomorrow!", "url": "https://github.com/getodk/collect/pull/3728#discussion_r397440018", "createdAt": "2020-03-24T20:28:37Z", "author": {"login": "seadowg"}, "path": "build.gradle", "diffHunk": "@@ -23,7 +23,6 @@ allprojects {\n         jcenter()\n         maven { url 'https://oss.sonatype.org/content/groups/public' }\n         maven { url 'https://jitpack.io' }\n-        maven { url 'https://staging.dev.medicmobile.org/_couch/maven-repo' }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzMxNTQ0OQ=="}, "originalCommit": {"oid": "9590e8fb5ae5832a98a781e425e9026add4cec7c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQ4MDk1Mw==", "bodyText": "Great if we can track the Medic repo but not super important I don\u2019t think.", "url": "https://github.com/getodk/collect/pull/3728#discussion_r397480953", "createdAt": "2020-03-24T21:45:54Z", "author": {"login": "lognaturel"}, "path": "build.gradle", "diffHunk": "@@ -23,7 +23,6 @@ allprojects {\n         jcenter()\n         maven { url 'https://oss.sonatype.org/content/groups/public' }\n         maven { url 'https://jitpack.io' }\n-        maven { url 'https://staging.dev.medicmobile.org/_couch/maven-repo' }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzMxNTQ0OQ=="}, "originalCommit": {"oid": "9590e8fb5ae5832a98a781e425e9026add4cec7c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQ5Mzc5NA==", "bodyText": "Yes I was right. Just added a commit on my own, so that you don't need to play with it just take a look.", "url": "https://github.com/getodk/collect/pull/3728#discussion_r397493794", "createdAt": "2020-03-24T22:13:43Z", "author": {"login": "grzesiek2010"}, "path": "build.gradle", "diffHunk": "@@ -23,7 +23,6 @@ allprojects {\n         jcenter()\n         maven { url 'https://oss.sonatype.org/content/groups/public' }\n         maven { url 'https://jitpack.io' }\n-        maven { url 'https://staging.dev.medicmobile.org/_couch/maven-repo' }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzMxNTQ0OQ=="}, "originalCommit": {"oid": "9590e8fb5ae5832a98a781e425e9026add4cec7c"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NDA2MDk1OnYy", "diffSide": "RIGHT", "path": "collect_app/build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQyMjoxNTozOFrOF7FJeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwOTozODoxOFrOF7S0uA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQ5NDY0OQ==", "bodyText": "It's marked as won't fix. We can leave it as if for now but in this case we can't block it for ever.", "url": "https://github.com/getodk/collect/pull/3728#discussion_r397494649", "createdAt": "2020-03-24T22:15:38Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/build.gradle", "diffHunk": "@@ -194,12 +196,6 @@ configurations.all {\n }\n \n dependencies {\n-    // To make ODK Collect is installable on all devices even though the Mapbox\n-    // native library is missing for some ABIs, we include an .aar dependency\n-    // named \"nbi-stubs\", which causes there to be at least one .so library\n-    // present for every ABI (armeabi, armeabi-v7a, arm64-v8a, x86, x86_64).\n-    implementation fileTree(dir: 'libs', include: ['*.jar', '*.aar'])\n-\n     implementation 'androidx.legacy:legacy-support-v13:1.0.0'\n     implementation 'androidx.browser:browser:1.2.0'\n     implementation 'androidx.appcompat:appcompat:1.1.0-rc01' // Shouldn't be upgraded until https://issuetracker.google.com/issues/141869006 is fixed", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b505f0e3068ca177461c0ab00bc4bf22571b8371"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzcxODcxMg==", "bodyText": "We actully have our own issue for tracking this with notes on the possible workaround. I'll update this so it references that rather than Google's issue.", "url": "https://github.com/getodk/collect/pull/3728#discussion_r397718712", "createdAt": "2020-03-25T09:38:18Z", "author": {"login": "seadowg"}, "path": "collect_app/build.gradle", "diffHunk": "@@ -194,12 +196,6 @@ configurations.all {\n }\n \n dependencies {\n-    // To make ODK Collect is installable on all devices even though the Mapbox\n-    // native library is missing for some ABIs, we include an .aar dependency\n-    // named \"nbi-stubs\", which causes there to be at least one .so library\n-    // present for every ABI (armeabi, armeabi-v7a, arm64-v8a, x86, x86_64).\n-    implementation fileTree(dir: 'libs', include: ['*.jar', '*.aar'])\n-\n     implementation 'androidx.legacy:legacy-support-v13:1.0.0'\n     implementation 'androidx.browser:browser:1.2.0'\n     implementation 'androidx.appcompat:appcompat:1.1.0-rc01' // Shouldn't be upgraded until https://issuetracker.google.com/issues/141869006 is fixed", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQ5NDY0OQ=="}, "originalCommit": {"oid": "b505f0e3068ca177461c0ab00bc4bf22571b8371"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3404, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}