{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2MDk4MDYz", "number": 3792, "title": "Retain Input Setting Dialog on GeoPolyActivity on orientation change", "bodyText": "Work towards #3612\n\nWhat has been done to verify that this works as intended?\nI tested it.\nWhy is this the best possible solution? Were any other approaches considered?\nI used a separate variable IS_SETTINGS_DIALOG_ACTIVE to check whether the dialog is active or not, and if the dialog was active last when the activity was destroyed on configuration change, then the dialog is displayed again in onCreate.\nHow does this change affect users? Describe intentional changes to behavior and behavior that could have accidentally been affected by code changes. In other words, what are the regression risks?\nNo regression risks\nDo we need any specific form for testing your changes? If so, please attach one.\nAll Widgets form or any form with Geo widgets\nDoes this change require updates to documentation? If so, please file an issue here and include the link below.\nNo\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-04-20T14:26:43Z", "url": "https://github.com/getodk/collect/pull/3792", "merged": true, "mergeCommit": {"oid": "11007cf967bbf283d6a98df058a25cc895155fbc"}, "closed": true, "closedAt": "2020-06-08T10:08:24Z", "author": {"login": "SaumiaSinghal"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgP-whgFqTQwOTE4OTIwNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoC_ioAFqTQyNDc1MjI3NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5MTg5MjA3", "url": "https://github.com/getodk/collect/pull/3792#pullrequestreview-409189207", "createdAt": "2020-05-11T13:48:47Z", "commit": {"oid": "ec6148d8ac543d081f1cf5ffa10d65a2418802c6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMzo0ODo0N1rOGTdFNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMzo0ODo0N1rOGTdFNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA1MjU5Ng==", "bodyText": "We shouldn't use static state like this. If one instance of GeoPolyActivity set this to true and then another was opened later it would behave as if the dialog was open. We could manage all this with extra logic but it'd be a headache. I think you should look at a solution using a DialogFragment like you did for the quit form dialog.\nI'll convert this PR to a draft so you can make changes in peace.", "url": "https://github.com/getodk/collect/pull/3792#discussion_r423052596", "createdAt": "2020-05-11T13:48:47Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/GeoPolyActivity.java", "diffHunk": "@@ -111,6 +112,8 @@\n     private Double restoredMapZoom;\n     private List<MapPoint> restoredPoints;\n \n+    private static boolean isSettingsDialogActive;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec6148d8ac543d081f1cf5ffa10d65a2418802c6"}, "originalPosition": 27}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ec6148d8ac543d081f1cf5ffa10d65a2418802c6", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/ec6148d8ac543d081f1cf5ffa10d65a2418802c6", "committedDate": "2020-04-20T14:24:49Z", "message": "fixed input setting dialog on GeoPolyActivity"}, "afterCommit": {"oid": "1373f85ea0290ece7afcafcd813e021fa4c04f69", "author": {"user": {"login": "yanokwa", "name": "Yaw Anokwa"}}, "url": "https://github.com/getodk/collect/commit/1373f85ea0290ece7afcafcd813e021fa4c04f69", "committedDate": "2020-05-12T04:10:04Z", "message": "Merge pull request #3822 from lognaturel/fix-all-widgets\n\nUpdate URL widget default"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "177a53c3fec4e3b102f2604995daf51ca15c7260", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/177a53c3fec4e3b102f2604995daf51ca15c7260", "committedDate": "2020-05-13T00:24:25Z", "message": "initial commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01dde803f37184853883c07777bdd6f2618e0325", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/01dde803f37184853883c07777bdd6f2618e0325", "committedDate": "2020-05-13T14:43:35Z", "message": "added basic tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56a09f43747d7f39d2a48455acc9c734a16d6e08", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/56a09f43747d7f39d2a48455acc9c734a16d6e08", "committedDate": "2020-05-13T14:54:50Z", "message": "updated settings dialog fragment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e46f41a54b5608a77d5c578b23c4f81703e6c741", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/e46f41a54b5608a77d5c578b23c4f81703e6c741", "committedDate": "2020-05-13T21:24:01Z", "message": "updated tests and code refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c35d2eef26e06ae237fb7ced73820d62e3df073e", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/c35d2eef26e06ae237fb7ced73820d62e3df073e", "committedDate": "2020-05-13T21:56:33Z", "message": "added unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e2684720ab7f9ebfb479937496cc0a7675aa5dc", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/3e2684720ab7f9ebfb479937496cc0a7675aa5dc", "committedDate": "2020-05-13T22:19:55Z", "message": "fixed pmd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f5584b3de9a0d9d77517d7d0d64b85d4c088ced", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/8f5584b3de9a0d9d77517d7d0d64b85d4c088ced", "committedDate": "2020-05-27T06:36:30Z", "message": "removed shouldShowCorrectButtons"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7cb7140fa8075279e8f93e5c0e025123f053e02f", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/7cb7140fa8075279e8f93e5c0e025123f053e02f", "committedDate": "2020-05-27T03:38:28Z", "message": "fixed pmd"}, "afterCommit": {"oid": "8f5584b3de9a0d9d77517d7d0d64b85d4c088ced", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/8f5584b3de9a0d9d77517d7d0d64b85d4c088ced", "committedDate": "2020-05-27T06:36:30Z", "message": "removed shouldShowCorrectButtons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "773dd506a86e1c91b71c11c5eec2dbc7a07fccd7", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/773dd506a86e1c91b71c11c5eec2dbc7a07fccd7", "committedDate": "2020-06-01T19:39:29Z", "message": "remove retainValuesOnScreenRotation unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c355e4585fc5428f6faa6af37a3cd2fc85bec9d", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/2c355e4585fc5428f6faa6af37a3cd2fc85bec9d", "committedDate": "2020-06-01T23:12:54Z", "message": "add unit tests and update SettingsDialogFragment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7144bbba54cc4ffe3f9fed5a8b924fef5a0b950", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/c7144bbba54cc4ffe3f9fed5a8b924fef5a0b950", "committedDate": "2020-06-01T23:17:18Z", "message": "fixed pmd"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0NzUyMjc1", "url": "https://github.com/getodk/collect/pull/3792#pullrequestreview-424752275", "createdAt": "2020-06-04T19:12:16Z", "commit": {"oid": "c7144bbba54cc4ffe3f9fed5a8b924fef5a0b950"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2667, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}