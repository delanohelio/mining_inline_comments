{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MDA2NjAx", "number": 3813, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwNzo1NDowNVrOD6IhGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTozMDowOFrOD8Ze8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMjgzNTQ0OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/activities/SplashScreenActivity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwNzo1NDowNVrOGRyriw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwNzo1NDowNVrOGRyriw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMwOTMyMw==", "bodyText": "It's unused so we can remove it.", "url": "https://github.com/getodk/collect/pull/3813#discussion_r421309323", "createdAt": "2020-05-07T07:54:05Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/SplashScreenActivity.java", "diffHunk": "@@ -63,14 +61,23 @@\n     @Inject\n     Analytics analytics;\n \n+    @Inject\n+    ApplicationInitializer applicationInitializer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e246f6bc0767f3ae609fcb3d7f78390692d3461f"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMjg2NDE0OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/application/Collect.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwODowMTozMFrOGRy9cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMzo0MzowMFrOGTc13Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMxMzkwNw==", "bodyText": "Why this or registering receivers or setupOSMDroid() is not a part of applicationInitializer?", "url": "https://github.com/getodk/collect/pull/3813#discussion_r421313907", "createdAt": "2020-05-07T08:01:30Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/Collect.java", "diffHunk": "@@ -148,41 +131,14 @@ public void onCreate() {\n         singleton = this;\n \n         setupDagger();\n-\n-        NotificationUtils.createNotificationChannel(singleton);\n+        applicationInitializer.initializePreferences();\n+        applicationInitializer.initializeFrameworks();\n+        applicationInitializer.initializeLocale();\n \n         registerReceiver(new SmsSentBroadcastReceiver(), new IntentFilter(SMS_SEND_ACTION));\n         registerReceiver(new SmsNotificationReceiver(), new IntentFilter(SMS_NOTIFICATION_ACTION));\n \n-        try {\n-            JobManager\n-                    .create(this)\n-                    .addJobCreator(collectJobCreator);\n-        } catch (JobManagerCreateException e) {\n-            Timber.e(e);\n-        }\n-\n-        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);\n-        FormMetadataMigrator.migrate(prefs);\n-        PrefMigrator.migrateSharedPrefs();\n-        AutoSendPreferenceMigrator.migrate();\n-\n-        reloadSharedPreferences();\n-\n-        AppCompatDelegate.setCompatVectorFromResourcesEnabled(true);\n-        JodaTimeAndroid.init(this);\n-\n-        defaultSysLanguage = Locale.getDefault().getLanguage();\n-        new LocaleHelper().updateLocale(this);\n-\n         initializeJavaRosa();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e246f6bc0767f3ae609fcb3d7f78390692d3461f"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTY2Nzc0MQ==", "bodyText": "Oh I'd meant to come back to these! JavaRosa is a little complex as initializeJavaRosa is called in lots of places but I think we should be able to include OSMDroid at least. I'll look at this again.", "url": "https://github.com/getodk/collect/pull/3813#discussion_r421667741", "createdAt": "2020-05-07T17:21:25Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/Collect.java", "diffHunk": "@@ -148,41 +131,14 @@ public void onCreate() {\n         singleton = this;\n \n         setupDagger();\n-\n-        NotificationUtils.createNotificationChannel(singleton);\n+        applicationInitializer.initializePreferences();\n+        applicationInitializer.initializeFrameworks();\n+        applicationInitializer.initializeLocale();\n \n         registerReceiver(new SmsSentBroadcastReceiver(), new IntentFilter(SMS_SEND_ACTION));\n         registerReceiver(new SmsNotificationReceiver(), new IntentFilter(SMS_NOTIFICATION_ACTION));\n \n-        try {\n-            JobManager\n-                    .create(this)\n-                    .addJobCreator(collectJobCreator);\n-        } catch (JobManagerCreateException e) {\n-            Timber.e(e);\n-        }\n-\n-        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);\n-        FormMetadataMigrator.migrate(prefs);\n-        PrefMigrator.migrateSharedPrefs();\n-        AutoSendPreferenceMigrator.migrate();\n-\n-        reloadSharedPreferences();\n-\n-        AppCompatDelegate.setCompatVectorFromResourcesEnabled(true);\n-        JodaTimeAndroid.init(this);\n-\n-        defaultSysLanguage = Locale.getDefault().getLanguage();\n-        new LocaleHelper().updateLocale(this);\n-\n         initializeJavaRosa();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMxMzkwNw=="}, "originalCommit": {"oid": "e246f6bc0767f3ae609fcb3d7f78390692d3461f"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA0ODY2OQ==", "bodyText": "OK moved the map stuff in (the OSM problem we were seeing in Robolectric before has apparently gone now which is nice). I decided to keep the receivers and the JavaRosa in onCreate. For the former it's because they are directly linked to the application object itself. For the latter it's because that method is called in many places and I think that's a rework for another time \ud83d\ude01", "url": "https://github.com/getodk/collect/pull/3813#discussion_r423048669", "createdAt": "2020-05-11T13:43:00Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/Collect.java", "diffHunk": "@@ -148,41 +131,14 @@ public void onCreate() {\n         singleton = this;\n \n         setupDagger();\n-\n-        NotificationUtils.createNotificationChannel(singleton);\n+        applicationInitializer.initializePreferences();\n+        applicationInitializer.initializeFrameworks();\n+        applicationInitializer.initializeLocale();\n \n         registerReceiver(new SmsSentBroadcastReceiver(), new IntentFilter(SMS_SEND_ACTION));\n         registerReceiver(new SmsNotificationReceiver(), new IntentFilter(SMS_NOTIFICATION_ACTION));\n \n-        try {\n-            JobManager\n-                    .create(this)\n-                    .addJobCreator(collectJobCreator);\n-        } catch (JobManagerCreateException e) {\n-            Timber.e(e);\n-        }\n-\n-        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);\n-        FormMetadataMigrator.migrate(prefs);\n-        PrefMigrator.migrateSharedPrefs();\n-        AutoSendPreferenceMigrator.migrate();\n-\n-        reloadSharedPreferences();\n-\n-        AppCompatDelegate.setCompatVectorFromResourcesEnabled(true);\n-        JodaTimeAndroid.init(this);\n-\n-        defaultSysLanguage = Locale.getDefault().getLanguage();\n-        new LocaleHelper().updateLocale(this);\n-\n         initializeJavaRosa();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMxMzkwNw=="}, "originalCommit": {"oid": "e246f6bc0767f3ae609fcb3d7f78390692d3461f"}, "originalPosition": 91}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMzA4OTY1OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/application/initialization/ApplicationInitializer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwOTowMTowMVrOGR1MHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNzoyODoxNVrOGSIzmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTM1MDQzMA==", "bodyText": "I think it would be good to factor out more methods here like initializeTimber/initializeJobManager etc. It might be strange to create separate methods for those one line initializations so it's ok to keep them in one method.", "url": "https://github.com/getodk/collect/pull/3813#discussion_r421350430", "createdAt": "2020-05-07T09:01:01Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/initialization/ApplicationInitializer.java", "diffHunk": "@@ -0,0 +1,107 @@\n+package org.odk.collect.android.application.initialization;\n+\n+import android.app.Application;\n+import android.content.SharedPreferences;\n+import android.util.Log;\n+\n+import androidx.appcompat.app.AppCompatDelegate;\n+\n+import com.crashlytics.android.Crashlytics;\n+import com.evernote.android.job.JobManager;\n+import com.evernote.android.job.JobManagerCreateException;\n+\n+import net.danlew.android.joda.JodaTimeAndroid;\n+\n+import org.odk.collect.android.BuildConfig;\n+import org.odk.collect.android.application.Collect;\n+import org.odk.collect.android.jobs.CollectJobCreator;\n+import org.odk.collect.android.preferences.AdminSharedPreferences;\n+import org.odk.collect.android.preferences.AutoSendPreferenceMigrator;\n+import org.odk.collect.android.preferences.GeneralSharedPreferences;\n+import org.odk.collect.android.utilities.LocaleHelper;\n+import org.odk.collect.android.utilities.NotificationUtils;\n+\n+import java.util.Locale;\n+\n+import timber.log.Timber;\n+\n+public class ApplicationInitializer {\n+\n+    private final Application context;\n+    private final CollectJobCreator collectJobCreator;\n+    private final SharedPreferences metaSharedPreferences;\n+    private final GeneralSharedPreferences generalSharedPreferences;\n+    private final AdminSharedPreferences adminSharedPreferences;\n+\n+    public ApplicationInitializer(Application context, CollectJobCreator collectJobCreator, SharedPreferences metaSharedPreferences) {\n+        this.context = context;\n+        this.collectJobCreator = collectJobCreator;\n+        this.metaSharedPreferences = metaSharedPreferences;\n+\n+        generalSharedPreferences = GeneralSharedPreferences.getInstance();\n+        adminSharedPreferences = AdminSharedPreferences.getInstance();\n+    }\n+\n+    public void initializePreferences() {\n+        performMigrations();\n+        reloadSharedPreferences();\n+    }\n+\n+    public void initializeFrameworks() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e246f6bc0767f3ae609fcb3d7f78390692d3461f"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTY3MTgzNA==", "bodyText": "I think you're right it's pretty hard to read that method!", "url": "https://github.com/getodk/collect/pull/3813#discussion_r421671834", "createdAt": "2020-05-07T17:28:15Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/initialization/ApplicationInitializer.java", "diffHunk": "@@ -0,0 +1,107 @@\n+package org.odk.collect.android.application.initialization;\n+\n+import android.app.Application;\n+import android.content.SharedPreferences;\n+import android.util.Log;\n+\n+import androidx.appcompat.app.AppCompatDelegate;\n+\n+import com.crashlytics.android.Crashlytics;\n+import com.evernote.android.job.JobManager;\n+import com.evernote.android.job.JobManagerCreateException;\n+\n+import net.danlew.android.joda.JodaTimeAndroid;\n+\n+import org.odk.collect.android.BuildConfig;\n+import org.odk.collect.android.application.Collect;\n+import org.odk.collect.android.jobs.CollectJobCreator;\n+import org.odk.collect.android.preferences.AdminSharedPreferences;\n+import org.odk.collect.android.preferences.AutoSendPreferenceMigrator;\n+import org.odk.collect.android.preferences.GeneralSharedPreferences;\n+import org.odk.collect.android.utilities.LocaleHelper;\n+import org.odk.collect.android.utilities.NotificationUtils;\n+\n+import java.util.Locale;\n+\n+import timber.log.Timber;\n+\n+public class ApplicationInitializer {\n+\n+    private final Application context;\n+    private final CollectJobCreator collectJobCreator;\n+    private final SharedPreferences metaSharedPreferences;\n+    private final GeneralSharedPreferences generalSharedPreferences;\n+    private final AdminSharedPreferences adminSharedPreferences;\n+\n+    public ApplicationInitializer(Application context, CollectJobCreator collectJobCreator, SharedPreferences metaSharedPreferences) {\n+        this.context = context;\n+        this.collectJobCreator = collectJobCreator;\n+        this.metaSharedPreferences = metaSharedPreferences;\n+\n+        generalSharedPreferences = GeneralSharedPreferences.getInstance();\n+        adminSharedPreferences = AdminSharedPreferences.getInstance();\n+    }\n+\n+    public void initializePreferences() {\n+        performMigrations();\n+        reloadSharedPreferences();\n+    }\n+\n+    public void initializeFrameworks() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTM1MDQzMA=="}, "originalCommit": {"oid": "e246f6bc0767f3ae609fcb3d7f78390692d3461f"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NjU3OTU5OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/application/Collect.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOToyODoxNVrOGVT1iA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMTowMzowM1rOGWyNKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk5ODI4MA==", "bodyText": "It is unused now.", "url": "https://github.com/getodk/collect/pull/3813#discussion_r424998280", "createdAt": "2020-05-14T09:28:15Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/Collect.java", "diffHunk": "@@ -88,7 +70,7 @@\n     UserAgentProvider userAgentProvider;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f5553ee14d84dca7d34fc8d19d4cac0cfdfb558"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjU0NDQyNg==", "bodyText": "Ah nice catch. I really dislike that Dagger's generated code sometimes fools Android Studio into thinking a field is used.", "url": "https://github.com/getodk/collect/pull/3813#discussion_r426544426", "createdAt": "2020-05-18T11:03:03Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/Collect.java", "diffHunk": "@@ -88,7 +70,7 @@\n     UserAgentProvider userAgentProvider;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk5ODI4MA=="}, "originalCommit": {"oid": "5f5553ee14d84dca7d34fc8d19d4cac0cfdfb558"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NjU4NjczOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/application/initialization/ApplicationInitializer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTozMDowOFrOGVT6Hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMToyMDo0NVrOGWyvuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk5OTQ1NQ==", "bodyText": "Is there any reason you unpacked this? I mean having it in a separate method like initializeMaps or initializeMapProviders seems more elegant.", "url": "https://github.com/getodk/collect/pull/3813#discussion_r424999455", "createdAt": "2020-05-14T09:30:08Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/initialization/ApplicationInitializer.java", "diffHunk": "@@ -0,0 +1,119 @@\n+package org.odk.collect.android.application.initialization;\n+\n+import android.app.Application;\n+import android.content.SharedPreferences;\n+import android.util.Log;\n+\n+import androidx.appcompat.app.AppCompatDelegate;\n+\n+import com.crashlytics.android.Crashlytics;\n+import com.evernote.android.job.JobManager;\n+import com.evernote.android.job.JobManagerCreateException;\n+\n+import net.danlew.android.joda.JodaTimeAndroid;\n+\n+import org.odk.collect.android.BuildConfig;\n+import org.odk.collect.android.application.Collect;\n+import org.odk.collect.android.geo.MapboxUtils;\n+import org.odk.collect.android.jobs.CollectJobCreator;\n+import org.odk.collect.android.preferences.AdminSharedPreferences;\n+import org.odk.collect.android.preferences.AutoSendPreferenceMigrator;\n+import org.odk.collect.android.preferences.GeneralSharedPreferences;\n+import org.odk.collect.android.utilities.LocaleHelper;\n+import org.odk.collect.android.utilities.NotificationUtils;\n+import org.odk.collect.utilities.UserAgentProvider;\n+\n+import java.util.Locale;\n+\n+import timber.log.Timber;\n+\n+public class ApplicationInitializer {\n+\n+    private final Application context;\n+    private final CollectJobCreator collectJobCreator;\n+    private final SharedPreferences metaSharedPreferences;\n+    private final UserAgentProvider userAgentProvider;\n+    private final GeneralSharedPreferences generalSharedPreferences;\n+    private final AdminSharedPreferences adminSharedPreferences;\n+\n+    public ApplicationInitializer(Application context, CollectJobCreator collectJobCreator, SharedPreferences metaSharedPreferences, UserAgentProvider userAgentProvider) {\n+        this.context = context;\n+        this.collectJobCreator = collectJobCreator;\n+        this.metaSharedPreferences = metaSharedPreferences;\n+        this.userAgentProvider = userAgentProvider;\n+\n+        generalSharedPreferences = GeneralSharedPreferences.getInstance();\n+        adminSharedPreferences = AdminSharedPreferences.getInstance();\n+    }\n+\n+    public void initializePreferences() {\n+        performMigrations();\n+        reloadSharedPreferences();\n+    }\n+\n+    public void initializeFrameworks() {\n+        NotificationUtils.createNotificationChannel(context);\n+        initializeJobManager();\n+        JodaTimeAndroid.init(context);\n+        initializeLogging();\n+        AppCompatDelegate.setCompatVectorFromResourcesEnabled(true);\n+\n+        new com.google.android.gms.maps.MapView(context).onCreate(null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f5553ee14d84dca7d34fc8d19d4cac0cfdfb558"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjU1MzI3Mg==", "bodyText": "It felt fine to have them in the initializeFrameworks to me but I don't have any strong feelings on it. I'll put the method back but call it from the same place.", "url": "https://github.com/getodk/collect/pull/3813#discussion_r426553272", "createdAt": "2020-05-18T11:20:45Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/initialization/ApplicationInitializer.java", "diffHunk": "@@ -0,0 +1,119 @@\n+package org.odk.collect.android.application.initialization;\n+\n+import android.app.Application;\n+import android.content.SharedPreferences;\n+import android.util.Log;\n+\n+import androidx.appcompat.app.AppCompatDelegate;\n+\n+import com.crashlytics.android.Crashlytics;\n+import com.evernote.android.job.JobManager;\n+import com.evernote.android.job.JobManagerCreateException;\n+\n+import net.danlew.android.joda.JodaTimeAndroid;\n+\n+import org.odk.collect.android.BuildConfig;\n+import org.odk.collect.android.application.Collect;\n+import org.odk.collect.android.geo.MapboxUtils;\n+import org.odk.collect.android.jobs.CollectJobCreator;\n+import org.odk.collect.android.preferences.AdminSharedPreferences;\n+import org.odk.collect.android.preferences.AutoSendPreferenceMigrator;\n+import org.odk.collect.android.preferences.GeneralSharedPreferences;\n+import org.odk.collect.android.utilities.LocaleHelper;\n+import org.odk.collect.android.utilities.NotificationUtils;\n+import org.odk.collect.utilities.UserAgentProvider;\n+\n+import java.util.Locale;\n+\n+import timber.log.Timber;\n+\n+public class ApplicationInitializer {\n+\n+    private final Application context;\n+    private final CollectJobCreator collectJobCreator;\n+    private final SharedPreferences metaSharedPreferences;\n+    private final UserAgentProvider userAgentProvider;\n+    private final GeneralSharedPreferences generalSharedPreferences;\n+    private final AdminSharedPreferences adminSharedPreferences;\n+\n+    public ApplicationInitializer(Application context, CollectJobCreator collectJobCreator, SharedPreferences metaSharedPreferences, UserAgentProvider userAgentProvider) {\n+        this.context = context;\n+        this.collectJobCreator = collectJobCreator;\n+        this.metaSharedPreferences = metaSharedPreferences;\n+        this.userAgentProvider = userAgentProvider;\n+\n+        generalSharedPreferences = GeneralSharedPreferences.getInstance();\n+        adminSharedPreferences = AdminSharedPreferences.getInstance();\n+    }\n+\n+    public void initializePreferences() {\n+        performMigrations();\n+        reloadSharedPreferences();\n+    }\n+\n+    public void initializeFrameworks() {\n+        NotificationUtils.createNotificationChannel(context);\n+        initializeJobManager();\n+        JodaTimeAndroid.init(context);\n+        initializeLogging();\n+        AppCompatDelegate.setCompatVectorFromResourcesEnabled(true);\n+\n+        new com.google.android.gms.maps.MapView(context).onCreate(null);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk5OTQ1NQ=="}, "originalCommit": {"oid": "5f5553ee14d84dca7d34fc8d19d4cac0cfdfb558"}, "originalPosition": 61}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3336, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}