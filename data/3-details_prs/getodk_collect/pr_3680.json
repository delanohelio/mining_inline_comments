{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0MjI0Mjk3", "number": 3680, "title": "Use one app bar layout across the app", "bodyText": "What has been done to verify that this works as intended?\nI reviewed the screens that I updated.\nWhy is this the best possible solution? Were any other approaches considered?\nIt's a refactoring that allows removing some duplicated code. Now we have one toolbar layout we can use across the app.\nIt also makes the layouts consistent because without this pr we use different shadows for example in different screens.\nHow does this change affect users? Describe intentional changes to behavior and behavior that could have accidentally been affected by code changes. In other words, what are the regression risks?\nIt requires reviewing all screens to confirm that there is everything fine with their toolbars.\nDo we need any specific form for testing your changes? If so, please attach one.\nNo.\nDoes this change require updates to documentation? If so, please file an issue here and include the link below.\nNo.\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-03-05T11:35:34Z", "url": "https://github.com/getodk/collect/pull/3680", "merged": true, "mergeCommit": {"oid": "a6d2f02d444e233c06c187d2338247e578453681"}, "closed": true, "closedAt": "2020-03-24T09:16:11Z", "author": {"login": "grzesiek2010"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKpYFEAH2gAyMzg0MjI0Mjk3OjJhMjQyNTU4NjZmZTNiOTNiZDk2ZDhjMjA1NzdkOWFkYTFhMTVlNGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQdOGTgH2gAyMzg0MjI0Mjk3OmMxYmVjMzYwNzQ5ZWVlNGRlMzAxNDY3MzQ2NmRmZTc0YTM2YzkxNGQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2a24255866fe3b93bd96d8c20577d9ada1a15e4c", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/2a24255866fe3b93bd96d8c20577d9ada1a15e4c", "committedDate": "2020-03-05T10:57:44Z", "message": "Use one app_bar_layout in all screens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecceab28cd740b7afb0b21414179dd3e4485092b", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/ecceab28cd740b7afb0b21414179dd3e4485092b", "committedDate": "2020-03-05T11:06:15Z", "message": "Simplified about_layout layout"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b27bd81313008e43e6ce3aa27761d669263026c", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/6b27bd81313008e43e6ce3aa27761d669263026c", "committedDate": "2020-03-05T11:07:39Z", "message": "Removed duplicated layout file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b92f0eca5f811bcd538e01a2c36e9fb2b965525", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/1b92f0eca5f811bcd538e01a2c36e9fb2b965525", "committedDate": "2020-03-05T11:18:55Z", "message": "Removed redundant file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1MzkwNzQw", "url": "https://github.com/getodk/collect/pull/3680#pullrequestreview-375390740", "createdAt": "2020-03-16T16:40:35Z", "commit": {"oid": "1b92f0eca5f811bcd538e01a2c36e9fb2b965525"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxNjo0MDozNVrOF28jxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxNjo0MDozNVrOF28jxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzE1OTYyMQ==", "bodyText": "We don't actually have this written down anywhere but generally my opinion is that layout IDs should be snakecased (app_bar_layout). I've never actually been able to find any good arbitrary opinions on this. Thoughts @lognaturel?", "url": "https://github.com/getodk/collect/pull/3680#discussion_r393159621", "createdAt": "2020-03-16T16:40:35Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/res/layout/form_chooser_list.xml", "diffHunk": "@@ -18,19 +18,13 @@ the License.\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"match_parent\">\n \n-    <include layout=\"@layout/toolbar\"/>\n-\n-    <include\n-            layout=\"@layout/toolbar_action_bar_shadow\"\n-            android:layout_width=\"match_parent\"\n-            android:layout_height=\"wrap_content\"\n-            android:layout_below=\"@id/toolbar\"/>\n+    <include layout=\"@layout/app_bar_layout\"/>\n \n     <LinearLayout\n             android:id=\"@+id/llParent\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"match_parent\"\n-            android:layout_below=\"@id/toolbar\"\n+            android:layout_below=\"@id/appBarLayout\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b92f0eca5f811bcd538e01a2c36e9fb2b965525"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1MzkxNzI3", "url": "https://github.com/getodk/collect/pull/3680#pullrequestreview-375391727", "createdAt": "2020-03-16T16:41:41Z", "commit": {"oid": "1b92f0eca5f811bcd538e01a2c36e9fb2b965525"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b8befef456664367f32c6e2241387a25eededa0", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/7b8befef456664367f32c6e2241387a25eededa0", "committedDate": "2020-03-16T22:00:05Z", "message": "Merge branch 'master' into app_bar_layout"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1bec360749eee4de3014673466dfe74a36c914d", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/c1bec360749eee4de3014673466dfe74a36c914d", "committedDate": "2020-03-23T12:11:31Z", "message": "Removed top margin in about activity"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2331, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}