{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1ODg4NDE0", "number": 3885, "title": "Fixed google bug 154855417", "bodyText": "Closes #3884\nWhat has been done to verify that this works as intended?\nNot much since we can't reproduce it. I just prepared my changes according to https://issuetracker.google.com/issues/154855417#comment509\nWhy is this the best possible solution? Were any other approaches considered?\nI implemented changes according to the explanation provided here (as I said above): https://issuetracker.google.com/issues/154855417#comment509\nI adjusted the sample fix for android keeping just the fix for maps v2 and using our shared preferences.\nHow does this change affect users? Describe intentional changes to behavior and behavior that could have accidentally been affected by code changes. In other words, what are the regression risks?\nWe are not able to reproduce the issue and also testing doesn't make sense.\nDo we need any specific form for testing your changes? If so, please attach one.\nNo.\nDoes this change require updates to documentation? If so, please file an issue here and include the link below.\nNo.\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-06-01T10:23:33Z", "url": "https://github.com/getodk/collect/pull/3885", "merged": true, "mergeCommit": {"oid": "88f3129b7b4f37d3da4baae7ed7f003542a4dfd8"}, "closed": true, "closedAt": "2020-06-01T12:38:54Z", "author": {"login": "grzesiek2010"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcm-B5-AFqTQyMTc1MzgxMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcm-yAGAFqTQyMTc4MDkyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNzUzODEx", "url": "https://github.com/getodk/collect/pull/3885#pullrequestreview-421753811", "createdAt": "2020-06-01T10:50:31Z", "commit": {"oid": "ac8f3037feb2f47dae00d5575c4bdb580414ae0c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxMDo1MDozMVrOGdGYWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxMDo1MToxNFrOGdGZhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzE2NjQyNg==", "bodyText": "This should be using MetaSharedPreferencesProvider instead. That way we don't need to use KEYS_WE_SHOULD_NOT_RESET.", "url": "https://github.com/getodk/collect/pull/3885#discussion_r433166426", "createdAt": "2020-06-01T10:50:31Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/Collect.java", "diffHunk": "@@ -91,6 +92,9 @@\n     @Inject\n     public CollectJobCreator collectJobCreator;\n \n+    @Inject\n+    public GeneralSharedPreferences generalSharedPreferences;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac8f3037feb2f47dae00d5575c4bdb580414ae0c"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzE2NjcyNQ==", "bodyText": "Probably nice to add a comment with a link to the issue given this is a weird one!", "url": "https://github.com/getodk/collect/pull/3885#discussion_r433166725", "createdAt": "2020-06-01T10:51:14Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/application/Collect.java", "diffHunk": "@@ -150,6 +154,7 @@ public void onCreate() {\n         singleton = this;\n \n         setupDagger();\n+        fixGoogleBug154855417();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac8f3037feb2f47dae00d5575c4bdb580414ae0c"}, "originalPosition": 22}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ac8f3037feb2f47dae00d5575c4bdb580414ae0c", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/ac8f3037feb2f47dae00d5575c4bdb580414ae0c", "committedDate": "2020-06-01T10:16:17Z", "message": "Fixed google bug 154855417"}, "afterCommit": {"oid": "3a6b229b632ffec4fcb0cecf01de87a970cad8b2", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/3a6b229b632ffec4fcb0cecf01de87a970cad8b2", "committedDate": "2020-06-01T11:19:23Z", "message": "Fixed google bug 154855417"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a03f1fc613fd105a58d2de5f3b5028e87c2e69c", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/0a03f1fc613fd105a58d2de5f3b5028e87c2e69c", "committedDate": "2020-06-01T11:25:45Z", "message": "Fixed google bug 154855417"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3a6b229b632ffec4fcb0cecf01de87a970cad8b2", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/3a6b229b632ffec4fcb0cecf01de87a970cad8b2", "committedDate": "2020-06-01T11:19:23Z", "message": "Fixed google bug 154855417"}, "afterCommit": {"oid": "0a03f1fc613fd105a58d2de5f3b5028e87c2e69c", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/0a03f1fc613fd105a58d2de5f3b5028e87c2e69c", "committedDate": "2020-06-01T11:25:45Z", "message": "Fixed google bug 154855417"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNzgwOTI5", "url": "https://github.com/getodk/collect/pull/3885#pullrequestreview-421780929", "createdAt": "2020-06-01T11:43:56Z", "commit": {"oid": "0a03f1fc613fd105a58d2de5f3b5028e87c2e69c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2721, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}