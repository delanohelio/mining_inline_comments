{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxNzA5Mjc3", "number": 3625, "reviewThreads": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDoxMzoyN1rODdoOtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjo0MDo0MlrODir6zQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyMzk0NDIwOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/utilities/PRNGFixes.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDoxMzoyN1rOFmVvaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNToyNjoyMlrOFmfLOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTc0NjQxMQ==", "bodyText": "Isn't this whole class unused now?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r375746411", "createdAt": "2020-02-06T10:13:27Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/utilities/PRNGFixes.java", "diffHunk": "@@ -39,107 +36,13 @@\n  */\n public final class PRNGFixes {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43a3ee525a60c86151a900ca34a40b4de033c933"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTkwMDk4Ng==", "bodyText": "Yes, actually @grzesiek2010! \ud83d\ude05", "url": "https://github.com/getodk/collect/pull/3625#discussion_r375900986", "createdAt": "2020-02-06T15:26:22Z", "author": {"login": "SaumiaSinghal"}, "path": "collect_app/src/main/java/org/odk/collect/android/utilities/PRNGFixes.java", "diffHunk": "@@ -39,107 +36,13 @@\n  */\n public final class PRNGFixes {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTc0NjQxMQ=="}, "originalCommit": {"oid": "43a3ee525a60c86151a900ca34a40b4de033c933"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyNDAzNDAxOnYy", "diffSide": "LEFT", "path": "collect_app/src/main/java/org/odk/collect/android/widgets/ImageWidget.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDo0MToyN1rOFmWlqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDo0MToyN1rOFmWlqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTc2MDI5OA==", "bodyText": "Looks like CaptureSelfieActivity should be removed at all because it's unused.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r375760298", "createdAt": "2020-02-06T10:41:27Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/ImageWidget.java", "diffHunk": "@@ -150,11 +148,7 @@ private void captureImage() {\n         errorTextView.setVisibility(View.GONE);\n         Intent intent;\n         if (selfie) {\n-            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n-                intent = new Intent(getContext(), CaptureSelfieActivityNewApi.class);\n-            } else {\n-                intent = new Intent(getContext(), CaptureSelfieActivity.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43a3ee525a60c86151a900ca34a40b4de033c933"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyNDA1MDk2OnYy", "diffSide": "LEFT", "path": "collect_app/src/main/java/org/odk/collect/android/widgets/VideoWidget.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDo0Njo1MVrOFmWwXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMDo0Njo1MVrOFmWwXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTc2MzAzOA==", "bodyText": "The same here, looks as if this class was used just here so we can get rid of it.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r375763038", "createdAt": "2020-02-06T10:46:51Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/VideoWidget.java", "diffHunk": "@@ -352,26 +285,11 @@ public void denied() {\n     private void captureVideo() {\n         Intent i;\n         if (selfie) {\n-            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n-                i = new Intent(getContext(), CaptureSelfieVideoActivityNewApi.class);\n-            } else {\n-                i = new Intent(getContext(), CaptureSelfieVideoActivity.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43a3ee525a60c86151a900ca34a40b4de033c933"}, "originalPosition": 127}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyNzU4MzExOnYy", "diffSide": "LEFT", "path": "collect_app/src/main/res/layout-v17/range_widget_horizontal.xml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMDoyMTowM1rOFm4hwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoxNzoyN1rOFpAkoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjMxNjM1Mg==", "bodyText": "If you have resources with specified API level like here v17 it's not only for API 17 but for 17+. I know it's misleading but actually this file is the one we want to keep, it should be moved to general layout folder to replace the one that exists there and then this folder should be removed.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376316352", "createdAt": "2020-02-07T10:21:03Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/layout-v17/range_widget_horizontal.xml", "diffHunk": "@@ -1,67 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba1a637fbe9e8925e3df7ec519318e5124bc2b2d"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjYyNTg5Mg==", "bodyText": "Okay yes I understand why testDebug was not able to locate the file range_widget_horizontal.xml", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376625892", "createdAt": "2020-02-07T21:55:10Z", "author": {"login": "SaumiaSinghal"}, "path": "collect_app/src/main/res/layout-v17/range_widget_horizontal.xml", "diffHunk": "@@ -1,67 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjMxNjM1Mg=="}, "originalCommit": {"oid": "ba1a637fbe9e8925e3df7ec519318e5124bc2b2d"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQxMDAxOA==", "bodyText": "I think we're still missing this one unless I just can't see it?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378410018", "createdAt": "2020-02-12T17:43:39Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/res/layout-v17/range_widget_horizontal.xml", "diffHunk": "@@ -1,67 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjMxNjM1Mg=="}, "originalCommit": {"oid": "ba1a637fbe9e8925e3df7ec519318e5124bc2b2d"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU0NTMxMg==", "bodyText": "It's there https://github.com/opendatakit/collect/pull/3625/files#diff-68e08140c170fb774f8b1da8213e3fdc so seems fine.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378545312", "createdAt": "2020-02-12T22:17:27Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/layout-v17/range_widget_horizontal.xml", "diffHunk": "@@ -1,67 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjMxNjM1Mg=="}, "originalCommit": {"oid": "ba1a637fbe9e8925e3df7ec519318e5124bc2b2d"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMTczMTg3OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/utilities/ViewIds.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1Mzo0NlrOFnd90Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxNTozMTo1MFrOFnqfIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkyOTc0NQ==", "bodyText": "Now it doesn't make sense to keep this class. Could you get rid of it and use View.generateViewId() everywhere instead?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376929745", "createdAt": "2020-02-10T08:53:46Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/utilities/ViewIds.java", "diffHunk": "@@ -1,47 +1,17 @@\n package org.odk.collect.android.utilities;\n \n-import android.os.Build;\n import android.view.View;\n \n-import java.util.concurrent.atomic.AtomicInteger;\n-\n public class ViewIds {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzEzNDg4MQ==", "bodyText": "Yes @grzesiek2010, I will do that!", "url": "https://github.com/getodk/collect/pull/3625#discussion_r377134881", "createdAt": "2020-02-10T15:31:50Z", "author": {"login": "SaumiaSinghal"}, "path": "collect_app/src/main/java/org/odk/collect/android/utilities/ViewIds.java", "diffHunk": "@@ -1,47 +1,17 @@\n package org.odk.collect.android.utilities;\n \n-import android.os.Build;\n import android.view.View;\n \n-import java.util.concurrent.atomic.AtomicInteger;\n-\n public class ViewIds {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkyOTc0NQ=="}, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMTc0MzIyOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/widgets/ImageWidget.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1NzozM1rOFneEkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1NzozM1rOFneEkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkzMTQ3NA==", "bodyText": "Please get rid of this extra empty line. Hmm it should break the build, i'm wondering why it didn't happen in this case.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376931474", "createdAt": "2020-02-10T08:57:33Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/ImageWidget.java", "diffHunk": "@@ -64,6 +62,7 @@ public ImageWidget(Context context, final QuestionDetails prompt) {\n         addAnswerView(answerLayout);\n     }\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMTc0NjUwOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieActivityNewApi.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1ODozOVrOFneGiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1ODozOVrOFneGiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkzMTk3Nw==", "bodyText": "Please rename this class removing NewApi because now it's misleading.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376931977", "createdAt": "2020-02-10T08:58:39Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieActivityNewApi.java", "diffHunk": "@@ -28,7 +26,6 @@\n \n import static org.odk.collect.android.utilities.PermissionUtils.isCameraPermissionGranted;\n \n-@TargetApi(Build.VERSION_CODES.LOLLIPOP)\n public class CaptureSelfieActivityNewApi extends CollectAbstractActivity {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMTc0Nzc2OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieVideoActivityNewApi.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1OTowNFrOFneHVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwODo1OTowNFrOFneHVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkzMjE4MA==", "bodyText": "Please rename this class removing NewApi because now it's misleading.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376932180", "createdAt": "2020-02-10T08:59:04Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieVideoActivityNewApi.java", "diffHunk": "@@ -28,7 +26,6 @@\n \n import static org.odk.collect.android.utilities.PermissionUtils.areCameraAndRecordAudioPermissionsGranted;\n \n-@TargetApi(Build.VERSION_CODES.LOLLIPOP)\n public class CaptureSelfieVideoActivityNewApi extends Activity {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMTc1NjQ0OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/widgets/RangeWidget.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOTowMjowOVrOFneMiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOTowMjowOVrOFneMiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkzMzUxNQ==", "bodyText": "There is something wrong here, KITKAT won't be supported so you don't need this check.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376933515", "createdAt": "2020-02-10T09:02:09Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/RangeWidget.java", "diffHunk": "@@ -172,14 +170,10 @@ private void setUpSeekBar() {\n         seekBar.setOnSeekBarChangeListener(this);\n         if (isRTL()) {\n             float rotate = seekBar.getRotation();\n-            if (Build.VERSION.SDK_INT == Build.VERSION_CODES.KITKAT ||\n-                    Build.VERSION.SDK_INT == Build.VERSION_CODES.JELLY_BEAN_MR2) {\n+            if (Build.VERSION.SDK_INT == Build.VERSION_CODES.KITKAT) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMTc4MzA3OnYy", "diffSide": "LEFT", "path": "collect_app/src/main/res/values-v21/themes.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOToxMTo0M1rOFnec4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOToxMTo0M1rOFnec4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkzNzY5Ng==", "bodyText": "Why did you remove this file? The comment is clear and I explained above:\n\nif you have resources with specified API level like here v17 it's not only for API 17 but for 17+. I know it's misleading but actually this file is the one we want to keep, it should be moved to general layout folder to replace the one that exists there and then this folder should be removed.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376937696", "createdAt": "2020-02-10T09:11:43Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/values-v21/themes.xml", "diffHunk": "@@ -1,19 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>\n-\n-<!--\n-    This file contains the app's light and dark theme definitions for\n-    API 21 and above", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMTgwNTg4OnYy", "diffSide": "LEFT", "path": "collect_app/src/main/res/drawable-v21/action_bar_shadow.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOToxODozMFrOFneqLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOToxODozMFrOFneqLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njk0MTEwMw==", "bodyText": "Again we need this file it's for api 21+.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376941103", "createdAt": "2020-02-10T09:18:30Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/drawable-v21/action_bar_shadow.xml", "diffHunk": "@@ -1,20 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMTgxMDIwOnYy", "diffSide": "LEFT", "path": "collect_app/src/main/res/layout-v21/toolbar_action_bar_shadow.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOToxOTo1MFrOFneswA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwOToxOTo1MFrOFneswA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njk0MTc2MA==", "bodyText": "We need this file it's for api 21+. You just need to move it to the main layout package to replace the one for other APIs.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r376941760", "createdAt": "2020-02-10T09:19:50Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/layout-v21/toolbar_action_bar_shadow.xml", "diffHunk": "@@ -1,6 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064f809d17fbb29be806268ec3563d0a1bda1042"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0MTE1MjExOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/fragments/AppListFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNzozNDozOFrOFo4Axw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNzozNDozOFrOFo4Axw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQwNTA2Mw==", "bodyText": "Probably don't need this comment any longer!", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378405063", "createdAt": "2020-02-12T17:34:38Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/fragments/AppListFragment.java", "diffHunk": "@@ -104,12 +103,10 @@ public static void toggleButtonLabel(Button toggleButton, ListView lv) {\n     public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n         super.onViewCreated(view, savedInstanceState);\n \n-        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n-            // Use the nicer-looking drawable with Material Design insets.\n-            ListView listView = getListView();\n-            listView.setDivider(getResources().getDrawable(R.drawable.list_item_divider, getActivity().getTheme()));\n-            listView.setDividerHeight(1);\n-        }\n+        // Use the nicer-looking drawable with Material Design insets.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0MTE1ODQ3OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/utilities/MediaUtils.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNzozNjozNlrOFo4E8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNzozNjozNlrOFo4E8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQwNjEyOA==", "bodyText": "We can probably lose this @SupressLint", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378406128", "createdAt": "2020-02-12T17:36:36Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/utilities/MediaUtils.java", "diffHunk": "@@ -419,32 +418,7 @@ public static final int deleteVideoInFolderFromMediaProvider(File folder) {\n      */\n     @SuppressLint(\"NewApi\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0MjAwMzIwOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/res/values/themes.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoxMjo0NFrOFpAc5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoxMjo0NFrOFpAc5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU0MzMzNQ==", "bodyText": "Since now we won't support lower versions you can get rid of this comment.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378543335", "createdAt": "2020-02-12T22:12:44Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/values/themes.xml", "diffHunk": "@@ -2,12 +2,18 @@\n \n <!--\n     This file contains the app's light and dark theme definitions for\n-    API 20 and below\n+    API 21 and above", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0MjAxOTU5OnYy", "diffSide": "LEFT", "path": "collect_app/src/main/res/layout/material_full_screen_dialog_toolbar.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoxOTowOFrOFpAnVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMzowNjo0NlrOFuFU7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU0NjAwNg==", "bodyText": "Why did you remove it?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378546006", "createdAt": "2020-02-12T22:19:08Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/layout/material_full_screen_dialog_toolbar.xml", "diffHunk": "@@ -13,11 +13,4 @@\n         app:navigationIcon=\"@drawable/ic_close_black_24dp\"\n         tools:title=\"Title\" />\n \n-    <include", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg1ODY1MQ==", "bodyText": "You didn't answer my question but I think you were right you removed the entire view because now it's always gone right and not needed? If that's true please remove it.\nIt was just a question because as a reviewer I didn't catch it at first glance, don't hesitate to explain or even argue if you are sure you are right \ud83d\ude03 just a tip for the future.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r383858651", "createdAt": "2020-02-25T12:51:24Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/layout/material_full_screen_dialog_toolbar.xml", "diffHunk": "@@ -13,11 +13,4 @@\n         app:navigationIcon=\"@drawable/ic_close_black_24dp\"\n         tools:title=\"Title\" />\n \n-    <include", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU0NjAwNg=="}, "originalCommit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg2NjA5Mg==", "bodyText": "Hi @grzesiek2010! I removed it because I noticed in the tests that it was not needed now. Thank you for the tip! :D\nI'll fix it.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r383866092", "createdAt": "2020-02-25T13:06:46Z", "author": {"login": "SaumiaSinghal"}, "path": "collect_app/src/main/res/layout/material_full_screen_dialog_toolbar.xml", "diffHunk": "@@ -13,11 +13,4 @@\n         app:navigationIcon=\"@drawable/ic_close_black_24dp\"\n         tools:title=\"Title\" />\n \n-    <include", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU0NjAwNg=="}, "originalCommit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0MjAyNzg5OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieActivity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoyMjowOVrOFpAshw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoyMjowOVrOFpAshw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU0NzMzNQ==", "bodyText": "Please rename this layout file as well removing _new_api.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378547335", "createdAt": "2020-02-12T22:22:09Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieActivity.java", "diffHunk": "@@ -16,95 +16,36 @@\n \n package org.odk.collect.android.activities;\n \n-import android.hardware.Camera;\n import android.os.Bundle;\n-import android.view.View;\n import android.view.Window;\n import android.view.WindowManager;\n-import android.widget.FrameLayout;\n \n import org.odk.collect.android.R;\n-import org.odk.collect.android.storage.StoragePathProvider;\n-import org.odk.collect.android.utilities.CameraUtils;\n+import org.odk.collect.android.fragments.Camera2Fragment;\n import org.odk.collect.android.utilities.ToastUtils;\n-import org.odk.collect.android.views.CameraPreview;\n \n-import timber.log.Timber;\n+import static org.odk.collect.android.utilities.PermissionUtils.isCameraPermissionGranted;\n \n public class CaptureSelfieActivity extends CollectAbstractActivity {\n-    private Camera camera;\n-    private CameraPreview preview;\n-    private int cameraId;\n \n     @Override\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n-        requestWindowFeature(Window.FEATURE_NO_TITLE);\n-        getWindow().setFlags(WindowManager\n-                .LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n-\n-        setContentView(R.layout.activity_capture_selfie);\n-        FrameLayout previewLayout = findViewById(R.id.camera_preview);\n-\n-        try {\n-            cameraId = CameraUtils.getFrontCameraId();\n-            camera = CameraUtils.getCameraInstance(this, cameraId);\n-        } catch (Exception e) {\n-            Timber.e(e);\n-        }\n-\n-        preview = new CameraPreview(this, camera);\n-        previewLayout.addView(preview);\n-\n-        preview.setOnClickListener(new View.OnClickListener() {\n-            @Override\n-            public void onClick(View v) {\n-                preview.setEnabled(false);\n-                camera.takePicture(null, null, picture);\n-            }\n-        });\n-\n-        ToastUtils.showLongToast(R.string.take_picture_instruction);\n-    }\n \n-    private final Camera.PictureCallback picture = new Camera.PictureCallback() {\n-        @Override\n-        public void onPictureTaken(byte[] data, Camera camera) {\n-            CameraUtils.savePhoto(new StoragePathProvider().getTmpFilePath(), data);\n-            setResult(RESULT_OK);\n+        if (!isCameraPermissionGranted(this)) {\n             finish();\n+            return;\n         }\n-    };\n \n-    @Override\n-    protected void onPause() {\n-        camera = null;\n-        super.onPause();\n-    }\n-\n-    @Override\n-    protected void onResume() {\n-        super.onResume();\n-\n-        if (camera == null) {\n-            setContentView(R.layout.activity_capture_selfie);\n-            FrameLayout preview = findViewById(R.id.camera_preview);\n-\n-            try {\n-                cameraId = CameraUtils.getFrontCameraId();\n-                camera = CameraUtils.getCameraInstance(this, cameraId);\n-            } catch (Exception e) {\n-                Timber.e(e);\n-            }\n-\n-            this.preview = new CameraPreview(this, camera);\n-            preview.addView(this.preview);\n-            preview.setOnClickListener(new View.OnClickListener() {\n-                @Override\n-                public void onClick(View v) {\n-                    camera.takePicture(null, null, picture);\n-                }\n-            });\n+        requestWindowFeature(Window.FEATURE_NO_TITLE);\n+        getWindow().setFlags(WindowManager\n+                .LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n+        setContentView(R.layout.activity_capture_selfie_new_api);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "originalPosition": 100}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0MjAyOTA0OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieVideoActivity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoyMjozNlrOFpAtUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMjoyMjozNlrOFpAtUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU0NzUzOQ==", "bodyText": "Please rename this layout file as well removing _new_api.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r378547539", "createdAt": "2020-02-12T22:22:36Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieVideoActivity.java", "diffHunk": "@@ -17,196 +18,31 @@\n  */\n \n import android.app.Activity;\n-import android.content.Intent;\n-import android.hardware.Camera;\n-import android.media.CamcorderProfile;\n-import android.media.MediaRecorder;\n-import android.net.Uri;\n import android.os.Bundle;\n-import android.view.View;\n-import android.view.Window;\n-import android.view.WindowManager;\n-import android.widget.FrameLayout;\n \n import org.odk.collect.android.R;\n-import org.odk.collect.android.application.Collect;\n-import org.odk.collect.android.utilities.CameraUtils;\n+import org.odk.collect.android.fragments.Camera2VideoFragment;\n import org.odk.collect.android.utilities.ToastUtils;\n-import org.odk.collect.android.views.CameraPreview;\n-\n-import java.io.File;\n-import java.io.IOException;\n-\n-import timber.log.Timber;\n \n-/*https://developer.android.com/guide/topics/media/camera.html#capture-video*/\n+import static org.odk.collect.android.utilities.PermissionUtils.areCameraAndRecordAudioPermissionsGranted;\n \n public class CaptureSelfieVideoActivity extends Activity {\n-    private Camera camera;\n-    private CameraPreview camPreview;\n-    private int cameraId;\n-    private boolean recording;\n-    private MediaRecorder mediaRecorder;\n-    private String outputFile;\n \n     @Override\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n-        requestWindowFeature(Window.FEATURE_NO_TITLE);\n-        getWindow().setFlags(WindowManager\n-                .LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n-\n-        setContentView(R.layout.activity_capture_selfie);\n-        FrameLayout preview = findViewById(R.id.camera_preview);\n-\n-        try {\n-            cameraId = CameraUtils.getFrontCameraId();\n-            camera = CameraUtils.getCameraInstance(this, cameraId);\n-        } catch (Exception e) {\n-            Timber.e(e);\n-        }\n-\n-        this.camPreview = new CameraPreview(this, camera);\n-        preview.addView(this.camPreview);\n-\n-        mediaRecorder = new MediaRecorder();\n-\n-        this.camPreview.setOnClickListener(new View.OnClickListener() {\n-            @Override\n-            public void onClick(View v) {\n-                if (Collect.allowClick(getClass().getName())) {\n-                    if (!recording) {\n-                        // initialize video camera\n-                        if (prepareVideoRecorder()) {\n-                            // Camera is available and unlocked, MediaRecorder is prepared,\n-                            // now you can start recording\n-                            mediaRecorder.start();\n-                            Timber.d(\"Started recording\");\n-\n-                            // inform the user that recording has started\n-                            ToastUtils.showLongToast(getString(R.string.stop_video_capture_instruction));\n-                            recording = true;\n-                        } else {\n-                            // prepare didn't work, release the camera\n-                            releaseMediaRecorder();\n-                        }\n-                    } else {\n-                        try {\n-                            camPreview.setClickable(false);\n-                            Timber.d(\"About to stop recording\");\n-                            mediaRecorder.stop();  // stop the recording\n-\n-                            releaseMediaRecorder(); // release the MediaRecorder object\n-                            camera.lock();         // take camera access back from MediaRecorder\n-                            recording = false;\n-                            releaseCamera();\n-\n-                            Intent i = new Intent();\n-                            i.setData(Uri.fromFile(new File(outputFile)));\n-                            setResult(RESULT_OK, i);\n-                        } catch (RuntimeException e) {\n-                            // RuntimeException is thrown when stop() is called immediately after start().\n-                            // In this case the output file is not properly constructed ans should be deleted.\n-                            Timber.d(\"RuntimeException: stop() is called immediately after start()\");\n-                            //noinspection ResultOfMethodCallIgnored\n-                            new File(outputFile).delete();\n-\n-                            releaseMediaRecorder(); // release the MediaRecorder object\n-                            camera.lock();         // take camera access back from MediaRecorder\n-                            recording = false;\n-                            releaseCamera();\n-                        }\n-                        finish();\n-                    }\n-                }\n-            }\n-        });\n-\n-        ToastUtils.showLongToast(getString(R.string.start_video_capture_instruction));\n-    }\n-\n-    private boolean prepareVideoRecorder() {\n-\n-        mediaRecorder = new MediaRecorder();\n-\n-        // Step 1: Unlock and set camera to MediaRecorder\n-        camera.unlock();\n-        mediaRecorder.setCamera(camera);\n-\n-        // Step 2: Set sources\n-        mediaRecorder.setAudioSource(MediaRecorder.AudioSource.CAMCORDER);\n-        mediaRecorder.setVideoSource(MediaRecorder.VideoSource.CAMERA);\n \n-        // Step 3: Set a CamcorderProfile (requires API Level 8 or higher)\n-        mediaRecorder.setProfile(CamcorderProfile.get(cameraId, CamcorderProfile.QUALITY_HIGH));\n-\n-        // Step 4: Set output file\n-\n-        if (outputFile == null || outputFile.isEmpty()) {\n-            outputFile = CameraUtils.getVideoFilePath(this);\n-        }\n-        mediaRecorder.setOutputFile(outputFile);\n-\n-        // Step 5: Set the preview output\n-        mediaRecorder.setPreviewDisplay(camPreview.getHolder().getSurface());\n-\n-        // Step 6: Prepare configured MediaRecorder\n-        try {\n-            mediaRecorder.prepare();\n-        } catch (IllegalStateException | IOException e) {\n-            Timber.e(e);\n-            releaseMediaRecorder();\n-            return false;\n-        }\n-        return true;\n-    }\n-\n-    private void releaseMediaRecorder() {\n-        if (mediaRecorder != null) {\n-            mediaRecorder.reset();   // clear recorder configuration\n-            mediaRecorder.release(); // release the recorder object\n-            mediaRecorder = null;\n-            camera.lock();           // lock camera for later use\n-        }\n-    }\n-\n-    private void releaseCamera() {\n-        if (camera != null) {\n-            // release the camera for other applications\n-            try {\n-                camera.release();\n-                Timber.i(\"Camera released\");\n-            } catch (Exception e) {\n-                Timber.d(\"Camera has been already released\");\n-            }\n-            camera = null;\n+        if (!areCameraAndRecordAudioPermissionsGranted(this)) {\n+            finish();\n+            return;\n         }\n-    }\n-\n-    @Override\n-    protected void onPause() {\n-        releaseMediaRecorder();       // if you are using MediaRecorder, release it first\n-        releaseCamera();\n-        super.onPause();\n-    }\n \n-    @Override\n-    protected void onResume() {\n-        super.onResume();\n-\n-        if (camera == null) {\n-            setContentView(R.layout.activity_capture_selfie);\n-            FrameLayout preview = findViewById(R.id.camera_preview);\n-\n-            try {\n-                cameraId = CameraUtils.getFrontCameraId();\n-                camera = CameraUtils.getCameraInstance(this, cameraId);\n-            } catch (Exception e) {\n-                Timber.e(e);\n-            }\n-\n-            this.camPreview = new CameraPreview(this, camera);\n-            preview.addView(this.camPreview);\n+        setContentView(R.layout.activity_capture_selfie_video_new_api);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d07273805e0189f28b711bc3d29afe4a184696ee"}, "originalPosition": 216}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1NTk2ODk0OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/widgets/DateWidget.java", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMjo1NDo1M1rOFrBPCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNDoyNDoxOFrOFs4g7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY1MzMyMA==", "bodyText": "There is something to improve in that method as well. Please take a look.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r380653320", "createdAt": "2020-02-18T12:54:53Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/DateWidget.java", "diffHunk": "@@ -223,7 +223,7 @@ private int getTheme() {\n         int theme = 0;\n         // https://github.com/opendatakit/collect/issues/1424\n         // https://github.com/opendatakit/collect/issues/1367\n-        if (!isBrokenSamsungDevice() && Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n+        if (!isBrokenSamsungDevice()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e21f4843c0d80afe98d02efb28818f9071d2ae91"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY2NTI0NA==", "bodyText": "I mean you can get rid of && Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP", "url": "https://github.com/getodk/collect/pull/3625#discussion_r380665244", "createdAt": "2020-02-18T13:18:30Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/DateWidget.java", "diffHunk": "@@ -223,7 +223,7 @@ private int getTheme() {\n         int theme = 0;\n         // https://github.com/opendatakit/collect/issues/1424\n         // https://github.com/opendatakit/collect/issues/1367\n-        if (!isBrokenSamsungDevice() && Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n+        if (!isBrokenSamsungDevice()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY1MzMyMA=="}, "originalCommit": {"oid": "e21f4843c0d80afe98d02efb28818f9071d2ae91"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY3NjAyOQ==", "bodyText": "Please also get rid of those two comments with links to issues. We can find related issues using git.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r380676029", "createdAt": "2020-02-18T13:39:01Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/DateWidget.java", "diffHunk": "@@ -223,7 +223,7 @@ private int getTheme() {\n         int theme = 0;\n         // https://github.com/opendatakit/collect/issues/1424\n         // https://github.com/opendatakit/collect/issues/1367\n-        if (!isBrokenSamsungDevice() && Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n+        if (!isBrokenSamsungDevice()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY1MzMyMA=="}, "originalCommit": {"oid": "e21f4843c0d80afe98d02efb28818f9071d2ae91"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk5MzYyOA==", "bodyText": "Still isBrokenSamsungDevice() is not updated.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r380993628", "createdAt": "2020-02-18T23:19:20Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/DateWidget.java", "diffHunk": "@@ -223,7 +223,7 @@ private int getTheme() {\n         int theme = 0;\n         // https://github.com/opendatakit/collect/issues/1424\n         // https://github.com/opendatakit/collect/issues/1367\n-        if (!isBrokenSamsungDevice() && Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n+        if (!isBrokenSamsungDevice()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY1MzMyMA=="}, "originalCommit": {"oid": "e21f4843c0d80afe98d02efb28818f9071d2ae91"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU2MTM3NA==", "bodyText": "What about this @SaumiaSinghal?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r382561374", "createdAt": "2020-02-21T12:43:25Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/DateWidget.java", "diffHunk": "@@ -223,7 +223,7 @@ private int getTheme() {\n         int theme = 0;\n         // https://github.com/opendatakit/collect/issues/1424\n         // https://github.com/opendatakit/collect/issues/1367\n-        if (!isBrokenSamsungDevice() && Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n+        if (!isBrokenSamsungDevice()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY1MzMyMA=="}, "originalCommit": {"oid": "e21f4843c0d80afe98d02efb28818f9071d2ae91"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYwNzU5Nw==", "bodyText": "I read your comment and removed the link to those issues, but jumped && Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP, I updated it.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r382607597", "createdAt": "2020-02-21T14:24:18Z", "author": {"login": "SaumiaSinghal"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/DateWidget.java", "diffHunk": "@@ -223,7 +223,7 @@ private int getTheme() {\n         int theme = 0;\n         // https://github.com/opendatakit/collect/issues/1424\n         // https://github.com/opendatakit/collect/issues/1367\n-        if (!isBrokenSamsungDevice() && Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n+        if (!isBrokenSamsungDevice()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY1MzMyMA=="}, "originalCommit": {"oid": "e21f4843c0d80afe98d02efb28818f9071d2ae91"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1NjAxMzY5OnYy", "diffSide": "LEFT", "path": "collect_app/src/main/res/layout/sort_item_layout.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMzowOToyNlrOFrBqaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMTozNzoxN1rOFrTUyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY2MDMyOQ==", "bodyText": "Why did you remove it?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r380660329", "createdAt": "2020-02-18T13:09:26Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/layout/sort_item_layout.xml", "diffHunk": "@@ -20,7 +20,6 @@ the License.\n     android:layout_height=\"wrap_content\"\n     android:clickable=\"true\"\n     android:focusable=\"true\"\n-    android:foreground=\"?android:attr/selectableItemBackground\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e21f4843c0d80afe98d02efb28818f9071d2ae91"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk0OTcwNg==", "bodyText": "Sorry @grzesiek2010! I was fixing it actually. I found it here that android:foreground attribute doesn't work in API 23 or lower.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r380949706", "createdAt": "2020-02-18T21:37:17Z", "author": {"login": "SaumiaSinghal"}, "path": "collect_app/src/main/res/layout/sort_item_layout.xml", "diffHunk": "@@ -20,7 +20,6 @@ the License.\n     android:layout_height=\"wrap_content\"\n     android:clickable=\"true\"\n     android:focusable=\"true\"\n-    android:foreground=\"?android:attr/selectableItemBackground\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY2MDMyOQ=="}, "originalCommit": {"oid": "e21f4843c0d80afe98d02efb28818f9071d2ae91"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1ODExODg3OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/res/layout/sort_item_layout.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMzoxNTozN1rOFrV7rQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMTo0NTowNlrOFs0U5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk5MjQyOQ==", "bodyText": "Why FrameLayout?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r380992429", "createdAt": "2020-02-18T23:15:37Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/layout/sort_item_layout.xml", "diffHunk": "@@ -14,12 +14,13 @@ License for the specific language governing permissions and limitations under\n the License.\n \n -->\n-<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+<FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjUzNDY3Nw==", "bodyText": "I found that android:foreground attribute does not work in API 23. I read about it here. Including it in FrameLayout works.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r382534677", "createdAt": "2020-02-21T11:33:12Z", "author": {"login": "SaumiaSinghal"}, "path": "collect_app/src/main/res/layout/sort_item_layout.xml", "diffHunk": "@@ -14,12 +14,13 @@ License for the specific language governing permissions and limitations under\n the License.\n \n -->\n-<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+<FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk5MjQyOQ=="}, "originalCommit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjUzODk4Mg==", "bodyText": "Even if it's true it's not a related change so you can file a separate issue for that. You can't just change LineraLayout to FrameLayout because those component's work in a different way.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r382538982", "createdAt": "2020-02-21T11:45:06Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/res/layout/sort_item_layout.xml", "diffHunk": "@@ -14,12 +14,13 @@ License for the specific language governing permissions and limitations under\n the License.\n \n -->\n-<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+<FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk5MjQyOQ=="}, "originalCommit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1ODEyMTY4OnYy", "diffSide": "LEFT", "path": "collect_app/src/main/java/org/odk/collect/android/provider/FormsProvider.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMzoxNzowMlrOFrV9bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMzoxNzowMlrOFrV9bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk5Mjg3OQ==", "bodyText": "You can now remove UriUtils class and the related UriUtilsTest.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r380992879", "createdAt": "2020-02-18T23:17:02Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/provider/FormsProvider.java", "diffHunk": "@@ -528,14 +528,12 @@ public int update(Uri uri, ContentValues values, String where,\n         return newWhereArgs;\n     }\n \n-    // Leading slashes are removed from paths to support minSdkVersion < 18:\n-    // https://developer.android.com/reference/android/content/UriMatcher\n     static {\n         URI_MATCHER = new UriMatcher(UriMatcher.NO_MATCH);\n-        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, UriUtils.stripLeadingUriSlashes(FormsColumns.CONTENT_URI.getPath()), FORMS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1ODE1NzI2OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/provider/FormsProvider.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMzozNDo1NlrOFrWTFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxMjo1ODozN1rOFtfsxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk5ODQyMg==", "bodyText": "I think it's a wrong solution please take a look at this commit where it was implemented f22b49d and InstancesProvider class.\nI think it should be:\nforms\nforms/#\nuniqueFormsByFormId", "url": "https://github.com/getodk/collect/pull/3625#discussion_r380998422", "createdAt": "2020-02-18T23:34:56Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/provider/FormsProvider.java", "diffHunk": "@@ -528,14 +528,12 @@ public int update(Uri uri, ContentValues values, String where,\n         return newWhereArgs;\n     }\n \n-    // Leading slashes are removed from paths to support minSdkVersion < 18:\n-    // https://developer.android.com/reference/android/content/UriMatcher\n     static {\n         URI_MATCHER = new UriMatcher(UriMatcher.NO_MATCH);\n-        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, UriUtils.stripLeadingUriSlashes(FormsColumns.CONTENT_URI.getPath()), FORMS);\n-        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, UriUtils.stripLeadingUriSlashes(FormsColumns.CONTENT_URI.getPath()) + \"/#\", FORM_ID);\n+        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, FormsColumns.CONTENT_URI.getPath(), FORMS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjUzMjEzNQ==", "bodyText": "Hie @grzesiek2010! Thanks for directing to the commit. I reverted it to how it was implemented.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r382532135", "createdAt": "2020-02-21T11:26:21Z", "author": {"login": "SaumiaSinghal"}, "path": "collect_app/src/main/java/org/odk/collect/android/provider/FormsProvider.java", "diffHunk": "@@ -528,14 +528,12 @@ public int update(Uri uri, ContentValues values, String where,\n         return newWhereArgs;\n     }\n \n-    // Leading slashes are removed from paths to support minSdkVersion < 18:\n-    // https://developer.android.com/reference/android/content/UriMatcher\n     static {\n         URI_MATCHER = new UriMatcher(UriMatcher.NO_MATCH);\n-        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, UriUtils.stripLeadingUriSlashes(FormsColumns.CONTENT_URI.getPath()), FORMS);\n-        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, UriUtils.stripLeadingUriSlashes(FormsColumns.CONTENT_URI.getPath()) + \"/#\", FORM_ID);\n+        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, FormsColumns.CONTENT_URI.getPath(), FORMS);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk5ODQyMg=="}, "originalCommit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI0ODAxMQ==", "bodyText": "I made a mistake and what you did here was right. Could you add it back?\nSorry my mistake... Please just revert this 0055362", "url": "https://github.com/getodk/collect/pull/3625#discussion_r383248011", "createdAt": "2020-02-24T12:54:55Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/provider/FormsProvider.java", "diffHunk": "@@ -528,14 +528,12 @@ public int update(Uri uri, ContentValues values, String where,\n         return newWhereArgs;\n     }\n \n-    // Leading slashes are removed from paths to support minSdkVersion < 18:\n-    // https://developer.android.com/reference/android/content/UriMatcher\n     static {\n         URI_MATCHER = new UriMatcher(UriMatcher.NO_MATCH);\n-        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, UriUtils.stripLeadingUriSlashes(FormsColumns.CONTENT_URI.getPath()), FORMS);\n-        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, UriUtils.stripLeadingUriSlashes(FormsColumns.CONTENT_URI.getPath()) + \"/#\", FORM_ID);\n+        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, FormsColumns.CONTENT_URI.getPath(), FORMS);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk5ODQyMg=="}, "originalCommit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI0OTYwNw==", "bodyText": "Yes that's okay @grzesiek2010! I'll revert it.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r383249607", "createdAt": "2020-02-24T12:58:37Z", "author": {"login": "SaumiaSinghal"}, "path": "collect_app/src/main/java/org/odk/collect/android/provider/FormsProvider.java", "diffHunk": "@@ -528,14 +528,12 @@ public int update(Uri uri, ContentValues values, String where,\n         return newWhereArgs;\n     }\n \n-    // Leading slashes are removed from paths to support minSdkVersion < 18:\n-    // https://developer.android.com/reference/android/content/UriMatcher\n     static {\n         URI_MATCHER = new UriMatcher(UriMatcher.NO_MATCH);\n-        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, UriUtils.stripLeadingUriSlashes(FormsColumns.CONTENT_URI.getPath()), FORMS);\n-        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, UriUtils.stripLeadingUriSlashes(FormsColumns.CONTENT_URI.getPath()) + \"/#\", FORM_ID);\n+        URI_MATCHER.addURI(FormsProviderAPI.AUTHORITY, FormsColumns.CONTENT_URI.getPath(), FORMS);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk5ODQyMg=="}, "originalCommit": {"oid": "9f2012f8d670a68f94743adcc619d054e9b44f4b"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2OTIxODI3OnYy", "diffSide": "LEFT", "path": "collect_app/src/main/java/org/odk/collect/android/utilities/FileUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNjo1NjoyOFrOFs9zzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNzowMzo0NFrOFs-Cmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY5NDM1MQ==", "bodyText": "Please get rid of the comment above since the explanation won't be needed now.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r382694351", "createdAt": "2020-02-21T16:56:28Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/utilities/FileUtils.java", "diffHunk": "@@ -587,20 +584,6 @@ public static String getFileExtension(String fileName) {\n     public static void grantFilePermissions(Intent intent, Uri uri, Context context) {\n         intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n         intent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27303466a3bdc4d51d9b5201805141501ee7ae21"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY5ODEzOQ==", "bodyText": "Yes Correct!", "url": "https://github.com/getodk/collect/pull/3625#discussion_r382698139", "createdAt": "2020-02-21T17:03:44Z", "author": {"login": "SaumiaSinghal"}, "path": "collect_app/src/main/java/org/odk/collect/android/utilities/FileUtils.java", "diffHunk": "@@ -587,20 +584,6 @@ public static String getFileExtension(String fileName) {\n     public static void grantFilePermissions(Intent intent, Uri uri, Context context) {\n         intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n         intent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n-", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY5NDM1MQ=="}, "originalCommit": {"oid": "27303466a3bdc4d51d9b5201805141501ee7ae21"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3MzE5OTMwOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieVideoActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxMzoyOToxNVrOFtglrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxMzoyOToxNVrOFtglrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2NDE3Mg==", "bodyText": "Why do we still need this comment?", "url": "https://github.com/getodk/collect/pull/3625#discussion_r383264172", "createdAt": "2020-02-24T13:29:15Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/CaptureSelfieVideoActivity.java", "diffHunk": "@@ -1,13 +1,14 @@\n+\n package org.odk.collect.android.activities;\n \n /*\n- * Copyright (C) 2013 The Android Open Source Project\n+ * Copyright 2014 The Android Open Source Project", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f4f6fabbeea0394b10f075486f40c98a3f502bb"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3NjkzOTYzOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjoyNzo0NlrOFuEOCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjozMjoxNFrOFuEVzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg0Nzk0NA==", "bodyText": "Please remove this comment", "url": "https://github.com/getodk/collect/pull/3625#discussion_r383847944", "createdAt": "2020-02-25T12:27:46Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java", "diffHunk": "@@ -2783,11 +2782,7 @@ private void displayUIFor(@Nullable BackgroundLocationManager.BackgroundLocation\n         // double space where the placeholder is in the text resource. Collapse those spaces.\n         // See https://github.com/opendatakit/collect/pull/2864", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f4f6fabbeea0394b10f075486f40c98a3f502bb"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg0OTkzMg==", "bodyText": "I also ran into a really old comment in SounnerMultiWidget class, please remove this part in the same commit:\n\nThere is a bug in\nandroid versions previous to 2.0 that affects this widget. You can find the report here:\nhttp://code.google.com/p/android/issues/detail?id=922 This bug causes text to be white in alert\nboxes, which makes the select options invisible in this widget. For this reason, this widget\nshould not be used on phones with android versions lower than 2.0.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r383849932", "createdAt": "2020-02-25T12:32:14Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java", "diffHunk": "@@ -2783,11 +2782,7 @@ private void displayUIFor(@Nullable BackgroundLocationManager.BackgroundLocation\n         // double space where the placeholder is in the text resource. Collapse those spaces.\n         // See https://github.com/opendatakit/collect/pull/2864", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg0Nzk0NA=="}, "originalCommit": {"oid": "9f4f6fabbeea0394b10f075486f40c98a3f502bb"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3Njk3NzQxOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/widgets/VideoWidget.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjo0MDo0MlrOFuEkpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMjo0NDo0MVrOFuErqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg1MzczNA==", "bodyText": "We also don't need this comment anymore.", "url": "https://github.com/getodk/collect/pull/3625#discussion_r383853734", "createdAt": "2020-02-25T12:40:42Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/VideoWidget.java", "diffHunk": "@@ -275,13 +215,6 @@ public void setBinaryData(Object object) {\n         // Need to have this ugly code to account for\n         // a bug in the Nexus 7 on 4.3 not returning the mediaUri in the data\n         // of the intent - uri in this case is a file", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f4f6fabbeea0394b10f075486f40c98a3f502bb"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg1NTUyOA==", "bodyText": "Thanks for directing @grzesiek2010!", "url": "https://github.com/getodk/collect/pull/3625#discussion_r383855528", "createdAt": "2020-02-25T12:44:41Z", "author": {"login": "SaumiaSinghal"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/VideoWidget.java", "diffHunk": "@@ -275,13 +215,6 @@ public void setBinaryData(Object object) {\n         // Need to have this ugly code to account for\n         // a bug in the Nexus 7 on 4.3 not returning the mediaUri in the data\n         // of the intent - uri in this case is a file", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg1MzczNA=="}, "originalCommit": {"oid": "9f4f6fabbeea0394b10f075486f40c98a3f502bb"}, "originalPosition": 109}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3475, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}