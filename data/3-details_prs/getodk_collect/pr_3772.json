{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxMTQ0NDQ1", "number": 3772, "title": "Use fused location provider everywhere", "bodyText": "Closes #2717\nCloses #3313\nMakes progress towards #3441\nSome decisions:\n\nlocation provider should be communicated explicitly to the user where practical. I didn't add it to geotrace and geoshape because I think those have enough info already and provider wasn't included previously. I could be convinced to remove it from everywhere but I think it could help with troubleshooting.\naccuracy should be displayed before provider information everywhere because it is more important\nkeep using the deprecated FusedLocationProviderApi because FusedLocationProviderClient which is supposed to replace it doesn't work until Google Play Services 11.6.0, released Nov 2017\nLocationClientListener.onClientStop() should be called whenever LocationClient.stop() is called. I don't think the implementation pre-929dc4f made much sense but I'd like another careful eye on that.\n\nWhat has been done to verify that this works as intended?\nAdded tests for the LocationClientProvider logic. Verified that LocationClient or a Mapbox/Google equivalent is used everywhere that foreground location is requested.\nWhy is this the best possible solution? Were any other approaches considered?\nI considered fixing the leaks in another PR but they were getting in my way and I figure they'll be easier to review in this context.\nFor the LocationClientProvider test I considered using Robolectric Shadows Play Services to not have the really strange exception catching pattern but I couldn't immediately get it to work and it didn't feel worth it to add more complexity.\nHow does this change affect users? Describe intentional changes to behavior and behavior that could have accidentally been affected by code changes. In other words, what are the regression risks?\nOn most Android versions, users won't have any control over what sensors are used to get their current location. From what I have experienced and read, this will be an improvement for almost everyone. However, it could lead to worse performance under some conditions.\nThe regression risk is focused on geopoint questions without a map but there's also some small amount of risk for all geo questions.\nDo we need any specific form for testing your changes? If so, please attach one.\nAny form with geo questions.\nDoes this change require updates to documentation? If so, please file an issue here and include the link below.\ngetodk/docs#1225\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-04-09T00:24:16Z", "url": "https://github.com/getodk/collect/pull/3772", "merged": true, "mergeCommit": {"oid": "84e39992cdbd82ae8445d12a87508f403d1c2495"}, "closed": true, "closedAt": "2020-06-18T12:47:51Z", "author": {"login": "lognaturel"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclLrPcABqjMzNzU1MTI1MzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsRqQ7AH2gAyNDAxMTQ0NDQ1OjM1YzY4ZmNmNjcwM2E4ZmZmZWQxNDM0NTU1ZjNlMGRlNTViNGUxZTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fa15b490284bfffcb7bd422168dd23cd6626b00a", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/fa15b490284bfffcb7bd422168dd23cd6626b00a", "committedDate": "2020-04-09T00:23:37Z", "message": "Separate location provider from accuracy"}, "afterCommit": {"oid": "b001a97a9f375c9e4dea19c34ee2e4bc3eb89fe9", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/b001a97a9f375c9e4dea19c34ee2e4bc3eb89fe9", "committedDate": "2020-05-26T21:32:35Z", "message": "Separate location provider from accuracy"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4710345fa79e2a25be0b8ca657cb6f146a93ddd3", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/4710345fa79e2a25be0b8ca657cb6f146a93ddd3", "committedDate": "2020-05-27T04:16:19Z", "message": "Remove redundant update stop and always call onClientStop"}, "afterCommit": {"oid": "929dc4f8d0b531f243c4caa39903229f186ae59a", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/929dc4f8d0b531f243c4caa39903229f186ae59a", "committedDate": "2020-06-02T00:09:54Z", "message": "Always call onClientStop from stop, never from onConnectionSuspended\n\nAccording to the docs on LocationClientListener.onClientStop, it should always be called when stop() is called. This also matches the AndroidLocationClient implementation. onConnectionSuspended is called when the connection to Google Play Services is lost because, for example, the user stops it. According to the original author of the API, a reconnection attempt will be made: https://stackoverflow.com/a/26147518/137744. I don't think it's appropriate to consider the LocationClient stopped at that point."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2dd04c6bcabd17dc63960ac1e76f1b3eb08c9e28", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/2dd04c6bcabd17dc63960ac1e76f1b3eb08c9e28", "committedDate": "2020-06-02T02:19:14Z", "message": "Remove GPS from location description"}, "afterCommit": {"oid": "a2d668e826a1e3f7059df5776449a6decf4e521e", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/a2d668e826a1e3f7059df5776449a6decf4e521e", "committedDate": "2020-06-02T02:32:13Z", "message": "Remove GPS from location description"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2d668e826a1e3f7059df5776449a6decf4e521e", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/a2d668e826a1e3f7059df5776449a6decf4e521e", "committedDate": "2020-06-02T02:32:13Z", "message": "Remove GPS from location description"}, "afterCommit": {"oid": "7ac482252f1e67fb2686da18ba4e3819ff35776f", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/7ac482252f1e67fb2686da18ba4e3819ff35776f", "committedDate": "2020-06-02T04:02:08Z", "message": "Remove GPS from location description"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyNjI5NDM3", "url": "https://github.com/getodk/collect/pull/3772#pullrequestreview-422629437", "createdAt": "2020-06-02T12:34:50Z", "commit": {"oid": "e09948cd7efb238549a18c327da5e65bf4fbae07"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMjozNDo1MFrOGdvgrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMjo0MTowNVrOGdvuyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg0MDMwMw==", "bodyText": "I agree about not pulling in Play Services shadows. One potentially simple way to make this test a little nicer would be to pass a GoogleAPIClientLocationProvider interface to LocationClientProvider in someway so it could be mocked/faked and not actually call the play services code. That would also let us write tests for GoogleFusedLocationProvider without any extra Robolectric stuff.\nSo many interfaces though! It's frustrating not having any way to express lambdas in method signatures. #3886 adds a poly fill for Java 8's Supplier  (we could be using it as a general \"provider\" interface) which could make this all a bit simpler. You could think about introducing that here?", "url": "https://github.com/getodk/collect/pull/3772#discussion_r433840303", "createdAt": "2020-06-02T12:34:50Z", "author": {"login": "seadowg"}, "path": "collect_app/src/test/java/org/odk/collect/android/location/client/LocationClientProviderTest.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ * Copyright (C) 2020 Nafundi\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software distributed under the License\n+ * is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n+ * or implied. See the License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package org.odk.collect.android.location.client;\n+\n+import android.content.Context;\n+import android.util.Log;\n+\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.mockito.Mock;\n+import org.mockito.junit.MockitoJUnit;\n+import org.mockito.junit.MockitoRule;\n+import org.odk.collect.android.utilities.PlayServicesChecker;\n+import org.robolectric.RobolectricTestRunner;\n+\n+import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.hamcrest.Matchers.containsString;\n+import static org.hamcrest.Matchers.instanceOf;\n+import static org.mockito.ArgumentMatchers.any;\n+import static org.mockito.Mockito.when;\n+\n+@RunWith(RobolectricTestRunner.class)\n+public class LocationClientProviderTest {\n+    @Rule\n+    public MockitoRule rule = MockitoJUnit.rule();\n+\n+    @Mock\n+    public Context context;\n+\n+    @Mock\n+    public PlayServicesChecker playServicesChecker;\n+\n+    @Test\n+    public void fusedLocationClient_returnedWhenPlayServicesAvailable() {\n+        when(playServicesChecker.isGooglePlayServicesAvailable(any())).thenReturn(true);\n+\n+        // Could import Robolectric Shadows Play Services to actually build a GoogleFusedLocationClient", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e09948cd7efb238549a18c327da5e65bf4fbae07"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg0MzkxMg==", "bodyText": "Might be easier to use Mockito for this listener verification?", "url": "https://github.com/getodk/collect/pull/3772#discussion_r433843912", "createdAt": "2020-06-02T12:41:05Z", "author": {"login": "seadowg"}, "path": "collect_app/src/test/java/org/odk/collect/android/location/client/GoogleFusedLocationClientTest.java", "diffHunk": "@@ -74,30 +76,29 @@ public void startShouldCallLocationClientOnConnected() {\n     }\n \n     @Test\n-    public void stopShouldDisconnectFromGoogleApiIfConnected() {\n-\n+    public void stopShouldDisconnectFromGoogleApiIfConnected_andAlwaysCallOnClientStopIfListenerSet() {\n         TestClientListener testClientListener = new TestClientListener();\n         client.setListener(testClientListener);\n \n-        // Call through to ApiClient.disconnect(), but don't do anything:\n+        // Previously connected, disconnection succeeds\n         when(googleApiClient.isConnected()).thenReturn(true);\n         client.stop();\n+        verify(googleApiClient).disconnect();\n+        assertThat(testClientListener.getOnClientStopCount(), is(1));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "347112f1f93425ae4905f33409e932512031fdd7"}, "originalPosition": 24}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3a7cf5e268f405f0ab4463e5be40111b8545d23f", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/3a7cf5e268f405f0ab4463e5be40111b8545d23f", "committedDate": "2020-06-04T04:48:19Z", "message": "Add provider for GoogleFusedLocationClient"}, "afterCommit": {"oid": "87439ff3e3aec6846553c2feb1f0f88d277c033f", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/87439ff3e3aec6846553c2feb1f0f88d277c033f", "committedDate": "2020-06-04T05:04:13Z", "message": "Add provider for GoogleFusedLocationClient"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "87439ff3e3aec6846553c2feb1f0f88d277c033f", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/87439ff3e3aec6846553c2feb1f0f88d277c033f", "committedDate": "2020-06-04T05:04:13Z", "message": "Add provider for GoogleFusedLocationClient"}, "afterCommit": {"oid": "9947fb658f3ddbce18941ed36f3888dad9600332", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/9947fb658f3ddbce18941ed36f3888dad9600332", "committedDate": "2020-06-04T17:29:17Z", "message": "Use supplier for GoogleFusedLocationClient"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2ODkxNjE3", "url": "https://github.com/getodk/collect/pull/3772#pullrequestreview-426891617", "createdAt": "2020-06-09T08:12:59Z", "commit": {"oid": "9947fb658f3ddbce18941ed36f3888dad9600332"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5603d84f118bb22aa58c9d0d488019788c33b6c", "author": {"user": {"login": "zestyping", "name": "Ka-Ping Yee"}}, "url": "https://github.com/getodk/collect/commit/a5603d84f118bb22aa58c9d0d488019788c33b6c", "committedDate": "2020-06-10T22:54:08Z", "message": "PlayServicesUtil cleanup: remove unused static member and clarify JavaDoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7ac9c10b7166885b69b0957e35a17873d8fec07", "author": {"user": {"login": "zestyping", "name": "Ka-Ping Yee"}}, "url": "https://github.com/getodk/collect/commit/f7ac9c10b7166885b69b0957e35a17873d8fec07", "committedDate": "2020-06-10T22:54:08Z", "message": "Enable LocationClients to return the fused location provider."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c014a0550eb807ab795017b4711f48cbefa2127", "author": {"user": {"login": "zestyping", "name": "Ka-Ping Yee"}}, "url": "https://github.com/getodk/collect/commit/6c014a0550eb807ab795017b4711f48cbefa2127", "committedDate": "2020-06-10T22:54:08Z", "message": "Rename GoogleLocationClient to GoogleFusedLocationClient for clarity."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05d06f5e07cedadb565ead6f7c7513b4d0ebb992", "author": {"user": {"login": "zestyping", "name": "Ka-Ping Yee"}}, "url": "https://github.com/getodk/collect/commit/05d06f5e07cedadb565ead6f7c7513b4d0ebb992", "committedDate": "2020-06-10T22:54:08Z", "message": "Rename LocationClients to LocationClientProvider to reflect its purpose."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b48529b71c81f3041941d358ff3e434cd3ca3da", "author": {"user": {"login": "zestyping", "name": "Ka-Ping Yee"}}, "url": "https://github.com/getodk/collect/commit/5b48529b71c81f3041941d358ff3e434cd3ca3da", "committedDate": "2020-06-10T22:54:08Z", "message": "Fix PMD complaints."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9020465d24bea893ac26f61ab8e9826e6f7bea0", "author": {"user": {"login": "zestyping", "name": "Ka-Ping Yee"}}, "url": "https://github.com/getodk/collect/commit/a9020465d24bea893ac26f61ab8e9826e6f7bea0", "committedDate": "2020-06-10T22:54:08Z", "message": "Fix CheckStyle complaints."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c2d731682f7ca139c8febbb677deb1bc9733637", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/8c2d731682f7ca139c8febbb677deb1bc9733637", "committedDate": "2020-06-10T22:54:08Z", "message": "Explain usage of deprecated location API"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "185fb950ed7bc1dc92285521c178738f558a150e", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/185fb950ed7bc1dc92285521c178738f558a150e", "committedDate": "2020-06-10T23:04:17Z", "message": "Test LocationClientProvider logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35ea5e189cb8338eb3cc337d3cc3aba17d062e5a", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/35ea5e189cb8338eb3cc337d3cc3aba17d062e5a", "committedDate": "2020-06-10T23:04:17Z", "message": "Separate location provider from accuracy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80b79d8b390c92e3b09b7c1aff01f09b6b4d6a07", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/80b79d8b390c92e3b09b7c1aff01f09b6b4d6a07", "committedDate": "2020-06-10T23:04:17Z", "message": "Remove GPS status listener to avoid leak"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aebecd7b7c5843c7e71a3b9ee90c6a5ee9ba26ba", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/aebecd7b7c5843c7e71a3b9ee90c6a5ee9ba26ba", "committedDate": "2020-06-10T23:04:17Z", "message": "Always call onClientStop from stop, never from onConnectionSuspended\n\nAccording to the docs on LocationClientListener.onClientStop, it should always be called when stop() is called. This also matches the AndroidLocationClient implementation. onConnectionSuspended is called when the connection to Google Play Services is lost because, for example, the user stops it. According to the original author of the API, a reconnection attempt will be made: https://stackoverflow.com/a/26147518/137744. I don't think it's appropriate to consider the LocationClient stopped at that point."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff5b4e3cf4f4efd1b0467d24761b6bc408f52883", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/ff5b4e3cf4f4efd1b0467d24761b6bc408f52883", "committedDate": "2020-06-10T23:04:18Z", "message": "Balance listener setting and unsetting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7842edf8f067512ed321165146358f8635f6c6ef", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/7842edf8f067512ed321165146358f8635f6c6ef", "committedDate": "2020-06-10T23:04:18Z", "message": "Clear task queue on pause to avoid activity leaks\n\nBecause the timer task calls an activity instance method."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3bb80c8019297c898c28987f7330a8372d49f0a", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/d3bb80c8019297c898c28987f7330a8372d49f0a", "committedDate": "2020-06-10T23:04:18Z", "message": "Use application context for GoogleApiClient to avoid leak\n\nThere doesn't seem to be any way to release the context: https://stackoverflow.com/a/36190198/137744"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8fc6ed32b1449a29a91ec1f1bcd679dc2935900", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/b8fc6ed32b1449a29a91ec1f1bcd679dc2935900", "committedDate": "2020-06-10T23:04:18Z", "message": "Remove GPS from location description"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe049fd8bbd09ea8c6137337af976114e57d2005", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/fe049fd8bbd09ea8c6137337af976114e57d2005", "committedDate": "2020-06-10T23:04:18Z", "message": "Use Mockito mock instead of test implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f7dd64392a87c904c9d9552385c2059a839d7c9", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/9f7dd64392a87c904c9d9552385c2059a839d7c9", "committedDate": "2020-06-10T23:04:18Z", "message": "Use supplier for GoogleFusedLocationClient"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9947fb658f3ddbce18941ed36f3888dad9600332", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/9947fb658f3ddbce18941ed36f3888dad9600332", "committedDate": "2020-06-04T17:29:17Z", "message": "Use supplier for GoogleFusedLocationClient"}, "afterCommit": {"oid": "9f7dd64392a87c904c9d9552385c2059a839d7c9", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/9f7dd64392a87c904c9d9552385c2059a839d7c9", "committedDate": "2020-06-10T23:04:18Z", "message": "Use supplier for GoogleFusedLocationClient"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c619cc7584fd019f49bd6c681351807b07f5c120", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/c619cc7584fd019f49bd6c681351807b07f5c120", "committedDate": "2020-06-16T20:19:13Z", "message": "Use LocationClient to get location for OSM Droid"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b267f27bebc08826a26c8d851fd95e0b56829f7a", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/b267f27bebc08826a26c8d851fd95e0b56829f7a", "committedDate": "2020-06-16T18:51:38Z", "message": "Use LocationClient to get location for OSM Droid"}, "afterCommit": {"oid": "c619cc7584fd019f49bd6c681351807b07f5c120", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/c619cc7584fd019f49bd6c681351807b07f5c120", "committedDate": "2020-06-16T20:19:13Z", "message": "Use LocationClient to get location for OSM Droid"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35c68fcf6703a8fffed1434555f3e0de55b4e1e9", "author": {"user": {"login": "lognaturel", "name": "H\u00e9l\u00e8ne Martin"}}, "url": "https://github.com/getodk/collect/commit/35c68fcf6703a8fffed1434555f3e0de55b4e1e9", "committedDate": "2020-06-17T22:33:18Z", "message": "Forward location updates to OSM overlay"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2652, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}