{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxMjE3ODc1", "number": 4067, "title": "Fixed getFileExtensionFromUri() method", "bodyText": "Closes #4056\nThe problem was that in one case getFileExtensionFromUri() returned values with dots but in other cases without dots and that's why sometimes we had doubled dots but sometimes no dots at all.\nWhat has been done to verify that this works as intended?\nI tested implemented changes manually.\nWhy is this the best possible solution? Were any other approaches considered?\nIt's juts a bug fix so there is no other solution.\nHow does this change affect users? Describe intentional changes to behavior and behavior that could have accidentally been affected by code changes. In other words, what are the regression risks?\nThis should be a safe change that will just fix the bug, nothing else should be affected so testing attaching and capturing media files would be enough.\nDo we need any specific form for testing your changes? If so, please attach one.\nAny form with media widgets like the AllWidgets form.\nDoes this change require updates to documentation? If so, please file an issue here and include the link below.\nNo.\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-09-07T09:20:37Z", "url": "https://github.com/getodk/collect/pull/4067", "merged": true, "mergeCommit": {"oid": "cf9110b7d14235d38012fb1636c522a23ea473a7"}, "closed": true, "closedAt": "2020-10-01T07:54:54Z", "author": {"login": "grzesiek2010"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFjbySgH2gAyNDgxMjE3ODc1OjJjYjI2OThmODZkNmQyZWE3MDIyMmNiNWNmNGU0YzkxODBhZWJjY2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLouVigFqTQ5NDQ0NDYzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2cb2698f86d6d2ea70222cb5cf4e4c9180aebcce", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/2cb2698f86d6d2ea70222cb5cf4e4c9180aebcce", "committedDate": "2020-09-04T11:23:53Z", "message": "ContentResolverHelper.getFileExtensionFromUri() should return results without dots"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ede594b3af6b87e15a535a5676602e12cc6dd05c", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/ede594b3af6b87e15a535a5676602e12cc6dd05c", "committedDate": "2020-09-04T11:24:51Z", "message": "Improved the comment of getFileExtensionFromUri() method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f446a4199f27ec534bda2091db9356211be6b07a", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/f446a4199f27ec534bda2091db9356211be6b07a", "committedDate": "2020-09-04T11:29:22Z", "message": "Code improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81e259acd73dff732f2ef1ae5d2ed79dabc76742", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/81e259acd73dff732f2ef1ae5d2ed79dabc76742", "committedDate": "2020-09-04T12:02:24Z", "message": "Improved MediaUtils.getFileNameFromUri() and used it in ContentResolverHelper.getFileExtensionFromUri()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NDQ0NjM3", "url": "https://github.com/getodk/collect/pull/4067#pullrequestreview-494444637", "createdAt": "2020-09-23T08:56:47Z", "commit": {"oid": "81e259acd73dff732f2ef1ae5d2ed79dabc76742"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODo1Njo0N1rOHWezsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwODo1Njo0N1rOHWezsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMzNTQ3NQ==", "bodyText": "I think it'd be nice to change the name here to ...Utils as that seems to have become idiomatic for static method buckets.", "url": "https://github.com/getodk/collect/pull/4067#discussion_r493335475", "createdAt": "2020-09-23T08:56:47Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/dao/helpers/ContentResolverHelper.java", "diffHunk": "@@ -18,14 +18,14 @@\n import android.content.Context;\n import android.database.Cursor;\n import android.net.Uri;\n-import android.provider.OpenableColumns;\n import android.webkit.MimeTypeMap;\n \n import org.odk.collect.android.application.Collect;\n import org.odk.collect.android.logic.FormInfo;\n import org.odk.collect.android.provider.FormsProviderAPI.FormsColumns;\n import org.odk.collect.android.provider.InstanceProviderAPI.InstanceColumns;\n import org.odk.collect.android.storage.StoragePathProvider;\n+import org.odk.collect.android.utilities.MediaUtils;\n \n public final class ContentResolverHelper {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81e259acd73dff732f2ef1ae5d2ed79dabc76742"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2631, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}