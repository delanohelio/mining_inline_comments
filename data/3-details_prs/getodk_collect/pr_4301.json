{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5MzgwNTcw", "number": 4301, "title": "Show error when starting recording while mic in use", "bodyText": "Closes #4294\nWhat has been done to verify that this works as intended?\nNew tests and verified manually\nWhy is this the best possible solution? Were any other approaches considered?\nNot much to comment on really!\nHow does this change affect users? Describe intentional changes to behavior and behavior that could have accidentally been affected by code changes. In other words, what are the regression risks?\nDon't think there is much risk here so just verifying the issue is fixed should be enough.\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-12-14T11:31:22Z", "url": "https://github.com/getodk/collect/pull/4301", "merged": true, "mergeCommit": {"oid": "570667c427ce49bc38459e03572cf6c15b783d18"}, "closed": true, "closedAt": "2020-12-15T16:21:47Z", "author": {"login": "seadowg"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmGPmxABqjQxMDkzODQxMTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmbeP5AH2gAyNTM5MzgwNTcwOjEyNzlkMTEyNDQwNzM0OGNmMWRmYmRlNmIxZDNlZGRkMTM0MjEzMTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "28efd2363e04639d010b6ef4a35bf16064aa4a1c", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/28efd2363e04639d010b6ef4a35bf16064aa4a1c", "committedDate": "2020-12-14T13:43:05Z", "message": "Update test that flaked on Test Lab run"}, "afterCommit": {"oid": "af2b7d6c65a115eee251e68dff2cfd080bf919f9", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/af2b7d6c65a115eee251e68dff2cfd080bf919f9", "committedDate": "2020-12-14T14:02:42Z", "message": "Update test that flaked on Test Lab run"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "167968ae9970e846c1bdbcf93a07d2ef7fb6253f", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/167968ae9970e846c1bdbcf93a07d2ef7fb6253f", "committedDate": "2020-12-14T14:21:18Z", "message": "Handle exception thrown when mic is in use"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efc3ba02987b3637e9d633c74d66b20c3199f4bf", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/efc3ba02987b3637e9d633c74d66b20c3199f4bf", "committedDate": "2020-12-14T14:21:18Z", "message": "Rename exception"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff73eea44ef2a77a44563b1dc488c61e8354d47f", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/ff73eea44ef2a77a44563b1dc488c61e8354d47f", "committedDate": "2020-12-14T14:24:38Z", "message": "Bubble exception back through view model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfe520e38c3bcf68bc44bbee2cf5def934fd6d08", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/dfe520e38c3bcf68bc44bbee2cf5def934fd6d08", "committedDate": "2020-12-14T14:24:42Z", "message": "Show different error message if mic is in use"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5421858798cda90cc7287dd9d81971502fb890ef", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/5421858798cda90cc7287dd9d81971502fb890ef", "committedDate": "2020-12-14T14:24:42Z", "message": "Update test that flaked on Test Lab run"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "af2b7d6c65a115eee251e68dff2cfd080bf919f9", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/af2b7d6c65a115eee251e68dff2cfd080bf919f9", "committedDate": "2020-12-14T14:02:42Z", "message": "Update test that flaked on Test Lab run"}, "afterCommit": {"oid": "5421858798cda90cc7287dd9d81971502fb890ef", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/5421858798cda90cc7287dd9d81971502fb890ef", "committedDate": "2020-12-14T14:24:42Z", "message": "Update test that flaked on Test Lab run"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a687d0b654787787aa1000f8633349bd397001b4", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/a687d0b654787787aa1000f8633349bd397001b4", "committedDate": "2020-12-14T14:40:21Z", "message": "Pull instrumented build out to its own job"}, "afterCommit": {"oid": "ce6d68cd73e8f4c2d7ea8625ab5510617e510c9b", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/ce6d68cd73e8f4c2d7ea8625ab5510617e510c9b", "committedDate": "2020-12-14T14:44:25Z", "message": "Pull instrumented build out to its own job"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxNDM3NjUz", "url": "https://github.com/getodk/collect/pull/4301#pullrequestreview-551437653", "createdAt": "2020-12-14T14:45:59Z", "commit": {"oid": "ce6d68cd73e8f4c2d7ea8625ab5510617e510c9b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNDo0NjowMFrOIFT4qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNDo0NjowMFrOIFT4qw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQzOTU5NQ==", "bodyText": "This was adding a couple of mins onto our test_app tasks so made sense to pull it out so it could run in parallel and keep the PR build time down.", "url": "https://github.com/getodk/collect/pull/4301#discussion_r542439595", "createdAt": "2020-12-14T14:46:00Z", "author": {"login": "seadowg"}, "path": ".circleci/config.yml", "diffHunk": "@@ -102,9 +102,22 @@ jobs:\n       - store_test_results:\n           path: collect_app/build/test-results\n \n+  build_instrumented:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce6d68cd73e8f4c2d7ea8625ab5510617e510c9b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxNDM4MDk3", "url": "https://github.com/getodk/collect/pull/4301#pullrequestreview-551438097", "createdAt": "2020-12-14T14:46:26Z", "commit": {"oid": "ce6d68cd73e8f4c2d7ea8625ab5510617e510c9b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNDo0NjoyN1rOIFT6BQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNDo0NjoyN1rOIFT6BQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQzOTk0MQ==", "bodyText": "Don't need to do this on master as we'll run test_instrumented there.", "url": "https://github.com/getodk/collect/pull/4301#discussion_r542439941", "createdAt": "2020-12-14T14:46:27Z", "author": {"login": "seadowg"}, "path": ".circleci/config.yml", "diffHunk": "@@ -157,6 +170,10 @@ workflows:\n       - check_quality\n       - test_modules\n       - test_app\n+      - build_instrumented:\n+          filters:\n+            branches:\n+              ignore: master", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce6d68cd73e8f4c2d7ea8625ab5510617e510c9b"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9750d53e5c332f6a46535869acd10edd09bb247c", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/9750d53e5c332f6a46535869acd10edd09bb247c", "committedDate": "2020-12-14T14:48:12Z", "message": "Pull instrumented build out to its own job"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ce6d68cd73e8f4c2d7ea8625ab5510617e510c9b", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/ce6d68cd73e8f4c2d7ea8625ab5510617e510c9b", "committedDate": "2020-12-14T14:44:25Z", "message": "Pull instrumented build out to its own job"}, "afterCommit": {"oid": "9750d53e5c332f6a46535869acd10edd09bb247c", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/9750d53e5c332f6a46535869acd10edd09bb247c", "committedDate": "2020-12-14T14:48:12Z", "message": "Pull instrumented build out to its own job"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxNjE3NTI3", "url": "https://github.com/getodk/collect/pull/4301#pullrequestreview-551617527", "createdAt": "2020-12-14T16:59:08Z", "commit": {"oid": "9750d53e5c332f6a46535869acd10edd09bb247c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08c405f1f80d2a8dc59f7cf36918104e112841e1", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/08c405f1f80d2a8dc59f7cf36918104e112841e1", "committedDate": "2020-12-15T13:34:23Z", "message": "Use dialog fragment for recording errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3cd2ae0766aecb913a4ebaee9464a1bf7b026316", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/3cd2ae0766aecb913a4ebaee9464a1bf7b026316", "committedDate": "2020-12-15T14:10:09Z", "message": "Always clean up recording session after closing error dialog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1279d1124407348cf1dfbde6b1d3eddd13421313", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/1279d1124407348cf1dfbde6b1d3eddd13421313", "committedDate": "2020-12-15T14:46:50Z", "message": "Replace Espresso test with fragment tests"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2369, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}