{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyNjk1NDM0", "number": 4271, "title": "Audio recording design polish", "bodyText": "This adds some tweaks made to the audio recording/playback features in form entry during design pairing. I've deleted the usual questions as pretty much every change is subjective.\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-12-04T18:02:26Z", "url": "https://github.com/getodk/collect/pull/4271", "merged": true, "mergeCommit": {"oid": "b5b01eb4f7538453807e151ccf75ba38a0c7bd0d"}, "closed": true, "closedAt": "2020-12-07T20:00:24Z", "author": {"login": "seadowg"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdi4Wd2gH2gAyNTMyNjk1NDM0OmVjNzc3M2I2NDFhZDNlMjAyZGRkYTExN2RhODZjM2Y4YWEzNGY2ODE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdj7KQPgFqTU0NjQ5MDExNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ec7773b641ad3e202ddda117da86c3f8aa34f681", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/ec7773b641ad3e202ddda117da86c3f8aa34f681", "committedDate": "2020-12-04T14:09:53Z", "message": "Add ability to simulate waveform on emulator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17f287080849e44c521a49aab224ce5901af6af8", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/17f287080849e44c521a49aab224ce5901af6af8", "committedDate": "2020-12-04T14:24:59Z", "message": "Remove excess padding from recording controller"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54baabf0781b910601a7e3293443ae4a23f9d166", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/54baabf0781b910601a7e3293443ae4a23f9d166", "committedDate": "2020-12-04T14:57:07Z", "message": "Add confirmation dialog for deleting audio"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "220d1be2cbffaa0166d676612ec7b9addef12b32", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/220d1be2cbffaa0166d676612ec7b9addef12b32", "committedDate": "2020-12-04T17:41:14Z", "message": "Tweak play/pause controls, add timecode to recording controller"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "118d414cc671a1e86ea96787036639859ef898a9", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/118d414cc671a1e86ea96787036639859ef898a9", "committedDate": "2020-12-04T17:59:50Z", "message": "Increase touch area for audio seek bar"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1MjAzODMw", "url": "https://github.com/getodk/collect/pull/4271#pullrequestreview-545203830", "createdAt": "2020-12-04T18:35:14Z", "commit": {"oid": "118d414cc671a1e86ea96787036639859ef898a9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxODozNToxNFrOH_dFCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxODozNToxNFrOH_dFCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI5ODc2Mg==", "bodyText": "I think this should be a red record circle.", "url": "https://github.com/getodk/collect/pull/4271#discussion_r536298762", "createdAt": "2020-12-04T18:35:14Z", "author": {"login": "lognaturel"}, "path": "collect_app/src/main/java/org/odk/collect/android/audio/AudioRecordingControllerFragment.java", "diffHunk": "@@ -53,11 +55,13 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n             } else if (session.getFile() == null) {\n                 binding.getRoot().setVisibility(VISIBLE);\n \n+                binding.timeCode.setText(LengthFormatterKt.formatLength(session.getDuration()));\n+\n                 if (session.getPaused()) {\n-                    binding.pauseRecording.setText(R.string.resume_recording);\n+                    binding.pauseRecording.setIcon(ContextCompat.getDrawable(getContext(), R.drawable.ic_play_arrow_24dp));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "118d414cc671a1e86ea96787036639859ef898a9"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac35fda1a81844c8879785f13afd9a23d89603e8", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/ac35fda1a81844c8879785f13afd9a23d89603e8", "committedDate": "2020-12-06T18:26:07Z", "message": "Update tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "817b4fd2e52f8e264c0782fd9250e5701fd5c8d3", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/817b4fd2e52f8e264c0782fd9250e5701fd5c8d3", "committedDate": "2020-12-06T18:31:53Z", "message": "Update content description for pause button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f82d8d7456f4a6fd436e2dd642122f001d562c60", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/f82d8d7456f4a6fd436e2dd642122f001d562c60", "committedDate": "2020-12-06T18:54:21Z", "message": "Use outlined button for pause/resume"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2db9a755a70ad16270cf5e9722284009f357888", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/d2db9a755a70ad16270cf5e9722284009f357888", "committedDate": "2020-12-06T18:55:53Z", "message": "Fix delete button margin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecea0e0679c000bda8232b95bed7b94fb18261c0", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/ecea0e0679c000bda8232b95bed7b94fb18261c0", "committedDate": "2020-12-06T19:06:37Z", "message": "Add comments to strings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ec4b564d0d07665e4e8dc47a516c70a1deae930", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/9ec4b564d0d07665e4e8dc47a516c70a1deae930", "committedDate": "2020-12-07T18:47:42Z", "message": "Use record icon for resume button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8447e719c77cbefa98a56481794e19eef139d529", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/8447e719c77cbefa98a56481794e19eef139d529", "committedDate": "2020-12-07T19:07:13Z", "message": "Use imageview for recording icon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8608ac366b1ea40260a58c94d6914892794e75cf", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/8608ac366b1ea40260a58c94d6914892794e75cf", "committedDate": "2020-12-07T19:15:19Z", "message": "Switch icon for recording status when paused"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b87f991e210eb04a4966da569d3b40d2c7a2212a", "author": {"user": {"login": "seadowg", "name": "Callum Stott"}}, "url": "https://github.com/getodk/collect/commit/b87f991e210eb04a4966da569d3b40d2c7a2212a", "committedDate": "2020-12-07T19:21:36Z", "message": "Use mic icon for resume"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NDkwMTE1", "url": "https://github.com/getodk/collect/pull/4271#pullrequestreview-546490115", "createdAt": "2020-12-07T20:00:11Z", "commit": {"oid": "b87f991e210eb04a4966da569d3b40d2c7a2212a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2499, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}