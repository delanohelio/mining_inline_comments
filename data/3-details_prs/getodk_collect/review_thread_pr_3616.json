{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MTI3NjA3", "number": 3616, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwNDozNDoxNVrODfaguw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwNDozNzoxOFrODfaiGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0MjY2ODExOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/formentry/audit/AuditEventLogger.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwNDozNDoxNVrOFpGwrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwOToxOTo1OVrOFpMQyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY0NjcwMg==", "bodyText": "Ah yes, good name!", "url": "https://github.com/getodk/collect/pull/3616#discussion_r378646702", "createdAt": "2020-02-13T04:34:15Z", "author": {"login": "lognaturel"}, "path": "collect_app/src/main/java/org/odk/collect/android/formentry/audit/AuditEventLogger.java", "diffHunk": "@@ -97,6 +97,16 @@ public void logEvent(AuditEvent.AuditEventType eventType, FormIndex formIndex,\n         }\n     }\n \n+    /*\n+     * Finalizes and writes events\n+     */\n+    public void flush() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "156d68eeb32575e7c975d313db330eb6311b2a3f"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODczNjg0MQ==", "bodyText": "Heh finally!", "url": "https://github.com/getodk/collect/pull/3616#discussion_r378736841", "createdAt": "2020-02-13T09:19:59Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/formentry/audit/AuditEventLogger.java", "diffHunk": "@@ -97,6 +97,16 @@ public void logEvent(AuditEvent.AuditEventType eventType, FormIndex formIndex,\n         }\n     }\n \n+    /*\n+     * Finalizes and writes events\n+     */\n+    public void flush() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY0NjcwMg=="}, "originalCommit": {"oid": "156d68eeb32575e7c975d313db330eb6311b2a3f"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0MjY3MDYxOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/formentry/DiskFormSaver.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwNDozNjoxNlrOFpGyHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwNDozNjoxNlrOFpGyHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY0NzA3MQ==", "bodyText": "This is a small thing but I'd keep the Uri first since that's what you're saving.", "url": "https://github.com/getodk/collect/pull/3616#discussion_r378647071", "createdAt": "2020-02-13T04:36:16Z", "author": {"login": "lognaturel"}, "path": "collect_app/src/main/java/org/odk/collect/android/formentry/DiskFormSaver.java", "diffHunk": "@@ -2,14 +2,15 @@\n \n import android.net.Uri;\n \n+import org.odk.collect.android.logic.FormController;\n import org.odk.collect.android.tasks.SaveFormToDisk;\n import org.odk.collect.android.tasks.SaveToDiskResult;\n \n public class DiskFormSaver implements FormSaver {\n \n     @Override\n-    public SaveToDiskResult save(Uri instanceContentURI, boolean shouldFinalize, String updatedSaveName, boolean exitAfter, ProgressListener progressListener) {\n-        SaveFormToDisk saveFormToDisk = new SaveFormToDisk(instanceContentURI, exitAfter, shouldFinalize, updatedSaveName);\n+    public SaveToDiskResult save(FormController formController, boolean shouldFinalize, String updatedSaveName, boolean exitAfter, ProgressListener progressListener, Uri instanceContentURI) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "484d2279464d0b7d565c3f04a279115248620ec9"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0MjY3MTYzOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/formentry/audit/AuditUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwNDozNzoxOFrOFpGyyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwOToyMTo0NFrOFpMUbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY0NzI0Mw==", "bodyText": "This is more like logCurrentScreen or logCurrentEvents, I think?", "url": "https://github.com/getodk/collect/pull/3616#discussion_r378647243", "createdAt": "2020-02-13T04:37:18Z", "author": {"login": "lognaturel"}, "path": "collect_app/src/main/java/org/odk/collect/android/formentry/audit/AuditUtils.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package org.odk.collect.android.formentry.audit;\n+\n+import org.javarosa.form.api.FormEntryPrompt;\n+import org.odk.collect.android.logic.FormController;\n+\n+import static org.javarosa.form.api.FormEntryController.EVENT_GROUP;\n+import static org.javarosa.form.api.FormEntryController.EVENT_QUESTION;\n+import static org.javarosa.form.api.FormEntryController.EVENT_REPEAT;\n+\n+public class AuditUtils {\n+\n+    private AuditUtils() {\n+\n+    }\n+\n+    public static void logCurrentEvent(FormController formController, AuditEventLogger auditEventLogger, long currentTime) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "484d2279464d0b7d565c3f04a279115248620ec9"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODczNzc3Mg==", "bodyText": "In my head it's logging the \"current event\" of the FormController but I see  now that is confusing. I'll make that explicit.", "url": "https://github.com/getodk/collect/pull/3616#discussion_r378737772", "createdAt": "2020-02-13T09:21:44Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/formentry/audit/AuditUtils.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package org.odk.collect.android.formentry.audit;\n+\n+import org.javarosa.form.api.FormEntryPrompt;\n+import org.odk.collect.android.logic.FormController;\n+\n+import static org.javarosa.form.api.FormEntryController.EVENT_GROUP;\n+import static org.javarosa.form.api.FormEntryController.EVENT_QUESTION;\n+import static org.javarosa.form.api.FormEntryController.EVENT_REPEAT;\n+\n+public class AuditUtils {\n+\n+    private AuditUtils() {\n+\n+    }\n+\n+    public static void logCurrentEvent(FormController formController, AuditEventLogger auditEventLogger, long currentTime) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY0NzI0Mw=="}, "originalCommit": {"oid": "484d2279464d0b7d565c3f04a279115248620ec9"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3463, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}