{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzOTg1Mzcy", "number": 4196, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQyMDoyMzoxMlrOE4Vr8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxOToxMjowNlrOE5ovLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3NTExMDI0OnYy", "diffSide": "RIGHT", "path": "collect_app/build.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQyMDoyMzoxMlrOHyM0gQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQyMDoyMzoxMlrOHyM0gQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjQwMDg5Nw==", "bodyText": "Without this my build kept failing it's probably connected somehow to bumping targetSdkVersion https://circleci.com/docs/2.0/language-android/#handling-out-of-memory-errors", "url": "https://github.com/getodk/collect/pull/4196#discussion_r522400897", "createdAt": "2020-11-12T20:23:12Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/build.gradle", "diffHunk": "@@ -200,6 +200,9 @@ android {\n         unitTests {\n             includeAndroidResources = true\n             returnDefaultValues = true\n+            all {\n+                maxHeapSize = \"1024m\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a8d670f8665047392a556d21a31cb6326bf2171"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4ODcxNzI1OnYy", "diffSide": "RIGHT", "path": "strings/src/main/res/values/strings.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxOToxMjowNlrOH0Nhvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwNTo1Mzo0MlrOH0lW5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDUwOTYzMA==", "bodyText": "\"The migration should have happened automatically. If you still see this message it indicates that something went wrong. Please try to perform migration manually.\" -> \"An automatic migration attempt failed. Please migrate manually.\"", "url": "https://github.com/getodk/collect/pull/4196#discussion_r524509630", "createdAt": "2020-11-16T19:12:06Z", "author": {"login": "lognaturel"}, "path": "strings/src/main/res/values/strings.xml", "diffHunk": "@@ -670,7 +670,7 @@\n     <string name=\"save_legacy_settings_warning\">Will be removed in a future version. Please use the QR code above.</string>\n     <string name=\"reason_for_changes_description\">You need to explain the reason for changes to this form</string>\n \n-    <string name=\"scoped_storage_banner_text\">You must migrate Collect forms to private storage to comply with Android requirements. In Collect v1.29, <b>the migration will be forced on install</b>.</string>\n+    <string name=\"scoped_storage_banner_text\">You must migrate Collect forms to private storage to comply with Android requirements. The migration should have happened automatically. If you still see this message it indicates that something went wrong. Please try to perform migration manually.</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b491a4a30786705b072b2ac3071cadd77a25e5c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDU4MTA2Ng==", "bodyText": "Done. Do you also want to add something to the message that is displayed when migration is performed without errors? Now it's just Storage migration completed! but I remember that you were thinking about it, that it might be unclear for users that don't perform it manually.", "url": "https://github.com/getodk/collect/pull/4196#discussion_r524581066", "createdAt": "2020-11-16T21:07:25Z", "author": {"login": "grzesiek2010"}, "path": "strings/src/main/res/values/strings.xml", "diffHunk": "@@ -670,7 +670,7 @@\n     <string name=\"save_legacy_settings_warning\">Will be removed in a future version. Please use the QR code above.</string>\n     <string name=\"reason_for_changes_description\">You need to explain the reason for changes to this form</string>\n \n-    <string name=\"scoped_storage_banner_text\">You must migrate Collect forms to private storage to comply with Android requirements. In Collect v1.29, <b>the migration will be forced on install</b>.</string>\n+    <string name=\"scoped_storage_banner_text\">You must migrate Collect forms to private storage to comply with Android requirements. The migration should have happened automatically. If you still see this message it indicates that something went wrong. Please try to perform migration manually.</string>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDUwOTYzMA=="}, "originalCommit": {"oid": "8b491a4a30786705b072b2ac3071cadd77a25e5c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDkwMDA3MA==", "bodyText": "I think it's ok. Maybe a toast would be less disruptive since it's not really all that important for users to see. Let's get to beta and ask for feedback.", "url": "https://github.com/getodk/collect/pull/4196#discussion_r524900070", "createdAt": "2020-11-17T05:53:42Z", "author": {"login": "lognaturel"}, "path": "strings/src/main/res/values/strings.xml", "diffHunk": "@@ -670,7 +670,7 @@\n     <string name=\"save_legacy_settings_warning\">Will be removed in a future version. Please use the QR code above.</string>\n     <string name=\"reason_for_changes_description\">You need to explain the reason for changes to this form</string>\n \n-    <string name=\"scoped_storage_banner_text\">You must migrate Collect forms to private storage to comply with Android requirements. In Collect v1.29, <b>the migration will be forced on install</b>.</string>\n+    <string name=\"scoped_storage_banner_text\">You must migrate Collect forms to private storage to comply with Android requirements. The migration should have happened automatically. If you still see this message it indicates that something went wrong. Please try to perform migration manually.</string>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDUwOTYzMA=="}, "originalCommit": {"oid": "8b491a4a30786705b072b2ac3071cadd77a25e5c"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3152, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}