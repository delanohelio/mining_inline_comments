{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczODM1Mzcx", "number": 4045, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxMToxNDoyNFrOEdqRgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxMToyMToyMFrOEdqi9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NTM2NzcxOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/backgroundwork/AutoSendTaskSpec.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxMToxNDoyNFrOHI8tew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNTowNzo0NVrOHPMBuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTE0NTMzOQ==", "bodyText": "We can actually use the context param here instead of Collect.getInstance()", "url": "https://github.com/getodk/collect/pull/4045#discussion_r479145339", "createdAt": "2020-08-28T11:14:24Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/backgroundwork/AutoSendTaskSpec.java", "diffHunk": "@@ -102,10 +103,10 @@\n                     } catch (SubmitException e) {\n                         switch (e.getType()) {\n                             case GOOGLE_ACCOUNT_NOT_SET:\n-                                notifier.onSubmission(true, Collect.getInstance().getString(R.string.google_set_account));\n+                                notifier.onSubmission(true, TranslationHandler.getString(Collect.getInstance(), R.string.google_set_account));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a87f182f8e65151705e67629be64a0e9cf7cf800"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY4NzczOQ==", "bodyText": "Done.", "url": "https://github.com/getodk/collect/pull/4045#discussion_r485687739", "createdAt": "2020-09-09T15:07:45Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/backgroundwork/AutoSendTaskSpec.java", "diffHunk": "@@ -102,10 +103,10 @@\n                     } catch (SubmitException e) {\n                         switch (e.getType()) {\n                             case GOOGLE_ACCOUNT_NOT_SET:\n-                                notifier.onSubmission(true, Collect.getInstance().getString(R.string.google_set_account));\n+                                notifier.onSubmission(true, TranslationHandler.getString(Collect.getInstance(), R.string.google_set_account));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTE0NTMzOQ=="}, "originalCommit": {"oid": "a87f182f8e65151705e67629be64a0e9cf7cf800"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NTM3NzQwOnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/backgroundwork/BackgroundWorkUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxMToxNTo0OVrOHI8zjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNToyNDoyNlrOHPMyXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTE0Njg5Mw==", "bodyText": "This method could take a Context param in our just be inlined it looks like as it's only called from one place that has access to Application.", "url": "https://github.com/getodk/collect/pull/4045#discussion_r479146893", "createdAt": "2020-08-28T11:15:49Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/backgroundwork/BackgroundWorkUtils.java", "diffHunk": "@@ -15,13 +16,13 @@ private BackgroundWorkUtils() {\n     }\n \n     public static long getPeriodInMilliseconds(String period) {\n-        if (period.equals(Collect.getInstance().getString(R.string.every_one_hour_value))) {\n+        if (period.equals(TranslationHandler.getString(Collect.getInstance(), R.string.every_one_hour_value))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a87f182f8e65151705e67629be64a0e9cf7cf800"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcwMDE5MA==", "bodyText": "Done.", "url": "https://github.com/getodk/collect/pull/4045#discussion_r485700190", "createdAt": "2020-09-09T15:24:26Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/backgroundwork/BackgroundWorkUtils.java", "diffHunk": "@@ -15,13 +16,13 @@ private BackgroundWorkUtils() {\n     }\n \n     public static long getPeriodInMilliseconds(String period) {\n-        if (period.equals(Collect.getInstance().getString(R.string.every_one_hour_value))) {\n+        if (period.equals(TranslationHandler.getString(Collect.getInstance(), R.string.every_one_hour_value))) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTE0Njg5Mw=="}, "originalCommit": {"oid": "a87f182f8e65151705e67629be64a0e9cf7cf800"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NTQxMjM3OnYy", "diffSide": "LEFT", "path": "collect_app/src/main/java/org/odk/collect/android/formmanagement/FormApiExceptionMapper.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxMToyMToyMFrOHI9K6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNTowODowM1rOHPMCmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTE1Mjg3NA==", "bodyText": "I think it'd still be nice for this object to take in Context as a constructor dependency so it doesn't have to rely on Collect.getInstance()", "url": "https://github.com/getodk/collect/pull/4045#discussion_r479152874", "createdAt": "2020-08-28T11:21:20Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/formmanagement/FormApiExceptionMapper.java", "diffHunk": "@@ -1,23 +1,17 @@\n package org.odk.collect.android.formmanagement;\n \n-import android.content.res.Resources;\n-\n import org.odk.collect.android.R;\n+import org.odk.collect.android.application.Collect;\n import org.odk.collect.android.openrosa.api.FormApiException;\n+import org.odk.collect.android.utilities.TranslationHandler;\n \n public class FormApiExceptionMapper {\n \n-    private final Resources resources;\n-\n-    public FormApiExceptionMapper(Resources resources) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc918d1491dcddcbf2d8bb182deb6438220c32e7"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY4Nzk2MQ==", "bodyText": "Done.", "url": "https://github.com/getodk/collect/pull/4045#discussion_r485687961", "createdAt": "2020-09-09T15:08:03Z", "author": {"login": "grzesiek2010"}, "path": "collect_app/src/main/java/org/odk/collect/android/formmanagement/FormApiExceptionMapper.java", "diffHunk": "@@ -1,23 +1,17 @@\n package org.odk.collect.android.formmanagement;\n \n-import android.content.res.Resources;\n-\n import org.odk.collect.android.R;\n+import org.odk.collect.android.application.Collect;\n import org.odk.collect.android.openrosa.api.FormApiException;\n+import org.odk.collect.android.utilities.TranslationHandler;\n \n public class FormApiExceptionMapper {\n \n-    private final Resources resources;\n-\n-    public FormApiExceptionMapper(Resources resources) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTE1Mjg3NA=="}, "originalCommit": {"oid": "bc918d1491dcddcbf2d8bb182deb6438220c32e7"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3293, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}