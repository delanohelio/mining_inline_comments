{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQwMjAzOTkx", "number": 4309, "title": "Removed redundant ChangingDatabasesByForksTest", "bodyText": "What has been done to verify that this works as intended?\nJust reviewed implemented changes.\nWhy is this the best possible solution? Were any other approaches considered?\nChangingDatabasesByForksTest is sometimes failing on firebase as you have probably noticed. Since we migrated to scoped storage and we no longer share the same directory (and databases) with forks this test is redundant because other apps can't use and edit our databases.\nHow does this change affect users? Describe intentional changes to behavior and behavior that could have accidentally been affected by code changes. In other words, what are the regression risks?\nIt doesn't require testing.\nDo we need any specific form for testing your changes? If so, please attach one.\nNo.\nDoes this change require updates to documentation? If so, please file an issue here and include the link below.\nNo.\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-12-15T12:11:23Z", "url": "https://github.com/getodk/collect/pull/4309", "merged": true, "mergeCommit": {"oid": "180822c122a958c31e65dbf7cda383c5869fe6a1"}, "closed": true, "closedAt": "2021-01-13T16:32:02Z", "author": {"login": "grzesiek2010"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnDI3kgH2gAyNTQwMjAzOTkxOjRjNjhkZjRmZDllNTkwMzhiMzZmYTJhMTdiYWUxMGYzN2Q5NDAwMWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdtOR3qgFqTU2MTk4MTc5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4c68df4fd9e59038b36fa2a17bae10f37d94001a", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/4c68df4fd9e59038b36fa2a17bae10f37d94001a", "committedDate": "2020-12-17T12:59:41Z", "message": "Removed redundant ChangingDatabasesByForksTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1962aed20a5e7115b4d909f92f600aa17d7fedb3", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/1962aed20a5e7115b4d909f92f600aa17d7fedb3", "committedDate": "2020-12-17T13:45:13Z", "message": "Removed the extra check if form db should be upgraded"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69214bc9770f8058d325618169231108e1edf4bd", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/69214bc9770f8058d325618169231108e1edf4bd", "committedDate": "2020-12-17T13:45:31Z", "message": "Removed the extra check if instances db should be upgraded"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c34f5c752173c5e8a862e83630ca47a9419fe3e", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/0c34f5c752173c5e8a862e83630ca47a9419fe3e", "committedDate": "2020-12-17T14:06:35Z", "message": "Code improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1a5ebbc5d42506bf3ff3dd759ea7f824ed39a70", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/d1a5ebbc5d42506bf3ff3dd759ea7f824ed39a70", "committedDate": "2020-12-17T14:25:40Z", "message": "Factored out InstanceDatabaseMigrator to follow the same structre of classes we have in acase of forms db"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20c41f7b75c01868d51659b98c878c4284350d08", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/20c41f7b75c01868d51659b98c878c4284350d08", "committedDate": "2020-12-17T14:37:53Z", "message": "Implemented interface for database migrators"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9448aaf3a270b7c0b498b2d419a5c9e6d771c6e7", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/9448aaf3a270b7c0b498b2d419a5c9e6d771c6e7", "committedDate": "2020-12-17T14:49:05Z", "message": "Moved constants to DatabaseConstants class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb4bbc80721db888432d735808143d76f0c51895", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/fb4bbc80721db888432d735808143d76f0c51895", "committedDate": "2020-12-17T14:52:05Z", "message": "Pass StoragePathProvider to database helpers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33d1dd38a12fe8c3f093c836acd92f7c3c81bf8d", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/33d1dd38a12fe8c3f093c836acd92f7c3c81bf8d", "committedDate": "2020-12-17T14:56:08Z", "message": "Added missing log"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8b26a444f868162d62c559a05a5e30ceecf97057", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/8b26a444f868162d62c559a05a5e30ceecf97057", "committedDate": "2020-12-15T12:06:47Z", "message": "Removed redundant ChangingDatabasesByForksTest"}, "afterCommit": {"oid": "33d1dd38a12fe8c3f093c836acd92f7c3c81bf8d", "author": {"user": {"login": "grzesiek2010", "name": "Grzegorz Orczykowski"}}, "url": "https://github.com/getodk/collect/commit/33d1dd38a12fe8c3f093c836acd92f7c3c81bf8d", "committedDate": "2020-12-17T14:56:08Z", "message": "Added missing log"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxMDIxMDY2", "url": "https://github.com/getodk/collect/pull/4309#pullrequestreview-561021066", "createdAt": "2021-01-04T13:17:28Z", "commit": {"oid": "1962aed20a5e7115b4d909f92f600aa17d7fedb3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxMzoyNTo1OVrOINxl9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxMzoyNTo1OVrOINxl9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTMxNDkzNA==", "bodyText": "It looks like these tests all fail. Should we rework or delete (if we don't need them) as part of this?", "url": "https://github.com/getodk/collect/pull/4309#discussion_r551314934", "createdAt": "2021-01-04T13:25:59Z", "author": {"login": "seadowg"}, "path": "collect_app/src/androidTest/java/org/odk/collect/android/instrumented/database/helpers/InstancesDatabaseHelperTest.java", "diffHunk": "@@ -29,7 +31,7 @@\n @RunWith(Parameterized.class)\n @Ignore(\"`Parameterized` causes problems for Firebase sharding. Probably need to replace this at JUnit level\")\n public class InstancesDatabaseHelperTest extends SqlLiteHelperTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c34f5c752173c5e8a862e83630ca47a9419fe3e"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxOTgxNzk5", "url": "https://github.com/getodk/collect/pull/4309#pullrequestreview-561981799", "createdAt": "2021-01-05T17:22:01Z", "commit": {"oid": "33d1dd38a12fe8c3f093c836acd92f7c3c81bf8d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2372, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}