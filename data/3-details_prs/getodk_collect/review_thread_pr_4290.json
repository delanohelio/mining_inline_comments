{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1OTE0OTc4", "number": 4290, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNDo0Mjo1M1rOFDgyRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNDo0NTowMVrOFDg2qQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MjI3MjA2OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/analytics/AnalyticsEvents.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNDo0Mjo1M1rOIDMn9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNDo0Mjo1M1rOIDMn9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDIyMzQ3OA==", "bodyText": "We initially talked abut an event for when an audio question (using internal) recording appeared in a field-list. I realized it was actually easier to just track the underlying behaviour we were interested in here.", "url": "https://github.com/getodk/collect/pull/4290#discussion_r540223478", "createdAt": "2020-12-10T14:42:53Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/analytics/AnalyticsEvents.java", "diffHunk": "@@ -153,4 +147,37 @@ private AnalyticsEvents() {\n      * Track usage of legacy Aggregate < 1 form list API code paths.\n      */\n     public static final String LEGACY_FORM_LIST = \"LegacyFormList\";\n+\n+    /**\n+     * Tracks how often the audio player seek bar is used.\n+     */\n+    public static final String AUDIO_PLAYER_SEEK = \"AudioPlayerSeek\";\n+\n+    /**\n+     * Tracks how many forms include an audio question.\n+     */\n+    public static final String AUDIO_QUESTION = \"AudioQuestion\";\n+\n+    /**\n+     * Tracks how often pause action is used while recording audio\n+     */\n+    public static final String AUDIO_RECORDING_PAUSE = \"AudioRecordingPause\";\n+\n+    /**\n+     * Tracks usage or internal recording vs external recording vs choosing files for\n+     * audio question\n+     */\n+    public static final String AUDIO_RECORDING_INTERNAL = \"AudioRecordingInternal\";\n+    public static final String AUDIO_RECORDING_EXTERNAL = \"AudioRecordingExternal\";\n+    public static final String AUDIO_RECORDING_CHOOSE = \"AudioRecordingChoose\";\n+\n+    /**\n+     * Tracks how often questions are answered while an audio recording is being made\n+     */\n+    public static final String ANSWER_WHILE_RECORDING = \"AnswerWhileRecording\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb098383b171467c277bac80de7c9676d8ca66c1"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MjI4MzI5OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/formentry/FormEntryViewModel.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNDo0NTowMVrOIDMuoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNDo0NTowMVrOIDMuoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDIyNTE4NA==", "bodyText": "Rather than having to pass the (or grab statically) form identifier hash around it seemed nice to just encapsulate the logging on the view model here. I think we'd want a FormEventLogger interface if we were logging inside a widget (or anywhere it doesn't make sense to have a ViewModel) but I didn't run into that.", "url": "https://github.com/getodk/collect/pull/4290#discussion_r540225184", "createdAt": "2020-12-10T14:45:01Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/formentry/FormEntryViewModel.java", "diffHunk": "@@ -164,19 +156,34 @@ public void openHierarchy() {\n         formController.getAuditEventLogger().logEvent(AuditEvent.AuditEventType.HIERARCHY, true, clock.getCurrentTime());\n     }\n \n+    public void logFormEvent(String event) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb098383b171467c277bac80de7c9676d8ca66c1"}, "originalPosition": 64}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3071, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}