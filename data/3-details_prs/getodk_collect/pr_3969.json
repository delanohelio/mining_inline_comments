{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4NzM3Nzcy", "number": 3969, "title": "Reworking Range Widget", "bodyText": "This PR includes rewriting the test coverage and class of Range Picker Widget\nHow does this change affect users? Describe intentional changes to behavior and behavior that could have accidentally been affected by code changes. In other words, what are the regression risks?\nI verified the behavior on the master branch and on this branch for the attached form. I didn't find any behavioral changes in the widget. I updated to the latest google material library version 1.2.1 to display Range Widgets using Material Slider.\nThere is a slight clipping of the ripple effect for the vertical slider, but I found the same on the master branch as well. @seadowg and I decided to leave that for now. I will keep looking for solutions.\nDo we need any specific form for testing your changes? If so, please attach one.\nForm having both Range Integer and Decimal widgets like\nTest Range Picker Widgets.xml.txt\nTest Range Widget.xml.txt\nBefore submitting this PR, please make sure you have:\n\n run ./gradlew checkAll and confirmed all checks still pass OR confirm CircleCI build passes and run ./gradlew connectedDebugAndroidTest locally.\n verified that any code or assets from external sources are properly credited in comments and/or in the about file.\n verified that any new UI elements use theme colors. UI Components Style guidelines", "createdAt": "2020-07-14T08:40:56Z", "url": "https://github.com/getodk/collect/pull/3969", "merged": true, "mergeCommit": {"oid": "c4bddb406a33159fcdfde78fac75ebf0001941e5"}, "closed": true, "closedAt": "2020-10-09T18:06:56Z", "author": {"login": "SaumiaSinghal"}, "timelineItems": {"totalCount": 84, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0yMKegFqTQ0NzkxOTU3OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdP02hfgBqjM4NDQzNzM1OTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3OTE5NTc4", "url": "https://github.com/getodk/collect/pull/3969#pullrequestreview-447919578", "createdAt": "2020-07-14T08:58:40Z", "commit": {"oid": "c7fd8fe85122bf42c44efe8caa81f2df43936e7e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwODo1ODo0MFrOGxKtFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwODo1ODo0MFrOGxKtFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDIwODc4OQ==", "bodyText": "@seadowg clickingPickerButton_showsNumberPickerDialog() unit test is failing. I'm looking onto it. If you have a hint, please let me know.", "url": "https://github.com/getodk/collect/pull/3969#discussion_r454208789", "createdAt": "2020-07-14T08:58:40Z", "author": {"login": "SaumiaSinghal"}, "path": "collect_app/src/test/java/org/odk/collect/android/widgets/RangePickerDecimalWidgetTest.java", "diffHunk": "@@ -0,0 +1,147 @@\n+package org.odk.collect.android.widgets;\n+\n+import android.view.View;\n+\n+import org.javarosa.core.model.RangeQuestion;\n+import org.javarosa.core.model.data.StringData;\n+import org.javarosa.form.api.FormEntryPrompt;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.odk.collect.android.R;\n+import org.odk.collect.android.formentry.questions.QuestionDetails;\n+import org.odk.collect.android.fragments.dialogs.NumberPickerDialog;\n+import org.odk.collect.android.listeners.WidgetValueChangedListener;\n+import org.odk.collect.android.support.TestScreenContextActivity;\n+import org.robolectric.RobolectricTestRunner;\n+import java.math.BigDecimal;\n+\n+import static android.os.Looper.getMainLooper;\n+import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.hamcrest.Matchers.equalTo;\n+import static org.hamcrest.Matchers.nullValue;\n+import static org.junit.Assert.assertNotNull;\n+import static org.mockito.Mockito.mock;\n+import static org.mockito.Mockito.verify;\n+import static org.mockito.Mockito.when;\n+import static org.odk.collect.android.widgets.support.QuestionWidgetHelpers.mockValueChangedListener;\n+import static org.odk.collect.android.widgets.support.QuestionWidgetHelpers.promptWithQuestionDefAndAnswer;\n+import static org.odk.collect.android.widgets.support.QuestionWidgetHelpers.promptWithReadOnlyAndQuestionDef;\n+import static org.odk.collect.android.widgets.support.QuestionWidgetHelpers.widgetTestActivity;\n+import static org.robolectric.Shadows.shadowOf;\n+\n+@RunWith(RobolectricTestRunner.class)\n+public class RangePickerDecimalWidgetTest {\n+\n+    private TestScreenContextActivity widgetActivity;\n+    private RangeQuestion rangeQuestion;\n+\n+    @Before\n+    public void setup() {\n+        widgetActivity = widgetTestActivity();\n+        rangeQuestion = mock(RangeQuestion.class);\n+\n+        when(rangeQuestion.getRangeStart()).thenReturn(new BigDecimal(\"1.5\"));\n+        when(rangeQuestion.getRangeEnd()).thenReturn(new BigDecimal(\"5.5\"));\n+        when(rangeQuestion.getRangeStep()).thenReturn(new BigDecimal(\"0.5\"));\n+    }\n+\n+    @Test\n+    public void whenRangeEndIsGreaterThanRangeStart_widgetsSetsCorrectValuesForNumberPicker() {\n+        RangePickerDecimalWidget widget = createWidget(promptWithQuestionDefAndAnswer(rangeQuestion, null));\n+        int index = 0;\n+\n+        for (double i = 5.5F; i >= 1.5F; i -= 0.5F, index++) {\n+            assertThat(widget.displayedValuesForNumberPicker[index], equalTo(String.valueOf(i)));\n+        }\n+    }\n+\n+    @Test\n+    public void whenRangeStartIsGreaterThanRangeEnd_widgetsSetsCorrectValuesForNumberPicker() {\n+        when(rangeQuestion.getRangeStart()).thenReturn(new BigDecimal(\"5.5\"));\n+        when(rangeQuestion.getRangeEnd()).thenReturn(new BigDecimal(\"1.5\"));\n+        RangePickerDecimalWidget widget = createWidget(promptWithQuestionDefAndAnswer(rangeQuestion, null));\n+        int index = 0;\n+\n+        for (double i = 1.5F; i <= 5.5F; i += 0.5F, index++) {\n+            assertThat(widget.displayedValuesForNumberPicker[index], equalTo(String.valueOf(i)));\n+        }\n+    }\n+\n+    @Test\n+    public void getAnswer_whenPromptDoesNotHaveAnswer_returnsNull() {\n+        assertThat(createWidget(promptWithReadOnlyAndQuestionDef(rangeQuestion)).getAnswer(), nullValue());\n+    }\n+\n+    @Test\n+    public void getAnswer_whenPromptHasAnswer_returnsAnswer() {\n+        RangePickerDecimalWidget widget = createWidget(promptWithQuestionDefAndAnswer(rangeQuestion, new StringData(\"2.5\")));\n+        assertThat(widget.getAnswer().getValue(), equalTo(2.5));\n+    }\n+\n+    @Test\n+    public void clearAnswer_clearsWidgetAnswer() {\n+        RangePickerDecimalWidget widget = createWidget(promptWithQuestionDefAndAnswer(rangeQuestion, new StringData(\"2.5\")));\n+        widget.clearAnswer();\n+\n+        assertThat(widget.getAnswer(), nullValue());\n+        assertThat(widget.binding.widgetAnswerText.getText(), equalTo(widget.getContext().getString(R.string.no_value_selected)));\n+    }\n+\n+    @Test\n+    public void clearAnswer_callsValueChangeListener() {\n+        RangePickerDecimalWidget widget = createWidget(promptWithQuestionDefAndAnswer(rangeQuestion, null));\n+        WidgetValueChangedListener valueChangedListener = mockValueChangedListener(widget);\n+\n+        widget.clearAnswer();\n+        verify(valueChangedListener).widgetValueChanged(widget);\n+    }\n+\n+    @Test\n+    public void setNumberPickerValue_updatesAnswer() {\n+        RangePickerDecimalWidget widget = createWidget(promptWithQuestionDefAndAnswer(rangeQuestion, null));\n+        widget.setNumberPickerValue(4);\n+\n+        assertThat(widget.getAnswer().getDisplayText(), equalTo(\"3.5\"));\n+    }\n+\n+    @Test\n+    public void setNumberPickerValue_whenRangeStartIsGreaterThenRangeEnd_updatesAnswer() {\n+        when(rangeQuestion.getRangeStart()).thenReturn(new BigDecimal(\"5.5\"));\n+        when(rangeQuestion.getRangeEnd()).thenReturn(new BigDecimal(\"1.5\"));\n+\n+        RangePickerDecimalWidget widget = createWidget(promptWithQuestionDefAndAnswer(rangeQuestion, null));\n+        widget.setNumberPickerValue(4);\n+\n+        assertThat(widget.getAnswer().getDisplayText(), equalTo(\"3.5\"));\n+    }\n+\n+    @Test\n+    public void clickingPickerButton_showsNumberPickerDialog() {\n+        RangePickerDecimalWidget widget = createWidget(promptWithQuestionDefAndAnswer(rangeQuestion, null));\n+        widget.binding.widgetButton.performClick();\n+\n+        NumberPickerDialog numberPickerDialog = (NumberPickerDialog) widgetActivity.getActivity().getSupportFragmentManager()\n+                .findFragmentByTag(NumberPickerDialog.NUMBER_PICKER_DIALOG_TAG);\n+        shadowOf(getMainLooper()).idle();\n+\n+        assertNotNull(numberPickerDialog);\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7fd8fe85122bf42c44efe8caa81f2df43936e7e"}, "originalPosition": 130}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MTM5NjUx", "url": "https://github.com/getodk/collect/pull/3969#pullrequestreview-454139651", "createdAt": "2020-07-23T13:39:32Z", "commit": {"oid": "72506e670cbe44ea5ded1f508fd82bd9c8ea7f8b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "72506e670cbe44ea5ded1f508fd82bd9c8ea7f8b", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/72506e670cbe44ea5ded1f508fd82bd9c8ea7f8b", "committedDate": "2020-07-23T11:45:36Z", "message": "fix failing unit tests"}, "afterCommit": {"oid": "c2c0d24691a389feb6572f585fd1c3a0a94caa39", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/c2c0d24691a389feb6572f585fd1c3a0a94caa39", "committedDate": "2020-07-23T13:50:11Z", "message": "fix failing unit tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c2c0d24691a389feb6572f585fd1c3a0a94caa39", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/c2c0d24691a389feb6572f585fd1c3a0a94caa39", "committedDate": "2020-07-23T13:50:11Z", "message": "fix failing unit tests"}, "afterCommit": {"oid": "c7977906dbbbac8f9baab0968654867c96e940bf", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/c7977906dbbbac8f9baab0968654867c96e940bf", "committedDate": "2020-07-27T00:33:10Z", "message": "fix failing unit tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1NzIxNzk4", "url": "https://github.com/getodk/collect/pull/3969#pullrequestreview-455721798", "createdAt": "2020-07-27T12:10:32Z", "commit": {"oid": "c7977906dbbbac8f9baab0968654867c96e940bf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMjoxMDozMlrOG3fuGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMjozMjowNFrOG3gZvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg0NDU3MQ==", "bodyText": "I'm not a big fan of the FormEntryActivity having to know about widget implementations here but this structure existed a long time before this PR and I think it's be awkward to unravel.", "url": "https://github.com/getodk/collect/pull/3969#discussion_r460844571", "createdAt": "2020-07-27T12:10:32Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java", "diffHunk": "@@ -2633,8 +2634,12 @@ public void onSaveFormIndexError(String errorMessage) {\n     public void onNumberPickerValueSelected(int widgetId, int value) {\n         if (currentView != null) {\n             for (QuestionWidget qw : ((ODKView) currentView).getWidgets()) {\n-                if (qw instanceof RangeWidget && widgetId == qw.getId()) {\n-                    ((RangeWidget) qw).setNumberPickerValue(value);\n+                if (qw instanceof RangePickerIntegerWidget && widgetId == qw.getId()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7977906dbbbac8f9baab0968654867c96e940bf"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg0NzAzNw==", "bodyText": "Probably worth combining this with the test above so it tests that the ACTION_UP after the ACTION_DOWN works. With these tests the implementation could just set isTrackingTouch to true on an ACTION_DOWN and then never change it back \ud83d\ude09", "url": "https://github.com/getodk/collect/pull/3969#discussion_r460847037", "createdAt": "2020-07-27T12:15:20Z", "author": {"login": "seadowg"}, "path": "collect_app/src/test/java/org/odk/collect/android/views/TrackingTouchSliderTest.java", "diffHunk": "@@ -0,0 +1,45 @@\n+package org.odk.collect.android.views;\n+\n+import android.widget.LinearLayout;\n+\n+import androidx.test.core.app.ApplicationProvider;\n+import androidx.test.core.view.MotionEventBuilder;\n+\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.odk.collect.android.R;\n+import org.robolectric.RobolectricTestRunner;\n+\n+import static android.view.MotionEvent.ACTION_DOWN;\n+import static android.view.MotionEvent.ACTION_UP;\n+import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.hamcrest.Matchers.equalTo;\n+\n+@RunWith(RobolectricTestRunner.class)\n+public class TrackingTouchSliderTest {\n+\n+    private TrackingTouchSlider slider;\n+\n+    @Before\n+    public void setUp() {\n+        ApplicationProvider.getApplicationContext().setTheme(R.style.Theme_Collect_Light);\n+\n+        LinearLayout linearLayout = new LinearLayout(ApplicationProvider.getApplicationContext());\n+        slider = new TrackingTouchSlider(ApplicationProvider.getApplicationContext(), null);\n+\n+        linearLayout.addView(slider);\n+    }\n+\n+    @Test\n+    public void onStartTrackingTouch_suppressesFlingGesture() {\n+        slider.onTouchEvent(MotionEventBuilder.newBuilder().setAction(ACTION_DOWN).build());\n+        assertThat(slider.isTrackingTouch(), equalTo(true));\n+    }\n+\n+    @Test\n+    public void onStopTrackingTouch_doesNotSuppressFlingGesture() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7977906dbbbac8f9baab0968654867c96e940bf"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg0ODIwNQ==", "bodyText": "Oh this is very cool! It never occurred to me to just set the application context theme. This could probably help us speed up tests where we're building an Activity just to set the context theme. Maybe you could add this to RobolectricHelpers as createThemedContext(int theme) so we  can use it other places?", "url": "https://github.com/getodk/collect/pull/3969#discussion_r460848205", "createdAt": "2020-07-27T12:17:36Z", "author": {"login": "seadowg"}, "path": "collect_app/src/test/java/org/odk/collect/android/views/TrackingTouchSliderTest.java", "diffHunk": "@@ -0,0 +1,45 @@\n+package org.odk.collect.android.views;\n+\n+import android.widget.LinearLayout;\n+\n+import androidx.test.core.app.ApplicationProvider;\n+import androidx.test.core.view.MotionEventBuilder;\n+\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.odk.collect.android.R;\n+import org.robolectric.RobolectricTestRunner;\n+\n+import static android.view.MotionEvent.ACTION_DOWN;\n+import static android.view.MotionEvent.ACTION_UP;\n+import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.hamcrest.Matchers.equalTo;\n+\n+@RunWith(RobolectricTestRunner.class)\n+public class TrackingTouchSliderTest {\n+\n+    private TrackingTouchSlider slider;\n+\n+    @Before\n+    public void setUp() {\n+        ApplicationProvider.getApplicationContext().setTheme(R.style.Theme_Collect_Light);\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7977906dbbbac8f9baab0968654867c96e940bf"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg1MDU3Ng==", "bodyText": "I think in future this could probably be extracted to its own custom view but for the moment it's great progress!", "url": "https://github.com/getodk/collect/pull/3969#discussion_r460850576", "createdAt": "2020-07-27T12:22:11Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/RangeDecimalWidget.java", "diffHunk": "@@ -18,20 +18,56 @@\n \n import android.annotation.SuppressLint;\n import android.content.Context;\n+import android.view.MotionEvent;\n+import android.view.View;\n+import android.widget.TextView;\n \n+import androidx.annotation.NonNull;\n+\n+import com.google.android.material.slider.Slider;\n+\n+import org.javarosa.core.model.RangeQuestion;\n import org.javarosa.core.model.data.DecimalData;\n import org.javarosa.core.model.data.IAnswerData;\n+import org.javarosa.form.api.FormEntryPrompt;\n import org.odk.collect.android.formentry.questions.QuestionDetails;\n+import org.odk.collect.android.views.TrackingTouchSlider;\n+import org.odk.collect.android.widgets.utilities.RangeWidgetUtils;\n \n import java.math.BigDecimal;\n \n @SuppressLint(\"ViewConstructor\")\n-public class RangeDecimalWidget extends RangeWidget {\n+public class RangeDecimalWidget extends QuestionWidget implements Slider.OnChangeListener {\n+    private RangeQuestion rangeQuestion;\n+    private BigDecimal actualValue;\n+\n+    TrackingTouchSlider slider;\n+    TextView currentValue;\n \n     public RangeDecimalWidget(Context context, QuestionDetails prompt) {\n         super(context, prompt);\n     }\n \n+    @Override\n+    protected View onCreateAnswerView(Context context, FormEntryPrompt prompt, int answerFontSize) {\n+        rangeQuestion = (RangeQuestion) getFormEntryPrompt().getQuestion();\n+        RangeWidgetUtils.RangeWidgetLayoutElements layoutElements = RangeWidgetUtils.setUpLayoutElements(context, prompt);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7977906dbbbac8f9baab0968654867c96e940bf"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg1MzQxNw==", "bodyText": "I think this layout should be called button_and_answer or something. I don't like suggesting that it's the \"default\" answer view.", "url": "https://github.com/getodk/collect/pull/3969#discussion_r460853417", "createdAt": "2020-07-27T12:27:39Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/UrlWidget.java", "diffHunk": "@@ -43,18 +44,20 @@ public UrlWidget(Context context, QuestionDetails questionDetails, CustomTabHelp\n \n     @Override\n     protected View onCreateAnswerView(Context context, FormEntryPrompt prompt, int answerFontSize) {\n-        binding = UrlWidgetAnswerBinding.inflate(((Activity) context).getLayoutInflater());\n+        binding = WidgetAnswerBinding.inflate(((Activity) context).getLayoutInflater());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7977906dbbbac8f9baab0968654867c96e940bf"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg1NTYwOA==", "bodyText": "I don't think we should use dividerColor here. Could you find a color to use in the standard material color set and use that instead? If it isn't in our themes already you might have to define it.\nIf it seems doable you could then replace dividerColor everywhere and delete it? No worries if that seems like a distraction though.", "url": "https://github.com/getodk/collect/pull/3969#discussion_r460855608", "createdAt": "2020-07-27T12:31:46Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/res/layout/range_widget_horizontal.xml", "diffHunk": "@@ -31,16 +34,15 @@ limitations under the License.\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"wrap_content\">\n \n-        <SeekBar\n-            android:id=\"@+id/seek_bar_no_ticks\"\n-            android:layout_width=\"match_parent\"\n-            android:layout_height=\"wrap_content\" />\n-\n-        <SeekBar\n-            android:id=\"@+id/seek_bar\"\n+        <org.odk.collect.android.views.TrackingTouchSlider\n+            android:id=\"@+id/slider\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"wrap_content\"\n-            android:theme=\"@style/Base.Widget.AppCompat.SeekBar.Discrete\" />\n+            app:thumbColor=\"?colorSecondary\"\n+            app:tickColor=\"?colorOnBackground\"\n+            app:haloColor=\"?dividerColor\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7977906dbbbac8f9baab0968654867c96e940bf"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg1NTc0Mw==", "bodyText": "This should use theme colors rather than hardcoded colors.", "url": "https://github.com/getodk/collect/pull/3969#discussion_r460855743", "createdAt": "2020-07-27T12:32:04Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/res/layout/range_widget_vertical.xml", "diffHunk": "@@ -33,22 +34,18 @@ limitations under the License.\n         android:layout_width=\"50dp\"\n         android:layout_height=\"330dp\">\n \n-        <SeekBar\n-            android:id=\"@+id/seek_bar_no_ticks\"\n+        <org.odk.collect.android.views.TrackingTouchSlider\n+            android:id=\"@+id/slider\"\n             android:layout_width=\"330dp\"\n             android:layout_height=\"wrap_content\"\n+            app:thumbColor=\"?colorSecondary\"\n+            app:tickColor=\"#696969\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7977906dbbbac8f9baab0968654867c96e940bf"}, "originalPosition": 19}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c7977906dbbbac8f9baab0968654867c96e940bf", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/c7977906dbbbac8f9baab0968654867c96e940bf", "committedDate": "2020-07-27T00:33:10Z", "message": "fix failing unit tests"}, "afterCommit": {"oid": "2b5c741c9ff8b3a88f2c07a1ea00cb3630995a38", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/2b5c741c9ff8b3a88f2c07a1ea00cb3630995a38", "committedDate": "2020-07-27T21:41:47Z", "message": "code refactor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MzY1ODE2", "url": "https://github.com/getodk/collect/pull/3969#pullrequestreview-457365816", "createdAt": "2020-07-29T09:49:28Z", "commit": {"oid": "e2393015b6c8e37f1069b387432dadf283d94a1a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOTo0OToyOFrOG4xEIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOTo0OToyOFrOG4xEIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE3NzMxNA==", "bodyText": "I think you misunderstood what I was trying to communicate before. I just meant if we were missing one of the standard material theme colors we might have to add it to our themes. Sorry if that was confusing!\nThe theme shouldn't have to know that there is a slider that needs a color right? The slider should use a material theme color we have a value for not a new custom one.", "url": "https://github.com/getodk/collect/pull/3969#discussion_r462177314", "createdAt": "2020-07-29T09:49:28Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/res/values/attrs.xml", "diffHunk": "@@ -2,6 +2,7 @@\n <resources>\n     <declare-styleable name=\"Collect\">\n         <attr name=\"iconColor\" format=\"color\" />\n+        <attr name=\"sliderTrackColor\" format=\"color\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2393015b6c8e37f1069b387432dadf283d94a1a"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3NjYyNTgy", "url": "https://github.com/getodk/collect/pull/3969#pullrequestreview-457662582", "createdAt": "2020-07-29T15:55:23Z", "commit": {"oid": "3cebfef4b1477122500159de4d2a1fdbb1a2294c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNTo1NToyM1rOG4_IAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNTo1NzozM1rOG4_OLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjQwNzY4Mw==", "bodyText": "I don't think you need to pass a NewInstanceFactory here. Could you not just use the 1 arg constructor for ViewModelProvider?", "url": "https://github.com/getodk/collect/pull/3969#discussion_r462407683", "createdAt": "2020-07-29T15:55:23Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/fragments/dialogs/NumberPickerDialog.java", "diffHunk": "@@ -55,12 +53,7 @@ public static NumberPickerDialog newInstance(int widgetId, String[] displayedVal\n     @Override\n     public void onAttach(Context context) {\n         super.onAttach(context);\n-\n-        try {\n-            listener = (NumberPickerListener) context;\n-        } catch (ClassCastException e) {\n-            throw new ClassCastException(context.toString() + \" must implement OnHeadlineSelectedListener\");\n-        }\n+        rangePickerViewModel = new ViewModelProvider(requireActivity(), new ViewModelProvider.NewInstanceFactory()).get(RangePickerViewModel.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3cebfef4b1477122500159de4d2a1fdbb1a2294c"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjQwOTI2Mg==", "bodyText": "I feel like getNumberPickerProgress should probably remain a util method as it doesn't rely on any state in the view model.", "url": "https://github.com/getodk/collect/pull/3969#discussion_r462409262", "createdAt": "2020-07-29T15:57:33Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/widgets/RangePickerDecimalWidget.java", "diffHunk": "@@ -0,0 +1,100 @@\n+package org.odk.collect.android.widgets;\n+\n+import android.annotation.SuppressLint;\n+import android.app.Activity;\n+import android.content.Context;\n+import android.util.TypedValue;\n+import android.view.View;\n+\n+import androidx.lifecycle.ViewModelProvider;\n+\n+import org.javarosa.core.model.RangeQuestion;\n+import org.javarosa.core.model.data.DecimalData;\n+import org.javarosa.core.model.data.IAnswerData;\n+import org.javarosa.form.api.FormEntryPrompt;\n+import org.odk.collect.android.R;\n+import org.odk.collect.android.activities.FormEntryActivity;\n+import org.odk.collect.android.databinding.WidgetButtonAndAnswerLayoutBinding;\n+import org.odk.collect.android.formentry.questions.QuestionDetails;\n+import org.odk.collect.android.utilities.ScreenContext;\n+import org.odk.collect.android.widgets.utilities.RangeWidgetUtils;\n+import org.odk.collect.android.widgets.viewmodels.RangePickerViewModel;\n+\n+import java.math.BigDecimal;\n+\n+@SuppressLint(\"ViewConstructor\")\n+public class RangePickerDecimalWidget extends QuestionWidget {\n+    WidgetButtonAndAnswerLayoutBinding binding;\n+    String[] displayedValuesForNumberPicker;\n+\n+    private BigDecimal rangeStart;\n+    private BigDecimal rangeEnd;\n+    private BigDecimal rangeStep;\n+\n+    private int progress;\n+\n+    public RangePickerDecimalWidget(Context context, QuestionDetails questionDetails) {\n+        super(context, questionDetails);\n+        RangePickerViewModel rangePickerViewModel = new ViewModelProvider(((ScreenContext) getContext()).getActivity(),\n+                new ViewModelProvider.NewInstanceFactory()).get(RangePickerViewModel.class);\n+\n+        rangePickerViewModel.getNumberPickerValue().observe(((ScreenContext) getContext()).getViewLifecycle(), answer -> {\n+            if (answer != null) {\n+                progress = rangePickerViewModel.getNumberPickerProgress(rangeStart, rangeStep, rangeEnd, answer);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3cebfef4b1477122500159de4d2a1fdbb1a2294c"}, "originalPosition": 43}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3cebfef4b1477122500159de4d2a1fdbb1a2294c", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/3cebfef4b1477122500159de4d2a1fdbb1a2294c", "committedDate": "2020-07-29T15:04:37Z", "message": "remove unit tests for Range picker widgets"}, "afterCommit": {"oid": "e2393015b6c8e37f1069b387432dadf283d94a1a", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/e2393015b6c8e37f1069b387432dadf283d94a1a", "committedDate": "2020-07-28T19:45:22Z", "message": "code refactor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0e01fbf5e6e18ee76374dfc00a1b909014f77dc1", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/0e01fbf5e6e18ee76374dfc00a1b909014f77dc1", "committedDate": "2020-07-29T16:35:13Z", "message": "remove slider track color and use color_on_surface_low_emphasis"}, "afterCommit": {"oid": "019808e1279e1ef2aa1ad708b88a2a3ef4bcac5a", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/019808e1279e1ef2aa1ad708b88a2a3ef4bcac5a", "committedDate": "2020-07-29T16:38:22Z", "message": "remove slider track color and use color_on_surface_low_emphasis"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4MjQzMjAz", "url": "https://github.com/getodk/collect/pull/3969#pullrequestreview-458243203", "createdAt": "2020-07-30T09:36:47Z", "commit": {"oid": "019808e1279e1ef2aa1ad708b88a2a3ef4bcac5a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwOTozNjo0OFrOG5bqhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwOTozNjo0OFrOG5bqhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjg3NTI2OQ==", "bodyText": "I'm not a fan of testing this field here as there is no reason for it to be public. Really the test should click on the button and test that the dialog receives the right values. I know you're reworking how all that functions though so I think we go with this for the moment!\nAs a general tip for tests like this I would avoid the for loop and just write out what I expect the values to be. That way it's clearer to the reader of the test. Tests serve as documentation as much as they serve as checks so it's good for them to be very clear what the behaviour they expect is.", "url": "https://github.com/getodk/collect/pull/3969#discussion_r462875269", "createdAt": "2020-07-30T09:36:48Z", "author": {"login": "seadowg"}, "path": "collect_app/src/test/java/org/odk/collect/android/widgets/RangePickerDecimalWidgetTest.java", "diffHunk": "@@ -0,0 +1,128 @@\n+package org.odk.collect.android.widgets;\n+\n+import android.view.View;\n+\n+import org.javarosa.core.model.RangeQuestion;\n+import org.javarosa.core.model.data.StringData;\n+import org.javarosa.form.api.FormEntryPrompt;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.odk.collect.android.R;\n+import org.odk.collect.android.formentry.questions.QuestionDetails;\n+import org.odk.collect.android.listeners.WidgetValueChangedListener;\n+import org.robolectric.RobolectricTestRunner;\n+import java.math.BigDecimal;\n+\n+import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.hamcrest.Matchers.equalTo;\n+import static org.hamcrest.Matchers.nullValue;\n+import static org.mockito.Mockito.mock;\n+import static org.mockito.Mockito.verify;\n+import static org.mockito.Mockito.when;\n+import static org.odk.collect.android.widgets.support.QuestionWidgetHelpers.mockValueChangedListener;\n+import static org.odk.collect.android.widgets.support.QuestionWidgetHelpers.promptWithQuestionDefAndAnswer;\n+import static org.odk.collect.android.widgets.support.QuestionWidgetHelpers.promptWithReadOnlyAndQuestionDef;\n+import static org.odk.collect.android.widgets.support.QuestionWidgetHelpers.widgetTestActivity;\n+\n+@RunWith(RobolectricTestRunner.class)\n+public class RangePickerDecimalWidgetTest {\n+\n+    private RangeQuestion rangeQuestion;\n+\n+    @Before\n+    public void setup() {\n+        rangeQuestion = mock(RangeQuestion.class);\n+\n+        when(rangeQuestion.getRangeStart()).thenReturn(new BigDecimal(\"1.5\"));\n+        when(rangeQuestion.getRangeEnd()).thenReturn(new BigDecimal(\"5.5\"));\n+        when(rangeQuestion.getRangeStep()).thenReturn(new BigDecimal(\"0.5\"));\n+    }\n+\n+    @Test\n+    public void whenRangeEndIsGreaterThanRangeStart_widgetsSetsCorrectValuesForNumberPicker() {\n+        RangePickerDecimalWidget widget = createWidget(promptWithQuestionDefAndAnswer(rangeQuestion, null));\n+        int index = 0;\n+\n+        for (double i = 5.5F; i >= 1.5F; i -= 0.5F, index++) {\n+            assertThat(widget.displayedValuesForNumberPicker[index], equalTo(String.valueOf(i)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "019808e1279e1ef2aa1ad708b88a2a3ef4bcac5a"}, "originalPosition": 48}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NDM5MTQ4", "url": "https://github.com/getodk/collect/pull/3969#pullrequestreview-458439148", "createdAt": "2020-07-30T14:11:11Z", "commit": {"oid": "0a72504ba86f57ebf7c8bd586afea3eb7223e9dd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4555527a471f22f3415f05ffacc9e86bfc5b5fe3", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/4555527a471f22f3415f05ffacc9e86bfc5b5fe3", "committedDate": "2020-08-09T22:54:03Z", "message": "add unit tests for slider thumb"}, "afterCommit": {"oid": "2c4b6679a9154ee61a52b447f2de4ba91c8402f9", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/2c4b6679a9154ee61a52b447f2de4ba91c8402f9", "committedDate": "2020-08-10T08:07:24Z", "message": "fix slider thumb and code refactor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9471179584169814df5a5e0106763d3d0129d9a4", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/9471179584169814df5a5e0106763d3d0129d9a4", "committedDate": "2020-08-18T12:15:32Z", "message": "retain null answer on screen rotation"}, "afterCommit": {"oid": "b97fe0c6ea47726b0f2ae836f87ab868d246c7e3", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/b97fe0c6ea47726b0f2ae836f87ab868d246c7e3", "committedDate": "2020-08-19T10:27:37Z", "message": "retain null answer on screen rotation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cf0b1de4ee9bde8a71389a53f4324ac38588908d", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/cf0b1de4ee9bde8a71389a53f4324ac38588908d", "committedDate": "2020-08-19T17:03:54Z", "message": "add unit tests"}, "afterCommit": {"oid": "6efb5687b07854d6e80956bf008a54024fcb64a5", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/6efb5687b07854d6e80956bf008a54024fcb64a5", "committedDate": "2020-09-08T09:31:25Z", "message": "add unit tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a48933423ecb0afd5d6a91eed9437435ff9512f9", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/a48933423ecb0afd5d6a91eed9437435ff9512f9", "committedDate": "2020-09-28T13:00:10Z", "message": "update google material library to stable version 1.2.1"}, "afterCommit": {"oid": "b44378232bde39923360d6be927fe8a0e69823d5", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/b44378232bde39923360d6be927fe8a0e69823d5", "committedDate": "2020-09-28T13:02:35Z", "message": "update google material library to stable version 1.2.1"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b44378232bde39923360d6be927fe8a0e69823d5", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/b44378232bde39923360d6be927fe8a0e69823d5", "committedDate": "2020-09-28T13:02:35Z", "message": "update google material library to stable version 1.2.1"}, "afterCommit": {"oid": "a88264e04aae775cdceae9c0aa160f9c2e1c00c5", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/a88264e04aae775cdceae9c0aa160f9c2e1c00c5", "committedDate": "2020-10-06T08:59:31Z", "message": "remove widget_button_and_answer_layout"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b25ebfdc488a6002685c225eb2c93638fec2294", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/5b25ebfdc488a6002685c225eb2c93638fec2294", "committedDate": "2020-10-06T09:07:22Z", "message": "add unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61d19ec1d930571ddd0fb97a262cc0c75f863bbd", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/61d19ec1d930571ddd0fb97a262cc0c75f863bbd", "committedDate": "2020-10-06T09:07:22Z", "message": "resolve conflict in build.gradle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96a7542757793a4cd91f15ce1a9ed9f4ae591cb5", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/96a7542757793a4cd91f15ce1a9ed9f4ae591cb5", "committedDate": "2020-10-06T09:07:22Z", "message": "use material slider instead of seekbar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0176461f4ec138180b592abb9d7daf879eee3832", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/0176461f4ec138180b592abb9d7daf879eee3832", "committedDate": "2020-10-06T09:07:22Z", "message": "update range widget xml file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db6e4c9459b22785140fe5982112b7b8623d7ad6", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/db6e4c9459b22785140fe5982112b7b8623d7ad6", "committedDate": "2020-10-06T09:07:22Z", "message": "fix slider.setValue() behaviour"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80c6d71d36ddea1a744636749356804d237a6c3b", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/80c6d71d36ddea1a744636749356804d237a6c3b", "committedDate": "2020-10-06T09:07:22Z", "message": "implement Slider.onTouchListener"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0cb8479b5083030eb1d98bdf5bdb62ac03a1c7a4", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/0cb8479b5083030eb1d98bdf5bdb62ac03a1c7a4", "committedDate": "2020-10-06T09:07:22Z", "message": "fix slider colors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "270d314ee1fdc1cf9cce013ccfa031b8e8b77dde", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/270d314ee1fdc1cf9cce013ccfa031b8e8b77dde", "committedDate": "2020-10-06T09:07:22Z", "message": "update range integer java class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6f3bde84a2a1c10b0bf14232ff79ccb54b42a95", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/d6f3bde84a2a1c10b0bf14232ff79ccb54b42a95", "committedDate": "2020-10-06T09:07:22Z", "message": "update range integer java class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b69049eec6d7318ff941bc22dc7d7b5285d3d46", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/3b69049eec6d7318ff941bc22dc7d7b5285d3d46", "committedDate": "2020-10-06T09:07:22Z", "message": "add check for vertical appearnce"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbf1926ea56c806e44119abfdb381db1691c25ef", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/bbf1926ea56c806e44119abfdb381db1691c25ef", "committedDate": "2020-10-06T09:07:22Z", "message": "add unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4138080a4e3f98e0ad84ffa5310cca359e387907", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/4138080a4e3f98e0ad84ffa5310cca359e387907", "committedDate": "2020-10-06T09:07:22Z", "message": "make getAnswerShouldReflectActualValueSetViaSeekBar() test greeen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "436fc2339d21c9a5a43a21f5270afeaa8dc3abed", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/436fc2339d21c9a5a43a21f5270afeaa8dc3abed", "committedDate": "2020-10-06T09:07:22Z", "message": "update slider color to theme colors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdc8cea6a1b3d8d595dbb97f145c9d9972351658", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/bdc8cea6a1b3d8d595dbb97f145c9d9972351658", "committedDate": "2020-10-06T09:07:23Z", "message": "add unit test for range decimal widget"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4faa3714280b7735948b73c8b30c49b93df244c3", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/4faa3714280b7735948b73c8b30c49b93df244c3", "committedDate": "2020-10-06T09:07:23Z", "message": "update range decimal widgte java class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20843b74dd0b8962e4626e2757197a2e4406a73d", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/20843b74dd0b8962e4626e2757197a2e4406a73d", "committedDate": "2020-10-06T09:07:23Z", "message": "create RangeWidgetUtils class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "261cd4930ca815c9ab5c9bd53cb2738e2d5bf84f", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/261cd4930ca815c9ab5c9bd53cb2738e2d5bf84f", "committedDate": "2020-10-06T09:07:23Z", "message": "add unit tests for RangeWidgetUtils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f2e9e91f88090a6960f285f1a2cab4e12127640", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/1f2e9e91f88090a6960f285f1a2cab4e12127640", "committedDate": "2020-10-06T09:07:23Z", "message": "create CustomRangeSlider class and code refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b03ecc6560a7c0d31c17b1c47af52b058c135762", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/b03ecc6560a7c0d31c17b1c47af52b058c135762", "committedDate": "2020-10-06T09:07:23Z", "message": "add unit tests for CustomRangeSlider"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d667976523d0a5d527de385dec5b237f32a1b7c", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/4d667976523d0a5d527de385dec5b237f32a1b7c", "committedDate": "2020-10-06T09:07:23Z", "message": "code refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "699e982dae9c72f1d7bc2e1a72f009fe37d8b97f", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/699e982dae9c72f1d7bc2e1a72f009fe37d8b97f", "committedDate": "2020-10-06T09:07:23Z", "message": "refactor SuppressFlingGestureSlider"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0eb932e9eee9e69fbd7fe01e19a6488a284b003d", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/0eb932e9eee9e69fbd7fe01e19a6488a284b003d", "committedDate": "2020-10-06T09:07:23Z", "message": "remove RangeWidget and RangeWidgetTest class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93401e5071c5ef93bb6521c8cd94ea29c6ee0b9f", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/93401e5071c5ef93bb6521c8cd94ea29c6ee0b9f", "committedDate": "2020-10-06T09:07:23Z", "message": "create custom nested class for returning range widget layout elements in RangeWidgetUtils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8690b83fe0dcc55d463940286f37548fda877b6a", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/8690b83fe0dcc55d463940286f37548fda877b6a", "committedDate": "2020-10-06T09:07:23Z", "message": "fix usingReadOnlyOption_disablesTheSlider unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10a923a51e3cbd00032a6868277f62b03a1c4ff8", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/10a923a51e3cbd00032a6868277f62b03a1c4ff8", "committedDate": "2020-10-06T09:07:23Z", "message": "fix check_quality error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ecf662e0a41ecdfef02feafff45b1c6ea150529", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/8ecf662e0a41ecdfef02feafff45b1c6ea150529", "committedDate": "2020-10-06T09:07:23Z", "message": "code refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb24545e5b1b6d3954205f1c7d26f1a6b6fd0cbc", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/eb24545e5b1b6d3954205f1c7d26f1a6b6fd0cbc", "committedDate": "2020-10-06T09:07:23Z", "message": "code refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a344184a8739f7c924f352443d301beadd207c0b", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/a344184a8739f7c924f352443d301beadd207c0b", "committedDate": "2020-10-06T09:07:23Z", "message": "add unit tests for vertical slider"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db37ff10620de47ae3d5bf8fd61e88c166e30bcb", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/db37ff10620de47ae3d5bf8fd61e88c166e30bcb", "committedDate": "2020-10-06T09:07:23Z", "message": "unit tests refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d45f7bb61d629007020ca3fc0282e88adb2f66a", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/8d45f7bb61d629007020ca3fc0282e88adb2f66a", "committedDate": "2020-10-06T09:07:23Z", "message": "create Range picker classes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05f64d3df37c410d99c47fdcd78e1aaa0aa7b74d", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/05f64d3df37c410d99c47fdcd78e1aaa0aa7b74d", "committedDate": "2020-10-06T09:10:48Z", "message": "refactor code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bedf2c8e247668b7cff056d94aec64b0c197d762", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/bedf2c8e247668b7cff056d94aec64b0c197d762", "committedDate": "2020-10-06T09:15:24Z", "message": "code refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35210fcea866cccef89b18378cb9699525a0c85a", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/35210fcea866cccef89b18378cb9699525a0c85a", "committedDate": "2020-10-06T09:15:28Z", "message": "update RangePickerIntegerWidget"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e7b0e075c2a623a74c05bdff7664d2b948314f3", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/3e7b0e075c2a623a74c05bdff7664d2b948314f3", "committedDate": "2020-10-06T09:15:28Z", "message": "update RangePickerIntegerWidget class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4bef2f19f0e3b97bb1aad330dd9112a92c7f39c", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/c4bef2f19f0e3b97bb1aad330dd9112a92c7f39c", "committedDate": "2020-10-06T09:15:28Z", "message": "add unit tests for RangePickerIntegerWidget"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4680d40c4ad321858e1182901b98618ee13ac19d", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/4680d40c4ad321858e1182901b98618ee13ac19d", "committedDate": "2020-10-06T09:15:28Z", "message": "add unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10fa032fa058dff5acba3e2a916d9cb094368620", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/10fa032fa058dff5acba3e2a916d9cb094368620", "committedDate": "2020-10-06T09:15:28Z", "message": "add unit tests for RangePickerDecimalWidget"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31e5beea8ea6c5ba2d89a3f4846b88d3cdd3a607", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/31e5beea8ea6c5ba2d89a3f4846b88d3cdd3a607", "committedDate": "2020-10-06T09:15:28Z", "message": "update RangePickerDecimalWidget class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8454ee3646cf9ce6a1ec5f86c532db3e33f86d31", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/8454ee3646cf9ce6a1ec5f86c532db3e33f86d31", "committedDate": "2020-10-06T09:15:28Z", "message": "code refactor to make unit tests pass"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0e1cddcca0efb9a5872de3daf8130d594709819", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/e0e1cddcca0efb9a5872de3daf8130d594709819", "committedDate": "2020-10-06T09:15:28Z", "message": "refactor code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc0f86fa7774c4c842d33a53398fbcc73120e04e", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/fc0f86fa7774c4c842d33a53398fbcc73120e04e", "committedDate": "2020-10-06T09:15:28Z", "message": "add unit tests for RangeWidgetUtils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ea5bd6fc8132706bec8acf68bda849417517a64", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/4ea5bd6fc8132706bec8acf68bda849417517a64", "committedDate": "2020-10-06T09:16:46Z", "message": "code refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75de29afdc7348a0e3dcb1a98a5477d26bb598c4", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/75de29afdc7348a0e3dcb1a98a5477d26bb598c4", "committedDate": "2020-10-06T09:16:51Z", "message": "shift checkNumberPickerDialogShown test to RangeWidgetUtilsTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23f1de47a4bf640ccc047647037ed235f67b1c93", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/23f1de47a4bf640ccc047647037ed235f67b1c93", "committedDate": "2020-10-06T09:16:51Z", "message": "implement conitnuos slider based on 'no ticks' appearance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cdfc9f8c2624b64271775493579fe672b3f2f64", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/5cdfc9f8c2624b64271775493579fe672b3f2f64", "committedDate": "2020-10-06T09:16:51Z", "message": "fix failing unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8c79ce730879dc2e6743be3f2b4e539e64b70b9", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/e8c79ce730879dc2e6743be3f2b4e539e64b70b9", "committedDate": "2020-10-06T09:16:51Z", "message": "fix crash when start value is greater tahn end value"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a640861866d1bf4919ca85198263cc231d2b656", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/0a640861866d1bf4919ca85198263cc231d2b656", "committedDate": "2020-10-06T09:16:51Z", "message": "add touch listener on the slider"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6bc510e62c78f5cdb11dcf25e45197dbf48e5c2", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/c6bc510e62c78f5cdb11dcf25e45197dbf48e5c2", "committedDate": "2020-10-06T09:16:51Z", "message": "add unit tests for TrackingTouchSlider"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c6717f76be9037b972f8051a6fb56372f319b1d", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/6c6717f76be9037b972f8051a6fb56372f319b1d", "committedDate": "2020-10-06T09:16:51Z", "message": "fix failing unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f74193f95d0f0f6ece24b72e4ceb372869a708cc", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/f74193f95d0f0f6ece24b72e4ceb372869a708cc", "committedDate": "2020-10-06T09:16:51Z", "message": "code refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3d9df15142176289a088c3532ac24a71710e717", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/d3d9df15142176289a088c3532ac24a71710e717", "committedDate": "2020-10-06T09:16:51Z", "message": "code refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85796d62e43b1985290e7cb8a08306abc3d79979", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/85796d62e43b1985290e7cb8a08306abc3d79979", "committedDate": "2020-10-06T09:18:52Z", "message": "refactor WidgetButtonAndAnswerBinding"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b20cc6ecf0cc9bebf79293188e7d987cf06c3c09", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/b20cc6ecf0cc9bebf79293188e7d987cf06c3c09", "committedDate": "2020-10-06T09:19:03Z", "message": "create slider theme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa1313d7280c526b22759de5bacb59d9adc282ec", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/aa1313d7280c526b22759de5bacb59d9adc282ec", "committedDate": "2020-10-06T09:19:03Z", "message": "used material design color"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa7db937e9a9b1d565178c5f0153067f92b3de58", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/aa7db937e9a9b1d565178c5f0153067f92b3de58", "committedDate": "2020-10-06T09:19:03Z", "message": "create method createThemedContext() in RobolectricHelpers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f079561e9d968f17889363a35b9ac03e7d6cec3e", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/f079561e9d968f17889363a35b9ac03e7d6cec3e", "committedDate": "2020-10-06T09:19:03Z", "message": "fix slider behaviour when range start is greater than range end value"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05d64a2919df63878390815d8aee52b617c889f8", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/05d64a2919df63878390815d8aee52b617c889f8", "committedDate": "2020-10-06T09:19:03Z", "message": "code refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad92235f0991a92752754c29f028357860c6f34c", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/ad92235f0991a92752754c29f028357860c6f34c", "committedDate": "2020-10-06T09:19:03Z", "message": "remove slider track color and use color_on_surface_low_emphasis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68fcbf27b154bc13f1e3c9760f7d31fa57df910e", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/68fcbf27b154bc13f1e3c9760f7d31fa57df910e", "committedDate": "2020-10-06T09:19:03Z", "message": "fix slider ripple"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7685c3e28f482cfb07292820b9dc92551c7fea6", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/c7685c3e28f482cfb07292820b9dc92551c7fea6", "committedDate": "2020-10-06T09:19:03Z", "message": "hide thumb when widget has no answer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dae8e40005e09d1b4a5aa6eeca24a8492af9491", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/3dae8e40005e09d1b4a5aa6eeca24a8492af9491", "committedDate": "2020-10-06T09:19:03Z", "message": "hide picker button when readonly and code refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88fe4779c5f693da504be6260c18c1f30226378a", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/88fe4779c5f693da504be6260c18c1f30226378a", "committedDate": "2020-10-06T09:19:03Z", "message": "create slider tint list"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94d17fc3a6062bb64f1675df049586b72d398dfe", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/94d17fc3a6062bb64f1675df049586b72d398dfe", "committedDate": "2020-10-06T09:19:03Z", "message": "fix slider thumb and code refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5e8b4a016a0dd2bbe463d1ce02affd5e9c474cc", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/a5e8b4a016a0dd2bbe463d1ce02affd5e9c474cc", "committedDate": "2020-10-06T09:19:55Z", "message": "add styles for widget button and answer text view"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56875b2966fe206e4f9a74e8c35eba39cf4e809d", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/56875b2966fe206e4f9a74e8c35eba39cf4e809d", "committedDate": "2020-10-06T09:20:00Z", "message": "retain null answer on screen rotation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e9252164646383455c2747eb2f75f59a498022b", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/8e9252164646383455c2747eb2f75f59a498022b", "committedDate": "2020-10-06T09:20:00Z", "message": "add unit tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a88264e04aae775cdceae9c0aa160f9c2e1c00c5", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/a88264e04aae775cdceae9c0aa160f9c2e1c00c5", "committedDate": "2020-10-06T08:59:31Z", "message": "remove widget_button_and_answer_layout"}, "afterCommit": {"oid": "8e9252164646383455c2747eb2f75f59a498022b", "author": {"user": {"login": "SaumiaSinghal", "name": "Saumia Singhal"}}, "url": "https://github.com/getodk/collect/commit/8e9252164646383455c2747eb2f75f59a498022b", "committedDate": "2020-10-06T09:20:00Z", "message": "add unit tests"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2546, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}