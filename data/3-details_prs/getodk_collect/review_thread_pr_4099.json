{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4NzYzNjQ1", "number": 4099, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNTo1NToxN1rOEkm1wQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNjowNTo1MlrOEknJdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2ODIwNTQ1OnYy", "diffSide": "RIGHT", "path": "collect_app/src/main/java/org/odk/collect/android/injection/config/AppDependencyModule.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNTo1NToxN1rOHTpWqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNTo1NToxN1rOHTpWqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM2MjUzOA==", "bodyText": "We can follow up with an actual tested implementation (replacing ChangingServerUrlUtils)", "url": "https://github.com/getodk/collect/pull/4099#discussion_r490362538", "createdAt": "2020-09-17T15:55:17Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/injection/config/AppDependencyModule.java", "diffHunk": "@@ -355,8 +358,23 @@ public PropertyManager providesPropertyManager(Application application, RxEventB\n     }\n \n     @Provides\n-    public SettingsChangeHandler providesSettingsChangeHandler(PropertyManager propertyManager, FormUpdateManager formUpdateManager) {\n-        return new CollectSettingsChangeHandler(propertyManager, formUpdateManager);\n+    public ServerRepository providesServerRepository() {\n+        return new ServerRepository() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a67801d55d866094161029cc4ae47eeb43807639"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2ODIwNzU3OnYy", "diffSide": "LEFT", "path": "collect_app/src/main/java/org/odk/collect/android/preferences/ServerPreferencesFragment.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNTo1NTo0N1rOHTpYEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNTo1NTo0N1rOHTpYEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM2Mjg5Nw==", "bodyText": "This is now taken care of by our shared preference change listeners.", "url": "https://github.com/getodk/collect/pull/4099#discussion_r490362897", "createdAt": "2020-09-17T15:55:47Z", "author": {"login": "seadowg"}, "path": "collect_app/src/main/java/org/odk/collect/android/preferences/ServerPreferencesFragment.java", "diffHunk": "@@ -280,7 +283,6 @@ public boolean onTouch(View v, MotionEvent event) {\n                         sendAnalyticsEvent(url);\n \n                         preference.setSummary(newValue.toString());\n-                        ChangingServerUrlUtils.addUrlToList(url);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a67801d55d866094161029cc4ae47eeb43807639"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2ODI1NTg5OnYy", "diffSide": "LEFT", "path": "collect_app/src/androidTest/java/org/odk/collect/android/feature/settings/ConfigureWithQRCodeTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNjowNTo1MlrOHTp2Jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNjowNTo1MlrOHTp2Jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM3MDU5OQ==", "bodyText": "This is covered by the regression tests put in place when we found a bunch of broken edge cases. It's really hard to test here and get much value (other than we get from the normal import test).", "url": "https://github.com/getodk/collect/pull/4099#discussion_r490370599", "createdAt": "2020-09-17T16:05:52Z", "author": {"login": "seadowg"}, "path": "collect_app/src/androidTest/java/org/odk/collect/android/feature/settings/ConfigureWithQRCodeTest.java", "diffHunk": "@@ -113,23 +113,6 @@ public void clickConfigureQRCode_opensScanner_andThenScanning_importsSettings()\n                 .assertText(\"http://gallops.example\");\n     }\n \n-    @Test\n-    public void clickConfigureQRCode_opensScanner_andThenScanning_whenUsingOldQR_importsSettingsAndMigrates() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a67801d55d866094161029cc4ae47eeb43807639"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3105, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}