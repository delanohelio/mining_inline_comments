{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3MjU2MDY5", "number": 4653, "title": "OAuth20TokenAuthorizationResponseBuilder returns state and nonce unch\u2026", "bodyText": "OAuth20TokenAuthorizationResponseBuilder returns state and nonce unchanged\nsee https://groups.google.com/a/apereo.org/forum/#!topic/cas-user/DPBBpFfEit0\n\n Brief description of changes applied\n Test cases for all modified changes, where applicable\n The same pull request targetted at the master branch, if applicable", "createdAt": "2020-01-26T20:09:54Z", "url": "https://github.com/apereo/cas/pull/4653", "merged": true, "mergeCommit": {"oid": "6803f9b114b2db5b1a9f8e727daa3f8bece5dca9"}, "closed": true, "closedAt": "2020-01-28T05:37:58Z", "author": {"login": "dalbrx"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-N3vagH2gAyMzY3MjU2MDY5OmE4YTRiY2Y0ZTBkODI1ZGIxZjdjNzBhNGM5MWNlZTM4MTQ2YWU5MDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-i06YAH2gAyMzY3MjU2MDY5OjU1MThjNjlhZTU4ZjNhM2RhZTM2NDQzZDNiN2I2OTEwYjM5OGRhNGY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a8a4bcf4e0d825db1f7c70a4c91cee38146ae907", "author": {"user": {"login": "dalbrx-forcam", "name": null}}, "url": "https://github.com/apereo/cas/commit/a8a4bcf4e0d825db1f7c70a4c91cee38146ae907", "committedDate": "2020-01-26T20:07:53Z", "message": "OAuth20TokenAuthorizationResponseBuilder returns state and nonce unchanged"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f65e23d62c7049de9af2f831c79e446503e3ba6", "author": {"user": {"login": "dalbrx-forcam", "name": null}}, "url": "https://github.com/apereo/cas/commit/6f65e23d62c7049de9af2f831c79e446503e3ba6", "committedDate": "2020-01-26T21:45:49Z", "message": "OAuth20TokenAuthorizationResponseBuilder checkstyle fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eae8b8ba4aead2999828bac17325425f27e41f9c", "author": {"user": {"login": "apereocas-bot", "name": null}}, "url": "https://github.com/apereo/cas/commit/eae8b8ba4aead2999828bac17325425f27e41f9c", "committedDate": "2020-01-26T23:40:42Z", "message": "Merge branch '6.1.x' into 6.1.x"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc8f9c7c5d758553abb233fa641335af78bbd693", "author": {"user": {"login": "dalbrx-forcam", "name": null}}, "url": "https://github.com/apereo/cas/commit/dc8f9c7c5d758553abb233fa641335af78bbd693", "committedDate": "2020-01-27T00:20:36Z", "message": "OAuth20TokenAuthorizationResponseBuilderTest checkstyle fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ba3f2a6681832a79bd9036126aceeee89aeabc0", "author": {"user": {"login": "apereocas-bot", "name": null}}, "url": "https://github.com/apereo/cas/commit/6ba3f2a6681832a79bd9036126aceeee89aeabc0", "committedDate": "2020-01-27T02:40:43Z", "message": "Merge branch '6.1.x' into 6.1.x"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c22947ccc7ec35b919312ebf6de9e4e721523272", "author": {"user": {"login": "apereocas-bot", "name": null}}, "url": "https://github.com/apereo/cas/commit/c22947ccc7ec35b919312ebf6de9e4e721523272", "committedDate": "2020-01-27T04:20:46Z", "message": "Merge branch '6.1.x' into 6.1.x"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8a6b71fe97038e07d8f5cbacb05ca3d1c0437e3", "author": {"user": {"login": "apereocas-bot", "name": null}}, "url": "https://github.com/apereo/cas/commit/b8a6b71fe97038e07d8f5cbacb05ca3d1c0437e3", "committedDate": "2020-01-27T05:50:47Z", "message": "Merge branch '6.1.x' into 6.1.x"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4NDUyNTg1", "url": "https://github.com/apereo/cas/pull/4653#pullrequestreview-348452585", "createdAt": "2020-01-27T06:11:57Z", "commit": {"oid": "b8a6b71fe97038e07d8f5cbacb05ca3d1c0437e3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QwNjoxMTo1OFrOFh4l1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QwNjoxMTo1OFrOFh4l1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA3NDUxOQ==", "bodyText": "Should be OAuth20TokenAuthorizationResponseBuilderTests", "url": "https://github.com/apereo/cas/pull/4653#discussion_r371074519", "createdAt": "2020-01-27T06:11:58Z", "author": {"login": "mmoayyed"}, "path": "support/cas-server-support-oauth/src/test/java/org/apereo/cas/support/oauth/web/response/callback/OAuth20TokenAuthorizationResponseBuilderTest.java", "diffHunk": "@@ -0,0 +1,140 @@\n+package org.apereo.cas.support.oauth.web.response.callback;\n+\n+import java.util.AbstractMap;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.LinkedHashMap;\n+import java.util.LinkedHashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.stream.Collectors;\n+import lombok.val;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apereo.cas.configuration.CasConfigurationProperties;\n+import org.apereo.cas.mock.MockTicketGrantingTicket;\n+import org.apereo.cas.services.RegisteredServiceTestUtils;\n+import org.apereo.cas.support.oauth.OAuth20Constants;\n+import org.apereo.cas.support.oauth.OAuth20GrantTypes;\n+import org.apereo.cas.support.oauth.OAuth20ResponseTypes;\n+import org.apereo.cas.support.oauth.web.AbstractOAuth20Tests;\n+import org.apereo.cas.support.oauth.web.response.accesstoken.ext.AccessTokenRequestDataHolder;\n+import org.apereo.cas.ticket.accesstoken.OAuth20AccessToken;\n+import org.apereo.cas.ticket.accesstoken.OAuth20AccessTokenExpirationPolicyBuilder;\n+import org.jasig.cas.client.util.URIBuilder;\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.Tag;\n+import org.junit.jupiter.api.Test;\n+import org.pac4j.core.context.JEEContext;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.mock.web.MockHttpServletRequest;\n+import org.springframework.mock.web.MockHttpServletResponse;\n+import org.springframework.web.servlet.view.RedirectView;\n+\n+\n+/**\n+ * This is {@link OAuth20TokenAuthorizationResponseBuilderTest}.\n+ *\n+ * @author David Albrecht\n+ * @since 6.1.3\n+ */\n+@Tag(\"OAuth\")\n+public class OAuth20TokenAuthorizationResponseBuilderTest extends AbstractOAuth20Tests {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8a6b71fe97038e07d8f5cbacb05ca3d1c0437e3"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e36f79d161414cb27bd247fbbf39b3bbf4d1eac9", "author": {"user": {"login": "apereocas-bot", "name": null}}, "url": "https://github.com/apereo/cas/commit/e36f79d161414cb27bd247fbbf39b3bbf4d1eac9", "committedDate": "2020-01-27T07:20:48Z", "message": "Merge branch '6.1.x' into 6.1.x"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a91f7b7114ac93228e6dfab8823fb5da899c8180", "author": {"user": {"login": "dalbrx-forcam", "name": null}}, "url": "https://github.com/apereo/cas/commit/a91f7b7114ac93228e6dfab8823fb5da899c8180", "committedDate": "2020-01-27T08:48:15Z", "message": "added test to OAuth20TestSuite"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02fd9dada9a8ed1e80c2a04baf481d97d4a4b52b", "author": {"user": {"login": "apereocas-bot", "name": null}}, "url": "https://github.com/apereo/cas/commit/02fd9dada9a8ed1e80c2a04baf481d97d4a4b52b", "committedDate": "2020-01-27T10:20:50Z", "message": "Merge branch '6.1.x' into 6.1.x"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2087d2a853809aa9d3fa6f5e2bc6467a1f9a8759", "author": {"user": {"login": "apereocas-bot", "name": null}}, "url": "https://github.com/apereo/cas/commit/2087d2a853809aa9d3fa6f5e2bc6467a1f9a8759", "committedDate": "2020-01-27T11:50:50Z", "message": "Merge branch '6.1.x' into 6.1.x"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c044d4f8fcf5f3155da16d650891bea59bd72c9", "author": {"user": {"login": "apereocas-bot", "name": null}}, "url": "https://github.com/apereo/cas/commit/7c044d4f8fcf5f3155da16d650891bea59bd72c9", "committedDate": "2020-01-27T14:50:51Z", "message": "Merge branch '6.1.x' into 6.1.x"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d91943def1a168b9e02daec89dec276d59e1eaf3", "author": {"user": {"login": "dalbrx-forcam", "name": null}}, "url": "https://github.com/apereo/cas/commit/d91943def1a168b9e02daec89dec276d59e1eaf3", "committedDate": "2020-01-27T19:06:35Z", "message": "always return mutable map"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5518c69ae58f3a3dae36443d3b7b6910b398da4f", "author": {"user": {"login": "dalbrx-forcam", "name": null}}, "url": "https://github.com/apereo/cas/commit/5518c69ae58f3a3dae36443d3b7b6910b398da4f", "committedDate": "2020-01-27T20:32:48Z", "message": "fixed import order"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3657, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}