{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkzNDM3MTI4", "number": 1333, "title": "TINKERPOP-2425 Do not close HTTP connection if keep alive set to true", "bodyText": "https://issues.apache.org/jira/browse/TINKERPOP-2425\nMotivation\nIn HttpGremlinEndpointHandler we close the connection when sending out an error in the response even if keepAlive is set as true on the request.\nChanges\nWe close the connection based on whether the keep alive is set to true or not in the request header.", "createdAt": "2020-09-26T00:02:36Z", "url": "https://github.com/apache/tinkerpop/pull/1333", "merged": true, "mergeCommit": {"oid": "1ad70e192fb8f203f35c66ee2a0473de644a0dd9"}, "closed": true, "closedAt": "2020-10-09T00:35:29Z", "author": {"login": "divijvaidya"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNTWLIAFqTQ5NzQ5NDg5Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQpyBTABqjM4NTc2OTMzNjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3NDk0ODk3", "url": "https://github.com/apache/tinkerpop/pull/1333#pullrequestreview-497494897", "createdAt": "2020-09-28T13:10:39Z", "commit": {"oid": "3f7397a72f4acd5b278a8d48aae9dbd784987c32"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzoxMDo0MFrOHY88gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzoxMDo0MFrOHY88gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTkyNjQwMg==", "bodyText": "your IDE got a little fancy with our imports \ud83d\ude42", "url": "https://github.com/apache/tinkerpop/pull/1333#discussion_r495926402", "createdAt": "2020-09-28T13:10:40Z", "author": {"login": "spmallette"}, "path": "gremlin-server/src/main/java/org/apache/tinkerpop/gremlin/server/handler/HttpGremlinEndpointHandler.java", "diffHunk": "@@ -82,19 +84,11 @@\n import java.util.stream.Stream;\n \n import static com.codahale.metrics.MetricRegistry.name;\n-import static io.netty.handler.codec.http.HttpHeaderNames.ACCESS_CONTROL_ALLOW_ORIGIN;\n-import static io.netty.handler.codec.http.HttpHeaderNames.CONNECTION;\n-import static io.netty.handler.codec.http.HttpHeaderNames.CONTENT_LENGTH;\n-import static io.netty.handler.codec.http.HttpHeaderNames.CONTENT_TYPE;\n-import static io.netty.handler.codec.http.HttpHeaderNames.ORIGIN;\n+import static io.netty.handler.codec.http.HttpHeaderNames.*;\n import static io.netty.handler.codec.http.HttpMethod.GET;\n import static io.netty.handler.codec.http.HttpMethod.POST;\n-import static io.netty.handler.codec.http.HttpResponseStatus.BAD_REQUEST;\n-import static io.netty.handler.codec.http.HttpResponseStatus.CONTINUE;\n-import static io.netty.handler.codec.http.HttpResponseStatus.INTERNAL_SERVER_ERROR;\n-import static io.netty.handler.codec.http.HttpResponseStatus.METHOD_NOT_ALLOWED;\n-import static io.netty.handler.codec.http.HttpResponseStatus.NOT_FOUND;\n-import static io.netty.handler.codec.http.HttpResponseStatus.OK;\n+import static io.netty.handler.codec.http.HttpResponseStatus.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f7397a72f4acd5b278a8d48aae9dbd784987c32"}, "originalPosition": 77}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3f7397a72f4acd5b278a8d48aae9dbd784987c32", "author": {"user": {"login": "divijvaidya", "name": "Divij Vaidya"}}, "url": "https://github.com/apache/tinkerpop/commit/3f7397a72f4acd5b278a8d48aae9dbd784987c32", "committedDate": "2020-09-25T23:51:04Z", "message": "Do not close HTTP connection if keep alive set to true"}, "afterCommit": {"oid": "3942854eac6619b6e49886b7029415d6c5cb6b32", "author": {"user": {"login": "divijvaidya", "name": "Divij Vaidya"}}, "url": "https://github.com/apache/tinkerpop/commit/3942854eac6619b6e49886b7029415d6c5cb6b32", "committedDate": "2020-10-08T17:47:30Z", "message": "fix imports"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "229c607313ffabe93b48d41c9a347aa7534670fc", "author": {"user": {"login": "divijvaidya", "name": "Divij Vaidya"}}, "url": "https://github.com/apache/tinkerpop/commit/229c607313ffabe93b48d41c9a347aa7534670fc", "committedDate": "2020-10-08T17:54:29Z", "message": "Guard NPE"}, "afterCommit": {"oid": "0721cdc3ff12154295039f9f31c4369ea8f82023", "author": {"user": {"login": "divijvaidya", "name": "Divij Vaidya"}}, "url": "https://github.com/apache/tinkerpop/commit/0721cdc3ff12154295039f9f31c4369ea8f82023", "committedDate": "2020-10-08T18:23:03Z", "message": "Guard NPE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e75f82f80d5f2735c2a6f7b0c5529125edb41b8", "author": {"user": {"login": "divijvaidya", "name": "Divij Vaidya"}}, "url": "https://github.com/apache/tinkerpop/commit/0e75f82f80d5f2735c2a6f7b0c5529125edb41b8", "committedDate": "2020-10-08T23:00:22Z", "message": "Do not close HTTP connection if keep alive set to true"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8089583bb14e311280191c79019b9e86f7860179", "author": {"user": {"login": "divijvaidya", "name": "Divij Vaidya"}}, "url": "https://github.com/apache/tinkerpop/commit/8089583bb14e311280191c79019b9e86f7860179", "committedDate": "2020-10-08T23:00:22Z", "message": "fix imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37729196a9919c5d7a4f3f2c2d22db586d29fe77", "author": {"user": {"login": "divijvaidya", "name": "Divij Vaidya"}}, "url": "https://github.com/apache/tinkerpop/commit/37729196a9919c5d7a4f3f2c2d22db586d29fe77", "committedDate": "2020-10-08T23:00:22Z", "message": "Guard NPE"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0721cdc3ff12154295039f9f31c4369ea8f82023", "author": {"user": {"login": "divijvaidya", "name": "Divij Vaidya"}}, "url": "https://github.com/apache/tinkerpop/commit/0721cdc3ff12154295039f9f31c4369ea8f82023", "committedDate": "2020-10-08T18:23:03Z", "message": "Guard NPE"}, "afterCommit": {"oid": "37729196a9919c5d7a4f3f2c2d22db586d29fe77", "author": {"user": {"login": "divijvaidya", "name": "Divij Vaidya"}}, "url": "https://github.com/apache/tinkerpop/commit/37729196a9919c5d7a4f3f2c2d22db586d29fe77", "committedDate": "2020-10-08T23:00:22Z", "message": "Guard NPE"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4372, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}