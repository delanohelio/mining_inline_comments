{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyMzc3NzQ5", "number": 1293, "title": "TINKERPOP-2264 update gremlin-python tests to be timezone/system-independent, related minor Docker changes", "bodyText": "The datetime conversion tests didn't pass when running on a Mac in London, so they've been updated to use calendar.timegm just like the code under test was in the original PR for TINKERPOP-2264.\nAlso, in order to run & debug the integration tests I updated gremlin-python's pom.xml to refer to a python executable rather than python2.  Since Docker on Mac runs in its own VM I updated the integration test gremlin-server.sh to explicitly publish its ports using -p.  Happy to revert these if they're too environment-specific.\ngremlin-python install target builds clean using IntelliJ Maven support (I get a javadoc-related error building from command line).", "createdAt": "2020-06-10T11:00:21Z", "url": "https://github.com/apache/tinkerpop/pull/1293", "merged": true, "mergeCommit": {"oid": "eca776983c02cf0298b706ec8ab92e8a49278085"}, "closed": true, "closedAt": "2020-06-11T17:17:32Z", "author": {"login": "humbleengineer"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcp3xFRAFqTQyNzk1MjE3NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcp9JG2ABqjM0MzA3MzE3NDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3OTUyMTc1", "url": "https://github.com/apache/tinkerpop/pull/1293#pullrequestreview-427952175", "createdAt": "2020-06-10T11:15:21Z", "commit": {"oid": "15f6923823a54429f21c71cff1c4b87d26f28da9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMToxNToyMlrOGhwLwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMToxNToyMlrOGhwLwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA0NTYzMg==", "bodyText": "I think I'd like to keep the same assumptions we've always had about local dev environments as we're deep into 3.4.x at this point and python2 is gone in 3.5.0. Do you mind reverting this change and doing a alias or something in your environment locally to accommodate this configuration?", "url": "https://github.com/apache/tinkerpop/pull/1293#discussion_r438045632", "createdAt": "2020-06-10T11:15:22Z", "author": {"login": "spmallette"}, "path": "gremlin-python/pom.xml", "diffHunk": "@@ -311,7 +311,7 @@ limitations under the License.\n                                             <fileset dir=\"src/main/jython\"/>\n                                         </copy>\n                                         <!-- print versions of python and virtualenv -->\n-                                        <exec dir=\"${project.build.directory}/python2\" executable=\"python2\"\n+                                        <exec dir=\"${project.build.directory}/python2\" executable=\"python\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15f6923823a54429f21c71cff1c4b87d26f28da9"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3OTUyNzE4", "url": "https://github.com/apache/tinkerpop/pull/1293#pullrequestreview-427952718", "createdAt": "2020-06-10T11:16:13Z", "commit": {"oid": "15f6923823a54429f21c71cff1c4b87d26f28da9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMToxNjoxM1rOGhwNXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMToxNjoxM1rOGhwNXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA0NjA0NQ==", "bodyText": "I'm still not smart enough about docker to know why this worked all this time without the -p - @robertdale or @dkuppitz  any ideas?", "url": "https://github.com/apache/tinkerpop/pull/1293#discussion_r438046045", "createdAt": "2020-06-10T11:16:13Z", "author": {"login": "spmallette"}, "path": "docker/gremlin-server.sh", "diffHunk": "@@ -57,7 +57,7 @@ echo \"Using Gremlin Server $GREMLIN_SERVER_VERSION\"\n sed -e \"s/GREMLIN_SERVER_VERSION\\$/${GREMLIN_SERVER_VERSION}/\" docker/gremlin-server/Dockerfile.template > Dockerfile\n \n docker build -t tinkerpop:${BUILD_TAG} .\n-docker run ${TINKERPOP_TEST_DOCKER_OPTS} ${REMOVE_CONTAINER} -ti -v \"${HOME}\"/.groovy:/root/.groovy -v \"${HOME}\"/.m2:/root/.m2 tinkerpop:${BUILD_TAG} ${@}\n+docker run ${TINKERPOP_TEST_DOCKER_OPTS} ${REMOVE_CONTAINER} -ti -p 45940:45940 -p 45941:45941 -v \"${HOME}\"/.groovy:/root/.groovy -v \"${HOME}\"/.m2:/root/.m2 tinkerpop:${BUILD_TAG} ${@}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15f6923823a54429f21c71cff1c4b87d26f28da9"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "417a1eca335b3397cd179698fa6babfee076c99a", "author": {"user": {"login": "humbleengineer", "name": null}}, "url": "https://github.com/apache/tinkerpop/commit/417a1eca335b3397cd179698fa6babfee076c99a", "committedDate": "2020-06-10T17:26:25Z", "message": "TINKERPOP-2264 update Python graphson tests to use calendar.timegm and utctimetuple when testing g:Date->datetime conversion - they were failing for some timezones/systems."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eca776983c02cf0298b706ec8ab92e8a49278085", "author": {"user": {"login": "humbleengineer", "name": null}}, "url": "https://github.com/apache/tinkerpop/commit/eca776983c02cf0298b706ec8ab92e8a49278085", "committedDate": "2020-06-10T17:29:39Z", "message": "EXPOSE secure port 45941 in gremlin-server Dockfile.template. Add -p arguments to docker run in gremlin-server.sh so that the ports are exposed on macos."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "146b95b08a73769daa6f3b024e927224cc3e0e8c", "author": {"user": {"login": "humbleengineer", "name": null}}, "url": "https://github.com/apache/tinkerpop/commit/146b95b08a73769daa6f3b024e927224cc3e0e8c", "committedDate": "2020-06-10T12:22:12Z", "message": "Revert gremlin-python pom.xml change of python executable name"}, "afterCommit": {"oid": "eca776983c02cf0298b706ec8ab92e8a49278085", "author": {"user": {"login": "humbleengineer", "name": null}}, "url": "https://github.com/apache/tinkerpop/commit/eca776983c02cf0298b706ec8ab92e8a49278085", "committedDate": "2020-06-10T17:29:39Z", "message": "EXPOSE secure port 45941 in gremlin-server Dockfile.template. Add -p arguments to docker run in gremlin-server.sh so that the ports are exposed on macos."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4347, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}