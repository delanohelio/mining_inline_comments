{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2Mzk2OTY4", "number": 1552, "title": "Make schemas back and forth compatible", "bodyText": "#1548 evidences issues that we have with our Schema Manager when customers go back and forth between versions (here on referred to as Version Fluidity) Thanks @rafikhan .\nThese are our options:\n\nWe can either take Firestore's stand of being lossless when customers migrate back and forth between versions.\nWe can take a systematic cleanup approach that deletes all state when clients are migrated to older versions.\n\nWe are leaning towards option 2\n\nGiven Firestore' s approach to preserve state, the advice from the API council was to take a similar approach.\nDeleting old data might make in intractable to use Firelog for some use cases going foward.\n\nDesign considerations\nWe have modified migrations (history), which is typically a red flag. However since we have modeled db creation as running all migrations(replaying history), there's not a cleaner way forward.\nModifications to existing migrations involves one of two things\n\nCreating tables only if they don't exist.\nAltering columns if they exist. Since there's no sql construct, we catch exceptions around the operation.\n\nVersion compatibility\nThe migrations and tests are no longer representative of this compatibility since we essentially changing history.\nVersion Fluidity matrix\n\n\n\n\n1\n2\n3\n4\n\n\n\n\n1\n\ud83d\ude10\n\u2705\n\u2705\n\u274c\n\n\n2\n\u2705\n\ud83d\ude10\n\u2705\n\u274c\n\n\n3\n\u2705\n\u2705\n\ud83d\ude10\n\u274c\n\n\n4\n\u274c\n\u274c\n\u274c\n\ud83d\ude10", "createdAt": "2020-05-11T23:15:14Z", "url": "https://github.com/firebase/firebase-android-sdk/pull/1552", "merged": true, "mergeCommit": {"oid": "376c25c6deda4368e707891fe7468c825d20a0bb"}, "closed": true, "closedAt": "2020-05-26T22:59:59Z", "author": {"login": "ashwinraghav"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgYMm0gBqjMzMjUxNDE3NzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclM2WFAFqTQxODczNDg5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "394a7c36066457d605dd7fef9e38817d27a67599", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/394a7c36066457d605dd7fef9e38817d27a67599", "committedDate": "2020-05-11T23:12:56Z", "message": "Making all migrations backward compatible"}, "afterCommit": {"oid": "76920cfefdedec7e0ce11e70e43b09aac4c104b6", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/76920cfefdedec7e0ce11e70e43b09aac4c104b6", "committedDate": "2020-05-11T23:21:52Z", "message": "Making all migrations backward compatible"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "76920cfefdedec7e0ce11e70e43b09aac4c104b6", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/76920cfefdedec7e0ce11e70e43b09aac4c104b6", "committedDate": "2020-05-11T23:21:52Z", "message": "Making all migrations backward compatible"}, "afterCommit": {"oid": "3f74e10b6fd35ca26d7c46e511b03bc8e946afbf", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/3f74e10b6fd35ca26d7c46e511b03bc8e946afbf", "committedDate": "2020-05-15T17:21:15Z", "message": "Merge branch 'master' into schemaManagerFix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3f74e10b6fd35ca26d7c46e511b03bc8e946afbf", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/3f74e10b6fd35ca26d7c46e511b03bc8e946afbf", "committedDate": "2020-05-15T17:21:15Z", "message": "Merge branch 'master' into schemaManagerFix"}, "afterCommit": {"oid": "521bc710c54ab7fbe9ab706913f47ea2a3dbb8d6", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/521bc710c54ab7fbe9ab706913f47ea2a3dbb8d6", "committedDate": "2020-05-15T17:22:26Z", "message": "Making all migrations backward compatible"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "521bc710c54ab7fbe9ab706913f47ea2a3dbb8d6", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/521bc710c54ab7fbe9ab706913f47ea2a3dbb8d6", "committedDate": "2020-05-15T17:22:26Z", "message": "Making all migrations backward compatible"}, "afterCommit": {"oid": "5edc50017f9ff8d5dad7868e7c5711241fbad3c0", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/5edc50017f9ff8d5dad7868e7c5711241fbad3c0", "committedDate": "2020-05-18T22:30:12Z", "message": "Making all migrations backward compatible"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb99d33dc64f165accb3d1d38379e622ac0307cd", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/fb99d33dc64f165accb3d1d38379e622ac0307cd", "committedDate": "2020-05-18T22:53:51Z", "message": "Added tests to reason about backward compatibility"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0e647c2e67db2619dd6fac3cfb2923e759589fa", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/c0e647c2e67db2619dd6fac3cfb2923e759589fa", "committedDate": "2020-05-18T22:53:51Z", "message": "Added state simulations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e97855cc3e5c52944a02f734f5f47421bd32dd7b", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/e97855cc3e5c52944a02f734f5f47421bd32dd7b", "committedDate": "2020-05-18T22:53:51Z", "message": "Making all migrations backward compatible"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5edc50017f9ff8d5dad7868e7c5711241fbad3c0", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/5edc50017f9ff8d5dad7868e7c5711241fbad3c0", "committedDate": "2020-05-18T22:30:12Z", "message": "Making all migrations backward compatible"}, "afterCommit": {"oid": "e97855cc3e5c52944a02f734f5f47421bd32dd7b", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/e97855cc3e5c52944a02f734f5f47421bd32dd7b", "committedDate": "2020-05-18T22:53:51Z", "message": "Making all migrations backward compatible"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65ab1bdfdadea2d0f336928335e086a49e2adbd5", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/65ab1bdfdadea2d0f336928335e086a49e2adbd5", "committedDate": "2020-05-18T23:02:31Z", "message": "GoogleJavaFormat"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3NDY5NjE0", "url": "https://github.com/firebase/firebase-android-sdk/pull/1552#pullrequestreview-417469614", "createdAt": "2020-05-25T05:53:00Z", "commit": {"oid": "65ab1bdfdadea2d0f336928335e086a49e2adbd5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQwNTo1MzowMFrOGZ1Y_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQwNTo1MzowMFrOGZ1Y_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0MjMzNQ==", "bodyText": "Hi.\nCrash is on the rise in our production due to problems related to this issue.\nWhen do you plan to be Merge?\nIt was confirmed that the v4 migration code was added on April 14. Our service version was up after that day, but errors started to appear that event_payloads already exists. What situations can event_payloads be already created?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1552#discussion_r429742335", "createdAt": "2020-05-25T05:53:00Z", "author": {"login": "LeeOhHyung"}, "path": "transport/transport-runtime/src/main/java/com/google/android/datatransport/runtime/scheduling/persistence/SchemaManager.java", "diffHunk": "@@ -47,34 +50,28 @@\n           + \"FOREIGN KEY (context_id) REFERENCES transport_contexts(_id) ON DELETE CASCADE)\";\n \n   private static final String CREATE_EVENT_METADATA_SQL_V1 =\n-      \"CREATE TABLE event_metadata \"\n+      \"CREATE TABLE IF NOT EXISTS event_metadata \"\n           + \"(_id INTEGER PRIMARY KEY,\"\n           + \" event_id INTEGER NOT NULL,\"\n           + \" name TEXT NOT NULL,\"\n           + \" value TEXT NOT NULL,\"\n           + \"FOREIGN KEY (event_id) REFERENCES events(_id) ON DELETE CASCADE)\";\n \n   private static final String CREATE_CONTEXTS_SQL_V1 =\n-      \"CREATE TABLE transport_contexts \"\n+      \"CREATE TABLE IF NOT EXISTS transport_contexts \"\n           + \"(_id INTEGER PRIMARY KEY,\"\n           + \" backend_name TEXT NOT NULL,\"\n           + \" priority INTEGER NOT NULL,\"\n           + \" next_request_ms INTEGER NOT NULL)\";\n \n   private static final String CREATE_EVENT_BACKEND_INDEX_V1 =\n-      \"CREATE INDEX events_backend_id on events(context_id)\";\n+      \"CREATE INDEX IF NOT EXISTS events_backend_id on events(context_id)\";\n \n   private static final String CREATE_CONTEXT_BACKEND_PRIORITY_INDEX_V1 =\n-      \"CREATE UNIQUE INDEX contexts_backend_priority on transport_contexts(backend_name, priority)\";\n-\n-  private static final String DROP_EVENTS_SQL = \"DROP TABLE events\";\n-\n-  private static final String DROP_EVENT_METADATA_SQL = \"DROP TABLE event_metadata\";\n-\n-  private static final String DROP_CONTEXTS_SQL = \"DROP TABLE transport_contexts\";\n+      \"CREATE UNIQUE INDEX IF NOT EXISTS contexts_backend_priority on transport_contexts(backend_name, priority)\";\n \n   private static final String CREATE_PAYLOADS_TABLE_V4 =\n-      \"CREATE TABLE event_payloads \"\n+      \"CREATE TABLE IF NOT EXISTS event_payloads \"\n           + \"(sequence_num INTEGER NOT NULL,\"\n           + \" event_id INTEGER NOT NULL,\"\n           + \" bytes BLOB NOT NULL,\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65ab1bdfdadea2d0f336928335e086a49e2adbd5"}, "originalPosition": 66}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NDkwNDk2", "url": "https://github.com/firebase/firebase-android-sdk/pull/1552#pullrequestreview-418490496", "createdAt": "2020-05-26T16:48:49Z", "commit": {"oid": "65ab1bdfdadea2d0f336928335e086a49e2adbd5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NTAwMTM3", "url": "https://github.com/firebase/firebase-android-sdk/pull/1552#pullrequestreview-418500137", "createdAt": "2020-05-26T17:01:02Z", "commit": {"oid": "65ab1bdfdadea2d0f336928335e086a49e2adbd5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3NzAwMDAy", "url": "https://github.com/firebase/firebase-android-sdk/pull/1552#pullrequestreview-417700002", "createdAt": "2020-05-25T13:09:28Z", "commit": {"oid": "65ab1bdfdadea2d0f336928335e086a49e2adbd5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxMzowOToyOFrOGaAnhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxMzoxNDo0NFrOGaAw3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkyNjI3OQ==", "bodyText": "What's the motivation for removing dropss?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1552#discussion_r429926279", "createdAt": "2020-05-25T13:09:28Z", "author": {"login": "vkryachko"}, "path": "transport/transport-runtime/src/main/java/com/google/android/datatransport/runtime/scheduling/persistence/SchemaManager.java", "diffHunk": "@@ -153,14 +170,7 @@ public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n   }\n \n   @Override\n-  public void onDowngrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n-    db.execSQL(DROP_EVENTS_SQL);\n-    db.execSQL(DROP_EVENT_METADATA_SQL);\n-    db.execSQL(DROP_CONTEXTS_SQL);\n-    // Indices are dropped automatically when the tables are dropped\n-\n-    onCreate(db);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65ab1bdfdadea2d0f336928335e086a49e2adbd5"}, "originalPosition": 131}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkyNjY1Mg==", "bodyText": "I think is its safer to call a drop here before create table, this will make sure the created table matches the expected schema.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1552#discussion_r429926652", "createdAt": "2020-05-25T13:10:18Z", "author": {"login": "vkryachko"}, "path": "transport/transport-runtime/src/main/java/com/google/android/datatransport/runtime/scheduling/persistence/SchemaManager.java", "diffHunk": "@@ -47,34 +50,28 @@\n           + \"FOREIGN KEY (context_id) REFERENCES transport_contexts(_id) ON DELETE CASCADE)\";\n \n   private static final String CREATE_EVENT_METADATA_SQL_V1 =\n-      \"CREATE TABLE event_metadata \"\n+      \"CREATE TABLE IF NOT EXISTS event_metadata \"\n           + \"(_id INTEGER PRIMARY KEY,\"\n           + \" event_id INTEGER NOT NULL,\"\n           + \" name TEXT NOT NULL,\"\n           + \" value TEXT NOT NULL,\"\n           + \"FOREIGN KEY (event_id) REFERENCES events(_id) ON DELETE CASCADE)\";\n \n   private static final String CREATE_CONTEXTS_SQL_V1 =\n-      \"CREATE TABLE transport_contexts \"\n+      \"CREATE TABLE IF NOT EXISTS transport_contexts \"\n           + \"(_id INTEGER PRIMARY KEY,\"\n           + \" backend_name TEXT NOT NULL,\"\n           + \" priority INTEGER NOT NULL,\"\n           + \" next_request_ms INTEGER NOT NULL)\";\n \n   private static final String CREATE_EVENT_BACKEND_INDEX_V1 =\n-      \"CREATE INDEX events_backend_id on events(context_id)\";\n+      \"CREATE INDEX IF NOT EXISTS events_backend_id on events(context_id)\";\n \n   private static final String CREATE_CONTEXT_BACKEND_PRIORITY_INDEX_V1 =\n-      \"CREATE UNIQUE INDEX contexts_backend_priority on transport_contexts(backend_name, priority)\";\n-\n-  private static final String DROP_EVENTS_SQL = \"DROP TABLE events\";\n-\n-  private static final String DROP_EVENT_METADATA_SQL = \"DROP TABLE event_metadata\";\n-\n-  private static final String DROP_CONTEXTS_SQL = \"DROP TABLE transport_contexts\";\n+      \"CREATE UNIQUE INDEX IF NOT EXISTS contexts_backend_priority on transport_contexts(backend_name, priority)\";\n \n   private static final String CREATE_PAYLOADS_TABLE_V4 =\n-      \"CREATE TABLE event_payloads \"\n+      \"CREATE TABLE IF NOT EXISTS event_payloads \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65ab1bdfdadea2d0f336928335e086a49e2adbd5"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkyNzUwMQ==", "bodyText": "It seems that most of these IF NOT EXISTS are redundant, the only place it matters is in event_payloads, also see my comment below regarding event_payloads.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1552#discussion_r429927501", "createdAt": "2020-05-25T13:12:11Z", "author": {"login": "vkryachko"}, "path": "transport/transport-runtime/src/main/java/com/google/android/datatransport/runtime/scheduling/persistence/SchemaManager.java", "diffHunk": "@@ -30,12 +31,14 @@\n   private boolean configured = false;\n \n   // Schema migration guidelines\n-  // 1. Model migration at Vn as an operation performed on the database at Vn-1.\n-  // 2. Append the migration to the ordered list of Migrations in the static initializer\n-  // 3. Write tests that cover the following scenarios migrating to Vn from V0..Vn-1\n+  // 1. Only migrations that are backward compatible are allowed. Developers may move back and forth\n+  // between versions\n+  // 2. Model migration at Vn as an operation performed on the database at Vn-1.\n+  // 3. Append the migration to the ordered list of Migrations in the static initializer\n+  // 4. Write tests that cover the following scenarios migrating to Vn from V0..Vn-1\n   // Note: Migrations handle only upgrades. Downgrades will drop and recreate all tables/indices.\n   private static final String CREATE_EVENTS_SQL_V1 =\n-      \"CREATE TABLE events \"\n+      \"CREATE TABLE IF NOT EXISTS events \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65ab1bdfdadea2d0f336928335e086a49e2adbd5"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkyODY3MQ==", "bodyText": "@LeeOhHyung the situation arises if you have datatransport version 2.2.2 in you app, then downgrade to 2.2.1 and then back to 2.2.2.\nThe plan is to fix it asap.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1552#discussion_r429928671", "createdAt": "2020-05-25T13:14:44Z", "author": {"login": "vkryachko"}, "path": "transport/transport-runtime/src/main/java/com/google/android/datatransport/runtime/scheduling/persistence/SchemaManager.java", "diffHunk": "@@ -47,34 +50,28 @@\n           + \"FOREIGN KEY (context_id) REFERENCES transport_contexts(_id) ON DELETE CASCADE)\";\n \n   private static final String CREATE_EVENT_METADATA_SQL_V1 =\n-      \"CREATE TABLE event_metadata \"\n+      \"CREATE TABLE IF NOT EXISTS event_metadata \"\n           + \"(_id INTEGER PRIMARY KEY,\"\n           + \" event_id INTEGER NOT NULL,\"\n           + \" name TEXT NOT NULL,\"\n           + \" value TEXT NOT NULL,\"\n           + \"FOREIGN KEY (event_id) REFERENCES events(_id) ON DELETE CASCADE)\";\n \n   private static final String CREATE_CONTEXTS_SQL_V1 =\n-      \"CREATE TABLE transport_contexts \"\n+      \"CREATE TABLE IF NOT EXISTS transport_contexts \"\n           + \"(_id INTEGER PRIMARY KEY,\"\n           + \" backend_name TEXT NOT NULL,\"\n           + \" priority INTEGER NOT NULL,\"\n           + \" next_request_ms INTEGER NOT NULL)\";\n \n   private static final String CREATE_EVENT_BACKEND_INDEX_V1 =\n-      \"CREATE INDEX events_backend_id on events(context_id)\";\n+      \"CREATE INDEX IF NOT EXISTS events_backend_id on events(context_id)\";\n \n   private static final String CREATE_CONTEXT_BACKEND_PRIORITY_INDEX_V1 =\n-      \"CREATE UNIQUE INDEX contexts_backend_priority on transport_contexts(backend_name, priority)\";\n-\n-  private static final String DROP_EVENTS_SQL = \"DROP TABLE events\";\n-\n-  private static final String DROP_EVENT_METADATA_SQL = \"DROP TABLE event_metadata\";\n-\n-  private static final String DROP_CONTEXTS_SQL = \"DROP TABLE transport_contexts\";\n+      \"CREATE UNIQUE INDEX IF NOT EXISTS contexts_backend_priority on transport_contexts(backend_name, priority)\";\n \n   private static final String CREATE_PAYLOADS_TABLE_V4 =\n-      \"CREATE TABLE event_payloads \"\n+      \"CREATE TABLE IF NOT EXISTS event_payloads \"\n           + \"(sequence_num INTEGER NOT NULL,\"\n           + \" event_id INTEGER NOT NULL,\"\n           + \" bytes BLOB NOT NULL,\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0MjMzNQ=="}, "originalCommit": {"oid": "65ab1bdfdadea2d0f336928335e086a49e2adbd5"}, "originalPosition": 66}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0422a0dec15de8c0b1e4c801d0e4c82e65eb792b", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/0422a0dec15de8c0b1e4c801d0e4c82e65eb792b", "committedDate": "2020-05-26T21:47:37Z", "message": "minimizing change scope"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a82b6f87a37fd106739f0a499ac464b9b7df208e", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/a82b6f87a37fd106739f0a499ac464b9b7df208e", "committedDate": "2020-05-26T22:04:28Z", "message": "Removing alters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c00efb025c0aec50bfa95ba70dd2e8fbe94a37f", "author": {"user": {"login": "ashwinraghav", "name": "Ashwin Raghav"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/7c00efb025c0aec50bfa95ba70dd2e8fbe94a37f", "committedDate": "2020-05-26T22:06:28Z", "message": "dropping if exists"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NzM0ODkz", "url": "https://github.com/firebase/firebase-android-sdk/pull/1552#pullrequestreview-418734893", "createdAt": "2020-05-26T22:59:30Z", "commit": {"oid": "7c00efb025c0aec50bfa95ba70dd2e8fbe94a37f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2668, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}