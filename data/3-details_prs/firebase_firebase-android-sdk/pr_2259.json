{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQwNjI1ODQ1", "number": 2259, "title": "Added FirebaseMlException and Logging round 1.", "bodyText": "", "createdAt": "2020-12-15T19:37:32Z", "url": "https://github.com/firebase/firebase-android-sdk/pull/2259", "merged": true, "mergeCommit": {"oid": "cdf06e2cca9d2a7c8ca022f7b901b0ab207cb2d4"}, "closed": true, "closedAt": "2021-01-06T19:07:03Z", "author": {"login": "annzimmer"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmfEt5AH2gAyNTQwNjI1ODQ1OmZjNDMwN2I3MDBlZWJiN2Y5YzM0ZjQxNzYwNjEwZDQxZjcxMjk0YTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdtjCIdAH2gAyNTQwNjI1ODQ1OmY0ZDg1ZThhNGQ2OWY4YzljYmUzYTEzMmExNTVkNjc5MmM4YjNmZDk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fc4307b700eebb7f9c34f41760610d41f71294a4", "author": {"user": {"login": "annzimmer", "name": "Ann Z"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/fc4307b700eebb7f9c34f41760610d41f71294a4", "committedDate": "2020-12-15T18:58:34Z", "message": "Added FirebaseMlException and Logging round 1."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b496949b69f82787ce1913f1d0c5bf9c57fdbf4", "author": {"user": {"login": "annzimmer", "name": "Ann Z"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/2b496949b69f82787ce1913f1d0c5bf9c57fdbf4", "committedDate": "2020-12-15T19:54:06Z", "message": "Updating files per failed tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cae37486065c0738a57e917600f133ff5cd24d4", "author": {"user": {"login": "annzimmer", "name": "Ann Z"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/5cae37486065c0738a57e917600f133ff5cd24d4", "committedDate": "2020-12-15T20:42:02Z", "message": "Fixing to single junit."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c80a09c9a626a10cca11d7da57bd50c4db301a9", "author": {"user": {"login": "annzimmer", "name": "Ann Z"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/7c80a09c9a626a10cca11d7da57bd50c4db301a9", "committedDate": "2020-12-17T20:32:23Z", "message": "Updates FirebaseMlLogEvent ModelOption name to Options to make internal proto. This allows for proper json to proto conversion and in local tests messages now reach the spanner queue."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxOTA1NTEz", "url": "https://github.com/firebase/firebase-android-sdk/pull/2259#pullrequestreview-561905513", "createdAt": "2021-01-05T15:50:44Z", "commit": {"oid": "7c80a09c9a626a10cca11d7da57bd50c4db301a9"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxNTo1MDo0NFrOIOci9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxNjoxODowOVrOIOdqWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjAxODY3OA==", "bodyText": "add option 'lite' (see firebase-firestore.gradle )", "url": "https://github.com/firebase/firebase-android-sdk/pull/2259#discussion_r552018678", "createdAt": "2021-01-05T15:50:44Z", "author": {"login": "rlazo"}, "path": "firebase-ml-modeldownloader/firebase-ml-modeldownloader.gradle", "diffHunk": "@@ -14,13 +14,29 @@\n \n plugins {\n     id 'firebase-library'\n+    id 'com.google.protobuf'\n }\n \n firebaseLibrary {\n     testLab.enabled = false\n     publishJavadoc = false\n }\n \n+protobuf {\n+    // Configure the protoc executable\n+    protoc {\n+        // Download from repositories\n+        artifact = \"com.google.protobuf:protoc:$protocVersion\"\n+    }\n+    generateProtoTasks {\n+        all().each { task ->\n+            task.builtins {\n+                java { }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c80a09c9a626a10cca11d7da57bd50c4db301a9"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjAxODk1Nw==", "bodyText": "any reason to move away from the common version?", "url": "https://github.com/firebase/firebase-android-sdk/pull/2259#discussion_r552018957", "createdAt": "2021-01-05T15:51:11Z", "author": {"login": "rlazo"}, "path": "firebase-ml-modeldownloader/firebase-ml-modeldownloader.gradle", "diffHunk": "@@ -43,25 +59,39 @@ android {\n }\n \n dependencies {\n+    implementation project(':encoders:firebase-encoders')\n+    implementation project(':encoders:firebase-encoders-json')\n     implementation project(':firebase-common')\n     implementation project(':firebase-components')\n+    implementation project(':firebase-datatransport')\n     implementation project(':firebase-installations-interop')\n+    implementation project(':transport:transport-api')\n+    implementation project(':transport:transport-runtime')\n     runtimeOnly project(':firebase-installations')\n \n+    implementation 'androidx.annotation:annotation:1.1.0'\n     implementation 'com.google.android.gms:play-services-tasks:17.2.0'\n     implementation 'com.google.auto.service:auto-service-annotations:1.0-rc6'\n     implementation 'javax.inject:javax.inject:1'\n \n     compileOnly \"com.google.auto.value:auto-value-annotations:1.6.6\"\n     annotationProcessor \"com.google.auto.value:auto-value:1.6.5\"\n+    annotationProcessor project(\":encoders:firebase-encoders-processor\")\n \n     testImplementation 'androidx.test:core:1.3.0'\n     testImplementation 'com.github.tomakehurst:wiremock-standalone:2.26.3'\n-    testImplementation \"com.google.truth:truth:$googleTruthVersion\"\n-    testImplementation 'junit:junit:4.13.1'\n+    testImplementation \"com.google.truth:truth:1.0.1\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c80a09c9a626a10cca11d7da57bd50c4db301a9"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjAzNjk1NQ==", "bodyText": "missing javadoc", "url": "https://github.com/firebase/firebase-android-sdk/pull/2259#discussion_r552036955", "createdAt": "2021-01-05T16:18:09Z", "author": {"login": "rlazo"}, "path": "firebase-ml-modeldownloader/src/main/java/com/google/firebase/ml/modeldownloader/internal/SharedPreferencesUtil.java", "diffHunk": "@@ -244,6 +250,68 @@ public synchronized void clearModelDetails(@NonNull String modelName) {\n     return customModels;\n   }\n \n+  /**\n+   * Should Firelog logging be enabled.\n+   *\n+   * @return whether or not firelog events should be logged. Default to true.\n+   */\n+  public synchronized boolean getCustomModelStatsCollectionFlag() {\n+    return getSharedPreferences()\n+        .getBoolean(\n+            String.format(EVENT_LOGGING_ENABLED_PATTERN, CUSTOM_MODEL_LIB, persistenceKey), true);\n+  }\n+\n+  /**\n+   * Set whether firelog logging should be enabled. When not explicitly set, the default is true.\n+   *\n+   * @param enable - False to turn off logging. True to turn on logging.\n+   */\n+  public synchronized void setCustomModelStatsCollectionEnabled(boolean enable) {\n+    getSharedPreferences()\n+        .edit()\n+        .putBoolean(\n+            String.format(EVENT_LOGGING_ENABLED_PATTERN, CUSTOM_MODEL_LIB, persistenceKey), enable)\n+        .apply();\n+  }\n+\n+  public synchronized long getModelDownloadBeginTimeMs(@NonNull CustomModel customModel) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c80a09c9a626a10cca11d7da57bd50c4db301a9"}, "originalPosition": 50}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b1e244e6bc85495170b7ddd0e4d9a3f7df13eb0", "author": {"user": {"login": "annzimmer", "name": "Ann Z"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/3b1e244e6bc85495170b7ddd0e4d9a3f7df13eb0", "committedDate": "2021-01-05T17:05:23Z", "message": "Add ability to get download id for file progress tracking."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6aa3bb1ac4cb992695524a359ef2135f1cf2dd5b", "author": {"user": {"login": "annzimmer", "name": "Ann Z"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/6aa3bb1ac4cb992695524a359ef2135f1cf2dd5b", "committedDate": "2021-01-05T20:42:20Z", "message": "removing androidTestImplementation - these are not used."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyNzkxNzE0", "url": "https://github.com/firebase/firebase-android-sdk/pull/2259#pullrequestreview-562791714", "createdAt": "2021-01-06T15:18:36Z", "commit": {"oid": "6aa3bb1ac4cb992695524a359ef2135f1cf2dd5b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4d85e8a4d69f8c9cbe3a132a155d6792c8b3fd9", "author": {"user": {"login": "annzimmer", "name": "Ann Z"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/f4d85e8a4d69f8c9cbe3a132a155d6792c8b3fd9", "committedDate": "2021-01-06T17:32:50Z", "message": "Merge branch 'master' into mlLogging2"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2348, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}