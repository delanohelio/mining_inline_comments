{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3MDIwNjM3", "number": 1409, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNToxMDowOVrODtk6ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNToxMDowOVrODtk6ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MTE3MzcwOnYy", "diffSide": "LEFT", "path": "firebase-installations/customer-lint-checks/src/main/java/com/google/firebase/installations/lint/IncompatibleIidVersionDetector.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNToxMDowOVrOF_FRnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNzo1OTowOFrOF_MPeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY5MTAzNg==", "bodyText": "Worth unit testing", "url": "https://github.com/firebase/firebase-android-sdk/pull/1409#discussion_r401691036", "createdAt": "2020-04-01T15:10:09Z", "author": {"login": "ashwinraghav"}, "path": "firebase-installations/customer-lint-checks/src/main/java/com/google/firebase/installations/lint/IncompatibleIidVersionDetector.kt", "diffHunk": "@@ -68,18 +81,45 @@ class IncompatibleIidVersionDetector : Detector() {\n         }\n     }\n \n+    private fun getVariants(project: Project): List<Variant> {\n+        if (!project.isGradleProject) {\n+            return listOf()\n+        }\n+\n+        // using reflection here due to breaking change in lint-api 26.6.0 that changed the return type\n+        // of getGradleProject()\n+        val method = project.javaClass.getMethod(\"getGradleProjectModel\")\n+        method.isAccessible = true\n+        val model = method.invoke(project)\n+        val variantsMethod = model.javaClass.getMethod(\"getVariants\")\n+        variantsMethod.isAccessible = true\n+        return variantsMethod.invoke(model) as List<Variant>\n+    }\n+\n     private fun isCompatibleVersion(coordinates: MavenCoordinates): Boolean {\n         val versionComponents = coordinates.version.split('.', limit = 3).toTypedArray()\n \n         // Incompatible if major version is before v20\n-        if (20 > versionComponents.get(0).toInt()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "35d2d8a1535882aee66a15aab7eabfe5bd918dc9"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTgwNTE3Ng==", "bodyText": "Done", "url": "https://github.com/firebase/firebase-android-sdk/pull/1409#discussion_r401805176", "createdAt": "2020-04-01T17:59:08Z", "author": {"login": "vkryachko"}, "path": "firebase-installations/customer-lint-checks/src/main/java/com/google/firebase/installations/lint/IncompatibleIidVersionDetector.kt", "diffHunk": "@@ -68,18 +81,45 @@ class IncompatibleIidVersionDetector : Detector() {\n         }\n     }\n \n+    private fun getVariants(project: Project): List<Variant> {\n+        if (!project.isGradleProject) {\n+            return listOf()\n+        }\n+\n+        // using reflection here due to breaking change in lint-api 26.6.0 that changed the return type\n+        // of getGradleProject()\n+        val method = project.javaClass.getMethod(\"getGradleProjectModel\")\n+        method.isAccessible = true\n+        val model = method.invoke(project)\n+        val variantsMethod = model.javaClass.getMethod(\"getVariants\")\n+        variantsMethod.isAccessible = true\n+        return variantsMethod.invoke(model) as List<Variant>\n+    }\n+\n     private fun isCompatibleVersion(coordinates: MavenCoordinates): Boolean {\n         val versionComponents = coordinates.version.split('.', limit = 3).toTypedArray()\n \n         // Incompatible if major version is before v20\n-        if (20 > versionComponents.get(0).toInt()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY5MTAzNg=="}, "originalCommit": {"oid": "35d2d8a1535882aee66a15aab7eabfe5bd918dc9"}, "originalPosition": 70}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1432, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}