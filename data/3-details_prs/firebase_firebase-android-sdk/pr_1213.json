{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyMDUwNzky", "number": 1213, "title": "Adding @hide annotation to cleanly document FIS SDK.", "bodyText": "", "createdAt": "2020-02-06T18:37:41Z", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213", "merged": true, "mergeCommit": {"oid": "443d6e74da404925b15cc0b62963584c537e23ef"}, "closed": true, "closedAt": "2020-02-06T20:29:48Z", "author": {"login": "ankitaj224"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBun1cgH2gAyMzcyMDUwNzkyOjQyODNhMmJiM2I0NDM0NTEwZTA2MWEwZDljNGIwODA1OTU2NThjMmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBwtl_gFqTM1NDc0NzMzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4283a2bb3b4434510e061a0d9c4b080595658c2a", "author": {"user": {"login": "ankitaj224", "name": "Ankita"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/4283a2bb3b4434510e061a0d9c4b080595658c2a", "committedDate": "2020-02-06T17:59:09Z", "message": "Dropping guava and appcompat dependency from FIS SDK."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "984884cd6f9a90a8172d0957bd13e68e3f06db2f", "author": {"user": {"login": "ankitaj224", "name": "Ankita"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/984884cd6f9a90a8172d0957bd13e68e3f06db2f", "committedDate": "2020-02-06T18:16:08Z", "message": "Merge branch 'master' of github.com:firebase/firebase-android-sdk"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca3d26ccd23855aed2d136d3643800be7b93de85", "author": {"user": {"login": "ankitaj224", "name": "Ankita"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/ca3d26ccd23855aed2d136d3643800be7b93de85", "committedDate": "2020-02-06T18:33:54Z", "message": "Adding @hide annotation to cleanly document FIS SDK."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b0554e965284124151203abfcfb8db19fd4a062", "author": {"user": {"login": "ankitaj224", "name": "Ankita"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/9b0554e965284124151203abfcfb8db19fd4a062", "committedDate": "2020-02-06T18:35:50Z", "message": "Formatting the files."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NjgyMDg5", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213#pullrequestreview-354682089", "createdAt": "2020-02-06T18:40:48Z", "commit": {"oid": "9b0554e965284124151203abfcfb8db19fd4a062"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxODo0MDo0OFrOFml_TQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxODo0MDo0OFrOFml_TQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjAxMjYyMQ==", "bodyText": "@vkryachko Should the class members also be public to be documented on firebase site?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213#discussion_r376012621", "createdAt": "2020-02-06T18:40:48Z", "author": {"login": "ankitaj224"}, "path": "firebase-installations-interop/src/main/java/com/google/firebase/installations/FirebaseInstallationsApi.java", "diffHunk": "@@ -47,15 +46,18 @@\n    * Async function that returns a globally unique identifier of this Firebase app installation.\n    * This is a url-safe base64 string of a 128-bit integer.\n    */\n+  @NonNull\n   Task<String> getId();\n \n   /** Async function that returns a auth token(public key) of this Firebase app installation. */\n+  @NonNull\n   Task<InstallationTokenResult> getToken(@AuthTokenOption int authTokenOption);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b0554e965284124151203abfcfb8db19fd4a062"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NjgzMzky", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213#pullrequestreview-354683392", "createdAt": "2020-02-06T18:42:50Z", "commit": {"oid": "9b0554e965284124151203abfcfb8db19fd4a062"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxODo0Mjo1MFrOFmmDSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxODo0Mjo1MFrOFmmDSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjAxMzY0MA==", "bodyText": "I think you'd want to hide this interface and instead have FirebaseInstallations exposed. This is consistent with how iid has it documented.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213#discussion_r376013640", "createdAt": "2020-02-06T18:42:50Z", "author": {"login": "vkryachko"}, "path": "firebase-installations-interop/api.txt", "diffHunk": "@@ -1,6 +1,17 @@\n // Signature format: 2.0\n package com.google.firebase.installations {\n \n+  public interface FirebaseInstallationsApi {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b0554e965284124151203abfcfb8db19fd4a062"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ab0c6fb472069a0ffd8c8a1c68ce20185b927ba", "author": {"user": {"login": "ankitaj224", "name": "Ankita"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/2ab0c6fb472069a0ffd8c8a1c68ce20185b927ba", "committedDate": "2020-02-06T18:56:54Z", "message": "Addressing Vlad's comments."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NjgxMDYw", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213#pullrequestreview-354681060", "createdAt": "2020-02-06T18:39:14Z", "commit": {"oid": "9b0554e965284124151203abfcfb8db19fd4a062"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxODozOToxNVrOFml8Tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxODozOToxNVrOFml8Tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjAxMTg1NQ==", "bodyText": "Why is FirebaseInstallations hidden?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213#discussion_r376011855", "createdAt": "2020-02-06T18:39:15Z", "author": {"login": "diwu-arete"}, "path": "firebase-installations/src/main/java/com/google/firebase/installations/FirebaseInstallations.java", "diffHunk": "@@ -57,6 +57,8 @@\n  *   <li>provide auth token of a Firebase installation\n  *   <li>provide a API to GDPR-delete a Firebase installation\n  * </ul>\n+ *\n+ * @hide", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b0554e965284124151203abfcfb8db19fd4a062"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NzAwNzQy", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213#pullrequestreview-354700742", "createdAt": "2020-02-06T19:09:58Z", "commit": {"oid": "2ab0c6fb472069a0ffd8c8a1c68ce20185b927ba"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxOTowOTo1OVrOFmm3mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxOTowOTo1OVrOFmm3mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjAyNzAzNA==", "bodyText": "Hide this package as well?\nafaict from your api review, the only approved api is the following:\npublic abstract class InstallationTokenResult {\n    ctor public InstallationTokenResult();\n\n    // not part of api review, remove pls\n    // method @NonNull public static com.google.firebase.installations.InstallationTokenResult.Builder builder();\n    method @NonNull public abstract String getToken();\n    method @NonNull public abstract long getTokenCreationTimestamp();\n    method @NonNull public abstract long getTokenExpirationTimestamp();\n\n    // not part of api review, remove pls\n    // method @NonNull public abstract com.google.firebase.installations.InstallationTokenResult.Builder toBuilder();\n  }\n\npublic class FirebaseInstallations implements com.google.firebase.installations.FirebaseInstallationsApi {\n    method @NonNull public com.google.android.gms.tasks.Task<java.lang.Void> delete();\n    method @NonNull public com.google.android.gms.tasks.Task<java.lang.String> getId();\n    method @NonNull public static com.google.firebase.installations.FirebaseInstallations getInstance();\n    method @NonNull public static com.google.firebase.installations.FirebaseInstallations getInstance(@NonNull com.google.firebase.FirebaseApp);\n\n    // I think this should take a boolean as an argument according to your api review. pls confirm\n    method @NonNull public com.google.android.gms.tasks.Task<com.google.firebase.installations.InstallationTokenResult> getToken(@com.google.firebase.installations.FirebaseInstallationsApi.AuthTokenOption int);\n  }\n\nEverything else should be hidden afaict.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213#discussion_r376027034", "createdAt": "2020-02-06T19:09:59Z", "author": {"login": "vkryachko"}, "path": "firebase-installations/api.txt", "diffHunk": "@@ -20,110 +20,10 @@ package com.google.firebase.installations {\n     enum_constant public static final com.google.firebase.installations.FirebaseInstallationsException.Status BAD_CONFIG;\n   }\n \n-  public class RandomFidGenerator {\n-    ctor public RandomFidGenerator();\n-    method @NonNull public String createRandomFid();\n-  }\n-\n-}\n-\n-package com.google.firebase.installations.local {\n-\n-  public class IidStore {\n-    ctor public IidStore(@NonNull com.google.firebase.FirebaseApp);\n-    method @Nullable public String readIid();\n-    method @Nullable public String readToken();\n-  }\n-\n-  public class PersistedInstallation {\n-    ctor public PersistedInstallation(@NonNull com.google.firebase.FirebaseApp);\n-    method public void clearForTesting();\n-    method @NonNull public com.google.firebase.installations.local.PersistedInstallationEntry insertOrUpdatePersistedInstallationEntry(@NonNull com.google.firebase.installations.local.PersistedInstallationEntry);\n-    method @NonNull public com.google.firebase.installations.local.PersistedInstallationEntry readPersistedInstallationEntryValue();\n-  }\n-\n-  public enum PersistedInstallation.RegistrationStatus {\n-    enum_constant public static final com.google.firebase.installations.local.PersistedInstallation.RegistrationStatus ATTEMPT_MIGRATION;\n-    enum_constant public static final com.google.firebase.installations.local.PersistedInstallation.RegistrationStatus NOT_GENERATED;\n-    enum_constant public static final com.google.firebase.installations.local.PersistedInstallation.RegistrationStatus REGISTERED;\n-    enum_constant public static final com.google.firebase.installations.local.PersistedInstallation.RegistrationStatus REGISTER_ERROR;\n-    enum_constant public static final com.google.firebase.installations.local.PersistedInstallation.RegistrationStatus UNREGISTERED;\n-  }\n-\n-  public abstract class PersistedInstallationEntry {\n-    ctor public PersistedInstallationEntry();\n-    method @NonNull public static com.google.firebase.installations.local.PersistedInstallationEntry.Builder builder();\n-    method @Nullable public abstract String getAuthToken();\n-    method public abstract long getExpiresInSecs();\n-    method @Nullable public abstract String getFirebaseInstallationId();\n-    method @Nullable public abstract String getFisError();\n-    method @Nullable public abstract String getRefreshToken();\n-    method @NonNull public abstract com.google.firebase.installations.local.PersistedInstallation.RegistrationStatus getRegistrationStatus();\n-    method public abstract long getTokenCreationEpochInSecs();\n-    method public boolean isErrored();\n-    method public boolean isNotGenerated();\n-    method public boolean isRegistered();\n-    method public boolean isUnregistered();\n-    method public boolean shouldAttemptMigration();\n-    method @NonNull public abstract com.google.firebase.installations.local.PersistedInstallationEntry.Builder toBuilder();\n-    method @NonNull public com.google.firebase.installations.local.PersistedInstallationEntry withAuthToken(@NonNull String, long, long);\n-    method @NonNull public com.google.firebase.installations.local.PersistedInstallationEntry withClearedAuthToken();\n-    method @NonNull public com.google.firebase.installations.local.PersistedInstallationEntry withFisError(@NonNull String);\n-    method @NonNull public com.google.firebase.installations.local.PersistedInstallationEntry withNoGeneratedFid();\n-    method @NonNull public com.google.firebase.installations.local.PersistedInstallationEntry withRegisteredFid(@NonNull String, @NonNull String, long, @Nullable String, long);\n-    method @NonNull public com.google.firebase.installations.local.PersistedInstallationEntry withUnregisteredFid(@NonNull String);\n-    field @NonNull public static com.google.firebase.installations.local.PersistedInstallationEntry INSTANCE;\n-  }\n-\n-  public abstract static class PersistedInstallationEntry.Builder {\n-    ctor public PersistedInstallationEntry.Builder();\n-    method @NonNull public abstract com.google.firebase.installations.local.PersistedInstallationEntry build();\n-    method @NonNull public abstract com.google.firebase.installations.local.PersistedInstallationEntry.Builder setAuthToken(@Nullable String);\n-    method @NonNull public abstract com.google.firebase.installations.local.PersistedInstallationEntry.Builder setExpiresInSecs(long);\n-    method @NonNull public abstract com.google.firebase.installations.local.PersistedInstallationEntry.Builder setFirebaseInstallationId(@NonNull String);\n-    method @NonNull public abstract com.google.firebase.installations.local.PersistedInstallationEntry.Builder setFisError(@Nullable String);\n-    method @NonNull public abstract com.google.firebase.installations.local.PersistedInstallationEntry.Builder setRefreshToken(@Nullable String);\n-    method @NonNull public abstract com.google.firebase.installations.local.PersistedInstallationEntry.Builder setRegistrationStatus(@NonNull com.google.firebase.installations.local.PersistedInstallation.RegistrationStatus);\n-    method @NonNull public abstract com.google.firebase.installations.local.PersistedInstallationEntry.Builder setTokenCreationEpochInSecs(long);\n-  }\n-\n }\n \n package com.google.firebase.installations.remote {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ab0c6fb472069a0ffd8c8a1c68ce20185b927ba"}, "originalPosition": 73}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "787fd19dd59319be176b7e395d2c85690f99ae19", "author": {"user": {"login": "ankitaj224", "name": "Ankita"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/787fd19dd59319be176b7e395d2c85690f99ae19", "committedDate": "2020-02-06T19:22:42Z", "message": "Updating the api.txt as per the API review."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NzEzMzQy", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213#pullrequestreview-354713342", "createdAt": "2020-02-06T19:29:41Z", "commit": {"oid": "787fd19dd59319be176b7e395d2c85690f99ae19"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxOToyOTo0MVrOFmndjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxOTozMjowOVrOFmnisw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjAzNjc0OQ==", "bodyText": "I think getToken() was part of the API-reviewed, no?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213#discussion_r376036749", "createdAt": "2020-02-06T19:29:41Z", "author": {"login": "vkryachko"}, "path": "firebase-installations-interop/src/main/java/com/google/firebase/installations/InstallationTokenResult.java", "diffHunk": "@@ -21,30 +21,44 @@\n @AutoValue\n public abstract class InstallationTokenResult {\n \n-  /** A new FIS Auth-Token, created for this Firebase Installation. */\n+  /**\n+   * A new FIS Auth-Token, created for this Firebase Installation.\n+   *\n+   * @hide", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "787fd19dd59319be176b7e395d2c85690f99ae19"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjAzODA2Nw==", "bodyText": "This one was part of API review as well, although there you called it getExpirationTimestamp().\nOverall I'd suggest you go through all API's and compare them with the API review, thanks.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213#discussion_r376038067", "createdAt": "2020-02-06T19:32:09Z", "author": {"login": "vkryachko"}, "path": "firebase-installations-interop/src/main/java/com/google/firebase/installations/InstallationTokenResult.java", "diffHunk": "@@ -21,30 +21,44 @@\n @AutoValue\n public abstract class InstallationTokenResult {\n \n-  /** A new FIS Auth-Token, created for this Firebase Installation. */\n+  /**\n+   * A new FIS Auth-Token, created for this Firebase Installation.\n+   *\n+   * @hide\n+   */\n   @NonNull\n   public abstract String getToken();\n   /**\n    * The amount of time, in seconds, before the auth-token expires for this Firebase Installation.\n+   *\n+   * @hide\n    */\n   @NonNull\n   public abstract long getTokenExpirationTimestamp();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "787fd19dd59319be176b7e395d2c85690f99ae19"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f193d914453582788ce87efe8cf17e56ba96cb5", "author": {"user": {"login": "ankitaj224", "name": "Ankita"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/0f193d914453582788ce87efe8cf17e56ba96cb5", "committedDate": "2020-02-06T19:43:43Z", "message": "Minor changes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efbcd579948617982da6eb53d168985b24cb12e8", "author": {"user": {"login": "ankitaj224", "name": "Ankita"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/efbcd579948617982da6eb53d168985b24cb12e8", "committedDate": "2020-02-06T20:11:33Z", "message": "Update FIS SDK to align with the API review."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NzQzNDg2", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213#pullrequestreview-354743486", "createdAt": "2020-02-06T20:18:31Z", "commit": {"oid": "efbcd579948617982da6eb53d168985b24cb12e8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NzQ0Njc1", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213#pullrequestreview-354744675", "createdAt": "2020-02-06T20:20:35Z", "commit": {"oid": "efbcd579948617982da6eb53d168985b24cb12e8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NzQ3MzM5", "url": "https://github.com/firebase/firebase-android-sdk/pull/1213#pullrequestreview-354747339", "createdAt": "2020-02-06T20:25:15Z", "commit": {"oid": "efbcd579948617982da6eb53d168985b24cb12e8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2312, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}