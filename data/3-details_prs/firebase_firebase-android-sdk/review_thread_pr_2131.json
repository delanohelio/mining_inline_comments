{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0Mzk0OTIz", "number": 2131, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMDo1NjoxMlrOE0nwDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMDo1NzowN1rOE0nxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNjEyNjg0OnYy", "diffSide": "RIGHT", "path": "transport/transport-backend-cct/src/main/java/com/google/android/datatransport/cct/CctTransportBackend.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMDo1NjoxMlrOHsc5qA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxNToyNjoyOVrOHsz_mQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjM3MjkwNA==", "bodyText": "For completeness, should we call it packageVersionCode?", "url": "https://github.com/firebase/firebase-android-sdk/pull/2131#discussion_r516372904", "createdAt": "2020-11-03T00:56:12Z", "author": {"login": "visumickey"}, "path": "transport/transport-backend-cct/src/main/java/com/google/android/datatransport/cct/CctTransportBackend.java", "diffHunk": "@@ -130,6 +133,20 @@ private static TelephonyManager getTelephonyManager(Context context) {\n     return (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n   }\n \n+  private static int getVersionCode(Context context) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdb2ef9de80b097562c47d7ccec87b5f76baff98"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjc1MTI1Nw==", "bodyText": "Sounds good! Fixed.", "url": "https://github.com/firebase/firebase-android-sdk/pull/2131#discussion_r516751257", "createdAt": "2020-11-03T15:26:29Z", "author": {"login": "jeremyjiang-dev"}, "path": "transport/transport-backend-cct/src/main/java/com/google/android/datatransport/cct/CctTransportBackend.java", "diffHunk": "@@ -130,6 +133,20 @@ private static TelephonyManager getTelephonyManager(Context context) {\n     return (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n   }\n \n+  private static int getVersionCode(Context context) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjM3MjkwNA=="}, "originalCommit": {"oid": "cdb2ef9de80b097562c47d7ccec87b5f76baff98"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNjEyOTgyOnYy", "diffSide": "RIGHT", "path": "transport/transport-backend-cct/src/main/java/com/google/android/datatransport/cct/CctTransportBackend.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMDo1NzowN1rOHsc7aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxNToyNjoyNVrOHsz_Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjM3MzM1NQ==", "bodyText": "Do you want to qualify this error a bit better? \"Unable to find version code for package - \". This would enable the developer fix quickly rather than being too abstract.", "url": "https://github.com/firebase/firebase-android-sdk/pull/2131#discussion_r516373355", "createdAt": "2020-11-03T00:57:07Z", "author": {"login": "visumickey"}, "path": "transport/transport-backend-cct/src/main/java/com/google/android/datatransport/cct/CctTransportBackend.java", "diffHunk": "@@ -130,6 +133,20 @@ private static TelephonyManager getTelephonyManager(Context context) {\n     return (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n   }\n \n+  private static int getVersionCode(Context context) {\n+    try {\n+      int packageVersionCode =\n+          context\n+              .getPackageManager()\n+              .getPackageInfo(context.getPackageName(), /* flags= */ 0)\n+              .versionCode;\n+      return packageVersionCode;\n+    } catch (PackageManager.NameNotFoundException e) {\n+      Logging.e(LOG_TAG, \"Couldn't find version code\", e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdb2ef9de80b097562c47d7ccec87b5f76baff98"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjc1MTIwMw==", "bodyText": "Sounds good! Fixed.", "url": "https://github.com/firebase/firebase-android-sdk/pull/2131#discussion_r516751203", "createdAt": "2020-11-03T15:26:25Z", "author": {"login": "jeremyjiang-dev"}, "path": "transport/transport-backend-cct/src/main/java/com/google/android/datatransport/cct/CctTransportBackend.java", "diffHunk": "@@ -130,6 +133,20 @@ private static TelephonyManager getTelephonyManager(Context context) {\n     return (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n   }\n \n+  private static int getVersionCode(Context context) {\n+    try {\n+      int packageVersionCode =\n+          context\n+              .getPackageManager()\n+              .getPackageInfo(context.getPackageName(), /* flags= */ 0)\n+              .versionCode;\n+      return packageVersionCode;\n+    } catch (PackageManager.NameNotFoundException e) {\n+      Logging.e(LOG_TAG, \"Couldn't find version code\", e);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjM3MzM1NQ=="}, "originalCommit": {"oid": "cdb2ef9de80b097562c47d7ccec87b5f76baff98"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1103, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}