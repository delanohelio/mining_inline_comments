{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU5MTg4ODgw", "number": 1833, "title": "Add support to register AnnotatedFieldHandler in decoder", "bodyText": "", "createdAt": "2020-07-30T13:41:50Z", "url": "https://github.com/firebase/firebase-android-sdk/pull/1833", "merged": true, "mergeCommit": {"oid": "45255138865e494613ac6805c4811b71747cc221"}, "closed": true, "closedAt": "2020-07-31T19:17:02Z", "author": {"login": "James201311"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6AIlcAFqTQ1ODQyMzExMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc6VR11gH2gAyNDU5MTg4ODgwOjk0ZGNiOTI2YWNhNGEzNWVjYTY0MGJmYTEzOWVkZjI3ZmNkZTMxNTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NDIzMTEy", "url": "https://github.com/firebase/firebase-android-sdk/pull/1833#pullrequestreview-458423112", "createdAt": "2020-07-30T13:54:54Z", "commit": {"oid": "5dbd3feb5068cd35e4a0417ede9d0b16dbb1b81f"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMzo1NDo1NFrOG5kGmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMzo1Nzo0NVrOG5kPHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzAxMzUzMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  @NonNull Class<U> clazz, @NonNull AnnotatedFieldHandler<? extends U> objectDecoder) {\n          \n          \n            \n                  @NonNull Class<U> clazz, @NonNull AnnotatedFieldHandler<U> handler) {\n          \n      \n    \n    \n  \n\nIt's not possible to extend/subclass annotations in Java, so consider dropping ? extends", "url": "https://github.com/firebase/firebase-android-sdk/pull/1833#discussion_r463013531", "createdAt": "2020-07-30T13:54:54Z", "author": {"login": "vkryachko"}, "path": "encoders/firebase-decoders-json/src/json/java/com/google/firebase/decoders/json/JsonDataDecoderBuilder.java", "diffHunk": "@@ -33,8 +38,16 @@ public JsonDataDecoderBuilder() {}\n     return this;\n   }\n \n+  @NonNull\n+  @Override\n+  public <U extends Annotation> JsonDataDecoderBuilder register(\n+      @NonNull Class<U> clazz, @NonNull AnnotatedFieldHandler<? extends U> objectDecoder) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5dbd3feb5068cd35e4a0417ede9d0b16dbb1b81f"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzAxNTQ5MQ==", "bodyText": "by convention static fields use UPPER_SNAKE_CASE, please change here and throughout.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1833#discussion_r463015491", "createdAt": "2020-07-30T13:57:29Z", "author": {"login": "vkryachko"}, "path": "encoders/firebase-decoders-json/src/test/java/com/google/firebase/decoders/json/JsonDataDecoderAnnotatedFieldHandlerTest.java", "diffHunk": "@@ -83,6 +84,19 @@ public int hashCode() {\n     }\n   }\n \n+  private static AnnotatedFieldHandler<Default> defaultHandler =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5dbd3feb5068cd35e4a0417ede9d0b16dbb1b81f"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzAxNTcxMQ==", "bodyText": "also make it final pls", "url": "https://github.com/firebase/firebase-android-sdk/pull/1833#discussion_r463015711", "createdAt": "2020-07-30T13:57:45Z", "author": {"login": "vkryachko"}, "path": "encoders/firebase-decoders-json/src/test/java/com/google/firebase/decoders/json/JsonDataDecoderAnnotatedFieldHandlerTest.java", "diffHunk": "@@ -83,6 +84,19 @@ public int hashCode() {\n     }\n   }\n \n+  private static AnnotatedFieldHandler<Default> defaultHandler =", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzAxNTQ5MQ=="}, "originalCommit": {"oid": "5dbd3feb5068cd35e4a0417ede9d0b16dbb1b81f"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NDUwODQ5", "url": "https://github.com/firebase/firebase-android-sdk/pull/1833#pullrequestreview-458450849", "createdAt": "2020-07-30T14:23:20Z", "commit": {"oid": "026f6b8117f322099740e5cb83fd20d55b977a40"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNDoyMzoyMFrOG5lV2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNDoyMzoyMFrOG5lV2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzAzMzgxNg==", "bodyText": "It does not look like having this method be generic adds much type safety for implementers of the interface, otoh it makes it impossible to write implementation as lambda expressions, should be drop the <T> generic argument from the signature?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1833#discussion_r463033816", "createdAt": "2020-07-30T14:23:20Z", "author": {"login": "vkryachko"}, "path": "encoders/firebase-decoders-json/src/test/java/com/google/firebase/decoders/json/JsonDataDecoderAnnotatedFieldHandlerTest.java", "diffHunk": "@@ -83,6 +84,19 @@ public int hashCode() {\n     }\n   }\n \n+  private final static AnnotatedFieldHandler<Default> DEFAULT_HANDLER =\n+      new AnnotatedFieldHandler<Default>() {\n+        @Nullable\n+        @Override\n+        public <T> T apply(\n+            @NonNull Default annotation, @Nullable T fieldDecodedResult, @NonNull Class<T> type) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "026f6b8117f322099740e5cb83fd20d55b977a40"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NTgxNjc3", "url": "https://github.com/firebase/firebase-android-sdk/pull/1833#pullrequestreview-458581677", "createdAt": "2020-07-30T16:49:15Z", "commit": {"oid": "026f6b8117f322099740e5cb83fd20d55b977a40"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNjo0OToxNlrOG5rd-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNjo0OToxNlrOG5rd-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzEzNDIwMw==", "bodyText": "nit\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  @NonNull Class<U> clazz, @NonNull AnnotatedFieldHandler<U> objectDecoder) {\n          \n          \n            \n                  @NonNull Class<U> clazz, @NonNull AnnotatedFieldHandler<U> handler) {", "url": "https://github.com/firebase/firebase-android-sdk/pull/1833#discussion_r463134203", "createdAt": "2020-07-30T16:49:16Z", "author": {"login": "vkryachko"}, "path": "encoders/firebase-decoders-json/src/json/java/com/google/firebase/decoders/json/JsonDataDecoderBuilder.java", "diffHunk": "@@ -33,8 +38,16 @@ public JsonDataDecoderBuilder() {}\n     return this;\n   }\n \n+  @NonNull\n+  @Override\n+  public <U extends Annotation> JsonDataDecoderBuilder register(\n+      @NonNull Class<U> clazz, @NonNull AnnotatedFieldHandler<U> objectDecoder) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "026f6b8117f322099740e5cb83fd20d55b977a40"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "294747685b7a62c259c4b2b4d666581b6141485c", "author": {"user": null}, "url": "https://github.com/firebase/firebase-android-sdk/commit/294747685b7a62c259c4b2b4d666581b6141485c", "committedDate": "2020-07-31T14:07:23Z", "message": "rebase to firebase_encoders, solve conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09d468897d559293d463c11dff69e8e52a581898", "author": {"user": null}, "url": "https://github.com/firebase/firebase-android-sdk/commit/09d468897d559293d463c11dff69e8e52a581898", "committedDate": "2020-07-31T14:09:04Z", "message": "Add support to register AnnotatedFieldHandler in decoder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ac17a422de9259e3bd0913da9f612791fb93ca2", "author": {"user": null}, "url": "https://github.com/firebase/firebase-android-sdk/commit/5ac17a422de9259e3bd0913da9f612791fb93ca2", "committedDate": "2020-07-31T14:10:09Z", "message": "adress comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc2f6493c35db049b91d05cbc0b0d81e0208dfbc", "author": {"user": null}, "url": "https://github.com/firebase/firebase-android-sdk/commit/cc2f6493c35db049b91d05cbc0b0d81e0208dfbc", "committedDate": "2020-07-31T14:11:35Z", "message": "address comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7554f7305972840c7095a56aaeeb0323f66c9822", "author": {"user": null}, "url": "https://github.com/firebase/firebase-android-sdk/commit/7554f7305972840c7095a56aaeeb0323f66c9822", "committedDate": "2020-07-30T17:41:16Z", "message": "address comments"}, "afterCommit": {"oid": "614bb1e700b1d0dabdafd781e986c03bb3e050de", "author": {"user": null}, "url": "https://github.com/firebase/firebase-android-sdk/commit/614bb1e700b1d0dabdafd781e986c03bb3e050de", "committedDate": "2020-07-31T14:16:52Z", "message": "fix rebase issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d6d39b104d2f40596d2640f01d7fec8098c0b13", "author": {"user": null}, "url": "https://github.com/firebase/firebase-android-sdk/commit/6d6d39b104d2f40596d2640f01d7fec8098c0b13", "committedDate": "2020-07-31T14:18:33Z", "message": "fix rebase issue"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "614bb1e700b1d0dabdafd781e986c03bb3e050de", "author": {"user": null}, "url": "https://github.com/firebase/firebase-android-sdk/commit/614bb1e700b1d0dabdafd781e986c03bb3e050de", "committedDate": "2020-07-31T14:16:52Z", "message": "fix rebase issue"}, "afterCommit": {"oid": "6d6d39b104d2f40596d2640f01d7fec8098c0b13", "author": {"user": null}, "url": "https://github.com/firebase/firebase-android-sdk/commit/6d6d39b104d2f40596d2640f01d7fec8098c0b13", "committedDate": "2020-07-31T14:18:33Z", "message": "fix rebase issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5MjIxNzk5", "url": "https://github.com/firebase/firebase-android-sdk/pull/1833#pullrequestreview-459221799", "createdAt": "2020-07-31T14:33:09Z", "commit": {"oid": "6d6d39b104d2f40596d2640f01d7fec8098c0b13"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNDozMzoxMFrOG6Kw1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNDozMzoxMFrOG6Kw1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzY0NjkzMg==", "bodyText": "I assume this was not intended?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1833#discussion_r463646932", "createdAt": "2020-07-31T14:33:10Z", "author": {"login": "vkryachko"}, "path": "encoders/firebase-decoders-json/src/test/java/com/google/firebase/decoders/json/JsonDataDecoderAnnotatedFieldHandlerTest.java", "diffHunk": "@@ -1,4 +1,4 @@\n-// Copyright 2020 Google LLC\n+package com.google.firebase.decoders.json; // Copyright 2020 Google LLC", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d6d39b104d2f40596d2640f01d7fec8098c0b13"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94dcb926aca4a35eca640bfa139edf27fcde3151", "author": {"user": null}, "url": "https://github.com/firebase/firebase-android-sdk/commit/94dcb926aca4a35eca640bfa139edf27fcde3151", "committedDate": "2020-07-31T14:41:11Z", "message": "adress comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2465, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}