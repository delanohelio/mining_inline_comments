{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0Mzk0OTIz", "number": 2131, "title": "Add support for Application build field in CCT Transport Backend.", "bodyText": "PAIR=zijianjoy", "createdAt": "2020-11-02T23:38:30Z", "url": "https://github.com/firebase/firebase-android-sdk/pull/2131", "merged": true, "mergeCommit": {"oid": "e53726d6e355250249cc2e24deb3fae812f4a620"}, "closed": true, "closedAt": "2020-11-03T15:44:19Z", "author": {"login": "jeremyjiang-dev"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYtRL3gH2gAyNTE0Mzk0OTIzOmNkYjJlZjlkZTgwYjA5NzU2MmM0N2Q3Y2NlYzg3YjVmNzZiYWZmOTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdY624BgH2gAyNTE0Mzk0OTIzOjEzNTNlODhlMTIyNzg2NjJkYjFiMGU3ZTZiZTNjNmZmOTNkMWIxYzA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cdb2ef9de80b097562c47d7ccec87b5f76baff98", "author": {"user": {"login": "jeremyjiang-dev", "name": "Jeremy Jiang"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/cdb2ef9de80b097562c47d7ccec87b5f76baff98", "committedDate": "2020-11-02T23:35:55Z", "message": "Add transport support for Android application build field."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMTE4ODky", "url": "https://github.com/firebase/firebase-android-sdk/pull/2131#pullrequestreview-522118892", "createdAt": "2020-11-03T00:09:41Z", "commit": {"oid": "cdb2ef9de80b097562c47d7ccec87b5f76baff98"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMTMzMjEy", "url": "https://github.com/firebase/firebase-android-sdk/pull/2131#pullrequestreview-522133212", "createdAt": "2020-11-03T00:56:12Z", "commit": {"oid": "cdb2ef9de80b097562c47d7ccec87b5f76baff98"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMDo1NjoxMlrOHsc5qA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMDo1NzowN1rOHsc7aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjM3MjkwNA==", "bodyText": "For completeness, should we call it packageVersionCode?", "url": "https://github.com/firebase/firebase-android-sdk/pull/2131#discussion_r516372904", "createdAt": "2020-11-03T00:56:12Z", "author": {"login": "visumickey"}, "path": "transport/transport-backend-cct/src/main/java/com/google/android/datatransport/cct/CctTransportBackend.java", "diffHunk": "@@ -130,6 +133,20 @@ private static TelephonyManager getTelephonyManager(Context context) {\n     return (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n   }\n \n+  private static int getVersionCode(Context context) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdb2ef9de80b097562c47d7ccec87b5f76baff98"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjM3MzM1NQ==", "bodyText": "Do you want to qualify this error a bit better? \"Unable to find version code for package - \". This would enable the developer fix quickly rather than being too abstract.", "url": "https://github.com/firebase/firebase-android-sdk/pull/2131#discussion_r516373355", "createdAt": "2020-11-03T00:57:07Z", "author": {"login": "visumickey"}, "path": "transport/transport-backend-cct/src/main/java/com/google/android/datatransport/cct/CctTransportBackend.java", "diffHunk": "@@ -130,6 +133,20 @@ private static TelephonyManager getTelephonyManager(Context context) {\n     return (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n   }\n \n+  private static int getVersionCode(Context context) {\n+    try {\n+      int packageVersionCode =\n+          context\n+              .getPackageManager()\n+              .getPackageInfo(context.getPackageName(), /* flags= */ 0)\n+              .versionCode;\n+      return packageVersionCode;\n+    } catch (PackageManager.NameNotFoundException e) {\n+      Logging.e(LOG_TAG, \"Couldn't find version code\", e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdb2ef9de80b097562c47d7ccec87b5f76baff98"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyNTI0NjEw", "url": "https://github.com/firebase/firebase-android-sdk/pull/2131#pullrequestreview-522524610", "createdAt": "2020-11-03T14:03:57Z", "commit": {"oid": "cdb2ef9de80b097562c47d7ccec87b5f76baff98"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1353e88e12278662db1b0e7e6be3c6ff93d1b1c0", "author": {"user": {"login": "jeremyjiang-dev", "name": "Jeremy Jiang"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/1353e88e12278662db1b0e7e6be3c6ff93d1b1c0", "committedDate": "2020-11-03T15:25:51Z", "message": "Incorporate comments."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2430, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}