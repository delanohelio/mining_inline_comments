{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwNDgzNzg3", "number": 2216, "title": "Don't crash SDK is socket.close() fails", "bodyText": "On some Pixel devices, socket.close() throws an NPE (might be related to google/conscrypt#331).\nFixes b/164528104", "createdAt": "2020-12-01T18:10:48Z", "url": "https://github.com/firebase/firebase-android-sdk/pull/2216", "merged": true, "mergeCommit": {"oid": "00e6a8d5e19ba962702268c67ea8e4a5b006ea1e"}, "closed": true, "closedAt": "2020-12-02T16:25:24Z", "author": {"login": "schmidt-sebastian"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdh9-8nAH2gAyNTMwNDgzNzg3OjhlYmUyYjQ5MDliZDE3YTQyMmM4NTM3NzhlMjkyNGYyNjRiOTRhMjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiQ4AfgFqTU0Mjk5NjU0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8ebe2b4909bd17a422c853778e2924f264b94a23", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/8ebe2b4909bd17a422c853778e2924f264b94a23", "committedDate": "2020-12-01T18:09:42Z", "message": "Don't crash SDK is socket.close() fails"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0904b8c9243ba907dcc93aa4f306a4a6f450a85", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/f0904b8c9243ba907dcc93aa4f306a4a6f450a85", "committedDate": "2020-12-01T18:16:53Z", "message": "Add Changelog for Query.get()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNDI4ODk0", "url": "https://github.com/firebase/firebase-android-sdk/pull/2216#pullrequestreview-542428894", "createdAt": "2020-12-02T01:24:54Z", "commit": {"oid": "f0904b8c9243ba907dcc93aa4f306a4a6f450a85"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwMToyNDo1NFrOH9Go5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwMToyNDo1NFrOH9Go5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzgzMzk1OQ==", "bodyText": "catching Throwable seems a little bit aggressive as it will also catch java.lang.Errors which, according to its javadoc, \"a reasonable application should not try to catch\". Would it be sufficient to only catch Exception for example?", "url": "https://github.com/firebase/firebase-android-sdk/pull/2216#discussion_r533833959", "createdAt": "2020-12-02T01:24:54Z", "author": {"login": "vkryachko"}, "path": "firebase-database/src/main/java/com/google/firebase/database/tubesock/WebSocket.java", "diffHunk": "@@ -261,8 +261,8 @@ private synchronized void closeSocket() {\n     if (socket != null) {\n       try {\n         socket.close();\n-      } catch (IOException e) {\n-        throw new RuntimeException(e);\n+      } catch (Throwable e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0904b8c9243ba907dcc93aa4f306a4a6f450a85"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb4f8f8f539b69c0e9da467f3f182ef6c62416fb", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/eb4f8f8f539b69c0e9da467f3f182ef6c62416fb", "committedDate": "2020-12-02T16:08:36Z", "message": "s/Throwable/Exception"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyOTk2NTQz", "url": "https://github.com/firebase/firebase-android-sdk/pull/2216#pullrequestreview-542996543", "createdAt": "2020-12-02T16:10:19Z", "commit": {"oid": "eb4f8f8f539b69c0e9da467f3f182ef6c62416fb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2328, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}