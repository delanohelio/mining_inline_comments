{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyNjIxNDYz", "number": 1227, "title": "Send CrashlyticsReports through DataTransport", "bodyText": "", "createdAt": "2020-02-07T22:07:04Z", "url": "https://github.com/firebase/firebase-android-sdk/pull/1227", "merged": true, "mergeCommit": {"oid": "66a16fa2051cdf7c2323a28c3dbb2ba8895a6800"}, "closed": true, "closedAt": "2020-02-10T21:40:00Z", "author": {"login": "mrwillis21"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcCGv8sAH2gAyMzcyNjIxNDYzOjk3MGExZjNmNzQwYWVhODRjZTIwMzJjNDc2Y2E4Yzg0YmIzNDRkMjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDEKhVAFqTM1NjI4MzA2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "970a1f3f740aea84ce2032c476ca8c84bb344d23", "author": {"user": {"login": "mrwillis21", "name": "Matt Willis"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/970a1f3f740aea84ce2032c476ca8c84bb344d23", "committedDate": "2020-02-07T22:05:44Z", "message": "Send CrashlyticsReports through DataTransport"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d60b2b1a6ae3d4afbba5c40e92dd1a73f44c266", "author": {"user": {"login": "mrwillis21", "name": "Matt Willis"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/0d60b2b1a6ae3d4afbba5c40e92dd1a73f44c266", "committedDate": "2020-02-07T22:32:15Z", "message": "Formatting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2MTM4NTU5", "url": "https://github.com/firebase/firebase-android-sdk/pull/1227#pullrequestreview-356138559", "createdAt": "2020-02-10T17:49:49Z", "commit": {"oid": "0d60b2b1a6ae3d4afbba5c40e92dd1a73f44c266"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxNzo0OTo0OVrOFnvnIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxNzo0OTo0OVrOFnvnIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzIxODg0OA==", "bodyText": "Is there a good reason to make this new callback type here instead of using a Task<CrashlyticsReport>?\nIt seems like this is the perfect use case for a Promise -- a result or error that gets resolved at most once.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1227#discussion_r377218848", "createdAt": "2020-02-10T17:49:49Z", "author": {"login": "bklimt"}, "path": "firebase-crashlytics/src/main/java/com/google/firebase/crashlytics/internal/send/DataTransportCrashlyticsReportSender.java", "diffHunk": "@@ -0,0 +1,91 @@\n+// Copyright 2020 Google LLC\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package com.google.firebase.crashlytics.internal.send;\n+\n+import android.content.Context;\n+import androidx.annotation.NonNull;\n+import com.google.android.datatransport.Encoding;\n+import com.google.android.datatransport.Event;\n+import com.google.android.datatransport.Transport;\n+import com.google.android.datatransport.cct.CCTDestination;\n+import com.google.android.datatransport.runtime.TransportRuntime;\n+import com.google.firebase.crashlytics.internal.model.CrashlyticsReport;\n+import com.google.firebase.crashlytics.internal.model.serialization.CrashlyticsReportJsonTransform;\n+import java.nio.charset.Charset;\n+import java.util.List;\n+\n+/**\n+ * This class is responsible for sending CrashlyticsReport objects to Crashlytics through Google\n+ * DataTransport.\n+ */\n+public class DataTransportCrashlyticsReportSender {\n+\n+  private static final CrashlyticsReportJsonTransform TRANSFORM =\n+      new CrashlyticsReportJsonTransform();\n+  private static final String CRASHLYTICS_ENDPOINT =\n+      mergeStrings(\"hts/cahyiseot-agolai.o/1frlglgc/aclg\", \"tp:/rsltcrprsp.ogepscmv/ieo/eaybtho\");\n+  private static final String CRASHLYTICS_API_KEY =\n+      mergeStrings(\"AzSBpY4F0rHiHFdinTvM\", \"IayrSTFL9eJ69YeSUO2\");\n+  private static final String CRASHLYTICS_TRANSPORT_NAME = \"FIREBASE_CRASHLYTICS_REPORT\";\n+\n+  private final Transport<CrashlyticsReport> transport;\n+  private final SendCallback<CrashlyticsReport> sendCallback;\n+\n+  static DataTransportCrashlyticsReportSender create(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d60b2b1a6ae3d4afbba5c40e92dd1a73f44c266"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2MjgzMDYx", "url": "https://github.com/firebase/firebase-android-sdk/pull/1227#pullrequestreview-356283061", "createdAt": "2020-02-10T21:38:58Z", "commit": {"oid": "0d60b2b1a6ae3d4afbba5c40e92dd1a73f44c266"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2043, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}