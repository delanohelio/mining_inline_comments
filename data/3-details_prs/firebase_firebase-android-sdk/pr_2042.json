{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4NjkxMTUx", "number": 2042, "title": "Remove deprecated methods from RC.", "bodyText": "Removes the following methods:\nFirebaseRemoteConfig#activateFetched()\nFirebaseRemoteConfig#getByteArray(String)\nFirebaseRemoteConfig#setConfigSettings(FirebaseRemoteConfigSettings)\nFirebaseRemoteConfig#setDefaults(Map<String,Object>)\nFirebaseRemoteConfig#setDefaults(int)\n\nFirebaseRemoteConfigSettings#isDeveloperModeEnabled()\nFirebaseRemoteConfigSettings.Builder.setDeveloperModeEnabled(boolean)\n\nand the FirebaseRemoteConfigFetchException class.", "createdAt": "2020-10-06T16:45:58Z", "url": "https://github.com/firebase/firebase-android-sdk/pull/2042", "merged": true, "mergeCommit": {"oid": "83e9406c98afdab45529c53628b23391b1dec13b"}, "closed": true, "closedAt": "2020-10-09T14:50:36Z", "author": {"login": "danasilver"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdP7MTOAH2gAyNDk4NjkxMTUxOmNhMjVlNTFiZDc2MmE3OTJiODNkNDI4ZjA4OTlhMGQyN2Y5YzMwMGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQoApcAFqTUwNTE1OTg4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ca25e51bd762a792b83d428f0899a0d27f9c300d", "author": {"user": {"login": "danasilver", "name": "Dana Silver"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/ca25e51bd762a792b83d428f0899a0d27f9c300d", "committedDate": "2020-10-06T16:43:56Z", "message": "Remove deprecated methods from RC."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04a1bf1cfa11aebbfe260521ef0a82dd5d4b1143", "author": {"user": {"login": "danasilver", "name": "Dana Silver"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/04a1bf1cfa11aebbfe260521ef0a82dd5d4b1143", "committedDate": "2020-10-06T16:45:02Z", "message": "Regenerate api.txt."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a38122646a3a23359838908415240645c4526f8b", "author": {"user": {"login": "danasilver", "name": "Dana Silver"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/a38122646a3a23359838908415240645c4526f8b", "committedDate": "2020-10-06T16:45:19Z", "message": "Put back deprecation on test."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38699c0ae679d400bff374c567ca48a32b29eb89", "author": {"user": {"login": "danasilver", "name": "Dana Silver"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/38699c0ae679d400bff374c567ca48a32b29eb89", "committedDate": "2020-10-06T17:05:34Z", "message": "Update Bandwagoner to use new APIs."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32eb45a2943ea97b4b07b82871e13206b39592eb", "author": {"user": {"login": "danasilver", "name": "Dana Silver"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/32eb45a2943ea97b4b07b82871e13206b39592eb", "committedDate": "2020-10-06T22:41:39Z", "message": "Use async method in tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fc3cbc34d2e11f24f8cf3b95adc3522ff17a944", "author": {"user": {"login": "danasilver", "name": "Dana Silver"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/5fc3cbc34d2e11f24f8cf3b95adc3522ff17a944", "committedDate": "2020-10-07T14:52:05Z", "message": "googleJavaFormat"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69d06416aeeca3e4eb0a2a77bdfb5abac896d299", "author": {"user": {"login": "danasilver", "name": "Dana Silver"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/69d06416aeeca3e4eb0a2a77bdfb5abac896d299", "committedDate": "2020-10-07T15:47:26Z", "message": "Fix up some tests."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MTkzMTA4", "url": "https://github.com/firebase/firebase-android-sdk/pull/2042#pullrequestreview-504193108", "createdAt": "2020-10-07T19:18:23Z", "commit": {"oid": "69d06416aeeca3e4eb0a2a77bdfb5abac896d299"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxOToxODoyM1rOHeCBSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMDoxMTo1NFrOHeDwUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI1MjQyNg==", "bodyText": "Thinking (no action req'd): after we remove the sync methods, we'll be able to drop the \"async\" suffix and use the setConfigSettings signature for async \ud83d\udc4d", "url": "https://github.com/firebase/firebase-android-sdk/pull/2042#discussion_r501252426", "createdAt": "2020-10-07T19:18:23Z", "author": {"login": "erikeldridge"}, "path": "firebase-config/src/main/java/com/google/firebase/remoteconfig/FirebaseRemoteConfig.java", "diffHunk": "@@ -517,17 +459,6 @@ public FirebaseRemoteConfigInfo getInfo() {\n     return frcMetadata.getInfo();\n   }\n \n-  /**\n-   * Changes the settings for this {@link FirebaseRemoteConfig} instance.\n-   *\n-   * @param settings The new settings to be applied.\n-   * @deprecated Use {@link #setConfigSettingsAsync(FirebaseRemoteConfigSettings)} instead.\n-   */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69d06416aeeca3e4eb0a2a77bdfb5abac896d299"}, "originalPosition": 88}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI1NTIxMA==", "bodyText": "Thinking (no action req'd): I wonder why a simple overload of setDefaults was insufficient and we needed to add the WithStringsMap qualifier", "url": "https://github.com/firebase/firebase-android-sdk/pull/2042#discussion_r501255210", "createdAt": "2020-10-07T19:23:34Z", "author": {"login": "erikeldridge"}, "path": "firebase-config/src/main/java/com/google/firebase/remoteconfig/FirebaseRemoteConfig.java", "diffHunk": "@@ -693,20 +578,6 @@ private boolean processActivatePutTask(Task<ConfigContainer> putTask) {\n     return false;\n   }\n \n-  /**\n-   * Asynchronously sets the defaults cache to the given default values, and persists the values to\n-   * disk.\n-   */\n-  private void setDefaultsWithStringsMap(Map<String, String> defaultsStringMap) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69d06416aeeca3e4eb0a2a77bdfb5abac896d299"}, "originalPosition": 165}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI1NzQ0OQ==", "bodyText": "Given the deprecation guidance on FirebaseRemoteConfigFetchException is to use FirebaseRemoteConfigServerException or FirebaseRemoteConfigClientException, I wonder if we should be deprecating FirebaseRemoteConfigFetchThrottledException. If so, we could make that a tiny follow-up change just to keep this PR focused.", "url": "https://github.com/firebase/firebase-android-sdk/pull/2042#discussion_r501257449", "createdAt": "2020-10-07T19:27:44Z", "author": {"login": "erikeldridge"}, "path": "firebase-config/src/main/java/com/google/firebase/remoteconfig/FirebaseRemoteConfigFetchThrottledException.java", "diffHunk": "@@ -15,8 +15,7 @@\n package com.google.firebase.remoteconfig;\n \n /** An exception thrown when a {@link FirebaseRemoteConfig#fetch()} call is throttled. */\n-public class FirebaseRemoteConfigFetchThrottledException\n-    extends FirebaseRemoteConfigFetchException {\n+public class FirebaseRemoteConfigFetchThrottledException extends FirebaseRemoteConfigException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69d06416aeeca3e4eb0a2a77bdfb5abac896d299"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI1ODg1OA==", "bodyText": "Thinking (no action req'd): I'm happy to see us reducing sources of ambiguity like this fire-and-forget async update", "url": "https://github.com/firebase/firebase-android-sdk/pull/2042#discussion_r501258858", "createdAt": "2020-10-07T19:30:26Z", "author": {"login": "erikeldridge"}, "path": "firebase-config/src/main/java/com/google/firebase/remoteconfig/internal/ConfigCacheClient.java", "diffHunk": "@@ -78,17 +78,6 @@ private ConfigCacheClient(ExecutorService executorService, ConfigStorageClient s\n     cachedContainerTask = null;\n   }\n \n-  /**\n-   * Sets the in-memory {@link ConfigContainer} to {@code configContainer} and then starts the file\n-   * write to save the new config to disk.\n-   *\n-   * @return A {@link Task} representing the write to disk.\n-   */\n-  public Task<ConfigContainer> putWithoutWaitingForDiskWrite(ConfigContainer configContainer) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69d06416aeeca3e4eb0a2a77bdfb5abac896d299"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI4MDg1MQ==", "bodyText": "Dumb question: IIUC, this test app calls a live RC endpoint, in which case setting a timeout of 0s seems aggressive; any chance the intent is to bypass the cache (setMinimumFetchIntervalInSeconds ), which is closer to the functionality of developer mode, rather than setting a timeout?", "url": "https://github.com/firebase/firebase-android-sdk/pull/2042#discussion_r501280851", "createdAt": "2020-10-07T20:11:54Z", "author": {"login": "erikeldridge"}, "path": "firebase-config/bandwagoner/src/main/java/com/googletest/firebase/remoteconfig/bandwagoner/ApiFragment.java", "diffHunk": "@@ -64,8 +64,8 @@ public void onCreate(Bundle savedInstanceState) {\n     super.onCreate(savedInstanceState);\n \n     frc = FirebaseRemoteConfig.getInstance();\n-    frc.setConfigSettings(\n-        new FirebaseRemoteConfigSettings.Builder().setDeveloperModeEnabled(true).build());\n+    frc.setConfigSettingsAsync(\n+        new FirebaseRemoteConfigSettings.Builder().setFetchTimeoutInSeconds(0L).build());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69d06416aeeca3e4eb0a2a77bdfb5abac896d299"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "102a838f96bdda9858d3c238072daea129f543fe", "author": {"user": {"login": "danasilver", "name": "Dana Silver"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/102a838f96bdda9858d3c238072daea129f543fe", "committedDate": "2020-10-07T23:40:08Z", "message": "Set fetch interval instead of timeout in Bandwagoner."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1MTU0MTE5", "url": "https://github.com/firebase/firebase-android-sdk/pull/2042#pullrequestreview-505154119", "createdAt": "2020-10-08T20:47:57Z", "commit": {"oid": "102a838f96bdda9858d3c238072daea129f543fe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1MTU5ODgz", "url": "https://github.com/firebase/firebase-android-sdk/pull/2042#pullrequestreview-505159883", "createdAt": "2020-10-08T20:56:57Z", "commit": {"oid": "102a838f96bdda9858d3c238072daea129f543fe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2376, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}