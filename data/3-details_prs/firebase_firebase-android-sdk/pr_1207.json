{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxNjQ1MDg5", "number": 1207, "title": "Drop remaining primitive FieldValue types", "bodyText": "", "createdAt": "2020-02-06T00:03:01Z", "url": "https://github.com/firebase/firebase-android-sdk/pull/1207", "merged": true, "mergeCommit": {"oid": "3c6d8d1c1cf83d474f622892a68e52ef8174e5e0"}, "closed": true, "closedAt": "2020-02-06T21:59:27Z", "author": {"login": "schmidt-sebastian"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcA5eb_gH2gAyMzcxNjQ1MDg5OjE2MDIwNjJjMjc2M2FiYWYyYTc3YTRmZDIwNjdhZTI2ZTZjOTY5NjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBxzDTgBqjMwMTU1ODI4NDU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1602062c2763abaf2a77a4fd2067ae26e6c96965", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/1602062c2763abaf2a77a4fd2067ae26e6c96965", "committedDate": "2020-02-04T04:03:55Z", "message": "Protobuf-backed FieldValues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "804a1b7a9d0304f13a394b2f46054f2409c52b37", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/804a1b7a9d0304f13a394b2f46054f2409c52b37", "committedDate": "2020-02-04T21:39:54Z", "message": "Merge branch 'mrschmidt/rewritefieldvalue' into mrschmidt/final"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d5d7c2570b34f0797602f6dd46e407232b3bf8b", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/3d5d7c2570b34f0797602f6dd46e407232b3bf8b", "committedDate": "2020-02-04T23:44:07Z", "message": "Merge branch 'mrschmidt/rewritefieldvalue' into mrschmidt/final"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "120ca33e5a7299151357ae0e70c8b23acfe6b9b9", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/120ca33e5a7299151357ae0e70c8b23acfe6b9b9", "committedDate": "2020-02-05T19:01:41Z", "message": "Feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82c0095659aa83194049693f1336af2864ce5287", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/82c0095659aa83194049693f1336af2864ce5287", "committedDate": "2020-02-05T19:03:43Z", "message": "Update test-only variable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98953a323513bbc0ef685ab9ca1ee9b9d98ee091", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/98953a323513bbc0ef685ab9ca1ee9b9d98ee091", "committedDate": "2020-02-05T19:34:33Z", "message": "Add ProtoValues.contains()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "940a268825130e3c4c7609d8975d7c428f071f32", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/940a268825130e3c4c7609d8975d7c428f071f32", "committedDate": "2020-02-05T19:42:37Z", "message": "Migrate ArrayTransforms to use Values"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ea5b3737b23638bb99bcb032893674414c18895", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/7ea5b3737b23638bb99bcb032893674414c18895", "committedDate": "2020-02-05T20:21:48Z", "message": "Migrate TransformResult to use Value"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "637838b4497561644308d0eee7c3cedaee1a182d", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/637838b4497561644308d0eee7c3cedaee1a182d", "committedDate": "2020-02-05T23:15:14Z", "message": "Drop Array, Reference, Number, Integer and DoubleValue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "522db2fd28c09a9030c4ea002fcd5856bfa9c895", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/522db2fd28c09a9030c4ea002fcd5856bfa9c895", "committedDate": "2020-02-06T00:06:22Z", "message": "Drop remaining primitive FieldValue types"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ccb18f6a7bdfdba419c6cda4883dbdb57ba7a772", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/ccb18f6a7bdfdba419c6cda4883dbdb57ba7a772", "committedDate": "2020-02-06T00:02:20Z", "message": "Drop remaining primitive FieldValue types"}, "afterCommit": {"oid": "522db2fd28c09a9030c4ea002fcd5856bfa9c895", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/522db2fd28c09a9030c4ea002fcd5856bfa9c895", "committedDate": "2020-02-06T00:06:22Z", "message": "Drop remaining primitive FieldValue types"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5cc99840698f8fb2e799495fdd478ea1013bd04", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/b5cc99840698f8fb2e799495fdd478ea1013bd04", "committedDate": "2020-02-06T00:10:43Z", "message": "Fix Kotlin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f87db1fb30b3663489fd095c08fb41350d0c2ea", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/9f87db1fb30b3663489fd095c08fb41350d0c2ea", "committedDate": "2020-02-06T00:11:06Z", "message": "Merge branch 'mrschmidt/droparray' into mrschmidt/droprest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "162f0715043961e3fd1057a583230095276fb487", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/162f0715043961e3fd1057a583230095276fb487", "committedDate": "2020-02-06T00:27:20Z", "message": "More Kotlin fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d2eadd560d77157a91cc2b416525fa52f06c016", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/3d2eadd560d77157a91cc2b416525fa52f06c016", "committedDate": "2020-02-06T00:27:46Z", "message": "Merge branch 'mrschmidt/droparray' into mrschmidt/droprest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13e01c89451b123d4bfee2e51e6adef782f1b102", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/13e01c89451b123d4bfee2e51e6adef782f1b102", "committedDate": "2020-02-06T00:56:21Z", "message": "Review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "baf650e876d47b345418466f40e36f3b97912801", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/baf650e876d47b345418466f40e36f3b97912801", "committedDate": "2020-02-06T01:54:45Z", "message": "Merge branch 'mrschmidt/rewritefieldvalue' into mrschmidt/final"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa7b3ec782537107693ce98d405190397e8c610f", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/aa7b3ec782537107693ce98d405190397e8c610f", "committedDate": "2020-02-06T01:54:57Z", "message": "Merge branch 'mrschmidt/final' into mrschmidt/migratevalues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MTY5OTU3", "url": "https://github.com/firebase/firebase-android-sdk/pull/1207#pullrequestreview-354169957", "createdAt": "2020-02-06T02:36:56Z", "commit": {"oid": "3d2eadd560d77157a91cc2b416525fa52f06c016"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwMjozNjo1NlrOFmNrEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwMjozOTo1N1rOFmNt2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTYxNDIyNg==", "bodyText": "public methods that return private values make little sense. typeOrder should either be private or these constants should be public.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1207#discussion_r375614226", "createdAt": "2020-02-06T02:36:56Z", "author": {"login": "wilhuff"}, "path": "firebase-firestore/src/main/java/com/google/firebase/firestore/model/value/ProtoValues.java", "diffHunk": "@@ -41,34 +41,47 @@\n   public static final Value NULL_VALUE =\n       Value.newBuilder().setNullValue(NullValue.NULL_VALUE).build();\n \n+  /** The order of types in Firestore; this order is defined by the backend. */\n+  private static final int TYPE_ORDER_NULL = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d2eadd560d77157a91cc2b416525fa52f06c016"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTYxNDY1Ng==", "bodyText": "JUnit tends to put the expected value as the first argument. Consider reversing these to match.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1207#discussion_r375614656", "createdAt": "2020-02-06T02:38:37Z", "author": {"login": "wilhuff"}, "path": "firebase-firestore/src/test/java/com/google/firebase/firestore/UserDataWriterTest.java", "diffHunk": "@@ -291,4 +287,8 @@ public void testRejectsJavaArrays() {\n   private Object convertValue(FieldValue value) {\n     return writer.convertValue(value.getProto());\n   }\n+\n+  private void assertValueType(FieldValue value, Value.ValueTypeCase booleanValue) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d2eadd560d77157a91cc2b416525fa52f06c016"}, "originalPosition": 124}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTYxNDkzOA==", "bodyText": "Optional: You could chain these (ObjectValue expected = newBuilder.set.set.build())", "url": "https://github.com/firebase/firebase-android-sdk/pull/1207#discussion_r375614938", "createdAt": "2020-02-06T02:39:57Z", "author": {"login": "wilhuff"}, "path": "firebase-firestore/src/test/java/com/google/firebase/firestore/UserDataWriterTest.java", "diffHunk": "@@ -259,12 +257,10 @@ private static ObjectValue fromMap(Object... entries) {\n   @Test\n   public void testConvertsNestedObjects() {\n     FieldValue actual = wrapObject(\"a\", map(\"b\", map(\"c\", \"foo\"), \"d\", true));\n-    ObjectValue expected =\n-        fromMap(\n-            \"a\",\n-            fromMap(\n-                \"b\", fromMap(\"c\", StringValue.valueOf(\"foo\")), \"d\", BooleanValue.valueOf(true)));\n-    assertEquals(expected, actual);\n+    ObjectValue.Builder expected = ObjectValue.newBuilder();\n+    expected.set(field(\"a.b.c\"), valueOf(\"foo\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d2eadd560d77157a91cc2b416525fa52f06c016"}, "originalPosition": 113}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "774598a7f912b8558e50109d7822b9bf421f717c", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/774598a7f912b8558e50109d7822b9bf421f717c", "committedDate": "2020-02-06T05:07:07Z", "message": "Feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "490c924d4d77d91fa861f5cf7d6b7629808949a3", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/490c924d4d77d91fa861f5cf7d6b7629808949a3", "committedDate": "2020-02-06T05:11:08Z", "message": "Make FieldValue package-private"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0abdfb1698347c81beed67ba720b9003d7766dd4", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/0abdfb1698347c81beed67ba720b9003d7766dd4", "committedDate": "2020-02-06T05:11:24Z", "message": "Merge branch 'mrschmidt/migratevalues' into mrschmidt/droparray"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ef7289eeae1ab4b2e421294929e675556fe1d68", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/6ef7289eeae1ab4b2e421294929e675556fe1d68", "committedDate": "2020-02-06T05:17:36Z", "message": "Merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f2efb491b872ea597d7df12a4dffe951eab4424", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/3f2efb491b872ea597d7df12a4dffe951eab4424", "committedDate": "2020-02-06T19:04:45Z", "message": "Merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "067c43ebb5ab391b95e55c1d1c584a9c127658d6", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/067c43ebb5ab391b95e55c1d1c584a9c127658d6", "committedDate": "2020-02-06T19:05:15Z", "message": "Merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "585ce2ab9c9563010bba1cbb3b253d2f53bb22ce", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/585ce2ab9c9563010bba1cbb3b253d2f53bb22ce", "committedDate": "2020-02-06T19:10:53Z", "message": "Review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ab4f2c0df32dcafb96368f6d83b2233b6400a94", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/9ab4f2c0df32dcafb96368f6d83b2233b6400a94", "committedDate": "2020-02-06T19:29:58Z", "message": "Fix Kotlin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ce8a22e6cc87742910ddfd7e17ddde5480d0c87", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/2ce8a22e6cc87742910ddfd7e17ddde5480d0c87", "committedDate": "2020-02-06T21:40:58Z", "message": "Fix Kotlin"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "191d029c8a5cb36db295d40ac3d1585ca0218230", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/191d029c8a5cb36db295d40ac3d1585ca0218230", "committedDate": "2020-02-06T20:22:31Z", "message": "Fix Kotlin"}, "afterCommit": {"oid": "2ce8a22e6cc87742910ddfd7e17ddde5480d0c87", "author": {"user": {"login": "schmidt-sebastian", "name": "Sebastian Schmidt"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/2ce8a22e6cc87742910ddfd7e17ddde5480d0c87", "committedDate": "2020-02-06T21:40:58Z", "message": "Fix Kotlin"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2305, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}