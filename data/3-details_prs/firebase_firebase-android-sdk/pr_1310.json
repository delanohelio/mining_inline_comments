{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzMTUwMzUz", "number": 1310, "title": "Crashlytics Analytics Connector realtime fixes", "bodyText": "Refactor the Breadcrumbs receiver to listen for app exception events,\nwhich enables us to block app shutdown until we've confirmed that\nFirebase Analytics has received the app exception event.\nBecause Firebase Analytics serializes events asynchronously, it was possible\n(and in fact quite common) for the defaultUncaughtExceptionHandler to close\nthe app BEFORE Firebase Analytics was finished writing the app exception event\nto disk, which ultimately caused the event to be lost. Now Crashlytics waits\nfor the FA listener to fire with an app exception event before shutting down.\nThe 2000ms timeout was chosen somewhat arbitrarily; in practice the callback\nis received within 100ms or so, and it does not block at all if Firebase\nAnalytics is not present.", "createdAt": "2020-03-03T20:09:42Z", "url": "https://github.com/firebase/firebase-android-sdk/pull/1310", "merged": true, "mergeCommit": {"oid": "9569f783e1f816ee2262d9fa2e3975ae06aba823"}, "closed": true, "closedAt": "2020-03-04T14:12:49Z", "author": {"login": "mrichards"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKIBGZAH2gAyMzgzMTUwMzUzOmEyNGNmYTllMDM5ODM3NWJiMmNjZDZjOGEwNjkwYzkxMzhkMmY3MDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKM9EEgH2gAyMzgzMTUwMzUzOjA1NTk5OWMzNmYzOWNhZWQ1ODk5NGUyMmQ0MGVmODcxNjZkMmE3ZDc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a24cfa9e0398375bb2ccd6c8a0690c9138d2f700", "author": {"user": {"login": "mrichards", "name": "Marc Richards"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/a24cfa9e0398375bb2ccd6c8a0690c9138d2f700", "committedDate": "2020-03-03T20:05:46Z", "message": "Crashlytics Analytics Connector realtime fixes\n\nRefactor the Breadcrumbs receiver to listen for app exception events,\nwhich enables us to block app shutdown until we've confirmed that\nFirebase Analytics has received the app exception event.\n\nBecause Firebase Analytics serializes events asynchronously, it was possible\n(and in fact quite common) for the defaultUncaughtExceptionHandler to close\nthe app BEFORE Firebase Analytics was finished writing the app exception event\nto disk, which ultimately caused the event to be lost. Now Crashlytics waits\nfor the FA listener to fire with an app exception event before shutting down.\n\nThe 2000ms timeout was chosen somewhat arbitrarily; in practice the callback\nis received within 100ms or so, and it does not block at all if Firebase\nAnalytics is not present."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31ee949598316e6d21d83349d4927c3965564ae6", "author": {"user": {"login": "mrichards", "name": "Marc Richards"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/31ee949598316e6d21d83349d4927c3965564ae6", "committedDate": "2020-03-03T21:51:36Z", "message": "Merge branch 'master' into crash-analytics-realtime"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MzQyNzk5", "url": "https://github.com/firebase/firebase-android-sdk/pull/1310#pullrequestreview-368342799", "createdAt": "2020-03-03T21:37:03Z", "commit": {"oid": "a24cfa9e0398375bb2ccd6c8a0690c9138d2f700"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMTozNzowM1rOFxXaZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMjowNTowOVrOFxYR-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzMwODEzNA==", "bodyText": "Can we make the 2000 a constant?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1310#discussion_r387308134", "createdAt": "2020-03-03T21:37:03Z", "author": {"login": "mrwillis21"}, "path": "firebase-crashlytics/src/main/java/com/google/firebase/crashlytics/core/CrashlyticsController.java", "diffHunk": "@@ -1748,26 +1752,84 @@ private void sendSessionReports(AppSettingsData appSettings, boolean dataCollect\n     }\n   }\n \n-  private void recordFatalFirebaseEvent(long timestamp) {\n-    if (firebaseCrashExists()) {\n+  /**\n+   * Helper class that listens for Crashlytics origin events from FA and provides a method to block\n+   * while waiting for a Crash event to occur. The implementation assumes there can be at most ONE\n+   * app exception event being processed and waited upon at a time.\n+   */\n+  private static class BlockingCrashEventListener\n+      implements AnalyticsReceiver.CrashlyticsOriginEventListener {\n+\n+    private final CountDownLatch eventLatch = new CountDownLatch(1);\n+\n+    public void awaitEvent() throws InterruptedException {\n       Logger.getLogger()\n-          .d(Logger.TAG, \"Skipping logging Crashlytics event to Firebase, FirebaseCrash exists\");\n-      return;\n+          .d(Logger.TAG, \"Background thread awaiting crash event callback from FA...\");\n+\n+      if (eventLatch.await(2000, TimeUnit.MILLISECONDS)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a24cfa9e0398375bb2ccd6c8a0690c9138d2f700"}, "originalPosition": 124}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzMwODY5Mw==", "bodyText": "Should this be onClxOrigin?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1310#discussion_r387308693", "createdAt": "2020-03-03T21:38:08Z", "author": {"login": "mrwillis21"}, "path": "firebase-crashlytics/src/main/java/com/google/firebase/crashlytics/core/CrashlyticsController.java", "diffHunk": "@@ -1748,26 +1752,84 @@ private void sendSessionReports(AppSettingsData appSettings, boolean dataCollect\n     }\n   }\n \n-  private void recordFatalFirebaseEvent(long timestamp) {\n-    if (firebaseCrashExists()) {\n+  /**\n+   * Helper class that listens for Crashlytics origin events from FA and provides a method to block\n+   * while waiting for a Crash event to occur. The implementation assumes there can be at most ONE\n+   * app exception event being processed and waited upon at a time.\n+   */\n+  private static class BlockingCrashEventListener\n+      implements AnalyticsReceiver.CrashlyticsOriginEventListener {\n+\n+    private final CountDownLatch eventLatch = new CountDownLatch(1);\n+\n+    public void awaitEvent() throws InterruptedException {\n       Logger.getLogger()\n-          .d(Logger.TAG, \"Skipping logging Crashlytics event to Firebase, FirebaseCrash exists\");\n-      return;\n+          .d(Logger.TAG, \"Background thread awaiting crash event callback from FA...\");\n+\n+      if (eventLatch.await(2000, TimeUnit.MILLISECONDS)) {\n+        Logger.getLogger().d(Logger.TAG, \"Crash event callback received from FA listener.\");\n+      } else {\n+        Logger.getLogger()\n+            .d(\n+                Logger.TAG,\n+                \"Timeout exceeded while awaiting crash event callback from FA listener.\");\n+      }\n     }\n \n-    if (analyticsConnector != null) {\n-      Logger.getLogger().d(Logger.TAG, \"Logging Crashlytics event to Firebase\");\n-      final Bundle params = new Bundle();\n-      params.putInt(FIREBASE_CRASH_TYPE, FIREBASE_CRASH_TYPE_FATAL);\n-      params.putLong(FIREBASE_TIMESTAMP, timestamp);\n-      analyticsConnector.logEvent(\n-          FIREBASE_ANALYTICS_ORIGIN_CRASHLYTICS, FIREBASE_APPLICATION_EXCEPTION, params);\n-    } else {\n-      Logger.getLogger()\n-          .d(Logger.TAG, \"Skipping logging Crashlytics event to Firebase, no Firebase Analytics\");\n+    @Override\n+    public void onCrashOriginEvent(int id, Bundle extras) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a24cfa9e0398375bb2ccd6c8a0690c9138d2f700"}, "originalPosition": 145}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzMwOTMzNg==", "bodyText": "Just to be technically correct \ud83e\udd13 might be worth calling this app_exception event callback", "url": "https://github.com/firebase/firebase-android-sdk/pull/1310#discussion_r387309336", "createdAt": "2020-03-03T21:39:25Z", "author": {"login": "mrwillis21"}, "path": "firebase-crashlytics/src/main/java/com/google/firebase/crashlytics/core/CrashlyticsController.java", "diffHunk": "@@ -1748,26 +1752,84 @@ private void sendSessionReports(AppSettingsData appSettings, boolean dataCollect\n     }\n   }\n \n-  private void recordFatalFirebaseEvent(long timestamp) {\n-    if (firebaseCrashExists()) {\n+  /**\n+   * Helper class that listens for Crashlytics origin events from FA and provides a method to block\n+   * while waiting for a Crash event to occur. The implementation assumes there can be at most ONE\n+   * app exception event being processed and waited upon at a time.\n+   */\n+  private static class BlockingCrashEventListener\n+      implements AnalyticsReceiver.CrashlyticsOriginEventListener {\n+\n+    private final CountDownLatch eventLatch = new CountDownLatch(1);\n+\n+    public void awaitEvent() throws InterruptedException {\n       Logger.getLogger()\n-          .d(Logger.TAG, \"Skipping logging Crashlytics event to Firebase, FirebaseCrash exists\");\n-      return;\n+          .d(Logger.TAG, \"Background thread awaiting crash event callback from FA...\");\n+\n+      if (eventLatch.await(2000, TimeUnit.MILLISECONDS)) {\n+        Logger.getLogger().d(Logger.TAG, \"Crash event callback received from FA listener.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a24cfa9e0398375bb2ccd6c8a0690c9138d2f700"}, "originalPosition": 125}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzMxNjIwNg==", "bodyText": "Definitely thought this was a 1 for a minute and got very confused.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1310#discussion_r387316206", "createdAt": "2020-03-03T21:52:54Z", "author": {"login": "mrwillis21"}, "path": "firebase-crashlytics/src/main/java/com/google/firebase/crashlytics/internal/analytics/AnalyticsConnectorReceiver.java", "diffHunk": "@@ -75,14 +77,23 @@ public void unregister() {\n     }\n   }\n \n+  @Override\n+  public void setCrashlyticsOriginEventListener(@Nullable CrashlyticsOriginEventListener l) {\n+    this.crashOriginEventListener = l;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31ee949598316e6d21d83349d4927c3965564ae6"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzMxNzkzOA==", "bodyText": "Stylistic point: if you use the null object pattern here, and swap in a no-op implementation whenever null is passed in the setter above, you'll only have to null-check in the setter, rather than on every event.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1310#discussion_r387317938", "createdAt": "2020-03-03T21:56:21Z", "author": {"login": "mrwillis21"}, "path": "firebase-crashlytics/src/main/java/com/google/firebase/crashlytics/internal/analytics/AnalyticsConnectorReceiver.java", "diffHunk": "@@ -91,11 +102,22 @@ public void onMessageTriggered(int id, @Nullable Bundle extras) {\n       params = new Bundle();\n     }\n \n-    try {\n-      final String serializedEvent = BREADCRUMB_PREFIX + serializeEvent(name, params);\n-      breadcrumbHandler.dropBreadcrumb(serializedEvent);\n-    } catch (JSONException e) {\n-      Logger.getLogger().w(Logger.TAG, \"Unable to serialize Firebase Analytics event.\");\n+    final String origin = params.getString(EVENT_ORIGIN_KEY);\n+    if (CRASH_ORIGIN.equals(origin)) {\n+      if (crashOriginEventListener != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31ee949598316e6d21d83349d4927c3965564ae6"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzMxODMxOA==", "bodyText": "Would be great if we could pull these two paths out into named functions.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1310#discussion_r387318318", "createdAt": "2020-03-03T21:57:08Z", "author": {"login": "mrwillis21"}, "path": "firebase-crashlytics/src/main/java/com/google/firebase/crashlytics/internal/analytics/AnalyticsConnectorReceiver.java", "diffHunk": "@@ -91,11 +102,22 @@ public void onMessageTriggered(int id, @Nullable Bundle extras) {\n       params = new Bundle();\n     }\n \n-    try {\n-      final String serializedEvent = BREADCRUMB_PREFIX + serializeEvent(name, params);\n-      breadcrumbHandler.dropBreadcrumb(serializedEvent);\n-    } catch (JSONException e) {\n-      Logger.getLogger().w(Logger.TAG, \"Unable to serialize Firebase Analytics event.\");\n+    final String origin = params.getString(EVENT_ORIGIN_KEY);\n+    if (CRASH_ORIGIN.equals(origin)) {\n+      if (crashOriginEventListener != null) {\n+        crashOriginEventListener.onCrashOriginEvent(id, extras);\n+      }\n+    } else { // Drop breadcrumbs for all named events which did not originate from Crashlytics\n+      final String name = extras.getString(EVENT_NAME_KEY);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31ee949598316e6d21d83349d4927c3965564ae6"}, "originalPosition": 86}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzMyMDU5NA==", "bodyText": "As mentioned in chat, if you used a TaskCompletionSource instead of a countdown latch above, returned its Task from this method, and just resolved the task (via the completion source) in onCrashOriginEvent, you could simplify a lot of what's downstream.\n\nYou wouldn't need the extra Tasks.call with its own executor down below because this would just become part of the task chain already in the exception handler.\nYou wouldn't need the extra 2-second timeout here because the timeout would be handled by the exception handler task chain's timeout.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1310#discussion_r387320594", "createdAt": "2020-03-03T22:01:41Z", "author": {"login": "mrwillis21"}, "path": "firebase-crashlytics/src/main/java/com/google/firebase/crashlytics/core/CrashlyticsController.java", "diffHunk": "@@ -1805,26 +1809,84 @@ private void sendSessionReports(AppSettingsData appSettings, boolean dataCollect\n     }\n   }\n \n-  private void recordFatalFirebaseEvent(long timestamp) {\n-    if (firebaseCrashExists()) {\n+  /**\n+   * Helper class that listens for Crashlytics origin events from FA and provides a method to block\n+   * while waiting for a Crash event to occur. The implementation assumes there can be at most ONE\n+   * app exception event being processed and waited upon at a time.\n+   */\n+  private static class BlockingCrashEventListener\n+      implements AnalyticsReceiver.CrashlyticsOriginEventListener {\n+\n+    private final CountDownLatch eventLatch = new CountDownLatch(1);\n+\n+    public void awaitEvent() throws InterruptedException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31ee949598316e6d21d83349d4927c3965564ae6"}, "originalPosition": 118}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzMyMjM2MQ==", "bodyText": "If this returned a task (as mentioned above), you could remove the extra Tasks.call above and turn this method (recordFatalFirebaseEvent) into a synchronous call (which still returns this task), then just chain the return value in the uncaught exception handler the same way.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1310#discussion_r387322361", "createdAt": "2020-03-03T22:05:09Z", "author": {"login": "mrwillis21"}, "path": "firebase-crashlytics/src/main/java/com/google/firebase/crashlytics/core/CrashlyticsController.java", "diffHunk": "@@ -1805,26 +1809,84 @@ private void sendSessionReports(AppSettingsData appSettings, boolean dataCollect\n     }\n   }\n \n-  private void recordFatalFirebaseEvent(long timestamp) {\n-    if (firebaseCrashExists()) {\n+  /**\n+   * Helper class that listens for Crashlytics origin events from FA and provides a method to block\n+   * while waiting for a Crash event to occur. The implementation assumes there can be at most ONE\n+   * app exception event being processed and waited upon at a time.\n+   */\n+  private static class BlockingCrashEventListener\n+      implements AnalyticsReceiver.CrashlyticsOriginEventListener {\n+\n+    private final CountDownLatch eventLatch = new CountDownLatch(1);\n+\n+    public void awaitEvent() throws InterruptedException {\n       Logger.getLogger()\n-          .d(Logger.TAG, \"Skipping logging Crashlytics event to Firebase, FirebaseCrash exists\");\n-      return;\n+          .d(Logger.TAG, \"Background thread awaiting crash event callback from FA...\");\n+\n+      if (eventLatch.await(2000, TimeUnit.MILLISECONDS)) {\n+        Logger.getLogger().d(Logger.TAG, \"Crash event callback received from FA listener.\");\n+      } else {\n+        Logger.getLogger()\n+            .d(\n+                Logger.TAG,\n+                \"Timeout exceeded while awaiting crash event callback from FA listener.\");\n+      }\n     }\n \n-    if (analyticsConnector != null) {\n-      Logger.getLogger().d(Logger.TAG, \"Logging Crashlytics event to Firebase\");\n-      final Bundle params = new Bundle();\n-      params.putInt(FIREBASE_CRASH_TYPE, FIREBASE_CRASH_TYPE_FATAL);\n-      params.putLong(FIREBASE_TIMESTAMP, timestamp);\n-      analyticsConnector.logEvent(\n-          FIREBASE_ANALYTICS_ORIGIN_CRASHLYTICS, FIREBASE_APPLICATION_EXCEPTION, params);\n-    } else {\n-      Logger.getLogger()\n-          .d(Logger.TAG, \"Skipping logging Crashlytics event to Firebase, no Firebase Analytics\");\n+    @Override\n+    public void onCrashOriginEvent(int id, Bundle extras) {\n+      String eventName = extras.getString(AnalyticsConnectorReceiver.EVENT_NAME_KEY);\n+      if (AnalyticsConnectorReceiver.APP_EXCEPTION_EVENT_NAME.equals(eventName)) {\n+        eventLatch.countDown();\n+      }\n     }\n   }\n \n+  /**\n+   * Send an App Exception event to Firebase Analytics. FA records the event asynchronously, so this\n+   * method returns a Task in case the caller wants to verify that the event was recorded by FA and\n+   * will not be lost.\n+   */\n+  private Task<Void> recordFatalFirebaseEvent(long timestamp) {\n+    final ThreadPoolExecutor executor = new ScheduledThreadPoolExecutor(1);\n+    return Tasks.call(\n+        executor,\n+        new Callable<Void>() {\n+          @Override\n+          public Void call() throws Exception {\n+            if (firebaseCrashExists()) {\n+              Logger.getLogger()\n+                  .d(\n+                      Logger.TAG,\n+                      \"Skipping logging Crashlytics event to Firebase, FirebaseCrash exists\");\n+              return null;\n+            }\n+            if (analyticsConnector == null) {\n+              Logger.getLogger()\n+                  .d(\n+                      Logger.TAG,\n+                      \"Skipping logging Crashlytics event to Firebase, no Firebase Analytics\");\n+              return null;\n+            }\n+            final BlockingCrashEventListener blockingListener = new BlockingCrashEventListener();\n+            analyticsReceiver.setCrashlyticsOriginEventListener(blockingListener);\n+\n+            Logger.getLogger().d(Logger.TAG, \"Logging Crashlytics event to Firebase\");\n+            final Bundle params = new Bundle();\n+            params.putInt(FIREBASE_CRASH_TYPE, FIREBASE_CRASH_TYPE_FATAL);\n+            params.putLong(FIREBASE_TIMESTAMP, timestamp);\n+\n+            analyticsConnector.logEvent(\n+                FIREBASE_ANALYTICS_ORIGIN_CRASHLYTICS, FIREBASE_APPLICATION_EXCEPTION, params);\n+\n+            blockingListener.awaitEvent();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31ee949598316e6d21d83349d4927c3965564ae6"}, "originalPosition": 190}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aab386de3259ad406702c77556fb813fed863fbd", "author": {"user": {"login": "mrichards", "name": "Marc Richards"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/aab386de3259ad406702c77556fb813fed863fbd", "committedDate": "2020-03-04T00:28:39Z", "message": "Address minor PR comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cf87cd937eb81dad28d2a7f9dadb186daf10d5a", "author": {"user": {"login": "mrichards", "name": "Marc Richards"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/8cf87cd937eb81dad28d2a7f9dadb186daf10d5a", "committedDate": "2020-03-04T00:43:21Z", "message": "Fixed minor readability nits"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4NDMyOTUz", "url": "https://github.com/firebase/firebase-android-sdk/pull/1310#pullrequestreview-368432953", "createdAt": "2020-03-04T00:55:56Z", "commit": {"oid": "8cf87cd937eb81dad28d2a7f9dadb186daf10d5a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwMDo1NTo1NlrOFxcCnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwMDo1NTo1NlrOFxcCnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzM4Mzk2NA==", "bodyText": "nit: the \"fire\" prefix is... slightly overloaded in this codebase.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1310#discussion_r387383964", "createdAt": "2020-03-04T00:55:56Z", "author": {"login": "mrwillis21"}, "path": "firebase-crashlytics/src/main/java/com/google/firebase/crashlytics/internal/analytics/AnalyticsConnectorReceiver.java", "diffHunk": "@@ -91,6 +102,25 @@ public void onMessageTriggered(int id, @Nullable Bundle extras) {\n       params = new Bundle();\n     }\n \n+    final String origin = params.getString(EVENT_ORIGIN_KEY);\n+    if (CRASHLYTICS_ORIGIN.equals(origin)) {\n+      fireCrashlyticsOriginEvent(id, extras);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cf87cd937eb81dad28d2a7f9dadb186daf10d5a"}, "originalPosition": 86}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4NDMzMjM4", "url": "https://github.com/firebase/firebase-android-sdk/pull/1310#pullrequestreview-368433238", "createdAt": "2020-03-04T00:56:50Z", "commit": {"oid": "8cf87cd937eb81dad28d2a7f9dadb186daf10d5a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "055999c36f39caed58994e22d40ef87166d2a7d7", "author": {"user": {"login": "mrichards", "name": "Marc Richards"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/055999c36f39caed58994e22d40ef87166d2a7d7", "committedDate": "2020-03-04T01:50:53Z", "message": "One more nit."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2138, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}