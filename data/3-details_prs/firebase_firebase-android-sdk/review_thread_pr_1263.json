{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4MDY1NTg1", "number": 1263, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwMjo1NDoyM1rODhv-Hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwMjo1NDoyM1rODhv-Hg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NzE1NTUwOnYy", "diffSide": "RIGHT", "path": "firebase-installations/src/test/java/com/google/firebase/installations/FirebaseInstallationsTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwMjo1NDoyM1rOFsqLag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwMzowMDo0NVrOFsqRWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM3MjcxNA==", "bodyText": "make this + TimeUnit.MINUTES.toSeconds(30) please\nFIS SDK should update a FIS auth token even if it is still valid for another hour...\n(see grace period)", "url": "https://github.com/firebase/firebase-android-sdk/pull/1263#discussion_r382372714", "createdAt": "2020-02-21T02:54:23Z", "author": {"login": "andirayo"}, "path": "firebase-installations/src/test/java/com/google/firebase/installations/FirebaseInstallationsTest.java", "diffHunk": "@@ -639,13 +554,13 @@ public void testGetAuthToken_expiredAuthToken_fetchedNewTokenFromFIS() throws Ex\n         PersistedInstallationEntry.INSTANCE.withRegisteredFid(\n             TEST_FID_1,\n             TEST_REFRESH_TOKEN,\n-            utils.currentTimeInSecs(),\n+            // Make experation time to be 30 min ago\n+            utils.currentTimeInSecs()\n+                - TEST_TOKEN_EXPIRATION_TIMESTAMP\n+                - TimeUnit.MINUTES.toSeconds(30),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2b32447b15b128d56a0cd1ed0da0fc12ce00372"}, "originalPosition": 124}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM3NDIzMw==", "bodyText": "done", "url": "https://github.com/firebase/firebase-android-sdk/pull/1263#discussion_r382374233", "createdAt": "2020-02-21T03:00:45Z", "author": {"login": "ChaoqunCHEN"}, "path": "firebase-installations/src/test/java/com/google/firebase/installations/FirebaseInstallationsTest.java", "diffHunk": "@@ -639,13 +554,13 @@ public void testGetAuthToken_expiredAuthToken_fetchedNewTokenFromFIS() throws Ex\n         PersistedInstallationEntry.INSTANCE.withRegisteredFid(\n             TEST_FID_1,\n             TEST_REFRESH_TOKEN,\n-            utils.currentTimeInSecs(),\n+            // Make experation time to be 30 min ago\n+            utils.currentTimeInSecs()\n+                - TEST_TOKEN_EXPIRATION_TIMESTAMP\n+                - TimeUnit.MINUTES.toSeconds(30),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM3MjcxNA=="}, "originalCommit": {"oid": "f2b32447b15b128d56a0cd1ed0da0fc12ce00372"}, "originalPosition": 124}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 795, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}