{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyMTIzNDQ3", "number": 1214, "title": "Add new CrashlyticsReport data model", "bodyText": "New data model is an AutoValue data class representing the\nhierarchical Crashlytics report data structure, to be used for\npassing report data to the new Transport API. It is serialized\nvia the firebase-encoders-json @Encodable annotation.", "createdAt": "2020-02-06T21:34:51Z", "url": "https://github.com/firebase/firebase-android-sdk/pull/1214", "merged": true, "mergeCommit": {"oid": "42f8dae922c35d359e75bfb743d4e09fd30f3e75"}, "closed": true, "closedAt": "2020-02-07T18:00:56Z", "author": {"login": "mrwillis21"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBxrujgH2gAyMzcyMTIzNDQ3OjgyNzhmMGJjMmJlMjdhOGVjODU2MDM3NGRlMDdlMDg4YzA4ZTZlNmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcCDLrUAFqTM1NTMzMTc1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8278f0bc2be27a8ec8560374de07e088c08e6e6f", "author": {"user": {"login": "mrwillis21", "name": "Matt Willis"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/8278f0bc2be27a8ec8560374de07e088c08e6e6f", "committedDate": "2020-02-06T21:33:07Z", "message": "Add new CrashlyticsReport data model\n\nNew data model is an AutoValue data class representing the\nhierarchical Crashlytics report data structure, to be used for\npassing report data to the new Transport API. It is serialized\nvia the firebase-encoders-json @Encodable annotation."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NzkzNjc0", "url": "https://github.com/firebase/firebase-android-sdk/pull/1214#pullrequestreview-354793674", "createdAt": "2020-02-06T21:44:18Z", "commit": {"oid": "8278f0bc2be27a8ec8560374de07e088c08e6e6f"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQyMTo0NDoxOFrOFmrQdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQyMTo1MzoyMFrOFmrggA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjA5ODkzNA==", "bodyText": "I'm confused. Isn't that already in this file?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1214#discussion_r376098934", "createdAt": "2020-02-06T21:44:18Z", "author": {"login": "bklimt"}, "path": "firebase-crashlytics/src/main/java/com/google/firebase/crashlytics/internal/model/CrashlyticsReport.java", "diffHunk": "@@ -0,0 +1,854 @@\n+// Copyright 2020 Google LLC\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package com.google.firebase.crashlytics.internal.model;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import com.google.auto.value.AutoValue;\n+import com.google.firebase.crashlytics.internal.model.CrashlyticsReport.Session.Application.Organization;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8278f0bc2be27a8ec8560374de07e088c08e6e6f"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjA5OTEyMA==", "bodyText": "This top-level class really need a javadoc comment explaining how it works. It looks like the rest of the classes are mostly AutoValue representations of the report model, so maybe it's not necessary to have comments for all of them, but definitely at least one at the top.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1214#discussion_r376099120", "createdAt": "2020-02-06T21:44:44Z", "author": {"login": "bklimt"}, "path": "firebase-crashlytics/src/main/java/com/google/firebase/crashlytics/internal/model/CrashlyticsReport.java", "diffHunk": "@@ -0,0 +1,854 @@\n+// Copyright 2020 Google LLC\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package com.google.firebase.crashlytics.internal.model;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import com.google.auto.value.AutoValue;\n+import com.google.firebase.crashlytics.internal.model.CrashlyticsReport.Session.Application.Organization;\n+import com.google.firebase.crashlytics.internal.model.CrashlyticsReport.Session.Event;\n+import com.google.firebase.crashlytics.internal.model.CrashlyticsReport.Session.Event.Application;\n+import com.google.firebase.crashlytics.internal.model.CrashlyticsReport.Session.Event.Application.Execution.Thread.Frame;\n+import com.google.firebase.encoders.annotations.Encodable;\n+import com.google.firebase.encoders.annotations.Encodable.Field;\n+import com.google.firebase.encoders.annotations.Encodable.Ignore;\n+import java.nio.charset.Charset;\n+import java.util.List;\n+\n+@Encodable\n+@AutoValue\n+public abstract class CrashlyticsReport {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8278f0bc2be27a8ec8560374de07e088c08e6e6f"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjA5OTkxMg==", "bodyText": "It's kinda confusing how this lets you build reports but not using the builder itself. Why wouldn't callers just use the builder directly?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1214#discussion_r376099912", "createdAt": "2020-02-06T21:46:27Z", "author": {"login": "bklimt"}, "path": "firebase-crashlytics/src/main/java/com/google/firebase/crashlytics/internal/model/CrashlyticsReport.java", "diffHunk": "@@ -0,0 +1,854 @@\n+// Copyright 2020 Google LLC\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package com.google.firebase.crashlytics.internal.model;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import com.google.auto.value.AutoValue;\n+import com.google.firebase.crashlytics.internal.model.CrashlyticsReport.Session.Application.Organization;\n+import com.google.firebase.crashlytics.internal.model.CrashlyticsReport.Session.Event;\n+import com.google.firebase.crashlytics.internal.model.CrashlyticsReport.Session.Event.Application;\n+import com.google.firebase.crashlytics.internal.model.CrashlyticsReport.Session.Event.Application.Execution.Thread.Frame;\n+import com.google.firebase.encoders.annotations.Encodable;\n+import com.google.firebase.encoders.annotations.Encodable.Field;\n+import com.google.firebase.encoders.annotations.Encodable.Ignore;\n+import java.nio.charset.Charset;\n+import java.util.List;\n+\n+@Encodable\n+@AutoValue\n+public abstract class CrashlyticsReport {\n+\n+  private static final Charset UTF_8 = Charset.forName(\"UTF-8\");\n+\n+  @NonNull\n+  public static Builder builder() {\n+    return new AutoValue_CrashlyticsReport.Builder();\n+  }\n+\n+  @NonNull\n+  public abstract String getSdkVersion();\n+\n+  @NonNull\n+  public abstract String getGmpAppId();\n+\n+  public abstract int getPlatform();\n+\n+  @NonNull\n+  public abstract String getInstallationUuid();\n+\n+  @NonNull\n+  public abstract String getBuildVersion();\n+\n+  @NonNull\n+  public abstract String getDisplayVersion();\n+\n+  @NonNull\n+  public abstract Session getSession();\n+\n+  @NonNull\n+  public CrashlyticsReport withEvents(@NonNull List<Event> events) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8278f0bc2be27a8ec8560374de07e088c08e6e6f"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjEwMzA0MA==", "bodyText": "Did you write this from scratch just for this use case?\nWhy not just use Collections.unmodifiableList directly and call it good enough?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1214#discussion_r376103040", "createdAt": "2020-02-06T21:53:20Z", "author": {"login": "bklimt"}, "path": "firebase-crashlytics/src/main/java/com/google/firebase/crashlytics/internal/model/ImmutableList.java", "diffHunk": "@@ -0,0 +1,177 @@\n+// Copyright 2020 Google LLC\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package com.google.firebase.crashlytics.internal.model;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import java.util.Arrays;\n+import java.util.Collection;\n+import java.util.Collections;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.ListIterator;\n+import java.util.RandomAccess;\n+\n+/** Immutable list implementation for use with AutoValue */\n+public final class ImmutableList<E> implements List<E>, RandomAccess {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8278f0bc2be27a8ec8560374de07e088c08e6e6f"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f802ed78d5563db9a2e91424528ce04f7056effc", "author": {"user": {"login": "mrwillis21", "name": "Matt Willis"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/f802ed78d5563db9a2e91424528ce04f7056effc", "committedDate": "2020-02-07T15:32:00Z", "message": "PR feedback"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c66b5c84f66427aa55c6b272add4848e26e8d35b", "author": {"user": {"login": "mrwillis21", "name": "Matt Willis"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/c66b5c84f66427aa55c6b272add4848e26e8d35b", "committedDate": "2020-02-07T15:25:00Z", "message": "PR feedback"}, "afterCommit": {"oid": "f802ed78d5563db9a2e91424528ce04f7056effc", "author": {"user": {"login": "mrwillis21", "name": "Matt Willis"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/f802ed78d5563db9a2e91424528ce04f7056effc", "committedDate": "2020-02-07T15:32:00Z", "message": "PR feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MzMxNzU5", "url": "https://github.com/firebase/firebase-android-sdk/pull/1214#pullrequestreview-355331759", "createdAt": "2020-02-07T17:56:24Z", "commit": {"oid": "f802ed78d5563db9a2e91424528ce04f7056effc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2315, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}