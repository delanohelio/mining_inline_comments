{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1OTM5NDQ1", "number": 1402, "title": "Remove impressions for Campaigns delivered by backend service", "bodyText": "", "createdAt": "2020-03-30T22:26:08Z", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402", "merged": true, "mergeCommit": {"oid": "f03383ae35fc54b2d8371e5bb507c6e7187bcf70"}, "closed": true, "closedAt": "2020-04-01T17:44:43Z", "author": {"login": "JasonAHeron"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcS22scAFqTM4NDI5NDY0Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTbTkJgFqTM4NTgwNzIyMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0Mjk0NjQ2", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#pullrequestreview-384294646", "createdAt": "2020-03-30T23:07:17Z", "commit": {"oid": "780420bb463cb42020036799b8017c66f9872be7"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQyMzowNzoxN1rOF9_epg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQyMzowODozNFrOF9_gQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU0NzQ5NA==", "bodyText": "make this a set", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#discussion_r400547494", "createdAt": "2020-03-30T23:07:17Z", "author": {"login": "prakhar1989"}, "path": "firebase-inappmessaging/src/main/java/com/google/firebase/inappmessaging/internal/ImpressionStorageClient.java", "diffHunk": "@@ -96,4 +98,38 @@ private void clearInMemCache() {\n         .map(CampaignImpression::getCampaignId)\n         .contains(campaignId);\n   }\n+\n+  /** */\n+  public void clearImpressions(FetchEligibleCampaignsResponse response) {\n+    ArrayList<String> idsToClear = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "780420bb463cb42020036799b8017c66f9872be7"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU0NzkwNg==", "bodyText": "I think these logs are for debugging? if not, lets remove this (here and below)", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#discussion_r400547906", "createdAt": "2020-03-30T23:08:34Z", "author": {"login": "prakhar1989"}, "path": "firebase-inappmessaging/src/main/java/com/google/firebase/inappmessaging/internal/ImpressionStorageClient.java", "diffHunk": "@@ -96,4 +98,38 @@ private void clearInMemCache() {\n         .map(CampaignImpression::getCampaignId)\n         .contains(campaignId);\n   }\n+\n+  /** */\n+  public void clearImpressions(FetchEligibleCampaignsResponse response) {\n+    ArrayList<String> idsToClear = new ArrayList<>();\n+\n+    for (CampaignProto.ThickContent content : response.getMessagesList()) {\n+      String id =\n+          content.getPayloadCase().equals(CampaignProto.ThickContent.PayloadCase.VANILLA_PAYLOAD)\n+              ? content.getVanillaPayload().getCampaignId()\n+              : content.getExperimentalPayload().getCampaignId();\n+      idsToClear.add(id);\n+    }\n+    Logging.logd(\"Clearing impressions for: \" + idsToClear.toString());\n+    getAllImpressions()\n+        .defaultIfEmpty(EMPTY_IMPRESSIONS)\n+        .flatMapCompletable(\n+            (storedImpressions) -> {\n+              Logging.logd(\"Existing impressions: \" + storedImpressions.toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "780420bb463cb42020036799b8017c66f9872be7"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0Mjk2OTEz", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#pullrequestreview-384296913", "createdAt": "2020-03-30T23:13:03Z", "commit": {"oid": "780420bb463cb42020036799b8017c66f9872be7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQyMzoxMzowNFrOF9_mWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQyMzoxMzowNFrOF9_mWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU0OTQ2NA==", "bodyText": "Is this to test this whole thing e2e?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#discussion_r400549464", "createdAt": "2020-03-30T23:13:04Z", "author": {"login": "prakhar1989"}, "path": "firebase-inappmessaging/src/main/java/com/google/firebase/inappmessaging/internal/DisplayCallbacksImpl.java", "diffHunk": "@@ -231,7 +232,7 @@ private Completable logToImpressionStore() {\n         impressionStorageClient\n             .storeImpression(\n                 CampaignImpression.newBuilder()\n-                    .setImpressionTimestampMillis(clock.now())\n+                    .setImpressionTimestampMillis(clock.now() - TimeUnit.DAYS.toMillis(2))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "780420bb463cb42020036799b8017c66f9872be7"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0MzM1NjYy", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#pullrequestreview-384335662", "createdAt": "2020-03-31T01:04:11Z", "commit": {"oid": "780420bb463cb42020036799b8017c66f9872be7"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwMTowNDoxMVrOF-BpvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwMTowODo0N1rOF-BucQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU4MzEwMQ==", "bodyText": "If you get rid of this and return the completable", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#discussion_r400583101", "createdAt": "2020-03-31T01:04:11Z", "author": {"login": "ashwinraghav"}, "path": "firebase-inappmessaging/src/main/java/com/google/firebase/inappmessaging/internal/ImpressionStorageClient.java", "diffHunk": "@@ -96,4 +98,38 @@ private void clearInMemCache() {\n         .map(CampaignImpression::getCampaignId)\n         .contains(campaignId);\n   }\n+\n+  /** */\n+  public void clearImpressions(FetchEligibleCampaignsResponse response) {\n+    ArrayList<String> idsToClear = new ArrayList<>();\n+\n+    for (CampaignProto.ThickContent content : response.getMessagesList()) {\n+      String id =\n+          content.getPayloadCase().equals(CampaignProto.ThickContent.PayloadCase.VANILLA_PAYLOAD)\n+              ? content.getVanillaPayload().getCampaignId()\n+              : content.getExperimentalPayload().getCampaignId();\n+      idsToClear.add(id);\n+    }\n+    Logging.logd(\"Clearing impressions for: \" + idsToClear.toString());\n+    getAllImpressions()\n+        .defaultIfEmpty(EMPTY_IMPRESSIONS)\n+        .flatMapCompletable(\n+            (storedImpressions) -> {\n+              Logging.logd(\"Existing impressions: \" + storedImpressions.toString());\n+              CampaignImpressionList.Builder clearedImpressionListBuilder =\n+                  CampaignImpressionList.newBuilder();\n+              for (CampaignImpression storedImpression :\n+                  storedImpressions.getAlreadySeenCampaignsList()) {\n+                if (!idsToClear.contains(storedImpression.getCampaignId())) {\n+                  clearedImpressionListBuilder.addAlreadySeenCampaigns(storedImpression);\n+                }\n+              }\n+              CampaignImpressionList clearedImpressionList = clearedImpressionListBuilder.build();\n+              Logging.logd(\"New impression list: \" + clearedImpressionList.toString());\n+              return storageClient\n+                  .write(clearedImpressionList)\n+                  .doOnComplete(() -> initInMemCache(clearedImpressionList));\n+            })\n+        .blockingAwait();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "780420bb463cb42020036799b8017c66f9872be7"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU4NDMwNQ==", "bodyText": ".doOnSuccess(s -> impressionStorageClient.clearImpressions(s).subscribe()) similar to what cacheWrite does at line 266.\nThe key here is that doOnSuccess is a side effect type operator. The execution framework assumes that nothing needs to happen with the returned value. In your case, the return type of clearImpressions is a Completable that needs to either get chained into the observable or completed within the success consumer.", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#discussion_r400584305", "createdAt": "2020-03-31T01:08:47Z", "author": {"login": "ashwinraghav"}, "path": "firebase-inappmessaging/src/main/java/com/google/firebase/inappmessaging/internal/InAppMessageStreamManager.java", "diffHunk": "@@ -242,6 +242,7 @@ private boolean shouldIgnoreCache(String event) {\n                                           Locale.US,\n                                           \"Successfully fetched %d messages from backend\",\n                                           resp.getMessagesList().size())))\n+                          .doOnSuccess(impressionStorageClient::clearImpressions)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "780420bb463cb42020036799b8017c66f9872be7"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b6d2b811b7fc09d17c0919a55da12d62f5ffbaca", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/b6d2b811b7fc09d17c0919a55da12d62f5ffbaca", "committedDate": "2020-03-31T19:29:38Z", "message": "add docstring"}, "afterCommit": {"oid": "ea958ebf88a6ccea8a46fccb24111430cf1c0c98", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/ea958ebf88a6ccea8a46fccb24111430cf1c0c98", "committedDate": "2020-03-31T19:54:00Z", "message": "add docstring"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ea958ebf88a6ccea8a46fccb24111430cf1c0c98", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/ea958ebf88a6ccea8a46fccb24111430cf1c0c98", "committedDate": "2020-03-31T19:54:00Z", "message": "add docstring"}, "afterCommit": {"oid": "7bb5880958ae9efceab31c2099495495bf5ae02b", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/7bb5880958ae9efceab31c2099495495bf5ae02b", "committedDate": "2020-03-31T20:04:59Z", "message": "add docstring"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7bb5880958ae9efceab31c2099495495bf5ae02b", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/7bb5880958ae9efceab31c2099495495bf5ae02b", "committedDate": "2020-03-31T20:04:59Z", "message": "add docstring"}, "afterCommit": {"oid": "3f5567800b37570c5bd302f43bb2553c9e273f31", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/3f5567800b37570c5bd302f43bb2553c9e273f31", "committedDate": "2020-03-31T20:44:35Z", "message": "add docstring"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3f5567800b37570c5bd302f43bb2553c9e273f31", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/3f5567800b37570c5bd302f43bb2553c9e273f31", "committedDate": "2020-03-31T20:44:35Z", "message": "add docstring"}, "afterCommit": {"oid": "d58a9817d21f043b23308122e9ecf764f66d156c", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/d58a9817d21f043b23308122e9ecf764f66d156c", "committedDate": "2020-03-31T21:06:07Z", "message": "add docstring"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d58a9817d21f043b23308122e9ecf764f66d156c", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/d58a9817d21f043b23308122e9ecf764f66d156c", "committedDate": "2020-03-31T21:06:07Z", "message": "add docstring"}, "afterCommit": {"oid": "e4bfeb5f6326782b1d96f1fde8dc27e2f5b39441", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/e4bfeb5f6326782b1d96f1fde8dc27e2f5b39441", "committedDate": "2020-03-31T21:18:59Z", "message": "add docstring"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "64fd9a40cd329006b191715382faaeffd1167b8d", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/64fd9a40cd329006b191715382faaeffd1167b8d", "committedDate": "2020-03-31T21:21:31Z", "message": "add back crashy"}, "afterCommit": {"oid": "14e7225ebbb3806f6e517c6d786648374e630997", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/14e7225ebbb3806f6e517c6d786648374e630997", "committedDate": "2020-03-31T21:27:04Z", "message": "add back crashy"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1MTIyMTAz", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#pullrequestreview-385122103", "createdAt": "2020-03-31T21:35:36Z", "commit": {"oid": "14e7225ebbb3806f6e517c6d786648374e630997"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQyMTozNTozNlrOF-pHAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQyMTozNTozNlrOF-pHAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIyOTU2OQ==", "bodyText": "PLs consider a new test that checks is the completable was subscribed to", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#discussion_r401229569", "createdAt": "2020-03-31T21:35:36Z", "author": {"login": "ashwinraghav"}, "path": "firebase-inappmessaging/src/test/java/com/google/firebase/inappmessaging/internal/InAppMessageStreamManagerTest.java", "diffHunk": "@@ -198,6 +198,8 @@ public void setup() {\n             abtIntegrationHelper);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14e7225ebbb3806f6e517c6d786648374e630997"}, "originalPosition": 1}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "14e7225ebbb3806f6e517c6d786648374e630997", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/14e7225ebbb3806f6e517c6d786648374e630997", "committedDate": "2020-03-31T21:27:04Z", "message": "add back crashy"}, "afterCommit": {"oid": "19dba2f4413b95686c268f81dc99601e03652ece", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/19dba2f4413b95686c268f81dc99601e03652ece", "committedDate": "2020-03-31T21:56:38Z", "message": "add back crashy"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "19dba2f4413b95686c268f81dc99601e03652ece", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/19dba2f4413b95686c268f81dc99601e03652ece", "committedDate": "2020-03-31T21:56:38Z", "message": "add back crashy"}, "afterCommit": {"oid": "a39140d03f8a19c67984d7a0473c5b9fe62ccec4", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/a39140d03f8a19c67984d7a0473c5b9fe62ccec4", "committedDate": "2020-03-31T22:16:05Z", "message": "add back crashy"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a39140d03f8a19c67984d7a0473c5b9fe62ccec4", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/a39140d03f8a19c67984d7a0473c5b9fe62ccec4", "committedDate": "2020-03-31T22:16:05Z", "message": "add back crashy"}, "afterCommit": {"oid": "e636c74383b38373437ba41388441494dfe6c6ef", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/e636c74383b38373437ba41388441494dfe6c6ef", "committedDate": "2020-03-31T22:19:14Z", "message": "add back crashy"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1MTQ3MTA3", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#pullrequestreview-385147107", "createdAt": "2020-03-31T22:23:51Z", "commit": {"oid": "e636c74383b38373437ba41388441494dfe6c6ef"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQyMjoyMzo1MVrOF-qZxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQyMjoyNjozMFrOF-qduA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI1MDc1OA==", "bodyText": "Lets add why we do this? (something like: this is required because we trust the server to tell us which campaigns can be re-impressed to honor frequency limits)?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#discussion_r401250758", "createdAt": "2020-03-31T22:23:51Z", "author": {"login": "prakhar1989"}, "path": "firebase-inappmessaging/src/main/java/com/google/firebase/inappmessaging/internal/ImpressionStorageClient.java", "diffHunk": "@@ -96,4 +98,39 @@ private void clearInMemCache() {\n         .map(CampaignImpression::getCampaignId)\n         .contains(campaignId);\n   }\n+\n+  /**\n+   * Clears impressions for all campaigns found in the provided {@link\n+   * FetchEligibleCampaignsResponse}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e636c74383b38373437ba41388441494dfe6c6ef"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI1MTE2Mg==", "bodyText": "Did we test if this HashSet.toString logs the items and not the reference to the array?", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#discussion_r401251162", "createdAt": "2020-03-31T22:24:56Z", "author": {"login": "prakhar1989"}, "path": "firebase-inappmessaging/src/main/java/com/google/firebase/inappmessaging/internal/ImpressionStorageClient.java", "diffHunk": "@@ -96,4 +98,39 @@ private void clearInMemCache() {\n         .map(CampaignImpression::getCampaignId)\n         .contains(campaignId);\n   }\n+\n+  /**\n+   * Clears impressions for all campaigns found in the provided {@link\n+   * FetchEligibleCampaignsResponse}\n+   */\n+  public Completable clearImpressions(FetchEligibleCampaignsResponse response) {\n+    HashSet<String> idsToClear = new HashSet<>();\n+    for (CampaignProto.ThickContent content : response.getMessagesList()) {\n+      String id =\n+          content.getPayloadCase().equals(CampaignProto.ThickContent.PayloadCase.VANILLA_PAYLOAD)\n+              ? content.getVanillaPayload().getCampaignId()\n+              : content.getExperimentalPayload().getCampaignId();\n+      idsToClear.add(id);\n+    }\n+    Logging.logd(\"Potential impressions to clear: \" + idsToClear.toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e636c74383b38373437ba41388441494dfe6c6ef"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI1MTc2OA==", "bodyText": "nice! this seems much better than blockingAwait", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#discussion_r401251768", "createdAt": "2020-03-31T22:26:30Z", "author": {"login": "prakhar1989"}, "path": "firebase-inappmessaging/src/main/java/com/google/firebase/inappmessaging/internal/InAppMessageStreamManager.java", "diffHunk": "@@ -242,6 +242,8 @@ private boolean shouldIgnoreCache(String event) {\n                                           Locale.US,\n                                           \"Successfully fetched %d messages from backend\",\n                                           resp.getMessagesList().size())))\n+                          .doOnSuccess(\n+                              resp -> impressionStorageClient.clearImpressions(resp).subscribe())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e636c74383b38373437ba41388441494dfe6c6ef"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e636c74383b38373437ba41388441494dfe6c6ef", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/e636c74383b38373437ba41388441494dfe6c6ef", "committedDate": "2020-03-31T22:19:14Z", "message": "add back crashy"}, "afterCommit": {"oid": "41b0877c33744384ca2585e8ddb176794d10b99b", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/41b0877c33744384ca2585e8ddb176794d10b99b", "committedDate": "2020-04-01T16:05:23Z", "message": "add docstring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dab9eb48e509af3c00d3b488df7d81ea1cf249fe", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/dab9eb48e509af3c00d3b488df7d81ea1cf249fe", "committedDate": "2020-04-01T16:18:29Z", "message": "please work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59eed7adac0a85373a733e3f35754d8e380ceda1", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/59eed7adac0a85373a733e3f35754d8e380ceda1", "committedDate": "2020-04-01T16:18:29Z", "message": ":("}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02a00e27d79d2d14dec7bde1af069140a97d8a06", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/02a00e27d79d2d14dec7bde1af069140a97d8a06", "committedDate": "2020-04-01T16:18:29Z", "message": ":( :("}}, {"__typename": "PullRequestCommit", "commit": {"oid": "648e464152c133f20f5c77d209d3ec95e8307f32", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/648e464152c133f20f5c77d209d3ec95e8307f32", "committedDate": "2020-04-01T16:18:29Z", "message": "kk"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f071e4ef15912f3dc3d121fd3b1b26ba45cba247", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/f071e4ef15912f3dc3d121fd3b1b26ba45cba247", "committedDate": "2020-04-01T16:18:29Z", "message": "remove tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be78a82be7a39dfccfa9b42487395a8e88c647a4", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/be78a82be7a39dfccfa9b42487395a8e88c647a4", "committedDate": "2020-04-01T16:18:29Z", "message": "make the test pass"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a19f0edaabbf5532d94b81623eb66cb68692d9c", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/0a19f0edaabbf5532d94b81623eb66cb68692d9c", "committedDate": "2020-04-01T16:18:29Z", "message": "kk"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd8d1a9abb6e148dab66d4350e9890807ed4ecf0", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/bd8d1a9abb6e148dab66d4350e9890807ed4ecf0", "committedDate": "2020-04-01T16:18:29Z", "message": "add docstring"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "41b0877c33744384ca2585e8ddb176794d10b99b", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/41b0877c33744384ca2585e8ddb176794d10b99b", "committedDate": "2020-04-01T16:05:23Z", "message": "add docstring"}, "afterCommit": {"oid": "bd8d1a9abb6e148dab66d4350e9890807ed4ecf0", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/bd8d1a9abb6e148dab66d4350e9890807ed4ecf0", "committedDate": "2020-04-01T16:18:29Z", "message": "add docstring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36b3e034b0c3ad2ed2e2ee66a0e8677a028f0991", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/36b3e034b0c3ad2ed2e2ee66a0e8677a028f0991", "committedDate": "2020-04-01T17:16:21Z", "message": "add unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "884a596ee2e8027394cc9cb75fd698372da22c74", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/884a596ee2e8027394cc9cb75fd698372da22c74", "committedDate": "2020-04-01T17:28:56Z", "message": "comment for clarity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b02979a6243a42aabe7bbc7dd500990d5a9a55d2", "author": {"user": {"login": "JasonAHeron", "name": "Jason Heron"}}, "url": "https://github.com/firebase/firebase-android-sdk/commit/b02979a6243a42aabe7bbc7dd500990d5a9a55d2", "committedDate": "2020-04-01T17:29:42Z", "message": "add back failure mode"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1ODA3MjIy", "url": "https://github.com/firebase/firebase-android-sdk/pull/1402#pullrequestreview-385807222", "createdAt": "2020-04-01T17:39:27Z", "commit": {"oid": "b02979a6243a42aabe7bbc7dd500990d5a9a55d2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2728, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}