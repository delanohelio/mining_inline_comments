{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzMjg2NDQx", "number": 3004, "title": "[RW-4281][RW-4280][Risk=no] Update Account Creation", "bodyText": "Description:\nRemoves extra background images and update UX for account creation. New mocks are coming in, so there's some minor tweaks to this, but this updates it to the most up to date as of this moment, and removes the images.\n\nPR checklist\n\n This PR meets the Acceptance Criteria in the JIRA story\n The JIRA story has been moved to Dev Review\n This PR includes appropriate unit tests\n I have run and tested this change locally\n If this includes an API change, I have updated the appropriate Swagger definitions and notified API consumers\n If this includes a new feature flag, I have created and linked new JIRA tickets to (a) turn on the feature flag and (b) remove it later", "createdAt": "2020-01-15T18:55:38Z", "url": "https://github.com/all-of-us/workbench/pull/3004", "merged": true, "mergeCommit": {"oid": "1e1bfec5fee137eac565ff171021c131729800c2"}, "closed": true, "closedAt": "2020-01-21T16:48:35Z", "author": {"login": "s-rubenstein"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6qNCBgH2gAyMzYzMjg2NDQxOjUwYjczYzYyMDI0ZGRjOTQ2YjgzMjljZTEzODg0MDU3OWY3MGRlZDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8kBMIAFqTM0NjAzMDMzMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "50b73c62024ddc946b8329ce138840579f70ded8", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/50b73c62024ddc946b8329ce138840579f70ded8", "committedDate": "2020-01-15T18:52:47Z", "message": "Remove extra background images and update UX for account creation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bad802c3719f464822ead0b251ab1d0332f379cc", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/bad802c3719f464822ead0b251ab1d0332f379cc", "committedDate": "2020-01-15T19:08:11Z", "message": "Add tooltip and domain"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc06741d4fbc99dfda3ebf03a4acc93422917cf1", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/bc06741d4fbc99dfda3ebf03a4acc93422917cf1", "committedDate": "2020-01-15T19:11:32Z", "message": "fix linting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c344367d6bc3ee18a2da569ec984c829e68a7129", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/c344367d6bc3ee18a2da569ec984c829e68a7129", "committedDate": "2020-01-15T19:21:38Z", "message": "Fix tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNDY4MjM3", "url": "https://github.com/all-of-us/workbench/pull/3004#pullrequestreview-343468237", "createdAt": "2020-01-15T19:33:51Z", "commit": {"oid": "c344367d6bc3ee18a2da569ec984c829e68a7129"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQxOTozMzo1MVrOFeD9Mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQxOTozMzo1MVrOFeD9Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2NjQxOA==", "bodyText": "It'll be nice to have consistent class and const name. Also since it contains login page technically its not account creation", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367066418", "createdAt": "2020-01-15T19:33:51Z", "author": {"login": "NehaBroad"}, "path": "ui/src/app/pages/login/account-creation-images.tsx", "diffHunk": "@@ -0,0 +1,15 @@\n+export interface PageImages {\n+  backgroundImgSrc: string;\n+  smallerBackgroundImgSrc: string;\n+}\n+\n+export const pageImages = {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c344367d6bc3ee18a2da569ec984c829e68a7129"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNDcwMTgw", "url": "https://github.com/all-of-us/workbench/pull/3004#pullrequestreview-343470180", "createdAt": "2020-01-15T19:37:02Z", "commit": {"oid": "c344367d6bc3ee18a2da569ec984c829e68a7129"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQxOTozNzowM1rOFeEDPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQxOTozNzowM1rOFeEDPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2Nzk2NA==", "bodyText": "Can we use  tag here?", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367067964", "createdAt": "2020-01-15T19:37:03Z", "author": {"login": "NehaBroad"}, "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -76,33 +77,88 @@ export interface AccountCreationState {\n }\n \n const styles = {\n-  sectionLabel: {\n-    height: '22px',\n+  asideContainer: {\n+    backgroundColor: colorWithWhiteness(colors.primary, 0.85),\n+    borderRadius: 8,\n+    height: '17rem',\n+    width: '18rem',\n+    padding: '0.5rem'\n+  },\n+  asideHeader: {\n     color: colors.primary,\n-    fontFamily: 'Montserrat',\n-    fontSize: '16px',\n     fontWeight: 600,\n-    lineHeight: '22px',\n-    paddingBottom: '1.5rem'\n+    fontSize: 16,\n+  },\n+  asideText: {\n+    fontSize: 14,\n+    fontWeight: 400,\n+    color: colors.primary,\n+  },\n+  multiInputSpacing: {\n+    marginLeft: '2rem'\n+  },\n+  publiclyDisplayedText: {\n+    fontSize: 12,\n+    fontWeight: 400\n+  },\n+  sectionHeader: {\n+    width: '26rem',\n+    borderBottom: `1px solid ${colors.primary}`,\n+    color: colors.primary,\n+    fontWeight: 600,\n+    fontSize: 18,\n+    marginBottom: '1rem',\n   },\n-  section: {\n+  sectionInput: {\n     width: '12rem',\n     height: '1.5rem'\n+  },\n+  text: {\n+    fontSize: 14,\n+    color: colors.primary,\n+    lineHeight: '22px',\n   }\n };\n \n const nameLength = 80;\n \n export const Section = (props) => {\n   return <FormSection\n-      style={{display: 'flex', flexDirection: 'column', paddingTop: '1rem', ...props.style}}>\n-    <label style={styles.sectionLabel}>\n+      style={{display: 'flex', flexDirection: 'column', ...props.style}}>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c344367d6bc3ee18a2da569ec984c829e68a7129"}, "originalPosition": 100}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1d9dbc29807ae52810a337c55f2d21a57a1f021", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/c1d9dbc29807ae52810a337c55f2d21a57a1f021", "committedDate": "2020-01-15T19:53:07Z", "message": "PR Feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNjY4ODU0", "url": "https://github.com/all-of-us/workbench/pull/3004#pullrequestreview-343668854", "createdAt": "2020-01-16T04:34:27Z", "commit": {"oid": "c1d9dbc29807ae52810a337c55f2d21a57a1f021"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwNDozNDoyN1rOFeNv0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwNDozNDoyN1rOFeNv0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIyNjgzMw==", "bodyText": "Nit: can this be moved out its difficult to read the labelText html", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367226833", "createdAt": "2020-01-16T04:34:27Z", "author": {"login": "NehaBroad"}, "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -396,173 +452,197 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>\n+          <Section header={<div>Create an <i>All of Us</i> username</div>}>\n+            <div>\n+              <FlexRow>\n+                  <TextInputWithLabel value={username} inputId='username' inputName='username'\n+                                      placeholder='New Username' invalid={\n+                                        this.state.usernameConflictError || this.usernameInvalidError()}\n+                                      containerStyle={{width: '26rem'}} labelText={\n+                                        <div>New Username", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1d9dbc29807ae52810a337c55f2d21a57a1f021"}, "originalPosition": 233}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNjY5Mzk1", "url": "https://github.com/all-of-us/workbench/pull/3004#pullrequestreview-343669395", "createdAt": "2020-01-16T04:36:46Z", "commit": {"oid": "c1d9dbc29807ae52810a337c55f2d21a57a1f021"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwNDozNjo0N1rOFeNxzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwNDozNjo0N1rOFeNxzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIyNzM0Mg==", "bodyText": "nit: indent", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367227342", "createdAt": "2020-01-16T04:36:47Z", "author": {"login": "NehaBroad"}, "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -396,173 +452,197 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>\n+          <Section header={<div>Create an <i>All of Us</i> username</div>}>\n+            <div>\n+              <FlexRow>\n+                  <TextInputWithLabel value={username} inputId='username' inputName='username'\n+                                      placeholder='New Username' invalid={\n+                                        this.state.usernameConflictError || this.usernameInvalidError()}\n+                                      containerStyle={{width: '26rem'}} labelText={\n+                                        <div>New Username\n+                                          <TooltipTrigger side='top' content={<div>Usernames can contain only letters\n+                                            (a-z), numbers (0-9), dashes (-), underscores (_), apostrophes ('), and\n+                                            periods (.) (minimum of 3 characters and maximum of 64\n+                                            characters).<br/>Usernames cannot begin or end with a period (.) and may not\n+                                            contain more than one period (.) in a row.</div>}\n+                                                          style={{marginLeft: '0.5rem'}}>\n+                                            <InfoIcon style={{'height': '16px', 'paddingLeft': '2px'}}/>\n+                                          </TooltipTrigger>\n+                                        </div>}\n+                                    onChange={v => this.usernameChanged(v)}>\n+                  <div style={{...inputStyles.iconArea}}>\n+                    <ValidationIcon validSuccess={this.usernameValid}/>\n+                  </div>\n+                  <i style={{...styles.asideText, marginLeft: 4}}>@{serverConfigStore.getValue().gsuiteDomain}</i>\n+                </TextInputWithLabel>\n+\n+              </FlexRow>\n+              {this.state.usernameConflictError &&\n+              <div style={{height: '1.5rem'}}>\n+                <Error id='usernameConflictError'>\n+                  Username is already taken.\n+                </Error></div>}\n+              {this.usernameInvalidError() &&\n+              <div style={{height: '1.5rem'}}><Error id='usernameError'>\n+                Username is not a valid username.\n+              </Error></div>}\n             </div>\n-            <div style={{display: 'flex', alignItems: 'center'}}>\n-              <TextInput id='contactEmail' name='contactEmail'\n-                         placeholder='Email Address'\n-                         value={contactEmail}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('contactEmail', v)}/>\n-              {this.state.invalidEmail &&\n-              <Error id='invalidEmailError'>\n-                Contact Email Id is invalid\n-              </Error>}\n-              <MultiSelect placeholder='Degree' options={AccountCreationOptions.degree}\n-                           style={{...styles.section, marginLeft: '2rem', overflowY: 'none'}}\n-                           value={this.state.profile.degrees}\n-                           onChange={(e) =>\n-                             this.updateProfileObject('degrees', e.value)}/>\n+          </Section>\n+          <Section header={<div>About you <i style={styles.publiclyDisplayedText}>Publicly displayed</i></div>}>\n+            <FlexColumn>\n+              <FlexRow style={{paddingBottom: '1rem'}}>\n+                <TextInputWithLabel value={givenName} inputId='givenName' inputName='givenName' placeholder='First Name'\n+                                    invalid={givenName.length > nameLength} labelText='First Name'\n+                                    onChange={value => this.updateProfileObject('givenName', value)} />\n+\n+                {givenName.length > nameLength &&\n+                <ErrorMessage id='givenNameError'>\n+                  First Name must be {nameLength} characters or less.\n+                </ErrorMessage>}\n+                <TextInputWithLabel value={familyName} inputId='familyName' inputName='familyName' placeholder='Last Name'\n+                                    invalid={familyName.length > nameLength} containerStyle={styles.multiInputSpacing}\n+                                    onChange={v => this.updateProfileObject('familyName', v)}\n+                                    labelText='Last Name'/>\n+                {familyName.length > nameLength &&\n+                <ErrorMessage id='familyNameError'>\n+                  Last Name must be {nameLength} character or less.\n+                </ErrorMessage>}\n+              </FlexRow>\n+              <FlexRow style={{alignItems: 'center'}}>\n+                <TextInputWithLabel value={contactEmail} inputId='contactEmail' inputName='contactEmail'\n+                                    placeholder='Email Address'\n+                                    invalid={this.state.invalidEmail} labelText='Email Address'\n+                                    onChange={v => this.updateProfileObject('contactEmail', v)}/>\n+                {this.state.invalidEmail &&\n+                <Error id='invalidEmailError'>\n+                  Contact Email Id is invalid\n+                </Error>}\n+                <MultiSelectWithLabel placeholder={'You can select more than one'} options={AccountCreationOptions.degree}\n+                                      containerStyle={styles.multiInputSpacing} value={this.state.profile.degrees}\n+                                      labelText='Your degree'\n+                                      onChange={(e) => this.updateProfileObject('degrees', e.value)}/>\n+              </FlexRow>\n+            </FlexColumn>\n+          </Section>\n+          <Section header={<React.Fragment>\n+            <div>Your institutional mailing address</div>\n+            <div style={styles.asideText}>We use your address if we need to send correspondence about the program;\n+              your information will not be shared or displayed publicly</div>\n+          </React.Fragment>}>\n+            <FlexColumn style={{lineHeight: '1rem'}}>\n+              <FlexRow>\n+                <TextInputWithLabel dataTestId='streetAddress' inputName='streetAddress'\n+                                    placeholder='Street Address' value={streetAddress1} labelText='Street Address 1'\n+                                    onChange={value => this.updateAddress('streetAddress1', value)}/>\n+                <TextInputWithLabel dataTestId='streetAddress2' inputName='streetAddress2' placeholder='Street Address 2'\n+                                    value={streetAddress2} labelText='Street Address 2'\n+                                    containerStyle={styles.multiInputSpacing}\n+                                    onChange={value => this.updateAddress('streetAddress2', value)}/>\n+              </FlexRow>\n+              <FlexRow style={{marginTop: '0.75rem'}}>\n+              <TextInputWithLabel dataTestId='city' inputName='city' placeholder='City' value={city} labelText='City'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1d9dbc29807ae52810a337c55f2d21a57a1f021"}, "originalPosition": 329}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNjcwMzQy", "url": "https://github.com/all-of-us/workbench/pull/3004#pullrequestreview-343670342", "createdAt": "2020-01-16T04:41:36Z", "commit": {"oid": "c1d9dbc29807ae52810a337c55f2d21a57a1f021"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwNDo0MTozNlrOFeN0xg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwNDo0MTozNlrOFeN0xg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIyODEwMg==", "bodyText": "Hmm i think this (institutionalAffiliations && institutionalAffiliations.length > 0?..:..) be taken out in a function with a parameter as the property to return the 0th  parameter value if true else ''", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367228102", "createdAt": "2020-01-16T04:41:36Z", "author": {"login": "NehaBroad"}, "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -396,173 +452,197 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>\n+          <Section header={<div>Create an <i>All of Us</i> username</div>}>\n+            <div>\n+              <FlexRow>\n+                  <TextInputWithLabel value={username} inputId='username' inputName='username'\n+                                      placeholder='New Username' invalid={\n+                                        this.state.usernameConflictError || this.usernameInvalidError()}\n+                                      containerStyle={{width: '26rem'}} labelText={\n+                                        <div>New Username\n+                                          <TooltipTrigger side='top' content={<div>Usernames can contain only letters\n+                                            (a-z), numbers (0-9), dashes (-), underscores (_), apostrophes ('), and\n+                                            periods (.) (minimum of 3 characters and maximum of 64\n+                                            characters).<br/>Usernames cannot begin or end with a period (.) and may not\n+                                            contain more than one period (.) in a row.</div>}\n+                                                          style={{marginLeft: '0.5rem'}}>\n+                                            <InfoIcon style={{'height': '16px', 'paddingLeft': '2px'}}/>\n+                                          </TooltipTrigger>\n+                                        </div>}\n+                                    onChange={v => this.usernameChanged(v)}>\n+                  <div style={{...inputStyles.iconArea}}>\n+                    <ValidationIcon validSuccess={this.usernameValid}/>\n+                  </div>\n+                  <i style={{...styles.asideText, marginLeft: 4}}>@{serverConfigStore.getValue().gsuiteDomain}</i>\n+                </TextInputWithLabel>\n+\n+              </FlexRow>\n+              {this.state.usernameConflictError &&\n+              <div style={{height: '1.5rem'}}>\n+                <Error id='usernameConflictError'>\n+                  Username is already taken.\n+                </Error></div>}\n+              {this.usernameInvalidError() &&\n+              <div style={{height: '1.5rem'}}><Error id='usernameError'>\n+                Username is not a valid username.\n+              </Error></div>}\n             </div>\n-            <div style={{display: 'flex', alignItems: 'center'}}>\n-              <TextInput id='contactEmail' name='contactEmail'\n-                         placeholder='Email Address'\n-                         value={contactEmail}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('contactEmail', v)}/>\n-              {this.state.invalidEmail &&\n-              <Error id='invalidEmailError'>\n-                Contact Email Id is invalid\n-              </Error>}\n-              <MultiSelect placeholder='Degree' options={AccountCreationOptions.degree}\n-                           style={{...styles.section, marginLeft: '2rem', overflowY: 'none'}}\n-                           value={this.state.profile.degrees}\n-                           onChange={(e) =>\n-                             this.updateProfileObject('degrees', e.value)}/>\n+          </Section>\n+          <Section header={<div>About you <i style={styles.publiclyDisplayedText}>Publicly displayed</i></div>}>\n+            <FlexColumn>\n+              <FlexRow style={{paddingBottom: '1rem'}}>\n+                <TextInputWithLabel value={givenName} inputId='givenName' inputName='givenName' placeholder='First Name'\n+                                    invalid={givenName.length > nameLength} labelText='First Name'\n+                                    onChange={value => this.updateProfileObject('givenName', value)} />\n+\n+                {givenName.length > nameLength &&\n+                <ErrorMessage id='givenNameError'>\n+                  First Name must be {nameLength} characters or less.\n+                </ErrorMessage>}\n+                <TextInputWithLabel value={familyName} inputId='familyName' inputName='familyName' placeholder='Last Name'\n+                                    invalid={familyName.length > nameLength} containerStyle={styles.multiInputSpacing}\n+                                    onChange={v => this.updateProfileObject('familyName', v)}\n+                                    labelText='Last Name'/>\n+                {familyName.length > nameLength &&\n+                <ErrorMessage id='familyNameError'>\n+                  Last Name must be {nameLength} character or less.\n+                </ErrorMessage>}\n+              </FlexRow>\n+              <FlexRow style={{alignItems: 'center'}}>\n+                <TextInputWithLabel value={contactEmail} inputId='contactEmail' inputName='contactEmail'\n+                                    placeholder='Email Address'\n+                                    invalid={this.state.invalidEmail} labelText='Email Address'\n+                                    onChange={v => this.updateProfileObject('contactEmail', v)}/>\n+                {this.state.invalidEmail &&\n+                <Error id='invalidEmailError'>\n+                  Contact Email Id is invalid\n+                </Error>}\n+                <MultiSelectWithLabel placeholder={'You can select more than one'} options={AccountCreationOptions.degree}\n+                                      containerStyle={styles.multiInputSpacing} value={this.state.profile.degrees}\n+                                      labelText='Your degree'\n+                                      onChange={(e) => this.updateProfileObject('degrees', e.value)}/>\n+              </FlexRow>\n+            </FlexColumn>\n+          </Section>\n+          <Section header={<React.Fragment>\n+            <div>Your institutional mailing address</div>\n+            <div style={styles.asideText}>We use your address if we need to send correspondence about the program;\n+              your information will not be shared or displayed publicly</div>\n+          </React.Fragment>}>\n+            <FlexColumn style={{lineHeight: '1rem'}}>\n+              <FlexRow>\n+                <TextInputWithLabel dataTestId='streetAddress' inputName='streetAddress'\n+                                    placeholder='Street Address' value={streetAddress1} labelText='Street Address 1'\n+                                    onChange={value => this.updateAddress('streetAddress1', value)}/>\n+                <TextInputWithLabel dataTestId='streetAddress2' inputName='streetAddress2' placeholder='Street Address 2'\n+                                    value={streetAddress2} labelText='Street Address 2'\n+                                    containerStyle={styles.multiInputSpacing}\n+                                    onChange={value => this.updateAddress('streetAddress2', value)}/>\n+              </FlexRow>\n+              <FlexRow style={{marginTop: '0.75rem'}}>\n+              <TextInputWithLabel dataTestId='city' inputName='city' placeholder='City' value={city} labelText='City'\n+                                  onChange={value => this.updateAddress('city', value)}/>\n+              <TextInputWithLabel dataTestId='state' inputName='state' placeholder='State' value={state} labelText='State'\n+                                  containerStyle={styles.multiInputSpacing}\n+                                  onChange={value => this.updateAddress('state', value)}/>\n+              </FlexRow>\n+              <FlexRow style={{marginTop: '0.75rem'}}>\n+                <TextInputWithLabel dataTestId='zip' inputName='zip' placeholder='Zip Code'\n+                                    value={zipCode} labelText='Zip Code'\n+                                    onChange={value => this.updateAddress('zipCode', value)}/>\n+                <TextInputWithLabel dataTestId='country' inputName='country' placeholder='Country' value={country}\n+                                    labelText='Country' containerStyle={styles.multiInputSpacing}\n+                                    onChange={value => this.updateAddress('country', value)}/>\n+              </FlexRow>\n+            </FlexColumn>\n+          </Section>\n+          <Section header='Institutional Affiliation'>\n+            <label style={{color: colors.primary, fontSize: 16}}>\n+              Are you affiliated with an Academic Research Institution?\n+            </label>\n+            <div style={{paddingTop: '0.5rem'}}>\n+              <RadioButton data-test-id='show-institution-yes'\n+                           onChange={() => {this.clearInstitutionAffiliation();\n+                             this.setState({showInstitution: true}); }}\n+                           checked={this.state.showInstitution} style={{marginRight: '0.5rem'}}/>\n+              <label style={{paddingRight: '3rem', color: colors.primary}}>\n+                Yes\n+              </label>\n+              <RadioButton data-test-id='show-institution-no'\n+                           onChange={() => {this.clearInstitutionAffiliation();\n+                             this.setState({showInstitution: false}); }}\n+                           checked={!this.state.showInstitution} style={{marginRight: '0.5rem'}}/>\n+              <label style={{color: colors.primary}}>No</label>\n             </div>\n+          </Section>\n+          {this.state.showInstitution &&\n+          <FlexColumn style={{justifyContent: 'space-between'}}>\n+            <TextInput data-test-id='institutionname' style={{width: '16rem', marginBottom: '0.5rem',\n+              marginTop: '0.5rem'}}\n+              value={institutionalAffiliations && institutionalAffiliations.length > 0 ?\n+                  institutionalAffiliations[0].institution : ''}\n+              placeholder='Institution Name'\n+              onChange={value => this.updateInstitutionAffiliation('institution', value)}\n+                       ></TextInput>\n+            <Dropdown data-test-id='institutionRole' value={institutionalAffiliations &&\n+            institutionalAffiliations.length > 0 ?\n+                institutionalAffiliations[0].role : ''}\n+                      onChange={e => this.updateInstitutionAffiliation('role', e.value)}\n+                      placeholder='Which of the following describes your role'\n+                      style={{width: '16rem'}} options={AccountCreationOptions.roles}/>\n+          </FlexColumn>}\n+          {!this.state.showInstitution &&\n+          <FlexColumn style={{justifyContent: 'space-between'}}>\n+            <Dropdown data-test-id='affiliation'\n+                      style={{width: '18rem', marginBottom: '0.5rem', marginTop: '0.5rem'}}\n+                      value={institutionalAffiliations && institutionalAffiliations.length > 0 ?\n+                          institutionalAffiliations[0].nonAcademicAffiliation : ''}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1d9dbc29807ae52810a337c55f2d21a57a1f021"}, "originalPosition": 385}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNjcwNjk0", "url": "https://github.com/all-of-us/workbench/pull/3004#pullrequestreview-343670694", "createdAt": "2020-01-16T04:43:28Z", "commit": {"oid": "c1d9dbc29807ae52810a337c55f2d21a57a1f021"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwNDo0MzoyOFrOFeN16w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwNDo0MzoyOFrOFeN16w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIyODM5NQ==", "bodyText": "do we need this?", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367228395", "createdAt": "2020-01-16T04:43:28Z", "author": {"login": "NehaBroad"}, "path": "ui/src/app/pages/login/sign-in.tsx", "diffHunk": "@@ -145,11 +135,12 @@ export const SignInReact = withWindowSize()(\n     onKeyVerified(invitationKey: string) {\n       this.setState({\n         invitationKey: invitationKey,\n-        currentStep: 'accountCreation'\n+        currentStep: {stepName: 'accountCreation'}\n       });\n     }\n \n     setProfile(profile, currentStep) {\n+      console.log(currentStep);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1d9dbc29807ae52810a337c55f2d21a57a1f021"}, "originalPosition": 121}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c13cc44e32545cf3152e0e8c9a82aa1142dda4b4", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/c13cc44e32545cf3152e0e8c9a82aa1142dda4b4", "committedDate": "2020-01-16T15:09:04Z", "message": "PR feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/6e925da182ab7ea8ee7e1b7ccd19e318f19e5745", "committedDate": "2020-01-16T15:34:25Z", "message": "PR feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0MDI0MjE0", "url": "https://github.com/all-of-us/workbench/pull/3004#pullrequestreview-344024214", "createdAt": "2020-01-16T16:00:38Z", "commit": {"oid": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNjowMDozOVrOFeeljQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNjozODowM1rOFef93A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUwMjczMw==", "bodyText": "Why does this need a magic-number width instead of 100% or something?", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367502733", "createdAt": "2020-01-16T16:00:39Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/login/account-creation/account-creation-survey.tsx", "diffHunk": "@@ -127,7 +128,7 @@ export class AccountCreationSurvey extends React.Component<AccountCreationSurvey\n \n   render() {\n     const {profile: {demographicSurvey}} = this.state;\n-    return <div style={{marginTop: '1rem', paddingLeft: '3rem'}}>\n+    return <div style={{marginTop: '1rem', paddingLeft: '3rem', width: '26rem'}}>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUxNDY5Mg==", "bodyText": "Should this be configured per-environment?", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367514692", "createdAt": "2020-01-16T16:20:33Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/login/account-creation/account-creation.spec.tsx", "diffHunk": "@@ -20,6 +21,7 @@ const component = () => {\n };\n \n beforeEach(() => {\n+  serverConfigStore.next({gsuiteDomain: 'researchallofus.org'});", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUxOTUxMw==", "bodyText": "Why the absolute height and width?", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367519513", "createdAt": "2020-01-16T16:28:24Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -76,33 +77,88 @@ export interface AccountCreationState {\n }\n \n const styles = {\n-  sectionLabel: {\n-    height: '22px',\n+  asideContainer: {\n+    backgroundColor: colorWithWhiteness(colors.primary, 0.85),\n+    borderRadius: 8,\n+    height: '17rem',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUxOTY1OQ==", "bodyText": "another absolute height", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367519659", "createdAt": "2020-01-16T16:28:37Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -76,33 +77,88 @@ export interface AccountCreationState {\n }\n \n const styles = {\n-  sectionLabel: {\n-    height: '22px',\n+  asideContainer: {\n+    backgroundColor: colorWithWhiteness(colors.primary, 0.85),\n+    borderRadius: 8,\n+    height: '17rem',\n+    width: '18rem',\n+    padding: '0.5rem'\n+  },\n+  asideHeader: {\n     color: colors.primary,\n-    fontFamily: 'Montserrat',\n-    fontSize: '16px',\n     fontWeight: 600,\n-    lineHeight: '22px',\n-    paddingBottom: '1.5rem'\n+    fontSize: 16,\n+  },\n+  asideText: {\n+    fontSize: 14,\n+    fontWeight: 400,\n+    color: colors.primary,\n   },\n-  section: {\n+  multiInputSpacing: {\n+    marginLeft: '2rem'\n+  },\n+  publiclyDisplayedText: {\n+    fontSize: 12,\n+    fontWeight: 400\n+  },\n+  sectionHeader: {\n+    width: '26rem',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyMDE5Mw==", "bodyText": "empty string should be falsey so you shouldn't need the second half of the &&", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367520193", "createdAt": "2020-01-16T16:29:29Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -376,11 +432,17 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n       institution, nonAcademicAffiliation, role}, validationCheck);\n     this.setState({errors: errors}, () => {\n       if (!this.state.errors) {\n-        this.props.setProfile(this.state.profile, 'accountCreationSurvey');\n+        this.props.setProfile(this.state.profile, {stepName: 'accountCreationSurvey'});\n       }\n     });\n   }\n \n+  getInstitutionalAffiliationPropertyOrEmptyString(property: string) {\n+    const {institutionalAffiliations} = this.state.profile;\n+    return institutionalAffiliations &&", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745"}, "originalPosition": 159}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyMzMxMQ==", "bodyText": "Why do we do this instead of a *Required and starring required fields, which is a much more widely used indicator of what is required and what is not?", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367523311", "createdAt": "2020-01-16T16:34:31Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -390,179 +452,198 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n         address: {\n           streetAddress1, streetAddress2, city, state, zipCode, country\n         },\n-        institutionalAffiliations\n       },\n     } = this.state;\n+    const usernameLabelText =\n+      <div>New Username\n+        <TooltipTrigger side='top' content={<div>Usernames can contain only letters\n+          (a-z), numbers (0-9), dashes (-), underscores (_), apostrophes ('), and\n+          periods (.) (minimum of 3 characters and maximum of 64\n+          characters).<br/>Usernames cannot begin or end with a period (.) and may not\n+          contain more than one period (.) in a row.</div>}\n+                        style={{marginLeft: '0.5rem'}}>\n+          <InfoIcon style={{'height': '16px', 'paddingLeft': '2px'}}/>\n+        </TooltipTrigger>\n+      </div>;\n+\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745"}, "originalPosition": 253}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyNDkwNw==", "bodyText": "nit: should we stick the actual {username} is not a valid username in here instead?", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367524907", "createdAt": "2020-01-16T16:37:19Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -390,179 +452,198 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n         address: {\n           streetAddress1, streetAddress2, city, state, zipCode, country\n         },\n-        institutionalAffiliations\n       },\n     } = this.state;\n+    const usernameLabelText =\n+      <div>New Username\n+        <TooltipTrigger side='top' content={<div>Usernames can contain only letters\n+          (a-z), numbers (0-9), dashes (-), underscores (_), apostrophes ('), and\n+          periods (.) (minimum of 3 characters and maximum of 64\n+          characters).<br/>Usernames cannot begin or end with a period (.) and may not\n+          contain more than one period (.) in a row.</div>}\n+                        style={{marginLeft: '0.5rem'}}>\n+          <InfoIcon style={{'height': '16px', 'paddingLeft': '2px'}}/>\n+        </TooltipTrigger>\n+      </div>;\n+\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>\n+          <Section header={<div>Create an <i>All of Us</i> username</div>}>\n+            <div>\n+              <FlexRow>\n+                  <TextInputWithLabel value={username} inputId='username' inputName='username'\n+                                      placeholder='New Username' invalid={\n+                                        this.state.usernameConflictError || this.usernameInvalidError()}\n+                                      containerStyle={{width: '26rem'}} labelText={usernameLabelText}\n+                                    onChange={v => this.usernameChanged(v)}>\n+                  <div style={{...inputStyles.iconArea}}>\n+                    <ValidationIcon validSuccess={this.usernameValid}/>\n+                  </div>\n+                  <i style={{...styles.asideText, marginLeft: 4}}>@{serverConfigStore.getValue().gsuiteDomain}</i>\n+                </TextInputWithLabel>\n+\n+              </FlexRow>\n+              {this.state.usernameConflictError &&\n+              <div style={{height: '1.5rem'}}>\n+                <Error id='usernameConflictError'>\n+                  Username is already taken.\n+                </Error></div>}\n+              {this.usernameInvalidError() &&\n+              <div style={{height: '1.5rem'}}><Error id='usernameError'>\n+                Username is not a valid username.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745"}, "originalPosition": 276}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyNTM0MA==", "bodyText": "Wording is odd here - maybe Contact email is invalid?", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367525340", "createdAt": "2020-01-16T16:38:03Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -390,179 +452,198 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n         address: {\n           streetAddress1, streetAddress2, city, state, zipCode, country\n         },\n-        institutionalAffiliations\n       },\n     } = this.state;\n+    const usernameLabelText =\n+      <div>New Username\n+        <TooltipTrigger side='top' content={<div>Usernames can contain only letters\n+          (a-z), numbers (0-9), dashes (-), underscores (_), apostrophes ('), and\n+          periods (.) (minimum of 3 characters and maximum of 64\n+          characters).<br/>Usernames cannot begin or end with a period (.) and may not\n+          contain more than one period (.) in a row.</div>}\n+                        style={{marginLeft: '0.5rem'}}>\n+          <InfoIcon style={{'height': '16px', 'paddingLeft': '2px'}}/>\n+        </TooltipTrigger>\n+      </div>;\n+\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>\n+          <Section header={<div>Create an <i>All of Us</i> username</div>}>\n+            <div>\n+              <FlexRow>\n+                  <TextInputWithLabel value={username} inputId='username' inputName='username'\n+                                      placeholder='New Username' invalid={\n+                                        this.state.usernameConflictError || this.usernameInvalidError()}\n+                                      containerStyle={{width: '26rem'}} labelText={usernameLabelText}\n+                                    onChange={v => this.usernameChanged(v)}>\n+                  <div style={{...inputStyles.iconArea}}>\n+                    <ValidationIcon validSuccess={this.usernameValid}/>\n+                  </div>\n+                  <i style={{...styles.asideText, marginLeft: 4}}>@{serverConfigStore.getValue().gsuiteDomain}</i>\n+                </TextInputWithLabel>\n+\n+              </FlexRow>\n+              {this.state.usernameConflictError &&\n+              <div style={{height: '1.5rem'}}>\n+                <Error id='usernameConflictError'>\n+                  Username is already taken.\n+                </Error></div>}\n+              {this.usernameInvalidError() &&\n+              <div style={{height: '1.5rem'}}><Error id='usernameError'>\n+                Username is not a valid username.\n+              </Error></div>}\n             </div>\n-            <div style={{display: 'flex', alignItems: 'center'}}>\n-              <TextInput id='contactEmail' name='contactEmail'\n-                         placeholder='Email Address'\n-                         value={contactEmail}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('contactEmail', v)}/>\n-              {this.state.invalidEmail &&\n-              <Error id='invalidEmailError'>\n-                Contact Email Id is invalid\n-              </Error>}\n-              <MultiSelect placeholder='Degree' options={AccountCreationOptions.degree}\n-                           style={{...styles.section, marginLeft: '2rem', overflowY: 'none'}}\n-                           value={this.state.profile.degrees}\n-                           onChange={(e) =>\n-                             this.updateProfileObject('degrees', e.value)}/>\n+          </Section>\n+          <Section header={<div>About you <i style={styles.publiclyDisplayedText}>Publicly displayed</i></div>}>\n+            <FlexColumn>\n+              <FlexRow style={{paddingBottom: '1rem'}}>\n+                <TextInputWithLabel value={givenName} inputId='givenName' inputName='givenName' placeholder='First Name'\n+                                    invalid={givenName.length > nameLength} labelText='First Name'\n+                                    onChange={value => this.updateProfileObject('givenName', value)} />\n+                {givenName.length > nameLength &&\n+                <ErrorMessage id='givenNameError'>\n+                  First Name must be {nameLength} characters or less.\n+                </ErrorMessage>}\n+                <TextInputWithLabel value={familyName} inputId='familyName' inputName='familyName' placeholder='Last Name'\n+                                    invalid={familyName.length > nameLength} containerStyle={styles.multiInputSpacing}\n+                                    onChange={v => this.updateProfileObject('familyName', v)}\n+                                    labelText='Last Name'/>\n+                {familyName.length > nameLength &&\n+                <ErrorMessage id='familyNameError'>\n+                  Last Name must be {nameLength} character or less.\n+                </ErrorMessage>}\n+              </FlexRow>\n+              <FlexRow style={{alignItems: 'center'}}>\n+                <TextInputWithLabel value={contactEmail} inputId='contactEmail' inputName='contactEmail'\n+                                    placeholder='Email Address'\n+                                    invalid={this.state.invalidEmail} labelText='Email Address'\n+                                    onChange={v => this.updateProfileObject('contactEmail', v)}/>\n+                {this.state.invalidEmail &&\n+                <Error id='invalidEmailError'>\n+                  Contact Email Id is invalid", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745"}, "originalPosition": 321}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0MTIzMzgw", "url": "https://github.com/all-of-us/workbench/pull/3004#pullrequestreview-344123380", "createdAt": "2020-01-16T18:27:40Z", "commit": {"oid": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxODoyNzo0MFrOFejPJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxODoyNzo0MFrOFejPJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU3ODkxNg==", "bodyText": "While trying this on my local i cannot see any required field error on Clicking the next button", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367578916", "createdAt": "2020-01-16T18:27:40Z", "author": {"login": "NehaBroad"}, "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -390,179 +452,198 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n         address: {\n           streetAddress1, streetAddress2, city, state, zipCode, country\n         },\n-        institutionalAffiliations\n       },\n     } = this.state;\n+    const usernameLabelText =\n+      <div>New Username\n+        <TooltipTrigger side='top' content={<div>Usernames can contain only letters\n+          (a-z), numbers (0-9), dashes (-), underscores (_), apostrophes ('), and\n+          periods (.) (minimum of 3 characters and maximum of 64\n+          characters).<br/>Usernames cannot begin or end with a period (.) and may not\n+          contain more than one period (.) in a row.</div>}\n+                        style={{marginLeft: '0.5rem'}}>\n+          <InfoIcon style={{'height': '16px', 'paddingLeft': '2px'}}/>\n+        </TooltipTrigger>\n+      </div>;\n+\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>\n+          <Section header={<div>Create an <i>All of Us</i> username</div>}>\n+            <div>\n+              <FlexRow>\n+                  <TextInputWithLabel value={username} inputId='username' inputName='username'\n+                                      placeholder='New Username' invalid={\n+                                        this.state.usernameConflictError || this.usernameInvalidError()}\n+                                      containerStyle={{width: '26rem'}} labelText={usernameLabelText}\n+                                    onChange={v => this.usernameChanged(v)}>\n+                  <div style={{...inputStyles.iconArea}}>\n+                    <ValidationIcon validSuccess={this.usernameValid}/>\n+                  </div>\n+                  <i style={{...styles.asideText, marginLeft: 4}}>@{serverConfigStore.getValue().gsuiteDomain}</i>\n+                </TextInputWithLabel>\n+\n+              </FlexRow>\n+              {this.state.usernameConflictError &&\n+              <div style={{height: '1.5rem'}}>\n+                <Error id='usernameConflictError'>\n+                  Username is already taken.\n+                </Error></div>}\n+              {this.usernameInvalidError() &&\n+              <div style={{height: '1.5rem'}}><Error id='usernameError'>\n+                Username is not a valid username.\n+              </Error></div>}\n             </div>\n-            <div style={{display: 'flex', alignItems: 'center'}}>\n-              <TextInput id='contactEmail' name='contactEmail'\n-                         placeholder='Email Address'\n-                         value={contactEmail}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('contactEmail', v)}/>\n-              {this.state.invalidEmail &&\n-              <Error id='invalidEmailError'>\n-                Contact Email Id is invalid\n-              </Error>}\n-              <MultiSelect placeholder='Degree' options={AccountCreationOptions.degree}\n-                           style={{...styles.section, marginLeft: '2rem', overflowY: 'none'}}\n-                           value={this.state.profile.degrees}\n-                           onChange={(e) =>\n-                             this.updateProfileObject('degrees', e.value)}/>\n+          </Section>\n+          <Section header={<div>About you <i style={styles.publiclyDisplayedText}>Publicly displayed</i></div>}>\n+            <FlexColumn>\n+              <FlexRow style={{paddingBottom: '1rem'}}>\n+                <TextInputWithLabel value={givenName} inputId='givenName' inputName='givenName' placeholder='First Name'\n+                                    invalid={givenName.length > nameLength} labelText='First Name'\n+                                    onChange={value => this.updateProfileObject('givenName', value)} />\n+                {givenName.length > nameLength &&\n+                <ErrorMessage id='givenNameError'>\n+                  First Name must be {nameLength} characters or less.\n+                </ErrorMessage>}\n+                <TextInputWithLabel value={familyName} inputId='familyName' inputName='familyName' placeholder='Last Name'\n+                                    invalid={familyName.length > nameLength} containerStyle={styles.multiInputSpacing}\n+                                    onChange={v => this.updateProfileObject('familyName', v)}\n+                                    labelText='Last Name'/>\n+                {familyName.length > nameLength &&\n+                <ErrorMessage id='familyNameError'>\n+                  Last Name must be {nameLength} character or less.\n+                </ErrorMessage>}\n+              </FlexRow>\n+              <FlexRow style={{alignItems: 'center'}}>\n+                <TextInputWithLabel value={contactEmail} inputId='contactEmail' inputName='contactEmail'\n+                                    placeholder='Email Address'\n+                                    invalid={this.state.invalidEmail} labelText='Email Address'\n+                                    onChange={v => this.updateProfileObject('contactEmail', v)}/>\n+                {this.state.invalidEmail &&\n+                <Error id='invalidEmailError'>\n+                  Contact Email Id is invalid\n+                </Error>}\n+                <MultiSelectWithLabel placeholder={'You can select more than one'} options={AccountCreationOptions.degree}\n+                                      containerStyle={styles.multiInputSpacing} value={this.state.profile.degrees}\n+                                      labelText='Your degree'\n+                                      onChange={(e) => this.updateProfileObject('degrees', e.value)}/>\n+              </FlexRow>\n+            </FlexColumn>\n+          </Section>\n+          <Section header={<React.Fragment>\n+            <div>Your institutional mailing address</div>\n+            <div style={styles.asideText}>We use your address if we need to send correspondence about the program;\n+              your information will not be shared or displayed publicly</div>\n+          </React.Fragment>}>\n+            <FlexColumn style={{lineHeight: '1rem'}}>\n+              <FlexRow>\n+                <TextInputWithLabel dataTestId='streetAddress' inputName='streetAddress'\n+                                    placeholder='Street Address' value={streetAddress1} labelText='Street Address 1'\n+                                    onChange={value => this.updateAddress('streetAddress1', value)}/>\n+                <TextInputWithLabel dataTestId='streetAddress2' inputName='streetAddress2' placeholder='Street Address 2'\n+                                    value={streetAddress2} labelText='Street Address 2'\n+                                    containerStyle={styles.multiInputSpacing}\n+                                    onChange={value => this.updateAddress('streetAddress2', value)}/>\n+              </FlexRow>\n+              <FlexRow style={{marginTop: '0.75rem'}}>\n+                <TextInputWithLabel dataTestId='city' inputName='city' placeholder='City' value={city} labelText='City'\n+                                    onChange={value => this.updateAddress('city', value)}/>\n+                <TextInputWithLabel dataTestId='state' inputName='state' placeholder='State' value={state} labelText='State'\n+                                    containerStyle={styles.multiInputSpacing}\n+                                    onChange={value => this.updateAddress('state', value)}/>\n+              </FlexRow>\n+              <FlexRow style={{marginTop: '0.75rem'}}>\n+                <TextInputWithLabel dataTestId='zip' inputName='zip' placeholder='Zip Code'\n+                                    value={zipCode} labelText='Zip Code'\n+                                    onChange={value => this.updateAddress('zipCode', value)}/>\n+                <TextInputWithLabel dataTestId='country' inputName='country' placeholder='Country' value={country}\n+                                    labelText='Country' containerStyle={styles.multiInputSpacing}\n+                                    onChange={value => this.updateAddress('country', value)}/>\n+              </FlexRow>\n+            </FlexColumn>\n+          </Section>\n+          <Section header='Institutional Affiliation'>\n+            <label style={{color: colors.primary, fontSize: 16}}>\n+              Are you affiliated with an Academic Research Institution?\n+            </label>\n+            <div style={{paddingTop: '0.5rem'}}>\n+              <RadioButton data-test-id='show-institution-yes'\n+                           onChange={() => {this.clearInstitutionAffiliation();\n+                             this.setState({showInstitution: true}); }}\n+                           checked={this.state.showInstitution} style={{marginRight: '0.5rem'}}/>\n+              <label style={{paddingRight: '3rem', color: colors.primary}}>\n+                Yes\n+              </label>\n+              <RadioButton data-test-id='show-institution-no'\n+                           onChange={() => {this.clearInstitutionAffiliation();\n+                             this.setState({showInstitution: false}); }}\n+                           checked={!this.state.showInstitution} style={{marginRight: '0.5rem'}}/>\n+              <label style={{color: colors.primary}}>No</label>\n             </div>\n+          </Section>\n+          {this.state.showInstitution &&\n+          <FlexColumn style={{justifyContent: 'space-between'}}>\n+            <TextInput data-test-id='institutionname' style={{width: '16rem', marginBottom: '0.5rem',\n+              marginTop: '0.5rem'}}\n+              value={this.getInstitutionalAffiliationPropertyOrEmptyString('institution')}\n+              placeholder='Institution Name'\n+              onChange={value => this.updateInstitutionAffiliation('institution', value)}\n+                       />\n+            <Dropdown data-test-id='institutionRole'\n+                      value={this.getInstitutionalAffiliationPropertyOrEmptyString('role')}\n+                      onChange={e => this.updateInstitutionAffiliation('role', e.value)}\n+                      placeholder='Which of the following describes your role'\n+                      style={{width: '16rem'}} options={AccountCreationOptions.roles}/>\n+          </FlexColumn>}\n+          {!this.state.showInstitution &&\n+          <FlexColumn style={{justifyContent: 'space-between'}}>\n+            <Dropdown data-test-id='affiliation'\n+                      style={{width: '18rem', marginBottom: '0.5rem', marginTop: '0.5rem'}}\n+                      value={this.getInstitutionalAffiliationPropertyOrEmptyString('nonAcademicAffiliation')}\n+                      options={AccountCreationOptions.nonAcademicAffiliations}\n+                      onChange={e => this.updateNonAcademicAffiliationRoles(e.value)}\n+                      placeholder='Which of the following better describes your affiliation?'/>\n+            {this.state.showNonAcademicAffiliationRole &&\n+            <Dropdown data-test-id='affiliationrole' placeholder='Which of the following describes your role'\n+                      options={this.state.rolesOptions}\n+                      value={this.getInstitutionalAffiliationPropertyOrEmptyString('role')}\n+                      onChange={e => this.selectNonAcademicAffiliationRoles(e.value)}\n+                      style={{width: '18rem'}}/>}\n+            {this.state.showNonAcademicAffiliationOther &&\n+            <TextInput value={this.getInstitutionalAffiliationPropertyOrEmptyString('other')}\n+                       onChange={value => this.updateInstitutionAffiliation('other', value)}\n+                       style={{marginTop: '1rem', width: '18rem'}}/>}\n+          </FlexColumn>}\n+          <FormSection style={{paddingBottom: '1rem'}}>\n+            <Button disabled={this.state.usernameCheckInProgress || this.isUsernameValidationError}\n+                    style={{'height': '2rem', 'width': '10rem'}}\n+                    onClick={() => this.validateAccountCreation()}>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745"}, "originalPosition": 417}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db1fba553bf56f28b0528aed7dabbbf1ea470344", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/db1fba553bf56f28b0528aed7dabbbf1ea470344", "committedDate": "2020-01-16T19:49:06Z", "message": "PR feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0MjIwMzk5", "url": "https://github.com/all-of-us/workbench/pull/3004#pullrequestreview-344220399", "createdAt": "2020-01-16T21:14:50Z", "commit": {"oid": "db1fba553bf56f28b0528aed7dabbbf1ea470344"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQyMToxNDo1MVrOFenxPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQyMToxNDo1MVrOFenxPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzY1MzE4Mw==", "bodyText": "\u00af\\_(\u30c4)_/\u00af", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367653183", "createdAt": "2020-01-16T21:14:51Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -390,179 +452,198 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n         address: {\n           streetAddress1, streetAddress2, city, state, zipCode, country\n         },\n-        institutionalAffiliations\n       },\n     } = this.state;\n+    const usernameLabelText =\n+      <div>New Username\n+        <TooltipTrigger side='top' content={<div>Usernames can contain only letters\n+          (a-z), numbers (0-9), dashes (-), underscores (_), apostrophes ('), and\n+          periods (.) (minimum of 3 characters and maximum of 64\n+          characters).<br/>Usernames cannot begin or end with a period (.) and may not\n+          contain more than one period (.) in a row.</div>}\n+                        style={{marginLeft: '0.5rem'}}>\n+          <InfoIcon style={{'height': '16px', 'paddingLeft': '2px'}}/>\n+        </TooltipTrigger>\n+      </div>;\n+\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyMzMxMQ=="}, "originalCommit": {"oid": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745"}, "originalPosition": 253}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f60740d163c0d9b1c44c10b2074e0fb1c58d430d", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/f60740d163c0d9b1c44c10b2074e0fb1c58d430d", "committedDate": "2020-01-17T19:05:29Z", "message": "Now with validation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2MDMwMzMz", "url": "https://github.com/all-of-us/workbench/pull/3004#pullrequestreview-346030333", "createdAt": "2020-01-21T16:48:16Z", "commit": {"oid": "f60740d163c0d9b1c44c10b2074e0fb1c58d430d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3675, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}