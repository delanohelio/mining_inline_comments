{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyMDUwNTY5", "number": 3381, "title": "[no ticket][risk=no] Puppeteer test framework improvement", "bodyText": "small, incremental improvement in e2e project. no tests affected.", "createdAt": "2020-04-10T20:11:53Z", "url": "https://github.com/all-of-us/workbench/pull/3381", "merged": true, "mergeCommit": {"oid": "13dbc0cb129c09deb3424030247ad5330261aa72"}, "closed": true, "closedAt": "2020-04-14T01:37:48Z", "author": {"login": "aweng98"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWW20KAH2gAyNDAyMDUwNTY5OmJhN2U2ZmE1YTE4MzA2Zjg4MWRkY2I4NDRiY2RjMzVhZDU4Yjg2YTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXZLE-AH2gAyNDAyMDUwNTY5OjJiOWQzZWViMDMzMjI2ZDNiZTI3MzgwNzJmNDA3NzE1MTQ5M2VlOGI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6", "committedDate": "2020-04-10T20:10:12Z", "message": "small improvement"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNjM4MDQz", "url": "https://github.com/all-of-us/workbench/pull/3381#pullrequestreview-391638043", "createdAt": "2020-04-10T20:12:53Z", "commit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMDoxMjo1M1rOGEEm_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMDoxNToxNVrOGEEqOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjkyMzAwNQ==", "bodyText": "tslint: don't need await when return is used.", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406923005", "createdAt": "2020-04-10T20:12:53Z", "author": {"login": "aweng98"}, "path": "e2e/app/aou-elements/base-element.ts", "diffHunk": "@@ -158,16 +158,31 @@ export default class BaseElement {\n   }\n \n   async click(options?: ClickOptions): Promise<void> {\n-    await this.element.asElement().click(options);\n+    return this.element.asElement().click(options);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjkyMzM5Nw==", "bodyText": "Make waitUntilEnabled method more flexible.", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406923397", "createdAt": "2020-04-10T20:14:01Z", "author": {"login": "aweng98"}, "path": "e2e/app/aou-elements/button.ts", "diffHunk": "@@ -27,12 +27,23 @@ export default class Button extends BaseElement {\n   /**\n    * Wait until button is clickable (enabled).\n    */\n-  async waitUntilEnabled(): Promise<unknown> {\n-    const retrievedValue = await this.page.waitForFunction((e) => {\n-      const style = window.getComputedStyle(e);\n-      return style.getPropertyValue('cursor') === 'pointer';\n-    }, {}, this.element);\n-    return await retrievedValue.jsonValue();\n+  async waitUntilEnabled(selector?: string): Promise<unknown> {\n+    // works with either a xpath selector or a Element", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjkyMzgzMg==", "bodyText": "consolidate all enum into one file enums.ts.", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406923832", "createdAt": "2020-04-10T20:15:15Z", "author": {"login": "aweng98"}, "path": "e2e/app/authenticated-page.ts", "diffHunk": "@@ -1,43 +1,16 @@\n import {Page} from 'puppeteer';\n+import {pageUrl, sideNavLink} from 'resources/enums';\n import {clrIconXpath} from './aou-elements/xpath-defaults';\n import {findIcon} from './aou-elements/xpath-finder';\n import BasePage from './base-page';\n import {performance} from 'perf_hooks';\n \n-const configs = require('resources/workbench-config');\n \n const selectors = {\n   signedInIndicator: 'body#body div',\n   logo: 'img[src=\"/assets/images/all-of-us-logo.svg\"]'\n };\n \n-export enum PageUrl {\n-  HOME = configs.uiBaseUrl,\n-  WORKSPACES = configs.uiBaseUrl + configs.workspacesUrlPath,\n-  ADMIN = configs.uiBaseUrl + configs.adminUrlPath,\n-}\n-\n-export enum SideNavLink {\n-  HOME = 'Home',\n-  ADMIN = 'Admin',\n-  USER_ADMIN = 'User Admin',\n-  PROFILE = 'Profile',\n-  SIGN_OUT = 'Sign Out',\n-  CONTACT_US = 'Contact Us',\n-  USER_SUPPORT = 'User Support',\n-  YOUR_WORKSPACES = 'Your Workspaces',\n-  FEATURED_WORKSPACES = 'Featured Workspaces',\n-}\n-\n-export enum SideNavLinkIcon {\n-  HOME = 'home',\n-  ADMIN = 'user',\n-  CONTACT_US = 'envelope',\n-  USER_SUPPORT = 'help',\n-  YOUR_WORKSPACES = 'applications',\n-  FEATURED_WORKSPACES = 'star',\n-}\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 41}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNjQxODkx", "url": "https://github.com/all-of-us/workbench/pull/3381#pullrequestreview-391641891", "createdAt": "2020-04-10T20:22:22Z", "commit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMDoyMjoyM1rOGEEzYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMDoyMjoyM1rOGEEzYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjkyNjE3Ng==", "bodyText": "renamed to workspaceAction, it is in new file enums.ts", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406926176", "createdAt": "2020-04-10T20:22:23Z", "author": {"login": "aweng98"}, "path": "e2e/app/workspace-card.ts", "diffHunk": "@@ -1,14 +1,7 @@\n-import {ElementHandle, JSHandle, Page} from 'puppeteer';\n+import {ElementHandle, Page} from 'puppeteer';\n+import {workspaceAccessLevel, workspaceAction} from 'resources/enums';\n import BaseElement from './aou-elements/base-element';\n-const _ = require('lodash');\n-\n-\n-export const LINK_LABEL = {\n-  DUPLICATE: 'Duplicate',\n-  DELETE: 'Delete',\n-  EDIT: 'Edit',\n-  SHARE: 'Share',\n-};", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNzA5OTA0", "url": "https://github.com/all-of-us/workbench/pull/3381#pullrequestreview-391709904", "createdAt": "2020-04-10T23:46:11Z", "commit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "state": "COMMENTED", "comments": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMzo0NjoxMVrOGEIbrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMVQwMDowNzoxOFrOGEIp8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4NTY0NQ==", "bodyText": "Note: existing issue, but this is a bit of a jump based on UX conventions. I don't know that this necessarily applies for all buttons in the application. Is there not a more explicit \"disabled\" property you can look for?", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406985645", "createdAt": "2020-04-10T23:46:11Z", "author": {"login": "calbach"}, "path": "e2e/app/aou-elements/button.ts", "diffHunk": "@@ -27,12 +27,23 @@ export default class Button extends BaseElement {\n   /**\n    * Wait until button is clickable (enabled).\n    */\n-  async waitUntilEnabled(): Promise<unknown> {\n-    const retrievedValue = await this.page.waitForFunction((e) => {\n-      const style = window.getComputedStyle(e);\n-      return style.getPropertyValue('cursor') === 'pointer';\n-    }, {}, this.element);\n-    return await retrievedValue.jsonValue();\n+  async waitUntilEnabled(selector?: string): Promise<unknown> {\n+    // works with either a xpath selector or a Element\n+    if (selector === undefined) {\n+      const retrievedValue = await this.page.waitForFunction((e) => {\n+        const style = window.getComputedStyle(e);\n+        return style.getPropertyValue('cursor') === 'pointer';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4NTgxNw==", "bodyText": "What is actually held by this value? Is there a reason to return it from this method?", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406985817", "createdAt": "2020-04-10T23:47:26Z", "author": {"login": "calbach"}, "path": "e2e/app/aou-elements/button.ts", "diffHunk": "@@ -27,12 +27,23 @@ export default class Button extends BaseElement {\n   /**\n    * Wait until button is clickable (enabled).\n    */\n-  async waitUntilEnabled(): Promise<unknown> {\n-    const retrievedValue = await this.page.waitForFunction((e) => {\n-      const style = window.getComputedStyle(e);\n-      return style.getPropertyValue('cursor') === 'pointer';\n-    }, {}, this.element);\n-    return await retrievedValue.jsonValue();\n+  async waitUntilEnabled(selector?: string): Promise<unknown> {\n+    // works with either a xpath selector or a Element\n+    if (selector === undefined) {\n+      const retrievedValue = await this.page.waitForFunction((e) => {\n+        const style = window.getComputedStyle(e);\n+        return style.getPropertyValue('cursor') === 'pointer';\n+      }, { polling: 'mutation' }, this.element);\n+      return retrievedValue.jsonValue();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4NjAxNg==", "bodyText": "It is more standard to name a boolean variable for the truthy state. Here I would probably call this checked", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406986016", "createdAt": "2020-04-10T23:48:25Z", "author": {"login": "calbach"}, "path": "e2e/app/aou-elements/checkbox.ts", "diffHunk": "@@ -57,4 +57,18 @@ export default class Checkbox extends BaseElement {\n     }\n   }\n \n+  /**\n+   * Toggle checkbox state.\n+   * @param {boolean} onOrOff\n+   */\n+  async toggle(onOrOff?: boolean): Promise<void> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4NjI5OQ==", "bodyText": "It would be useful to describe the return value. Or, if the return value is irrelevant here (feels like it might be), just use Promise<void>", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406986299", "createdAt": "2020-04-10T23:49:50Z", "author": {"login": "calbach"}, "path": "e2e/app/aou-elements/select-component.ts", "diffHunk": "@@ -9,16 +9,40 @@ export default class SelectComponent {\n     this.nodeLevel = nodeLevel || 1;\n   }\n \n-  async select(textValue: string): Promise<string> {\n-    await this.open(2); // with 2 retries\n-    const selector = this.dropdownXpath() + `//li[contains(normalize-space(text()), \"${textValue}\")]`;\n-    const selectValue = await this.page.waitForXPath(selector, { visible: true });\n-    const selectElement = new BaseElement(this.page, selectValue);\n-    const textContent = await selectElement.getTextContent();\n-    await selectValue.click();\n-    // need to make sure dropdown is disappeared, so it cannot interfere with clicking on elements below.\n-    await this.waitUntilDropdownClosed();\n-    return textContent;\n+  /**\n+   * Select an option in a Select element.\n+   * @param textValue\n+   * @param {number} retries Default retry count is 2.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4NjQzMg==", "bodyText": "please remove this space before the --", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406986432", "createdAt": "2020-04-10T23:50:35Z", "author": {"login": "calbach"}, "path": "e2e/app/aou-elements/select-component.ts", "diffHunk": "@@ -28,19 +52,22 @@ export default class SelectComponent {\n     return await innerText.jsonValue();\n   }\n \n-  // open Select dropdown with retries\n-  private async open(retries: number): Promise<void> {\n+  /**\n+   * Open Select dropdown.\n+   * @param {number} retries Retry count. Default is 1.\n+   */\n+  private async open(retries: number = 1): Promise<void> {\n     const click = async () => {\n+      retries --;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4NjY3Nw==", "bodyText": "<= 0 is more idiot-proof, I generally suggest using this predicate instead.\nExample: someone passes in retries=-1 by accident: the current approach will result in effectively infinite retries. Sure - it's unlikely someone is going to do that, but in general it's good to set yourself up to avoid compounding bugs like this.\nBetter example: Rereading your code, passing retries=0, which is a more realistic input, also triggers infinite retries.", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406986677", "createdAt": "2020-04-10T23:52:10Z", "author": {"login": "calbach"}, "path": "e2e/app/aou-elements/select-component.ts", "diffHunk": "@@ -28,19 +52,22 @@ export default class SelectComponent {\n     return await innerText.jsonValue();\n   }\n \n-  // open Select dropdown with retries\n-  private async open(retries: number): Promise<void> {\n+  /**\n+   * Open Select dropdown.\n+   * @param {number} retries Retry count. Default is 1.\n+   */\n+  private async open(retries: number = 1): Promise<void> {\n     const click = async () => {\n+      retries --;\n       const is = await this.isOpen();\n       if (!is) {\n         await this.toggleOpenClose();\n       } else {\n         return;\n       }\n-      if (retries < 0) {\n+      if (retries === 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4ODEzMQ==", "bodyText": "I typically interpret retries=1 to mean you'll retry it once. Currently it seems to mean \"retry 0 times\".", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406988131", "createdAt": "2020-04-11T00:00:04Z", "author": {"login": "calbach"}, "path": "e2e/app/aou-elements/select-component.ts", "diffHunk": "@@ -28,19 +52,22 @@ export default class SelectComponent {\n     return await innerText.jsonValue();\n   }\n \n-  // open Select dropdown with retries\n-  private async open(retries: number): Promise<void> {\n+  /**\n+   * Open Select dropdown.\n+   * @param {number} retries Retry count. Default is 1.\n+   */\n+  private async open(retries: number = 1): Promise<void> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4ODQzMg==", "bodyText": "Why?", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406988432", "createdAt": "2020-04-11T00:02:10Z", "author": {"login": "calbach"}, "path": "e2e/resources/enums.ts", "diffHunk": "@@ -0,0 +1,43 @@\n+// @ts-nocheck", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4ODgxNQ==", "bodyText": "What's the rationale for moving to this file? I'm not sure I like putting all enums into a file named enums. It doesn't really carry much logical significance to group them all here - to me it feels a bit similar to putting all the classes in a file named classes.ts. I think I prefer how it was before.", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406988815", "createdAt": "2020-04-11T00:04:09Z", "author": {"login": "calbach"}, "path": "e2e/resources/enums.ts", "diffHunk": "@@ -0,0 +1,43 @@\n+// @ts-nocheck\n+\n+export enum workspaceAccessLevel {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4ODk1NA==", "bodyText": "Interesting, I did not realize you could just inject a require statement like this. Could you add a comment about why this is necessary and what the format of the data expected is?", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406988954", "createdAt": "2020-04-11T00:05:08Z", "author": {"login": "calbach"}, "path": "e2e/resources/enums.ts", "diffHunk": "@@ -0,0 +1,43 @@\n+// @ts-nocheck\n+\n+export enum workspaceAccessLevel {\n+   OWNER = 'OWNER',\n+   READER = 'READER',\n+   WRITER = 'WRITER',\n+}\n+\n+export enum workspaceAction {\n+   DUPLICATE  = 'Duplicate',\n+   DELETE = 'Delete',\n+   EDIT = 'Edit',\n+   SHARE = 'Share',\n+}\n+\n+const configs = require('../resources/workbench-config');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4OTAzMQ==", "bodyText": "Is this really plural? Below the code seems to reference properties on it directly, indicating config would be a better name", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406989031", "createdAt": "2020-04-11T00:05:36Z", "author": {"login": "calbach"}, "path": "e2e/resources/enums.ts", "diffHunk": "@@ -0,0 +1,43 @@\n+// @ts-nocheck\n+\n+export enum workspaceAccessLevel {\n+   OWNER = 'OWNER',\n+   READER = 'READER',\n+   WRITER = 'WRITER',\n+}\n+\n+export enum workspaceAction {\n+   DUPLICATE  = 'Duplicate',\n+   DELETE = 'Delete',\n+   EDIT = 'Edit',\n+   SHARE = 'Share',\n+}\n+\n+const configs = require('../resources/workbench-config');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4OTE2Ng==", "bodyText": "slice is exclusive, so I think the -1 is not correct here", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406989166", "createdAt": "2020-04-11T00:06:35Z", "author": {"login": "calbach"}, "path": "e2e/resources/fake-user.ts", "diffHunk": "@@ -15,3 +15,14 @@ export const fakeUser = {\n   state: faker.address.stateAbbr(),\n   country: 'U.S.A'\n };\n+\n+export const makeString = (charLimit?: number) => {\n+  let loremStr = faker.lorem.paragraphs();\n+  if (charLimit === undefined) {\n+    return loremStr;\n+  }\n+  if (loremStr.length > charLimit) {\n+    loremStr = loremStr.slice(0, charLimit - 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4OTI5Nw==", "bodyText": "If you're exporting enums, I'd keep them capitalized as they were previously.", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r406989297", "createdAt": "2020-04-11T00:07:18Z", "author": {"login": "calbach"}, "path": "e2e/resources/enums.ts", "diffHunk": "@@ -0,0 +1,43 @@\n+// @ts-nocheck\n+\n+export enum workspaceAccessLevel {\n+   OWNER = 'OWNER',\n+   READER = 'READER',\n+   WRITER = 'WRITER',\n+}\n+\n+export enum workspaceAction {\n+   DUPLICATE  = 'Duplicate',\n+   DELETE = 'Delete',\n+   EDIT = 'Edit',\n+   SHARE = 'Share',\n+}\n+\n+const configs = require('../resources/workbench-config');\n+\n+export enum pageUrl {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c452f3ee57e5da283e80aa0716aef92bc69ee68", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/3c452f3ee57e5da283e80aa0716aef92bc69ee68", "committedDate": "2020-04-11T16:14:33Z", "message": "PR feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNDg0MzU2", "url": "https://github.com/all-of-us/workbench/pull/3381#pullrequestreview-392484356", "createdAt": "2020-04-13T22:33:01Z", "commit": {"oid": "3c452f3ee57e5da283e80aa0716aef92bc69ee68"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMjozMzowMVrOGE3mvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMjo0MDoyOFrOGE3wiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1ODUyNg==", "bodyText": "The casing should be like upper-camel: WorkspaceAccessLevel", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r407758526", "createdAt": "2020-04-13T22:33:01Z", "author": {"login": "calbach"}, "path": "e2e/resources/enums.ts", "diffHunk": "@@ -0,0 +1,41 @@\n+export const config = require('resources/workbench-config');\n+\n+export enum WORKSPACE_ACCESS_LEVEL {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c452f3ee57e5da283e80aa0716aef92bc69ee68"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1ODcyNA==", "bodyText": "Why aren't you able to just use import like in the other files?", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r407758724", "createdAt": "2020-04-13T22:33:38Z", "author": {"login": "calbach"}, "path": "e2e/resources/enums.ts", "diffHunk": "@@ -0,0 +1,43 @@\n+// @ts-nocheck\n+\n+export enum workspaceAccessLevel {\n+   OWNER = 'OWNER',\n+   READER = 'READER',\n+   WRITER = 'WRITER',\n+}\n+\n+export enum workspaceAction {\n+   DUPLICATE  = 'Duplicate',\n+   DELETE = 'Delete',\n+   EDIT = 'Edit',\n+   SHARE = 'Share',\n+}\n+\n+const configs = require('../resources/workbench-config');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4ODk1NA=="}, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc2MTAzMw==", "bodyText": "If you feel very strongly I won't block, but I don't think this organization makes sense. These being enums is an implementation detail.\nI'd suggest at least splitting this into two files: workspaces.ts/workspace-utils.ts and navigation.ts. Alternatively, rename this file to something that pertains to the logical grouping of these enums: maybe something like page-identifiers or labels?", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r407761033", "createdAt": "2020-04-13T22:40:28Z", "author": {"login": "calbach"}, "path": "e2e/resources/enums.ts", "diffHunk": "@@ -0,0 +1,43 @@\n+// @ts-nocheck\n+\n+export enum workspaceAccessLevel {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4ODgxNQ=="}, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac78f25f7fdccb3088cd7e1ebeb4fc695a2ce4dc", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/ac78f25f7fdccb3088cd7e1ebeb4fc695a2ce4dc", "committedDate": "2020-04-14T01:18:06Z", "message": "PR feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNTA5OTYy", "url": "https://github.com/all-of-us/workbench/pull/3381#pullrequestreview-392509962", "createdAt": "2020-04-13T23:40:45Z", "commit": {"oid": "3c452f3ee57e5da283e80aa0716aef92bc69ee68"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMzo0MDo0NVrOGE4-kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwMDozNTo1MlrOGE5_4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc4MTAwOA==", "bodyText": "Done. renamed all enum names to upper-camel casing.", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r407781008", "createdAt": "2020-04-13T23:40:45Z", "author": {"login": "aweng98"}, "path": "e2e/resources/enums.ts", "diffHunk": "@@ -0,0 +1,41 @@\n+export const config = require('resources/workbench-config');\n+\n+export enum WORKSPACE_ACCESS_LEVEL {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1ODUyNg=="}, "originalCommit": {"oid": "3c452f3ee57e5da283e80aa0716aef92bc69ee68"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc5NzczMA==", "bodyText": "you're right. should be loremStr = loremStr.slice(0, charLimit);", "url": "https://github.com/all-of-us/workbench/pull/3381#discussion_r407797730", "createdAt": "2020-04-14T00:35:52Z", "author": {"login": "aweng98"}, "path": "e2e/resources/fake-user.ts", "diffHunk": "@@ -15,3 +15,14 @@ export const fakeUser = {\n   state: faker.address.stateAbbr(),\n   country: 'U.S.A'\n };\n+\n+export const makeString = (charLimit?: number) => {\n+  let loremStr = faker.lorem.paragraphs();\n+  if (charLimit === undefined) {\n+    return loremStr;\n+  }\n+  if (loremStr.length > charLimit) {\n+    loremStr = loremStr.slice(0, charLimit - 1);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4OTE2Ng=="}, "originalCommit": {"oid": "ba7e6fa5a18306f881ddcb844bcdc35ad58b86a6"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b9d3eeb033226d3be2738072f4077151493ee8b", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/2b9d3eeb033226d3be2738072f4077151493ee8b", "committedDate": "2020-04-14T01:26:04Z", "message": "rename retries parameter to maxAttempts"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3149, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}