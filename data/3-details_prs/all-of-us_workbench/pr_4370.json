{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzOTM5NDA4", "number": 4370, "title": "[RW-6020][risk=no] Puppeteer test users in CircleCI nodes", "bodyText": "Background:\nA single Puppeteer test login user is used for all CI jobs triggered by PRs and merge to master branch.\nIssue:\nToo many logins by the same user have triggered Google login page captcha which caused tests to fail.\nProposing a solution to reduce chances of getting captcha: Each CircleCI node that tests run in will have a different test user.\nCircleCI environment variables", "createdAt": "2020-12-07T20:48:51Z", "url": "https://github.com/all-of-us/workbench/pull/4370", "merged": true, "mergeCommit": {"oid": "960255cbbbf7b5eac7fda18ba35f7a2479206903"}, "closed": true, "closedAt": "2020-12-08T13:38:41Z", "author": {"login": "aweng98"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdj-z9RgBqjQwODIyNTE0MTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkKOm_gH2gAyNTMzOTM5NDA4OjMxZjExMDgwZDFkMzI5Y2RjYTQ5OTg0ODMyNjQyMjA1ZWRkNmQ4MWI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5cfae1e1487500be6c9a103125f87fd301bdd684", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/5cfae1e1487500be6c9a103125f87fd301bdd684", "committedDate": "2020-12-08T00:14:10Z", "message": "remove echo"}, "afterCommit": {"oid": "a60e4fbda31d428f88b094a73e1366eed2b3e3dd", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/a60e4fbda31d428f88b094a73e1366eed2b3e3dd", "committedDate": "2020-12-08T00:15:12Z", "message": "different test user per ci node"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ca13aa8804fb76f33b405189887e0097a1336b0", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/0ca13aa8804fb76f33b405189887e0097a1336b0", "committedDate": "2020-12-08T00:36:14Z", "message": "different test user per ci node"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a60e4fbda31d428f88b094a73e1366eed2b3e3dd", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/a60e4fbda31d428f88b094a73e1366eed2b3e3dd", "committedDate": "2020-12-08T00:15:12Z", "message": "different test user per ci node"}, "afterCommit": {"oid": "0ca13aa8804fb76f33b405189887e0097a1336b0", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/0ca13aa8804fb76f33b405189887e0097a1336b0", "committedDate": "2020-12-08T00:36:14Z", "message": "different test user per ci node"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NjcwMTgz", "url": "https://github.com/all-of-us/workbench/pull/4370#pullrequestreview-546670183", "createdAt": "2020-12-08T01:15:19Z", "commit": {"oid": "0ca13aa8804fb76f33b405189887e0097a1336b0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQwMToxNToyMFrOIBCSCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQwMToxNToyMFrOIBCSCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzk1Njg3NQ==", "bodyText": "for testing changes, will undo before merge", "url": "https://github.com/all-of-us/workbench/pull/4370#discussion_r537956875", "createdAt": "2020-12-08T01:15:20Z", "author": {"login": "aweng98"}, "path": ".circleci/config.yml", "diffHunk": "@@ -575,8 +575,8 @@ jobs:\n     steps:\n       - checkout-code\n       - steps: << parameters.optional_steps >>\n-      - halt-test-check:\n-          dir_names: \"api ui e2e\"\n+      #- halt-test-check:\n+          #dir_names: \"api ui e2e\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ca13aa8804fb76f33b405189887e0097a1336b0"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NjgxNTY3", "url": "https://github.com/all-of-us/workbench/pull/4370#pullrequestreview-546681567", "createdAt": "2020-12-08T01:46:10Z", "commit": {"oid": "0ca13aa8804fb76f33b405189887e0097a1336b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31f11080d1d329cdca49984832642205edd6d81b", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/31f11080d1d329cdca49984832642205edd6d81b", "committedDate": "2020-12-08T13:33:31Z", "message": "restore halt"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3727, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}