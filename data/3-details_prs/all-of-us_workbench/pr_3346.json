{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4Mzg4OTQw", "number": 3346, "title": "[no ticket][risk=no] Add new clickAndWait()", "bodyText": "Adding common method to reduce boilerplate code in e2e test framework.", "createdAt": "2020-04-03T21:12:50Z", "url": "https://github.com/all-of-us/workbench/pull/3346", "merged": true, "mergeCommit": {"oid": "8fc4ba3d52f269066dcc5a3dbf62a1b9958f11b8"}, "closed": true, "closedAt": "2020-04-06T13:34:02Z", "author": {"login": "aweng98"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUHhcdAH2gAyMzk4Mzg4OTQwOjU2MjcyYTkwZDljYTVlMTFmZmM4MGFkYzYyZDRmMTgxOTJmNmMyNzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcU-sOLgH2gAyMzk4Mzg4OTQwOjEzMjY2MzQzOGI3MjZkMmVmMTg0ZTk1MjJjYzY5MmJjMTAzNjM0ZTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "56272a90d9ca5e11ffc80adc62d4f18192f6c270", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/56272a90d9ca5e11ffc80adc62d4f18192f6c270", "committedDate": "2020-04-03T21:10:26Z", "message": "add clickAndWait method to reduce boilerplate code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NTg0OTY0", "url": "https://github.com/all-of-us/workbench/pull/3346#pullrequestreview-387584964", "createdAt": "2020-04-03T21:15:06Z", "commit": {"oid": "56272a90d9ca5e11ffc80adc62d4f18192f6c270"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMToxNTowNlrOGAp5Cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMToxNTowNlrOGAp5Cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzMzOTUzMQ==", "bodyText": "not 100% sure about the new method name. Welcoming suggestions for a better name.", "url": "https://github.com/all-of-us/workbench/pull/3346#discussion_r403339531", "createdAt": "2020-04-03T21:15:06Z", "author": {"login": "aweng98"}, "path": "e2e/app/base-page.ts", "diffHunk": "@@ -45,11 +45,14 @@ export default abstract class BasePage {\n     return this.page.$eval(`${cssSelector}`, elem => elem.textContent.trim())\n   }\n \n-  async waitForNavigation() {\n+  /**\n+   * Click on element then wait for page navigation.\n+   * @param {ElementHandle} clickElement\n+   */\n+  async clickAndWait(clickElement: ElementHandle) {\n     return Promise.all([\n-      this.page.waitForNavigation({waitUntil: 'load'}),\n-      this.page.waitForNavigation({waitUntil: 'domcontentloaded'}),\n-      this.page.waitForNavigation({waitUntil: 'networkidle0', timeout: 60000}),\n+      this.page.waitForNavigation({waitUntil: ['domcontentloaded', 'networkidle0'], timeout: 90000}),\n+      clickElement.click(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56272a90d9ca5e11ffc80adc62d4f18192f6c270"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c03c3a0b7bbf5ddeead80c21674b03619f917912", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/c03c3a0b7bbf5ddeead80c21674b03619f917912", "committedDate": "2020-04-03T23:53:15Z", "message": "support type of BaseElement"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3OTAwODQ4", "url": "https://github.com/all-of-us/workbench/pull/3346#pullrequestreview-387900848", "createdAt": "2020-04-06T02:23:09Z", "commit": {"oid": "c03c3a0b7bbf5ddeead80c21674b03619f917912"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwMjoyMzowOVrOGBF7JQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwMjoyMzowOVrOGBF7JQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzc5ODgyMQ==", "bodyText": "The large diff here feels like an error, since no packages have been added, modified or removed. Please revert this file or help me understand why it changed so dramatically.", "url": "https://github.com/all-of-us/workbench/pull/3346#discussion_r403798821", "createdAt": "2020-04-06T02:23:09Z", "author": {"login": "gjuggler"}, "path": "e2e/yarn.lock", "diffHunk": "@@ -265,43 +265,43 @@\n     chalk \"^2.0.1\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c03c3a0b7bbf5ddeead80c21674b03619f917912"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "132663438b726d2ef184e9522cc692bc103634e5", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/132663438b726d2ef184e9522cc692bc103634e5", "committedDate": "2020-04-06T13:26:59Z", "message": "revert yarn.lock change"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3352, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}