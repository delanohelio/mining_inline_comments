{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1NzQ4Njcx", "number": 3441, "title": "integration test results", "bodyText": "Set up the test results pane in CircleCI using store_test_results step.\nHere's what a failing test looks like.\nTest tab:\n\nWith no errors:\n\nSteps tab:\n\nI haven't found where all our test results are written. Just integration tests so far.\n\nPR checklist\n\n This PR meets the Acceptance Criteria in the JIRA story\n The JIRA story has been moved to Dev Review\n This PR includes appropriate unit tests\n I have run and tested this change locally\n If this includes an API change, I have updated the appropriate Swagger definitions and notified API consumers\n If this includes a new feature flag, I have created and linked new JIRA tickets to (a) turn on the feature flag and (b) remove it later", "createdAt": "2020-04-19T22:34:43Z", "url": "https://github.com/all-of-us/workbench/pull/3441", "merged": true, "mergeCommit": {"oid": "dcdbdf9e9b7308ba7770e3bcf71ae60de834ba52"}, "closed": true, "closedAt": "2020-04-20T23:17:29Z", "author": {"login": "jaycarlton"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZP4YggH2gAyNDA1NzQ4NjcxOmEzMTVlZDE5ZWZjZGEzN2Q2YjY3Yjg5MzAyMmU3OGU2NzUxNzNjMDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZnWI0AH2gAyNDA1NzQ4NjcxOjE1M2YwZTFiNTRhNTY0MjAwZjI5ODg4MjRhMjk2YTZiNmUwNmZhN2Q=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a315ed19efcda37d6b67b893022e78e675173c00", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/a315ed19efcda37d6b67b893022e78e675173c00", "committedDate": "2020-04-19T19:44:21Z", "message": "add names to steps for Circle UI labels"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d32c71963757c3000053c463117d70c69c5feb3", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/1d32c71963757c3000053c463117d70c69c5feb3", "committedDate": "2020-04-19T19:44:21Z", "message": "sp"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2f6271620ba7f87acf6192786b726346832f3d4", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/c2f6271620ba7f87acf6192786b726346832f3d4", "committedDate": "2020-04-19T19:44:21Z", "message": "moar anchors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77ee27db6adedbfd359cc36e6cd675165807795c", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/77ee27db6adedbfd359cc36e6cd675165807795c", "committedDate": "2020-04-19T19:44:21Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa45efe83f6ee909c0a479d78527fd59ad4ece24", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/aa45efe83f6ee909c0a479d78527fd59ad4ece24", "committedDate": "2020-04-19T19:44:21Z", "message": "better title"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "adea528bf32a28b38da46f4347a06a1be1d55ebb", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/adea528bf32a28b38da46f4347a06a1be1d55ebb", "committedDate": "2020-04-19T19:47:28Z", "message": "review fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffb4addd404f0aafb9c4b6a4d2e07b0c3b271b6e", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/ffb4addd404f0aafb9c4b6a4d2e07b0c3b271b6e", "committedDate": "2020-04-19T22:32:29Z", "message": "integration test results"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f4c005d7a2c5129a4acab1766b5ae75bc2c8cd7", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/8f4c005d7a2c5129a4acab1766b5ae75bc2c8cd7", "committedDate": "2020-04-19T22:37:51Z", "message": "intentional failure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15887d3cfe72bbb61449b702e60c230949751145", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/15887d3cfe72bbb61449b702e60c230949751145", "committedDate": "2020-04-19T22:45:29Z", "message": "remove failing line and add irrelevant change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72d2382fa94a8c6a000470efd092a9736f6958a6", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/72d2382fa94a8c6a000470efd092a9736f6958a6", "committedDate": "2020-04-19T22:52:18Z", "message": "remove failure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "404f4983b455585984cb2f3d5b3230006af7b453", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/404f4983b455585984cb2f3d5b3230006af7b453", "committedDate": "2020-04-19T23:04:42Z", "message": "store test results"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjYyNDIz", "url": "https://github.com/all-of-us/workbench/pull/3441#pullrequestreview-396662423", "createdAt": "2020-04-20T17:27:03Z", "commit": {"oid": "404f4983b455585984cb2f3d5b3230006af7b453"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzoyNzowM1rOGIfh_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzoyNzowM1rOGIfh_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU1ODM5OQ==", "bodyText": "Are you sure this works for the e2e test results? The e2e (JUnit) test results are explicitly set to write to /e2e/logs dir. And, store_test_results key is called again at line #308. I don't think circleci allows duplicate store_test_results keys in same job.", "url": "https://github.com/all-of-us/workbench/pull/3441#discussion_r411558399", "createdAt": "2020-04-20T17:27:03Z", "author": {"login": "aweng98"}, "path": ".circleci/config.yml", "diffHunk": "@@ -297,6 +300,8 @@ jobs:\n           name: Run e2e tests (Puppeteer and Jest)\n           working_directory: ~/workbench/e2e\n           command: yarn test:ci $(circleci tests glob \"tests/**/*.spec.ts\" | circleci tests split --split-by=timings --timings-type=classname --show-counts)\n+      - store_test_results:\n+          path: ~/workbench/api/build/test-results/integrationTest/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "404f4983b455585984cb2f3d5b3230006af7b453"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bacd23489975329adb185e3c8cfbd21f9f93d83", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/4bacd23489975329adb185e3c8cfbd21f9f93d83", "committedDate": "2020-04-20T19:56:49Z", "message": "merge"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NzgzMTM3", "url": "https://github.com/all-of-us/workbench/pull/3441#pullrequestreview-396783137", "createdAt": "2020-04-20T20:21:42Z", "commit": {"oid": "404f4983b455585984cb2f3d5b3230006af7b453"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fcb9162c9a42a85ccba8c1daa914997b08c129a", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/0fcb9162c9a42a85ccba8c1daa914997b08c129a", "committedDate": "2020-04-20T22:51:11Z", "message": "remove redundant entry"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75224286d926fd4e625add1ac7fc89c3d8fcc0e9", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/75224286d926fd4e625add1ac7fc89c3d8fcc0e9", "committedDate": "2020-04-20T22:55:15Z", "message": "merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "574b6e2b7fe049c3128933d3af171fb774494ede", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/574b6e2b7fe049c3128933d3af171fb774494ede", "committedDate": "2020-04-20T22:59:38Z", "message": "api & ui changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "153f0e1b54a564200f2988824a296a6b6e06fa7d", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/153f0e1b54a564200f2988824a296a6b6e06fa7d", "committedDate": "2020-04-20T23:04:40Z", "message": "remove testing changes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3216, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}