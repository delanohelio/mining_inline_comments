{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyNDE0ODc3", "number": 3848, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwMDozNToxNVrOEVn8LA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwMDozNjoyMlrOEVn9Gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMTA5OTMyOnYy", "diffSide": "RIGHT", "path": "api/tools/src/main/java/org/pmiops/workbench/tools/ExportWorkspaceData.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwMDozNToxNVrOG8fLKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNjoxMToxMlrOG8kneg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3ODUwNw==", "bodyText": "nit: the rest of the multi value columns are separated with a newline as well", "url": "https://github.com/all-of-us/workbench/pull/3848#discussion_r466078507", "createdAt": "2020-08-06T00:35:15Z", "author": {"login": "ericsong"}, "path": "api/tools/src/main/java/org/pmiops/workbench/tools/ExportWorkspaceData.java", "diffHunk": "@@ -269,6 +297,39 @@ private WorkspaceExportRow toWorkspaceExportRow(DbUser user) {\n             .map(dateFormat::format)\n             .orElse(\"\"));\n     row.setCreatorRegistrationState(user.getDataAccessLevelEnum().toString());\n+    row.setDegrees(\n+        Optional.ofNullable(user.getDegreesEnum()).orElse(ImmutableList.of()).stream()\n+            .map(Degree::toString)\n+            .collect(Collectors.joining(\",\")));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a5de14b47872f6e23fa18f6defae80d43681b2e"}, "originalPosition": 154}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE2NzY3NA==", "bodyText": "Thanks, missed that.", "url": "https://github.com/all-of-us/workbench/pull/3848#discussion_r466167674", "createdAt": "2020-08-06T06:11:12Z", "author": {"login": "calbach"}, "path": "api/tools/src/main/java/org/pmiops/workbench/tools/ExportWorkspaceData.java", "diffHunk": "@@ -269,6 +297,39 @@ private WorkspaceExportRow toWorkspaceExportRow(DbUser user) {\n             .map(dateFormat::format)\n             .orElse(\"\"));\n     row.setCreatorRegistrationState(user.getDataAccessLevelEnum().toString());\n+    row.setDegrees(\n+        Optional.ofNullable(user.getDegreesEnum()).orElse(ImmutableList.of()).stream()\n+            .map(Degree::toString)\n+            .collect(Collectors.joining(\",\")));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3ODUwNw=="}, "originalCommit": {"oid": "0a5de14b47872f6e23fa18f6defae80d43681b2e"}, "originalPosition": 154}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMTEwMTcxOnYy", "diffSide": "RIGHT", "path": "api/tools/src/main/java/org/pmiops/workbench/tools/ExportWorkspaceData.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwMDozNjoyMlrOG8fMZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNjowMzo1OVrOG8keTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3ODgyMQ==", "bodyText": "nit: i think you can just move this object into the conditional and drop the null check", "url": "https://github.com/all-of-us/workbench/pull/3848#discussion_r466078821", "createdAt": "2020-08-06T00:36:22Z", "author": {"login": "ericsong"}, "path": "api/tools/src/main/java/org/pmiops/workbench/tools/ExportWorkspaceData.java", "diffHunk": "@@ -269,6 +297,39 @@ private WorkspaceExportRow toWorkspaceExportRow(DbUser user) {\n             .map(dateFormat::format)\n             .orElse(\"\"));\n     row.setCreatorRegistrationState(user.getDataAccessLevelEnum().toString());\n+    row.setDegrees(\n+        Optional.ofNullable(user.getDegreesEnum()).orElse(ImmutableList.of()).stream()\n+            .map(Degree::toString)\n+            .collect(Collectors.joining(\",\")));\n+    DbDemographicSurvey demo = user.getDemographicSurvey();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a5de14b47872f6e23fa18f6defae80d43681b2e"}, "originalPosition": 155}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE2NTMyNQ==", "bodyText": "includeDemographics is driven by a flag - not null'ness of the demographics value. So this doesn't work - unless I'm misunderstanding the suggestion.", "url": "https://github.com/all-of-us/workbench/pull/3848#discussion_r466165325", "createdAt": "2020-08-06T06:03:59Z", "author": {"login": "calbach"}, "path": "api/tools/src/main/java/org/pmiops/workbench/tools/ExportWorkspaceData.java", "diffHunk": "@@ -269,6 +297,39 @@ private WorkspaceExportRow toWorkspaceExportRow(DbUser user) {\n             .map(dateFormat::format)\n             .orElse(\"\"));\n     row.setCreatorRegistrationState(user.getDataAccessLevelEnum().toString());\n+    row.setDegrees(\n+        Optional.ofNullable(user.getDegreesEnum()).orElse(ImmutableList.of()).stream()\n+            .map(Degree::toString)\n+            .collect(Collectors.joining(\",\")));\n+    DbDemographicSurvey demo = user.getDemographicSurvey();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3ODgyMQ=="}, "originalCommit": {"oid": "0a5de14b47872f6e23fa18f6defae80d43681b2e"}, "originalPosition": 155}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2492, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}