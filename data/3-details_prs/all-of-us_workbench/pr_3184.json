{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5MjMxMDQx", "number": 3184, "title": "[risk=no][RW-4402] remove references to free tier time limits", "bodyText": "Marking the columns deprecated for now, will delete after this goes out.\nThe unit tests on this seem pretty comprehensive. Will test manually tomorrow.\n\nPR checklist\n\n This PR meets the Acceptance Criteria in the JIRA story\n The JIRA story has been moved to Dev Review\n This PR includes appropriate unit tests\n I have run and tested this change locally", "createdAt": "2020-02-24T21:06:37Z", "url": "https://github.com/all-of-us/workbench/pull/3184", "merged": true, "mergeCommit": {"oid": "0dc31a770e724beeea52921a9d84eefa8f1d0779"}, "closed": true, "closedAt": "2020-02-25T19:16:19Z", "author": {"login": "als364"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcHj630AH2gAyMzc5MjMxMDQxOjQ0YmQzZGMwMzg4MzMxNTE0ZTYyNTc3MTcwOTMyNjZhODgwYzdkM2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHlEISgFqTM2MzczNzE1NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "44bd3dc0388331514e6257717093266a880c7d3f", "author": {"user": null}, "url": "https://github.com/all-of-us/workbench/commit/44bd3dc0388331514e6257717093266a880c7d3f", "committedDate": "2020-02-24T20:54:32Z", "message": "remove references to free tier time limits"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNzMyNDUw", "url": "https://github.com/all-of-us/workbench/pull/3184#pullrequestreview-363732450", "createdAt": "2020-02-24T22:00:30Z", "commit": {"oid": "44bd3dc0388331514e6257717093266a880c7d3f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQyMjowMDozMFrOFtxdJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQyMjowMDozMFrOFtxdJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzU0MDUxNw==", "bodyText": "I agree with the semantic change, but check w/ Karthik", "url": "https://github.com/all-of-us/workbench/pull/3184#discussion_r383540517", "createdAt": "2020-02-24T22:00:30Z", "author": {"login": "jmthibault79"}, "path": "api/src/main/resources/emails/dollarthresholdemail/content.html", "diffHunk": "@@ -30,8 +30,8 @@\n <img src=\"${HEADER_IMG}\">\n <div>Hello ${FIRST_NAME} ${LAST_NAME},</div>\n <div>This is a reminder that you have used ${USED_CREDITS} in free credits offered by the All of Us Program.\n-  The remaining balance on your free credits is ${CREDIT_BALANCE} which will be valid until ${EXPIRATION_DATE}.</div>\n-<div>Once your free credits expire, you can request for an extension of free credits by contacting support or\n+  The remaining balance on your free credits is ${CREDIT_BALANCE}.</div>\n+<div>Once you use all of your free credits, you can request for an extension of free credits by contacting support or", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44bd3dc0388331514e6257717093266a880c7d3f"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNzM3MTU1", "url": "https://github.com/all-of-us/workbench/pull/3184#pullrequestreview-363737155", "createdAt": "2020-02-24T22:09:08Z", "commit": {"oid": "44bd3dc0388331514e6257717093266a880c7d3f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQyMjowOTowOFrOFtxrug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQyMjowOTowOFrOFtxrug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzU0NDI1MA==", "bodyText": "Free tier alerting for cost has (or had?) a dependency on registration time which is no longer appropriate.  Removing this block would be a good test to see if we still have that.  IIRC there are other similar blocks in this file, which we should also remove.", "url": "https://github.com/all-of-us/workbench/pull/3184#discussion_r383544250", "createdAt": "2020-02-24T22:09:08Z", "author": {"login": "jmthibault79"}, "path": "api/src/test/java/org/pmiops/workbench/billing/FreeTierBillingServiceTest.java", "diffHunk": "@@ -131,15 +124,11 @@ public void checkFreeTierBillingUsage_exceedsDollarThresholds() throws Messaging\n     final DbUser user = createUser(SINGLE_WORKSPACE_TEST_USER);\n     createWorkspace(user, SINGLE_WORKSPACE_TEST_PROJECT);\n \n-    final short daysLimit = 1000;\n-    workbenchConfig.billing.defaultFreeCreditsDaysLimit = daysLimit;\n-\n     // set an arbitrary registration time", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44bd3dc0388331514e6257717093266a880c7d3f"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3646, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}