{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxOTE0MDI5", "number": 3377, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxODo0MDo0M1rODw1ASA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMzo1ODozMVrODxqIhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNTI2NjY0OnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxODo0MDo0M1rOGEClAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMDoyMDozNlrOGEExDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg4OTcyOQ==", "bodyText": "I believe the flex has done strange things to the alignment of the dropdown selection. If you look, it is aligned to the top of the container rather than the center. Could you fix the styling on that? Should be either just putting an alignItems and maybe a fixed height on the dropdown?\nNew:\n\nOld:", "url": "https://github.com/all-of-us/workbench/pull/3377#discussion_r406889729", "createdAt": "2020-04-10T18:40:43Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "diffHunk": "@@ -891,21 +916,32 @@ export const WorkspaceEdit = fp.flow(withRouteConfigData(), withCurrentWorkspace\n             <div style={{...styles.header, color: colors.primary, fontSize: 14, marginBottom: '0.2rem'}}>\n               Select account\n             </div>\n-            <Dropdown style={{width: '14rem'}}\n-                      value={this.state.workspace.billingAccountName}\n-                      options={this.buildBillingAccountOptions()}\n-                      onChange={e => {\n-                        if (e.value === CREATE_BILLING_ACCOUNT_OPTION_VALUE) {\n-                          this.setState({\n-                            showCreateBillingAccountModal: true\n-                          });\n-                        } else {\n-                          this.setState(fp.set(['workspace', 'billingAccountName'], e.value));\n-                        }\n-                      }}\n-            />\n-          </WorkspaceEditSection>\n-        }\n+            <FlexRow>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "562dc70209b7d31c1b2fab2cca360b907009cea1"}, "originalPosition": 120}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjkyNTU4MA==", "bodyText": "Subtle!\nI was able to keep the FlexRow by removing some padding from the Clickable/div I added to the row", "url": "https://github.com/all-of-us/workbench/pull/3377#discussion_r406925580", "createdAt": "2020-04-10T20:20:36Z", "author": {"login": "jmthibault79"}, "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "diffHunk": "@@ -891,21 +916,32 @@ export const WorkspaceEdit = fp.flow(withRouteConfigData(), withCurrentWorkspace\n             <div style={{...styles.header, color: colors.primary, fontSize: 14, marginBottom: '0.2rem'}}>\n               Select account\n             </div>\n-            <Dropdown style={{width: '14rem'}}\n-                      value={this.state.workspace.billingAccountName}\n-                      options={this.buildBillingAccountOptions()}\n-                      onChange={e => {\n-                        if (e.value === CREATE_BILLING_ACCOUNT_OPTION_VALUE) {\n-                          this.setState({\n-                            showCreateBillingAccountModal: true\n-                          });\n-                        } else {\n-                          this.setState(fp.set(['workspace', 'billingAccountName'], e.value));\n-                        }\n-                      }}\n-            />\n-          </WorkspaceEditSection>\n-        }\n+            <FlexRow>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg4OTcyOQ=="}, "originalCommit": {"oid": "562dc70209b7d31c1b2fab2cca360b907009cea1"}, "originalPosition": 120}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNTUwMTAzOnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMDoyNDoyNFrOGEE2AA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMDoyNDoyNFrOGEE2AA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjkyNjg0OA==", "bodyText": "Have to add the text padding here because we want the Clickable to be exactly the size of the text.\nThis is because the Overlay aligns to the Clickable.", "url": "https://github.com/all-of-us/workbench/pull/3377#discussion_r406926848", "createdAt": "2020-04-10T20:24:24Z", "author": {"login": "jmthibault79"}, "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "diffHunk": "@@ -891,21 +916,30 @@ export const WorkspaceEdit = fp.flow(withRouteConfigData(), withCurrentWorkspace\n             <div style={{...styles.header, color: colors.primary, fontSize: 14, marginBottom: '0.2rem'}}>\n               Select account\n             </div>\n-            <Dropdown style={{width: '14rem'}}\n-                      value={this.state.workspace.billingAccountName}\n-                      options={this.buildBillingAccountOptions()}\n-                      onChange={e => {\n-                        if (e.value === CREATE_BILLING_ACCOUNT_OPTION_VALUE) {\n-                          this.setState({\n-                            showCreateBillingAccountModal: true\n-                          });\n-                        } else {\n-                          this.setState(fp.set(['workspace', 'billingAccountName'], e.value));\n-                        }\n-                      }}\n-            />\n-          </WorkspaceEditSection>\n-        }\n+            <OverlayPanel ref={(me) => freeTierBalancePanel = me} dismissable={true} appendTo={document.body}>\n+              <div style={styles.freeCreditsBalanceOverlay}>\n+                FREE CREDIT BALANCE {renderUSD(freeTierCreditsBalance)}\n+              </div>\n+            </OverlayPanel>\n+            <FlexRow>\n+              <Dropdown style={{width: '14rem'}}\n+                        value={this.state.workspace.billingAccountName}\n+                        options={this.buildBillingAccountOptions()}\n+                        onChange={e => {\n+                          if (e.value === CREATE_BILLING_ACCOUNT_OPTION_VALUE) {\n+                            this.setState({\n+                              showCreateBillingAccountModal: true\n+                            });\n+                          } else {\n+                            this.setState(fp.set(['workspace', 'billingAccountName'], e.value));\n+                          }\n+                        }}\n+              />\n+              {freeTierCreditsBalance > 0.0 && <div style={styles.freeCreditsBalanceClickable}>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4ac4d288cc475ab62eb2f657a5de0bf8aea9088"}, "originalPosition": 139}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMzk2NzY3OnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMzo1Nzo1MFrOGFP8FQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMzo1Nzo1MFrOGFP8FQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE1NzIwNQ==", "bodyText": "Nit: Please change to colors.primary", "url": "https://github.com/all-of-us/workbench/pull/3377#discussion_r408157205", "createdAt": "2020-04-14T13:57:50Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "diffHunk": "@@ -81,6 +85,20 @@ export const styles = reactStyles({\n     flex: '1 1 0',\n     marginLeft: '1rem'\n   },\n+  freeCreditsBalanceClickable: {\n+    display: 'inline-block',\n+    color: colors.accent,\n+    padding: '0.25rem 0 0 1rem'\n+  },\n+  freeCreditsBalanceOverlay: {\n+    height: '44px',\n+    width: '150px',\n+    color: '#262262',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4ac4d288cc475ab62eb2f657a5de0bf8aea9088"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMzk3MDAxOnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMzo1ODoxOFrOGFP9ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNDo0MTowN1rOGFR_Hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE1NzU0Ng==", "bodyText": "Nit: I think our convention for this is to just put fontSize: 12", "url": "https://github.com/all-of-us/workbench/pull/3377#discussion_r408157546", "createdAt": "2020-04-14T13:58:18Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "diffHunk": "@@ -81,6 +85,20 @@ export const styles = reactStyles({\n     flex: '1 1 0',\n     marginLeft: '1rem'\n   },\n+  freeCreditsBalanceClickable: {\n+    display: 'inline-block',\n+    color: colors.accent,\n+    padding: '0.25rem 0 0 1rem'\n+  },\n+  freeCreditsBalanceOverlay: {\n+    height: '44px',\n+    width: '150px',\n+    color: '#262262',\n+    fontFamily: 'Montserrat',\n+    fontSize: '12px',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4ac4d288cc475ab62eb2f657a5de0bf8aea9088"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE5MDc1MQ==", "bodyText": "I'll update.  A quick search shows we're very inconsistent here.  This one's my favorite: fontSize: '.54167rem',", "url": "https://github.com/all-of-us/workbench/pull/3377#discussion_r408190751", "createdAt": "2020-04-14T14:41:07Z", "author": {"login": "jmthibault79"}, "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "diffHunk": "@@ -81,6 +85,20 @@ export const styles = reactStyles({\n     flex: '1 1 0',\n     marginLeft: '1rem'\n   },\n+  freeCreditsBalanceClickable: {\n+    display: 'inline-block',\n+    color: colors.accent,\n+    padding: '0.25rem 0 0 1rem'\n+  },\n+  freeCreditsBalanceOverlay: {\n+    height: '44px',\n+    width: '150px',\n+    color: '#262262',\n+    fontFamily: 'Montserrat',\n+    fontSize: '12px',", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE1NzU0Ng=="}, "originalCommit": {"oid": "d4ac4d288cc475ab62eb2f657a5de0bf8aea9088"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMzk3MDU1OnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMzo1ODoyNVrOGFP9ww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMzo1ODoyNVrOGFP9ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE1NzYzNQ==", "bodyText": "Nit: I think our convention for this is to just put fontSize: 150", "url": "https://github.com/all-of-us/workbench/pull/3377#discussion_r408157635", "createdAt": "2020-04-14T13:58:25Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "diffHunk": "@@ -81,6 +85,20 @@ export const styles = reactStyles({\n     flex: '1 1 0',\n     marginLeft: '1rem'\n   },\n+  freeCreditsBalanceClickable: {\n+    display: 'inline-block',\n+    color: colors.accent,\n+    padding: '0.25rem 0 0 1rem'\n+  },\n+  freeCreditsBalanceOverlay: {\n+    height: '44px',\n+    width: '150px',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4ac4d288cc475ab62eb2f657a5de0bf8aea9088"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMzk3MTI0OnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMzo1ODozMVrOGFP-Ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMzo1ODozMVrOGFP-Ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE1NzczMA==", "bodyText": "Nit: I think our convention for this is to just put fontSize: 44", "url": "https://github.com/all-of-us/workbench/pull/3377#discussion_r408157730", "createdAt": "2020-04-14T13:58:31Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "diffHunk": "@@ -81,6 +85,20 @@ export const styles = reactStyles({\n     flex: '1 1 0',\n     marginLeft: '1rem'\n   },\n+  freeCreditsBalanceClickable: {\n+    display: 'inline-block',\n+    color: colors.accent,\n+    padding: '0.25rem 0 0 1rem'\n+  },\n+  freeCreditsBalanceOverlay: {\n+    height: '44px',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4ac4d288cc475ab62eb2f657a5de0bf8aea9088"}, "originalPosition": 48}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2927, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}