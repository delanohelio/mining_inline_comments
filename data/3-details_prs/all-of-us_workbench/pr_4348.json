{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMxOTE5NDY0", "number": 4348, "title": "Puppeteer: minor test code refactor", "bodyText": "", "createdAt": "2020-12-03T16:38:26Z", "url": "https://github.com/all-of-us/workbench/pull/4348", "merged": true, "mergeCommit": {"oid": "a907afb31aaab5be94df6bbfd2cb2fd5b30bdcdb"}, "closed": true, "closedAt": "2020-12-03T21:52:29Z", "author": {"login": "aweng98"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdil1qtAH2gAyNTMxOTE5NDY0OjczZTBhNmFkY2EzMGQxNDBiY2JjOGJhMTA0MGY2MjFkNzYwM2ViNTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdip_StAFqTU0NDQ2MTk0Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "73e0a6adca30d140bcbc8ba1040f621d7603eb52", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/73e0a6adca30d140bcbc8ba1040f621d7603eb52", "committedDate": "2020-12-03T16:35:46Z", "message": "fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MTU5MjA3", "url": "https://github.com/all-of-us/workbench/pull/4348#pullrequestreview-544159207", "createdAt": "2020-12-03T16:39:56Z", "commit": {"oid": "73e0a6adca30d140bcbc8ba1040f621d7603eb52"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNjozOTo1N1rOH-l5Iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNjo0NToyM1rOH-mMMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM5NDU5NQ==", "bodyText": "checking cdr version on Data page is moved to workspace-create.spec test (one less new workspace).", "url": "https://github.com/all-of-us/workbench/pull/4348#discussion_r535394595", "createdAt": "2020-12-03T16:39:57Z", "author": {"login": "aweng98"}, "path": "e2e/tests/workspace/cdr-version-display.spec.ts", "diffHunk": "@@ -10,17 +10,6 @@ describe('Workspace CDR Version display', () => {\n         await signIn(page);\n     });\n \n-    test('The CDR version displays in the workspace navigation bar', async () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73e0a6adca30d140bcbc8ba1040f621d7603eb52"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM5NjA5OQ==", "bodyText": "not useful, cluttering code.", "url": "https://github.com/all-of-us/workbench/pull/4348#discussion_r535396099", "createdAt": "2020-12-03T16:41:32Z", "author": {"login": "aweng98"}, "path": "e2e/tests/workspace/workspace-edit.spec.ts", "diffHunk": "@@ -85,8 +85,7 @@ describe('Editing workspace via workspace card snowman menu', () => {\n \n   test('User as OWNER can edit workspace via workspace action menu', async () => {\n     const workspaceCard = await findOrCreateWorkspace(page);\n-    const workspaceName = await workspaceCard.getWorkspaceName();\n-    console.log(workspaceName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73e0a6adca30d140bcbc8ba1040f621d7603eb52"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM5ODcwMw==", "bodyText": "disable global retry failed tests in an indiscriminate fashion. Retry uses up billing projects and may hides application issues.", "url": "https://github.com/all-of-us/workbench/pull/4348#discussion_r535398703", "createdAt": "2020-12-03T16:44:33Z", "author": {"login": "aweng98"}, "path": "e2e/jest-circus.setup.ts", "diffHunk": "@@ -2,4 +2,4 @@ require('expect-puppeteer');\n \n // Runs failed tests n-times until they pass or until the max number of retries is exhausted. This only works with jest-circus.\n // This file loaded in jest.config.js ==> setupFilesAfterEnv\n-jest.retryTimes(process.env.DEBUG === 'true' ? 0 : 1);\n+// jest.retryTimes(process.env.DEBUG === 'true' ? 0 : 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73e0a6adca30d140bcbc8ba1040f621d7603eb52"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM5OTQ3NQ==", "bodyText": "--maxWorkers=3 will cause test to fail when only one test is selected to run.", "url": "https://github.com/all-of-us/workbench/pull/4348#discussion_r535399475", "createdAt": "2020-12-03T16:45:23Z", "author": {"login": "aweng98"}, "path": "e2e/package.json", "diffHunk": "@@ -9,10 +9,10 @@\n     \"test\": \"cross-env jest --maxWorkers=5\",\n     \"test:debugTest\": \"cross-env PUPPETEER_HEADLESS=false DEBUG=true node --inspect-brk node_modules/.bin/jest\",\n     \"test:debug\": \"cross-env PUPPETEER_HEADLESS=false DEBUG=true jest --detectOpenHandles\",\n-    \"test-local\": \"cross-env WORKBENCH_ENV=local DEBUG=true jest --maxWorkers=3\",\n-    \"test-local:debug\": \"cross-env WORKBENCH_ENV=local PUPPETEER_HEADLESS=false DEBUG=true jest --maxWorkers=3\",\n+    \"test-local\": \"cross-env WORKBENCH_ENV=local DEBUG=true jest --detectOpenHandles\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73e0a6adca30d140bcbc8ba1040f621d7603eb52"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MjE3NTQ5", "url": "https://github.com/all-of-us/workbench/pull/4348#pullrequestreview-544217549", "createdAt": "2020-12-03T17:43:39Z", "commit": {"oid": "73e0a6adca30d140bcbc8ba1040f621d7603eb52"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MjQ1NjI4", "url": "https://github.com/all-of-us/workbench/pull/4348#pullrequestreview-544245628", "createdAt": "2020-12-03T18:14:28Z", "commit": {"oid": "73e0a6adca30d140bcbc8ba1040f621d7603eb52"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxODoxNDoyOFrOH-qbJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxODoxNDoyOFrOH-qbJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQ2ODgzNw==", "bodyText": "The error is Protocol error (DOM.describeNode): Target closed. when running only one test on localhost like yarn test-local tests/home/home-page.spec.ts.\n--detectOpenHandles detects one code issue: when asyn/promise code didn't use await.", "url": "https://github.com/all-of-us/workbench/pull/4348#discussion_r535468837", "createdAt": "2020-12-03T18:14:28Z", "author": {"login": "aweng98"}, "path": "e2e/package.json", "diffHunk": "@@ -9,10 +9,10 @@\n     \"test\": \"cross-env jest --maxWorkers=5\",\n     \"test:debugTest\": \"cross-env PUPPETEER_HEADLESS=false DEBUG=true node --inspect-brk node_modules/.bin/jest\",\n     \"test:debug\": \"cross-env PUPPETEER_HEADLESS=false DEBUG=true jest --detectOpenHandles\",\n-    \"test-local\": \"cross-env WORKBENCH_ENV=local DEBUG=true jest --maxWorkers=3\",\n-    \"test-local:debug\": \"cross-env WORKBENCH_ENV=local PUPPETEER_HEADLESS=false DEBUG=true jest --maxWorkers=3\",\n+    \"test-local\": \"cross-env WORKBENCH_ENV=local DEBUG=true jest --detectOpenHandles\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM5OTQ3NQ=="}, "originalCommit": {"oid": "73e0a6adca30d140bcbc8ba1040f621d7603eb52"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9bc8f6c0a475e09f7a74ea02a25381386c71bfe", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/a9bc8f6c0a475e09f7a74ea02a25381386c71bfe", "committedDate": "2020-12-03T18:18:34Z", "message": "enable dataset-create.spec"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MjUwNjM3", "url": "https://github.com/all-of-us/workbench/pull/4348#pullrequestreview-544250637", "createdAt": "2020-12-03T18:20:55Z", "commit": {"oid": "a9bc8f6c0a475e09f7a74ea02a25381386c71bfe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxODoyMDo1NVrOH-qxTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxODoyMDo1NVrOH-qxTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQ3NDUwOQ==", "bodyText": "RW-5751 is done but no one re-enabled test.", "url": "https://github.com/all-of-us/workbench/pull/4348#discussion_r535474509", "createdAt": "2020-12-03T18:20:55Z", "author": {"login": "aweng98"}, "path": "e2e/tests/datasets/dataset-create.spec.ts", "diffHunk": "@@ -21,8 +21,7 @@ describe('Dataset test', () => {\n    * - Edit dataset. Save dataset without Export to Notebook.\n    * - Delete Dataset.\n    */\n-  // RW-5751 Search for condition is failing in CI.\n-  xtest('Can create Dataset with user-defined Cohorts', async () => {\n+  test('Can create Dataset with user-defined Cohorts', async () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9bc8f6c0a475e09f7a74ea02a25381386c71bfe"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c01a114320107436321f495d05da0bf31ec875c", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/0c01a114320107436321f495d05da0bf31ec875c", "committedDate": "2020-12-03T21:05:49Z", "message": "revert changes in package.json"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0NDYxOTQ3", "url": "https://github.com/all-of-us/workbench/pull/4348#pullrequestreview-544461947", "createdAt": "2020-12-03T21:25:54Z", "commit": {"oid": "0c01a114320107436321f495d05da0bf31ec875c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3702, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}