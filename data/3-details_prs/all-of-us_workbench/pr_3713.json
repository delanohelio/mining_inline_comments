{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwMTg0MjQ1", "number": 3713, "title": "[RW-4599][RISK=NO] Backend: add Age at Event as modifier to Surveys", "bodyText": "Modifier AGE_AT_EVENT is working for Domain survey. This PR is just to add a test for the same\n\nPR checklist\n\n This PR meets the Acceptance Criteria in the JIRA story\n The JIRA story has been moved to Dev Review\n This PR includes appropriate unit tests\n I have run and tested this change locally\n I have run the E2E tests on ths change against my local UI + API server with yarn test-local\n If this includes a UI change, I have taken screen recordings or screenshots of the new behavior and notified the PO and UX designer\n If this includes an API change, I have updated the appropriate Swagger definitions and notified API consumers\n If this includes a new feature flag, I have created and linked new JIRA tickets to (a) turn on the feature flag and (b) remove it later", "createdAt": "2020-06-25T18:21:52Z", "url": "https://github.com/all-of-us/workbench/pull/3713", "merged": true, "mergeCommit": {"oid": "c4f60e50a02d684f7693954650bbad90c3a7cb3e"}, "closed": true, "closedAt": "2020-06-29T18:22:11Z", "author": {"login": "NehaBroad"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuy1Y5AH2gAyNDQwMTg0MjQ1OjA0ODQyYWI5NGU2YjdjZWQ3NmM5YzQ3ZDFkODYzNWJiY2Y0MDM0NTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwE4r5gH2gAyNDQwMTg0MjQ1OjVkY2FhYTY0M2E0OGYzZGZhYzBkN2E0YTUxMjVhNDM4N2JjNmI0NmI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "04842ab94e6b7ced76c9c47d1d8635bbcf403451", "author": {"user": {"login": "NehaBroad", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/04842ab94e6b7ced76c9c47d1d8635bbcf403451", "committedDate": "2020-06-25T18:20:10Z", "message": "Test CountParticipants work for survey with Age at event"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7272a3d03e0387e1a38092524f728ad07c1ffe40", "author": {"user": {"login": "NehaBroad", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/7272a3d03e0387e1a38092524f728ad07c1ffe40", "committedDate": "2020-06-25T19:11:12Z", "message": "Big query test for Survey domain with age modifier"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MTg5NzUx", "url": "https://github.com/all-of-us/workbench/pull/3713#pullrequestreview-439189751", "createdAt": "2020-06-29T14:17:23Z", "commit": {"oid": "7272a3d03e0387e1a38092524f728ad07c1ffe40"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNDoxNzoyM1rOGqTF9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNDoxNzoyM1rOGqTF9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzAwNjE5OA==", "bodyText": "nit: I would use ImmutableList instead of Arrays\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        DomainType.SURVEY.toString(), ImmutableList.of(survey()), Arrays.asList(ageModifier()));\n          \n          \n            \n                        DomainType.SURVEY.toString(), ImmutableList.of(survey()),  ImmutableList.of(ageModifier()));", "url": "https://github.com/all-of-us/workbench/pull/3713#discussion_r447006198", "createdAt": "2020-06-29T14:17:23Z", "author": {"login": "freemabd"}, "path": "api/src/bigquerytest/java/org/pmiops/workbench/api/CohortBuilderControllerBQTest.java", "diffHunk": "@@ -1018,6 +1018,16 @@ public void firstMentionOfICD9WithModifiersOrSnomed5DaysAfterICD10WithModifiers(\n         controller.countParticipants(cdrVersion.getCdrVersionId(), searchRequest), 1);\n   }\n \n+  @Test\n+  public void countSubjectsForSurveyWithAgeModifiers() {\n+    SearchRequest searchRequest =\n+        createSearchRequests(\n+            DomainType.SURVEY.toString(), ImmutableList.of(survey()), Arrays.asList(ageModifier()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7272a3d03e0387e1a38092524f728ad07c1ffe40"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5dcaaa643a48f3dfac0d7a4a5125a4387bc6b46b", "author": {"user": {"login": "NehaBroad", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/5dcaaa643a48f3dfac0d7a4a5125a4387bc6b46b", "committedDate": "2020-06-29T17:55:59Z", "message": "PR Comment use Immutable List"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4623, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}