{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MzIwMjQ4", "number": 3066, "title": "[RW-4159][risk=no] UI environment flags & feature flag cleanup", "bodyText": "This PR contains a bit of prep work and cleanup that's loosely related to the Terms of Service signature UI:\n\n\nRemove our redundant environment.enableAccountPages flag, and instead propagate the WorkbenchConfig.enableNewAccountCreation flag and use that. This will help reduce bugs as we roll out the new-account functionality in the backend & UI.\n\n\nRemove the unused enableHomepageRestyle flag. It's set to true in all environments, so is overdue for removal.", "createdAt": "2020-01-30T22:26:56Z", "url": "https://github.com/all-of-us/workbench/pull/3066", "merged": true, "mergeCommit": {"oid": "0842aa3f14b3d2016b0289fe72ac2ff2ebe879d9"}, "closed": true, "closedAt": "2020-01-31T03:40:38Z", "author": {"login": "gjuggler"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_iR4uAFqTM1MTE4Njg5MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_mhapgH2gAyMzY5MzIwMjQ4OjcyYjJjNWQ4NjM5OGUwZGJiZjE4YjYzNmY0ZTQ1NDAxMmI2MWY1NWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMTg2ODkw", "url": "https://github.com/all-of-us/workbench/pull/3066#pullrequestreview-351186890", "createdAt": "2020-01-30T22:28:28Z", "commit": {"oid": "2046e110de14a7357936567489f29cad65dd2b30"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMjoyODoyOFrOFj8DIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMjoyODoyOFrOFj8DIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzIyODMyMA==", "bodyText": "GitHub is making this diff look more \"interesting\" than it really is. In this if-else statement here, I kept everything within the \"if environment.enableHomepageRestyle\" and removed everything in the \"else\".", "url": "https://github.com/all-of-us/workbench/pull/3066#discussion_r373228320", "createdAt": "2020-01-30T22:28:28Z", "author": {"login": "gjuggler"}, "path": "ui/src/app/pages/homepage/homepage.tsx", "diffHunk": "@@ -277,156 +241,32 @@ export const Homepage = withUserProfile()(class extends React.Component<\n       }\n     ];\n \n-    if (environment.enableHomepageRestyle) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2046e110de14a7357936567489f29cad65dd2b30"}, "originalPosition": 61}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e559ec463b5c065b6e09bb3443b69b0f7ef4e98", "author": {"user": {"login": "gjuggler", "name": "Greg Jordan"}}, "url": "https://github.com/all-of-us/workbench/commit/8e559ec463b5c065b6e09bb3443b69b0f7ef4e98", "committedDate": "2020-01-30T22:39:02Z", "message": "Environment cleanup: use backend config for newAccount feature flag & remove old env vars."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2046e110de14a7357936567489f29cad65dd2b30", "author": {"user": {"login": "gjuggler", "name": "Greg Jordan"}}, "url": "https://github.com/all-of-us/workbench/commit/2046e110de14a7357936567489f29cad65dd2b30", "committedDate": "2020-01-30T06:21:15Z", "message": "Environment cleanup: use backend config for newAccount feature flag & remove old env vars."}, "afterCommit": {"oid": "8e559ec463b5c065b6e09bb3443b69b0f7ef4e98", "author": {"user": {"login": "gjuggler", "name": "Greg Jordan"}}, "url": "https://github.com/all-of-us/workbench/commit/8e559ec463b5c065b6e09bb3443b69b0f7ef4e98", "committedDate": "2020-01-30T22:39:02Z", "message": "Environment cleanup: use backend config for newAccount feature flag & remove old env vars."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMTk0ODI0", "url": "https://github.com/all-of-us/workbench/pull/3066#pullrequestreview-351194824", "createdAt": "2020-01-30T22:45:47Z", "commit": {"oid": "8e559ec463b5c065b6e09bb3443b69b0f7ef4e98"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMjo0NTo0N1rOFj8cUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMjo0NTo0N1rOFj8cUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzIzNDc2OQ==", "bodyText": "While you're touching this, I'd propose turning this off everywhere. We're very far away from flipping this flag on, and certainly the current incarnation is not something we're planning to launch.", "url": "https://github.com/all-of-us/workbench/pull/3066#discussion_r373234769", "createdAt": "2020-01-30T22:45:47Z", "author": {"login": "calbach"}, "path": "ui/src/environments/test-env-base.ts", "diffHunk": "@@ -13,11 +13,9 @@ export const testEnvironmentBase = {\n   zendeskHelpCenterUrl: 'http://aousupporthelp.zendesk.com/hc',\n   shibbolethUrl: 'http://mock-nih.dev.test.firecloud.org',\n   shouldShowDisplayTag: true,\n-  enablePublishedWorkspaces: true,\n   inactivityTimeoutSeconds: 99999999999,\n   inactivityWarningBeforeSeconds: 5 * 60,\n-  enableHomepageRestyle: true,\n+  enablePublishedWorkspaces: true,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e559ec463b5c065b6e09bb3443b69b0f7ef4e98"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a19efb58036159d0c54f5a9c770b9940a7d67497", "author": {"user": {"login": "gjuggler", "name": "Greg Jordan"}}, "url": "https://github.com/all-of-us/workbench/commit/a19efb58036159d0c54f5a9c770b9940a7d67497", "committedDate": "2020-01-31T03:18:37Z", "message": "Update aou-utils submodule."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72b2c5d86398e0dbbf18b636f4e454012b61f55e", "author": {"user": {"login": "gjuggler", "name": "Greg Jordan"}}, "url": "https://github.com/all-of-us/workbench/commit/72b2c5d86398e0dbbf18b636f4e454012b61f55e", "committedDate": "2020-01-31T03:25:03Z", "message": "Turn enablePublishedWorkspaces to false on all envs."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3771, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}