{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE3ODc1MDgx", "number": 4263, "title": "jest cli --no-color", "bodyText": "Fixes in CircleCI config.yml for the e2e test results loading to GCS bucket.", "createdAt": "2020-11-09T16:15:01Z", "url": "https://github.com/all-of-us/workbench/pull/4263", "merged": true, "mergeCommit": {"oid": "55a18a803d11dc748301590483b2a2b3c1c49146"}, "closed": true, "closedAt": "2020-11-10T19:25:35Z", "author": {"login": "aweng98"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABda3Jb0gH2gAyNTE3ODc1MDgxOmRhZTQ3NWI3YWRjOWRlM2E1ZjBlYTZhOGVkZjJmM2E1OGQ4MWVjNzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdbOIJzAFqTUyNzUxODA3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dae475b7adc9de3a5f0ea6a8edf2f3a58d81ec70", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/dae475b7adc9de3a5f0ea6a8edf2f3a58d81ec70", "committedDate": "2020-11-09T16:14:21Z", "message": "jest cli --no-color"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12df80401f909f39808e66aa47dcb4c2a2117c19", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/12df80401f909f39808e66aa47dcb4c2a2117c19", "committedDate": "2020-11-10T03:26:37Z", "message": "modify ci json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24d32037e658da873dcd35cf68e8774d39597419", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/24d32037e658da873dcd35cf68e8774d39597419", "committedDate": "2020-11-10T12:58:22Z", "message": "gather test results on master branch only"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b09ffdd5b73b537ed3df4c3e1939459e440f10e", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/1b09ffdd5b73b537ed3df4c3e1939459e440f10e", "committedDate": "2020-11-10T18:50:17Z", "message": "undo last commit"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "65f22fb6e5fe90e50d2d232ec32a81df17453af3", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/65f22fb6e5fe90e50d2d232ec32a81df17453af3", "committedDate": "2020-11-10T17:45:17Z", "message": "upload test on non-master branch"}, "afterCommit": {"oid": "1b09ffdd5b73b537ed3df4c3e1939459e440f10e", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/1b09ffdd5b73b537ed3df4c3e1939459e440f10e", "committedDate": "2020-11-10T18:50:17Z", "message": "undo last commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d4cfd155e0850d8d52f12259c564b81e1baf097", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/0d4cfd155e0850d8d52f12259c564b81e1baf097", "committedDate": "2020-11-10T18:55:11Z", "message": "undo testing on non-master branch"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3NTExNzk0", "url": "https://github.com/all-of-us/workbench/pull/4263#pullrequestreview-527511794", "createdAt": "2020-11-10T18:52:40Z", "commit": {"oid": "1b09ffdd5b73b537ed3df4c3e1939459e440f10e"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxODo1Mjo0MFrOHwq27g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxODo1NzoyMFrOHwrIbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDc5NTg4Ng==", "bodyText": "Updated db schema for these two fields from STRING to INTEGER.", "url": "https://github.com/all-of-us/workbench/pull/4263#discussion_r520795886", "createdAt": "2020-11-10T18:52:40Z", "author": {"login": "aweng98"}, "path": ".circleci/config.yml", "diffHunk": "@@ -308,22 +308,12 @@ commands:\n             echo \"{ \\\n               \\\"circleBranch\\\": \\\"${CIRCLE_BRANCH}\\\", \\\n               \\\"circleJob\\\": \\\"${CIRCLE_JOB}\\\", \\\n-              \\\"circleBuild\\\": \\\"${CIRCLE_BUILD_NUM}\\\", \\\n+              \\\"circleBuild\\\": ${CIRCLE_BUILD_NUM}, \\\n               \\\"circleBuildUrl\\\": \\\"${CIRCLE_BUILD_URL}\\\", \\\n-              \\\"circleNodeIndex\\\": \\\"${CIRCLE_NODE_INDEX}\\\" \\\n+              \\\"circleNodeIndex\\\": ${CIRCLE_NODE_INDEX} \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b09ffdd5b73b537ed3df4c3e1939459e440f10e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDc5OTgxMg==", "bodyText": "Getting test results JSON on all PR jobs but I want test results only on master branch.", "url": "https://github.com/all-of-us/workbench/pull/4263#discussion_r520799812", "createdAt": "2020-11-10T18:56:47Z", "author": {"login": "aweng98"}, "path": ".circleci/config.yml", "diffHunk": "@@ -650,6 +654,8 @@ workflows:\n           requires:\n             - api-deploy-to-test\n             - ui-deploy-to-test\n+          post-steps:\n+            - gcs-load-test-results", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d4cfd155e0850d8d52f12259c564b81e1baf097"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgwMDM2NQ==", "bodyText": "BigQuery table fails to load data when JSON file contains ANSI color code.", "url": "https://github.com/all-of-us/workbench/pull/4263#discussion_r520800365", "createdAt": "2020-11-10T18:57:20Z", "author": {"login": "aweng98"}, "path": "e2e/package.json", "diffHunk": "@@ -13,7 +13,7 @@\n     \"test-local:debug\": \"cross-env WORKBENCH_ENV=local PUPPETEER_HEADLESS=false DEBUG=true jest --maxWorkers=3\",\n     \"test-staging\": \"cross-env WORKBENCH_ENV=staging jest --maxWorkers=3\",\n     \"test-staging:debug\": \"cross-env WORKBENCH_ENV=staging PUPPETEER_HEADLESS=false DEBUG=true jest --maxWorkers=1\",\n-    \"test:ci\": \"jest --ci --maxWorkers=2\",\n+    \"test:ci\": \"jest --no-color --ci --maxWorkers=2\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d4cfd155e0850d8d52f12259c564b81e1baf097"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3NTE4MDcx", "url": "https://github.com/all-of-us/workbench/pull/4263#pullrequestreview-527518071", "createdAt": "2020-11-10T19:00:46Z", "commit": {"oid": "0d4cfd155e0850d8d52f12259c564b81e1baf097"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3839, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}