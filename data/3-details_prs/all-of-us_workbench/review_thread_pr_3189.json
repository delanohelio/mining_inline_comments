{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwMzM0ODg3", "number": 3189, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxNzo1OToyOVrODjLikQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxODoxMDozNVrODjLwhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4MjE1ODI1OnYy", "diffSide": "RIGHT", "path": "ui/src/app/app-routing.module.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxNzo1OToyOVrOFu2GIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxNzo1OToyOVrOFu2GIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY2NTEyMg==", "bodyText": "Going direct to this component does mean that a second workspace can't be searched from this page. Probably fine for this use case though.", "url": "https://github.com/all-of-us/workbench/pull/3189#discussion_r384665122", "createdAt": "2020-02-26T17:59:29Z", "author": {"login": "als364"}, "path": "ui/src/app/app-routing.module.ts", "diffHunk": "@@ -287,9 +288,13 @@ const routes: Routes = [\n         component: AdminBannerComponent,\n         data: {title: 'Create Banner'}\n       }, {\n-        path: 'admin/workspace',\n+        path: 'admin/workspaces',\n+        component: AdminWorkspaceSearchComponent,\n+        data: { title: 'Workspace Admin'},\n+      }, {\n+        path: 'admin/workspaces/:workspaceNamespace',\n         component: AdminWorkspaceComponent,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09092fd5883688a1ce6706ac0e72374fd55d8876"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4MjE5MzQxOnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/admin/admin-workspace-search.tsx", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxODoxMDoyNFrOFu2ckA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxOToxNjoxNVrOFu4oLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY3MDg2NA==", "bodyText": "This I object to more than the above comment. Navigating away from the search bar means that you have to go back in order to search a second thing. I would strongly prefer to keep the search bar and do something with state that forces a fetch of the workspace information when the router is sent to admin/workspaces/{namespace}.", "url": "https://github.com/all-of-us/workbench/pull/3189#discussion_r384670864", "createdAt": "2020-02-26T18:10:24Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/admin/admin-workspace-search.tsx", "diffHunk": "@@ -0,0 +1,62 @@\n+import {Component} from '@angular/core';\n+import {Button} from 'app/components/buttons';\n+import {FlexRow} from 'app/components/flex';\n+import {TextInput} from 'app/components/inputs';\n+import colors from 'app/styles/colors';\n+import {ReactWrapperBase, UrlParamsProps, withUrlParams} from 'app/utils';\n+import {navigate} from 'app/utils/navigation';\n+import * as React from 'react';\n+\n+interface State {\n+  workspaceNamespace: string;\n+}\n+\n+class AdminWorkspaceSearchImpl extends React.Component<UrlParamsProps, State> {\n+  constructor(props) {\n+    super(props);\n+\n+    this.state = {\n+      workspaceNamespace: '',\n+    };\n+  }\n+\n+  navigateToWorkspace() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09092fd5883688a1ce6706ac0e72374fd55d8876"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY5NjI5OA==", "bodyText": "You can easily return to the search form via the browser \"back\" command.\nI do agree that this isn't an ideal UX, but it's an intermediate step on the way to a longer-term goal, where the \"search\" page actually shows search results, and then you click into those results to open up a new tab with each workspace's detail view. I think that setup would address your concerns, but we can chat offline if you're worried it won't.", "url": "https://github.com/all-of-us/workbench/pull/3189#discussion_r384696298", "createdAt": "2020-02-26T18:56:59Z", "author": {"login": "gjuggler"}, "path": "ui/src/app/pages/admin/admin-workspace-search.tsx", "diffHunk": "@@ -0,0 +1,62 @@\n+import {Component} from '@angular/core';\n+import {Button} from 'app/components/buttons';\n+import {FlexRow} from 'app/components/flex';\n+import {TextInput} from 'app/components/inputs';\n+import colors from 'app/styles/colors';\n+import {ReactWrapperBase, UrlParamsProps, withUrlParams} from 'app/utils';\n+import {navigate} from 'app/utils/navigation';\n+import * as React from 'react';\n+\n+interface State {\n+  workspaceNamespace: string;\n+}\n+\n+class AdminWorkspaceSearchImpl extends React.Component<UrlParamsProps, State> {\n+  constructor(props) {\n+    super(props);\n+\n+    this.state = {\n+      workspaceNamespace: '',\n+    };\n+  }\n+\n+  navigateToWorkspace() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY3MDg2NA=="}, "originalCommit": {"oid": "09092fd5883688a1ce6706ac0e72374fd55d8876"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDcwNjYwNA==", "bodyText": "This proooobably would. Especially if we want to do different kinds of search, like workspaces-by-problem-user or something.", "url": "https://github.com/all-of-us/workbench/pull/3189#discussion_r384706604", "createdAt": "2020-02-26T19:16:15Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/admin/admin-workspace-search.tsx", "diffHunk": "@@ -0,0 +1,62 @@\n+import {Component} from '@angular/core';\n+import {Button} from 'app/components/buttons';\n+import {FlexRow} from 'app/components/flex';\n+import {TextInput} from 'app/components/inputs';\n+import colors from 'app/styles/colors';\n+import {ReactWrapperBase, UrlParamsProps, withUrlParams} from 'app/utils';\n+import {navigate} from 'app/utils/navigation';\n+import * as React from 'react';\n+\n+interface State {\n+  workspaceNamespace: string;\n+}\n+\n+class AdminWorkspaceSearchImpl extends React.Component<UrlParamsProps, State> {\n+  constructor(props) {\n+    super(props);\n+\n+    this.state = {\n+      workspaceNamespace: '',\n+    };\n+  }\n+\n+  navigateToWorkspace() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY3MDg2NA=="}, "originalCommit": {"oid": "09092fd5883688a1ce6706ac0e72374fd55d8876"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4MjE5Mzk3OnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/admin/admin-workspace-search.tsx", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxODoxMDozNVrOFu2c9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxODo1ODoxMFrOFu4Cow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY3MDk2Nw==", "bodyText": "ty for keeping the enter-to-search though.", "url": "https://github.com/all-of-us/workbench/pull/3189#discussion_r384670967", "createdAt": "2020-02-26T18:10:35Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/admin/admin-workspace-search.tsx", "diffHunk": "@@ -0,0 +1,62 @@\n+import {Component} from '@angular/core';\n+import {Button} from 'app/components/buttons';\n+import {FlexRow} from 'app/components/flex';\n+import {TextInput} from 'app/components/inputs';\n+import colors from 'app/styles/colors';\n+import {ReactWrapperBase, UrlParamsProps, withUrlParams} from 'app/utils';\n+import {navigate} from 'app/utils/navigation';\n+import * as React from 'react';\n+\n+interface State {\n+  workspaceNamespace: string;\n+}\n+\n+class AdminWorkspaceSearchImpl extends React.Component<UrlParamsProps, State> {\n+  constructor(props) {\n+    super(props);\n+\n+    this.state = {\n+      workspaceNamespace: '',\n+    };\n+  }\n+\n+  navigateToWorkspace() {\n+    navigate(['/admin/workspaces/' + this.state.workspaceNamespace]);\n+  }\n+\n+  render() {\n+    return <FlexRow style={{justifyContent: 'flex-start', alignItems: 'center', marginTop: '1rem'}}>\n+        <label style={{color: colors.primary, marginRight: '1rem'}}>Workspace namespace</label>\n+        <TextInput\n+            style={{\n+              width: '10rem',\n+              marginRight: '1rem'\n+            }}\n+            onChange={value => this.setState({workspaceNamespace: value})}\n+            onKeyDown={(event: KeyboardEvent) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09092fd5883688a1ce6706ac0e72374fd55d8876"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY5Njk5NQ==", "bodyText": "I would die if this went away. Other things that I am unreasonably bothered by: not being able to ctrl-click links to open in a new tab (basically all of our in-app links don't support this), and not being able to cmd-enter to perform primary action on modal dialogs. It may not happen soon, but eventually I will fix all these things :)", "url": "https://github.com/all-of-us/workbench/pull/3189#discussion_r384696995", "createdAt": "2020-02-26T18:58:10Z", "author": {"login": "gjuggler"}, "path": "ui/src/app/pages/admin/admin-workspace-search.tsx", "diffHunk": "@@ -0,0 +1,62 @@\n+import {Component} from '@angular/core';\n+import {Button} from 'app/components/buttons';\n+import {FlexRow} from 'app/components/flex';\n+import {TextInput} from 'app/components/inputs';\n+import colors from 'app/styles/colors';\n+import {ReactWrapperBase, UrlParamsProps, withUrlParams} from 'app/utils';\n+import {navigate} from 'app/utils/navigation';\n+import * as React from 'react';\n+\n+interface State {\n+  workspaceNamespace: string;\n+}\n+\n+class AdminWorkspaceSearchImpl extends React.Component<UrlParamsProps, State> {\n+  constructor(props) {\n+    super(props);\n+\n+    this.state = {\n+      workspaceNamespace: '',\n+    };\n+  }\n+\n+  navigateToWorkspace() {\n+    navigate(['/admin/workspaces/' + this.state.workspaceNamespace]);\n+  }\n+\n+  render() {\n+    return <FlexRow style={{justifyContent: 'flex-start', alignItems: 'center', marginTop: '1rem'}}>\n+        <label style={{color: colors.primary, marginRight: '1rem'}}>Workspace namespace</label>\n+        <TextInput\n+            style={{\n+              width: '10rem',\n+              marginRight: '1rem'\n+            }}\n+            onChange={value => this.setState({workspaceNamespace: value})}\n+            onKeyDown={(event: KeyboardEvent) => {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY3MDk2Nw=="}, "originalCommit": {"oid": "09092fd5883688a1ce6706ac0e72374fd55d8876"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3152, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}