{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwMTk2Mjk3", "number": 4284, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwMzowMjozMFrOE4cvDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwMzowMjozMFrOE4cvDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3NjI2NTExOnYy", "diffSide": "RIGHT", "path": "api/src/main/java/org/pmiops/workbench/cdr/dao/CBCriteriaDao.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwMzowMjozMFrOHyX0xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNDoxNTo0OVrOHyv78Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjU4MTE5MQ==", "bodyText": "shouldn't this be \"isSelectable\"?", "url": "https://github.com/all-of-us/workbench/pull/4284#discussion_r522581191", "createdAt": "2020-11-13T03:02:30Z", "author": {"login": "jscherdin"}, "path": "api/src/main/java/org/pmiops/workbench/cdr/dao/CBCriteriaDao.java", "diffHunk": "@@ -166,7 +166,7 @@\n \n   @Query(\n       value =\n-          \"select c from DbCriteria c where domainId=:domain and match(fullText, concat('+[', :domain, '_rank1]')) > 0 order by c.count desc, c.name asc\")\n+          \"select c from DbCriteria c where domainId=:domain and selectable = 1 and match(fullText, concat('+[', :domain, '_rank1]')) > 0 order by c.count desc, c.name asc\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "029bdfaa5410952cd62ec9b69d0a04ffda5cd05e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjk1MTYwNQ==", "bodyText": "This is JPQL(query using the Object properties) not SQL", "url": "https://github.com/all-of-us/workbench/pull/4284#discussion_r522951605", "createdAt": "2020-11-13T13:32:27Z", "author": {"login": "freemabd"}, "path": "api/src/main/java/org/pmiops/workbench/cdr/dao/CBCriteriaDao.java", "diffHunk": "@@ -166,7 +166,7 @@\n \n   @Query(\n       value =\n-          \"select c from DbCriteria c where domainId=:domain and match(fullText, concat('+[', :domain, '_rank1]')) > 0 order by c.count desc, c.name asc\")\n+          \"select c from DbCriteria c where domainId=:domain and selectable = 1 and match(fullText, concat('+[', :domain, '_rank1]')) > 0 order by c.count desc, c.name asc\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjU4MTE5MQ=="}, "originalCommit": {"oid": "029bdfaa5410952cd62ec9b69d0a04ffda5cd05e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjk3NjI0MQ==", "bodyText": "Ok. the switching back and forth between native sql and jpql confused me", "url": "https://github.com/all-of-us/workbench/pull/4284#discussion_r522976241", "createdAt": "2020-11-13T14:15:49Z", "author": {"login": "jscherdin"}, "path": "api/src/main/java/org/pmiops/workbench/cdr/dao/CBCriteriaDao.java", "diffHunk": "@@ -166,7 +166,7 @@\n \n   @Query(\n       value =\n-          \"select c from DbCriteria c where domainId=:domain and match(fullText, concat('+[', :domain, '_rank1]')) > 0 order by c.count desc, c.name asc\")\n+          \"select c from DbCriteria c where domainId=:domain and selectable = 1 and match(fullText, concat('+[', :domain, '_rank1]')) > 0 order by c.count desc, c.name asc\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjU4MTE5MQ=="}, "originalCommit": {"oid": "029bdfaa5410952cd62ec9b69d0a04ffda5cd05e"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3741, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}