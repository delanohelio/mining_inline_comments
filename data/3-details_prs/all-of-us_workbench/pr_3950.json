{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3MjQwOTY4", "number": 3950, "title": "[no ticket][risk=no] Puppeteer: refactor workspace pages", "bodyText": "Create new workspace-base.ts abstract class for extend by workspace-data-page.ts, workspace-analysis-page.ts and workspace-about-page.ts classes. It contains common workspace-page functions.\n\n\nRename data-page.ts to workspace-data-page.ts to have a consistent name convention like other workspace-*.ts page names.", "createdAt": "2020-09-01T17:54:54Z", "url": "https://github.com/all-of-us/workbench/pull/3950", "merged": true, "mergeCommit": {"oid": "e530def82426c1b958fc516a7893fc6ed9e9492b"}, "closed": true, "closedAt": "2020-09-02T16:47:12Z", "author": {"login": "aweng98"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdErP0sAFqTQ3OTk4NjIxNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdE-ZtuABqjM3MjA2NDc0OTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5OTg2MjE1", "url": "https://github.com/all-of-us/workbench/pull/3950#pullrequestreview-479986215", "createdAt": "2020-09-01T17:55:39Z", "commit": {"oid": "18d8787fb6cca1da470dc27a66c4675eacf857da"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzo1NTo0MFrOHLB9VA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzo1NTo0OFrOHLB9qQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMyODQ2OA==", "bodyText": "Moved it to workspace-base.ts file to be a common function.", "url": "https://github.com/all-of-us/workbench/pull/3950#discussion_r481328468", "createdAt": "2020-09-01T17:55:40Z", "author": {"login": "aweng98"}, "path": "e2e/app/page/workspace-about-page.ts", "diffHunk": "@@ -32,11 +32,6 @@ export default class WorkspaceAboutPage extends AuthenticatedPage{\n     }\n   }\n \n-  async isOpen(): Promise<boolean> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18d8787fb6cca1da470dc27a66c4675eacf857da"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMyODU1Mw==", "bodyText": "Moved to workspace-base.ts file to be a common function.", "url": "https://github.com/all-of-us/workbench/pull/3950#discussion_r481328553", "createdAt": "2020-09-01T17:55:48Z", "author": {"login": "aweng98"}, "path": "e2e/app/page/workspace-data-page.ts", "diffHunk": "@@ -67,24 +64,6 @@ export default class DataPage extends AuthenticatedPage {\n     return ellipsisMenu.clickAction(action);\n   }\n \n-  /**\n-   * Select DATA, ANALYSIS or ABOUT page tab.\n-   * @param {TabLabelAlias} tabName\n-   * @param opts\n-   */\n-  async openTab(tabName: TabLabelAlias, opts: {waitPageChange?: boolean} = {}): Promise<void> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18d8787fb6cca1da470dc27a66c4675eacf857da"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODk4NDE5", "url": "https://github.com/all-of-us/workbench/pull/3950#pullrequestreview-480898419", "createdAt": "2020-09-02T14:47:37Z", "commit": {"oid": "5d3349a0b7e83e1b8a8e8f4592bd3bfc3f0f6828"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNDo0NzozN1rOHLyxmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNDo1NDo1NFrOHLzIaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjEyODI4MA==", "bodyText": "nit: I think TabLabels is shorter and more descriptive. or WorkspaceTabs", "url": "https://github.com/all-of-us/workbench/pull/3950#discussion_r482128280", "createdAt": "2020-09-02T14:47:37Z", "author": {"login": "ericsong"}, "path": "e2e/app/page/workspace-base.ts", "diffHunk": "@@ -0,0 +1,98 @@\n+import Link from 'app/element/link';\n+import {buildXPath} from 'app/xpath-builders';\n+import {ElementType} from 'app/xpath-options';\n+import {Page} from 'puppeteer';\n+import {waitWhileLoading} from 'utils/test-utils';\n+import {waitForAttributeEquality} from 'utils/waits-utils';\n+import AuthenticatedPage from './authenticated-page';\n+\n+export enum TabLabelAlias {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d3349a0b7e83e1b8a8e8f4592bd3bfc3f0f6828"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjEzNDEyMA==", "bodyText": "is this test broken now?", "url": "https://github.com/all-of-us/workbench/pull/3950#discussion_r482134120", "createdAt": "2020-09-02T14:54:54Z", "author": {"login": "ericsong"}, "path": "e2e/tests/workspace/workspace-create.spec.ts", "diffHunk": "@@ -12,7 +12,7 @@ describe('Creating new workspaces', () => {\n     await signIn(page);\n   });\n \n-  test('Create workspace - NO request for review', async () => {\n+  test.skip('Create workspace - NO request for review', async () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d3349a0b7e83e1b8a8e8f4592bd3bfc3f0f6828"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwOTc4NTc4", "url": "https://github.com/all-of-us/workbench/pull/3950#pullrequestreview-480978578", "createdAt": "2020-09-02T16:08:24Z", "commit": {"oid": "5d3349a0b7e83e1b8a8e8f4592bd3bfc3f0f6828"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNjowODoyNFrOHL2k9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNjowOTowNFrOHL2mmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjE5MDU4MA==", "bodyText": "\ud83d\udc4d Tabs also exists in Home page. TabLabels is better.", "url": "https://github.com/all-of-us/workbench/pull/3950#discussion_r482190580", "createdAt": "2020-09-02T16:08:24Z", "author": {"login": "aweng98"}, "path": "e2e/app/page/workspace-base.ts", "diffHunk": "@@ -0,0 +1,98 @@\n+import Link from 'app/element/link';\n+import {buildXPath} from 'app/xpath-builders';\n+import {ElementType} from 'app/xpath-options';\n+import {Page} from 'puppeteer';\n+import {waitWhileLoading} from 'utils/test-utils';\n+import {waitForAttributeEquality} from 'utils/waits-utils';\n+import AuthenticatedPage from './authenticated-page';\n+\n+export enum TabLabelAlias {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjEyODI4MA=="}, "originalCommit": {"oid": "5d3349a0b7e83e1b8a8e8f4592bd3bfc3f0f6828"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjE5MTAwMA==", "bodyText": "good catch. I forgot to un-skip after local testing.", "url": "https://github.com/all-of-us/workbench/pull/3950#discussion_r482191000", "createdAt": "2020-09-02T16:09:04Z", "author": {"login": "aweng98"}, "path": "e2e/tests/workspace/workspace-create.spec.ts", "diffHunk": "@@ -12,7 +12,7 @@ describe('Creating new workspaces', () => {\n     await signIn(page);\n   });\n \n-  test('Create workspace - NO request for review', async () => {\n+  test.skip('Create workspace - NO request for review', async () => {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjEzNDEyMA=="}, "originalCommit": {"oid": "5d3349a0b7e83e1b8a8e8f4592bd3bfc3f0f6828"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66c7494e7a650f38bc7063a07b54ebf1d4733aeb", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/66c7494e7a650f38bc7063a07b54ebf1d4733aeb", "committedDate": "2020-09-02T16:14:34Z", "message": "rename data-page and create workspace-base class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "691e4fb65cb09dd5fbfa669574262cc120bc65c7", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/691e4fb65cb09dd5fbfa669574262cc120bc65c7", "committedDate": "2020-09-02T16:14:34Z", "message": "open tab helper functions in workspace-base.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2f23eee9fb3f143abd202355efe188055f8e113", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/c2f23eee9fb3f143abd202355efe188055f8e113", "committedDate": "2020-09-02T16:14:34Z", "message": "fix error in dataset-create.spec.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "420b1d8782762d411ccdc3dba7ce4706f6815515", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/420b1d8782762d411ccdc3dba7ce4706f6815515", "committedDate": "2020-09-02T16:14:34Z", "message": "PR feedback"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1a1e9198b703397b8675d30b48cc67b2557004bc", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/1a1e9198b703397b8675d30b48cc67b2557004bc", "committedDate": "2020-09-02T16:09:45Z", "message": "PR feedback"}, "afterCommit": {"oid": "420b1d8782762d411ccdc3dba7ce4706f6815515", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/420b1d8782762d411ccdc3dba7ce4706f6815515", "committedDate": "2020-09-02T16:14:34Z", "message": "PR feedback"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4405, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}