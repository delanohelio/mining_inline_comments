{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyMTI3ODgy", "number": 3518, "title": "[RW-4856][risk=no] Hide beta access banner when the module is turned off", "bodyText": "Pretty straightforward change to hide the beta banner in environments where we're not using the beta access module.\nBefore:\n\nAfter:\n\n\nPR checklist\n\n This PR meets the Acceptance Criteria in the JIRA story\n The JIRA story has been moved to Dev Review\n This PR includes appropriate unit tests\n I have run and tested this change locally", "createdAt": "2020-05-01T13:21:29Z", "url": "https://github.com/all-of-us/workbench/pull/3518", "merged": true, "mergeCommit": {"oid": "e6098ff5e3062efed2f745f8582785627753b4b8"}, "closed": true, "closedAt": "2020-05-01T13:49:04Z", "author": {"login": "gjuggler"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcdBgBXAH2gAyNDEyMTI3ODgyOjg0YWNiYTA3ZWNlZWExODM0MmFlNmJmMjAwMWUwMzEyYmVjZDYyZTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcdBvMEAFqTQwNDE1OTM5Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "84acba07eceea18342ae6bf2001e0312becd62e8", "author": {"user": {"login": "gjuggler", "name": "Greg Jordan"}}, "url": "https://github.com/all-of-us/workbench/commit/84acba07eceea18342ae6bf2001e0312becd62e8", "committedDate": "2020-05-01T13:14:46Z", "message": "Suppress beta access warning if the access module is turned off."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16570cd0a7e94977c911336de23159ff197a960b", "author": {"user": {"login": "gjuggler", "name": "Greg Jordan"}}, "url": "https://github.com/all-of-us/workbench/commit/16570cd0a7e94977c911336de23159ff197a960b", "committedDate": "2020-05-01T13:19:17Z", "message": "Fix dashboard tests."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MTU5Mzk3", "url": "https://github.com/all-of-us/workbench/pull/3518#pullrequestreview-404159397", "createdAt": "2020-05-01T13:30:34Z", "commit": {"oid": "16570cd0a7e94977c911336de23159ff197a960b"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxMzozMDozNFrOGPJvJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxMzozMDozNFrOGPJvJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODU0MTM0OQ==", "bodyText": "nice", "url": "https://github.com/all-of-us/workbench/pull/3518#discussion_r418541349", "createdAt": "2020-05-01T13:30:34Z", "author": {"login": "jmthibault79"}, "path": "ui/src/app/pages/homepage/registration-dashboard.spec.tsx", "diffHunk": "@@ -70,11 +70,25 @@ describe('RegistrationDashboard', () => {\n   });\n \n   it('should display a warning when beta access has not been granted', () => {\n+    serverConfigStore.next({...serverConfigStore.getValue(), enableBetaAccess: true});\n     props.betaAccessGranted = false;\n     const wrapper = component();\n     expect(wrapper.find('[data-test-id=\"beta-access-warning\"]').length).toBe(1);\n   });\n \n+  it('should clear warning when user has been granted beta access', () => {\n+    serverConfigStore.next({...serverConfigStore.getValue(), enableBetaAccess: true});\n+    props.betaAccessGranted = true;\n+    const wrapper = component();\n+    expect(wrapper.find('[data-test-id=\"beta-access-warning\"]').length).toBe(0);\n+  });\n+\n+  it('should not display a warning when enableBetaAccess is false', () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16570cd0a7e94977c911336de23159ff197a960b"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4930, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}