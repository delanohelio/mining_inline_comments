{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwNDE2MjE0", "number": 3604, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQyMDo0MDowMFrOD-YjZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQyMDo0MDowMFrOD-YjZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NzQwNTgwOnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/signed-in/component.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQyMDo0MDowMVrOGYdAIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQyMTo1OTowOFrOGYfTqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI5NDE3OA==", "bodyText": "What does the subscriptions array do in this component?", "url": "https://github.com/all-of-us/workbench/pull/3604#discussion_r428294178", "createdAt": "2020-05-20T20:40:01Z", "author": {"login": "petesantos"}, "path": "ui/src/app/pages/signed-in/component.ts", "diffHunk": "@@ -88,17 +89,20 @@ export class SignedInComponent implements OnInit, OnDestroy, AfterViewInit {\n       });\n     });\n \n-    this.signInService.isSignedIn$.subscribe(signedIn => {\n+    this.signOutNavigateSub = this.signInService.isSignedIn$.subscribe(signedIn => {\n       if (!signedIn) {\n         this.signOut();\n       }\n     });\n+    this.subscriptions.push(this.signOutNavigateSub);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a6c34fb66952234d4607d15773c404ca44e8f9"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzMTk0Ng==", "bodyText": "It's purely for component teardown purposes: \n  \n    \n      workbench/ui/src/app/pages/signed-in/component.ts\n    \n    \n        Lines 215 to 217\n      in\n      56a6c34\n    \n    \n    \n    \n\n        \n          \n           for (const s of this.subscriptions) { \n        \n\n        \n          \n             s.unsubscribe(); \n        \n\n        \n          \n           }", "url": "https://github.com/all-of-us/workbench/pull/3604#discussion_r428331946", "createdAt": "2020-05-20T21:59:08Z", "author": {"login": "calbach"}, "path": "ui/src/app/pages/signed-in/component.ts", "diffHunk": "@@ -88,17 +89,20 @@ export class SignedInComponent implements OnInit, OnDestroy, AfterViewInit {\n       });\n     });\n \n-    this.signInService.isSignedIn$.subscribe(signedIn => {\n+    this.signOutNavigateSub = this.signInService.isSignedIn$.subscribe(signedIn => {\n       if (!signedIn) {\n         this.signOut();\n       }\n     });\n+    this.subscriptions.push(this.signOutNavigateSub);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI5NDE3OA=="}, "originalCommit": {"oid": "56a6c34fb66952234d4607d15773c404ca44e8f9"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2703, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}