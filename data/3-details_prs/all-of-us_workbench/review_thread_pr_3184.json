{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5MjMxMDQx", "number": 3184, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQyMjowMDozMFrODifksA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQyMjowOTowOFrODiftuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3NDk1NDcyOnYy", "diffSide": "RIGHT", "path": "api/src/main/resources/emails/dollarthresholdemail/content.html", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQyMjowMDozMFrOFtxdJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQyMjowMDozMFrOFtxdJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzU0MDUxNw==", "bodyText": "I agree with the semantic change, but check w/ Karthik", "url": "https://github.com/all-of-us/workbench/pull/3184#discussion_r383540517", "createdAt": "2020-02-24T22:00:30Z", "author": {"login": "jmthibault79"}, "path": "api/src/main/resources/emails/dollarthresholdemail/content.html", "diffHunk": "@@ -30,8 +30,8 @@\n <img src=\"${HEADER_IMG}\">\n <div>Hello ${FIRST_NAME} ${LAST_NAME},</div>\n <div>This is a reminder that you have used ${USED_CREDITS} in free credits offered by the All of Us Program.\n-  The remaining balance on your free credits is ${CREDIT_BALANCE} which will be valid until ${EXPIRATION_DATE}.</div>\n-<div>Once your free credits expire, you can request for an extension of free credits by contacting support or\n+  The remaining balance on your free credits is ${CREDIT_BALANCE}.</div>\n+<div>Once you use all of your free credits, you can request for an extension of free credits by contacting support or", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44bd3dc0388331514e6257717093266a880c7d3f"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3NDk3Nzg0OnYy", "diffSide": "RIGHT", "path": "api/src/test/java/org/pmiops/workbench/billing/FreeTierBillingServiceTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQyMjowOTowOFrOFtxrug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxOTowNzoxMFrOFuRhWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzU0NDI1MA==", "bodyText": "Free tier alerting for cost has (or had?) a dependency on registration time which is no longer appropriate.  Removing this block would be a good test to see if we still have that.  IIRC there are other similar blocks in this file, which we should also remove.", "url": "https://github.com/all-of-us/workbench/pull/3184#discussion_r383544250", "createdAt": "2020-02-24T22:09:08Z", "author": {"login": "jmthibault79"}, "path": "api/src/test/java/org/pmiops/workbench/billing/FreeTierBillingServiceTest.java", "diffHunk": "@@ -131,15 +124,11 @@ public void checkFreeTierBillingUsage_exceedsDollarThresholds() throws Messaging\n     final DbUser user = createUser(SINGLE_WORKSPACE_TEST_USER);\n     createWorkspace(user, SINGLE_WORKSPACE_TEST_PROJECT);\n \n-    final short daysLimit = 1000;\n-    workbenchConfig.billing.defaultFreeCreditsDaysLimit = daysLimit;\n-\n     // set an arbitrary registration time", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44bd3dc0388331514e6257717093266a880c7d3f"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDA2NTg4MQ==", "bodyText": "We do also use it to make sure we don't cost-check every single user, only users that are already registered.", "url": "https://github.com/all-of-us/workbench/pull/3184#discussion_r384065881", "createdAt": "2020-02-25T19:07:10Z", "author": {"login": "als364"}, "path": "api/src/test/java/org/pmiops/workbench/billing/FreeTierBillingServiceTest.java", "diffHunk": "@@ -131,15 +124,11 @@ public void checkFreeTierBillingUsage_exceedsDollarThresholds() throws Messaging\n     final DbUser user = createUser(SINGLE_WORKSPACE_TEST_USER);\n     createWorkspace(user, SINGLE_WORKSPACE_TEST_PROJECT);\n \n-    final short daysLimit = 1000;\n-    workbenchConfig.billing.defaultFreeCreditsDaysLimit = daysLimit;\n-\n     // set an arbitrary registration time", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzU0NDI1MA=="}, "originalCommit": {"oid": "44bd3dc0388331514e6257717093266a880c7d3f"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3403, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}