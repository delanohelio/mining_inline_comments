{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2NzUwMzY2", "number": 3874, "title": "[RW-5322][risk=no] move ds_linking table to cloud sql", "bodyText": "This PR moves the ds_linking table into our cloudsql CDR instance. Its more efficient to query this table in cloudsql rather than BQ. The following changes include\n\nUpdated the CDR indexing scripts to include ds_linking table (make-bq-data.sh and make-bq-data-dump.sh)\nAdded ds_linking table to our local liquibase build for development purposes\nCreated DSLinkingDao and db model DbDSLinking with new test case DSLinkingDaoTest\nUpdated DataSetServiceImpl to use DSLinkingDao\nBumped all cloudsql CDR versions to allow for using the ds_linking table", "createdAt": "2020-08-12T12:50:24Z", "url": "https://github.com/all-of-us/workbench/pull/3874", "merged": true, "mergeCommit": {"oid": "682db8ce9807bfd8cc842c07f06999c7bc6c2430"}, "closed": true, "closedAt": "2020-08-17T16:55:52Z", "author": {"login": "freemabd"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc9mmO-gH2gAyNDY2NzUwMzY2OjYxOThlNTlmZTZhNjIxYWFhNDlhZTJhY2NiM2Q0NDkzMjkwYmI2ZGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc_1MVSgFqTQ2ODYyNTYwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6198e59fe6a621aaa49ae2accb3d4493290bb6da", "author": {"user": {"login": "freemabd", "name": "Brian Freeman"}}, "url": "https://github.com/all-of-us/workbench/commit/6198e59fe6a621aaa49ae2accb3d4493290bb6da", "committedDate": "2020-08-10T18:33:37Z", "message": "RW-5322 adding ds_linking to cloudsql"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eadcfadab2a5f52caada36b77ccf32c44c5d0bf5", "author": {"user": {"login": "freemabd", "name": "Brian Freeman"}}, "url": "https://github.com/all-of-us/workbench/commit/eadcfadab2a5f52caada36b77ccf32c44c5d0bf5", "committedDate": "2020-08-12T12:38:05Z", "message": "bumping cdr versions to include ds_linking table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66727a40e48bf1433d33b0206892d08b1a930f48", "author": {"user": {"login": "freemabd", "name": "Brian Freeman"}}, "url": "https://github.com/all-of-us/workbench/commit/66727a40e48bf1433d33b0206892d08b1a930f48", "committedDate": "2020-08-12T17:29:34Z", "message": "RW-5322 fixing tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MDkxMDQ1", "url": "https://github.com/all-of-us/workbench/pull/3874#pullrequestreview-467091045", "createdAt": "2020-08-13T20:05:12Z", "commit": {"oid": "66727a40e48bf1433d33b0206892d08b1a930f48"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QyMDowNToxMlrOHAbt1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QyMDowNToxMlrOHAbt1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDIxNjE0OQ==", "bodyText": "Should the database field have nullable false constraint for domain?", "url": "https://github.com/all-of-us/workbench/pull/3874#discussion_r470216149", "createdAt": "2020-08-13T20:05:12Z", "author": {"login": "NehaBroad"}, "path": "api/db-cdr/generate-cdr/bq-schemas/ds_linking.json", "diffHunk": "@@ -0,0 +1,27 @@\n+[\n+  {\n+    \"mode\": \"REQUIRED\",\n+    \"name\": \"ID\",\n+    \"type\": \"INTEGER\"\n+  },\n+  {\n+    \"mode\": \"NULLABLE\",\n+    \"name\": \"DENORMALIZED_NAME\",\n+    \"type\": \"STRING\"\n+  },\n+  {\n+    \"mode\": \"NULLABLE\",\n+    \"name\": \"OMOP_SQL\",\n+    \"type\": \"STRING\"\n+  },\n+  {\n+    \"mode\": \"NULLABLE\",\n+    \"name\": \"JOIN_VALUE\",\n+    \"type\": \"STRING\"\n+  },\n+  {\n+    \"mode\": \"REQUIRED\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66727a40e48bf1433d33b0206892d08b1a930f48"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7b07123385c51f456f7c33ad66c2a047dfed811", "author": {"user": {"login": "freemabd", "name": "Brian Freeman"}}, "url": "https://github.com/all-of-us/workbench/commit/e7b07123385c51f456f7c33ad66c2a047dfed811", "committedDate": "2020-08-17T15:52:05Z", "message": "RW-5322 fixing nullable constraint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NjI1NjAy", "url": "https://github.com/all-of-us/workbench/pull/3874#pullrequestreview-468625602", "createdAt": "2020-08-17T16:41:45Z", "commit": {"oid": "e7b07123385c51f456f7c33ad66c2a047dfed811"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4257, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}