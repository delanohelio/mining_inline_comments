{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyMTM2NDA0", "number": 3521, "title": "[RW-4859][Risk=no] Fix links in homepage", "bodyText": "Description:\nThis fixes external links to work with our styled anchor tags.\n\nPR checklist\n\n This PR meets the Acceptance Criteria in the JIRA story\n The JIRA story has been moved to Dev Review\n This PR includes appropriate unit tests\n I have run and tested this change locally\n If this includes an API change, I have updated the appropriate Swagger definitions and notified API consumers\n If this includes a new feature flag, I have created and linked new JIRA tickets to (a) turn on the feature flag and (b) remove it later", "createdAt": "2020-05-01T13:44:43Z", "url": "https://github.com/all-of-us/workbench/pull/3521", "merged": true, "mergeCommit": {"oid": "b4270164cbb9b19b3855f2c306c5019e8f9779ab"}, "closed": true, "closedAt": "2020-05-01T15:41:42Z", "author": {"login": "s-rubenstein"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcc0kI_AH2gAyNDEyMTM2NDA0OjUyMTc5OGJkMGFkOTYwNTgyZTkwZGQ0NGQwYjQxNDVkZTQwZWZmMGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcdDefHAH2gAyNDEyMTM2NDA0OjU5OTk3YTQzOTE4NDY0MzcwNzc5ZjVlZWQzYmEyZDVmYjQxZjA0Mzc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "521798bd0ad960582e90dd44d0b4145de40eff0e", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/521798bd0ad960582e90dd44d0b4145de40eff0e", "committedDate": "2020-04-30T22:10:30Z", "message": "[RW-4859][Risk=no] Fix links in homepage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7466645d75627bd9b56eeb8eb57babfe6a85afbe", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/7466645d75627bd9b56eeb8eb57babfe6a85afbe", "committedDate": "2020-05-01T13:56:10Z", "message": "External links open in new tab"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MjEzNzEw", "url": "https://github.com/all-of-us/workbench/pull/3521#pullrequestreview-404213710", "createdAt": "2020-05-01T15:12:22Z", "commit": {"oid": "7466645d75627bd9b56eeb8eb57babfe6a85afbe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNToxMjoyMlrOGPMYnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNToxMjoyMlrOGPMYnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODU4NDczNQ==", "bodyText": "It would be great if we had another option here, but CH and I couldn't come up with one.", "url": "https://github.com/all-of-us/workbench/pull/3521#discussion_r418584735", "createdAt": "2020-05-01T15:12:22Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/components/buttons.tsx", "diffHunk": "@@ -300,7 +300,7 @@ export const StyledAnchorTag = ({href, style = {}, children, ...props}) => {\n   return <a href={href}\n             onClick={e => {\n               // This does same page navigation iff there is no key pressed and target is not set.\n-              if (props.target === undefined) {\n+              if (props.target === undefined && !href.startsWith('https://') && !href.startsWith('http://')) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7466645d75627bd9b56eeb8eb57babfe6a85afbe"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MjE0NTUy", "url": "https://github.com/all-of-us/workbench/pull/3521#pullrequestreview-404214552", "createdAt": "2020-05-01T15:13:51Z", "commit": {"oid": "7466645d75627bd9b56eeb8eb57babfe6a85afbe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNToxMzo1MVrOGPMbLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNToxMzo1MVrOGPMbLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODU4NTM4OQ==", "bodyText": "is there any chance userWorkspace can be null or undefined? should userHasWorkspaces be like userWorkspace && userWorkspaces.length >0 ?", "url": "https://github.com/all-of-us/workbench/pull/3521#discussion_r418585389", "createdAt": "2020-05-01T15:13:51Z", "author": {"login": "NehaBroad"}, "path": "ui/src/app/pages/homepage/homepage.tsx", "diffHunk": "@@ -229,10 +230,9 @@ export const Homepage = withUserProfile()(class extends React.Component<Props, S\n   }\n \n   async checkWorkspaces() {\n-    workspacesApi().getWorkspaces().then(response => {\n-      this.setState({\n-        userHasWorkspaces: response.items.length > 0\n-      });\n+    const userWorkspaces = (await fetchWithGlobalErrorHandler(() => workspacesApi().getWorkspaces())).items;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7466645d75627bd9b56eeb8eb57babfe6a85afbe"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MjE1ODA2", "url": "https://github.com/all-of-us/workbench/pull/3521#pullrequestreview-404215806", "createdAt": "2020-05-01T15:16:03Z", "commit": {"oid": "7466645d75627bd9b56eeb8eb57babfe6a85afbe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "454d5831e781f03ea263061c9e3a557fdc4a3b6b", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/454d5831e781f03ea263061c9e3a557fdc4a3b6b", "committedDate": "2020-05-01T15:21:12Z", "message": "Add null check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59997a43918464370779f5eed3ba2d5fb41f0437", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/59997a43918464370779f5eed3ba2d5fb41f0437", "committedDate": "2020-05-01T15:32:54Z", "message": "refine null check"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4933, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}