{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4MDIxOTYw", "number": 3461, "title": "[RW-4829][risk-no]First step toward typescript-eslint migration", "bodyText": "Description:\nAdd typescript-eslint to project. TSlint is deprecated and the maintainers are now supporting typescript eslint.\nYou can run this linter from the ui directory by running:\nyarn eslint . --ext .ts,.tsx \nYou can also lint individual files\nyarn eslint src/app/components/breadcrumb.tsx --ext .ts,.tsx \nor enable this in your IDE.\nThis PR is intended to be a first step towards migrating to the supported typescript-eslint and is completely opt-in at this point. The rules from the tslint.json file have been ported over to the eslint versions.\nThere are many code issues raised by this linter, we can address them on a rule by rule basis going forward, keeping and fixing the rules we want and removing the ones we don't. I believe this PR is a good first step towards enforcing many of the rules in the tslint.json file (many of which are not currently enforced) and migrating us to the currently supported linter.\n\nPR checklist\n\n This PR meets the Acceptance Criteria in the JIRA story\n The JIRA story has been moved to Dev Review\n This PR includes appropriate unit tests\n I have run and tested this change locally\n If this includes an API change, I have updated the appropriate Swagger definitions and notified API consumers\n If this includes a new feature flag, I have created and linked new JIRA tickets to (a) turn on the feature flag and (b) remove it later", "createdAt": "2020-04-23T16:07:47Z", "url": "https://github.com/all-of-us/workbench/pull/3461", "merged": true, "mergeCommit": {"oid": "2abd60e426b01f3c3f4a5975b0643648e395a39c"}, "closed": true, "closedAt": "2020-04-24T19:42:03Z", "author": {"login": "petesantos"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZ22elAH2gAyNDA4MDIxOTYwOjgxMzYzMmU2NWY3MTg3NjZlNTViZjkyNGZmYWI2ZDRiMjFkYmRjMjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABca2j8lgH2gAyNDA4MDIxOTYwOmJmM2IxNWMxNjVkNjMyZjJhODcyOWM0NGViOTc2YWM2MGIxYTQ3ZmI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "813632e65f718766e55bf924ffab6d4b21dbdc25", "author": {"user": {"login": "petesantos", "name": "Pete Santos"}}, "url": "https://github.com/all-of-us/workbench/commit/813632e65f718766e55bf924ffab6d4b21dbdc25", "committedDate": "2020-04-21T17:08:34Z", "message": "Add typescript eslint to project with rules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac12c583dbf633a0e633e11b6f8b89d689bdead2", "author": {"user": {"login": "petesantos", "name": "Pete Santos"}}, "url": "https://github.com/all-of-us/workbench/commit/ac12c583dbf633a0e633e11b6f8b89d689bdead2", "committedDate": "2020-04-21T18:59:40Z", "message": "Corrections to eslint rules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66f51f186a186f06ea8a4b6e4afc0ab3b9fdef22", "author": {"user": {"login": "petesantos", "name": "Pete Santos"}}, "url": "https://github.com/all-of-us/workbench/commit/66f51f186a186f06ea8a4b6e4afc0ab3b9fdef22", "committedDate": "2020-04-22T14:36:16Z", "message": "Disable problematic eslint rules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9cc61359c88ecb10aa28bfd763b24ac09c75f5bd", "author": {"user": {"login": "petesantos", "name": "Pete Santos"}}, "url": "https://github.com/all-of-us/workbench/commit/9cc61359c88ecb10aa28bfd763b24ac09c75f5bd", "committedDate": "2020-04-22T14:37:59Z", "message": "Update lint fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff5de45fba74db64a54544aae6cb6f602a8978b6", "author": {"user": {"login": "petesantos", "name": "Pete Santos"}}, "url": "https://github.com/all-of-us/workbench/commit/ff5de45fba74db64a54544aae6cb6f602a8978b6", "committedDate": "2020-04-23T15:10:43Z", "message": "Add excludes to tslint file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f160af159d052179ce65984bbe3cd00bcb18f61", "author": {"user": {"login": "petesantos", "name": "Pete Santos"}}, "url": "https://github.com/all-of-us/workbench/commit/5f160af159d052179ce65984bbe3cd00bcb18f61", "committedDate": "2020-04-23T15:24:36Z", "message": "Merge remote-tracking branch 'origin/master' into ps-lint-migration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8030e7c9416eb0a4fd186f7ef37a92ad313b097", "author": {"user": {"login": "petesantos", "name": "Pete Santos"}}, "url": "https://github.com/all-of-us/workbench/commit/c8030e7c9416eb0a4fd186f7ef37a92ad313b097", "committedDate": "2020-04-23T16:14:25Z", "message": "uncomment lint rules"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMTk2MTk1", "url": "https://github.com/all-of-us/workbench/pull/3461#pullrequestreview-400196195", "createdAt": "2020-04-24T18:56:26Z", "commit": {"oid": "c8030e7c9416eb0a4fd186f7ef37a92ad313b097"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODo1NjoyNlrOGLlD9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODo1NjoyNlrOGLlD9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc5NDc0MA==", "bodyText": "Was this list of rules sourced from somewhere? Might be worth noting a source if there's some meaningful provenance.", "url": "https://github.com/all-of-us/workbench/pull/3461#discussion_r414794740", "createdAt": "2020-04-24T18:56:26Z", "author": {"login": "gjuggler"}, "path": "ui/.eslintrc.js", "diffHunk": "@@ -0,0 +1,88 @@\n+module.exports = {\n+  root: true,\n+  parser: '@typescript-eslint/parser',\n+  plugins: [\n+    'react',\n+    'sort-keys-fix',\n+    'prefer-arrow',\n+    '@typescript-eslint',\n+    'simple-import-sort',\n+    'prettier'\n+  ],\n+  extends: [],\n+  parserOptions: {\n+    ecmaVersion: 6,\n+    sourceType: 'module',\n+    ecmaFeatures: {\n+      jsx: true \n+    }\n+  },\n+  settings: {\n+    react: {\n+      version: 'detect' \n+    }\n+  },\n+  rules: {\n+    // 'prettier/prettier': 'warn',\n+\n+    /* Typescript specific */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8030e7c9416eb0a4fd186f7ef37a92ad313b097"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf3b15c165d632f2a8729c44eb976ac60b1a47fb", "author": {"user": {"login": "petesantos", "name": "Pete Santos"}}, "url": "https://github.com/all-of-us/workbench/commit/bf3b15c165d632f2a8729c44eb976ac60b1a47fb", "committedDate": "2020-04-24T19:22:15Z", "message": "Add comment with rule sourcing"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3235, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}