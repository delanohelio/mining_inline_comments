{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2ODUxNzI4", "number": 4003, "title": "[RW-5388][risk=no] Puppeteer enable failed test for Export to Notebook", "bodyText": "Export to Notebook thru ellipsis menu is working again. Enable automated test.\nhttps://precisionmedicineinitiative.atlassian.net/browse/RW-5388", "createdAt": "2020-09-14T20:03:08Z", "url": "https://github.com/all-of-us/workbench/pull/4003", "merged": true, "mergeCommit": {"oid": "3fd2793f78387d0bb14f1a804a58d7c93612fc8a"}, "closed": true, "closedAt": "2020-09-14T23:13:13Z", "author": {"login": "aweng98"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdI4Og7AH2gAyNDg2ODUxNzI4OjYzNjE1OTYzYjllZDRjM2MxNjZiMjZmY2MwOWZhYzUyNzdjZWE0YWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdI5Q67AH2gAyNDg2ODUxNzI4OjQ0NWExMDI0MmMxNjc4YTliNWQ5MzgyZDU4ZjgzMTMzZWRhOGM4ODQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "63615963b9ed4c3c166b26fcc09fac5277cea4ac", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/63615963b9ed4c3c166b26fcc09fac5277cea4ac", "committedDate": "2020-09-14T19:19:10Z", "message": "enable test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f4f849335a21ee26cfc1ec4baabb5161a8d8bcf", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/3f4f849335a21ee26cfc1ec4baabb5161a8d8bcf", "committedDate": "2020-09-14T20:01:01Z", "message": "test working"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4MTA3ODcz", "url": "https://github.com/all-of-us/workbench/pull/4003#pullrequestreview-488107873", "createdAt": "2020-09-14T20:15:15Z", "commit": {"oid": "3f4f849335a21ee26cfc1ec4baabb5161a8d8bcf"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMDoxNToxNVrOHRlAOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMDoxNjowOVrOHRlB_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE5NDEwNg==", "bodyText": "typo", "url": "https://github.com/all-of-us/workbench/pull/4003#discussion_r488194106", "createdAt": "2020-09-14T20:15:15Z", "author": {"login": "jmthibault79"}, "path": "e2e/tests/datasets/export-py-notebook.spec.ts", "diffHunk": "@@ -110,14 +103,22 @@ describe('Create Dataset', () => {\n     const notebookName = makeRandomName('test-notebook');\n     await exportModal.fillInModal(notebookName);\n \n-    // Verify notebook created successfully.\n-    await dataPage.openAnalysisPage();\n-    const cardExists = await resourceCard.cardExists(notebookName, ResourceCard.Notebook);\n-    expect(cardExists).toBe(true);\n+    // Verify notebook created successfully. Not going to start the Jupyter notebook.\n+    const notebookPreviewPage = new NotebookPreviewPage(page);\n+    await notebookPreviewPage.waitForLoad();\n+    const currentPageUrl = page.url();\n+    expect(currentPageUrl).toContain(`notebooks/preview/${notebookName}.ipynb`);\n+\n+    // Navigate to Workpace Notebooks page.\n+    const analysiPage = await notebookPreviewPage.goAnalysisPage();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f4f849335a21ee26cfc1ec4baabb5161a8d8bcf"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE5NDU1OA==", "bodyText": "typo", "url": "https://github.com/all-of-us/workbench/pull/4003#discussion_r488194558", "createdAt": "2020-09-14T20:16:09Z", "author": {"login": "jmthibault79"}, "path": "e2e/tests/datasets/export-py-notebook.spec.ts", "diffHunk": "@@ -54,11 +52,7 @@ describe('Create Dataset', () => {\n     expect(code).toContain('import os');\n \n     // Navigate to Workpace Notebooks page.\n-    const notebooksLink = await Link.findByName(page, {name: 'Notebooks'});\n-    await notebooksLink.clickAndWait();\n-\n-    const analysiPage = new WorkspaceAnalysisPage(page);\n-    await analysiPage.waitForLoad();\n+    const analysiPage = await notebookPreviewPage.goAnalysisPage();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f4f849335a21ee26cfc1ec4baabb5161a8d8bcf"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "445a10242c1678a9b5d9382d58f83133eda8c884", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/445a10242c1678a9b5d9382d58f83133eda8c884", "committedDate": "2020-09-14T20:31:42Z", "message": "fix typo"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4227, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}