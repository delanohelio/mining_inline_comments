{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1NTQyMDgx", "number": 3439, "title": "[RW-4633][risk=no] Ignore more missing props & try treating warnings as errors", "bodyText": "The way research purposes and workspaces work together makes things awkward in several places. All I'm doing here is stifling a few warnings.\nI'm deprecating the mergeResearchPurposeIntoWorkspace() mapper method as I'm about to get rid of it altogether.\nAlso, I looked into treating warnings as errors, and it choked on our generated files. For those interested, see the output.\nTo enable this in the build.gradle file I did\ngradle.projectsEvaluated {\n  tasks.withType(JavaCompile) {\n    options.compilerArgs << \"-Xlint:all\" << \"-Werror\"\n  }\n}\n\n@calbach I didn't see an obvious way to split out our generated code.  It's in its own directory, but we share packages (and a compile target) with it.\nPR checklist\n\n This PR meets the Acceptance Criteria in the JIRA story\n The JIRA story has been moved to Dev Review\n This PR includes appropriate unit tests\n I have run and tested this change locally\n If this includes an API change, I have updated the appropriate Swagger definitions and notified API consumers\n If this includes a new feature flag, I have created and linked new JIRA tickets to (a) turn on the feature flag and (b) remove it later", "createdAt": "2020-04-18T18:42:14Z", "url": "https://github.com/all-of-us/workbench/pull/3439", "merged": true, "mergeCommit": {"oid": "42321c827fcd8fef61ab0c9e49b224dcb59841f9"}, "closed": true, "closedAt": "2020-04-21T15:10:18Z", "author": {"login": "jaycarlton"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcY6W9PAH2gAyNDA1NTQyMDgxOjgwYTVkYWE0MDg2YzhkOWUzYmQ0YTY3ZmYyZmIxZGU0ZTNhNmFhM2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZ0jEAgFqTM5NzM4NjMyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "80a5daa4086c8d9e3bd4a67ff2fb1de4e3a6aa3c", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/80a5daa4086c8d9e3bd4a67ff2fb1de4e3a6aa3c", "committedDate": "2020-04-18T18:39:50Z", "message": "re-sorted"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44554e2151646545ac2d2847361c458cb1ec39cb", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/44554e2151646545ac2d2847361c458cb1ec39cb", "committedDate": "2020-04-18T19:26:15Z", "message": "spotless"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MzgyNTI0", "url": "https://github.com/all-of-us/workbench/pull/3439#pullrequestreview-397382524", "createdAt": "2020-04-21T14:23:40Z", "commit": {"oid": "44554e2151646545ac2d2847361c458cb1ec39cb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNDoyMzo0MFrOGJIjbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNDoyMzo0MFrOGJIjbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIzMDUxMA==", "bodyText": "question: By ignoring it here we are saying look at the corresponding method in IMPL to see how to convert it from DB to other modal (and vice cersa)?", "url": "https://github.com/all-of-us/workbench/pull/3439#discussion_r412230510", "createdAt": "2020-04-21T14:23:40Z", "author": {"login": "NehaBroad"}, "path": "api/src/main/java/org/pmiops/workbench/utils/WorkspaceMapper.java", "diffHunk": "@@ -92,6 +98,37 @@ WorkspaceResponse toApiWorkspaceResponse(\n       target = \"researchOutcomeEnumSet\",\n       source = \"researchOutcomeList\",\n       nullValuePropertyMappingStrategy = SET_TO_DEFAULT)\n+\n+  // Normally using ignore should be frowned upon. In a merge method\n+  // like this one, it's unavoidable; otherwise we'd just make a straight-up translation.\n+  // However,\n+  @Mapping(target = \"approved\", ignore = true)\n+  @Mapping(target = \"billingAccountName\", ignore = true)\n+  @Mapping(target = \"billingAccountType\", ignore = true)\n+  @Mapping(target = \"billingMigrationStatusEnum\", ignore = true)\n+  @Mapping(target = \"billingStatus\", ignore = true)\n+  @Mapping(target = \"cdrVersion\", ignore = true)\n+  @Mapping(target = \"cohorts\", ignore = true)\n+  @Mapping(target = \"conceptSets\", ignore = true)\n+  @Mapping(target = \"creationTime\", ignore = true)\n+  @Mapping(target = \"creator\", ignore = true)\n+  @Mapping(target = \"dataAccessLevel\", ignore = true)\n+  @Mapping(target = \"dataAccessLevelEnum\", ignore = true)\n+  @Mapping(target = \"dataSets\", ignore = true)\n+  @Mapping(target = \"disseminateResearchSet\", ignore = true)\n+  @Mapping(target = \"firecloudName\", ignore = true)\n+  @Mapping(target = \"firecloudUuid\", ignore = true)\n+  @Mapping(target = \"lastAccessedTime\", ignore = true)\n+  @Mapping(target = \"lastModifiedTime\", ignore = true)\n+  @Mapping(target = \"name\", ignore = true)\n+  @Mapping(target = \"published\", ignore = true)\n+  @Mapping(target = \"researchOutcomeSet\", ignore = true)\n+  @Mapping(target = \"reviewRequested\", ignore = true)\n+  @Mapping(target = \"timeRequested\", ignore = true)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44554e2151646545ac2d2847361c458cb1ec39cb"}, "originalPosition": 71}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3Mzg2MzIw", "url": "https://github.com/all-of-us/workbench/pull/3439#pullrequestreview-397386320", "createdAt": "2020-04-21T14:27:33Z", "commit": {"oid": "44554e2151646545ac2d2847361c458cb1ec39cb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3213, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}