{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0MTMyMTI5", "number": 4237, "title": "[risk=low] Upgrade typescript for eslint and angular compatibility", "bodyText": "Description:\neslint says:\nWARNING: You are currently running a version of TypeScript which is not officially supported by @typescript-eslint/typescript-estree.\n\nYou may find that it works just fine, or you may not.\n\nSUPPORTED TYPESCRIPT VERSIONS: >=3.2.1 <3.8.0\n\nYOUR TYPESCRIPT VERSION: 3.1.6\n\nOn upgrade, Angular says\n@angular/compiler-cli@7.2.15 requires typescript@'>=3.1.1 <3.3' but 3.7.5 was found instead.\nUsing this version can result in undefined behaviour and difficult to debug problems.\n\nSo I'm compromising with >=3.2.1 <3.3\n\n\nPR checklist\n\n This PR meets the Acceptance Criteria in the JIRA story\n The JIRA story has been moved to Dev Review\n This PR includes appropriate unit tests\n I have run and tested this change locally\n I have run the E2E tests on ths change against my local UI + API server with yarn test-local\n If this includes a UI change, I have taken screen recordings or screenshots of the new behavior and notified the PO and UX designer\n If this includes an API change, I have updated the appropriate Swagger definitions and notified API consumers\n If this includes a new feature flag, I have created and linked new JIRA tickets to (a) turn on the feature flag and (b) remove it later", "createdAt": "2020-11-02T15:22:05Z", "url": "https://github.com/all-of-us/workbench/pull/4237", "merged": true, "mergeCommit": {"oid": "147ba21b443b6d410d48c3d47feca715c8df8dee"}, "closed": true, "closedAt": "2020-11-13T21:31:47Z", "author": {"login": "jmthibault79"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYmoVcAFqTUyMTc1NTg1MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdcN4fZgFqTUzMDQyMTM3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxNzU1ODUw", "url": "https://github.com/all-of-us/workbench/pull/4237#pullrequestreview-521755850", "createdAt": "2020-11-02T15:51:52Z", "commit": {"oid": "3354164a6add4aacbc2b66f49f9df22a638988d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNTo1MTo1MlrOHsKTnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNTo1MTo1MlrOHsKTnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjA2ODI1Mw==", "bodyText": "fixed a compile error", "url": "https://github.com/all-of-us/workbench/pull/4237#discussion_r516068253", "createdAt": "2020-11-02T15:51:52Z", "author": {"login": "jmthibault79"}, "path": "ui/src/app/utils/index.tsx", "diffHunk": "@@ -581,7 +581,7 @@ export const withAsyncErrorHandling = fp.curry(\n // Takes a search string and validates for the most common MySQL use cases.\n // Checks for unbalanced (), unclosed \"\", trailing + or -, and breaking special characters.\n export function validateInputForMySQL(searchString: string): Array<string> {\n-  const inputErrors = new Set(); // use Set to prevent duplicate messages\n+  const inputErrors = new Set<string>(); // use Set to prevent duplicate messages", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3354164a6add4aacbc2b66f49f9df22a638988d4"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxNzU2NTMz", "url": "https://github.com/all-of-us/workbench/pull/4237#pullrequestreview-521756533", "createdAt": "2020-11-02T15:52:33Z", "commit": {"oid": "73bb729b26adb9ac0d8668b9f3c3f2b7b1965ad4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNTo1MjozNFrOHsKVlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNTo1MjozNFrOHsKVlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjA2ODc1Ng==", "bodyText": "Partially resolves a test failure", "url": "https://github.com/all-of-us/workbench/pull/4237#discussion_r516068756", "createdAt": "2020-11-02T15:52:34Z", "author": {"login": "jmthibault79"}, "path": "ui/src/app/pages/profile/profile-page.spec.tsx", "diffHunk": "@@ -54,13 +55,17 @@ describe('ProfilePageComponent', () => {\n     });\n \n     userProfileStore.next({profile, reload, updateCache});\n+\n     serverConfigStore.next({\n       enableDataUseAgreement: true,\n       gsuiteDomain: 'fake-research-aou.org',\n       projectId: 'aaa',\n       publicApiKeyForErrorReports: 'aaa',\n       enableEraCommons: true,\n     });\n+\n+    const institutionApi = new InstitutionApiStub();\n+    registerApiClient(InstitutionApi, institutionApi);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73bb729b26adb9ac0d8668b9f3c3f2b7b1965ad4"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7745d03e51d5640f952896d989225e62825fc3a", "author": {"user": {"login": "jmthibault79", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/f7745d03e51d5640f952896d989225e62825fc3a", "committedDate": "2020-11-08T15:52:21Z", "message": "Upgrade typescript for eslint compatibility"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c9376fe90879c56ead3c68cd77c206b808d69fb", "author": {"user": {"login": "jmthibault79", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/1c9376fe90879c56ead3c68cd77c206b808d69fb", "committedDate": "2020-11-08T15:52:22Z", "message": "compile error fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3b417a2177d60cae457dc3b721fa125dc72f81c", "author": {"user": {"login": "jmthibault79", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/d3b417a2177d60cae457dc3b721fa125dc72f81c", "committedDate": "2020-11-08T15:52:22Z", "message": "test fix + note"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e9a7662ba7a1b5b2a2eb6e2b4db61a0da6c2d13", "author": {"user": {"login": "jmthibault79", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/9e9a7662ba7a1b5b2a2eb6e2b4db61a0da6c2d13", "committedDate": "2020-11-08T15:52:22Z", "message": "Angular requires <3.3.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76911a197a44cd537f15468e3ecf801e7f4b236f", "author": {"user": {"login": "jmthibault79", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/76911a197a44cd537f15468e3ecf801e7f4b236f", "committedDate": "2020-11-08T15:52:22Z", "message": "rv ignored test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b385e6d6d4e75afa71794e0434efea2ff6d958a2", "author": {"user": {"login": "jmthibault79", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/b385e6d6d4e75afa71794e0434efea2ff6d958a2", "committedDate": "2020-11-02T16:14:54Z", "message": "rv ignored test"}, "afterCommit": {"oid": "76911a197a44cd537f15468e3ecf801e7f4b236f", "author": {"user": {"login": "jmthibault79", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/76911a197a44cd537f15468e3ecf801e7f4b236f", "committedDate": "2020-11-08T15:52:22Z", "message": "rv ignored test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwNDIxMzc0", "url": "https://github.com/all-of-us/workbench/pull/4237#pullrequestreview-530421374", "createdAt": "2020-11-13T21:17:35Z", "commit": {"oid": "76911a197a44cd537f15468e3ecf801e7f4b236f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3810, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}