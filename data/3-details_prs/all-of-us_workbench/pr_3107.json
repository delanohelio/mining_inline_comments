{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyNjYzMDU5", "number": 3107, "title": "[RW-3554][risk=low] Shore up inactivity detection logic", "bodyText": "Test this out @ https://calbach-dot-all-of-us-workbench-test.appspot.com/\n-> currently configured for 30s modal, 60s timeout.\nTwo additions in combination should cover the known issues with setTimeout:\n\nBefore updating the last active timestamp - check that they haven't already surpassed the time limit. This covers the case where a user sleeps their machine, comes back, and resumes activity immediately.\nEvery 1m, reset the setTimeouts() to account for the actual remaining time according to LocalStorage. This covers the case where a user wakes up their machine and then doesn't interact with the tab again (they could still view the content).\n\nManually verified by sleeping my laptop and reopening the site after 1m.", "createdAt": "2020-02-08T01:21:52Z", "url": "https://github.com/all-of-us/workbench/pull/3107", "merged": true, "mergeCommit": {"oid": "cbb31263ff39c4044a25fdce4806ab4dbcfaf1bf"}, "closed": true, "closedAt": "2020-02-10T18:31:47Z", "author": {"login": "calbach"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcCJe93AH2gAyMzcyNjYzMDU5OmU4ZmM3MzM3MDYyOTM0YmUwNTUzM2ZlMjk4NmQ5ZjFmYzRlZjhjMTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDBbaTAFqTM1NjE2MjI3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e8fc7337062934be05533fe2986d9f1fc4ef8c10", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/e8fc7337062934be05533fe2986d9f1fc4ef8c10", "committedDate": "2020-02-08T01:16:54Z", "message": "Shore up inactivity detection logic"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2MTQwMzg1", "url": "https://github.com/all-of-us/workbench/pull/3107#pullrequestreview-356140385", "createdAt": "2020-02-10T17:52:38Z", "commit": {"oid": "e8fc7337062934be05533fe2986d9f1fc4ef8c10"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxNzo1MjozOFrOFnvs9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxNzo1MjozOFrOFnvs9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzIyMDM0Mg==", "bodyText": "Does this get called when a sleeping machine is woken up? I think I got most of it but wondering how the check is enforced the moment the user returns to their machine.", "url": "https://github.com/all-of-us/workbench/pull/3107#discussion_r377220342", "createdAt": "2020-02-10T17:52:38Z", "author": {"login": "ericsong"}, "path": "ui/src/app/pages/signed-in/component.ts", "diffHunk": "@@ -93,14 +94,25 @@ export class SignedInComponent implements OnInit, OnDestroy, AfterViewInit {\n       this.minimizeChrome = minimizeChrome;\n     }));\n \n+    this.signOutIfLocalStorageInactivityElapsed();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8fc7337062934be05533fe2986d9f1fc4ef8c10"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00167e117322522a6e30963cc5c7321fa520b97c", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/00167e117322522a6e30963cc5c7321fa520b97c", "committedDate": "2020-02-10T18:06:56Z", "message": "drop unused import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2MTYyMjc5", "url": "https://github.com/all-of-us/workbench/pull/3107#pullrequestreview-356162279", "createdAt": "2020-02-10T18:27:42Z", "commit": {"oid": "00167e117322522a6e30963cc5c7321fa520b97c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3535, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}