{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExODE5OTI2", "number": 3510, "title": "[no ticket][risk=no] restore auth debugging line", "bodyText": "Restore an apparently useful log statement.\nPR checklist\n\n This PR meets the Acceptance Criteria in the JIRA story\n The JIRA story has been moved to Dev Review\n This PR includes appropriate unit tests\n I have run and tested this change locally\n If this includes an API change, I have updated the appropriate Swagger definitions and notified API consumers\n If this includes a new feature flag, I have created and linked new JIRA tickets to (a) turn on the feature flag and (b) remove it later", "createdAt": "2020-04-30T20:31:16Z", "url": "https://github.com/all-of-us/workbench/pull/3510", "merged": true, "mergeCommit": {"oid": "8b59199c00e62c0d1984eafcdf774e4bf20371ba"}, "closed": true, "closedAt": "2020-05-01T17:58:57Z", "author": {"login": "jaycarlton"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccyh-6AH2gAyNDExODE5OTI2OjM2MzcwNDU2NmRkOGVkMzY1ZjQ4N2JhMmRmOTQ5NDU4ODc4NTExZmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcdEmKBgH2gAyNDExODE5OTI2OjcwMGE4ZjMzNGJjMzllZmZiMTg5NGNiNmI0YWUyMTBhYzY0ZGFiYzA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "363704566dd8ed365f487ba2df949458878511ff", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/363704566dd8ed365f487ba2df949458878511ff", "committedDate": "2020-04-30T19:48:20Z", "message": "restore auth debugging line"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzODYzNDQ5", "url": "https://github.com/all-of-us/workbench/pull/3510#pullrequestreview-403863449", "createdAt": "2020-04-30T20:43:50Z", "commit": {"oid": "363704566dd8ed365f487ba2df949458878511ff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzOTM4NTEz", "url": "https://github.com/all-of-us/workbench/pull/3510#pullrequestreview-403938513", "createdAt": "2020-04-30T23:12:32Z", "commit": {"oid": "363704566dd8ed365f487ba2df949458878511ff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzOTkwMDc3", "url": "https://github.com/all-of-us/workbench/pull/3510#pullrequestreview-403990077", "createdAt": "2020-05-01T02:13:59Z", "commit": {"oid": "363704566dd8ed365f487ba2df949458878511ff"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwMjoxMzo1OVrOGPASew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwMjoxMzo1OVrOGPASew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODM4NjU1NQ==", "bodyText": "Might be worth converting this vague (and misleading?) TODO into an explainer comment describing why this log line is important. Channeling CH, it sounds like this is important to verify which user an authenticated request came from.", "url": "https://github.com/all-of-us/workbench/pull/3510#discussion_r418386555", "createdAt": "2020-05-01T02:13:59Z", "author": {"login": "gjuggler"}, "path": "api/src/main/java/org/pmiops/workbench/interceptors/AuthInterceptor.java", "diffHunk": "@@ -171,7 +171,7 @@ public boolean preHandle(HttpServletRequest request, HttpServletResponse respons\n             new UserAuthentication(user, OAuth2Userinfo, token, UserType.RESEARCHER));\n \n     // TODO: setup this in the context, get rid of log statement", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "363704566dd8ed365f487ba2df949458878511ff"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MDM5MDI5", "url": "https://github.com/all-of-us/workbench/pull/3510#pullrequestreview-404039029", "createdAt": "2020-05-01T06:30:43Z", "commit": {"oid": "363704566dd8ed365f487ba2df949458878511ff"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwNjozMDo0NFrOGPDNwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwNjozMDo0NFrOGPDNwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQzNDQ5Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // TODO: setup this in the context, get rid of log statement\n          \n          \n            \n                // TODO: Remove log statement and attach userinfo as a Stackdriver key/value instead.\n          \n          \n            \n                // This log line is currently the the only reliable way to associate a particular App Engine request log\n          \n          \n            \n                // with the authenticated user identity, which is critical information for debugging.", "url": "https://github.com/all-of-us/workbench/pull/3510#discussion_r418434497", "createdAt": "2020-05-01T06:30:44Z", "author": {"login": "calbach"}, "path": "api/src/main/java/org/pmiops/workbench/interceptors/AuthInterceptor.java", "diffHunk": "@@ -171,7 +171,7 @@ public boolean preHandle(HttpServletRequest request, HttpServletResponse respons\n             new UserAuthentication(user, OAuth2Userinfo, token, UserType.RESEARCHER));\n \n     // TODO: setup this in the context, get rid of log statement", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "363704566dd8ed365f487ba2df949458878511ff"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "215af05f288532f40914e6a069ad69052713d2c5", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/215af05f288532f40914e6a069ad69052713d2c5", "committedDate": "2020-05-01T15:16:50Z", "message": "better comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "700a8f334bc39effb1894cb6b4ae210ac64dabc0", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/700a8f334bc39effb1894cb6b4ae210ac64dabc0", "committedDate": "2020-05-01T16:51:11Z", "message": "spotless"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4921, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}