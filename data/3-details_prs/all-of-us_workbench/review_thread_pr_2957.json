{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4NzE5MzY1", "number": 2957, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxOTo0NTo1OFrODVh4EQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQyMDoxNzo1N1rODViSKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjIzOTAxNzEzOnYy", "diffSide": "LEFT", "path": "ui/src/app/components/side-nav.tsx", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxOTo0NTo1OFrOFZznbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQyMDoyNToyNVrOFZ0Zzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYwNDM5Nw==", "bodyText": "I assume the things removed and not replaced were duplicative with the things in profile? And I don't suppose anyone remembers why they were pulled out...", "url": "https://github.com/all-of-us/workbench/pull/2957#discussion_r362604397", "createdAt": "2020-01-02T19:45:58Z", "author": {"login": "als364"}, "path": "ui/src/app/components/side-nav.tsx", "diffHunk": "@@ -197,36 +198,35 @@ class SideNavItem extends React.Component<SideNavItemProps, SideNavItemState> {\n }\n \n export interface SideNavProps {\n+  profile: Profile;\n+  bannerAdminActive: boolean;\n   homeActive: boolean;\n-  workspacesActive: boolean;\n   libraryActive: boolean;\n+  onToggleSideNav: Function;\n   profileActive: boolean;\n   userAdminActive: boolean;\n-  hasDataAccess: boolean;\n-  hasAccessModuleAdmin: boolean;\n-  aouAccountEmailAddress: string;\n-  contactEmailAddress: string;\n-  givenName: string;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4304973a668f0ab019832763126cb9f239069907"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxNzI5NA==", "bodyText": "Yes, they were duplicative, and I don't think anyone remembers... this is old code from the start of the project basically.", "url": "https://github.com/all-of-us/workbench/pull/2957#discussion_r362617294", "createdAt": "2020-01-02T20:25:25Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/components/side-nav.tsx", "diffHunk": "@@ -197,36 +198,35 @@ class SideNavItem extends React.Component<SideNavItemProps, SideNavItemState> {\n }\n \n export interface SideNavProps {\n+  profile: Profile;\n+  bannerAdminActive: boolean;\n   homeActive: boolean;\n-  workspacesActive: boolean;\n   libraryActive: boolean;\n+  onToggleSideNav: Function;\n   profileActive: boolean;\n   userAdminActive: boolean;\n-  hasDataAccess: boolean;\n-  hasAccessModuleAdmin: boolean;\n-  aouAccountEmailAddress: string;\n-  contactEmailAddress: string;\n-  givenName: string;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYwNDM5Nw=="}, "originalCommit": {"oid": "4304973a668f0ab019832763126cb9f239069907"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjIzOTAyMTUwOnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/admin/admin-banner.tsx", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxOTo0Nzo1NFrOFZzqMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQyMDoyNjoxMFrOFZ0ayQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYwNTEwNA==", "bodyText": "nice!", "url": "https://github.com/all-of-us/workbench/pull/2957#discussion_r362605104", "createdAt": "2020-01-02T19:47:54Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/admin/admin-banner.tsx", "diffHunk": "@@ -0,0 +1,133 @@\n+import {Component} from '@angular/core';\n+import {BoldHeader, Header} from 'app/components/headers';\n+import {TextArea, TextInput} from 'app/components/inputs';\n+import {statusAlertApi} from 'app/services/swagger-fetch-clients';\n+import colors from 'app/styles/colors';\n+import {ReactWrapperBase} from 'app/utils';\n+import * as React from 'react';\n+import ReactSwitch from 'react-switch';\n+import * as validate from 'validate.js';\n+import {TooltipTrigger} from \"../../components/popups\";\n+\n+const styles = {\n+  smallHeaderStyles: {\n+    fontSize: 14,\n+    fontWeight: 600\n+  }\n+};\n+\n+\n+interface AdminBannerState {\n+  bannerDescription: string;\n+  bannerEnabled: boolean;\n+  bannerHeadline: string;\n+  readMoreLink: string;\n+}\n+const required = {presence: {allowEmpty: false}};\n+const notTooLong = maxLength => ({", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4304973a668f0ab019832763126cb9f239069907"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxNzU0NQ==", "bodyText": "I stole it from the Profile page, so... thank you, but I can't take too much credit.", "url": "https://github.com/all-of-us/workbench/pull/2957#discussion_r362617545", "createdAt": "2020-01-02T20:26:10Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/pages/admin/admin-banner.tsx", "diffHunk": "@@ -0,0 +1,133 @@\n+import {Component} from '@angular/core';\n+import {BoldHeader, Header} from 'app/components/headers';\n+import {TextArea, TextInput} from 'app/components/inputs';\n+import {statusAlertApi} from 'app/services/swagger-fetch-clients';\n+import colors from 'app/styles/colors';\n+import {ReactWrapperBase} from 'app/utils';\n+import * as React from 'react';\n+import ReactSwitch from 'react-switch';\n+import * as validate from 'validate.js';\n+import {TooltipTrigger} from \"../../components/popups\";\n+\n+const styles = {\n+  smallHeaderStyles: {\n+    fontSize: 14,\n+    fontWeight: 600\n+  }\n+};\n+\n+\n+interface AdminBannerState {\n+  bannerDescription: string;\n+  bannerEnabled: boolean;\n+  bannerHeadline: string;\n+  readMoreLink: string;\n+}\n+const required = {presence: {allowEmpty: false}};\n+const notTooLong = maxLength => ({", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYwNTEwNA=="}, "originalCommit": {"oid": "4304973a668f0ab019832763126cb9f239069907"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjIzOTAzOTgwOnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/admin/admin-banner.tsx", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxOTo1NTo1MlrOFZz1CQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQyMDoyNjo0MlrOFZ0bgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYwNzg4MQ==", "bodyText": "Is the linter enforcing this formatting? I'd rather see something like\n    {\n        bannerDescription,\n        bannerHeadline,\n        readMoreLink\n    },\n    validators,\n    {\n        [...]\n    }\n)```", "url": "https://github.com/all-of-us/workbench/pull/2957#discussion_r362607881", "createdAt": "2020-01-02T19:55:52Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/admin/admin-banner.tsx", "diffHunk": "@@ -0,0 +1,133 @@\n+import {Component} from '@angular/core';\n+import {BoldHeader, Header} from 'app/components/headers';\n+import {TextArea, TextInput} from 'app/components/inputs';\n+import {statusAlertApi} from 'app/services/swagger-fetch-clients';\n+import colors from 'app/styles/colors';\n+import {ReactWrapperBase} from 'app/utils';\n+import * as React from 'react';\n+import ReactSwitch from 'react-switch';\n+import * as validate from 'validate.js';\n+import {TooltipTrigger} from \"../../components/popups\";\n+\n+const styles = {\n+  smallHeaderStyles: {\n+    fontSize: 14,\n+    fontWeight: 600\n+  }\n+};\n+\n+\n+interface AdminBannerState {\n+  bannerDescription: string;\n+  bannerEnabled: boolean;\n+  bannerHeadline: string;\n+  readMoreLink: string;\n+}\n+const required = {presence: {allowEmpty: false}};\n+const notTooLong = maxLength => ({\n+  length: {\n+    maximum: maxLength,\n+    tooLong: 'must be %{count} characters or less'\n+  }\n+});\n+const validators = {\n+  bannerDescription: {...required, ...notTooLong(4000)},\n+  bannerHeadline: {...required, ...notTooLong(200)},\n+  readMoreLink: {...notTooLong(200)},\n+};\n+export class AdminBanner extends React.Component<{}, AdminBannerState> {\n+  constructor(props) {\n+    super(props);\n+    this.state = {\n+      bannerDescription: '',\n+      bannerEnabled: false,\n+      bannerHeadline: '',\n+      readMoreLink: ''\n+    };\n+  }\n+\n+  componentDidMount(): void {\n+    statusAlertApi().getStatusAlert()\n+      .then(statusAlert => this.setState({\n+        bannerDescription: statusAlert.message,\n+        bannerEnabled: statusAlert.title !== null && statusAlert.title !== '',\n+        bannerHeadline: statusAlert.title,\n+        readMoreLink: statusAlert.link\n+      }));\n+  }\n+\n+  handleBannerToggle(checked: boolean) {\n+    this.setState({bannerEnabled: !this.state.bannerEnabled});\n+    if (checked) {\n+      statusAlertApi().postStatusAlert({\n+        title: this.state.bannerHeadline,\n+        message: this.state.bannerDescription,\n+        link: this.state.readMoreLink\n+      });\n+    } else {\n+      statusAlertApi().postStatusAlert({\n+        title: '',\n+        message: '',\n+        link: ''\n+      });\n+      this.setState({\n+        bannerDescription: '',\n+        bannerHeadline: '',\n+        readMoreLink: ''\n+      });\n+    }\n+  }\n+\n+  render() {\n+    const {bannerDescription, bannerEnabled, bannerHeadline, readMoreLink} = this.state;\n+    const errors = validate({", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4304973a668f0ab019832763126cb9f239069907"}, "originalPosition": 83}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxNzcyOQ==", "bodyText": "Will change! I think this is fine either way.", "url": "https://github.com/all-of-us/workbench/pull/2957#discussion_r362617729", "createdAt": "2020-01-02T20:26:42Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/pages/admin/admin-banner.tsx", "diffHunk": "@@ -0,0 +1,133 @@\n+import {Component} from '@angular/core';\n+import {BoldHeader, Header} from 'app/components/headers';\n+import {TextArea, TextInput} from 'app/components/inputs';\n+import {statusAlertApi} from 'app/services/swagger-fetch-clients';\n+import colors from 'app/styles/colors';\n+import {ReactWrapperBase} from 'app/utils';\n+import * as React from 'react';\n+import ReactSwitch from 'react-switch';\n+import * as validate from 'validate.js';\n+import {TooltipTrigger} from \"../../components/popups\";\n+\n+const styles = {\n+  smallHeaderStyles: {\n+    fontSize: 14,\n+    fontWeight: 600\n+  }\n+};\n+\n+\n+interface AdminBannerState {\n+  bannerDescription: string;\n+  bannerEnabled: boolean;\n+  bannerHeadline: string;\n+  readMoreLink: string;\n+}\n+const required = {presence: {allowEmpty: false}};\n+const notTooLong = maxLength => ({\n+  length: {\n+    maximum: maxLength,\n+    tooLong: 'must be %{count} characters or less'\n+  }\n+});\n+const validators = {\n+  bannerDescription: {...required, ...notTooLong(4000)},\n+  bannerHeadline: {...required, ...notTooLong(200)},\n+  readMoreLink: {...notTooLong(200)},\n+};\n+export class AdminBanner extends React.Component<{}, AdminBannerState> {\n+  constructor(props) {\n+    super(props);\n+    this.state = {\n+      bannerDescription: '',\n+      bannerEnabled: false,\n+      bannerHeadline: '',\n+      readMoreLink: ''\n+    };\n+  }\n+\n+  componentDidMount(): void {\n+    statusAlertApi().getStatusAlert()\n+      .then(statusAlert => this.setState({\n+        bannerDescription: statusAlert.message,\n+        bannerEnabled: statusAlert.title !== null && statusAlert.title !== '',\n+        bannerHeadline: statusAlert.title,\n+        readMoreLink: statusAlert.link\n+      }));\n+  }\n+\n+  handleBannerToggle(checked: boolean) {\n+    this.setState({bannerEnabled: !this.state.bannerEnabled});\n+    if (checked) {\n+      statusAlertApi().postStatusAlert({\n+        title: this.state.bannerHeadline,\n+        message: this.state.bannerDescription,\n+        link: this.state.readMoreLink\n+      });\n+    } else {\n+      statusAlertApi().postStatusAlert({\n+        title: '',\n+        message: '',\n+        link: ''\n+      });\n+      this.setState({\n+        bannerDescription: '',\n+        bannerHeadline: '',\n+        readMoreLink: ''\n+      });\n+    }\n+  }\n+\n+  render() {\n+    const {bannerDescription, bannerEnabled, bannerHeadline, readMoreLink} = this.state;\n+    const errors = validate({", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYwNzg4MQ=="}, "originalCommit": {"oid": "4304973a668f0ab019832763126cb9f239069907"}, "originalPosition": 83}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjIzOTA4MjI2OnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/signed-in/component.ts", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQyMDoxNjo1OFrOFZ0PRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQyMDozNToyMFrOFZ0lrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxNDU5Ng==", "bodyText": "What does this multiple-as-in-a-row do?", "url": "https://github.com/all-of-us/workbench/pull/2957#discussion_r362614596", "createdAt": "2020-01-02T20:16:58Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/signed-in/component.ts", "diffHunk": "@@ -84,21 +74,12 @@ export class SignedInComponent implements OnInit, OnDestroy, AfterViewInit {\n   ngOnInit(): void {\n     this.serverConfigService.getConfig().subscribe((config) => {\n       this.profileLoadingSub = this.profileStorageService.profile$.subscribe((profile) => {\n-        this.hasDataAccess = hasRegisteredAccess(profile.dataAccessLevel);\n-        if (this.hasDataAccess) {\n+        this.profile = profile as unknown as FetchProfile;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4304973a668f0ab019832763126cb9f239069907"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxNzk0Ng==", "bodyText": "This is converting from generated/angular, and generated/fetch. (Its a painful workaround to get around the typing.", "url": "https://github.com/all-of-us/workbench/pull/2957#discussion_r362617946", "createdAt": "2020-01-02T20:27:29Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/pages/signed-in/component.ts", "diffHunk": "@@ -84,21 +74,12 @@ export class SignedInComponent implements OnInit, OnDestroy, AfterViewInit {\n   ngOnInit(): void {\n     this.serverConfigService.getConfig().subscribe((config) => {\n       this.profileLoadingSub = this.profileStorageService.profile$.subscribe((profile) => {\n-        this.hasDataAccess = hasRegisteredAccess(profile.dataAccessLevel);\n-        if (this.hasDataAccess) {\n+        this.profile = profile as unknown as FetchProfile;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxNDU5Ng=="}, "originalCommit": {"oid": "4304973a668f0ab019832763126cb9f239069907"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxOTIzMQ==", "bodyText": "yuck.", "url": "https://github.com/all-of-us/workbench/pull/2957#discussion_r362619231", "createdAt": "2020-01-02T20:31:46Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/signed-in/component.ts", "diffHunk": "@@ -84,21 +74,12 @@ export class SignedInComponent implements OnInit, OnDestroy, AfterViewInit {\n   ngOnInit(): void {\n     this.serverConfigService.getConfig().subscribe((config) => {\n       this.profileLoadingSub = this.profileStorageService.profile$.subscribe((profile) => {\n-        this.hasDataAccess = hasRegisteredAccess(profile.dataAccessLevel);\n-        if (this.hasDataAccess) {\n+        this.profile = profile as unknown as FetchProfile;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxNDU5Ng=="}, "originalCommit": {"oid": "4304973a668f0ab019832763126cb9f239069907"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxOTcyOA==", "bodyText": "Yeah, I kinda hate it. Actually, let me see if the compiler is unhappy with removing it.", "url": "https://github.com/all-of-us/workbench/pull/2957#discussion_r362619728", "createdAt": "2020-01-02T20:33:33Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/pages/signed-in/component.ts", "diffHunk": "@@ -84,21 +74,12 @@ export class SignedInComponent implements OnInit, OnDestroy, AfterViewInit {\n   ngOnInit(): void {\n     this.serverConfigService.getConfig().subscribe((config) => {\n       this.profileLoadingSub = this.profileStorageService.profile$.subscribe((profile) => {\n-        this.hasDataAccess = hasRegisteredAccess(profile.dataAccessLevel);\n-        if (this.hasDataAccess) {\n+        this.profile = profile as unknown as FetchProfile;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxNDU5Ng=="}, "originalCommit": {"oid": "4304973a668f0ab019832763126cb9f239069907"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYyMDMzMg==", "bodyText": "Yeah, compiler complains without it.", "url": "https://github.com/all-of-us/workbench/pull/2957#discussion_r362620332", "createdAt": "2020-01-02T20:35:20Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/pages/signed-in/component.ts", "diffHunk": "@@ -84,21 +74,12 @@ export class SignedInComponent implements OnInit, OnDestroy, AfterViewInit {\n   ngOnInit(): void {\n     this.serverConfigService.getConfig().subscribe((config) => {\n       this.profileLoadingSub = this.profileStorageService.profile$.subscribe((profile) => {\n-        this.hasDataAccess = hasRegisteredAccess(profile.dataAccessLevel);\n-        if (this.hasDataAccess) {\n+        this.profile = profile as unknown as FetchProfile;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxNDU5Ng=="}, "originalCommit": {"oid": "4304973a668f0ab019832763126cb9f239069907"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjIzOTA4Mzk1OnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/signed-in/component.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQyMDoxNzo1OFrOFZ0QXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQyMDoyODoyMFrOFZ0dXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxNDg3OA==", "bodyText": "I know you didn't name this in this PR but this function name is confusing and I'm wondering if there's a better name for it", "url": "https://github.com/all-of-us/workbench/pull/2957#discussion_r362614878", "createdAt": "2020-01-02T20:17:58Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/signed-in/component.ts", "diffHunk": "@@ -84,21 +74,12 @@ export class SignedInComponent implements OnInit, OnDestroy, AfterViewInit {\n   ngOnInit(): void {\n     this.serverConfigService.getConfig().subscribe((config) => {\n       this.profileLoadingSub = this.profileStorageService.profile$.subscribe((profile) => {\n-        this.hasDataAccess = hasRegisteredAccess(profile.dataAccessLevel);\n-        if (this.hasDataAccess) {\n+        this.profile = profile as unknown as FetchProfile;\n+        if (hasRegisteredAccessFetch(this.profile.dataAccessLevel)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4304973a668f0ab019832763126cb9f239069907"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxODIwNQ==", "bodyText": "I think eventually it will be hasRegisteredAccess, its just this way until we can get rid of the angular version. (Maybe we should rename the angular one and make this hasRegisteredAccess?)", "url": "https://github.com/all-of-us/workbench/pull/2957#discussion_r362618205", "createdAt": "2020-01-02T20:28:20Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/pages/signed-in/component.ts", "diffHunk": "@@ -84,21 +74,12 @@ export class SignedInComponent implements OnInit, OnDestroy, AfterViewInit {\n   ngOnInit(): void {\n     this.serverConfigService.getConfig().subscribe((config) => {\n       this.profileLoadingSub = this.profileStorageService.profile$.subscribe((profile) => {\n-        this.hasDataAccess = hasRegisteredAccess(profile.dataAccessLevel);\n-        if (this.hasDataAccess) {\n+        this.profile = profile as unknown as FetchProfile;\n+        if (hasRegisteredAccessFetch(this.profile.dataAccessLevel)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxNDg3OA=="}, "originalCommit": {"oid": "4304973a668f0ab019832763126cb9f239069907"}, "originalPosition": 43}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3554, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}