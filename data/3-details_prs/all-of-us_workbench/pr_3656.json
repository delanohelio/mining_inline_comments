{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyMTEwMDU0", "number": 3656, "title": "Addition of .gradle directory to store in api gradle cache", "bodyText": "Break up a large PR (#3641) into smaller separate PRs. This PR enable updates api gradle cache and its version in CircleCI.", "createdAt": "2020-06-09T23:07:15Z", "url": "https://github.com/all-of-us/workbench/pull/3656", "merged": true, "mergeCommit": {"oid": "5de9f27a04313aa7c7f1746bdebbf5075c62dc4f"}, "closed": true, "closedAt": "2020-06-10T00:41:49Z", "author": {"login": "aweng98"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcptVgqAH2gAyNDMyMTEwMDU0OmU2YjZiNTcxZTRjM2E2ZmQ5N2IxNTlmYzE1YWNkOWNhMmFkNzcxYjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpug18gFqTQyNzYzMzQ2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e6b6b571e4c3a6fd97b159fc15acd9ca2ad771b4", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/e6b6b571e4c3a6fd97b159fc15acd9ca2ad771b4", "committedDate": "2020-06-09T23:06:12Z", "message": "api cache version increases and addition of .gradle directory"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NjIzMDQ4", "url": "https://github.com/all-of-us/workbench/pull/3656#pullrequestreview-427623048", "createdAt": "2020-06-09T23:57:00Z", "commit": {"oid": "e6b6b571e4c3a6fd97b159fc15acd9ca2ad771b4"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMzo1NzowMFrOGhgUqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMzo1ODoxNFrOGhgWFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc4NTc3MA==", "bodyText": "Why this change? I think I prefer master here. As I understand it, using the branch name here only helps in the following scenario:\n\nI'm working on a feature branch\nI push one set of changes to yarn.lock\nOn that same feature branch, I push a different set of changes to yarn.lock\n\nIn this scenario, unless you are making a ton of changes to the lockfile, you're probably getting the same performance as just restoring from the master cache.\nAlternatively, if I'm working on a new feature branch and change yarn.lock (more likely), my cache hit may be worse in this model, since I'd pull in any recent cache entry, possibly from an unrelated feature branch.", "url": "https://github.com/all-of-us/workbench/pull/3656#discussion_r437785770", "createdAt": "2020-06-09T23:57:00Z", "author": {"login": "calbach"}, "path": ".circleci/config.yml", "diffHunk": "@@ -158,7 +158,7 @@ commands:\n           name: \"restore e2e cache\"\n           keys:\n             - v1-e2e-cache-{{ .Branch }}-{{ checksum \"~/workbench/e2e/yarn.lock\" }}\n-            - v1-e2e-cache-master\n+            - v1-e2e-cache-{{ .Branch }}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6b6b571e4c3a6fd97b159fc15acd9ca2ad771b4"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc4NjEzMw==", "bodyText": "Good find. Does this help? Did you confirm there are contents in this directory by SSHing into the Circle VM?", "url": "https://github.com/all-of-us/workbench/pull/3656#discussion_r437786133", "createdAt": "2020-06-09T23:58:14Z", "author": {"login": "calbach"}, "path": ".circleci/config.yml", "diffHunk": "@@ -186,18 +186,21 @@ commands:\n           steps:\n             - save_cache:\n                 name: \"save api gradle cache\"\n+                # See https://docs.gradle.org/current/userguide/directory_layout.html#dir:project_root\n+                # Save Project-specific cache and Global cache (for everything that\u2019s not project-specific).\n                 paths:\n+                  - .gradle", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6b6b571e4c3a6fd97b159fc15acd9ca2ad771b4"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59da09af5743d5144e0bbe4af6877a75bdb2871f", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/59da09af5743d5144e0bbe4af6877a75bdb2871f", "committedDate": "2020-06-10T00:25:30Z", "message": "PR feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NjMzNDY2", "url": "https://github.com/all-of-us/workbench/pull/3656#pullrequestreview-427633466", "createdAt": "2020-06-10T00:28:29Z", "commit": {"oid": "59da09af5743d5144e0bbe4af6877a75bdb2871f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4851, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}