{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2MjE3MjIx", "number": 3682, "title": "[RW-4696][risk=no] Update footer per mocks and fix flow issues", "bodyText": "Demo @ https://calbach-dot-all-of-us-workbench-test.appspot.com\n\nUpdate footer to match latest mocks\n\nThe updated content reduced the width below our minimum, which fixed several flow issues\n\n\nFix overlap between footer and right-hand help bar\nAdd some extra margin-bottom in a few places where the footer was crowding the page content\nHide the footer in two new places: TOS and DUCC\n\nTOS: the account creation TOS change can just be hardcoded, due to the nature of the component\nDUCC: needed to extend the React app router HOC to also include minimizeChrome, which is a route config data we have in the Angular router\n\n\nPut modals on top of the side bar / footer. Previously, the help bar was not behind the modal overlay - which was a bug\n\nFeedback on the route data changes would be appreciated @petesantos , not sure if you were planning something else for this kind of use case.", "createdAt": "2020-06-18T04:17:22Z", "url": "https://github.com/all-of-us/workbench/pull/3682", "merged": true, "mergeCommit": {"oid": "21a92729df3ff20e27a53b2d4e193adf26e7ee8d"}, "closed": true, "closedAt": "2020-06-19T00:16:55Z", "author": {"login": "calbach"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsVI84AH2gAyNDM2MjE3MjIxOjRmZDI4NGRkMjlkYzZlYzk4MGFkODNkOWM4NGU4ZThiNDRjMDdkM2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsntoEgFqTQzMzcyMzUwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4fd284dd29dc6ec980ad83d9c84e8e8b44c07d3a", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/4fd284dd29dc6ec980ad83d9c84e8e8b44c07d3a", "committedDate": "2020-06-18T02:36:32Z", "message": "Initial header fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08df67af5c8abad6f731648374c8b1b82b8ea9ee", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/08df67af5c8abad6f731648374c8b1b82b8ea9ee", "committedDate": "2020-06-18T04:02:20Z", "message": "Add minimizeChrome support to app router"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e608a87128ad52b4639713f217d0e0067e5719af", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/e608a87128ad52b4639713f217d0e0067e5719af", "committedDate": "2020-06-18T04:03:26Z", "message": "HHS link"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzMzkzOTQy", "url": "https://github.com/all-of-us/workbench/pull/3682#pullrequestreview-433393942", "createdAt": "2020-06-18T15:22:06Z", "commit": {"oid": "e608a87128ad52b4639713f217d0e0067e5719af"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNToyMjowN1rOGl0Y4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNTo1NTo0NlrOGl10CQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMwODgzNA==", "bodyText": "This seems reasonable to me. I was thinking of having a some items that are common to all components (title, minimize) any custom properties could be under a separate property", "url": "https://github.com/all-of-us/workbench/pull/3682#discussion_r442308834", "createdAt": "2020-06-18T15:22:07Z", "author": {"login": "petesantos"}, "path": "ui/src/app/utils/stores.ts", "diffHunk": "@@ -3,6 +3,7 @@ import {atom, Atom} from './subscribable';\n \n interface RouteDataStore {\n   title?: string;\n+  minimizeChrome?: boolean;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e608a87128ad52b4639713f217d0e0067e5719af"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMzMTk5Mw==", "bodyText": "Would it be worth making a ticket to examine the z-index settings of the sidebar/footer?\nI am curious why the sidebar needs to adjust its z-index. I find once one component starts to adjust its z-index to compensate for another it can lead to a series of z-index tug-of-war issues that pop up.", "url": "https://github.com/all-of-us/workbench/pull/3682#discussion_r442331993", "createdAt": "2020-06-18T15:55:32Z", "author": {"login": "petesantos"}, "path": "ui/src/app/pages/signed-in/component.css", "diffHunk": "@@ -43,3 +43,8 @@ body {\n .create-account__degree-select .p-multiselect-header {\n   display: none;\n }\n+\n+/* Must be higher than the side helpbar index. See help-bar.tsx. */\n+app-footer {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e608a87128ad52b4639713f217d0e0067e5719af"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMzMjE2OQ==", "bodyText": "This seems reasonable to me. I was thinking of having a some items that are common to all components (title, minimize) any custom properties could be under a separate property", "url": "https://github.com/all-of-us/workbench/pull/3682#discussion_r442332169", "createdAt": "2020-06-18T15:55:46Z", "author": {"login": "petesantos"}, "path": "ui/src/app/utils/stores.ts", "diffHunk": "@@ -3,6 +3,7 @@ import {atom, Atom} from './subscribable';\n \n interface RouteDataStore {\n   title?: string;\n+  minimizeChrome?: boolean;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e608a87128ad52b4639713f217d0e0067e5719af"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba011f1e4bdc5fdf77249040e06cf66b1904effe", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/ba011f1e4bdc5fdf77249040e06cf66b1904effe", "committedDate": "2020-06-18T23:37:52Z", "message": "z-index issues, as prophesied"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f8341f12801685fbed5e7a9a986133f88b2604c", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/7f8341f12801685fbed5e7a9a986133f88b2604c", "committedDate": "2020-06-19T00:04:57Z", "message": "Correct modal layer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzNzIzNTAx", "url": "https://github.com/all-of-us/workbench/pull/3682#pullrequestreview-433723501", "createdAt": "2020-06-19T00:07:36Z", "commit": {"oid": "7f8341f12801685fbed5e7a9a986133f88b2604c"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwMDowNzozNlrOGmD_Kg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwMDoxMjo0MVrOGmEEqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2NDM5NA==", "bodyText": "Yep... after clicking around a bit more of course I uncovered several other tug of wars. I think the state of the world is OK for now with my latest updates. The tension here is that we have high level structural flow issues on the page. These are not easily solved without getting everything onto React, then refactoring. I've filed https://precisionmedicineinitiative.atlassian.net/browse/RW-5110 to track this.", "url": "https://github.com/all-of-us/workbench/pull/3682#discussion_r442564394", "createdAt": "2020-06-19T00:07:36Z", "author": {"login": "calbach"}, "path": "ui/src/app/pages/signed-in/component.css", "diffHunk": "@@ -43,3 +43,8 @@ body {\n .create-account__degree-select .p-multiselect-header {\n   display: none;\n }\n+\n+/* Must be higher than the side helpbar index. See help-bar.tsx. */\n+app-footer {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMzMTk5Mw=="}, "originalCommit": {"oid": "e608a87128ad52b4639713f217d0e0067e5719af"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2NTI1Mw==", "bodyText": "@dolbeew FYI", "url": "https://github.com/all-of-us/workbench/pull/3682#discussion_r442565253", "createdAt": "2020-06-19T00:10:44Z", "author": {"login": "calbach"}, "path": "ui/src/app/cohort-search/modal/modal.component.tsx", "diffHunk": "@@ -55,7 +55,7 @@ const styles = reactStyles({\n     visibility: 'hidden',\n     transform: 'scale(1.1)',\n     transition: 'visibility 0.25s linear, opacity 0.25s 0s, transform 0.25s',\n-    zIndex: 102,\n+    zIndex: 105,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f8341f12801685fbed5e7a9a986133f88b2604c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2NTgwMQ==", "bodyText": "@dolbeew FYI - this should fix the issue where the right-hand-side help bar sits above the modal overlay e.g. on saving a cohort or dataset, and was still visible/clickable. I assume this was a bug.", "url": "https://github.com/all-of-us/workbench/pull/3682#discussion_r442565801", "createdAt": "2020-06-19T00:12:41Z", "author": {"login": "calbach"}, "path": "ui/src/app/components/modals.tsx", "diffHunk": "@@ -15,7 +15,9 @@ const styles = reactStyles({\n \n   overlay: {\n     backgroundColor: Color(colors.dark).alpha(0.85).toString(), padding: '1rem', display: 'flex',\n-    position: 'fixed', left: 0, right: 0, top: 0, bottom: 0, overflowY: 'auto'\n+    position: 'fixed', left: 0, right: 0, top: 0, bottom: 0, overflowY: 'auto',\n+    // Keep z-index in sync with popups.tsx.\n+    zIndex: 105", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f8341f12801685fbed5e7a9a986133f88b2604c"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4581, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}