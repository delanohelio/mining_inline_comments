{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5NDc5MTA3", "number": 3257, "title": "[RW-4569][risk=no] Add user-facing error message when user creation fails", "bodyText": "Currently, all we do on a server-side error during user registration is console.error the response.\nThis PR adds a modal dialog, similar in spirit to what we have for failed workspace creation.\nScreenshot:\n\n\nPR checklist\n\n This PR meets the Acceptance Criteria in the JIRA story\n The JIRA story has been moved to Dev Review\n This PR includes appropriate unit tests\n I have run and tested this change locally", "createdAt": "2020-03-16T20:29:32Z", "url": "https://github.com/all-of-us/workbench/pull/3257", "merged": true, "mergeCommit": {"oid": "86334a47fb41b21a347761d45ff7b0f25f115ba0"}, "closed": true, "closedAt": "2020-03-17T11:15:17Z", "author": {"login": "gjuggler"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOSxSggH2gAyMzg5NDc5MTA3OjY2YzUzYmIxZDlkZmJlYWYzZmVhZTFkMWRkMzI4NjlkNzVhNmU3OTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOVk7lAFqTM3NTYxNTMwNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "66c53bb1d9dfbeaf3feae1d1dd32869d75a6e794", "author": {"user": {"login": "gjuggler", "name": "Greg Jordan"}}, "url": "https://github.com/all-of-us/workbench/commit/66c53bb1d9dfbeaf3feae1d1dd32869d75a6e794", "committedDate": "2020-03-16T18:53:09Z", "message": "Add user-facing error message when user creation fails."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1NTY2MDkz", "url": "https://github.com/all-of-us/workbench/pull/3257#pullrequestreview-375566093", "createdAt": "2020-03-16T20:40:32Z", "commit": {"oid": "66c53bb1d9dfbeaf3feae1d1dd32869d75a6e794"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMDo0MDozMlrOF3E8oA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMDo0MToxMlrOF3E98Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI5NzA1Ng==", "bodyText": "Will this handle all errors? It looks like it just tests the one?", "url": "https://github.com/all-of-us/workbench/pull/3257#discussion_r393297056", "createdAt": "2020-03-16T20:40:32Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/pages/login/account-creation/account-creation-survey.spec.tsx", "diffHunk": "@@ -58,3 +69,28 @@ it('should load existing profile data', async() => {\n   // Ethnicity\n   expect(wrapper.find('[data-test-id=\"dropdown-ethnicity\"]').prop('value')).toEqual(Ethnicity.HISPANIC);\n });\n+\n+it('should handle error when creating an account', async() => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66c53bb1d9dfbeaf3feae1d1dd32869d75a6e794"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI5NzM5Mw==", "bodyText": "nit: remove console log", "url": "https://github.com/all-of-us/workbench/pull/3257#discussion_r393297393", "createdAt": "2020-03-16T20:41:12Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/pages/login/account-creation/account-creation-survey.tsx", "diffHunk": "@@ -73,6 +76,7 @@ export class AccountCreationSurvey extends React.Component<AccountCreationSurvey\n   createAccount(): void {\n     const {invitationKey, termsOfServiceVersion, onComplete} = this.props;\n     this.setState({creatingAccount: true});\n+    console.log('creating account...', invitationKey);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66c53bb1d9dfbeaf3feae1d1dd32869d75a6e794"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f61d2c91213b6d4a6aab2df60f521363d0cb76fa", "author": {"user": {"login": "gjuggler", "name": "Greg Jordan"}}, "url": "https://github.com/all-of-us/workbench/commit/f61d2c91213b6d4a6aab2df60f521363d0cb76fa", "committedDate": "2020-03-16T20:54:34Z", "message": "Remove console.log"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1NjE1MzA0", "url": "https://github.com/all-of-us/workbench/pull/3257#pullrequestreview-375615304", "createdAt": "2020-03-16T22:09:22Z", "commit": {"oid": "f61d2c91213b6d4a6aab2df60f521363d0cb76fa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3477, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}