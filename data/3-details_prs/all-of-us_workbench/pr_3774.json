{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3Njc2NDYy", "number": 3774, "title": "[RW-5013][risk=no] Backfill tool fixes: id lists and 1ppw projects", "bodyText": "Fix yet another issue with the \"id list\" flag approach\nFilter out 1ppw projects. These cause thrashing with the tool, as it can lead to  adding/removing the same person from a billing project repeatedly (one project may be encountered multiple times during iteration).\n\nThis tool has already run successfully, these changes are included for posterity.", "createdAt": "2020-07-10T23:02:45Z", "url": "https://github.com/all-of-us/workbench/pull/3774", "merged": true, "mergeCommit": {"oid": "db7f9e54df85a06d80a489e154fa0032c62dc3d2"}, "closed": true, "closedAt": "2020-07-22T00:44:00Z", "author": {"login": "calbach"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczr0kAgH2gAyNDQ3Njc2NDYyOjIzODczZDFjZTZmMmRmMzMwODU4NzE0MWMwNWZiNWMxNTk2NThkNDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3Pmw5AFqTQ1MjkxNTA1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "23873d1ce6f2df3308587141c05fb5c159658d48", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/23873d1ce6f2df3308587141c05fb5c159658d48", "committedDate": "2020-07-10T22:59:33Z", "message": "1ppw fixes, list of projects fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2OTA0MzQ5", "url": "https://github.com/all-of-us/workbench/pull/3774#pullrequestreview-446904349", "createdAt": "2020-07-12T19:37:17Z", "commit": {"oid": "23873d1ce6f2df3308587141c05fb5c159658d48"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQxOTozNzoxN1rOGwWlmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQxOTozNzoxN1rOGwWlmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM1NDkwNA==", "bodyText": "non-1PPW, rather", "url": "https://github.com/all-of-us/workbench/pull/3774#discussion_r453354904", "createdAt": "2020-07-12T19:37:17Z", "author": {"login": "jmthibault79"}, "path": "api/tools/src/main/java/org/pmiops/workbench/tools/FixDesynchronizedBillingProjectOwners.java", "diffHunk": "@@ -91,8 +92,27 @@ private static void clean(\n       throws ApiException {\n     int ownersRemoved = 0;\n     int ownersAdded = 0;\n-    for (FirecloudWorkspaceResponse resp :\n-        workspacesApi.listWorkspaces(FIRECLOUD_LIST_WORKSPACES_REQUIRED_FIELDS)) {\n+\n+    List<FirecloudWorkspaceResponse> workspaces =\n+        workspacesApi.listWorkspaces(FIRECLOUD_LIST_WORKSPACES_REQUIRED_FIELDS);\n+    log.info(String.format(\"found %d workspaces\", workspaces.size()));\n+\n+    // 1PPW workspaces still exist and need to be filtered out - this script depends on the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23873d1ce6f2df3308587141c05fb5c159658d48"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f384c1b06bcaf21622eaaba1e125f16e3009d3a9", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/f384c1b06bcaf21622eaaba1e125f16e3009d3a9", "committedDate": "2020-07-13T17:05:20Z", "message": "Update FixDesynchronizedBillingProjectOwners.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyOTE1MDU2", "url": "https://github.com/all-of-us/workbench/pull/3774#pullrequestreview-452915056", "createdAt": "2020-07-22T00:22:50Z", "commit": {"oid": "f384c1b06bcaf21622eaaba1e125f16e3009d3a9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4440, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}