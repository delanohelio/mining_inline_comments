{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcyNjc4NDEz", "number": 3909, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNjoxNDo0OFrOEcpgOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNjoxODo0MFrOEcpmSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4NDc1NTc4OnYy", "diffSide": "RIGHT", "path": "e2e/tests/workspace/workspace-delete.spec.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNjoxNDo0OFrOHHTkHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxNzowMDo1N1rOHIZUTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQyMjYyMA==", "bodyText": "I think it's the Home page where delete happens, right?", "url": "https://github.com/all-of-us/workbench/pull/3909#discussion_r477422620", "createdAt": "2020-08-26T16:14:48Z", "author": {"login": "aweng98"}, "path": "e2e/tests/workspace/workspace-delete.spec.ts", "diffHunk": "@@ -0,0 +1,70 @@\n+import WorkspacesPage from 'app/page/workspaces-page';\n+import {findWorkspace, signIn} from 'utils/test-utils';\n+import WorkspaceCard from 'app/component/workspace-card';\n+import {EllipsisMenuAction, WorkspaceAccessLevel, LinkText} from 'app/text-labels';\n+import Modal from 'app/component/modal';\n+\n+\n+describe('Delete workspace', () => {\n+\n+  beforeEach(async () => {\n+    await signIn(page);\n+  });\n+\n+  /**\n+   * Test:\n+   * - Find an existing workspace. Create a new workspace if none exists.\n+   * - Select \"Delete\" thru the Ellipsis menu located on the Workspace card.\n+   * - Get the content on the modal\n+   * - Click the delete workspace button on the modal\n+   * - Navigate to the \"View Workspaces\" page\n+   * - Verify that the workspace has been delete\n+   */\n+  \n+  describe('From \"Your Workspaces\" page using Workspace card ellipsis menu', () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f933d5d5332aed69e87cb182e476afda09a06ca"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODU2NTQ1NQ==", "bodyText": "the delete happens on\"YOUR WORKSPACES\" page.", "url": "https://github.com/all-of-us/workbench/pull/3909#discussion_r478565455", "createdAt": "2020-08-27T17:00:57Z", "author": {"login": "chavanr2019"}, "path": "e2e/tests/workspace/workspace-delete.spec.ts", "diffHunk": "@@ -0,0 +1,70 @@\n+import WorkspacesPage from 'app/page/workspaces-page';\n+import {findWorkspace, signIn} from 'utils/test-utils';\n+import WorkspaceCard from 'app/component/workspace-card';\n+import {EllipsisMenuAction, WorkspaceAccessLevel, LinkText} from 'app/text-labels';\n+import Modal from 'app/component/modal';\n+\n+\n+describe('Delete workspace', () => {\n+\n+  beforeEach(async () => {\n+    await signIn(page);\n+  });\n+\n+  /**\n+   * Test:\n+   * - Find an existing workspace. Create a new workspace if none exists.\n+   * - Select \"Delete\" thru the Ellipsis menu located on the Workspace card.\n+   * - Get the content on the modal\n+   * - Click the delete workspace button on the modal\n+   * - Navigate to the \"View Workspaces\" page\n+   * - Verify that the workspace has been delete\n+   */\n+  \n+  describe('From \"Your Workspaces\" page using Workspace card ellipsis menu', () => {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQyMjYyMA=="}, "originalCommit": {"oid": "4f933d5d5332aed69e87cb182e476afda09a06ca"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4NDc3MTI4OnYy", "diffSide": "RIGHT", "path": "e2e/tests/workspace/workspace-delete.spec.ts", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNjoxODo0MFrOHHTt0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxODowNzoxMVrOHIbm5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQyNTEwNw==", "bodyText": "Can you create a reusable function for delete workspace modal similar to this one? It's okay if you don't feel comfortable doing it as this is your first PR.\n/**\n   * Click DELETE COHORT button in Cohort Delete Confirmation dialog.\n   * @return {string} Dialog textContent.\n   */\n  async deleteConfirmationDialog(): Promise<string> {\n    const modal = new Modal(this.page);\n    const contentText = await modal.getContent();\n    await modal.clickButton(LinkText.DeleteCohort, {waitForClose: true});\n    await waitWhileLoading(this.page);\n    return contentText;\n  }", "url": "https://github.com/all-of-us/workbench/pull/3909#discussion_r477425107", "createdAt": "2020-08-26T16:18:40Z", "author": {"login": "aweng98"}, "path": "e2e/tests/workspace/workspace-delete.spec.ts", "diffHunk": "@@ -0,0 +1,70 @@\n+import WorkspacesPage from 'app/page/workspaces-page';\n+import {findWorkspace, signIn} from 'utils/test-utils';\n+import WorkspaceCard from 'app/component/workspace-card';\n+import {EllipsisMenuAction, WorkspaceAccessLevel, LinkText} from 'app/text-labels';\n+import Modal from 'app/component/modal';\n+\n+\n+describe('Delete workspace', () => {\n+\n+  beforeEach(async () => {\n+    await signIn(page);\n+  });\n+\n+  /**\n+   * Test:\n+   * - Find an existing workspace. Create a new workspace if none exists.\n+   * - Select \"Delete\" thru the Ellipsis menu located on the Workspace card.\n+   * - Get the content on the modal\n+   * - Click the delete workspace button on the modal\n+   * - Navigate to the \"View Workspaces\" page\n+   * - Verify that the workspace has been delete\n+   */\n+  \n+  describe('From \"Your Workspaces\" page using Workspace card ellipsis menu', () => {\n+\n+    test('As OWNER, user can delete workspace', async () => {\n+      const workspacesPage = new WorkspacesPage(page);\n+      const workspaceCard = await findWorkspace(page);\n+      const workspaceName = await workspaceCard.getWorkspaceName();\n+      console.log(workspaceName);\n+\n+      // Verify Workspace Access Level is OWNER.\n+      const accessLevel = await workspaceCard.getWorkspaceAccessLevel();\n+      expect(accessLevel).toBe(WorkspaceAccessLevel.Owner);\n+      \n+      await workspaceCard.asElementHandle().hover();\n+      // click on Ellipsis \"Delete\"\n+      await (workspaceCard.getEllipsis()).clickAction(EllipsisMenuAction.Delete, { waitForNav: false });\n+\n+      const modal = new Modal(page);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f933d5d5332aed69e87cb182e476afda09a06ca"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODU2NzMwNw==", "bodyText": "working on it!", "url": "https://github.com/all-of-us/workbench/pull/3909#discussion_r478567307", "createdAt": "2020-08-27T17:04:06Z", "author": {"login": "chavanr2019"}, "path": "e2e/tests/workspace/workspace-delete.spec.ts", "diffHunk": "@@ -0,0 +1,70 @@\n+import WorkspacesPage from 'app/page/workspaces-page';\n+import {findWorkspace, signIn} from 'utils/test-utils';\n+import WorkspaceCard from 'app/component/workspace-card';\n+import {EllipsisMenuAction, WorkspaceAccessLevel, LinkText} from 'app/text-labels';\n+import Modal from 'app/component/modal';\n+\n+\n+describe('Delete workspace', () => {\n+\n+  beforeEach(async () => {\n+    await signIn(page);\n+  });\n+\n+  /**\n+   * Test:\n+   * - Find an existing workspace. Create a new workspace if none exists.\n+   * - Select \"Delete\" thru the Ellipsis menu located on the Workspace card.\n+   * - Get the content on the modal\n+   * - Click the delete workspace button on the modal\n+   * - Navigate to the \"View Workspaces\" page\n+   * - Verify that the workspace has been delete\n+   */\n+  \n+  describe('From \"Your Workspaces\" page using Workspace card ellipsis menu', () => {\n+\n+    test('As OWNER, user can delete workspace', async () => {\n+      const workspacesPage = new WorkspacesPage(page);\n+      const workspaceCard = await findWorkspace(page);\n+      const workspaceName = await workspaceCard.getWorkspaceName();\n+      console.log(workspaceName);\n+\n+      // Verify Workspace Access Level is OWNER.\n+      const accessLevel = await workspaceCard.getWorkspaceAccessLevel();\n+      expect(accessLevel).toBe(WorkspaceAccessLevel.Owner);\n+      \n+      await workspaceCard.asElementHandle().hover();\n+      // click on Ellipsis \"Delete\"\n+      await (workspaceCard.getEllipsis()).clickAction(EllipsisMenuAction.Delete, { waitForNav: false });\n+\n+      const modal = new Modal(page);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQyNTEwNw=="}, "originalCommit": {"oid": "4f933d5d5332aed69e87cb182e476afda09a06ca"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODYwMjk4Mg==", "bodyText": "Done!", "url": "https://github.com/all-of-us/workbench/pull/3909#discussion_r478602982", "createdAt": "2020-08-27T18:07:11Z", "author": {"login": "chavanr2019"}, "path": "e2e/tests/workspace/workspace-delete.spec.ts", "diffHunk": "@@ -0,0 +1,70 @@\n+import WorkspacesPage from 'app/page/workspaces-page';\n+import {findWorkspace, signIn} from 'utils/test-utils';\n+import WorkspaceCard from 'app/component/workspace-card';\n+import {EllipsisMenuAction, WorkspaceAccessLevel, LinkText} from 'app/text-labels';\n+import Modal from 'app/component/modal';\n+\n+\n+describe('Delete workspace', () => {\n+\n+  beforeEach(async () => {\n+    await signIn(page);\n+  });\n+\n+  /**\n+   * Test:\n+   * - Find an existing workspace. Create a new workspace if none exists.\n+   * - Select \"Delete\" thru the Ellipsis menu located on the Workspace card.\n+   * - Get the content on the modal\n+   * - Click the delete workspace button on the modal\n+   * - Navigate to the \"View Workspaces\" page\n+   * - Verify that the workspace has been delete\n+   */\n+  \n+  describe('From \"Your Workspaces\" page using Workspace card ellipsis menu', () => {\n+\n+    test('As OWNER, user can delete workspace', async () => {\n+      const workspacesPage = new WorkspacesPage(page);\n+      const workspaceCard = await findWorkspace(page);\n+      const workspaceName = await workspaceCard.getWorkspaceName();\n+      console.log(workspaceName);\n+\n+      // Verify Workspace Access Level is OWNER.\n+      const accessLevel = await workspaceCard.getWorkspaceAccessLevel();\n+      expect(accessLevel).toBe(WorkspaceAccessLevel.Owner);\n+      \n+      await workspaceCard.asElementHandle().hover();\n+      // click on Ellipsis \"Delete\"\n+      await (workspaceCard.getEllipsis()).clickAction(EllipsisMenuAction.Delete, { waitForNav: false });\n+\n+      const modal = new Modal(page);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQyNTEwNw=="}, "originalCommit": {"oid": "4f933d5d5332aed69e87cb182e476afda09a06ca"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2313, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}