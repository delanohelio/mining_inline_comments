{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0Mjk4NjYx", "number": 4076, "title": "[no ticket][risk=no] cohort definition json schema file", "bodyText": "Adding to api/reporting/docs\nDid a bit of cleanup to make the schema file more readable and added descriptions.", "createdAt": "2020-09-28T17:32:30Z", "url": "https://github.com/all-of-us/workbench/pull/4076", "merged": true, "mergeCommit": {"oid": "d040522a07f2fa21763d6173bc93ea1ec15d206f"}, "closed": true, "closedAt": "2020-10-01T14:25:24Z", "author": {"login": "freemabd"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNtMDwgFqTQ5Nzc3MDI1OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOR8H_ABqjM4Mjk2ODE2Mjg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3NzcwMjU5", "url": "https://github.com/all-of-us/workbench/pull/4076#pullrequestreview-497770259", "createdAt": "2020-09-28T17:58:56Z", "commit": {"oid": "9c9fc58794495e5c88a356223dacfb8a532329c9"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxNzo1ODo1NlrOHZJqCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxOToxNTo0OFrOHZ9MQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjEzNDY2Ng==", "bodyText": "Please add a link to here from the top-level README.", "url": "https://github.com/all-of-us/workbench/pull/4076#discussion_r496134666", "createdAt": "2020-09-28T17:58:56Z", "author": {"login": "jaycarlton"}, "path": "api/reporting/docs/cohort_definition_schema.json", "diffHunk": "@@ -0,0 +1,201 @@\n+{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c9fc58794495e5c88a356223dacfb8a532329c9"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk3MzY4NA==", "bodyText": "Confirmed the schema is  valid and a JSON  entry from the DB matches it using https://www.jsonschemavalidator.net/. Good stuff.", "url": "https://github.com/all-of-us/workbench/pull/4076#discussion_r496973684", "createdAt": "2020-09-29T19:09:07Z", "author": {"login": "jaycarlton"}, "path": "api/reporting/docs/cohort_definition_schema.json", "diffHunk": "@@ -0,0 +1,201 @@\n+{\n+  \"$schema\": \"http://json-schema.org/draft-04/schema#\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c9fc58794495e5c88a356223dacfb8a532329c9"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk3NDExMA==", "bodyText": "please give an example or two of a search parameter.", "url": "https://github.com/all-of-us/workbench/pull/4076#discussion_r496974110", "createdAt": "2020-09-29T19:09:56Z", "author": {"login": "jaycarlton"}, "path": "api/reporting/docs/cohort_definition_schema.json", "diffHunk": "@@ -0,0 +1,201 @@\n+{\n+  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n+  \"description\": \"The cohort definition. It contains two arrays(includes and excludes)\",\n+  \"type\": \"object\",\n+  \"properties\": {\n+    \"includes\": {\n+      \"description\": \"A collection of search groups which can be 'AND'ed together\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"$ref\": \"#/definitions/search_group\"\n+        }\n+      ]\n+    },\n+    \"excludes\": {\n+      \"description\": \"A collection of search groups which can be 'AND'ed together\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"$ref\": \"#/definitions/search_group\"\n+        }\n+      ]\n+    },\n+    \"dataFilters\": {\n+      \"description\": \"Flags EHR or Physical Measurement data\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"description\": \"'has_ehr_data' or 'has_physical_measurement_data'\",\n+          \"type\": \"string\"\n+        }\n+      ]\n+    }\n+  },\n+  \"required\": [\"includes\", \"excludes\"],\n+  \"definitions\": {\n+    \"attribute\": {\n+      \"description\": \"An attribute is a categorical/numerical property that contains name, operator and operands\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"name\": {\n+          \"description\": \"The name of the attribute\",\n+          \"type\": \"string\"\n+        },\n+        \"operator\": {\n+          \"description\": \"An operator, ex: =, !=, <, <=, >, >=, between, like, in\",\n+          \"type\": \"string\"\n+        },\n+        \"operands\": {\n+          \"description\": \"A collection of operands\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"description\": \"An operand\",\n+              \"type\": \"string\"\n+            }\n+          ]\n+        }\n+      },\n+      \"required\": [\"name\", \"operator\", \"operands\"]\n+    },\n+    \"modifier\": {\n+      \"description\": \"A modifier can be age at event, number of occurrences or visit type\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"name\": {\n+          \"description\": \"Name of the modifier\",\n+          \"type\": \"string\"\n+        },\n+        \"operator\": {\n+          \"description\": \"An operator, ex: =, !=, <, <=, >, >=, between, like, in\",\n+          \"type\": \"string\"\n+        },\n+        \"operands\": {\n+          \"description\": \"A collection of operands\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"description\": \"An operand\",\n+              \"type\": \"integer\"\n+            }\n+          ]\n+        }\n+      },\n+      \"required\": [\"name\", \"operator\", \"operands\"]\n+    },\n+    \"search_group\": {\n+      \"description\": \"A search group is a collection of concepts which can be 'OR'ed together\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"id\": {\n+          \"description\": \"A unique identifier for the search group\",\n+          \"type\": \"string\"\n+        },\n+        \"items\": {\n+          \"description\": \"A collection of search group items\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/search_group_item\"\n+            }\n+          ]\n+        },\n+        \"temporal\": {\n+          \"description\": \"Is the search group temporal(relating groups within a time frame). \",\n+          \"type\": \"boolean\"\n+        }\n+      },\n+      \"required\": [\"id\", \"items\", \"temporal\"]\n+    },\n+    \"search_group_item\": {\n+      \"description\": \"A search group item is a collection of concepts of the same domain which can be 'OR'ed together\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"id\": {\n+          \"description\": \"The unique identifier for the search group item\",\n+          \"type\": \"string\"\n+        },\n+        \"type\": {\n+          \"description\": \"The description for this search group item\",\n+          \"type\": \"string\"\n+        },\n+        \"searchParameters\": {\n+          \"description\": \"A collection search parameters\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/search_parameter\"\n+            }\n+          ]\n+        },\n+        \"modifiers\": {\n+          \"description\": \"A collection of modifiers that refine the search\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/modifier\"\n+            }\n+          ]\n+        },\n+        \"temporalGroup\": {\n+          \"description\": \"Temporal group index for the search group item\",\n+          \"type\": \"integer\"\n+        }\n+      },\n+      \"required\": [\"id\", \"type\", \"searchParameters\", \"modifiers\"]\n+    },\n+    \"search_parameter\": {\n+      \"description\": \"A search parameter contains metadata about a specific concept\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c9fc58794495e5c88a356223dacfb8a532329c9"}, "originalPosition": 149}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk3NDQwOA==", "bodyText": "is there a fixed list (enum) of valid types, or is this free-form?", "url": "https://github.com/all-of-us/workbench/pull/4076#discussion_r496974408", "createdAt": "2020-09-29T19:10:26Z", "author": {"login": "jaycarlton"}, "path": "api/reporting/docs/cohort_definition_schema.json", "diffHunk": "@@ -0,0 +1,201 @@\n+{\n+  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n+  \"description\": \"The cohort definition. It contains two arrays(includes and excludes)\",\n+  \"type\": \"object\",\n+  \"properties\": {\n+    \"includes\": {\n+      \"description\": \"A collection of search groups which can be 'AND'ed together\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"$ref\": \"#/definitions/search_group\"\n+        }\n+      ]\n+    },\n+    \"excludes\": {\n+      \"description\": \"A collection of search groups which can be 'AND'ed together\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"$ref\": \"#/definitions/search_group\"\n+        }\n+      ]\n+    },\n+    \"dataFilters\": {\n+      \"description\": \"Flags EHR or Physical Measurement data\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"description\": \"'has_ehr_data' or 'has_physical_measurement_data'\",\n+          \"type\": \"string\"\n+        }\n+      ]\n+    }\n+  },\n+  \"required\": [\"includes\", \"excludes\"],\n+  \"definitions\": {\n+    \"attribute\": {\n+      \"description\": \"An attribute is a categorical/numerical property that contains name, operator and operands\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"name\": {\n+          \"description\": \"The name of the attribute\",\n+          \"type\": \"string\"\n+        },\n+        \"operator\": {\n+          \"description\": \"An operator, ex: =, !=, <, <=, >, >=, between, like, in\",\n+          \"type\": \"string\"\n+        },\n+        \"operands\": {\n+          \"description\": \"A collection of operands\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"description\": \"An operand\",\n+              \"type\": \"string\"\n+            }\n+          ]\n+        }\n+      },\n+      \"required\": [\"name\", \"operator\", \"operands\"]\n+    },\n+    \"modifier\": {\n+      \"description\": \"A modifier can be age at event, number of occurrences or visit type\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"name\": {\n+          \"description\": \"Name of the modifier\",\n+          \"type\": \"string\"\n+        },\n+        \"operator\": {\n+          \"description\": \"An operator, ex: =, !=, <, <=, >, >=, between, like, in\",\n+          \"type\": \"string\"\n+        },\n+        \"operands\": {\n+          \"description\": \"A collection of operands\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"description\": \"An operand\",\n+              \"type\": \"integer\"\n+            }\n+          ]\n+        }\n+      },\n+      \"required\": [\"name\", \"operator\", \"operands\"]\n+    },\n+    \"search_group\": {\n+      \"description\": \"A search group is a collection of concepts which can be 'OR'ed together\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"id\": {\n+          \"description\": \"A unique identifier for the search group\",\n+          \"type\": \"string\"\n+        },\n+        \"items\": {\n+          \"description\": \"A collection of search group items\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/search_group_item\"\n+            }\n+          ]\n+        },\n+        \"temporal\": {\n+          \"description\": \"Is the search group temporal(relating groups within a time frame). \",\n+          \"type\": \"boolean\"\n+        }\n+      },\n+      \"required\": [\"id\", \"items\", \"temporal\"]\n+    },\n+    \"search_group_item\": {\n+      \"description\": \"A search group item is a collection of concepts of the same domain which can be 'OR'ed together\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"id\": {\n+          \"description\": \"The unique identifier for the search group item\",\n+          \"type\": \"string\"\n+        },\n+        \"type\": {\n+          \"description\": \"The description for this search group item\",\n+          \"type\": \"string\"\n+        },\n+        \"searchParameters\": {\n+          \"description\": \"A collection search parameters\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/search_parameter\"\n+            }\n+          ]\n+        },\n+        \"modifiers\": {\n+          \"description\": \"A collection of modifiers that refine the search\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/modifier\"\n+            }\n+          ]\n+        },\n+        \"temporalGroup\": {\n+          \"description\": \"Temporal group index for the search group item\",\n+          \"type\": \"integer\"\n+        }\n+      },\n+      \"required\": [\"id\", \"type\", \"searchParameters\", \"modifiers\"]\n+    },\n+    \"search_parameter\": {\n+      \"description\": \"A search parameter contains metadata about a specific concept\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"parameterId\": {\n+          \"description\": \"The unique identifier for the search parameter\",\n+          \"type\": \"string\"\n+        },\n+        \"name\": {\n+          \"description\": \"The concept name\",\n+          \"type\": \"string\"\n+        },\n+        \"domain\": {\n+          \"description\": \"The domain for this concept\",\n+          \"type\": \"string\"\n+        },\n+        \"type\": {\n+          \"description\": \"The vocabulary type\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c9fc58794495e5c88a356223dacfb8a532329c9"}, "originalPosition": 165}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk3NTczMg==", "bodyText": "I don't understand how parent vs child maps to group vs no group. Is this really more of an enum  instead of a boolean?\nI'm guessing group = true indicates this is a parent property.", "url": "https://github.com/all-of-us/workbench/pull/4076#discussion_r496975732", "createdAt": "2020-09-29T19:12:04Z", "author": {"login": "jaycarlton"}, "path": "api/reporting/docs/cohort_definition_schema.json", "diffHunk": "@@ -0,0 +1,201 @@\n+{\n+  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n+  \"description\": \"The cohort definition. It contains two arrays(includes and excludes)\",\n+  \"type\": \"object\",\n+  \"properties\": {\n+    \"includes\": {\n+      \"description\": \"A collection of search groups which can be 'AND'ed together\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"$ref\": \"#/definitions/search_group\"\n+        }\n+      ]\n+    },\n+    \"excludes\": {\n+      \"description\": \"A collection of search groups which can be 'AND'ed together\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"$ref\": \"#/definitions/search_group\"\n+        }\n+      ]\n+    },\n+    \"dataFilters\": {\n+      \"description\": \"Flags EHR or Physical Measurement data\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"description\": \"'has_ehr_data' or 'has_physical_measurement_data'\",\n+          \"type\": \"string\"\n+        }\n+      ]\n+    }\n+  },\n+  \"required\": [\"includes\", \"excludes\"],\n+  \"definitions\": {\n+    \"attribute\": {\n+      \"description\": \"An attribute is a categorical/numerical property that contains name, operator and operands\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"name\": {\n+          \"description\": \"The name of the attribute\",\n+          \"type\": \"string\"\n+        },\n+        \"operator\": {\n+          \"description\": \"An operator, ex: =, !=, <, <=, >, >=, between, like, in\",\n+          \"type\": \"string\"\n+        },\n+        \"operands\": {\n+          \"description\": \"A collection of operands\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"description\": \"An operand\",\n+              \"type\": \"string\"\n+            }\n+          ]\n+        }\n+      },\n+      \"required\": [\"name\", \"operator\", \"operands\"]\n+    },\n+    \"modifier\": {\n+      \"description\": \"A modifier can be age at event, number of occurrences or visit type\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"name\": {\n+          \"description\": \"Name of the modifier\",\n+          \"type\": \"string\"\n+        },\n+        \"operator\": {\n+          \"description\": \"An operator, ex: =, !=, <, <=, >, >=, between, like, in\",\n+          \"type\": \"string\"\n+        },\n+        \"operands\": {\n+          \"description\": \"A collection of operands\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"description\": \"An operand\",\n+              \"type\": \"integer\"\n+            }\n+          ]\n+        }\n+      },\n+      \"required\": [\"name\", \"operator\", \"operands\"]\n+    },\n+    \"search_group\": {\n+      \"description\": \"A search group is a collection of concepts which can be 'OR'ed together\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"id\": {\n+          \"description\": \"A unique identifier for the search group\",\n+          \"type\": \"string\"\n+        },\n+        \"items\": {\n+          \"description\": \"A collection of search group items\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/search_group_item\"\n+            }\n+          ]\n+        },\n+        \"temporal\": {\n+          \"description\": \"Is the search group temporal(relating groups within a time frame). \",\n+          \"type\": \"boolean\"\n+        }\n+      },\n+      \"required\": [\"id\", \"items\", \"temporal\"]\n+    },\n+    \"search_group_item\": {\n+      \"description\": \"A search group item is a collection of concepts of the same domain which can be 'OR'ed together\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"id\": {\n+          \"description\": \"The unique identifier for the search group item\",\n+          \"type\": \"string\"\n+        },\n+        \"type\": {\n+          \"description\": \"The description for this search group item\",\n+          \"type\": \"string\"\n+        },\n+        \"searchParameters\": {\n+          \"description\": \"A collection search parameters\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/search_parameter\"\n+            }\n+          ]\n+        },\n+        \"modifiers\": {\n+          \"description\": \"A collection of modifiers that refine the search\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/modifier\"\n+            }\n+          ]\n+        },\n+        \"temporalGroup\": {\n+          \"description\": \"Temporal group index for the search group item\",\n+          \"type\": \"integer\"\n+        }\n+      },\n+      \"required\": [\"id\", \"type\", \"searchParameters\", \"modifiers\"]\n+    },\n+    \"search_parameter\": {\n+      \"description\": \"A search parameter contains metadata about a specific concept\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"parameterId\": {\n+          \"description\": \"The unique identifier for the search parameter\",\n+          \"type\": \"string\"\n+        },\n+        \"name\": {\n+          \"description\": \"The concept name\",\n+          \"type\": \"string\"\n+        },\n+        \"domain\": {\n+          \"description\": \"The domain for this concept\",\n+          \"type\": \"string\"\n+        },\n+        \"type\": {\n+          \"description\": \"The vocabulary type\",\n+          \"type\": \"string\"\n+        },\n+        \"group\": {\n+          \"description\": \"Is the concept a parent or child\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c9fc58794495e5c88a356223dacfb8a532329c9"}, "originalPosition": 169}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk3NzEwOA==", "bodyText": "Can you please indicate what source and standard mean here? Not all analysts will be familiar with the tools.", "url": "https://github.com/all-of-us/workbench/pull/4076#discussion_r496977108", "createdAt": "2020-09-29T19:13:39Z", "author": {"login": "jaycarlton"}, "path": "api/reporting/docs/cohort_definition_schema.json", "diffHunk": "@@ -0,0 +1,201 @@\n+{\n+  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n+  \"description\": \"The cohort definition. It contains two arrays(includes and excludes)\",\n+  \"type\": \"object\",\n+  \"properties\": {\n+    \"includes\": {\n+      \"description\": \"A collection of search groups which can be 'AND'ed together\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"$ref\": \"#/definitions/search_group\"\n+        }\n+      ]\n+    },\n+    \"excludes\": {\n+      \"description\": \"A collection of search groups which can be 'AND'ed together\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"$ref\": \"#/definitions/search_group\"\n+        }\n+      ]\n+    },\n+    \"dataFilters\": {\n+      \"description\": \"Flags EHR or Physical Measurement data\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"description\": \"'has_ehr_data' or 'has_physical_measurement_data'\",\n+          \"type\": \"string\"\n+        }\n+      ]\n+    }\n+  },\n+  \"required\": [\"includes\", \"excludes\"],\n+  \"definitions\": {\n+    \"attribute\": {\n+      \"description\": \"An attribute is a categorical/numerical property that contains name, operator and operands\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"name\": {\n+          \"description\": \"The name of the attribute\",\n+          \"type\": \"string\"\n+        },\n+        \"operator\": {\n+          \"description\": \"An operator, ex: =, !=, <, <=, >, >=, between, like, in\",\n+          \"type\": \"string\"\n+        },\n+        \"operands\": {\n+          \"description\": \"A collection of operands\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"description\": \"An operand\",\n+              \"type\": \"string\"\n+            }\n+          ]\n+        }\n+      },\n+      \"required\": [\"name\", \"operator\", \"operands\"]\n+    },\n+    \"modifier\": {\n+      \"description\": \"A modifier can be age at event, number of occurrences or visit type\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"name\": {\n+          \"description\": \"Name of the modifier\",\n+          \"type\": \"string\"\n+        },\n+        \"operator\": {\n+          \"description\": \"An operator, ex: =, !=, <, <=, >, >=, between, like, in\",\n+          \"type\": \"string\"\n+        },\n+        \"operands\": {\n+          \"description\": \"A collection of operands\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"description\": \"An operand\",\n+              \"type\": \"integer\"\n+            }\n+          ]\n+        }\n+      },\n+      \"required\": [\"name\", \"operator\", \"operands\"]\n+    },\n+    \"search_group\": {\n+      \"description\": \"A search group is a collection of concepts which can be 'OR'ed together\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"id\": {\n+          \"description\": \"A unique identifier for the search group\",\n+          \"type\": \"string\"\n+        },\n+        \"items\": {\n+          \"description\": \"A collection of search group items\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/search_group_item\"\n+            }\n+          ]\n+        },\n+        \"temporal\": {\n+          \"description\": \"Is the search group temporal(relating groups within a time frame). \",\n+          \"type\": \"boolean\"\n+        }\n+      },\n+      \"required\": [\"id\", \"items\", \"temporal\"]\n+    },\n+    \"search_group_item\": {\n+      \"description\": \"A search group item is a collection of concepts of the same domain which can be 'OR'ed together\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"id\": {\n+          \"description\": \"The unique identifier for the search group item\",\n+          \"type\": \"string\"\n+        },\n+        \"type\": {\n+          \"description\": \"The description for this search group item\",\n+          \"type\": \"string\"\n+        },\n+        \"searchParameters\": {\n+          \"description\": \"A collection search parameters\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/search_parameter\"\n+            }\n+          ]\n+        },\n+        \"modifiers\": {\n+          \"description\": \"A collection of modifiers that refine the search\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/modifier\"\n+            }\n+          ]\n+        },\n+        \"temporalGroup\": {\n+          \"description\": \"Temporal group index for the search group item\",\n+          \"type\": \"integer\"\n+        }\n+      },\n+      \"required\": [\"id\", \"type\", \"searchParameters\", \"modifiers\"]\n+    },\n+    \"search_parameter\": {\n+      \"description\": \"A search parameter contains metadata about a specific concept\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"parameterId\": {\n+          \"description\": \"The unique identifier for the search parameter\",\n+          \"type\": \"string\"\n+        },\n+        \"name\": {\n+          \"description\": \"The concept name\",\n+          \"type\": \"string\"\n+        },\n+        \"domain\": {\n+          \"description\": \"The domain for this concept\",\n+          \"type\": \"string\"\n+        },\n+        \"type\": {\n+          \"description\": \"The vocabulary type\",\n+          \"type\": \"string\"\n+        },\n+        \"group\": {\n+          \"description\": \"Is the concept a parent or child\",\n+          \"type\": \"boolean\"\n+        },\n+        \"attributes\": {\n+          \"description\": \"A collection of attributes that can be searched for specific domains, ex: labs\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/attribute\"\n+            }\n+          ]\n+        },\n+        \"ancestorData\": {\n+          \"description\": \"Does the search parameter contain data in the ancestor table\",\n+          \"type\": \"boolean\"\n+        },\n+        \"standard\": {\n+          \"description\": \"Is the search parameter source or standard\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c9fc58794495e5c88a356223dacfb8a532329c9"}, "originalPosition": 186}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk3ODAyNw==", "bodyText": "Please indicate the scope/uniqueness of this  ID, e.g. \"uniquely identifies a concept  in the CDR being  searched to produce  this  cohort.\"", "url": "https://github.com/all-of-us/workbench/pull/4076#discussion_r496978027", "createdAt": "2020-09-29T19:14:41Z", "author": {"login": "jaycarlton"}, "path": "api/reporting/docs/cohort_definition_schema.json", "diffHunk": "@@ -0,0 +1,201 @@\n+{\n+  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n+  \"description\": \"The cohort definition. It contains two arrays(includes and excludes)\",\n+  \"type\": \"object\",\n+  \"properties\": {\n+    \"includes\": {\n+      \"description\": \"A collection of search groups which can be 'AND'ed together\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"$ref\": \"#/definitions/search_group\"\n+        }\n+      ]\n+    },\n+    \"excludes\": {\n+      \"description\": \"A collection of search groups which can be 'AND'ed together\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"$ref\": \"#/definitions/search_group\"\n+        }\n+      ]\n+    },\n+    \"dataFilters\": {\n+      \"description\": \"Flags EHR or Physical Measurement data\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"description\": \"'has_ehr_data' or 'has_physical_measurement_data'\",\n+          \"type\": \"string\"\n+        }\n+      ]\n+    }\n+  },\n+  \"required\": [\"includes\", \"excludes\"],\n+  \"definitions\": {\n+    \"attribute\": {\n+      \"description\": \"An attribute is a categorical/numerical property that contains name, operator and operands\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"name\": {\n+          \"description\": \"The name of the attribute\",\n+          \"type\": \"string\"\n+        },\n+        \"operator\": {\n+          \"description\": \"An operator, ex: =, !=, <, <=, >, >=, between, like, in\",\n+          \"type\": \"string\"\n+        },\n+        \"operands\": {\n+          \"description\": \"A collection of operands\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"description\": \"An operand\",\n+              \"type\": \"string\"\n+            }\n+          ]\n+        }\n+      },\n+      \"required\": [\"name\", \"operator\", \"operands\"]\n+    },\n+    \"modifier\": {\n+      \"description\": \"A modifier can be age at event, number of occurrences or visit type\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"name\": {\n+          \"description\": \"Name of the modifier\",\n+          \"type\": \"string\"\n+        },\n+        \"operator\": {\n+          \"description\": \"An operator, ex: =, !=, <, <=, >, >=, between, like, in\",\n+          \"type\": \"string\"\n+        },\n+        \"operands\": {\n+          \"description\": \"A collection of operands\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"description\": \"An operand\",\n+              \"type\": \"integer\"\n+            }\n+          ]\n+        }\n+      },\n+      \"required\": [\"name\", \"operator\", \"operands\"]\n+    },\n+    \"search_group\": {\n+      \"description\": \"A search group is a collection of concepts which can be 'OR'ed together\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"id\": {\n+          \"description\": \"A unique identifier for the search group\",\n+          \"type\": \"string\"\n+        },\n+        \"items\": {\n+          \"description\": \"A collection of search group items\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/search_group_item\"\n+            }\n+          ]\n+        },\n+        \"temporal\": {\n+          \"description\": \"Is the search group temporal(relating groups within a time frame). \",\n+          \"type\": \"boolean\"\n+        }\n+      },\n+      \"required\": [\"id\", \"items\", \"temporal\"]\n+    },\n+    \"search_group_item\": {\n+      \"description\": \"A search group item is a collection of concepts of the same domain which can be 'OR'ed together\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"id\": {\n+          \"description\": \"The unique identifier for the search group item\",\n+          \"type\": \"string\"\n+        },\n+        \"type\": {\n+          \"description\": \"The description for this search group item\",\n+          \"type\": \"string\"\n+        },\n+        \"searchParameters\": {\n+          \"description\": \"A collection search parameters\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/search_parameter\"\n+            }\n+          ]\n+        },\n+        \"modifiers\": {\n+          \"description\": \"A collection of modifiers that refine the search\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/modifier\"\n+            }\n+          ]\n+        },\n+        \"temporalGroup\": {\n+          \"description\": \"Temporal group index for the search group item\",\n+          \"type\": \"integer\"\n+        }\n+      },\n+      \"required\": [\"id\", \"type\", \"searchParameters\", \"modifiers\"]\n+    },\n+    \"search_parameter\": {\n+      \"description\": \"A search parameter contains metadata about a specific concept\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"parameterId\": {\n+          \"description\": \"The unique identifier for the search parameter\",\n+          \"type\": \"string\"\n+        },\n+        \"name\": {\n+          \"description\": \"The concept name\",\n+          \"type\": \"string\"\n+        },\n+        \"domain\": {\n+          \"description\": \"The domain for this concept\",\n+          \"type\": \"string\"\n+        },\n+        \"type\": {\n+          \"description\": \"The vocabulary type\",\n+          \"type\": \"string\"\n+        },\n+        \"group\": {\n+          \"description\": \"Is the concept a parent or child\",\n+          \"type\": \"boolean\"\n+        },\n+        \"attributes\": {\n+          \"description\": \"A collection of attributes that can be searched for specific domains, ex: labs\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/attribute\"\n+            }\n+          ]\n+        },\n+        \"ancestorData\": {\n+          \"description\": \"Does the search parameter contain data in the ancestor table\",\n+          \"type\": \"boolean\"\n+        },\n+        \"standard\": {\n+          \"description\": \"Is the search parameter source or standard\",\n+          \"type\": \"boolean\"\n+        },\n+        \"conceptId\": {\n+          \"description\": \"The concept id\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c9fc58794495e5c88a356223dacfb8a532329c9"}, "originalPosition": 190}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk3OTAxMQ==", "bodyText": "So this is a non-required  property, and will be absent if not applicable?", "url": "https://github.com/all-of-us/workbench/pull/4076#discussion_r496979011", "createdAt": "2020-09-29T19:15:48Z", "author": {"login": "jaycarlton"}, "path": "api/reporting/docs/cohort_definition_schema.json", "diffHunk": "@@ -0,0 +1,201 @@\n+{\n+  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n+  \"description\": \"The cohort definition. It contains two arrays(includes and excludes)\",\n+  \"type\": \"object\",\n+  \"properties\": {\n+    \"includes\": {\n+      \"description\": \"A collection of search groups which can be 'AND'ed together\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"$ref\": \"#/definitions/search_group\"\n+        }\n+      ]\n+    },\n+    \"excludes\": {\n+      \"description\": \"A collection of search groups which can be 'AND'ed together\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"$ref\": \"#/definitions/search_group\"\n+        }\n+      ]\n+    },\n+    \"dataFilters\": {\n+      \"description\": \"Flags EHR or Physical Measurement data\",\n+      \"type\": \"array\",\n+      \"items\": [\n+        {\n+          \"description\": \"'has_ehr_data' or 'has_physical_measurement_data'\",\n+          \"type\": \"string\"\n+        }\n+      ]\n+    }\n+  },\n+  \"required\": [\"includes\", \"excludes\"],\n+  \"definitions\": {\n+    \"attribute\": {\n+      \"description\": \"An attribute is a categorical/numerical property that contains name, operator and operands\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"name\": {\n+          \"description\": \"The name of the attribute\",\n+          \"type\": \"string\"\n+        },\n+        \"operator\": {\n+          \"description\": \"An operator, ex: =, !=, <, <=, >, >=, between, like, in\",\n+          \"type\": \"string\"\n+        },\n+        \"operands\": {\n+          \"description\": \"A collection of operands\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"description\": \"An operand\",\n+              \"type\": \"string\"\n+            }\n+          ]\n+        }\n+      },\n+      \"required\": [\"name\", \"operator\", \"operands\"]\n+    },\n+    \"modifier\": {\n+      \"description\": \"A modifier can be age at event, number of occurrences or visit type\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"name\": {\n+          \"description\": \"Name of the modifier\",\n+          \"type\": \"string\"\n+        },\n+        \"operator\": {\n+          \"description\": \"An operator, ex: =, !=, <, <=, >, >=, between, like, in\",\n+          \"type\": \"string\"\n+        },\n+        \"operands\": {\n+          \"description\": \"A collection of operands\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"description\": \"An operand\",\n+              \"type\": \"integer\"\n+            }\n+          ]\n+        }\n+      },\n+      \"required\": [\"name\", \"operator\", \"operands\"]\n+    },\n+    \"search_group\": {\n+      \"description\": \"A search group is a collection of concepts which can be 'OR'ed together\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"id\": {\n+          \"description\": \"A unique identifier for the search group\",\n+          \"type\": \"string\"\n+        },\n+        \"items\": {\n+          \"description\": \"A collection of search group items\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/search_group_item\"\n+            }\n+          ]\n+        },\n+        \"temporal\": {\n+          \"description\": \"Is the search group temporal(relating groups within a time frame). \",\n+          \"type\": \"boolean\"\n+        }\n+      },\n+      \"required\": [\"id\", \"items\", \"temporal\"]\n+    },\n+    \"search_group_item\": {\n+      \"description\": \"A search group item is a collection of concepts of the same domain which can be 'OR'ed together\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"id\": {\n+          \"description\": \"The unique identifier for the search group item\",\n+          \"type\": \"string\"\n+        },\n+        \"type\": {\n+          \"description\": \"The description for this search group item\",\n+          \"type\": \"string\"\n+        },\n+        \"searchParameters\": {\n+          \"description\": \"A collection search parameters\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/search_parameter\"\n+            }\n+          ]\n+        },\n+        \"modifiers\": {\n+          \"description\": \"A collection of modifiers that refine the search\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/modifier\"\n+            }\n+          ]\n+        },\n+        \"temporalGroup\": {\n+          \"description\": \"Temporal group index for the search group item\",\n+          \"type\": \"integer\"\n+        }\n+      },\n+      \"required\": [\"id\", \"type\", \"searchParameters\", \"modifiers\"]\n+    },\n+    \"search_parameter\": {\n+      \"description\": \"A search parameter contains metadata about a specific concept\",\n+      \"type\": \"object\",\n+      \"properties\": {\n+        \"parameterId\": {\n+          \"description\": \"The unique identifier for the search parameter\",\n+          \"type\": \"string\"\n+        },\n+        \"name\": {\n+          \"description\": \"The concept name\",\n+          \"type\": \"string\"\n+        },\n+        \"domain\": {\n+          \"description\": \"The domain for this concept\",\n+          \"type\": \"string\"\n+        },\n+        \"type\": {\n+          \"description\": \"The vocabulary type\",\n+          \"type\": \"string\"\n+        },\n+        \"group\": {\n+          \"description\": \"Is the concept a parent or child\",\n+          \"type\": \"boolean\"\n+        },\n+        \"attributes\": {\n+          \"description\": \"A collection of attributes that can be searched for specific domains, ex: labs\",\n+          \"type\": \"array\",\n+          \"items\": [\n+            {\n+              \"$ref\": \"#/definitions/attribute\"\n+            }\n+          ]\n+        },\n+        \"ancestorData\": {\n+          \"description\": \"Does the search parameter contain data in the ancestor table\",\n+          \"type\": \"boolean\"\n+        },\n+        \"standard\": {\n+          \"description\": \"Is the search parameter source or standard\",\n+          \"type\": \"boolean\"\n+        },\n+        \"conceptId\": {\n+          \"description\": \"The concept id\",\n+          \"type\": \"integer\"\n+        },\n+        \"value\": {\n+          \"description\": \"For PPI questions this holds the answer concept id\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c9fc58794495e5c88a356223dacfb8a532329c9"}, "originalPosition": 194}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NjAyNjYy", "url": "https://github.com/all-of-us/workbench/pull/4076#pullrequestreview-499602662", "createdAt": "2020-09-30T16:19:12Z", "commit": {"oid": "26945567530f5fa170d63662e412e440b45bbb0a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c1a67f0597066c41da8302b009fec35487a3bb7", "author": {"user": {"login": "freemabd", "name": "Brian Freeman"}}, "url": "https://github.com/all-of-us/workbench/commit/2c1a67f0597066c41da8302b009fec35487a3bb7", "committedDate": "2020-10-01T14:05:53Z", "message": "cohort def schema json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae003d40cdf1d52d8cb32fdf09fcb2d02428834e", "author": {"user": {"login": "freemabd", "name": "Brian Freeman"}}, "url": "https://github.com/all-of-us/workbench/commit/ae003d40cdf1d52d8cb32fdf09fcb2d02428834e", "committedDate": "2020-10-01T14:05:53Z", "message": "added per comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e6f250af6c26b56a6fe1fc77d1d9835353c89bb", "author": {"user": {"login": "freemabd", "name": "Brian Freeman"}}, "url": "https://github.com/all-of-us/workbench/commit/1e6f250af6c26b56a6fe1fc77d1d9835353c89bb", "committedDate": "2020-10-01T14:05:53Z", "message": "adding more comments and examples"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "26945567530f5fa170d63662e412e440b45bbb0a", "author": {"user": {"login": "freemabd", "name": "Brian Freeman"}}, "url": "https://github.com/all-of-us/workbench/commit/26945567530f5fa170d63662e412e440b45bbb0a", "committedDate": "2020-09-30T15:55:53Z", "message": "adding more comments and examples"}, "afterCommit": {"oid": "1e6f250af6c26b56a6fe1fc77d1d9835353c89bb", "author": {"user": {"login": "freemabd", "name": "Brian Freeman"}}, "url": "https://github.com/all-of-us/workbench/commit/1e6f250af6c26b56a6fe1fc77d1d9835353c89bb", "committedDate": "2020-10-01T14:05:53Z", "message": "adding more comments and examples"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4124, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}