{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwNjA5NDIy", "number": 4041, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMzoyMzoxMFrOEl350Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQyMDowNzoyN1rOEmPvUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MTQ4Njg5OnYy", "diffSide": "LEFT", "path": "e2e/app/page/workspace-data-page.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMzoyMzoxMFrOHVluEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMzoyMzoxMFrOHVluEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQwMDE0Nw==", "bodyText": "selectWorkspaceAction moved to workspace-base.", "url": "https://github.com/all-of-us/workbench/pull/4041#discussion_r492400147", "createdAt": "2020-09-21T23:23:10Z", "author": {"login": "aweng98"}, "path": "e2e/app/page/workspace-data-page.ts", "diffHunk": "@@ -45,11 +44,6 @@ export default class WorkspaceDataPage extends WorkspaceBase {\n     ]);\n   }\n \n-  async selectWorkspaceAction(action: EllipsisMenuAction): Promise<void> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcff2212c24700f118c3ddaac76224cc081feebe"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MTQ4ODM1OnYy", "diffSide": "LEFT", "path": "e2e/app/page/workspaces-page.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMzoyMzo1M1rOHVlu8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMzoyMzo1M1rOHVlu8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQwMDM3MQ==", "bodyText": "deleteWorkspaceModal moved to workspace-base and renamed to dismissDeleteWorkspaceModal.", "url": "https://github.com/all-of-us/workbench/pull/4041#discussion_r492400371", "createdAt": "2020-09-21T23:23:53Z", "author": {"login": "aweng98"}, "path": "e2e/app/page/workspaces-page.ts", "diffHunk": "@@ -157,18 +156,6 @@ export default class WorkspacesPage extends WorkspaceEditPage {\n     return notebookPage.goAnalysisPage();\n   }\n \n-  /**\n-   * Click DELETE WORKSPACE button in delete workspace Confirmation dialog.\n-   * @return {string} Dialog textContent.\n-   */\n-  async deleteWorkspaceModal(): Promise<string[]> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcff2212c24700f118c3ddaac76224cc081feebe"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NTM5MjE4OnYy", "diffSide": "RIGHT", "path": "e2e/app/page/workspace-base.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQyMDowNzoyN1rOHWKeeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQyMDo0ODo1OVrOHWL1mQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAwMjM2MA==", "bodyText": "nit: remove console.log before merging", "url": "https://github.com/all-of-us/workbench/pull/4041#discussion_r493002360", "createdAt": "2020-09-22T20:07:27Z", "author": {"login": "gjuggler"}, "path": "e2e/app/page/workspace-base.ts", "diffHunk": "@@ -212,5 +213,37 @@ export default abstract class WorkspaceBase extends AuthenticatedPage {\n     return modalTextContents;\n   }\n \n+  /**\n+   * Select Workspace action dropdown menu option.\n+   * @param {EllipsisMenuAction} menuOption\n+   * @param opts\n+   */\n+  async selectWorkspaceAction(menuOption: EllipsisMenuAction, opts?: { waitForNav: false }): Promise<void> {\n+    const ellipsisMenu = new EllipsisMenu(this.page, './/*[@data-test-id=\"workspace-menu-button\"]');\n+    return ellipsisMenu.clickAction(menuOption, opts);\n+  }\n+\n+  /**\n+   * Delete workspace via Workspace action menu \"Delete\" option.\n+   */\n+  async deleteWorkspace(): Promise<string[]> {\n+    await this.selectWorkspaceAction(EllipsisMenuAction.Delete, { waitForNav: false });\n+    // Handle Delete Confirmation modal\n+    return this.dismissDeleteWorkspaceModal();\n+  }\n+\n+\n+  /**\n+   * Dismss Delete Workspace Confirmation modal by click a button.\n+   * @return {LinkText} clickButtonText Button to click.\n+   */\n+  async dismissDeleteWorkspaceModal(clickButtonText: LinkText = LinkText.DeleteWorkspace): Promise<string[]> {\n+    const modal = new Modal(this.page);\n+    const contentText = await modal.getTextContent();\n+    await modal.clickButton(clickButtonText, {waitForClose: true});\n+    await waitWhileLoading(this.page);\n+    console.log(`Dismiss Delete Workspace modal by click ${clickButtonText} button`);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2bcd84cdbb9104370bceebfe6ebbbb68c7569178"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAyNDY2NQ==", "bodyText": "Done", "url": "https://github.com/all-of-us/workbench/pull/4041#discussion_r493024665", "createdAt": "2020-09-22T20:48:59Z", "author": {"login": "aweng98"}, "path": "e2e/app/page/workspace-base.ts", "diffHunk": "@@ -212,5 +213,37 @@ export default abstract class WorkspaceBase extends AuthenticatedPage {\n     return modalTextContents;\n   }\n \n+  /**\n+   * Select Workspace action dropdown menu option.\n+   * @param {EllipsisMenuAction} menuOption\n+   * @param opts\n+   */\n+  async selectWorkspaceAction(menuOption: EllipsisMenuAction, opts?: { waitForNav: false }): Promise<void> {\n+    const ellipsisMenu = new EllipsisMenu(this.page, './/*[@data-test-id=\"workspace-menu-button\"]');\n+    return ellipsisMenu.clickAction(menuOption, opts);\n+  }\n+\n+  /**\n+   * Delete workspace via Workspace action menu \"Delete\" option.\n+   */\n+  async deleteWorkspace(): Promise<string[]> {\n+    await this.selectWorkspaceAction(EllipsisMenuAction.Delete, { waitForNav: false });\n+    // Handle Delete Confirmation modal\n+    return this.dismissDeleteWorkspaceModal();\n+  }\n+\n+\n+  /**\n+   * Dismss Delete Workspace Confirmation modal by click a button.\n+   * @return {LinkText} clickButtonText Button to click.\n+   */\n+  async dismissDeleteWorkspaceModal(clickButtonText: LinkText = LinkText.DeleteWorkspace): Promise<string[]> {\n+    const modal = new Modal(this.page);\n+    const contentText = await modal.getTextContent();\n+    await modal.clickButton(clickButtonText, {waitForClose: true});\n+    await waitWhileLoading(this.page);\n+    console.log(`Dismiss Delete Workspace modal by click ${clickButtonText} button`);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAwMjM2MA=="}, "originalCommit": {"oid": "2bcd84cdbb9104370bceebfe6ebbbb68c7569178"}, "originalPosition": 41}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3936, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}