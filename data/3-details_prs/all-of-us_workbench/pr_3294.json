{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyNzA5Njcx", "number": 3294, "title": "[RW-4621][risk=no] Add Zendesk integration test which runs nightly", "bodyText": "This only runs nightly on account of the test generating ZD sandbox requests which aren't cleaned up. Leverages Junit \"Categories\" for filtering on tests. I couldn't get @Tag filtering to work with gradle; on further review this may only be possible if you're using the new JUnit5 platform engine, so upgrading to the JUnit5 lib may not have been sufficient:\n> Could not find method useJUnitPlatform() for arguments [build_7rmii44aljl4a99qxkq0ucme2$_run_closure20$_closure70@31450fc0] on task ':integrationTest' of type org.gradle.api.tasks.testing.Test.", "createdAt": "2020-03-24T00:33:23Z", "url": "https://github.com/all-of-us/workbench/pull/3294", "merged": true, "mergeCommit": {"oid": "96893593543d3aa9a7b33a49e3dec995d4b7259d"}, "closed": true, "closedAt": "2020-03-26T02:45:30Z", "author": {"login": "calbach"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQ6_vPgH2gAyMzkyNzA5NjcxOjRmMjJiZmEyOTNhYzQ0NzJiOGQ3YjZkOTAxMjI0N2Q5OTdiODg3ZTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRL4LrgH2gAyMzkyNzA5NjcxOjJjYWRiY2NhNjEyMjkwZDE0MzQ0ZDc2NmZmYjk4NzEyOTJhMDI4ZmE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4f22bfa293ac4472b8d7b6d9012247d997b887e8", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/4f22bfa293ac4472b8d7b6d9012247d997b887e8", "committedDate": "2020-03-24T22:52:59Z", "message": "Add Zendesk integration test which runs nightly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9dd4ea63a58ce007ae7b79895e75dc6478c313f3", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/9dd4ea63a58ce007ae7b79895e75dc6478c313f3", "committedDate": "2020-03-24T22:52:59Z", "message": "target fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f57e05ea8fb5b0a1ffb90509469ea364851de27f", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/f57e05ea8fb5b0a1ffb90509469ea364851de27f", "committedDate": "2020-03-24T22:52:59Z", "message": "Tag -> categories"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "341e5d7d4918ddb0f1bc002fd8013bf1e548506e", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/341e5d7d4918ddb0f1bc002fd8013bf1e548506e", "committedDate": "2020-03-24T00:57:16Z", "message": "Tag -> categories"}, "afterCommit": {"oid": "f57e05ea8fb5b0a1ffb90509469ea364851de27f", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/f57e05ea8fb5b0a1ffb90509469ea364851de27f", "committedDate": "2020-03-24T22:52:59Z", "message": "Tag -> categories"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxNDI0MzIw", "url": "https://github.com/all-of-us/workbench/pull/3294#pullrequestreview-381424320", "createdAt": "2020-03-25T18:27:25Z", "commit": {"oid": "f57e05ea8fb5b0a1ffb90509469ea364851de27f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxODoyNzoyNVrOF7ovkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxODoyNzoyNVrOF7ovkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODA3Nzg0MA==", "bodyText": "Nit: indentation seems off here.", "url": "https://github.com/all-of-us/workbench/pull/3294#discussion_r398077840", "createdAt": "2020-03-25T18:27:25Z", "author": {"login": "s-rubenstein"}, "path": "api/build.gradle", "diffHunk": "@@ -522,18 +526,28 @@ compileJava {\n   options.compilerArgs << '-Xlint:unchecked'\n }\n \n-task integration(type: Test) {\n+task integrationTest(type: Test) {\n   group = LifecycleBasePlugin.VERIFICATION_GROUP\n   testClassesDirs = sourceSets.integration.output.classesDirs\n   classpath = sourceSets.integration.runtimeClasspath\n+  useJUnit {\n+\t\texcludeCategories 'org.pmiops.workbench.NightlyTests'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f57e05ea8fb5b0a1ffb90509469ea364851de27f"}, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cadbcca612290d14344d766ffb9871292a028fa", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/2cadbcca612290d14344d766ffb9871292a028fa", "committedDate": "2020-03-25T18:33:07Z", "message": "Indent"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3285, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}