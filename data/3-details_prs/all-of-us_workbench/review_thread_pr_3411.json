{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzODcyNDk3", "number": 3411, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzo1NzoyM1rODyLpiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzo1ODoyM1rODyLq-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzOTQ2MjUxOnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/homepage/homepage.tsx", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzo1NzoyM1rOGGFLhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQyMjoyMjo0NlrOGG5RDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAyOTUwOA==", "bodyText": "Lots of magic numbers here.", "url": "https://github.com/all-of-us/workbench/pull/3411#discussion_r409029508", "createdAt": "2020-04-15T17:57:23Z", "author": {"login": "jaycarlton"}, "path": "ui/src/app/pages/homepage/homepage.tsx", "diffHunk": "@@ -231,28 +236,38 @@ export const Homepage = withUserProfile()(class extends React.Component<Props, S\n     });\n   }\n \n-  openVideo(videoLink: string): void {\n-    this.setState({videoOpen: true, videoLink: videoLink});\n+  openVideo(videoId: string): void {\n+    this.setState({videoOpen: true, videoId: videoId});\n   }\n \n \n   render() {\n     const {betaAccessGranted, videoOpen, accessTasksLoaded, accessTasksRemaining,\n       eraCommonsError, eraCommonsLinked, eraCommonsLoading, firstVisitTraining,\n-      trainingCompleted, quickTour, videoLink, twoFactorAuthCompleted,\n-      dataUserCodeOfConductCompleted\n+      trainingCompleted, quickTour, videoId, twoFactorAuthCompleted,\n+      dataUserCodeOfConductCompleted, quickTourResourceOffset\n     } = this.state;\n+    const limit = this.quickTourResourcesDiv ? Math.floor(this.quickTourResourcesDiv.offsetWidth * 0.97 / 276) : 5;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9239a9d46b7170dc50d648f5130922d2e2f2ce8f"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTA0NTk0MA==", "bodyText": "Sorry, meant to add a comment with some context before pushing. Will add one shortly.", "url": "https://github.com/all-of-us/workbench/pull/3411#discussion_r409045940", "createdAt": "2020-04-15T18:25:58Z", "author": {"login": "dolbeew"}, "path": "ui/src/app/pages/homepage/homepage.tsx", "diffHunk": "@@ -231,28 +236,38 @@ export const Homepage = withUserProfile()(class extends React.Component<Props, S\n     });\n   }\n \n-  openVideo(videoLink: string): void {\n-    this.setState({videoOpen: true, videoLink: videoLink});\n+  openVideo(videoId: string): void {\n+    this.setState({videoOpen: true, videoId: videoId});\n   }\n \n \n   render() {\n     const {betaAccessGranted, videoOpen, accessTasksLoaded, accessTasksRemaining,\n       eraCommonsError, eraCommonsLinked, eraCommonsLoading, firstVisitTraining,\n-      trainingCompleted, quickTour, videoLink, twoFactorAuthCompleted,\n-      dataUserCodeOfConductCompleted\n+      trainingCompleted, quickTour, videoId, twoFactorAuthCompleted,\n+      dataUserCodeOfConductCompleted, quickTourResourceOffset\n     } = this.state;\n+    const limit = this.quickTourResourcesDiv ? Math.floor(this.quickTourResourcesDiv.offsetWidth * 0.97 / 276) : 5;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAyOTUwOA=="}, "originalCommit": {"oid": "9239a9d46b7170dc50d648f5130922d2e2f2ce8f"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTg4Mjg5NQ==", "bodyText": "Added a comment with an explanation and also got rid of one magic number since I'm measuring a different element (the 0.97 was accounting for a 3% margin but not needed now).", "url": "https://github.com/all-of-us/workbench/pull/3411#discussion_r409882895", "createdAt": "2020-04-16T22:22:46Z", "author": {"login": "dolbeew"}, "path": "ui/src/app/pages/homepage/homepage.tsx", "diffHunk": "@@ -231,28 +236,38 @@ export const Homepage = withUserProfile()(class extends React.Component<Props, S\n     });\n   }\n \n-  openVideo(videoLink: string): void {\n-    this.setState({videoOpen: true, videoLink: videoLink});\n+  openVideo(videoId: string): void {\n+    this.setState({videoOpen: true, videoId: videoId});\n   }\n \n \n   render() {\n     const {betaAccessGranted, videoOpen, accessTasksLoaded, accessTasksRemaining,\n       eraCommonsError, eraCommonsLinked, eraCommonsLoading, firstVisitTraining,\n-      trainingCompleted, quickTour, videoLink, twoFactorAuthCompleted,\n-      dataUserCodeOfConductCompleted\n+      trainingCompleted, quickTour, videoId, twoFactorAuthCompleted,\n+      dataUserCodeOfConductCompleted, quickTourResourceOffset\n     } = this.state;\n+    const limit = this.quickTourResourcesDiv ? Math.floor(this.quickTourResourcesDiv.offsetWidth * 0.97 / 276) : 5;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAyOTUwOA=="}, "originalCommit": {"oid": "9239a9d46b7170dc50d648f5130922d2e2f2ce8f"}, "originalPosition": 70}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzOTQ2NjE2OnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/homepage/homepage.tsx", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzo1ODoyM1rOGGFNyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQyMjoyNToyN1rOGG5VQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAzMDA5MQ==", "bodyText": "Out of curiosity, why are the video titles hard-coded with random characters? I wonder if there's a more straightforward way to store this mapping, outside of code (like in an environment config file).", "url": "https://github.com/all-of-us/workbench/pull/3411#discussion_r409030091", "createdAt": "2020-04-15T17:58:23Z", "author": {"login": "jaycarlton"}, "path": "ui/src/app/pages/homepage/homepage.tsx", "diffHunk": "@@ -231,28 +236,38 @@ export const Homepage = withUserProfile()(class extends React.Component<Props, S\n     });\n   }\n \n-  openVideo(videoLink: string): void {\n-    this.setState({videoOpen: true, videoLink: videoLink});\n+  openVideo(videoId: string): void {\n+    this.setState({videoOpen: true, videoId: videoId});\n   }\n \n \n   render() {\n     const {betaAccessGranted, videoOpen, accessTasksLoaded, accessTasksRemaining,\n       eraCommonsError, eraCommonsLinked, eraCommonsLoading, firstVisitTraining,\n-      trainingCompleted, quickTour, videoLink, twoFactorAuthCompleted,\n-      dataUserCodeOfConductCompleted\n+      trainingCompleted, quickTour, videoId, twoFactorAuthCompleted,\n+      dataUserCodeOfConductCompleted, quickTourResourceOffset\n     } = this.state;\n+    const limit = this.quickTourResourcesDiv ? Math.floor(this.quickTourResourcesDiv.offsetWidth * 0.97 / 276) : 5;\n \n     const quickTourResources = [\n       {\n         src: '/assets/images/QT-thumbnail.svg',\n         onClick: () => this.setState({quickTour: true})\n       }, {\n-        src: '/assets/images/cohorts-thumbnail.png',\n-        onClick: () => this.openVideo('/assets/videos/Workbench Tutorial - Cohorts.mp4')\n+        src: '/assets/images/intro-workbench.png',\n+        onClick: () => this.openVideo('nqnOvOpnRLE')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9239a9d46b7170dc50d648f5130922d2e2f2ce8f"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTA1MDcwMA==", "bodyText": "Those are the YouTube video ids that get inserted into the src url of the iframe. Yeah, not sure the best way to do it but didn't want to change too much since I'm not usually in these components.", "url": "https://github.com/all-of-us/workbench/pull/3411#discussion_r409050700", "createdAt": "2020-04-15T18:34:05Z", "author": {"login": "dolbeew"}, "path": "ui/src/app/pages/homepage/homepage.tsx", "diffHunk": "@@ -231,28 +236,38 @@ export const Homepage = withUserProfile()(class extends React.Component<Props, S\n     });\n   }\n \n-  openVideo(videoLink: string): void {\n-    this.setState({videoOpen: true, videoLink: videoLink});\n+  openVideo(videoId: string): void {\n+    this.setState({videoOpen: true, videoId: videoId});\n   }\n \n \n   render() {\n     const {betaAccessGranted, videoOpen, accessTasksLoaded, accessTasksRemaining,\n       eraCommonsError, eraCommonsLinked, eraCommonsLoading, firstVisitTraining,\n-      trainingCompleted, quickTour, videoLink, twoFactorAuthCompleted,\n-      dataUserCodeOfConductCompleted\n+      trainingCompleted, quickTour, videoId, twoFactorAuthCompleted,\n+      dataUserCodeOfConductCompleted, quickTourResourceOffset\n     } = this.state;\n+    const limit = this.quickTourResourcesDiv ? Math.floor(this.quickTourResourcesDiv.offsetWidth * 0.97 / 276) : 5;\n \n     const quickTourResources = [\n       {\n         src: '/assets/images/QT-thumbnail.svg',\n         onClick: () => this.setState({quickTour: true})\n       }, {\n-        src: '/assets/images/cohorts-thumbnail.png',\n-        onClick: () => this.openVideo('/assets/videos/Workbench Tutorial - Cohorts.mp4')\n+        src: '/assets/images/intro-workbench.png',\n+        onClick: () => this.openVideo('nqnOvOpnRLE')", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAzMDA5MQ=="}, "originalCommit": {"oid": "9239a9d46b7170dc50d648f5130922d2e2f2ce8f"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYzNzI1NQ==", "bodyText": "I would personally set the id to a constant above, and then put that exact comment about YouTube video ids above it (literally I'd just copy word for word)", "url": "https://github.com/all-of-us/workbench/pull/3411#discussion_r409637255", "createdAt": "2020-04-16T15:14:01Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/pages/homepage/homepage.tsx", "diffHunk": "@@ -231,28 +236,38 @@ export const Homepage = withUserProfile()(class extends React.Component<Props, S\n     });\n   }\n \n-  openVideo(videoLink: string): void {\n-    this.setState({videoOpen: true, videoLink: videoLink});\n+  openVideo(videoId: string): void {\n+    this.setState({videoOpen: true, videoId: videoId});\n   }\n \n \n   render() {\n     const {betaAccessGranted, videoOpen, accessTasksLoaded, accessTasksRemaining,\n       eraCommonsError, eraCommonsLinked, eraCommonsLoading, firstVisitTraining,\n-      trainingCompleted, quickTour, videoLink, twoFactorAuthCompleted,\n-      dataUserCodeOfConductCompleted\n+      trainingCompleted, quickTour, videoId, twoFactorAuthCompleted,\n+      dataUserCodeOfConductCompleted, quickTourResourceOffset\n     } = this.state;\n+    const limit = this.quickTourResourcesDiv ? Math.floor(this.quickTourResourcesDiv.offsetWidth * 0.97 / 276) : 5;\n \n     const quickTourResources = [\n       {\n         src: '/assets/images/QT-thumbnail.svg',\n         onClick: () => this.setState({quickTour: true})\n       }, {\n-        src: '/assets/images/cohorts-thumbnail.png',\n-        onClick: () => this.openVideo('/assets/videos/Workbench Tutorial - Cohorts.mp4')\n+        src: '/assets/images/intro-workbench.png',\n+        onClick: () => this.openVideo('nqnOvOpnRLE')", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAzMDA5MQ=="}, "originalCommit": {"oid": "9239a9d46b7170dc50d648f5130922d2e2f2ce8f"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTg4Mzk2OA==", "bodyText": "Added a comment above. Not sure what you mean about setting the id to a constant.", "url": "https://github.com/all-of-us/workbench/pull/3411#discussion_r409883968", "createdAt": "2020-04-16T22:25:27Z", "author": {"login": "dolbeew"}, "path": "ui/src/app/pages/homepage/homepage.tsx", "diffHunk": "@@ -231,28 +236,38 @@ export const Homepage = withUserProfile()(class extends React.Component<Props, S\n     });\n   }\n \n-  openVideo(videoLink: string): void {\n-    this.setState({videoOpen: true, videoLink: videoLink});\n+  openVideo(videoId: string): void {\n+    this.setState({videoOpen: true, videoId: videoId});\n   }\n \n \n   render() {\n     const {betaAccessGranted, videoOpen, accessTasksLoaded, accessTasksRemaining,\n       eraCommonsError, eraCommonsLinked, eraCommonsLoading, firstVisitTraining,\n-      trainingCompleted, quickTour, videoLink, twoFactorAuthCompleted,\n-      dataUserCodeOfConductCompleted\n+      trainingCompleted, quickTour, videoId, twoFactorAuthCompleted,\n+      dataUserCodeOfConductCompleted, quickTourResourceOffset\n     } = this.state;\n+    const limit = this.quickTourResourcesDiv ? Math.floor(this.quickTourResourcesDiv.offsetWidth * 0.97 / 276) : 5;\n \n     const quickTourResources = [\n       {\n         src: '/assets/images/QT-thumbnail.svg',\n         onClick: () => this.setState({quickTour: true})\n       }, {\n-        src: '/assets/images/cohorts-thumbnail.png',\n-        onClick: () => this.openVideo('/assets/videos/Workbench Tutorial - Cohorts.mp4')\n+        src: '/assets/images/intro-workbench.png',\n+        onClick: () => this.openVideo('nqnOvOpnRLE')", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAzMDA5MQ=="}, "originalCommit": {"oid": "9239a9d46b7170dc50d648f5130922d2e2f2ce8f"}, "originalPosition": 80}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2963, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}