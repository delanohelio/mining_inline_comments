{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1MTkxNjMx", "number": 4086, "title": "[RW-5665][risk=no] Puppeteer snowman menu change", "bodyText": "snowman is UI component in AoU workbench UI, thus ellipsis-menu is renamed to snowman-menu. Changed phrase `menuitem\nReplaced occurrences of ellipsis string with snowman.", "createdAt": "2020-09-30T00:55:37Z", "url": "https://github.com/all-of-us/workbench/pull/4086", "merged": true, "mergeCommit": {"oid": "bf163722822b2bf3c516324bb82d4ad8e38ae0ca"}, "closed": true, "closedAt": "2020-09-30T20:58:07Z", "author": {"login": "aweng98"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdN8u_igH2gAyNDk1MTkxNjMxOjBmZDFiYWI4ZjRkMzljMWQzZTE4MTFiYWM3MDNhYzA3MGNiOWY1MjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOC4iEAH2gAyNDk1MTkxNjMxOjQ2ZjJlMzczNTYyN2NhODgwMzIxM2IxN2MwN2U3ZjcxZjkzN2EwNzU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0fd1bab8f4d39c1d3e1811bac703ac070cb9f520", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/0fd1bab8f4d39c1d3e1811bac703ac070cb9f520", "committedDate": "2020-09-30T13:23:53Z", "message": "ellipsis menu refactor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4abfe8fc86dec88137b79e3d049b44d2eff6bf81", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/4abfe8fc86dec88137b79e3d049b44d2eff6bf81", "committedDate": "2020-09-30T13:22:47Z", "message": "change menuitem to option"}, "afterCommit": {"oid": "0fd1bab8f4d39c1d3e1811bac703ac070cb9f520", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/0fd1bab8f4d39c1d3e1811bac703ac070cb9f520", "committedDate": "2020-09-30T13:23:53Z", "message": "ellipsis menu refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0bd3f3846eebdaf8ec32721ea301afdaa83372ca", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/0bd3f3846eebdaf8ec32721ea301afdaa83372ca", "committedDate": "2020-09-30T13:33:47Z", "message": "comments update"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NDk1OTg0", "url": "https://github.com/all-of-us/workbench/pull/4086#pullrequestreview-499495984", "createdAt": "2020-09-30T14:31:18Z", "commit": {"oid": "0bd3f3846eebdaf8ec32721ea301afdaa83372ca"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNDozMToxOFrOHagg2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNDo0NDowN1rOHahIYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzU1NzcyMQ==", "bodyText": "How come this string is duplicated everywhere instead of living in snowman-menu.ts?", "url": "https://github.com/all-of-us/workbench/pull/4086#discussion_r497557721", "createdAt": "2020-09-30T14:31:18Z", "author": {"login": "als364"}, "path": "e2e/app/component/card-base.ts", "diffHunk": "@@ -1,26 +1,36 @@\n import {ElementHandle, Page} from 'puppeteer';\n-import {EllipsisMenuAction} from 'app/text-labels';\n-import EllipsisMenu from './ellipsis-menu';\n+import {Option} from 'app/text-labels';\n+import Container from 'app/container';\n+import SnowmanMenu from './snowman-menu';\n \n \n-export default abstract class CardBase {\n+export default abstract class CardBase extends Container {\n \n-  ellipsisXpath = './/clr-icon[@shape=\"ellipsis-vertical\"]';\n+  private snowmanIconXpath = './/clr-icon[@shape=\"ellipsis-vertical\"]';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bd3f3846eebdaf8ec32721ea301afdaa83372ca"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzU2MTQ4Nw==", "bodyText": "how come you're accessing this this way instead of the usual way of looking for the ellipsis icon?", "url": "https://github.com/all-of-us/workbench/pull/4086#discussion_r497561487", "createdAt": "2020-09-30T14:36:10Z", "author": {"login": "als364"}, "path": "e2e/app/page/workspace-base.ts", "diffHunk": "@@ -222,20 +222,22 @@ export default abstract class WorkspaceBase extends AuthenticatedPage {\n   }\n \n   /**\n-   * Select Workspace action dropdown menu option.\n-   * @param {EllipsisMenuAction} menuOption\n+   * Select Workspace action snowman menu option.\n+   * @param {Option} option\n    * @param opts\n    */\n-  async selectWorkspaceAction(menuOption: EllipsisMenuAction, opts?: { waitForNav: false }): Promise<void> {\n-    const ellipsisMenu = new EllipsisMenu(this.page, './/*[@data-test-id=\"workspace-menu-button\"]');\n-    return ellipsisMenu.clickAction(menuOption, opts);\n+  async selectWorkspaceAction(option: Option, opts?: { waitForNav: false }): Promise<void> {\n+    const iconXpath = './/*[@data-test-id=\"workspace-menu-button\"]';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bd3f3846eebdaf8ec32721ea301afdaa83372ca"}, "originalPosition": 87}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzU2MTk5Nw==", "bodyText": "This doesn't seem related to the ellipsis -> snowman renaming.", "url": "https://github.com/all-of-us/workbench/pull/4086#discussion_r497561997", "createdAt": "2020-09-30T14:36:51Z", "author": {"login": "als364"}, "path": "e2e/tests/conceptsets/conceptset-edit.spec.ts", "diffHunk": "@@ -19,13 +19,13 @@ describe('Editing and Copying Concept Sets', () => {\n \n   /**\n    * Test:\n-   * - Create new workspace.\n+   * - Find an existing workspace.\n    * - Create first new Concept Set in Procedure domain.\n    * - Create second new Concept Set in Procedure domain. Add to first Concept Set.\n    */\n   test('Add to existing Concept Set in same workspace', async () => {\n     // Create a workspace\n-    const workspaceName = await findWorkspace(page, {create: true}).then(card => card.clickWorkspaceName());\n+    const workspaceName = await findWorkspace(page).then(card => card.clickWorkspaceName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bd3f3846eebdaf8ec32721ea301afdaa83372ca"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzU2Nzg0MQ==", "bodyText": "Why are you disabling this instead of making the code conform with this rule?", "url": "https://github.com/all-of-us/workbench/pull/4086#discussion_r497567841", "createdAt": "2020-09-30T14:44:07Z", "author": {"login": "als364"}, "path": "e2e/tslint.json", "diffHunk": "@@ -46,6 +46,9 @@\n     \"no-consecutive-blank-lines\": [\n       true,\n       2\n+    ],\n+    \"triple-equals\": [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bd3f3846eebdaf8ec32721ea301afdaa83372ca"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2c0bd82d0726afa95c1a3abaebbc792d71424fc", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/c2c0bd82d0726afa95c1a3abaebbc792d71424fc", "committedDate": "2020-09-30T19:49:26Z", "message": "PR feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff7c21c0d653c8ad7a507bc76d2e600e206bd1b0", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/ff7c21c0d653c8ad7a507bc76d2e600e206bd1b0", "committedDate": "2020-09-30T19:53:59Z", "message": "PR feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NzY0NTk5", "url": "https://github.com/all-of-us/workbench/pull/4086#pullrequestreview-499764599", "createdAt": "2020-09-30T19:56:47Z", "commit": {"oid": "ff7c21c0d653c8ad7a507bc76d2e600e206bd1b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5e2ba60b8b416a728c9ef0ccfdf85c368e57fdc", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/d5e2ba60b8b416a728c9ef0ccfdf85c368e57fdc", "committedDate": "2020-09-30T20:08:19Z", "message": "fixed error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46f2e3735627ca8803213b17c07e7f71f937a075", "author": {"user": {"login": "aweng98", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/46f2e3735627ca8803213b17c07e7f71f937a075", "committedDate": "2020-09-30T20:33:44Z", "message": "missing semi"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4135, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}