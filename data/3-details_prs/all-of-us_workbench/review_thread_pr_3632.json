{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2MTc0NzI1", "number": 3632, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNDo0MDoyM1rOEBxr2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNDo0OToyNlrOEBx7dA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwMjk4MDc1OnYy", "diffSide": "RIGHT", "path": "ui/src/app/app-routing.module.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNDo0MDoyM1rOGd08MA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNDo1NzoxNlrOGd1tZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkyOTI2NA==", "bodyText": "why \"Sign In\" ?", "url": "https://github.com/all-of-us/workbench/pull/3632#discussion_r433929264", "createdAt": "2020-06-02T14:40:23Z", "author": {"login": "jmthibault79"}, "path": "ui/src/app/app-routing.module.ts", "diffHunk": "@@ -346,6 +341,10 @@ const routes: Routes = [\n         data: {title: 'Create Workspace', mode: WorkspaceEditMode.Create}\n       }\n     ]\n+  }, {\n+    path: '**',\n+    component: AppRouting,\n+    data: {title: 'Sign In'}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7dd4ff98b046879a9d0f47a776d0980b7798292d"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzk0MTg2Mw==", "bodyText": "I left this in accidentally - removed - thanks!", "url": "https://github.com/all-of-us/workbench/pull/3632#discussion_r433941863", "createdAt": "2020-06-02T14:57:16Z", "author": {"login": "petesantos"}, "path": "ui/src/app/app-routing.module.ts", "diffHunk": "@@ -346,6 +341,10 @@ const routes: Routes = [\n         data: {title: 'Create Workspace', mode: WorkspaceEditMode.Create}\n       }\n     ]\n+  }, {\n+    path: '**',\n+    component: AppRouting,\n+    data: {title: 'Sign In'}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkyOTI2NA=="}, "originalCommit": {"oid": "7dd4ff98b046879a9d0f47a776d0980b7798292d"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwMzAyMDY4OnYy", "diffSide": "RIGHT", "path": "ui/src/app/components/app-router.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNDo0OToyNlrOGd1WWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNDo1ODoxNVrOGd1wYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkzNTk2MQ==", "bodyText": "can children be more strongly typed here?  Fragment[] perhaps?", "url": "https://github.com/all-of-us/workbench/pull/3632#discussion_r433935961", "createdAt": "2020-06-02T14:49:26Z", "author": {"login": "jmthibault79"}, "path": "ui/src/app/components/app-router.tsx", "diffHunk": "@@ -0,0 +1,46 @@\n+import * as fp from 'lodash/fp';\n+import * as React from 'react';\n+import { BrowserRouter, Link, Redirect, Route, Switch, useHistory, useLocation, useParams, useRouteMatch} from 'react-router-dom';\n+\n+const {Fragment} = React;\n+\n+interface Guards {\n+  [index: number]: {\n+    checkGuard: () => boolean;\n+    redirectPath: string;\n+  };\n+}\n+\n+export const usePath = () => {\n+  const {path} = useRouteMatch();\n+  return path;\n+};\n+\n+export const SubRoute = ({children}): React.ReactElement => <Switch>{children}</Switch>;\n+export const AppRouter = ({children}): React.ReactElement => <BrowserRouter><SubRoute>{children}</SubRoute></BrowserRouter>;\n+\n+export const RouteLink = ({path, style = {}, children}): React.ReactElement => <Link style={{...style}} to={path}>{children}</Link>;\n+\n+export const AppRoute = ({path, data = {}, component: Component}): React.ReactElement => {\n+  const routeParams = useParams();\n+  const routeHistory = useHistory();\n+\n+  return <Route path={path} >\n+    <Component urlParams={routeParams} routeHistory={routeHistory} routeConfig={data}/>\n+  </Route>;\n+};\n+\n+export const ProtectedRoutes = (\n+  {path, guards, children}: {path: string, guards: Guards, children: any[] }): React.ReactElement => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7dd4ff98b046879a9d0f47a776d0980b7798292d"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzk0MjYyNg==", "bodyText": "I did mean to update this - I set it to React.ReactNode. That should cover any type of child that react accepts", "url": "https://github.com/all-of-us/workbench/pull/3632#discussion_r433942626", "createdAt": "2020-06-02T14:58:15Z", "author": {"login": "petesantos"}, "path": "ui/src/app/components/app-router.tsx", "diffHunk": "@@ -0,0 +1,46 @@\n+import * as fp from 'lodash/fp';\n+import * as React from 'react';\n+import { BrowserRouter, Link, Redirect, Route, Switch, useHistory, useLocation, useParams, useRouteMatch} from 'react-router-dom';\n+\n+const {Fragment} = React;\n+\n+interface Guards {\n+  [index: number]: {\n+    checkGuard: () => boolean;\n+    redirectPath: string;\n+  };\n+}\n+\n+export const usePath = () => {\n+  const {path} = useRouteMatch();\n+  return path;\n+};\n+\n+export const SubRoute = ({children}): React.ReactElement => <Switch>{children}</Switch>;\n+export const AppRouter = ({children}): React.ReactElement => <BrowserRouter><SubRoute>{children}</SubRoute></BrowserRouter>;\n+\n+export const RouteLink = ({path, style = {}, children}): React.ReactElement => <Link style={{...style}} to={path}>{children}</Link>;\n+\n+export const AppRoute = ({path, data = {}, component: Component}): React.ReactElement => {\n+  const routeParams = useParams();\n+  const routeHistory = useHistory();\n+\n+  return <Route path={path} >\n+    <Component urlParams={routeParams} routeHistory={routeHistory} routeConfig={data}/>\n+  </Route>;\n+};\n+\n+export const ProtectedRoutes = (\n+  {path, guards, children}: {path: string, guards: Guards, children: any[] }): React.ReactElement => {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkzNTk2MQ=="}, "originalCommit": {"oid": "7dd4ff98b046879a9d0f47a776d0980b7798292d"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2754, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}