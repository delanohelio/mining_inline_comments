{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyODM0NzE4", "number": 3389, "title": "[RW-4723][Risk=no] Fix eRA commons linking", "bodyText": "Description:\nThis fixes the eRA commons redirect to follow up by setting the task to completed. In doing this, I realized there was a loading step, so I added a loading spinner to the button. I talked to Lou about the styling on that, and we decided to move all the icons to the right of the button, because if the spinner was on the left, it would push the text when it appeared. The button is disabled but still primary while loading per Lou's request. This has been confirmed with Karthik\nHere is a screenshot while loading:\n\n\nPR checklist\n\n This PR meets the Acceptance Criteria in the JIRA story\n The JIRA story has been moved to Dev Review\n This PR includes appropriate unit tests\n I have run and tested this change locally\n If this includes an API change, I have updated the appropriate Swagger definitions and notified API consumers\n If this includes a new feature flag, I have created and linked new JIRA tickets to (a) turn on the feature flag and (b) remove it later", "createdAt": "2020-04-13T20:50:16Z", "url": "https://github.com/all-of-us/workbench/pull/3389", "merged": true, "mergeCommit": {"oid": "beb30c76528c759601498de4f42fb5757d2995f6"}, "closed": true, "closedAt": "2020-04-14T14:29:57Z", "author": {"login": "s-rubenstein"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXVMObAH2gAyNDAyODM0NzE4OjIzYzhhMzk0YjQ4ZWRlNjg0NDQ2ZTQzN2FmOTEzZWExMDk4YjdkZjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXjx9NgH2gAyNDAyODM0NzE4Ojc5YzYwYzQwYTNkNWJiMDA5MTQ3YmM5ZjM4YzFkZTM5N2NjZDczM2U=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "23c8a394b48ede684446e437af913ea1098b7df9", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/23c8a394b48ede684446e437af913ea1098b7df9", "committedDate": "2020-04-13T20:47:42Z", "message": "[RW-4723][Risk=no] Fix eRA commons linking"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNDMyMzAy", "url": "https://github.com/all-of-us/workbench/pull/3389#pullrequestreview-392432302", "createdAt": "2020-04-13T20:54:48Z", "commit": {"oid": "23c8a394b48ede684446e437af913ea1098b7df9"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMDo1NDo0OFrOGE0-HQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMDo1Njo1MlrOGE1CBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzcxNTM1Nw==", "bodyText": "Thanks for breaking this out.", "url": "https://github.com/all-of-us/workbench/pull/3389#discussion_r407715357", "createdAt": "2020-04-13T20:54:48Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/homepage/homepage.tsx", "diffHunk": "@@ -65,27 +65,36 @@ export const styles = reactStyles({\n   },\n });\n \n-export const Homepage = withUserProfile()(class extends React.Component<\n-  { profileState: { profile: Profile, reload: Function } },\n-  { accessTasksLoaded: boolean,\n-    accessTasksRemaining: boolean,\n-    betaAccessGranted: boolean,\n-    dataUserCodeOfConductCompleted: boolean,\n-    eraCommonsError: string,\n-    eraCommonsLinked: boolean,\n-    firstVisit: boolean,\n-    firstVisitTraining: boolean,\n-    quickTour: boolean,\n-    trainingCompleted: boolean,\n-    twoFactorAuthCompleted: boolean,\n-    videoOpen: boolean,\n-    videoLink: string,\n-    userHasWorkspaces: boolean | null\n-  }> {\n+interface Props {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23c8a394b48ede684446e437af913ea1098b7df9"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzcxNjMxMg==", "bodyText": "extraneous", "url": "https://github.com/all-of-us/workbench/pull/3389#discussion_r407716312", "createdAt": "2020-04-13T20:56:48Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/homepage/homepage.tsx", "diffHunk": "@@ -109,6 +119,7 @@ export const Homepage = withUserProfile()(class extends React.Component<\n     this.checkWorkspaces();\n     this.validateNihToken();\n     this.callProfile();\n+    console.log('component did mount');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23c8a394b48ede684446e437af913ea1098b7df9"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzcxNjM1OQ==", "bodyText": "extraneous", "url": "https://github.com/all-of-us/workbench/pull/3389#discussion_r407716359", "createdAt": "2020-04-13T20:56:52Z", "author": {"login": "als364"}, "path": "ui/src/app/pages/homepage/homepage.tsx", "diffHunk": "@@ -124,9 +135,14 @@ export const Homepage = withUserProfile()(class extends React.Component<\n \n   async validateNihToken() {\n     const token = (new URL(window.location.href)).searchParams.get('token');\n+    console.log(token);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23c8a394b48ede684446e437af913ea1098b7df9"}, "originalPosition": 75}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c1692f21bf48344c57b2896f943659bd7b1bb06", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/2c1692f21bf48344c57b2896f943659bd7b1bb06", "committedDate": "2020-04-14T13:36:13Z", "message": "remove console logs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f6e1c39d6334b03b58ac191b819a69dd048865a", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/8f6e1c39d6334b03b58ac191b819a69dd048865a", "committedDate": "2020-04-14T13:39:03Z", "message": "Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79c60c40a3d5bb009147bc9f38c1de397ccd733e", "author": {"user": {"login": "s-rubenstein", "name": "Sky Rubenstein"}}, "url": "https://github.com/all-of-us/workbench/commit/79c60c40a3d5bb009147bc9f38c1de397ccd733e", "committedDate": "2020-04-14T13:47:35Z", "message": "Fix loading"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3157, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}