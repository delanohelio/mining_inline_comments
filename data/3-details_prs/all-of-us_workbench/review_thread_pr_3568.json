{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2NDA2NDYw", "number": 3568, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMzoyNjozNVrOD8RVPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMzoyNjozNVrOD8RVPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NTI1MTE3OnYy", "diffSide": "RIGHT", "path": "api/libproject/devstart.rb", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMzoyNjozNVrOGVG8ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMzozNjo0NlrOGVHIog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc4NzA1MA==", "bodyText": "So this is just another entry point to what we aleready have, which makes sense.\nOne confusing thing is that this always runs a had-coded create_db.sql script. Which makes it feel like a wart in some ways. It's also scary to run something called create_workbench_db when you're just doing an update.", "url": "https://github.com/all-of-us/workbench/pull/3568#discussion_r424787050", "createdAt": "2020-05-13T23:26:35Z", "author": {"login": "jaycarlton"}, "path": "api/libproject/devstart.rb", "diffHunk": "@@ -2221,6 +2221,25 @@ def create_workbench_db()\n   )\n end\n \n+def create_or_update_workbench_db(cmd_name, args)\n+  ensure_docker cmd_name, args\n+  with_cloud_proxy_and_db_env(cmd_name, args) do |ctx|\n+    create_workbench_db", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c77dcd6754b6f2fe435c7dcbb44eb5336b07f490"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc5MDE3OA==", "bodyText": "Fair point on naming, renamed.\nThe choice for SQL and XML templates in our dev tooling is to use env substitution. For better or worse, that is the convention. I've added some comments to make the implicit parameterization that's happening here hopefully more clear.", "url": "https://github.com/all-of-us/workbench/pull/3568#discussion_r424790178", "createdAt": "2020-05-13T23:36:46Z", "author": {"login": "calbach"}, "path": "api/libproject/devstart.rb", "diffHunk": "@@ -2221,6 +2221,25 @@ def create_workbench_db()\n   )\n end\n \n+def create_or_update_workbench_db(cmd_name, args)\n+  ensure_docker cmd_name, args\n+  with_cloud_proxy_and_db_env(cmd_name, args) do |ctx|\n+    create_workbench_db", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc4NzA1MA=="}, "originalCommit": {"oid": "c77dcd6754b6f2fe435c7dcbb44eb5336b07f490"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2908, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}