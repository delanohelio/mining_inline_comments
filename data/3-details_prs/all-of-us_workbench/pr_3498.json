{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwNDY3NDg1", "number": 3498, "title": "[RW-4793][risk=no] Fix disable user CLI", "bodyText": "Update bit-rotted API URL reference, this was the primary regression\nMake the arguments all required (usability issue)\nRename the command and update docs to be more accurate\n\nFuture work, not included here:\n\nThis CLI still suffers from not telling you which required flag you forgot (a general issue with all our commands). I don't attempt to solve that here.\nThe command leaves you signed in as your admin email account. This is not ideal, but probably needs broader changes\n\nExample usage:\n./project.rb update-user-disabled-status --project all-of-us-workbench-test --account calbach@fake-research-aou.org --user calbach2@fake-research-aou.org --disabled true", "createdAt": "2020-04-29T03:23:19Z", "url": "https://github.com/all-of-us/workbench/pull/3498", "merged": true, "mergeCommit": {"oid": "2424a5f68c0183b0561c5e07fa87532fbe5caca4"}, "closed": true, "closedAt": "2020-04-29T23:26:47Z", "author": {"login": "calbach"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccPv_CgH2gAyNDEwNDY3NDg1OmZhNTIyMzUwMDRhM2YxYTM0OWJjODlmMzVjYTIwNjM3N2ZmNmE3MzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccb2sGAH2gAyNDEwNDY3NDg1OjhlOWE4ZDMxZGM4YjdmYWNlNDc0ODQ2NWY5MWM3MzdmMzIwODUyY2Q=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fa52235004a3f1a349bc89f35ca206377ff6a731", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/fa52235004a3f1a349bc89f35ca206377ff6a731", "committedDate": "2020-04-29T03:16:57Z", "message": "Fix disable user CLI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b258a1c7b28b81a5d29d6de02b649312c63c9e7", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/4b258a1c7b28b81a5d29d6de02b649312c63c9e7", "committedDate": "2020-04-29T03:27:17Z", "message": "rename"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e8c53b836f70426e9ea602db56e8f3956d3b13ea", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/e8c53b836f70426e9ea602db56e8f3956d3b13ea", "committedDate": "2020-04-29T03:26:12Z", "message": "rename"}, "afterCommit": {"oid": "4b258a1c7b28b81a5d29d6de02b649312c63c9e7", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/4b258a1c7b28b81a5d29d6de02b649312c63c9e7", "committedDate": "2020-04-29T03:27:17Z", "message": "rename"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNzkwMTc2", "url": "https://github.com/all-of-us/workbench/pull/3498#pullrequestreview-402790176", "createdAt": "2020-04-29T15:35:55Z", "commit": {"oid": "4b258a1c7b28b81a5d29d6de02b649312c63c9e7"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNTozNTo1NVrOGOEyrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNTozNTo1NVrOGOEyrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQxMTc1OA==", "bodyText": "Argh! This must have been the thing missing from the command that the script didn't tell us about. Didn't think to pull the script's help in the middle of the night.", "url": "https://github.com/all-of-us/workbench/pull/3498#discussion_r417411758", "createdAt": "2020-04-29T15:35:55Z", "author": {"login": "als364"}, "path": "api/libproject/devstart.rb", "diffHunk": "@@ -1261,48 +1261,49 @@ def backfill_billing_project_owners(cmd_name, *args)\n     :fn => ->(*args) {backfill_billing_project_owners(\"backfill-billing-project-owners\", *args)}\n })\n \n-def update_user_registered_status(cmd_name, args)\n+def update_user_disabled_status(cmd_name, args)\n   common = Common.new\n   op = WbOptionsParser.new(cmd_name, args)\n   op.add_option(\n     \"--project [project]\",\n     ->(opts, v) { opts.project = v},\n-    \"Project to update registered status for\"\n+    \"Project to update disabled status for\"\n   )\n   op.add_option(\n     \"--disabled [disabled]\",\n     ->(opts, v) { opts.disabled = v},\n-    \"Disabled state to set: true/false.\"\n+    \"Disabled state to set: true/false\"\n   )\n   op.add_option(\n-    \"--account [account]\",\n+    \"--account [admin_account_email]\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b258a1c7b28b81a5d29d6de02b649312c63c9e7"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b12b9971004a22083f5bfaeb565b92c3123297b4", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/b12b9971004a22083f5bfaeb565b92c3123297b4", "committedDate": "2020-04-29T17:19:40Z", "message": "command description"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e9a8d31dc8b7face4748465f91c737f320852cd", "author": {"user": {"login": "calbach", "name": "CH Albach"}}, "url": "https://github.com/all-of-us/workbench/commit/8e9a8d31dc8b7face4748465f91c737f320852cd", "committedDate": "2020-04-29T17:23:08Z", "message": "newline"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4909, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}