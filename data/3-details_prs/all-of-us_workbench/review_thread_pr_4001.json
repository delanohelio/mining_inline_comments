{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2ODIwNDUw", "number": 4001, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxOToxMTo0NlrOEjRxzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxOToxMjozMVrOEjRzAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NDI2ODk1OnYy", "diffSide": "RIGHT", "path": "e2e/app/page/workspace-base.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxOToxMTo0NlrOHRi_Mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxOToxMTo0NlrOHRi_Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE2MTA3NQ==", "bodyText": "Why return the new name if we're passing it in to begin with?", "url": "https://github.com/all-of-us/workbench/pull/4001#discussion_r488161075", "createdAt": "2020-09-14T19:11:46Z", "author": {"login": "jaycarlton"}, "path": "e2e/app/page/workspace-base.ts", "diffHunk": "@@ -141,4 +146,69 @@ export default abstract class WorkspaceBase extends AuthenticatedPage {\n     return modalTextContent;\n   }\n \n+  /**\n+   * Rename Notebook, Concept Set, Dataset or Cohorts thru the Ellipsis menu located inside the Dataset Resource card.\n+   * @param {string} resourceName\n+   * @param {string} newResourceName", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97d1909d6c0f7381db35948f44b59b392291a876"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NDI3MjAyOnYy", "diffSide": "RIGHT", "path": "e2e/app/page/workspace-base.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxOToxMjozMVrOHRjA-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxOToxMjozMVrOHRjA-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE2MTUzMA==", "bodyText": "can this just be a map?", "url": "https://github.com/all-of-us/workbench/pull/4001#discussion_r488161530", "createdAt": "2020-09-14T19:12:31Z", "author": {"login": "jaycarlton"}, "path": "e2e/app/page/workspace-base.ts", "diffHunk": "@@ -141,4 +146,69 @@ export default abstract class WorkspaceBase extends AuthenticatedPage {\n     return modalTextContent;\n   }\n \n+  /**\n+   * Rename Notebook, Concept Set, Dataset or Cohorts thru the Ellipsis menu located inside the Dataset Resource card.\n+   * @param {string} resourceName\n+   * @param {string} newResourceName\n+   */\n+  async renameResource(resourceName: string, newResourceName: string, resourceType: ResourceCard): Promise<string[]> {\n+    // Find the Data resource card that match the resource name.\n+    const resourceCard = new DataResourceCard(this.page);\n+    const card = await resourceCard.findCard(resourceName, resourceType);\n+    if (!card) {\n+      throw new Error(`Failed to find ${resourceType} card \"${resourceName}\"`);\n+    }\n+\n+    let menuLink: EllipsisMenuAction;\n+    switch (resourceType) {\n+      case ResourceCard.Dataset:\n+        menuLink = EllipsisMenuAction.RenameDataset;\n+        break;\n+      default:\n+        menuLink = EllipsisMenuAction.Rename;\n+        break;\n+    }\n+    await card.clickEllipsisAction(menuLink, {waitForNav: false});\n+\n+    const modal = new Modal(this.page);\n+    await modal.waitForLoad();\n+\n+    const modalTextContents = await modal.getTextContent();\n+\n+    // Type new name.\n+    const newNameTextbox = new Textbox(this.page, `${modal.getXpath()}//*[@id=\"new-name\"]`);\n+    await newNameTextbox.type(newResourceName);\n+\n+    // Type description.\n+    const descriptionTextarea = await Textarea.findByName(this.page, {containsText: 'Description:'}, modal);\n+    await descriptionTextarea.type(`Puppeteer automation test. Rename ${resourceName}.`);\n+\n+    let buttonLink;\n+    switch (resourceType) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97d1909d6c0f7381db35948f44b59b392291a876"}, "originalPosition": 79}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4074, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}