{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2ODY4NTU5", "number": 3243, "title": "[no ticket][risk=no] dev tool inventory", "bodyText": "Given a manifest file in YAML, this tool will scan the host system to determine the versions of all the tools listed. Output is written to another YAML file.\nThe reason for the manifest file is so that other projects can set their own tool list.\nAfter everyone runs this, we can decide on minimum versions and add logic to report stale versions (or at least just show them side-by-side if version math gets too tricky)\nOutput file for my machine is here.\nSecurity Note: this script blithely runs all the commands in the input file with the flags provided, so if you put in rm with a flag of -rf /, you're gonna have a bad time. So if somebody in a trenchcoat gives you a USB drive with a YAML file, make sure you're using someone else's computer.\nThings I learned:\n\nirb (the Ruby REPL) is really nice for debugging regexen. You can just build your regex, test it, and call to_s for a string that you can persist.\nYAML actually has its uses, for example in displaying. multiline text. It's a good output format at least...\nNamed regex capture groups in Ruby are pretty nice\nYou can convert a script with hard-coded inputs into an input file for a better script pretty easily by simply writing. to a new stack of hashes and dumping to YAML.\n\n\nPR checklist\n\n This PR meets the Acceptance Criteria in the JIRA story\n The JIRA story has been moved to Dev Review\n This PR includes appropriate unit tests\n I have run and tested this change locally\n If this includes an API change, I have updated the appropriate Swagger definitions and notified API consumers\n If this includes a new feature flag, I have created and linked new JIRA tickets to (a) turn on the feature flag and (b) remove it later", "createdAt": "2020-03-11T19:04:06Z", "url": "https://github.com/all-of-us/workbench/pull/3243", "merged": true, "mergeCommit": {"oid": "abaab57c3a442a54b0bce739c10c077a488f464c"}, "closed": true, "closedAt": "2020-03-12T22:37:52Z", "author": {"login": "jaycarlton"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMr1nLgH2gAyMzg2ODY4NTU5OjMzMmZmNjdkODg0MGMwMzY3OTQ4YmJkODdmNTkyZTIzODkyYjRkOGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcNDbEpgH2gAyMzg2ODY4NTU5OjcwZjJhMDBhM2JkMThhNzQ5ZDliMGFjNGNiZTUzZDg1ZmY1YjdkZDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "332ff67d8840c0367948bbd87f592e23892b4d8a", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/332ff67d8840c0367948bbd87f592e23892b4d8a", "committedDate": "2020-03-11T18:57:39Z", "message": "most of teh rest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2a177dd7c92b07f43b55a96af4369f70c9fa411", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/b2a177dd7c92b07f43b55a96af4369f70c9fa411", "committedDate": "2020-03-12T00:16:26Z", "message": "add path and a place for the short version (as extracted)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b094e8a370c6b9e6b99e0ff168b8af6239d85f3", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/4b094e8a370c6b9e6b99e0ff168b8af6239d85f3", "committedDate": "2020-03-12T01:35:00Z", "message": "regex extractor for version number"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2a7ecc478623bbb977d9404f850cb817c0d20df", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/a2a7ecc478623bbb977d9404f850cb817c0d20df", "committedDate": "2020-03-12T15:37:59Z", "message": "start splitting out manifest  into  its own input file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3d320a3a28e596dc84eb818d6b7ac40858dc0b8", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/d3d320a3a28e596dc84eb818d6b7ac40858dc0b8", "committedDate": "2020-03-12T16:51:54Z", "message": "use manifest file as input"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fa8a7180ec6f638ac0391f1bd0ff5f26bf59580", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/0fa8a7180ec6f638ac0391f1bd0ff5f26bf59580", "committedDate": "2020-03-12T17:34:39Z", "message": "added remaining regexen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b18c5c89d7ab38c7607b33481b4f20ad9a0a1f5d", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/b18c5c89d7ab38c7607b33481b4f20ad9a0a1f5d", "committedDate": "2020-03-12T17:38:41Z", "message": "cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczODAyNTc0", "url": "https://github.com/all-of-us/workbench/pull/3243#pullrequestreview-373802574", "createdAt": "2020-03-12T18:28:39Z", "commit": {"oid": "b18c5c89d7ab38c7607b33481b4f20ad9a0a1f5d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxODoyODozOVrOF1qX9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxODoyODozOVrOF1qX9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgxMzExMQ==", "bodyText": "nit: is this an unintended change? I don't see why you would want a period here.", "url": "https://github.com/all-of-us/workbench/pull/3243#discussion_r391813111", "createdAt": "2020-03-12T18:28:39Z", "author": {"login": "s-rubenstein"}, "path": "ops/ruby/devops-toolkit/devops.rb", "diffHunk": "@@ -60,7 +63,7 @@ def run_task(options)\n     LogsBasedMetrics.new(options).replicate\n   when 'list-all-service-account-keys'\n     ServiceAccounts.new(options).list_keys\n-  when 'delete-all-service-account-keys'\n+  when 'dele.te-all-service-account-keys'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b18c5c89d7ab38c7607b33481b4f20ad9a0a1f5d"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c37355bba3c53fd85cd686e79f4058f8745bf6f9", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/c37355bba3c53fd85cd686e79f4058f8745bf6f9", "committedDate": "2020-03-12T20:08:49Z", "message": "revert Norah's input"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70f2a00a3bd18a749d9b0ac4cbe53d85ff5b7dd4", "author": {"user": {"login": "jaycarlton", "name": "Jay Carlton"}}, "url": "https://github.com/all-of-us/workbench/commit/70f2a00a3bd18a749d9b0ac4cbe53d85ff5b7dd4", "committedDate": "2020-03-12T22:26:23Z", "message": "support Gradle 5.0 style string"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3455, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}