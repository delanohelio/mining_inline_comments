{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1NjcyMTgx", "number": 3230, "title": "[RW-4572][RISK=NO]Workspace Edit after accessing Workspace About page does not display all Sub category for Race and Age", "bodyText": "Workspace Edit is not displaying all the options/sub categories for RACE and AGE group  rather the one just selected, if the user selects the workspace Edit option from Workspace About page.\nSolution: Use clone object instead.\n\n\nPR checklist\n\n This PR meets the Acceptance Criteria in the JIRA story\n The JIRA story has been moved to Dev Review\n This PR includes appropriate unit tests\n I have run and tested this change locally\n If this includes an API change, I have updated the appropriate Swagger definitions and notified API consumers\n If this includes a new feature flag, I have created and linked new JIRA tickets to (a) turn on the feature flag and (b) remove it later", "createdAt": "2020-03-09T15:57:55Z", "url": "https://github.com/all-of-us/workbench/pull/3230", "merged": true, "mergeCommit": {"oid": "0079387b5e216eec063b6a217428f8117437e67f"}, "closed": true, "closedAt": "2020-03-12T15:41:14Z", "author": {"login": "NehaBroad"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMAAxagH2gAyMzg1NjcyMTgxOjM3ODAzMmQ5MTAzZDI4MDRlZWYxNmIzNTkxOGUyMjRkZmIxZDYzZGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcM9e5mAFqTM3MzY2MjI4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "378032d9103d2804eef16b35918e224dfb1d63df", "author": {"user": {"login": "NehaBroad", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/378032d9103d2804eef16b35918e224dfb1d63df", "committedDate": "2020-03-09T15:54:01Z", "message": "Fix workspace edit not showing all RACE subcateogries after accessing Workspace About page"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMzEzMTEx", "url": "https://github.com/all-of-us/workbench/pull/3230#pullrequestreview-371313111", "createdAt": "2020-03-09T16:01:17Z", "commit": {"oid": "378032d9103d2804eef16b35918e224dfb1d63df"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNjowMToxN1rOFzu2jQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNjowMToxN1rOFzu2jQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc4OTMyNQ==", "bodyText": "Why do we need to deep clone this? Now that its a filter instead of a forEach?", "url": "https://github.com/all-of-us/workbench/pull/3230#discussion_r389789325", "createdAt": "2020-03-09T16:01:17Z", "author": {"login": "s-rubenstein"}, "path": "ui/src/app/utils/research-purpose.tsx", "diffHunk": "@@ -43,9 +44,9 @@ export function getSelectedResearchPurposeItems(researchPurpose: ResearchPurpose\n }\n \n export function getSelectedPopulations(researchPurpose: ResearchPurpose) {\n-  const categories = SpecificPopulationItems.filter(specificPopulationItem => specificPopulationItem\n-    .subCategory.filter(item => researchPurpose.populationDetails.includes(item.shortName)).length > 0);\n-  categories.forEach(category => category.subCategory = category.subCategory\n+  const categories = fp.cloneDeep(SpecificPopulationItems.filter(specificPopulationItem => specificPopulationItem", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "378032d9103d2804eef16b35918e224dfb1d63df"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMzE1NjQz", "url": "https://github.com/all-of-us/workbench/pull/3230#pullrequestreview-371315643", "createdAt": "2020-03-09T16:04:16Z", "commit": {"oid": "378032d9103d2804eef16b35918e224dfb1d63df"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fca1d06a81af370699dba4dfc786e2cb6fb83548", "author": {"user": {"login": "NehaBroad", "name": null}}, "url": "https://github.com/all-of-us/workbench/commit/fca1d06a81af370699dba4dfc786e2cb6fb83548", "committedDate": "2020-03-12T15:28:24Z", "message": "test to check original object is not manipulated on workspace about page load"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczNjYyMjg4", "url": "https://github.com/all-of-us/workbench/pull/3230#pullrequestreview-373662288", "createdAt": "2020-03-12T15:31:08Z", "commit": {"oid": "fca1d06a81af370699dba4dfc786e2cb6fb83548"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3441, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}