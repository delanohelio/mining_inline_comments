{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc0NDg1NTg1", "number": 3120, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwNjowMTowOFrODfbQ4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwNjowOToyN1rODfbV7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0Mjc5MTM3OnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/workspace/workspace-wrapper/component.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwNjowMTowOFrOFpH5VA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxNTowODoxNVrOFpXZYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY2NTMwMA==", "bodyText": "nit: pull out the sidebarState value into a constant. I think we're (loosely) following the convention of using capital letters for local storage keys.\nAlso, prefixing the key value with WORKSPACE may be helpful as we're planning to add the side bar component to the notebooks page.", "url": "https://github.com/all-of-us/workbench/pull/3120#discussion_r378665300", "createdAt": "2020-02-13T06:01:08Z", "author": {"login": "ericsong"}, "path": "ui/src/app/pages/workspace/workspace-wrapper/component.ts", "diffHunk": "@@ -58,6 +58,12 @@ export class WorkspaceWrapperComponent implements OnInit, OnDestroy {\n   }\n \n   ngOnInit(): void {\n+    if (!!localStorage.getItem('sidebarState')) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39b20b24a9633926269026b45b074690c1be7858"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODkxOTI2Ng==", "bodyText": "Okay, now I see this convention used in the signed-in component also. Fixed.", "url": "https://github.com/all-of-us/workbench/pull/3120#discussion_r378919266", "createdAt": "2020-02-13T15:08:15Z", "author": {"login": "dolbeew"}, "path": "ui/src/app/pages/workspace/workspace-wrapper/component.ts", "diffHunk": "@@ -58,6 +58,12 @@ export class WorkspaceWrapperComponent implements OnInit, OnDestroy {\n   }\n \n   ngOnInit(): void {\n+    if (!!localStorage.getItem('sidebarState')) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY2NTMwMA=="}, "originalCommit": {"oid": "39b20b24a9633926269026b45b074690c1be7858"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0Mjc5OTM1OnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/workspace/workspace-wrapper/component.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwNjowNjoxNFrOFpH-Gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxNTowOTowMlrOFpXbRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY2NjUyMg==", "bodyText": "can we use setSidebarState here?", "url": "https://github.com/all-of-us/workbench/pull/3120#discussion_r378666522", "createdAt": "2020-02-13T06:06:14Z", "author": {"login": "ericsong"}, "path": "ui/src/app/pages/workspace/workspace-wrapper/component.ts", "diffHunk": "@@ -58,6 +58,12 @@ export class WorkspaceWrapperComponent implements OnInit, OnDestroy {\n   }\n \n   ngOnInit(): void {\n+    if (!!localStorage.getItem('sidebarState')) {\n+      this.sidebarOpen = localStorage.getItem('sidebarState') === 'open';\n+    } else {\n+      this.sidebarOpen = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39b20b24a9633926269026b45b074690c1be7858"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODkxOTc1MA==", "bodyText": "Done.", "url": "https://github.com/all-of-us/workbench/pull/3120#discussion_r378919750", "createdAt": "2020-02-13T15:09:02Z", "author": {"login": "dolbeew"}, "path": "ui/src/app/pages/workspace/workspace-wrapper/component.ts", "diffHunk": "@@ -58,6 +58,12 @@ export class WorkspaceWrapperComponent implements OnInit, OnDestroy {\n   }\n \n   ngOnInit(): void {\n+    if (!!localStorage.getItem('sidebarState')) {\n+      this.sidebarOpen = localStorage.getItem('sidebarState') === 'open';\n+    } else {\n+      this.sidebarOpen = true;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY2NjUyMg=="}, "originalCommit": {"oid": "39b20b24a9633926269026b45b074690c1be7858"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0MjgwNDI5OnYy", "diffSide": "RIGHT", "path": "ui/src/app/pages/workspace/workspace-wrapper/component.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwNjowOToyN1rOFpIBEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxNTowOTo1NFrOFpXdDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY2NzI4MQ==", "bodyText": "also here.\nnit - IMO, it's easier to maintain the syncing to localStorage if its done in a one place (the setter) and the rest of the file just uses the setter and doesn't have to worry about localStorage.", "url": "https://github.com/all-of-us/workbench/pull/3120#discussion_r378667281", "createdAt": "2020-02-13T06:09:27Z", "author": {"login": "ericsong"}, "path": "ui/src/app/pages/workspace/workspace-wrapper/component.ts", "diffHunk": "@@ -67,6 +73,7 @@ export class WorkspaceWrapperComponent implements OnInit, OnDestroy {\n           this.setHelpContent();\n           if (this.helpContent !== 'reviewParticipantDetail') {\n             this.sidebarOpen = false;\n+            localStorage.setItem('sidebarState', 'closed');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39b20b24a9633926269026b45b074690c1be7858"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODkyMDIwNQ==", "bodyText": "Agreed, much cleaner this way.", "url": "https://github.com/all-of-us/workbench/pull/3120#discussion_r378920205", "createdAt": "2020-02-13T15:09:54Z", "author": {"login": "dolbeew"}, "path": "ui/src/app/pages/workspace/workspace-wrapper/component.ts", "diffHunk": "@@ -67,6 +73,7 @@ export class WorkspaceWrapperComponent implements OnInit, OnDestroy {\n           this.setHelpContent();\n           if (this.helpContent !== 'reviewParticipantDetail') {\n             this.sidebarOpen = false;\n+            localStorage.setItem('sidebarState', 'closed');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY2NzI4MQ=="}, "originalCommit": {"oid": "39b20b24a9633926269026b45b074690c1be7858"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3319, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}