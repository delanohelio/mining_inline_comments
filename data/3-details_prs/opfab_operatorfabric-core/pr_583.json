{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNzg0NTIw", "number": 583, "title": "[OC-1203] Refactor definition of detail in bundle", "bodyText": "", "createdAt": "2020-11-19T08:58:34Z", "url": "https://github.com/opfab/operatorfabric-core/pull/583", "merged": true, "mergeCommit": {"oid": "446c41bcc95460f5da5fba6bc52e9762600f7e1f"}, "closed": true, "closedAt": "2020-11-24T10:50:24Z", "author": {"login": "quinarygio"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeU9RBgBqjQwMjAyNzE0ODY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfmdi0gBqjQwMzE3NDc0MTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2077624de56b0d65e35b639777356b9702104041", "author": {"user": {"login": "quinarygio", "name": "Giovanni Ferrari"}}, "url": "https://github.com/opfab/operatorfabric-core/commit/2077624de56b0d65e35b639777356b9702104041", "committedDate": "2020-11-19T08:30:37Z", "message": "[OC-1203] Refactor definition of detail in bundle"}, "afterCommit": {"oid": "f64445f1d10a6d06c0d13c700dfd9302ce9de502", "author": {"user": {"login": "quinarygio", "name": "Giovanni Ferrari"}}, "url": "https://github.com/opfab/operatorfabric-core/commit/f64445f1d10a6d06c0d13c700dfd9302ce9de502", "committedDate": "2020-11-20T10:39:09Z", "message": "[OC-1203] Refactor definition of detail in bundle"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f64445f1d10a6d06c0d13c700dfd9302ce9de502", "author": {"user": {"login": "quinarygio", "name": "Giovanni Ferrari"}}, "url": "https://github.com/opfab/operatorfabric-core/commit/f64445f1d10a6d06c0d13c700dfd9302ce9de502", "committedDate": "2020-11-20T10:39:09Z", "message": "[OC-1203] Refactor definition of detail in bundle"}, "afterCommit": {"oid": "06d1f38bc09849e4b1edf9a6c6c9b6bcab4c6408", "author": {"user": {"login": "quinarygio", "name": "Giovanni Ferrari"}}, "url": "https://github.com/opfab/operatorfabric-core/commit/06d1f38bc09849e4b1edf9a6c6c9b6bcab4c6408", "committedDate": "2020-11-20T14:55:38Z", "message": "[OC-1203] Refactor definition of detail in bundle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MjkxMjk0", "url": "https://github.com/opfab/operatorfabric-core/pull/583#pullrequestreview-536291294", "createdAt": "2020-11-23T09:24:58Z", "commit": {"oid": "06d1f38bc09849e4b1edf9a6c6c9b6bcab4c6408"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwOToyNDo1OFrOH4E9Vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwOToyOTowM1rOH4FHpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU2MzU0Mg==", "bodyText": "Keep value in the new structure.", "url": "https://github.com/opfab/operatorfabric-core/pull/583#discussion_r528563542", "createdAt": "2020-11-23T09:24:58Z", "author": {"login": "freddidierRTE"}, "path": "src/docs/asciidoc/reference_doc/response_cards.adoc", "diffHunk": "@@ -65,17 +65,6 @@ A card can have a response only if it's in a process/state that is configured fo\n           \"key\": \"question.button.text\"\n         }\n       },\n-      \"details\": [\n-        {\n-          \"title\": {\n-            \"key\": \"question.title\"\n-          },\n-          \"templateName\": \"question\",\n-          \"styles\": [\n-            \"style\"\n-          ]\n-        }\n-      ],", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06d1f38bc09849e4b1edf9a6c6c9b6bcab4c6408"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU2NTY2OQ==", "bodyText": "not \"the datail title \" but \"detail\"", "url": "https://github.com/opfab/operatorfabric-core/pull/583#discussion_r528565669", "createdAt": "2020-11-23T09:28:16Z", "author": {"login": "freddidierRTE"}, "path": "src/docs/asciidoc/resources/migration_guide_to_1.8.adoc", "diffHunk": "@@ -0,0 +1,132 @@\n+// Copyright (c) 2020 RTE (http://www.rte-france.com)\n+// See AUTHORS.txt\n+// This document is subject to the terms of the Creative Commons Attribution 4.0 International license.\n+// If a copy of the license was not distributed with this\n+// file, You can obtain one at https://creativecommons.org/licenses/by/4.0/.\n+// SPDX-License-Identifier: CC-BY-4.0\n+\n+= Migration Guide from release 1.7.0 to release 1.8.0 \n+\n+== Refactoring of business configuration \n+\n+=== Motivation for the change\n+There is no more the need for multiple definitions of card's detail rendering because of the removal of multitab rendering.\n+\n+The rendering of the detail of a card is configured specifing the datail title, template name and the list of styles.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06d1f38bc09849e4b1edf9a6c6c9b6bcab4c6408"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU2NjE4Mg==", "bodyText": "Remove information regarding the card model as it is just removal of unused fields", "url": "https://github.com/opfab/operatorfabric-core/pull/583#discussion_r528566182", "createdAt": "2020-11-23T09:29:03Z", "author": {"login": "freddidierRTE"}, "path": "src/docs/asciidoc/resources/migration_guide_to_1.8.adoc", "diffHunk": "@@ -0,0 +1,132 @@\n+// Copyright (c) 2020 RTE (http://www.rte-france.com)\n+// See AUTHORS.txt\n+// This document is subject to the terms of the Creative Commons Attribution 4.0 International license.\n+// If a copy of the license was not distributed with this\n+// file, You can obtain one at https://creativecommons.org/licenses/by/4.0/.\n+// SPDX-License-Identifier: CC-BY-4.0\n+\n+= Migration Guide from release 1.7.0 to release 1.8.0 \n+\n+== Refactoring of business configuration \n+\n+=== Motivation for the change\n+There is no more the need for multiple definitions of card's detail rendering because of the removal of multitab rendering.\n+\n+The rendering of the detail of a card is configured specifing the datail title, template name and the list of styles.\n+\n+=== Changes to the model\n+\n+==== On the Businessconfig model\n+In the Businessconfig model definition the field `details` has been removed.\n+\n+The new fields `datailTitle`, `templateName` and `styles` have been added.\n+\n+Here is an example of a simple config.json file:\n+\n+.Before\n+[source,json]\n+----\n+\n+{\n+  \"id\": \"TEST\",\n+  \"version\": \"1\",\n+  \"name\": \"process.label\",\n+  \"defaultLocale\": \"fr\",\n+  \"menuLabel\": \"menu.label\",\n+  \"menuEntries\": [\n+    {\"id\": \"uid test 0\",\"url\": \"https://opfab.github.io/\",\"label\": \"menu.first\"},\n+    {\"id\": \"uid test 1\",\"url\": \"https://www.la-rache.com\",\"label\": \"menu.second\"}\n+  ],\n+  \"states\": {\n+    \"firstState\": {\n+      \"name\" :\"mystate.label\",\n+      \"details\": [\n+        {\n+          \"title\": {\n+            \"key\": \"template.title\"\n+          },\n+          \"templateName\": \"operation\",\n+\t\t  \"styles\": [\"style1\",\"style2\"]\n+        }\n+      ]\n+    }\n+  }\n+}\n+\n+----\n+\n+.After\n+[source,json]\n+----\n+\n+{\n+  \"id\": \"TEST\",\n+  \"version\": \"1\",\n+  \"name\": \"process.label\",\n+  \"defaultLocale\": \"fr\",\n+  \"menuLabel\": \"menu.label\",\n+  \"menuEntries\": [\n+    {\"id\": \"uid test 0\",\"url\": \"https://opfab.github.io/\",\"label\": \"menu.first\"},\n+    {\"id\": \"uid test 1\",\"url\": \"https://www.la-rache.com\",\"label\": \"menu.second\"}\n+  ],\n+  \"states\": {\n+    \"firstState\": {\n+      \"name\" :\"mystate.label\",\n+\t  \"detailsTitle\": {\n+\t\t\"key\": \"template.title\"\n+\t  },\n+\t  \"templateName\": \"operation\",\n+\t  \"styles\": [\"style1\",\"style2\"]\n+    }\n+  }\n+}\n+----\n+\n+\n+==== On the Card model\n+\n+In the Card model definition the field `details` has been removed.\n+\n+Here is an example of a simple card json object:\n+\n+.Before\n+[source,json]\n+----\n+....\n+{\n+\t\"publisher\":\"TEST_PUBLISHER\",\n+\t\"processVersion\":\"1\",\n+\t\"process\":\"TEST\",\n+\t\"processInstanceId\":\"process-000\",\n+\t\"state\":\"myState\",\n+\t\"startDate\":1546297200000,\n+\t\"severity\":\"INFORMATION\",\n+\t\"title\":{\"key\":\"process.title\"},\n+\t\"summary\":{\"key\":\"process.summary\"},\n+\t\"userRecipients\": [\"operator1\"],\n+\t\"data\":{\"rootProp\":\"Data displayed in the detail panel\"},\n+\t\"details\":[{\"title\":{\"key\":\"process.detail.tab.first\"}, \"templateName\":\"template1\", \"styles\":[\"style1\", \"style2\"]}]\n+\n+}\n+\n+----\n+\n+.After\n+[source,json]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06d1f38bc09849e4b1edf9a6c6c9b6bcab4c6408"}, "originalPosition": 115}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "06d1f38bc09849e4b1edf9a6c6c9b6bcab4c6408", "author": {"user": {"login": "quinarygio", "name": "Giovanni Ferrari"}}, "url": "https://github.com/opfab/operatorfabric-core/commit/06d1f38bc09849e4b1edf9a6c6c9b6bcab4c6408", "committedDate": "2020-11-20T14:55:38Z", "message": "[OC-1203] Refactor definition of detail in bundle"}, "afterCommit": {"oid": "0b2c2f6f1ba3bb5043fc499eb22a685a012e0191", "author": {"user": {"login": "quinarygio", "name": "Giovanni Ferrari"}}, "url": "https://github.com/opfab/operatorfabric-core/commit/0b2c2f6f1ba3bb5043fc499eb22a685a012e0191", "committedDate": "2020-11-23T15:34:34Z", "message": "[OC-1203] Refactor definition of detail in bundle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f8c5f25fa3718e3b4182522e27f8716a8e20e52", "author": {"user": {"login": "quinarygio", "name": "Giovanni Ferrari"}}, "url": "https://github.com/opfab/operatorfabric-core/commit/2f8c5f25fa3718e3b4182522e27f8716a8e20e52", "committedDate": "2020-11-24T09:36:40Z", "message": "[OC-1203] Refactor definition of detail in bundle"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0b2c2f6f1ba3bb5043fc499eb22a685a012e0191", "author": {"user": {"login": "quinarygio", "name": "Giovanni Ferrari"}}, "url": "https://github.com/opfab/operatorfabric-core/commit/0b2c2f6f1ba3bb5043fc499eb22a685a012e0191", "committedDate": "2020-11-23T15:34:34Z", "message": "[OC-1203] Refactor definition of detail in bundle"}, "afterCommit": {"oid": "2f8c5f25fa3718e3b4182522e27f8716a8e20e52", "author": {"user": {"login": "quinarygio", "name": "Giovanni Ferrari"}}, "url": "https://github.com/opfab/operatorfabric-core/commit/2f8c5f25fa3718e3b4182522e27f8716a8e20e52", "committedDate": "2020-11-24T09:36:40Z", "message": "[OC-1203] Refactor definition of detail in bundle"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1228, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}