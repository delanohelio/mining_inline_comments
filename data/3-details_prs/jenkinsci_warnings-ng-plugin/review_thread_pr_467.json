{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0OTE1Nzgx", "number": 467, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxMjoxNzoyMFrOD8c7DQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxMjoxNzoyMFrOD8c7DQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NzE1MDIxOnYy", "diffSide": "RIGHT", "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/plugins/MetricsAggregationPluginITest.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxMjoxNzoyMFrOGVZfcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQyMTo1MjoyNVrOGaxlXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA5MDkzMA==", "bodyText": "Build build = scheduleBuild();\nbuild.getAction(Metrics*Action.class).getResults().getMetrics().hasErrorFromWarnings();", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/467#discussion_r425090930", "createdAt": "2020-05-14T12:17:20Z", "author": {"login": "uhafner"}, "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/plugins/MetricsAggregationPluginITest.java", "diffHunk": "@@ -0,0 +1,39 @@\n+package io.jenkins.plugins.analysis.warnings.plugins;\n+\n+import org.junit.Test;\n+\n+import hudson.model.FreeStyleProject;\n+import hudson.model.Result;\n+\n+import io.jenkins.plugins.analysis.core.model.AnalysisResult;\n+import io.jenkins.plugins.analysis.core.testutil.IntegrationTestWithJenkinsPerSuite;\n+import io.jenkins.plugins.analysis.warnings.Java;\n+import io.jenkins.plugins.metrics.analysis.steps.MetricsRecorder;\n+\n+import static io.jenkins.plugins.analysis.core.assertions.Assertions.*;\n+\n+public class MetricsAggregationPluginITest extends IntegrationTestWithJenkinsPerSuite {\n+\n+    @Test\n+    public void shouldAggregateMetrics() {\n+        FreeStyleProject project = createJavaWarningsFreestyleProject(\"pmd.xml\", \"cpd.xml\", \"spotbugsXml.xml\");\n+\n+        MetricsRecorder recorder = new MetricsRecorder();\n+        recorder.setFilePattern(\"**/*.txt\");\n+\n+        project.getPublishersList().add(recorder);\n+\n+        AnalysisResult analysisResult = scheduleBuildAndAssertStatus(project, Result.SUCCESS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ae71ade55d746b432e8355f80372878e6ee9f39"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA5MTYxNA==", "bodyText": "Diese Action brauchen Sie dann:\nhttps://github.com/andipabst/metrics-aggregation-plugin/blob/ui-plugins/plugin/src/main/java/io/jenkins/plugins/metrics/view/MetricsViewAction.java", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/467#discussion_r425091614", "createdAt": "2020-05-14T12:18:27Z", "author": {"login": "uhafner"}, "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/plugins/MetricsAggregationPluginITest.java", "diffHunk": "@@ -0,0 +1,39 @@\n+package io.jenkins.plugins.analysis.warnings.plugins;\n+\n+import org.junit.Test;\n+\n+import hudson.model.FreeStyleProject;\n+import hudson.model.Result;\n+\n+import io.jenkins.plugins.analysis.core.model.AnalysisResult;\n+import io.jenkins.plugins.analysis.core.testutil.IntegrationTestWithJenkinsPerSuite;\n+import io.jenkins.plugins.analysis.warnings.Java;\n+import io.jenkins.plugins.metrics.analysis.steps.MetricsRecorder;\n+\n+import static io.jenkins.plugins.analysis.core.assertions.Assertions.*;\n+\n+public class MetricsAggregationPluginITest extends IntegrationTestWithJenkinsPerSuite {\n+\n+    @Test\n+    public void shouldAggregateMetrics() {\n+        FreeStyleProject project = createJavaWarningsFreestyleProject(\"pmd.xml\", \"cpd.xml\", \"spotbugsXml.xml\");\n+\n+        MetricsRecorder recorder = new MetricsRecorder();\n+        recorder.setFilePattern(\"**/*.txt\");\n+\n+        project.getPublishersList().add(recorder);\n+\n+        AnalysisResult analysisResult = scheduleBuildAndAssertStatus(project, Result.SUCCESS);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA5MDkzMA=="}, "originalCommit": {"oid": "9ae71ade55d746b432e8355f80372878e6ee9f39"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI1MTc3Nw==", "bodyText": "Soweit ich das sehe, stehen in der MetricsViewAction keine Methoden zur \u00dcberpr\u00fcfung der Results oder Metrics zur Verf\u00fcgung. Den Build habe ich folgenderma\u00dfen erstellt.\n Run<?, ?> build= buildSuccessfully(project);\n\nDie Frage ist jetzt, wie ich mit der Action fortfahren kann.\nbuild.getAction(MetricsViewAction.class).?", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/467#discussion_r430251777", "createdAt": "2020-05-26T08:44:28Z", "author": {"login": "ThoGro"}, "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/plugins/MetricsAggregationPluginITest.java", "diffHunk": "@@ -0,0 +1,39 @@\n+package io.jenkins.plugins.analysis.warnings.plugins;\n+\n+import org.junit.Test;\n+\n+import hudson.model.FreeStyleProject;\n+import hudson.model.Result;\n+\n+import io.jenkins.plugins.analysis.core.model.AnalysisResult;\n+import io.jenkins.plugins.analysis.core.testutil.IntegrationTestWithJenkinsPerSuite;\n+import io.jenkins.plugins.analysis.warnings.Java;\n+import io.jenkins.plugins.metrics.analysis.steps.MetricsRecorder;\n+\n+import static io.jenkins.plugins.analysis.core.assertions.Assertions.*;\n+\n+public class MetricsAggregationPluginITest extends IntegrationTestWithJenkinsPerSuite {\n+\n+    @Test\n+    public void shouldAggregateMetrics() {\n+        FreeStyleProject project = createJavaWarningsFreestyleProject(\"pmd.xml\", \"cpd.xml\", \"spotbugsXml.xml\");\n+\n+        MetricsRecorder recorder = new MetricsRecorder();\n+        recorder.setFilePattern(\"**/*.txt\");\n+\n+        project.getPublishersList().add(recorder);\n+\n+        AnalysisResult analysisResult = scheduleBuildAndAssertStatus(project, Result.SUCCESS);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA5MDkzMA=="}, "originalCommit": {"oid": "9ae71ade55d746b432e8355f80372878e6ee9f39"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyNzYyOQ==", "bodyText": "Sie m\u00fcssen die Methode nutzen:\nhttps://github.com/andipabst/metrics-aggregation-plugin/blob/ui-plugins/plugin/src/main/java/io/jenkins/plugins/metrics/view/MetricsViewAction.java#L62", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/467#discussion_r430727629", "createdAt": "2020-05-26T21:50:05Z", "author": {"login": "uhafner"}, "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/plugins/MetricsAggregationPluginITest.java", "diffHunk": "@@ -0,0 +1,39 @@\n+package io.jenkins.plugins.analysis.warnings.plugins;\n+\n+import org.junit.Test;\n+\n+import hudson.model.FreeStyleProject;\n+import hudson.model.Result;\n+\n+import io.jenkins.plugins.analysis.core.model.AnalysisResult;\n+import io.jenkins.plugins.analysis.core.testutil.IntegrationTestWithJenkinsPerSuite;\n+import io.jenkins.plugins.analysis.warnings.Java;\n+import io.jenkins.plugins.metrics.analysis.steps.MetricsRecorder;\n+\n+import static io.jenkins.plugins.analysis.core.assertions.Assertions.*;\n+\n+public class MetricsAggregationPluginITest extends IntegrationTestWithJenkinsPerSuite {\n+\n+    @Test\n+    public void shouldAggregateMetrics() {\n+        FreeStyleProject project = createJavaWarningsFreestyleProject(\"pmd.xml\", \"cpd.xml\", \"spotbugsXml.xml\");\n+\n+        MetricsRecorder recorder = new MetricsRecorder();\n+        recorder.setFilePattern(\"**/*.txt\");\n+\n+        project.getPublishersList().add(recorder);\n+\n+        AnalysisResult analysisResult = scheduleBuildAndAssertStatus(project, Result.SUCCESS);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA5MDkzMA=="}, "originalCommit": {"oid": "9ae71ade55d746b432e8355f80372878e6ee9f39"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDcyODU0Mg==", "bodyText": "Und dann (wahrscheinlich) https://github.com/andipabst/metrics-aggregation-plugin/blob/e9fb720a061da1c06970522f91cedd98d19e413c/plugin/src/main/java/io/jenkins/plugins/metrics/view/MetricsView.java#L91\nEvtl. mal im Debugger das Objekt inspizieren...", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/467#discussion_r430728542", "createdAt": "2020-05-26T21:52:25Z", "author": {"login": "uhafner"}, "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/plugins/MetricsAggregationPluginITest.java", "diffHunk": "@@ -0,0 +1,39 @@\n+package io.jenkins.plugins.analysis.warnings.plugins;\n+\n+import org.junit.Test;\n+\n+import hudson.model.FreeStyleProject;\n+import hudson.model.Result;\n+\n+import io.jenkins.plugins.analysis.core.model.AnalysisResult;\n+import io.jenkins.plugins.analysis.core.testutil.IntegrationTestWithJenkinsPerSuite;\n+import io.jenkins.plugins.analysis.warnings.Java;\n+import io.jenkins.plugins.metrics.analysis.steps.MetricsRecorder;\n+\n+import static io.jenkins.plugins.analysis.core.assertions.Assertions.*;\n+\n+public class MetricsAggregationPluginITest extends IntegrationTestWithJenkinsPerSuite {\n+\n+    @Test\n+    public void shouldAggregateMetrics() {\n+        FreeStyleProject project = createJavaWarningsFreestyleProject(\"pmd.xml\", \"cpd.xml\", \"spotbugsXml.xml\");\n+\n+        MetricsRecorder recorder = new MetricsRecorder();\n+        recorder.setFilePattern(\"**/*.txt\");\n+\n+        project.getPublishersList().add(recorder);\n+\n+        AnalysisResult analysisResult = scheduleBuildAndAssertStatus(project, Result.SUCCESS);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA5MDkzMA=="}, "originalCommit": {"oid": "9ae71ade55d746b432e8355f80372878e6ee9f39"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4771, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}