{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwNDQ4Mjk1", "number": 436, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMDoxMDo0OFrODwV6cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMDoxNjo1NFrODwWCyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyMDE3MjY3OnYy", "diffSide": "RIGHT", "path": "plugin/src/main/resources/io/jenkins/plugins/analysis/core/model/JobAction/floatingBox.jelly", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMDoxMDo0OFrOGDSZhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxOToxMTo1M1rOGNi-xQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMDM1OQ==", "bodyText": "Seems that this change breaks 2 existing tests: https://github.com/jenkinsci/warnings-ng-plugin/pull/436/checks?check_run_id=571774271", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406100359", "createdAt": "2020-04-09T10:10:48Z", "author": {"login": "uhafner"}, "path": "plugin/src/main/resources/io/jenkins/plugins/analysis/core/model/JobAction/floatingBox.jelly", "diffHunk": "@@ -1,6 +1,18 @@\n <?jelly escape-by-default='true'?>\n-<j:jelly xmlns:j=\"jelly:core\" xmlns:c=\"/charts\">\n+<j:jelly xmlns:j=\"jelly:core\" xmlns:c=\"/charts\" xmlns:i=\"/issues\">\n \n-  <c:trend-chart it=\"${from}\" title=\"${from.trendName}\" enableLinks=\"true\"/>\n+ <j:choose>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg1Nzc5Nw==", "bodyText": "The tests are expecting a chart which is not there anymore.", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r416857797", "createdAt": "2020-04-28T19:11:53Z", "author": {"login": "uhafner"}, "path": "plugin/src/main/resources/io/jenkins/plugins/analysis/core/model/JobAction/floatingBox.jelly", "diffHunk": "@@ -1,6 +1,18 @@\n <?jelly escape-by-default='true'?>\n-<j:jelly xmlns:j=\"jelly:core\" xmlns:c=\"/charts\">\n+<j:jelly xmlns:j=\"jelly:core\" xmlns:c=\"/charts\" xmlns:i=\"/issues\">\n \n-  <c:trend-chart it=\"${from}\" title=\"${from.trendName}\" enableLinks=\"true\"/>\n+ <j:choose>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMDM1OQ=="}, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyMDE3NDg2OnYy", "diffSide": "RIGHT", "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMDoxMTozMlrOGDSa7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMDoxMTozMlrOGDSa7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMDcxNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public boolean noWarnings(){\n          \n          \n            \n                public boolean hasNoIssues() {", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406100716", "createdAt": "2020-04-09T10:11:32Z", "author": {"login": "uhafner"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "diffHunk": "@@ -202,6 +206,20 @@ public boolean isTrendVisible() {\n         return trendChartType != TrendChartType.NONE && createBuildHistory().hasMultipleResults();\n     }\n \n+    public boolean noWarnings(){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyMDE4MDE1OnYy", "diffSide": "RIGHT", "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMDoxMjo1NlrOGDSeFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNjowMzo1MVrOGDfT-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMTUyNQ==", "bodyText": "This check should not be necessary", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406101525", "createdAt": "2020-04-09T10:12:56Z", "author": {"login": "uhafner"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "diffHunk": "@@ -202,6 +206,20 @@ public boolean isTrendVisible() {\n         return trendChartType != TrendChartType.NONE && createBuildHistory().hasMultipleResults();\n     }\n \n+    public boolean noWarnings(){\n+        History results =createBuildHistory(); //Get past build history\n+        if(results instanceof AnalysisHistory){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI4MDIzNg==", "bodyText": "As far as I understand, createBuildHistory() could return two types of objects: NullAnalysisHistory or AnalysisHistory. When NullAnalysisHistory is returned, it means there is no build history, so we are going to return true directly. If it's AnalysisHistory, we will start iterating through it.", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406280236", "createdAt": "2020-04-09T15:16:48Z", "author": {"login": "Allancgx"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "diffHunk": "@@ -202,6 +206,20 @@ public boolean isTrendVisible() {\n         return trendChartType != TrendChartType.NONE && createBuildHistory().hasMultipleResults();\n     }\n \n+    public boolean noWarnings(){\n+        History results =createBuildHistory(); //Get past build history\n+        if(results instanceof AnalysisHistory){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMTUyNQ=="}, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMxMTkyOQ==", "bodyText": "But this is the clue of the NullObjectPattern, you really do not need to care: your algorithm will terminate with true anyway since there are no build results.", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406311929", "createdAt": "2020-04-09T16:03:51Z", "author": {"login": "uhafner"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "diffHunk": "@@ -202,6 +206,20 @@ public boolean isTrendVisible() {\n         return trendChartType != TrendChartType.NONE && createBuildHistory().hasMultipleResults();\n     }\n \n+    public boolean noWarnings(){\n+        History results =createBuildHistory(); //Get past build history\n+        if(results instanceof AnalysisHistory){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMTUyNQ=="}, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyMDE5NDAzOnYy", "diffSide": "RIGHT", "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMDoxNjo1NFrOGDSmdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNjoxMzo1MlrOGDfrbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMzY3MA==", "bodyText": "All warnings are included in total. Or what exactly do you want to achieve with the subtraction?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if(nextResult.getResult().getTotalSize() - nextResult.getResult().getTotalSizeOf(Severity.ERROR) != 0){\n          \n          \n            \n                            if (nextResult.getResult().getTotalSize() > 0) {", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406103670", "createdAt": "2020-04-09T10:16:54Z", "author": {"login": "uhafner"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "diffHunk": "@@ -202,6 +206,20 @@ public boolean isTrendVisible() {\n         return trendChartType != TrendChartType.NONE && createBuildHistory().hasMultipleResults();\n     }\n \n+    public boolean noWarnings(){\n+        History results =createBuildHistory(); //Get past build history\n+        if(results instanceof AnalysisHistory){\n+            Iterator<BuildResult<AnalysisBuildResult>> it = results.iterator();\n+            while(it.hasNext()) {\n+                BuildResult<AnalysisBuildResult> nextResult = it.next();\n+                if(nextResult.getResult().getTotalSize() - nextResult.getResult().getTotalSizeOf(Severity.ERROR) != 0){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI4MTI5MQ==", "bodyText": "Doesn't nextResult.getResult() returns the total number of warnings+errors? If we are only checking the number of warnings, shouldn't we subtract the number of errors from the total number?", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406281291", "createdAt": "2020-04-09T15:18:21Z", "author": {"login": "Allancgx"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "diffHunk": "@@ -202,6 +206,20 @@ public boolean isTrendVisible() {\n         return trendChartType != TrendChartType.NONE && createBuildHistory().hasMultipleResults();\n     }\n \n+    public boolean noWarnings(){\n+        History results =createBuildHistory(); //Get past build history\n+        if(results instanceof AnalysisHistory){\n+            Iterator<BuildResult<AnalysisBuildResult>> it = results.iterator();\n+            while(it.hasNext()) {\n+                BuildResult<AnalysisBuildResult> nextResult = it.next();\n+                if(nextResult.getResult().getTotalSize() - nextResult.getResult().getTotalSizeOf(Severity.ERROR) != 0){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMzY3MA=="}, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI4MTkwMg==", "bodyText": "In case there is one error but no warnings, this new method is expected to return true, right?", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406281902", "createdAt": "2020-04-09T15:19:11Z", "author": {"login": "Allancgx"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "diffHunk": "@@ -202,6 +206,20 @@ public boolean isTrendVisible() {\n         return trendChartType != TrendChartType.NONE && createBuildHistory().hasMultipleResults();\n     }\n \n+    public boolean noWarnings(){\n+        History results =createBuildHistory(); //Get past build history\n+        if(results instanceof AnalysisHistory){\n+            Iterator<BuildResult<AnalysisBuildResult>> it = results.iterator();\n+            while(it.hasNext()) {\n+                BuildResult<AnalysisBuildResult> nextResult = it.next();\n+                if(nextResult.getResult().getTotalSize() - nextResult.getResult().getTotalSizeOf(Severity.ERROR) != 0){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMzY3MA=="}, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI4MzkzOQ==", "bodyText": "I noticed that you changed the method name to hasNoIssues(). Are we including errors then? I thought the graph only displayed the number of warnings\ud83d\ude05.", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406283939", "createdAt": "2020-04-09T15:22:21Z", "author": {"login": "Allancgx"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "diffHunk": "@@ -202,6 +206,20 @@ public boolean isTrendVisible() {\n         return trendChartType != TrendChartType.NONE && createBuildHistory().hasMultipleResults();\n     }\n \n+    public boolean noWarnings(){\n+        History results =createBuildHistory(); //Get past build history\n+        if(results instanceof AnalysisHistory){\n+            Iterator<BuildResult<AnalysisBuildResult>> it = results.iterator();\n+            while(it.hasNext()) {\n+                BuildResult<AnalysisBuildResult> nextResult = it.next();\n+                if(nextResult.getResult().getTotalSize() - nextResult.getResult().getTotalSizeOf(Severity.ERROR) != 0){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMzY3MA=="}, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMxNDMwMA==", "bodyText": "No, the chart draws \"everything\": actually the individual tools decide which things should be shown (I called them issues since these items can be warnings, errors, code duplications, TODO tags, unit test failures, etc.). So if at least one build has number of issues > 0, then the chart should be shown.", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406314300", "createdAt": "2020-04-09T16:07:53Z", "author": {"login": "uhafner"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "diffHunk": "@@ -202,6 +206,20 @@ public boolean isTrendVisible() {\n         return trendChartType != TrendChartType.NONE && createBuildHistory().hasMultipleResults();\n     }\n \n+    public boolean noWarnings(){\n+        History results =createBuildHistory(); //Get past build history\n+        if(results instanceof AnalysisHistory){\n+            Iterator<BuildResult<AnalysisBuildResult>> it = results.iterator();\n+            while(it.hasNext()) {\n+                BuildResult<AnalysisBuildResult> nextResult = it.next();\n+                if(nextResult.getResult().getTotalSize() - nextResult.getResult().getTotalSizeOf(Severity.ERROR) != 0){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMzY3MA=="}, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMxNzkzMg==", "bodyText": "Thank you for the clarification!", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406317932", "createdAt": "2020-04-09T16:13:52Z", "author": {"login": "Allancgx"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "diffHunk": "@@ -202,6 +206,20 @@ public boolean isTrendVisible() {\n         return trendChartType != TrendChartType.NONE && createBuildHistory().hasMultipleResults();\n     }\n \n+    public boolean noWarnings(){\n+        History results =createBuildHistory(); //Get past build history\n+        if(results instanceof AnalysisHistory){\n+            Iterator<BuildResult<AnalysisBuildResult>> it = results.iterator();\n+            while(it.hasNext()) {\n+                BuildResult<AnalysisBuildResult> nextResult = it.next();\n+                if(nextResult.getResult().getTotalSize() - nextResult.getResult().getTotalSizeOf(Severity.ERROR) != 0){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMzY3MA=="}, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4825, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}