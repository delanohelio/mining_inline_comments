{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwNDQ4Mjk1", "number": 436, "title": "[JENKINS-56594] - Hide empty trend charts", "bodyText": "Possible solution for Jenkins-56594 bug. Created a noWarnings() method to iterate through results and return true if it finds no warnings. Added check in floatingbox.jelly to display congratulations message if from has no warnings.", "createdAt": "2020-04-07T19:06:17Z", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436", "merged": true, "mergeCommit": {"oid": "b5eea048737e4a96c98ef7e1d7c7c1c141c84099"}, "closed": true, "closedAt": "2021-01-30T10:59:13Z", "author": {"login": "ColinWlodkowski"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVYCmNgH2gAyNDAwNDQ4Mjk1OmYyOGUyMWY5NGI5NWE5ZTNkZDljNTAxZjIzNjhlNmNmMTViNDA1NDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYlIqkgH2gAyNDAwNDQ4Mjk1OjY2NzhiNzk1OTRjODUwNzNmMzI1NzliY2IxYjJjZDZiMmI4Mzg3ZWQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f28e21f94b95a9e3dd9c501f2368e6cf15b40546", "author": {"user": {"login": "ColinWlodkowski", "name": null}}, "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/f28e21f94b95a9e3dd9c501f2368e6cf15b40546", "committedDate": "2020-04-07T18:59:03Z", "message": "Candidate Solution for Jenkins-56594. Displays congratulation if no warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075", "author": {"user": {"login": "ColinWlodkowski", "name": null}}, "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/898b4e0b65b8e9c00226de35c450a1b58b869075", "committedDate": "2020-04-08T19:00:20Z", "message": "Update floatingBox.jelly"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwNjYyOTk0", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#pullrequestreview-390662994", "createdAt": "2020-04-09T10:10:48Z", "commit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMDoxMDo0OFrOGDSZhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMDoxNjo1NFrOGDSmdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMDM1OQ==", "bodyText": "Seems that this change breaks 2 existing tests: https://github.com/jenkinsci/warnings-ng-plugin/pull/436/checks?check_run_id=571774271", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406100359", "createdAt": "2020-04-09T10:10:48Z", "author": {"login": "uhafner"}, "path": "plugin/src/main/resources/io/jenkins/plugins/analysis/core/model/JobAction/floatingBox.jelly", "diffHunk": "@@ -1,6 +1,18 @@\n <?jelly escape-by-default='true'?>\n-<j:jelly xmlns:j=\"jelly:core\" xmlns:c=\"/charts\">\n+<j:jelly xmlns:j=\"jelly:core\" xmlns:c=\"/charts\" xmlns:i=\"/issues\">\n \n-  <c:trend-chart it=\"${from}\" title=\"${from.trendName}\" enableLinks=\"true\"/>\n+ <j:choose>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMDcxNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public boolean noWarnings(){\n          \n          \n            \n                public boolean hasNoIssues() {", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406100716", "createdAt": "2020-04-09T10:11:32Z", "author": {"login": "uhafner"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "diffHunk": "@@ -202,6 +206,20 @@ public boolean isTrendVisible() {\n         return trendChartType != TrendChartType.NONE && createBuildHistory().hasMultipleResults();\n     }\n \n+    public boolean noWarnings(){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMTUyNQ==", "bodyText": "This check should not be necessary", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406101525", "createdAt": "2020-04-09T10:12:56Z", "author": {"login": "uhafner"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "diffHunk": "@@ -202,6 +206,20 @@ public boolean isTrendVisible() {\n         return trendChartType != TrendChartType.NONE && createBuildHistory().hasMultipleResults();\n     }\n \n+    public boolean noWarnings(){\n+        History results =createBuildHistory(); //Get past build history\n+        if(results instanceof AnalysisHistory){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMzY3MA==", "bodyText": "All warnings are included in total. Or what exactly do you want to achieve with the subtraction?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if(nextResult.getResult().getTotalSize() - nextResult.getResult().getTotalSizeOf(Severity.ERROR) != 0){\n          \n          \n            \n                            if (nextResult.getResult().getTotalSize() > 0) {", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/436#discussion_r406103670", "createdAt": "2020-04-09T10:16:54Z", "author": {"login": "uhafner"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java", "diffHunk": "@@ -202,6 +206,20 @@ public boolean isTrendVisible() {\n         return trendChartType != TrendChartType.NONE && createBuildHistory().hasMultipleResults();\n     }\n \n+    public boolean noWarnings(){\n+        History results =createBuildHistory(); //Get past build history\n+        if(results instanceof AnalysisHistory){\n+            Iterator<BuildResult<AnalysisBuildResult>> it = results.iterator();\n+            while(it.hasNext()) {\n+                BuildResult<AnalysisBuildResult> nextResult = it.next();\n+                if(nextResult.getResult().getTotalSize() - nextResult.getResult().getTotalSizeOf(Severity.ERROR) != 0){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "898b4e0b65b8e9c00226de35c450a1b58b869075"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9dbd6843ff6045bb138acf204b17853c2a90dab0", "author": {"user": {"login": "ColinWlodkowski", "name": null}}, "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/9dbd6843ff6045bb138acf204b17853c2a90dab0", "committedDate": "2020-04-17T17:43:59Z", "message": "Update plugin/src/main/java/io/jenkins/plugins/analysis/core/model/JobAction.java\r\n\r\nClarifying name change\n\nCo-Authored-By: Ullrich Hafner <ullrich.hafner@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28a80b04bf1d001f5c96e64829d312853dac09c7", "author": {"user": {"login": "ColinWlodkowski", "name": null}}, "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/28a80b04bf1d001f5c96e64829d312853dac09c7", "committedDate": "2020-04-17T17:51:28Z", "message": "Updated Commit for hasNoIssues\n\nRemoved Instance check and updated to check size of all issues, not just warnings."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6678b79594c85073f32579bcb1b2cd6b2b8387ed", "author": {"user": {"login": "ColinWlodkowski", "name": null}}, "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/6678b79594c85073f32579bcb1b2cd6b2b8387ed", "committedDate": "2020-04-17T17:56:13Z", "message": "Updated Java Function Name\n\nUpdated Java function name in jelly file to updated name in JobAction from noWarnings() to hasNoIssues()."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4140, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}