{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2MzY2Njk1", "number": 682, "title": "[JENKINS-62944] Add exclude sections for task scanner", "bodyText": "first draft of a solution for https://issues.jenkins-ci.org/browse/JENKINS-62944\nnot sure\n\nif this is enough\nhow and where to document this\n\n@uhafner do you have some hints here?", "createdAt": "2020-11-05T22:03:17Z", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/682", "merged": true, "mergeCommit": {"oid": "b41e456abed8059f28210ec8239f4c85a735733a"}, "closed": true, "closedAt": "2020-11-17T22:54:26Z", "author": {"login": "ssproessig"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZpQSBAH2gAyNTE2MzY2Njk1OmU5YzczODNmYjczZjE1ZDU0OWFjMDI0NzIyNDc4MzA3OTI5YmVmZGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdcIKfkgFqTUzMDExMzY5Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e9c7383fb73f15d549ac024722478307929befde", "author": {"user": {"login": "ssproessig", "name": "S\u00f6ren Spr\u00f6\u00dfig"}}, "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/e9c7383fb73f15d549ac024722478307929befde", "committedDate": "2020-11-05T21:29:14Z", "message": "adds test case for ignoring parts in the processed lines"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95148aed2d80e463b473017dacfe73def5890280", "author": {"user": {"login": "ssproessig", "name": "S\u00f6ren Spr\u00f6\u00dfig"}}, "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/95148aed2d80e463b473017dacfe73def5890280", "committedDate": "2020-11-05T21:56:37Z", "message": "add IgnoreSection handling; will ignore every line containing IGNORE_BEGIN and following, until a line contains IGNORE_END"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a0b2864ba75fe62e993ab7601574ef06f3fa345", "author": {"user": {"login": "ssproessig", "name": "S\u00f6ren Spr\u00f6\u00dfig"}}, "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/1a0b2864ba75fe62e993ab7601574ef06f3fa345", "committedDate": "2020-11-06T11:04:30Z", "message": "checkstyle: JavadocStyleCheck - end with period"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca1e6707abbc22a069ff91d13f332be77dfd1401", "author": {"user": {"login": "ssproessig", "name": "S\u00f6ren Spr\u00f6\u00dfig"}}, "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/ca1e6707abbc22a069ff91d13f332be77dfd1401", "committedDate": "2020-11-06T11:09:12Z", "message": "checkstyle: make IgnoreSection inner class to overcome \"OuterTypeFilenameCheck\""}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15e1e5848ddc33bbaf3790a6bc01bee80414efb4", "author": {"user": {"login": "ssproessig", "name": "S\u00f6ren Spr\u00f6\u00dfig"}}, "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/15e1e5848ddc33bbaf3790a6bc01bee80414efb4", "committedDate": "2020-11-06T11:09:26Z", "message": "checkstyle: fix \"RightCurlyCheck\""}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1ODE5ODAz", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/682#pullrequestreview-525819803", "createdAt": "2020-11-08T15:42:29Z", "commit": {"oid": "15e1e5848ddc33bbaf3790a6bc01bee80414efb4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQxNTo0MjozMFrOHvYGYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQxNTo0NDo1NFrOHvYI9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTQzOTk2OA==", "bodyText": "A lot of warning will go away if you move the class to the bottom.", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/682#discussion_r519439968", "createdAt": "2020-11-08T15:42:30Z", "author": {"login": "uhafner"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/warnings/tasks/TaskScanner.java", "diffHunk": "@@ -26,12 +26,37 @@\n \n import io.jenkins.plugins.analysis.core.util.LocalizedSeverity;\n \n+\n /**\n  * Scans a given input stream for open tasks.\n  *\n  * @author Ullrich Hafner\n  */\n class TaskScanner {\n+    class IgnoreSection {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15e1e5848ddc33bbaf3790a6bc01bee80414efb4"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTQ0MDA1NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                class IgnoreSection {\n          \n          \n            \n                private static class IgnoreSection {", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/682#discussion_r519440055", "createdAt": "2020-11-08T15:42:52Z", "author": {"login": "uhafner"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/warnings/tasks/TaskScanner.java", "diffHunk": "@@ -26,12 +26,37 @@\n \n import io.jenkins.plugins.analysis.core.util.LocalizedSeverity;\n \n+\n /**\n  * Scans a given input stream for open tasks.\n  *\n  * @author Ullrich Hafner\n  */\n class TaskScanner {\n+    class IgnoreSection {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15e1e5848ddc33bbaf3790a6bc01bee80414efb4"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTQ0MDYzMA==", "bodyText": "Can't this be a local variable in the parse method? Otherwise parallel scans will cause problems.", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/682#discussion_r519440630", "createdAt": "2020-11-08T15:44:54Z", "author": {"login": "uhafner"}, "path": "plugin/src/main/java/io/jenkins/plugins/analysis/warnings/tasks/TaskScanner.java", "diffHunk": "@@ -26,12 +26,37 @@\n \n import io.jenkins.plugins.analysis.core.util.LocalizedSeverity;\n \n+\n /**\n  * Scans a given input stream for open tasks.\n  *\n  * @author Ullrich Hafner\n  */\n class TaskScanner {\n+    class IgnoreSection {\n+        private static final String IGNORE_BEGIN = \" task-scanner-ignore-begin\";\n+        private static final String IGNORE_END = \" task-scanner-ignore-end\";\n+\n+        private boolean ignore = false;\n+\n+        public boolean matches(final String line) {\n+            if (line.contains(IGNORE_BEGIN)) {\n+                ignore = true;\n+            }\n+            else if (line.contains(IGNORE_END)) {\n+                ignore = false;\n+            }\n+\n+            return ignore;\n+        }\n+\n+        public void reset() {\n+            ignore = false;\n+        }\n+    }\n+\n+    private final IgnoreSection inIgnoreSection = new IgnoreSection();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15e1e5848ddc33bbaf3790a6bc01bee80414efb4"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72c445079bd703acfe32f8f4a7f8d48efb6abe32", "author": {"user": {"login": "ssproessig", "name": "S\u00f6ren Spr\u00f6\u00dfig"}}, "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/72c445079bd703acfe32f8f4a7f8d48efb6abe32", "committedDate": "2020-11-09T09:17:21Z", "message": "review: made inner class \"private static\" as suggested"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d40e587a6524892f06abce4be7beed9d8cc55f10", "author": {"user": {"login": "ssproessig", "name": "S\u00f6ren Spr\u00f6\u00dfig"}}, "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/d40e587a6524892f06abce4be7beed9d8cc55f10", "committedDate": "2020-11-09T09:18:40Z", "message": "review: create new IgnoreSection instance per scanTasks() run to support parallel checks\n\ngetting rid of no longer required reset()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1092b546b6535bec67be54c6d5b517cdadcbd468", "author": {"user": {"login": "ssproessig", "name": "S\u00f6ren Spr\u00f6\u00dfig"}}, "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/1092b546b6535bec67be54c6d5b517cdadcbd468", "committedDate": "2020-11-09T09:19:41Z", "message": "review: moving inner class to the bottom"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwMTEzNjk3", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/682#pullrequestreview-530113697", "createdAt": "2020-11-13T14:37:50Z", "commit": {"oid": "1092b546b6535bec67be54c6d5b517cdadcbd468"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 105, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}