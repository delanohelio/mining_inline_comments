{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2OTk2ODQ4", "number": 3269, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNDoxODozMVrOD90ckQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNDoxODozMVrOD90ckQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MTQ5MDA5OnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/signs/SignDisposal.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNDoxODozMVrOGXipNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNToxNDoyM1rOGXlZ0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzMzODAzOQ==", "bodyText": "This is a very subtle breaking change, but if server admins intentionally add leading spaces to the disposal locale string, title.trim() will remove them and break the layout. I'd prefer trimming the title only if it was set on the sign. Granted, I'm not sure if anyone really does this, but on the off chance people do we'll be breaking their disposal signs.", "url": "https://github.com/EssentialsX/Essentials/pull/3269#discussion_r427338039", "createdAt": "2020-05-19T14:18:31Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/signs/SignDisposal.java", "diffHunk": "@@ -11,9 +12,23 @@ public SignDisposal() {\n         super(\"Disposal\");\n     }\n \n+    @Override\n+    protected boolean onSignCreate(ISign sign, User player, String username, IEssentials ess) throws SignException, ChargeException {\n+        if (!player.isAuthorized(\"essentials.signs.disposal.name\")) {\n+            sign.setLine(1, \"\");\n+            sign.setLine(2, \"\");\n+            sign.setLine(3, \"\");\n+        }\n+        return true;\n+    }\n+\n     @Override\n     protected boolean onSignInteract(final ISign sign, final User player, final String username, final IEssentials ess) {\n-        player.getBase().openInventory(ess.getServer().createInventory(player.getBase(), 36, tl(\"disposal\")));\n+        String title = sign.getLine(1) + \" \" + sign.getLine(2) + \" \" + sign.getLine(3);\n+        if (title.trim().isEmpty()) {\n+            title = tl(\"disposal\");\n+        }\n+        player.getBase().openInventory(ess.getServer().createInventory(player.getBase(), 36, title.trim()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7be7201953f91064255898e809dd243c847ddeff"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM4MzI0OA==", "bodyText": "Changes applied :P", "url": "https://github.com/EssentialsX/Essentials/pull/3269#discussion_r427383248", "createdAt": "2020-05-19T15:14:23Z", "author": {"login": "JRoy"}, "path": "Essentials/src/com/earth2me/essentials/signs/SignDisposal.java", "diffHunk": "@@ -11,9 +12,23 @@ public SignDisposal() {\n         super(\"Disposal\");\n     }\n \n+    @Override\n+    protected boolean onSignCreate(ISign sign, User player, String username, IEssentials ess) throws SignException, ChargeException {\n+        if (!player.isAuthorized(\"essentials.signs.disposal.name\")) {\n+            sign.setLine(1, \"\");\n+            sign.setLine(2, \"\");\n+            sign.setLine(3, \"\");\n+        }\n+        return true;\n+    }\n+\n     @Override\n     protected boolean onSignInteract(final ISign sign, final User player, final String username, final IEssentials ess) {\n-        player.getBase().openInventory(ess.getServer().createInventory(player.getBase(), 36, tl(\"disposal\")));\n+        String title = sign.getLine(1) + \" \" + sign.getLine(2) + \" \" + sign.getLine(3);\n+        if (title.trim().isEmpty()) {\n+            title = tl(\"disposal\");\n+        }\n+        player.getBase().openInventory(ess.getServer().createInventory(player.getBase(), 36, title.trim()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzMzODAzOQ=="}, "originalCommit": {"oid": "7be7201953f91064255898e809dd243c847ddeff"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4682, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}