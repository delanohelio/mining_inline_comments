{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3NTcwMDE1", "number": 3067, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxNTo0Mjo1NFrOD11j8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOTo0Mjo1OFrOD17ZOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3Nzc4Njc0OnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/signs/SignSell.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxNTo0Mjo1NFrOGLdwgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxNTo0Mjo1NFrOGLdwgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDY3NTA3Mg==", "bodyText": "This looks like it introduces rounding errors and change the amount that the signs give - does this still function the same or does it change?", "url": "https://github.com/EssentialsX/Essentials/pull/3067#discussion_r414675072", "createdAt": "2020-04-24T15:42:54Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/signs/SignSell.java", "diffHunk": "@@ -40,7 +41,7 @@ protected boolean onSignInteract(final ISign sign, final User player, final Stri\n                 charge = new Trade(item, ess);\n \n                 BigDecimal chargeAmount = money.getMoney();\n-                BigDecimal pricePerSingleItem = chargeAmount.divide(new BigDecimal(initialItemAmount));\n+                BigDecimal pricePerSingleItem = chargeAmount.divide(new BigDecimal(initialItemAmount), RoundingMode.HALF_EVEN);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ded1d10d0f0d9016e5790ed31206679863ae28fb"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3Nzc4ODQxOnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/signs/SignBuy.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxNTo0MzoxNVrOGLdxcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxNTo0MzoxNVrOGLdxcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDY3NTMxMw==", "bodyText": "Same as SignSell - doesn't this change the amount charged?", "url": "https://github.com/EssentialsX/Essentials/pull/3067#discussion_r414675313", "createdAt": "2020-04-24T15:43:15Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/signs/SignBuy.java", "diffHunk": "@@ -39,7 +40,7 @@ protected boolean onSignInteract(final ISign sign, final User player, final Stri\n                 items = new Trade(item, ess);\n \n                 BigDecimal chargeAmount = charge.getMoney();\n-                BigDecimal pricePerSingleItem = chargeAmount.divide(new BigDecimal(initialItemAmount));\n+                BigDecimal pricePerSingleItem = chargeAmount.divide(new BigDecimal(initialItemAmount), RoundingMode.HALF_EVEN);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ded1d10d0f0d9016e5790ed31206679863ae28fb"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3NzkyMzkxOnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/metrics/Metrics.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxNjoxMzoxOFrOGLfCdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxNjoxMzoxOFrOGLfCdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDY5NjA1NA==", "bodyText": "Is this definitely safe to do? bStats can be turned on/off; I'm not sure if there are any variants of the class that might expect this field to not be final.", "url": "https://github.com/EssentialsX/Essentials/pull/3067#discussion_r414696054", "createdAt": "2020-04-24T16:13:18Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/metrics/Metrics.java", "diffHunk": "@@ -50,7 +50,7 @@\n     private static final String URL = \"https://bStats.org/submitData/bukkit\";\n \n     // Is bStats enabled on this server?\n-    private boolean enabled;\n+    private final boolean enabled;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ded1d10d0f0d9016e5790ed31206679863ae28fb"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3ODY1Njk3OnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/EssentialsConf.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOToxOToyMFrOGLl02A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOToxOToyMFrOGLl02A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDgwNzI1Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    buffer.rewind();\n          \n          \n            \n                                    ((Buffer) buffer).rewind();\n          \n      \n    \n    \n  \n\nThese casts are necessary, otherwise builds on Java 9+ won't run on Java 8 (some people ran into issues with this).", "url": "https://github.com/EssentialsX/Essentials/pull/3067#discussion_r414807256", "createdAt": "2020-04-24T19:19:20Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/EssentialsConf.java", "diffHunk": "@@ -125,20 +111,20 @@ public synchronized void load() {\n                         ByteBuffer resize = ByteBuffer.allocate(buffer.capacity() + length - buffer.remaining());\n                         int resizePosition = buffer.position();\n                         // Fix builds compiled against Java 9+ breaking on Java 8\n-                        ((Buffer) buffer).rewind();\n+                        buffer.rewind();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ded1d10d0f0d9016e5790ed31206679863ae28fb"}, "originalPosition": 78}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3ODY1NzkwOnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/EssentialsConf.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOToxOTo0MFrOGLl1dQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOToxOTo0MFrOGLl1dQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDgwNzQxMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            buffer.rewind();\n          \n          \n            \n                            ((Buffer) buffer).rewind();", "url": "https://github.com/EssentialsX/Essentials/pull/3067#discussion_r414807413", "createdAt": "2020-04-24T19:19:40Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/EssentialsConf.java", "diffHunk": "@@ -125,20 +111,20 @@ public synchronized void load() {\n                         ByteBuffer resize = ByteBuffer.allocate(buffer.capacity() + length - buffer.remaining());\n                         int resizePosition = buffer.position();\n                         // Fix builds compiled against Java 9+ breaking on Java 8\n-                        ((Buffer) buffer).rewind();\n+                        buffer.rewind();\n                         resize.put(buffer);\n                         resize.position(resizePosition);\n                         buffer = resize;\n                     }\n                     buffer.put(bytebuffer, 0, length);\n                 }\n-                ((Buffer) buffer).rewind();\n+                buffer.rewind();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ded1d10d0f0d9016e5790ed31206679863ae28fb"}, "originalPosition": 86}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3ODY1OTI0OnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/EssentialsConf.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOToyMDoxMFrOGLl2Vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOToyMDoxMFrOGLl2Vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDgwNzYzOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                buffer.rewind();\n          \n          \n            \n                                data.clear();\n          \n          \n            \n                                ((Buffer) buffer).rewind();\n          \n          \n            \n                                ((Buffer) data).clear();", "url": "https://github.com/EssentialsX/Essentials/pull/3067#discussion_r414807639", "createdAt": "2020-04-24T19:20:10Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/EssentialsConf.java", "diffHunk": "@@ -125,20 +111,20 @@ public synchronized void load() {\n                         ByteBuffer resize = ByteBuffer.allocate(buffer.capacity() + length - buffer.remaining());\n                         int resizePosition = buffer.position();\n                         // Fix builds compiled against Java 9+ breaking on Java 8\n-                        ((Buffer) buffer).rewind();\n+                        buffer.rewind();\n                         resize.put(buffer);\n                         resize.position(resizePosition);\n                         buffer = resize;\n                     }\n                     buffer.put(bytebuffer, 0, length);\n                 }\n-                ((Buffer) buffer).rewind();\n+                buffer.rewind();\n                 final CharBuffer data = CharBuffer.allocate(buffer.capacity());\n                 CharsetDecoder decoder = UTF8.newDecoder();\n                 CoderResult result = decoder.decode(buffer, data, true);\n                 if (result.isError()) {\n-                    ((Buffer) buffer).rewind();\n-                    ((Buffer) data).clear();\n+                    buffer.rewind();\n+                    data.clear();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ded1d10d0f0d9016e5790ed31206679863ae28fb"}, "originalPosition": 94}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3ODY2MDcyOnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/EssentialsConf.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOToyMDozMFrOGLl3Mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOToyMDozMFrOGLl3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDgwNzg1OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            data.rewind();\n          \n          \n            \n                            ((Buffer) data).rewind();", "url": "https://github.com/EssentialsX/Essentials/pull/3067#discussion_r414807858", "createdAt": "2020-04-24T19:20:30Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/EssentialsConf.java", "diffHunk": "@@ -151,7 +137,7 @@ public synchronized void load() {\n                     decoder.flush(data);\n                 }\n                 final int end = data.position();\n-                ((Buffer) data).rewind();\n+                data.rewind();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ded1d10d0f0d9016e5790ed31206679863ae28fb"}, "originalPosition": 103}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3ODc0MjM1OnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/PlayerList.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOTo0Mjo1OFrOGLml7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOTo0Mjo1OFrOGLml7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDgxOTgyMA==", "bodyText": "Where is this used?", "url": "https://github.com/EssentialsX/Essentials/pull/3067#discussion_r414819820", "createdAt": "2020-04-24T19:42:58Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/PlayerList.java", "diffHunk": "@@ -60,17 +60,14 @@ public static String listSummary(final IEssentials ess, final User user, final b\n \n     // Build the basic player list, divided by groups.\n     public static Map<String, List<User>> getPlayerLists(final IEssentials ess, final User sender, final boolean showHidden) {\n+        Server server = ess.getServer();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ded1d10d0f0d9016e5790ed31206679863ae28fb"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4750, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}