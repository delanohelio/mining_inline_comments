{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwNjcxMjMz", "number": 3415, "reviewThreads": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNjoyMjo0NVrOEJMOVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMDozOTo0MlrOEKp2eA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MDcyOTE3OnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/commands/Commandeditsign.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNjoyMjo0NVrOGpm-VQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNjoyMjo0NVrOGpm-VQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjI4MzM0OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        } else if (args[0].equalsIgnoreCase(\"reset\")) {\n          \n          \n            \n                        } else if (args[0].equalsIgnoreCase(\"clear\")) {", "url": "https://github.com/EssentialsX/Essentials/pull/3415#discussion_r446283349", "createdAt": "2020-06-26T16:22:45Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/commands/Commandeditsign.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package com.earth2me.essentials.commands;\n+\n+import com.earth2me.essentials.User;\n+import com.earth2me.essentials.utils.FormatUtil;\n+import com.earth2me.essentials.utils.NumberUtil;\n+import com.google.common.collect.Lists;\n+import org.bukkit.ChatColor;\n+import org.bukkit.Server;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.Sign;\n+\n+import java.util.Collections;\n+import java.util.List;\n+\n+import static com.earth2me.essentials.I18n.tl;\n+\n+public class Commandeditsign extends EssentialsCommand {\n+    public Commandeditsign() {\n+        super(\"editsign\");\n+    }\n+\n+    @Override\n+    protected void run(Server server, User user, String commandLabel, String[] args) throws Exception {\n+        if (args.length < 2 || !NumberUtil.isInt(args[1])) {\n+            throw new NotEnoughArgumentsException();\n+        }\n+\n+        Block target = user.getBase().getTargetBlock(null, 5); //5 is a good number\n+        if (!(target.getState() instanceof Sign)) {\n+            throw new Exception(tl(\"editsignCommandTarget\"));\n+        }\n+        Sign sign = (Sign) target.getState();\n+        int line = Integer.parseInt(args[1]) - 1;\n+        try {\n+            if (args[0].equalsIgnoreCase(\"set\") && args.length > 2) {\n+                String text = FormatUtil.formatString(user, \"essentials.editsign\", getFinalArg(args, 2)).trim();\n+                if (ChatColor.stripColor(text).length() > 15 && !user.isAuthorized(\"essentials.editsign.unlimited\")) {\n+                    throw new Exception(tl(\"editsignCommandLimit\"));\n+                }\n+                sign.setLine(line, text);\n+                sign.update();\n+                user.sendMessage(tl(\"editsignCommandSetSuccess\", line + 1, text));\n+            } else if (args[0].equalsIgnoreCase(\"reset\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b49cc195cc5268ddbd30f77ea5d1e938cc3cef7"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MDczMDAyOnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/commands/Commandeditsign.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNjoyMzowMVrOGpm-2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNjoyMzowMVrOGpm-2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjI4MzQ4MQ==", "bodyText": "You can do here a new argument to clear all lines for lazy peoples.\nEDIT: reset -> clear", "url": "https://github.com/EssentialsX/Essentials/pull/3415#discussion_r446283481", "createdAt": "2020-06-26T16:23:01Z", "author": {"login": "montlikadani"}, "path": "Essentials/src/com/earth2me/essentials/commands/Commandeditsign.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package com.earth2me.essentials.commands;\n+\n+import com.earth2me.essentials.User;\n+import com.earth2me.essentials.utils.FormatUtil;\n+import com.earth2me.essentials.utils.NumberUtil;\n+import com.google.common.collect.Lists;\n+import org.bukkit.ChatColor;\n+import org.bukkit.Server;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.Sign;\n+\n+import java.util.Collections;\n+import java.util.List;\n+\n+import static com.earth2me.essentials.I18n.tl;\n+\n+public class Commandeditsign extends EssentialsCommand {\n+    public Commandeditsign() {\n+        super(\"editsign\");\n+    }\n+\n+    @Override\n+    protected void run(Server server, User user, String commandLabel, String[] args) throws Exception {\n+        if (args.length < 2 || !NumberUtil.isInt(args[1])) {\n+            throw new NotEnoughArgumentsException();\n+        }\n+\n+        Block target = user.getBase().getTargetBlock(null, 5); //5 is a good number\n+        if (!(target.getState() instanceof Sign)) {\n+            throw new Exception(tl(\"editsignCommandTarget\"));\n+        }\n+        Sign sign = (Sign) target.getState();\n+        int line = Integer.parseInt(args[1]) - 1;\n+        try {\n+            if (args[0].equalsIgnoreCase(\"set\") && args.length > 2) {\n+                String text = FormatUtil.formatString(user, \"essentials.editsign\", getFinalArg(args, 2)).trim();\n+                if (ChatColor.stripColor(text).length() > 15 && !user.isAuthorized(\"essentials.editsign.unlimited\")) {\n+                    throw new Exception(tl(\"editsignCommandLimit\"));\n+                }\n+                sign.setLine(line, text);\n+                sign.update();\n+                user.sendMessage(tl(\"editsignCommandSetSuccess\", line + 1, text));\n+            } else if (args[0].equalsIgnoreCase(\"reset\")) {\n+                sign.setLine(line, \"\");\n+                sign.update();\n+                user.sendMessage(tl(\"editsignCommandResetLine\", line + 1));\n+            } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b49cc195cc5268ddbd30f77ea5d1e938cc3cef7"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MDczMzQ3OnYy", "diffSide": "RIGHT", "path": "Essentials/src/plugin.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNjoyNDowNVrOGpnBDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNjoyNDowNVrOGpnBDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjI4NDA0Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                usage: /<command> <set/reset> <line number> [text]\n          \n          \n            \n                usage: /<command> <set/clear> <line number> [text]", "url": "https://github.com/EssentialsX/Essentials/pull/3415#discussion_r446284047", "createdAt": "2020-06-26T16:24:05Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/plugin.yml", "diffHunk": "@@ -396,6 +396,10 @@ commands:\n     description: Show contents of a kit.\n     usage: /<command> <kitname>\n     aliases: [kitpreview,preview,kitshow]\n+  editsign:\n+    description: Edits a sign in the world.\n+    usage: /<command> <set/reset> <line number> [text]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b49cc195cc5268ddbd30f77ea5d1e938cc3cef7"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTk5Njg3OnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/commands/Commandeditsign.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMzo0ODo0N1rOGpy-7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMzo0ODo0N1rOGpy-7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ4MDExMA==", "bodyText": "Maybe something more like this to show flow better. Also, resetting the whole sign is missing a feedback message.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                return;\n          \n          \n            \n                            }\n          \n          \n            \n                            int line = Integer.parseInt(args[1]) - 1;\n          \n          \n            \n                            sign.setLine(line, \"\");\n          \n          \n            \n                            sign.update();\n          \n          \n            \n                            user.sendMessage(tl(\"editsignCommandResetLine\", line + 1));\n          \n          \n            \n                            } else {\n          \n          \n            \n                                int line = Integer.parseInt(args[1]) - 1;\n          \n          \n            \n                                sign.setLine(line, \"\");\n          \n          \n            \n                                sign.update();\n          \n          \n            \n                                user.sendMessage(tl(\"editsignCommandResetLine\", line + 1));\n          \n          \n            \n                            }", "url": "https://github.com/EssentialsX/Essentials/pull/3415#discussion_r446480110", "createdAt": "2020-06-27T03:48:47Z", "author": {"login": "pop4959"}, "path": "Essentials/src/com/earth2me/essentials/commands/Commandeditsign.java", "diffHunk": "@@ -0,0 +1,73 @@\n+package com.earth2me.essentials.commands;\n+\n+import com.earth2me.essentials.User;\n+import com.earth2me.essentials.utils.FormatUtil;\n+import com.earth2me.essentials.utils.NumberUtil;\n+import com.google.common.collect.Lists;\n+import org.bukkit.ChatColor;\n+import org.bukkit.Server;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.Sign;\n+\n+import java.util.Collections;\n+import java.util.List;\n+\n+import static com.earth2me.essentials.I18n.tl;\n+\n+public class Commandeditsign extends EssentialsCommand {\n+    public Commandeditsign() {\n+        super(\"editsign\");\n+    }\n+\n+    @Override\n+    protected void run(Server server, User user, String commandLabel, String[] args) throws Exception {\n+        if (args.length == 0 || (args.length > 1 && !NumberUtil.isInt(args[1]))) {\n+            throw new NotEnoughArgumentsException();\n+        }\n+\n+        Block target = user.getBase().getTargetBlock(null, 5); //5 is a good number\n+        if (!(target.getState() instanceof Sign)) {\n+            throw new Exception(tl(\"editsignCommandTarget\"));\n+        }\n+        Sign sign = (Sign) target.getState();\n+        try {\n+            if (args[0].equalsIgnoreCase(\"set\") && args.length > 2) {\n+                int line = Integer.parseInt(args[1]) - 1;\n+                String text = FormatUtil.formatString(user, \"essentials.editsign\", getFinalArg(args, 2)).trim();\n+                if (ChatColor.stripColor(text).length() > 15 && !user.isAuthorized(\"essentials.editsign.unlimited\")) {\n+                    throw new Exception(tl(\"editsignCommandLimit\"));\n+                }\n+                sign.setLine(line, text);\n+                sign.update();\n+                user.sendMessage(tl(\"editsignCommandSetSuccess\", line + 1, text));\n+            } else if (args[0].equalsIgnoreCase(\"clear\")) {\n+                if (args.length == 1) {\n+                    for (int i = 0; i < 4; i++) { // A whole one line of line savings!\n+                        sign.setLine(i, \"\");\n+                    }\n+                    sign.update();\n+                    return;\n+                }\n+                int line = Integer.parseInt(args[1]) - 1;\n+                sign.setLine(line, \"\");\n+                sign.update();\n+                user.sendMessage(tl(\"editsignCommandResetLine\", line + 1));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cce9bc5177f532d7b26e1b04d054ed24c04bbcb"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTk5NzY4OnYy", "diffSide": "RIGHT", "path": "Essentials/src/messages.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMzo1MDowNFrOGpy_Sw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMzo1MDowNFrOGpy_Sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ4MDIwMw==", "bodyText": "reset -> clear for clarity since command changed, also probably want a message for whole sign\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            editsignCommandResetLine=\\u00a76Reset line\\u00a7c {0}\\u00a76 on your target sign.\n          \n          \n            \n            editsignCommandClear=\\u00a76Cleared your target sign.\n          \n          \n            \n            editsignCommandClearLine=\\u00a76Cleared line\\u00a7c {0}\\u00a76 on your target sign.", "url": "https://github.com/EssentialsX/Essentials/pull/3415#discussion_r446480203", "createdAt": "2020-06-27T03:50:04Z", "author": {"login": "pop4959"}, "path": "Essentials/src/messages.properties", "diffHunk": "@@ -692,6 +692,13 @@ setworthCommandUsage=/<command> [itemname|id] <price>\n sheepMalformedColor=\\u00a74Malformed color.\n shoutFormat=\\u00a76[Shout]\\u00a7r {0}\n showkitCommandDescription=Show contents of a kit.\n+editsignCommandDescription=Edits a sign in the world.\n+editsignCommandLimit=\\u00a74Your provided text is too big to fit on the target sign.\n+editsignCommandNoLine=\\u00a74You must enter a line number between \\u00a7c1-4\\u00a74.\n+editsignCommandResetLine=\\u00a76Reset line\\u00a7c {0}\\u00a76 on your target sign.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cce9bc5177f532d7b26e1b04d054ed24c04bbcb"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTk5ODUwOnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/commands/Commandeditsign.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMzo1MDo1MFrOGpy_pQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMzo1MDo1MFrOGpy_pQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ4MDI5Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        return Lists.newArrayList(\"set\", \"reset\");\n          \n          \n            \n                        return Lists.newArrayList(\"set\", \"clear\");", "url": "https://github.com/EssentialsX/Essentials/pull/3415#discussion_r446480293", "createdAt": "2020-06-27T03:50:50Z", "author": {"login": "pop4959"}, "path": "Essentials/src/com/earth2me/essentials/commands/Commandeditsign.java", "diffHunk": "@@ -0,0 +1,73 @@\n+package com.earth2me.essentials.commands;\n+\n+import com.earth2me.essentials.User;\n+import com.earth2me.essentials.utils.FormatUtil;\n+import com.earth2me.essentials.utils.NumberUtil;\n+import com.google.common.collect.Lists;\n+import org.bukkit.ChatColor;\n+import org.bukkit.Server;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.Sign;\n+\n+import java.util.Collections;\n+import java.util.List;\n+\n+import static com.earth2me.essentials.I18n.tl;\n+\n+public class Commandeditsign extends EssentialsCommand {\n+    public Commandeditsign() {\n+        super(\"editsign\");\n+    }\n+\n+    @Override\n+    protected void run(Server server, User user, String commandLabel, String[] args) throws Exception {\n+        if (args.length == 0 || (args.length > 1 && !NumberUtil.isInt(args[1]))) {\n+            throw new NotEnoughArgumentsException();\n+        }\n+\n+        Block target = user.getBase().getTargetBlock(null, 5); //5 is a good number\n+        if (!(target.getState() instanceof Sign)) {\n+            throw new Exception(tl(\"editsignCommandTarget\"));\n+        }\n+        Sign sign = (Sign) target.getState();\n+        try {\n+            if (args[0].equalsIgnoreCase(\"set\") && args.length > 2) {\n+                int line = Integer.parseInt(args[1]) - 1;\n+                String text = FormatUtil.formatString(user, \"essentials.editsign\", getFinalArg(args, 2)).trim();\n+                if (ChatColor.stripColor(text).length() > 15 && !user.isAuthorized(\"essentials.editsign.unlimited\")) {\n+                    throw new Exception(tl(\"editsignCommandLimit\"));\n+                }\n+                sign.setLine(line, text);\n+                sign.update();\n+                user.sendMessage(tl(\"editsignCommandSetSuccess\", line + 1, text));\n+            } else if (args[0].equalsIgnoreCase(\"clear\")) {\n+                if (args.length == 1) {\n+                    for (int i = 0; i < 4; i++) { // A whole one line of line savings!\n+                        sign.setLine(i, \"\");\n+                    }\n+                    sign.update();\n+                    return;\n+                }\n+                int line = Integer.parseInt(args[1]) - 1;\n+                sign.setLine(line, \"\");\n+                sign.update();\n+                user.sendMessage(tl(\"editsignCommandResetLine\", line + 1));\n+            } else {\n+                throw new NotEnoughArgumentsException();\n+            }\n+        } catch (IndexOutOfBoundsException e) {\n+            throw new Exception(tl(\"editsignCommandNoLine\"));\n+        }\n+    }\n+\n+    @Override\n+    protected List<String> getTabCompleteOptions(Server server, User user, String commandLabel, String[] args) {\n+        if (args.length == 1) {\n+            return Lists.newArrayList(\"set\", \"reset\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cce9bc5177f532d7b26e1b04d054ed24c04bbcb"}, "originalPosition": 66}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NjA1Nzc2OnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/commands/Commandeditsign.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMDozNTo0NlrOGr0hMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMDozNTo0NlrOGr0hMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODYwMjQxOA==", "bodyText": "I don't know whether we should just use essentials.sign.<format>? People accustomed to EssentialsX's existing sign formatting permissions might be confused about the separate permission. Alternatively we could keep this as-is, and recommend the LP shorthand format if people want to use a single entry (essentials.{sign,editsign}.{color,format}).", "url": "https://github.com/EssentialsX/Essentials/pull/3415#discussion_r448602418", "createdAt": "2020-07-01T20:35:46Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/commands/Commandeditsign.java", "diffHunk": "@@ -0,0 +1,74 @@\n+package com.earth2me.essentials.commands;\n+\n+import com.earth2me.essentials.User;\n+import com.earth2me.essentials.utils.FormatUtil;\n+import com.earth2me.essentials.utils.NumberUtil;\n+import com.google.common.collect.Lists;\n+import org.bukkit.ChatColor;\n+import org.bukkit.Server;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.Sign;\n+\n+import java.util.Collections;\n+import java.util.List;\n+\n+import static com.earth2me.essentials.I18n.tl;\n+\n+public class Commandeditsign extends EssentialsCommand {\n+    public Commandeditsign() {\n+        super(\"editsign\");\n+    }\n+\n+    @Override\n+    protected void run(Server server, User user, String commandLabel, String[] args) throws Exception {\n+        if (args.length == 0 || (args.length > 1 && !NumberUtil.isInt(args[1]))) {\n+            throw new NotEnoughArgumentsException();\n+        }\n+\n+        Block target = user.getBase().getTargetBlock(null, 5); //5 is a good number\n+        if (!(target.getState() instanceof Sign)) {\n+            throw new Exception(tl(\"editsignCommandTarget\"));\n+        }\n+        Sign sign = (Sign) target.getState();\n+        try {\n+            if (args[0].equalsIgnoreCase(\"set\") && args.length > 2) {\n+                int line = Integer.parseInt(args[1]) - 1;\n+                String text = FormatUtil.formatString(user, \"essentials.editsign\", getFinalArg(args, 2)).trim();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34336657c51d4f95df73869af93ddea19a3ee523"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NjA1OTQzOnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/commands/Commandeditsign.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMDozNjoxNlrOGr0iNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMDozNjoxNlrOGr0iNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODYwMjY3Ng==", "bodyText": "o p t i m i s a t i o n", "url": "https://github.com/EssentialsX/Essentials/pull/3415#discussion_r448602676", "createdAt": "2020-07-01T20:36:16Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/commands/Commandeditsign.java", "diffHunk": "@@ -0,0 +1,74 @@\n+package com.earth2me.essentials.commands;\n+\n+import com.earth2me.essentials.User;\n+import com.earth2me.essentials.utils.FormatUtil;\n+import com.earth2me.essentials.utils.NumberUtil;\n+import com.google.common.collect.Lists;\n+import org.bukkit.ChatColor;\n+import org.bukkit.Server;\n+import org.bukkit.block.Block;\n+import org.bukkit.block.Sign;\n+\n+import java.util.Collections;\n+import java.util.List;\n+\n+import static com.earth2me.essentials.I18n.tl;\n+\n+public class Commandeditsign extends EssentialsCommand {\n+    public Commandeditsign() {\n+        super(\"editsign\");\n+    }\n+\n+    @Override\n+    protected void run(Server server, User user, String commandLabel, String[] args) throws Exception {\n+        if (args.length == 0 || (args.length > 1 && !NumberUtil.isInt(args[1]))) {\n+            throw new NotEnoughArgumentsException();\n+        }\n+\n+        Block target = user.getBase().getTargetBlock(null, 5); //5 is a good number\n+        if (!(target.getState() instanceof Sign)) {\n+            throw new Exception(tl(\"editsignCommandTarget\"));\n+        }\n+        Sign sign = (Sign) target.getState();\n+        try {\n+            if (args[0].equalsIgnoreCase(\"set\") && args.length > 2) {\n+                int line = Integer.parseInt(args[1]) - 1;\n+                String text = FormatUtil.formatString(user, \"essentials.editsign\", getFinalArg(args, 2)).trim();\n+                if (ChatColor.stripColor(text).length() > 15 && !user.isAuthorized(\"essentials.editsign.unlimited\")) {\n+                    throw new Exception(tl(\"editsignCommandLimit\"));\n+                }\n+                sign.setLine(line, text);\n+                sign.update();\n+                user.sendMessage(tl(\"editsignCommandSetSuccess\", line + 1, text));\n+            } else if (args[0].equalsIgnoreCase(\"clear\")) {\n+                if (args.length == 1) {\n+                    for (int i = 0; i < 4; i++) { // A whole one line of line savings!", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34336657c51d4f95df73869af93ddea19a3ee523"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NjA2NTc5OnYy", "diffSide": "RIGHT", "path": "Essentials/src/messages.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMDozODoyOFrOGr0mJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMDozODoyOFrOGr0mJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODYwMzY4Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            editsignCommandClear=\\u00a76Cleared your target sign.\n          \n          \n            \n            editsignCommandClear=\\u00a76Sign cleared.", "url": "https://github.com/EssentialsX/Essentials/pull/3415#discussion_r448603687", "createdAt": "2020-07-01T20:38:28Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/messages.properties", "diffHunk": "@@ -691,7 +691,15 @@ setworthCommandDescription=Set the sell value of an item.\n setworthCommandUsage=/<command> [itemname|id] <price>\n sheepMalformedColor=\\u00a74Malformed color.\n shoutFormat=\\u00a76[Shout]\\u00a7r {0}\n+editsignCommandClear=\\u00a76Cleared your target sign.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34336657c51d4f95df73869af93ddea19a3ee523"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NjA2NjU0OnYy", "diffSide": "RIGHT", "path": "Essentials/src/messages.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMDozODo0NlrOGr0moA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMDozODo0NlrOGr0moA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODYwMzgwOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            editsignCommandClearLine=\\u00a76Cleared line\\u00a7c {0}\\u00a76 on your target sign.\n          \n          \n            \n            editsignCommandClearLine=\\u00a76Cleared line\\u00a7c {0}\\u00a76.\n          \n      \n    \n    \n  \n\nIMO it's redundant to specify your target sign; the player must be looking at the sign for this command to work in the first place.", "url": "https://github.com/EssentialsX/Essentials/pull/3415#discussion_r448603808", "createdAt": "2020-07-01T20:38:46Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/messages.properties", "diffHunk": "@@ -691,7 +691,15 @@ setworthCommandDescription=Set the sell value of an item.\n setworthCommandUsage=/<command> [itemname|id] <price>\n sheepMalformedColor=\\u00a74Malformed color.\n shoutFormat=\\u00a76[Shout]\\u00a7r {0}\n+editsignCommandClear=\\u00a76Cleared your target sign.\n+editsignCommandClearLine=\\u00a76Cleared line\\u00a7c {0}\\u00a76 on your target sign.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34336657c51d4f95df73869af93ddea19a3ee523"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NjA2OTA0OnYy", "diffSide": "RIGHT", "path": "Essentials/src/messages.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMDozOTo0MlrOGr0oOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMDozOTo0MlrOGr0oOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODYwNDIxOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            editsignCommandSetSuccess=\\u00a76Set line\\u00a7c {0}\\u00a76 on your target sign to \"\\u00a7c{1}\\u00a76\".\n          \n          \n            \n            editsignCommandSetSuccess=\\u00a76Set line\\u00a7c {0}\\u00a76 to \"\\u00a7c{1}\\u00a76\".", "url": "https://github.com/EssentialsX/Essentials/pull/3415#discussion_r448604218", "createdAt": "2020-07-01T20:39:42Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/messages.properties", "diffHunk": "@@ -691,7 +691,15 @@ setworthCommandDescription=Set the sell value of an item.\n setworthCommandUsage=/<command> [itemname|id] <price>\n sheepMalformedColor=\\u00a74Malformed color.\n shoutFormat=\\u00a76[Shout]\\u00a7r {0}\n+editsignCommandClear=\\u00a76Cleared your target sign.\n+editsignCommandClearLine=\\u00a76Cleared line\\u00a7c {0}\\u00a76 on your target sign.\n showkitCommandDescription=Show contents of a kit.\n+editsignCommandDescription=Edits a sign in the world.\n+editsignCommandLimit=\\u00a74Your provided text is too big to fit on the target sign.\n+editsignCommandNoLine=\\u00a74You must enter a line number between \\u00a7c1-4\\u00a74.\n+editsignCommandSetSuccess=\\u00a76Set line\\u00a7c {0}\\u00a76 on your target sign to \"\\u00a7c{1}\\u00a76\".", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34336657c51d4f95df73869af93ddea19a3ee523"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4572, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}