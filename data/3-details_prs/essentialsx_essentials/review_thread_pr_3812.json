{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzMTQ0Nzkw", "number": 3812, "reviewThreads": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwNTo1Mzo0MVrOFBYdng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMDowNjo1OFrOFMptsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2OTkzNjk0OnYy", "diffSide": "RIGHT", "path": "Essentials/src/main/resources/messages.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwNTo1Mzo0MVrOIAFr6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwNTo1Mzo0MVrOIAFr6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjk2NDA3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            serverUnsupportedDangerous=You are running a server that is known to be extremely dangerous and lead to data loss. It is strongly recommended you switch to a more stable high preforming server software like Paper or Tuinity.\n          \n          \n            \n            serverUnsupportedDangerous=You are running a server that is known to be extremely dangerous and lead to data loss. It is strongly recommended you switch to a more stable, high-performing server software like Paper or Tuinity.", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r536964072", "createdAt": "2020-12-06T05:53:41Z", "author": {"login": "l1ttleO"}, "path": "Essentials/src/main/resources/messages.properties", "diffHunk": "@@ -706,6 +706,7 @@ serverFull=Server is full\\!\n serverReloading=There's a good chance you're reloading your server right now. If that's the case, why do you hate yourself? Expect no support from the EssentialsX team when using /reload.\n serverTotal=\\u00a76Server Total\\:\\u00a7c {0}\n serverUnsupported=You are running an unsupported server version!\n+serverUnsupportedDangerous=You are running a server that is known to be extremely dangerous and lead to data loss. It is strongly recommended you switch to a more stable high preforming server software like Paper or Tuinity.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8719aaeb6dbcc60fe1fea48af0ac0f2afe8b64e8"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2OTkzODI3OnYy", "diffSide": "RIGHT", "path": "Essentials/src/main/java/com/earth2me/essentials/Essentials.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwNTo1NDo0M1rOIAFsfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwNTo1NDo0M1rOIAFsfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjk2NDIyMg==", "bodyText": "Are these { and } needed? They aren't there in other cases below", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r536964222", "createdAt": "2020-12-06T05:54:43Z", "author": {"login": "l1ttleO"}, "path": "Essentials/src/main/java/com/earth2me/essentials/Essentials.java", "diffHunk": "@@ -201,6 +201,10 @@ public void onEnable() {\n             Console.setInstance(this);\n \n             switch (VersionUtil.getServerSupportStatus()) {\n+                case DANGEROUS: {\n+                    getLogger().severe(tl(\"serverUnsupportedDangerous\"));\n+                    break;\n+                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8719aaeb6dbcc60fe1fea48af0ac0f2afe8b64e8"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2OTkzOTgzOnYy", "diffSide": "RIGHT", "path": "Essentials/src/main/java/com/earth2me/essentials/commands/Commandessentials.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwNTo1NjowOVrOIAFtKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwNTo1NjowOVrOIAFtKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjk2NDM5NA==", "bodyText": "Are these { and } needed? They aren't there in other cases below", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r536964394", "createdAt": "2020-12-06T05:56:09Z", "author": {"login": "l1ttleO"}, "path": "Essentials/src/main/java/com/earth2me/essentials/commands/Commandessentials.java", "diffHunk": "@@ -376,6 +376,10 @@ private void runVersion(final Server server, final CommandSource sender, final S\n         }\n \n         switch (supportStatus) {\n+            case DANGEROUS: {\n+                sender.sendMessage(tl(\"serverUnsupportedDangerous\"));\n+                break;\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8719aaeb6dbcc60fe1fea48af0ac0f2afe8b64e8"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MDEzMjkxOnYy", "diffSide": "RIGHT", "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwODoxODowOFrOIAHAQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwODoxODowOFrOIAHAQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjk4NTY2Nw==", "bodyText": "The UNSTABLE message is for Forge hybrid servers, but this will trigger on other impls like Glowstone.", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r536985667", "createdAt": "2020-12-06T08:18:08Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "diffHunk": "@@ -46,17 +62,33 @@ public static BukkitVersion getServerBukkitVersion() {\n     }\n \n     public static SupportStatus getServerSupportStatus() {\n-        try {\n-            Class.forName(\"net.minecraftforge.common.MinecraftForge\");\n-            return SupportStatus.UNSTABLE;\n-        } catch (final ClassNotFoundException ignored) {\n-        }\n+        if (supportStatus == null) {\n+            for (String clazz : dangerousServerClasses) {\n+                try {\n+                    Class.forName(clazz);\n+                    return supportStatus = SupportStatus.DANGEROUS;\n+                } catch (final ClassNotFoundException ignored) {\n+                }\n+            }\n \n-        if (!supportedVersions.contains(getServerBukkitVersion())) {\n-            return SupportStatus.OUTDATED;\n-        }\n+            try {\n+                Class.forName(\"net.minecraftforge.common.MinecraftForge\");\n+                return supportStatus = SupportStatus.UNSTABLE;\n+            } catch (final ClassNotFoundException ignored) {\n+            }\n+\n+            // Check for non-nms Bukkit Implis\n+            if (ReflUtil.getNMSClass(\"MinecraftServer\") == null) {\n+                return supportStatus = SupportStatus.UNSTABLE;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8719aaeb6dbcc60fe1fea48af0ac0f2afe8b64e8"}, "originalPosition": 75}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MDEzOTgyOnYy", "diffSide": "RIGHT", "path": "Essentials/src/main/java/com/earth2me/essentials/Essentials.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwODoyMzowNVrOIAHDZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwODoyMzowNVrOIAHDZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjk4NjQ3MA==", "bodyText": "Might be worth renaming this and/or the properties file to specify that this specifically covers Paper forks?", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r536986470", "createdAt": "2020-12-06T08:23:05Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/main/java/com/earth2me/essentials/Essentials.java", "diffHunk": "@@ -201,6 +201,10 @@ public void onEnable() {\n             Console.setInstance(this);\n \n             switch (VersionUtil.getServerSupportStatus()) {\n+                case DANGEROUS: {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8719aaeb6dbcc60fe1fea48af0ac0f2afe8b64e8"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MDE0MTMzOnYy", "diffSide": "RIGHT", "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwODoyNDoxM1rOIAHEEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwODoyNDoxM1rOIAHEEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjk4NjY0Mw==", "bodyText": "Why not use an immutable Map<String, SupportStatus> to cover other possible cases too?", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r536986643", "createdAt": "2020-12-06T08:24:13Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "diffHunk": "@@ -28,12 +28,28 @@\n     public static final BukkitVersion v1_15_R01 = BukkitVersion.fromString(\"1.15-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_15_2_R01 = BukkitVersion.fromString(\"1.15.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_1_R01 = BukkitVersion.fromString(\"1.16.1-R0.1-SNAPSHOT\");\n-    public static final BukkitVersion v1_16_2_R01 = BukkitVersion.fromString(\"1.16.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_4_R01 = BukkitVersion.fromString(\"1.16.4-R0.1-SNAPSHOT\");\n \n     private static final Set<BukkitVersion> supportedVersions = ImmutableSet.of(v1_8_8_R01, v1_9_4_R01, v1_10_2_R01, v1_11_2_R01, v1_12_2_R01, v1_13_2_R01, v1_14_4_R01, v1_15_2_R01, v1_16_4_R01);\n \n+    private static final Set<String> dangerousServerClasses = ImmutableSet.of(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8719aaeb6dbcc60fe1fea48af0ac0f2afe8b64e8"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MDE0MzM0OnYy", "diffSide": "RIGHT", "path": "Essentials/src/main/resources/messages.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwODoyNTo0NlrOIAHFCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwODoyNTo0NlrOIAHFCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjk4Njg4OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            serverUnsupportedDangerous=You are running a server that is known to be extremely dangerous and lead to data loss. It is strongly recommended you switch to a more stable high preforming server software like Paper or Tuinity.\n          \n          \n            \n            serverUnsupportedDangerous=You are running a server fork that is known to be extremely dangerous and lead to data loss. It is strongly recommended you switch to a more stable high-performing server software, like Paper or Tuinity.", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r536986889", "createdAt": "2020-12-06T08:25:46Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/main/resources/messages.properties", "diffHunk": "@@ -706,6 +706,7 @@ serverFull=Server is full\\!\n serverReloading=There's a good chance you're reloading your server right now. If that's the case, why do you hate yourself? Expect no support from the EssentialsX team when using /reload.\n serverTotal=\\u00a76Server Total\\:\\u00a7c {0}\n serverUnsupported=You are running an unsupported server version!\n+serverUnsupportedDangerous=You are running a server that is known to be extremely dangerous and lead to data loss. It is strongly recommended you switch to a more stable high preforming server software like Paper or Tuinity.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8719aaeb6dbcc60fe1fea48af0ac0f2afe8b64e8"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MDgwNTk1OnYy", "diffSide": "RIGHT", "path": "Essentials/src/main/resources/messages.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQxNTozODozN1rOIALwew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQxNTozODozN1rOIALwew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzA2MzU0Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            serverUnsupportedCleanroom=You are running a server that does not properly support Bukkit plugins that rely on internal Mojang code. Consider using a Essentials replacement for your server software.\n          \n          \n            \n            serverUnsupportedCleanroom=You are running a server that does not properly support Bukkit plugins that rely on internal Mojang code. Consider using an Essentials replacement for your server software.", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r537063547", "createdAt": "2020-12-06T15:38:37Z", "author": {"login": "l1ttleO"}, "path": "Essentials/src/main/resources/messages.properties", "diffHunk": "@@ -706,6 +706,8 @@ serverFull=Server is full\\!\n serverReloading=There's a good chance you're reloading your server right now. If that's the case, why do you hate yourself? Expect no support from the EssentialsX team when using /reload.\n serverTotal=\\u00a76Server Total\\:\\u00a7c {0}\n serverUnsupported=You are running an unsupported server version!\n+serverUnsupportedCleanroom=You are running a server that does not properly support Bukkit plugins that rely on internal Mojang code. Consider using a Essentials replacement for your server software.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d2661d11d9fb4d26cfcbc0f4f1b72c24e5c7cb2"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNTM5ODQwOnYy", "diffSide": "RIGHT", "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwMTo0Nzo1NFrOIE8stA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwMTo0Nzo1NFrOIE8stA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjA1OTcwMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // KibblePatcher - Dangerous bytecode editor snakeoil that's only use it to break plugins\n          \n          \n            \n                    // KibblePatcher - Dangerous bytecode editor snakeoil that's only use is to break plugins", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r542059700", "createdAt": "2020-12-14T01:47:54Z", "author": {"login": "Puremin0rez"}, "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "diffHunk": "@@ -28,12 +30,46 @@\n     public static final BukkitVersion v1_15_R01 = BukkitVersion.fromString(\"1.15-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_15_2_R01 = BukkitVersion.fromString(\"1.15.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_1_R01 = BukkitVersion.fromString(\"1.16.1-R0.1-SNAPSHOT\");\n-    public static final BukkitVersion v1_16_2_R01 = BukkitVersion.fromString(\"1.16.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_4_R01 = BukkitVersion.fromString(\"1.16.4-R0.1-SNAPSHOT\");\n \n     private static final Set<BukkitVersion> supportedVersions = ImmutableSet.of(v1_8_8_R01, v1_9_4_R01, v1_10_2_R01, v1_11_2_R01, v1_12_2_R01, v1_13_2_R01, v1_14_4_R01, v1_15_2_R01, v1_16_4_R01);\n \n+    private static final Map<String, SupportStatus> unsupportedServerClasses;\n+\n+    static {\n+        final ImmutableMap.Builder<String, SupportStatus> builder = new ImmutableMap.Builder<>();\n+\n+        // Yatopia - Extremely volatile patch set;\n+        //   * Messes with bungeecord UUIDs\n+        //   * Frequent data corruptions\n+        builder.put(\"org.yatopiamc.yatopia.server.YatopiaConfig\", SupportStatus.DANGEROUS_FORK);\n+\n+        // KibblePatcher - Dangerous bytecode editor snakeoil that's only use it to break plugins", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dacc4b65751eca71d76ed36f5a338849f653fedd"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4ODEwMTUzOnYy", "diffSide": "RIGHT", "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMDowNTowNlrOIQfdLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMDowNTowNlrOIQfdLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDE2MzUwMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // KibblePatcher - Dangerous bytecode editor snakeoil that's only use is to break plugins\n          \n          \n            \n                    // KibblePatcher - Dangerous bytecode editor snakeoil whose only use is to break plugins\n          \n      \n    \n    \n  \n\nliterally plugin-breaking smh", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r554163500", "createdAt": "2021-01-08T20:05:06Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "diffHunk": "@@ -28,12 +30,46 @@\n     public static final BukkitVersion v1_15_R01 = BukkitVersion.fromString(\"1.15-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_15_2_R01 = BukkitVersion.fromString(\"1.15.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_1_R01 = BukkitVersion.fromString(\"1.16.1-R0.1-SNAPSHOT\");\n-    public static final BukkitVersion v1_16_2_R01 = BukkitVersion.fromString(\"1.16.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_4_R01 = BukkitVersion.fromString(\"1.16.4-R0.1-SNAPSHOT\");\n \n     private static final Set<BukkitVersion> supportedVersions = ImmutableSet.of(v1_8_8_R01, v1_9_4_R01, v1_10_2_R01, v1_11_2_R01, v1_12_2_R01, v1_13_2_R01, v1_14_4_R01, v1_15_2_R01, v1_16_4_R01);\n \n+    private static final Map<String, SupportStatus> unsupportedServerClasses;\n+\n+    static {\n+        final ImmutableMap.Builder<String, SupportStatus> builder = new ImmutableMap.Builder<>();\n+\n+        // Yatopia - Extremely volatile patch set;\n+        //   * Messes with bungeecord UUIDs\n+        //   * Frequent data corruptions\n+        builder.put(\"org.yatopiamc.yatopia.server.YatopiaConfig\", SupportStatus.DANGEROUS_FORK);\n+\n+        // KibblePatcher - Dangerous bytecode editor snakeoil that's only use is to break plugins", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64fd133a773b089857a38b4ff0fd1fb257d2d4ee"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4ODEwMzI5OnYy", "diffSide": "RIGHT", "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMDowNTo0N1rOIQfeQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMDowNTo0N1rOIQfeQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDE2Mzc3Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //   * Messes with bungeecord UUIDs\n          \n          \n            \n                    //   * Messes with proxy-forwarded UUIDs", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r554163777", "createdAt": "2021-01-08T20:05:47Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "diffHunk": "@@ -28,12 +30,46 @@\n     public static final BukkitVersion v1_15_R01 = BukkitVersion.fromString(\"1.15-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_15_2_R01 = BukkitVersion.fromString(\"1.15.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_1_R01 = BukkitVersion.fromString(\"1.16.1-R0.1-SNAPSHOT\");\n-    public static final BukkitVersion v1_16_2_R01 = BukkitVersion.fromString(\"1.16.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_4_R01 = BukkitVersion.fromString(\"1.16.4-R0.1-SNAPSHOT\");\n \n     private static final Set<BukkitVersion> supportedVersions = ImmutableSet.of(v1_8_8_R01, v1_9_4_R01, v1_10_2_R01, v1_11_2_R01, v1_12_2_R01, v1_13_2_R01, v1_14_4_R01, v1_15_2_R01, v1_16_4_R01);\n \n+    private static final Map<String, SupportStatus> unsupportedServerClasses;\n+\n+    static {\n+        final ImmutableMap.Builder<String, SupportStatus> builder = new ImmutableMap.Builder<>();\n+\n+        // Yatopia - Extremely volatile patch set;\n+        //   * Messes with bungeecord UUIDs", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64fd133a773b089857a38b4ff0fd1fb257d2d4ee"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4ODEwNDAzOnYy", "diffSide": "RIGHT", "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMDowNjowNFrOIQfevw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMDowNjowNFrOIQfevw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDE2MzkwMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // Forge - Doesn't support bukkit\n          \n          \n            \n                    // Forge - Doesn't support Bukkit", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r554163903", "createdAt": "2021-01-08T20:06:04Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "diffHunk": "@@ -28,12 +30,46 @@\n     public static final BukkitVersion v1_15_R01 = BukkitVersion.fromString(\"1.15-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_15_2_R01 = BukkitVersion.fromString(\"1.15.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_1_R01 = BukkitVersion.fromString(\"1.16.1-R0.1-SNAPSHOT\");\n-    public static final BukkitVersion v1_16_2_R01 = BukkitVersion.fromString(\"1.16.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_4_R01 = BukkitVersion.fromString(\"1.16.4-R0.1-SNAPSHOT\");\n \n     private static final Set<BukkitVersion> supportedVersions = ImmutableSet.of(v1_8_8_R01, v1_9_4_R01, v1_10_2_R01, v1_11_2_R01, v1_12_2_R01, v1_13_2_R01, v1_14_4_R01, v1_15_2_R01, v1_16_4_R01);\n \n+    private static final Map<String, SupportStatus> unsupportedServerClasses;\n+\n+    static {\n+        final ImmutableMap.Builder<String, SupportStatus> builder = new ImmutableMap.Builder<>();\n+\n+        // Yatopia - Extremely volatile patch set;\n+        //   * Messes with bungeecord UUIDs\n+        //   * Frequent data corruptions\n+        builder.put(\"org.yatopiamc.yatopia.server.YatopiaConfig\", SupportStatus.DANGEROUS_FORK);\n+\n+        // KibblePatcher - Dangerous bytecode editor snakeoil that's only use is to break plugins\n+        builder.put(\"net.kibblelands.server.FastMath\", SupportStatus.DANGEROUS_FORK);\n+\n+        // AirplaneLite - Yatopia sidestream;\n+        //   * Attempts unsafe chunk concurrency\n+        builder.put(\"gg.airplane.structs.ChunkMapMap\", SupportStatus.DANGEROUS_FORK);\n+        builder.put(\"gg.airplane.structs.ConcLong2ObjectOpenHashMap\", SupportStatus.DANGEROUS_FORK);\n+\n+        // Akarin - Dangerous patch history;\n+        //   * Potentially unsafe saving of nms.JsonList\n+        builder.put(\"io.akarin.server.Config\", SupportStatus.DANGEROUS_FORK);\n+\n+        // Forge - Doesn't support bukkit", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64fd133a773b089857a38b4ff0fd1fb257d2d4ee"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4ODEwNDU3OnYy", "diffSide": "RIGHT", "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMDowNjoxOVrOIQffIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMDowNjoxOVrOIQffIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDE2NDAwMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // Fabric - Doesn't support bukkit\n          \n          \n            \n                    // Fabric - Doesn't support Bukkit", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r554164000", "createdAt": "2021-01-08T20:06:19Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "diffHunk": "@@ -28,12 +30,46 @@\n     public static final BukkitVersion v1_15_R01 = BukkitVersion.fromString(\"1.15-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_15_2_R01 = BukkitVersion.fromString(\"1.15.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_1_R01 = BukkitVersion.fromString(\"1.16.1-R0.1-SNAPSHOT\");\n-    public static final BukkitVersion v1_16_2_R01 = BukkitVersion.fromString(\"1.16.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_4_R01 = BukkitVersion.fromString(\"1.16.4-R0.1-SNAPSHOT\");\n \n     private static final Set<BukkitVersion> supportedVersions = ImmutableSet.of(v1_8_8_R01, v1_9_4_R01, v1_10_2_R01, v1_11_2_R01, v1_12_2_R01, v1_13_2_R01, v1_14_4_R01, v1_15_2_R01, v1_16_4_R01);\n \n+    private static final Map<String, SupportStatus> unsupportedServerClasses;\n+\n+    static {\n+        final ImmutableMap.Builder<String, SupportStatus> builder = new ImmutableMap.Builder<>();\n+\n+        // Yatopia - Extremely volatile patch set;\n+        //   * Messes with bungeecord UUIDs\n+        //   * Frequent data corruptions\n+        builder.put(\"org.yatopiamc.yatopia.server.YatopiaConfig\", SupportStatus.DANGEROUS_FORK);\n+\n+        // KibblePatcher - Dangerous bytecode editor snakeoil that's only use is to break plugins\n+        builder.put(\"net.kibblelands.server.FastMath\", SupportStatus.DANGEROUS_FORK);\n+\n+        // AirplaneLite - Yatopia sidestream;\n+        //   * Attempts unsafe chunk concurrency\n+        builder.put(\"gg.airplane.structs.ChunkMapMap\", SupportStatus.DANGEROUS_FORK);\n+        builder.put(\"gg.airplane.structs.ConcLong2ObjectOpenHashMap\", SupportStatus.DANGEROUS_FORK);\n+\n+        // Akarin - Dangerous patch history;\n+        //   * Potentially unsafe saving of nms.JsonList\n+        builder.put(\"io.akarin.server.Config\", SupportStatus.DANGEROUS_FORK);\n+\n+        // Forge - Doesn't support bukkit\n+        builder.put(\"net.minecraftforge.common.MinecraftForge\", SupportStatus.UNSTABLE);\n+\n+        // Fabric - Doesn't support bukkit", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64fd133a773b089857a38b4ff0fd1fb257d2d4ee"}, "originalPosition": 56}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4ODEwNjczOnYy", "diffSide": "RIGHT", "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMDowNjo1OFrOIQfgaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQyMDoyOTowOFrOIQgK8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDE2NDMyOA==", "bodyText": "iirc calling this will break startup entirely on Glowstone or other non-NMS servers, which isn't ideal", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r554164328", "createdAt": "2021-01-08T20:06:58Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "diffHunk": "@@ -28,12 +30,46 @@\n     public static final BukkitVersion v1_15_R01 = BukkitVersion.fromString(\"1.15-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_15_2_R01 = BukkitVersion.fromString(\"1.15.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_1_R01 = BukkitVersion.fromString(\"1.16.1-R0.1-SNAPSHOT\");\n-    public static final BukkitVersion v1_16_2_R01 = BukkitVersion.fromString(\"1.16.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_4_R01 = BukkitVersion.fromString(\"1.16.4-R0.1-SNAPSHOT\");\n \n     private static final Set<BukkitVersion> supportedVersions = ImmutableSet.of(v1_8_8_R01, v1_9_4_R01, v1_10_2_R01, v1_11_2_R01, v1_12_2_R01, v1_13_2_R01, v1_14_4_R01, v1_15_2_R01, v1_16_4_R01);\n \n+    private static final Map<String, SupportStatus> unsupportedServerClasses;\n+\n+    static {\n+        final ImmutableMap.Builder<String, SupportStatus> builder = new ImmutableMap.Builder<>();\n+\n+        // Yatopia - Extremely volatile patch set;\n+        //   * Messes with bungeecord UUIDs\n+        //   * Frequent data corruptions\n+        builder.put(\"org.yatopiamc.yatopia.server.YatopiaConfig\", SupportStatus.DANGEROUS_FORK);\n+\n+        // KibblePatcher - Dangerous bytecode editor snakeoil that's only use is to break plugins\n+        builder.put(\"net.kibblelands.server.FastMath\", SupportStatus.DANGEROUS_FORK);\n+\n+        // AirplaneLite - Yatopia sidestream;\n+        //   * Attempts unsafe chunk concurrency\n+        builder.put(\"gg.airplane.structs.ChunkMapMap\", SupportStatus.DANGEROUS_FORK);\n+        builder.put(\"gg.airplane.structs.ConcLong2ObjectOpenHashMap\", SupportStatus.DANGEROUS_FORK);\n+\n+        // Akarin - Dangerous patch history;\n+        //   * Potentially unsafe saving of nms.JsonList\n+        builder.put(\"io.akarin.server.Config\", SupportStatus.DANGEROUS_FORK);\n+\n+        // Forge - Doesn't support bukkit\n+        builder.put(\"net.minecraftforge.common.MinecraftForge\", SupportStatus.UNSTABLE);\n+\n+        // Fabric - Doesn't support bukkit\n+        builder.put(\"net.fabricmc.loader.launch.knot.KnotServer\", SupportStatus.UNSTABLE);\n+\n+        // Misc translation layers that do not add NMS will be caught by this\n+        builder.put(\"!net.minecraft.server.\" + ReflUtil.getNMSVersion() + \".MinecraftServer\", SupportStatus.NMS_CLEANROOM);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64fd133a773b089857a38b4ff0fd1fb257d2d4ee"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDE3NTIxOQ==", "bodyText": "fixed this, will not silently fail", "url": "https://github.com/EssentialsX/Essentials/pull/3812#discussion_r554175219", "createdAt": "2021-01-08T20:29:08Z", "author": {"login": "JRoy"}, "path": "Essentials/src/main/java/com/earth2me/essentials/utils/VersionUtil.java", "diffHunk": "@@ -28,12 +30,46 @@\n     public static final BukkitVersion v1_15_R01 = BukkitVersion.fromString(\"1.15-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_15_2_R01 = BukkitVersion.fromString(\"1.15.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_1_R01 = BukkitVersion.fromString(\"1.16.1-R0.1-SNAPSHOT\");\n-    public static final BukkitVersion v1_16_2_R01 = BukkitVersion.fromString(\"1.16.2-R0.1-SNAPSHOT\");\n     public static final BukkitVersion v1_16_4_R01 = BukkitVersion.fromString(\"1.16.4-R0.1-SNAPSHOT\");\n \n     private static final Set<BukkitVersion> supportedVersions = ImmutableSet.of(v1_8_8_R01, v1_9_4_R01, v1_10_2_R01, v1_11_2_R01, v1_12_2_R01, v1_13_2_R01, v1_14_4_R01, v1_15_2_R01, v1_16_4_R01);\n \n+    private static final Map<String, SupportStatus> unsupportedServerClasses;\n+\n+    static {\n+        final ImmutableMap.Builder<String, SupportStatus> builder = new ImmutableMap.Builder<>();\n+\n+        // Yatopia - Extremely volatile patch set;\n+        //   * Messes with bungeecord UUIDs\n+        //   * Frequent data corruptions\n+        builder.put(\"org.yatopiamc.yatopia.server.YatopiaConfig\", SupportStatus.DANGEROUS_FORK);\n+\n+        // KibblePatcher - Dangerous bytecode editor snakeoil that's only use is to break plugins\n+        builder.put(\"net.kibblelands.server.FastMath\", SupportStatus.DANGEROUS_FORK);\n+\n+        // AirplaneLite - Yatopia sidestream;\n+        //   * Attempts unsafe chunk concurrency\n+        builder.put(\"gg.airplane.structs.ChunkMapMap\", SupportStatus.DANGEROUS_FORK);\n+        builder.put(\"gg.airplane.structs.ConcLong2ObjectOpenHashMap\", SupportStatus.DANGEROUS_FORK);\n+\n+        // Akarin - Dangerous patch history;\n+        //   * Potentially unsafe saving of nms.JsonList\n+        builder.put(\"io.akarin.server.Config\", SupportStatus.DANGEROUS_FORK);\n+\n+        // Forge - Doesn't support bukkit\n+        builder.put(\"net.minecraftforge.common.MinecraftForge\", SupportStatus.UNSTABLE);\n+\n+        // Fabric - Doesn't support bukkit\n+        builder.put(\"net.fabricmc.loader.launch.knot.KnotServer\", SupportStatus.UNSTABLE);\n+\n+        // Misc translation layers that do not add NMS will be caught by this\n+        builder.put(\"!net.minecraft.server.\" + ReflUtil.getNMSVersion() + \".MinecraftServer\", SupportStatus.NMS_CLEANROOM);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDE2NDMyOA=="}, "originalCommit": {"oid": "64fd133a773b089857a38b4ff0fd1fb257d2d4ee"}, "originalPosition": 60}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4481, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}