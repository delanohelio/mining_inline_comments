{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5NzI5ODU5", "number": 3715, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwNzo1Mzo0N1rOErfYiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwODo0MToxN1rOEsiDVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MDM4NDA4OnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/craftbukkit/InventoryWorkaround.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwNzo1Mzo0N1rOHeSN4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwNzo1Mzo0N1rOHeSN4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTUxNzc5Mg==", "bodyText": "This if will always return true, therefore making no need for it", "url": "https://github.com/EssentialsX/Essentials/pull/3715#discussion_r501517792", "createdAt": "2020-10-08T07:53:47Z", "author": {"login": "l1ttleO"}, "path": "Essentials/src/com/earth2me/essentials/craftbukkit/InventoryWorkaround.java", "diffHunk": "@@ -267,4 +263,22 @@ public static void setItemInOffHand(final Player p, final ItemStack item) {\n             }\n         }\n     }\n+\n+    public static int clearItemInOffHand(final Player p, final ItemStack item) {\n+        if (hasMainHandSupport == null || hasMainHandSupport) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1811f12430e69bc2503f6e7b25e357084f4fe152"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MDM4OTQ5OnYy", "diffSide": "LEFT", "path": "Essentials/src/com/earth2me/essentials/craftbukkit/InventoryWorkaround.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwNzo1NToxMVrOHeSRLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwNzo1NToxMVrOHeSRLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTUxODYzOA==", "bodyText": "Don't make changes that aren't associated with your PR", "url": "https://github.com/EssentialsX/Essentials/pull/3715#discussion_r501518638", "createdAt": "2020-10-08T07:55:11Z", "author": {"login": "l1ttleO"}, "path": "Essentials/src/com/earth2me/essentials/craftbukkit/InventoryWorkaround.java", "diffHunk": "@@ -12,10 +12,6 @@\n import java.util.HashMap;\n import java.util.Map;\n \n-/*\n- * This class can be removed when https://github.com/Bukkit/CraftBukkit/pull/193 is accepted to CraftBukkit\n- */\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1811f12430e69bc2503f6e7b25e357084f4fe152"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MjYwOTk0OnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/craftbukkit/InventoryWorkaround.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNjo1MzoxMFrOHenpVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQyMzoyNDowMlrOHe0LvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg2ODg4Ng==", "bodyText": "This is redundant?", "url": "https://github.com/EssentialsX/Essentials/pull/3715#discussion_r501868886", "createdAt": "2020-10-08T16:53:10Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/craftbukkit/InventoryWorkaround.java", "diffHunk": "@@ -267,4 +267,17 @@ public static void setItemInOffHand(final Player p, final ItemStack item) {\n             }\n         }\n     }\n+\n+    public static int clearItemInOffHand(final Player p, final ItemStack item) {\n+        if (hasMainHandSupport) {\n+            int removedAmount = 0;\n+            if (p.getInventory().getItemInOffHand().getType().equals(item.getType())) {\n+                removedAmount = p.getInventory().getItemInOffHand().getAmount();\n+                p.getInventory().setItemInOffHand(null);\n+            }\n+            hasMainHandSupport = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d071ea7081eaf117287b25b5bddb6d07731ea8ea"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjA3NDMwMA==", "bodyText": "Forgot to remove that when I removed hasMainHandSupport == null. Will fix.", "url": "https://github.com/EssentialsX/Essentials/pull/3715#discussion_r502074300", "createdAt": "2020-10-08T23:24:02Z", "author": {"login": "Kenichycmd"}, "path": "Essentials/src/com/earth2me/essentials/craftbukkit/InventoryWorkaround.java", "diffHunk": "@@ -267,4 +267,17 @@ public static void setItemInOffHand(final Player p, final ItemStack item) {\n             }\n         }\n     }\n+\n+    public static int clearItemInOffHand(final Player p, final ItemStack item) {\n+        if (hasMainHandSupport) {\n+            int removedAmount = 0;\n+            if (p.getInventory().getItemInOffHand().getType().equals(item.getType())) {\n+                removedAmount = p.getInventory().getItemInOffHand().getAmount();\n+                p.getInventory().setItemInOffHand(null);\n+            }\n+            hasMainHandSupport = true;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg2ODg4Ng=="}, "originalCommit": {"oid": "d071ea7081eaf117287b25b5bddb6d07731ea8ea"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1MTMwMDQyOnYy", "diffSide": "RIGHT", "path": "Essentials/src/config.yml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwODozOTo0NFrOHf0tjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNjowMDoxNlrOHgWg4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzEzMTUzMg==", "bodyText": "It makes more sense to keep the old behaviour for old configs and change the behaviour for fresh configs, but this does the opposite?", "url": "https://github.com/EssentialsX/Essentials/pull/3715#discussion_r503131532", "createdAt": "2020-10-12T08:39:44Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/config.yml", "diffHunk": "@@ -141,6 +141,9 @@ warn-on-smite: true\n # Shall we drop items instead of adding to inventory if the target inventory is full?\n drop-items-if-full: false\n \n+# Shall we clear the offhand slot when executing the command /clear [player] [item]\n+clear-offhand-slot: false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b220f0d5f60c0f924f9fe0630087105282f6132"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzE4OTI2Nw==", "bodyText": "Wdym by that?", "url": "https://github.com/EssentialsX/Essentials/pull/3715#discussion_r503189267", "createdAt": "2020-10-12T10:12:03Z", "author": {"login": "Kenichycmd"}, "path": "Essentials/src/config.yml", "diffHunk": "@@ -141,6 +141,9 @@ warn-on-smite: true\n # Shall we drop items instead of adding to inventory if the target inventory is full?\n drop-items-if-full: false\n \n+# Shall we clear the offhand slot when executing the command /clear [player] [item]\n+clear-offhand-slot: false", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzEzMTUzMg=="}, "originalCommit": {"oid": "3b220f0d5f60c0f924f9fe0630087105282f6132"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzI1MDEwNg==", "bodyText": "He wanted that for new configs, it will be true (basically change this to true), however for existing ones it will be false (defined in Settings.java, change it to false there)", "url": "https://github.com/EssentialsX/Essentials/pull/3715#discussion_r503250106", "createdAt": "2020-10-12T12:07:09Z", "author": {"login": "l1ttleO"}, "path": "Essentials/src/config.yml", "diffHunk": "@@ -141,6 +141,9 @@ warn-on-smite: true\n # Shall we drop items instead of adding to inventory if the target inventory is full?\n drop-items-if-full: false\n \n+# Shall we clear the offhand slot when executing the command /clear [player] [item]\n+clear-offhand-slot: false", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzEzMTUzMg=="}, "originalCommit": {"oid": "3b220f0d5f60c0f924f9fe0630087105282f6132"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzY4NTM0NQ==", "bodyText": "I'm so dumb, I forgot to change the isOffHandSlotClearingEnabled() in Settings.java to false when I was thinking of changing clear-offhand-slot to false xD. Thanks!", "url": "https://github.com/EssentialsX/Essentials/pull/3715#discussion_r503685345", "createdAt": "2020-10-13T06:00:16Z", "author": {"login": "Kenichycmd"}, "path": "Essentials/src/config.yml", "diffHunk": "@@ -141,6 +141,9 @@ warn-on-smite: true\n # Shall we drop items instead of adding to inventory if the target inventory is full?\n drop-items-if-full: false\n \n+# Shall we clear the offhand slot when executing the command /clear [player] [item]\n+clear-offhand-slot: false", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzEzMTUzMg=="}, "originalCommit": {"oid": "3b220f0d5f60c0f924f9fe0630087105282f6132"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1MTMwNzExOnYy", "diffSide": "RIGHT", "path": "Essentials/src/config.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwODo0MToxN1rOHf0xaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwODo0MToxN1rOHf0xaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzEzMjUyMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Shall we clear the offhand slot when executing the command /clear [player] [item]\n          \n          \n            \n            # Shall we clear the offhand slot when executing the command /clear [player] [item]?\n          \n          \n            \n            # Note that running /clear on its own will clear your offhand regardless of this setting.\n          \n      \n    \n    \n  \n\nClarifies the meaning of this option.", "url": "https://github.com/EssentialsX/Essentials/pull/3715#discussion_r503132523", "createdAt": "2020-10-12T08:41:17Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/config.yml", "diffHunk": "@@ -141,6 +141,9 @@ warn-on-smite: true\n # Shall we drop items instead of adding to inventory if the target inventory is full?\n drop-items-if-full: false\n \n+# Shall we clear the offhand slot when executing the command /clear [player] [item]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b220f0d5f60c0f924f9fe0630087105282f6132"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4458, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}