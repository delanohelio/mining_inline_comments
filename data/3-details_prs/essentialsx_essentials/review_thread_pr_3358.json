{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4Njg4MTI5", "number": 3358, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQxNDozOTowNFrOEDK8jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQxNDo0MDo1MFrOEDK87g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNzYwNTI3OnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/I18n.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQxNDozOTowNFrOGgECng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQxNDozOTowNFrOGgECng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjI3MzgyMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        String bundleName = toBundleName(baseName, locale);\n          \n          \n            \n                        String resourceName = toResourceName(bundleName, \"properties\");\n          \n          \n            \n                        String resourceName = toResourceName(toBundleName(baseName, locale), \"properties\");", "url": "https://github.com/EssentialsX/Essentials/pull/3358#discussion_r436273822", "createdAt": "2020-06-06T14:39:04Z", "author": {"login": "JRoy"}, "path": "Essentials/src/com/earth2me/essentials/I18n.java", "diffHunk": "@@ -157,10 +157,43 @@ public InputStream getResourceAsStream(final String string) {\n             if (file.exists()) {\n                 try {\n                     return new FileInputStream(file);\n-                } catch (FileNotFoundException ignored) {\n-                }\n+                } catch (FileNotFoundException ignored) {}\n             }\n             return null;\n         }\n     }\n+\n+    /**\n+     * Reads .properties files as UTF-8 instead of ISO-8859-1, which is the default on Java 8/below.\n+     * Java 9 fixes this by defaulting to UTF-8 for .properties files.\n+     */\n+    private static class UTF8PropertiesControl extends ResourceBundle.Control {\n+        public ResourceBundle newBundle(String baseName, Locale locale, String format, ClassLoader loader, boolean reload) throws IOException {\n+            String bundleName = toBundleName(baseName, locale);\n+            String resourceName = toResourceName(bundleName, \"properties\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "167da4c3492c39812bb4aaeaad602a6bf09fa8b2"}, "originalPosition": 81}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNzYwNjIyOnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/I18n.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQxNDo0MDo1MFrOGgEDJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMDo1MToxMFrOGgIsNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjI3Mzk1Nw==", "bodyText": "Pretty sure URL#openConnection never returns null and just throws an IOException", "url": "https://github.com/EssentialsX/Essentials/pull/3358#discussion_r436273957", "createdAt": "2020-06-06T14:40:50Z", "author": {"login": "JRoy"}, "path": "Essentials/src/com/earth2me/essentials/I18n.java", "diffHunk": "@@ -157,10 +157,43 @@ public InputStream getResourceAsStream(final String string) {\n             if (file.exists()) {\n                 try {\n                     return new FileInputStream(file);\n-                } catch (FileNotFoundException ignored) {\n-                }\n+                } catch (FileNotFoundException ignored) {}\n             }\n             return null;\n         }\n     }\n+\n+    /**\n+     * Reads .properties files as UTF-8 instead of ISO-8859-1, which is the default on Java 8/below.\n+     * Java 9 fixes this by defaulting to UTF-8 for .properties files.\n+     */\n+    private static class UTF8PropertiesControl extends ResourceBundle.Control {\n+        public ResourceBundle newBundle(String baseName, Locale locale, String format, ClassLoader loader, boolean reload) throws IOException {\n+            String bundleName = toBundleName(baseName, locale);\n+            String resourceName = toResourceName(bundleName, \"properties\");\n+            ResourceBundle bundle = null;\n+            InputStream stream = null;\n+            if (reload) {\n+                URL url = loader.getResource(resourceName);\n+                if (url != null) {\n+                    URLConnection connection = url.openConnection();\n+                    if (connection != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "167da4c3492c39812bb4aaeaad602a6bf09fa8b2"}, "originalPosition": 88}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjM1MDAwNg==", "bodyText": "If the URL doesn't point to anything, #openConnection() will return null, so if someone puts an invalid/custom locale in then it'll cause a NPE here.", "url": "https://github.com/EssentialsX/Essentials/pull/3358#discussion_r436350006", "createdAt": "2020-06-07T10:51:10Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/I18n.java", "diffHunk": "@@ -157,10 +157,43 @@ public InputStream getResourceAsStream(final String string) {\n             if (file.exists()) {\n                 try {\n                     return new FileInputStream(file);\n-                } catch (FileNotFoundException ignored) {\n-                }\n+                } catch (FileNotFoundException ignored) {}\n             }\n             return null;\n         }\n     }\n+\n+    /**\n+     * Reads .properties files as UTF-8 instead of ISO-8859-1, which is the default on Java 8/below.\n+     * Java 9 fixes this by defaulting to UTF-8 for .properties files.\n+     */\n+    private static class UTF8PropertiesControl extends ResourceBundle.Control {\n+        public ResourceBundle newBundle(String baseName, Locale locale, String format, ClassLoader loader, boolean reload) throws IOException {\n+            String bundleName = toBundleName(baseName, locale);\n+            String resourceName = toResourceName(bundleName, \"properties\");\n+            ResourceBundle bundle = null;\n+            InputStream stream = null;\n+            if (reload) {\n+                URL url = loader.getResource(resourceName);\n+                if (url != null) {\n+                    URLConnection connection = url.openConnection();\n+                    if (connection != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjI3Mzk1Nw=="}, "originalCommit": {"oid": "167da4c3492c39812bb4aaeaad602a6bf09fa8b2"}, "originalPosition": 88}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4721, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}