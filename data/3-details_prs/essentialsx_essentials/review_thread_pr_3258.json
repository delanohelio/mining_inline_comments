{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1OTE1Mzk5", "number": 3258, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwODowMToyOVrOD7IMPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNTo1MDozNlrOD7THqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMzI2NzgzOnYy", "diffSide": "RIGHT", "path": "Essentials/src/com/earth2me/essentials/Essentials.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwODowMToyOVrOGTRCjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwODoxNjoyNlrOGTRjGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg1NTMwOQ==", "bodyText": "I see what you're trying to do, but as Aikar pointed out this would probably be done much better with a future. If that's too much work here, I'd at least change this to only sleep for one second at a time, to avoid superfluous waiting. The main thread doesn't have anything better to do at this point anyways.", "url": "https://github.com/EssentialsX/Essentials/pull/3258#discussion_r422855309", "createdAt": "2020-05-11T08:01:29Z", "author": {"login": "pop4959"}, "path": "Essentials/src/com/earth2me/essentials/Essentials.java", "diffHunk": "@@ -381,6 +383,13 @@ public void onDisable() {\n         getUserMap().getUUIDMap().shutdown();\n \n         HandlerList.unregisterAll(this);\n+        while (getBackup().isActive()) {\n+            try {\n+                Thread.sleep(10);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27dfa7b7b99b1bac04039d867ddd639b5b217f3c"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg2MTM5Mg==", "bodyText": "I agree this should wait on a future. We should also print a message informing that we're waiting for the backup to finish.", "url": "https://github.com/EssentialsX/Essentials/pull/3258#discussion_r422861392", "createdAt": "2020-05-11T08:12:34Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/com/earth2me/essentials/Essentials.java", "diffHunk": "@@ -381,6 +383,13 @@ public void onDisable() {\n         getUserMap().getUUIDMap().shutdown();\n \n         HandlerList.unregisterAll(this);\n+        while (getBackup().isActive()) {\n+            try {\n+                Thread.sleep(10);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg1NTMwOQ=="}, "originalCommit": {"oid": "27dfa7b7b99b1bac04039d867ddd639b5b217f3c"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg2MzY0MA==", "bodyText": "Good point on the info message, that'd definitely be good feedback to give", "url": "https://github.com/EssentialsX/Essentials/pull/3258#discussion_r422863640", "createdAt": "2020-05-11T08:16:26Z", "author": {"login": "pop4959"}, "path": "Essentials/src/com/earth2me/essentials/Essentials.java", "diffHunk": "@@ -381,6 +383,13 @@ public void onDisable() {\n         getUserMap().getUUIDMap().shutdown();\n \n         HandlerList.unregisterAll(this);\n+        while (getBackup().isActive()) {\n+            try {\n+                Thread.sleep(10);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg1NTMwOQ=="}, "originalCommit": {"oid": "27dfa7b7b99b1bac04039d867ddd639b5b217f3c"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMzI3NDQ1OnYy", "diffSide": "RIGHT", "path": "Essentials/src/config.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwODowMzoxNVrOGTRGnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwODowMzoxNVrOGTRGnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg1NjM1MQ==", "bodyText": "I suggest changing this from always-run-backup to simply always-run to avoid redundancy since this config option is already a child of backup.", "url": "https://github.com/EssentialsX/Essentials/pull/3258#discussion_r422856351", "createdAt": "2020-05-11T08:03:15Z", "author": {"login": "pop4959"}, "path": "Essentials/src/config.yml", "diffHunk": "@@ -371,6 +371,8 @@ unprotected-sign-names:\n backup:\n   # Interval in minutes.\n   interval: 30\n+  # If true, the backup task will run even if there are no players online.\n+  always-run-backup: false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27dfa7b7b99b1bac04039d867ddd639b5b217f3c"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNTAwNTExOnYy", "diffSide": "RIGHT", "path": "Essentials/src/messages.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNTozNzo1M1rOGTh3DQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNTo0MjowNlrOGTiCVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEzMDg5Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            serverReloading=There's a good chance you're probably reloading your server right now. If that's the case, why do you hate yourself? Except no support from the Essentials team when using /reload\n          \n          \n            \n            serverReloading=There's a good chance you're probably reloading your server right now. If that's the case, why do you hate yourself? Expect no support from the EssentialsX team when using /reload.\n          \n      \n    \n    \n  \n\nOthers might have other suggestions on wording.", "url": "https://github.com/EssentialsX/Essentials/pull/3258#discussion_r423130893", "createdAt": "2020-05-11T15:37:53Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/messages.properties", "diffHunk": "@@ -484,6 +485,7 @@ seenOnline=\\u00a76Player\\u00a7c {0} \\u00a76has been \\u00a7aonline\\u00a76 since \\\n sellBulkPermission=\\u00a76You do not have permission to bulk sell.\n sellHandPermission=\\u00a76You do not have permission to hand sell.\n serverFull=Server is full\\!\n+serverReloading=There's a good chance you're probably reloading your server right now. If that's the case, why do you hate yourself? Except no support from the Essentials team when using /reload", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9247c8b1764dc7f4acf852ef246a92178047fe8d"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEzMzc4Mg==", "bodyText": "https://ptb.discordapp.com/channels/390942438061113344/395279435538104320/709404997560959077", "url": "https://github.com/EssentialsX/Essentials/pull/3258#discussion_r423133782", "createdAt": "2020-05-11T15:42:06Z", "author": {"login": "JRoy"}, "path": "Essentials/src/messages.properties", "diffHunk": "@@ -484,6 +485,7 @@ seenOnline=\\u00a76Player\\u00a7c {0} \\u00a76has been \\u00a7aonline\\u00a76 since \\\n sellBulkPermission=\\u00a76You do not have permission to bulk sell.\n sellHandPermission=\\u00a76You do not have permission to hand sell.\n serverFull=Server is full\\!\n+serverReloading=There's a good chance you're probably reloading your server right now. If that's the case, why do you hate yourself? Except no support from the Essentials team when using /reload", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEzMDg5Mw=="}, "originalCommit": {"oid": "9247c8b1764dc7f4acf852ef246a92178047fe8d"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNTA1ODMyOnYy", "diffSide": "RIGHT", "path": "Essentials/src/messages.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNTo1MDozNlrOGTiY3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNTo1MDozNlrOGTiY3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzEzOTU1MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            serverReloading=There's a good chance you're probably reloading your server right now. If that's the case, why do you hate yourself? Expect no support from the EssentialsX team when using /reload.\n          \n          \n            \n            serverReloading=There's a good chance you're reloading your server right now. If that's the case, why do you hate yourself? Expect no support from the EssentialsX team when using /reload.", "url": "https://github.com/EssentialsX/Essentials/pull/3258#discussion_r423139550", "createdAt": "2020-05-11T15:50:36Z", "author": {"login": "mdcfe"}, "path": "Essentials/src/messages.properties", "diffHunk": "@@ -484,6 +485,7 @@ seenOnline=\\u00a76Player\\u00a7c {0} \\u00a76has been \\u00a7aonline\\u00a76 since \\\n sellBulkPermission=\\u00a76You do not have permission to bulk sell.\n sellHandPermission=\\u00a76You do not have permission to hand sell.\n serverFull=Server is full\\!\n+serverReloading=There's a good chance you're probably reloading your server right now. If that's the case, why do you hate yourself? Expect no support from the EssentialsX team when using /reload.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b30dbc20e26343cc499cc0e5a9aa87f0963b0701"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4678, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}