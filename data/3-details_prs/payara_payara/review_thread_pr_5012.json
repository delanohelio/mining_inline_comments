{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4ODgwNjA3", "number": 5012, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNzo0MzoyM1rOFAYR1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwOToyOToyNVrOFBrj_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1OTQyMTAwOnYy", "diffSide": "RIGHT", "path": "appserver/payara-appserver-modules/payara-micro-cdi/src/main/java/fish/payara/micro/cdi/extension/cluster/ClusterScopedInterceptor.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNzo0MzoyM1rOH-pF9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxODowMDo0N1rOH-p0yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQ0NzAzMQ==", "bodyText": "I'm not quite sure why I changed this, needs a bit further investigating", "url": "https://github.com/payara/Payara/pull/5012#discussion_r535447031", "createdAt": "2020-12-03T17:43:23Z", "author": {"login": "lprimak"}, "path": "appserver/payara-appserver-modules/payara-micro-cdi/src/main/java/fish/payara/micro/cdi/extension/cluster/ClusterScopedInterceptor.java", "diffHunk": "@@ -105,11 +104,11 @@ Object postConstruct(InvocationContext invocationContext) throws Exception {\n     Object preDestroy(InvocationContext invocationContext) throws Exception {\n         Class<?> beanClass = invocationContext.getTarget().getClass().getSuperclass();\n         Clustered clusteredAnnotation = getAnnotation(beanManager, beanClass);\n-        clusteredLookup.setClusteredSessionKey(beanClass);\n+        clusteredLookup.setClusteredSessionKeyIfNotSet(beanClass, clusteredAnnotation);\n         IAtomicLong count = clusteredLookup.getClusteredUsageCount();\n         if (count.decrementAndGet() <= 0) {\n             clusteredLookup.getClusteredSingletonMap().delete(clusteredLookup.getClusteredSessionKey());\n-            count.destroy();\n+            count.set(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0869e43a2756107151d3f22f1ed3bf448191fe0"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQ0NzM0Mg==", "bodyText": "Will try to test without that change and if it passes, will revert this change, then we are good to go", "url": "https://github.com/payara/Payara/pull/5012#discussion_r535447342", "createdAt": "2020-12-03T17:43:54Z", "author": {"login": "lprimak"}, "path": "appserver/payara-appserver-modules/payara-micro-cdi/src/main/java/fish/payara/micro/cdi/extension/cluster/ClusterScopedInterceptor.java", "diffHunk": "@@ -105,11 +104,11 @@ Object postConstruct(InvocationContext invocationContext) throws Exception {\n     Object preDestroy(InvocationContext invocationContext) throws Exception {\n         Class<?> beanClass = invocationContext.getTarget().getClass().getSuperclass();\n         Clustered clusteredAnnotation = getAnnotation(beanManager, beanClass);\n-        clusteredLookup.setClusteredSessionKey(beanClass);\n+        clusteredLookup.setClusteredSessionKeyIfNotSet(beanClass, clusteredAnnotation);\n         IAtomicLong count = clusteredLookup.getClusteredUsageCount();\n         if (count.decrementAndGet() <= 0) {\n             clusteredLookup.getClusteredSingletonMap().delete(clusteredLookup.getClusteredSessionKey());\n-            count.destroy();\n+            count.set(0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQ0NzAzMQ=="}, "originalCommit": {"oid": "e0869e43a2756107151d3f22f1ed3bf448191fe0"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQ1OTAxOA==", "bodyText": "passed", "url": "https://github.com/payara/Payara/pull/5012#discussion_r535459018", "createdAt": "2020-12-03T18:00:47Z", "author": {"login": "lprimak"}, "path": "appserver/payara-appserver-modules/payara-micro-cdi/src/main/java/fish/payara/micro/cdi/extension/cluster/ClusterScopedInterceptor.java", "diffHunk": "@@ -105,11 +104,11 @@ Object postConstruct(InvocationContext invocationContext) throws Exception {\n     Object preDestroy(InvocationContext invocationContext) throws Exception {\n         Class<?> beanClass = invocationContext.getTarget().getClass().getSuperclass();\n         Clustered clusteredAnnotation = getAnnotation(beanManager, beanClass);\n-        clusteredLookup.setClusteredSessionKey(beanClass);\n+        clusteredLookup.setClusteredSessionKeyIfNotSet(beanClass, clusteredAnnotation);\n         IAtomicLong count = clusteredLookup.getClusteredUsageCount();\n         if (count.decrementAndGet() <= 0) {\n             clusteredLookup.getClusteredSingletonMap().delete(clusteredLookup.getClusteredSessionKey());\n-            count.destroy();\n+            count.set(0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQ0NzAzMQ=="}, "originalCommit": {"oid": "e0869e43a2756107151d3f22f1ed3bf448191fe0"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1OTQ0MjIwOnYy", "diffSide": "RIGHT", "path": "appserver/ejb/ejb-container/src/main/java/com/sun/ejb/containers/AbstractSingletonContainer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNzo0ODoyMVrOH-pTAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNzo0ODoyMVrOH-pTAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQ1MDM2OA==", "bodyText": "same here", "url": "https://github.com/payara/Payara/pull/5012#discussion_r535450368", "createdAt": "2020-12-03T17:48:21Z", "author": {"login": "lprimak"}, "path": "appserver/ejb/ejb-container/src/main/java/com/sun/ejb/containers/AbstractSingletonContainer.java", "diffHunk": "@@ -713,7 +713,7 @@ public void destroy(Object obj) {\n                 IAtomicLong count = clusteredLookup.getClusteredUsageCount();\n                 if (count.decrementAndGet() <= 0) {\n                     clusteredLookup.getClusteredSingletonMap().delete(clusteredLookup.getClusteredSessionKey());\n-                    count.destroy();\n+                    count.set(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0869e43a2756107151d3f22f1ed3bf448191fe0"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2NDg3ODA0OnYy", "diffSide": "RIGHT", "path": "appserver/tests/payara-samples/samples/clustered-singleton/clustered-singleton-test/licenseheader.txt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxNzoyNToyMVrOH_ahqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxNzozNDowMFrOH_a3oA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI1NjkzOQ==", "bodyText": "This looks like a leaked file from NetBeans, probably needs deleting", "url": "https://github.com/payara/Payara/pull/5012#discussion_r536256939", "createdAt": "2020-12-04T17:25:21Z", "author": {"login": "MattGill98"}, "path": "appserver/tests/payara-samples/samples/clustered-singleton/clustered-singleton-test/licenseheader.txt", "diffHunk": "@@ -0,0 +1,43 @@\n+<#if licenseFirst??>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d55f76583f6e4088d5bef177ea388603745f0b56"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI2MjU2MA==", "bodyText": "ok", "url": "https://github.com/payara/Payara/pull/5012#discussion_r536262560", "createdAt": "2020-12-04T17:34:00Z", "author": {"login": "lprimak"}, "path": "appserver/tests/payara-samples/samples/clustered-singleton/clustered-singleton-test/licenseheader.txt", "diffHunk": "@@ -0,0 +1,43 @@\n+<#if licenseFirst??>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI1NjkzOQ=="}, "originalCommit": {"oid": "d55f76583f6e4088d5bef177ea388603745f0b56"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2NDg4NjAxOnYy", "diffSide": "RIGHT", "path": "appserver/tests/payara-samples/samples/clustered-singleton/clustered-singleton-test/src/main/java/com/flowlogix/clust/singleton/interceptor/ClusteredInterceptor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxNzoyNzoyNFrOH_amfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxNzozNDowOFrOH_a4BQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI1ODE3NA==", "bodyText": "I'd like the packages changing to fish.payara, inkeeping with the other tests", "url": "https://github.com/payara/Payara/pull/5012#discussion_r536258174", "createdAt": "2020-12-04T17:27:24Z", "author": {"login": "MattGill98"}, "path": "appserver/tests/payara-samples/samples/clustered-singleton/clustered-singleton-test/src/main/java/com/flowlogix/clust/singleton/interceptor/ClusteredInterceptor.java", "diffHunk": "@@ -0,0 +1,91 @@\n+/*\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.\n+ *\n+ * Copyright (c) [2016-2017] Payara Foundation and/or its affiliates. All rights reserved.\n+ *\n+ * The contents of this file are subject to the terms of either the GNU\n+ * General Public License Version 2 only (\"GPL\") or the Common Development\n+ * and Distribution License(\"CDDL\") (collectively, the \"License\").  You\n+ * may not use this file except in compliance with the License.  You can\n+ * obtain a copy of the License at\n+ * https://github.com/payara/Payara/blob/master/LICENSE.txt\n+ * See the License for the specific\n+ * language governing permissions and limitations under the License.\n+ *\n+ * When distributing the software, include this License Header Notice in each\n+ * file and include the License file at glassfish/legal/LICENSE.txt.\n+ *\n+ * GPL Classpath Exception:\n+ * The Payara Foundation designates this particular file as subject to the \"Classpath\"\n+ * exception as provided by the Payara Foundation in the GPL Version 2 section of the License\n+ * file that accompanied this code.\n+ *\n+ * Modifications:\n+ * If applicable, add the following below the License Header, with the fields\n+ * enclosed by brackets [] replaced by your own identifying information:\n+ * \"Portions Copyright [year] [name of copyright owner]\"\n+ *\n+ * Contributor(s):\n+ * If you wish your version of this file to be governed by only the CDDL or\n+ * only the GPL Version 2, indicate your decision by adding \"[Contributor]\n+ * elects to include this software in this distribution under the [CDDL or GPL\n+ * Version 2] license.\"  If you don't indicate a single choice of license, a\n+ * recipient has the option to distribute your version of this file under\n+ * either the CDDL, the GPL Version 2 or to extend the choice of license to\n+ * its licensees as provided above.  However, if you add GPL Version 2 code\n+ * and therefore, elected the GPL Version 2 license, then the option applies\n+ * only if the new code is made subject to such option by the copyright\n+ * holder.\n+ */\n+package com.flowlogix.clust.singleton.interceptor;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d55f76583f6e4088d5bef177ea388603745f0b56"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI2MjY2MQ==", "bodyText": "ok", "url": "https://github.com/payara/Payara/pull/5012#discussion_r536262661", "createdAt": "2020-12-04T17:34:08Z", "author": {"login": "lprimak"}, "path": "appserver/tests/payara-samples/samples/clustered-singleton/clustered-singleton-test/src/main/java/com/flowlogix/clust/singleton/interceptor/ClusteredInterceptor.java", "diffHunk": "@@ -0,0 +1,91 @@\n+/*\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.\n+ *\n+ * Copyright (c) [2016-2017] Payara Foundation and/or its affiliates. All rights reserved.\n+ *\n+ * The contents of this file are subject to the terms of either the GNU\n+ * General Public License Version 2 only (\"GPL\") or the Common Development\n+ * and Distribution License(\"CDDL\") (collectively, the \"License\").  You\n+ * may not use this file except in compliance with the License.  You can\n+ * obtain a copy of the License at\n+ * https://github.com/payara/Payara/blob/master/LICENSE.txt\n+ * See the License for the specific\n+ * language governing permissions and limitations under the License.\n+ *\n+ * When distributing the software, include this License Header Notice in each\n+ * file and include the License file at glassfish/legal/LICENSE.txt.\n+ *\n+ * GPL Classpath Exception:\n+ * The Payara Foundation designates this particular file as subject to the \"Classpath\"\n+ * exception as provided by the Payara Foundation in the GPL Version 2 section of the License\n+ * file that accompanied this code.\n+ *\n+ * Modifications:\n+ * If applicable, add the following below the License Header, with the fields\n+ * enclosed by brackets [] replaced by your own identifying information:\n+ * \"Portions Copyright [year] [name of copyright owner]\"\n+ *\n+ * Contributor(s):\n+ * If you wish your version of this file to be governed by only the CDDL or\n+ * only the GPL Version 2, indicate your decision by adding \"[Contributor]\n+ * elects to include this software in this distribution under the [CDDL or GPL\n+ * Version 2] license.\"  If you don't indicate a single choice of license, a\n+ * recipient has the option to distribute your version of this file under\n+ * either the CDDL, the GPL Version 2 or to extend the choice of license to\n+ * its licensees as provided above.  However, if you add GPL Version 2 code\n+ * and therefore, elected the GPL Version 2 license, then the option applies\n+ * only if the new code is made subject to such option by the copyright\n+ * holder.\n+ */\n+package com.flowlogix.clust.singleton.interceptor;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI1ODE3NA=="}, "originalCommit": {"oid": "d55f76583f6e4088d5bef177ea388603745f0b56"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2NDg5MDQ1OnYy", "diffSide": "RIGHT", "path": "appserver/tests/payara-samples/samples/clustered-singleton/clustered-singleton-test/src/main/java/com/flowlogix/clust/singleton/interceptor/ClusteredInterceptor.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxNzoyODoyMFrOH_apEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQyMDo1MjoxNVrOH_hmCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI1ODgzNA==", "bodyText": "Oh god, didn't we do a tonne of work a while ago to remove Lombok?\nI'm not concerned with what our answer is, but I'd like it resolved before we continue this loop of adding and removing lombok", "url": "https://github.com/payara/Payara/pull/5012#discussion_r536258834", "createdAt": "2020-12-04T17:28:20Z", "author": {"login": "MattGill98"}, "path": "appserver/tests/payara-samples/samples/clustered-singleton/clustered-singleton-test/src/main/java/com/flowlogix/clust/singleton/interceptor/ClusteredInterceptor.java", "diffHunk": "@@ -0,0 +1,91 @@\n+/*\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.\n+ *\n+ * Copyright (c) [2016-2017] Payara Foundation and/or its affiliates. All rights reserved.\n+ *\n+ * The contents of this file are subject to the terms of either the GNU\n+ * General Public License Version 2 only (\"GPL\") or the Common Development\n+ * and Distribution License(\"CDDL\") (collectively, the \"License\").  You\n+ * may not use this file except in compliance with the License.  You can\n+ * obtain a copy of the License at\n+ * https://github.com/payara/Payara/blob/master/LICENSE.txt\n+ * See the License for the specific\n+ * language governing permissions and limitations under the License.\n+ *\n+ * When distributing the software, include this License Header Notice in each\n+ * file and include the License file at glassfish/legal/LICENSE.txt.\n+ *\n+ * GPL Classpath Exception:\n+ * The Payara Foundation designates this particular file as subject to the \"Classpath\"\n+ * exception as provided by the Payara Foundation in the GPL Version 2 section of the License\n+ * file that accompanied this code.\n+ *\n+ * Modifications:\n+ * If applicable, add the following below the License Header, with the fields\n+ * enclosed by brackets [] replaced by your own identifying information:\n+ * \"Portions Copyright [year] [name of copyright owner]\"\n+ *\n+ * Contributor(s):\n+ * If you wish your version of this file to be governed by only the CDDL or\n+ * only the GPL Version 2, indicate your decision by adding \"[Contributor]\n+ * elects to include this software in this distribution under the [CDDL or GPL\n+ * Version 2] license.\"  If you don't indicate a single choice of license, a\n+ * recipient has the option to distribute your version of this file under\n+ * either the CDDL, the GPL Version 2 or to extend the choice of license to\n+ * its licensees as provided above.  However, if you add GPL Version 2 code\n+ * and therefore, elected the GPL Version 2 license, then the option applies\n+ * only if the new code is made subject to such option by the copyright\n+ * holder.\n+ */\n+package com.flowlogix.clust.singleton.interceptor;\n+\n+import com.flowlogix.clust.singleton.ClusteredSingletonInterceptedEJB;\n+import java.io.Serializable;\n+import javax.interceptor.AroundConstruct;\n+import javax.interceptor.AroundInvoke;\n+import javax.interceptor.AroundTimeout;\n+import javax.interceptor.InvocationContext;\n+import lombok.Cleanup;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d55f76583f6e4088d5bef177ea388603745f0b56"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI2Mjg3Mw==", "bodyText": "ok", "url": "https://github.com/payara/Payara/pull/5012#discussion_r536262873", "createdAt": "2020-12-04T17:34:24Z", "author": {"login": "lprimak"}, "path": "appserver/tests/payara-samples/samples/clustered-singleton/clustered-singleton-test/src/main/java/com/flowlogix/clust/singleton/interceptor/ClusteredInterceptor.java", "diffHunk": "@@ -0,0 +1,91 @@\n+/*\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.\n+ *\n+ * Copyright (c) [2016-2017] Payara Foundation and/or its affiliates. All rights reserved.\n+ *\n+ * The contents of this file are subject to the terms of either the GNU\n+ * General Public License Version 2 only (\"GPL\") or the Common Development\n+ * and Distribution License(\"CDDL\") (collectively, the \"License\").  You\n+ * may not use this file except in compliance with the License.  You can\n+ * obtain a copy of the License at\n+ * https://github.com/payara/Payara/blob/master/LICENSE.txt\n+ * See the License for the specific\n+ * language governing permissions and limitations under the License.\n+ *\n+ * When distributing the software, include this License Header Notice in each\n+ * file and include the License file at glassfish/legal/LICENSE.txt.\n+ *\n+ * GPL Classpath Exception:\n+ * The Payara Foundation designates this particular file as subject to the \"Classpath\"\n+ * exception as provided by the Payara Foundation in the GPL Version 2 section of the License\n+ * file that accompanied this code.\n+ *\n+ * Modifications:\n+ * If applicable, add the following below the License Header, with the fields\n+ * enclosed by brackets [] replaced by your own identifying information:\n+ * \"Portions Copyright [year] [name of copyright owner]\"\n+ *\n+ * Contributor(s):\n+ * If you wish your version of this file to be governed by only the CDDL or\n+ * only the GPL Version 2, indicate your decision by adding \"[Contributor]\n+ * elects to include this software in this distribution under the [CDDL or GPL\n+ * Version 2] license.\"  If you don't indicate a single choice of license, a\n+ * recipient has the option to distribute your version of this file under\n+ * either the CDDL, the GPL Version 2 or to extend the choice of license to\n+ * its licensees as provided above.  However, if you add GPL Version 2 code\n+ * and therefore, elected the GPL Version 2 license, then the option applies\n+ * only if the new code is made subject to such option by the copyright\n+ * holder.\n+ */\n+package com.flowlogix.clust.singleton.interceptor;\n+\n+import com.flowlogix.clust.singleton.ClusteredSingletonInterceptedEJB;\n+import java.io.Serializable;\n+import javax.interceptor.AroundConstruct;\n+import javax.interceptor.AroundInvoke;\n+import javax.interceptor.AroundTimeout;\n+import javax.interceptor.InvocationContext;\n+import lombok.Cleanup;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI1ODgzNA=="}, "originalCommit": {"oid": "d55f76583f6e4088d5bef177ea388603745f0b56"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjM3MjU3Mw==", "bodyText": "haha that tonne of work introduced most of these bugs :)", "url": "https://github.com/payara/Payara/pull/5012#discussion_r536372573", "createdAt": "2020-12-04T20:51:54Z", "author": {"login": "lprimak"}, "path": "appserver/tests/payara-samples/samples/clustered-singleton/clustered-singleton-test/src/main/java/com/flowlogix/clust/singleton/interceptor/ClusteredInterceptor.java", "diffHunk": "@@ -0,0 +1,91 @@\n+/*\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.\n+ *\n+ * Copyright (c) [2016-2017] Payara Foundation and/or its affiliates. All rights reserved.\n+ *\n+ * The contents of this file are subject to the terms of either the GNU\n+ * General Public License Version 2 only (\"GPL\") or the Common Development\n+ * and Distribution License(\"CDDL\") (collectively, the \"License\").  You\n+ * may not use this file except in compliance with the License.  You can\n+ * obtain a copy of the License at\n+ * https://github.com/payara/Payara/blob/master/LICENSE.txt\n+ * See the License for the specific\n+ * language governing permissions and limitations under the License.\n+ *\n+ * When distributing the software, include this License Header Notice in each\n+ * file and include the License file at glassfish/legal/LICENSE.txt.\n+ *\n+ * GPL Classpath Exception:\n+ * The Payara Foundation designates this particular file as subject to the \"Classpath\"\n+ * exception as provided by the Payara Foundation in the GPL Version 2 section of the License\n+ * file that accompanied this code.\n+ *\n+ * Modifications:\n+ * If applicable, add the following below the License Header, with the fields\n+ * enclosed by brackets [] replaced by your own identifying information:\n+ * \"Portions Copyright [year] [name of copyright owner]\"\n+ *\n+ * Contributor(s):\n+ * If you wish your version of this file to be governed by only the CDDL or\n+ * only the GPL Version 2, indicate your decision by adding \"[Contributor]\n+ * elects to include this software in this distribution under the [CDDL or GPL\n+ * Version 2] license.\"  If you don't indicate a single choice of license, a\n+ * recipient has the option to distribute your version of this file under\n+ * either the CDDL, the GPL Version 2 or to extend the choice of license to\n+ * its licensees as provided above.  However, if you add GPL Version 2 code\n+ * and therefore, elected the GPL Version 2 license, then the option applies\n+ * only if the new code is made subject to such option by the copyright\n+ * holder.\n+ */\n+package com.flowlogix.clust.singleton.interceptor;\n+\n+import com.flowlogix.clust.singleton.ClusteredSingletonInterceptedEJB;\n+import java.io.Serializable;\n+import javax.interceptor.AroundConstruct;\n+import javax.interceptor.AroundInvoke;\n+import javax.interceptor.AroundTimeout;\n+import javax.interceptor.InvocationContext;\n+import lombok.Cleanup;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI1ODgzNA=="}, "originalCommit": {"oid": "d55f76583f6e4088d5bef177ea388603745f0b56"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjM3Mjc0Nw==", "bodyText": "This time Im going to do this correctly by using delombok plugin :)", "url": "https://github.com/payara/Payara/pull/5012#discussion_r536372747", "createdAt": "2020-12-04T20:52:15Z", "author": {"login": "lprimak"}, "path": "appserver/tests/payara-samples/samples/clustered-singleton/clustered-singleton-test/src/main/java/com/flowlogix/clust/singleton/interceptor/ClusteredInterceptor.java", "diffHunk": "@@ -0,0 +1,91 @@\n+/*\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.\n+ *\n+ * Copyright (c) [2016-2017] Payara Foundation and/or its affiliates. All rights reserved.\n+ *\n+ * The contents of this file are subject to the terms of either the GNU\n+ * General Public License Version 2 only (\"GPL\") or the Common Development\n+ * and Distribution License(\"CDDL\") (collectively, the \"License\").  You\n+ * may not use this file except in compliance with the License.  You can\n+ * obtain a copy of the License at\n+ * https://github.com/payara/Payara/blob/master/LICENSE.txt\n+ * See the License for the specific\n+ * language governing permissions and limitations under the License.\n+ *\n+ * When distributing the software, include this License Header Notice in each\n+ * file and include the License file at glassfish/legal/LICENSE.txt.\n+ *\n+ * GPL Classpath Exception:\n+ * The Payara Foundation designates this particular file as subject to the \"Classpath\"\n+ * exception as provided by the Payara Foundation in the GPL Version 2 section of the License\n+ * file that accompanied this code.\n+ *\n+ * Modifications:\n+ * If applicable, add the following below the License Header, with the fields\n+ * enclosed by brackets [] replaced by your own identifying information:\n+ * \"Portions Copyright [year] [name of copyright owner]\"\n+ *\n+ * Contributor(s):\n+ * If you wish your version of this file to be governed by only the CDDL or\n+ * only the GPL Version 2, indicate your decision by adding \"[Contributor]\n+ * elects to include this software in this distribution under the [CDDL or GPL\n+ * Version 2] license.\"  If you don't indicate a single choice of license, a\n+ * recipient has the option to distribute your version of this file under\n+ * either the CDDL, the GPL Version 2 or to extend the choice of license to\n+ * its licensees as provided above.  However, if you add GPL Version 2 code\n+ * and therefore, elected the GPL Version 2 license, then the option applies\n+ * only if the new code is made subject to such option by the copyright\n+ * holder.\n+ */\n+package com.flowlogix.clust.singleton.interceptor;\n+\n+import com.flowlogix.clust.singleton.ClusteredSingletonInterceptedEJB;\n+import java.io.Serializable;\n+import javax.interceptor.AroundConstruct;\n+import javax.interceptor.AroundInvoke;\n+import javax.interceptor.AroundTimeout;\n+import javax.interceptor.InvocationContext;\n+import lombok.Cleanup;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI1ODgzNA=="}, "originalCommit": {"oid": "d55f76583f6e4088d5bef177ea388603745f0b56"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MzA2NjIzOnYy", "diffSide": "RIGHT", "path": "appserver/tests/payara-samples/samples/clustered-singleton/clustered-singleton-test/src/main/java/fish/payara/samples/clustered/singleton/ClusteredAnnotatedAPI2.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwOToyOToyNVrOIAdffA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwOToyOToyNVrOIAdffA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzM1NDEwOA==", "bodyText": "Looks like there are some copyright headers that need fixing, then this is good to go IMO", "url": "https://github.com/payara/Payara/pull/5012#discussion_r537354108", "createdAt": "2020-12-07T09:29:25Z", "author": {"login": "MattGill98"}, "path": "appserver/tests/payara-samples/samples/clustered-singleton/clustered-singleton-test/src/main/java/fish/payara/samples/clustered/singleton/ClusteredAnnotatedAPI2.java", "diffHunk": "@@ -0,0 +1,62 @@\n+/*\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.\n+ *\n+ * Copyright (c) [2016-2017] Payara Foundation and/or its affiliates. All rights reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14be950fdf2c3de5d2efd602913bd3e3cd6aa8d1"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1175, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}