{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0MzIyNzA4", "number": 4440, "title": "  FISH-761 Deployment of unpacked WAB fails when using Felix fileinstall", "bodyText": "Description\nAdd explicit support for the \"jardir\" schema used by fileinstall for unpacked directories by translating it to to the \"file\" schema.  This allows unpacked WAB (and probably EJB bundles) installed via Felix FileInstall to be deployed successfully (barring other bugs)\nFixes: #4415\nThis works because the path portion of the jardir: URL is the directory path.  The \"jardir:\" provides some additional features that don't appear to be needed during Java EE module deployment and it isn't supported for the NIO FileSystem API, which Payara uses during deployment.\nTesting\nNew tests\nNone added\nTesting Performed\nTested this with the application under which we discovered this bug\nTest suites executed\nNone\nTesting Environment\nOS: RedHat Linux 7\nJDK: OpenJDK 8.0.201\nMaven: 3.6.2\nDocumentation\nN/A\nNotes for Reviewers\nN/A", "createdAt": "2020-01-17T21:17:25Z", "url": "https://github.com/payara/Payara/pull/4440", "merged": true, "mergeCommit": {"oid": "39d14da22e989187450419662b57c2298b008aad"}, "closed": true, "closedAt": "2020-11-17T19:46:40Z", "author": {"login": "bjetal"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7VXZCgH2gAyMzY0MzIyNzA4OmQzMGMzY2ZhNWE2NTczYzBjYjBhYjhhMDRmZmQ0YWFmMjBmNTkyNzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddZRWagH2gAyMzY0MzIyNzA4OjliNWRkMTIxNzIyZWU4OTljN2I3OWU1NThiZDc5Y2U5YWE3ZDQ0ODc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d30c3cfa5a6573c0cb0ab8a04ffd4aaf20f59273", "author": {"user": null}, "url": "https://github.com/payara/Payara/commit/d30c3cfa5a6573c0cb0ab8a04ffd4aaf20f59273", "committedDate": "2020-01-17T21:10:01Z", "message": "fixes #4415"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwMjYzNzYz", "url": "https://github.com/payara/Payara/pull/4440#pullrequestreview-530263763", "createdAt": "2020-11-13T17:26:37Z", "commit": {"oid": "d30c3cfa5a6573c0cb0ab8a04ffd4aaf20f59273"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNzoyNjozOFrOHy39Kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNzoyNjozOFrOHy39Kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzEwNzYyNw==", "bodyText": "their => there", "url": "https://github.com/payara/Payara/pull/4440#discussion_r523107627", "createdAt": "2020-11-13T17:26:38Z", "author": {"login": "dmatej"}, "path": "nucleus/deployment/common/src/main/java/org/glassfish/loader/util/ASClassLoaderUtil.java", "diffHunk": "@@ -263,6 +263,12 @@ private static synchronized String getModulesClasspath(ServiceLocator habitat) {\n                                             \"Error truncating URI with prefix of \\\"reference:\\\"\",\n                                             use);\n                                 }\n+                            } else if (uri.toString().startsWith(\"jardir:\")) {\n+                                // OSGi fileinstall created modules can have a \"jardir:\" schema for directory\n+                                // structures, but their is no FileSystemProvider for this type.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d30c3cfa5a6573c0cb0ab8a04ffd4aaf20f59273"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyMTY0ODcx", "url": "https://github.com/payara/Payara/pull/4440#pullrequestreview-532164871", "createdAt": "2020-11-17T09:21:21Z", "commit": {"oid": "d30c3cfa5a6573c0cb0ab8a04ffd4aaf20f59273"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwOToyMToyMVrOH0rheQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwOToyMToyMVrOH0rheQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAwMTA4MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                            // structures, but their is no FileSystemProvider for this type.\n          \n          \n            \n                                            // structures, but there is no FileSystemProvider for this type.", "url": "https://github.com/payara/Payara/pull/4440#discussion_r525001081", "createdAt": "2020-11-17T09:21:21Z", "author": {"login": "Pandrex247"}, "path": "nucleus/deployment/common/src/main/java/org/glassfish/loader/util/ASClassLoaderUtil.java", "diffHunk": "@@ -263,6 +263,12 @@ private static synchronized String getModulesClasspath(ServiceLocator habitat) {\n                                             \"Error truncating URI with prefix of \\\"reference:\\\"\",\n                                             use);\n                                 }\n+                            } else if (uri.toString().startsWith(\"jardir:\")) {\n+                                // OSGi fileinstall created modules can have a \"jardir:\" schema for directory\n+                                // structures, but their is no FileSystemProvider for this type.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzEwNzYyNw=="}, "originalCommit": {"oid": "d30c3cfa5a6573c0cb0ab8a04ffd4aaf20f59273"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b5dd121722ee899c7b79e558bd79ce9aa7d4487", "author": {"user": {"login": "MeroRai", "name": "Mero Rai"}}, "url": "https://github.com/payara/Payara/commit/9b5dd121722ee899c7b79e558bd79ce9aa7d4487", "committedDate": "2020-11-17T13:07:37Z", "message": "Fixed a Typo\n\nCo-authored-by: Andrew Pielage <pandrex247@hotmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 843, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}