{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3ODg2ODc0", "number": 4699, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjozODozNFrOECpMog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxNDo1MzowNVrOEC_NBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxMjA3NTg2OnYy", "diffSide": "RIGHT", "path": "nucleus/admin/server-mgmt/src/main/java/com/sun/enterprise/admin/servermgmt/cli/StopDomainCommand.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjozODozNFrOGfOgqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjozODozNFrOGfOgqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTM5Njc3Ng==", "bodyText": "Doesn't this change make the TODO comment obsolete?", "url": "https://github.com/payara/Payara/pull/4699#discussion_r435396776", "createdAt": "2020-06-04T16:38:34Z", "author": {"login": "svendiedrichsen"}, "path": "nucleus/admin/server-mgmt/src/main/java/com/sun/enterprise/admin/servermgmt/cli/StopDomainCommand.java", "diffHunk": "@@ -98,7 +99,7 @@ protected void initDomain() throws CommandException {\n         // TODO Byron said in April 2013 that we should probably just check if\n         // NetUtils says that the getHost() --> isThisMe() rather than merely\n         // checking for the magic \"localhost\" string.  Too risky to fool with it today.\n-        if (programOpts.getHost().equals(CLIConstants.DEFAULT_HOSTNAME)) {\n+        if (NetUtils.isThisHostLocal(programOpts.getHost())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a32d0a75bbedfba50b1650b180bce0c79b002da0"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNDUzNjU5OnYy", "diffSide": "LEFT", "path": "nucleus/core/kernel/src/main/java/com/sun/enterprise/v3/server/AppServerStartup.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwOToxMDowNFrOGfmnxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMzozMzo1NVrOGfurkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc5MTgxNQ==", "bodyText": "This seems like a stronger way of checking the startup state of the server - why has this been removed?", "url": "https://github.com/payara/Payara/pull/4699#discussion_r435791815", "createdAt": "2020-06-05T09:10:04Z", "author": {"login": "MattGill98"}, "path": "nucleus/core/kernel/src/main/java/com/sun/enterprise/v3/server/AppServerStartup.java", "diffHunk": "@@ -222,18 +220,10 @@ public synchronized void start() {\n             // See issue #5596 to know why we set context CL as common CL.\n             Thread.currentThread().setContextClassLoader(\n                     commonCLS.getCommonClassLoader());\n-            if (state.compareAndSet(State.INITIAL, State.STARTING) || state.compareAndSet(State.SHUT_DOWN, State.STARTING)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a32d0a75bbedfba50b1650b180bce0c79b002da0"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTkyMzg1OQ==", "bodyText": "I messed up my commit history and mistakenly removed the previous commit made by Patrick. I will fix it and update the PR. Thanks for pointing out", "url": "https://github.com/payara/Payara/pull/4699#discussion_r435923859", "createdAt": "2020-06-05T13:33:55Z", "author": {"login": "MeroRai"}, "path": "nucleus/core/kernel/src/main/java/com/sun/enterprise/v3/server/AppServerStartup.java", "diffHunk": "@@ -222,18 +220,10 @@ public synchronized void start() {\n             // See issue #5596 to know why we set context CL as common CL.\n             Thread.currentThread().setContextClassLoader(\n                     commonCLS.getCommonClassLoader());\n-            if (state.compareAndSet(State.INITIAL, State.STARTING) || state.compareAndSet(State.SHUT_DOWN, State.STARTING)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc5MTgxNQ=="}, "originalCommit": {"oid": "a32d0a75bbedfba50b1650b180bce0c79b002da0"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNDUzOTIxOnYy", "diffSide": "RIGHT", "path": "nucleus/core/kernel/src/main/java/com/sun/enterprise/v3/server/AppServerStartup.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwOToxMDo0MlrOGfmpWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMzozNDoxMlrOGfusOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc5MjIxOQ==", "bodyText": "Who's Jerome? \ud83d\ude02", "url": "https://github.com/payara/Payara/pull/4699#discussion_r435792219", "createdAt": "2020-06-05T09:10:42Z", "author": {"login": "MattGill98"}, "path": "nucleus/core/kernel/src/main/java/com/sun/enterprise/v3/server/AppServerStartup.java", "diffHunk": "@@ -475,23 +466,31 @@ public static void printModuleStatus(ModulesRegistry registry, Level level) {\n         logger.log(level, sb.toString());\n     }\n \n+    // TODO(Sahoo): Revisit this method after discussing with Jerome.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a32d0a75bbedfba50b1650b180bce0c79b002da0"}, "originalPosition": 84}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTkyNDAyNQ==", "bodyText": "Read the above comment", "url": "https://github.com/payara/Payara/pull/4699#discussion_r435924025", "createdAt": "2020-06-05T13:34:12Z", "author": {"login": "MeroRai"}, "path": "nucleus/core/kernel/src/main/java/com/sun/enterprise/v3/server/AppServerStartup.java", "diffHunk": "@@ -475,23 +466,31 @@ public static void printModuleStatus(ModulesRegistry registry, Level level) {\n         logger.log(level, sb.toString());\n     }\n \n+    // TODO(Sahoo): Revisit this method after discussing with Jerome.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc5MjIxOQ=="}, "originalCommit": {"oid": "a32d0a75bbedfba50b1650b180bce0c79b002da0"}, "originalPosition": 84}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNTY4MTM0OnYy", "diffSide": "RIGHT", "path": "nucleus/core/kernel/src/main/java/com/sun/enterprise/v3/server/AppServerStartup.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxNDo1MzowNVrOGfx0ow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxNDo1MzowNVrOGfx0ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTk3NTMzMQ==", "bodyText": "Is there a parameter AppServerActivator missing? At least you have added the comment about one.", "url": "https://github.com/payara/Payara/pull/4699#discussion_r435975331", "createdAt": "2020-06-05T14:53:05Z", "author": {"login": "svendiedrichsen"}, "path": "nucleus/core/kernel/src/main/java/com/sun/enterprise/v3/server/AppServerStartup.java", "diffHunk": "@@ -543,9 +543,11 @@ public synchronized void stop() {\n     }\n \n     /**\n-     * Proceed to the given run level.\n+     * Proceed to the given run level using the given {@link AppServerActivator}.\n      *\n      * @param runLevel   the run level to proceed to\n+     * @param activator  an {@link AppServerActivator activator} used to\n+     *                   activate/deactivate the services\n      * @return false if an error occurred that required server shutdown; true otherwise\n      */\n     private boolean proceedTo(int runLevel) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a32d0a75bbedfba50b1650b180bce0c79b002da0"}, "originalPosition": 149}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1257, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}