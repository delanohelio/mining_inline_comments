{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxMzc0MjE5", "number": 4541, "title": "APPSERV-88 CUSTCOM-213 generate-encryption-key Command Always Creates Key for Default Domain", "bodyText": "Description\nThis is a bug fix.\nThe generate-encryption-key command will only create the key for the default domain due to the domain_name parameter being commented out on its super class.\nA workaround to this is to either make sure there\u2019s only one domain in your domain dir (the default domain is always the solitary domain in the specified domain dir - it doesn't need to be called domain1), or to simply copy the generated file from the default domain to where you need it.\nTesting\nThis also fixes the SfsbEncryptionTest so that it isn't always running against the default domain.\nTesting Performed\nRan the SfsbEncryptionTest using server-managed and server-remote profiles, against domain1 and production domains.", "createdAt": "2020-02-28T12:50:08Z", "url": "https://github.com/payara/Payara/pull/4541", "merged": true, "mergeCommit": {"oid": "a0a9a2bb13eb2c775858e56a18a43c3d7aa63d16"}, "closed": true, "closedAt": "2020-03-03T10:47:14Z", "author": {"login": "Pandrex247"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIu1gQgH2gAyMzgxMzc0MjE5OjNiMDcwOGJlNjM2MTk2ZjZiM2ZiMTQ1Zjc4NDFiMjA0NTVkYmRhY2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcJ_CcEgH2gAyMzgxMzc0MjE5OmJmYmJjODY2MDY1MGFiYjg4NzFjMzVkNTk1MWU2NGUwYmI1ZWMwMmI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3b0708be636196f6b3fb145f7841b20455dbdacd", "author": {"user": {"login": "Pandrex247", "name": "Andrew Pielage"}}, "url": "https://github.com/payara/Payara/commit/3b0708be636196f6b3fb145f7841b20455dbdacd", "committedDate": "2020-02-28T12:11:33Z", "message": "CUSTCOM-213 Allow specifying domain name for generate-encryption-key command"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91c858c6d33e7cef6298ef3f04cb774d3aee7d9f", "author": {"user": {"login": "Pandrex247", "name": "Andrew Pielage"}}, "url": "https://github.com/payara/Payara/commit/91c858c6d33e7cef6298ef3f04cb774d3aee7d9f", "committedDate": "2020-02-28T12:45:48Z", "message": "APPSERV-88 Fix if condition check and add more logging"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3MjI2NDg4", "url": "https://github.com/payara/Payara/pull/4541#pullrequestreview-367226488", "createdAt": "2020-03-02T14:11:56Z", "commit": {"oid": "91c858c6d33e7cef6298ef3f04cb774d3aee7d9f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3Nzk2ODM3", "url": "https://github.com/payara/Payara/pull/4541#pullrequestreview-367796837", "createdAt": "2020-03-03T08:56:36Z", "commit": {"oid": "91c858c6d33e7cef6298ef3f04cb774d3aee7d9f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwODo1NjozNlrOFw8_3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwODo1NjozNlrOFw8_3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njg3NTM1OA==", "bodyText": "This block is a repeat of above. could be put into a method", "url": "https://github.com/payara/Payara/pull/4541#discussion_r386875358", "createdAt": "2020-03-03T08:56:36Z", "author": {"login": "MarkWareham"}, "path": "appserver/tests/payara-samples/test-utils/src/main/java/fish/payara/samples/ServerOperations.java", "diffHunk": "@@ -782,16 +785,19 @@ public static void disableDataGridEncryption() {\n             System.out.println(\"Disabling Data Grid Encryption\");\n             CliCommands.payaraGlassFish(\"set-hazelcast-configuration\", \"--encryptdatagrid\", \"false\");\n \n-            String domain = System.getProperty(\"payara.domain.name\", \"domain1\");\n-            if (domain != null) {\n+            String domain = System.getProperty(\"payara.domain.name\");\n+            if (domain == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91c858c6d33e7cef6298ef3f04cb774d3aee7d9f"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3Nzk3OTEw", "url": "https://github.com/payara/Payara/pull/4541#pullrequestreview-367797910", "createdAt": "2020-03-03T08:58:14Z", "commit": {"oid": "91c858c6d33e7cef6298ef3f04cb774d3aee7d9f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bfbbc8660650abb8871c35d5951e64e0bb5ec02b", "author": {"user": {"login": "Pandrex247", "name": "Andrew Pielage"}}, "url": "https://github.com/payara/Payara/commit/bfbbc8660650abb8871c35d5951e64e0bb5ec02b", "committedDate": "2020-03-03T09:38:05Z", "message": "Refactor redundant block"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 774, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}