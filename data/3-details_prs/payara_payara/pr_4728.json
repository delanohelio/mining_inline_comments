{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2ODYzMjY1", "number": 4728, "title": "FISH-207 Disabling applications via their deployment group targets not working", "bodyText": "Description\nThis fixes an issue where disabling applications via their deployment group target didn't work.\nTesting\nTesting Performed\n\nCreated an instance\nCreated a deployment group, added he instances to it and started it\nDeployed a web application targeting the deployment group\nDisabled the application using the following commands:\n\n\nasadmin set deployment-groups.deployment-group.<dg-name>.application-ref.<appname>.enabled=false\nasadmin disable --target <dg-name> <appname>\n\nTesting Environment\nZulu JDK 1.8_222 on Elementary OS 0.4.1 Loki with Maven 3.5.4\nNotes for Reviewers", "createdAt": "2020-06-19T03:11:35Z", "url": "https://github.com/payara/Payara/pull/4728", "merged": true, "mergeCommit": {"oid": "8e86cb002d2646cec15c4f2c2d03d53ee14d7c64"}, "closed": true, "closedAt": "2020-06-29T16:02:16Z", "author": {"login": "MeroRai"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsqDxcgH2gAyNDM2ODYzMjY1OjkxZjIzYWQ4MjA0YTgyNTRkM2EyZTA3MWFhYmM3N2QxMTQ4NTY3YTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwDQIfgFqTQzOTI4OTk0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "91f23ad8204a8254d3a2e071aabc77d1148567a7", "author": {"user": {"login": "MeroRai", "name": "Mero Rai"}}, "url": "https://github.com/payara/Payara/commit/91f23ad8204a8254d3a2e071aabc77d1148567a7", "committedDate": "2020-06-19T02:58:53Z", "message": "FISH-13 Disabling applications via their deployment group targets not working"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1OTg1Nzk1", "url": "https://github.com/payara/Payara/pull/4728#pullrequestreview-435985795", "createdAt": "2020-06-23T17:09:36Z", "commit": {"oid": "91f23ad8204a8254d3a2e071aabc77d1148567a7"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNzowOTozNlrOGnytiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNzowOTozNlrOGnytiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM3ODUwNw==", "bodyText": "No need for this, if it's empty the loop won't run", "url": "https://github.com/payara/Payara/pull/4728#discussion_r444378507", "createdAt": "2020-06-23T17:09:36Z", "author": {"login": "lprimak"}, "path": "nucleus/deployment/admin/src/main/java/org/glassfish/deployment/admin/DisableCommand.java", "diffHunk": "@@ -422,7 +423,31 @@ public void execute(AdminCommandContext context) {\n                 }\n             }\n         }\n-    }        \n+    }\n+ \n+    private boolean isTargetCluster() {\n+        Cluster cluster = server.getCluster();\n+        if (cluster != null) {\n+            if (cluster.getName().equals(target)) {\n+                return true;\n+            }\n+        }\n+        \n+        return false;\n+    }\n+\n+    private boolean isTargetDeploymentGroup() {\n+        List<DeploymentGroup> deploymentGroups = server.getDeploymentGroup();\n+        if (!deploymentGroups.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91f23ad8204a8254d3a2e071aabc77d1148567a7"}, "originalPosition": 45}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c245bc09314a93f2d69ca96576dd790696af126", "author": {"user": {"login": "MeroRai", "name": "Mero Rai"}}, "url": "https://github.com/payara/Payara/commit/9c245bc09314a93f2d69ca96576dd790696af126", "committedDate": "2020-06-24T17:00:36Z", "message": "Removed the unwanted check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5Mjg5OTQ4", "url": "https://github.com/payara/Payara/pull/4728#pullrequestreview-439289948", "createdAt": "2020-06-29T16:01:47Z", "commit": {"oid": "9c245bc09314a93f2d69ca96576dd790696af126"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 729, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}