{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxMzgxMTk3", "number": 13073, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxOTowNzo0MFrOEtLxxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMFQyMDo1NjoxM1rOF8lP0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1ODE0MzQwOnYy", "diffSide": "LEFT", "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoring_1_26_0.groovy", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxOTowNzo0MFrOHg1cgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxOTowNzo0MFrOHg1cgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDE5MjEzMA==", "bodyText": "This one and the next one are only sorting stuff to make it more easy to find the refs.", "url": "https://github.com/apache/beam/pull/13073#discussion_r504192130", "createdAt": "2020-10-13T19:07:40Z", "author": {"login": "iemejia"}, "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoring_1_26_0.groovy", "diffHunk": "@@ -23,53 +23,54 @@ package org.apache.beam.gradle\n  */\n class GrpcVendoring_1_26_0 {\n \n-  static def guava_version = \"26.0-jre\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "241631090470271e2a75c9e46bf806d265983117"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1ODE0Nzc3OnYy", "diffSide": "RIGHT", "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoring_1_26_0.groovy", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxOTowODo1MlrOHg1fGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxOTowODo1MlrOHg1fGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDE5Mjc5NQ==", "bodyText": "Notice that vendored grpc dependencies can have different versions so they don't depend on Beam main module file, so versions are defined independently.", "url": "https://github.com/apache/beam/pull/13073#discussion_r504192795", "createdAt": "2020-10-13T19:08:52Z", "author": {"login": "iemejia"}, "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoring_1_26_0.groovy", "diffHunk": "@@ -23,53 +23,54 @@ package org.apache.beam.gradle\n  */\n class GrpcVendoring_1_26_0 {\n \n-  static def guava_version = \"26.0-jre\"\n-  static def protobuf_version = \"3.11.0\"\n+  static def alpn_api_version = \"1.1.2.v20150522\"\n+  static def bouncycastle_version = \"1.54\"\n+  static def compress_lzf_version = \"1.0.3\"\n+  static def conscrypt_version = \"1.3.0\"\n+  static def google_auth_version = \"0.18.0\"\n   static def grpc_version = \"1.26.0\"\n   static def gson_version = \"2.8.6\"\n+  static def guava_version = \"26.0-jre\"\n+  static def jboss_marshalling_version = \"1.4.11.Final\"\n+  static def jboss_modules_version = \"1.1.0.Beta1\"\n+  static def jzlib_version = \"1.1.3\"\n+  static def log4j_version = \"2.13.3\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "241631090470271e2a75c9e46bf806d265983117"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzkzNDUzNjc3OnYy", "diffSide": "RIGHT", "path": "sdks/java/io/hcatalog/build.gradle", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0yN1QxNzowNDo0MlrOJQodhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wN1QyMzowNzowNVrOJXepFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMTQxOTkwOQ==", "bodyText": "Somehow I had to redefine this here to make it work, bad to have this repeated but it is the only workaround I could find.", "url": "https://github.com/apache/beam/pull/13073#discussion_r621419909", "createdAt": "2021-04-27T17:04:42Z", "author": {"login": "iemejia"}, "path": "sdks/java/io/hcatalog/build.gradle", "diffHunk": "@@ -41,6 +41,17 @@ test {\n   ignoreFailures true\n }\n \n+configurations.testRuntimeClasspath {\n+  resolutionStrategy {\n+    def log4j_version = \"2.4.1\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f829185676cb7765b8df86161aae046feb197e2"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzcyNDI0MA==", "bodyText": "Should this be 2.14.1 ?", "url": "https://github.com/apache/beam/pull/13073#discussion_r627724240", "createdAt": "2021-05-06T19:57:52Z", "author": {"login": "aaltay"}, "path": "sdks/java/io/hcatalog/build.gradle", "diffHunk": "@@ -41,6 +41,17 @@ test {\n   ignoreFailures true\n }\n \n+configurations.testRuntimeClasspath {\n+  resolutionStrategy {\n+    def log4j_version = \"2.4.1\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMTQxOTkwOQ=="}, "originalCommit": {"oid": "5f829185676cb7765b8df86161aae046feb197e2"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzk4NjQ3NQ==", "bodyText": "Arghh what a silly mistake, my excuses I opened #14751 to upgrade this dep to the minimum compatible version with Hive dependencies, wondering if we should also cherry-pick it for the release. Thanks for noticing @aaltay !", "url": "https://github.com/apache/beam/pull/13073#discussion_r627986475", "createdAt": "2021-05-07T07:23:40Z", "author": {"login": "iemejia"}, "path": "sdks/java/io/hcatalog/build.gradle", "diffHunk": "@@ -41,6 +41,17 @@ test {\n   ignoreFailures true\n }\n \n+configurations.testRuntimeClasspath {\n+  resolutionStrategy {\n+    def log4j_version = \"2.4.1\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMTQxOTkwOQ=="}, "originalCommit": {"oid": "5f829185676cb7765b8df86161aae046feb197e2"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzk5MTU0Mg==", "bodyText": "It is a pity we cannot move to the latest log4j version because of Hive's HCatalog dependency constraints. The bad part is that this will still trigger security analysis tools warnings, but I have no idea of how to workaround this apart of doing a full upgrade of  Hive to the latest but that does not seem to be so simple either, for ref BEAM-9351.", "url": "https://github.com/apache/beam/pull/13073#discussion_r627991542", "createdAt": "2021-05-07T07:32:26Z", "author": {"login": "iemejia"}, "path": "sdks/java/io/hcatalog/build.gradle", "diffHunk": "@@ -41,6 +41,17 @@ test {\n   ignoreFailures true\n }\n \n+configurations.testRuntimeClasspath {\n+  resolutionStrategy {\n+    def log4j_version = \"2.4.1\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMTQxOTkwOQ=="}, "originalCommit": {"oid": "5f829185676cb7765b8df86161aae046feb197e2"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyODU5OTA2Mw==", "bodyText": "Thank you @iemejia. I do not have an opinion about cherry picking to the release or not. If it helps, I am not aware of any user issues or bug reports. I noticed this coincidentally.", "url": "https://github.com/apache/beam/pull/13073#discussion_r628599063", "createdAt": "2021-05-07T23:07:05Z", "author": {"login": "aaltay"}, "path": "sdks/java/io/hcatalog/build.gradle", "diffHunk": "@@ -41,6 +41,17 @@ test {\n   ignoreFailures true\n }\n \n+configurations.testRuntimeClasspath {\n+  resolutionStrategy {\n+    def log4j_version = \"2.4.1\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMTQxOTkwOQ=="}, "originalCommit": {"oid": "5f829185676cb7765b8df86161aae046feb197e2"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzk5MDY5MTM3OnYy", "diffSide": "RIGHT", "path": "sdks/java/io/elasticsearch-tests/elasticsearch-tests-5/build.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMFQyMDo1NjoxM1rOJYge8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMFQyMDo1NjoxM1rOJYge8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyOTY3NzgwOA==", "bodyText": "I think this is no longer necessary with the change to library in BeamModulePlugin.groovy. applyJavaNature does this for all dependencies in library: \n  \n    \n      beam/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy\n    \n    \n        Lines 1537 to 1544\n      in\n      3c9807b\n    \n    \n    \n    \n\n        \n          \n           if (config.getName() != \"errorprone\" && !inDependencyUpdates) { \n        \n\n        \n          \n             config.resolutionStrategy { \n        \n\n        \n          \n               // Filtering versionless coordinates that depend on BOM. Beam project needs to set the \n        \n\n        \n          \n               // versions for only handful libraries when building the project (BEAM-9542). \n        \n\n        \n          \n               def librariesWithVersion = project.library.java.values().findAll { it.split(':').size() > 2 } \n        \n\n        \n          \n               force librariesWithVersion \n        \n\n        \n          \n             } \n        \n\n        \n          \n           }", "url": "https://github.com/apache/beam/pull/13073#discussion_r629677808", "createdAt": "2021-05-10T20:56:13Z", "author": {"login": "TheNeuralBit"}, "path": "sdks/java/io/elasticsearch-tests/elasticsearch-tests-5/build.gradle", "diffHunk": "@@ -32,15 +32,14 @@ test {\n   systemProperty \"tests.security.manager\", \"false\"\n }\n \n-def log4j_version = \"2.6.2\"\n def elastic_search_version = \"5.6.3\"\n \n configurations.all {\n   resolutionStrategy {\n     // Make sure the log4j versions for api and core match instead of taking the default\n     // Gradle rule of using the latest.\n-    force \"org.apache.logging.log4j:log4j-api:$log4j_version\"\n-    force \"org.apache.logging.log4j:log4j-core:$log4j_version\"\n+    force library.java.log4j_api\n+    force library.java.log4j_core", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a24eb8f3c65299a3f0dfb1bfa4a055ddc8dda5c"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2937, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}