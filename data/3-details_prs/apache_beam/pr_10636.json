{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0NDQwMDU0", "number": 10636, "title": "[BEAM-9184] Add ToSet combiner", "bodyText": "Adds ToSet(), following from ToList() and ToDict(). For lists with many duplicates, ToList() will not combine well. Pairing with an empty value to use ToDict() seems unnecessarily complicated.", "createdAt": "2020-01-18T16:09:49Z", "url": "https://github.com/apache/beam/pull/10636", "merged": true, "mergeCommit": {"oid": "5bea20ced3a523eb24542e74c756d66cade39aff"}, "closed": true, "closedAt": "2020-01-27T23:10:04Z", "author": {"login": "sorensenjs"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7lXaJgH2gAyMzY0NDQwMDU0OjEyZGNlNzRmMTYzZmEyMjA0MDVkMTdjMDViZDEzMTQ1YzA5NzRkMDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb9dQ-jAH2gAyMzY0NDQwMDU0OmM1N2UyNWMwMTlhZjNiNzc1NDlkMjRjMTI3M2VhMjMzYzUyNDUzZTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "12dce74f163fa220405d17c05bd13145c0974d05", "author": {"user": {"login": "sorensenjs", "name": "Jeffrey Sorensen"}}, "url": "https://github.com/apache/beam/commit/12dce74f163fa220405d17c05bd13145c0974d05", "committedDate": "2020-01-18T15:48:31Z", "message": "Add ToSet combiner."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "008826110a3e1d40dfe5aa8b06f53edf38f7b591", "author": {"user": {"login": "sorensenjs", "name": "Jeffrey Sorensen"}}, "url": "https://github.com/apache/beam/commit/008826110a3e1d40dfe5aa8b06f53edf38f7b591", "committedDate": "2020-01-18T16:06:32Z", "message": "Fix extra list brackets."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2NzIxNjE4", "url": "https://github.com/apache/beam/pull/10636#pullrequestreview-346721618", "createdAt": "2020-01-22T16:23:26Z", "commit": {"oid": "008826110a3e1d40dfe5aa8b06f53edf38f7b591"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxNjoyMzoyN1rOFgiZkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxNjoyMzoyN1rOFgiZkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY2MjM1NA==", "bodyText": "Is this pylint directive still required with the version of pylint Beam is using today?", "url": "https://github.com/apache/beam/pull/10636#discussion_r369662354", "createdAt": "2020-01-22T16:23:27Z", "author": {"login": "tvalentyn"}, "path": "sdks/python/apache_beam/transforms/combiners.py", "diffHunk": "@@ -802,6 +804,35 @@ def extract_output(self, accumulator):\n     return accumulator\n \n \n+class ToSet(ptransform.PTransform):\n+  \"\"\"A global CombineFn that condenses a PCollection into a set.\"\"\"\n+\n+  def __init__(self, label='ToSet'):  # pylint: disable=useless-super-delegation", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "008826110a3e1d40dfe5aa8b06f53edf38f7b591"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NzE2MzAy", "url": "https://github.com/apache/beam/pull/10636#pullrequestreview-347716302", "createdAt": "2020-01-24T01:48:27Z", "commit": {"oid": "008826110a3e1d40dfe5aa8b06f53edf38f7b591"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3ODM4OTMy", "url": "https://github.com/apache/beam/pull/10636#pullrequestreview-347838932", "createdAt": "2020-01-24T09:41:57Z", "commit": {"oid": "008826110a3e1d40dfe5aa8b06f53edf38f7b591"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwOTo0MTo1OFrOFhYRRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwOTo0MTo1OFrOFhYRRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDU0NDk2Ng==", "bodyText": "Saw this in JIRA and made the exact same implementation before I realised the PR was already out :)\nSmall comment: there's a tiny typo here that doesn't really matter. Should be 'to set'.", "url": "https://github.com/apache/beam/pull/10636#discussion_r370544966", "createdAt": "2020-01-24T09:41:58Z", "author": {"login": "EDjur"}, "path": "sdks/python/apache_beam/transforms/combiners_test.py", "diffHunk": "@@ -346,6 +346,18 @@ def match(actual):\n     assert_that(result, matcher())\n     pipeline.run()\n \n+  def test_to_set(self):\n+    pipeline = TestPipeline()\n+    the_list = [6, 3, 1, 1, 9, 1, 5, 2, 0, 6]\n+    pcoll = pipeline | 'start' >> Create(the_list)\n+    result = pcoll | 'to list' >> combine.ToSet()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "008826110a3e1d40dfe5aa8b06f53edf38f7b591"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c57e25c019af3b77549d24c1273ea233c52453e3", "author": {"user": {"login": "sorensenjs", "name": "Jeffrey Sorensen"}}, "url": "https://github.com/apache/beam/commit/c57e25c019af3b77549d24c1273ea233c52453e3", "committedDate": "2020-01-24T11:30:06Z", "message": "Address cut/paste comment issue."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3532, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}