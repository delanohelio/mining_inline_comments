{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NjA2MDQ2", "number": 10940, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QyMzo0NDowOVrODjplrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QyMzo0NDowOVrODjplrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NzA4MTQzOnYy", "diffSide": "RIGHT", "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/VendorJavaPlugin.groovy", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QyMzo0NDowOVrOFvlDZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QyMzo0NDowOVrOFvlDZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQzNDQ2OQ==", "bodyText": "This does not include the classifier. And since leaving out the classifier is equal to jar (I think always?) it is not just a string comparison.\nDoes Gradle utilities have anything to parse the unshadedDependencies into ProjectDependency objects and then use equality on that object?", "url": "https://github.com/apache/beam/pull/10940#discussion_r385434469", "createdAt": "2020-02-27T23:44:09Z", "author": {"login": "kennknowles"}, "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/VendorJavaPlugin.groovy", "diffHunk": "@@ -286,8 +288,23 @@ artifactId=${project.name}\n               pom.withXml {\n                 def root = asNode()\n                 def dependenciesNode = root.appendNode('dependencies')\n+                def unshaded = { dependency ->\n+                  if (dependency instanceof ProjectDependency) {\n+                    def groupId = dependency.getDependencyProject().mavenGroupId\n+                    def artifactId = dependency.getDependencyProject().archivesBaseName\n+                    def version = dependency.version\n+                    return config.unshadedDependencies != null && config.unshadedDependencies.contains(\"$groupId:$artifactId:$version\")\n+                  } else {\n+                    def groupId = dependency.group\n+                    def artifactId = dependency.name\n+                    def version = dependency.version\n+                    return config.unshadedDependencies != null && config.unshadedDependencies.contains(\"$groupId:$artifactId:$version\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b99483876084f2576aa99a6389ff90002abe1cb2"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1884, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}