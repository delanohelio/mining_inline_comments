{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1MTgyMDIy", "number": 13134, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwMDozMzo1M1rOEw_gNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QyMTowMTowMlrOExX5ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5ODA3NTQwOnYy", "diffSide": "RIGHT", "path": "examples/java/src/test/java/org/apache/beam/examples/complete/TrafficRoutesIT.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwMDozMzo1M1rOHm4eJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwMDozMzo1M1rOHm4eJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDUzMzE1Ng==", "bodyText": "Could we add a TODO(BEAM-10402) on these?", "url": "https://github.com/apache/beam/pull/13134#discussion_r510533156", "createdAt": "2020-10-23T00:33:53Z", "author": {"login": "TheNeuralBit"}, "path": "examples/java/src/test/java/org/apache/beam/examples/complete/TrafficRoutesIT.java", "diffHunk": "@@ -42,6 +42,7 @@\n \n /** End-to-end tests of TrafficRoutes. */\n @RunWith(JUnit4.class)\n+@SuppressWarnings(\"nullness\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9af1770551e97797b1f49075ad41ecfafea5b5a9"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMTA2OTc0OnYy", "diffSide": "RIGHT", "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjozMDo1NFrOHnVIXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QyMTowMDozM1rOHneUeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAwMjcxNg==", "bodyText": "This looked concerning until I looked around and realized the \"portability\" nature means its for making modules that generate protobuf/grpc code. The comment above \"applyPortabilityNature should only be applied to projects that want to use vendored gRPC / protobuf dependencies\" isn't very helpful. Maybe I'll send you a PR to document these natures.", "url": "https://github.com/apache/beam/pull/13134#discussion_r511002716", "createdAt": "2020-10-23T16:30:54Z", "author": {"login": "TheNeuralBit"}, "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy", "diffHunk": "@@ -1646,8 +1656,10 @@ class BeamModulePlugin implements Plugin<Project> {\n       project.ext.applyJavaNature(\n           exportJavadoc: false,\n           enableSpotbugs: false,\n-          enableChecker: false,\n           publish: configuration.publish,\n+          generatedClassPatterns: [\n+            '^org\\\\.apache\\\\.beam\\\\..*'\n+          ],", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b4b8fca8e0c55e005f735c0d999746da5c5c58c"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE1MzI3NA==", "bodyText": "Yea. I could be .model except it is also used by the windmill proto generation. I have changed it so that it is passed in and the default is the model.", "url": "https://github.com/apache/beam/pull/13134#discussion_r511153274", "createdAt": "2020-10-23T21:00:33Z", "author": {"login": "kennknowles"}, "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy", "diffHunk": "@@ -1646,8 +1656,10 @@ class BeamModulePlugin implements Plugin<Project> {\n       project.ext.applyJavaNature(\n           exportJavadoc: false,\n           enableSpotbugs: false,\n-          enableChecker: false,\n           publish: configuration.publish,\n+          generatedClassPatterns: [\n+            '^org\\\\.apache\\\\.beam\\\\..*'\n+          ],", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAwMjcxNg=="}, "originalCommit": {"oid": "4b4b8fca8e0c55e005f735c0d999746da5c5c58c"}, "originalPosition": 82}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMTA5MzY1OnYy", "diffSide": "RIGHT", "path": "sdks/java/extensions/protobuf/build.gradle", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjozODoxOVrOHnVXXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QyMToyMzowN1rOHne0eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAwNjU1OQ==", "bodyText": "Is it possible to use slashy strings in our gradle files? That'd clean these arrays up a bit.", "url": "https://github.com/apache/beam/pull/13134#discussion_r511006559", "createdAt": "2020-10-23T16:38:19Z", "author": {"login": "TheNeuralBit"}, "path": "sdks/java/extensions/protobuf/build.gradle", "diffHunk": "@@ -18,8 +18,13 @@\n \n plugins { id 'org.apache.beam.module' }\n applyJavaNature(\n-  enableChecker: false,\n   ignoreRawtypeErrors: true,\n+  generatedClassPatterns: [\n+    '^org\\\\.apache\\\\.beam\\\\.sdk\\\\.extensions\\\\.protobuf\\\\.Proto2CoderTestMessages',\n+    '^org\\\\.apache\\\\.beam\\\\.sdk\\\\.extensions\\\\.protobuf\\\\.Proto2SchemaMessages',\n+    '^org\\\\.apache\\\\.beam\\\\.sdk\\\\.extensions\\\\.protobuf\\\\.Proto3SchemaMessages',\n+    '^org\\\\.apache\\\\.beam\\\\.sdk\\\\.extensions\\\\.protobuf\\\\.Proto3SchemaOptions',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b4b8fca8e0c55e005f735c0d999746da5c5c58c"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE1Mzk3OA==", "bodyText": "Didn't know about slashy strings. Nice. Done.", "url": "https://github.com/apache/beam/pull/13134#discussion_r511153978", "createdAt": "2020-10-23T21:02:27Z", "author": {"login": "kennknowles"}, "path": "sdks/java/extensions/protobuf/build.gradle", "diffHunk": "@@ -18,8 +18,13 @@\n \n plugins { id 'org.apache.beam.module' }\n applyJavaNature(\n-  enableChecker: false,\n   ignoreRawtypeErrors: true,\n+  generatedClassPatterns: [\n+    '^org\\\\.apache\\\\.beam\\\\.sdk\\\\.extensions\\\\.protobuf\\\\.Proto2CoderTestMessages',\n+    '^org\\\\.apache\\\\.beam\\\\.sdk\\\\.extensions\\\\.protobuf\\\\.Proto2SchemaMessages',\n+    '^org\\\\.apache\\\\.beam\\\\.sdk\\\\.extensions\\\\.protobuf\\\\.Proto3SchemaMessages',\n+    '^org\\\\.apache\\\\.beam\\\\.sdk\\\\.extensions\\\\.protobuf\\\\.Proto3SchemaOptions',", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAwNjU1OQ=="}, "originalCommit": {"oid": "4b4b8fca8e0c55e005f735c0d999746da5c5c58c"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE2MTQ2Ng==", "bodyText": "Nice! I was unaware of them before, but did a check to see if there was some kind of regex literal we could use. I guess ~\"pattern\" is an option as well, but produces Pattern instances.", "url": "https://github.com/apache/beam/pull/13134#discussion_r511161466", "createdAt": "2020-10-23T21:23:07Z", "author": {"login": "TheNeuralBit"}, "path": "sdks/java/extensions/protobuf/build.gradle", "diffHunk": "@@ -18,8 +18,13 @@\n \n plugins { id 'org.apache.beam.module' }\n applyJavaNature(\n-  enableChecker: false,\n   ignoreRawtypeErrors: true,\n+  generatedClassPatterns: [\n+    '^org\\\\.apache\\\\.beam\\\\.sdk\\\\.extensions\\\\.protobuf\\\\.Proto2CoderTestMessages',\n+    '^org\\\\.apache\\\\.beam\\\\.sdk\\\\.extensions\\\\.protobuf\\\\.Proto2SchemaMessages',\n+    '^org\\\\.apache\\\\.beam\\\\.sdk\\\\.extensions\\\\.protobuf\\\\.Proto3SchemaMessages',\n+    '^org\\\\.apache\\\\.beam\\\\.sdk\\\\.extensions\\\\.protobuf\\\\.Proto3SchemaOptions',", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAwNjU1OQ=="}, "originalCommit": {"oid": "4b4b8fca8e0c55e005f735c0d999746da5c5c58c"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMTA5NTUxOnYy", "diffSide": "RIGHT", "path": "sdks/java/extensions/sql/hcatalog/build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjozODo1MVrOHnVYlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QyMTowMzoyM1rOHneYhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAwNjg3MQ==", "bodyText": "not yet filed or TODO", "url": "https://github.com/apache/beam/pull/13134#discussion_r511006871", "createdAt": "2020-10-23T16:38:51Z", "author": {"login": "TheNeuralBit"}, "path": "sdks/java/extensions/sql/hcatalog/build.gradle", "diffHunk": "@@ -18,7 +18,12 @@\n \n plugins { id 'org.apache.beam.module' }\n \n-applyJavaNature(enableChecker:false,automaticModuleName: 'org.apache.beam.sdk.extensions.sql.meta.provider.hcatalog')\n+applyJavaNature(\n+  automaticModuleName: 'org.apache.beam.sdk.extensions.sql.meta.provider.hcatalog',\n+  classesTriggerCheckerBugs: [\n+    'HCatalogTable': '',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b4b8fca8e0c55e005f735c0d999746da5c5c58c"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE1NDMxMQ==", "bodyText": "Done", "url": "https://github.com/apache/beam/pull/13134#discussion_r511154311", "createdAt": "2020-10-23T21:03:23Z", "author": {"login": "kennknowles"}, "path": "sdks/java/extensions/sql/hcatalog/build.gradle", "diffHunk": "@@ -18,7 +18,12 @@\n \n plugins { id 'org.apache.beam.module' }\n \n-applyJavaNature(enableChecker:false,automaticModuleName: 'org.apache.beam.sdk.extensions.sql.meta.provider.hcatalog')\n+applyJavaNature(\n+  automaticModuleName: 'org.apache.beam.sdk.extensions.sql.meta.provider.hcatalog',\n+  classesTriggerCheckerBugs: [\n+    'HCatalogTable': '',", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAwNjg3MQ=="}, "originalCommit": {"oid": "4b4b8fca8e0c55e005f735c0d999746da5c5c58c"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMTEwMjM5OnYy", "diffSide": "RIGHT", "path": "sdks/java/io/hadoop-format/build.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjo0MDo0MlrOHnVcqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjo0MDo0MlrOHnVcqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAwNzkxNA==", "bodyText": "nit: some of these are left with unnecessary whitespace (not a big deal if its a pain to fix)", "url": "https://github.com/apache/beam/pull/13134#discussion_r511007914", "createdAt": "2020-10-23T16:40:42Z", "author": {"login": "TheNeuralBit"}, "path": "sdks/java/io/hadoop-format/build.gradle", "diffHunk": "@@ -20,7 +20,7 @@ import groovy.json.JsonOutput\n \n plugins { id 'org.apache.beam.module' }\n applyJavaNature(\n-  enableChecker:false,\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b4b8fca8e0c55e005f735c0d999746da5c5c58c"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMTEwMzk3OnYy", "diffSide": "RIGHT", "path": "sdks/java/io/kudu/build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjo0MTowOVrOHnVdoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QyMTowNDozM1rOHneaJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAwODE2MQ==", "bodyText": "not yet filed or TODO", "url": "https://github.com/apache/beam/pull/13134#discussion_r511008161", "createdAt": "2020-10-23T16:41:09Z", "author": {"login": "TheNeuralBit"}, "path": "sdks/java/io/kudu/build.gradle", "diffHunk": "@@ -18,8 +18,12 @@\n \n plugins { id 'org.apache.beam.module' }\n applyJavaNature(\n-  enableChecker: false,\n+\n   ignoreRawtypeErrors:true,\n+  classesTriggerCheckerBugs: [\n+    'KuduTestUtils': '',\n+    'KuduIOIT': '',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b4b8fca8e0c55e005f735c0d999746da5c5c58c"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE1NDcyNQ==", "bodyText": "Done", "url": "https://github.com/apache/beam/pull/13134#discussion_r511154725", "createdAt": "2020-10-23T21:04:33Z", "author": {"login": "kennknowles"}, "path": "sdks/java/io/kudu/build.gradle", "diffHunk": "@@ -18,8 +18,12 @@\n \n plugins { id 'org.apache.beam.module' }\n applyJavaNature(\n-  enableChecker: false,\n+\n   ignoreRawtypeErrors:true,\n+  classesTriggerCheckerBugs: [\n+    'KuduTestUtils': '',\n+    'KuduIOIT': '',", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAwODE2MQ=="}, "originalCommit": {"oid": "4b4b8fca8e0c55e005f735c0d999746da5c5c58c"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMTExMDQ3OnYy", "diffSide": "RIGHT", "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjo0MzowMFrOHnVhiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QyMDo1MzozNFrOHneJmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAwOTE2MQ==", "bodyText": "Is this a typo for maxerrors?\nI'm assuming you added this to make it quicker to run, can/should we drop it now?", "url": "https://github.com/apache/beam/pull/13134#discussion_r511009161", "createdAt": "2020-10-23T16:43:00Z", "author": {"login": "TheNeuralBit"}, "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy", "diffHunk": "@@ -726,11 +729,15 @@ class BeamModulePlugin implements Plugin<Project> {\n         options.encoding = \"UTF-8\"\n         // As we want to add '-Xlint:-deprecation' we intentionally remove '-Xlint:deprecation' from compilerArgs here,\n         // as intellij is adding this, see https://youtrack.jetbrains.com/issue/IDEA-196615\n-        options.compilerArgs -= [\"-Xlint:deprecation\"]\n+        options.compilerArgs -= [\n+          \"-Xlint:deprecation\",\n+        ]\n         options.compilerArgs += ([\n           '-parameters',\n           '-Xlint:all',\n-          '-Werror'\n+          '-Werror',\n+          '-Xmaxerrs',\n+          '10000'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b4b8fca8e0c55e005f735c0d999746da5c5c58c"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE1MDQ5MA==", "bodyText": "I did this so that it would expose all the errors and I could grep the log to pass the right files through sed. Presumably in mostly-functioning code you would be at 0 or a handful anyhow so the number doesn't matter. But I'll remove it because might as well leave it at default.", "url": "https://github.com/apache/beam/pull/13134#discussion_r511150490", "createdAt": "2020-10-23T20:53:34Z", "author": {"login": "kennknowles"}, "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy", "diffHunk": "@@ -726,11 +729,15 @@ class BeamModulePlugin implements Plugin<Project> {\n         options.encoding = \"UTF-8\"\n         // As we want to add '-Xlint:-deprecation' we intentionally remove '-Xlint:deprecation' from compilerArgs here,\n         // as intellij is adding this, see https://youtrack.jetbrains.com/issue/IDEA-196615\n-        options.compilerArgs -= [\"-Xlint:deprecation\"]\n+        options.compilerArgs -= [\n+          \"-Xlint:deprecation\",\n+        ]\n         options.compilerArgs += ([\n           '-parameters',\n           '-Xlint:all',\n-          '-Werror'\n+          '-Werror',\n+          '-Xmaxerrs',\n+          '10000'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAwOTE2MQ=="}, "originalCommit": {"oid": "4b4b8fca8e0c55e005f735c0d999746da5c5c58c"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMjA3MjI3OnYy", "diffSide": "RIGHT", "path": "examples/java/build.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QyMTowMTowMlrOHneVLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QyMTowMTowMlrOHneVLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE1MzQ1Mw==", "bodyText": "Noting that we don't apply spotless to the groovy files but we can and it should clean up these blanks and the indentation inconsistencies etc.", "url": "https://github.com/apache/beam/pull/13134#discussion_r511153453", "createdAt": "2020-10-23T21:01:02Z", "author": {"login": "kennknowles"}, "path": "examples/java/build.gradle", "diffHunk": "@@ -21,7 +21,7 @@ import groovy.json.JsonOutput\n plugins { id 'org.apache.beam.module' }\n applyJavaNature(\n   exportJavadoc: false,\n-  enableChecker: false,\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b4b8fca8e0c55e005f735c0d999746da5c5c58c"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3020, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}