{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxNzg4Mjgy", "number": 12130, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxNjowOTozNFrOEKK5Ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxNjowOTozNFrOEKK5Ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MDk5NjgyOnYy", "diffSide": "RIGHT", "path": "sdks/java/container/license_scripts/pull_licenses_java.py", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxNjowOTozNFrOGrDx5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxOTozMzozMVrOGrLhDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzgwMzg3OA==", "bodyText": "There is an exponential weight on L47. With 9 retries it will wait for a long time. I do not know what is the multiplier, but even with a multiplier of 1, this will be almost 10 minutes wait before the last retry.\nShould we change retry number? Or the exponential multiplier?", "url": "https://github.com/apache/beam/pull/12130#discussion_r447803878", "createdAt": "2020-06-30T16:09:34Z", "author": {"login": "aaltay"}, "path": "sdks/java/container/license_scripts/pull_licenses_java.py", "diffHunk": "@@ -39,7 +39,7 @@\n from urllib.request import urlopen, URLError, HTTPError\n \n SOURCE_CODE_REQUIRED_LICENSES = ['lgpl', 'glp', 'cddl', 'mpl']\n-RETRY_NUM = 3\n+RETRY_NUM = 9", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f61da836181cf295d03d8e6cb21141f8117f0363"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzkxNjQxNw==", "bodyText": "I suggest we use wait_fixed(5) instead of the wait_exponential. Since we were only setting retries to 3 before it should have been waiting:\n2s, 4s, 8s.\nwait_fixed(5) will spend about a minute max on each url. I don't want to make it wait much more. I believe the test will time out if we make it too long.\nwait: 5s, 5s, 5s, 5s, 5s, 5s, 5s, 5s, 5s\nI suggest we try this first. WDYT? Here are the tenacity docs:\nhttps://tenacity.readthedocs.io/en/latest/", "url": "https://github.com/apache/beam/pull/12130#discussion_r447916417", "createdAt": "2020-06-30T19:06:32Z", "author": {"login": "ajamato"}, "path": "sdks/java/container/license_scripts/pull_licenses_java.py", "diffHunk": "@@ -39,7 +39,7 @@\n from urllib.request import urlopen, URLError, HTTPError\n \n SOURCE_CODE_REQUIRED_LICENSES = ['lgpl', 'glp', 'cddl', 'mpl']\n-RETRY_NUM = 3\n+RETRY_NUM = 9", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzgwMzg3OA=="}, "originalCommit": {"oid": "f61da836181cf295d03d8e6cb21141f8117f0363"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzkzMDYzOA==", "bodyText": "Sounds good.", "url": "https://github.com/apache/beam/pull/12130#discussion_r447930638", "createdAt": "2020-06-30T19:33:31Z", "author": {"login": "aaltay"}, "path": "sdks/java/container/license_scripts/pull_licenses_java.py", "diffHunk": "@@ -39,7 +39,7 @@\n from urllib.request import urlopen, URLError, HTTPError\n \n SOURCE_CODE_REQUIRED_LICENSES = ['lgpl', 'glp', 'cddl', 'mpl']\n-RETRY_NUM = 3\n+RETRY_NUM = 9", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzgwMzg3OA=="}, "originalCommit": {"oid": "f61da836181cf295d03d8e6cb21141f8117f0363"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3392, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}