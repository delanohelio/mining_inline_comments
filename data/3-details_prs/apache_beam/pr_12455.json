{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyMjgxNzg3", "number": 12455, "title": "[BEAM-10630] Include data from load tests in the release process", "bodyText": "In the past, we have seen performance regressions in releases. We should make\nsure that the release guide includes checking available performance\nmeasurements.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nDataflow\nFlink\nSamza\nSpark\nTwister2\n\n\n\n\nGo\n\n---\n\n---\n\n---\n\n\nJava\n\n\n\n\n\n\n\n\nPython\n\n\n\n---\n\n---\n\n\nXLang\n\n---\n\n---\n\n---\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-08-03T16:39:48Z", "url": "https://github.com/apache/beam/pull/12455", "merged": true, "mergeCommit": {"oid": "fed3763203c09b57f71124b391d5efe579e9d3ad"}, "closed": true, "closedAt": "2020-08-07T11:04:01Z", "author": {"login": "mxm"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7UwauAH2gAyNDYyMjgxNzg3OjE2NmIwMzY2ZjA3YWY5ZWVmOWY1YTQ4ODQzNDU3OTViYTYzNjAwMjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8Ayt0AH2gAyNDYyMjgxNzg3OmQyODVjNTg1NWMxZGQwMjE4MDc2MmM4ZTM4NDg4MjJiMjRlYmE1NzI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "166b0366f07af9eef9f5a4884345795ba6360025", "author": {"user": {"login": "mxm", "name": "Maximilian Michels"}}, "url": "https://github.com/apache/beam/commit/166b0366f07af9eef9f5a4884345795ba6360025", "committedDate": "2020-08-03T16:38:36Z", "message": "[BEAM-10630] Include data from load tests in the release process\n\nIn the past, we have seen performance regressions in releases. We should make\nsure that the release guide includes checking available performance\nmeasurements."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMjI1MTE0", "url": "https://github.com/apache/beam/pull/12455#pullrequestreview-460225114", "createdAt": "2020-08-03T17:49:09Z", "commit": {"oid": "166b0366f07af9eef9f5a4884345795ba6360025"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzo0OTowOVrOG7DDXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzo1MTowNFrOG7DHVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU2OTE4MA==", "bodyText": "Who could be the owner of doing a first investigation? Release manager could file issues but may not be in a position to understand the cause of the regressions.\nOne suggestion for the list of all benchmarks above we add a first point of contact? Would that be reasonable?", "url": "https://github.com/apache/beam/pull/12455#discussion_r464569180", "createdAt": "2020-08-03T17:49:09Z", "author": {"login": "aaltay"}, "path": "website/www/site/content/en/contribute/release-guide.md", "diffHunk": "@@ -244,7 +247,21 @@ __Attention__: Only PMC has permission to perform this. If you are not a PMC, pl\n **********\n \n \n-## 2. Create a release branch in apache/beam repository\n+## 3. Investigate performance regressions\n+\n+Check the Beam load tests for possible performance regressions. Measurements are available on [metrics.beam.apache.org](http://metrics.beam.apache.org).\n+\n+All Runners which publish data should be checked for the following, in both *batch* and *streaming* mode:\n+\n+- [ParDo](http://metrics.beam.apache.org/d/MOi-kf3Zk/pardo-load-tests) and [GBK](http://metrics.beam.apache.org/d/UYZ-oJ3Zk/gbk-load-test): Runtime, latency, checkpoint duration\n+- [Nexmark](http://metrics.beam.apache.org/d/ahuaA_zGz/nexmark): Query runtime for all queries\n+- [IO](http://metrics.beam.apache.org/d/bnlHKP3Wz/java-io-it-tests-dataflow): Runtime\n+\n+If regressions are found, the release branch can still be created, but the regressions should be investigated and fixed as part of the release process.\n+JIRA issues should be created for each regression with the 'Fix Version' set to the to-be-released version.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "166b0366f07af9eef9f5a4884345795ba6360025"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU3MDE5OA==", "bodyText": "Do we want to spell out what to do after filing the issues? Or do we want to use the same process as any other jira issues tagged for that release (i.e. triage then decide blocker or not)?", "url": "https://github.com/apache/beam/pull/12455#discussion_r464570198", "createdAt": "2020-08-03T17:51:04Z", "author": {"login": "aaltay"}, "path": "website/www/site/content/en/contribute/release-guide.md", "diffHunk": "@@ -244,7 +247,21 @@ __Attention__: Only PMC has permission to perform this. If you are not a PMC, pl\n **********\n \n \n-## 2. Create a release branch in apache/beam repository\n+## 3. Investigate performance regressions\n+\n+Check the Beam load tests for possible performance regressions. Measurements are available on [metrics.beam.apache.org](http://metrics.beam.apache.org).\n+\n+All Runners which publish data should be checked for the following, in both *batch* and *streaming* mode:\n+\n+- [ParDo](http://metrics.beam.apache.org/d/MOi-kf3Zk/pardo-load-tests) and [GBK](http://metrics.beam.apache.org/d/UYZ-oJ3Zk/gbk-load-test): Runtime, latency, checkpoint duration\n+- [Nexmark](http://metrics.beam.apache.org/d/ahuaA_zGz/nexmark): Query runtime for all queries\n+- [IO](http://metrics.beam.apache.org/d/bnlHKP3Wz/java-io-it-tests-dataflow): Runtime\n+\n+If regressions are found, the release branch can still be created, but the regressions should be investigated and fixed as part of the release process.\n+JIRA issues should be created for each regression with the 'Fix Version' set to the to-be-released version.\n+Next, the mailing list should be informed to allow fixing the regressions in the course of the release.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "166b0366f07af9eef9f5a4884345795ba6360025"}, "originalPosition": 45}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMzA2NzY3", "url": "https://github.com/apache/beam/pull/12455#pullrequestreview-460306767", "createdAt": "2020-08-03T20:07:04Z", "commit": {"oid": "166b0366f07af9eef9f5a4884345795ba6360025"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDowNzowNFrOG7HDoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDowNzowNFrOG7HDoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDYzNDc4NQ==", "bodyText": "(Minor question.) Does markdown not support automatic numbering?", "url": "https://github.com/apache/beam/pull/12455#discussion_r464634785", "createdAt": "2020-08-03T20:07:04Z", "author": {"login": "robertwb"}, "path": "website/www/site/content/en/contribute/release-guide.md", "diffHunk": "@@ -1163,7 +1180,7 @@ Use reporter.apache.org to seed the information about the release into future pr\n **********\n \n \n-## 9. Promote the release\n+## 11. Promote the release", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "166b0366f07af9eef9f5a4884345795ba6360025"}, "originalPosition": 110}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36e06b830c4426e4b1e4d8ea705582eb3f01748e", "author": {"user": {"login": "mxm", "name": "Maximilian Michels"}}, "url": "https://github.com/apache/beam/commit/36e06b830c4426e4b1e4d8ea705582eb3f01748e", "committedDate": "2020-08-05T19:52:30Z", "message": "Address PR comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d285c5855c1dd02180762c8e3848822b24eba572", "author": {"user": {"login": "mxm", "name": "Maximilian Michels"}}, "url": "https://github.com/apache/beam/commit/d285c5855c1dd02180762c8e3848822b24eba572", "committedDate": "2020-08-05T19:56:56Z", "message": "Add note about informing the mailing list after creating the release branch"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3702, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}