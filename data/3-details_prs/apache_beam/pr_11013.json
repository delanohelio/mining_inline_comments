{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyMzY2NjI5", "number": 11013, "title": "Add metrics export to documentation on the website.", "bodyText": "Please add a meaningful description for your change here\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n Update CHANGES.md with noteworthy changes.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nApex\nDataflow\nFlink\nGearpump\nSamza\nSpark\n\n\n\n\nGo\n\n---\n---\n\n---\n---\n\n\n\nJava\n\n\n\n\n\n\n\n\n\nPython\n\n---\n\n\n---\n---\n\n\n\nXLang\n---\n---\n---\n\n---\n---\n\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-03-02T12:51:26Z", "url": "https://github.com/apache/beam/pull/11013", "merged": true, "mergeCommit": {"oid": "b8530169402b8b1a70c56d3c37d6454c89a747bd"}, "closed": true, "closedAt": "2020-03-03T17:13:23Z", "author": {"login": "echauchot"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKDZCJgFqTM2ODAzMDM1MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKFixlAFqTM2ODE2NzQzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MDMwMzUx", "url": "https://github.com/apache/beam/pull/11013#pullrequestreview-368030351", "createdAt": "2020-03-03T14:36:46Z", "commit": {"oid": "8a9f0beb037ad28bacf388c9699305cd3a93ee14"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNDozNjo0NlrOFxITug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNDo0MTo0N1rOFxIhFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA2MDY2Ng==", "bodyText": "If set up the runner will push metrics to a configured sink at a configured period.\n\nCould you elaborate or rephrase this sentence? I think it misses \"then\" somewhere since it starts from \"if\".", "url": "https://github.com/apache/beam/pull/11013#discussion_r387060666", "createdAt": "2020-03-03T14:36:46Z", "author": {"login": "aromanenko-dev"}, "path": "website/src/documentation/programming-guide.md", "diffHunk": "@@ -3121,6 +3121,15 @@ public class MyMetricsDoFn extends DoFn<Integer, Integer> {\n   }\n }\n ```  \n+### 9.5 Export metrics {#export-metrics}\n+Beam metrics can be exported to external sinks. If set up the runner will push metrics to a configured sink at a configured period. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a9f0beb037ad28bacf388c9699305cd3a93ee14"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA2MjU4NA==", "bodyText": "As for now only REST http sink and graphite sinks are supported\n\nI's suggest to drop the first \"sink\", and leave it like:\n\"As for now, the only REST HTTP and Graphite sinks are supported\"", "url": "https://github.com/apache/beam/pull/11013#discussion_r387062584", "createdAt": "2020-03-03T14:39:42Z", "author": {"login": "aromanenko-dev"}, "path": "website/src/documentation/programming-guide.md", "diffHunk": "@@ -3121,6 +3121,15 @@ public class MyMetricsDoFn extends DoFn<Integer, Integer> {\n   }\n }\n ```  \n+### 9.5 Export metrics {#export-metrics}\n+Beam metrics can be exported to external sinks. If set up the runner will push metrics to a configured sink at a configured period. \n+The configuration is held in the [MetricsOptions](https://beam.apache.org/releases/javadoc/2.19.0/org/apache/beam/sdk/metrics/MetricsOptions.html) class.\n+It contains push period configuration and also sink specific options such as URL. As for now only REST http sink and graphite sinks are supported and only", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a9f0beb037ad28bacf388c9699305cd3a93ee14"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA2NDA4Ng==", "bodyText": "Do you have any code examples of metrics export? It will worth to add if any.", "url": "https://github.com/apache/beam/pull/11013#discussion_r387064086", "createdAt": "2020-03-03T14:41:47Z", "author": {"login": "aromanenko-dev"}, "path": "website/src/documentation/programming-guide.md", "diffHunk": "@@ -3121,6 +3121,15 @@ public class MyMetricsDoFn extends DoFn<Integer, Integer> {\n   }\n }\n ```  \n+### 9.5 Export metrics {#export-metrics}\n+Beam metrics can be exported to external sinks. If set up the runner will push metrics to a configured sink at a configured period. \n+The configuration is held in the [MetricsOptions](https://beam.apache.org/releases/javadoc/2.19.0/org/apache/beam/sdk/metrics/MetricsOptions.html) class.\n+It contains push period configuration and also sink specific options such as URL. As for now only REST http sink and graphite sinks are supported and only\n+Flink and Spark runners support metrics export.\n+\n+Also Beam metrics are exported to inner Spark and Flink dashboards to be consulted in their respective UI.\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a9f0beb037ad28bacf388c9699305cd3a93ee14"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6da25ef1b157038c76beb3cf1922283e6527204b", "author": {"user": {"login": "echauchot", "name": "Etienne Chauchot"}}, "url": "https://github.com/apache/beam/commit/6da25ef1b157038c76beb3cf1922283e6527204b", "committedDate": "2020-03-03T16:10:51Z", "message": "Add metrics export to documentation on the website."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8a9f0beb037ad28bacf388c9699305cd3a93ee14", "author": {"user": {"login": "echauchot", "name": "Etienne Chauchot"}}, "url": "https://github.com/apache/beam/commit/8a9f0beb037ad28bacf388c9699305cd3a93ee14", "committedDate": "2020-03-02T12:50:39Z", "message": "Add metrics export to documentation on the website."}, "afterCommit": {"oid": "6da25ef1b157038c76beb3cf1922283e6527204b", "author": {"user": {"login": "echauchot", "name": "Etienne Chauchot"}}, "url": "https://github.com/apache/beam/commit/6da25ef1b157038c76beb3cf1922283e6527204b", "committedDate": "2020-03-03T16:10:51Z", "message": "Add metrics export to documentation on the website."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MTY3NDM5", "url": "https://github.com/apache/beam/pull/11013#pullrequestreview-368167439", "createdAt": "2020-03-03T17:12:50Z", "commit": {"oid": "6da25ef1b157038c76beb3cf1922283e6527204b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2936, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}