{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyOTQxMzEy", "number": 12464, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMToxMzo0MVrOEVK5YQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMToxMzo0MVrOEVK5YQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNjM0MDgxOnYy", "diffSide": "RIGHT", "path": "sdks/python/apache_beam/testing/test_stream_service.py", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMToxMzo0MVrOG7xufQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMTo1NzoxMFrOG7y56w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMzMzg4NQ==", "bodyText": "Write this in a format similar to start():\nif self._server_started and not self._server_stopped:\nor change start to similar format as\nif self._server_started or self._server_stopped:\n    return", "url": "https://github.com/apache/beam/pull/12464#discussion_r465333885", "createdAt": "2020-08-04T21:13:41Z", "author": {"login": "aaltay"}, "path": "sdks/python/apache_beam/testing/test_stream_service.py", "diffHunk": "@@ -50,9 +52,17 @@ def __init__(self, reader, endpoint=None, exception_handler=None):\n       self._exception_handler = lambda _: False\n \n   def start(self):\n-    self._server.start()\n+    # A server can only be started if never started and never stopped before.\n+    if not self._server_started and not self._server_stopped:\n+      self._server_started = True\n+      self._server.start()\n \n   def stop(self):\n+    # A server can only be stopped if already started and never stopped before.\n+    if not self._server_started or self._server_stopped:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "973f316e7a97bda12dcc4592ddbccfcccb00c5ad"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM1MzE5NQ==", "bodyText": "Thanks! Formatted it.", "url": "https://github.com/apache/beam/pull/12464#discussion_r465353195", "createdAt": "2020-08-04T21:57:10Z", "author": {"login": "KevinGG"}, "path": "sdks/python/apache_beam/testing/test_stream_service.py", "diffHunk": "@@ -50,9 +52,17 @@ def __init__(self, reader, endpoint=None, exception_handler=None):\n       self._exception_handler = lambda _: False\n \n   def start(self):\n-    self._server.start()\n+    # A server can only be started if never started and never stopped before.\n+    if not self._server_started and not self._server_stopped:\n+      self._server_started = True\n+      self._server.start()\n \n   def stop(self):\n+    # A server can only be stopped if already started and never stopped before.\n+    if not self._server_started or self._server_stopped:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMzMzg4NQ=="}, "originalCommit": {"oid": "973f316e7a97bda12dcc4592ddbccfcccb00c5ad"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 812, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}