{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxOTU0NjUz", "number": 12918, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNzo0ODo1N1rOEnJ0zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNzo0ODo1N1rOEnJ0zA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5NDkwODkyOnYy", "diffSide": "RIGHT", "path": "sdks/python/apache_beam/io/gcp/bigquery_tools.py", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNzo0ODo1N1rOHXl_rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQyMDozMDoxMlrOHXrg9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDUwMTgwNg==", "bodyText": "I wonder if this should exist under retry.py. Thoughts?", "url": "https://github.com/apache/beam/pull/12918#discussion_r494501806", "createdAt": "2020-09-24T17:48:57Z", "author": {"login": "pabloem"}, "path": "sdks/python/apache_beam/io/gcp/bigquery_tools.py", "diffHunk": "@@ -131,6 +131,12 @@ def get_hashable_destination(destination):\n     return destination\n \n \n+def no_retry_on_invalid_input(exn):\n+  if isinstance(exn, ValueError):\n+    return False\n+  return retry.retry_on_server_errors_and_timeout_filter(exn)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4925c957f0a7b422667f81a95410db7bb387029b"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDUwMTk4NA==", "bodyText": "(I mean that whole function)", "url": "https://github.com/apache/beam/pull/12918#discussion_r494501984", "createdAt": "2020-09-24T17:49:17Z", "author": {"login": "pabloem"}, "path": "sdks/python/apache_beam/io/gcp/bigquery_tools.py", "diffHunk": "@@ -131,6 +131,12 @@ def get_hashable_destination(destination):\n     return destination\n \n \n+def no_retry_on_invalid_input(exn):\n+  if isinstance(exn, ValueError):\n+    return False\n+  return retry.retry_on_server_errors_and_timeout_filter(exn)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDUwMTgwNg=="}, "originalCommit": {"oid": "4925c957f0a7b422667f81a95410db7bb387029b"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDU1NDg0OA==", "bodyText": "Yeah, I was thinking the same. Looking at the source of retry.py, it would fit right in (maybe with a better name?). I'm fine with moving it there.", "url": "https://github.com/apache/beam/pull/12918#discussion_r494554848", "createdAt": "2020-09-24T19:17:55Z", "author": {"login": "milancermak"}, "path": "sdks/python/apache_beam/io/gcp/bigquery_tools.py", "diffHunk": "@@ -131,6 +131,12 @@ def get_hashable_destination(destination):\n     return destination\n \n \n+def no_retry_on_invalid_input(exn):\n+  if isinstance(exn, ValueError):\n+    return False\n+  return retry.retry_on_server_errors_and_timeout_filter(exn)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDUwMTgwNg=="}, "originalCommit": {"oid": "4925c957f0a7b422667f81a95410db7bb387029b"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDU3NTIwNQ==", "bodyText": "I was also thinking a positive logical name (e.g. retry_on_xyz unlike no_retry_on_...) rather than a negative - but I'm not sure what it could be... I can think of retry_if_valid_input_.... or something like that.", "url": "https://github.com/apache/beam/pull/12918#discussion_r494575205", "createdAt": "2020-09-24T19:56:44Z", "author": {"login": "pabloem"}, "path": "sdks/python/apache_beam/io/gcp/bigquery_tools.py", "diffHunk": "@@ -131,6 +131,12 @@ def get_hashable_destination(destination):\n     return destination\n \n \n+def no_retry_on_invalid_input(exn):\n+  if isinstance(exn, ValueError):\n+    return False\n+  return retry.retry_on_server_errors_and_timeout_filter(exn)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDUwMTgwNg=="}, "originalCommit": {"oid": "4925c957f0a7b422667f81a95410db7bb387029b"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDU5MjI0Ng==", "bodyText": "I changed it to retry_if_valid_input_but_server_error_and_timeout_filter in the latest commit. What do you think?", "url": "https://github.com/apache/beam/pull/12918#discussion_r494592246", "createdAt": "2020-09-24T20:30:12Z", "author": {"login": "milancermak"}, "path": "sdks/python/apache_beam/io/gcp/bigquery_tools.py", "diffHunk": "@@ -131,6 +131,12 @@ def get_hashable_destination(destination):\n     return destination\n \n \n+def no_retry_on_invalid_input(exn):\n+  if isinstance(exn, ValueError):\n+    return False\n+  return retry.retry_on_server_errors_and_timeout_filter(exn)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDUwMTgwNg=="}, "originalCommit": {"oid": "4925c957f0a7b422667f81a95410db7bb387029b"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3218, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}