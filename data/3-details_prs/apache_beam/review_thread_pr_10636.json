{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0NDQwMDU0", "number": 10636, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxNjoyMzoyN1rODZ5KMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwOTo0MTo1OFrODabjTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4NDc3NDkwOnYy", "diffSide": "RIGHT", "path": "sdks/python/apache_beam/transforms/combiners.py", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxNjoyMzoyN1rOFgiZkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQyMjo1MTo1NlrOFgt0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY2MjM1NA==", "bodyText": "Is this pylint directive still required with the version of pylint Beam is using today?", "url": "https://github.com/apache/beam/pull/10636#discussion_r369662354", "createdAt": "2020-01-22T16:23:27Z", "author": {"login": "tvalentyn"}, "path": "sdks/python/apache_beam/transforms/combiners.py", "diffHunk": "@@ -802,6 +804,35 @@ def extract_output(self, accumulator):\n     return accumulator\n \n \n+class ToSet(ptransform.PTransform):\n+  \"\"\"A global CombineFn that condenses a PCollection into a set.\"\"\"\n+\n+  def __init__(self, label='ToSet'):  # pylint: disable=useless-super-delegation", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "008826110a3e1d40dfe5aa8b06f53edf38f7b591"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY2NDQyNg==", "bodyText": "Copied from line 775 (now line 777). Do you want me to experiment? A change removing this seems like it should be a separate change.", "url": "https://github.com/apache/beam/pull/10636#discussion_r369664426", "createdAt": "2020-01-22T16:26:53Z", "author": {"login": "sorensenjs"}, "path": "sdks/python/apache_beam/transforms/combiners.py", "diffHunk": "@@ -802,6 +804,35 @@ def extract_output(self, accumulator):\n     return accumulator\n \n \n+class ToSet(ptransform.PTransform):\n+  \"\"\"A global CombineFn that condenses a PCollection into a set.\"\"\"\n+\n+  def __init__(self, label='ToSet'):  # pylint: disable=useless-super-delegation", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY2MjM1NA=="}, "originalCommit": {"oid": "008826110a3e1d40dfe5aa8b06f53edf38f7b591"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTgwMjMwNA==", "bodyText": "Removing this produces\n************* Module apache_beam.transforms.combiners\napache_beam/transforms/combiners.py:810:2: W0235: Useless super delegation in method 'init' (useless-super-delegation)", "url": "https://github.com/apache/beam/pull/10636#discussion_r369802304", "createdAt": "2020-01-22T21:04:57Z", "author": {"login": "sorensenjs"}, "path": "sdks/python/apache_beam/transforms/combiners.py", "diffHunk": "@@ -802,6 +804,35 @@ def extract_output(self, accumulator):\n     return accumulator\n \n \n+class ToSet(ptransform.PTransform):\n+  \"\"\"A global CombineFn that condenses a PCollection into a set.\"\"\"\n+\n+  def __init__(self, label='ToSet'):  # pylint: disable=useless-super-delegation", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY2MjM1NA=="}, "originalCommit": {"oid": "008826110a3e1d40dfe5aa8b06f53edf38f7b591"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTg0OTM5Ng==", "bodyText": "Thanks for checking.", "url": "https://github.com/apache/beam/pull/10636#discussion_r369849396", "createdAt": "2020-01-22T22:51:56Z", "author": {"login": "tvalentyn"}, "path": "sdks/python/apache_beam/transforms/combiners.py", "diffHunk": "@@ -802,6 +804,35 @@ def extract_output(self, accumulator):\n     return accumulator\n \n \n+class ToSet(ptransform.PTransform):\n+  \"\"\"A global CombineFn that condenses a PCollection into a set.\"\"\"\n+\n+  def __init__(self, label='ToSet'):  # pylint: disable=useless-super-delegation", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY2MjM1NA=="}, "originalCommit": {"oid": "008826110a3e1d40dfe5aa8b06f53edf38f7b591"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MDQwOTcyOnYy", "diffSide": "RIGHT", "path": "sdks/python/apache_beam/transforms/combiners_test.py", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwOTo0MTo1OFrOFhYRRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwOTo0MTo1OFrOFhYRRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDU0NDk2Ng==", "bodyText": "Saw this in JIRA and made the exact same implementation before I realised the PR was already out :)\nSmall comment: there's a tiny typo here that doesn't really matter. Should be 'to set'.", "url": "https://github.com/apache/beam/pull/10636#discussion_r370544966", "createdAt": "2020-01-24T09:41:58Z", "author": {"login": "EDjur"}, "path": "sdks/python/apache_beam/transforms/combiners_test.py", "diffHunk": "@@ -346,6 +346,18 @@ def match(actual):\n     assert_that(result, matcher())\n     pipeline.run()\n \n+  def test_to_set(self):\n+    pipeline = TestPipeline()\n+    the_list = [6, 3, 1, 1, 9, 1, 5, 2, 0, 6]\n+    pcoll = pipeline | 'start' >> Create(the_list)\n+    result = pcoll | 'to list' >> combine.ToSet()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "008826110a3e1d40dfe5aa8b06f53edf38f7b591"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2218, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}