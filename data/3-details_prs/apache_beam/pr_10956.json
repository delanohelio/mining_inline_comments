{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5Mjc3NzQz", "number": 10956, "title": "[BEAM-2822, BEAM-2939, BEAM-6189, BEAM-4374] Enable passing completed and remaining amounts of work using new metrics format for splittable dofns in the Python SDK.", "bodyText": "This provides the equivalent to the metrics.active_elements.fraction_remaining using the new monitoring APIs. Without these, we cannot enable autoscaling using the new metrics.\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n Update CHANGES.md with noteworthy changes.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nApex\nDataflow\nFlink\nGearpump\nSamza\nSpark\n\n\n\n\nGo\n\n---\n---\n\n---\n---\n\n\n\nJava\n\n\n\n\n\n\n\n\n\nPython\n\n---\n\n\n---\n---\n\n\n\nXLang\n---\n---\n---\n\n---\n---\n\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-02-24T23:09:42Z", "url": "https://github.com/apache/beam/pull/10956", "merged": true, "mergeCommit": {"oid": "c0b60195b17b7cdc46d6ad6548cd41a967e71cde"}, "closed": true, "closedAt": "2020-02-26T03:40:03Z", "author": {"login": "lukecwik"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcHrpl7AFqTM2Mzg4NTQzNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcH2NDagBqjMwNzA0MzQ0OTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzODg1NDM3", "url": "https://github.com/apache/beam/pull/10956#pullrequestreview-363885437", "createdAt": "2020-02-25T05:53:41Z", "commit": {"oid": "1a79b61a38107c29b019b2920de7026be5cb5bca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQwNTo1Mzo0MVrOFt5c2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQwNTo1Mzo0MVrOFt5c2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzY3MTUxNQ==", "bodyText": "a bit surprised there is no testing file corresponding to operations.py.\nMaybe I missed something?", "url": "https://github.com/apache/beam/pull/10956#discussion_r383671515", "createdAt": "2020-02-25T05:53:41Z", "author": {"login": "HuangLED"}, "path": "sdks/python/apache_beam/runners/worker/operations.py", "diffHunk": "@@ -812,6 +813,36 @@ def progress_metrics(self):\n           current_element_progress.fraction_remaining)\n     return metrics\n \n+  def monitoring_infos(self, transform_id):", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a79b61a38107c29b019b2920de7026be5cb5bca"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28d163b2ca9de449925837f7b733ee33511656b4", "author": {"user": {"login": "lukecwik", "name": "Lukasz Cwik"}}, "url": "https://github.com/apache/beam/commit/28d163b2ca9de449925837f7b733ee33511656b4", "committedDate": "2020-02-25T18:11:57Z", "message": "[BEAM-2822, BEAM-2939, BEAM-6189, BEAM-4374] Enable passing completed and remaining amounts of work using new metrics format for splittable dofns in the Python SDK."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d4e31b77b6e0fb92a53d85a37a128c5f678fc9ce", "author": {"user": {"login": "lukecwik", "name": "Lukasz Cwik"}}, "url": "https://github.com/apache/beam/commit/d4e31b77b6e0fb92a53d85a37a128c5f678fc9ce", "committedDate": "2020-02-25T17:23:48Z", "message": "fixup! Fix lint issue"}, "afterCommit": {"oid": "28d163b2ca9de449925837f7b733ee33511656b4", "author": {"user": {"login": "lukecwik", "name": "Lukasz Cwik"}}, "url": "https://github.com/apache/beam/commit/28d163b2ca9de449925837f7b733ee33511656b4", "committedDate": "2020-02-25T18:11:57Z", "message": "[BEAM-2822, BEAM-2939, BEAM-6189, BEAM-4374] Enable passing completed and remaining amounts of work using new metrics format for splittable dofns in the Python SDK."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2909, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}