{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4ODY3MDc0", "number": 11523, "title": "[BEAM-8414] Cleanup Python codebase to enable some of the excluded Python lint checks.", "bodyText": "Renabled the following pylint checks:\n\nconsider-using-set-comprehension\nchained-comparison\nconsider-using-sys-exit\n\n\nCleaned up the codebase to satisfy the enabled checks\n\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nApex\nDataflow\nFlink\nGearpump\nSamza\nSpark\n\n\n\n\nGo\n\n---\n---\n\n---\n---\n\n\n\nJava\n\n\n\n\n\n\n\n\n\nPython\n\n---\n\n\n---\n---\n\n\n\nXLang\n---\n---\n---\n\n---\n---\n\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-04-25T07:44:42Z", "url": "https://github.com/apache/beam/pull/11523", "merged": true, "mergeCommit": {"oid": "360de38e5047f4ab26b1dbec5c7c6233fd33b20b"}, "closed": true, "closedAt": "2020-05-02T21:40:25Z", "author": {"login": "stephenoken"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcazbN6AH2gAyNDA4ODY3MDc0OmRkOWZhODBjMjg0NWJiYTMwZWNmNTMwNzQ0OTM5YjBmY2FiNDQ1ZjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccZXbtgH2gAyNDA4ODY3MDc0OjY2NjM3Mzg4Y2UzZmViYzQ1ZTdkMTkyMGI2Mjk4MDg3NDBkYjRjYWQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dd9fa80c2845bba30ecf530744939b0fcab445f3", "author": {"user": {"login": "stephenoken", "name": "Stephen O'Kennedy"}}, "url": "https://github.com/apache/beam/commit/dd9fa80c2845bba30ecf530744939b0fcab445f3", "committedDate": "2020-04-24T15:43:00Z", "message": "[BEAM-8414] Cleanup Python codebase to enable some of the excluded\nPython lint checks.\n\n* Renabled the following pylint checks:\n  * consider-using-set-comprehension\n  * chained-comparison\n  * consider-using-sys-exit\n* Cleaned up the codebase to satisfy the enabled checks"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwNDE2NDk2", "url": "https://github.com/apache/beam/pull/11523#pullrequestreview-400416496", "createdAt": "2020-04-25T17:55:04Z", "commit": {"oid": "dd9fa80c2845bba30ecf530744939b0fcab445f3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNVQxNzo1NTowNFrOGL4Xfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNVQxNzo1NTowNFrOGL4Xfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTExMTAzOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if self._range.start >= position < self._range.stop:\n          \n          \n            \n                if self._range.start <= position < self._range.stop:\n          \n      \n    \n    \n  \n\nRight?", "url": "https://github.com/apache/beam/pull/11523#discussion_r415111039", "createdAt": "2020-04-25T17:55:04Z", "author": {"login": "pabloem"}, "path": "sdks/python/apache_beam/io/restriction_trackers.py", "diffHunk": "@@ -137,7 +137,7 @@ def try_claim(self, position):\n           'of the range. Tried to claim position %r for the range [%r, %r)' %\n           (position, self._range.start, self._range.stop))\n \n-    if position >= self._range.start and position < self._range.stop:\n+    if self._range.start >= position < self._range.stop:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dd9fa80c2845bba30ecf530744939b0fcab445f3"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a88a67bb04738b969b4c86e231c523efda785fef", "author": {"user": {"login": "stephenoken", "name": "Stephen O'Kennedy"}}, "url": "https://github.com/apache/beam/commit/a88a67bb04738b969b4c86e231c523efda785fef", "committedDate": "2020-04-25T19:12:30Z", "message": "Update sdks/python/apache_beam/io/restriction_trackers.py\n\nCo-Authored-By: Pablo <pabloem@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1f5febff0f31124159b7a2ae13ae88b0633e930", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/d1f5febff0f31124159b7a2ae13ae88b0633e930", "committedDate": "2020-04-26T20:04:27Z", "message": "BEAM-8414\n* Fixed linting and formatter errors"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMjk4ODgy", "url": "https://github.com/apache/beam/pull/11523#pullrequestreview-401298882", "createdAt": "2020-04-27T20:25:01Z", "commit": {"oid": "d1f5febff0f31124159b7a2ae13ae88b0633e930"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QyMDoyNTowMVrOGM2Jsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QyMDoyNTowMVrOGM2Jsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjEyMzMxNQ==", "bodyText": "Can you also revert this change? We're looking for the exit in line 131 provided by the underlying runner. I think that's causing the precommit test errors.", "url": "https://github.com/apache/beam/pull/11523#discussion_r416123315", "createdAt": "2020-04-27T20:25:01Z", "author": {"login": "pabloem"}, "path": "sdks/python/apache_beam/runners/interactive/interactive_runner.py", "diffHunk": "@@ -131,7 +132,7 @@ def end_session(self):\n     if exit is not None:\n       self._in_session = False\n       _LOGGER.info('Ending session.')\n-      exit(None, None, None)\n+      sys.exit(None, None, None)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1f5febff0f31124159b7a2ae13ae88b0633e930"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd2a2eb80a687d38945bde56e89026d3d4709a53", "author": {"user": {"login": "stephenoken", "name": "Stephen O'Kennedy"}}, "url": "https://github.com/apache/beam/commit/dd2a2eb80a687d38945bde56e89026d3d4709a53", "committedDate": "2020-04-28T06:46:22Z", "message": "BEAM-8414\n\n* Reverted `consider-using-sys-ext` linter change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65bb04fb64d6c64851f0f62858cbdd0812a22bc1", "author": {"user": {"login": "stephenoken", "name": "Stephen O'Kennedy"}}, "url": "https://github.com/apache/beam/commit/65bb04fb64d6c64851f0f62858cbdd0812a22bc1", "committedDate": "2020-04-28T06:47:43Z", "message": "Merge branch 'BEAM-8414-renable-excluded-pylint-checks' of github.com:stephenoken/beam into BEAM-8414-renable-excluded-pylint-checks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b227ea1ecb12b2159c5ce11f6282b30ef4b0b2d8", "author": {"user": {"login": "stephenoken", "name": "Stephen O'Kennedy"}}, "url": "https://github.com/apache/beam/commit/b227ea1ecb12b2159c5ce11f6282b30ef4b0b2d8", "committedDate": "2020-04-29T07:11:00Z", "message": "BEAM-8418\n\n* Reran the py3-yapf to reformat existing files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66637388ce3febc45e7d1920b629808740db4cad", "author": {"user": {"login": "stephenoken", "name": "Stephen O'Kennedy"}}, "url": "https://github.com/apache/beam/commit/66637388ce3febc45e7d1920b629808740db4cad", "committedDate": "2020-04-29T14:29:11Z", "message": "Removed unused sys import"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3948, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}