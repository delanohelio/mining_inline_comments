{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MjkxODE0", "number": 11623, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxOTo0OTo1NVrOD5-HQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMDo1ODo1OVrOD5_k6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMTEzMDkxOnYy", "diffSide": "RIGHT", "path": "release/src/main/scripts/build_release_candidate.sh", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxOTo0OTo1NVrOGRi4YQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMToxNTozNVrOGRlupw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA1MDQ2NQ==", "bodyText": "this is interesting cause I thought this script uses python2, and then in this PR tox -e py37-docs looks like work with python2", "url": "https://github.com/apache/beam/pull/11623#discussion_r421050465", "createdAt": "2020-05-06T19:49:55Z", "author": {"login": "amaliujia"}, "path": "release/src/main/scripts/build_release_candidate.sh", "diffHunk": "@@ -275,7 +276,7 @@ if [[ $confirmation = \"y\" ]]; then\n   git clone ${GIT_REPO_URL}\n   cd ${BEAM_ROOT_DIR}\n   git checkout ${RELEASE_BRANCH}\n-  cd sdks/python && tox -e docs\n+  cd sdks/python && pip install -r build-requirements.txt && tox -e py37-docs", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5971d779cdaa307211e236dda985e2230fb1727b"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA4NjgwNw==", "bodyText": "There are 2 virtualenvs here. The one in line 272 will use the default python version, and the one created by tox will use python3.7.\nTox runs \"python setup.py sdist\" in the first virtualenv and installs the tarball in the second.", "url": "https://github.com/apache/beam/pull/11623#discussion_r421086807", "createdAt": "2020-05-06T20:56:37Z", "author": {"login": "udim"}, "path": "release/src/main/scripts/build_release_candidate.sh", "diffHunk": "@@ -275,7 +276,7 @@ if [[ $confirmation = \"y\" ]]; then\n   git clone ${GIT_REPO_URL}\n   cd ${BEAM_ROOT_DIR}\n   git checkout ${RELEASE_BRANCH}\n-  cd sdks/python && tox -e docs\n+  cd sdks/python && pip install -r build-requirements.txt && tox -e py37-docs", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA1MDQ2NQ=="}, "originalCommit": {"oid": "5971d779cdaa307211e236dda985e2230fb1727b"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA5NzEyNw==", "bodyText": "Thanks for clarifying this.", "url": "https://github.com/apache/beam/pull/11623#discussion_r421097127", "createdAt": "2020-05-06T21:15:35Z", "author": {"login": "amaliujia"}, "path": "release/src/main/scripts/build_release_candidate.sh", "diffHunk": "@@ -275,7 +276,7 @@ if [[ $confirmation = \"y\" ]]; then\n   git clone ${GIT_REPO_URL}\n   cd ${BEAM_ROOT_DIR}\n   git checkout ${RELEASE_BRANCH}\n-  cd sdks/python && tox -e docs\n+  cd sdks/python && pip install -r build-requirements.txt && tox -e py37-docs", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA1MDQ2NQ=="}, "originalCommit": {"oid": "5971d779cdaa307211e236dda985e2230fb1727b"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMTM3MDY1OnYy", "diffSide": "RIGHT", "path": "release/src/main/scripts/build_release_candidate.sh", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMDo1ODo1OVrOGRlLWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMTowNjo1N1rOGRldNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA4ODA5MQ==", "bodyText": "Please also update the release guide:\nhttps://github.com/apache/beam/blame/master/website/src/contribute/release-guide.md#L783", "url": "https://github.com/apache/beam/pull/11623#discussion_r421088091", "createdAt": "2020-05-06T20:58:59Z", "author": {"login": "udim"}, "path": "release/src/main/scripts/build_release_candidate.sh", "diffHunk": "@@ -275,7 +276,7 @@ if [[ $confirmation = \"y\" ]]; then\n   git clone ${GIT_REPO_URL}\n   cd ${BEAM_ROOT_DIR}\n   git checkout ${RELEASE_BRANCH}\n-  cd sdks/python && tox -e docs\n+  cd sdks/python && pip install -r build-requirements.txt && tox -e py37-docs", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5971d779cdaa307211e236dda985e2230fb1727b"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA4OTM1Mw==", "bodyText": "I can do that.. but I hope we get rid of the \"manual\" steps in the future. They add no utility over the script and make the release guide hard to read.", "url": "https://github.com/apache/beam/pull/11623#discussion_r421089353", "createdAt": "2020-05-06T21:01:04Z", "author": {"login": "ibzib"}, "path": "release/src/main/scripts/build_release_candidate.sh", "diffHunk": "@@ -275,7 +276,7 @@ if [[ $confirmation = \"y\" ]]; then\n   git clone ${GIT_REPO_URL}\n   cd ${BEAM_ROOT_DIR}\n   git checkout ${RELEASE_BRANCH}\n-  cd sdks/python && tox -e docs\n+  cd sdks/python && pip install -r build-requirements.txt && tox -e py37-docs", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA4ODA5MQ=="}, "originalCommit": {"oid": "5971d779cdaa307211e236dda985e2230fb1727b"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA5MjU1Nw==", "bodyText": "Done", "url": "https://github.com/apache/beam/pull/11623#discussion_r421092557", "createdAt": "2020-05-06T21:06:45Z", "author": {"login": "ibzib"}, "path": "release/src/main/scripts/build_release_candidate.sh", "diffHunk": "@@ -275,7 +276,7 @@ if [[ $confirmation = \"y\" ]]; then\n   git clone ${GIT_REPO_URL}\n   cd ${BEAM_ROOT_DIR}\n   git checkout ${RELEASE_BRANCH}\n-  cd sdks/python && tox -e docs\n+  cd sdks/python && pip install -r build-requirements.txt && tox -e py37-docs", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA4ODA5MQ=="}, "originalCommit": {"oid": "5971d779cdaa307211e236dda985e2230fb1727b"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA5MjY2MQ==", "bodyText": "Done", "url": "https://github.com/apache/beam/pull/11623#discussion_r421092661", "createdAt": "2020-05-06T21:06:57Z", "author": {"login": "ibzib"}, "path": "release/src/main/scripts/build_release_candidate.sh", "diffHunk": "@@ -275,7 +276,7 @@ if [[ $confirmation = \"y\" ]]; then\n   git clone ${GIT_REPO_URL}\n   cd ${BEAM_ROOT_DIR}\n   git checkout ${RELEASE_BRANCH}\n-  cd sdks/python && tox -e docs\n+  cd sdks/python && pip install -r build-requirements.txt && tox -e py37-docs", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA4ODA5MQ=="}, "originalCommit": {"oid": "5971d779cdaa307211e236dda985e2230fb1727b"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3875, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}