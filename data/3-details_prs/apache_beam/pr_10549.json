{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxMjM5NjA2", "number": 10549, "title": "[BEAM-8337] Hard-code Flink versions.", "bodyText": "Also publish the RC images instead of rebuilding.\nThere were problems with the bash code for munging Flink versions, so I got rid of it and replaced with a hard-coded list. The release manager will have to manually validate that they're correct, but I think that's a good idea anyway.\n@Hannah-Jiang @udim @mxm\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nApex\nDataflow\nFlink\nGearpump\nSamza\nSpark\n\n\n\n\nGo\n\n---\n---\n\n---\n---\n\n\n\nJava\n\n\n\n\n\n\n\n\n\nPython\n\n---\n\n\n---\n---\n\n\n\nXLang\n---\n---\n---\n\n---\n---\n---\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-01-10T01:53:36Z", "url": "https://github.com/apache/beam/pull/10549", "merged": true, "mergeCommit": {"oid": "94b0be18349236dabccaf0f745b84020e7ba6da8"}, "closed": true, "closedAt": "2020-01-10T21:32:12Z", "author": {"login": "ibzib"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb40ic_gH2gAyMzYxMjM5NjA2Ojc5ODM0MDMyMzQyYTY4Yjg4Y2I3YzZlYjI0N2MzYzZhYzc2Y2NlYmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb5FeosAFqTM0MTQzMzA4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "79834032342a68b88cb7c6eb247c3c6ac76ccebe", "author": {"user": {"login": "ibzib", "name": "Kyle Weaver"}}, "url": "https://github.com/apache/beam/commit/79834032342a68b88cb7c6eb247c3c6ac76ccebe", "committedDate": "2020-01-10T01:47:23Z", "message": "[BEAM-8337] Hard-code Flink versions.\n\nAlso publish the RC images instead of rebuilding."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxMDUwNjAw", "url": "https://github.com/apache/beam/pull/10549#pullrequestreview-341050600", "createdAt": "2020-01-10T09:43:52Z", "commit": {"oid": "79834032342a68b88cb7c6eb247c3c6ac76ccebe"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxMzM3Mjgy", "url": "https://github.com/apache/beam/pull/10549#pullrequestreview-341337282", "createdAt": "2020-01-10T18:17:45Z", "commit": {"oid": "79834032342a68b88cb7c6eb247c3c6ac76ccebe"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQxODoxNzo0NVrOFccHkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQxODoxNzo0NVrOFccHkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTM2NTEzNg==", "bodyText": "Looks like the indention is off here (3 instead of 2 spaces).", "url": "https://github.com/apache/beam/pull/10549#discussion_r365365136", "createdAt": "2020-01-10T18:17:45Z", "author": {"login": "mxm"}, "path": "release/src/main/scripts/publish_docker_images.sh", "diffHunk": "@@ -97,18 +97,26 @@ if [[ $confirmation = \"y\" ]]; then\n   docker rmi -f apachebeam/go_sdk:latest\n \n   echo '-------------Generating and Pushing Flink job server images-------------'\n-  echo \"Building containers for the following Flink versions:\" \"${FLINK_VER[@]}\"\n+  echo \"Publishing images for the following Flink versions:\" \"${FLINK_VER[@]}\"\n+  echo \"Make sure the versions are correct, then press any key to proceed.\"\n+  read\n   for ver in \"${FLINK_VER[@]}\"; do\n-     ./gradlew \":runners:flink:${ver}:job-server-container:docker\" -Pdocker-tag=\"${RELEASE}\"\n      FLINK_IMAGE_NAME=apachebeam/flink${ver}_job_server\n+\n+     # Pull verified RC from dockerhub.\n+     docker pull \"${FLINK_IMAGE_NAME}:${RELEASE}_${RC_VERSION}\"\n+\n+     # Tag with ${RELEASE} and push to dockerhub.\n+     docker tag \"${FLINK_IMAGE_NAME}:${RELEASE}_${RC_VERSION}\" \"${FLINK_IMAGE_NAME}:${RELEASE}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79834032342a68b88cb7c6eb247c3c6ac76ccebe"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01e944c256c712d6ddb2e7b1337c0d6e69680ac5", "author": {"user": {"login": "ibzib", "name": "Kyle Weaver"}}, "url": "https://github.com/apache/beam/commit/01e944c256c712d6ddb2e7b1337c0d6e69680ac5", "committedDate": "2020-01-10T21:16:46Z", "message": "fix indentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bdf41f4931b53fb8d6a75c2a647caf23d40007a", "author": {"user": {"login": "ibzib", "name": "Kyle Weaver"}}, "url": "https://github.com/apache/beam/commit/4bdf41f4931b53fb8d6a75c2a647caf23d40007a", "committedDate": "2020-01-10T21:17:56Z", "message": "Update release guide"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNDMzMDg0", "url": "https://github.com/apache/beam/pull/10549#pullrequestreview-341433084", "createdAt": "2020-01-10T21:31:36Z", "commit": {"oid": "4bdf41f4931b53fb8d6a75c2a647caf23d40007a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3715, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}