{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkzMzI0NDM2", "number": 12942, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxOToyNzo1M1rOEnk-4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxOToyNzo1M1rOEnk-4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5OTM1ODQxOnYy", "diffSide": "LEFT", "path": "sdks/python/apache_beam/runners/portability/sdk_container_builder.py", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxOToyNzo1M1rOHYP9jA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQyMDoxOToxNFrOHYRUrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTE4OTM4OA==", "bodyText": "How about\nsubprocess.run([ ], stdout=subprocess.PIPE)\nWoud this capture stdout and print STDERR?", "url": "https://github.com/apache/beam/pull/12942#discussion_r495189388", "createdAt": "2020-09-25T19:27:53Z", "author": {"login": "tvalentyn"}, "path": "sdks/python/apache_beam/runners/portability/sdk_container_builder.py", "diffHunk": "@@ -149,7 +149,6 @@ def invoke_docker_build_and_push(self, container_image_name):\n       _LOGGER.info(\"Building sdk container, this may take a few minutes...\")\n       now = time.time()\n       subprocess.run(['docker', 'build', '.', '-t', container_image_name],\n-                     capture_output=True,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4afea05745dd2ea0f0a17395245723712800a0b9"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTIxMTE0MQ==", "bodyText": "If there is an build error, how will users see it?", "url": "https://github.com/apache/beam/pull/12942#discussion_r495211141", "createdAt": "2020-09-25T20:17:42Z", "author": {"login": "tvalentyn"}, "path": "sdks/python/apache_beam/runners/portability/sdk_container_builder.py", "diffHunk": "@@ -149,7 +149,6 @@ def invoke_docker_build_and_push(self, container_image_name):\n       _LOGGER.info(\"Building sdk container, this may take a few minutes...\")\n       now = time.time()\n       subprocess.run(['docker', 'build', '.', '-t', container_image_name],\n-                     capture_output=True,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTE4OTM4OA=="}, "originalCommit": {"oid": "4afea05745dd2ea0f0a17395245723712800a0b9"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTIxMTY5NQ==", "bodyText": "Not capturing any output should help. But may be noisy. We can consider to capture the output but print it only if something goes wrong.\nLeaving the change as is SGMT for now.", "url": "https://github.com/apache/beam/pull/12942#discussion_r495211695", "createdAt": "2020-09-25T20:19:14Z", "author": {"login": "tvalentyn"}, "path": "sdks/python/apache_beam/runners/portability/sdk_container_builder.py", "diffHunk": "@@ -149,7 +149,6 @@ def invoke_docker_build_and_push(self, container_image_name):\n       _LOGGER.info(\"Building sdk container, this may take a few minutes...\")\n       now = time.time()\n       subprocess.run(['docker', 'build', '.', '-t', container_image_name],\n-                     capture_output=True,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTE4OTM4OA=="}, "originalCommit": {"oid": "4afea05745dd2ea0f0a17395245723712800a0b9"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3250, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}