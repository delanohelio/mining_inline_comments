{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM5MzE3NDQx", "number": 12074, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQyMzozMzozOFrOEJ3tng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQyMzozMzozOFrOEJ3tng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4Nzg1NDM4OnYy", "diffSide": "RIGHT", "path": "sdks/python/apache_beam/transforms/combiners.py", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQyMzozMzozOFrOGqmG6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMToyMjo0NFrOGxPZng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMxNzczOQ==", "bodyText": "In the spirit of not modifying self, and instead creating a new instance, you can return the subclass:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              def with_defaults(self, has_defaults=True):\n          \n          \n            \n                self.has_defaults = has_defaults\n          \n          \n            \n                return self\n          \n          \n            \n              def with_defaults(self, has_defaults=True):\n          \n          \n            \n                  new = copy.copy(self)\n          \n          \n            \n                  new.has_defaults = has_defaults\n          \n          \n            \n                  return new", "url": "https://github.com/apache/beam/pull/12074#discussion_r447317739", "createdAt": "2020-06-29T23:33:38Z", "author": {"login": "pabloem"}, "path": "sdks/python/apache_beam/transforms/combiners.py", "diffHunk": "@@ -62,26 +62,28 @@\n TimestampType = Union[int, float, Timestamp, Duration]\n \n \n+class CombinerWithoutDefaults(ptransform.PTransform):\n+  def __init__(self, has_defaults=True):\n+    self.has_defaults = has_defaults\n+\n+  def with_defaults(self, has_defaults=True):\n+    self.has_defaults = has_defaults\n+    return self", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b3d5c73a9d94a29aa4098f425e95675136b7516"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI4NTcyNg==", "bodyText": "This looks very nice, I wanted to return a new instance by wasn't sure how, copy is a very clever way, thanks.\nCommited", "url": "https://github.com/apache/beam/pull/12074#discussion_r454285726", "createdAt": "2020-07-14T11:22:44Z", "author": {"login": "InigoSJ"}, "path": "sdks/python/apache_beam/transforms/combiners.py", "diffHunk": "@@ -62,26 +62,28 @@\n TimestampType = Union[int, float, Timestamp, Duration]\n \n \n+class CombinerWithoutDefaults(ptransform.PTransform):\n+  def __init__(self, has_defaults=True):\n+    self.has_defaults = has_defaults\n+\n+  def with_defaults(self, has_defaults=True):\n+    self.has_defaults = has_defaults\n+    return self", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMxNzczOQ=="}, "originalCommit": {"oid": "5b3d5c73a9d94a29aa4098f425e95675136b7516"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3574, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}