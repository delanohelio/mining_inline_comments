{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyOTY1MjYz", "number": 11814, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxOToxODo1MFrOEAPjYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxOToxODo1MFrOEAPjYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NjkwMjc0OnYy", "diffSide": "RIGHT", "path": "runners/google-cloud-dataflow-java/src/main/java/org/apache/beam/runners/dataflow/util/PackageUtil.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxOToxODo1MFrOGbZxxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQyMDoxOTowNFrOGcFSXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM4NzA3OQ==", "bodyText": "I'm not sure why we need special treatment for Dataflow jars here. Behavior for these jars should be similar for any other jars uploaded for Dataflow IMO.\n@lukecwik WDYT ?", "url": "https://github.com/apache/beam/pull/11814#discussion_r431387079", "createdAt": "2020-05-27T19:18:50Z", "author": {"login": "chamikaramj"}, "path": "runners/google-cloud-dataflow-java/src/main/java/org/apache/beam/runners/dataflow/util/PackageUtil.java", "diffHunk": "@@ -397,10 +397,21 @@ public static PackageAttributes forFileToStage(\n             String.format(\"Non-existent file to stage: %s\", file.getAbsolutePath()));\n       }\n       checkState(!file.isDirectory(), \"Source file must not be a directory.\");\n+      String target;\n+      switch (dest) {\n+        case \"dataflow-worker.jar\":", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04e8e095043e563059255edda7795c51a21d4bd6"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjAxNDQxOA==", "bodyText": "Can we add a log statement describing why we need special treatment for these jars ? I see these jars being specifically being referenced to in Dataflow boot.go files.May be that's why ?", "url": "https://github.com/apache/beam/pull/11814#discussion_r432014418", "createdAt": "2020-05-28T17:46:46Z", "author": {"login": "chamikaramj"}, "path": "runners/google-cloud-dataflow-java/src/main/java/org/apache/beam/runners/dataflow/util/PackageUtil.java", "diffHunk": "@@ -397,10 +397,21 @@ public static PackageAttributes forFileToStage(\n             String.format(\"Non-existent file to stage: %s\", file.getAbsolutePath()));\n       }\n       checkState(!file.isDirectory(), \"Source file must not be a directory.\");\n+      String target;\n+      switch (dest) {\n+        case \"dataflow-worker.jar\":", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM4NzA3OQ=="}, "originalCommit": {"oid": "04e8e095043e563059255edda7795c51a21d4bd6"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA5OTkzMw==", "bodyText": "Put some comments and logging", "url": "https://github.com/apache/beam/pull/11814#discussion_r432099933", "createdAt": "2020-05-28T20:19:04Z", "author": {"login": "ihji"}, "path": "runners/google-cloud-dataflow-java/src/main/java/org/apache/beam/runners/dataflow/util/PackageUtil.java", "diffHunk": "@@ -397,10 +397,21 @@ public static PackageAttributes forFileToStage(\n             String.format(\"Non-existent file to stage: %s\", file.getAbsolutePath()));\n       }\n       checkState(!file.isDirectory(), \"Source file must not be a directory.\");\n+      String target;\n+      switch (dest) {\n+        case \"dataflow-worker.jar\":", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM4NzA3OQ=="}, "originalCommit": {"oid": "04e8e095043e563059255edda7795c51a21d4bd6"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3704, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}