{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxMzcyODYx", "number": 11949, "title": "Simplify Python on Flink runner instructions.", "bodyText": "Also fix formatting broken during website transition due to BEAM-10214.\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n Update CHANGES.md with noteworthy changes.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nApex\nDataflow\nFlink\nGearpump\nSamza\nSpark\n\n\n\n\nGo\n\n---\n---\n\n---\n---\n\n\n\nJava\n\n\n\n\n\n\n\n\n\nPython\n\n---\n\n\n---\n---\n\n\n\nXLang\n---\n---\n---\n\n---\n---\n\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-06-08T20:16:52Z", "url": "https://github.com/apache/beam/pull/11949", "merged": true, "mergeCommit": {"oid": "0fdf01a95256fe26498ebe94e4f70e9ddc0a9651"}, "closed": true, "closedAt": "2020-06-10T19:19:26Z", "author": {"login": "robertwb"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpWS8lgH2gAyNDMxMzcyODYxOmEyMDE1OTdiY2RmMDYzNjNkNWZkNjMxOTA2YmM2MGQ4MzkxZTFiZTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcp-e8AgFqTQyODM0Nzk2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a201597bcdf06363d5fd631906bc60d8391e1be0", "author": {"user": {"login": "robertwb", "name": "Robert Bradshaw"}}, "url": "https://github.com/apache/beam/commit/a201597bcdf06363d5fd631906bc60d8391e1be0", "committedDate": "2020-06-08T20:15:35Z", "message": "Simplify Python on Flink runner instructions.\n\nAlso fix formatting broken during website transition due to BEAM-10214."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NTk2NDU5", "url": "https://github.com/apache/beam/pull/11949#pullrequestreview-426596459", "createdAt": "2020-06-08T20:30:32Z", "commit": {"oid": "a201597bcdf06363d5fd631906bc60d8391e1be0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMDozMDozMlrOGgvP0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMDozMDozMlrOGgvP0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk4MTcxNQ==", "bodyText": "This instruction appears when Python is toggled. I don't think it should.", "url": "https://github.com/apache/beam/pull/11949#discussion_r436981715", "createdAt": "2020-06-08T20:30:32Z", "author": {"login": "ibzib"}, "path": "website/www/site/content/en/documentation/runners/flink.md", "diffHunk": "@@ -276,36 +276,48 @@ If you have a Flink `JobManager` running on your local machine you can provide `\n `flinkMaster`. Otherwise an embedded Flink cluster will be started for the job.\n {{< /paragraph >}}\n \n-Starting with Beam 2.18.0, pre-built Docker images are available at Docker Hub.\n-\n-JobService:\n+{{< paragraph class=\"language-portable\" >}}\n+Starting with Beam 2.18.0, pre-built Flink Job Service Docker images are available at Docker Hub:\n [Flink 1.8](https://hub.docker.com/r/apache/beam_flink1.8_job_server),\n [Flink 1.9](https://hub.docker.com/r/apache/beam_flink1.9_job_server).\n [Flink 1.10](https://hub.docker.com/r/apache/beam_flink1.10_job_server).\n-\n-Beam SDK:\n-[Python 2.7](https://hub.docker.com/r/apache/beam_python2.7_sdk),\n-[Python 3.5](https://hub.docker.com/r/apache/beam_python3.5_sdk),\n-[Python 3.6](https://hub.docker.com/r/apache/beam_python3.6_sdk),\n-[Python 3.7](https://hub.docker.com/r/apache/beam_python3.7_sdk).\n+{{< /paragraph >}}\n \n To run a pipeline on an embedded Flink cluster:\n <!-- Span implictly ended -->\n \n {{< paragraph class=\"language-py\" >}}\n-1. Start the JobService endpoint: `docker run --net=host apache/beam_flink1.10_job_server:latest`\n+(1) Set the runner to `FlinkRunner`.  Optionally set `environment_type` set to `LOOPBACK`. For example:\n {{< /paragraph >}}\n \n-{{< paragraph class=\"language-py\" >}}\n+{{< highlight py >}}\n+import apache_beam as beam\n+from apache_beam.options.pipeline_options import PipelineOptions\n+\n+options = PipelineOptions([\n+    \"--runner=FlinkRunner\",\n+    \"--environment_type=LOOPBACK\"\n+])\n+with beam.Pipeline(options) as p:\n+    ...\n+{{< /highlight >}}\n+\n+{{< paragraph class=\"language-portable\" >}}\n+<!-- TODO(BEAM-10214): Use actual lists here and below. -->\n+(1) Start the JobService endpoint: `docker run --net=host apache/beam_flink1.10_job_server:latest`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a201597bcdf06363d5fd631906bc60d8391e1be0"}, "originalPosition": 84}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3abde8fab728148c5bbc2ae1b50310fd00e86a38", "author": {"user": {"login": "robertwb", "name": "Robert Bradshaw"}}, "url": "https://github.com/apache/beam/commit/3abde8fab728148c5bbc2ae1b50310fd00e86a38", "committedDate": "2020-06-08T21:16:38Z", "message": "Fix stray paragraph, separate and rework python."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MjY0Mzc3", "url": "https://github.com/apache/beam/pull/11949#pullrequestreview-428264377", "createdAt": "2020-06-10T17:10:49Z", "commit": {"oid": "3abde8fab728148c5bbc2ae1b50310fd00e86a38"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee602542bd659779c752e5a2d94c06ba845b6b96", "author": {"user": {"login": "robertwb", "name": "Robert Bradshaw"}}, "url": "https://github.com/apache/beam/commit/ee602542bd659779c752e5a2d94c06ba845b6b96", "committedDate": "2020-06-10T18:01:20Z", "message": "Expand note on runner selection."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77ac458b36baaba68325eaf49ca6f35f3d409c73", "author": {"user": {"login": "robertwb", "name": "Robert Bradshaw"}}, "url": "https://github.com/apache/beam/commit/77ac458b36baaba68325eaf49ca6f35f3d409c73", "committedDate": "2020-06-10T18:38:26Z", "message": "Move Beam Compatibility table below instructions."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MzQ3OTY5", "url": "https://github.com/apache/beam/pull/11949#pullrequestreview-428347969", "createdAt": "2020-06-10T19:04:53Z", "commit": {"oid": "77ac458b36baaba68325eaf49ca6f35f3d409c73"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4149, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}