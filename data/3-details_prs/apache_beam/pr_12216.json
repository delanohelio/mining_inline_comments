{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3NDY0MjI4", "number": 12216, "title": "For Java container, generate license report only for container modules", "bodyText": "This avoids trouble from kelloggm/checkerframework-gradle-plugin#109 (I think)\nIt does not repro locally so I will see if it repros on Jenkins.\nThe diff of this license report change is actually quite unexpected: it catches many new dependencies that were not included before.\n3a4,12\n> beam-model-fn-execution-2.24.0-SNAPSHOT.jar\n> beam-model-job-management-2.24.0-SNAPSHOT.jar\n> beam-model-pipeline-2.24.0-SNAPSHOT.jar\n> beam-runners-core-construction-java-2.24.0-SNAPSHOT.jar\n> beam-runners-core-java-2.24.0-SNAPSHOT.jar\n> beam-runners-direct-java-2.24.0-SNAPSHOT.jar\n> beam-runners-java-fn-execution-2.24.0-SNAPSHOT.jar\n> beam-sdks-java-extensions-google-cloud-platform-core-2.24.0-SNAPSHOT.jar\n> beam-sdks-java-test-utils-2.24.0-SNAPSHOT.jar\n6c15\n< checker-qual-3.4.1.jar\n---\n> beam-vendor-sdks-java-extensions-protobuf-2.24.0-SNAPSHOT.jar\n16d24\n< hadoop-apache2-3.2.0-1.jar\n21d28\n< icu4j-58.2.jar\n36d42\n< objenesis-2.6.jar\n50d55\n< woodstox-core-asl-4.4.1.jar\n\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n Update CHANGES.md with noteworthy changes.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nDataflow\nFlink\nSamza\nSpark\nTwister2\n\n\n\n\nGo\n\n---\n\n---\n\n---\n\n\nJava\n\n\n\n\n\n\n\n\nPython\n\n\n\n---\n\n---\n\n\nXLang\n---\n---\n\n---\n\n---\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-07-10T14:13:49Z", "url": "https://github.com/apache/beam/pull/12216", "merged": true, "mergeCommit": {"oid": "34a9af844b74216df147d93e39976136d87063d5"}, "closed": true, "closedAt": "2020-07-13T22:48:06Z", "author": {"login": "kennknowles"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczko2IgBqjM1MzQxNjk0NTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0lAWkgBqjM1NDA1OTE4MDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "af370f3c2f04d2dd5e799f6654e2b1b06bc09974", "author": {"user": {"login": "kennknowles", "name": "Kenn Knowles"}}, "url": "https://github.com/apache/beam/commit/af370f3c2f04d2dd5e799f6654e2b1b06bc09974", "committedDate": "2020-07-10T14:37:00Z", "message": "Fix deps for Java container license report"}, "afterCommit": {"oid": "2cdd9c268de2636a4769c9dcbe0f582f40573fe9", "author": {"user": {"login": "kennknowles", "name": "Kenn Knowles"}}, "url": "https://github.com/apache/beam/commit/2cdd9c268de2636a4769c9dcbe0f582f40573fe9", "committedDate": "2020-07-10T14:37:16Z", "message": "Re-enable checker in Samza job server\n\nThis module passes checker, because it has no source. This was previously\nblocked by issues with other build infra."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NDU4MTI3", "url": "https://github.com/apache/beam/pull/12216#pullrequestreview-446458127", "createdAt": "2020-07-10T14:41:20Z", "commit": {"oid": "2cdd9c268de2636a4769c9dcbe0f582f40573fe9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNDo0MToyMFrOGv6Bhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNDo0MToyMFrOGv6Bhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg4NjkxOQ==", "bodyText": "@mxm @chamikaramj  incidentally, is this Kafka dep in the core Java harness still required?", "url": "https://github.com/apache/beam/pull/12216#discussion_r452886919", "createdAt": "2020-07-10T14:41:20Z", "author": {"login": "kennknowles"}, "path": "sdks/java/container/build.gradle", "diffHunk": "@@ -77,7 +77,9 @@ golang {\n import com.github.jk1.license.render.*\n licenseReport {\n   outputDir = 'java_third_party_licenses'\n-  projects = [project.rootProject] + project.rootProject.subprojects\n+  projects = [project,\n+              project.rootProject.findProject(':sdks:java:harness'),\n+              project.rootProject.findProject(':sdks:java:io:kafka')]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2cdd9c268de2636a4769c9dcbe0f582f40573fe9"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NTcxMjA1", "url": "https://github.com/apache/beam/pull/12216#pullrequestreview-446571205", "createdAt": "2020-07-10T17:22:52Z", "commit": {"oid": "2cdd9c268de2636a4769c9dcbe0f582f40573fe9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNzoyMjo1MlrOGv_XTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNzoyMjo1MlrOGv_XTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk3NDQxMw==", "bodyText": "Does this change include all dependencies installed in container? If so, it looks good for now.\nThis list should evolve if more dependencies are added to container, so we need to make it clear somewhere for developers who add new dependencies to container.\nA minor update to release guide is needed. There is a step to check if all licenses are added by checking the number of licenses. Now we expect to see roughly 1400 dependencies. With this change, I think the number is reduced? Then the guide should be updated with a new number or find a better way to check if all expected licenses are included.", "url": "https://github.com/apache/beam/pull/12216#discussion_r452974413", "createdAt": "2020-07-10T17:22:52Z", "author": {"login": "Hannah-Jiang"}, "path": "sdks/java/container/build.gradle", "diffHunk": "@@ -77,7 +77,9 @@ golang {\n import com.github.jk1.license.render.*\n licenseReport {\n   outputDir = 'java_third_party_licenses'\n-  projects = [project.rootProject] + project.rootProject.subprojects\n+  projects = [project,\n+              project.rootProject.findProject(':sdks:java:harness'),\n+              project.rootProject.findProject(':sdks:java:io:kafka')]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2cdd9c268de2636a4769c9dcbe0f582f40573fe9"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NTcxNjQ5", "url": "https://github.com/apache/beam/pull/12216#pullrequestreview-446571649", "createdAt": "2020-07-10T17:23:33Z", "commit": {"oid": "2cdd9c268de2636a4769c9dcbe0f582f40573fe9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be8bc5728d38879a6cb7badd1bc15ee4156187e9", "author": {"user": {"login": "kennknowles", "name": "Kenn Knowles"}}, "url": "https://github.com/apache/beam/commit/be8bc5728d38879a6cb7badd1bc15ee4156187e9", "committedDate": "2020-07-13T17:36:49Z", "message": "Fix deps for Java container license report"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b9336d76d26f430474af775f5fbe140b4d7d7bb", "author": {"user": {"login": "kennknowles", "name": "Kenn Knowles"}}, "url": "https://github.com/apache/beam/commit/5b9336d76d26f430474af775f5fbe140b4d7d7bb", "committedDate": "2020-07-13T17:36:49Z", "message": "Re-enable checker in Samza job server\n\nThis module passes checker, because it has no source. This was previously\nblocked by issues with other build infra."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "49fd60bef64820c2bbaeffd2652d4ea582fb3cc5", "author": {"user": {"login": "kennknowles", "name": "Kenn Knowles"}}, "url": "https://github.com/apache/beam/commit/49fd60bef64820c2bbaeffd2652d4ea582fb3cc5", "committedDate": "2020-07-11T03:00:58Z", "message": "fixup! Fix deps for Java container license report"}, "afterCommit": {"oid": "5b9336d76d26f430474af775f5fbe140b4d7d7bb", "author": {"user": {"login": "kennknowles", "name": "Kenn Knowles"}}, "url": "https://github.com/apache/beam/commit/5b9336d76d26f430474af775f5fbe140b4d7d7bb", "committedDate": "2020-07-13T17:36:49Z", "message": "Re-enable checker in Samza job server\n\nThis module passes checker, because it has no source. This was previously\nblocked by issues with other build infra."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4029, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}