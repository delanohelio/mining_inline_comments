{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4MDg5MzI4", "number": 11507, "title": "[BEAM-7923] Support docker screendiff integration tests", "bodyText": "Added 2 more chrome options so that the interactive notebook screendiff integration tests work within docker.\nUpdated the golden screenshot.\n\nDetails:\n\nBy default, Docker runs a container with a /dev/shm shared memory space 64MB. This is typically too small for Chrome and will cause Chrome to crash when rendering large pages. To fix, run the container with docker run --shm-size=1gb to increase the size of /dev/shm. Since Chrome 65, this is no longer necessary. Instead, launch the browser with the --disable-dev-shm-usage flag\nWithout the chrome options, a test running within docker container will fail with following error:\n\n\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n Update CHANGES.md with noteworthy changes.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nApex\nDataflow\nFlink\nGearpump\nSamza\nSpark\n\n\n\n\nGo\n\n---\n---\n\n---\n---\n\n\n\nJava\n\n\n\n\n\n\n\n\n\nPython\n\n---\n\n\n---\n---\n\n\n\nXLang\n---\n---\n---\n\n---\n---\n\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-04-23T18:07:13Z", "url": "https://github.com/apache/beam/pull/11507", "merged": true, "mergeCommit": {"oid": "bfcb17ef896a4c8de8b2cab7fe3ea7112313a6c1"}, "closed": true, "closedAt": "2020-04-28T21:45:34Z", "author": {"login": "KevinGG"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcagzGAgH2gAyNDA4MDg5MzI4OjgyZDE3ZmFkYTA4NjAyYmZjMTZhMDM1MGUzODgyZmMzYmYzOWI4NDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcbyP0RAH2gAyNDA4MDg5MzI4OjE3NGRjNDFmMjE1ZmY3YzYzYmY2ZmI5YTNlM2E3YTY4ZDA1MDUzYzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "82d17fada08602bfc16a0350e3882fc3bf39b845", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/82d17fada08602bfc16a0350e3882fc3bf39b845", "committedDate": "2020-04-23T18:00:53Z", "message": "[BEAM-7923] Support docker screendiff integration tests\n\n1. Added 2 more chrome options so that the tests work within docker.\n2. Updated the golden screenshot.\n\nChange-Id: I9973b53d4aefec94898b55ac3a3625b7b6dcc263"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5MzU2NTA2", "url": "https://github.com/apache/beam/pull/11507#pullrequestreview-399356506", "createdAt": "2020-04-23T18:14:35Z", "commit": {"oid": "82d17fada08602bfc16a0350e3882fc3bf39b845"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58d24fb9d4f7640f33e0ad92e447e708df88e0ae", "author": {"user": {"login": "KevinGG", "name": "Ning Kang"}}, "url": "https://github.com/apache/beam/commit/58d24fb9d4f7640f33e0ad92e447e708df88e0ae", "committedDate": "2020-04-23T20:27:47Z", "message": "Added explicit wait for facets elements to be rendered and updated the golden image."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee14564c84f9c947ad305bbebbaad5970ec9befd", "author": {"user": {"login": "KevinGG", "name": "Ning Kang"}}, "url": "https://github.com/apache/beam/commit/ee14564c84f9c947ad305bbebbaad5970ec9befd", "committedDate": "2020-04-23T21:21:05Z", "message": "fix lint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6870d67a80a017b69e9cf3c0de5d1a2eea10f87", "author": {"user": {"login": "KevinGG", "name": "Ning Kang"}}, "url": "https://github.com/apache/beam/commit/e6870d67a80a017b69e9cf3c0de5d1a2eea10f87", "committedDate": "2020-04-24T00:06:02Z", "message": "Updated to use a fixed version of PIL and updated the golden image"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbeef11f9f0ac01b8f359cba9bc96610dee493b5", "author": {"user": {"login": "KevinGG", "name": "Ning Kang"}}, "url": "https://github.com/apache/beam/commit/bbeef11f9f0ac01b8f359cba9bc96610dee493b5", "committedDate": "2020-04-24T01:41:22Z", "message": "Enforce a fixed color profile for chrome."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2052beb1160aa9179ab749beb6c4f328adce52b6", "author": {"user": {"login": "KevinGG", "name": "Ning Kang"}}, "url": "https://github.com/apache/beam/commit/2052beb1160aa9179ab749beb6c4f328adce52b6", "committedDate": "2020-04-24T04:25:21Z", "message": "Updated golden screenshot once Roboto Mono font is installed."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9953dc223f249028b70c9dbbce9cd3573704b2b", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/d9953dc223f249028b70c9dbbce9cd3573704b2b", "committedDate": "2020-04-24T04:58:05Z", "message": "Added a threshold for fuzzy match.\n\nChange-Id: I32202d7a959c0df8571621a75f9c564f641fc5b9"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "014873d0693e79f8b09918c60ff744b2f95a9b3f", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/014873d0693e79f8b09918c60ff744b2f95a9b3f", "committedDate": "2020-04-24T19:16:03Z", "message": "Added support of MacOS(Darwin) and Linux screen diff.\n\nChange-Id: I8397eb0b9ada041a78c455d1afba83e5a9b696e4"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMjI0Mjc1", "url": "https://github.com/apache/beam/pull/11507#pullrequestreview-400224275", "createdAt": "2020-04-24T19:43:59Z", "commit": {"oid": "014873d0693e79f8b09918c60ff744b2f95a9b3f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOTo0Mzo1OVrOGLmoKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOTo0Mzo1OVrOGLmoKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDgyMDM5NQ==", "bodyText": "why?", "url": "https://github.com/apache/beam/pull/11507#discussion_r414820395", "createdAt": "2020-04-24T19:43:59Z", "author": {"login": "aaltay"}, "path": "sdks/python/setup.py", "diffHunk": "@@ -229,6 +229,8 @@ def get_version():\n     'selenium>=3.141.0,<4',\n     'needle>=0.5.0,<1',\n     'chromedriver-binary>=80,<81',\n+    # use a fixed version of PIL for different python versions\n+    'pillow==7.1.1',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "014873d0693e79f8b09918c60ff744b2f95a9b3f"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8bad5b0b887f13cacf781d5187aacc50e6f703ef", "author": {"user": {"login": "KevinGG", "name": "Ning Kang"}}, "url": "https://github.com/apache/beam/commit/8bad5b0b887f13cacf781d5187aacc50e6f703ef", "committedDate": "2020-04-25T01:38:46Z", "message": "Update the golden for Linux platform."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "174dc41f215ff7c63bf6fb9a3e3a7a68d05053c3", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/174dc41f215ff7c63bf6fb9a3e3a7a68d05053c3", "committedDate": "2020-04-27T16:54:34Z", "message": "Allow installing pillow in a range of versions.\n\nChange-Id: Iecd3800a0944501baa8b9cd4931b3afc4aeb41a0"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3922, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}