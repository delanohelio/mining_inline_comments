{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0NjEwNzc4", "number": 13393, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMDozNTozN1rOE7fEhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwMjowODoxM1rOE8euSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwODEwNTAzOnYy", "diffSide": "RIGHT", "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMDozNTozN1rOH3KQIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMzoyNTo0OFrOH3j7lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYwMTY5Ng==", "bodyText": "Our current plan is to use the associated commit with the latest snapshot for Beam imports -  we'd rather not keep them nightly, but perhaps every hour is excessive?", "url": "https://github.com/apache/beam/pull/13393#discussion_r527601696", "createdAt": "2020-11-20T10:35:37Z", "author": {"login": "emilymye"}, "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+\n+// This job publishes regular snapshots of the SDK harness containers for\n+// testing purposes. It builds and pushes the SDK container to the\n+// specified GCR repo, tagged at the current Git commit.\n+job('beam_Publish_Beam_SDK_Snapshots') {\n+  description('Builds SDK harness images snapshots regularly for testing purposes.')\n+\n+  // Set common parameters.\n+  commonJobProperties.setTopLevelMainJobProperties(delegate)\n+\n+  // // Runs once per hour.\n+  commonJobProperties.setAutoJob(delegate, '0 * * * *')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c33d3dbdbb42086488784a47bfb9d17fb43f91e0"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk5MjUxNQ==", "bodyText": "How long does it take to run?\nMaybe start with\nH H/4 * * *\nTo run every 4 hours at a deterministic (hash) minute/hour?", "url": "https://github.com/apache/beam/pull/13393#discussion_r527992515", "createdAt": "2020-11-20T21:57:17Z", "author": {"login": "alanmyrvold"}, "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+\n+// This job publishes regular snapshots of the SDK harness containers for\n+// testing purposes. It builds and pushes the SDK container to the\n+// specified GCR repo, tagged at the current Git commit.\n+job('beam_Publish_Beam_SDK_Snapshots') {\n+  description('Builds SDK harness images snapshots regularly for testing purposes.')\n+\n+  // Set common parameters.\n+  commonJobProperties.setTopLevelMainJobProperties(delegate)\n+\n+  // // Runs once per hour.\n+  commonJobProperties.setAutoJob(delegate, '0 * * * *')", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYwMTY5Ng=="}, "originalCommit": {"oid": "c33d3dbdbb42086488784a47bfb9d17fb43f91e0"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk5Nzc4Mg==", "bodyText": "We could also have more frequent runs at the times when more commits are typically landing, and less frequent otherwise, can also reconsider if this becomes inconvenient. Also, would a committer be able to trigger a run manually?", "url": "https://github.com/apache/beam/pull/13393#discussion_r527997782", "createdAt": "2020-11-20T22:09:54Z", "author": {"login": "tvalentyn"}, "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+\n+// This job publishes regular snapshots of the SDK harness containers for\n+// testing purposes. It builds and pushes the SDK container to the\n+// specified GCR repo, tagged at the current Git commit.\n+job('beam_Publish_Beam_SDK_Snapshots') {\n+  description('Builds SDK harness images snapshots regularly for testing purposes.')\n+\n+  // Set common parameters.\n+  commonJobProperties.setTopLevelMainJobProperties(delegate)\n+\n+  // // Runs once per hour.\n+  commonJobProperties.setAutoJob(delegate, '0 * * * *')", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYwMTY5Ng=="}, "originalCommit": {"oid": "c33d3dbdbb42086488784a47bfb9d17fb43f91e0"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODAyMjQyMw==", "bodyText": "probably <20 minutes (based on Publish_Docker_Snapshots - py38 is the longest usually)\nI think we'll just start with H H/4 * * *", "url": "https://github.com/apache/beam/pull/13393#discussion_r528022423", "createdAt": "2020-11-20T23:25:48Z", "author": {"login": "emilymye"}, "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+\n+// This job publishes regular snapshots of the SDK harness containers for\n+// testing purposes. It builds and pushes the SDK container to the\n+// specified GCR repo, tagged at the current Git commit.\n+job('beam_Publish_Beam_SDK_Snapshots') {\n+  description('Builds SDK harness images snapshots regularly for testing purposes.')\n+\n+  // Set common parameters.\n+  commonJobProperties.setTopLevelMainJobProperties(delegate)\n+\n+  // // Runs once per hour.\n+  commonJobProperties.setAutoJob(delegate, '0 * * * *')", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYwMTY5Ng=="}, "originalCommit": {"oid": "c33d3dbdbb42086488784a47bfb9d17fb43f91e0"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwODEwNzA1OnYy", "diffSide": "RIGHT", "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMDozNTo1N1rOH3KRSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwMDowOTo1MVrOH4kUpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYwMTk5NQ==", "bodyText": "If there is a better place to pull this in, please let me know!", "url": "https://github.com/apache/beam/pull/13393#discussion_r527601995", "createdAt": "2020-11-20T10:35:57Z", "author": {"login": "emilymye"}, "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+\n+// This job publishes regular snapshots of the SDK harness containers for\n+// testing purposes. It builds and pushes the SDK container to the\n+// specified GCR repo, tagged at the current Git commit.\n+job('beam_Publish_Beam_SDK_Snapshots') {\n+  description('Builds SDK harness images snapshots regularly for testing purposes.')\n+\n+  // Set common parameters.\n+  commonJobProperties.setTopLevelMainJobProperties(delegate)\n+\n+  // // Runs once per hour.\n+  commonJobProperties.setAutoJob(delegate, '0 * * * *')\n+\n+  // Use jenkins env var interpolation - leave in single quotes\n+  def imageRepo = 'gcr.io/apache-beam-testing/beam-sdk'\n+  def imageTag = '${GIT_COMMIT}'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c33d3dbdbb42086488784a47bfb9d17fb43f91e0"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYwMzI1MQ==", "bodyText": "I also wonder if we should error if not running against master - it would make sense to at least tag it differently or place non-master in a different repository folder so a PR-created snapshot can't replace a valid master snapshot as a latest tag.", "url": "https://github.com/apache/beam/pull/13393#discussion_r527603251", "createdAt": "2020-11-20T10:38:19Z", "author": {"login": "emilymye"}, "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+\n+// This job publishes regular snapshots of the SDK harness containers for\n+// testing purposes. It builds and pushes the SDK container to the\n+// specified GCR repo, tagged at the current Git commit.\n+job('beam_Publish_Beam_SDK_Snapshots') {\n+  description('Builds SDK harness images snapshots regularly for testing purposes.')\n+\n+  // Set common parameters.\n+  commonJobProperties.setTopLevelMainJobProperties(delegate)\n+\n+  // // Runs once per hour.\n+  commonJobProperties.setAutoJob(delegate, '0 * * * *')\n+\n+  // Use jenkins env var interpolation - leave in single quotes\n+  def imageRepo = 'gcr.io/apache-beam-testing/beam-sdk'\n+  def imageTag = '${GIT_COMMIT}'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYwMTk5NQ=="}, "originalCommit": {"oid": "c33d3dbdbb42086488784a47bfb9d17fb43f91e0"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk4NjY0Mg==", "bodyText": "if this job is triggered on schedule, will it actually be run against non-master? or we talk about somebody trying to run the job manually against non-master?", "url": "https://github.com/apache/beam/pull/13393#discussion_r527986642", "createdAt": "2020-11-20T21:42:58Z", "author": {"login": "tvalentyn"}, "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+\n+// This job publishes regular snapshots of the SDK harness containers for\n+// testing purposes. It builds and pushes the SDK container to the\n+// specified GCR repo, tagged at the current Git commit.\n+job('beam_Publish_Beam_SDK_Snapshots') {\n+  description('Builds SDK harness images snapshots regularly for testing purposes.')\n+\n+  // Set common parameters.\n+  commonJobProperties.setTopLevelMainJobProperties(delegate)\n+\n+  // // Runs once per hour.\n+  commonJobProperties.setAutoJob(delegate, '0 * * * *')\n+\n+  // Use jenkins env var interpolation - leave in single quotes\n+  def imageRepo = 'gcr.io/apache-beam-testing/beam-sdk'\n+  def imageTag = '${GIT_COMMIT}'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYwMTk5NQ=="}, "originalCommit": {"oid": "c33d3dbdbb42086488784a47bfb9d17fb43f91e0"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODAyMDYzMg==", "bodyText": "the second - basically to guard against test snapshots getting put into the same repo. Our plan is to tie the import to a given snapshot commit, so whoever is doing the import will want to choose a commit at which a snapshot exists.", "url": "https://github.com/apache/beam/pull/13393#discussion_r528020632", "createdAt": "2020-11-20T23:19:52Z", "author": {"login": "emilymye"}, "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+\n+// This job publishes regular snapshots of the SDK harness containers for\n+// testing purposes. It builds and pushes the SDK container to the\n+// specified GCR repo, tagged at the current Git commit.\n+job('beam_Publish_Beam_SDK_Snapshots') {\n+  description('Builds SDK harness images snapshots regularly for testing purposes.')\n+\n+  // Set common parameters.\n+  commonJobProperties.setTopLevelMainJobProperties(delegate)\n+\n+  // // Runs once per hour.\n+  commonJobProperties.setAutoJob(delegate, '0 * * * *')\n+\n+  // Use jenkins env var interpolation - leave in single quotes\n+  def imageRepo = 'gcr.io/apache-beam-testing/beam-sdk'\n+  def imageTag = '${GIT_COMMIT}'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYwMTk5NQ=="}, "originalCommit": {"oid": "c33d3dbdbb42086488784a47bfb9d17fb43f91e0"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA3NzQxNQ==", "bodyText": "I think there is no concern with on-demand runs since we tag on git commit. If we will need to build these container images for handling non-master imports, we can include branch name in the imageRepo or use the release/rc tags instead of commit tags.", "url": "https://github.com/apache/beam/pull/13393#discussion_r529077415", "createdAt": "2020-11-24T00:09:51Z", "author": {"login": "tvalentyn"}, "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+\n+// This job publishes regular snapshots of the SDK harness containers for\n+// testing purposes. It builds and pushes the SDK container to the\n+// specified GCR repo, tagged at the current Git commit.\n+job('beam_Publish_Beam_SDK_Snapshots') {\n+  description('Builds SDK harness images snapshots regularly for testing purposes.')\n+\n+  // Set common parameters.\n+  commonJobProperties.setTopLevelMainJobProperties(delegate)\n+\n+  // // Runs once per hour.\n+  commonJobProperties.setAutoJob(delegate, '0 * * * *')\n+\n+  // Use jenkins env var interpolation - leave in single quotes\n+  def imageRepo = 'gcr.io/apache-beam-testing/beam-sdk'\n+  def imageTag = '${GIT_COMMIT}'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYwMTk5NQ=="}, "originalCommit": {"oid": "c33d3dbdbb42086488784a47bfb9d17fb43f91e0"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxMDYwNjE2OnYy", "diffSide": "RIGHT", "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMTo1MjowOVrOH3h-Qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQyMTo1MjowOVrOH3h-Qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzk5MDMzOA==", "bodyText": "let's not hardcode the specific python versions to have less places to change, when we have a new python version to add. Btw, similar concern may soon apply to Java as well.\nConsider adding an entry to:\nhttps://github.com/apache/beam/blob/85b30233910efc1daf93afc76ea03d7eef2d6257/.test-infra/jenkins/PythonTestProperties.groovy\nand populate gradle tasks based on the configuration, similar to  \n  \n    \n      beam/.test-infra/jenkins/job_PostCommit_CrossLanguageValidatesRunner_Dataflow.groovy\n    \n    \n         Line 43\n      in\n      31fd516\n    \n    \n    \n    \n\n        \n          \n           CROSS_LANGUAGE_VALIDATES_RUNNER_DATAFLOW_USING_JAVA_PYTHON_VERSIONS.each { pythonVersion -> \n        \n    \n  \n\n\nWe could also choose better name for PythonTestProperties down the road.", "url": "https://github.com/apache/beam/pull/13393#discussion_r527990338", "createdAt": "2020-11-20T21:52:09Z", "author": {"login": "tvalentyn"}, "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+\n+// This job publishes regular snapshots of the SDK harness containers for\n+// testing purposes. It builds and pushes the SDK container to the\n+// specified GCR repo, tagged at the current Git commit.\n+job('beam_Publish_Beam_SDK_Snapshots') {\n+  description('Builds SDK harness images snapshots regularly for testing purposes.')\n+\n+  // Set common parameters.\n+  commonJobProperties.setTopLevelMainJobProperties(delegate)\n+\n+  // // Runs once per hour.\n+  commonJobProperties.setAutoJob(delegate, '0 * * * *')\n+\n+  // Use jenkins env var interpolation - leave in single quotes\n+  def imageRepo = 'gcr.io/apache-beam-testing/beam-sdk'\n+  def imageTag = '${GIT_COMMIT}'\n+\n+  steps {\n+    shell(\"echo 'Pushing SDK snapshots to ${imageRepo} at tag: ${imageTag}\")\n+    gradle {\n+      rootBuildScriptDir(commonJobProperties.checkoutDir)\n+      commonJobProperties.setGradleSwitches(delegate)\n+      tasks(':sdks:go:container:dockerPush')\n+      tasks(':sdks:python:container:java8:dockerPush')\n+      tasks(':sdks:python:container:java11:dockerPush')\n+      tasks(':sdks:python:container:py36:dockerPush')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c33d3dbdbb42086488784a47bfb9d17fb43f91e0"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxODE2MDI4OnYy", "diffSide": "RIGHT", "path": ".test-infra/jenkins/job_Publish_Docker_Snapshots.groovy", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMzo1ODoxOVrOH4kGDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwMDoyNTozNVrOH4kpbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA3MzY3OQ==", "bodyText": "Run once every 4 hours?", "url": "https://github.com/apache/beam/pull/13393#discussion_r529073679", "createdAt": "2020-11-23T23:58:19Z", "author": {"login": "tvalentyn"}, "path": ".test-infra/jenkins/job_Publish_Docker_Snapshots.groovy", "diffHunk": "@@ -33,15 +34,15 @@ job('beam_Publish_Docker_Snapshots') {\n       )\n \n   // Runs once per day.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "baf397c055488c8eeb4653e770081acac747b6e1"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA4MTc4OQ==", "bodyText": "Whoops, I actually changed the wrong file - will change", "url": "https://github.com/apache/beam/pull/13393#discussion_r529081789", "createdAt": "2020-11-24T00:22:51Z", "author": {"login": "emilymye"}, "path": ".test-infra/jenkins/job_Publish_Docker_Snapshots.groovy", "diffHunk": "@@ -33,15 +34,15 @@ job('beam_Publish_Docker_Snapshots') {\n       )\n \n   // Runs once per day.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA3MzY3OQ=="}, "originalCommit": {"oid": "baf397c055488c8eeb4653e770081acac747b6e1"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA4MjczMg==", "bodyText": "yeah, I was just going to ask if it was intentional :)", "url": "https://github.com/apache/beam/pull/13393#discussion_r529082732", "createdAt": "2020-11-24T00:25:35Z", "author": {"login": "tvalentyn"}, "path": ".test-infra/jenkins/job_Publish_Docker_Snapshots.groovy", "diffHunk": "@@ -33,15 +34,15 @@ job('beam_Publish_Docker_Snapshots') {\n       )\n \n   // Runs once per day.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA3MzY3OQ=="}, "originalCommit": {"oid": "baf397c055488c8eeb4653e770081acac747b6e1"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxODE2NDkxOnYy", "diffSide": "RIGHT", "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwMDowMDoyN1rOH4kI8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwMDowMDoyN1rOH4kI8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA3NDQxOA==", "bodyText": "Leftover?", "url": "https://github.com/apache/beam/pull/13393#discussion_r529074418", "createdAt": "2020-11-24T00:00:27Z", "author": {"login": "tvalentyn"}, "path": ".test-infra/jenkins/job_Publish_SDK_Image_Snapshots.groovy", "diffHunk": "@@ -0,0 +1,58 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+import static JavaTestProperties.SUPPORTED_CONTAINER_TASKS as SUPPORTED_JAVA_CONTAINER_TASKS\n+import static PythonTestProperties.SUPPORTED_CONTAINER_TASKS as SUPPORTED_PYTHON_CONTAINER_TASKS\n+\n+// This job publishes regular snapshots of the SDK harness containers for\n+// testing purposes. It builds and pushes the SDK container to the\n+// specified GCR repo, tagged at the current Git commit.\n+job('beam_Publish_Beam_SDK_Snapshots') {\n+  description('Builds SDK harness images snapshots regularly for testing purposes.')\n+\n+  // Set common parameters.\n+  commonJobProperties.setTopLevelMainJobProperties(delegate)\n+\n+  // Runs once per hour during MTV time (9-16 UTC-8 --> 17-23,0-1UTC)\n+  commonJobProperties.setAutoJob(delegate, 'H 0-2,17-23 * * *')\n+\n+  // Use jenkins env var interpolation - leave in single quotes\n+  def imageRepo = 'gcr.io/apache-beam-testing/beam-sdk'\n+  def imageTag = '${GIT_COMMIT}'\n+\n+  steps {\n+    shell(\"echo 'Pushing SDK snapshots to ${imageRepo} at tag: ${imageTag}'\")\n+    gradle {\n+      rootBuildScriptDir(commonJobProperties.checkoutDir)\n+      commonJobProperties.setGradleSwitches(delegate)\n+      tasks(':sdks:go:container:dockerPush')\n+      SUPPORTED_JAVA_CONTAINER_TASKS.each { taskVer ->\n+        tasks(\":sdks:java:container:${taskVer}:dockerPush\")\n+      }\n+      SUPPORTED_PYTHON_CONTAINER_TASKS.each { taskVer ->\n+        tasks(\":sdks:python:container:${taskVer}:dockerPush\")\n+      }\n+      tasks(':sdks:python:container:py36:dockerPush')\n+      tasks(':sdks:python:container:py37:dockerPush')\n+      tasks(':sdks:python:container:py38:dockerPush')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "baf397c055488c8eeb4653e770081acac747b6e1"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxODUzMzg3OnYy", "diffSide": "RIGHT", "path": ".test-infra/jenkins/PythonTestProperties.groovy", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwMjowODoxM1rOH4n3ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwMjowODoxM1rOH4n3ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTEzNTQ4Mw==", "bodyText": "@lazylynx FYI we could make use of the ALL_SUPPORTED_VERSIONS instead of this constant after your upcoming change (#13382).", "url": "https://github.com/apache/beam/pull/13393#discussion_r529135483", "createdAt": "2020-11-24T02:08:13Z", "author": {"login": "tvalentyn"}, "path": ".test-infra/jenkins/PythonTestProperties.groovy", "diffHunk": "@@ -17,6 +17,7 @@\n  */\n \n class PythonTestProperties {\n+  final static List<String> SUPPORTED_CONTAINER_TASKS = ['py36', 'py37', 'py38']", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fb5d59379c9360176567487e85b8278a6712eb6"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2611, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}