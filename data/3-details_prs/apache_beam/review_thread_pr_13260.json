{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1NTQ2Mzk3", "number": 13260, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxODozMjo0OVrOE1WRsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxODozMjo0OVrOE1WRsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0Mzc0OTYyOnYy", "diffSide": "LEFT", "path": "runners/google-cloud-dataflow-java/build.gradle", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxODozMjo0OVrOHtku7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQyMzozMzoyMVrOHvAnvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU0OTgwNg==", "bodyText": "We may want to keep this task and replace fnApiPipelineOptions with runnerV2PipelineOptionsto help people inspect pipeline options when they want to run single test.", "url": "https://github.com/apache/beam/pull/13260#discussion_r517549806", "createdAt": "2020-11-04T18:32:49Z", "author": {"login": "boyuanzz"}, "path": "runners/google-cloud-dataflow-java/build.gradle", "diffHunk": "@@ -275,19 +266,6 @@ afterEvaluate {\n   }\n }\n \n-task printFnApiPipelineOptions {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77d8b4719fc1a168770dbc00fd27cf80aafb4d6d"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzYyNzQxNw==", "bodyText": "Do people use this? I don't understand how since it dependsOn buildAndPushDockerContainer which actually builds an ephemeral container image, uploads it to gcr, then deletes it:\n> Task :runners:google-cloud-dataflow-java:printRunnerV2PipelineOptions\nTo run a Dataflow job with runner V2, add the following pipeline options to your command-line:\n--runner=TestDataflowRunner --project=apache-beam-testing --region=us-central1 --tempRoot=gs://temp-storage-for-validates-runner-tests --workerHarnessContainerImage=us.gcr.io/apache-beam-testing/java-postcommit-it/java:20201104192242 --experiments=beam_fn_api,use_unified_worker\n\n> Task :runners:google-cloud-dataflow-java:cleanUpDockerImages\nUntagged: us.gcr.io/apache-beam-testing/java-postcommit-it/java:20201104192242\nUntagged: us.gcr.io/apache-beam-testing/java-postcommit-it/java@sha256:19baebd7dc6a9c1db7e99b230dc306effc4b9ec61e7d8203166c2bc80145e883\nDigests:\n- us.gcr.io/apache-beam-testing/java-postcommit-it/java@sha256:19baebd7dc6a9c1db7e99b230dc306effc4b9ec61e7d8203166c2bc80145e883\n  Associated tags:\n - 20201104192242\nTags:\n- us.gcr.io/apache-beam-testing/java-postcommit-it/java:20201104192242\nDeleted [us.gcr.io/apache-beam-testing/java-postcommit-it/java:20201104192242].\nDeleted [us.gcr.io/apache-beam-testing/java-postcommit-it/java@sha256:19baebd7dc6a9c1db7e99b230dc306effc4b9ec61e7d8203166c2bc80145e883].\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.6.1/userguide/command_line_interface.html#sec:command_line_warnings", "url": "https://github.com/apache/beam/pull/13260#discussion_r517627417", "createdAt": "2020-11-04T20:58:24Z", "author": {"login": "tysonjh"}, "path": "runners/google-cloud-dataflow-java/build.gradle", "diffHunk": "@@ -275,19 +266,6 @@ afterEvaluate {\n   }\n }\n \n-task printFnApiPipelineOptions {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU0OTgwNg=="}, "originalCommit": {"oid": "77d8b4719fc1a168770dbc00fd27cf80aafb4d6d"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY4MTk3OQ==", "bodyText": "I'm not sure whether we have folks use it. It's helpful to show all options we are using to launch such a test. But it seems like a bug to clean up the docker image.", "url": "https://github.com/apache/beam/pull/13260#discussion_r517681979", "createdAt": "2020-11-04T23:01:19Z", "author": {"login": "boyuanzz"}, "path": "runners/google-cloud-dataflow-java/build.gradle", "diffHunk": "@@ -275,19 +266,6 @@ afterEvaluate {\n   }\n }\n \n-task printFnApiPipelineOptions {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU0OTgwNg=="}, "originalCommit": {"oid": "77d8b4719fc1a168770dbc00fd27cf80aafb4d6d"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTAyMzU0OQ==", "bodyText": "Without cleaning it up we'll end up with an ever-growing list of them and unfortunately I don't see a way to set TTL on objects in gcr. Maybe we could not bother with that if we had a perioid cleanup, which gcloud seems to support, but I haven't investigated on this a lot.\nI most often use jenkins to find out how a job is executed.", "url": "https://github.com/apache/beam/pull/13260#discussion_r519023549", "createdAt": "2020-11-06T21:51:50Z", "author": {"login": "tysonjh"}, "path": "runners/google-cloud-dataflow-java/build.gradle", "diffHunk": "@@ -275,19 +266,6 @@ afterEvaluate {\n   }\n }\n \n-task printFnApiPipelineOptions {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU0OTgwNg=="}, "originalCommit": {"oid": "77d8b4719fc1a168770dbc00fd27cf80aafb4d6d"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTA1NTI5Mg==", "bodyText": "I added it back and refactored a bit so users could print the options, then later delete the image manually (and I printed the delete commands to the terminal).", "url": "https://github.com/apache/beam/pull/13260#discussion_r519055292", "createdAt": "2020-11-06T23:33:21Z", "author": {"login": "tysonjh"}, "path": "runners/google-cloud-dataflow-java/build.gradle", "diffHunk": "@@ -275,19 +266,6 @@ afterEvaluate {\n   }\n }\n \n-task printFnApiPipelineOptions {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU0OTgwNg=="}, "originalCommit": {"oid": "77d8b4719fc1a168770dbc00fd27cf80aafb4d6d"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2913, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}