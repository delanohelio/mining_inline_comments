{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4OTY4OTE2", "number": 11524, "title": "[BEAM-9815] Correct go integration test if clauses. ", "bodyText": "String comparisons in the integration test script were not running as expected, meaning dev image pushes were not occuring for dataflow.\nThis doesn't fix dataflow, but it brings it back to the \"No artifacts staged\" issue it was experiencing before.\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n Update CHANGES.md with noteworthy changes.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nApex\nDataflow\nFlink\nGearpump\nSamza\nSpark\n\n\n\n\nGo\n\n---\n---\n\n---\n---\n\n\n\nJava\n\n\n\n\n\n\n\n\n\nPython\n\n---\n\n\n---\n---\n\n\n\nXLang\n---\n---\n---\n\n---\n---\n\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-04-25T20:55:14Z", "url": "https://github.com/apache/beam/pull/11524", "merged": true, "mergeCommit": {"oid": "7823cd044be5879c97b4b70b4b62cdc4a98eeb9b"}, "closed": true, "closedAt": "2020-04-28T21:19:22Z", "author": {"login": "lostluck"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcbMdlqgH2gAyNDA4OTY4OTE2OjFiOTk3M2JlNjRjYzg5MmM3NzI0YmI5N2I0NDFkZDEyYmQ0NTg0ZTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccKbLhAH2gAyNDA4OTY4OTE2OjljZGNkMTlkOWY3MTE5NmRlMzU5YzA4Yzk3NzM1ZTUzOWY4NzJmZjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1b9973be64cc892c7724bb97b441dd12bd4584e3", "author": {"user": {"login": "lostluck", "name": "Robert Burke"}}, "url": "https://github.com/apache/beam/commit/1b9973be64cc892c7724bb97b441dd12bd4584e3", "committedDate": "2020-04-25T20:53:13Z", "message": "fixup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b58282499e1bcdd352cd2e98c067adca7f8ed6ae", "author": {"user": {"login": "lostluck", "name": "Robert Burke"}}, "url": "https://github.com/apache/beam/commit/b58282499e1bcdd352cd2e98c067adca7f8ed6ae", "committedDate": "2020-04-25T21:23:00Z", "message": "testing container theory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b85def0aa6a4a85a2a246228dac2856355c33602", "author": {"user": {"login": "lostluck", "name": "Robert Burke"}}, "url": "https://github.com/apache/beam/commit/b85def0aa6a4a85a2a246228dac2856355c33602", "committedDate": "2020-04-25T22:00:33Z", "message": "assume everything is fine"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMTE4MDE2", "url": "https://github.com/apache/beam/pull/11524#pullrequestreview-401118016", "createdAt": "2020-04-27T16:23:50Z", "commit": {"oid": "b85def0aa6a4a85a2a246228dac2856355c33602"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxNjoyMzo1MFrOGMsIRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxNjoyNjo0MlrOGMsQ7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk1OTExMA==", "bodyText": "Shouldn't this be fatal? There isn't a \"default\" worker.", "url": "https://github.com/apache/beam/pull/11524#discussion_r415959110", "createdAt": "2020-04-27T16:23:50Z", "author": {"login": "robertwb"}, "path": "sdks/go/container/boot.go", "diffHunk": "@@ -104,7 +104,7 @@ func main() {\n \n \tswitch len(artifacts) {\n \tcase 0:\n-\t\tlog.Fatal(\"No artifacts staged\")\n+\t\tlog.Printf(\"No artifacts staged. Attempting to run default \\\"worker\\\".\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b85def0aa6a4a85a2a246228dac2856355c33602"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk2MDEyNw==", "bodyText": "Isn't it better to avoid double assignment?", "url": "https://github.com/apache/beam/pull/11524#discussion_r415960127", "createdAt": "2020-04-27T16:25:10Z", "author": {"login": "robertwb"}, "path": "sdks/go/test/run_integration_tests.sh", "diffHunk": "@@ -102,9 +102,8 @@ case $key in\n esac\n done\n \n-if [[ \"$RUNNER\" != \"universal\" ]]; then\n-  PUSH_CONTAINER_TO_GCR='yes'\n-else\n+PUSH_CONTAINER_TO_GCR='yes'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b85def0aa6a4a85a2a246228dac2856355c33602"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk2MDQzMw==", "bodyText": "extra space", "url": "https://github.com/apache/beam/pull/11524#discussion_r415960433", "createdAt": "2020-04-27T16:25:35Z", "author": {"login": "robertwb"}, "path": "sdks/go/test/run_integration_tests.sh", "diffHunk": "@@ -148,7 +147,7 @@ if [[ PUSH_CONTAINER_TO_GCR == 'yes' ]]; then\n \n   # Push the container\n   gcloud docker -- push $CONTAINER\n-else\n+else ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b85def0aa6a4a85a2a246228dac2856355c33602"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk2MTMyNw==", "bodyText": "I used double brackets because that's what was used in the rest of the file. We should be consistent.", "url": "https://github.com/apache/beam/pull/11524#discussion_r415961327", "createdAt": "2020-04-27T16:26:42Z", "author": {"login": "robertwb"}, "path": "sdks/go/test/run_integration_tests.sh", "diffHunk": "@@ -118,7 +117,7 @@ test -d sdks/go/test\n command -v docker\n docker -v\n \n-if [[ PUSH_CONTAINER_TO_GCR == 'yes' ]]; then\n+if [ \"$PUSH_CONTAINER_TO_GCR\" = \"yes\" ]; then", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b85def0aa6a4a85a2a246228dac2856355c33602"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3b3a828fbfed784334b170991a72fa2f3d9b503", "author": {"user": {"login": "lostluck", "name": "Robert Burke"}}, "url": "https://github.com/apache/beam/commit/e3b3a828fbfed784334b170991a72fa2f3d9b503", "committedDate": "2020-04-27T16:39:33Z", "message": "Revert boot.go exploration. There's no default copied data."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMTYzMzUy", "url": "https://github.com/apache/beam/pull/11524#pullrequestreview-401163352", "createdAt": "2020-04-27T17:19:36Z", "commit": {"oid": "e3b3a828fbfed784334b170991a72fa2f3d9b503"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9cdcd19d9f71196de359c08c97735e539f872ff2", "author": {"user": {"login": "lostluck", "name": "Robert Burke"}}, "url": "https://github.com/apache/beam/commit/9cdcd19d9f71196de359c08c97735e539f872ff2", "committedDate": "2020-04-28T21:04:42Z", "message": "!fixup comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3953, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}