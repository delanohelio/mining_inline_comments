{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxNzQ2MDY1", "number": 13075, "title": "[BEAM-9444] Use GCP BOM to set package versions", "bodyText": "Use GCP libraries bom to set versions for GCP related libraries\nUpdated version of #11156\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n Update CHANGES.md with noteworthy changes.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nDataflow\nFlink\nSamza\nSpark\nTwister2\n\n\n\n\nGo\n\n---\n\n---\n\n---\n\n\nJava\n\n\n\n\n\n\n\n\nPython\n\n\n\n---\n\n---\n\n\nXLang\n\n---\n\n---\n\n---\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\nWhitespace\nTypescript\n\n\n\n\nNon-portable\n\n \n\n\n\n\n\n\nPortable\n---\n\n---\n---\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.\nGitHub Actions Tests Status (on master branch)\n\n\n\nSee CI.md for more information about GitHub Actions CI.", "createdAt": "2020-10-12T18:41:42Z", "url": "https://github.com/apache/beam/pull/13075", "merged": true, "mergeCommit": {"oid": "c0c39eb9425b3d3f63db9dcaa367ab26e2c51dda"}, "closed": true, "closedAt": "2020-11-02T20:52:58Z", "author": {"login": "kileys"}, "timelineItems": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWXneagH2gAyNTAxNzQ2MDY1OmI0Nzc0NGU2YzY5ZjU2NDZhMmM5MTAyNjk1MmFmZjY1ZGVjYzIwYjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYq7ucAFqTUyMTk4Mzc2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b47744e6c69f5646a2c91026952aff65decc20b2", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/apache/beam/commit/b47744e6c69f5646a2c91026952aff65decc20b2", "committedDate": "2020-04-10T21:03:21Z", "message": "Applying difference"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46716517db41e54b924eff8f1317c252c40c24e0", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/46716517db41e54b924eff8f1317c252c40c24e0", "committedDate": "2020-10-08T21:22:55Z", "message": "Merge branch 'BEAM-9444-new' of github.com:suztomo/beam into beam-9444-bom"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68deb1e020037b61b7f3cd701cfb3782159ef9ad", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/68deb1e020037b61b7f3cd701cfb3782159ef9ad", "committedDate": "2020-10-08T21:38:07Z", "message": "update new dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13329a02af2d54546bffff5893b2f851ac3b08eb", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/13329a02af2d54546bffff5893b2f851ac3b08eb", "committedDate": "2020-10-08T22:11:42Z", "message": "add bom dependency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db26087457e60a37439b004b79d9a259e2c1cade", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/db26087457e60a37439b004b79d9a259e2c1cade", "committedDate": "2020-10-09T20:48:23Z", "message": "update category attribute"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d3e8148775462c8b117968aad51178c92a2c0e9", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/6d3e8148775462c8b117968aad51178c92a2c0e9", "committedDate": "2020-10-12T17:37:30Z", "message": "Merge branch 'master' of github.com:apache/beam into beam-9444-bom"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d24d2d5e3be098a9f7d01736de74bb5e9981e677", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/d24d2d5e3be098a9f7d01736de74bb5e9981e677", "committedDate": "2020-10-12T19:00:23Z", "message": "Merge branch 'master' of github.com:apache/beam into beam-9444-bom"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b9b51ccfba85d53df17878349af4c36603288d8", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/6b9b51ccfba85d53df17878349af4c36603288d8", "committedDate": "2020-10-12T20:08:11Z", "message": "use bom in maven archetype"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c51c95fed46fc1e54c966499991c696a0fd470dc", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/c51c95fed46fc1e54c966499991c696a0fd470dc", "committedDate": "2020-10-12T20:23:17Z", "message": "remove fixed issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "359e0d6807add8f31db773ce8bc9471aca6258c2", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/359e0d6807add8f31db773ce8bc9471aca6258c2", "committedDate": "2020-10-12T20:49:32Z", "message": "alpha ordering"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e51d3a4fd2d5884a191c045b59608e5407957735", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/e51d3a4fd2d5884a191c045b59608e5407957735", "committedDate": "2020-10-12T21:44:25Z", "message": "plugin cant find license type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4adb3821ba0403c89a8abfd2657c2ae9b6ba0bd", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/f4adb3821ba0403c89a8abfd2657c2ae9b6ba0bd", "committedDate": "2020-10-12T23:01:13Z", "message": "add license"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a7a6c5a4a338a16928dd554f3052894121a4d61", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/8a7a6c5a4a338a16928dd554f3052894121a4d61", "committedDate": "2020-10-13T20:33:06Z", "message": "Merge branch 'master' of github.com:apache/beam into beam-9444-bom"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNjQ4Mzg0", "url": "https://github.com/apache/beam/pull/13075#pullrequestreview-510648384", "createdAt": "2020-10-16T17:01:42Z", "commit": {"oid": "8a7a6c5a4a338a16928dd554f3052894121a4d61"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNzowMTo0MlrOHjIusA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNzowMTo0MlrOHjIusA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYwNTIzMg==", "bodyText": "I didn't expect to use AtomicInteger. Do you really need this?", "url": "https://github.com/apache/beam/pull/13075#discussion_r506605232", "createdAt": "2020-10-16T17:01:42Z", "author": {"login": "suztomo"}, "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy", "diffHunk": "@@ -21,6 +21,8 @@ package org.apache.beam.gradle\n import com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar\n import groovy.json.JsonOutput\n import groovy.json.JsonSlurper\n+import java.util.concurrent.atomic.AtomicInteger", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a7a6c5a4a338a16928dd554f3052894121a4d61"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMTg0MzEw", "url": "https://github.com/apache/beam/pull/13075#pullrequestreview-512184310", "createdAt": "2020-10-19T21:48:51Z", "commit": {"oid": "8a7a6c5a4a338a16928dd554f3052894121a4d61"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMTo0ODo1MlrOHki5yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMTo0OToyMVrOHki6uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA4MjYzNA==", "bodyText": "I don't think this is necessary as well.", "url": "https://github.com/apache/beam/pull/13075#discussion_r508082634", "createdAt": "2020-10-19T21:48:52Z", "author": {"login": "lukecwik"}, "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy", "diffHunk": "@@ -21,6 +21,8 @@ package org.apache.beam.gradle\n import com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar\n import groovy.json.JsonOutput\n import groovy.json.JsonSlurper\n+import java.util.concurrent.atomic.AtomicInteger", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYwNTIzMg=="}, "originalCommit": {"oid": "8a7a6c5a4a338a16928dd554f3052894121a4d61"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA4Mjg3NQ==", "bodyText": "Should we be using enforcedPlatform instead of platform everywhere?\nBefore this change, we get enforcedPlatform like behavior because in BeamModulePlugin.groovy we are explicitly forcing version overrides.\nMigrating to enforcedPlatform would force the remainder of versions within the BOM to be used though which you haven't done as part of this PR (e.g. guava being 29.0-android).\nI don't see any gradle documentation that explains how an enforcedPlatform and a force resolutionStrategy  behave together.", "url": "https://github.com/apache/beam/pull/13075#discussion_r508082875", "createdAt": "2020-10-19T21:49:21Z", "author": {"login": "lukecwik"}, "path": "examples/java/build.gradle", "diffHunk": "@@ -48,6 +48,7 @@ configurations.sparkRunnerPreCommit {\n }\n \n dependencies {\n+  compile platform(library.java.google_cloud_platform_libraries_bom)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a7a6c5a4a338a16928dd554f3052894121a4d61"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a65cdcffb69dd7fffd2d44cc5e4d54a7b8730bf8", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/a65cdcffb69dd7fffd2d44cc5e4d54a7b8730bf8", "committedDate": "2020-10-20T02:45:17Z", "message": "Merge branch 'master' of github.com:apache/beam into beam-9444-bom"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8764e7f879b9076d4b18dfd71e24b41ce0669f3d", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/8764e7f879b9076d4b18dfd71e24b41ce0669f3d", "committedDate": "2020-10-20T20:27:09Z", "message": "use enforce platform"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a881f72b42838c83aed6ff4b34e6313218ca8e5", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/8a881f72b42838c83aed6ff4b34e6313218ca8e5", "committedDate": "2020-10-20T20:27:32Z", "message": "Merge branch 'master' of github.com:apache/beam into beam-9444-bom"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "951184ac8018d78545147a10b7361da2379608d2", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/951184ac8018d78545147a10b7361da2379608d2", "committedDate": "2020-10-21T08:27:47Z", "message": "update bom to 13.0.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98d3ae001aca853344ab410316726048fc8459c7", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/98d3ae001aca853344ab410316726048fc8459c7", "committedDate": "2020-10-26T20:44:09Z", "message": "Merge branch 'master' of github.com:apache/beam into beam-9444-bom"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9cf208316a27c8b8699ef6a5a3c1ae1201b6e1fe", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/9cf208316a27c8b8699ef6a5a3c1ae1201b6e1fe", "committedDate": "2020-10-26T20:47:36Z", "message": "update to 13.2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MTgwNjAy", "url": "https://github.com/apache/beam/pull/13075#pullrequestreview-517180602", "createdAt": "2020-10-26T21:13:53Z", "commit": {"oid": "9cf208316a27c8b8699ef6a5a3c1ae1201b6e1fe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28f633a8548f284163c42752aeecb39d56c97504", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/28f633a8548f284163c42752aeecb39d56c97504", "committedDate": "2020-10-26T23:35:54Z", "message": "update grpc version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4fdb97cc406d9abe8087cd559ccf84ace80a5982", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/4fdb97cc406d9abe8087cd559ccf84ace80a5982", "committedDate": "2020-10-30T21:40:25Z", "message": "Merge branch 'master' of github.com:apache/beam into beam-9444-bom"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db31a4a0de124bee48c5e1485bda21d1a7230fc6", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/db31a4a0de124bee48c5e1485bda21d1a7230fc6", "committedDate": "2020-10-30T21:41:11Z", "message": "fix conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8636fb83f0cf1f9c53206a94f6b7b556b889216e", "author": {"user": {"login": "kileys", "name": null}}, "url": "https://github.com/apache/beam/commit/8636fb83f0cf1f9c53206a94f6b7b556b889216e", "committedDate": "2020-11-02T19:01:11Z", "message": "Merge branch 'master' of github.com:apache/beam into beam-9444-bom"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxOTgzNzY4", "url": "https://github.com/apache/beam/pull/13075#pullrequestreview-521983768", "createdAt": "2020-11-02T20:52:40Z", "commit": {"oid": "8636fb83f0cf1f9c53206a94f6b7b556b889216e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1949, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}