{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwNjAyMDY3", "number": 11340, "title": "[BEAM-9678] Create Go SDK introduction kata", "bodyText": "This pull request closes BEAM-9678 by adding an Introduction Beam Kata for learning the Go SDK.  It patterns after the existing Java and Python Beam Katas.\nI would like to request @lostluck to review this PR.\nCurrently, this PR submits:\nIntroduction\n\nHello Beam\nHello Beam Test\n\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nApex\nDataflow\nFlink\nGearpump\nSamza\nSpark\n\n\n\n\nGo\n\n---\n---\n\n---\n---\n\n\n\nJava\n\n\n\n\n\n\n\n\n\nPython\n\n---\n\n\n---\n---\n\n\n\nXLang\n---\n---\n---\n\n---\n---\n\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-04-08T03:03:51Z", "url": "https://github.com/apache/beam/pull/11340", "merged": true, "mergeCommit": {"oid": "19fe4b5ab75e3b3fc64b60c56f7f8f6871a7d3fe"}, "closed": true, "closedAt": "2020-04-16T18:04:12Z", "author": {"login": "damondouglas"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVer3AgH2gAyNDAwNjAyMDY3OmRiOTk2ZmUxZmY5ZGUwMzA3YzMxMmU4ZTgxZjczNTI2ZTNjMjYzMjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYQlOGAFqTM5NDg3MzExMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "db996fe1ff9de0307c312e8e81f73526e3c26323", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/db996fe1ff9de0307c312e8e81f73526e3c26323", "committedDate": "2020-04-08T02:43:33Z", "message": "[BEAM-9678] Create Go SDK introduction kata"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMjE5NjIz", "url": "https://github.com/apache/beam/pull/11340#pullrequestreview-390219623", "createdAt": "2020-04-08T18:19:38Z", "commit": {"oid": "db996fe1ff9de0307c312e8e81f73526e3c26323"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxODoxOTozOVrOGC7WiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNTo0ODozN1rOGDetuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTcyMjc2MQ==", "bodyText": "It looks like in Introduction, there should be a section-info.yaml, and that lesson-info files goes into each lesson individually.\nSee the Java structure:\nhttps://github.com/apache/beam/tree/db996fe1ff9de0307c312e8e81f73526e3c26323/learning/katas/java/Introduction\nProbably just means adding a new section-info.yaml (renaming this one) and having lesson infos for the sub tasks, and so on. In short, this PR is just missing the \"section\" level.", "url": "https://github.com/apache/beam/pull/11340#discussion_r405722761", "createdAt": "2020-04-08T18:19:39Z", "author": {"login": "lostluck"}, "path": "learning/katas/go/Introduction/lesson-info.yaml", "diffHunk": "@@ -0,0 +1,23 @@\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#  http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+#\n+\n+content:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db996fe1ff9de0307c312e8e81f73526e3c26323"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMwMjEzNg==", "bodyText": "Is this intended to clear/cleanup the OutputFile? Consider a comment to make it's purpose unambiguous.", "url": "https://github.com/apache/beam/pull/11340#discussion_r406302136", "createdAt": "2020-04-09T15:48:37Z", "author": {"login": "lostluck"}, "path": "learning/katas/go/Introduction/task2/test/task_test.go", "diffHunk": "@@ -0,0 +1,44 @@\n+// Licensed to the Apache Software Foundation (ASF) under one or more\n+// contributor license agreements.  See the NOTICE file distributed with\n+// this work for additional information regarding copyright ownership.\n+// The ASF licenses this file to You under the Apache License, Version 2.0\n+// (the \"License\"); you may not use this file except in compliance with\n+// the License.  You may obtain a copy of the License at\n+//\n+//    http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package test\n+\n+import (\n+\t\"io/ioutil\"\n+\t\"task\"\n+\t\"testing\"\n+)\n+\n+func TestTask(t *testing.T) {\n+\terr := task.Task()\n+\tif err != nil {\n+\t\tt.Error(err)\n+\t}\n+\tdata, err := ioutil.ReadFile(task.OutputFile)\n+\tif err != nil {\n+\t\tt.Error(err)\n+\t}\n+\n+\twant := \"Hello Beam\\n\"\n+\tgot := string(data)\n+\tif want != got {\n+\t\tt.Errorf(\"want: %s got: %s\", want, got)\n+\t}\n+\n+\terr = ioutil.WriteFile(task.OutputFile, []byte{}, 0644)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db996fe1ff9de0307c312e8e81f73526e3c26323"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwOTQ4NTE5", "url": "https://github.com/apache/beam/pull/11340#pullrequestreview-390948519", "createdAt": "2020-04-09T16:29:15Z", "commit": {"oid": "db996fe1ff9de0307c312e8e81f73526e3c26323"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNjoyOToxNVrOGDgRFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNjoyOToxNVrOGDgRFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMyNzU3NQ==", "bodyText": "Why have the go.sum's visible?", "url": "https://github.com/apache/beam/pull/11340#discussion_r406327575", "createdAt": "2020-04-09T16:29:15Z", "author": {"login": "lostluck"}, "path": "learning/katas/go/Introduction/task1/task-info.yaml", "diffHunk": "@@ -0,0 +1,39 @@\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#  http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+#\n+\n+type: edu\n+custom_name: Setup\n+files:\n+- name: test/task_test.go\n+  visible: false\n+- name: task.go\n+  visible: true\n+  placeholders:\n+  - offset: 961\n+    length: 26\n+    placeholder_text: 'TODO: create a new pipeline'\n+  - offset: 1012\n+    length: 34\n+    placeholder_text: 'TODO: execute the pipeline'\n+- name: go.mod\n+  visible: false\n+- name: go.sum\n+  visible: true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db996fe1ff9de0307c312e8e81f73526e3c26323"}, "originalPosition": 37}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0c40670066ef0436a2fb0abac64a31ebf172031", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/e0c40670066ef0436a2fb0abac64a31ebf172031", "committedDate": "2020-04-10T03:12:12Z", "message": "Reorganize to match learning/katas/java/Introduction"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6301e9275d6c6941403ffb4d5a0d50f9e6e31c02", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/6301e9275d6c6941403ffb4d5a0d50f9e6e31c02", "committedDate": "2020-04-10T03:16:56Z", "message": "Add comment to clarify clearing output.txt"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNDgyMzk5", "url": "https://github.com/apache/beam/pull/11340#pullrequestreview-391482399", "createdAt": "2020-04-10T14:48:57Z", "commit": {"oid": "6301e9275d6c6941403ffb4d5a0d50f9e6e31c02"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNDo0ODo1OFrOGD8k3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNDo0ODo1OFrOGD8k3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5MTM5MQ==", "bodyText": "FYI there is an optional programming_language_version that I had tried to set with 1.13 and IntelliJ Edu kept throwing an error \"programming language version not found\"", "url": "https://github.com/apache/beam/pull/11340#discussion_r406791391", "createdAt": "2020-04-10T14:48:58Z", "author": {"login": "damondouglas"}, "path": "learning/katas/go/course-info.yaml", "diffHunk": "@@ -0,0 +1,26 @@\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#  http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+#\n+\n+title: Beam Katas - Go\n+language: English\n+summary: \"This course provides a series of katas to get familiar with Apache Beam.\\\n+  \\ \\n\\nApache Beam website \u2013 https://beam.apache.org/\"\n+programming_language: Go", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6301e9275d6c6941403ffb4d5a0d50f9e6e31c02"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNzcxOTUw", "url": "https://github.com/apache/beam/pull/11340#pullrequestreview-391771950", "createdAt": "2020-04-11T14:42:54Z", "commit": {"oid": "6301e9275d6c6941403ffb4d5a0d50f9e6e31c02"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMVQxNDo0Mjo1NFrOGENsCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMVQxNTozMzozMFrOGEOBaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA3MTc1NQ==", "bodyText": "There is no GoLand Edu yet. Need to use GoLand with EduTools plugin.", "url": "https://github.com/apache/beam/pull/11340#discussion_r407071755", "createdAt": "2020-04-11T14:42:54Z", "author": {"login": "henryken"}, "path": "learning/katas/go/README.md", "diffHunk": "@@ -0,0 +1,29 @@\n+<!--\n+    Licensed to the Apache Software Foundation (ASF) under one\n+    or more contributor license agreements.  See the NOTICE file\n+    distributed with this work for additional information\n+    regarding copyright ownership.  The ASF licenses this file\n+    to you under the Apache License, Version 2.0 (the\n+    \"License\"); you may not use this file except in compliance\n+    with the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing,\n+    software distributed under the License is distributed on an\n+    \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, either express or implied.  See the License for the\n+    specific language governing permissions and limitations\n+    under the License.\n+-->\n+\n+### How to Setup\n+Please follow the below steps in order to setup the project properly:\n+* Using Goland Education (or Goland with EduTools plugin), select \"+ New Project\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6301e9275d6c6941403ffb4d5a0d50f9e6e31c02"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA3MjAwMA==", "bodyText": "Typo \"GoLand\"", "url": "https://github.com/apache/beam/pull/11340#discussion_r407072000", "createdAt": "2020-04-11T14:44:53Z", "author": {"login": "henryken"}, "path": "learning/katas/go/README.md", "diffHunk": "@@ -0,0 +1,29 @@\n+<!--\n+    Licensed to the Apache Software Foundation (ASF) under one\n+    or more contributor license agreements.  See the NOTICE file\n+    distributed with this work for additional information\n+    regarding copyright ownership.  The ASF licenses this file\n+    to you under the Apache License, Version 2.0 (the\n+    \"License\"); you may not use this file except in compliance\n+    with the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing,\n+    software distributed under the License is distributed on an\n+    \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, either express or implied.  See the License for the\n+    specific language governing permissions and limitations\n+    under the License.\n+-->\n+\n+### How to Setup\n+Please follow the below steps in order to setup the project properly:\n+* Using Goland Education (or Goland with EduTools plugin), select \"+ New Project\"\n+* Click \"Yes\" to create project from existing sources when prompted\n+* Wait for indexing to finish\n+* Open the \"Project\" tool window, and select the \"Course\" view\n+* Your project is ready\n+\n+For further instructions on how the Goland Education works, you can refer ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6301e9275d6c6941403ffb4d5a0d50f9e6e31c02"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA3MjU0Ng==", "bodyText": "I think we should not require a separate \"Setup\" task.\nHow about merging this \"Setup\" task with the \"Hello Beam\" task and thus we have 3 answer placeholders in the \"Hello Beam\" task, i.e. pipeline setup, beam.Create, and pipeline run?\nI understand the rationale for including the pipeline setup and running as part of the kata.\nMy concern last time for not including the pipeline setup was that it introduces slight difficulty and learning curve for a new student to finish the first kata, i.e. having to do multiple things at once.\nAnd thus, I skip the pipeline setup since it's already revealed as part of the skeleton code.\nIf you think we should include the pipeline setup as part of the kata, then we should adopt it for the Java and Python version as well.", "url": "https://github.com/apache/beam/pull/11340#discussion_r407072546", "createdAt": "2020-04-11T14:50:08Z", "author": {"login": "henryken"}, "path": "learning/katas/go/Introduction/Setup/lesson-info.yaml", "diffHunk": "@@ -0,0 +1,22 @@\n+\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#  http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+#\n+\n+content:\n+  - Setup", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6301e9275d6c6941403ffb4d5a0d50f9e6e31c02"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA3MjgyNQ==", "bodyText": "Instead of having the lessons in the section-info, I prefer to have it all under one lesson.\nProposed structure\nIntroduction (content)\n  - Hello Beam (lesson)\n    - Hello Beam (task)\n    - Hello Beam Test (task)", "url": "https://github.com/apache/beam/pull/11340#discussion_r407072825", "createdAt": "2020-04-11T14:52:51Z", "author": {"login": "henryken"}, "path": "learning/katas/go/Introduction/section-info.yaml", "diffHunk": "@@ -0,0 +1,23 @@\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#  http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+#\n+\n+content:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6301e9275d6c6941403ffb4d5a0d50f9e6e31c02"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA3MzA3Nw==", "bodyText": "It might be due to the early release of the plugin for Go. I think we can skip that setting for now.", "url": "https://github.com/apache/beam/pull/11340#discussion_r407073077", "createdAt": "2020-04-11T14:54:59Z", "author": {"login": "henryken"}, "path": "learning/katas/go/course-info.yaml", "diffHunk": "@@ -0,0 +1,26 @@\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#  http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+#\n+\n+title: Beam Katas - Go\n+language: English\n+summary: \"This course provides a series of katas to get familiar with Apache Beam.\\\n+  \\ \\n\\nApache Beam website \u2013 https://beam.apache.org/\"\n+programming_language: Go", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5MTM5MQ=="}, "originalCommit": {"oid": "6301e9275d6c6941403ffb4d5a0d50f9e6e31c02"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA3MzkxMw==", "bodyText": "I think we can just omit the \"In Development\"", "url": "https://github.com/apache/beam/pull/11340#discussion_r407073913", "createdAt": "2020-04-11T15:02:56Z", "author": {"login": "henryken"}, "path": "learning/katas/README.md", "diffHunk": "@@ -23,4 +23,4 @@ that can help you to learn Apache Beam concepts and programming model hands-on.\n Built based on [JetBrains Educational Products](https://www.jetbrains.com/education/), Beam Katas \n objective is to provide a series of structured hands-on learning experiences for learners \n to understand about Apache Beam and its SDKs by solving exercises with gradually increasing \n-complexity. Beam Katas are available for both Java and Python SDKs.\n+complexity. Beam Katas are available for Java, Python, and Go (In Development) SDKs.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6301e9275d6c6941403ffb4d5a0d50f9e6e31c02"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA3NDE4Mw==", "bodyText": "I don't prefer having to run the test using output file.\nI propose the following solution here and in the task.go (and the equivalent test code in the task_test.go).\nWe can have the LogElements function as part of a utility module.\nThe reason we need the LogElements is so that the learner is able to run the program and observe the output.\nAlso I think it's better to use func main().\nfunc main() {\n\tctx := context.Background()\n\n\tp, s := beam.NewPipelineWithRoot()\n\n\thelloBeam := HelloBeam(s)\n\n\tLogElements(s, ctx, helloBeam)\n\n\tif err := beamx.Run(ctx, p); err != nil {\n\t\tlog.Exitf(ctx, \"Failed to execute job: %v\", err)\n\t}\n}\n\nfunc HelloBeam(s beam.Scope) beam.PCollection {\n\treturn beam.Create(s, \"Hello Beam\")\n}\n\nfunc LogElements(s beam.Scope, ctx context.Context, helloBeam beam.PCollection) beam.PCollection {\n\treturn beam.ParDo(s, func(w string) string {\n\t\tlog.Infof(ctx, \"%s\", w)\n\t\treturn w\n\t}, helloBeam)\n}", "url": "https://github.com/apache/beam/pull/11340#discussion_r407074183", "createdAt": "2020-04-11T15:05:08Z", "author": {"login": "henryken"}, "path": "learning/katas/go/Introduction/Hello Beam/Hello Beam/task.go", "diffHunk": "@@ -0,0 +1,36 @@\n+// Licensed to the Apache Software Foundation (ASF) under one or more\n+// contributor license agreements.  See the NOTICE file distributed with\n+// this work for additional information regarding copyright ownership.\n+// The ASF licenses this file to You under the Apache License, Version 2.0\n+// (the \"License\"); you may not use this file except in compliance with\n+// the License.  You may obtain a copy of the License at\n+//\n+//    http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package task\n+\n+import (\n+\t\"context\"\n+\t\"github.com/apache/beam/sdks/go/pkg/beam\"\n+\t\"github.com/apache/beam/sdks/go/pkg/beam/x/beamx\"\n+)\n+\n+func Task() (err error) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6301e9275d6c6941403ffb4d5a0d50f9e6e31c02"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA3NDI2OA==", "bodyText": "I propose to avoid testing using output file to simplify (refer to task.go review comment).\nfunc TestTask(t *testing.T) {\n\tctx := context.Background()\n\n\tp, s := beam.NewPipelineWithRoot()\n\n\thelloBeam := main.HelloBeam(s)\n\n\tpassert.Equals(s, helloBeam, \"Hello Beam\")\n\n\tif err := beamx.Run(ctx, p); err != nil {\n\t\tlog.Exitf(ctx, \"Failed to execute job: %v\", err)\n\t}\n}", "url": "https://github.com/apache/beam/pull/11340#discussion_r407074268", "createdAt": "2020-04-11T15:06:04Z", "author": {"login": "henryken"}, "path": "learning/katas/go/Introduction/Hello Beam/Hello Beam/test/task_test.go", "diffHunk": "@@ -0,0 +1,46 @@\n+// Licensed to the Apache Software Foundation (ASF) under one or more\n+// contributor license agreements.  See the NOTICE file distributed with\n+// this work for additional information regarding copyright ownership.\n+// The ASF licenses this file to You under the Apache License, Version 2.0\n+// (the \"License\"); you may not use this file except in compliance with\n+// the License.  You may obtain a copy of the License at\n+//\n+//    http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package test\n+\n+import (\n+\t\"io/ioutil\"\n+\t\"task\"\n+\t\"testing\"\n+)\n+\n+func TestTask(t *testing.T) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6301e9275d6c6941403ffb4d5a0d50f9e6e31c02"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA3NjcyNw==", "bodyText": "In Java & Python katas, we only use \"TODO()\".\nI find that the kata description and hint(s) provide good enough instruction.\nDo you think this will be more useful for the learner?", "url": "https://github.com/apache/beam/pull/11340#discussion_r407076727", "createdAt": "2020-04-11T15:29:04Z", "author": {"login": "henryken"}, "path": "learning/katas/go/Introduction/Hello Beam/Hello Beam/task-info.yaml", "diffHunk": "@@ -0,0 +1,37 @@\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#  http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+#\n+\n+type: edu\n+files:\n+- name: test/task_test.go\n+  visible: false\n+- name: test/output.txt\n+  visible: false\n+- name: task.go\n+  visible: true\n+  placeholders:\n+  - offset: 1143\n+    length: 28\n+    placeholder_text: 'TODO: inject your pipeline with \"Hello Beam\".'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6301e9275d6c6941403ffb4d5a0d50f9e6e31c02"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA3NzIyNw==", "bodyText": "Can we inline this in the passert.Equals instead?", "url": "https://github.com/apache/beam/pull/11340#discussion_r407077227", "createdAt": "2020-04-11T15:33:30Z", "author": {"login": "henryken"}, "path": "learning/katas/go/Introduction/Hello Test/Hello Test/test/task_test.go", "diffHunk": "@@ -0,0 +1,37 @@\n+// Licensed to the Apache Software Foundation (ASF) under one or more\n+// contributor license agreements.  See the NOTICE file distributed with\n+// this work for additional information regarding copyright ownership.\n+// The ASF licenses this file to You under the Apache License, Version 2.0\n+// (the \"License\"); you may not use this file except in compliance with\n+// the License.  You may obtain a copy of the License at\n+//\n+//    http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package test\n+\n+import (\n+\t\"github.com/apache/beam/sdks/go/pkg/beam\"\n+\t\"github.com/apache/beam/sdks/go/pkg/beam/testing/passert\"\n+\t\"github.com/apache/beam/sdks/go/pkg/beam/testing/ptest\"\n+\t\"testing\"\n+)\n+\n+func TestBeam(t *testing.T) {\n+\tp, s := beam.NewPipelineWithRoot()\n+\n+\twant := []interface{}{1, 2, 3}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6301e9275d6c6941403ffb4d5a0d50f9e6e31c02"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "088b9dfc0ca4fb3e51ecca88fda8c80d821c41ee", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/088b9dfc0ca4fb3e51ecca88fda8c80d821c41ee", "committedDate": "2020-04-12T05:17:49Z", "message": "Reorganize lessons and remove Setup task"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1d5c2d443ec6630a45e387adb5c0c78f68c77cc", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/b1d5c2d443ec6630a45e387adb5c0c78f68c77cc", "committedDate": "2020-04-12T05:31:03Z", "message": "Use log from Beam package instead of standard"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMDMwOTA1", "url": "https://github.com/apache/beam/pull/11340#pullrequestreview-392030905", "createdAt": "2020-04-13T08:48:24Z", "commit": {"oid": "b1d5c2d443ec6630a45e387adb5c0c78f68c77cc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QwODo0ODoyNFrOGEgsqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QwODo1NDoxNlrOGEg1JQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzM4MzIwOA==", "bodyText": "I might have confused you on this. Apology for that.\nCan we have this in one file with the main() function?\nIf we can't do that due to the function renaming to \"main()\", let's revert back to the previous naming so that we can have it in just one file.", "url": "https://github.com/apache/beam/pull/11340#discussion_r407383208", "createdAt": "2020-04-13T08:48:24Z", "author": {"login": "henryken"}, "path": "learning/katas/go/Introduction/Hello Beam/Hello Beam/pkg/task/task.go", "diffHunk": "@@ -0,0 +1,24 @@\n+// Licensed to the Apache Software Foundation (ASF) under one or more\n+// contributor license agreements.  See the NOTICE file distributed with\n+// this work for additional information regarding copyright ownership.\n+// The ASF licenses this file to You under the Apache License, Version 2.0\n+// (the \"License\"); you may not use this file except in compliance with\n+// the License.  You may obtain a copy of the License at\n+//\n+//    http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package task\n+\n+import (\n+\t\"github.com/apache/beam/sdks/go/pkg/beam\"\n+)\n+\n+func HelloBeam(s beam.Scope) beam.PCollection {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1d5c2d443ec6630a45e387adb5c0c78f68c77cc"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzM4Mzg4NA==", "bodyText": "I think we can remove this line?", "url": "https://github.com/apache/beam/pull/11340#discussion_r407383884", "createdAt": "2020-04-13T08:50:11Z", "author": {"login": "henryken"}, "path": "learning/katas/go/Introduction/Hello Beam/Hello Beam Test/task.md", "diffHunk": "@@ -0,0 +1,43 @@\n+<!--\n+    Licensed to the Apache Software Foundation (ASF) under one\n+    or more contributor license agreements.  See the NOTICE file\n+    distributed with this work for additional information\n+    regarding copyright ownership.  The ASF licenses this file\n+    to you under the Apache License, Version 2.0 (the\n+    \"License\"); you may not use this file except in compliance\n+    with the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing,\n+    software distributed under the License is distributed on an\n+    \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, either express or implied.  See the License for the\n+    specific language governing permissions and limitations\n+    under the License.\n+-->\n+\n+# Testing in Apache Beam\n+\n+Now that you have a simple pipeline up and running, let's talk about testing in Apache Beam using the Golang SDK.\n+\n+Quoting the Apache Beam documentation:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1d5c2d443ec6630a45e387adb5c0c78f68c77cc"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzM4NTM4MQ==", "bodyText": "How about this?\n**Kata:** Develop test case assertion that checks whether the PCollection elements are equal to the given input from task.HelloBeam.", "url": "https://github.com/apache/beam/pull/11340#discussion_r407385381", "createdAt": "2020-04-13T08:54:16Z", "author": {"login": "henryken"}, "path": "learning/katas/go/Introduction/Hello Beam/Hello Beam Test/task.md", "diffHunk": "@@ -0,0 +1,43 @@\n+<!--\n+    Licensed to the Apache Software Foundation (ASF) under one\n+    or more contributor license agreements.  See the NOTICE file\n+    distributed with this work for additional information\n+    regarding copyright ownership.  The ASF licenses this file\n+    to you under the Apache License, Version 2.0 (the\n+    \"License\"); you may not use this file except in compliance\n+    with the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing,\n+    software distributed under the License is distributed on an\n+    \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, either express or implied.  See the License for the\n+    specific language governing permissions and limitations\n+    under the License.\n+-->\n+\n+# Testing in Apache Beam\n+\n+Now that you have a simple pipeline up and running, let's talk about testing in Apache Beam using the Golang SDK.\n+\n+Quoting the Apache Beam documentation:\n+\n+> Testing your pipeline is a particularly important step in developing an effective data processing solution. The indirect nature of the Beam model, in which your user code constructs a pipeline graph to be executed remotely, can make debugging-failed runs a non-trivial task. Often it is faster and simpler to perform local unit testing on your pipeline code than to debug a pipeline\u2019s remote execution.\n+\n+You can read more about testing on the Apache Beam website:\n+https://beam.apache.org/documentation/pipelines/test-your-pipeline/.\n+\n+**Kata:** Your second kata is to develop tests for your pipeline.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1d5c2d443ec6630a45e387adb5c0c78f68c77cc"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2eaaa1af47148d7ade2bf7c1a4b6d9c2905f7b67", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/2eaaa1af47148d7ade2bf7c1a4b6d9c2905f7b67", "committedDate": "2020-04-15T05:12:29Z", "message": "Update task wording"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0Mjk2MDgz", "url": "https://github.com/apache/beam/pull/11340#pullrequestreview-394296083", "createdAt": "2020-04-16T04:49:36Z", "commit": {"oid": "2eaaa1af47148d7ade2bf7c1a4b6d9c2905f7b67"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwNDo0OTozNlrOGGUc3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwNDo0OTozNlrOGGUc3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTI3OTcxMA==", "bodyText": "My IDE suggests that there are some missing indirect modules, i.e. x/lint, x/tools, go/tools.\nAre those required to be committed?\nrequire (\n\tgithub.com/apache/beam v2.19.0+incompatible\n\tgithub.com/golang/protobuf v1.3.5 // indirect\n\tgithub.com/google/go-cmp v0.4.0 // indirect\n\tgolang.org/x/lint v0.0.0-20190313153728-d0100b6bd8b3 // indirect\n\tgolang.org/x/tools v0.0.0-20190524140312-2c0ae7006135 // indirect\n\tgoogle.golang.org/grpc v1.28.1 // indirect\n\thonnef.co/go/tools v0.0.0-20190523083050-ea95bdfd59fc // indirect\n)", "url": "https://github.com/apache/beam/pull/11340#discussion_r409279710", "createdAt": "2020-04-16T04:49:36Z", "author": {"login": "henryken"}, "path": "learning/katas/go/Introduction/Hello Beam/Hello Beam Test/go.mod", "diffHunk": "@@ -0,0 +1,25 @@\n+// Licensed to the Apache Software Foundation (ASF) under one or more\n+// contributor license agreements.  See the NOTICE file distributed with\n+// this work for additional information regarding copyright ownership.\n+// The ASF licenses this file to You under the Apache License, Version 2.0\n+// (the \"License\"); you may not use this file except in compliance with\n+// the License.  You may obtain a copy of the License at\n+//\n+//    http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+module hello_beam_test\n+\n+go 1.13\n+\n+require (", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2eaaa1af47148d7ade2bf7c1a4b6d9c2905f7b67"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddda2d66ee7cc1d241d06a8938507eb430104b75", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/ddda2d66ee7cc1d241d06a8938507eb430104b75", "committedDate": "2020-04-16T05:20:03Z", "message": "Rerun go mod tidy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "daaf3dfa4df0027492848e9face1737552dbb5bd", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/daaf3dfa4df0027492848e9face1737552dbb5bd", "committedDate": "2020-04-16T14:01:17Z", "message": "Upload Go course Introduction to stepik"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0ODczMTEx", "url": "https://github.com/apache/beam/pull/11340#pullrequestreview-394873111", "createdAt": "2020-04-16T17:59:24Z", "commit": {"oid": "daaf3dfa4df0027492848e9face1737552dbb5bd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4508, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}