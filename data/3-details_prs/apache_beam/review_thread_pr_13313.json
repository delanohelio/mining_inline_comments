{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5NTQ2Njg3", "number": 13313, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNzo0MzoyNVrOE4xJEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNzo0NDo0OVrOE4xLCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3OTYwODQ5OnYy", "diffSide": "RIGHT", "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/splittabledofn/RestrictionTracker.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNzo0MzoyNVrOHy4tlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNzo0MzoyNVrOHy4tlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzEyMDAyMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * The API is required to be implemented.\n          \n          \n            \n               * This method is <b>required</b> to be implemented.", "url": "https://github.com/apache/beam/pull/13313#discussion_r523120023", "createdAt": "2020-11-13T17:43:25Z", "author": {"login": "pabloem"}, "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/splittabledofn/RestrictionTracker.java", "diffHunk": "@@ -49,12 +52,20 @@\n    *       call to this method).\n    *   <li>{@link RestrictionTracker#checkDone} MUST succeed.\n    * </ul>\n+   *\n+   * The API is required to be implemented.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d797641ddf36f373fc82723f0935af18f03f37c"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3OTYwOTgxOnYy", "diffSide": "RIGHT", "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/splittabledofn/RestrictionTracker.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNzo0Mzo1MFrOHy4ubw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNzo0Mzo1MFrOHy4ubw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzEyMDIzOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * <p>This API is required to be implemented.\n          \n          \n            \n               * <p> This method is <b>required</b> to be implemented.", "url": "https://github.com/apache/beam/pull/13313#discussion_r523120239", "createdAt": "2020-11-13T17:43:50Z", "author": {"login": "pabloem"}, "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/splittabledofn/RestrictionTracker.java", "diffHunk": "@@ -49,12 +52,20 @@\n    *       call to this method).\n    *   <li>{@link RestrictionTracker#checkDone} MUST succeed.\n    * </ul>\n+   *\n+   * The API is required to be implemented.\n    */\n   public abstract boolean tryClaim(PositionT position);\n \n   /**\n    * Returns a restriction accurately describing the full range of work the current {@link\n    * DoFn.ProcessElement} call will do, including already completed work.\n+   *\n+   * <p>The current restriction returned by method may be updated dynamically due to due to\n+   * concurrent invocation of other methods of the {@link RestrictionTracker}, For example, {@link\n+   * RestrictionTracker#trySplit(double)}.\n+   *\n+   * <p>This API is required to be implemented.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d797641ddf36f373fc82723f0935af18f03f37c"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3OTYxMjcyOnYy", "diffSide": "RIGHT", "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/splittabledofn/RestrictionTracker.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNzo0NDozNVrOHy4wHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNzo0NDozNVrOHy4wHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzEyMDY2OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * <p>This API is required to be implemented in order to make sure no data loss during SDK\n          \n          \n            \n               * <p>This method is <b>required</b> to be implemented in order to prevent data loss during SDK", "url": "https://github.com/apache/beam/pull/13313#discussion_r523120669", "createdAt": "2020-11-13T17:44:35Z", "author": {"login": "pabloem"}, "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/splittabledofn/RestrictionTracker.java", "diffHunk": "@@ -94,10 +108,15 @@\n   public abstract @Nullable SplitResult<RestrictionT> trySplit(double fractionOfRemainder);\n \n   /**\n-   * Called by the runner after {@link DoFn.ProcessElement} returns.\n+   * Checks whether the restriction has been fully processed.\n+   *\n+   * <p>Called by the SDK harness after {@link DoFn.ProcessElement} returns.\n    *\n    * <p>Must throw an exception with an informative error message, if there is still any unclaimed\n    * work remaining in the restriction.\n+   *\n+   * <p>This API is required to be implemented in order to make sure no data loss during SDK", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d797641ddf36f373fc82723f0935af18f03f37c"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3OTYxMzUyOnYy", "diffSide": "RIGHT", "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/splittabledofn/RestrictionTracker.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNzo0NDo0OVrOHy4wmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNzo0NDo0OVrOHy4wmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzEyMDc5Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * <p>The API is required to be implemented.\n          \n          \n            \n               * <p> This method is <b>required</b> to be implemented.", "url": "https://github.com/apache/beam/pull/13313#discussion_r523120792", "createdAt": "2020-11-13T17:44:49Z", "author": {"login": "pabloem"}, "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/splittabledofn/RestrictionTracker.java", "diffHunk": "@@ -116,6 +135,8 @@\n    * <p>It is valid to return {@link IsBounded#BOUNDED} after returning {@link IsBounded#UNBOUNDED}\n    * once the end of a restriction is discovered. It is not valid to return {@link\n    * IsBounded#UNBOUNDED} after returning {@link IsBounded#BOUNDED}.\n+   *\n+   * <p>The API is required to be implemented.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d797641ddf36f373fc82723f0935af18f03f37c"}, "originalPosition": 63}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2765, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}