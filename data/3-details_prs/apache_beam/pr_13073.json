{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxMzgxMTk3", "number": 13073, "title": "[BEAM-11055] Update log4j to version 2.14.1", "bodyText": "R: @aromanenko-dev", "createdAt": "2020-10-12T07:31:02Z", "url": "https://github.com/apache/beam/pull/13073", "merged": true, "mergeCommit": {"oid": "cbc67c848d00eb10c6a572be19f21c766f40c801"}, "closed": true, "closedAt": "2021-04-28T10:09:39Z", "author": {"login": "iemejia"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdRv_v7gFqTUwNjQxNzY4Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABeVgQ5cgFqTY1NjA3ODAzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NDE3Njgy", "url": "https://github.com/apache/beam/pull/13073#pullrequestreview-506417682", "createdAt": "2020-10-12T08:49:07Z", "commit": {"oid": "ea7eeeffbe870d93cd35f682ae0edcec4190c429"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ea7eeeffbe870d93cd35f682ae0edcec4190c429", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/ea7eeeffbe870d93cd35f682ae0edcec4190c429", "committedDate": "2020-10-12T07:29:44Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}, "afterCommit": {"oid": "3f385bddf5ecd04f8b2eb97746ee53843cf6c3cc", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/3f385bddf5ecd04f8b2eb97746ee53843cf6c3cc", "committedDate": "2020-10-12T08:38:20Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3f385bddf5ecd04f8b2eb97746ee53843cf6c3cc", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/3f385bddf5ecd04f8b2eb97746ee53843cf6c3cc", "committedDate": "2020-10-12T08:38:20Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}, "afterCommit": {"oid": "241631090470271e2a75c9e46bf806d265983117", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/241631090470271e2a75c9e46bf806d265983117", "committedDate": "2020-10-13T19:04:01Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3NzQ3MDU4", "url": "https://github.com/apache/beam/pull/13073#pullrequestreview-507747058", "createdAt": "2020-10-13T19:07:40Z", "commit": {"oid": "241631090470271e2a75c9e46bf806d265983117"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxOTowNzo0MFrOHg1cgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxOTowNzo0MFrOHg1cgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDE5MjEzMA==", "bodyText": "This one and the next one are only sorting stuff to make it more easy to find the refs.", "url": "https://github.com/apache/beam/pull/13073#discussion_r504192130", "createdAt": "2020-10-13T19:07:40Z", "author": {"login": "iemejia"}, "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoring_1_26_0.groovy", "diffHunk": "@@ -23,53 +23,54 @@ package org.apache.beam.gradle\n  */\n class GrpcVendoring_1_26_0 {\n \n-  static def guava_version = \"26.0-jre\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "241631090470271e2a75c9e46bf806d265983117"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3NzQ3OTE2", "url": "https://github.com/apache/beam/pull/13073#pullrequestreview-507747916", "createdAt": "2020-10-13T19:08:52Z", "commit": {"oid": "241631090470271e2a75c9e46bf806d265983117"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxOTowODo1MlrOHg1fGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxOTowODo1MlrOHg1fGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDE5Mjc5NQ==", "bodyText": "Notice that vendored grpc dependencies can have different versions so they don't depend on Beam main module file, so versions are defined independently.", "url": "https://github.com/apache/beam/pull/13073#discussion_r504192795", "createdAt": "2020-10-13T19:08:52Z", "author": {"login": "iemejia"}, "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoring_1_26_0.groovy", "diffHunk": "@@ -23,53 +23,54 @@ package org.apache.beam.gradle\n  */\n class GrpcVendoring_1_26_0 {\n \n-  static def guava_version = \"26.0-jre\"\n-  static def protobuf_version = \"3.11.0\"\n+  static def alpn_api_version = \"1.1.2.v20150522\"\n+  static def bouncycastle_version = \"1.54\"\n+  static def compress_lzf_version = \"1.0.3\"\n+  static def conscrypt_version = \"1.3.0\"\n+  static def google_auth_version = \"0.18.0\"\n   static def grpc_version = \"1.26.0\"\n   static def gson_version = \"2.8.6\"\n+  static def guava_version = \"26.0-jre\"\n+  static def jboss_marshalling_version = \"1.4.11.Final\"\n+  static def jboss_modules_version = \"1.1.0.Beta1\"\n+  static def jzlib_version = \"1.1.3\"\n+  static def log4j_version = \"2.13.3\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "241631090470271e2a75c9e46bf806d265983117"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "241631090470271e2a75c9e46bf806d265983117", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/241631090470271e2a75c9e46bf806d265983117", "committedDate": "2020-10-13T19:04:01Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}, "afterCommit": {"oid": "88baac36e66fa162b35a8f1f640fe192aceed435", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/88baac36e66fa162b35a8f1f640fe192aceed435", "committedDate": "2020-10-13T19:11:52Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "88baac36e66fa162b35a8f1f640fe192aceed435", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/88baac36e66fa162b35a8f1f640fe192aceed435", "committedDate": "2020-10-13T19:11:52Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}, "afterCommit": {"oid": "c46bed5c842f1158b433106962fa022f7d721870", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/c46bed5c842f1158b433106962fa022f7d721870", "committedDate": "2020-10-14T08:17:06Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c46bed5c842f1158b433106962fa022f7d721870", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/c46bed5c842f1158b433106962fa022f7d721870", "committedDate": "2020-10-14T08:17:06Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}, "afterCommit": {"oid": "342b7e9ac26c36fc5a8146e9f6c6ee193a123204", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/342b7e9ac26c36fc5a8146e9f6c6ee193a123204", "committedDate": "2020-10-14T13:08:38Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "342b7e9ac26c36fc5a8146e9f6c6ee193a123204", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/342b7e9ac26c36fc5a8146e9f6c6ee193a123204", "committedDate": "2020-10-14T13:08:38Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}, "afterCommit": {"oid": "b62612d7b6a6785dcafed522d2dcf35942b2250e", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/b62612d7b6a6785dcafed522d2dcf35942b2250e", "committedDate": "2020-10-19T09:07:41Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b62612d7b6a6785dcafed522d2dcf35942b2250e", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/b62612d7b6a6785dcafed522d2dcf35942b2250e", "committedDate": "2020-10-19T09:07:41Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}, "afterCommit": {"oid": "d0c620eee5e5f39033237d3ba7d1cfee98a91835", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/d0c620eee5e5f39033237d3ba7d1cfee98a91835", "committedDate": "2020-11-04T15:48:08Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d0c620eee5e5f39033237d3ba7d1cfee98a91835", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/d0c620eee5e5f39033237d3ba7d1cfee98a91835", "committedDate": "2020-11-04T15:48:08Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}, "afterCommit": {"oid": "512c4320f22e8212df2099737e5ddc721d3dae6f", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/512c4320f22e8212df2099737e5ddc721d3dae6f", "committedDate": "2020-11-10T09:22:12Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "512c4320f22e8212df2099737e5ddc721d3dae6f", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/512c4320f22e8212df2099737e5ddc721d3dae6f", "committedDate": "2020-11-10T09:22:12Z", "message": "[BEAM-11055] Update log4j to version 2.13.3"}, "afterCommit": {"oid": "c65b034ea8cb26f724a78ba43f80191485ad2ed8", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/c65b034ea8cb26f724a78ba43f80191485ad2ed8", "committedDate": "2020-11-12T14:35:13Z", "message": "[BEAM-11055] Update log4j to version 2.14.0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c65b034ea8cb26f724a78ba43f80191485ad2ed8", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/c65b034ea8cb26f724a78ba43f80191485ad2ed8", "committedDate": "2020-11-12T14:35:13Z", "message": "[BEAM-11055] Update log4j to version 2.14.0"}, "afterCommit": {"oid": "25df3a2d4a653fb001741dfec682dfe0b0ad1d88", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/25df3a2d4a653fb001741dfec682dfe0b0ad1d88", "committedDate": "2021-04-27T09:41:42Z", "message": "[BEAM-11055] Update log4j to version 2.14.1"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "25df3a2d4a653fb001741dfec682dfe0b0ad1d88", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/25df3a2d4a653fb001741dfec682dfe0b0ad1d88", "committedDate": "2021-04-27T09:41:42Z", "message": "[BEAM-11055] Update log4j to version 2.14.1"}, "afterCommit": {"oid": "195809057c643fb3d6de0b764da42596e7b6ac4c", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/195809057c643fb3d6de0b764da42596e7b6ac4c", "committedDate": "2021-04-27T12:36:33Z", "message": "[BEAM-11055] Update log4j to version 2.14.1"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "195809057c643fb3d6de0b764da42596e7b6ac4c", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/195809057c643fb3d6de0b764da42596e7b6ac4c", "committedDate": "2021-04-27T12:36:33Z", "message": "[BEAM-11055] Update log4j to version 2.14.1"}, "afterCommit": {"oid": "5f829185676cb7765b8df86161aae046feb197e2", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/5f829185676cb7765b8df86161aae046feb197e2", "committedDate": "2021-04-27T16:53:39Z", "message": "[BEAM-11055] Update log4j to version 2.14.1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjQ2MTM4Mjk0", "url": "https://github.com/apache/beam/pull/13073#pullrequestreview-646138294", "createdAt": "2021-04-27T17:04:42Z", "commit": {"oid": "5f829185676cb7765b8df86161aae046feb197e2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0yN1QxNzowNDo0MlrOJQodhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0yN1QxNzowNDo0MlrOJQodhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMTQxOTkwOQ==", "bodyText": "Somehow I had to redefine this here to make it work, bad to have this repeated but it is the only workaround I could find.", "url": "https://github.com/apache/beam/pull/13073#discussion_r621419909", "createdAt": "2021-04-27T17:04:42Z", "author": {"login": "iemejia"}, "path": "sdks/java/io/hcatalog/build.gradle", "diffHunk": "@@ -41,6 +41,17 @@ test {\n   ignoreFailures true\n }\n \n+configurations.testRuntimeClasspath {\n+  resolutionStrategy {\n+    def log4j_version = \"2.4.1\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f829185676cb7765b8df86161aae046feb197e2"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a24eb8f3c65299a3f0dfb1bfa4a055ddc8dda5c", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/8a24eb8f3c65299a3f0dfb1bfa4a055ddc8dda5c", "committedDate": "2021-04-28T07:13:28Z", "message": "[BEAM-11055] Update log4j to version 2.14.1"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5f829185676cb7765b8df86161aae046feb197e2", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/5f829185676cb7765b8df86161aae046feb197e2", "committedDate": "2021-04-27T16:53:39Z", "message": "[BEAM-11055] Update log4j to version 2.14.1"}, "afterCommit": {"oid": "8a24eb8f3c65299a3f0dfb1bfa4a055ddc8dda5c", "author": {"user": {"login": "iemejia", "name": "Isma\u00ebl Mej\u00eda"}}, "url": "https://github.com/apache/beam/commit/8a24eb8f3c65299a3f0dfb1bfa4a055ddc8dda5c", "committedDate": "2021-04-28T07:13:28Z", "message": "[BEAM-11055] Update log4j to version 2.14.1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjQ2ODc1NTk5", "url": "https://github.com/apache/beam/pull/13073#pullrequestreview-646875599", "createdAt": "2021-04-28T10:09:19Z", "commit": {"oid": "8a24eb8f3c65299a3f0dfb1bfa4a055ddc8dda5c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjU2MDc4MDM3", "url": "https://github.com/apache/beam/pull/13073#pullrequestreview-656078037", "createdAt": "2021-05-10T20:56:13Z", "commit": {"oid": "8a24eb8f3c65299a3f0dfb1bfa4a055ddc8dda5c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMFQyMDo1NjoxM1rOJYge8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMFQyMDo1NjoxM1rOJYge8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyOTY3NzgwOA==", "bodyText": "I think this is no longer necessary with the change to library in BeamModulePlugin.groovy. applyJavaNature does this for all dependencies in library: \n  \n    \n      beam/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy\n    \n    \n        Lines 1537 to 1544\n      in\n      3c9807b\n    \n    \n    \n    \n\n        \n          \n           if (config.getName() != \"errorprone\" && !inDependencyUpdates) { \n        \n\n        \n          \n             config.resolutionStrategy { \n        \n\n        \n          \n               // Filtering versionless coordinates that depend on BOM. Beam project needs to set the \n        \n\n        \n          \n               // versions for only handful libraries when building the project (BEAM-9542). \n        \n\n        \n          \n               def librariesWithVersion = project.library.java.values().findAll { it.split(':').size() > 2 } \n        \n\n        \n          \n               force librariesWithVersion \n        \n\n        \n          \n             } \n        \n\n        \n          \n           }", "url": "https://github.com/apache/beam/pull/13073#discussion_r629677808", "createdAt": "2021-05-10T20:56:13Z", "author": {"login": "TheNeuralBit"}, "path": "sdks/java/io/elasticsearch-tests/elasticsearch-tests-5/build.gradle", "diffHunk": "@@ -32,15 +32,14 @@ test {\n   systemProperty \"tests.security.manager\", \"false\"\n }\n \n-def log4j_version = \"2.6.2\"\n def elastic_search_version = \"5.6.3\"\n \n configurations.all {\n   resolutionStrategy {\n     // Make sure the log4j versions for api and core match instead of taking the default\n     // Gradle rule of using the latest.\n-    force \"org.apache.logging.log4j:log4j-api:$log4j_version\"\n-    force \"org.apache.logging.log4j:log4j-core:$log4j_version\"\n+    force library.java.log4j_api\n+    force library.java.log4j_core", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a24eb8f3c65299a3f0dfb1bfa4a055ddc8dda5c"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1943, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}