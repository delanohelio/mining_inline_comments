{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MzQ3MjA2", "number": 10733, "title": "[BEAM-9229] Adding dependency information to Environment proto", "bodyText": "Proto extension for cross-language dependency management. #10621 depends on this PR.\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nApex\nDataflow\nFlink\nGearpump\nSamza\nSpark\n\n\n\n\nGo\n\n---\n---\n\n---\n---\n\n\n\nJava\n\n\n\n\n\n\n\n\n\nPython\n\n---\n\n\n---\n---\n\n\n\nXLang\n---\n---\n---\n\n---\n---\n---\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-01-30T23:59:15Z", "url": "https://github.com/apache/beam/pull/10733", "merged": true, "mergeCommit": {"oid": "76501abb0971be0687925122c387cd3007a1593e"}, "closed": true, "closedAt": "2020-02-21T01:06:04Z", "author": {"login": "ihji"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBfVnAAFqTM1NDEyMDI3OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcF_li-AH2gAyMzY5MzQ3MjA2OmQxMTljZjEzZTMwNDJiNjU5NzdkNzA2YzFjZjFhOTVmZGIyMzllZDI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MTIwMjc5", "url": "https://github.com/apache/beam/pull/10733#pullrequestreview-354120279", "createdAt": "2020-02-05T23:48:19Z", "commit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQyMzo0ODoxOVrOFmLHog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwMDoxMDoxNVrOFmLf_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3MjM4Ng==", "bodyText": "Nit: separate these with a newline, so the definitions cling more tightly to the constants.", "url": "https://github.com/apache/beam/pull/10733#discussion_r375572386", "createdAt": "2020-02-05T23:48:19Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3MjgyMA==", "bodyText": "Or should this be URL (or maybe REMOTE) to allow for ftp, etc? It could be argued we want to restrict to HTTP(S), though I don't know what would be gained by that.", "url": "https://github.com/apache/beam/pull/10733#discussion_r375572820", "createdAt": "2020-02-05T23:49:34Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: raw data bytes.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+    // A URN for artifacts described by HTTP links.\n+    // payload: a string for an artifact HTTP URL\n+    HTTP     = 2 [(beam_urn) = \"beam:artifact:http:v1\"];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3MzEwNg==", "bodyText": "It seems that payload and artifact_id are redundant. Merge them? Should version-range be part of the payload as well? (Or, if it's a top-level attribute, should it be in a standard format (not sure if there is one, but if there is it'd be nice to be able to do generic intersections and merging...)).", "url": "https://github.com/apache/beam/pull/10733#discussion_r375573106", "createdAt": "2020-02-05T23:50:39Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: raw data bytes.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+    // A URN for artifacts described by HTTP links.\n+    // payload: a string for an artifact HTTP URL\n+    HTTP     = 2 [(beam_urn) = \"beam:artifact:http:v1\"];\n+    // A URN for artifacts hosted on PYPI.\n+    // artifact_id: a PYPI project name\n+    // version_range: a PYPI compatible version string\n+    // payload: None\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+    // A URN for artifacts hosted on Maven central.\n+    // artifact_id: [maven group id]:[maven artifact id]\n+    // version_range: a Maven compatible version string\n+    // payload: None\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message ArtifactInformation {\n+  string urn = 1;\n+  bytes payload = 2;\n+  string artifact_id = 3;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3NDUzMg==", "bodyText": "Is this specific to files?", "url": "https://github.com/apache/beam/pull/10733#discussion_r375574532", "createdAt": "2020-02-05T23:55:41Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: raw data bytes.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+    // A URN for artifacts described by HTTP links.\n+    // payload: a string for an artifact HTTP URL\n+    HTTP     = 2 [(beam_urn) = \"beam:artifact:http:v1\"];\n+    // A URN for artifacts hosted on PYPI.\n+    // artifact_id: a PYPI project name\n+    // version_range: a PYPI compatible version string\n+    // payload: None\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+    // A URN for artifacts hosted on Maven central.\n+    // artifact_id: [maven group id]:[maven artifact id]\n+    // version_range: a Maven compatible version string\n+    // payload: None\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;\n+  // A generated staged name (no path).\n+  string staged_name = 2;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3NTAzNw==", "bodyText": "It seems this only makes sense on a shared filesystem. (And could result in confusion otherwise.) Perhaps we should also store a hash (e.g. sha256) so a check of \"sameness\" can be performed?", "url": "https://github.com/apache/beam/pull/10733#discussion_r375575037", "createdAt": "2020-02-05T23:57:26Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: raw data bytes.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+    // A URN for artifacts described by HTTP links.\n+    // payload: a string for an artifact HTTP URL\n+    HTTP     = 2 [(beam_urn) = \"beam:artifact:http:v1\"];\n+    // A URN for artifacts hosted on PYPI.\n+    // artifact_id: a PYPI project name\n+    // version_range: a PYPI compatible version string\n+    // payload: None\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+    // A URN for artifacts hosted on Maven central.\n+    // artifact_id: [maven group id]:[maven artifact id]\n+    // version_range: a Maven compatible version string\n+    // payload: None\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3NTkyMw==", "bodyText": "s/urn/type?", "url": "https://github.com/apache/beam/pull/10733#discussion_r375575923", "createdAt": "2020-02-06T00:00:45Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: raw data bytes.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+    // A URN for artifacts described by HTTP links.\n+    // payload: a string for an artifact HTTP URL\n+    HTTP     = 2 [(beam_urn) = \"beam:artifact:http:v1\"];\n+    // A URN for artifacts hosted on PYPI.\n+    // artifact_id: a PYPI project name\n+    // version_range: a PYPI compatible version string\n+    // payload: None\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+    // A URN for artifacts hosted on Maven central.\n+    // artifact_id: [maven group id]:[maven artifact id]\n+    // version_range: a Maven compatible version string\n+    // payload: None\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message ArtifactInformation {\n+  string urn = 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3NjUyOQ==", "bodyText": "Seems we also need a staging name and/or role field--for embedded, there's not even a file extension to go off of, and even if we have an extension it may not be unambiguous, e.g. for a .tar.gz file, is it something that should be pip installed, or something that should simply be placed in an accessible location as data.", "url": "https://github.com/apache/beam/pull/10733#discussion_r375576529", "createdAt": "2020-02-06T00:02:52Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: raw data bytes.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+    // A URN for artifacts described by HTTP links.\n+    // payload: a string for an artifact HTTP URL\n+    HTTP     = 2 [(beam_urn) = \"beam:artifact:http:v1\"];\n+    // A URN for artifacts hosted on PYPI.\n+    // artifact_id: a PYPI project name\n+    // version_range: a PYPI compatible version string\n+    // payload: None\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+    // A URN for artifacts hosted on Maven central.\n+    // artifact_id: [maven group id]:[maven artifact id]\n+    // version_range: a Maven compatible version string\n+    // payload: None\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message ArtifactInformation {\n+  string urn = 1;\n+  bytes payload = 2;\n+  string artifact_id = 3;\n+  string version_range = 4;\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3ODYyMw==", "bodyText": "I think we'll need the ability to serve up bytes that don't fit into a proto (e.g. huge jar files). Perhaps this could be yet another type, and a streaming protocol added to the extension service that allows one to retrieve the bytes given a token + environment?", "url": "https://github.com/apache/beam/pull/10733#discussion_r375578623", "createdAt": "2020-02-06T00:10:15Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: raw data bytes.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 11}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120", "author": {"user": {"login": "ihji", "name": "Heejong Lee"}}, "url": "https://github.com/apache/beam/commit/a2ed105342113d5be8208637d2b2d4b9a4f3c120", "committedDate": "2020-01-30T23:55:25Z", "message": "[BEAM-9229] Adding dependency information to Environment proto"}, "afterCommit": {"oid": "dee2d8735dfc9ae0ee7af5a7a968f3588b2877ca", "author": {"user": {"login": "ihji", "name": "Heejong Lee"}}, "url": "https://github.com/apache/beam/commit/dee2d8735dfc9ae0ee7af5a7a968f3588b2877ca", "committedDate": "2020-02-10T20:36:38Z", "message": "[BEAM-9229] Adding dependency information to Environment proto"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2OTQ2MDUx", "url": "https://github.com/apache/beam/pull/10733#pullrequestreview-356946051", "createdAt": "2020-02-11T19:48:46Z", "commit": {"oid": "dee2d8735dfc9ae0ee7af5a7a968f3588b2877ca"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxOTo0ODo0NlrOFoWyqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxOTo1NDowMlrOFoW9cA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzg2MDc3OQ==", "bodyText": "One issue here is that the callee may not know if it is on a shared filesystem with the caller (e.g. when calling the expansion service). And when calling two distinct expansion services, one would like to be able to compare between them.\nAlso, perhaps we should not limit ourselves to local paths here, but any path that can be opened with beam filesystems.", "url": "https://github.com/apache/beam/pull/10733#discussion_r377860779", "createdAt": "2020-02-11T19:48:46Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: raw data bytes.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+    // A URN for artifacts described by HTTP links.\n+    // payload: a string for an artifact HTTP URL\n+    HTTP     = 2 [(beam_urn) = \"beam:artifact:http:v1\"];\n+    // A URN for artifacts hosted on PYPI.\n+    // artifact_id: a PYPI project name\n+    // version_range: a PYPI compatible version string\n+    // payload: None\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+    // A URN for artifacts hosted on Maven central.\n+    // artifact_id: [maven group id]:[maven artifact id]\n+    // version_range: a Maven compatible version string\n+    // payload: None\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3NTAzNw=="}, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzg2MjE1NQ==", "bodyText": "But eventually we'll have to give it a name, right? (One could argue that dependencies should be a map(name -> artifact). OTOH, for some perhaps we could leave it blank and one could be inferred (e.g. for urls).", "url": "https://github.com/apache/beam/pull/10733#discussion_r377862155", "createdAt": "2020-02-11T19:51:23Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: raw data bytes.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+    // A URN for artifacts described by HTTP links.\n+    // payload: a string for an artifact HTTP URL\n+    HTTP     = 2 [(beam_urn) = \"beam:artifact:http:v1\"];\n+    // A URN for artifacts hosted on PYPI.\n+    // artifact_id: a PYPI project name\n+    // version_range: a PYPI compatible version string\n+    // payload: None\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+    // A URN for artifacts hosted on Maven central.\n+    // artifact_id: [maven group id]:[maven artifact id]\n+    // version_range: a Maven compatible version string\n+    // payload: None\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;\n+  // A generated staged name (no path).\n+  string staged_name = 2;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3NDUzMg=="}, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzg2Mjg4Mg==", "bodyText": "If we can't come up with a standard format, I think it should be part of the payload. Similarly for artifact_id--they should mean the same thing. (We can always safely dedup on urn+payloads.)", "url": "https://github.com/apache/beam/pull/10733#discussion_r377862882", "createdAt": "2020-02-11T19:52:47Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: raw data bytes.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+    // A URN for artifacts described by HTTP links.\n+    // payload: a string for an artifact HTTP URL\n+    HTTP     = 2 [(beam_urn) = \"beam:artifact:http:v1\"];\n+    // A URN for artifacts hosted on PYPI.\n+    // artifact_id: a PYPI project name\n+    // version_range: a PYPI compatible version string\n+    // payload: None\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+    // A URN for artifacts hosted on Maven central.\n+    // artifact_id: [maven group id]:[maven artifact id]\n+    // version_range: a Maven compatible version string\n+    // payload: None\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message ArtifactInformation {\n+  string urn = 1;\n+  bytes payload = 2;\n+  string artifact_id = 3;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3MzEwNg=="}, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzg2MzUzNg==", "bodyText": "But we'll need it for more than just embedded payload. And the name itself may not be enough to determine the role (do we try to install all .tar.gz files in Python? Or are some just data?)", "url": "https://github.com/apache/beam/pull/10733#discussion_r377863536", "createdAt": "2020-02-11T19:54:02Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: raw data bytes.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+    // A URN for artifacts described by HTTP links.\n+    // payload: a string for an artifact HTTP URL\n+    HTTP     = 2 [(beam_urn) = \"beam:artifact:http:v1\"];\n+    // A URN for artifacts hosted on PYPI.\n+    // artifact_id: a PYPI project name\n+    // version_range: a PYPI compatible version string\n+    // payload: None\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+    // A URN for artifacts hosted on Maven central.\n+    // artifact_id: [maven group id]:[maven artifact id]\n+    // version_range: a Maven compatible version string\n+    // payload: None\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message ArtifactInformation {\n+  string urn = 1;\n+  bytes payload = 2;\n+  string artifact_id = 3;\n+  string version_range = 4;\n+}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3NjUyOQ=="}, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 40}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dee2d8735dfc9ae0ee7af5a7a968f3588b2877ca", "author": {"user": {"login": "ihji", "name": "Heejong Lee"}}, "url": "https://github.com/apache/beam/commit/dee2d8735dfc9ae0ee7af5a7a968f3588b2877ca", "committedDate": "2020-02-10T20:36:38Z", "message": "[BEAM-9229] Adding dependency information to Environment proto"}, "afterCommit": {"oid": "e8c70b6f9e2b385d514fc269120792c12de8fb38", "author": {"user": {"login": "ihji", "name": "Heejong Lee"}}, "url": "https://github.com/apache/beam/commit/e8c70b6f9e2b385d514fc269120792c12de8fb38", "committedDate": "2020-02-13T19:30:55Z", "message": "[BEAM-9229] Adding dependency information to Environment proto"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4NTU1ODU0", "url": "https://github.com/apache/beam/pull/10733#pullrequestreview-358555854", "createdAt": "2020-02-13T21:15:07Z", "commit": {"oid": "e8c70b6f9e2b385d514fc269120792c12de8fb38"}, "state": "COMMENTED", "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMToxNTowN1rOFpjyVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMTo0Nzo0MFrOFpksuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTEyMjI2MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // A URN for Java artifacts hosted on Maven central.\n          \n          \n            \n                // A URN for Java artifacts hosted on a Maven repository.", "url": "https://github.com/apache/beam/pull/10733#discussion_r379122261", "createdAt": "2020-02-13T21:15:07Z", "author": {"login": "lukecwik"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1093,6 +1093,72 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: EmbeddedFilePayload.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+\n+    // A URN for artifacts described by remote URLs.\n+    // payload: a string for an artifact URL e.g. \"https://.../foo.jar\"\n+    REMOTE     = 2 [(beam_urn) = \"beam:artifact:remote:v1\"];\n+\n+    // A URN for Python artifacts hosted on PYPI.\n+    // payload: PypiPayload\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+\n+    // A URN for Java artifacts hosted on Maven central.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8c70b6f9e2b385d514fc269120792c12de8fb38"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTEyNjM4MA==", "bodyText": "Grab the documentation for valid version strings/ranges from:\nhttps://docs.oracle.com/middleware/1212/core/MAVEN/maven_version.htm#MAVEN402", "url": "https://github.com/apache/beam/pull/10733#discussion_r379126380", "createdAt": "2020-02-13T21:23:57Z", "author": {"login": "lukecwik"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1093,6 +1093,72 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: EmbeddedFilePayload.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+\n+    // A URN for artifacts described by remote URLs.\n+    // payload: a string for an artifact URL e.g. \"https://.../foo.jar\"\n+    REMOTE     = 2 [(beam_urn) = \"beam:artifact:remote:v1\"];\n+\n+    // A URN for Python artifacts hosted on PYPI.\n+    // payload: PypiPayload\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+\n+    // A URN for Java artifacts hosted on Maven central.\n+    // payload: MavenPayload\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;\n+\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message EmbeddedFilePayload {\n+  // raw data bytes for an embedded artifact\n+  bytes data = 1;\n+\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message PypiPayload {\n+  // Pypi compatible artifact id e.g. \"apache-beam\"\n+  string pypi_artifact_id = 1;\n+\n+  // Pypi compatible version string.\n+  string pypi_version_range = 2;\n+}\n+\n+message MavenPayload {\n+  // Maven compatible group id e.g. \"org.apache.beam\"\n+  string maven_group_id = 1;\n+\n+  // Maven compatible artifact id e.g. \"beam-sdks-java-core\"\n+  string maven_artifact_id = 2;\n+\n+  // Maven compatible version string.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8c70b6f9e2b385d514fc269120792c12de8fb38"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTEyNjgzOQ==", "bodyText": "Please add a URL field since a person may want to specify a repository other then maven central and state that if the field is unspecified then maven central is assumed.", "url": "https://github.com/apache/beam/pull/10733#discussion_r379126839", "createdAt": "2020-02-13T21:24:54Z", "author": {"login": "lukecwik"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1093,6 +1093,72 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: EmbeddedFilePayload.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+\n+    // A URN for artifacts described by remote URLs.\n+    // payload: a string for an artifact URL e.g. \"https://.../foo.jar\"\n+    REMOTE     = 2 [(beam_urn) = \"beam:artifact:remote:v1\"];\n+\n+    // A URN for Python artifacts hosted on PYPI.\n+    // payload: PypiPayload\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+\n+    // A URN for Java artifacts hosted on Maven central.\n+    // payload: MavenPayload\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;\n+\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message EmbeddedFilePayload {\n+  // raw data bytes for an embedded artifact\n+  bytes data = 1;\n+\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message PypiPayload {\n+  // Pypi compatible artifact id e.g. \"apache-beam\"\n+  string pypi_artifact_id = 1;\n+\n+  // Pypi compatible version string.\n+  string pypi_version_range = 2;\n+}\n+\n+message MavenPayload {\n+  // Maven compatible group id e.g. \"org.apache.beam\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8c70b6f9e2b385d514fc269120792c12de8fb38"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTEzMjQ0OQ==", "bodyText": "Note that group/artifact/version isn't enough to fully specify all types of maven artifacts.\nEither use a single string to specify the artifact\ngroupId:artifactId:version[:packaging[:classifier]]\nwhere packaging and classifier are optional and packaging by default is \"jar\" and classifier is omitted if unspecified.\nOr add classifier and type and rename maven_group_id to group_id, maven_artifact_id to artifact_id and maven_version_range to version.", "url": "https://github.com/apache/beam/pull/10733#discussion_r379132449", "createdAt": "2020-02-13T21:37:24Z", "author": {"login": "lukecwik"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1093,6 +1093,72 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: EmbeddedFilePayload.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+\n+    // A URN for artifacts described by remote URLs.\n+    // payload: a string for an artifact URL e.g. \"https://.../foo.jar\"\n+    REMOTE     = 2 [(beam_urn) = \"beam:artifact:remote:v1\"];\n+\n+    // A URN for Python artifacts hosted on PYPI.\n+    // payload: PypiPayload\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+\n+    // A URN for Java artifacts hosted on Maven central.\n+    // payload: MavenPayload\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;\n+\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message EmbeddedFilePayload {\n+  // raw data bytes for an embedded artifact\n+  bytes data = 1;\n+\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message PypiPayload {\n+  // Pypi compatible artifact id e.g. \"apache-beam\"\n+  string pypi_artifact_id = 1;\n+\n+  // Pypi compatible version string.\n+  string pypi_version_range = 2;\n+}\n+\n+message MavenPayload {\n+  // Maven compatible group id e.g. \"org.apache.beam\"\n+  string maven_group_id = 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8c70b6f9e2b385d514fc269120792c12de8fb38"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTEzMzYyNA==", "bodyText": "nit: Pypi -> PyPI?", "url": "https://github.com/apache/beam/pull/10733#discussion_r379133624", "createdAt": "2020-02-13T21:40:00Z", "author": {"login": "lukecwik"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1093,6 +1093,72 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: EmbeddedFilePayload.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+\n+    // A URN for artifacts described by remote URLs.\n+    // payload: a string for an artifact URL e.g. \"https://.../foo.jar\"\n+    REMOTE     = 2 [(beam_urn) = \"beam:artifact:remote:v1\"];\n+\n+    // A URN for Python artifacts hosted on PYPI.\n+    // payload: PypiPayload\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+\n+    // A URN for Java artifacts hosted on Maven central.\n+    // payload: MavenPayload\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;\n+\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message EmbeddedFilePayload {\n+  // raw data bytes for an embedded artifact\n+  bytes data = 1;\n+\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message PypiPayload {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8c70b6f9e2b385d514fc269120792c12de8fb38"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTEzMzc3NA==", "bodyText": "staged_name -> name", "url": "https://github.com/apache/beam/pull/10733#discussion_r379133774", "createdAt": "2020-02-13T21:40:19Z", "author": {"login": "lukecwik"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1093,6 +1093,72 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: EmbeddedFilePayload.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+\n+    // A URN for artifacts described by remote URLs.\n+    // payload: a string for an artifact URL e.g. \"https://.../foo.jar\"\n+    REMOTE     = 2 [(beam_urn) = \"beam:artifact:remote:v1\"];\n+\n+    // A URN for Python artifacts hosted on PYPI.\n+    // payload: PypiPayload\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+\n+    // A URN for Java artifacts hosted on Maven central.\n+    // payload: MavenPayload\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;\n+\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message EmbeddedFilePayload {\n+  // raw data bytes for an embedded artifact\n+  bytes data = 1;\n+\n+  // A generated staged name (no path).\n+  string staged_name = 2;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8c70b6f9e2b385d514fc269120792c12de8fb38"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTEzNDI1MA==", "bodyText": "Should this be an actual path where the user says where in the container this file should live?", "url": "https://github.com/apache/beam/pull/10733#discussion_r379134250", "createdAt": "2020-02-13T21:41:17Z", "author": {"login": "lukecwik"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1093,6 +1093,72 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: EmbeddedFilePayload.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+\n+    // A URN for artifacts described by remote URLs.\n+    // payload: a string for an artifact URL e.g. \"https://.../foo.jar\"\n+    REMOTE     = 2 [(beam_urn) = \"beam:artifact:remote:v1\"];\n+\n+    // A URN for Python artifacts hosted on PYPI.\n+    // payload: PypiPayload\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+\n+    // A URN for Java artifacts hosted on Maven central.\n+    // payload: MavenPayload\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;\n+\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message EmbeddedFilePayload {\n+  // raw data bytes for an embedded artifact\n+  bytes data = 1;\n+\n+  // A generated staged name (no path).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8c70b6f9e2b385d514fc269120792c12de8fb38"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTEzNjgzOQ==", "bodyText": "How about just path and we drop staged_name?\nOR rename ArtifactFilePayload to ArtifactUrlPayload and then users can reference local and remote artifacts?\nUsing a url field which would always have the scheme specified (e.g. local file paths would always have file:// prefix instead of the assumed conversion from /foo/bar to file:///foo/bar", "url": "https://github.com/apache/beam/pull/10733#discussion_r379136839", "createdAt": "2020-02-13T21:46:55Z", "author": {"login": "lukecwik"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: raw data bytes.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+    // A URN for artifacts described by HTTP links.\n+    // payload: a string for an artifact HTTP URL\n+    HTTP     = 2 [(beam_urn) = \"beam:artifact:http:v1\"];\n+    // A URN for artifacts hosted on PYPI.\n+    // artifact_id: a PYPI project name\n+    // version_range: a PYPI compatible version string\n+    // payload: None\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+    // A URN for artifacts hosted on Maven central.\n+    // artifact_id: [maven group id]:[maven artifact id]\n+    // version_range: a Maven compatible version string\n+    // payload: None\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3NTAzNw=="}, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTEzNzIwOA==", "bodyText": "Not needed it we adopt ArtifactUrlPayload", "url": "https://github.com/apache/beam/pull/10733#discussion_r379137208", "createdAt": "2020-02-13T21:47:40Z", "author": {"login": "lukecwik"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1093,6 +1093,72 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: EmbeddedFilePayload.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+\n+    // A URN for artifacts described by remote URLs.\n+    // payload: a string for an artifact URL e.g. \"https://.../foo.jar\"\n+    REMOTE     = 2 [(beam_urn) = \"beam:artifact:remote:v1\"];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8c70b6f9e2b385d514fc269120792c12de8fb38"}, "originalPosition": 16}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e8c70b6f9e2b385d514fc269120792c12de8fb38", "author": {"user": {"login": "ihji", "name": "Heejong Lee"}}, "url": "https://github.com/apache/beam/commit/e8c70b6f9e2b385d514fc269120792c12de8fb38", "committedDate": "2020-02-13T19:30:55Z", "message": "[BEAM-9229] Adding dependency information to Environment proto"}, "afterCommit": {"oid": "9c5e4b11f2d0fb6a900d36b11ace4db2f2e730b9", "author": {"user": {"login": "ihji", "name": "Heejong Lee"}}, "url": "https://github.com/apache/beam/commit/9c5e4b11f2d0fb6a900d36b11ace4db2f2e730b9", "committedDate": "2020-02-14T02:19:15Z", "message": "[BEAM-9229] Adding dependency information to Environment proto"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MTI3NjMz", "url": "https://github.com/apache/beam/pull/10733#pullrequestreview-359127633", "createdAt": "2020-02-14T18:14:50Z", "commit": {"oid": "9c5e4b11f2d0fb6a900d36b11ace4db2f2e730b9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxODoxNDo1MFrOFp_Wug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxODoxNDo1MFrOFp_Wug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTU3Mzk0Ng==", "bodyText": "nit: artifact_specifier -> artifact", "url": "https://github.com/apache/beam/pull/10733#discussion_r379573946", "createdAt": "2020-02-14T18:14:50Z", "author": {"login": "lukecwik"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1093,6 +1093,66 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts described by URLs.\n+    // payload: ArtifactUrlPayload\n+    URL      = 0 [(beam_urn) = \"beam:artifact:url:v1\"];\n+\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: EmbeddedFilePayload.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+\n+    // A URN for Python artifacts hosted on PYPI.\n+    // payload: PypiPayload\n+    PYPI     = 2 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+\n+    // A URN for Java artifacts hosted on a Maven repository.\n+    // payload: MavenPayload\n+    MAVEN    = 3 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactUrlPayload {\n+  // a string for an artifact URL e.g. \"https://.../foo.jar\" or \"file:///tmp/foo.jar\"\n+  string path = 1;\n+}\n+\n+message EmbeddedFilePayload {\n+  // raw data bytes for an embedded artifact\n+  bytes data = 1;\n+\n+  // A name of the embedded file.\n+  string name = 2;\n+}\n+\n+message PyPIPayload {\n+  // Pypi compatible artifact id e.g. \"apache-beam\"\n+  string artifact_id = 1;\n+\n+  // Pypi compatible version string.\n+  string version = 2;\n+}\n+\n+message MavenPayload {\n+  // A string specifying Maven artifact.\n+  // The standard format is \"groupId:artifactId:version[:packaging[:classifier]]\"\n+  string artifact_specifier = 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c5e4b11f2d0fb6a900d36b11ace4db2f2e730b9"}, "originalPosition": 48}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MTk1NTgz", "url": "https://github.com/apache/beam/pull/10733#pullrequestreview-359195583", "createdAt": "2020-02-14T20:17:56Z", "commit": {"oid": "9c5e4b11f2d0fb6a900d36b11ace4db2f2e730b9"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDoxNzo1NlrOFqCifg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMDoyNjozNVrOFqCvug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYyNjExMA==", "bodyText": "Is this powerful enough to designate version ranges?", "url": "https://github.com/apache/beam/pull/10733#discussion_r379626110", "createdAt": "2020-02-14T20:17:56Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1093,6 +1093,66 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts described by URLs.\n+    // payload: ArtifactUrlPayload\n+    URL      = 0 [(beam_urn) = \"beam:artifact:url:v1\"];\n+\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: EmbeddedFilePayload.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+\n+    // A URN for Python artifacts hosted on PYPI.\n+    // payload: PypiPayload\n+    PYPI     = 2 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+\n+    // A URN for Java artifacts hosted on a Maven repository.\n+    // payload: MavenPayload\n+    MAVEN    = 3 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactUrlPayload {\n+  // a string for an artifact URL e.g. \"https://.../foo.jar\" or \"file:///tmp/foo.jar\"\n+  string path = 1;\n+}\n+\n+message EmbeddedFilePayload {\n+  // raw data bytes for an embedded artifact\n+  bytes data = 1;\n+\n+  // A name of the embedded file.\n+  string name = 2;\n+}\n+\n+message PyPIPayload {\n+  // Pypi compatible artifact id e.g. \"apache-beam\"\n+  string artifact_id = 1;\n+\n+  // Pypi compatible version string.\n+  string version = 2;\n+}\n+\n+message MavenPayload {\n+  // A string specifying Maven artifact.\n+  // The standard format is \"groupId:artifactId:version[:packaging[:classifier]]\"\n+  string artifact_specifier = 1;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTU3Mzk0Ng=="}, "originalCommit": {"oid": "9c5e4b11f2d0fb6a900d36b11ace4db2f2e730b9"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYyODAzMA==", "bodyText": "Yes. The .tar.gz is one such example. Another example is that we treat the a manually-specified dev version of apache_beam in a special way (currently it must be named python_dataflow_sdk.tar); it would be better to not have such magic names.\nSDKs can choose to leave it blank, but I'd rather this be explicit than implicit in the name.", "url": "https://github.com/apache/beam/pull/10733#discussion_r379628030", "createdAt": "2020-02-14T20:22:47Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: raw data bytes.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+    // A URN for artifacts described by HTTP links.\n+    // payload: a string for an artifact HTTP URL\n+    HTTP     = 2 [(beam_urn) = \"beam:artifact:http:v1\"];\n+    // A URN for artifacts hosted on PYPI.\n+    // artifact_id: a PYPI project name\n+    // version_range: a PYPI compatible version string\n+    // payload: None\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+    // A URN for artifacts hosted on Maven central.\n+    // artifact_id: [maven group id]:[maven artifact id]\n+    // version_range: a Maven compatible version string\n+    // payload: None\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // A path to an artifact file on a local system.\n+  string local_path = 1;\n+  // A generated staged name (no path).\n+  string staged_name = 2;\n+}\n+\n+message ArtifactInformation {\n+  string urn = 1;\n+  bytes payload = 2;\n+  string artifact_id = 3;\n+  string version_range = 4;\n+}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3NjUyOQ=="}, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYyOTIzNw==", "bodyText": "This is not redundant with the top-level staged_name.", "url": "https://github.com/apache/beam/pull/10733#discussion_r379629237", "createdAt": "2020-02-14T20:25:52Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1093,6 +1093,66 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts described by URLs.\n+    // payload: ArtifactUrlPayload\n+    URL      = 0 [(beam_urn) = \"beam:artifact:url:v1\"];\n+\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: EmbeddedFilePayload.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+\n+    // A URN for Python artifacts hosted on PYPI.\n+    // payload: PypiPayload\n+    PYPI     = 2 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+\n+    // A URN for Java artifacts hosted on a Maven repository.\n+    // payload: MavenPayload\n+    MAVEN    = 3 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactUrlPayload {\n+  // a string for an artifact URL e.g. \"https://.../foo.jar\" or \"file:///tmp/foo.jar\"\n+  string path = 1;\n+}\n+\n+message EmbeddedFilePayload {\n+  // raw data bytes for an embedded artifact\n+  bytes data = 1;\n+\n+  // A name of the embedded file.\n+  string name = 2;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c5e4b11f2d0fb6a900d36b11ace4db2f2e730b9"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYyOTQ5OA==", "bodyText": "We don't have to do that in this PR.", "url": "https://github.com/apache/beam/pull/10733#discussion_r379629498", "createdAt": "2020-02-14T20:26:35Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1087,6 +1087,44 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts stored in a local directory.\n+    // payload: ArtifactFilePayload.\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:file:v1\"];\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: raw data bytes.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU3ODYyMw=="}, "originalCommit": {"oid": "a2ed105342113d5be8208637d2b2d4b9a4f3c120"}, "originalPosition": 11}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e087a421fb616962181aa8843ecdf2f8b15b6983", "author": {"user": {"login": "ihji", "name": "Heejong Lee"}}, "url": "https://github.com/apache/beam/commit/e087a421fb616962181aa8843ecdf2f8b15b6983", "committedDate": "2020-02-19T22:50:30Z", "message": "update from feedback"}, "afterCommit": {"oid": "31e4381a439944ad153a6e9f66406c9d97091e3f", "author": {"user": {"login": "ihji", "name": "Heejong Lee"}}, "url": "https://github.com/apache/beam/commit/31e4381a439944ad153a6e9f66406c9d97091e3f", "committedDate": "2020-02-19T22:53:54Z", "message": "[BEAM-9229] Adding dependency information to Environment proto"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3cf3354b7cacfe739677a020c26751e912392db", "author": {"user": {"login": "ihji", "name": "Heejong Lee"}}, "url": "https://github.com/apache/beam/commit/f3cf3354b7cacfe739677a020c26751e912392db", "committedDate": "2020-02-19T22:55:08Z", "message": "[BEAM-9229] Adding dependency information to Environment proto"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "31e4381a439944ad153a6e9f66406c9d97091e3f", "author": {"user": {"login": "ihji", "name": "Heejong Lee"}}, "url": "https://github.com/apache/beam/commit/31e4381a439944ad153a6e9f66406c9d97091e3f", "committedDate": "2020-02-19T22:53:54Z", "message": "[BEAM-9229] Adding dependency information to Environment proto"}, "afterCommit": {"oid": "f3cf3354b7cacfe739677a020c26751e912392db", "author": {"user": {"login": "ihji", "name": "Heejong Lee"}}, "url": "https://github.com/apache/beam/commit/f3cf3354b7cacfe739677a020c26751e912392db", "committedDate": "2020-02-19T22:55:08Z", "message": "[BEAM-9229] Adding dependency information to Environment proto"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNTA5NDgz", "url": "https://github.com/apache/beam/pull/10733#pullrequestreview-361509483", "createdAt": "2020-02-19T23:16:45Z", "commit": {"oid": "f3cf3354b7cacfe739677a020c26751e912392db"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMzoxNjo0NVrOFr7Mvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMzo1MTo1NFrOFr75Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTYwMzAwNw==", "bodyText": "Yes. We can still delete it now due to the role.", "url": "https://github.com/apache/beam/pull/10733#discussion_r381603007", "createdAt": "2020-02-19T23:16:45Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1093,6 +1093,66 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for artifacts described by URLs.\n+    // payload: ArtifactUrlPayload\n+    URL      = 0 [(beam_urn) = \"beam:artifact:url:v1\"];\n+\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: EmbeddedFilePayload.\n+    EMBEDDED = 1 [(beam_urn) = \"beam:artifact:embedded:v1\"];\n+\n+    // A URN for Python artifacts hosted on PYPI.\n+    // payload: PypiPayload\n+    PYPI     = 2 [(beam_urn) = \"beam:artifact:pypi:v1\"];\n+\n+    // A URN for Java artifacts hosted on a Maven repository.\n+    // payload: MavenPayload\n+    MAVEN    = 3 [(beam_urn) = \"beam:artifact:maven:v1\"];\n+  }\n+}\n+\n+message ArtifactUrlPayload {\n+  // a string for an artifact URL e.g. \"https://.../foo.jar\" or \"file:///tmp/foo.jar\"\n+  string path = 1;\n+}\n+\n+message EmbeddedFilePayload {\n+  // raw data bytes for an embedded artifact\n+  bytes data = 1;\n+\n+  // A name of the embedded file.\n+  string name = 2;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYyOTIzNw=="}, "originalCommit": {"oid": "9c5e4b11f2d0fb6a900d36b11ace4db2f2e730b9"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTYxNDQzNQ==", "bodyText": "We could consider just letting the payload be the raw bytes (and similarly for other one-field payloads).", "url": "https://github.com/apache/beam/pull/10733#discussion_r381614435", "createdAt": "2020-02-19T23:51:54Z", "author": {"login": "robertwb"}, "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -1158,6 +1158,90 @@ message SideInput {\n   FunctionSpec window_mapping_fn = 3;\n }\n \n+message StandardArtifacts {\n+  enum Types {\n+    // A URN for locally-accessible artifact files.\n+    // payload: ArtifactFilePayload\n+    FILE     = 0 [(beam_urn) = \"beam:artifact:type:file:v1\"];\n+\n+    // A URN for artifacts described by URLs.\n+    // payload: ArtifactUrlPayload\n+    URL      = 1 [(beam_urn) = \"beam:artifact:type:url:v1\"];\n+\n+    // A URN for artifacts embedded in ArtifactInformation proto.\n+    // payload: EmbeddedFilePayload.\n+    EMBEDDED = 2 [(beam_urn) = \"beam:artifact:type:embedded:v1\"];\n+\n+    // A URN for Python artifacts hosted on PYPI.\n+    // payload: PypiPayload\n+    PYPI     = 3 [(beam_urn) = \"beam:artifact:type:pypi:v1\"];\n+\n+    // A URN for Java artifacts hosted on a Maven repository.\n+    // payload: MavenPayload\n+    MAVEN    = 4 [(beam_urn) = \"beam:artifact:type:maven:v1\"];\n+  }\n+  enum Roles {\n+    // A URN for staging-to role.\n+    // payload: ArtifactStagingToRolePayload\n+    STAGING_TO  = 0 [(beam_urn) = \"beam:artifact:role:staging_to:v1\"];\n+  }\n+}\n+\n+message ArtifactFilePayload {\n+  // a string for an artifact path e.g. \"/tmp/foo.jar\"\n+  string path = 1;\n+\n+  // The hex-encoded sha256 checksum of the artifact.\n+  string sha256 = 2;\n+}\n+\n+message ArtifactUrlPayload {\n+  // a string for an artifact URL e.g. \"https://.../foo.jar\" or \"gs://tmp/foo.jar\"\n+  string path = 1;\n+}\n+\n+message EmbeddedFilePayload {\n+  // raw data bytes for an embedded artifact\n+  bytes data = 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3cf3354b7cacfe739677a020c26751e912392db"}, "originalPosition": 48}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d119cf13e3042b65977d706c1cf1a95fdb239ed2", "author": {"user": {"login": "ihji", "name": "Heejong Lee"}}, "url": "https://github.com/apache/beam/commit/d119cf13e3042b65977d706c1cf1a95fdb239ed2", "committedDate": "2020-02-20T00:00:44Z", "message": "remove name from EmbeddedFilePayload"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3306, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}