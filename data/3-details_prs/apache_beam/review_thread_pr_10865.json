{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1MzcwMTUx", "number": 10865, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxNDozNTozNlrODf6LzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxNDozNTozNlrODf6LzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0Nzg1NzQxOnYy", "diffSide": "RIGHT", "path": "sdks/java/build-tools/beam-linkage-check.sh", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxNDozNTozNlrOFp4itA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxNjo1NjowMlrOFp9QVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTQ2MjMyNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            MASTER_COMMIT=`git rev-parse --short=8 master`\n          \n          \n            \n            MASTER_COMMIT=`git rev-parse --short=8 origin/master`\n          \n      \n    \n    \n  \n\nlocal master and remote master branch are different until \u201cgit pull\u201d", "url": "https://github.com/apache/beam/pull/10865#discussion_r379462324", "createdAt": "2020-02-14T14:35:36Z", "author": {"login": "suztomo"}, "path": "sdks/java/build-tools/beam-linkage-check.sh", "diffHunk": "@@ -84,9 +84,9 @@ function runLinkageCheck () {\n BRANCH_COMMIT=`git rev-parse --short=8 HEAD`\n runLinkageCheck $BRANCH_COMMIT\n \n-git checkout master\n-git pull\n-MASTER_COMMIT=`git rev-parse --short=8 HEAD`\n+git fetch\n+MASTER_COMMIT=`git rev-parse --short=8 master`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30e641004e240257c9a4dcadc212532482508ed7"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTQ2NDEyMg==", "bodyText": "Does line 71 local BRANCH_NAME=$(git symbolic-ref --short HEAD)  work?", "url": "https://github.com/apache/beam/pull/10865#discussion_r379464122", "createdAt": "2020-02-14T14:38:52Z", "author": {"login": "suztomo"}, "path": "sdks/java/build-tools/beam-linkage-check.sh", "diffHunk": "@@ -84,9 +84,9 @@ function runLinkageCheck () {\n BRANCH_COMMIT=`git rev-parse --short=8 HEAD`\n runLinkageCheck $BRANCH_COMMIT\n \n-git checkout master\n-git pull\n-MASTER_COMMIT=`git rev-parse --short=8 HEAD`\n+git fetch\n+MASTER_COMMIT=`git rev-parse --short=8 master`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTQ2MjMyNA=="}, "originalCommit": {"oid": "30e641004e240257c9a4dcadc212532482508ed7"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTUyODAwMg==", "bodyText": "Line 71 would fail:\nsuztomo@suxtomo24:~/cloud-opensource-java$ MASTER_COMMIT=`git rev-parse --short=8 origin/master`\nsuztomo@suxtomo24:~/cloud-opensource-java$ git -c advice.detachedHead=false checkout $MASTER_COMMIT\nHEAD is now at eebf0ce4 update http client (#1220)\nsuztomo@suxtomo24:~/cloud-opensource-java$ git symbolic-ref --short HEAD\nfatal: ref HEAD is not a symbolic ref\nsuztomo@suxtomo24:~/cloud-opensource-java$ echo $?\n128", "url": "https://github.com/apache/beam/pull/10865#discussion_r379528002", "createdAt": "2020-02-14T16:34:02Z", "author": {"login": "suztomo"}, "path": "sdks/java/build-tools/beam-linkage-check.sh", "diffHunk": "@@ -84,9 +84,9 @@ function runLinkageCheck () {\n BRANCH_COMMIT=`git rev-parse --short=8 HEAD`\n runLinkageCheck $BRANCH_COMMIT\n \n-git checkout master\n-git pull\n-MASTER_COMMIT=`git rev-parse --short=8 HEAD`\n+git fetch\n+MASTER_COMMIT=`git rev-parse --short=8 master`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTQ2MjMyNA=="}, "originalCommit": {"oid": "30e641004e240257c9a4dcadc212532482508ed7"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTUzOTU0MA==", "bodyText": "oh yes sorry shame on me, let me take a look, fix it and test it (never consider anything so obvious to not test it sorry).", "url": "https://github.com/apache/beam/pull/10865#discussion_r379539540", "createdAt": "2020-02-14T16:56:02Z", "author": {"login": "iemejia"}, "path": "sdks/java/build-tools/beam-linkage-check.sh", "diffHunk": "@@ -84,9 +84,9 @@ function runLinkageCheck () {\n BRANCH_COMMIT=`git rev-parse --short=8 HEAD`\n runLinkageCheck $BRANCH_COMMIT\n \n-git checkout master\n-git pull\n-MASTER_COMMIT=`git rev-parse --short=8 HEAD`\n+git fetch\n+MASTER_COMMIT=`git rev-parse --short=8 master`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTQ2MjMyNA=="}, "originalCommit": {"oid": "30e641004e240257c9a4dcadc212532482508ed7"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2022, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}