{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwMDg3MjIw", "number": 11554, "title": "[BEAM-9876] Migrate the Beam website from Jekyll to Hugo to enable localization of the site content", "bodyText": "Dear friends,\nOur tasks are listed in general as below:\n\nMigrated Apache Beam website from Jekyll to Hugo.\nConfigured multilingual support.\nDeveloped testing with link-checker.\nUpdated documentation.\n\nFor more details, please refer to README.md and CONTRIBUTE.md inside website dir. :)\nBest regards!\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n Update CHANGES.md with noteworthy changes.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nApex\nDataflow\nFlink\nGearpump\nSamza\nSpark\n\n\n\n\nGo\n\n---\n---\n\n---\n---\n\n\n\nJava\n\n\n\n\n\n\n\n\n\nPython\n\n---\n\n\n---\n---\n\n\n\nXLang\n---\n---\n---\n\n---\n---\n\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-04-28T12:31:29Z", "url": "https://github.com/apache/beam/pull/11554", "merged": true, "mergeCommit": {"oid": "1d2700818474c008eaa324ac1b5c49c9d2857298"}, "closed": true, "closedAt": "2020-05-14T22:39:55Z", "author": {"login": "bntnam"}, "timelineItems": {"totalCount": 42, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccx9LcABqjMyOTA5NDMyNTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchRGBmgFqTQxMjA0MDQ4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a512765627b3977c8f53a432feb2b34d13542683", "author": {"user": {"login": "kgabryje", "name": "Kamil Gabryjelski"}}, "url": "https://github.com/apache/beam/commit/a512765627b3977c8f53a432feb2b34d13542683", "committedDate": "2020-04-30T09:19:33Z", "message": "Add canonifyURLs to config (#44)"}, "afterCommit": {"oid": "9a45fb4943ca61a3b9aac4e9e2d61db4b683ed12", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/9a45fb4943ca61a3b9aac4e9e2d61db4b683ed12", "committedDate": "2020-04-30T19:07:46Z", "message": "Added Works With logos"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9a45fb4943ca61a3b9aac4e9e2d61db4b683ed12", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/9a45fb4943ca61a3b9aac4e9e2d61db4b683ed12", "committedDate": "2020-04-30T19:07:46Z", "message": "Added Works With logos"}, "afterCommit": {"oid": "222b12c05596803d71a463a007b6e1177d6c60ff", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/222b12c05596803d71a463a007b6e1177d6c60ff", "committedDate": "2020-04-30T19:27:35Z", "message": "Added Works With logos"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MjM4MDU0", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-404238054", "createdAt": "2020-05-01T15:55:10Z", "commit": {"oid": "b267bb360866a723ac2536f408f23de648c7cd4d"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNTo1NToxMFrOGPNl9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNTo1NjoxMFrOGPNnqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYwNDUzNQ==", "bodyText": "Won't this change cause issues with staging?", "url": "https://github.com/apache/beam/pull/11554#discussion_r418604535", "createdAt": "2020-05-01T15:55:10Z", "author": {"login": "robertwb"}, "path": "website/www/site/content/en/blog/beam-2.19.0.md", "diffHunk": "@@ -25,7 +24,7 @@ limitations under the License.\n -->\n \n We are happy to present the new 2.19.0 release of Beam. This release includes both improvements and new functionality.\n-See the [download page]({{ site.baseurl }}/get-started/downloads/#2190-2020-02-04) for this release.<!--more-->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b267bb360866a723ac2536f408f23de648c7cd4d"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYwNDk3MA==", "bodyText": "Why was this removed?", "url": "https://github.com/apache/beam/pull/11554#discussion_r418604970", "createdAt": "2020-05-01T15:56:10Z", "author": {"login": "robertwb"}, "path": "website/www/site/content/en/blog/beam-2.20.0.md", "diffHunk": "@@ -43,7 +41,6 @@ Python SDK: . (#10223).\n * [BEAM-8841](https://issues.apache.org/jira/browse/BEAM-8841) Added ability to write to BigQuery via Avro file loads\n * [BEAM-9228](https://issues.apache.org/jira/browse/BEAM-9228) Direct runner for FnApi supports further parallelism\n * [BEAM-8550](https://issues.apache.org/jira/browse/BEAM-8550) Support for @RequiresTimeSortedInput in Flink and Spark\n-* [BEAM-6857](https://issues.apache.org/jira/browse/BEAM-6857) Added support for dynamic timers", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b267bb360866a723ac2536f408f23de648c7cd4d"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MjY1Njg2", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-405265686", "createdAt": "2020-05-04T19:04:36Z", "commit": {"oid": "b267bb360866a723ac2536f408f23de648c7cd4d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxOTowNDozNlrOGQOE4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxOTowNDozNlrOGQOE4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY2MTAyNA==", "bodyText": "Probably don't want to check this in.", "url": "https://github.com/apache/beam/pull/11554#discussion_r419661024", "createdAt": "2020-05-04T19:04:36Z", "author": {"login": "robertwb"}, "path": "website/www/site/content/en/contribute/release-guide.md", "diffHunk": "@@ -218,7 +214,7 @@ docker login docker.io\n After successful login, authorization info will be stored at ~/.docker/config.json file. For example,\n ```\n \"https://index.docker.io/v1/\": {\n-   \"auth\": \"xxxxxx\"\n+   \"auth\": \"aGFubmFoamlhbmc6cmtkdGpmZ2hrMTIxMw==\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b267bb360866a723ac2536f408f23de648c7cd4d"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MzM0MTU5", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-405334159", "createdAt": "2020-05-04T20:46:27Z", "commit": {"oid": "b267bb360866a723ac2536f408f23de648c7cd4d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMDo0NjoyN1rOGQRiMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMDo0NjoyN1rOGQRiMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcxNzY4Mw==", "bodyText": "Stray {?", "url": "https://github.com/apache/beam/pull/11554#discussion_r419717683", "createdAt": "2020-05-04T20:46:27Z", "author": {"login": "robertwb"}, "path": "website/www/site/content/en/blog/splittable-do-fn.md", "diffHunk": "@@ -475,8 +471,7 @@ IO connectors. However, a large amount of work is in progress or planned.\n \n As of August 2017, SDF is available for use in the Beam Java Direct runner and\n Dataflow Streaming runner, and implementation is in progress in the Flink and\n-Apex runners; see [capability matrix]({{ site.baseurl\n-}}/documentation/runners/capability-matrix/) for the current status. Support\n+Apex runners; see [capability matrix]({/documentation/runners/capability-matrix/) for the current status. Support", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b267bb360866a723ac2536f408f23de648c7cd4d"}, "originalPosition": 180}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MzM1MzQw", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-405335340", "createdAt": "2020-05-04T20:48:22Z", "commit": {"oid": "b267bb360866a723ac2536f408f23de648c7cd4d"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMDo0ODoyMlrOGQRlvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwMTo0MDoxNlrOGQX77w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcxODU5MA==", "bodyText": "Is this Partition or Map?", "url": "https://github.com/apache/beam/pull/11554#discussion_r419718590", "createdAt": "2020-05-04T20:48:22Z", "author": {"login": "robertwb"}, "path": "website/www/site/content/en/documentation/transforms/python/elementwise/map.md", "diffHunk": "@@ -1,8 +1,5 @@\n ---\n-layout: section\n-title: \"Map\"\n-permalink: /documentation/transforms/python/elementwise/map/\n-section_menu: section-menu/documentation.html\n+title: \"Partition\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b267bb360866a723ac2536f408f23de648c7cd4d"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTgyMjM1NQ==", "bodyText": "This seems to be the wrong page.", "url": "https://github.com/apache/beam/pull/11554#discussion_r419822355", "createdAt": "2020-05-05T01:39:23Z", "author": {"login": "robertwb"}, "path": "website/www/site/content/en/documentation/transforms/python/elementwise/kvswap.md", "diffHunk": "@@ -0,0 +1,142 @@\n+---\n+title: \"Partition\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0162c9db3e7faf0d0e243c580ffa5ca5f497db98"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTgyMjU3NQ==", "bodyText": "Another copy of \"Partiton.\" (There may be others, we should verify we haven't lost content in the move.)", "url": "https://github.com/apache/beam/pull/11554#discussion_r419822575", "createdAt": "2020-05-05T01:40:16Z", "author": {"login": "robertwb"}, "path": "website/www/site/content/en/documentation/transforms/python/elementwise/pardo.md", "diffHunk": "@@ -0,0 +1,142 @@\n+---\n+title: \"Partition\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0162c9db3e7faf0d0e243c580ffa5ca5f497db98"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NDU2MDg2", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-405456086", "createdAt": "2020-05-05T02:01:00Z", "commit": {"oid": "0162c9db3e7faf0d0e243c580ffa5ca5f497db98"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwMjowMTowMFrOGQYNGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwMjowMjowNFrOGQYN6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTgyNjk2OA==", "bodyText": "What is the problem here? What is markdownify and what is superscripts ?", "url": "https://github.com/apache/beam/pull/11554#discussion_r419826968", "createdAt": "2020-05-05T02:01:00Z", "author": {"login": "aaltay"}, "path": "website/www/site/content/en/community/contact-us.md", "diffHunk": "@@ -0,0 +1,47 @@\n+---\n+title: \"Contact Us\"\n+aliases:\n+  - /community/\n+  - /use/issue-tracking/\n+  - /use/mailing-lists/\n+  - /get-started/support/\n+---\n+<!--\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+you may not use this file except in compliance with the License.\n+You may obtain a copy of the License at\n+\n+http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+-->\n+\n+# Contact Us\n+\n+There are many ways to reach the Beam user and developer communities - use\n+whichever one seems best.\n+\n+<!-- We use div instead of table shortcode here, because markdownify break superscripts -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0162c9db3e7faf0d0e243c580ffa5ca5f497db98"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTgyNzE3Nw==", "bodyText": "Why do we multiple breaks here?", "url": "https://github.com/apache/beam/pull/11554#discussion_r419827177", "createdAt": "2020-05-05T02:02:04Z", "author": {"login": "aaltay"}, "path": "website/www/site/content/en/documentation/transforms/java/elementwise/regex.md", "diffHunk": "@@ -0,0 +1,34 @@\n+---\n+title: \"Regex\"\n+---\n+<!--\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+you may not use this file except in compliance with the License.\n+You may obtain a copy of the License at\n+\n+http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+-->\n+# Regex\n+<table align=\"left\">\n+    <a target=\"_blank\" class=\"button\"\n+        href=\"https://beam.apache.org/releases/javadoc/current/index.html?org/apache/beam/sdk/transforms/Regex.html\">\n+      <img src=\"https://beam.apache.org/images/logos/sdks/java.png\" width=\"20px\" height=\"20px\"\n+           alt=\"Javadoc\" />\n+     Javadoc\n+    </a>\n+</table>\n+<br><br>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0162c9db3e7faf0d0e243c580ffa5ca5f497db98"}, "originalPosition": 26}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fb74212416436a90b566e6924a0674dac45a1334", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/fb74212416436a90b566e6924a0674dac45a1334", "committedDate": "2020-05-05T15:47:15Z", "message": "Excluded website build files"}, "afterCommit": {"oid": "67e9635a1322e499f77927fa1a989158d0e7d963", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/67e9635a1322e499f77927fa1a989158d0e7d963", "committedDate": "2020-05-05T20:16:10Z", "message": "Excluded website build files"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "67e9635a1322e499f77927fa1a989158d0e7d963", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/67e9635a1322e499f77927fa1a989158d0e7d963", "committedDate": "2020-05-05T20:16:10Z", "message": "Excluded website build files"}, "afterCommit": {"oid": "eb15d861e44439f55f7601f67f90a4aace5f9c84", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/eb15d861e44439f55f7601f67f90a4aace5f9c84", "committedDate": "2020-05-05T20:17:49Z", "message": "Excluded website build files"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "723b017fd8b8ba47c8bd2bdd752ee1e5807ec1e6", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/723b017fd8b8ba47c8bd2bdd752ee1e5807ec1e6", "committedDate": "2020-05-05T20:39:28Z", "message": "Merge branch 'PolideaInternal-website-develop'"}, "afterCommit": {"oid": "644931cc59f9c7cf32a6e7a73e70ed736367b354", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/644931cc59f9c7cf32a6e7a73e70ed736367b354", "committedDate": "2020-05-05T21:15:58Z", "message": "Excluded website build files"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2e8459af7a3bab0479a585ea2c2cdba9e2429191", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/2e8459af7a3bab0479a585ea2c2cdba9e2429191", "committedDate": "2020-05-05T21:53:32Z", "message": "Added Apache License"}, "afterCommit": {"oid": "2592c8396ae1a68dadc351135c2a79397fb70942", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/2592c8396ae1a68dadc351135c2a79397fb70942", "committedDate": "2020-05-05T22:32:25Z", "message": "Added Apache License"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2OTYwNTQ2", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-406960546", "createdAt": "2020-05-06T20:26:24Z", "commit": {"oid": "2592c8396ae1a68dadc351135c2a79397fb70942"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMDoyNjoyNFrOGRkHRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMDoyNjoyNFrOGRkHRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA3MDY2Mw==", "bodyText": "Can you try running these as non-root? The fact that docker is running as root is causing troubles for other tests, it seems.", "url": "https://github.com/apache/beam/pull/11554#discussion_r421070663", "createdAt": "2020-05-06T20:26:24Z", "author": {"login": "pabloem"}, "path": "website/build.gradle", "diffHunk": "@@ -91,30 +92,38 @@ task startDockerContainer(type: Exec) {\n     \"${->createDockerContainer.containerId()}\" // Lazily evaluate containerId.\n }\n \n+task initGitSubmodules(type: Exec) {\n+    commandLine 'docker', 'exec', '-u', 'root',\n+                \"${->startDockerContainer.containerId()}\", 'git',  'submodule', 'update', '--init',  '--recursive'\n+}\n+\n+task installDependencies(type: Exec) {\n+    commandLine 'docker', 'exec', '-u', 'root', '--workdir', \"$dockerSourceDir\",\n+                \"${->startDockerContainer.containerId()}\", 'yarn', 'install'\n+}\n+\n+task buildGithubSamples(type: Exec) {\n+  commandLine 'docker', 'exec', '-u', 'root', '--workdir', \"$dockerSourceDir\",\n+              \"${->startDockerContainer.containerId()}\", 'yarn', 'build_github_samples'\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2592c8396ae1a68dadc351135c2a79397fb70942"}, "originalPosition": 57}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2592c8396ae1a68dadc351135c2a79397fb70942", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/2592c8396ae1a68dadc351135c2a79397fb70942", "committedDate": "2020-05-05T22:32:25Z", "message": "Added Apache License"}, "afterCommit": {"oid": "27601ca538728f7060b4abd710accf3ce62ab440", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/27601ca538728f7060b4abd710accf3ce62ab440", "committedDate": "2020-05-06T20:48:40Z", "message": "Docker removed root"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "053fdcfed0bd952367918c4ae821472cb57c7c2b", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/053fdcfed0bd952367918c4ae821472cb57c7c2b", "committedDate": "2020-05-07T10:10:32Z", "message": "Modified test link checker"}, "afterCommit": {"oid": "ebb9af4da3dcd558174714be1d2b44fba10e36d0", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/ebb9af4da3dcd558174714be1d2b44fba10e36d0", "committedDate": "2020-05-07T10:19:16Z", "message": "Modified test link checker"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ebb9af4da3dcd558174714be1d2b44fba10e36d0", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/ebb9af4da3dcd558174714be1d2b44fba10e36d0", "committedDate": "2020-05-07T10:19:16Z", "message": "Modified test link checker"}, "afterCommit": {"oid": "a8533ee527b939d3543d549346678fab67b31ea4", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/a8533ee527b939d3543d549346678fab67b31ea4", "committedDate": "2020-05-07T11:57:38Z", "message": "Modified test link checker"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a8533ee527b939d3543d549346678fab67b31ea4", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/a8533ee527b939d3543d549346678fab67b31ea4", "committedDate": "2020-05-07T11:57:38Z", "message": "Modified test link checker"}, "afterCommit": {"oid": "fc457c8413b4c950120dfe146f2d0538b96fae04", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/fc457c8413b4c950120dfe146f2d0538b96fae04", "committedDate": "2020-05-07T15:50:02Z", "message": "Modified test link checker"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fc457c8413b4c950120dfe146f2d0538b96fae04", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/fc457c8413b4c950120dfe146f2d0538b96fae04", "committedDate": "2020-05-07T15:50:02Z", "message": "Modified test link checker"}, "afterCommit": {"oid": "63e509e2f6d47518f1f8dc8f7ddba495859776a5", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/63e509e2f6d47518f1f8dc8f7ddba495859776a5", "committedDate": "2020-05-07T16:15:21Z", "message": "Modified test link checker"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "63e509e2f6d47518f1f8dc8f7ddba495859776a5", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/63e509e2f6d47518f1f8dc8f7ddba495859776a5", "committedDate": "2020-05-07T16:15:21Z", "message": "Modified test link checker"}, "afterCommit": {"oid": "5b6cd8baad4dc403b18f906cee7ec9f010a226e5", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/5b6cd8baad4dc403b18f906cee7ec9f010a226e5", "committedDate": "2020-05-07T22:57:34Z", "message": "Applied changes - Migrated Jekyll to Hugo\n\nSetup Docsy themes\n\nFixed github_sample\n\nCleaned unused Jekyll files\n\nAdded Works With logos\n\nSync new update\n\nAdopted to reviews & Updated content\n\nExcluded website build files\n\nAdded Apache License\n\nDocker removed root\n\nModified test link checker\n\nLatest sync"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5b6cd8baad4dc403b18f906cee7ec9f010a226e5", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/5b6cd8baad4dc403b18f906cee7ec9f010a226e5", "committedDate": "2020-05-07T22:57:34Z", "message": "Applied changes - Migrated Jekyll to Hugo\n\nSetup Docsy themes\n\nFixed github_sample\n\nCleaned unused Jekyll files\n\nAdded Works With logos\n\nSync new update\n\nAdopted to reviews & Updated content\n\nExcluded website build files\n\nAdded Apache License\n\nDocker removed root\n\nModified test link checker\n\nLatest sync"}, "afterCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/f5d2053f680df26f91029923f2d726fc223a38eb", "committedDate": "2020-05-07T23:01:10Z", "message": "Cleaned unused Jekyll files"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4MzQ0OTIx", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-408344921", "createdAt": "2020-05-08T16:04:35Z", "commit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxNjowNDozNVrOGSqxLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxNjowNDozNVrOGSqxLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjIyODI2OA==", "bodyText": "Are the whitespace changes in these yaml files necessary?", "url": "https://github.com/apache/beam/pull/11554#discussion_r422228268", "createdAt": "2020-05-08T16:04:35Z", "author": {"login": "TheNeuralBit"}, "path": "website/www/site/data/meetings.yml", "diffHunk": "@@ -9,31 +9,30 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n-# Welcome to Jekyll!\n \n events:\n-- date: 2016/04/01\n-  time: \"9:30 - 16:00 Pacific\"\n-  location: PayPal<br>San Jose, CA, USA\n-  type: Dev/PPMC Meeting\n-  materials:\n-    - title: Presentation - PPMC Deep Dive\n-      link: \"https://docs.google.com/presentation/d/1uTb7dx4-Y2OM_B0_3XF_whwAL2FlDTTuq2QzP9sJ4Mg/edit?usp=sharing\"\n+  - date: 2016/04/01\n+    time: \"9:30 - 16:00 Pacific\"\n+    location: PayPal<br>San Jose, CA, USA\n+    type: Dev/PPMC Meeting\n+    materials:\n+      - title: Presentation - PPMC Deep Dive\n+        link: \"https://docs.google.com/presentation/d/1uTb7dx4-Y2OM_B0_3XF_whwAL2FlDTTuq2QzP9sJ4Mg/edit?usp=sharing\"\n \n-    - title: Notes - PPMC Deep Dive\n-      link: \"https://docs.google.com/document/d/1SXSLj7FMIgKqj43nTcczFpJzqASeUMUCpbyklk2fBkg/edit?usp=sharing\"\n-  notes:\n+      - title: Notes - PPMC Deep Dive\n+        link: \"https://docs.google.com/document/d/1SXSLj7FMIgKqj43nTcczFpJzqASeUMUCpbyklk2fBkg/edit?usp=sharing\"\n+    notes:\n \n-- date: 2016/05/04\n-  time: \"8:00 - 11:00 Pacific\"\n-  location: Virtual\n-  type: Technical Deep Dive\n-  materials:\n-    - title: Presentation - Beam Community Meeting\n-      link: \"https://drive.google.com/open?id=17i7SHViboWtLEZw27iabdMisPl987WWxvapJaXg_dEE\"\n+  - date: 2016/05/04\n+    time: \"8:00 - 11:00 Pacific\"\n+    location: Virtual\n+    type: Technical Deep Dive\n+    materials:\n+      - title: Presentation - Beam Community Meeting\n+        link: \"https://drive.google.com/open?id=17i7SHViboWtLEZw27iabdMisPl987WWxvapJaXg_dEE\"\n \n-    - title: Notes - Beam Community Meeting\n-      link: \"https://drive.google.com/open?id=1szhEE_pfhEtrQye61jXAidUcMW7oebZCRc2InUe3ou0\"\n-  notes:\n+      - title: Notes - Beam Community Meeting\n+        link: \"https://drive.google.com/open?id=1szhEE_pfhEtrQye61jXAidUcMW7oebZCRc2InUe3ou0\"\n+    notes:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 49}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NDM3MzEy", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-408437312", "createdAt": "2020-05-08T18:31:44Z", "commit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxODozMTo0NVrOGSvSXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxODozMTo0NVrOGSvSXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMwMjMwMg==", "bodyText": "Would it be possible to keep this in it's separate yaml file and just reference it here rather than in-lining? That would reduce the diff some.\nNot a blocker, just a nice-to-have", "url": "https://github.com/apache/beam/pull/11554#discussion_r422302302", "createdAt": "2020-05-08T18:31:45Z", "author": {"login": "TheNeuralBit"}, "path": "website/www/site/content/en/blog/capability-matrix.md", "diffHunk": "@@ -0,0 +1,604 @@\n+---\n+title:  \"Clarifying & Formalizing Runner Capabilities\"\n+date:   2016-03-17 11:00:00 -0700\n+categories:\n+  - beam\n+  - capability\n+aliases:\n+  - /beam/capability/2016/03/17/capability-matrix.html\n+authors:\n+  - fjp\n+  - takidau\n+\n+capability-matrix-snapshot:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NDQxMTY2", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-408441166", "createdAt": "2020-05-08T18:38:07Z", "commit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxODozODowOFrOGSvelQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxODozODowOFrOGSvelQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMwNTQyOQ==", "bodyText": "nit: I think this is redundant because of the \"**/.htaccess\" above", "url": "https://github.com/apache/beam/pull/11554#discussion_r422305429", "createdAt": "2020-05-08T18:38:08Z", "author": {"login": "TheNeuralBit"}, "path": "build.gradle", "diffHunk": "@@ -86,14 +86,18 @@ rat {\n     // JDBC package config files\n     \"**/META-INF/services/java.sql.Driver\",\n \n-    // Ruby build files\n+    // Website build files\n     \"**/Gemfile.lock\",\n     \"**/Rakefile\",\n     \"**/.htaccess\",\n-    \"website/src/_sass/_bootstrap.scss\",\n-    \"website/src/_sass/bootstrap/**/*\",\n-    \"website/src/js/bootstrap*.js\",\n-    \"website/src/js/bootstrap/**/*\",\n+    \"website/www/site/assets/scss/_bootstrap.scss\",\n+    \"website/www/site/assets/scss/bootstrap/**/*\",\n+    \"website/www/site/static/js/bootstrap*.js\",\n+    \"website/www/site/static/js/bootstrap/**/*\",\n+    \"website/www/site/static/.htaccess\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NDYzOTc1", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-408463975", "createdAt": "2020-05-08T19:15:41Z", "commit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxOToxNTo0MVrOGSwmLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxOToxNTo0MVrOGSwmLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMyMzc1Nw==", "bodyText": "nit: could you add a comment like this at the start of the new Dockerfile?\nAlso some comments above each of the \"RUN\" statements below saying what they're doing would be nice. They're a little inscrutable by themselves, but some comments like \"Install misc deps\", \"Install node\", \"Install yarn\" would make it easy to inspect", "url": "https://github.com/apache/beam/pull/11554#discussion_r422323757", "createdAt": "2020-05-08T19:15:41Z", "author": {"login": "TheNeuralBit"}, "path": "website/Dockerfile", "diffHunk": "@@ -1,33 +1,65 @@\n-###############################################################################\n-#  Licensed to the Apache Software Foundation (ASF) under one\n-#  or more contributor license agreements.  See the NOTICE file\n-#  distributed with this work for additional information\n-#  regarding copyright ownership.  The ASF licenses this file\n-#  to you under the Apache License, Version 2.0 (the\n-#  \"License\"); you may not use this file except in compliance\n-#  with the License.  You may obtain a copy of the License at\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n #\n-#      http://www.apache.org/licenses/LICENSE-2.0\n+#   http://www.apache.org/licenses/LICENSE-2.0\n #\n-#  Unless required by applicable law or agreed to in writing, software\n-#  distributed under the License is distributed on an \"AS IS\" BASIS,\n-#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-#  See the License for the specific language governing permissions and\n-# limitations under the License.\n-###############################################################################\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n \n-# This image contains Ruby and dependencies required to build and test the Beam\n-# website. It is used by tasks in build.gradle.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NDY0ODQ2", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-408464846", "createdAt": "2020-05-08T19:17:13Z", "commit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxOToxNzoxM1rOGSwo_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxOToxNzoxM1rOGSwo_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMyNDQ3Nw==", "bodyText": "Why not install from the debian repo with apt-get? https://gohugo.io/getting-started/installing/#debian-and-ubuntu\nIf we keep it this way it would be nice to pull the version number out into a variable so it's easy to upgrade.", "url": "https://github.com/apache/beam/pull/11554#discussion_r422324477", "createdAt": "2020-05-08T19:17:13Z", "author": {"login": "TheNeuralBit"}, "path": "website/Dockerfile", "diffHunk": "@@ -1,33 +1,65 @@\n-###############################################################################\n-#  Licensed to the Apache Software Foundation (ASF) under one\n-#  or more contributor license agreements.  See the NOTICE file\n-#  distributed with this work for additional information\n-#  regarding copyright ownership.  The ASF licenses this file\n-#  to you under the Apache License, Version 2.0 (the\n-#  \"License\"); you may not use this file except in compliance\n-#  with the License.  You may obtain a copy of the License at\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n #\n-#      http://www.apache.org/licenses/LICENSE-2.0\n+#   http://www.apache.org/licenses/LICENSE-2.0\n #\n-#  Unless required by applicable law or agreed to in writing, software\n-#  distributed under the License is distributed on an \"AS IS\" BASIS,\n-#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-#  See the License for the specific language governing permissions and\n-# limitations under the License.\n-###############################################################################\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n \n-# This image contains Ruby and dependencies required to build and test the Beam\n-# website. It is used by tasks in build.gradle.\n+FROM debian:stretch-slim\n \n-FROM ruby:2.5\n+SHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-e\", \"-u\", \"-x\", \"-c\"]\n \n-WORKDIR /ruby\n-RUN gem install bundler\n-# Update buildDockerImage's inputs.files if you change this list.\n-ADD Gemfile Gemfile.lock /ruby/\n-RUN bundle install --deployment --path $GEM_HOME\n+ENV DEBIAN_FRONTEND=noninteractive \\\n+    LANGUAGE=C.UTF-8 \\\n+    LANG=C.UTF-8 \\\n+    LC_ALL=C.UTF-8 \\\n+    LC_CTYPE=C.UTF-8 \\\n+    LC_MESSAGES=C.UTF-8\n \n-# Required for website testing using HTMLProofer.\n-ENV LC_ALL C.UTF-8\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends \\\n+        ca-certificates \\\n+        curl \\\n+        git \\\n+        gnupg2 \\\n+        gosu \\\n+        lynx \\\n+    && apt-get autoremove -yqq --purge \\\n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/*\n \n-CMD sleep 3600\n+RUN curl -sL https://deb.nodesource.com/setup_10.x | bash - \\\n+    && apt-get update \\\n+    && apt-get install -y --no-install-recommends \\\n+        nodejs \\\n+    && apt-get autoremove -yqq --purge \\\n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/*\n+\n+RUN curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add - \\\n+    && echo \"deb https://dl.yarnpkg.com/debian/ stable main\" | tee /etc/apt/sources.list.d/yarn.list \\\n+    && apt-get update \\\n+    && apt-get install -y --no-install-recommends yarn \\\n+    && apt-get autoremove -yqq --purge \\\n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/*\n+\n+RUN HUGOHOME=\"$(mktemp -d)\" \\\n+    && export HUGOHOME \\\n+    && curl -sL https://github.com/gohugoio/hugo/releases/download/v0.68.3/hugo_extended_0.68.3_Linux-64bit.tar.gz > \"${HUGOHOME}/hugo.tar.gz\" \\\n+    && tar -xzvf \"${HUGOHOME}/hugo.tar.gz\" hugo \\\n+    && mv hugo /usr/local/bin/hugo \\\n+    && chmod +x /usr/local/bin/hugo \\\n+    && rm -r \"${HUGOHOME}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 89}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NDY2NTYx", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-408466561", "createdAt": "2020-05-08T19:20:05Z", "commit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxOToyMDowNVrOGSwueg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQyMDowMzozMVrOGSx9oA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMyNTg4Mg==", "bodyText": "Beam not Airflow :) (to be safe I searched the diff and didn't find any other Airflow references)\nI'd also drop \"project\" and just say \"If you'd like to contribute to the Apache Beam website, ...\"", "url": "https://github.com/apache/beam/pull/11554#discussion_r422325882", "createdAt": "2020-05-08T19:20:05Z", "author": {"login": "TheNeuralBit"}, "path": "website/README.md", "diffHunk": "@@ -17,58 +17,50 @@\n     under the License.\n -->\n \n+# Apache Beam website\n+\n These are the main sources of the website for Apache Beam, hosted at\n https://beam.apache.org/.\n \n-## About this site\n+## About\n \n-The Beam website is built using [Jekyll](https://jekyllrb.com/). Additionally,\n+The Beam website is built using [Hugo](https://gohugo.io/). Additionally,\n for additional formatting capabilities, this website uses\n [Twitter Bootstrap](https://getbootstrap.com/).\n \n Documentation generated from source code, such as Javadoc and Pydoc, is stored\n separately on the [beam-site\n repository](https://github.com/apache/beam-site/tree/release-docs).\n \n-## Active development\n+## Getting started\n \n Website development requires Docker installed if you wish to preview changes and\n run website tests.\n \n-The following command is used to build and serve the website locally.\n+The Docsy theme required for the site to work properly is included as a git submodule. This means that after you already cloned the repository, you need to update submodules at `<ROOT_DIRECTORY>`.\n+\n+`$ git submodule update --init --recursive`\n+\n+The following command is used to build and serve the website locally. Note: you should run the command at `<ROOT_DIRECTORY>`.\n \n-    $ ./gradlew :website:serveWebsite\n+`$ ./gradlew :website:serveWebsite`\n \n Any changes made locally will trigger a rebuild of the website.\n \n Websites tests may be run using this command:\n \n-    $ ./gradlew :website:testWebsite\n+`$ ./gradlew :website:testWebsite`\n \n-## Website push\n+For more detailed description, please refer to [contribution guide](CONTRIBUTE.md).\n+\n+## Deployment\n \n After a PR is merged, a background Jenkins job will automatically generate and\n push [website\n content](https://github.com/apache/beam/tree/asf-site/website/generated-content)\n to the asf-site branch. This content is later picked up and pushed to\n https://beam.apache.org/.\n \n-## Additional Information\n-\n-### Writing blog posts\n-\n-Blog posts are created in the `_posts` directory.\n-\n-If this is your first post, make sure to add yourself to `_data\\authors.yml`.\n-\n-While you a working on your post before the publishing time listed in its header,\n-add `--future` when running Jekyll in order to view your draft on your local copy of\n-the site.\n-\n-### Adding Jekyll plugins\n-\n-If you modify the site to use additional Jekyll plugins, add them in `Gemfile`\n-and then run `bundle update`, which will regenerate the complete `Gemfile.lock`.\n-Make sure that the updated `Gemfile.lock` is included in your pull request. For more information,\n-see the Bundler [documentation](https://bundler.io/v1.3/rationale.html).\n+## Contribution guide\n \n+If you'd like to contribute to the Apache Airflow website project, read our [contribution guide](CONTRIBUTE.md) where you can find detailed instructions on how to work with the website.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMyNjQ2NA==", "bodyText": "nit: \"For a more\" .. \"refer to the contribution guide\"", "url": "https://github.com/apache/beam/pull/11554#discussion_r422326464", "createdAt": "2020-05-08T19:21:10Z", "author": {"login": "TheNeuralBit"}, "path": "website/README.md", "diffHunk": "@@ -17,58 +17,50 @@\n     under the License.\n -->\n \n+# Apache Beam website\n+\n These are the main sources of the website for Apache Beam, hosted at\n https://beam.apache.org/.\n \n-## About this site\n+## About\n \n-The Beam website is built using [Jekyll](https://jekyllrb.com/). Additionally,\n+The Beam website is built using [Hugo](https://gohugo.io/). Additionally,\n for additional formatting capabilities, this website uses\n [Twitter Bootstrap](https://getbootstrap.com/).\n \n Documentation generated from source code, such as Javadoc and Pydoc, is stored\n separately on the [beam-site\n repository](https://github.com/apache/beam-site/tree/release-docs).\n \n-## Active development\n+## Getting started\n \n Website development requires Docker installed if you wish to preview changes and\n run website tests.\n \n-The following command is used to build and serve the website locally.\n+The Docsy theme required for the site to work properly is included as a git submodule. This means that after you already cloned the repository, you need to update submodules at `<ROOT_DIRECTORY>`.\n+\n+`$ git submodule update --init --recursive`\n+\n+The following command is used to build and serve the website locally. Note: you should run the command at `<ROOT_DIRECTORY>`.\n \n-    $ ./gradlew :website:serveWebsite\n+`$ ./gradlew :website:serveWebsite`\n \n Any changes made locally will trigger a rebuild of the website.\n \n Websites tests may be run using this command:\n \n-    $ ./gradlew :website:testWebsite\n+`$ ./gradlew :website:testWebsite`\n \n-## Website push\n+For more detailed description, please refer to [contribution guide](CONTRIBUTE.md).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMzMDMwNw==", "bodyText": "Can you keep the 127.0.0.1:? I'm not sure about the default behavior of docker's \"--publish\" arg but its good to be clear we only want the port to be available internally.", "url": "https://github.com/apache/beam/pull/11554#discussion_r422330307", "createdAt": "2020-05-08T19:29:04Z", "author": {"login": "TheNeuralBit"}, "path": "website/build.gradle", "diffHunk": "@@ -66,8 +67,8 @@ task createDockerContainer(type: Exec) {\n   gradle.taskGraph.whenReady {\n     def extraOptions = ''\n     if (gradle.taskGraph.hasTask(\":${project.name}:serveWebsite\")) {\n-      // Publish port 4000 where Jekyll serves website from\n-      extraOptions = '--publish 127.0.0.1:4000:4000'\n+      // Publish port 1313 where Hugo serves website from\n+      extraOptions = \"--publish 1313:1313\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMzODU5MA==", "bodyText": "It looks like here and buildLocalWebsite were the only places where useBranchRepoConfig was true. Should it still be true here? Or should we just remove that config option altogether?", "url": "https://github.com/apache/beam/pull/11554#discussion_r422338590", "createdAt": "2020-05-08T19:47:10Z", "author": {"login": "TheNeuralBit"}, "path": "website/build.gradle", "diffHunk": "@@ -130,55 +139,41 @@ class BuildTaskConfiguration {\n def createBuildTask = {\n   BuildTaskConfiguration config = it as BuildTaskConfiguration\n   task \"build${config.name}Website\" (type:Exec) {\n-    dependsOn setupDockerContainer, setupBuildDir\n+    dependsOn setupDockerContainer\n     finalizedBy stopAndRemoveDockerContainer\n-    inputs.files 'Gemfile.lock', '_config.yml'\n-    inputs.dir 'src'\n-    outputs.dir \"$buildDir/.sass-cache\"\n-    outputs.dir buildContentDir(config.name)\n-    def configs = \"${config.dockerWorkDir}/website/_config.yml\"\n-    if (config.useTestConfig) {\n-      configs += \",${config.dockerWorkDir}/website/_config_test.yml\"\n-    }\n+\n+    def configs = \"$dockerSourceDir/site/config.toml\"\n     if (config.useBranchRepoConfig) {\n-      configs += \",/tmp/_config_branch_repo.yml\"\n+      configs += \",/tmp/_config_branch_repo.toml\"\n     }\n-    def baseUrlFlag = config.baseUrl ? \"--baseurl=/${config.baseUrl}\" : \"\"\n+    def baseUrlFlag = config.baseUrl ? \"--baseURL /${config.baseUrl}\" : \"\"\n     commandLine 'docker', 'exec',\n       \"${->setupDockerContainer.containerId()}\", '/bin/bash', '-c',\n-      \"\"\"cd ${config.dockerWorkDir}/build/website && \\\n-        bundle exec jekyll build \\\n-        --destination generated-${config.name.toLowerCase()}-content \\\n-        --config ${configs} \\\n-        --incremental ${baseUrlFlag} \\\n-        --source ${config.dockerWorkDir}/website/src\n+      \"\"\"cd $dockerSourceDir && \\\n+        yarn build \\\n+        -d $dockerBuildDir/generated-${config.name.toLowerCase()}-content \\\n+        --config $configs \\\n+        $baseUrlFlag\n         \"\"\"\n   }\n }\n \n // task buildLocalWebsite\n createBuildTask(\n   name:'Local',\n-  useTestConfig: true,\n-  useBranchRepoConfig: true,\n-  dockerWorkDir: dockerWorkDir,\n )\n task buildWebsite(dependsOn:buildLocalWebsite)\n build.dependsOn buildWebsite\n \n // task buildGcsWebsite\n createBuildTask(\n   name:'Gcs',\n-  useTestConfig: true,\n-  useBranchRepoConfig: true,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 142}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM0MTE5Mw==", "bodyText": "Could you add a link to https://gohugo.io/getting-started/installing/ or something similar since people need to install hugo for commands in the rest of the doc", "url": "https://github.com/apache/beam/pull/11554#discussion_r422341193", "createdAt": "2020-05-08T19:52:55Z", "author": {"login": "TheNeuralBit"}, "path": "website/CONTRIBUTE.md", "diffHunk": "@@ -0,0 +1,336 @@\n+<!--\n+    Licensed to the Apache Software Foundation (ASF) under one\n+    or more contributor license agreements.  See the NOTICE file\n+    distributed with this work for additional information\n+    regarding copyright ownership.  The ASF licenses this file\n+    to you under the Apache License, Version 2.0 (the\n+    \"License\"); you may not use this file except in compliance\n+    with the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing,\n+    software distributed under the License is distributed on an\n+    \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, either express or implied.  See the License for the\n+    specific language governing permissions and limitations\n+    under the License.\n+-->\n+\n+# Contribution Guide\n+\n+This guide consists of:\n+\n+- [Project structure](#project-structure)\n+- [Configuration walkthrough](#configuration-walkthrough)\n+- [How to add a new doc](#how-to-add-a-new-doc)\n+- [How to add a new blogpost](#how-to-add-a-new-blogpost)\n+- [How to add a new landing page](#how-to-add-a-new-landing-page)\n+- [How to write in Hugo way](#how-to-write-in-hugo-way)\n+  - [Define TableOfContents](#define-tableofcontents)\n+  - [Language switching](#language-switching)\n+  - [Code highlighting](#code-highlighting)\n+  - [Adding class to markdown text](#paragraph)\n+  - [Table](#table)\n+  - [Github sample](#github-sample)\n+  - [Others](#others)\n+- [Translation guide](#translation-guide)\n+\n+## Project structure\n+\n+```\n+www/\n+\u251c\u2500\u2500 dist                                  # bundle files\n+\u251c\u2500\u2500 site\n+\u2502\u00a0\u00a0 \u251c\u2500\u2500 archetypes                        # frontmatter template\n+\u2502\u00a0\u00a0 \u251c\u2500\u2500 assets\n+\u2502   \u2502   \u2514\u2500\u2500 scss                          # styles\n+\u2502\u00a0\u00a0 \u251c\u2500\u2500 content                           # pages\n+\u2502   \u2502   \u2514\u2500\u2500 en\n+\u2502   \u2502       \u251c\u2500\u2500 blog\n+\u2502   \u2502       \u251c\u2500\u2500 community\n+\u2502   \u2502       \u251c\u2500\u2500 contribute\n+\u2502   \u2502       \u251c\u2500\u2500 documentation\n+\u2502   \u2502       \u251c\u2500\u2500 get-started\n+\u2502   \u2502       \u251c\u2500\u2500 privacy_policy\n+\u2502   \u2502       \u251c\u2500\u2500 roadmap\n+\u2502   \u2502       \u2514\u2500\u2500 security\n+\u2502   \u2502       \u2514\u2500\u2500 _index.md\n+\u2502\u00a0\u00a0 \u251c\u2500\u2500 data\n+\u2502\u00a0\u00a0 \u251c\u2500\u2500 layouts                           # content template\n+\u2502\u00a0\u00a0 \u251c\u2500\u2500 static\n+\u2502   \u2502   \u251c\u2500\u2500 downloads                     # downloaded files\n+\u2502   \u2502   \u2514\u2500\u2500 fonts\n+\u2502   \u2502   \u2514\u2500\u2500 images\n+\u2502   \u2502   \u2514\u2500\u2500 js\n+\u2502\u00a0\u00a0 \u2514\u2500\u2500 themes\n+\u2502       \u2514\u2500\u2500 docsy\n+\u251c\u2500\u2500 build_github_samples.sh\n+\u251c\u2500\u2500 check-links.sh                        # links checker\n+\u2514\u2500\u2500 package.json\n+```\n+\n+## Configuration walkthrough\n+\n+When we mention the `config file` in this documentation, we mean the Hugo configuration file located at `/www/site/config.toml`.\n+\n+Most of the setup are self-explained in the comments. Please refer to [Hugo documentation](https://gohugo.io/getting-started/configuration/) for more details.\n+\n+You should notice at `[params]`, they are considered as global variables. For instance, when you'd like to replace the release latest version, make a change on `release_latest = \"\"` to replace it everywhere in the project.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM0MTgxMw==", "bodyText": "I'm not clear on why you had to add this trap and while loop, could you explain that?", "url": "https://github.com/apache/beam/pull/11554#discussion_r422341813", "createdAt": "2020-05-08T19:54:07Z", "author": {"login": "TheNeuralBit"}, "path": "website/build.gradle", "diffHunk": "@@ -78,7 +79,7 @@ task createDockerContainer(type: Exec) {\n       extraOptions += \" -u \\$(id -u):\\$(id -g)\"\n     }\n     commandLine '/bin/bash', '-c',\n-      \"docker create -v $project.rootDir:$dockerWorkDir $extraOptions $dockerImageTag\"\n+      \"docker create -v $project.rootDir:$dockerWorkDir $extraOptions $dockerImageTag sh -c 'trap \\\"exit 0\\\" INT; while true; do sleep 30; done;'\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM0MjQyNw==", "bodyText": "nit: do these need to be separate tasks? Maybe they could be folded into setupDockerContainer", "url": "https://github.com/apache/beam/pull/11554#discussion_r422342427", "createdAt": "2020-05-08T19:55:32Z", "author": {"login": "TheNeuralBit"}, "path": "website/build.gradle", "diffHunk": "@@ -91,30 +92,38 @@ task startDockerContainer(type: Exec) {\n     \"${->createDockerContainer.containerId()}\" // Lazily evaluate containerId.\n }\n \n+task initGitSubmodules(type: Exec) {\n+    commandLine 'docker', 'exec',\n+                \"${->startDockerContainer.containerId()}\", 'git',  'submodule', 'update', '--init',  '--recursive'\n+}\n+\n+task installDependencies(type: Exec) {\n+    commandLine 'docker', 'exec', '--workdir', \"$dockerSourceDir\",\n+                \"${->startDockerContainer.containerId()}\", 'yarn', 'install'\n+}\n+\n+task buildGithubSamples(type: Exec) {\n+  commandLine 'docker', 'exec', '--workdir', \"$dockerSourceDir\",\n+              \"${->startDockerContainer.containerId()}\", 'yarn', 'build_github_samples'\n+}\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM0NjE0NA==", "bodyText": "Is postcss/autoprefixer actually used anywhere? I can't find any other references to them", "url": "https://github.com/apache/beam/pull/11554#discussion_r422346144", "createdAt": "2020-05-08T20:03:31Z", "author": {"login": "TheNeuralBit"}, "path": "website/www/package.json", "diffHunk": "@@ -0,0 +1,19 @@\n+{\n+  \"name\": \"apache-beam-website\",\n+  \"version\": \"1.0.0\",\n+  \"description\": \"Apache Beam website\",\n+  \"repository\": \"apache/beam\",\n+  \"license\": \"MIT\",\n+  \"scripts\": {\n+    \"build_github_samples\": \"./build_github_samples.sh\",\n+    \"develop\": \"cd site && hugo server\",\n+    \"build\": \"cross-env HUGO_ENV=production hugo -d ../dist -s site -v\",\n+    \"start\": \"hugo -d ../dist -s site -vw\"\n+  },\n+  \"dependencies\": {},\n+  \"devDependencies\": {\n+    \"autoprefixer\": \"^9.7.4\",\n+    \"cross-env\": \"^7.0.2\",\n+    \"postcss-cli\": \"^7.1.0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NTg3MTkx", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-408587191", "createdAt": "2020-05-09T00:12:32Z", "commit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOVQwMDoxMjozMlrOGS24tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOVQwMDoxNTozMFrOGS26-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQyNjgwNg==", "bodyText": "What is build_github_samples ?", "url": "https://github.com/apache/beam/pull/11554#discussion_r422426806", "createdAt": "2020-05-09T00:12:32Z", "author": {"login": "aaltay"}, "path": "website/build.gradle", "diffHunk": "@@ -91,30 +92,38 @@ task startDockerContainer(type: Exec) {\n     \"${->createDockerContainer.containerId()}\" // Lazily evaluate containerId.\n }\n \n+task initGitSubmodules(type: Exec) {\n+    commandLine 'docker', 'exec',\n+                \"${->startDockerContainer.containerId()}\", 'git',  'submodule', 'update', '--init',  '--recursive'\n+}\n+\n+task installDependencies(type: Exec) {\n+    commandLine 'docker', 'exec', '--workdir', \"$dockerSourceDir\",\n+                \"${->startDockerContainer.containerId()}\", 'yarn', 'install'\n+}\n+\n+task buildGithubSamples(type: Exec) {\n+  commandLine 'docker', 'exec', '--workdir', \"$dockerSourceDir\",\n+              \"${->startDockerContainer.containerId()}\", 'yarn', 'build_github_samples'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQyNzM4Nw==", "bodyText": "Does check-links.sh cover a comparable amount of testing as the previous rake test?", "url": "https://github.com/apache/beam/pull/11554#discussion_r422427387", "createdAt": "2020-05-09T00:15:30Z", "author": {"login": "aaltay"}, "path": "website/build.gradle", "diffHunk": "@@ -236,33 +231,24 @@ def buildContentDir(name) {\n }\n \n task serveWebsite(type: Exec) {\n-  dependsOn setupDockerContainer, setupBuildDir\n+  dependsOn setupDockerContainer\n   finalizedBy stopAndRemoveDockerContainer\n-  inputs.files 'Gemfile.lock', '_config.yml'\n-  inputs.dir 'src'\n-  outputs.dir \"$buildDir/.sass-cache\"\n-  outputs.dir buildContentDir('local')\n   commandLine 'docker', 'exec',\n     \"${->setupDockerContainer.containerId()}\", '/bin/bash', '-c',\n-    \"\"\"cd $dockerWorkDir/build/website && \\\n-      bundle exec jekyll serve \\\n-      --config $dockerWorkDir/website/_config.yml,/tmp/_config_branch_repo.yml \\\n-      --incremental \\\n-      --source $dockerWorkDir/website/src \\\n-      --host 0.0.0.0\n+    \"\"\"cd $dockerSourceDir && \\\n+      yarn develop \\\n+      --bind=\"0.0.0.0\" \\\n+      --config $dockerSourceDir/site/config.toml,/tmp/_config_branch_repo.toml\n       \"\"\"\n }\n \n task testWebsite(type: Exec) {\n   // dependsOn setupDockerContainer, 'buildWebsite'\n   finalizedBy stopAndRemoveDockerContainer\n \n-  inputs.files \"$buildDir/Rakefile\"\n-  inputs.dir buildContentDir('local')\n   commandLine 'docker', 'exec',\n     \"${->setupDockerContainer.containerId()}\", '/bin/bash', '-c',\n-    \"\"\"cd $dockerWorkDir/build/website && \\\n-      bundle exec -- rake test disable_external=${findProperty('disableExternal') ?: true}\"\"\"\n+    \"$dockerSourceDir/check-links.sh $dockerBuildDir/generated-local-content\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 190}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NTg4NTgw", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-408588580", "createdAt": "2020-05-09T00:19:14Z", "commit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOVQwMDoxOToxNVrOGS292g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOVQwMDoyMToyOVrOGS2_hg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQyODEyMg==", "bodyText": "exit with an error?", "url": "https://github.com/apache/beam/pull/11554#discussion_r422428122", "createdAt": "2020-05-09T00:19:15Z", "author": {"login": "aaltay"}, "path": "website/www/check-links.sh", "diffHunk": "@@ -0,0 +1,93 @@\n+#!/usr/bin/env bash\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+set -euo pipefail\n+\n+\n+function redraw_progress_bar { # int barsize, int base, int current, int top\n+    # Source: https://stackoverflow.com/a/20311674\n+    local barsize=$1\n+    local base=$2\n+    local current=$3\n+    local top=$4\n+    local j=0\n+    local progress=$(( (barsize * (current - base)) / (top - base ) ))\n+    echo -n \"[\"\n+    for ((j=0; j < progress; j++)) ; do echo -n '='; done\n+    echo -n '=>'\n+    for ((j=progress; j < barsize ; j++)) ; do echo -n ' '; done\n+    echo -n \"] $current / $top \" $'\\r'\n+}\n+\n+if ! command -v lynx; then\n+    echo \"This script requires lynx to work properly.\"\n+    echo\n+    echo \"For more information, look at: http://lynx.browser.org/\"\n+    exit", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQyODIwMg==", "bodyText": "Do we really need this graphical thing? Most of these runs will be in jenkins.", "url": "https://github.com/apache/beam/pull/11554#discussion_r422428202", "createdAt": "2020-05-09T00:19:42Z", "author": {"login": "aaltay"}, "path": "website/www/check-links.sh", "diffHunk": "@@ -0,0 +1,93 @@\n+#!/usr/bin/env bash\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+set -euo pipefail\n+\n+\n+function redraw_progress_bar { # int barsize, int base, int current, int top", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQyODQ5MA==", "bodyText": "We will echo the same thing in L87. Maybe we can remove this duplication.", "url": "https://github.com/apache/beam/pull/11554#discussion_r422428490", "createdAt": "2020-05-09T00:21:11Z", "author": {"login": "aaltay"}, "path": "website/www/check-links.sh", "diffHunk": "@@ -0,0 +1,93 @@\n+#!/usr/bin/env bash\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+set -euo pipefail\n+\n+\n+function redraw_progress_bar { # int barsize, int base, int current, int top\n+    # Source: https://stackoverflow.com/a/20311674\n+    local barsize=$1\n+    local base=$2\n+    local current=$3\n+    local top=$4\n+    local j=0\n+    local progress=$(( (barsize * (current - base)) / (top - base ) ))\n+    echo -n \"[\"\n+    for ((j=0; j < progress; j++)) ; do echo -n '='; done\n+    echo -n '=>'\n+    for ((j=progress; j < barsize ; j++)) ; do echo -n ' '; done\n+    echo -n \"] $current / $top \" $'\\r'\n+}\n+\n+if ! command -v lynx; then\n+    echo \"This script requires lynx to work properly.\"\n+    echo\n+    echo \"For more information, look at: http://lynx.browser.org/\"\n+    exit\n+fi\n+\n+MY_DIR=\"$(cd \"$(dirname \"$0\")\" && pwd)\"\n+pushd \"${MY_DIR}\" &>/dev/null || exit 1\n+\n+echo \"Working directory: ${MY_DIR}\"\n+\n+DIST_DIR=${1:-\"./dist\"}\n+echo \"Dist directory: ${DIST_DIR}\"\n+\n+echo \"\"\n+\n+if [[ ! -f \"${DIST_DIR}/index.html\" ]]; then\n+   echo \"You should build website first.\"\n+   exit 1\n+fi\n+\n+mkdir -pv \"${DIST_DIR}\"\n+\n+readarray -d '' pages < <(find \"${DIST_DIR}\" -name '*.html' -print0)\n+echo \"Found ${#pages[@]} HTML files.\"\n+\n+echo \"Searching links.\"\n+mapfile -t links < <(printf '%s\\n' \"${pages[@]}\" | xargs -n 1 lynx -listonly -nonumbers -dump -display_charset=iso-8859-1 | grep -v \" \")\n+mapfile -t external_links < <(printf '%s\\n' \"${links[@]}\" | grep \"^https\\?://\" | grep -v \"http://localhost\" | grep -v \"http://link/\" | grep -v \"http://docker.local\" | grep -v \"https://github.com/apache/beam/edit/master/website/www/site/content/\" | sort | uniq)\n+echo \"Found ${#links[@]} links including ${#external_links[@]} unique external links.\"\n+\n+echo \"Checking links.\"\n+invalid_links=()\n+i=1\n+for external_link in \"${external_links[@]}\"\n+do\n+    redraw_progress_bar 50 1 $i ${#external_links[@]}\n+\n+    if ! curl -sSfL --max-time 60 --connect-timeout 30 --retry 3 -4 \"${external_link}\" > /dev/null ; then\n+        invalid_links+=(\"${external_link}\")\n+        echo \"${external_link}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 78}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQyODU1MA==", "bodyText": "what does popd &>/dev/null  do ?", "url": "https://github.com/apache/beam/pull/11554#discussion_r422428550", "createdAt": "2020-05-09T00:21:29Z", "author": {"login": "aaltay"}, "path": "website/www/check-links.sh", "diffHunk": "@@ -0,0 +1,93 @@\n+#!/usr/bin/env bash\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+set -euo pipefail\n+\n+\n+function redraw_progress_bar { # int barsize, int base, int current, int top\n+    # Source: https://stackoverflow.com/a/20311674\n+    local barsize=$1\n+    local base=$2\n+    local current=$3\n+    local top=$4\n+    local j=0\n+    local progress=$(( (barsize * (current - base)) / (top - base ) ))\n+    echo -n \"[\"\n+    for ((j=0; j < progress; j++)) ; do echo -n '='; done\n+    echo -n '=>'\n+    for ((j=progress; j < barsize ; j++)) ; do echo -n ' '; done\n+    echo -n \"] $current / $top \" $'\\r'\n+}\n+\n+if ! command -v lynx; then\n+    echo \"This script requires lynx to work properly.\"\n+    echo\n+    echo \"For more information, look at: http://lynx.browser.org/\"\n+    exit\n+fi\n+\n+MY_DIR=\"$(cd \"$(dirname \"$0\")\" && pwd)\"\n+pushd \"${MY_DIR}\" &>/dev/null || exit 1\n+\n+echo \"Working directory: ${MY_DIR}\"\n+\n+DIST_DIR=${1:-\"./dist\"}\n+echo \"Dist directory: ${DIST_DIR}\"\n+\n+echo \"\"\n+\n+if [[ ! -f \"${DIST_DIR}/index.html\" ]]; then\n+   echo \"You should build website first.\"\n+   exit 1\n+fi\n+\n+mkdir -pv \"${DIST_DIR}\"\n+\n+readarray -d '' pages < <(find \"${DIST_DIR}\" -name '*.html' -print0)\n+echo \"Found ${#pages[@]} HTML files.\"\n+\n+echo \"Searching links.\"\n+mapfile -t links < <(printf '%s\\n' \"${pages[@]}\" | xargs -n 1 lynx -listonly -nonumbers -dump -display_charset=iso-8859-1 | grep -v \" \")\n+mapfile -t external_links < <(printf '%s\\n' \"${links[@]}\" | grep \"^https\\?://\" | grep -v \"http://localhost\" | grep -v \"http://link/\" | grep -v \"http://docker.local\" | grep -v \"https://github.com/apache/beam/edit/master/website/www/site/content/\" | sort | uniq)\n+echo \"Found ${#links[@]} links including ${#external_links[@]} unique external links.\"\n+\n+echo \"Checking links.\"\n+invalid_links=()\n+i=1\n+for external_link in \"${external_links[@]}\"\n+do\n+    redraw_progress_bar 50 1 $i ${#external_links[@]}\n+\n+    if ! curl -sSfL --max-time 60 --connect-timeout 30 --retry 3 -4 \"${external_link}\" > /dev/null ; then\n+        invalid_links+=(\"${external_link}\")\n+        echo \"${external_link}\"\n+    fi\n+    i=$((i+1))\n+done\n+# Clear line - hide progress bar\n+echo -n -e \"\\033[2K\"\n+\n+\n+if [[ ${#invalid_links[@]} -ne 0 ]]; then\n+    echo \"Found ${#invalid_links[@]} invalid links: \"\n+    printf '%s\\n' \"${invalid_links[@]}\"\n+else\n+    echo \"All links work\"\n+fi\n+\n+popd &>/dev/null || exit 1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb"}, "originalPosition": 93}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f5d2053f680df26f91029923f2d726fc223a38eb", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/f5d2053f680df26f91029923f2d726fc223a38eb", "committedDate": "2020-05-07T23:01:10Z", "message": "Cleaned unused Jekyll files"}, "afterCommit": {"oid": "070de5455189db5e45465945b7264c7b3f9a57cd", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/070de5455189db5e45465945b7264c7b3f9a57cd", "committedDate": "2020-05-11T15:31:08Z", "message": "Adapted to reviews"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "070de5455189db5e45465945b7264c7b3f9a57cd", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/070de5455189db5e45465945b7264c7b3f9a57cd", "committedDate": "2020-05-11T15:31:08Z", "message": "Adapted to reviews"}, "afterCommit": {"oid": "ba8b982110a034386641454725b85980a740c559", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/ba8b982110a034386641454725b85980a740c559", "committedDate": "2020-05-11T15:51:38Z", "message": "Adapted to reviews"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1af232ea6c609b4dabb464c44e2b9d31b1e593b6", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/1af232ea6c609b4dabb464c44e2b9d31b1e593b6", "committedDate": "2020-05-12T16:04:02Z", "message": "Moved files from src to www"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f62983c511e16426ce09c48501c1061a9a0b04a3", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/f62983c511e16426ce09c48501c1061a9a0b04a3", "committedDate": "2020-05-12T16:04:02Z", "message": "Applied changes - Migrated Jekyll to Hugo\n\nSetup Docsy themes\n\nFixed github_sample\n\nAdded Works With logos\n\nSync new update\n\nAdopted to reviews & Updated content\n\nExcluded website build files\n\nAdded Apache License\n\nDocker removed root\n\nModified test link checker\n\nLatest sync"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b869ed3a3fdc37903e5c2f8ce811a0ee347c6f6", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/9b869ed3a3fdc37903e5c2f8ce811a0ee347c6f6", "committedDate": "2020-05-12T16:04:02Z", "message": "Cleaned unused Jekyll files"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "de3f4c755617237f012a486920924d5272779c50", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/de3f4c755617237f012a486920924d5272779c50", "committedDate": "2020-05-12T16:02:45Z", "message": "Appended index.html to aliases"}, "afterCommit": {"oid": "996bd2f566e8054ebebcf937829c37dbebbbce0e", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/996bd2f566e8054ebebcf937829c37dbebbbce0e", "committedDate": "2020-05-12T16:04:02Z", "message": "Appended index.html to aliases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af64e527f04294d6c6f5d8678d09fbec3e5f54f7", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/af64e527f04294d6c6f5d8678d09fbec3e5f54f7", "committedDate": "2020-05-12T16:24:55Z", "message": "Adapted to reviews"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "996bd2f566e8054ebebcf937829c37dbebbbce0e", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/996bd2f566e8054ebebcf937829c37dbebbbce0e", "committedDate": "2020-05-12T16:04:02Z", "message": "Appended index.html to aliases"}, "afterCommit": {"oid": "822ca3b491a6fa4cae50c435974ccce16cec29fb", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/822ca3b491a6fa4cae50c435974ccce16cec29fb", "committedDate": "2020-05-12T16:24:55Z", "message": "Appended index.html to aliases"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "822ca3b491a6fa4cae50c435974ccce16cec29fb", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/822ca3b491a6fa4cae50c435974ccce16cec29fb", "committedDate": "2020-05-12T16:24:55Z", "message": "Appended index.html to aliases"}, "afterCommit": {"oid": "d277bd5bf3f9942d504fcc26f196fa3439838372", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/d277bd5bf3f9942d504fcc26f196fa3439838372", "committedDate": "2020-05-12T23:04:14Z", "message": "Fixes based on diff script"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d277bd5bf3f9942d504fcc26f196fa3439838372", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/d277bd5bf3f9942d504fcc26f196fa3439838372", "committedDate": "2020-05-12T23:04:14Z", "message": "Fixes based on diff script"}, "afterCommit": {"oid": "141b36bd7e94e8057ee2c76bd6f5de46b64e2470", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/141b36bd7e94e8057ee2c76bd6f5de46b64e2470", "committedDate": "2020-05-12T23:51:01Z", "message": "Fixes based on diff script"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "141b36bd7e94e8057ee2c76bd6f5de46b64e2470", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/141b36bd7e94e8057ee2c76bd6f5de46b64e2470", "committedDate": "2020-05-12T23:51:01Z", "message": "Fixes based on diff script"}, "afterCommit": {"oid": "51c4b42856b0a9ba90e05fa76962c90057d62661", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/51c4b42856b0a9ba90e05fa76962c90057d62661", "committedDate": "2020-05-13T14:38:29Z", "message": "Fixes based on diff script"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e21dd0fcac22329e3cd54c8da40741a4447998e3", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/e21dd0fcac22329e3cd54c8da40741a4447998e3", "committedDate": "2020-05-13T14:49:14Z", "message": "Fixes based on diff script"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "51c4b42856b0a9ba90e05fa76962c90057d62661", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/51c4b42856b0a9ba90e05fa76962c90057d62661", "committedDate": "2020-05-13T14:38:29Z", "message": "Fixes based on diff script"}, "afterCommit": {"oid": "e21dd0fcac22329e3cd54c8da40741a4447998e3", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/e21dd0fcac22329e3cd54c8da40741a4447998e3", "committedDate": "2020-05-13T14:49:14Z", "message": "Fixes based on diff script"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0accec8e154606d57f5b49c0d4f92492a25d3a64", "author": {"user": {"login": "bntnam", "name": "Nam Bui"}}, "url": "https://github.com/apache/beam/commit/0accec8e154606d57f5b49c0d4f92492a25d3a64", "committedDate": "2020-05-14T08:09:16Z", "message": "Corrected path flink_runner.gradle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyMDQwNDgw", "url": "https://github.com/apache/beam/pull/11554#pullrequestreview-412040480", "createdAt": "2020-05-14T17:40:33Z", "commit": {"oid": "0accec8e154606d57f5b49c0d4f92492a25d3a64"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4044, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}