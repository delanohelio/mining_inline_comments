{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzOTAzNzUx", "number": 11828, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjozODozOVrOEALwig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwMTowOTozMVrOEAU6yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NjI4MTA2OnYy", "diffSide": "RIGHT", "path": "release/src/main/scripts/deploy_pypi.sh", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjozODozOVrOGbTl5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMToyMTo1MFrOGbdmow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI4NTczMw==", "bodyText": "How about also print the path that will be cleaned up?", "url": "https://github.com/apache/beam/pull/11828#discussion_r431285733", "createdAt": "2020-05-27T16:38:39Z", "author": {"login": "tvalentyn"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -0,0 +1,57 @@\n+#!/bin/bash\n+#\n+#    Licensed to the Apache Software Foundation (ASF) under one or more\n+#    contributor license agreements.  See the NOTICE file distributed with\n+#    this work for additional information regarding copyright ownership.\n+#    The ASF licenses this file to You under the Apache License, Version 2.0\n+#    (the \"License\"); you may not use this file except in compliance with\n+#    the License.  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#    Unless required by applicable law or agreed to in writing, software\n+#    distributed under the License is distributed on an \"AS IS\" BASIS,\n+#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#    See the License for the specific language governing permissions and\n+#    limitations under the License.\n+#\n+\n+# This script uploads Python artifacts staged at dist.apache.org to PyPI.\n+\n+set -e\n+\n+function clean_up(){\n+  echo \"Do you want to clean local clone repo? [y|N]\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10732c7549a09015b97f18e80b2af69b0c8a4390"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMxMDQ3NQ==", "bodyText": "A lot of these comments apply to build_release_candidate.sh as well (where I took the clone dir management from) so I'll change that too.", "url": "https://github.com/apache/beam/pull/11828#discussion_r431310475", "createdAt": "2020-05-27T17:16:55Z", "author": {"login": "ibzib"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -0,0 +1,57 @@\n+#!/bin/bash\n+#\n+#    Licensed to the Apache Software Foundation (ASF) under one or more\n+#    contributor license agreements.  See the NOTICE file distributed with\n+#    this work for additional information regarding copyright ownership.\n+#    The ASF licenses this file to You under the Apache License, Version 2.0\n+#    (the \"License\"); you may not use this file except in compliance with\n+#    the License.  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#    Unless required by applicable law or agreed to in writing, software\n+#    distributed under the License is distributed on an \"AS IS\" BASIS,\n+#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#    See the License for the specific language governing permissions and\n+#    limitations under the License.\n+#\n+\n+# This script uploads Python artifacts staged at dist.apache.org to PyPI.\n+\n+set -e\n+\n+function clean_up(){\n+  echo \"Do you want to clean local clone repo? [y|N]\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI4NTczMw=="}, "originalCommit": {"oid": "10732c7549a09015b97f18e80b2af69b0c8a4390"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ0OTc2Mw==", "bodyText": "Done", "url": "https://github.com/apache/beam/pull/11828#discussion_r431449763", "createdAt": "2020-05-27T21:21:50Z", "author": {"login": "ibzib"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -0,0 +1,57 @@\n+#!/bin/bash\n+#\n+#    Licensed to the Apache Software Foundation (ASF) under one or more\n+#    contributor license agreements.  See the NOTICE file distributed with\n+#    this work for additional information regarding copyright ownership.\n+#    The ASF licenses this file to You under the Apache License, Version 2.0\n+#    (the \"License\"); you may not use this file except in compliance with\n+#    the License.  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#    Unless required by applicable law or agreed to in writing, software\n+#    distributed under the License is distributed on an \"AS IS\" BASIS,\n+#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#    See the License for the specific language governing permissions and\n+#    limitations under the License.\n+#\n+\n+# This script uploads Python artifacts staged at dist.apache.org to PyPI.\n+\n+set -e\n+\n+function clean_up(){\n+  echo \"Do you want to clean local clone repo? [y|N]\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI4NTczMw=="}, "originalCommit": {"oid": "10732c7549a09015b97f18e80b2af69b0c8a4390"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NjMyMDYyOnYy", "diffSide": "RIGHT", "path": "release/src/main/scripts/deploy_pypi.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjo0OTo1MFrOGbUAiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMToyMjowMlrOGbdnCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI5MjU1NQ==", "bodyText": "Nit: Cleaned up local repo.", "url": "https://github.com/apache/beam/pull/11828#discussion_r431292555", "createdAt": "2020-05-27T16:49:50Z", "author": {"login": "tvalentyn"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -0,0 +1,57 @@\n+#!/bin/bash\n+#\n+#    Licensed to the Apache Software Foundation (ASF) under one or more\n+#    contributor license agreements.  See the NOTICE file distributed with\n+#    this work for additional information regarding copyright ownership.\n+#    The ASF licenses this file to You under the Apache License, Version 2.0\n+#    (the \"License\"); you may not use this file except in compliance with\n+#    the License.  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#    Unless required by applicable law or agreed to in writing, software\n+#    distributed under the License is distributed on an \"AS IS\" BASIS,\n+#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#    See the License for the specific language governing permissions and\n+#    limitations under the License.\n+#\n+\n+# This script uploads Python artifacts staged at dist.apache.org to PyPI.\n+\n+set -e\n+\n+function clean_up(){\n+  echo \"Do you want to clean local clone repo? [y|N]\"\n+  read confirmation\n+  if [[ $confirmation = \"y\" ]]; then\n+    cd ~\n+    rm -rf ${LOCAL_CLONE_DIR}\n+    echo \"Clean up local repo.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10732c7549a09015b97f18e80b2af69b0c8a4390"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ0OTg2NQ==", "bodyText": "Done", "url": "https://github.com/apache/beam/pull/11828#discussion_r431449865", "createdAt": "2020-05-27T21:22:02Z", "author": {"login": "ibzib"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -0,0 +1,57 @@\n+#!/bin/bash\n+#\n+#    Licensed to the Apache Software Foundation (ASF) under one or more\n+#    contributor license agreements.  See the NOTICE file distributed with\n+#    this work for additional information regarding copyright ownership.\n+#    The ASF licenses this file to You under the Apache License, Version 2.0\n+#    (the \"License\"); you may not use this file except in compliance with\n+#    the License.  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#    Unless required by applicable law or agreed to in writing, software\n+#    distributed under the License is distributed on an \"AS IS\" BASIS,\n+#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#    See the License for the specific language governing permissions and\n+#    limitations under the License.\n+#\n+\n+# This script uploads Python artifacts staged at dist.apache.org to PyPI.\n+\n+set -e\n+\n+function clean_up(){\n+  echo \"Do you want to clean local clone repo? [y|N]\"\n+  read confirmation\n+  if [[ $confirmation = \"y\" ]]; then\n+    cd ~\n+    rm -rf ${LOCAL_CLONE_DIR}\n+    echo \"Clean up local repo.\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI5MjU1NQ=="}, "originalCommit": {"oid": "10732c7549a09015b97f18e80b2af69b0c8a4390"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NjMyNTIxOnYy", "diffSide": "RIGHT", "path": "release/src/main/scripts/deploy_pypi.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjo1MDo1NlrOGbUDRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMToyNDo0OVrOGbdsXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI5MzI1Mw==", "bodyText": "Let's add a message here that the folder was found, and so it's being deleted.", "url": "https://github.com/apache/beam/pull/11828#discussion_r431293253", "createdAt": "2020-05-27T16:50:56Z", "author": {"login": "tvalentyn"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -0,0 +1,57 @@\n+#!/bin/bash\n+#\n+#    Licensed to the Apache Software Foundation (ASF) under one or more\n+#    contributor license agreements.  See the NOTICE file distributed with\n+#    this work for additional information regarding copyright ownership.\n+#    The ASF licenses this file to You under the Apache License, Version 2.0\n+#    (the \"License\"); you may not use this file except in compliance with\n+#    the License.  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#    Unless required by applicable law or agreed to in writing, software\n+#    distributed under the License is distributed on an \"AS IS\" BASIS,\n+#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#    See the License for the specific language governing permissions and\n+#    limitations under the License.\n+#\n+\n+# This script uploads Python artifacts staged at dist.apache.org to PyPI.\n+\n+set -e\n+\n+function clean_up(){\n+  echo \"Do you want to clean local clone repo? [y|N]\"\n+  read confirmation\n+  if [[ $confirmation = \"y\" ]]; then\n+    cd ~\n+    rm -rf ${LOCAL_CLONE_DIR}\n+    echo \"Clean up local repo.\"\n+  fi\n+}\n+\n+echo \"Enter the release version, e.g. 2.21.0:\"\n+read RELEASE\n+LOCAL_CLONE_DIR=\"beam_release_${RELEASE}\"\n+cd ~\n+if [[ -d ${LOCAL_CLONE_DIR} ]]; then\n+  rm -rf ${LOCAL_CLONE_DIR}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10732c7549a09015b97f18e80b2af69b0c8a4390"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ1MTIyOQ==", "bodyText": "Done", "url": "https://github.com/apache/beam/pull/11828#discussion_r431451229", "createdAt": "2020-05-27T21:24:49Z", "author": {"login": "ibzib"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -0,0 +1,57 @@\n+#!/bin/bash\n+#\n+#    Licensed to the Apache Software Foundation (ASF) under one or more\n+#    contributor license agreements.  See the NOTICE file distributed with\n+#    this work for additional information regarding copyright ownership.\n+#    The ASF licenses this file to You under the Apache License, Version 2.0\n+#    (the \"License\"); you may not use this file except in compliance with\n+#    the License.  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#    Unless required by applicable law or agreed to in writing, software\n+#    distributed under the License is distributed on an \"AS IS\" BASIS,\n+#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#    See the License for the specific language governing permissions and\n+#    limitations under the License.\n+#\n+\n+# This script uploads Python artifacts staged at dist.apache.org to PyPI.\n+\n+set -e\n+\n+function clean_up(){\n+  echo \"Do you want to clean local clone repo? [y|N]\"\n+  read confirmation\n+  if [[ $confirmation = \"y\" ]]; then\n+    cd ~\n+    rm -rf ${LOCAL_CLONE_DIR}\n+    echo \"Clean up local repo.\"\n+  fi\n+}\n+\n+echo \"Enter the release version, e.g. 2.21.0:\"\n+read RELEASE\n+LOCAL_CLONE_DIR=\"beam_release_${RELEASE}\"\n+cd ~\n+if [[ -d ${LOCAL_CLONE_DIR} ]]; then\n+  rm -rf ${LOCAL_CLONE_DIR}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI5MzI1Mw=="}, "originalCommit": {"oid": "10732c7549a09015b97f18e80b2af69b0c8a4390"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NjMzNjIxOnYy", "diffSide": "RIGHT", "path": "release/src/main/scripts/deploy_pypi.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjo1Mjo1OFrOGbUKcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMTozMDo1MlrOGbd31Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI5NTA5MA==", "bodyText": "Can we do this in a virtual environment? On my machine this would fail with:\nCould not install packages due to an EnvironmentError: [Errno 13] Permission denied: '/usr/local/lib/python2.7/dist-packages/requests_toolbelt'\nConsider using the `--user` option or check the permissions.", "url": "https://github.com/apache/beam/pull/11828#discussion_r431295090", "createdAt": "2020-05-27T16:52:58Z", "author": {"login": "tvalentyn"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -0,0 +1,57 @@\n+#!/bin/bash\n+#\n+#    Licensed to the Apache Software Foundation (ASF) under one or more\n+#    contributor license agreements.  See the NOTICE file distributed with\n+#    this work for additional information regarding copyright ownership.\n+#    The ASF licenses this file to You under the Apache License, Version 2.0\n+#    (the \"License\"); you may not use this file except in compliance with\n+#    the License.  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#    Unless required by applicable law or agreed to in writing, software\n+#    distributed under the License is distributed on an \"AS IS\" BASIS,\n+#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#    See the License for the specific language governing permissions and\n+#    limitations under the License.\n+#\n+\n+# This script uploads Python artifacts staged at dist.apache.org to PyPI.\n+\n+set -e\n+\n+function clean_up(){\n+  echo \"Do you want to clean local clone repo? [y|N]\"\n+  read confirmation\n+  if [[ $confirmation = \"y\" ]]; then\n+    cd ~\n+    rm -rf ${LOCAL_CLONE_DIR}\n+    echo \"Clean up local repo.\"\n+  fi\n+}\n+\n+echo \"Enter the release version, e.g. 2.21.0:\"\n+read RELEASE\n+LOCAL_CLONE_DIR=\"beam_release_${RELEASE}\"\n+cd ~\n+if [[ -d ${LOCAL_CLONE_DIR} ]]; then\n+  rm -rf ${LOCAL_CLONE_DIR}\n+fi\n+mkdir ${LOCAL_CLONE_DIR}\n+cd ${LOCAL_CLONE_DIR}\n+\n+wget -r --no-parent -A zip,whl \"https://dist.apache.org/repos/dist/dev/beam/${RELEASE}/python\"\n+cd \"dist.apache.org/repos/dist/dev/beam/${RELEASE}/python/\"\n+pip install twine", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10732c7549a09015b97f18e80b2af69b0c8a4390"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ1NDE2NQ==", "bodyText": "Done", "url": "https://github.com/apache/beam/pull/11828#discussion_r431454165", "createdAt": "2020-05-27T21:30:52Z", "author": {"login": "ibzib"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -0,0 +1,57 @@\n+#!/bin/bash\n+#\n+#    Licensed to the Apache Software Foundation (ASF) under one or more\n+#    contributor license agreements.  See the NOTICE file distributed with\n+#    this work for additional information regarding copyright ownership.\n+#    The ASF licenses this file to You under the Apache License, Version 2.0\n+#    (the \"License\"); you may not use this file except in compliance with\n+#    the License.  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#    Unless required by applicable law or agreed to in writing, software\n+#    distributed under the License is distributed on an \"AS IS\" BASIS,\n+#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#    See the License for the specific language governing permissions and\n+#    limitations under the License.\n+#\n+\n+# This script uploads Python artifacts staged at dist.apache.org to PyPI.\n+\n+set -e\n+\n+function clean_up(){\n+  echo \"Do you want to clean local clone repo? [y|N]\"\n+  read confirmation\n+  if [[ $confirmation = \"y\" ]]; then\n+    cd ~\n+    rm -rf ${LOCAL_CLONE_DIR}\n+    echo \"Clean up local repo.\"\n+  fi\n+}\n+\n+echo \"Enter the release version, e.g. 2.21.0:\"\n+read RELEASE\n+LOCAL_CLONE_DIR=\"beam_release_${RELEASE}\"\n+cd ~\n+if [[ -d ${LOCAL_CLONE_DIR} ]]; then\n+  rm -rf ${LOCAL_CLONE_DIR}\n+fi\n+mkdir ${LOCAL_CLONE_DIR}\n+cd ${LOCAL_CLONE_DIR}\n+\n+wget -r --no-parent -A zip,whl \"https://dist.apache.org/repos/dist/dev/beam/${RELEASE}/python\"\n+cd \"dist.apache.org/repos/dist/dev/beam/${RELEASE}/python/\"\n+pip install twine", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI5NTA5MA=="}, "originalCommit": {"oid": "10732c7549a09015b97f18e80b2af69b0c8a4390"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NjM1MDYxOnYy", "diffSide": "RIGHT", "path": "release/src/main/scripts/deploy_pypi.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjo1NTozNVrOGbUUbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMToyNToxN1rOGbdtSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI5NzY0NA==", "bodyText": "nit: s/Exit/Exiting", "url": "https://github.com/apache/beam/pull/11828#discussion_r431297644", "createdAt": "2020-05-27T16:55:35Z", "author": {"login": "tvalentyn"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -0,0 +1,57 @@\n+#!/bin/bash\n+#\n+#    Licensed to the Apache Software Foundation (ASF) under one or more\n+#    contributor license agreements.  See the NOTICE file distributed with\n+#    this work for additional information regarding copyright ownership.\n+#    The ASF licenses this file to You under the Apache License, Version 2.0\n+#    (the \"License\"); you may not use this file except in compliance with\n+#    the License.  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#    Unless required by applicable law or agreed to in writing, software\n+#    distributed under the License is distributed on an \"AS IS\" BASIS,\n+#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#    See the License for the specific language governing permissions and\n+#    limitations under the License.\n+#\n+\n+# This script uploads Python artifacts staged at dist.apache.org to PyPI.\n+\n+set -e\n+\n+function clean_up(){\n+  echo \"Do you want to clean local clone repo? [y|N]\"\n+  read confirmation\n+  if [[ $confirmation = \"y\" ]]; then\n+    cd ~\n+    rm -rf ${LOCAL_CLONE_DIR}\n+    echo \"Clean up local repo.\"\n+  fi\n+}\n+\n+echo \"Enter the release version, e.g. 2.21.0:\"\n+read RELEASE\n+LOCAL_CLONE_DIR=\"beam_release_${RELEASE}\"\n+cd ~\n+if [[ -d ${LOCAL_CLONE_DIR} ]]; then\n+  rm -rf ${LOCAL_CLONE_DIR}\n+fi\n+mkdir ${LOCAL_CLONE_DIR}\n+cd ${LOCAL_CLONE_DIR}\n+\n+wget -r --no-parent -A zip,whl \"https://dist.apache.org/repos/dist/dev/beam/${RELEASE}/python\"\n+cd \"dist.apache.org/repos/dist/dev/beam/${RELEASE}/python/\"\n+pip install twine\n+echo \"Will upload the following files to PyPI:\"\n+ls\n+echo \"Are the files listed correct? [y|N]\"\n+read confirmation\n+if [[ $confirmation != \"y\" ]]; then\n+  echo \"Exit without deploying artifacts to PyPI.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10732c7549a09015b97f18e80b2af69b0c8a4390"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ1MTQ2Nw==", "bodyText": "Done", "url": "https://github.com/apache/beam/pull/11828#discussion_r431451467", "createdAt": "2020-05-27T21:25:17Z", "author": {"login": "ibzib"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -0,0 +1,57 @@\n+#!/bin/bash\n+#\n+#    Licensed to the Apache Software Foundation (ASF) under one or more\n+#    contributor license agreements.  See the NOTICE file distributed with\n+#    this work for additional information regarding copyright ownership.\n+#    The ASF licenses this file to You under the Apache License, Version 2.0\n+#    (the \"License\"); you may not use this file except in compliance with\n+#    the License.  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#    Unless required by applicable law or agreed to in writing, software\n+#    distributed under the License is distributed on an \"AS IS\" BASIS,\n+#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#    See the License for the specific language governing permissions and\n+#    limitations under the License.\n+#\n+\n+# This script uploads Python artifacts staged at dist.apache.org to PyPI.\n+\n+set -e\n+\n+function clean_up(){\n+  echo \"Do you want to clean local clone repo? [y|N]\"\n+  read confirmation\n+  if [[ $confirmation = \"y\" ]]; then\n+    cd ~\n+    rm -rf ${LOCAL_CLONE_DIR}\n+    echo \"Clean up local repo.\"\n+  fi\n+}\n+\n+echo \"Enter the release version, e.g. 2.21.0:\"\n+read RELEASE\n+LOCAL_CLONE_DIR=\"beam_release_${RELEASE}\"\n+cd ~\n+if [[ -d ${LOCAL_CLONE_DIR} ]]; then\n+  rm -rf ${LOCAL_CLONE_DIR}\n+fi\n+mkdir ${LOCAL_CLONE_DIR}\n+cd ${LOCAL_CLONE_DIR}\n+\n+wget -r --no-parent -A zip,whl \"https://dist.apache.org/repos/dist/dev/beam/${RELEASE}/python\"\n+cd \"dist.apache.org/repos/dist/dev/beam/${RELEASE}/python/\"\n+pip install twine\n+echo \"Will upload the following files to PyPI:\"\n+ls\n+echo \"Are the files listed correct? [y|N]\"\n+read confirmation\n+if [[ $confirmation != \"y\" ]]; then\n+  echo \"Exit without deploying artifacts to PyPI.\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI5NzY0NA=="}, "originalCommit": {"oid": "10732c7549a09015b97f18e80b2af69b0c8a4390"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NjM1NDY3OnYy", "diffSide": "RIGHT", "path": "release/src/main/scripts/deploy_pypi.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNjo1NjozNVrOGbUW7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNzoxNTo0NFrOGbVEBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI5ODI4Ng==", "bodyText": "Assuming this a verbose command. If not please add some messages to guide the user what is happening.", "url": "https://github.com/apache/beam/pull/11828#discussion_r431298286", "createdAt": "2020-05-27T16:56:35Z", "author": {"login": "tvalentyn"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -0,0 +1,57 @@\n+#!/bin/bash\n+#\n+#    Licensed to the Apache Software Foundation (ASF) under one or more\n+#    contributor license agreements.  See the NOTICE file distributed with\n+#    this work for additional information regarding copyright ownership.\n+#    The ASF licenses this file to You under the Apache License, Version 2.0\n+#    (the \"License\"); you may not use this file except in compliance with\n+#    the License.  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#    Unless required by applicable law or agreed to in writing, software\n+#    distributed under the License is distributed on an \"AS IS\" BASIS,\n+#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#    See the License for the specific language governing permissions and\n+#    limitations under the License.\n+#\n+\n+# This script uploads Python artifacts staged at dist.apache.org to PyPI.\n+\n+set -e\n+\n+function clean_up(){\n+  echo \"Do you want to clean local clone repo? [y|N]\"\n+  read confirmation\n+  if [[ $confirmation = \"y\" ]]; then\n+    cd ~\n+    rm -rf ${LOCAL_CLONE_DIR}\n+    echo \"Clean up local repo.\"\n+  fi\n+}\n+\n+echo \"Enter the release version, e.g. 2.21.0:\"\n+read RELEASE\n+LOCAL_CLONE_DIR=\"beam_release_${RELEASE}\"\n+cd ~\n+if [[ -d ${LOCAL_CLONE_DIR} ]]; then\n+  rm -rf ${LOCAL_CLONE_DIR}\n+fi\n+mkdir ${LOCAL_CLONE_DIR}\n+cd ${LOCAL_CLONE_DIR}\n+\n+wget -r --no-parent -A zip,whl \"https://dist.apache.org/repos/dist/dev/beam/${RELEASE}/python\"\n+cd \"dist.apache.org/repos/dist/dev/beam/${RELEASE}/python/\"\n+pip install twine\n+echo \"Will upload the following files to PyPI:\"\n+ls\n+echo \"Are the files listed correct? [y|N]\"\n+read confirmation\n+if [[ $confirmation != \"y\" ]]; then\n+  echo \"Exit without deploying artifacts to PyPI.\"\n+  clean_up\n+  exit\n+fi\n+twine upload *", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10732c7549a09015b97f18e80b2af69b0c8a4390"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMwOTgzMA==", "bodyText": "It is. Example output:\nUploading distributions to https://upload.pypi.org/legacy/\nUploading apache_beam-2.21.0-cp27-cp27m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 4.62M/4.62M [00:02<00:00, 1.66MB/s]\nUploading apache_beam-2.21.0-cp27-cp27m-manylinux1_i686.whl\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.01M/3.01M [00:02<00:00, 1.38MB/s]\nUploading apache_beam-2.21.0-cp27-cp27m-manylinux1_x86_64.whl\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.29M/3.29M [00:02<00:00, 1.36MB/s]\nUploading apache_beam-2.21.0-cp27-cp27mu-manylinux1_i686.whl\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.01M/3.01M [00:02<00:00, 1.35MB/s]\nUploading apache_beam-2.21.0-cp27-cp27mu-manylinux1_x86_64.whl\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.29M/3.29M [00:02<00:00, 1.55MB/s]\nUploading apache_beam-2.21.0-cp35-cp35m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 4.64M/4.64M [00:02<00:00, 1.97MB/s]\nUploading apache_beam-2.21.0-cp35-cp35m-manylinux1_i686.whl\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.04M/3.04M [00:02<00:00, 1.15MB/s]\nUploading apache_beam-2.21.0-cp35-cp35m-manylinux1_x86_64.whl\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.31M/3.31M [00:02<00:00, 1.40MB/s]\nUploading apache_beam-2.21.0-cp36-cp36m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 4.86M/4.86M [00:02<00:00, 2.11MB/s]\nUploading apache_beam-2.21.0-cp36-cp36m-manylinux1_i686.whl\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.09M/3.09M [00:02<00:00, 1.31MB/s]\nUploading apache_beam-2.21.0-cp36-cp36m-manylinux1_x86_64.whl\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.36M/3.36M [00:02<00:00, 1.54MB/s]\nUploading apache_beam-2.21.0-cp37-cp37m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 4.76M/4.76M [00:02<00:00, 1.82MB/s]\nUploading apache_beam-2.21.0-cp37-cp37m-manylinux1_i686.whl\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.09M/3.09M [00:02<00:00, 1.44MB/s]\nUploading apache_beam-2.21.0-cp37-cp37m-manylinux1_x86_64.whl\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.36M/3.36M [00:02<00:00, 1.61MB/s]\nUploading apache-beam-2.21.0.zip\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1.95M/1.95M [00:02<00:00, 870kB/s]\n\nView at:\nhttps://pypi.org/project/apache-beam/2.21.0/", "url": "https://github.com/apache/beam/pull/11828#discussion_r431309830", "createdAt": "2020-05-27T17:15:44Z", "author": {"login": "ibzib"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -0,0 +1,57 @@\n+#!/bin/bash\n+#\n+#    Licensed to the Apache Software Foundation (ASF) under one or more\n+#    contributor license agreements.  See the NOTICE file distributed with\n+#    this work for additional information regarding copyright ownership.\n+#    The ASF licenses this file to You under the Apache License, Version 2.0\n+#    (the \"License\"); you may not use this file except in compliance with\n+#    the License.  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#    Unless required by applicable law or agreed to in writing, software\n+#    distributed under the License is distributed on an \"AS IS\" BASIS,\n+#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#    See the License for the specific language governing permissions and\n+#    limitations under the License.\n+#\n+\n+# This script uploads Python artifacts staged at dist.apache.org to PyPI.\n+\n+set -e\n+\n+function clean_up(){\n+  echo \"Do you want to clean local clone repo? [y|N]\"\n+  read confirmation\n+  if [[ $confirmation = \"y\" ]]; then\n+    cd ~\n+    rm -rf ${LOCAL_CLONE_DIR}\n+    echo \"Clean up local repo.\"\n+  fi\n+}\n+\n+echo \"Enter the release version, e.g. 2.21.0:\"\n+read RELEASE\n+LOCAL_CLONE_DIR=\"beam_release_${RELEASE}\"\n+cd ~\n+if [[ -d ${LOCAL_CLONE_DIR} ]]; then\n+  rm -rf ${LOCAL_CLONE_DIR}\n+fi\n+mkdir ${LOCAL_CLONE_DIR}\n+cd ${LOCAL_CLONE_DIR}\n+\n+wget -r --no-parent -A zip,whl \"https://dist.apache.org/repos/dist/dev/beam/${RELEASE}/python\"\n+cd \"dist.apache.org/repos/dist/dev/beam/${RELEASE}/python/\"\n+pip install twine\n+echo \"Will upload the following files to PyPI:\"\n+ls\n+echo \"Are the files listed correct? [y|N]\"\n+read confirmation\n+if [[ $confirmation != \"y\" ]]; then\n+  echo \"Exit without deploying artifacts to PyPI.\"\n+  clean_up\n+  exit\n+fi\n+twine upload *", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI5ODI4Ng=="}, "originalCommit": {"oid": "10732c7549a09015b97f18e80b2af69b0c8a4390"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4Nzc4MTg3OnYy", "diffSide": "RIGHT", "path": "release/src/main/scripts/deploy_pypi.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwMTowOTozMVrOGbiW-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxMToyNjowMFrOGbw29w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTUyNzY3NA==", "bodyText": "Consider  creating virtualenv in a /tmp/... directory or in the directory that you create and later clean up (assuming it won't interfere with pypi uploads).", "url": "https://github.com/apache/beam/pull/11828#discussion_r431527674", "createdAt": "2020-05-28T01:09:31Z", "author": {"login": "tvalentyn"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -41,9 +41,12 @@ fi\n mkdir ${LOCAL_CLONE_DIR}\n cd ${LOCAL_CLONE_DIR}\n \n+virtualenv deploy_pypi_env\n+source ./deploy_pypi_env/bin/activate\n+pip install twine", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6100fd017c43f6a9e10307574ece718a152943b"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTc2NTIzOQ==", "bodyText": "The virtual env is created in LOCAL_CLONE_DIR. It won't interfere because we download artifacts to LOCAL_CLONE_DIR/dist.apache.org.", "url": "https://github.com/apache/beam/pull/11828#discussion_r431765239", "createdAt": "2020-05-28T11:26:00Z", "author": {"login": "ibzib"}, "path": "release/src/main/scripts/deploy_pypi.sh", "diffHunk": "@@ -41,9 +41,12 @@ fi\n mkdir ${LOCAL_CLONE_DIR}\n cd ${LOCAL_CLONE_DIR}\n \n+virtualenv deploy_pypi_env\n+source ./deploy_pypi_env/bin/activate\n+pip install twine", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTUyNzY3NA=="}, "originalCommit": {"oid": "b6100fd017c43f6a9e10307574ece718a152943b"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3716, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}