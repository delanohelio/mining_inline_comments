{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5MTEzMjc3", "number": 11528, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOTo0MDowN1rOD8n3GQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOTo0MDowN1rOD8n3GQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODk0MjMzOnYy", "diffSide": "RIGHT", "path": "sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/spanner/SpannerIO.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOTo0MDowN1rOGVrdLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMjoyOTowNVrOGXJiLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM4NTI2MA==", "bodyText": "I added some commits to tweak these descriptions a bit. @nielm can you confirm that they're still correct?\nAlso I wonder if you can re-use the implementation in Write by calling spec.populateDisplayData(builder) here instead?", "url": "https://github.com/apache/beam/pull/11528#discussion_r425385260", "createdAt": "2020-05-14T19:40:07Z", "author": {"login": "TheNeuralBit"}, "path": "sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/spanner/SpannerIO.java", "diffHunk": "@@ -991,6 +1001,24 @@ public WriteGrouped(Write spec) {\n       this.spec = spec;\n     }\n \n+    @Override\n+    public void populateDisplayData(DisplayData.Builder builder) {\n+      super.populateDisplayData(builder);\n+      spec.getSpannerConfig().populateDisplayData(builder);\n+      builder.add(\n+          DisplayData.item(\"batchSizeBytes\", spec.getBatchSizeBytes())\n+              .withLabel(\"Max batch size in sytes\"));\n+      builder.add(\n+          DisplayData.item(\"maxNumMutations\", spec.getMaxNumMutations())\n+              .withLabel(\"Max number of mutated cells in each batch\"));\n+      builder.add(\n+          DisplayData.item(\"maxNumRows\", spec.getMaxNumRows())\n+              .withLabel(\"Max number of rows in each batch\"));\n+      builder.add(\n+          DisplayData.item(\"groupingFactor\", spec.getGroupingFactor())\n+              .withLabel(\"Number of batches to sort over\"));\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9da28e7e9c06332c52446385801539be7b6842b7"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjkyNjYzOQ==", "bodyText": "LGTM.\nI extracted a single method in Write to populate the displayData with parameters to avoid repeating code.", "url": "https://github.com/apache/beam/pull/11528#discussion_r426926639", "createdAt": "2020-05-18T22:29:05Z", "author": {"login": "nielm"}, "path": "sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/spanner/SpannerIO.java", "diffHunk": "@@ -991,6 +1001,24 @@ public WriteGrouped(Write spec) {\n       this.spec = spec;\n     }\n \n+    @Override\n+    public void populateDisplayData(DisplayData.Builder builder) {\n+      super.populateDisplayData(builder);\n+      spec.getSpannerConfig().populateDisplayData(builder);\n+      builder.add(\n+          DisplayData.item(\"batchSizeBytes\", spec.getBatchSizeBytes())\n+              .withLabel(\"Max batch size in sytes\"));\n+      builder.add(\n+          DisplayData.item(\"maxNumMutations\", spec.getMaxNumMutations())\n+              .withLabel(\"Max number of mutated cells in each batch\"));\n+      builder.add(\n+          DisplayData.item(\"maxNumRows\", spec.getMaxNumRows())\n+              .withLabel(\"Max number of rows in each batch\"));\n+      builder.add(\n+          DisplayData.item(\"groupingFactor\", spec.getGroupingFactor())\n+              .withLabel(\"Number of batches to sort over\"));\n+    }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM4NTI2MA=="}, "originalCommit": {"oid": "9da28e7e9c06332c52446385801539be7b6842b7"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1142, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}