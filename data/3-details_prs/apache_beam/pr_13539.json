{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM4MjU2MjQz", "number": 13539, "title": "[BEAM-11338] Addendum: handle private fields in generated thrift code", "bodyText": "For thrift classes generated with java:beans or java:private-members (i.e. private fields), the current code will fail to infer the FieldValueTypeInformation, as it wrongly expects the fields to be public.\nThis PR fixes the issue and changes the thrift compiler params to showcase this scenario.", "createdAt": "2020-12-12T15:44:59Z", "url": "https://github.com/apache/beam/pull/13539", "merged": true, "mergeCommit": {"oid": "755eab293d797d8109cbeebc1f7fcf9c81d28239"}, "closed": true, "closedAt": "2020-12-14T17:50:02Z", "author": {"login": "ccciudatu"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdlebgpAH2gAyNTM4MjU2MjQzOjc1YjkzZDYxOWZiZjBmMGQwZmU4YjU2OTAwZjEyYTIzYzdjYzMwZDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmJfBLgFqTU1MTcxNDQ1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "75b93d619fbf0f0d0fe8b56900f12a23c7cc30d6", "author": {"user": {"login": "ccciudatu", "name": "Costi Ciudatu"}}, "url": "https://github.com/apache/beam/commit/75b93d619fbf0f0d0fe8b56900f12a23c7cc30d6", "committedDate": "2020-12-12T15:39:38Z", "message": "[BEAM-11338] Addendum: handle private fields in generated thrift code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwODUwMDI2", "url": "https://github.com/apache/beam/pull/13539#pullrequestreview-550850026", "createdAt": "2020-12-12T18:03:11Z", "commit": {"oid": "75b93d619fbf0f0d0fe8b56900f12a23c7cc30d6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQxODowMzoxMlrOIEmpwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQxODowMzoxMlrOIEmpwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY5ODQ5Ng==", "bodyText": "The ThriftIO tests used to rely on fields being public.", "url": "https://github.com/apache/beam/pull/13539#discussion_r541698496", "createdAt": "2020-12-12T18:03:12Z", "author": {"login": "ccciudatu"}, "path": "sdks/java/io/thrift/src/test/java/org/apache/beam/sdk/io/thrift/ThriftIOTest.java", "diffHunk": "@@ -240,15 +240,15 @@ public void testThriftCoder() {\n       // Generate random string\n       String randomString = RandomStringUtils.random(10, true, false);\n       short s = (short) RandomUtils.nextInt(0, Short.MAX_VALUE + 1);\n-      temp.stringIntMap = new HashMap<>();\n-      temp.stringIntMap.put(randomString, s);\n-      temp.testShort = s;\n-      temp.testBinary = buffer;\n-      temp.testBool = RandomUtils.nextBoolean();\n-      temp.testByte = (byte) RandomUtils.nextInt(0, Byte.MAX_VALUE + 1);\n-      temp.testDouble = RandomUtils.nextDouble();\n-      temp.testInt = RandomUtils.nextInt();\n-      temp.testLong = RandomUtils.nextLong();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "75b93d619fbf0f0d0fe8b56900f12a23c7cc30d6"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxNzE0NDU5", "url": "https://github.com/apache/beam/pull/13539#pullrequestreview-551714459", "createdAt": "2020-12-14T17:49:23Z", "commit": {"oid": "75b93d619fbf0f0d0fe8b56900f12a23c7cc30d6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4411, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}