{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxODIwMzk1", "number": 12913, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMTowMTo1MVrOEp8qig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMTowNToxOFrOEp8t6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNDIxMDAyOnYy", "diffSide": "RIGHT", "path": "website/www/site/content/en/get-started/wordcount-example.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMTowMTo1MVrOHb7g-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMTowMTo1MVrOHb7g-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA0ODY5OA==", "bodyText": "An important difference is that ReadFromPubSub returns a bytes object (the raw message data).\nI would:\n\nrename lines to data\nadd an additional step below: lines = data | 'DecodeString' >> beam.Map(lambda d: d.decode('utf-8')))", "url": "https://github.com/apache/beam/pull/12913#discussion_r499048698", "createdAt": "2020-10-02T21:01:51Z", "author": {"login": "udim"}, "path": "website/www/site/content/en/get-started/wordcount-example.md", "diffHunk": "@@ -1405,10 +1405,10 @@ messages from a Pub/Sub subscription or topic using\n {{< highlight py >}}\n   # Read from Pub/Sub into a PCollection.\n   if known_args.input_subscription:\n-    lines = p | beam.io.ReadStringsFromPubSub(\n+    lines = p | beam.io.ReadFromPubSub(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c50f4a8de4d642d4f5c2e4324fb089f6624accad"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNDIxODY3OnYy", "diffSide": "RIGHT", "path": "website/www/site/content/en/get-started/wordcount-example.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMTowNToxOFrOHb7mUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMTowNToxOFrOHb7mUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA1MDA2NQ==", "bodyText": "Similarly here, assuming that strings are being written they would have to be converted to bytes first.\n_ = (output \n     | 'EncodeString' >> Map(lambda s: s.encode('utf-8'))\n     | beam.io.WriteToPubSub(known_args.output_topic))", "url": "https://github.com/apache/beam/pull/12913#discussion_r499050065", "createdAt": "2020-10-02T21:05:18Z", "author": {"login": "udim"}, "path": "website/www/site/content/en/get-started/wordcount-example.md", "diffHunk": "@@ -1424,15 +1424,15 @@ outputs.\n \n This example uses an unbounded `PCollection` and streams the results to\n Google Pub/Sub. The code formats the results and writes them to a Pub/Sub topic\n-using [`beam.io.WriteStringsToPubSub`](https://beam.apache.org/releases/pydoc/{{< param release_latest >}}/apache_beam.io.gcp.pubsub.html#apache_beam.io.gcp.pubsub.WriteStringsToPubSub).\n+using [`beam.io.WriteToPubSub`](https://beam.apache.org/releases/pydoc/{{< param release_latest >}}/apache_beam.io.gcp.pubsub.html#apache_beam.io.gcp.pubsub.WriteToPubSub).\n \n {{< highlight java >}}\n   // This example is not currently available for the Beam SDK for Java.\n {{< /highlight >}}\n \n {{< highlight py >}}\n   # Write to Pub/Sub\n-  output | beam.io.WriteStringsToPubSub(known_args.output_topic)\n+  output | beam.io.WriteToPubSub(known_args.output_topic)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c50f4a8de4d642d4f5c2e4324fb089f6624accad"}, "originalPosition": 45}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3216, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}