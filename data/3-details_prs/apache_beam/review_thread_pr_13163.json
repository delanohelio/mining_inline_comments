{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3ODE4Njgw", "number": 13163, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NDowN1rOEw9WiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMjowMToxOVrOEw9eQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5NzcyMjk2OnYy", "diffSide": "RIGHT", "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NDowN1rOHm1PTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NDowN1rOHm1PTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ4MDIwNA==", "bodyText": "I thought that this would be covered by MonitoringInfosMetadataRequest\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                HarnessMonitoringInfosMetadataRequest harness_monitoring_infos_metadata = 1007;", "url": "https://github.com/apache/beam/pull/13163#discussion_r510480204", "createdAt": "2020-10-22T21:54:07Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -108,6 +108,8 @@ message InstructionRequest {\n     ProcessBundleSplitRequest process_bundle_split = 1003;\n     FinalizeBundleRequest finalize_bundle = 1004;\n     MonitoringInfosMetadataRequest monitoring_infos = 1005;\n+    HarnessMonitoringInfosRequest harness_monitoring_infos = 1006;\n+    HarnessMonitoringInfosMetadataRequest harness_monitoring_infos_metadata = 1007;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff701ba7ee9b78e8d0274032fbbbfb4571146662"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5NzcyNDIzOnYy", "diffSide": "RIGHT", "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NDozN1rOHm1QGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NDozN1rOHm1QGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ4MDQxMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                HarnessMonitoringInfosMetadataResponse harness_monitoring_infos_metadata = 1007;", "url": "https://github.com/apache/beam/pull/13163#discussion_r510480411", "createdAt": "2020-10-22T21:54:37Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -135,12 +137,55 @@ message InstructionResponse {\n     ProcessBundleSplitResponse process_bundle_split = 1003;\n     FinalizeBundleResponse finalize_bundle = 1004;\n     MonitoringInfosMetadataResponse monitoring_infos = 1005;\n+    HarnessMonitoringInfosResponse harness_monitoring_infos = 1006;\n+    HarnessMonitoringInfosMetadataResponse harness_monitoring_infos_metadata = 1007;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff701ba7ee9b78e8d0274032fbbbfb4571146662"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5NzcyNTkzOnYy", "diffSide": "RIGHT", "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NToxNFrOHm1RIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NToxNFrOHm1RIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ4MDY3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // The SDK is allowed to reuse the identifiers across multiple bundles as long\n          \n          \n            \n            // as the MonitoringInfo could be reconstructed fully by overwriting its\n          \n          \n            \n            // payload field with the bytes specified here.\n          \n          \n            \n            // The SDK is allowed to reuse the identifiers for the lifetime of the associated control connection as long\n          \n          \n            \n            // as the MonitoringInfo could be reconstructed fully by overwriting its\n          \n          \n            \n            // payload field with the bytes specified here.", "url": "https://github.com/apache/beam/pull/13163#discussion_r510480672", "createdAt": "2020-10-22T21:55:14Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -135,12 +137,55 @@ message InstructionResponse {\n     ProcessBundleSplitResponse process_bundle_split = 1003;\n     FinalizeBundleResponse finalize_bundle = 1004;\n     MonitoringInfosMetadataResponse monitoring_infos = 1005;\n+    HarnessMonitoringInfosResponse harness_monitoring_infos = 1006;\n+    HarnessMonitoringInfosMetadataResponse harness_monitoring_infos_metadata = 1007;\n \n     // DEPRECATED\n     RegisterResponse register = 1000;\n   }\n }\n \n+// A request to provide full MonitoringInfo associated with the entire SDK\n+// harness process, not specific to a bundle.\n+//\n+// An SDK can report metrics using an identifier that only contains the\n+// associated payload. A runner who wants to receive the full metrics\n+// information can request all the monitoring metadata via a\n+// MonitoringInfosMetadataRequest providing a list of ids as necessary.\n+//\n+// The SDK is allowed to reuse the identifiers across multiple bundles as long\n+// as the MonitoringInfo could be reconstructed fully by overwriting its\n+// payload field with the bytes specified here.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff701ba7ee9b78e8d0274032fbbbfb4571146662"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5NzcyNjk1OnYy", "diffSide": "RIGHT", "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NTozMVrOHm1Rug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NTozMVrOHm1Rug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ4MDgyNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              // Metrics associated with the sdk harness process, not a specific bundle.\n          \n          \n            \n              // Metrics associated with the SDK harness, not a specific bundle.", "url": "https://github.com/apache/beam/pull/13163#discussion_r510480826", "createdAt": "2020-10-22T21:55:31Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -135,12 +137,55 @@ message InstructionResponse {\n     ProcessBundleSplitResponse process_bundle_split = 1003;\n     FinalizeBundleResponse finalize_bundle = 1004;\n     MonitoringInfosMetadataResponse monitoring_infos = 1005;\n+    HarnessMonitoringInfosResponse harness_monitoring_infos = 1006;\n+    HarnessMonitoringInfosMetadataResponse harness_monitoring_infos_metadata = 1007;\n \n     // DEPRECATED\n     RegisterResponse register = 1000;\n   }\n }\n \n+// A request to provide full MonitoringInfo associated with the entire SDK\n+// harness process, not specific to a bundle.\n+//\n+// An SDK can report metrics using an identifier that only contains the\n+// associated payload. A runner who wants to receive the full metrics\n+// information can request all the monitoring metadata via a\n+// MonitoringInfosMetadataRequest providing a list of ids as necessary.\n+//\n+// The SDK is allowed to reuse the identifiers across multiple bundles as long\n+// as the MonitoringInfo could be reconstructed fully by overwriting its\n+// payload field with the bytes specified here.\n+message HarnessMonitoringInfosRequest {\n+}\n+\n+message HarnessMonitoringInfosResponse {\n+  // An identifier to MonitoringInfo.payload mapping containing\n+  // Metrics associated with the sdk harness process, not a specific bundle.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff701ba7ee9b78e8d0274032fbbbfb4571146662"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5NzcyNzc1OnYy", "diffSide": "RIGHT", "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NTo0OVrOHm1SNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NTo0OVrOHm1SNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ4MDk1MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              // The SDK is allowed to reuse the identifiers across multiple bundles as long\n          \n          \n            \n              // The SDK is allowed to reuse the identifiers for the lifetime of the associated control connection as long", "url": "https://github.com/apache/beam/pull/13163#discussion_r510480950", "createdAt": "2020-10-22T21:55:49Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -135,12 +137,55 @@ message InstructionResponse {\n     ProcessBundleSplitResponse process_bundle_split = 1003;\n     FinalizeBundleResponse finalize_bundle = 1004;\n     MonitoringInfosMetadataResponse monitoring_infos = 1005;\n+    HarnessMonitoringInfosResponse harness_monitoring_infos = 1006;\n+    HarnessMonitoringInfosMetadataResponse harness_monitoring_infos_metadata = 1007;\n \n     // DEPRECATED\n     RegisterResponse register = 1000;\n   }\n }\n \n+// A request to provide full MonitoringInfo associated with the entire SDK\n+// harness process, not specific to a bundle.\n+//\n+// An SDK can report metrics using an identifier that only contains the\n+// associated payload. A runner who wants to receive the full metrics\n+// information can request all the monitoring metadata via a\n+// MonitoringInfosMetadataRequest providing a list of ids as necessary.\n+//\n+// The SDK is allowed to reuse the identifiers across multiple bundles as long\n+// as the MonitoringInfo could be reconstructed fully by overwriting its\n+// payload field with the bytes specified here.\n+message HarnessMonitoringInfosRequest {\n+}\n+\n+message HarnessMonitoringInfosResponse {\n+  // An identifier to MonitoringInfo.payload mapping containing\n+  // Metrics associated with the sdk harness process, not a specific bundle.\n+  //\n+  // An SDK can report metrics using an identifier that only contains the\n+  // associated payload. A runner who wants to receive the full metrics\n+  // information can request all the monitoring metadata via a\n+  // MonitoringInfosMetadataRequest providing a list of ids as necessary.\n+  //\n+  // The SDK is allowed to reuse the identifiers across multiple bundles as long", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff701ba7ee9b78e8d0274032fbbbfb4571146662"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5NzcyODUxOnYy", "diffSide": "RIGHT", "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NjowM1rOHm1Spw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NjowM1rOHm1Spw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ4MTA2Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            message HarnessMonitoringInfosMetadataRequest {\n          \n          \n            \n              // A list of ids for which the full MonitoringInfo is requested for.\n          \n          \n            \n              repeated string monitoring_info_id = 1;\n          \n          \n            \n            }\n          \n          \n            \n            \n          \n          \n            \n            message HarnessMonitoringInfosMetadataResponse {\n          \n          \n            \n              // A mapping from an identifier to the full metrics information.\n          \n          \n            \n              // The \u201cbytes payload\u201d field is not populated on the MonitoringInfo\n          \n          \n            \n              map<string, org.apache.beam.model.pipeline.v1.MonitoringInfo>\n          \n          \n            \n                  monitoring_infos = 1;\n          \n          \n            \n            }", "url": "https://github.com/apache/beam/pull/13163#discussion_r510481063", "createdAt": "2020-10-22T21:56:03Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -135,12 +137,55 @@ message InstructionResponse {\n     ProcessBundleSplitResponse process_bundle_split = 1003;\n     FinalizeBundleResponse finalize_bundle = 1004;\n     MonitoringInfosMetadataResponse monitoring_infos = 1005;\n+    HarnessMonitoringInfosResponse harness_monitoring_infos = 1006;\n+    HarnessMonitoringInfosMetadataResponse harness_monitoring_infos_metadata = 1007;\n \n     // DEPRECATED\n     RegisterResponse register = 1000;\n   }\n }\n \n+// A request to provide full MonitoringInfo associated with the entire SDK\n+// harness process, not specific to a bundle.\n+//\n+// An SDK can report metrics using an identifier that only contains the\n+// associated payload. A runner who wants to receive the full metrics\n+// information can request all the monitoring metadata via a\n+// MonitoringInfosMetadataRequest providing a list of ids as necessary.\n+//\n+// The SDK is allowed to reuse the identifiers across multiple bundles as long\n+// as the MonitoringInfo could be reconstructed fully by overwriting its\n+// payload field with the bytes specified here.\n+message HarnessMonitoringInfosRequest {\n+}\n+\n+message HarnessMonitoringInfosResponse {\n+  // An identifier to MonitoringInfo.payload mapping containing\n+  // Metrics associated with the sdk harness process, not a specific bundle.\n+  //\n+  // An SDK can report metrics using an identifier that only contains the\n+  // associated payload. A runner who wants to receive the full metrics\n+  // information can request all the monitoring metadata via a\n+  // MonitoringInfosMetadataRequest providing a list of ids as necessary.\n+  //\n+  // The SDK is allowed to reuse the identifiers across multiple bundles as long\n+  // as the MonitoringInfo could be reconstructed fully by overwriting its\n+  // payload field with the bytes specified here.\n+  map<string, bytes> monitoring_data = 1;\n+}\n+\n+message HarnessMonitoringInfosMetadataRequest {\n+  // A list of ids for which the full MonitoringInfo is requested for.\n+  repeated string monitoring_info_id = 1;\n+}\n+\n+message HarnessMonitoringInfosMetadataResponse {\n+  // A mapping from an identifier to the full metrics information.\n+  // The \u201cbytes payload\u201d field is not populated on the MonitoringInfo\n+  map<string, org.apache.beam.model.pipeline.v1.MonitoringInfo>\n+      monitoring_infos = 1;\n+}\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff701ba7ee9b78e8d0274032fbbbfb4571146662"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5NzcyOTM3OnYy", "diffSide": "RIGHT", "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NjoxOVrOHm1TIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NjoxOVrOHm1TIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ4MTE4Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // The SDK is allowed to reuse the identifiers across multiple bundles as long\n          \n          \n            \n            // The SDK is allowed to reuse the identifiers for the lifetime of the associated control connection as long", "url": "https://github.com/apache/beam/pull/13163#discussion_r510481186", "createdAt": "2020-10-22T21:56:19Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -306,18 +351,18 @@ message ProcessBundleProgressRequest {\n   string instruction_id = 1;\n }\n \n-// A request to provide full MonitoringInfo for a given id.\n+// A request to provide full MonitoringInfo for a given bundle.\n //\n // An SDK can report metrics using an identifier that only contains the\n // associated payload. A runner who wants to receive the full metrics\n // information can request all the monitoring metadata via a\n // MonitoringInfosMetadataRequest providing a list of ids as necessary.\n //\n-// The MonitoringInfo ids are scoped to the associated control connection. For\n-// example, an SDK may reuse the ids across multiple bundles.\n+// The SDK is allowed to reuse the identifiers across multiple bundles as long", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff701ba7ee9b78e8d0274032fbbbfb4571146662"}, "originalPosition": 79}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5NzczMDY5OnYy", "diffSide": "RIGHT", "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1Njo0OVrOHm1T7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1Njo0OVrOHm1T7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ4MTM4OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // The SDK is allowed to reuse the identifiers across multiple bundles as long\n          \n          \n            \n            // The SDK is allowed to reuse the identifiers for the lifetime of the associated control connection as long", "url": "https://github.com/apache/beam/pull/13163#discussion_r510481389", "createdAt": "2020-10-22T21:56:49Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -349,11 +394,11 @@ message ProcessBundleProgressResponse {\n // information can request all the monitoring metadata via a\n // MonitoringInfosMetadataRequest providing a list of ids as necessary.\n //\n-// The MonitoringInfo ids are scoped to the associated control connection. For\n-// example an SDK may reuse the ids across multiple bundles.\n+// The SDK is allowed to reuse the identifiers across multiple bundles as long", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff701ba7ee9b78e8d0274032fbbbfb4571146662"}, "originalPosition": 95}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5NzczMjM0OnYy", "diffSide": "RIGHT", "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NzozMVrOHm1VCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTo1NzozMVrOHm1VCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ4MTY3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // A request to provide full MonitoringInfo for a given bundle.\n          \n          \n            \n            // A request to provide full MonitoringInfo for a set of provided ids.", "url": "https://github.com/apache/beam/pull/13163#discussion_r510481672", "createdAt": "2020-10-22T21:57:31Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -306,18 +351,18 @@ message ProcessBundleProgressRequest {\n   string instruction_id = 1;\n }\n \n-// A request to provide full MonitoringInfo for a given id.\n+// A request to provide full MonitoringInfo for a given bundle.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff701ba7ee9b78e8d0274032fbbbfb4571146662"}, "originalPosition": 70}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5Nzc0MjczOnYy", "diffSide": "RIGHT", "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMjowMToxOVrOHm1bbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMzowODoyOFrOHm23bQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ4MzMwOQ==", "bodyText": "Can you copy the update to say for the lifetime of the associated control connection in ProcessBundleProgressResponse and ProcessBundleResponse", "url": "https://github.com/apache/beam/pull/13163#discussion_r510483309", "createdAt": "2020-10-22T22:01:19Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -306,18 +351,18 @@ message ProcessBundleProgressRequest {\n   string instruction_id = 1;\n }\n \n-// A request to provide full MonitoringInfo for a given id.\n+// A request to provide full MonitoringInfo for a given bundle.\n //\n // An SDK can report metrics using an identifier that only contains the\n // associated payload. A runner who wants to receive the full metrics\n // information can request all the monitoring metadata via a\n // MonitoringInfosMetadataRequest providing a list of ids as necessary.\n //\n-// The MonitoringInfo ids are scoped to the associated control connection. For\n-// example, an SDK may reuse the ids across multiple bundles.\n+// The SDK is allowed to reuse the identifiers across multiple bundles as long\n+// as the MonitoringInfo could be reconstructed fully by overwriting its\n+// payload field with the bytes specified here.\n message MonitoringInfosMetadataRequest {\n-  // A list of ids for which MonitoringInfo are requested. All but the payload\n-  // field will be populated.\n+  // A list of ids for which the full MonitoringInfo is requested for.\n   repeated string monitoring_info_id = 1;\n }\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff701ba7ee9b78e8d0274032fbbbfb4571146662"}, "originalPosition": 88}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDUwNjg2MQ==", "bodyText": "I believe I have applied all of your suggestions now. I did some through this webpage and some locally.", "url": "https://github.com/apache/beam/pull/13163#discussion_r510506861", "createdAt": "2020-10-22T23:08:28Z", "author": {"login": "ajamato"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -306,18 +351,18 @@ message ProcessBundleProgressRequest {\n   string instruction_id = 1;\n }\n \n-// A request to provide full MonitoringInfo for a given id.\n+// A request to provide full MonitoringInfo for a given bundle.\n //\n // An SDK can report metrics using an identifier that only contains the\n // associated payload. A runner who wants to receive the full metrics\n // information can request all the monitoring metadata via a\n // MonitoringInfosMetadataRequest providing a list of ids as necessary.\n //\n-// The MonitoringInfo ids are scoped to the associated control connection. For\n-// example, an SDK may reuse the ids across multiple bundles.\n+// The SDK is allowed to reuse the identifiers across multiple bundles as long\n+// as the MonitoringInfo could be reconstructed fully by overwriting its\n+// payload field with the bytes specified here.\n message MonitoringInfosMetadataRequest {\n-  // A list of ids for which MonitoringInfo are requested. All but the payload\n-  // field will be populated.\n+  // A list of ids for which the full MonitoringInfo is requested for.\n   repeated string monitoring_info_id = 1;\n }\n ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ4MzMwOQ=="}, "originalCommit": {"oid": "ff701ba7ee9b78e8d0274032fbbbfb4571146662"}, "originalPosition": 88}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3056, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}