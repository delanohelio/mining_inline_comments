{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4ODAwOTk1", "number": 10717, "title": "[BEAM-8280] Enable type hint annotations", "bodyText": "Changes default to use type annotations.\nAdds a couple of way to disable them:\n\napache_beam.typehints.disable_type_annotations() to disable globally.\n@apache_beam.typehints.no_annotations decorator to disable on a specific\nfunction.\n\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nApex\nDataflow\nFlink\nGearpump\nSamza\nSpark\n\n\n\n\nGo\n\n---\n---\n\n---\n---\n\n\n\nJava\n\n\n\n\n\n\n\n\n\nPython\n\n---\n\n\n---\n---\n\n\n\nXLang\n---\n---\n---\n\n---\n---\n---\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-01-29T22:34:55Z", "url": "https://github.com/apache/beam/pull/10717", "merged": true, "mergeCommit": {"oid": "0351b4988585500be0be34156c52eb959f9b6141"}, "closed": true, "closedAt": "2020-03-20T23:41:01Z", "author": {"login": "udim"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDqjnPABqjMwMzE5MjY1NTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTHOvogFqTM4NDk4NjcwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3018d0767cbe27a88096648ac3a68bdabb09ed61", "author": {"user": {"login": "udim", "name": "Udi Meiri"}}, "url": "https://github.com/apache/beam/commit/3018d0767cbe27a88096648ac3a68bdabb09ed61", "committedDate": "2020-01-29T22:48:36Z", "message": "Fix lint"}, "afterCommit": {"oid": "cc854f5e8c67f83bab79a4a6d2f513e13b21146b", "author": {"user": {"login": "udim", "name": "Udi Meiri"}}, "url": "https://github.com/apache/beam/commit/cc854f5e8c67f83bab79a4a6d2f513e13b21146b", "committedDate": "2020-02-12T18:19:03Z", "message": "[BEAM-8280] Enable type hint annotations\n\nChanges default to use type annotations.\n\nAdds a couple of way to disable them:\n- `decorators.disable_type_annotations()` to disable globally.\n- `@decorators.no_annotations` decorator to disable on a specific\nfunction."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "469319e262230e66ba745d1759dfe89c9b24dc24", "author": {"user": {"login": "udim", "name": "Udi Meiri"}}, "url": "https://github.com/apache/beam/commit/469319e262230e66ba745d1759dfe89c9b24dc24", "committedDate": "2020-02-12T22:28:10Z", "message": "lint"}, "afterCommit": {"oid": "cccd4b603da163b43ac571dda9baf6366f054141", "author": {"user": {"login": "udim", "name": "Udi Meiri"}}, "url": "https://github.com/apache/beam/commit/cccd4b603da163b43ac571dda9baf6366f054141", "committedDate": "2020-02-28T19:46:26Z", "message": "[BEAM-8280] Enable type hint annotations\n\nChanges default to use type annotations.\n\nAdds `decorators.disable_type_annotations()`, which disables annotations\nglobally."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "26c6281c4e2df787358ccbb7802d172facdd5efa", "author": {"user": {"login": "udim", "name": "Udi Meiri"}}, "url": "https://github.com/apache/beam/commit/26c6281c4e2df787358ccbb7802d172facdd5efa", "committedDate": "2020-03-06T01:02:45Z", "message": "Add CHANGES.md entry"}, "afterCommit": {"oid": "fb3230b7e65dff7baddc391e95a6fe7f1c32e343", "author": {"user": {"login": "udim", "name": "Udi Meiri"}}, "url": "https://github.com/apache/beam/commit/fb3230b7e65dff7baddc391e95a6fe7f1c32e343", "committedDate": "2020-03-06T01:06:42Z", "message": "[BEAM-8280] Enable type hint annotations\n\nChanges default to use type annotations.\n\nAdds `apache_beam.typehints.disable_type_annotations()`, which disables\nannotations globally."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNTgzMTI1", "url": "https://github.com/apache/beam/pull/10717#pullrequestreview-370583125", "createdAt": "2020-03-06T19:46:27Z", "commit": {"oid": "fb3230b7e65dff7baddc391e95a6fe7f1c32e343"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxOTo0NjoyOFrOFzFXUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxOTo0NjoyOFrOFzFXUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTEwOTU4Nw==", "bodyText": "Please add a link to some docs, and make sure they have a good pointer for how to disable this if it breaks users (that may have bad typing hints and need a quick fix).", "url": "https://github.com/apache/beam/pull/10717#discussion_r389109587", "createdAt": "2020-03-06T19:46:28Z", "author": {"login": "robertwb"}, "path": "CHANGES.md", "diffHunk": "@@ -39,6 +39,7 @@\n * New AnnotateImage & AnnotateImageWithContext PTransform's for element-wise & batch image annotation using Google Cloud Vision API. (Python) ([BEAM-9247](https://issues.apache.org/jira/browse/BEAM-9247))\n * Added a PTransform for inspection and deidentification of text using Google Cloud DLP. (Python) ([BEAM-9258](https://issues.apache.org/jira/browse/BEAM-9258))\n * Added ability to write to BigQuery via Avro file loads (Python)([BEAM-8841](https://issues.apache.org/jira/browse/BEAM-8841))\n+* Python SDK will now use Python 3 type annotations as pipeline type hints. ([#10717](https://github.com/apache/beam/pull/10717))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb3230b7e65dff7baddc391e95a6fe7f1c32e343"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fb3230b7e65dff7baddc391e95a6fe7f1c32e343", "author": {"user": {"login": "udim", "name": "Udi Meiri"}}, "url": "https://github.com/apache/beam/commit/fb3230b7e65dff7baddc391e95a6fe7f1c32e343", "committedDate": "2020-03-06T01:06:42Z", "message": "[BEAM-8280] Enable type hint annotations\n\nChanges default to use type annotations.\n\nAdds `apache_beam.typehints.disable_type_annotations()`, which disables\nannotations globally."}, "afterCommit": {"oid": "e8d284411e20de7b81cac76373f4b4af098dd66e", "author": {"user": {"login": "udim", "name": "Udi Meiri"}}, "url": "https://github.com/apache/beam/commit/e8d284411e20de7b81cac76373f4b4af098dd66e", "committedDate": "2020-03-20T01:14:53Z", "message": "[BEAM-8280] Enable type hint annotations\n\nChanges default to use type annotations.\n\nAdds `apache_beam.typehints.disable_type_annotations()`, which disables\nannotations globally."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "636de82925768cb92a0ae4e8d16bec418fb68b04", "author": {"user": {"login": "udim", "name": "Udi Meiri"}}, "url": "https://github.com/apache/beam/commit/636de82925768cb92a0ae4e8d16bec418fb68b04", "committedDate": "2020-03-20T01:20:25Z", "message": "[BEAM-8280] Enable type hint annotations\n\nChanges default to use type annotations.\n\nAdds `apache_beam.typehints.disable_type_annotations()`, which disables\nannotations globally."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e8d284411e20de7b81cac76373f4b4af098dd66e", "author": {"user": {"login": "udim", "name": "Udi Meiri"}}, "url": "https://github.com/apache/beam/commit/e8d284411e20de7b81cac76373f4b4af098dd66e", "committedDate": "2020-03-20T01:14:53Z", "message": "[BEAM-8280] Enable type hint annotations\n\nChanges default to use type annotations.\n\nAdds `apache_beam.typehints.disable_type_annotations()`, which disables\nannotations globally."}, "afterCommit": {"oid": "636de82925768cb92a0ae4e8d16bec418fb68b04", "author": {"user": {"login": "udim", "name": "Udi Meiri"}}, "url": "https://github.com/apache/beam/commit/636de82925768cb92a0ae4e8d16bec418fb68b04", "committedDate": "2020-03-20T01:20:25Z", "message": "[BEAM-8280] Enable type hint annotations\n\nChanges default to use type annotations.\n\nAdds `apache_beam.typehints.disable_type_annotations()`, which disables\nannotations globally."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0OTg2NzAz", "url": "https://github.com/apache/beam/pull/10717#pullrequestreview-384986703", "createdAt": "2020-03-31T18:15:34Z", "commit": {"oid": "636de82925768cb92a0ae4e8d16bec418fb68b04"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxODoxNTozNFrOF-iP6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxODoxNTozNFrOF-iP6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTExNzE2MQ==", "bodyText": "Should this be True? (based on the check in line 234)", "url": "https://github.com/apache/beam/pull/10717#discussion_r401117161", "createdAt": "2020-03-31T18:15:34Z", "author": {"login": "angoenka"}, "path": "sdks/python/apache_beam/typehints/decorators.py", "diffHunk": "@@ -138,8 +139,7 @@ def foo((a, b)):\n \n _ANY_VAR_POSITIONAL = typehints.Tuple[typehints.Any, ...]\n _ANY_VAR_KEYWORD = typehints.Dict[typehints.Any, typehints.Any]\n-# TODO(BEAM-8280): Remove this when from_callable is ready to be enabled.\n-_enable_from_callable = False\n+_disable_from_callable = False", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "636de82925768cb92a0ae4e8d16bec418fb68b04"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3285, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}