{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5MDQ4NjM5", "number": 11135, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwODoyMTo0MVrODoOkkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwODoyOTo1MlrODoOudg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNTA4MzY4OnYy", "diffSide": "RIGHT", "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwODoyMTo0MVrOF2pi0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQyMDowOToyOVrOF4-pMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg0ODA4MA==", "bodyText": "Not sure if this should be in separate file or together with other test cases in  job__LoadTests_GBK_Java.grooy", "url": "https://github.com/apache/beam/pull/11135#discussion_r392848080", "createdAt": "2020-03-16T08:21:41Z", "author": {"login": "lgajowy"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "diffHunk": "@@ -0,0 +1,208 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+import CommonTestProperties\n+import LoadTestsBuilder as loadTestsBuilder\n+import PhraseTriggeringPostCommitBuilder\n+\n+def loadTestConfigurations = { mode, isStreaming, datasetName ->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg0ODE1Mw==", "bodyText": "@mwalenia could you confirm?", "url": "https://github.com/apache/beam/pull/11135#discussion_r392848153", "createdAt": "2020-03-16T08:21:52Z", "author": {"login": "lgajowy"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "diffHunk": "@@ -0,0 +1,208 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+import CommonTestProperties\n+import LoadTestsBuilder as loadTestsBuilder\n+import PhraseTriggeringPostCommitBuilder\n+\n+def loadTestConfigurations = { mode, isStreaming, datasetName ->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg0ODA4MA=="}, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg2NTIzMQ==", "bodyText": "as the java test file contained only dataflow tests, I separated spark but sure I can merge. Waiting for the answer", "url": "https://github.com/apache/beam/pull/11135#discussion_r392865231", "createdAt": "2020-03-16T08:56:02Z", "author": {"login": "echauchot"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "diffHunk": "@@ -0,0 +1,208 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+import CommonTestProperties\n+import LoadTestsBuilder as loadTestsBuilder\n+import PhraseTriggeringPostCommitBuilder\n+\n+def loadTestConfigurations = { mode, isStreaming, datasetName ->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg0ODA4MA=="}, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg5NTE3MQ==", "bodyText": "I think we can split the job definitions runner-wise into files, that way the files won't get too bloated", "url": "https://github.com/apache/beam/pull/11135#discussion_r392895171", "createdAt": "2020-03-16T09:51:05Z", "author": {"login": "mwalenia"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "diffHunk": "@@ -0,0 +1,208 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+import CommonTestProperties\n+import LoadTestsBuilder as loadTestsBuilder\n+import PhraseTriggeringPostCommitBuilder\n+\n+def loadTestConfigurations = { mode, isStreaming, datasetName ->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg0ODA4MA=="}, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTI5MDkyOA==", "bodyText": "I'm fine with both options then.", "url": "https://github.com/apache/beam/pull/11135#discussion_r395290928", "createdAt": "2020-03-19T20:09:29Z", "author": {"login": "lgajowy"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "diffHunk": "@@ -0,0 +1,208 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+import CommonTestProperties\n+import LoadTestsBuilder as loadTestsBuilder\n+import PhraseTriggeringPostCommitBuilder\n+\n+def loadTestConfigurations = { mode, isStreaming, datasetName ->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg0ODA4MA=="}, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNTA5NzA5OnYy", "diffSide": "RIGHT", "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwODoyNTo0OVrOF2pqtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwOToxNjozN1rOGCmXKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg1MDEwMA==", "bodyText": "should this be false?", "url": "https://github.com/apache/beam/pull/11135#discussion_r392850100", "createdAt": "2020-03-16T08:25:49Z", "author": {"login": "lgajowy"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "diffHunk": "@@ -0,0 +1,208 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+import CommonTestProperties\n+import LoadTestsBuilder as loadTestsBuilder\n+import PhraseTriggeringPostCommitBuilder\n+\n+def loadTestConfigurations = { mode, isStreaming, datasetName ->\n+    [\n+            [\n+                    title          : 'Load test: 2GB of 10B records',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_1\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg2MDY1MA==", "bodyText": "This was for testing at first but, sure I can put true", "url": "https://github.com/apache/beam/pull/11135#discussion_r392860650", "createdAt": "2020-03-16T08:47:08Z", "author": {"login": "echauchot"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "diffHunk": "@@ -0,0 +1,208 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+import CommonTestProperties\n+import LoadTestsBuilder as loadTestsBuilder\n+import PhraseTriggeringPostCommitBuilder\n+\n+def loadTestConfigurations = { mode, isStreaming, datasetName ->\n+    [\n+            [\n+                    title          : 'Load test: 2GB of 10B records',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_1\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg1MDEwMA=="}, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTI5MDQzOA==", "bodyText": "Let's put true then. :)", "url": "https://github.com/apache/beam/pull/11135#discussion_r395290438", "createdAt": "2020-03-19T20:08:29Z", "author": {"login": "lgajowy"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "diffHunk": "@@ -0,0 +1,208 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+import CommonTestProperties\n+import LoadTestsBuilder as loadTestsBuilder\n+import PhraseTriggeringPostCommitBuilder\n+\n+def loadTestConfigurations = { mode, isStreaming, datasetName ->\n+    [\n+            [\n+                    title          : 'Load test: 2GB of 10B records',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_1\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg1MDEwMA=="}, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTM3ODg1Ng==", "bodyText": "done", "url": "https://github.com/apache/beam/pull/11135#discussion_r405378856", "createdAt": "2020-04-08T09:16:37Z", "author": {"login": "echauchot"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "diffHunk": "@@ -0,0 +1,208 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+import CommonTestProperties\n+import LoadTestsBuilder as loadTestsBuilder\n+import PhraseTriggeringPostCommitBuilder\n+\n+def loadTestConfigurations = { mode, isStreaming, datasetName ->\n+    [\n+            [\n+                    title          : 'Load test: 2GB of 10B records',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_1\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg1MDEwMA=="}, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNTEwMTY5OnYy", "diffSide": "RIGHT", "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwODoyNzoxMlrOF2ptdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwOToxNjo0OFrOGCmXmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg1MDgwNg==", "bodyText": "This runs only when we type Run load test... in the comment. Should we add the Cron-trigged version?", "url": "https://github.com/apache/beam/pull/11135#discussion_r392850806", "createdAt": "2020-03-16T08:27:12Z", "author": {"login": "lgajowy"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "diffHunk": "@@ -0,0 +1,208 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+import CommonTestProperties\n+import LoadTestsBuilder as loadTestsBuilder\n+import PhraseTriggeringPostCommitBuilder\n+\n+def loadTestConfigurations = { mode, isStreaming, datasetName ->\n+    [\n+            [\n+                    title          : 'Load test: 2GB of 10B records',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_1\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_sparkstructuredstreaming_${mode}_GBK_1\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 200000000,\n+                                              \"keySizeBytes\": 1,\n+                                              \"valueSizeBytes\": 9\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+                    title          : 'Load test: 2GB of 100B records',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_2\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_2\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 20000000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+\n+                    title          : 'Load test: 2GB of 100kB records',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_3\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_3\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 20000,\n+                                              \"keySizeBytes\": 10000,\n+                                              \"valueSizeBytes\": 90000\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+\n+            ],\n+            [\n+                    title          : 'Load test: fanout 4 times with 2GB 10-byte records total',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : 'load_tests_Java_SparkStructuredStreaming_${mode}_GBK_4',\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_4\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 5000000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 4,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+                    title          : 'Load test: fanout 8 times with 2GB 10-byte records total',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_5\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_5\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 2500000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 8,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+                    title          : 'Load test: reiterate 4 times 10kB values',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_6\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_6\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 20000000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90,\n+                                              \"numHotKeys\": 200,\n+                                              \"hotKeyFraction\": 1\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 4,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+                    title          : 'Load test: reiterate 4 times 2MB values',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_7\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_7\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 20000000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90,\n+                                              \"numHotKeys\": 10,\n+                                              \"hotKeyFraction\": 1\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 4,\n+                            streaming             : isStreaming\n+                    ]\n+            ]\n+    ]\n+}\n+\n+def batchLoadTestJob = { scope, triggeringContext ->\n+    def datasetName = loadTestsBuilder.getBigQueryDataset('load_test', triggeringContext)\n+    loadTestsBuilder.loadTests(scope, CommonTestProperties.SDK.JAVA, loadTestConfigurations('batch', false, datasetName), \"GBK\", \"batch\")\n+}\n+\n+PhraseTriggeringPostCommitBuilder.postCommitJob(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 201}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg2MTIyMg==", "bodyText": "same as above ;)", "url": "https://github.com/apache/beam/pull/11135#discussion_r392861222", "createdAt": "2020-03-16T08:48:15Z", "author": {"login": "echauchot"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "diffHunk": "@@ -0,0 +1,208 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+import CommonTestProperties\n+import LoadTestsBuilder as loadTestsBuilder\n+import PhraseTriggeringPostCommitBuilder\n+\n+def loadTestConfigurations = { mode, isStreaming, datasetName ->\n+    [\n+            [\n+                    title          : 'Load test: 2GB of 10B records',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_1\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_sparkstructuredstreaming_${mode}_GBK_1\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 200000000,\n+                                              \"keySizeBytes\": 1,\n+                                              \"valueSizeBytes\": 9\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+                    title          : 'Load test: 2GB of 100B records',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_2\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_2\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 20000000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+\n+                    title          : 'Load test: 2GB of 100kB records',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_3\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_3\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 20000,\n+                                              \"keySizeBytes\": 10000,\n+                                              \"valueSizeBytes\": 90000\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+\n+            ],\n+            [\n+                    title          : 'Load test: fanout 4 times with 2GB 10-byte records total',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : 'load_tests_Java_SparkStructuredStreaming_${mode}_GBK_4',\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_4\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 5000000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 4,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+                    title          : 'Load test: fanout 8 times with 2GB 10-byte records total',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_5\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_5\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 2500000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 8,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+                    title          : 'Load test: reiterate 4 times 10kB values',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_6\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_6\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 20000000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90,\n+                                              \"numHotKeys\": 200,\n+                                              \"hotKeyFraction\": 1\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 4,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+                    title          : 'Load test: reiterate 4 times 2MB values',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_7\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_7\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 20000000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90,\n+                                              \"numHotKeys\": 10,\n+                                              \"hotKeyFraction\": 1\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 4,\n+                            streaming             : isStreaming\n+                    ]\n+            ]\n+    ]\n+}\n+\n+def batchLoadTestJob = { scope, triggeringContext ->\n+    def datasetName = loadTestsBuilder.getBigQueryDataset('load_test', triggeringContext)\n+    loadTestsBuilder.loadTests(scope, CommonTestProperties.SDK.JAVA, loadTestConfigurations('batch', false, datasetName), \"GBK\", \"batch\")\n+}\n+\n+PhraseTriggeringPostCommitBuilder.postCommitJob(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg1MDgwNg=="}, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 201}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTM3ODk3MA==", "bodyText": "cron added", "url": "https://github.com/apache/beam/pull/11135#discussion_r405378970", "createdAt": "2020-04-08T09:16:48Z", "author": {"login": "echauchot"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_spark_structured_streaming.groovy", "diffHunk": "@@ -0,0 +1,208 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import CommonJobProperties as commonJobProperties\n+import CommonTestProperties\n+import LoadTestsBuilder as loadTestsBuilder\n+import PhraseTriggeringPostCommitBuilder\n+\n+def loadTestConfigurations = { mode, isStreaming, datasetName ->\n+    [\n+            [\n+                    title          : 'Load test: 2GB of 10B records',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_1\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_sparkstructuredstreaming_${mode}_GBK_1\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 200000000,\n+                                              \"keySizeBytes\": 1,\n+                                              \"valueSizeBytes\": 9\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+                    title          : 'Load test: 2GB of 100B records',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_2\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_2\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 20000000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+\n+                    title          : 'Load test: 2GB of 100kB records',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_3\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_3\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 20000,\n+                                              \"keySizeBytes\": 10000,\n+                                              \"valueSizeBytes\": 90000\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+\n+            ],\n+            [\n+                    title          : 'Load test: fanout 4 times with 2GB 10-byte records total',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : 'load_tests_Java_SparkStructuredStreaming_${mode}_GBK_4',\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_4\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 5000000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 4,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+                    title          : 'Load test: fanout 8 times with 2GB 10-byte records total',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_5\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_5\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 2500000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 8,\n+                            iterations            : 1,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+                    title          : 'Load test: reiterate 4 times 10kB values',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_6\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_6\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 20000000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90,\n+                                              \"numHotKeys\": 200,\n+                                              \"hotKeyFraction\": 1\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 4,\n+                            streaming             : isStreaming\n+                    ]\n+            ],\n+            [\n+                    title          : 'Load test: reiterate 4 times 2MB values',\n+                    test           : 'org.apache.beam.sdk.loadtests.GroupByKeyLoadTest',\n+                    runner         : CommonTestProperties.Runner.SPARK_STRUCTURED_STREAMING,\n+                    pipelineOptions: [\n+                            project               : 'apache-beam-testing',\n+                            appName               : \"load_tests_Java_SparkStructuredStreaming_${mode}_GBK_7\",\n+                            tempLocation          : 'gs://temp-storage-for-perf-tests/loadtests',\n+                            publishToBigQuery     : false,\n+                            bigQueryDataset       : datasetName,\n+                            bigQueryTable         : \"java_SparkStructuredStreaming_${mode}_GBK_7\",\n+                            sourceOptions         : \"\"\"\n+                                            {\n+                                              \"numRecords\": 20000000,\n+                                              \"keySizeBytes\": 10,\n+                                              \"valueSizeBytes\": 90,\n+                                              \"numHotKeys\": 10,\n+                                              \"hotKeyFraction\": 1\n+                                            }\n+                                       \"\"\".trim().replaceAll(\"\\\\s\", \"\"),\n+                            fanout                : 1,\n+                            iterations            : 4,\n+                            streaming             : isStreaming\n+                    ]\n+            ]\n+    ]\n+}\n+\n+def batchLoadTestJob = { scope, triggeringContext ->\n+    def datasetName = loadTestsBuilder.getBigQueryDataset('load_test', triggeringContext)\n+    loadTestsBuilder.loadTests(scope, CommonTestProperties.SDK.JAVA, loadTestConfigurations('batch', false, datasetName), \"GBK\", \"batch\")\n+}\n+\n+PhraseTriggeringPostCommitBuilder.postCommitJob(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg1MDgwNg=="}, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 201}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNTEwOTAyOnYy", "diffSide": "RIGHT", "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_Smoke.groovy", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwODoyOTo1MlrOF2pyPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwOToyNjo1N1rOGCmwzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg1MjAyOA==", "bodyText": "I'm not really sure if \"smoke\" tests are used by anyone tbh. If not, I wouldn't bother adding new scenarios here and propose to create an issue to remove smoke tests (unused code, unused jobs). If however they are used then pls ignore this comment :)\n@mwalenia could you confirm what is the case here?", "url": "https://github.com/apache/beam/pull/11135#discussion_r392852028", "createdAt": "2020-03-16T08:29:52Z", "author": {"login": "lgajowy"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_Smoke.groovy", "diffHunk": "@@ -79,7 +79,23 @@ def smokeTestConfigurations = { datasetName -> [\n                         fanout           : 10,\n                         iterations       : 1,\n                 ]\n+        ],", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg2MTQ2Nw==", "bodyText": "ok waiting for the confirmation that it is useless", "url": "https://github.com/apache/beam/pull/11135#discussion_r392861467", "createdAt": "2020-03-16T08:48:46Z", "author": {"login": "echauchot"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_Smoke.groovy", "diffHunk": "@@ -79,7 +79,23 @@ def smokeTestConfigurations = { datasetName -> [\n                         fanout           : 10,\n                         iterations       : 1,\n                 ]\n+        ],", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg1MjAyOA=="}, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg4Mzg3Mg==", "bodyText": "Jenkins logs show that nobody uses the smoke tests, I don't think it's worth the hassle to add more of them", "url": "https://github.com/apache/beam/pull/11135#discussion_r392883872", "createdAt": "2020-03-16T09:31:13Z", "author": {"login": "mwalenia"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_Smoke.groovy", "diffHunk": "@@ -79,7 +79,23 @@ def smokeTestConfigurations = { datasetName -> [\n                         fanout           : 10,\n                         iterations       : 1,\n                 ]\n+        ],", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg1MjAyOA=="}, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTI5MDA3Ng==", "bodyText": "So I suggest to remove this part @echauchot. :)\nand the issue: https://issues.apache.org/jira/browse/BEAM-9559", "url": "https://github.com/apache/beam/pull/11135#discussion_r395290076", "createdAt": "2020-03-19T20:07:41Z", "author": {"login": "lgajowy"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_Smoke.groovy", "diffHunk": "@@ -79,7 +79,23 @@ def smokeTestConfigurations = { datasetName -> [\n                         fanout           : 10,\n                         iterations       : 1,\n                 ]\n+        ],", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg1MjAyOA=="}, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTM4NTQyMw==", "bodyText": "ok, I reverted the cahnge that added the smoke tests. I did not touch to other runners smoke tests, just in case.", "url": "https://github.com/apache/beam/pull/11135#discussion_r405385423", "createdAt": "2020-04-08T09:26:57Z", "author": {"login": "echauchot"}, "path": ".test-infra/jenkins/job_LoadTests_GBK_Java_Smoke.groovy", "diffHunk": "@@ -79,7 +79,23 @@ def smokeTestConfigurations = { datasetName -> [\n                         fanout           : 10,\n                         iterations       : 1,\n                 ]\n+        ],", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg1MjAyOA=="}, "originalCommit": {"oid": "d64e82471d2891252501103ce070a11c6e7d89b5"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1652, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}