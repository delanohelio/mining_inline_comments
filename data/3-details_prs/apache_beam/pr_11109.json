{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3MzU3MzAx", "number": 11109, "title": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch", "bodyText": "Final PR to merge everything from the InteractiveBeam feature branch\nconsumer_tracking_pipeline_visitor.py:\n\nThis has the assumption that the pipeline proto is in topological order. The PipelineProto has no guarantee for this. This changes a key part to a set instead of a list.\n\nconsumer_tracking_pipeline_visitor_test.py:\n\nThis adds a test that fails if the class has an order guarantee.\n\ntest_stream_impl.py\n\nAdds an endpoint to a forgotten constructor.\n\nbackground_caching_job.py\n\nFixes grammar mistake\n\nbackground_caching_job_test.py\n\nAdds the StreamingCache to the test\n\nstreaming_cache.py:\n\nSmall cleanup\nThe values in the cache can either be protos or not in the case of testing.\n\npcoll_visualization:\n\nAdds ability to read from a StreamingCache\nRefactors _to_dataframe implementation with elements_to_df\n\npipeline_graph.py:\n\nAdd a comment\n\ninteractive_beam.py:\n\nAdd the collect/head methods which take in a PCollection and outputs a Dataframe representation\nAdds logic to not recompute PCollections already in the cache\n\ninteractive_runner.py\n\nAdds the TestStreamServiceController\nAdds ability for the result.get method to read from the StreamingCache\n\ninteractive_runner_test.py\n\nAdd a small integration test for the new DataFrame\n\ncapture_control.py\n\nformatting\n\npipeline_fragment.py\n\nAdd logic to stop pruning the pipeline fragment if it hits a TestStream\n\npipeline_instrument.py\n\nChange dictionary usage to WindowedValueHolder\n\npipeline_instrumnet_test.py\n\nformatting\n\npipeline_assertion.py:\n\nformatting\n\nutils.py:\n\nSmall refactor, moving the to_element_list from the pcoll_visualization and the PipelineResult.get methods to here.\n\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n Update CHANGES.md with noteworthy changes.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nApex\nDataflow\nFlink\nGearpump\nSamza\nSpark\n\n\n\n\nGo\n\n---\n---\n\n---\n---\n\n\n\nJava\n\n\n\n\n\n\n\n\n\nPython\n\n---\n\n\n---\n---\n\n\n\nXLang\n---\n---\n---\n\n---\n---\n\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-03-12T16:58:58Z", "url": "https://github.com/apache/beam/pull/11109", "merged": true, "mergeCommit": {"oid": "e95d0669779376b18db576274d7b6d0467147224"}, "closed": true, "closedAt": "2020-03-13T23:53:21Z", "author": {"login": "rohdesamuel"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcM_PtUgBqjMxMjM4MjMyMzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcNX-LpABqjMxMjg0MzI1MTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c3de4583a7723d60e343602511176676fbcf30bd", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/c3de4583a7723d60e343602511176676fbcf30bd", "committedDate": "2020-03-11T21:25:12Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: I422f7c80503d0b81dd595a03514c5778d709f586"}, "afterCommit": {"oid": "c8d9e4211d2d46270081050271adf84a69607b31", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/c8d9e4211d2d46270081050271adf84a69607b31", "committedDate": "2020-03-12T17:31:24Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: Icc5564bb5bc1d771394f3e9272984366f8242dfa"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c8d9e4211d2d46270081050271adf84a69607b31", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/c8d9e4211d2d46270081050271adf84a69607b31", "committedDate": "2020-03-12T17:31:24Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: Icc5564bb5bc1d771394f3e9272984366f8242dfa"}, "afterCommit": {"oid": "18e75d2389137d2f14c109606e85d43b1d7e9bef", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/18e75d2389137d2f14c109606e85d43b1d7e9bef", "committedDate": "2020-03-12T17:35:07Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: Icc5564bb5bc1d771394f3e9272984366f8242dfa"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "18e75d2389137d2f14c109606e85d43b1d7e9bef", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/18e75d2389137d2f14c109606e85d43b1d7e9bef", "committedDate": "2020-03-12T17:35:07Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: Icc5564bb5bc1d771394f3e9272984366f8242dfa"}, "afterCommit": {"oid": "68c11fe219d67be1f05e2c0e46b428ea4f57f238", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/68c11fe219d67be1f05e2c0e46b428ea4f57f238", "committedDate": "2020-03-12T19:25:57Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: Icc5564bb5bc1d771394f3e9272984366f8242dfa"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "68c11fe219d67be1f05e2c0e46b428ea4f57f238", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/68c11fe219d67be1f05e2c0e46b428ea4f57f238", "committedDate": "2020-03-12T19:25:57Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: Icc5564bb5bc1d771394f3e9272984366f8242dfa"}, "afterCommit": {"oid": "9aed4176599a5fce283d087f4554bc3ec6de3703", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/9aed4176599a5fce283d087f4554bc3ec6de3703", "committedDate": "2020-03-12T21:38:40Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: Icc5564bb5bc1d771394f3e9272984366f8242dfa"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9aed4176599a5fce283d087f4554bc3ec6de3703", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/9aed4176599a5fce283d087f4554bc3ec6de3703", "committedDate": "2020-03-12T21:38:40Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: Icc5564bb5bc1d771394f3e9272984366f8242dfa"}, "afterCommit": {"oid": "d4b06606c57eba362191e61d29edc9ed9690faf2", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/d4b06606c57eba362191e61d29edc9ed9690faf2", "committedDate": "2020-03-13T00:03:34Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: Icc5564bb5bc1d771394f3e9272984366f8242dfa"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d4b06606c57eba362191e61d29edc9ed9690faf2", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/d4b06606c57eba362191e61d29edc9ed9690faf2", "committedDate": "2020-03-13T00:03:34Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: Icc5564bb5bc1d771394f3e9272984366f8242dfa"}, "afterCommit": {"oid": "16084b82aa6caa7d49b8900d4649a6adb5139360", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/16084b82aa6caa7d49b8900d4649a6adb5139360", "committedDate": "2020-03-13T00:04:43Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: Icc5564bb5bc1d771394f3e9272984366f8242dfa"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczOTc5NTg0", "url": "https://github.com/apache/beam/pull/11109#pullrequestreview-373979584", "createdAt": "2020-03-13T00:24:51Z", "commit": {"oid": "16084b82aa6caa7d49b8900d4649a6adb5139360"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QwMDoyNDo1MVrOF10B1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QwMDoyNDo1MVrOF10B1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTk3MTI4Nw==", "bodyText": "@KevinGG @rohdesamuel\njust for curiosity, how does a pcollection count as computed in streaming without source caching?", "url": "https://github.com/apache/beam/pull/11109#discussion_r391971287", "createdAt": "2020-03-13T00:24:51Z", "author": {"login": "pabloem"}, "path": "sdks/python/apache_beam/runners/interactive/interactive_beam.py", "diffHunk": "@@ -314,6 +327,26 @@ def show(*pcolls, **configs):\n   bcj.attempt_to_run_background_caching_job(\n       runner, user_pipeline, user_pipeline.options)\n \n+  pcolls = set(pcolls)\n+  computed_pcolls = set()\n+  for pcoll in pcolls:\n+    if pcoll in ie.current_env().computed_pcollections:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16084b82aa6caa7d49b8900d4649a6adb5139360"}, "originalPosition": 51}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczOTgzMDgz", "url": "https://github.com/apache/beam/pull/11109#pullrequestreview-373983083", "createdAt": "2020-03-13T00:38:36Z", "commit": {"oid": "16084b82aa6caa7d49b8900d4649a6adb5139360"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c14491dd66cbb64a8f670e58434e0d916ab26a81", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/c14491dd66cbb64a8f670e58434e0d916ab26a81", "committedDate": "2020-03-13T22:22:29Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: Icc5564bb5bc1d771394f3e9272984366f8242dfa"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "16084b82aa6caa7d49b8900d4649a6adb5139360", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/16084b82aa6caa7d49b8900d4649a6adb5139360", "committedDate": "2020-03-13T00:04:43Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: Icc5564bb5bc1d771394f3e9272984366f8242dfa"}, "afterCommit": {"oid": "c14491dd66cbb64a8f670e58434e0d916ab26a81", "author": {"user": {"login": "rohdesamuel", "name": "Sam sam"}}, "url": "https://github.com/apache/beam/commit/c14491dd66cbb64a8f670e58434e0d916ab26a81", "committedDate": "2020-03-13T22:22:29Z", "message": "[BEAM-8335] Final PR to merge the InteractiveBeam feature branch\n\nChange-Id: Icc5564bb5bc1d771394f3e9272984366f8242dfa"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4920, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}