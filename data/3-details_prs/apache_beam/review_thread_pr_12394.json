{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3OTUxNDY3", "number": 12394, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQyMzoxMzoxNFrOETCLig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQyMzoxMzoxNFrOETCLig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4Mzk0MTIyOnYy", "diffSide": "RIGHT", "path": "website/www/site/content/en/documentation/transforms/python/aggregation/latest.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQyMzoxMzoxNFrOG4i6dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNzoxMzo1OFrOG5CKzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTk0NTQ2Mw==", "bodyText": "Outside of the diff, but this is incorrect\n\"Randomly takes some number of elements in a collection.\"", "url": "https://github.com/apache/beam/pull/12394#discussion_r461945463", "createdAt": "2020-07-28T23:13:14Z", "author": {"login": "rosetn"}, "path": "website/www/site/content/en/documentation/transforms/python/aggregation/latest.md", "diffHunk": "@@ -14,10 +14,61 @@ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n -->\n+\n # Latest\n \n+{{< localstorage language language-py >}}\n+\n+{{< button-pydoc path=\"apache_beam.transforms.combiners\" class=\"Latest\" >}}\n+\n+Gets the element with the latest timestamp.\n+\n ## Examples\n-See [BEAM-7390](https://issues.apache.org/jira/browse/BEAM-7390) for updates. \n+\n+In the following examples, we create a pipeline with a `PCollection` of produce with a timestamp for their harvest date.\n+\n+We use `Latest` to get the element with the latest timestamp from the `PCollection`.\n+\n+### Example 1: Latest element globally\n+\n+We use `Latest.Globally()` to get the element with the latest timestamp in the entire `PCollection`.\n+\n+{{< highlight py >}}\n+{{< code_sample \"sdks/python/apache_beam/examples/snippets/transforms/aggregation/latest.py\" latest_globally >}}\n+{{< /highlight >}}\n+\n+{{< paragraph class=\"notebook-skip\" >}}\n+Output:\n+{{< /paragraph >}}\n+\n+{{< highlight class=\"notebook-skip\" >}}\n+{{< code_sample \"sdks/python/apache_beam/examples/snippets/transforms/aggregation/latest_test.py\" latest_element >}}\n+{{< /highlight >}}\n+\n+{{< buttons-code-snippet\n+  py=\"sdks/python/apache_beam/examples/snippets/transforms/aggregation/latest.py\" >}}\n+\n+### Example 2: Latest elements for each key\n+\n+We use `Latest.PerKey()` to get the elements with the latest timestamp for each key in a `PCollection` of key-values.\n+\n+{{< highlight py >}}\n+{{< code_sample \"sdks/python/apache_beam/examples/snippets/transforms/aggregation/latest.py\" latest_per_key >}}\n+{{< /highlight >}}\n+\n+{{< paragraph class=\"notebook-skip\" >}}\n+Output:\n+{{< /paragraph >}}\n+\n+{{< highlight class=\"notebook-skip\" >}}\n+{{< code_sample \"sdks/python/apache_beam/examples/snippets/transforms/aggregation/latest_test.py\" latest_elements_per_key >}}\n+{{< /highlight >}}\n+\n+{{< buttons-code-snippet\n+  py=\"sdks/python/apache_beam/examples/snippets/transforms/aggregation/latest.py\" >}}\n \n ## Related transforms \n-* [Sample](/documentation/transforms/python/aggregation/sample) to combine elements. takes samples of the elements in a collection.\n\\ No newline at end of file\n+\n+* [Sample](/documentation/transforms/python/aggregation/sample) to combine elements. takes samples of the elements in a collection.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11ff60d4687a9eb3f094147629f1ecf81c4626f6"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjQ1NzU0OQ==", "bodyText": "Thanks for catching this, changing", "url": "https://github.com/apache/beam/pull/12394#discussion_r462457549", "createdAt": "2020-07-29T17:13:58Z", "author": {"login": "davidcavazos"}, "path": "website/www/site/content/en/documentation/transforms/python/aggregation/latest.md", "diffHunk": "@@ -14,10 +14,61 @@ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n -->\n+\n # Latest\n \n+{{< localstorage language language-py >}}\n+\n+{{< button-pydoc path=\"apache_beam.transforms.combiners\" class=\"Latest\" >}}\n+\n+Gets the element with the latest timestamp.\n+\n ## Examples\n-See [BEAM-7390](https://issues.apache.org/jira/browse/BEAM-7390) for updates. \n+\n+In the following examples, we create a pipeline with a `PCollection` of produce with a timestamp for their harvest date.\n+\n+We use `Latest` to get the element with the latest timestamp from the `PCollection`.\n+\n+### Example 1: Latest element globally\n+\n+We use `Latest.Globally()` to get the element with the latest timestamp in the entire `PCollection`.\n+\n+{{< highlight py >}}\n+{{< code_sample \"sdks/python/apache_beam/examples/snippets/transforms/aggregation/latest.py\" latest_globally >}}\n+{{< /highlight >}}\n+\n+{{< paragraph class=\"notebook-skip\" >}}\n+Output:\n+{{< /paragraph >}}\n+\n+{{< highlight class=\"notebook-skip\" >}}\n+{{< code_sample \"sdks/python/apache_beam/examples/snippets/transforms/aggregation/latest_test.py\" latest_element >}}\n+{{< /highlight >}}\n+\n+{{< buttons-code-snippet\n+  py=\"sdks/python/apache_beam/examples/snippets/transforms/aggregation/latest.py\" >}}\n+\n+### Example 2: Latest elements for each key\n+\n+We use `Latest.PerKey()` to get the elements with the latest timestamp for each key in a `PCollection` of key-values.\n+\n+{{< highlight py >}}\n+{{< code_sample \"sdks/python/apache_beam/examples/snippets/transforms/aggregation/latest.py\" latest_per_key >}}\n+{{< /highlight >}}\n+\n+{{< paragraph class=\"notebook-skip\" >}}\n+Output:\n+{{< /paragraph >}}\n+\n+{{< highlight class=\"notebook-skip\" >}}\n+{{< code_sample \"sdks/python/apache_beam/examples/snippets/transforms/aggregation/latest_test.py\" latest_elements_per_key >}}\n+{{< /highlight >}}\n+\n+{{< buttons-code-snippet\n+  py=\"sdks/python/apache_beam/examples/snippets/transforms/aggregation/latest.py\" >}}\n \n ## Related transforms \n-* [Sample](/documentation/transforms/python/aggregation/sample) to combine elements. takes samples of the elements in a collection.\n\\ No newline at end of file\n+\n+* [Sample](/documentation/transforms/python/aggregation/sample) to combine elements. takes samples of the elements in a collection.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTk0NTQ2Mw=="}, "originalCommit": {"oid": "11ff60d4687a9eb3f094147629f1ecf81c4626f6"}, "originalPosition": 62}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 976, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}