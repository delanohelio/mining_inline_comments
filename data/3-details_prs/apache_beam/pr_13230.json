{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyOTEwNjUw", "number": 13230, "title": "[BEAM-8719 BEAM-8768 BEAM-8769 BEAM-8770 BEAM-8771] Update minor hadoop dependencies", "bodyText": "This PR:\n\nupdates Hadoop dependencies from 2.8.5 to 2.10.1\nadds tests for Hadoop 2.8.5 compatibility in modules that have hadoop dependencies as 'provided'\n\nFor the tests I've taken the approach that is already used in KafkaIO.\nI tried to add tests for Hadoop 2.7.7 but without success. I haven't verified if the problem comes from tests configuration or the IO itself but since this PR is to assure the compatibility with the previous version used in Beam (2.8.5) I'd like not to touch it. It could be worth to file a Jira to add tests for 2.7.7 version.\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n Update CHANGES.md with noteworthy changes.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nDataflow\nFlink\nSamza\nSpark\nTwister2\n\n\n\n\nGo\n\n---\n\n---\n\n---\n\n\nJava\n\n\n\n\n\n\n\n\nPython\n\n\n\n---\n\n---\n\n\nXLang\n\n---\n\n---\n\n---\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\nWhitespace\nTypescript\n\n\n\n\nNon-portable\n\n \n\n\n\n\n\n\nPortable\n---\n\n---\n---\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.\nGitHub Actions Tests Status (on master branch)\n\n\n\nSee CI.md for more information about GitHub Actions CI.", "createdAt": "2020-10-30T10:46:06Z", "url": "https://github.com/apache/beam/pull/13230", "merged": true, "mergeCommit": {"oid": "054aa7d0a5b7c8d699751d8875e927fa88c15b3a"}, "closed": true, "closedAt": "2020-11-09T14:56:02Z", "author": {"login": "piotr-szuberski"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYmNwRABqjM5NDg2NTcxODk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdaxFhpgBqjM5NzI2NDc2NTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "57db34dc0578c445be82fac724c2e70c0732e1e9", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/57db34dc0578c445be82fac724c2e70c0732e1e9", "committedDate": "2020-11-02T15:20:07Z", "message": "Add tests for Hadoop 2.8.5"}, "afterCommit": {"oid": "6a6a7c048909131e0f1a884ec6792c89747c1b03", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/6a6a7c048909131e0f1a884ec6792c89747c1b03", "committedDate": "2020-11-02T15:22:28Z", "message": "Add tests for Hadoop 2.8.5"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6a6a7c048909131e0f1a884ec6792c89747c1b03", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/6a6a7c048909131e0f1a884ec6792c89747c1b03", "committedDate": "2020-11-02T15:22:28Z", "message": "Add tests for Hadoop 2.8.5"}, "afterCommit": {"oid": "d167fdbd84c727b54f5d9d8b2a67b7e80d5a705a", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/d167fdbd84c727b54f5d9d8b2a67b7e80d5a705a", "committedDate": "2020-11-02T15:23:38Z", "message": "Add tests for Hadoop 2.8.5"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d167fdbd84c727b54f5d9d8b2a67b7e80d5a705a", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/d167fdbd84c727b54f5d9d8b2a67b7e80d5a705a", "committedDate": "2020-11-02T15:23:38Z", "message": "Add tests for Hadoop 2.8.5"}, "afterCommit": {"oid": "075ac2d724778037e449ea031ea2159c882a486f", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/075ac2d724778037e449ea031ea2159c882a486f", "committedDate": "2020-11-02T15:25:58Z", "message": "Add tests for Hadoop 2.8.5"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "075ac2d724778037e449ea031ea2159c882a486f", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/075ac2d724778037e449ea031ea2159c882a486f", "committedDate": "2020-11-02T15:25:58Z", "message": "Add tests for Hadoop 2.8.5"}, "afterCommit": {"oid": "240484f33411b355a08079b660dda2c058e0e909", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/240484f33411b355a08079b660dda2c058e0e909", "committedDate": "2020-11-02T15:50:05Z", "message": "Add tests for Hadoop 2.8.5"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "240484f33411b355a08079b660dda2c058e0e909", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/240484f33411b355a08079b660dda2c058e0e909", "committedDate": "2020-11-02T15:50:05Z", "message": "Add tests for Hadoop 2.8.5"}, "afterCommit": {"oid": "41300df42702706a8b6b708ff2591bd5ca192319", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/41300df42702706a8b6b708ff2591bd5ca192319", "committedDate": "2020-11-02T17:59:05Z", "message": "Add tests for Hadoop 2.8.5"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMzYzOTM5", "url": "https://github.com/apache/beam/pull/13230#pullrequestreview-522363939", "createdAt": "2020-11-03T10:31:16Z", "commit": {"oid": "41300df42702706a8b6b708ff2591bd5ca192319"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMDozMToxNlrOHsoq6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMDozMToxNlrOHsoq6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU2NTczOA==", "bodyText": "Without looking in detail, this looks like it might be worth checking. Seems to set up for Cassandra, but runs ES tests?", "url": "https://github.com/apache/beam/pull/13230#discussion_r516565738", "createdAt": "2020-11-03T10:31:16Z", "author": {"login": "timrobertson100"}, "path": "sdks/java/io/hadoop-format/build.gradle", "diffHunk": "@@ -140,4 +157,12 @@ task hadoopFormatIOElasticTest(type: Test) {\n   testClassesDirs = sourceSets.test.output.classesDirs\n   include '**/HadoopFormatIOElasticIT.class'\n   useJUnit { }\n-}\n\\ No newline at end of file\n+}\n+\n+task hadoopVersion285Test(type: Test) {\n+  dependsOn createTargetDirectoryForCassandra\n+  description = \"Runs Hadoop format tests with Hadoop version $hadoop_285_version\"\n+  outputs.upToDateWhen { false }\n+  include '**/*Test.class'\n+  include '**/HadoopFormatIOElasticIT.class'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41300df42702706a8b6b708ff2591bd5ca192319"}, "originalPosition": 46}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "64dc53753dd3d44e47cd3a47f7edb6ebd0813a71", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/64dc53753dd3d44e47cd3a47f7edb6ebd0813a71", "committedDate": "2020-11-03T11:14:55Z", "message": "Remove HadoopFormatIOElasticIT from hadoopVersion285Test"}, "afterCommit": {"oid": "4fc1370a83df2957455bda646f4c02eba872831a", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/4fc1370a83df2957455bda646f4c02eba872831a", "committedDate": "2020-11-06T13:45:21Z", "message": "Remove HadoopFormatIOElasticIT from hadoopVersion285Test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9492fb9ef35c7848766d7cd03456cd5503ab502", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/f9492fb9ef35c7848766d7cd03456cd5503ab502", "committedDate": "2020-11-09T09:10:21Z", "message": "[BEAM-8719 BEAM-8768 BEAM-8769 BEAM-8770 BEAM-8771] Update minor hadoop dependency"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4fc1370a83df2957455bda646f4c02eba872831a", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/4fc1370a83df2957455bda646f4c02eba872831a", "committedDate": "2020-11-06T13:45:21Z", "message": "Remove HadoopFormatIOElasticIT from hadoopVersion285Test"}, "afterCommit": {"oid": "f9492fb9ef35c7848766d7cd03456cd5503ab502", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/f9492fb9ef35c7848766d7cd03456cd5503ab502", "committedDate": "2020-11-09T09:10:21Z", "message": "[BEAM-8719 BEAM-8768 BEAM-8769 BEAM-8770 BEAM-8771] Update minor hadoop dependency"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1832, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}