{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5NTQ2Njg3", "number": 13313, "title": "[BEAM-10480] Update SDF related documentation.", "bodyText": "r: @pabloem\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n Update CHANGES.md with noteworthy changes.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nDataflow\nFlink\nSamza\nSpark\nTwister2\n\n\n\n\nGo\n\n---\n\n---\n\n---\n\n\nJava\n\n\n\n\n\n\n\n\nPython\n\n\n\n---\n\n---\n\n\nXLang\n\n---\n\n---\n\n---\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\nWhitespace\nTypescript\n\n\n\n\nNon-portable\n\n \n\n\n\n\n\n\nPortable\n---\n\n---\n---\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.\nGitHub Actions Tests Status (on master branch)\n\n\n\nSee CI.md for more information about GitHub Actions CI.", "createdAt": "2020-11-12T01:05:20Z", "url": "https://github.com/apache/beam/pull/13313", "merged": true, "mergeCommit": {"oid": "d2ff41e73ebc43bb17b72d756cdad79e74f1635f"}, "closed": true, "closedAt": "2020-11-13T22:08:27Z", "author": {"login": "boyuanzz"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdcK31UgFqTUzMDI3NTU2Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdcNefVgBqjM5OTUzMTUzMTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwMjc1NTYz", "url": "https://github.com/apache/beam/pull/13313#pullrequestreview-530275563", "createdAt": "2020-11-13T17:43:25Z", "commit": {"oid": "4d797641ddf36f373fc82723f0935af18f03f37c"}, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNzo0MzoyNVrOHy4tlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNzo0NDo0OVrOHy4wmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzEyMDAyMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * The API is required to be implemented.\n          \n          \n            \n               * This method is <b>required</b> to be implemented.", "url": "https://github.com/apache/beam/pull/13313#discussion_r523120023", "createdAt": "2020-11-13T17:43:25Z", "author": {"login": "pabloem"}, "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/splittabledofn/RestrictionTracker.java", "diffHunk": "@@ -49,12 +52,20 @@\n    *       call to this method).\n    *   <li>{@link RestrictionTracker#checkDone} MUST succeed.\n    * </ul>\n+   *\n+   * The API is required to be implemented.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d797641ddf36f373fc82723f0935af18f03f37c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzEyMDIzOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * <p>This API is required to be implemented.\n          \n          \n            \n               * <p> This method is <b>required</b> to be implemented.", "url": "https://github.com/apache/beam/pull/13313#discussion_r523120239", "createdAt": "2020-11-13T17:43:50Z", "author": {"login": "pabloem"}, "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/splittabledofn/RestrictionTracker.java", "diffHunk": "@@ -49,12 +52,20 @@\n    *       call to this method).\n    *   <li>{@link RestrictionTracker#checkDone} MUST succeed.\n    * </ul>\n+   *\n+   * The API is required to be implemented.\n    */\n   public abstract boolean tryClaim(PositionT position);\n \n   /**\n    * Returns a restriction accurately describing the full range of work the current {@link\n    * DoFn.ProcessElement} call will do, including already completed work.\n+   *\n+   * <p>The current restriction returned by method may be updated dynamically due to due to\n+   * concurrent invocation of other methods of the {@link RestrictionTracker}, For example, {@link\n+   * RestrictionTracker#trySplit(double)}.\n+   *\n+   * <p>This API is required to be implemented.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d797641ddf36f373fc82723f0935af18f03f37c"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzEyMDY2OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * <p>This API is required to be implemented in order to make sure no data loss during SDK\n          \n          \n            \n               * <p>This method is <b>required</b> to be implemented in order to prevent data loss during SDK", "url": "https://github.com/apache/beam/pull/13313#discussion_r523120669", "createdAt": "2020-11-13T17:44:35Z", "author": {"login": "pabloem"}, "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/splittabledofn/RestrictionTracker.java", "diffHunk": "@@ -94,10 +108,15 @@\n   public abstract @Nullable SplitResult<RestrictionT> trySplit(double fractionOfRemainder);\n \n   /**\n-   * Called by the runner after {@link DoFn.ProcessElement} returns.\n+   * Checks whether the restriction has been fully processed.\n+   *\n+   * <p>Called by the SDK harness after {@link DoFn.ProcessElement} returns.\n    *\n    * <p>Must throw an exception with an informative error message, if there is still any unclaimed\n    * work remaining in the restriction.\n+   *\n+   * <p>This API is required to be implemented in order to make sure no data loss during SDK", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d797641ddf36f373fc82723f0935af18f03f37c"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzEyMDc5Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * <p>The API is required to be implemented.\n          \n          \n            \n               * <p> This method is <b>required</b> to be implemented.", "url": "https://github.com/apache/beam/pull/13313#discussion_r523120792", "createdAt": "2020-11-13T17:44:49Z", "author": {"login": "pabloem"}, "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/splittabledofn/RestrictionTracker.java", "diffHunk": "@@ -116,6 +135,8 @@\n    * <p>It is valid to return {@link IsBounded#BOUNDED} after returning {@link IsBounded#UNBOUNDED}\n    * once the end of a restriction is discovered. It is not valid to return {@link\n    * IsBounded#UNBOUNDED} after returning {@link IsBounded#BOUNDED}.\n+   *\n+   * <p>The API is required to be implemented.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d797641ddf36f373fc82723f0935af18f03f37c"}, "originalPosition": 63}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0aef3795cdbd7b8a0930f35e7b8944b62c2710e9", "author": {"user": {"login": "boyuanzz", "name": "Boyuan Zhang"}}, "url": "https://github.com/apache/beam/commit/0aef3795cdbd7b8a0930f35e7b8944b62c2710e9", "committedDate": "2020-11-13T20:12:59Z", "message": "Update sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/splittabledofn/RestrictionTracker.java\n\nCo-authored-by: Pablo <pabloem@users.noreply.github.com>"}, "afterCommit": {"oid": "7feb4f3163e524ff91a23e8ae3d3b455356f4ff1", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/7feb4f3163e524ff91a23e8ae3d3b455356f4ff1", "committedDate": "2020-11-13T20:28:03Z", "message": "Update SDF related documentation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8337b8a6b822ec8867d0bdd00bfa1b32e7278f3", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/a8337b8a6b822ec8867d0bdd00bfa1b32e7278f3", "committedDate": "2020-11-13T20:49:02Z", "message": "Update SDF related documentation."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7feb4f3163e524ff91a23e8ae3d3b455356f4ff1", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/7feb4f3163e524ff91a23e8ae3d3b455356f4ff1", "committedDate": "2020-11-13T20:28:03Z", "message": "Update SDF related documentation."}, "afterCommit": {"oid": "a8337b8a6b822ec8867d0bdd00bfa1b32e7278f3", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/a8337b8a6b822ec8867d0bdd00bfa1b32e7278f3", "committedDate": "2020-11-13T20:49:02Z", "message": "Update SDF related documentation."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4802, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}