{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyNzU0NDQ2", "number": 11809, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxNjo0NDozOFrOD_bsKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxNjo0NTo1M1rOD_btWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3ODQwNTUyOnYy", "diffSide": "RIGHT", "path": ".test-infra/metrics/grafana/dashboards/perftests_metrics/Python_IO_IT_Tests_Dataflow.json", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxNjo0NDozOFrOGaGDng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwOTo1NDozOFrOGaXECg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDAxNTM5MA==", "bodyText": "Is there any particular reason why \"15\"?", "url": "https://github.com/apache/beam/pull/11809#discussion_r430015390", "createdAt": "2020-05-25T16:44:38Z", "author": {"login": "kamilwu"}, "path": ".test-infra/metrics/grafana/dashboards/perftests_metrics/Python_IO_IT_Tests_Dataflow.json", "diffHunk": "@@ -35,7 +35,7 @@\n       },\n       \"hiddenSeries\": false,\n       \"id\": 2,\n-      \"interval\": \"\",\n+      \"interval\": \"15h\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dfbb5588cae1db1f4d3890d6bb5488da6276d6a2"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDAyMjE4NQ==", "bodyText": "I chose 15h because this interval is set to the AutoJob in jenkins. The java FileBased dashboards have it set to this value (in this case 6h)", "url": "https://github.com/apache/beam/pull/11809#discussion_r430022185", "createdAt": "2020-05-25T17:08:34Z", "author": {"login": "piotr-szuberski"}, "path": ".test-infra/metrics/grafana/dashboards/perftests_metrics/Python_IO_IT_Tests_Dataflow.json", "diffHunk": "@@ -35,7 +35,7 @@\n       },\n       \"hiddenSeries\": false,\n       \"id\": 2,\n-      \"interval\": \"\",\n+      \"interval\": \"15h\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDAxNTM5MA=="}, "originalCommit": {"oid": "dfbb5588cae1db1f4d3890d6bb5488da6276d6a2"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI2OTg0NA==", "bodyText": "\"H 15 * * *\" means the job is executed daily at 15:00 (3 p.m.) UTC. So the interval should be 24h", "url": "https://github.com/apache/beam/pull/11809#discussion_r430269844", "createdAt": "2020-05-26T09:14:08Z", "author": {"login": "kamilwu"}, "path": ".test-infra/metrics/grafana/dashboards/perftests_metrics/Python_IO_IT_Tests_Dataflow.json", "diffHunk": "@@ -35,7 +35,7 @@\n       },\n       \"hiddenSeries\": false,\n       \"id\": 2,\n-      \"interval\": \"\",\n+      \"interval\": \"15h\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDAxNTM5MA=="}, "originalCommit": {"oid": "dfbb5588cae1db1f4d3890d6bb5488da6276d6a2"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI3MTY4MQ==", "bodyText": "Take a look at the job history: https://builds.apache.org/view/A-D/view/Beam/view/All/job/beam_PubsubIO_Performance_Test_Python/", "url": "https://github.com/apache/beam/pull/11809#discussion_r430271681", "createdAt": "2020-05-26T09:17:04Z", "author": {"login": "kamilwu"}, "path": ".test-infra/metrics/grafana/dashboards/perftests_metrics/Python_IO_IT_Tests_Dataflow.json", "diffHunk": "@@ -35,7 +35,7 @@\n       },\n       \"hiddenSeries\": false,\n       \"id\": 2,\n-      \"interval\": \"\",\n+      \"interval\": \"15h\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDAxNTM5MA=="}, "originalCommit": {"oid": "dfbb5588cae1db1f4d3890d6bb5488da6276d6a2"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI5NDAyNg==", "bodyText": "I didn't dig into it and was distracted by other jobs that indeed run every few hours. But now the syntax of schedules is clear. I changed to 24h", "url": "https://github.com/apache/beam/pull/11809#discussion_r430294026", "createdAt": "2020-05-26T09:54:38Z", "author": {"login": "piotr-szuberski"}, "path": ".test-infra/metrics/grafana/dashboards/perftests_metrics/Python_IO_IT_Tests_Dataflow.json", "diffHunk": "@@ -35,7 +35,7 @@\n       },\n       \"hiddenSeries\": false,\n       \"id\": 2,\n-      \"interval\": \"\",\n+      \"interval\": \"15h\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDAxNTM5MA=="}, "originalCommit": {"oid": "dfbb5588cae1db1f4d3890d6bb5488da6276d6a2"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3ODQwODU5OnYy", "diffSide": "RIGHT", "path": ".test-infra/metrics/grafana/dashboards/perftests_metrics/Python_IO_IT_Tests_Dataflow.json", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxNjo0NTo1M1rOGaGFSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxNzoyMzoxMVrOGaGsyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDAxNTgxOQ==", "bodyText": "We should also specify that the test is a streaming job and uses a native Dataflow IO. These are very important information for everyone seeing that chart.", "url": "https://github.com/apache/beam/pull/11809#discussion_r430015819", "createdAt": "2020-05-25T16:45:53Z", "author": {"login": "kamilwu"}, "path": ".test-infra/metrics/grafana/dashboards/perftests_metrics/Python_IO_IT_Tests_Dataflow.json", "diffHunk": "@@ -261,6 +261,250 @@\n         \"align\": false,\n         \"alignLevel\": null\n       }\n+    },\n+    {\n+      \"aliasColors\": {},\n+      \"bars\": false,\n+      \"cacheTimeout\": null,\n+      \"dashLength\": 10,\n+      \"dashes\": false,\n+      \"datasource\": \"BeamInfluxDB\",\n+      \"fill\": 1,\n+      \"fillGradient\": 0,\n+      \"gridPos\": {\n+        \"h\": 9,\n+        \"w\": 12,\n+        \"x\": 0,\n+        \"y\": 9\n+      },\n+      \"hiddenSeries\": false,\n+      \"id\": 4,\n+      \"interval\": \"15h\",\n+      \"legend\": {\n+        \"avg\": false,\n+        \"current\": false,\n+        \"max\": false,\n+        \"min\": false,\n+        \"show\": false,\n+        \"total\": false,\n+        \"values\": false\n+      },\n+      \"lines\": true,\n+      \"linewidth\": 2,\n+      \"links\": [],\n+      \"nullPointMode\": \"connected\",\n+      \"options\": {\n+        \"dataLinks\": []\n+      },\n+      \"percentage\": false,\n+      \"pluginVersion\": \"6.7.2\",\n+      \"pointradius\": 2,\n+      \"points\": true,\n+      \"renderer\": \"flot\",\n+      \"seriesOverrides\": [],\n+      \"spaceLength\": 10,\n+      \"stack\": false,\n+      \"steppedLine\": false,\n+      \"targets\": [\n+        {\n+          \"alias\": \"read_time\",\n+          \"groupBy\": [\n+            {\n+              \"params\": [\n+                \"$__interval\"\n+              ],\n+              \"type\": \"time\"\n+            }\n+          ],\n+          \"measurement\": \"python_bqio_read\",\n+          \"orderByTime\": \"ASC\",\n+          \"policy\": \"default\",\n+          \"query\": \"SELECT mean(\\\"value\\\") FROM \\\"python_psio_2GB_results\\\" WHERE \\\"metric\\\" = \\\"pubsub_io_perf_read_runtime\\\" AND $timeFilter GROUP BY time($__interval), \\\"metric\\\"\",\n+          \"rawQuery\": true,\n+          \"refId\": \"A\",\n+          \"resultFormat\": \"time_series\",\n+          \"select\": [\n+            [\n+              {\n+                \"params\": [\n+                  \"value\"\n+                ],\n+                \"type\": \"field\"\n+              },\n+              {\n+                \"params\": [],\n+                \"type\": \"mean\"\n+              }\n+            ]\n+          ],\n+          \"tags\": []\n+        }\n+      ],\n+      \"thresholds\": [],\n+      \"timeFrom\": null,\n+      \"timeRegions\": [],\n+      \"timeShift\": null,\n+      \"title\": \"Reading 2GB of data | Pubsub IO\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dfbb5588cae1db1f4d3890d6bb5488da6276d6a2"}, "originalPosition": 123}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDAyNTkyOQ==", "bodyText": "Done", "url": "https://github.com/apache/beam/pull/11809#discussion_r430025929", "createdAt": "2020-05-25T17:23:11Z", "author": {"login": "piotr-szuberski"}, "path": ".test-infra/metrics/grafana/dashboards/perftests_metrics/Python_IO_IT_Tests_Dataflow.json", "diffHunk": "@@ -261,6 +261,250 @@\n         \"align\": false,\n         \"alignLevel\": null\n       }\n+    },\n+    {\n+      \"aliasColors\": {},\n+      \"bars\": false,\n+      \"cacheTimeout\": null,\n+      \"dashLength\": 10,\n+      \"dashes\": false,\n+      \"datasource\": \"BeamInfluxDB\",\n+      \"fill\": 1,\n+      \"fillGradient\": 0,\n+      \"gridPos\": {\n+        \"h\": 9,\n+        \"w\": 12,\n+        \"x\": 0,\n+        \"y\": 9\n+      },\n+      \"hiddenSeries\": false,\n+      \"id\": 4,\n+      \"interval\": \"15h\",\n+      \"legend\": {\n+        \"avg\": false,\n+        \"current\": false,\n+        \"max\": false,\n+        \"min\": false,\n+        \"show\": false,\n+        \"total\": false,\n+        \"values\": false\n+      },\n+      \"lines\": true,\n+      \"linewidth\": 2,\n+      \"links\": [],\n+      \"nullPointMode\": \"connected\",\n+      \"options\": {\n+        \"dataLinks\": []\n+      },\n+      \"percentage\": false,\n+      \"pluginVersion\": \"6.7.2\",\n+      \"pointradius\": 2,\n+      \"points\": true,\n+      \"renderer\": \"flot\",\n+      \"seriesOverrides\": [],\n+      \"spaceLength\": 10,\n+      \"stack\": false,\n+      \"steppedLine\": false,\n+      \"targets\": [\n+        {\n+          \"alias\": \"read_time\",\n+          \"groupBy\": [\n+            {\n+              \"params\": [\n+                \"$__interval\"\n+              ],\n+              \"type\": \"time\"\n+            }\n+          ],\n+          \"measurement\": \"python_bqio_read\",\n+          \"orderByTime\": \"ASC\",\n+          \"policy\": \"default\",\n+          \"query\": \"SELECT mean(\\\"value\\\") FROM \\\"python_psio_2GB_results\\\" WHERE \\\"metric\\\" = \\\"pubsub_io_perf_read_runtime\\\" AND $timeFilter GROUP BY time($__interval), \\\"metric\\\"\",\n+          \"rawQuery\": true,\n+          \"refId\": \"A\",\n+          \"resultFormat\": \"time_series\",\n+          \"select\": [\n+            [\n+              {\n+                \"params\": [\n+                  \"value\"\n+                ],\n+                \"type\": \"field\"\n+              },\n+              {\n+                \"params\": [],\n+                \"type\": \"mean\"\n+              }\n+            ]\n+          ],\n+          \"tags\": []\n+        }\n+      ],\n+      \"thresholds\": [],\n+      \"timeFrom\": null,\n+      \"timeRegions\": [],\n+      \"timeShift\": null,\n+      \"title\": \"Reading 2GB of data | Pubsub IO\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDAxNTgxOQ=="}, "originalCommit": {"oid": "dfbb5588cae1db1f4d3890d6bb5488da6276d6a2"}, "originalPosition": 123}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3698, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}