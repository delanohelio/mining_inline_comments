{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3NDcwNDc1", "number": 12384, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNTo0MDoxNVrOES33IQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNTo0Mzo1NVrOES39Tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4MjI1MDU3OnYy", "diffSide": "RIGHT", "path": "release/src/main/scripts/build_release_candidate.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNTo0MDoxNVrOG4SwIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQyMDozMDowNVrOG4dp8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY4MDY3NQ==", "bodyText": "Is this approach generally preferred over virtualenv --python=python3 (just asking for my own edification)?", "url": "https://github.com/apache/beam/pull/12384#discussion_r461680675", "createdAt": "2020-07-28T15:40:15Z", "author": {"login": "TheNeuralBit"}, "path": "release/src/main/scripts/build_release_candidate.sh", "diffHunk": "@@ -288,14 +288,15 @@ if [[ $confirmation = \"y\" ]]; then\n   mkdir -p ${LOCAL_WEBSITE_REPO}\n \n   echo \"------------------Building Python Doc------------------------\"\n-  virtualenv ${LOCAL_PYTHON_VIRTUALENV}\n-  source ${LOCAL_PYTHON_VIRTUALENV}/bin/activate\n+  python3 -m venv \"${LOCAL_PYTHON_VIRTUALENV}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d2a4278e17ac0b1c013961c4531ddace66fa61f"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTg1OTMxNA==", "bodyText": "The new apprach works starting from Py3 as venv became released as part of the standard library and is now documented in Python docs: https://docs.python.org/3/library/venv.html. Old approach also works if virtualenv is installed.", "url": "https://github.com/apache/beam/pull/12384#discussion_r461859314", "createdAt": "2020-07-28T20:30:05Z", "author": {"login": "tvalentyn"}, "path": "release/src/main/scripts/build_release_candidate.sh", "diffHunk": "@@ -288,14 +288,15 @@ if [[ $confirmation = \"y\" ]]; then\n   mkdir -p ${LOCAL_WEBSITE_REPO}\n \n   echo \"------------------Building Python Doc------------------------\"\n-  virtualenv ${LOCAL_PYTHON_VIRTUALENV}\n-  source ${LOCAL_PYTHON_VIRTUALENV}/bin/activate\n+  python3 -m venv \"${LOCAL_PYTHON_VIRTUALENV}\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY4MDY3NQ=="}, "originalCommit": {"oid": "2d2a4278e17ac0b1c013961c4531ddace66fa61f"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4MjI2NjM5OnYy", "diffSide": "RIGHT", "path": "release/src/main/scripts/build_release_candidate.sh", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNTo0Mzo1NVrOG4S6EA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNTo0Mzo1NVrOG4S6EA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY4MzIxNg==", "bodyText": "Good catch", "url": "https://github.com/apache/beam/pull/12384#discussion_r461683216", "createdAt": "2020-07-28T15:43:55Z", "author": {"login": "TheNeuralBit"}, "path": "release/src/main/scripts/build_release_candidate.sh", "diffHunk": "@@ -288,14 +288,15 @@ if [[ $confirmation = \"y\" ]]; then\n   mkdir -p ${LOCAL_WEBSITE_REPO}\n \n   echo \"------------------Building Python Doc------------------------\"\n-  virtualenv ${LOCAL_PYTHON_VIRTUALENV}\n-  source ${LOCAL_PYTHON_VIRTUALENV}/bin/activate\n+  python3 -m venv \"${LOCAL_PYTHON_VIRTUALENV}\"\n+  source \"${LOCAL_PYTHON_VIRTUALENV}/bin/activate\"\n   cd ${LOCAL_PYTHON_DOC}\n   pip install tox\n   git clone ${GIT_REPO_URL}\n   cd ${BEAM_ROOT_DIR}\n   git checkout ${RELEASE_BRANCH}\n-  cd sdks/python && pip install -r build-requirements.txt && tox -e py37-docs\n+  RELEASE_COMMIT=$(git rev-parse --verify ${RELEASE_BRANCH})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d2a4278e17ac0b1c013961c4531ddace66fa61f"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 961, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}