{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxMzMxOTc3", "number": 11177, "title": "[BEAM-9562] Add Timer to Elements proto representation.", "bodyText": "Please add a meaningful description for your change here\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n Update CHANGES.md with noteworthy changes.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nApex\nDataflow\nFlink\nGearpump\nSamza\nSpark\n\n\n\n\nGo\n\n---\n---\n\n---\n---\n\n\n\nJava\n\n\n\n\n\n\n\n\n\nPython\n\n---\n\n\n---\n---\n\n\n\nXLang\n---\n---\n---\n\n---\n---\n\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-03-20T03:24:40Z", "url": "https://github.com/apache/beam/pull/11177", "merged": true, "mergeCommit": {"oid": "c728d25f2e816bc715368a312db9c47c7fdf40de"}, "closed": true, "closedAt": "2020-03-20T18:37:02Z", "author": {"login": "boyuanzz"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcPYGdBgFqTM3ODIxODI5Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPjnXIgBqjMxNTAxNjY1MTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4MjE4Mjk2", "url": "https://github.com/apache/beam/pull/11177#pullrequestreview-378218296", "createdAt": "2020-03-20T03:35:28Z", "commit": {"oid": "5caedc4b3fe56aa2244246be4ae63e5b72c588fd"}, "state": "APPROVED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQwMzozNToyOFrOF5G47A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQwMzozODo1OVrOF5G7Yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQyNjAyOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              // A descriptor describing the end  point to use for Data API to use user\n          \n          \n            \n              // timers.\n          \n          \n            \n              // A descriptor describing the end point to use for Data API for user timers.\n          \n          \n            \n              // Required if the ProcessBundleDescriptor contains any transforms that have user timers.", "url": "https://github.com/apache/beam/pull/11177#discussion_r395426028", "createdAt": "2020-03-20T03:35:28Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -164,6 +164,11 @@ message ProcessBundleDescriptor {\n   // data plane or if any of the transforms rely on user state or side inputs.\n   org.apache.beam.model.pipeline.v1.ApiServiceDescriptor\n       state_api_service_descriptor = 7;\n+\n+  // A descriptor describing the end  point to use for Data API to use user\n+  // timers.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5caedc4b3fe56aa2244246be4ae63e5b72c588fd"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQyNjEzOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                string instruction_id = 1;\n          \n          \n            \n                string instruction_id = 1;", "url": "https://github.com/apache/beam/pull/11177#discussion_r395426138", "createdAt": "2020-03-20T03:36:02Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -533,8 +538,33 @@ message Elements {\n     bytes data = 3;\n   }\n \n+  // Represent the encoded user timer for a given instruction, transform and\n+  // timer id.\n+  message Timer {\n+    // (Required) A reference to an active instruction request with the given\n+    // instruction id.\n+    string instruction_id = 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5caedc4b3fe56aa2244246be4ae63e5b72c588fd"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQyNjE2MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                string transform_id = 2;\n          \n          \n            \n                string transform_id = 2;", "url": "https://github.com/apache/beam/pull/11177#discussion_r395426161", "createdAt": "2020-03-20T03:36:11Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -533,8 +538,33 @@ message Elements {\n     bytes data = 3;\n   }\n \n+  // Represent the encoded user timer for a given instruction, transform and\n+  // timer id.\n+  message Timer {\n+    // (Required) A reference to an active instruction request with the given\n+    // instruction id.\n+    string instruction_id = 1;\n+    // (Required) A definition representing a consumer or producer of this data.\n+    // If received by a harness, this represents the consumer within that\n+    // harness that should consume these bytes. If sent by a harness, this\n+    // represents the producer of these bytes.\n+    string transform_id = 2;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5caedc4b3fe56aa2244246be4ae63e5b72c588fd"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQyNjE4Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                string timer_id = 3;\n          \n          \n            \n                string timer_id = 3;", "url": "https://github.com/apache/beam/pull/11177#discussion_r395426182", "createdAt": "2020-03-20T03:36:18Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -533,8 +538,33 @@ message Elements {\n     bytes data = 3;\n   }\n \n+  // Represent the encoded user timer for a given instruction, transform and\n+  // timer id.\n+  message Timer {\n+    // (Required) A reference to an active instruction request with the given\n+    // instruction id.\n+    string instruction_id = 1;\n+    // (Required) A definition representing a consumer or producer of this data.\n+    // If received by a harness, this represents the consumer within that\n+    // harness that should consume these bytes. If sent by a harness, this\n+    // represents the producer of these bytes.\n+    string transform_id = 2;\n+    // (Optional) The local timer name which can be mapped to\n+    // timer specification.\n+    string timer_id = 3;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5caedc4b3fe56aa2244246be4ae63e5b72c588fd"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQyNjMwMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // harness that should consume these bytes. If sent by a harness, this\n          \n          \n            \n                // represents the producer of these bytes.\n          \n          \n            \n                // harness that should consume these timers. If sent by a harness, this\n          \n          \n            \n                // represents the producer of these timers.", "url": "https://github.com/apache/beam/pull/11177#discussion_r395426301", "createdAt": "2020-03-20T03:36:58Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -533,8 +538,33 @@ message Elements {\n     bytes data = 3;\n   }\n \n+  // Represent the encoded user timer for a given instruction, transform and\n+  // timer id.\n+  message Timer {\n+    // (Required) A reference to an active instruction request with the given\n+    // instruction id.\n+    string instruction_id = 1;\n+    // (Required) A definition representing a consumer or producer of this data.\n+    // If received by a harness, this represents the consumer within that\n+    // harness that should consume these bytes. If sent by a harness, this\n+    // represents the producer of these bytes.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5caedc4b3fe56aa2244246be4ae63e5b72c588fd"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQyNjU4OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // (Optional) The local timer name which can be mapped to\n          \n          \n            \n                // timer specification.\n          \n          \n            \n                // (Optional) The local timer name used to identify the associated timer specification.", "url": "https://github.com/apache/beam/pull/11177#discussion_r395426588", "createdAt": "2020-03-20T03:38:34Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -533,8 +538,33 @@ message Elements {\n     bytes data = 3;\n   }\n \n+  // Represent the encoded user timer for a given instruction, transform and\n+  // timer id.\n+  message Timer {\n+    // (Required) A reference to an active instruction request with the given\n+    // instruction id.\n+    string instruction_id = 1;\n+    // (Required) A definition representing a consumer or producer of this data.\n+    // If received by a harness, this represents the consumer within that\n+    // harness that should consume these bytes. If sent by a harness, this\n+    // represents the producer of these bytes.\n+    string transform_id = 2;\n+    // (Optional) The local timer name which can be mapped to\n+    // timer specification.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5caedc4b3fe56aa2244246be4ae63e5b72c588fd"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQyNjY1OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              // (Required) A list containing parts of logical byte streams.\n          \n          \n            \n              // (Optional) A list containing parts of logical byte streams.", "url": "https://github.com/apache/beam/pull/11177#discussion_r395426658", "createdAt": "2020-03-20T03:38:59Z", "author": {"login": "lukecwik"}, "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -533,8 +538,33 @@ message Elements {\n     bytes data = 3;\n   }\n \n+  // Represent the encoded user timer for a given instruction, transform and\n+  // timer id.\n+  message Timer {\n+    // (Required) A reference to an active instruction request with the given\n+    // instruction id.\n+    string instruction_id = 1;\n+    // (Required) A definition representing a consumer or producer of this data.\n+    // If received by a harness, this represents the consumer within that\n+    // harness that should consume these bytes. If sent by a harness, this\n+    // represents the producer of these bytes.\n+    string transform_id = 2;\n+    // (Optional) The local timer name which can be mapped to\n+    // timer specification.\n+    string timer_id = 3;\n+    // (Optional) Represents a logical byte stream of a timer. Encoded according\n+    // to the coder in the timer spec.\n+    // An empty data block represents the end of stream for the given\n+    // instruction and transform.\n+    bytes timer = 4;\n+  }\n+\n+\n   // (Required) A list containing parts of logical byte streams.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5caedc4b3fe56aa2244246be4ae63e5b72c588fd"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dde6dc3976700ed2d05bc05020dc7c61075c72d7", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/dde6dc3976700ed2d05bc05020dc7c61075c72d7", "committedDate": "2020-03-20T17:04:23Z", "message": "Add Timer to Elements proto representation."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c6fc588102373a6ff2d616340191e9f254325c03", "author": {"user": {"login": "boyuanzz", "name": "Boyuan Zhang"}}, "url": "https://github.com/apache/beam/commit/c6fc588102373a6ff2d616340191e9f254325c03", "committedDate": "2020-03-20T16:59:22Z", "message": "Update model/fn-execution/src/main/proto/beam_fn_api.proto\n\nCo-Authored-By: Lukasz Cwik <lcwik@google.com>"}, "afterCommit": {"oid": "dde6dc3976700ed2d05bc05020dc7c61075c72d7", "author": {"user": null}, "url": "https://github.com/apache/beam/commit/dde6dc3976700ed2d05bc05020dc7c61075c72d7", "committedDate": "2020-03-20T17:04:23Z", "message": "Add Timer to Elements proto representation."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2860, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}