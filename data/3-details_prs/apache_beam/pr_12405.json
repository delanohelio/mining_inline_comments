{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4MzIwODU5", "number": 12405, "title": "[BEAM-10599] Add documentation about CI on GitHub Action", "bodyText": "Add documentation about CI on GitHub Action\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n Update CHANGES.md with noteworthy changes.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nDataflow\nFlink\nSamza\nSpark\nTwister2\n\n\n\n\nGo\n\n---\n\n---\n\n---\n\n\nJava\n\n\n\n\n\n\n\n\nPython\n\n\n\n---\n\n---\n\n\nXLang\n\n---\n\n---\n\n---\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-07-29T09:44:18Z", "url": "https://github.com/apache/beam/pull/12405", "merged": true, "mergeCommit": {"oid": "de81742d72bba5a99f65039f663487175f0e8aef"}, "closed": true, "closedAt": "2020-08-03T16:54:55Z", "author": {"login": "TobKed"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5rg0mAH2gAyNDU4MzIwODU5OjFkZjI1MWQxNzliMjU3Yzk3MTVhMTc3MzFlYjc0NDAxNThhZjM4ZDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7U_IIAFqTQ2MDE4NTg3Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1df251d179b257c9715a17731eb7440158af38d1", "author": {"user": {"login": "TobKed", "name": "Tobiasz K\u0119dzierski"}}, "url": "https://github.com/apache/beam/commit/1df251d179b257c9715a17731eb7440158af38d1", "committedDate": "2020-07-29T14:01:32Z", "message": "Add documentation about CI on GitHub Action"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1cb4ecf981443cd8b366666841e2cc72078bf39e", "author": {"user": {"login": "TobKed", "name": "Tobiasz K\u0119dzierski"}}, "url": "https://github.com/apache/beam/commit/1cb4ecf981443cd8b366666841e2cc72078bf39e", "committedDate": "2020-07-29T09:42:09Z", "message": "Add documentation about CI on GitHub Action"}, "afterCommit": {"oid": "1df251d179b257c9715a17731eb7440158af38d1", "author": {"user": {"login": "TobKed", "name": "Tobiasz K\u0119dzierski"}}, "url": "https://github.com/apache/beam/commit/1df251d179b257c9715a17731eb7440158af38d1", "committedDate": "2020-07-29T14:01:32Z", "message": "Add documentation about CI on GitHub Action"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3NzM5OTc3", "url": "https://github.com/apache/beam/pull/12405#pullrequestreview-457739977", "createdAt": "2020-07-29T17:31:33Z", "commit": {"oid": "1df251d179b257c9715a17731eb7440158af38d1"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNzozMTozM1rOG5C0Hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNzozNTowMlrOG5C79Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjQ2ODEyNw==", "bodyText": "\"2019/202\" -> \"2019/2020\"", "url": "https://github.com/apache/beam/pull/12405#discussion_r462468127", "createdAt": "2020-07-29T17:31:33Z", "author": {"login": "aaltay"}, "path": "CI.md", "diffHunk": "@@ -0,0 +1,104 @@\n+<!--\n+    Licensed to the Apache Software Foundation (ASF) under one\n+    or more contributor license agreements.  See the NOTICE file\n+    distributed with this work for additional information\n+    regarding copyright ownership.  The ASF licenses this file\n+    to you under the Apache License, Version 2.0 (the\n+    \"License\"); you may not use this file except in compliance\n+    with the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing,\n+    software distributed under the License is distributed on an\n+    \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, either express or implied.  See the License for the\n+    specific language governing permissions and limitations\n+    under the License.\n+-->\n+\n+# Apache Beam\n+\n+## CI Environment\n+\n+Continuous Integration is important component of making Apache Beam robust and stable.\n+\n+Our execution environment for CI is mainly the Jenkins which is available at \n+[https://ci-beam.apache.org/](https://ci-beam.apache.org/). See \n+[.test-infra/jenkins/README](.test-infra/jenkins/README.md)\n+for trigger phrase, status and link of all Jenkins jobs. See Apache Beam Developer Guide for \n+[Jenkins Tips](https://cwiki.apache.org/confluence/display/BEAM/Jenkins+Tips).\n+\n+An additional execution environment for CI is [GitHub Actions](https://github.com/features/actions). GitHub Actions\n+(GA) are very well integrated with GitHub code and Workflow and it has evolved fast in 2019/202 to become", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1df251d179b257c9715a17731eb7440158af38d1"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjQ2ODYyNQ==", "bodyText": "We are doing more than \"so we decided to use it for building python source\ndistribution and wheels.\". Running windows tests for example.", "url": "https://github.com/apache/beam/pull/12405#discussion_r462468625", "createdAt": "2020-07-29T17:32:19Z", "author": {"login": "aaltay"}, "path": "CI.md", "diffHunk": "@@ -0,0 +1,104 @@\n+<!--\n+    Licensed to the Apache Software Foundation (ASF) under one\n+    or more contributor license agreements.  See the NOTICE file\n+    distributed with this work for additional information\n+    regarding copyright ownership.  The ASF licenses this file\n+    to you under the Apache License, Version 2.0 (the\n+    \"License\"); you may not use this file except in compliance\n+    with the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing,\n+    software distributed under the License is distributed on an\n+    \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, either express or implied.  See the License for the\n+    specific language governing permissions and limitations\n+    under the License.\n+-->\n+\n+# Apache Beam\n+\n+## CI Environment\n+\n+Continuous Integration is important component of making Apache Beam robust and stable.\n+\n+Our execution environment for CI is mainly the Jenkins which is available at \n+[https://ci-beam.apache.org/](https://ci-beam.apache.org/). See \n+[.test-infra/jenkins/README](.test-infra/jenkins/README.md)\n+for trigger phrase, status and link of all Jenkins jobs. See Apache Beam Developer Guide for \n+[Jenkins Tips](https://cwiki.apache.org/confluence/display/BEAM/Jenkins+Tips).\n+\n+An additional execution environment for CI is [GitHub Actions](https://github.com/features/actions). GitHub Actions\n+(GA) are very well integrated with GitHub code and Workflow and it has evolved fast in 2019/202 to become\n+a fully-fledged CI environment, easy to use and develop for, so we decided to use it for building python source", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1df251d179b257c9715a17731eb7440158af38d1"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjQ3MDEzMw==", "bodyText": "Should we add windows tests to this list?", "url": "https://github.com/apache/beam/pull/12405#discussion_r462470133", "createdAt": "2020-07-29T17:35:02Z", "author": {"login": "aaltay"}, "path": "CI.md", "diffHunk": "@@ -0,0 +1,104 @@\n+<!--\n+    Licensed to the Apache Software Foundation (ASF) under one\n+    or more contributor license agreements.  See the NOTICE file\n+    distributed with this work for additional information\n+    regarding copyright ownership.  The ASF licenses this file\n+    to you under the Apache License, Version 2.0 (the\n+    \"License\"); you may not use this file except in compliance\n+    with the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing,\n+    software distributed under the License is distributed on an\n+    \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, either express or implied.  See the License for the\n+    specific language governing permissions and limitations\n+    under the License.\n+-->\n+\n+# Apache Beam\n+\n+## CI Environment\n+\n+Continuous Integration is important component of making Apache Beam robust and stable.\n+\n+Our execution environment for CI is mainly the Jenkins which is available at \n+[https://ci-beam.apache.org/](https://ci-beam.apache.org/). See \n+[.test-infra/jenkins/README](.test-infra/jenkins/README.md)\n+for trigger phrase, status and link of all Jenkins jobs. See Apache Beam Developer Guide for \n+[Jenkins Tips](https://cwiki.apache.org/confluence/display/BEAM/Jenkins+Tips).\n+\n+An additional execution environment for CI is [GitHub Actions](https://github.com/features/actions). GitHub Actions\n+(GA) are very well integrated with GitHub code and Workflow and it has evolved fast in 2019/202 to become\n+a fully-fledged CI environment, easy to use and develop for, so we decided to use it for building python source\n+distribution and wheels.\n+\n+## GitHub Actions\n+\n+### GitHub actions run types\n+\n+The following GA CI Job runs are currently run for Apache Beam, and each of the runs have different\n+purpose and context.\n+\n+#### Pull request run\n+\n+Those runs are results of PR\u00a0from the forks made by contributors. Most builds for Apache Beam fall\n+into this category. They are executed in the context of the \"Fork\", not main\n+Beam Code Repository which means that they have only \"read\" permission to all the GitHub resources\n+(container registry, code repository). This is necessary as the code in those PRs (including CI job\n+definition) might be modified by people who are not committers for the Apache Beam Code Repository.\n+\n+The main purpose of those jobs is to check if PR builds cleanly, if the test run properly and if\n+the PR is ready to review and merge.\n+\n+#### Direct Push/Merge Run\n+\n+Those runs are results of direct pushes done by the committers or as result of merge of a Pull Request\n+by the committers. Those runs execute in the context of the Apache Beam Code Repository and have also\n+write permission for GitHub resources (container registry, code repository).\n+The main purpose for the run\u00a0is to check if the code after merge still holds all the assertions - like\n+whether it still builds, all tests are green.\n+\n+This is needed because some of the conflicting changes from multiple PRs might cause build and test failures\n+after merge even if they do not fail in isolation.\n+\n+#### Scheduled runs\n+\n+Those runs are results of (nightly) triggered job - only for `master`\u00a0branch. The\n+main purpose of the job is to check if there was no impact of external dependency changes on the Apache\n+Beam code (for example transitive dependencies released that fail the build). Another reason for the nightly \n+build is that the builds tags most recent master with `nightly-master`.\n+\n+All runs consist of the same jobs, but the jobs behave slightly differently or they are skipped in different\n+run categories. Here is a summary of the run categories with regards of the jobs they are running.\n+Those jobs often have matrix run strategy which runs several different variations of the jobs\n+(with different platform type / Python version to run for example)\n+\n+| Job                                             | Description                                                                                                                                                                                                                                                        | Pull Request Run | Direct Push/Merge Run | Scheduled Run | Requires GCP Credentials |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1df251d179b257c9715a17731eb7440158af38d1"}, "originalPosition": 78}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d9f8cb558e59a8e7daff0955d0f3aa5fd017762", "author": {"user": {"login": "TobKed", "name": "Tobiasz K\u0119dzierski"}}, "url": "https://github.com/apache/beam/commit/1d9f8cb558e59a8e7daff0955d0f3aa5fd017762", "committedDate": "2020-07-30T11:52:06Z", "message": "fixup! Add documentation about CI on GitHub Action"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMTg1ODcz", "url": "https://github.com/apache/beam/pull/12405#pullrequestreview-460185873", "createdAt": "2020-08-03T16:54:40Z", "commit": {"oid": "1d9f8cb558e59a8e7daff0955d0f3aa5fd017762"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3583, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}