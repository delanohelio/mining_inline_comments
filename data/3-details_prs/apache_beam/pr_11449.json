{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1Mjg5NzUz", "number": 11449, "title": "Updates and clarifications on type safety.", "bodyText": "Clarifiactions about when errors are raised.\nClarifications about PickleCoder. (The default is actually FastPrimitivesCoder, but this is an implementation detail.)\nUsers should not be calling ParDo with a function.\nRemoves unused (and not reccomended) *args and **kwargs in process methods.\n\n\nThank you for your contribution! Follow this checklist to help us incorporate your contribution quickly and easily:\n\n Choose reviewer(s) and mention them in a comment (R: @username).\n Format the pull request title like [BEAM-XXX] Fixes bug in ApproximateQuantiles, where you replace BEAM-XXX with the appropriate JIRA issue, if applicable. This will automatically link the pull request to the issue.\n Update CHANGES.md with noteworthy changes.\n If this contribution is large, please file an Apache Individual Contributor License Agreement.\n\nSee the Contributor Guide for more tips on how to make review process smoother.\nPost-Commit Tests Status (on master branch)\n\n\n\nLang\nSDK\nApex\nDataflow\nFlink\nGearpump\nSamza\nSpark\n\n\n\n\nGo\n\n---\n---\n\n---\n---\n\n\n\nJava\n\n\n\n\n\n\n\n\n\nPython\n\n---\n\n\n---\n---\n\n\n\nXLang\n---\n---\n---\n\n---\n---\n\n\n\n\nPre-Commit Tests Status (on master branch)\n\n\n\n---\nJava\nPython\nGo\nWebsite\n\n\n\n\nNon-portable\n\n\n\n\n\n\nPortable\n---\n\n---\n---\n\n\n\nSee .test-infra/jenkins/README for trigger phrase, status and link of all Jenkins jobs.", "createdAt": "2020-04-17T18:56:00Z", "url": "https://github.com/apache/beam/pull/11449", "merged": true, "mergeCommit": {"oid": "be57a61ac242c3d5bd32d08d06395bc1cc3e3bc0"}, "closed": true, "closedAt": "2020-04-17T22:32:09Z", "author": {"login": "robertwb"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYl8g7gH2gAyNDA1Mjg5NzUzOmFmZWFhYmQ2MmRlNTlmMDQ1ZGUyZTMzZDE5ZDU4MTJmODJkOTlkYjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYpDhQgH2gAyNDA1Mjg5NzUzOjYyZjE1ZGQ5NjhkMTg4OWIzMTUxMTVhOWYyMTk2MThmZTkxYzY4N2E=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "afeaabd62de59f045de2e33d19d5812f82d99db5", "author": {"user": {"login": "robertwb", "name": "Robert Bradshaw"}}, "url": "https://github.com/apache/beam/commit/afeaabd62de59f045de2e33d19d5812f82d99db5", "committedDate": "2020-04-17T18:52:51Z", "message": "Updates and clarifications on type safety.\n\n* Clarifiactions about when errors are raised.\n* Clarifications about PickleCoder. (Actually, the default is FastPrimitivesCoder.)\n* Users should not be calling ParDo with a function.\n* Removes unused (and not reccomended) *args and **kwargs in process methods."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NzUxMTI5", "url": "https://github.com/apache/beam/pull/11449#pullrequestreview-395751129", "createdAt": "2020-04-17T20:26:13Z", "commit": {"oid": "afeaabd62de59f045de2e33d19d5812f82d99db5"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QyMDoyNjoxM1rOGHcEiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QyMDoyODo0N1rOGHcI2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ1MzEyOQ==", "bodyText": "I put these unused_ arguments because I ran this file through mypy and it was complaining about them not being there.\nPyCharm has similar complaints. Any solution to this?", "url": "https://github.com/apache/beam/pull/11449#discussion_r410453129", "createdAt": "2020-04-17T20:26:13Z", "author": {"login": "udim"}, "path": "sdks/python/apache_beam/examples/snippets/snippets_test_py3.py", "diffHunk": "@@ -44,7 +44,7 @@ def test_bad_types_annotations(self):\n     # pylint: disable=expression-not-assigned\n     # pylint: disable=unused-variable\n     class FilterEvensDoFn(beam.DoFn):\n-      def process(self, element, *unused_args, **unused_kwargs):", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "afeaabd62de59f045de2e33d19d5812f82d99db5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ1NDIzMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Beam will remove the outer iterable of the return type on the `DoFn.process` method and functions passed `FlatMap` to deduce the element type of resulting PCollection .\n          \n          \n            \n            Beam will remove the outer iterable of the return type on the `DoFn.process` method and functions passed to `FlatMap` to deduce the element type of resulting PCollection .", "url": "https://github.com/apache/beam/pull/11449#discussion_r410454232", "createdAt": "2020-04-17T20:28:47Z", "author": {"login": "udim"}, "path": "website/src/documentation/sdks/python-type-safety.md", "diffHunk": "@@ -91,8 +92,8 @@ The following code declares an `int` input and a `str` output type hint on the `\n ```\n \n The following code declares `int` input and output type hints on `filter_evens`, using annotations on `FilterEvensDoFn.process`.\n-Since `process` returns a generator, the output type is annotated as `Iterable[int]` (`Generator[int, None, None]` would also work here).\n-Beam will remove the outer iterable of the return type on the `DoFn.process` method and functions passed to `ParDo` and `FlatMap`.\n+Since `process` returns a generator, the output type for a DoFn producing a `PCollection[int]` is annotated as `Iterable[int]` (`Generator[int, None, None]` would also work here).\n+Beam will remove the outer iterable of the return type on the `DoFn.process` method and functions passed `FlatMap` to deduce the element type of resulting PCollection .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "afeaabd62de59f045de2e33d19d5812f82d99db5"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NzY2NDc3", "url": "https://github.com/apache/beam/pull/11449#pullrequestreview-395766477", "createdAt": "2020-04-17T20:54:47Z", "commit": {"oid": "afeaabd62de59f045de2e33d19d5812f82d99db5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QyMDo1NDo0N1rOGHcyng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QyMDo1NDo0N1rOGHcyng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ2NDkyNg==", "bodyText": "If you're removing mentions of ParDo here, then the corresponding snippets should also be updated to use FlatMap instead of ParDo.", "url": "https://github.com/apache/beam/pull/11449#discussion_r410464926", "createdAt": "2020-04-17T20:54:47Z", "author": {"login": "udim"}, "path": "website/src/documentation/sdks/python-type-safety.md", "diffHunk": "@@ -91,8 +92,8 @@ The following code declares an `int` input and a `str` output type hint on the `\n ```\n \n The following code declares `int` input and output type hints on `filter_evens`, using annotations on `FilterEvensDoFn.process`.\n-Since `process` returns a generator, the output type is annotated as `Iterable[int]` (`Generator[int, None, None]` would also work here).\n-Beam will remove the outer iterable of the return type on the `DoFn.process` method and functions passed to `ParDo` and `FlatMap`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "afeaabd62de59f045de2e33d19d5812f82d99db5"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62f15dd968d1889b315115a9f219618fe91c687a", "author": {"user": {"login": "robertwb", "name": "Robert Bradshaw"}}, "url": "https://github.com/apache/beam/commit/62f15dd968d1889b315115a9f219618fe91c687a", "committedDate": "2020-04-17T22:30:13Z", "message": "Update website/src/documentation/sdks/python-type-safety.md\n\nCo-Authored-By: Udi Meiri <udim@users.noreply.github.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4282, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}