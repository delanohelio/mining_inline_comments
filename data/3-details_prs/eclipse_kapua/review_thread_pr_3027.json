{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxMTIwNzcw", "number": 3027, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMzoyMTo0OFrOEPiEQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMzoyMTo0OFrOEPiEQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NzIyMjQzOnYy", "diffSide": "RIGHT", "path": "commons/src/main/java/org/eclipse/kapua/commons/jpa/ResourceSqlScriptExecutor.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMzoyMTo0OFrOGzSwfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMzoyODoxNlrOGzS_hQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQzNzg4NQ==", "bodyText": "Please update the header to \"2017, 2020\".", "url": "https://github.com/eclipse/kapua/pull/3027#discussion_r456437885", "createdAt": "2020-07-17T13:21:48Z", "author": {"login": "LeoNerdoG"}, "path": "commons/src/main/java/org/eclipse/kapua/commons/jpa/ResourceSqlScriptExecutor.java", "diffHunk": "@@ -89,8 +89,8 @@ public int executeUpdate(EntityManager entityManager) {\n             StringBuilder sqlStringBuilder = new StringBuilder();\n             try {\n                 try (\n-                        InputStream inputStream = getClass().getClassLoader().getResourceAsStream(qStr);\n-                        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream))) {\n+                    InputStream inputStream = Thread.currentThread().getContextClassLoader().getResourceAsStream(qStr);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5246cd29e5ea87aee71374f262d6d07c38071b2d"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQ0MTEzMQ==", "bodyText": "Hi, do you perhaps mean at this line ?", "url": "https://github.com/eclipse/kapua/pull/3027#discussion_r456441131", "createdAt": "2020-07-17T13:27:15Z", "author": {"login": "henry-lp"}, "path": "commons/src/main/java/org/eclipse/kapua/commons/jpa/ResourceSqlScriptExecutor.java", "diffHunk": "@@ -89,8 +89,8 @@ public int executeUpdate(EntityManager entityManager) {\n             StringBuilder sqlStringBuilder = new StringBuilder();\n             try {\n                 try (\n-                        InputStream inputStream = getClass().getClassLoader().getResourceAsStream(qStr);\n-                        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream))) {\n+                    InputStream inputStream = Thread.currentThread().getContextClassLoader().getResourceAsStream(qStr);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQzNzg4NQ=="}, "originalCommit": {"oid": "5246cd29e5ea87aee71374f262d6d07c38071b2d"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQ0MTczMw==", "bodyText": "yes, exactly! \ud83d\ude04", "url": "https://github.com/eclipse/kapua/pull/3027#discussion_r456441733", "createdAt": "2020-07-17T13:28:16Z", "author": {"login": "LeoNerdoG"}, "path": "commons/src/main/java/org/eclipse/kapua/commons/jpa/ResourceSqlScriptExecutor.java", "diffHunk": "@@ -89,8 +89,8 @@ public int executeUpdate(EntityManager entityManager) {\n             StringBuilder sqlStringBuilder = new StringBuilder();\n             try {\n                 try (\n-                        InputStream inputStream = getClass().getClassLoader().getResourceAsStream(qStr);\n-                        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream))) {\n+                    InputStream inputStream = Thread.currentThread().getContextClassLoader().getResourceAsStream(qStr);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQzNzg4NQ=="}, "originalCommit": {"oid": "5246cd29e5ea87aee71374f262d6d07c38071b2d"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1743, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}