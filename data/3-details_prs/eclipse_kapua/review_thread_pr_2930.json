{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwMjAyMTg4", "number": 2930, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToxODoyMVrODvnHVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToyODoyMFrODvnbCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMjUwNTE4OnYy", "diffSide": "RIGHT", "path": "service/job/internal/src/main/java/org/eclipse/kapua/service/job/step/internal/JobStepDAO.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToxODoyMVrOGCIs8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToxODoyMVrOGCIs8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDg5MjkxMw==", "bodyText": "Please use KapuaNamedEntityAttributes.NAME", "url": "https://github.com/eclipse/kapua/pull/2930#discussion_r404892913", "createdAt": "2020-04-07T15:18:21Z", "author": {"login": "Coduz"}, "path": "service/job/internal/src/main/java/org/eclipse/kapua/service/job/step/internal/JobStepDAO.java", "diffHunk": "@@ -92,7 +92,7 @@ public static JobStep find(EntityManager em, KapuaId scopeId, KapuaId jobStepId)\n      * @return\n      */\n     public static JobStep findByName(EntityManager em, String name) {\n-        return ServiceDAO.findByField(em, JobStepImpl.class, \"name\", name);\n+        return ServiceDAO.findByField(em, JobStepImpl.class, null, \"name\", name);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc720a59aa1926520ed9d83919b3e3b2023ef2f"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMjUwNzY1OnYy", "diffSide": "RIGHT", "path": "service/job/internal/src/main/java/org/eclipse/kapua/service/job/internal/JobDAO.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToxODo0NVrOGCIuWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToxODo0NVrOGCIuWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDg5MzI3Mw==", "bodyText": "Please use KapuaNamedEntityAttributes.NAME", "url": "https://github.com/eclipse/kapua/pull/2930#discussion_r404893273", "createdAt": "2020-04-07T15:18:45Z", "author": {"login": "Coduz"}, "path": "service/job/internal/src/main/java/org/eclipse/kapua/service/job/internal/JobDAO.java", "diffHunk": "@@ -89,7 +89,7 @@ public static Job find(EntityManager em, KapuaId scopeId, KapuaId jobId) {\n      * @return\n      */\n     public static Job findByName(EntityManager em, String name) {\n-        return ServiceDAO.findByField(em, JobImpl.class, \"name\", name);\n+        return ServiceDAO.findByField(em, JobImpl.class, null, \"name\", name);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc720a59aa1926520ed9d83919b3e3b2023ef2f"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMjUwODQ0OnYy", "diffSide": "RIGHT", "path": "service/job/internal/src/main/java/org/eclipse/kapua/service/job/execution/internal/JobExecutionDAO.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToxODo1NFrOGCIu3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToxODo1NFrOGCIu3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDg5MzQwNg==", "bodyText": "Please use KapuaNamedEntityAttributes.NAME", "url": "https://github.com/eclipse/kapua/pull/2930#discussion_r404893406", "createdAt": "2020-04-07T15:18:54Z", "author": {"login": "Coduz"}, "path": "service/job/internal/src/main/java/org/eclipse/kapua/service/job/execution/internal/JobExecutionDAO.java", "diffHunk": "@@ -92,7 +92,7 @@ public static JobExecution find(EntityManager em, KapuaId scopeId, KapuaId jobEx\n      * @since 1.0.0\n      */\n     public static JobExecution findByName(EntityManager em, String name) {\n-        return ServiceDAO.findByField(em, JobExecutionImpl.class, \"name\", name);\n+        return ServiceDAO.findByField(em, JobExecutionImpl.class, null, \"name\", name);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc720a59aa1926520ed9d83919b3e3b2023ef2f"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMjUwOTk4OnYy", "diffSide": "RIGHT", "path": "service/account/internal/src/main/java/org/eclipse/kapua/service/account/internal/AccountDAO.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToxOToxMlrOGCIvww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToxOToxMlrOGCIvww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDg5MzYzNQ==", "bodyText": "Please use KapuaNamedEntityAttributes.NAME", "url": "https://github.com/eclipse/kapua/pull/2930#discussion_r404893635", "createdAt": "2020-04-07T15:19:12Z", "author": {"login": "Coduz"}, "path": "service/account/internal/src/main/java/org/eclipse/kapua/service/account/internal/AccountDAO.java", "diffHunk": "@@ -95,7 +95,7 @@ public static Account find(EntityManager em, KapuaId scopeId, KapuaId accountId)\n      * @return\n      */\n     public static Account findByName(EntityManager em, String name) {\n-        return ServiceDAO.findByField(em, AccountImpl.class, \"name\", name);\n+        return ServiceDAO.findByField(em, AccountImpl.class, null, \"name\", name);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc720a59aa1926520ed9d83919b3e3b2023ef2f"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMjUxMTYxOnYy", "diffSide": "RIGHT", "path": "service/job/internal/src/main/java/org/eclipse/kapua/service/job/targets/internal/JobTargetDAO.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToxOTozMFrOGCIwvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToxOTozMFrOGCIwvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDg5Mzg4Ng==", "bodyText": "Please use KapuaNamedEntityAttributes.NAME", "url": "https://github.com/eclipse/kapua/pull/2930#discussion_r404893886", "createdAt": "2020-04-07T15:19:30Z", "author": {"login": "Coduz"}, "path": "service/job/internal/src/main/java/org/eclipse/kapua/service/job/targets/internal/JobTargetDAO.java", "diffHunk": "@@ -92,7 +92,7 @@ public static JobTarget find(EntityManager em, KapuaId scopeId, KapuaId jobTarge\n      * @return\n      */\n     public static JobTarget findByName(EntityManager em, String name) {\n-        return ServiceDAO.findByField(em, JobTargetImpl.class, \"name\", name);\n+        return ServiceDAO.findByField(em, JobTargetImpl.class, null, \"name\", name);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc720a59aa1926520ed9d83919b3e3b2023ef2f"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMjUzMDI4OnYy", "diffSide": "RIGHT", "path": "service/user/internal/src/main/java/org/eclipse/kapua/service/user/internal/UserDAO.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToyMzoxOVrOGCI8tQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToyMzoxOVrOGCI8tQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDg5Njk0OQ==", "bodyText": "Please use KapuaNamedEntityAttributes.NAME", "url": "https://github.com/eclipse/kapua/pull/2930#discussion_r404896949", "createdAt": "2020-04-07T15:23:19Z", "author": {"login": "Coduz"}, "path": "service/user/internal/src/main/java/org/eclipse/kapua/service/user/internal/UserDAO.java", "diffHunk": "@@ -89,7 +89,7 @@ public static User find(EntityManager em, KapuaId scopeId, KapuaId userId) {\n      * @return\n      */\n     public static User findByName(EntityManager em, String name) {\n-        return ServiceDAO.findByField(em, UserImpl.class, \"name\", name);\n+        return ServiceDAO.findByField(em, UserImpl.class, null, \"name\", name);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc720a59aa1926520ed9d83919b3e3b2023ef2f"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMjUzMTc5OnYy", "diffSide": "RIGHT", "path": "service/user/internal/src/main/java/org/eclipse/kapua/service/user/internal/UserDAO.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToyMzozNFrOGCI9lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToyMzozNFrOGCI9lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDg5NzE3NQ==", "bodyText": "Please use UserAttributes.EXTETNAL_ID", "url": "https://github.com/eclipse/kapua/pull/2930#discussion_r404897175", "createdAt": "2020-04-07T15:23:34Z", "author": {"login": "Coduz"}, "path": "service/user/internal/src/main/java/org/eclipse/kapua/service/user/internal/UserDAO.java", "diffHunk": "@@ -100,7 +100,7 @@ public static User findByName(EntityManager em, String name) {\n      * @return the user record, may be {@code null}\n      */\n     public static User findByExternalId(final EntityManager em, final String externalId) {\n-        return ServiceDAO.findByField(em, UserImpl.class, \"externalId\", externalId);\n+        return ServiceDAO.findByField(em, UserImpl.class, null, \"externalId\", externalId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc720a59aa1926520ed9d83919b3e3b2023ef2f"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMjUzMzgzOnYy", "diffSide": "RIGHT", "path": "commons/src/main/java/org/eclipse/kapua/commons/configuration/ServiceConfigDAO.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToyMzo1OVrOGCI-0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToyMzo1OVrOGCI-0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDg5NzQ5MA==", "bodyText": "Please use KapuaNamedEntityAttributes.NAME", "url": "https://github.com/eclipse/kapua/pull/2930#discussion_r404897490", "createdAt": "2020-04-07T15:23:59Z", "author": {"login": "Coduz"}, "path": "commons/src/main/java/org/eclipse/kapua/commons/configuration/ServiceConfigDAO.java", "diffHunk": "@@ -83,7 +83,7 @@ public static ServiceConfig find(EntityManager em, KapuaId scopeId, KapuaId user\n      * @return\n      */\n     public static ServiceConfig findByName(EntityManager em, String name) {\n-        return ServiceDAO.findByField(em, ServiceConfigImpl.class, \"name\", name);\n+        return ServiceDAO.findByField(em, ServiceConfigImpl.class, null, \"name\", name);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc720a59aa1926520ed9d83919b3e3b2023ef2f"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMjU1NTYyOnYy", "diffSide": "RIGHT", "path": "commons/src/main/java/org/eclipse/kapua/commons/service/internal/ServiceDAO.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToyODoyMFrOGCJMSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNToyODoyMFrOGCJMSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDkwMDkzOA==", "bodyText": "I would have kept\n\nfindByField(em, clazz, name, value) \nfindByField(em, clazz, scopeId name, value)\n\nin order to avoid to pass null to a methods which usage could be confusing.\nAlso they actually have a slight difference which is that the one without scopeId needs checkaccess perfomed after invokation while with scopeId check access should have already happened", "url": "https://github.com/eclipse/kapua/pull/2930#discussion_r404900938", "createdAt": "2020-04-07T15:28:20Z", "author": {"login": "Coduz"}, "path": "commons/src/main/java/org/eclipse/kapua/commons/service/internal/ServiceDAO.java", "diffHunk": "@@ -268,14 +271,21 @@ protected ServiceDAO() {\n     /**\n      * Find by fields {@link KapuaEntity} utility method\n      *\n-     * @param em    The {@link EntityManager} that holds the transaction.\n-     * @param clazz The {@link KapuaEntity} class. This must be the implementing {@code class}.\n-     * @param name  The {@link KapuaEntity} name of the field from which to search.\n-     * @param value The value of the field from which to search.\n+     * @param em      The {@link EntityManager} that holds the transaction.\n+     * @param clazz   The {@link KapuaEntity} class. This must be the implementing {@code class}.\n+     * @param scopeId\n+     * @param name    The {@link KapuaEntity} name of the field from which to search.\n+     * @param value   The value of the field from which to search.\n      * @return The {@link KapuaEntity} found, or {@code null} if not found.\n+     * @throws NonUniqueResultException When more than one result is returned\n      * @since 1.0.0\n      */\n-    public static <E extends KapuaEntity> E findByField(@NotNull EntityManager em, @NotNull Class<E> clazz, @NotNull String name, @NotNull String value) {\n+    @Nullable\n+    public static <E extends KapuaEntity> E findByField(@NotNull EntityManager em,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cc720a59aa1926520ed9d83919b3e3b2023ef2f"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1810, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}