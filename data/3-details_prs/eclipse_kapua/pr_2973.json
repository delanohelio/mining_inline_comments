{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3NzgxNjY2", "number": 2973, "title": "Added JUnit Tests for KapuaExceptionUtils", "bodyText": "Signed-off-by: Sonja sonja.matic@comtrade.com\nAdded Junit Tests for KapuaExceptionUtils\nRelated Issue\n/\nDescription of the solution adopted\n/\nScreenshots\n/", "createdAt": "2020-05-14T06:33:44Z", "url": "https://github.com/eclipse/kapua/pull/2973", "merged": true, "mergeCommit": {"oid": "b80354b780ba3e39b44db6dac34d0ddeb7436da1"}, "closed": true, "closedAt": "2020-05-19T09:03:24Z", "author": {"login": "sonja-ct"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchIROJAFqTQxMTUyOTI1Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABciwmthAFqTQxNDI0MDg2Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNTI5MjUz", "url": "https://github.com/eclipse/kapua/pull/2973#pullrequestreview-411529253", "createdAt": "2020-05-14T07:23:38Z", "commit": {"oid": "f7a96c83f3e30258686b7c26f6b218b50c7fb017"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNzI0OTU3", "url": "https://github.com/eclipse/kapua/pull/2973#pullrequestreview-411724957", "createdAt": "2020-05-14T11:49:24Z", "commit": {"oid": "f7a96c83f3e30258686b7c26f6b218b50c7fb017"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxMTo0OToyNFrOGVYmCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxMTo0OToyNFrOGVYmCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA3NjIzMw==", "bodyText": "Please update the copyright message to reflect the timespan from the date of the file was created.\nSo this will be like:\nCopyright (c) 2017, 2020 Eurotech and/or its affiliates and others", "url": "https://github.com/eclipse/kapua/pull/2973#discussion_r425076233", "createdAt": "2020-05-14T11:49:24Z", "author": {"login": "Coduz"}, "path": "commons/src/test/java/org/eclipse/kapua/commons/util/KapuaExceptionUtilsTest.java", "diffHunk": "@@ -1,5 +1,5 @@\n /*******************************************************************************\n- * Copyright (c) 2017 Eurotech and/or its affiliates and others\n+ * Copyright (c) 2020 Eurotech and/or its affiliates and others", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a96c83f3e30258686b7c26f6b218b50c7fb017"}, "originalPosition": 3}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f7a96c83f3e30258686b7c26f6b218b50c7fb017", "author": {"user": null}, "url": "https://github.com/eclipse/kapua/commit/f7a96c83f3e30258686b7c26f6b218b50c7fb017", "committedDate": "2020-05-14T05:43:10Z", "message": "Added JUnit Tests for KapuaExceptionUtils\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>"}, "afterCommit": {"oid": "30a56bf165d54071de9b6cb9d4403892f640fde1", "author": {"user": null}, "url": "https://github.com/eclipse/kapua/commit/30a56bf165d54071de9b6cb9d4403892f640fde1", "committedDate": "2020-05-14T13:14:17Z", "message": "Added JUnit Tests for KapuaExceptionUtils\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNzkyMjEy", "url": "https://github.com/eclipse/kapua/pull/2973#pullrequestreview-411792212", "createdAt": "2020-05-14T13:16:32Z", "commit": {"oid": "30a56bf165d54071de9b6cb9d4403892f640fde1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzNDM5ODEy", "url": "https://github.com/eclipse/kapua/pull/2973#pullrequestreview-413439812", "createdAt": "2020-05-18T09:50:47Z", "commit": {"oid": "30a56bf165d54071de9b6cb9d4403892f640fde1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQwOTo1MDo0N1rOGWvyOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQwOTo1MDo0N1rOGWvyOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjUwNDc2Mw==", "bodyText": "assertEquals has an overload method that accepts a message as a first argument. So fail invoked in the catch exception is not the correct usage of Assert stuff.\nPlease change this and also other similar usages.", "url": "https://github.com/eclipse/kapua/pull/2973#discussion_r426504763", "createdAt": "2020-05-18T09:50:47Z", "author": {"login": "Coduz"}, "path": "commons/src/test/java/org/eclipse/kapua/commons/util/KapuaExceptionUtilsTest.java", "diffHunk": "@@ -52,16 +60,114 @@ public void testConvertPersistenceException() {\n         Throwable a = new RollbackException(\"rollback2\", r);\n         PersistenceException persistExc1 = new PersistenceException(a);\n \n-        Exception[] listOfPermittedExceptions = new Exception[]{kapExc0,kapExc1,kapExc2,kapExc3,\n-                kapExc4,persistExc0, persistExc1,optimisticLock};\n-        int sizeOfExceptions = listOfPermittedExceptions.length;\n-        // positive tests\n-        for (int i = 0; i < sizeOfExceptions; i++) {\n+        Exception[] listOfExceptions = new Exception[]{kapExc0, kapExc1, kapExc2, kapExc3, kapExc4, persistExc0, persistExc1, optimisticLock};\n+        Exception[] listOfExpectedExceptions = new Exception[]{kapExc0, kapExc1, kapExc2, kapExc3, KapuaException.internalError(kapExc4, \"Error during Persistence Operation\"), KapuaException.internalError(persistExc0, \"Error during Persistence Operation\"), KapuaException.internalError(persistExc1, \"Error during Persistence Operation\"), new KapuaOptimisticLockingException(optimisticLock)};\n+\n+        for (int i = 0; i < listOfExceptions.length; i++) {\n+            try {\n+                assertEquals(listOfExpectedExceptions[i].toString(), KapuaExceptionUtils.convertPersistenceException(listOfExceptions[i]).toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30a56bf165d54071de9b6cb9d4403892f640fde1"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7b441269aacacb8cfc35c7c9a6109be5ffb4f6e", "author": {"user": null}, "url": "https://github.com/eclipse/kapua/commit/e7b441269aacacb8cfc35c7c9a6109be5ffb4f6e", "committedDate": "2020-05-18T12:22:16Z", "message": "Added JUnit Tests for KapuaExceptionUtils\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "30a56bf165d54071de9b6cb9d4403892f640fde1", "author": {"user": null}, "url": "https://github.com/eclipse/kapua/commit/30a56bf165d54071de9b6cb9d4403892f640fde1", "committedDate": "2020-05-14T13:14:17Z", "message": "Added JUnit Tests for KapuaExceptionUtils\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>"}, "afterCommit": {"oid": "e7b441269aacacb8cfc35c7c9a6109be5ffb4f6e", "author": {"user": null}, "url": "https://github.com/eclipse/kapua/commit/e7b441269aacacb8cfc35c7c9a6109be5ffb4f6e", "committedDate": "2020-05-18T12:22:16Z", "message": "Added JUnit Tests for KapuaExceptionUtils\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzNjU5ODM4", "url": "https://github.com/eclipse/kapua/pull/2973#pullrequestreview-413659838", "createdAt": "2020-05-18T14:40:24Z", "commit": {"oid": "e7b441269aacacb8cfc35c7c9a6109be5ffb4f6e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MjQwODYz", "url": "https://github.com/eclipse/kapua/pull/2973#pullrequestreview-414240863", "createdAt": "2020-05-19T08:57:14Z", "commit": {"oid": "e7b441269aacacb8cfc35c7c9a6109be5ffb4f6e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 222, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}