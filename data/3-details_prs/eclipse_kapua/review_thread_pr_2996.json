{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3OTM4MjIy", "number": 2996, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwODo1ODo0NFrOEENL7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwODo1OToyNFrOEENM2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyODQ1ODA0OnYy", "diffSide": "RIGHT", "path": "console/core/src/main/java/org/eclipse/kapua/app/console/core/client/KapuaCloudConsole.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwODo1ODo0NFrOGhrnIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwOToxNDo0NFrOGhsLsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk3MDcyMA==", "bodyText": "Can you please change the header to \"2020\"? I hope I am not too late \ud83d\ude04", "url": "https://github.com/eclipse/kapua/pull/2996#discussion_r437970720", "createdAt": "2020-06-10T08:58:44Z", "author": {"login": "LeoNerdoG"}, "path": "console/core/src/main/java/org/eclipse/kapua/app/console/core/client/KapuaCloudConsole.java", "diffHunk": "@@ -446,18 +446,23 @@ public void onFailure(Throwable caught) {\n \n                     @Override\n                     public void onSuccess(final String result) {\n-                        logger.info(\"Waiting for logout.\");\n-\n-                        // this timer is needed to give time to the ConsoleInfo.display method (called above) to show\n-                        // the message to the user (otherwise the Window.location.assign would reload the page,\n-                        // giving no time to the user to read the message).\n-                        Timer timer = new Timer() {\n-                            @Override\n-                            public void run() {\n-                                Window.Location.assign(result);\n-                            }\n-                        };\n-                        timer.schedule(SSO_FAILURE_WAIT_TIME);\n+                        if (!result.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab9f00a02730857dc346b67e28e1ed7769bf42ac"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk4MDA4Mw==", "bodyText": "Sure! Done", "url": "https://github.com/eclipse/kapua/pull/2996#discussion_r437980083", "createdAt": "2020-06-10T09:14:44Z", "author": {"login": "gbarbon"}, "path": "console/core/src/main/java/org/eclipse/kapua/app/console/core/client/KapuaCloudConsole.java", "diffHunk": "@@ -446,18 +446,23 @@ public void onFailure(Throwable caught) {\n \n                     @Override\n                     public void onSuccess(final String result) {\n-                        logger.info(\"Waiting for logout.\");\n-\n-                        // this timer is needed to give time to the ConsoleInfo.display method (called above) to show\n-                        // the message to the user (otherwise the Window.location.assign would reload the page,\n-                        // giving no time to the user to read the message).\n-                        Timer timer = new Timer() {\n-                            @Override\n-                            public void run() {\n-                                Window.Location.assign(result);\n-                            }\n-                        };\n-                        timer.schedule(SSO_FAILURE_WAIT_TIME);\n+                        if (!result.isEmpty()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk3MDcyMA=="}, "originalCommit": {"oid": "ab9f00a02730857dc346b67e28e1ed7769bf42ac"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyODQ1OTU1OnYy", "diffSide": "RIGHT", "path": "console/core/src/main/java/org/eclipse/kapua/app/console/core/server/GwtSettingsServiceImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwODo1OToxMVrOGhroLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwOToxNDo1NlrOGhsMIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk3MDk5MA==", "bodyText": "Can you please change the header to \"2020\"? I hope I am not too late \ud83d\ude04", "url": "https://github.com/eclipse/kapua/pull/2996#discussion_r437970990", "createdAt": "2020-06-10T08:59:11Z", "author": {"login": "LeoNerdoG"}, "path": "console/core/src/main/java/org/eclipse/kapua/app/console/core/server/GwtSettingsServiceImpl.java", "diffHunk": "@@ -52,8 +52,11 @@ public String getSsoLoginUri() throws GwtKapuaException {\n     @Override\n     public String getSsoLogoutUri(String ssoIdToken) throws GwtKapuaException {\n         try {\n-            return SsoLocator.getLocator(this).getService().getLogoutUri(ssoIdToken,\n-                    URI.create(SsoHelper.getHomeUri()), UUID.randomUUID().toString());\n+            if (SETTINGS.getBoolean(ConsoleSettingKeys.SSO_OPENID_LOGOUT_ENABLED, true)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab9f00a02730857dc346b67e28e1ed7769bf42ac"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk4MDE5Mw==", "bodyText": "done!", "url": "https://github.com/eclipse/kapua/pull/2996#discussion_r437980193", "createdAt": "2020-06-10T09:14:56Z", "author": {"login": "gbarbon"}, "path": "console/core/src/main/java/org/eclipse/kapua/app/console/core/server/GwtSettingsServiceImpl.java", "diffHunk": "@@ -52,8 +52,11 @@ public String getSsoLoginUri() throws GwtKapuaException {\n     @Override\n     public String getSsoLogoutUri(String ssoIdToken) throws GwtKapuaException {\n         try {\n-            return SsoLocator.getLocator(this).getService().getLogoutUri(ssoIdToken,\n-                    URI.create(SsoHelper.getHomeUri()), UUID.randomUUID().toString());\n+            if (SETTINGS.getBoolean(ConsoleSettingKeys.SSO_OPENID_LOGOUT_ENABLED, true)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk3MDk5MA=="}, "originalCommit": {"oid": "ab9f00a02730857dc346b67e28e1ed7769bf42ac"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyODQ1OTc5OnYy", "diffSide": "RIGHT", "path": "console/core/src/main/java/org/eclipse/kapua/app/console/core/client/NorthView.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwODo1OToxNFrOGhroTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwOToxNToxOFrOGhsNAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk3MTAyMw==", "bodyText": "Can you please change the header to \"2020\"? I hope I am not too late \ud83d\ude04", "url": "https://github.com/eclipse/kapua/pull/2996#discussion_r437971023", "createdAt": "2020-06-10T08:59:14Z", "author": {"login": "LeoNerdoG"}, "path": "console/core/src/main/java/org/eclipse/kapua/app/console/core/client/NorthView.java", "diffHunk": "@@ -197,16 +197,21 @@ public void onSuccess(Void arg0) {\n                                     gwtSettingService.getSsoLogoutUri(currentSession.getSsoIdToken(),\n                                             new AsyncCallback<String>() {\n \n-                                        @Override\n-                                        public void onFailure(Throwable caught) {\n-                                            FailureHandler.handle(caught);\n-                                        }\n-\n-                                        @Override\n-                                        public void onSuccess(String result) {\n-                                            Window.Location.assign(result);\n-                                        }\n-                                    });\n+                                                @Override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab9f00a02730857dc346b67e28e1ed7769bf42ac"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk4MDQxOQ==", "bodyText": "done!", "url": "https://github.com/eclipse/kapua/pull/2996#discussion_r437980419", "createdAt": "2020-06-10T09:15:18Z", "author": {"login": "gbarbon"}, "path": "console/core/src/main/java/org/eclipse/kapua/app/console/core/client/NorthView.java", "diffHunk": "@@ -197,16 +197,21 @@ public void onSuccess(Void arg0) {\n                                     gwtSettingService.getSsoLogoutUri(currentSession.getSsoIdToken(),\n                                             new AsyncCallback<String>() {\n \n-                                        @Override\n-                                        public void onFailure(Throwable caught) {\n-                                            FailureHandler.handle(caught);\n-                                        }\n-\n-                                        @Override\n-                                        public void onSuccess(String result) {\n-                                            Window.Location.assign(result);\n-                                        }\n-                                    });\n+                                                @Override", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk3MTAyMw=="}, "originalCommit": {"oid": "ab9f00a02730857dc346b67e28e1ed7769bf42ac"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyODQ2MDQxOnYy", "diffSide": "RIGHT", "path": "console/module/api/src/main/java/org/eclipse/kapua/app/console/module/api/setting/ConsoleSettingKeys.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwODo1OToyNFrOGhrosg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwOToxNToxMFrOGhsMrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk3MTEyMg==", "bodyText": "Can you please change the header to \"2020\"? I hope I am not too late \ud83d\ude04", "url": "https://github.com/eclipse/kapua/pull/2996#discussion_r437971122", "createdAt": "2020-06-10T08:59:24Z", "author": {"login": "LeoNerdoG"}, "path": "console/module/api/src/main/java/org/eclipse/kapua/app/console/module/api/setting/ConsoleSettingKeys.java", "diffHunk": "@@ -39,6 +39,7 @@\n \n     SSO_REDIRECT_URI(\"console.sso.redirect.uri\"), //\n     SSO_CONSOLE_HOME_URI(\"console.sso.home.uri\"), //\n+    SSO_OPENID_LOGOUT_ENABLED(\"console.sso.openid.logout.enabled\"), //", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab9f00a02730857dc346b67e28e1ed7769bf42ac"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk4MDMzNQ==", "bodyText": "done!", "url": "https://github.com/eclipse/kapua/pull/2996#discussion_r437980335", "createdAt": "2020-06-10T09:15:10Z", "author": {"login": "gbarbon"}, "path": "console/module/api/src/main/java/org/eclipse/kapua/app/console/module/api/setting/ConsoleSettingKeys.java", "diffHunk": "@@ -39,6 +39,7 @@\n \n     SSO_REDIRECT_URI(\"console.sso.redirect.uri\"), //\n     SSO_CONSOLE_HOME_URI(\"console.sso.home.uri\"), //\n+    SSO_OPENID_LOGOUT_ENABLED(\"console.sso.openid.logout.enabled\"), //", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk3MTEyMg=="}, "originalCommit": {"oid": "ab9f00a02730857dc346b67e28e1ed7769bf42ac"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1711, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}