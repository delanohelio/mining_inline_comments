{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5MTI5NjMx", "number": 2981, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMDo0ODowOFrOD9V09g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzoxNToyM1rOD9yvtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1NjQ3MzUwOnYy", "diffSide": "RIGHT", "path": "rest-api/resources/src/main/java/org/eclipse/kapua/app/api/resources/v1/resources/DataMessages.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMDo0ODowOFrOGWxvAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMDo0ODowOFrOGWxvAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjUzNjcwNQ==", "bodyText": "A few of things:\n\nInstead of a String, you could use the SortDirection type itself so it's automatically parsed, and invalid values are rejected earlier. Also, to have it case-insensitive, please implement the fromString() method in SortDirection. You can draw inspiration from #2891\nAlso, for coherence with #2891, I would rather name the parameter sortDir, and the default should be in uppercase\nThis is just a stylistic preference, but I'd like to keep offset and limit to end of the signature, so could you please move sortDir just below metricMax?", "url": "https://github.com/eclipse/kapua/pull/2981#discussion_r426536705", "createdAt": "2020-05-18T10:48:08Z", "author": {"login": "lorthirk"}, "path": "rest-api/resources/src/main/java/org/eclipse/kapua/app/api/resources/v1/resources/DataMessages.java", "diffHunk": "@@ -88,7 +93,8 @@\n             @QueryParam(\"metricMin\") String metricMinValue, //\n             @QueryParam(\"metricMax\") String metricMaxValue, //\n             @QueryParam(\"offset\") @DefaultValue(\"0\") int offset,//\n-            @QueryParam(\"limit\") @DefaultValue(\"50\") int limit) throws KapuaException {\n+            @QueryParam(\"limit\") @DefaultValue(\"50\") int limit,\n+            @QueryParam(\"order\") @DefaultValue(\"desc\") String order) throws KapuaException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cfc59e61581582f733f25b3ea59b8c02647772e"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1NjQ4NTI5OnYy", "diffSide": "RIGHT", "path": "rest-api/resources/src/main/java/org/eclipse/kapua/app/api/resources/v1/resources/DataMessagesJson.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMDo1MTo1OVrOGWx2pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMDo1MTo1OVrOGWx2pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjUzODY2Mw==", "bodyText": "Of course, here you should reflect all the changes from DataMessages.java", "url": "https://github.com/eclipse/kapua/pull/2981#discussion_r426538663", "createdAt": "2020-05-18T10:51:59Z", "author": {"login": "lorthirk"}, "path": "rest-api/resources/src/main/java/org/eclipse/kapua/app/api/resources/v1/resources/DataMessagesJson.java", "diffHunk": "@@ -91,7 +91,8 @@\n             @QueryParam(\"metricMin\") String metricMinValue,\n             @QueryParam(\"metricMax\") String metricMaxValue,\n             @QueryParam(\"offset\") @DefaultValue(\"0\") int offset,\n-            @QueryParam(\"limit\") @DefaultValue(\"50\") int limit) throws KapuaException {\n+            @QueryParam(\"limit\") @DefaultValue(\"50\") int limit,\n+            @QueryParam(\"order\") @DefaultValue(\"desc\") String order) throws KapuaException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cfc59e61581582f733f25b3ea59b8c02647772e"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MDk2NjkxOnYy", "diffSide": "RIGHT", "path": "rest-api/resources/src/main/resources/openapi/dataMessage/dataMessage-scopeId.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMjoxMjoxMVrOGXdb_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMjoxMjoxMVrOGXdb_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzI1MjczNQ==", "bodyText": "Aren't these ASC and DESC?", "url": "https://github.com/eclipse/kapua/pull/2981#discussion_r427252735", "createdAt": "2020-05-19T12:12:11Z", "author": {"login": "lorthirk"}, "path": "rest-api/resources/src/main/resources/openapi/dataMessage/dataMessage-scopeId.yaml", "diffHunk": "@@ -67,6 +67,15 @@ paths:\n           in: query\n           schema:\n             type: string\n+        - description: The sort direction. Can be ASCENDING, DESCENDING (default). Case-insensitive.\n+          name: sortDir\n+          in: query\n+          schema:\n+            type: string\n+            enum:\n+              - ASCENDING\n+              - DESCENDING\n+            default: DESCENDING", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8b245182a06dde43a5d5569a9ab7044a3fc1db2"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MTIxMTQyOnYy", "diffSide": "RIGHT", "path": "rest-api/resources/src/main/resources/openapi/dataMessage/dataMessage-scopeId.yaml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzoxNToyM1rOGXf2lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNDozNzozNFrOGXjoEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzI5MjMxMA==", "bodyText": "Whoops... this slipped in as well. ASC and DESC here too. Just one to go!", "url": "https://github.com/eclipse/kapua/pull/2981#discussion_r427292310", "createdAt": "2020-05-19T13:15:23Z", "author": {"login": "lorthirk"}, "path": "rest-api/resources/src/main/resources/openapi/dataMessage/dataMessage-scopeId.yaml", "diffHunk": "@@ -67,6 +67,15 @@ paths:\n           in: query\n           schema:\n             type: string\n+        - description: The sort direction. Can be ASCENDING, DESCENDING (default). Case-insensitive.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "754a68ce58eb651b0f5794651e3be36c25f93d3a"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzMwMDI5Ng==", "bodyText": "This is a generic description and the meaning of those two words is generic as well.\nThey are not connected to actual enum members.", "url": "https://github.com/eclipse/kapua/pull/2981#discussion_r427300296", "createdAt": "2020-05-19T13:26:38Z", "author": {"login": "xshiart"}, "path": "rest-api/resources/src/main/resources/openapi/dataMessage/dataMessage-scopeId.yaml", "diffHunk": "@@ -67,6 +67,15 @@ paths:\n           in: query\n           schema:\n             type: string\n+        - description: The sort direction. Can be ASCENDING, DESCENDING (default). Case-insensitive.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzI5MjMxMA=="}, "originalCommit": {"oid": "754a68ce58eb651b0f5794651e3be36c25f93d3a"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM1MTM2OA==", "bodyText": "Hi!\nThat makes sense. Since they are generic description maybe those should be lowercase? So they will not be confused as values that can be used!\nThanks,\nAlberto", "url": "https://github.com/eclipse/kapua/pull/2981#discussion_r427351368", "createdAt": "2020-05-19T14:34:05Z", "author": {"login": "Coduz"}, "path": "rest-api/resources/src/main/resources/openapi/dataMessage/dataMessage-scopeId.yaml", "diffHunk": "@@ -67,6 +67,15 @@ paths:\n           in: query\n           schema:\n             type: string\n+        - description: The sort direction. Can be ASCENDING, DESCENDING (default). Case-insensitive.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzI5MjMxMA=="}, "originalCommit": {"oid": "754a68ce58eb651b0f5794651e3be36c25f93d3a"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM1NDEzMA==", "bodyText": "I agree with @Coduz. I would rather write them lowercase, and also remove the reference of them being case insensitive.", "url": "https://github.com/eclipse/kapua/pull/2981#discussion_r427354130", "createdAt": "2020-05-19T14:37:34Z", "author": {"login": "lorthirk"}, "path": "rest-api/resources/src/main/resources/openapi/dataMessage/dataMessage-scopeId.yaml", "diffHunk": "@@ -67,6 +67,15 @@ paths:\n           in: query\n           schema:\n             type: string\n+        - description: The sort direction. Can be ASCENDING, DESCENDING (default). Case-insensitive.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzI5MjMxMA=="}, "originalCommit": {"oid": "754a68ce58eb651b0f5794651e3be36c25f93d3a"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1700, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}