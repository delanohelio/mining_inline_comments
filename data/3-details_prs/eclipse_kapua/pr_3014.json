{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0NjUyMDYx", "number": 3014, "title": "Added Junit Tests for LocalCache Class", "bodyText": "Added Junit Tests for LocalCache Class\nSigned-off-by: Sonja sonja.matic@comtrade.com\nRelated Issue\n/\nDescription of the solution adopted\n/\nScreenshots\n/\nAny side note on the changes made\n/", "createdAt": "2020-07-06T09:26:20Z", "url": "https://github.com/eclipse/kapua/pull/3014", "merged": true, "mergeCommit": {"oid": "2642cf6974d494c6ecaabc151b625d1a20618c85"}, "closed": true, "closedAt": "2020-09-02T13:33:22Z", "author": {"login": "sonja-ct"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0geKTgFqTQ0NzE5NzgxOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdE5OL8gBqjM3MTg5NDUyMjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3MTk3ODE5", "url": "https://github.com/eclipse/kapua/pull/3014#pullrequestreview-447197819", "createdAt": "2020-07-13T12:20:03Z", "commit": {"oid": "7e7bedc412757b1774c345a0fd859d571c35544e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NzA4OTkz", "url": "https://github.com/eclipse/kapua/pull/3014#pullrequestreview-454708993", "createdAt": "2020-07-24T08:18:12Z", "commit": {"oid": "7e7bedc412757b1774c345a0fd859d571c35544e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwODoxODoxMlrOG2m9BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwODoxOTowNlrOG2m-ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkxNDUwMA==", "bodyText": "Same things as #3008 - https://github.com/eclipse/kapua/pull/3008/files#diff-031d59073d14c177c331d7ce9d2a83d8R67", "url": "https://github.com/eclipse/kapua/pull/3014#discussion_r459914500", "createdAt": "2020-07-24T08:18:12Z", "author": {"login": "Coduz"}, "path": "commons/src/test/java/org/eclipse/kapua/commons/cache/LocalCacheTest.java", "diffHunk": "@@ -0,0 +1,407 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 Eurotech and/or its affiliates and others\n+ *\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     Eurotech - initial API and implementation\n+ *******************************************************************************/\n+package org.eclipse.kapua.commons.cache;\n+\n+import org.eclipse.kapua.qa.markers.junit.JUnitTests;\n+import org.hamcrest.core.IsInstanceOf;\n+import org.junit.Assert;\n+import org.junit.Test;\n+import org.junit.experimental.categories.Category;\n+\n+import java.util.ArrayList;\n+\n+@Category(JUnitTests.class)\n+public class LocalCacheTest extends Assert {\n+\n+    @Test\n+    public void localCacheTest1() {\n+        int[] sizeMaxList = new int[]{0, 1, 10, 1000, 10000, 2147483647};\n+        int[] expireAfterList = new int[]{0, 1, 10, 1000, 10000, 2147483647};\n+        Object[] defaultValueList = new Object[]{0, 10, 100000, \"String\", 'c', -10, -1000000000, -100000000000L, 10L, 10.0f, null, 10.10d, true, false,};\n+        int invalidNegativeSizeMax = -1;\n+        int invalidNegativeExpireAfter = -1;\n+        IllegalArgumentException illegalArgumentExceptionSizeMax = new IllegalArgumentException(\"maximum size must not be negative\");\n+        IllegalArgumentException illegalArgumentExceptionExpireAfter = new IllegalArgumentException(\"duration cannot be negative: \" + invalidNegativeExpireAfter + \" SECONDS\");\n+\n+        for (int sizeMax : sizeMaxList) {\n+            for (int expireAfter : expireAfterList) {\n+                for (Object defaultValue : defaultValueList) {\n+                    LocalCache<Object, Object> localCache = new LocalCache<>(sizeMax, expireAfter, defaultValue);\n+                    assertNotNull(localCache);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7e7bedc412757b1774c345a0fd859d571c35544e"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkxNDUzOA==", "bodyText": "Same things as #3008 - https://github.com/eclipse/kapua/pull/3008/files#diff-031d59073d14c177c331d7ce9d2a83d8R67", "url": "https://github.com/eclipse/kapua/pull/3014#discussion_r459914538", "createdAt": "2020-07-24T08:18:17Z", "author": {"login": "Coduz"}, "path": "commons/src/test/java/org/eclipse/kapua/commons/cache/LocalCacheTest.java", "diffHunk": "@@ -0,0 +1,407 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 Eurotech and/or its affiliates and others\n+ *\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     Eurotech - initial API and implementation\n+ *******************************************************************************/\n+package org.eclipse.kapua.commons.cache;\n+\n+import org.eclipse.kapua.qa.markers.junit.JUnitTests;\n+import org.hamcrest.core.IsInstanceOf;\n+import org.junit.Assert;\n+import org.junit.Test;\n+import org.junit.experimental.categories.Category;\n+\n+import java.util.ArrayList;\n+\n+@Category(JUnitTests.class)\n+public class LocalCacheTest extends Assert {\n+\n+    @Test\n+    public void localCacheTest1() {\n+        int[] sizeMaxList = new int[]{0, 1, 10, 1000, 10000, 2147483647};\n+        int[] expireAfterList = new int[]{0, 1, 10, 1000, 10000, 2147483647};\n+        Object[] defaultValueList = new Object[]{0, 10, 100000, \"String\", 'c', -10, -1000000000, -100000000000L, 10L, 10.0f, null, 10.10d, true, false,};\n+        int invalidNegativeSizeMax = -1;\n+        int invalidNegativeExpireAfter = -1;\n+        IllegalArgumentException illegalArgumentExceptionSizeMax = new IllegalArgumentException(\"maximum size must not be negative\");\n+        IllegalArgumentException illegalArgumentExceptionExpireAfter = new IllegalArgumentException(\"duration cannot be negative: \" + invalidNegativeExpireAfter + \" SECONDS\");\n+\n+        for (int sizeMax : sizeMaxList) {\n+            for (int expireAfter : expireAfterList) {\n+                for (Object defaultValue : defaultValueList) {\n+                    LocalCache<Object, Object> localCache = new LocalCache<>(sizeMax, expireAfter, defaultValue);\n+                    assertNotNull(localCache);\n+                    assertEquals(\"Expected and actual values should be the same.\", defaultValue, localCache.get(defaultValueList));\n+                    assertThat(\"LocalCache object expected.\", localCache, IsInstanceOf.instanceOf(LocalCache.class));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7e7bedc412757b1774c345a0fd859d571c35544e"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkxNDg2Mw==", "bodyText": "Same things as #3008 - https://github.com/eclipse/kapua/pull/3008/files#diff-031d59073d14c177c331d7ce9d2a83d8R67", "url": "https://github.com/eclipse/kapua/pull/3014#discussion_r459914863", "createdAt": "2020-07-24T08:18:59Z", "author": {"login": "Coduz"}, "path": "commons/src/test/java/org/eclipse/kapua/commons/cache/LocalCacheTest.java", "diffHunk": "@@ -0,0 +1,407 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 Eurotech and/or its affiliates and others\n+ *\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     Eurotech - initial API and implementation\n+ *******************************************************************************/\n+package org.eclipse.kapua.commons.cache;\n+\n+import org.eclipse.kapua.qa.markers.junit.JUnitTests;\n+import org.hamcrest.core.IsInstanceOf;\n+import org.junit.Assert;\n+import org.junit.Test;\n+import org.junit.experimental.categories.Category;\n+\n+import java.util.ArrayList;\n+\n+@Category(JUnitTests.class)\n+public class LocalCacheTest extends Assert {\n+\n+    @Test\n+    public void localCacheTest1() {\n+        int[] sizeMaxList = new int[]{0, 1, 10, 1000, 10000, 2147483647};\n+        int[] expireAfterList = new int[]{0, 1, 10, 1000, 10000, 2147483647};\n+        Object[] defaultValueList = new Object[]{0, 10, 100000, \"String\", 'c', -10, -1000000000, -100000000000L, 10L, 10.0f, null, 10.10d, true, false,};\n+        int invalidNegativeSizeMax = -1;\n+        int invalidNegativeExpireAfter = -1;\n+        IllegalArgumentException illegalArgumentExceptionSizeMax = new IllegalArgumentException(\"maximum size must not be negative\");\n+        IllegalArgumentException illegalArgumentExceptionExpireAfter = new IllegalArgumentException(\"duration cannot be negative: \" + invalidNegativeExpireAfter + \" SECONDS\");\n+\n+        for (int sizeMax : sizeMaxList) {\n+            for (int expireAfter : expireAfterList) {\n+                for (Object defaultValue : defaultValueList) {\n+                    LocalCache<Object, Object> localCache = new LocalCache<>(sizeMax, expireAfter, defaultValue);\n+                    assertNotNull(localCache);\n+                    assertEquals(\"Expected and actual values should be the same.\", defaultValue, localCache.get(defaultValueList));\n+                    assertThat(\"LocalCache object expected.\", localCache, IsInstanceOf.instanceOf(LocalCache.class));\n+                }\n+            }\n+        }\n+        for (int expireAfter : expireAfterList) {\n+            for (Object defaultValue : defaultValueList) {\n+                try {\n+                    LocalCache<Object, Object> localCache = new LocalCache<>(invalidNegativeSizeMax, expireAfter, defaultValue);\n+                } catch (Exception e) {\n+                    assertEquals(\"Expected IllegalArgumentException: maximum size must not be negative.\", illegalArgumentExceptionSizeMax.toString(), e.toString());\n+                }\n+            }\n+        }\n+        for (int sizeMax : sizeMaxList) {\n+            for (Object defaultValue : defaultValueList) {\n+                try {\n+                    LocalCache<Object, Object> localCache = new LocalCache<>(sizeMax, invalidNegativeExpireAfter, defaultValue);\n+                } catch (Exception e) {\n+                    assertEquals(\"Expected java.lang.IllegalArgumentException: duration cannot be negative: \" + invalidNegativeExpireAfter + \" SECONDS\", illegalArgumentExceptionExpireAfter.toString(), e.toString());\n+                }\n+            }\n+        }\n+    }\n+\n+    @Test\n+    public void localCacheTest2() {\n+        int[] sizeMaxList = new int[]{0, 10, 1000, 10000, 2147483647};\n+        Object[] defaultValueList = new Object[]{0, 10, 100000, \"String\", 'c', -10, -1000000000, -100000000000L, 10L, 10.0f, null, 10.10d, true, false,};\n+        int invalidNegativeSizeMax = -1;\n+        IllegalArgumentException illegalArgumentExceptionSizeMax = new IllegalArgumentException(\"maximum size must not be negative\");\n+\n+        for (int sizeMax : sizeMaxList) {\n+            for (Object defaultValue : defaultValueList) {\n+                LocalCache<Object, Object> localCache = new LocalCache<>(sizeMax, defaultValue);\n+                assertNotNull(\"Null not expected.\", localCache);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7e7bedc412757b1774c345a0fd859d571c35544e"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkxNDkxNQ==", "bodyText": "Same things as #3008 - https://github.com/eclipse/kapua/pull/3008/files#diff-031d59073d14c177c331d7ce9d2a83d8R67", "url": "https://github.com/eclipse/kapua/pull/3014#discussion_r459914915", "createdAt": "2020-07-24T08:19:06Z", "author": {"login": "Coduz"}, "path": "commons/src/test/java/org/eclipse/kapua/commons/cache/LocalCacheTest.java", "diffHunk": "@@ -0,0 +1,407 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 Eurotech and/or its affiliates and others\n+ *\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     Eurotech - initial API and implementation\n+ *******************************************************************************/\n+package org.eclipse.kapua.commons.cache;\n+\n+import org.eclipse.kapua.qa.markers.junit.JUnitTests;\n+import org.hamcrest.core.IsInstanceOf;\n+import org.junit.Assert;\n+import org.junit.Test;\n+import org.junit.experimental.categories.Category;\n+\n+import java.util.ArrayList;\n+\n+@Category(JUnitTests.class)\n+public class LocalCacheTest extends Assert {\n+\n+    @Test\n+    public void localCacheTest1() {\n+        int[] sizeMaxList = new int[]{0, 1, 10, 1000, 10000, 2147483647};\n+        int[] expireAfterList = new int[]{0, 1, 10, 1000, 10000, 2147483647};\n+        Object[] defaultValueList = new Object[]{0, 10, 100000, \"String\", 'c', -10, -1000000000, -100000000000L, 10L, 10.0f, null, 10.10d, true, false,};\n+        int invalidNegativeSizeMax = -1;\n+        int invalidNegativeExpireAfter = -1;\n+        IllegalArgumentException illegalArgumentExceptionSizeMax = new IllegalArgumentException(\"maximum size must not be negative\");\n+        IllegalArgumentException illegalArgumentExceptionExpireAfter = new IllegalArgumentException(\"duration cannot be negative: \" + invalidNegativeExpireAfter + \" SECONDS\");\n+\n+        for (int sizeMax : sizeMaxList) {\n+            for (int expireAfter : expireAfterList) {\n+                for (Object defaultValue : defaultValueList) {\n+                    LocalCache<Object, Object> localCache = new LocalCache<>(sizeMax, expireAfter, defaultValue);\n+                    assertNotNull(localCache);\n+                    assertEquals(\"Expected and actual values should be the same.\", defaultValue, localCache.get(defaultValueList));\n+                    assertThat(\"LocalCache object expected.\", localCache, IsInstanceOf.instanceOf(LocalCache.class));\n+                }\n+            }\n+        }\n+        for (int expireAfter : expireAfterList) {\n+            for (Object defaultValue : defaultValueList) {\n+                try {\n+                    LocalCache<Object, Object> localCache = new LocalCache<>(invalidNegativeSizeMax, expireAfter, defaultValue);\n+                } catch (Exception e) {\n+                    assertEquals(\"Expected IllegalArgumentException: maximum size must not be negative.\", illegalArgumentExceptionSizeMax.toString(), e.toString());\n+                }\n+            }\n+        }\n+        for (int sizeMax : sizeMaxList) {\n+            for (Object defaultValue : defaultValueList) {\n+                try {\n+                    LocalCache<Object, Object> localCache = new LocalCache<>(sizeMax, invalidNegativeExpireAfter, defaultValue);\n+                } catch (Exception e) {\n+                    assertEquals(\"Expected java.lang.IllegalArgumentException: duration cannot be negative: \" + invalidNegativeExpireAfter + \" SECONDS\", illegalArgumentExceptionExpireAfter.toString(), e.toString());\n+                }\n+            }\n+        }\n+    }\n+\n+    @Test\n+    public void localCacheTest2() {\n+        int[] sizeMaxList = new int[]{0, 10, 1000, 10000, 2147483647};\n+        Object[] defaultValueList = new Object[]{0, 10, 100000, \"String\", 'c', -10, -1000000000, -100000000000L, 10L, 10.0f, null, 10.10d, true, false,};\n+        int invalidNegativeSizeMax = -1;\n+        IllegalArgumentException illegalArgumentExceptionSizeMax = new IllegalArgumentException(\"maximum size must not be negative\");\n+\n+        for (int sizeMax : sizeMaxList) {\n+            for (Object defaultValue : defaultValueList) {\n+                LocalCache<Object, Object> localCache = new LocalCache<>(sizeMax, defaultValue);\n+                assertNotNull(\"Null not expected.\", localCache);\n+                assertEquals(\"Expected and actual values should be the same.\", defaultValue, localCache.get(defaultValueList));\n+                assertThat(\"LocalCache object expected.\", localCache, IsInstanceOf.instanceOf(LocalCache.class));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7e7bedc412757b1774c345a0fd859d571c35544e"}, "originalPosition": 77}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7e7bedc412757b1774c345a0fd859d571c35544e", "author": {"user": null}, "url": "https://github.com/eclipse/kapua/commit/7e7bedc412757b1774c345a0fd859d571c35544e", "committedDate": "2020-07-06T08:25:22Z", "message": "Added Junit Tests for LocalCache Class\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>"}, "afterCommit": {"oid": "da8fd52afcec3235711f18d170da6cd26d1fe2c0", "author": {"user": null}, "url": "https://github.com/eclipse/kapua/commit/da8fd52afcec3235711f18d170da6cd26d1fe2c0", "committedDate": "2020-07-24T10:15:56Z", "message": "Added Junit Tests for LocalCache Class\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "da8fd52afcec3235711f18d170da6cd26d1fe2c0", "author": {"user": null}, "url": "https://github.com/eclipse/kapua/commit/da8fd52afcec3235711f18d170da6cd26d1fe2c0", "committedDate": "2020-07-24T10:15:56Z", "message": "Added Junit Tests for LocalCache Class\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>"}, "afterCommit": {"oid": "6971f43759c3cd52db838cca1dedf8fbbe3fa380", "author": {"user": null}, "url": "https://github.com/eclipse/kapua/commit/6971f43759c3cd52db838cca1dedf8fbbe3fa380", "committedDate": "2020-07-29T10:09:19Z", "message": "Added Junit Tests for LocalCache Class\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6971f43759c3cd52db838cca1dedf8fbbe3fa380", "author": {"user": null}, "url": "https://github.com/eclipse/kapua/commit/6971f43759c3cd52db838cca1dedf8fbbe3fa380", "committedDate": "2020-07-29T10:09:19Z", "message": "Added Junit Tests for LocalCache Class\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>"}, "afterCommit": {"oid": "db2a3657b78b42e76b510f38cea875da78cd1669", "author": {"user": null}, "url": "https://github.com/eclipse/kapua/commit/db2a3657b78b42e76b510f38cea875da78cd1669", "committedDate": "2020-09-02T08:29:14Z", "message": "Added Junit Tests for LocalCache Class\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNjA4NTU2", "url": "https://github.com/eclipse/kapua/pull/3014#pullrequestreview-480608556", "createdAt": "2020-09-02T08:43:27Z", "commit": {"oid": "db2a3657b78b42e76b510f38cea875da78cd1669"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "930d2037ec879e9ea4fdbea22c14f46c179e9813", "author": {"user": null}, "url": "https://github.com/eclipse/kapua/commit/930d2037ec879e9ea4fdbea22c14f46c179e9813", "committedDate": "2020-09-02T10:12:37Z", "message": "Added Junit Tests for LocalCache Class\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "db2a3657b78b42e76b510f38cea875da78cd1669", "author": {"user": null}, "url": "https://github.com/eclipse/kapua/commit/db2a3657b78b42e76b510f38cea875da78cd1669", "committedDate": "2020-09-02T08:29:14Z", "message": "Added Junit Tests for LocalCache Class\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>"}, "afterCommit": {"oid": "930d2037ec879e9ea4fdbea22c14f46c179e9813", "author": {"user": null}, "url": "https://github.com/eclipse/kapua/commit/930d2037ec879e9ea4fdbea22c14f46c179e9813", "committedDate": "2020-09-02T10:12:37Z", "message": "Added Junit Tests for LocalCache Class\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 185, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}