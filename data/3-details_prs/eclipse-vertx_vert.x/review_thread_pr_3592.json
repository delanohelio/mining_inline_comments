{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3Njk4OTIw", "number": 3592, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwNzo0OToxMlrOEqm1Gw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwNzo1MTo1MlrOEqm40A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMTExODM1OnYy", "diffSide": "RIGHT", "path": "src/test/java/io/vertx/core/http/Http1xTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwNzo0OToxMlrOHc6A4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwODo0Nzo1NFrOHc8QPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA3MjY3Mg==", "bodyText": "was it just for test something? otherwise we can remove the else, i guess.", "url": "https://github.com/eclipse-vertx/vert.x/pull/3592#discussion_r500072672", "createdAt": "2020-10-06T07:49:12Z", "author": {"login": "pmlopes"}, "path": "src/test/java/io/vertx/core/http/Http1xTest.java", "diffHunk": "@@ -530,7 +530,7 @@ private void checkCopyHttpClientOptions(HttpClientOptions options, HttpClientOpt\n     if (copy.getTrustOptions() instanceof PemTrustOptions) {\n       assertEquals(((PemTrustOptions) options.getTrustOptions()).getCertValues(), ((PemTrustOptions) copy.getTrustOptions()).getCertValues());\n     } else {\n-      assertEquals(options.getTrustOptions().toJson(), copy.getTrustOptions().toJson());\n+      // assertEquals(options.getTrustOptions().toJson(), copy.getTrustOptions().toJson());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1bed47aac88320fe5d8bbcff8c130b178c3d607"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEwOTM3NA==", "bodyText": "I will downcast to specific class and write new asserts", "url": "https://github.com/eclipse-vertx/vert.x/pull/3592#discussion_r500109374", "createdAt": "2020-10-06T08:47:54Z", "author": {"login": "vietj"}, "path": "src/test/java/io/vertx/core/http/Http1xTest.java", "diffHunk": "@@ -530,7 +530,7 @@ private void checkCopyHttpClientOptions(HttpClientOptions options, HttpClientOpt\n     if (copy.getTrustOptions() instanceof PemTrustOptions) {\n       assertEquals(((PemTrustOptions) options.getTrustOptions()).getCertValues(), ((PemTrustOptions) copy.getTrustOptions()).getCertValues());\n     } else {\n-      assertEquals(options.getTrustOptions().toJson(), copy.getTrustOptions().toJson());\n+      // assertEquals(options.getTrustOptions().toJson(), copy.getTrustOptions().toJson());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA3MjY3Mg=="}, "originalCommit": {"oid": "a1bed47aac88320fe5d8bbcff8c130b178c3d607"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMTExODc0OnYy", "diffSide": "RIGHT", "path": "src/test/java/io/vertx/core/http/Http1xTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwNzo0OToxOVrOHc6BHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwODo0Nzo1OVrOHc8QcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA3MjczMw==", "bodyText": "was it just for test something? otherwise we can remove the else, i guess.", "url": "https://github.com/eclipse-vertx/vert.x/pull/3592#discussion_r500072733", "createdAt": "2020-10-06T07:49:19Z", "author": {"login": "pmlopes"}, "path": "src/test/java/io/vertx/core/http/Http1xTest.java", "diffHunk": "@@ -828,7 +828,7 @@ private void checkCopyHttpServerOptions(HttpServerOptions options, HttpServerOpt\n     if (copy.getTrustOptions() instanceof PemTrustOptions) {\n       assertEquals(((PemTrustOptions) options.getTrustOptions()).getCertValues(), ((PemTrustOptions) copy.getTrustOptions()).getCertValues());\n     } else {\n-      assertEquals(options.getTrustOptions().toJson(), copy.getTrustOptions().toJson());\n+      // assertEquals(options.getTrustOptions().toJson(), copy.getTrustOptions().toJson());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1bed47aac88320fe5d8bbcff8c130b178c3d607"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEwOTQyNA==", "bodyText": "I will downcast to specific class and write new asserts", "url": "https://github.com/eclipse-vertx/vert.x/pull/3592#discussion_r500109424", "createdAt": "2020-10-06T08:47:59Z", "author": {"login": "vietj"}, "path": "src/test/java/io/vertx/core/http/Http1xTest.java", "diffHunk": "@@ -828,7 +828,7 @@ private void checkCopyHttpServerOptions(HttpServerOptions options, HttpServerOpt\n     if (copy.getTrustOptions() instanceof PemTrustOptions) {\n       assertEquals(((PemTrustOptions) options.getTrustOptions()).getCertValues(), ((PemTrustOptions) copy.getTrustOptions()).getCertValues());\n     } else {\n-      assertEquals(options.getTrustOptions().toJson(), copy.getTrustOptions().toJson());\n+      // assertEquals(options.getTrustOptions().toJson(), copy.getTrustOptions().toJson());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA3MjczMw=="}, "originalCommit": {"oid": "a1bed47aac88320fe5d8bbcff8c130b178c3d607"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMTEyNzg0OnYy", "diffSide": "RIGHT", "path": "src/main/java/io/vertx/core/net/KeyStoreOptions.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwNzo1MTo1MlrOHc6GwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwODo0ODo1OVrOHc8S4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA3NDE3Nw==", "bodyText": "Perhaps we could have a default value for this. For example, on auth I was doing:\n // Defaults\n  private static final String TYPE = KeyStore.getDefaultType();\nAs this picks the runtime JDK default, for example on Java8 is JKS on java9 and up PKCS12 and maybe on other jdk's or runtimes started with custom security config it will be something else, e.g.: BKS", "url": "https://github.com/eclipse-vertx/vert.x/pull/3592#discussion_r500074177", "createdAt": "2020-10-06T07:51:52Z", "author": {"login": "pmlopes"}, "path": "src/main/java/io/vertx/core/net/KeyStoreOptions.java", "diffHunk": "@@ -0,0 +1,150 @@\n+/*\n+ * Copyright (c) 2011-2019 Contributors to the Eclipse Foundation\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0, or the Apache License, Version 2.0\n+ * which is available at https://www.apache.org/licenses/LICENSE-2.0.\n+ *\n+ * SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+ */\n+\n+package io.vertx.core.net;\n+\n+import io.vertx.codegen.annotations.GenIgnore;\n+import io.vertx.core.buffer.Buffer;\n+\n+/**\n+ * Key or trust store options configuring private key and/or certificates based on {@code KeyStore}.\n+ *\n+ * <ul>\n+ *   <li>when used as a key store, it should point to a store containing a private key and its certificate.</li>\n+ *   <li>when used as a trust store, it should point to a store containing a list of trusted certificates.</li>\n+ * </ul>\n+ *\n+ * <p> The store can either be loaded by Vert.x from the filesystem:\n+ *\n+ * <pre>\n+ * HttpServerOptions options = HttpServerOptions.httpServerOptions();\n+ * options.setKeyStore(new KeyStoreOptions().setType(\"JKS\").setPath(\"/mykeystore.jks\").setPassword(\"foo\"));\n+ * </pre>\n+ *\n+ * Or directly provided as a buffer:\n+ *\n+ * <pre>\n+ * Buffer store = vertx.fileSystem().readFileBlocking(\"/mykeystore.jks\");\n+ * options.setKeyStore(new JKSOptions().setType(\"JKS\").setValue(store).setPassword(\"foo\"));\n+ * </pre>\n+ *\n+ * <p> You can also use specific subclasses {@link JksOptions} or {@link PfxOptions} that will set\n+ * the {@link #setType} for you:\n+ *\n+ * <pre>\n+ * HttpServerOptions options = HttpServerOptions.httpServerOptions();\n+ * options.setKeyStore(new JksOptions().setPath(\"/mykeystore.jks\").setPassword(\"foo\"));\n+ * </pre>\n+ *\n+ * @author <a href=\"mailto:julien@julienviet.com\">Julien Viet</a>\n+ * @author <a href=\"http://tfox.org\">Tim Fox</a>\n+ */\n+public class KeyStoreOptions implements KeyCertOptions, TrustOptions {\n+\n+  private String type;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1bed47aac88320fe5d8bbcff8c130b178c3d607"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEwOTU5OA==", "bodyText": "that's dangerous I think", "url": "https://github.com/eclipse-vertx/vert.x/pull/3592#discussion_r500109598", "createdAt": "2020-10-06T08:48:16Z", "author": {"login": "vietj"}, "path": "src/main/java/io/vertx/core/net/KeyStoreOptions.java", "diffHunk": "@@ -0,0 +1,150 @@\n+/*\n+ * Copyright (c) 2011-2019 Contributors to the Eclipse Foundation\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0, or the Apache License, Version 2.0\n+ * which is available at https://www.apache.org/licenses/LICENSE-2.0.\n+ *\n+ * SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+ */\n+\n+package io.vertx.core.net;\n+\n+import io.vertx.codegen.annotations.GenIgnore;\n+import io.vertx.core.buffer.Buffer;\n+\n+/**\n+ * Key or trust store options configuring private key and/or certificates based on {@code KeyStore}.\n+ *\n+ * <ul>\n+ *   <li>when used as a key store, it should point to a store containing a private key and its certificate.</li>\n+ *   <li>when used as a trust store, it should point to a store containing a list of trusted certificates.</li>\n+ * </ul>\n+ *\n+ * <p> The store can either be loaded by Vert.x from the filesystem:\n+ *\n+ * <pre>\n+ * HttpServerOptions options = HttpServerOptions.httpServerOptions();\n+ * options.setKeyStore(new KeyStoreOptions().setType(\"JKS\").setPath(\"/mykeystore.jks\").setPassword(\"foo\"));\n+ * </pre>\n+ *\n+ * Or directly provided as a buffer:\n+ *\n+ * <pre>\n+ * Buffer store = vertx.fileSystem().readFileBlocking(\"/mykeystore.jks\");\n+ * options.setKeyStore(new JKSOptions().setType(\"JKS\").setValue(store).setPassword(\"foo\"));\n+ * </pre>\n+ *\n+ * <p> You can also use specific subclasses {@link JksOptions} or {@link PfxOptions} that will set\n+ * the {@link #setType} for you:\n+ *\n+ * <pre>\n+ * HttpServerOptions options = HttpServerOptions.httpServerOptions();\n+ * options.setKeyStore(new JksOptions().setPath(\"/mykeystore.jks\").setPassword(\"foo\"));\n+ * </pre>\n+ *\n+ * @author <a href=\"mailto:julien@julienviet.com\">Julien Viet</a>\n+ * @author <a href=\"http://tfox.org\">Tim Fox</a>\n+ */\n+public class KeyStoreOptions implements KeyCertOptions, TrustOptions {\n+\n+  private String type;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA3NDE3Nw=="}, "originalCommit": {"oid": "a1bed47aac88320fe5d8bbcff8c130b178c3d607"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDExMDA0OQ==", "bodyText": "I mean it is fine to have type null by default and let user set an explicit value, if user does not want to set the value then using JksOptions or PfxOptions is the way he needs to go", "url": "https://github.com/eclipse-vertx/vert.x/pull/3592#discussion_r500110049", "createdAt": "2020-10-06T08:48:59Z", "author": {"login": "vietj"}, "path": "src/main/java/io/vertx/core/net/KeyStoreOptions.java", "diffHunk": "@@ -0,0 +1,150 @@\n+/*\n+ * Copyright (c) 2011-2019 Contributors to the Eclipse Foundation\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0, or the Apache License, Version 2.0\n+ * which is available at https://www.apache.org/licenses/LICENSE-2.0.\n+ *\n+ * SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+ */\n+\n+package io.vertx.core.net;\n+\n+import io.vertx.codegen.annotations.GenIgnore;\n+import io.vertx.core.buffer.Buffer;\n+\n+/**\n+ * Key or trust store options configuring private key and/or certificates based on {@code KeyStore}.\n+ *\n+ * <ul>\n+ *   <li>when used as a key store, it should point to a store containing a private key and its certificate.</li>\n+ *   <li>when used as a trust store, it should point to a store containing a list of trusted certificates.</li>\n+ * </ul>\n+ *\n+ * <p> The store can either be loaded by Vert.x from the filesystem:\n+ *\n+ * <pre>\n+ * HttpServerOptions options = HttpServerOptions.httpServerOptions();\n+ * options.setKeyStore(new KeyStoreOptions().setType(\"JKS\").setPath(\"/mykeystore.jks\").setPassword(\"foo\"));\n+ * </pre>\n+ *\n+ * Or directly provided as a buffer:\n+ *\n+ * <pre>\n+ * Buffer store = vertx.fileSystem().readFileBlocking(\"/mykeystore.jks\");\n+ * options.setKeyStore(new JKSOptions().setType(\"JKS\").setValue(store).setPassword(\"foo\"));\n+ * </pre>\n+ *\n+ * <p> You can also use specific subclasses {@link JksOptions} or {@link PfxOptions} that will set\n+ * the {@link #setType} for you:\n+ *\n+ * <pre>\n+ * HttpServerOptions options = HttpServerOptions.httpServerOptions();\n+ * options.setKeyStore(new JksOptions().setPath(\"/mykeystore.jks\").setPassword(\"foo\"));\n+ * </pre>\n+ *\n+ * @author <a href=\"mailto:julien@julienviet.com\">Julien Viet</a>\n+ * @author <a href=\"http://tfox.org\">Tim Fox</a>\n+ */\n+public class KeyStoreOptions implements KeyCertOptions, TrustOptions {\n+\n+  private String type;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA3NDE3Nw=="}, "originalCommit": {"oid": "a1bed47aac88320fe5d8bbcff8c130b178c3d607"}, "originalPosition": 52}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4526, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}