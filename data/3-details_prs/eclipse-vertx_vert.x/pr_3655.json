{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzMjg0Mjk4", "number": 3655, "title": "Replace SystemUtils.IS_OS_LINUX", "bodyText": "SystemUtils cannot instantiate when running under\nWindows and Java 11:\njava.lang.ExceptionInInitializerError: null\n        at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3319)\n        at java.base/java.lang.String.substring(String.java:1874)\n        at org.apache.commons.lang.SystemUtils.getJavaVersionAsFloat(SystemUtils.java:1133)\n        at org.apache.commons.lang.SystemUtils.<clinit>(SystemUtils.java:818)\n\nThe replacement uses the same os.name string comparison:\nhttps://commons.apache.org/proper/commons-lang/javadocs/api-2.6/src-html/org/apache/commons/lang/SystemUtils.html#line.1153", "createdAt": "2020-11-18T15:53:51Z", "url": "https://github.com/eclipse-vertx/vert.x/pull/3655", "merged": true, "mergeCommit": {"oid": "b2bf09ffcc0afde54227561840e42d42a269bdd6"}, "closed": true, "closedAt": "2020-12-01T10:29:47Z", "author": {"login": "julianladisch"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddwJkYAH2gAyNTIzMjg0Mjk4OjAxNWIxZTYxOGQzNzQ3NGRhOTY3YTRmYjQyNThhZTIwOGEzZTA0MWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgokUWgH2gAyNTIzMjg0Mjk4OmUwNWQ1ZTBhMGI2Nzk1YWZjMGFlMmY5ODc5ZDM0NzFmMGZhYmUyY2M=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "015b1e618d37474da967a4fb4258ae208a3e041e", "author": {"user": {"login": "julianladisch", "name": null}}, "url": "https://github.com/eclipse-vertx/vert.x/commit/015b1e618d37474da967a4fb4258ae208a3e041e", "committedDate": "2020-11-18T15:46:56Z", "message": "Replace SystemUtils.IS_OS_LINUX\n\nSystemUtils cannot instantiate when running under\nWindows and Java 11:\n\n```\njava.lang.ExceptionInInitializerError: null\n        at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3319)\n        at java.base/java.lang.String.substring(String.java:1874)\n        at org.apache.commons.lang.SystemUtils.getJavaVersionAsFloat(SystemUtils.java:1133)\n        at org.apache.commons.lang.SystemUtils.<clinit>(SystemUtils.java:818)\n```\n\nThe replacement uses the same os.name string comparison:\nhttps://commons.apache.org/proper/commons-lang/javadocs/api-2.6/src-html/org/apache/commons/lang/SystemUtils.html#line.1153\n\nSigned-off-by: Julian Ladisch <eclipse.org-rtn@ladisch.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "262c23b8578812684231d31be672d99be76a5433", "author": {"user": {"login": "julianladisch", "name": null}}, "url": "https://github.com/eclipse-vertx/vert.x/commit/262c23b8578812684231d31be672d99be76a5433", "committedDate": "2020-11-18T17:09:29Z", "message": "Move os.name detection code into Utils\n\nSigned-off-by: Julian Ladisch <eclipse.org-rtn@ladisch.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0MTU0NTIy", "url": "https://github.com/eclipse-vertx/vert.x/pull/3655#pullrequestreview-534154522", "createdAt": "2020-11-19T07:51:31Z", "commit": {"oid": "015b1e618d37474da967a4fb4258ae208a3e041e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwNzo1MTozMVrOH2QhSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwNzo1MTozMVrOH2QhSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY1NTgxOQ==", "bodyText": "can you instead use Netty's PlatformDependant util class ?", "url": "https://github.com/eclipse-vertx/vert.x/pull/3655#discussion_r526655819", "createdAt": "2020-11-19T07:51:31Z", "author": {"login": "vietj"}, "path": "src/test/java/io/vertx/core/eventbus/ClusterHostTest.java", "diffHunk": "@@ -14,16 +14,24 @@\n import io.vertx.core.VertxOptions;\n import io.vertx.test.core.VertxTestBase;\n import io.vertx.test.fakecluster.FakeClusterManager;\n-import org.apache.commons.lang.SystemUtils;\n import org.junit.Assume;\n import org.junit.Test;\n \n public class ClusterHostTest extends VertxTestBase {\n+  private static final String OS_NAME = getOsName();\n \n   @Override\n   public void setUp() throws Exception {\n     super.setUp();\n-    Assume.assumeTrue(SystemUtils.IS_OS_LINUX);\n+    Assume.assumeTrue(OS_NAME.startsWith(\"Linux\") || OS_NAME.startsWith(\"LINUX\"));\n+  }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "015b1e618d37474da967a4fb4258ae208a3e041e"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a21dca0c9dab90207b008307177f7e3c7c0392c", "author": {"user": {"login": "julianladisch", "name": null}}, "url": "https://github.com/eclipse-vertx/vert.x/commit/4a21dca0c9dab90207b008307177f7e3c7c0392c", "committedDate": "2020-11-19T09:16:37Z", "message": "Use Netty's PlatformDependant util class\n\nSigned-off-by: Julian Ladisch <eclipse.org-rtn@ladisch.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e05d5e0a0b6795afc0ae2f9879d3471f0fabe2cc", "author": {"user": {"login": "julianladisch", "name": null}}, "url": "https://github.com/eclipse-vertx/vert.x/commit/e05d5e0a0b6795afc0ae2f9879d3471f0fabe2cc", "committedDate": "2020-11-27T14:38:41Z", "message": "Merge branch 'master' into replace-SystemUtils.IS_OS_LINUX\n\nSigned-off-by: Julian Ladisch <eclipse.org-rtn@ladisch.de>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1644, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}