{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MDgxODM0", "number": 1389, "title": "remove dependency on multimap", "bodyText": "@suztomo I noticed it was pretty easy to remove this multimap from our public API.", "createdAt": "2020-05-06T13:02:05Z", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1389", "merged": true, "mergeCommit": {"oid": "193cc7b8dba4247fabb70a2fc7a818680d453d43"}, "closed": true, "closedAt": "2020-05-07T11:48:54Z", "author": {"login": "elharo"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceoTSmgH2gAyNDE0MDgxODM0OmE5YjEyZmE4MzE3MTc3ODgzOGE3MzRlNDQ0Y2I4NGMyZjMwMzQ2OTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABce7etSgFqTQwNzM3ODI4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a9b12fa83171778838a734e444cb84c2f3034694", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/a9b12fa83171778838a734e444cb84c2f3034694", "committedDate": "2020-05-06T13:01:05Z", "message": "hide a multimap"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NjUyOTI4", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1389#pullrequestreview-406652928", "createdAt": "2020-05-06T14:11:27Z", "commit": {"oid": "a9b12fa83171778838a734e444cb84c2f3034694"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxNDoxMToyN1rOGRU_4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxNDoxMToyN1rOGRU_4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDgyMzAwOQ==", "bodyText": "As in the previous javadoc, the values are all ClassPathEntrys in the subtree of the key.\nThe below is copy from https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1371/files#r417496064 :\n\nThis method groups dependencies by its direct dependencies of the root. For example, suppose we have the following tree:\n+- g:a:1\n|  +- g:b:1\n|     +- g:c:1\n|\n+- g:d:1\n   +- g:c:1\n   +- g:e:1\n\nThe method returns a multimap of\n{\n\"g:a:1\" => {g:a:1, g:b:1, g:c:1}\n\"g:d:1\" => {g:d:1, g:c:1, g:e:1}\n}\n\nDashboardMain uses this map to group linkage errors by BOM members. E.g.,\nDependency Analysis of io.grpc:grpc-netty:1.29.0 has linkage errors that has source classes in the JAR files of the subtree of io.grpc:grpc-netty:1.29.0.\n\nI'm feeling this logic is very specific to DashboardMain (no other places need this) and it has been confusing to have this method in ClassPathResult. Do you want to move this logic to DashboardMain?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1389#discussion_r420823009", "createdAt": "2020-05-06T14:11:27Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ClassPathResult.java", "diffHunk": "@@ -93,21 +105,14 @@ public String formatDependencyPaths(Iterable<ClassPathEntry> entries) {\n     }\n     return message.toString();\n   }\n-\n+  \n   /**\n-   * Returns mapping from the Maven coordinates to {@link ClassPathEntry}. The keys are the\n-   * coordinates of the direct dependencies of the root nodes in {@link #dependencyPaths}. The\n-   * values are all {@link ClassPathEntry}s in the subtree of the key.\n+   * Returns the classpath entries for the specified coordinates.\n+   * \n+   * TODO: Explain why this is plural. Shouldn't there be exactly one?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9b12fa83171778838a734e444cb84c2f3034694"}, "originalPosition": 56}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a90923045521861e46a439e7259aa648fd9ead7d", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/a90923045521861e46a439e7259aa648fd9ead7d", "committedDate": "2020-05-06T17:41:30Z", "message": "adjust constructor to not call instance methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc72618aa72e51c20945b65b19f666db6f5c3751", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/dc72618aa72e51c20945b65b19f666db6f5c3751", "committedDate": "2020-05-06T18:27:38Z", "message": "avoid index out of bounds"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf547961a2ffe01d8d5644765f85e441868cbc51", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/bf547961a2ffe01d8d5644765f85e441868cbc51", "committedDate": "2020-05-06T19:28:00Z", "message": "remove set multimap dependence"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7724bda6bec93ab0bca368725c968014756d1181", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/7724bda6bec93ab0bca368725c968014756d1181", "committedDate": "2020-05-06T20:15:50Z", "message": "clarify javadoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2OTg0MjM2", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1389#pullrequestreview-406984236", "createdAt": "2020-05-06T21:02:16Z", "commit": {"oid": "7724bda6bec93ab0bca368725c968014756d1181"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMTowMjoxN1rOGRlSyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMTowMjoxN1rOGRlSyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA4OTk5Mg==", "bodyText": "It's the other way around. The artifact with the specified coordinates contains the class path entries as (transitive and direct) dependencies.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1389#discussion_r421089992", "createdAt": "2020-05-06T21:02:17Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ClassPathResult.java", "diffHunk": "@@ -93,21 +92,24 @@ public String formatDependencyPaths(Iterable<ClassPathEntry> entries) {\n     }\n     return message.toString();\n   }\n-\n+  \n   /**\n-   * Returns mapping from the Maven coordinates to {@link ClassPathEntry}. The keys are the\n-   * coordinates of the direct dependencies of the root nodes in {@link #dependencyPaths}. The\n-   * values are all {@link ClassPathEntry}s in the subtree of the key.\n+   * Returns the classpath entries whose transitive dependencies contain\n+   * the artifact with the specified coordinates.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7724bda6bec93ab0bca368725c968014756d1181"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc3e84164d6c3ba25be929c0e26b91cdabb0befd", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/cc3e84164d6c3ba25be929c0e26b91cdabb0befd", "committedDate": "2020-05-07T11:16:30Z", "message": "fix javadoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3Mzc4Mjgw", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1389#pullrequestreview-407378280", "createdAt": "2020-05-07T11:21:45Z", "commit": {"oid": "cc3e84164d6c3ba25be929c0e26b91cdabb0befd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 383, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}