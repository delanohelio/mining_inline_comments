{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1Mjg5NTky", "number": 1360, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxOTowOTozMlrODzA9Cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzo1NTo1NVrOD0XDKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0ODE5NTk0OnYy", "diffSide": "RIGHT", "path": "enforcer-rules/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxOTowOTozMlrOGHZ8aQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxOTowOTozMlrOGHZ8aQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQxODI4MQ==", "bodyText": "Document for the parameters: http://maven.apache.org/plugins/maven-invoker-plugin/run-mojo.html#cloneProjectsTo", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1360#discussion_r410418281", "createdAt": "2020-04-17T19:09:32Z", "author": {"login": "suztomo"}, "path": "enforcer-rules/pom.xml", "diffHunk": "@@ -128,4 +128,27 @@\n       <scope>test</scope>\n     </dependency>\n   </dependencies>\n+\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <artifactId>maven-invoker-plugin</artifactId>\n+        <version>3.2.1</version>\n+        <configuration>\n+          <cloneProjectsTo>${project.build.directory}/it</cloneProjectsTo>\n+          <localRepositoryPath>${project.build.directory}/local-repo</localRepositoryPath>\n+          <postBuildHookScript>verify</postBuildHookScript>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93dfd37dca3fe8851eef4ddea387744ac37d0373"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0ODIwMDg4OnYy", "diffSide": "RIGHT", "path": "enforcer-rules/src/it/fail-build-for-linkage-errors/verify.groovy", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxOToxMToyMlrOGHZ_sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxOToxMToyMlrOGHZ_sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQxOTEyMg==", "bodyText": "This is groovy script specified by \"postBuildHookScript\".\nMaven-checkstyle-plugin also uses groovy script to verify the build https://github.com/apache/maven-checkstyle-plugin/tree/master/src/it/MCHECKSTYLE-338", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1360#discussion_r410419122", "createdAt": "2020-04-17T19:11:22Z", "author": {"login": "suztomo"}, "path": "enforcer-rules/src/it/fail-build-for-linkage-errors/verify.groovy", "diffHunk": "@@ -0,0 +1,8 @@\n+def buildLog = new File(basedir, \"build.log\")\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93dfd37dca3fe8851eef4ddea387744ac37d0373"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0ODU5NDY1OnYy", "diffSide": "LEFT", "path": "enforcer-rules/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QyMTo0MDowOFrOGHd47Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QyMTo0MDowOFrOGHd47Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ4MjkyNQ==", "bodyText": "Given maven-resolver-api was at the end of the class path (log), I thought controlling the order of the dependency would solve the issue.\nIt did not help. https://gist.github.com/suztomo/d35ffca4e31387591a3f7b18b7366a2b", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1360#discussion_r410482925", "createdAt": "2020-04-17T21:40:08Z", "author": {"login": "suztomo"}, "path": "enforcer-rules/pom.xml", "diffHunk": "@@ -105,7 +105,6 @@\n     <dependency>\n       <groupId>org.apache.maven.resolver</groupId>\n       <artifactId>maven-resolver-api</artifactId>\n-      <scope>provided</scope>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5924d9a78c288676f631768c249350fcae00b583"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MjI5NTY0OnYy", "diffSide": "RIGHT", "path": ".mvn/wrapper/MavenWrapperDownloader.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzo1NDozMFrOGJRBnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxOTozNjo0NVrOGJVLBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM2OTMwOA==", "bodyText": "This file is from mvn -N io.takari:maven:wrapper https://github.com/takari/maven-wrapper.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1360#discussion_r412369308", "createdAt": "2020-04-21T17:54:30Z", "author": {"login": "suztomo"}, "path": ".mvn/wrapper/MavenWrapperDownloader.java", "diffHunk": "@@ -0,0 +1,117 @@\n+/*", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad42caa170bfa0a34ece8861e051659edd705e42"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQzNzI1NQ==", "bodyText": "I'm surprised this isn't available as a jar on maven central.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1360#discussion_r412437255", "createdAt": "2020-04-21T19:36:45Z", "author": {"login": "elharo"}, "path": ".mvn/wrapper/MavenWrapperDownloader.java", "diffHunk": "@@ -0,0 +1,117 @@\n+/*", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM2OTMwOA=="}, "originalCommit": {"oid": "ad42caa170bfa0a34ece8861e051659edd705e42"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MjI5NzEzOnYy", "diffSide": "RIGHT", "path": ".mvn/wrapper/maven-wrapper.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzo1NDo1MVrOGJRClA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzo1NDo1MVrOGJRClA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM2OTU1Ng==", "bodyText": "This file is from mvn -N io.takari:maven:wrapper https://github.com/takari/maven-wrapper. This sets the Maven version that runs for mvnw command.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1360#discussion_r412369556", "createdAt": "2020-04-21T17:54:51Z", "author": {"login": "suztomo"}, "path": ".mvn/wrapper/maven-wrapper.properties", "diffHunk": "@@ -0,0 +1,2 @@\n+distributionUrl=https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.6.3/apache-maven-3.6.3-bin.zip", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad42caa170bfa0a34ece8861e051659edd705e42"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MjI5OTkzOnYy", "diffSide": "RIGHT", "path": "README.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzo1NToyOVrOGJREUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzo1NToyOVrOGJREUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM3MDAwMw==", "bodyText": "I found Maven 3.5.0 does not work for the enforcer rule because of the dependency conflict #1361", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1360#discussion_r412370003", "createdAt": "2020-04-21T17:55:29Z", "author": {"login": "suztomo"}, "path": "README.md", "diffHunk": "@@ -35,7 +35,7 @@ This project is built using _Maven_.\n \n ## Requirements\n \n-1. Maven 3.5.0 or later.\n+1. Maven 3.6.0 or later.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad42caa170bfa0a34ece8861e051659edd705e42"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MjMwMTI2OnYy", "diffSide": "RIGHT", "path": "mvnw", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzo1NTo0NVrOGJRFBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzo1NTo0NVrOGJRFBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM3MDE4Mw==", "bodyText": "This file is from mvn -N io.takari:maven:wrapper https://github.com/takari/maven-wrapper.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1360#discussion_r412370183", "createdAt": "2020-04-21T17:55:45Z", "author": {"login": "suztomo"}, "path": "mvnw", "diffHunk": "@@ -0,0 +1,310 @@\n+#!/bin/sh", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad42caa170bfa0a34ece8861e051659edd705e42"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MjMwMTg0OnYy", "diffSide": "RIGHT", "path": "mvnw.cmd", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzo1NTo1NVrOGJRFZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNzo1NTo1NVrOGJRFZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM3MDI3OA==", "bodyText": "This file is from mvn -N io.takari:maven:wrapper https://github.com/takari/maven-wrapper.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1360#discussion_r412370278", "createdAt": "2020-04-21T17:55:55Z", "author": {"login": "suztomo"}, "path": "mvnw.cmd", "diffHunk": "@@ -0,0 +1,182 @@\n+@REM ----------------------------------------------------------------------------", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad42caa170bfa0a34ece8861e051659edd705e42"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2718, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}