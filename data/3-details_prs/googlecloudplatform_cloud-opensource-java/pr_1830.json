{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1OTYyMjYy", "number": 1830, "title": "add send-analytics flag", "bodyText": "@suztomo in prep for #1619", "createdAt": "2020-11-23T20:00:24Z", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1830", "merged": true, "mergeCommit": {"oid": "b88697b1d0631c496d2afc8b820d17f0a08963bb"}, "closed": true, "closedAt": "2020-11-24T18:26:47Z", "author": {"login": "elharo"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfawWlAH2gAyNTI1OTYyMjYyOjBjNGY2ZmQ2OTQ5MzU4ZjY3MzM5NjA5OWUzNTEyZWM2YzNiYjE2ZTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfez-ygH2gAyNTI1OTYyMjYyOjE5MjlhNGJmYjFkNjIxZGMzZTFkYWZiZGExNWViNjRhMzFhNjVkMzE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0c4f6fd6949358f673396099e3512ec6c3bb16e1", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/0c4f6fd6949358f673396099e3512ec6c3bb16e1", "committedDate": "2020-11-23T19:59:14Z", "message": "add send-analytics flag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40c25d814febd075a8e58b72a6c752902c0e2723", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/40c25d814febd075a8e58b72a6c752902c0e2723", "committedDate": "2020-11-23T20:14:09Z", "message": "Merge branch 'master' into flags"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2ODU5NTI4", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1830#pullrequestreview-536859528", "createdAt": "2020-11-23T21:28:46Z", "commit": {"oid": "40c25d814febd075a8e58b72a6c752902c0e2723"}, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMToyODo0NlrOH4gFWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMTozNjo0NlrOH4gVgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAwNzk2MQ==", "bodyText": "Suggestion: how about adding commons-cli to the root pom's dependency management section? The \"dependencies\" module also uses it.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1830#discussion_r529007961", "createdAt": "2020-11-23T21:28:46Z", "author": {"login": "suztomo"}, "path": "linkage-monitor/pom.xml", "diffHunk": "@@ -78,6 +78,11 @@\n       <groupId>com.google.guava</groupId>\n       <artifactId>guava</artifactId>\n     </dependency>\n+\t<dependency>\n+\t  <groupId>commons-cli</groupId>\n+\t  <artifactId>commons-cli</artifactId>\n+\t  <version>1.4</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40c25d814febd075a8e58b72a6c752902c0e2723"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAwODI0MA==", "bodyText": "Google rule is not to abbreviate words.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1830#discussion_r529008240", "createdAt": "2020-11-23T21:29:19Z", "author": {"login": "suztomo"}, "path": "linkage-monitor/src/main/java/com/google/cloud/tools/dependencies/linkagemonitor/LinkageMonitor.java", "diffHunk": "@@ -85,17 +90,22 @@\n   private final ImmutableMap<String, String> localArtifacts =\n       findLocalArtifacts(repositorySystem, session, Paths.get(\".\").toAbsolutePath());\n \n-  public static void main(String[] arguments)\n+  public static void main(String[] args)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40c25d814febd075a8e58b72a6c752902c0e2723"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAxMDM2Ng==", "bodyText": "Would you make this more explicit about this tool uploading the result to Google Analytics.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1830#discussion_r529010366", "createdAt": "2020-11-23T21:33:17Z", "author": {"login": "suztomo"}, "path": "linkage-monitor/src/main/java/com/google/cloud/tools/dependencies/linkagemonitor/LinkageMonitor.java", "diffHunk": "@@ -111,6 +121,29 @@ public static void main(String[] arguments)\n     }\n   }\n \n+  private static CommandLine parseCommandLine(String[] arguments) {\n+    Options options = new Options();\n+    options.addOption(\"send-analytics\", false, \"track results from each run\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40c25d814febd075a8e58b72a6c752902c0e2723"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAxMjA5Nw==", "bodyText": "I don't see option for --nosend-analytics (yet?)", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1830#discussion_r529012097", "createdAt": "2020-11-23T21:36:46Z", "author": {"login": "suztomo"}, "path": "linkage-monitor/src/main/java/com/google/cloud/tools/dependencies/linkagemonitor/LinkageMonitor.java", "diffHunk": "@@ -111,6 +121,29 @@ public static void main(String[] arguments)\n     }\n   }\n \n+  private static CommandLine parseCommandLine(String[] arguments) {\n+    Options options = new Options();\n+    options.addOption(\"send-analytics\", false, \"track results from each run\");\n+    CommandLineParser parser = new DefaultParser();\n+    try {\n+      CommandLine commandLine = parser.parse(options, arguments);\n+      if (commandLine.getArgList().size() != 1) {\n+        printUsageAndDie();\n+      }\n+      return commandLine;\n+    } catch (ParseException ex) {\n+      printUsageAndDie();\n+      return null;\n+    }\n+  }\n+\n+  private static void printUsageAndDie() {\n+    logger.severe(\n+        \"Usage: java com.google.cloud.tools.dependencies.linkagemonitor.LinkageMonitor\"\n+        + \" --[no]send-analytics com.google.cloud:libraries-bom\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40c25d814febd075a8e58b72a6c752902c0e2723"}, "originalPosition": 63}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1929a4bfb1d621dc3e1dafbda15eb64a31a65d31", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/1929a4bfb1d621dc3e1dafbda15eb64a31a65d31", "committedDate": "2020-11-24T00:42:49Z", "message": "review"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1376, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}