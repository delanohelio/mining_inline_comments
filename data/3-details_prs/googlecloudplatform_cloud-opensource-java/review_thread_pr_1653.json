{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3NDYwMTE4", "number": 1653, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNzo1NzozM1rOEjtPpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMjoxNzo1NFrOEkBwXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1ODc2OTAyOnYy", "diffSide": "RIGHT", "path": "scripts/prepare_release.sh", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNzo1NzozM1rOHSNpng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNzo1NzozM1rOHSNpng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg2MDA2Mg==", "bodyText": "Sed's -i takes an empty string to perform in-place change without creating a backup file.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1653#discussion_r488860062", "createdAt": "2020-09-15T17:57:33Z", "author": {"login": "suztomo"}, "path": "scripts/prepare_release.sh", "diffHunk": "@@ -76,23 +76,25 @@ if [[ \"${SUFFIX}\" = \"bom\" ]]; then\n   cd boms/cloud-oss-bom\n fi\n \n-if [[ \"${SUFFIX}\" = \"gradle\" ]]; then\n-  cd gradle-plugin\n-  # Changes the version for release and creates the commits/tags.\n-  echo | ./gradlew release -Prelease.releaseVersion=${VERSION} \\\n-      -Prelease.newVersion=${NEXT_SNAPSHOT}\n-else\n-  # Updates the pom.xml with the version to release.\n-  mvn versions:set versions:commit -DnewVersion=${VERSION} -DgenerateBackupPoms=false\n-  # Tags a new commit for this release.\n-  git commit -am \"preparing release ${VERSION}-${SUFFIX}\"\n-  git tag v${VERSION}-${SUFFIX}\n-  mvn versions:set versions:commit -DnewVersion=${NEXT_SNAPSHOT} -DgenerateBackupPoms=false\n-\n-  # Commits this next snapshot version.\n-  git commit -am \"${NEXT_SNAPSHOT}\"\n+# Updates the pom.xml with the version to release.\n+mvn versions:set versions:commit -DnewVersion=${VERSION} -DgenerateBackupPoms=false\n+\n+if [[ \"${SUFFIX}\" = \"dependencies\" ]]; then\n+  sed -i \"\" \"s/version = .*/version = ${VERSION}/\" gradle-plugin/gradle.properties", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "473c8a8835b8c9dc9be3d5ba434c63ad4c6aa774"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1ODc3MTE2OnYy", "diffSide": "RIGHT", "path": "gradle-plugin/gradle.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNzo1ODoxNVrOHSNrIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNzo1ODoxNVrOHSNrIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg2MDQ0OQ==", "bodyText": "The gradle plugin's version and its dependencies module will have the same version.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1653#discussion_r488860449", "createdAt": "2020-09-15T17:58:15Z", "author": {"login": "suztomo"}, "path": "gradle-plugin/gradle.properties", "diffHunk": "@@ -1 +1,2 @@\n-version = 1.0.2-SNAPSHOT\n+# scripts/prepare_release.sh maintains this value.\n+version = 1.5.3-SNAPSHOT", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "473c8a8835b8c9dc9be3d5ba434c63ad4c6aa774"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1OTI5NDkwOnYy", "diffSide": "RIGHT", "path": "gradle-plugin/README.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQyMDowOTo0MFrOHSSwHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQyMDo0MjowMlrOHSTygQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0MzY0Nw==", "bodyText": "the local Maven repository", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1653#discussion_r488943647", "createdAt": "2020-09-15T20:09:40Z", "author": {"login": "elharo"}, "path": "gradle-plugin/README.md", "diffHunk": "@@ -4,7 +4,14 @@ For usage of this plugin, see the documentation.\n \n # Build Instruction\n \n+This Gradle project depends on the `dependencies` module through the Maven local repository.\n+\n ```\n+# At the root of the cloud-opensource-java project, first install the Maven projects to Maven local", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "604b1aa37e0fa96ca06537ca1055ee79e5d22ee2"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk2MDY0MQ==", "bodyText": "Updated", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1653#discussion_r488960641", "createdAt": "2020-09-15T20:42:02Z", "author": {"login": "suztomo"}, "path": "gradle-plugin/README.md", "diffHunk": "@@ -4,7 +4,14 @@ For usage of this plugin, see the documentation.\n \n # Build Instruction\n \n+This Gradle project depends on the `dependencies` module through the Maven local repository.\n+\n ```\n+# At the root of the cloud-opensource-java project, first install the Maven projects to Maven local", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0MzY0Nw=="}, "originalCommit": {"oid": "604b1aa37e0fa96ca06537ca1055ee79e5d22ee2"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1OTI5OTE1OnYy", "diffSide": "RIGHT", "path": "gradle-plugin/README.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQyMDoxMDo1N1rOHSSy0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQyMDo0MTo1OFrOHSTyWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0NDMzNg==", "bodyText": "indent four spaces for code", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1653#discussion_r488944336", "createdAt": "2020-09-15T20:10:57Z", "author": {"login": "elharo"}, "path": "gradle-plugin/README.md", "diffHunk": "@@ -4,7 +4,14 @@ For usage of this plugin, see the documentation.\n \n # Build Instruction\n \n+This Gradle project depends on the `dependencies` module through the Maven local repository.\n+\n ```\n+# At the root of the cloud-opensource-java project, first install the Maven projects to Maven local\n+# repository.\n+$ mvn install", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "604b1aa37e0fa96ca06537ca1055ee79e5d22ee2"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk2MDYwMw==", "bodyText": "Done with 3-space indentation (as in boms/cloud-oss-bom/RELEASING.md; 4-space didn't work in GitHub's markdown viewer.)", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1653#discussion_r488960603", "createdAt": "2020-09-15T20:41:58Z", "author": {"login": "suztomo"}, "path": "gradle-plugin/README.md", "diffHunk": "@@ -4,7 +4,14 @@ For usage of this plugin, see the documentation.\n \n # Build Instruction\n \n+This Gradle project depends on the `dependencies` module through the Maven local repository.\n+\n ```\n+# At the root of the cloud-opensource-java project, first install the Maven projects to Maven local\n+# repository.\n+$ mvn install", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0NDMzNg=="}, "originalCommit": {"oid": "604b1aa37e0fa96ca06537ca1055ee79e5d22ee2"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2MjEyOTU5OnYy", "diffSide": "RIGHT", "path": "gradle-plugin/README.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMjoxNzo1NFrOHSuDfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMzoxNzo1OFrOHSwYkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM5MDk3Mg==", "bodyText": "the local Maven", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1653#discussion_r489390972", "createdAt": "2020-09-16T12:17:54Z", "author": {"login": "elharo"}, "path": "gradle-plugin/README.md", "diffHunk": "@@ -4,24 +4,35 @@ For usage of this plugin, see the documentation.\n \n # Build Instruction\n \n-```\n-$ cd gradle-plugin\n-$ ./gradlew build publishToMavenLocal\n-```\n+This Gradle project depends on the `dependencies` module through the Maven local repository.\n \n-This command installs the Linkage Checker Gradle plugin in Maven local repository.\n+At the root of the cloud-opensource-java project, first install the Maven projects to the local\n+Maven repository:\n+\n+   ```\n+   $ mvn install\n+   ```\n+\n+Then build this Gradle project:\n \n-```\n-suztomo-macbookpro44% ls ~/.m2/repository/com/google/cloud/tools/linkage-checker-gradle-plugin/0.1.0-SNAPSHOT/\n-linkage-checker-gradle-plugin-0.1.0-SNAPSHOT.jar\n-linkage-checker-gradle-plugin-0.1.0-SNAPSHOT.pom\n-```\n+   ```\n+   $ cd gradle-plugin\n+   $ ./gradlew build publishToMavenLocal\n+   ```\n+\n+This command installs the Linkage Checker Gradle plugin in Maven local repository.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93c689482c70b2414573574b8809b70eb8f672d4"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQyOTEzOA==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1653#discussion_r489429138", "createdAt": "2020-09-16T13:17:58Z", "author": {"login": "suztomo"}, "path": "gradle-plugin/README.md", "diffHunk": "@@ -4,24 +4,35 @@ For usage of this plugin, see the documentation.\n \n # Build Instruction\n \n-```\n-$ cd gradle-plugin\n-$ ./gradlew build publishToMavenLocal\n-```\n+This Gradle project depends on the `dependencies` module through the Maven local repository.\n \n-This command installs the Linkage Checker Gradle plugin in Maven local repository.\n+At the root of the cloud-opensource-java project, first install the Maven projects to the local\n+Maven repository:\n+\n+   ```\n+   $ mvn install\n+   ```\n+\n+Then build this Gradle project:\n \n-```\n-suztomo-macbookpro44% ls ~/.m2/repository/com/google/cloud/tools/linkage-checker-gradle-plugin/0.1.0-SNAPSHOT/\n-linkage-checker-gradle-plugin-0.1.0-SNAPSHOT.jar\n-linkage-checker-gradle-plugin-0.1.0-SNAPSHOT.pom\n-```\n+   ```\n+   $ cd gradle-plugin\n+   $ ./gradlew build publishToMavenLocal\n+   ```\n+\n+This command installs the Linkage Checker Gradle plugin in Maven local repository.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM5MDk3Mg=="}, "originalCommit": {"oid": "93c689482c70b2414573574b8809b70eb8f672d4"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2546, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}