{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxMDEwNjgx", "number": 1180, "title": "Fixed the relativize order", "bodyText": "Fixing the previous commit on relativize and added tst.\nMy assumption on MoreFiles.fileTraverser always returning relative paths, was wrong. MoreFiles.fileTraverser returns absolute paths when it takes an absolute path. And my use of relativize was incorrect.", "createdAt": "2020-02-04T19:28:58Z", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1180", "merged": true, "mergeCommit": {"oid": "f07f8c7ab13e57f0d62da5b8b5b581aae6ac64da"}, "closed": true, "closedAt": "2020-02-04T21:41:59Z", "author": {"login": "suztomo"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBGkNLgH2gAyMzcxMDEwNjgxOjIwYTMzMTY0MWQzYmMxZWY2ZTBmNTAwODQwNTQyNWExYmVmZGZmMTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBHj8SAFqTM1MzI3ODQ4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "20a331641d3bc1ef6e0f5008405425a1befdff17", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/20a331641d3bc1ef6e0f5008405425a1befdff17", "committedDate": "2020-02-04T19:18:59Z", "message": "Fixed the relativize order"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "625bcee1f16cebd52fcba6a5e60c1ce30fee1431", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/625bcee1f16cebd52fcba6a5e60c1ce30fee1431", "committedDate": "2020-02-04T19:28:09Z", "message": "Added test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMjQzMTM1", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1180#pullrequestreview-353243135", "createdAt": "2020-02-04T19:30:55Z", "commit": {"oid": "625bcee1f16cebd52fcba6a5e60c1ce30fee1431"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxOTozMDo1NVrOFlgtFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxOTozMDo1NVrOFlgtFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDg3NzQ2Mw==", "bodyText": "The order was wrong. It must be parentDirectory.relativize(child), where our parentDirectory is projectDirectory.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1180#discussion_r374877463", "createdAt": "2020-02-04T19:30:55Z", "author": {"login": "suztomo"}, "path": "linkage-monitor/src/main/java/com/google/cloud/tools/dependencies/linkagemonitor/LinkageMonitor.java", "diffHunk": "@@ -120,13 +120,9 @@ public static void main(String[] arguments)\n         continue;\n       }\n \n-      if (path.isAbsolute()) {\n-        // As of Guava 28, MoreFiles.fileTraverser returns relative paths. Just in case it changes the behavior,\n-        // converting absolute paths to relative paths.\n-        path = path.relativize(Paths.get(\".\").toAbsolutePath());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "625bcee1f16cebd52fcba6a5e60c1ce30fee1431"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d1008ad60dfda73fd1658cd6038c8040986b642", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/0d1008ad60dfda73fd1658cd6038c8040986b642", "committedDate": "2020-02-04T19:34:53Z", "message": "more clear test statements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5766880c619e9ef544ffe2ea7d1cdef7276397e", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/b5766880c619e9ef544ffe2ea7d1cdef7276397e", "committedDate": "2020-02-04T19:35:41Z", "message": "More clear test case"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMjc4NDg0", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1180#pullrequestreview-353278484", "createdAt": "2020-02-04T20:28:36Z", "commit": {"oid": "b5766880c619e9ef544ffe2ea7d1cdef7276397e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 445, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}