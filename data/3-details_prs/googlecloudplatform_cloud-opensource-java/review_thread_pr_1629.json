{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3MTkzODM0", "number": 1629, "reviewThreads": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNjozNzowMFrOEe_ZXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNTozMzo1MlrOEgC9xg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTMxNDIwOnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNjozNzowMFrOHK_KeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNjo0NTowM1rOHK_doQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4MjY4MA==", "bodyText": "actualSignature", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481282680", "createdAt": "2020-09-01T16:37:00Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +274,40 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      boolean methodWithDifferentReturnTypeFound = false;\n       for (JavaClass javaClass : typesToCheck) {\n         for (Method method : javaClass.getMethods()) {\n-          if (method.getName().equals(methodName)\n-              && method.getSignature().equals(symbol.getDescriptor())) {\n-            if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n-              return Optional.of(\n-                  new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+          if (method.getName().equals(methodName)) {\n+            String signatureInTargetClass = method.getSignature();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d36619f160a4a12acd00e96b539fce92ae59804"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4NzU4NQ==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481287585", "createdAt": "2020-09-01T16:45:03Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +274,40 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      boolean methodWithDifferentReturnTypeFound = false;\n       for (JavaClass javaClass : typesToCheck) {\n         for (Method method : javaClass.getMethods()) {\n-          if (method.getName().equals(methodName)\n-              && method.getSignature().equals(symbol.getDescriptor())) {\n-            if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n-              return Optional.of(\n-                  new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+          if (method.getName().equals(methodName)) {\n+            String signatureInTargetClass = method.getSignature();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4MjY4MA=="}, "originalCommit": {"oid": "5d36619f160a4a12acd00e96b539fce92ae59804"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTMxNDc3OnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNjozNzoxMlrOHK_K2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNjo0NTowN1rOHK_dvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4Mjc3OQ==", "bodyText": "expectedSignature", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481282779", "createdAt": "2020-09-01T16:37:12Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +274,40 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      boolean methodWithDifferentReturnTypeFound = false;\n       for (JavaClass javaClass : typesToCheck) {\n         for (Method method : javaClass.getMethods()) {\n-          if (method.getName().equals(methodName)\n-              && method.getSignature().equals(symbol.getDescriptor())) {\n-            if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n-              return Optional.of(\n-                  new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+          if (method.getName().equals(methodName)) {\n+            String signatureInTargetClass = method.getSignature();\n+            String signatureLookingFor = symbol.getDescriptor();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d36619f160a4a12acd00e96b539fce92ae59804"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4NzYxNQ==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481287615", "createdAt": "2020-09-01T16:45:07Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +274,40 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      boolean methodWithDifferentReturnTypeFound = false;\n       for (JavaClass javaClass : typesToCheck) {\n         for (Method method : javaClass.getMethods()) {\n-          if (method.getName().equals(methodName)\n-              && method.getSignature().equals(symbol.getDescriptor())) {\n-            if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n-              return Optional.of(\n-                  new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+          if (method.getName().equals(methodName)) {\n+            String signatureInTargetClass = method.getSignature();\n+            String signatureLookingFor = symbol.getDescriptor();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4Mjc3OQ=="}, "originalCommit": {"oid": "5d36619f160a4a12acd00e96b539fce92ae59804"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTMxNjYxOnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNjozNzo0NFrOHK_MHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNjo0NToyOFrOHK_eiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4MzEwMA==", "bodyText": "\"another supertype\" or \"other supertypes\"", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481283100", "createdAt": "2020-09-01T16:37:44Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +274,40 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      boolean methodWithDifferentReturnTypeFound = false;\n       for (JavaClass javaClass : typesToCheck) {\n         for (Method method : javaClass.getMethods()) {\n-          if (method.getName().equals(methodName)\n-              && method.getSignature().equals(symbol.getDescriptor())) {\n-            if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n-              return Optional.of(\n-                  new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+          if (method.getName().equals(methodName)) {\n+            String signatureInTargetClass = method.getSignature();\n+            String signatureLookingFor = symbol.getDescriptor();\n+            if (signatureInTargetClass.equals(signatureLookingFor)) {\n+              if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n+                return Optional.of(\n+                    new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+              }\n+              // The method is found and accessible. Returning no error.\n+              return Optional.empty();\n+            } else {\n+              String argumentTypeInTarget = parseArgumentTypeParts(signatureInTargetClass);\n+              String argumentTypeLookingFor = parseArgumentTypeParts(signatureLookingFor);\n+              if (argumentTypeInTarget.equals(argumentTypeLookingFor)) {\n+                // Not returning result yet, because there can be other supertype that has the exact", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d36619f160a4a12acd00e96b539fce92ae59804"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4NzgxNg==", "bodyText": "Updated to another supertype.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481287816", "createdAt": "2020-09-01T16:45:28Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +274,40 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      boolean methodWithDifferentReturnTypeFound = false;\n       for (JavaClass javaClass : typesToCheck) {\n         for (Method method : javaClass.getMethods()) {\n-          if (method.getName().equals(methodName)\n-              && method.getSignature().equals(symbol.getDescriptor())) {\n-            if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n-              return Optional.of(\n-                  new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+          if (method.getName().equals(methodName)) {\n+            String signatureInTargetClass = method.getSignature();\n+            String signatureLookingFor = symbol.getDescriptor();\n+            if (signatureInTargetClass.equals(signatureLookingFor)) {\n+              if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n+                return Optional.of(\n+                    new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+              }\n+              // The method is found and accessible. Returning no error.\n+              return Optional.empty();\n+            } else {\n+              String argumentTypeInTarget = parseArgumentTypeParts(signatureInTargetClass);\n+              String argumentTypeLookingFor = parseArgumentTypeParts(signatureLookingFor);\n+              if (argumentTypeInTarget.equals(argumentTypeLookingFor)) {\n+                // Not returning result yet, because there can be other supertype that has the exact", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4MzEwMA=="}, "originalCommit": {"oid": "5d36619f160a4a12acd00e96b539fce92ae59804"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTMxODYxOnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNjozODoxMlrOHK_NUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNjo0NDo0NFrOHK_cxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4MzQwOQ==", "bodyText": "returnTypeChanged", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481283409", "createdAt": "2020-09-01T16:38:12Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +274,40 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      boolean methodWithDifferentReturnTypeFound = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d36619f160a4a12acd00e96b539fce92ae59804"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4NzM2NQ==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481287365", "createdAt": "2020-09-01T16:44:44Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +274,40 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      boolean methodWithDifferentReturnTypeFound = false;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4MzQwOQ=="}, "originalCommit": {"oid": "5d36619f160a4a12acd00e96b539fce92ae59804"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTMyMTk1OnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/MethodWithReturnTypeNotFoundProblem.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNjozOTowN1rOHK_PZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNjo0Njo1NFrOHK_h5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4Mzk0Mg==", "bodyText": "ReturnTypeChangedProblem", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481283942", "createdAt": "2020-09-01T16:39:07Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/MethodWithReturnTypeNotFoundProblem.java", "diffHunk": "@@ -0,0 +1,30 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import javax.annotation.Nullable;\n+\n+/**\n+ * The {@code sourceClass} references the {@code methodSymbol}, but the {@code\n+ * methodSymbol.getClassBinaryName} has the method with different return type.\n+ */\n+class MethodWithReturnTypeNotFoundProblem extends LinkageProblem {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d36619f160a4a12acd00e96b539fce92ae59804"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4ODY3OA==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481288678", "createdAt": "2020-09-01T16:46:54Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/MethodWithReturnTypeNotFoundProblem.java", "diffHunk": "@@ -0,0 +1,30 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import javax.annotation.Nullable;\n+\n+/**\n+ * The {@code sourceClass} references the {@code methodSymbol}, but the {@code\n+ * methodSymbol.getClassBinaryName} has the method with different return type.\n+ */\n+class MethodWithReturnTypeNotFoundProblem extends LinkageProblem {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI4Mzk0Mg=="}, "originalCommit": {"oid": "5d36619f160a4a12acd00e96b539fce92ae59804"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTUyMDk5OnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzozMzozOFrOHLBMPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODo0NToxM1rOHLDmbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMxNTkwMw==", "bodyText": "actualArgumentType", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481315903", "createdAt": "2020-09-01T17:33:38Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +274,39 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      boolean returnTypeChanged = false;\n       for (JavaClass javaClass : typesToCheck) {\n         for (Method method : javaClass.getMethods()) {\n-          if (method.getName().equals(methodName)\n-              && method.getSignature().equals(symbol.getDescriptor())) {\n-            if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n-              return Optional.of(\n-                  new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+          if (method.getName().equals(methodName)) {\n+            String actualSignature = method.getSignature();\n+            String expectedSignature = symbol.getDescriptor();\n+            if (actualSignature.equals(expectedSignature)) {\n+              if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n+                return Optional.of(\n+                    new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+              }\n+              // The method is found and accessible. Returning no error.\n+              return Optional.empty();\n+            } else {\n+              String argumentTypeInTarget = parseArgumentTypeParts(actualSignature);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc188724b18d4a4edf3b1877f01d54217e570ee5"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM1NTM3NQ==", "bodyText": "Updated", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481355375", "createdAt": "2020-09-01T18:45:13Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +274,39 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      boolean returnTypeChanged = false;\n       for (JavaClass javaClass : typesToCheck) {\n         for (Method method : javaClass.getMethods()) {\n-          if (method.getName().equals(methodName)\n-              && method.getSignature().equals(symbol.getDescriptor())) {\n-            if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n-              return Optional.of(\n-                  new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+          if (method.getName().equals(methodName)) {\n+            String actualSignature = method.getSignature();\n+            String expectedSignature = symbol.getDescriptor();\n+            if (actualSignature.equals(expectedSignature)) {\n+              if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n+                return Optional.of(\n+                    new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+              }\n+              // The method is found and accessible. Returning no error.\n+              return Optional.empty();\n+            } else {\n+              String argumentTypeInTarget = parseArgumentTypeParts(actualSignature);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMxNTkwMw=="}, "originalCommit": {"oid": "bc188724b18d4a4edf3b1877f01d54217e570ee5"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTUyMTY4OnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzozMzo0OVrOHLBMqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODo0NToxN1rOHLDmmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMxNjAxMA==", "bodyText": "expectedArgumentType", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481316010", "createdAt": "2020-09-01T17:33:49Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +274,39 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      boolean returnTypeChanged = false;\n       for (JavaClass javaClass : typesToCheck) {\n         for (Method method : javaClass.getMethods()) {\n-          if (method.getName().equals(methodName)\n-              && method.getSignature().equals(symbol.getDescriptor())) {\n-            if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n-              return Optional.of(\n-                  new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+          if (method.getName().equals(methodName)) {\n+            String actualSignature = method.getSignature();\n+            String expectedSignature = symbol.getDescriptor();\n+            if (actualSignature.equals(expectedSignature)) {\n+              if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n+                return Optional.of(\n+                    new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+              }\n+              // The method is found and accessible. Returning no error.\n+              return Optional.empty();\n+            } else {\n+              String argumentTypeInTarget = parseArgumentTypeParts(actualSignature);\n+              String argumentTypeLookingFor = parseArgumentTypeParts(expectedSignature);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc188724b18d4a4edf3b1877f01d54217e570ee5"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM1NTQxNg==", "bodyText": "Updated", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481355416", "createdAt": "2020-09-01T18:45:17Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +274,39 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      boolean returnTypeChanged = false;\n       for (JavaClass javaClass : typesToCheck) {\n         for (Method method : javaClass.getMethods()) {\n-          if (method.getName().equals(methodName)\n-              && method.getSignature().equals(symbol.getDescriptor())) {\n-            if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n-              return Optional.of(\n-                  new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+          if (method.getName().equals(methodName)) {\n+            String actualSignature = method.getSignature();\n+            String expectedSignature = symbol.getDescriptor();\n+            if (actualSignature.equals(expectedSignature)) {\n+              if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n+                return Optional.of(\n+                    new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+              }\n+              // The method is found and accessible. Returning no error.\n+              return Optional.empty();\n+            } else {\n+              String argumentTypeInTarget = parseArgumentTypeParts(actualSignature);\n+              String argumentTypeLookingFor = parseArgumentTypeParts(expectedSignature);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMxNjAxMA=="}, "originalCommit": {"oid": "bc188724b18d4a4edf3b1877f01d54217e570ee5"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTUyMjc2OnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzozNDowOVrOHLBNYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODo0NTozMFrOHLDnDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMxNjE5NQ==", "bodyText": "matches", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481316195", "createdAt": "2020-09-01T17:34:09Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +274,39 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      boolean returnTypeChanged = false;\n       for (JavaClass javaClass : typesToCheck) {\n         for (Method method : javaClass.getMethods()) {\n-          if (method.getName().equals(methodName)\n-              && method.getSignature().equals(symbol.getDescriptor())) {\n-            if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n-              return Optional.of(\n-                  new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+          if (method.getName().equals(methodName)) {\n+            String actualSignature = method.getSignature();\n+            String expectedSignature = symbol.getDescriptor();\n+            if (actualSignature.equals(expectedSignature)) {\n+              if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n+                return Optional.of(\n+                    new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+              }\n+              // The method is found and accessible. Returning no error.\n+              return Optional.empty();\n+            } else {\n+              String argumentTypeInTarget = parseArgumentTypeParts(actualSignature);\n+              String argumentTypeLookingFor = parseArgumentTypeParts(expectedSignature);\n+              if (argumentTypeInTarget.equals(argumentTypeLookingFor)) {\n+                // Not returning result yet, because there can be another supertype that has the\n+                // exact method that match the name, argument types, and return type.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc188724b18d4a4edf3b1877f01d54217e570ee5"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM1NTUzMw==", "bodyText": "Fixed.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481355533", "createdAt": "2020-09-01T18:45:30Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +274,39 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      boolean returnTypeChanged = false;\n       for (JavaClass javaClass : typesToCheck) {\n         for (Method method : javaClass.getMethods()) {\n-          if (method.getName().equals(methodName)\n-              && method.getSignature().equals(symbol.getDescriptor())) {\n-            if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n-              return Optional.of(\n-                  new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+          if (method.getName().equals(methodName)) {\n+            String actualSignature = method.getSignature();\n+            String expectedSignature = symbol.getDescriptor();\n+            if (actualSignature.equals(expectedSignature)) {\n+              if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n+                return Optional.of(\n+                    new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+              }\n+              // The method is found and accessible. Returning no error.\n+              return Optional.empty();\n+            } else {\n+              String argumentTypeInTarget = parseArgumentTypeParts(actualSignature);\n+              String argumentTypeLookingFor = parseArgumentTypeParts(expectedSignature);\n+              if (argumentTypeInTarget.equals(argumentTypeLookingFor)) {\n+                // Not returning result yet, because there can be another supertype that has the\n+                // exact method that match the name, argument types, and return type.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMxNjE5NQ=="}, "originalCommit": {"oid": "bc188724b18d4a4edf3b1877f01d54217e570ee5"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTc3NjAwOnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ReturnTypeChangedProblem.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODo0ODozMVrOHLDtiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODo0ODozMVrOHLDtiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM1NzE5NQ==", "bodyText": "Now it tells the actual type.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481357195", "createdAt": "2020-09-01T18:48:31Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ReturnTypeChangedProblem.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import javax.annotation.Nullable;\n+\n+/**\n+ * The {@code sourceClass} references the {@code methodSymbol}, but the {@code\n+ * methodSymbol.getClassBinaryName} has the method with a different return type {@code\n+ * actualTypeName}.\n+ */\n+class ReturnTypeChangedProblem extends LinkageProblem {\n+  public ReturnTypeChangedProblem(\n+      ClassFile sourceClass,\n+      @Nullable ClassFile targetClass,\n+      MethodSymbol expectedMethodSymbol,\n+      String actualTypeName) {\n+    super(\n+        \"is not found. The expected return type does not match actual type \" + actualTypeName,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56c35a35559c4a00ea0b5a5ec88e01a4892e6e7b"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTc3Nzc1OnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ReturnTypeChangedProblem.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODo0OTowNVrOHLDusw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODo1Mzo0OVrOHLD6Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM1NzQ5MQ==", "bodyText": "non-public", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481357491", "createdAt": "2020-09-01T18:49:05Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ReturnTypeChangedProblem.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import javax.annotation.Nullable;\n+\n+/**\n+ * The {@code sourceClass} references the {@code methodSymbol}, but the {@code\n+ * methodSymbol.getClassBinaryName} has the method with a different return type {@code\n+ * actualTypeName}.\n+ */\n+class ReturnTypeChangedProblem extends LinkageProblem {\n+  public ReturnTypeChangedProblem(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56c35a35559c4a00ea0b5a5ec88e01a4892e6e7b"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM2MDQzNA==", "bodyText": "Fixed.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481360434", "createdAt": "2020-09-01T18:53:49Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ReturnTypeChangedProblem.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import javax.annotation.Nullable;\n+\n+/**\n+ * The {@code sourceClass} references the {@code methodSymbol}, but the {@code\n+ * methodSymbol.getClassBinaryName} has the method with a different return type {@code\n+ * actualTypeName}.\n+ */\n+class ReturnTypeChangedProblem extends LinkageProblem {\n+  public ReturnTypeChangedProblem(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM1NzQ5MQ=="}, "originalCommit": {"oid": "56c35a35559c4a00ea0b5a5ec88e01a4892e6e7b"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTc3OTU5OnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ReturnTypeChangedProblem.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODo0OTo0M1rOHLDv9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODo1Mzo1N1rOHLD7Ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM1NzgxNA==", "bodyText": "match the", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481357814", "createdAt": "2020-09-01T18:49:43Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ReturnTypeChangedProblem.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import javax.annotation.Nullable;\n+\n+/**\n+ * The {@code sourceClass} references the {@code methodSymbol}, but the {@code\n+ * methodSymbol.getClassBinaryName} has the method with a different return type {@code\n+ * actualTypeName}.\n+ */\n+class ReturnTypeChangedProblem extends LinkageProblem {\n+  public ReturnTypeChangedProblem(\n+      ClassFile sourceClass,\n+      @Nullable ClassFile targetClass,\n+      MethodSymbol expectedMethodSymbol,\n+      String actualTypeName) {\n+    super(\n+        \"is not found. The expected return type does not match actual type \" + actualTypeName,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56c35a35559c4a00ea0b5a5ec88e01a4892e6e7b"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM2MDY1OQ==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481360659", "createdAt": "2020-09-01T18:53:57Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ReturnTypeChangedProblem.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import javax.annotation.Nullable;\n+\n+/**\n+ * The {@code sourceClass} references the {@code methodSymbol}, but the {@code\n+ * methodSymbol.getClassBinaryName} has the method with a different return type {@code\n+ * actualTypeName}.\n+ */\n+class ReturnTypeChangedProblem extends LinkageProblem {\n+  public ReturnTypeChangedProblem(\n+      ClassFile sourceClass,\n+      @Nullable ClassFile targetClass,\n+      MethodSymbol expectedMethodSymbol,\n+      String actualTypeName) {\n+    super(\n+        \"is not found. The expected return type does not match actual type \" + actualTypeName,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM1NzgxNA=="}, "originalCommit": {"oid": "56c35a35559c4a00ea0b5a5ec88e01a4892e6e7b"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTc4Mjc0OnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ReturnTypeChangedProblem.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODo1MDozM1rOHLDx1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODo1Mzo0NlrOHLD54Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM1ODI5Mw==", "bodyText": "{@code methodSymbol} does not exist below. {@code expectedMethodSymbol} perhaps?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481358293", "createdAt": "2020-09-01T18:50:33Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ReturnTypeChangedProblem.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import javax.annotation.Nullable;\n+\n+/**\n+ * The {@code sourceClass} references the {@code methodSymbol}, but the {@code", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56c35a35559c4a00ea0b5a5ec88e01a4892e6e7b"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM2MDM1Mw==", "bodyText": "Fixed.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r481360353", "createdAt": "2020-09-01T18:53:46Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ReturnTypeChangedProblem.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import javax.annotation.Nullable;\n+\n+/**\n+ * The {@code sourceClass} references the {@code methodSymbol}, but the {@code", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM1ODI5Mw=="}, "originalCommit": {"oid": "56c35a35559c4a00ea0b5a5ec88e01a4892e6e7b"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxNjY4MDE4OnYy", "diffSide": "LEFT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMToyMzo1OFrOHMIpHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQyMToyMzo1OFrOHMIpHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjQ4NjU1Nw==", "bodyText": "This has been moved to line 290.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r482486557", "createdAt": "2020-09-02T21:23:58Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +275,41 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      String changedReturnTypeName = null;\n       for (JavaClass javaClass : typesToCheck) {\n         for (Method method : javaClass.getMethods()) {\n-          if (method.getName().equals(methodName)\n-              && method.getSignature().equals(symbol.getDescriptor())) {\n-            if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n-              return Optional.of(\n-                  new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+          if (method.getName().equals(methodName)) {\n+            String actualSignature = method.getSignature();\n+            String expectedSignature = symbol.getDescriptor();\n+            if (actualSignature.equals(expectedSignature)) {\n+              if (!isMemberAccessibleFrom(javaClass, method, sourceClassName)) {\n+                return Optional.of(\n+                    new InaccessibleMemberProblem(sourceClassFile, targetClassFile, symbol));\n+              }\n+              // The method is found and accessible. Returning no error.\n+              return Optional.empty();\n+            } else {\n+              String actualArgumentType = parseArgumentTypeParts(actualSignature);\n+              String expectedArgumentType = parseArgumentTypeParts(expectedSignature);\n+              if (actualArgumentType.equals(expectedArgumentType)) {\n+                // Not returning result yet, because there can be another supertype that has the\n+                // exact method that matches the name, argument types, and return type.\n+                changedReturnTypeName = Utility.methodSignatureReturnType(actualSignature);\n+              }\n             }\n-            // The method is found and accessible. Returning no error.\n-            return Optional.empty();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f07a95784c1c46366ed2cb428cd80828d58d566"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxOTk1NDgzOnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDowMjowMFrOHMoFpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDoyOTo0M1rOHMpVew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzAwMTc2NQ==", "bodyText": "changedReturnTypeName --> changedReturnType", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r483001765", "createdAt": "2020-09-03T14:02:00Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +275,41 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      String changedReturnTypeName = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f07a95784c1c46366ed2cb428cd80828d58d566"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzAyMjIwMw==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r483022203", "createdAt": "2020-09-03T14:29:43Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -274,20 +275,41 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n           Iterables.concat(\n               getClassHierarchy(targetJavaClass),\n               Arrays.asList(targetJavaClass.getAllInterfaces()));\n+\n+      String changedReturnTypeName = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzAwMTc2NQ=="}, "originalCommit": {"oid": "6f07a95784c1c46366ed2cb428cd80828d58d566"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxOTk2MjA5OnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ReturnTypeChangedProblem.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDowMzo0NFrOHMoKSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDoyODo1OFrOHMpTOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzAwMjk1NA==", "bodyText": "actualTypeName --> actualType", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r483002954", "createdAt": "2020-09-03T14:03:44Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ReturnTypeChangedProblem.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import javax.annotation.Nullable;\n+\n+/**\n+ * The {@code sourceClass} references the {@code expectedMethodSymbol}, but the {@code\n+ * expectedMethodSymbol.getClassBinaryName} has the method with a different return type ({@code\n+ * actualTypeName}).\n+ */\n+class ReturnTypeChangedProblem extends LinkageProblem {\n+  ReturnTypeChangedProblem(\n+      ClassFile sourceClass,\n+      @Nullable ClassFile targetClass,\n+      MethodSymbol expectedMethodSymbol,\n+      String actualTypeName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f07a95784c1c46366ed2cb428cd80828d58d566"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzAyMTYyNQ==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r483021625", "createdAt": "2020-09-03T14:28:58Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/ReturnTypeChangedProblem.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * Copyright 2020 Google LLC.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.cloud.tools.opensource.classpath;\n+\n+import javax.annotation.Nullable;\n+\n+/**\n+ * The {@code sourceClass} references the {@code expectedMethodSymbol}, but the {@code\n+ * expectedMethodSymbol.getClassBinaryName} has the method with a different return type ({@code\n+ * actualTypeName}).\n+ */\n+class ReturnTypeChangedProblem extends LinkageProblem {\n+  ReturnTypeChangedProblem(\n+      ClassFile sourceClass,\n+      @Nullable ClassFile targetClass,\n+      MethodSymbol expectedMethodSymbol,\n+      String actualTypeName) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzAwMjk1NA=="}, "originalCommit": {"oid": "6f07a95784c1c46366ed2cb428cd80828d58d566"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMDM4MjU3OnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNTozMzoyMVrOHMsQTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNjowMTo1MVrOHMtb_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA3MDAzMQ==", "bodyText": "I don't follow this comment. This is an identity transformation?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r483070031", "createdAt": "2020-09-03T15:33:21Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -304,6 +326,13 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n     }\n   }\n \n+  /** Returns the argument type parts from {@code methodDescriptor}. */\n+  private static String parseArgumentTypeParts(String methodDescriptor) {\n+    // E.g., '(Ljava/lang/String;)V' => '(Ljava/lang/String;)'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5de2e94a79249389f3daf2e95ed6c29b7bc2e1fa"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA4OTQwNg==", "bodyText": "It was removing 'V' but it was just one character. Replaced V with java.lang.Integer to make give more clarity.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r483089406", "createdAt": "2020-09-03T16:01:51Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -304,6 +326,13 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n     }\n   }\n \n+  /** Returns the argument type parts from {@code methodDescriptor}. */\n+  private static String parseArgumentTypeParts(String methodDescriptor) {\n+    // E.g., '(Ljava/lang/String;)V' => '(Ljava/lang/String;)'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA3MDAzMQ=="}, "originalCommit": {"oid": "5de2e94a79249389f3daf2e95ed6c29b7bc2e1fa"}, "originalPosition": 63}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMDM4NDcwOnYy", "diffSide": "RIGHT", "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNTozMzo1MlrOHMsRuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNjowMDo1OVrOHMtZuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA3MDM5Mg==", "bodyText": "would this somehow be different from parseArgumentTypes?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r483070392", "createdAt": "2020-09-03T15:33:52Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -304,6 +326,13 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n     }\n   }\n \n+  /** Returns the argument type parts from {@code methodDescriptor}. */\n+  private static String parseArgumentTypeParts(String methodDescriptor) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5de2e94a79249389f3daf2e95ed6c29b7bc2e1fa"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA4ODgyNQ==", "bodyText": "That was not a good name. Updated to parseParameterDescriptors to follow JVM document: https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.3.3", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1629#discussion_r483088825", "createdAt": "2020-09-03T16:00:59Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/LinkageChecker.java", "diffHunk": "@@ -304,6 +326,13 @@ private boolean problemFilter(LinkageProblem linkageProblem) {\n     }\n   }\n \n+  /** Returns the argument type parts from {@code methodDescriptor}. */\n+  private static String parseArgumentTypeParts(String methodDescriptor) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA3MDM5Mg=="}, "originalCommit": {"oid": "5de2e94a79249389f3daf2e95ed6c29b7bc2e1fa"}, "originalPosition": 62}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2527, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}