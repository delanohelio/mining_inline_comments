{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4MDk2MTc0", "number": 1404, "title": "clarify distinction between file names and class names", "bodyText": "@suztomo class path --> class path entry", "createdAt": "2020-05-14T16:06:34Z", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1404", "merged": true, "mergeCommit": {"oid": "8c426b69bb78b83feb731fbf1a6dd1d52664f9e6"}, "closed": true, "closedAt": "2020-05-15T13:03:08Z", "author": {"login": "elharo"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchPvYrgH2gAyNDE4MDk2MTc0OmQwMjlmYTg3MTAwMDQ2ZTM4OGY4ODhiOGFjODQxM2Q5NmVhMzIwZDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchhuR6AFqTQxMjYyODA4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d029fa87100046e388f888b8ac8413d96ea320d6", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/d029fa87100046e388f888b8ac8413d96ea320d6", "committedDate": "2020-05-14T16:05:55Z", "message": "clarify comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExOTc2NTYy", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1404#pullrequestreview-411976562", "createdAt": "2020-05-14T16:24:51Z", "commit": {"oid": "d029fa87100046e388f888b8ac8413d96ea320d6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjoyNDo1MVrOGVkVMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjoyNDo1MVrOGVkVMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2ODUzMQ==", "bodyText": "This locates a class file in a class path. Not in a class path entry. This FixedSizeClassPathRepository operates on a class path.\nDo you see this description is inaccurate?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1404#discussion_r425268531", "createdAt": "2020-05-14T16:24:51Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/FixedSizeClassPathRepository.java", "diffHunk": "@@ -52,14 +52,15 @@\n    *\r\n    * <p>While class name and class file name are the same in most cases, sometimes classes are not\r\n    * placed in the root of a JAR file to support a framework-specific JAR structure. For example,\r\n-   * Spring Boot Gradle Java plugin places class files under \"BOOT-INF/classes\". To load such\r\n+   * the Spring Boot Gradle Java plugin places class files under \"BOOT-INF/classes\". To load such\r\n    * classes by class name, this mapping keeps track of the special location once they are loaded.\r\n    *\r\n    * <ul>\r\n    *   <li>Key: class name (value from {@link JavaClass#getClassName()}) which has a special class\r\n    *       file name different from its class name. Example: {@code com.google.Foo}\r\n    *   <li>Value: the special class file name as in {@link JavaClass#getFileName()}, a path that\r\n-   *       locates a class file in a class path. Example: {@code BOOT-INF.classes.com.google.Foo}\r\n+   *       locates a class file in a class path entry.\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d029fa87100046e388f888b8ac8413d96ea320d6"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ca383a3b058fc9b11be80546dcaf571a053729f", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/2ca383a3b058fc9b11be80546dcaf571a053729f", "committedDate": "2020-05-14T18:32:59Z", "message": "distinguish file names"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyMDgzODY3", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1404#pullrequestreview-412083867", "createdAt": "2020-05-14T18:38:30Z", "commit": {"oid": "2ca383a3b058fc9b11be80546dcaf571a053729f"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyMDkxODU2", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1404#pullrequestreview-412091856", "createdAt": "2020-05-14T18:49:26Z", "commit": {"oid": "2ca383a3b058fc9b11be80546dcaf571a053729f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxODo0OToyNlrOGVp0Aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxODo0OToyNlrOGVp0Aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM1ODMzOQ==", "bodyText": "This is nice. Placing getOrDefault here is simplifying other places.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1404#discussion_r425358339", "createdAt": "2020-05-14T18:49:26Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/FixedSizeClassPathRepository.java", "diffHunk": "@@ -114,11 +119,9 @@ public void clear() {\n   }\r\n \r\n   /**\r\n-   * Returns the special location for {@code className}. Null if no special location is known.\r\n-   *\r\n-   * @see #classFileNames\r\n+   * Returns the file name for the class.\r\n    */\r\n-  String getSpecialLocation(String className) {\r\n-    return classFileNames.get(className);\r\n+  String getFileName(String className) {\r\n+    return classFileNames.getOrDefault(className, className);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ca383a3b058fc9b11be80546dcaf571a053729f"}, "originalPosition": 71}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyMTIxOTYx", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1404#pullrequestreview-412121961", "createdAt": "2020-05-14T19:33:01Z", "commit": {"oid": "2ca383a3b058fc9b11be80546dcaf571a053729f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOTozMzowMlrOGVrOoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOTozMzowMlrOGVrOoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM4MTUzNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * A few tools relocate classes into different directories within the JAR and use a special\n          \n          \n            \n               * <p>A few tools relocate classes into different directories within the JAR and use a special\n          \n      \n    \n    \n  \n\nI like the clear explanation of the difference.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1404#discussion_r425381536", "createdAt": "2020-05-14T19:33:02Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/classpath/FixedSizeClassPathRepository.java", "diffHunk": "@@ -48,18 +48,23 @@\n   private final Cache<String, JavaClass> loadedClass;\r\n \r\n   /**\r\n-   * Mapping from class names to special class file locations.\r\n+   * Mapping from class names to file names.\r\n    *\r\n-   * <p>While class name and class file name are the same in most cases, sometimes classes are not\r\n-   * placed in the root of a JAR file to support a framework-specific JAR structure. For example,\r\n-   * Spring Boot Gradle Java plugin places class files under \"BOOT-INF/classes\". To load such\r\n-   * classes by class name, this mapping keeps track of the special location once they are loaded.\r\n+   * <p>Class names are the fully package qualified names found in Java source code such as\r\n+   * {@code com.google.Foo}. The byte code of this class is normally found in a JAR at the path\r\n+   * com/google/Foo.class. In this case {@code com.google.Foo} is also the file name.\r\n+   * \r\n+   * A few tools relocate classes into different directories within the JAR and use a special\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ca383a3b058fc9b11be80546dcaf571a053729f"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyMTIyNzE1", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1404#pullrequestreview-412122715", "createdAt": "2020-05-14T19:34:06Z", "commit": {"oid": "2ca383a3b058fc9b11be80546dcaf571a053729f"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyNjI4MDg1", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1404#pullrequestreview-412628085", "createdAt": "2020-05-15T13:03:00Z", "commit": {"oid": "2ca383a3b058fc9b11be80546dcaf571a053729f"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 406, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}