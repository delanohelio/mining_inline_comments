{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyMzcxNDQ2", "number": 1767, "title": "JLBP: Declare all dependencies", "bodyText": "@suztomo @netdpb fixes #1542", "createdAt": "2020-10-29T15:43:03Z", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767", "merged": true, "mergeCommit": {"oid": "befe78cf753aad30d4844af64f186c0fe2cbf1d1"}, "closed": true, "closedAt": "2021-03-04T13:00:42Z", "author": {"login": "elharo"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXUGDCAH2gAyNTEyMzcxNDQ2OjI0NmIxNWQ4ZDI1ZWI4ZTRhMDczMzcwNjYxYWUzMDM3YjljMGRkNjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABd_rWO8AH2gAyNTEyMzcxNDQ2OjRlMTlhNWFiOWFiYzAwMThkYzcyNjI5YTI4MzY4MjM4OTA1NjA3NGY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "246b15d8d25eb8e4a073370661ae3037b9c0dd69", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/246b15d8d25eb8e4a073370661ae3037b9c0dd69", "committedDate": "2020-10-29T15:42:12Z", "message": "Declare all dependencies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5ODQ2MDIw", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#pullrequestreview-519846020", "createdAt": "2020-10-29T16:21:27Z", "commit": {"oid": "246b15d8d25eb8e4a073370661ae3037b9c0dd69"}, "state": "COMMENTED", "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNjoyMToyOFrOHqj-MQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNjoyOTowOFrOHqkUSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM5MTYwMQ==", "bodyText": "Maybe there's something less judgmental to say instead of \"have an annoying habit\"? What about just \"can break unexpectedly\"?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r514391601", "createdAt": "2020-10-29T16:21:28Z", "author": {"login": "netdpb"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies have an annoying habit of breaking in unexpected ways when direct dependencies are upgraded. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "246b15d8d25eb8e4a073370661ae3037b9c0dd69"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM5MTg4NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Google HTTP Java Client which\n          \n          \n            \n            Google HTTP Java Client, which", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r514391884", "createdAt": "2020-10-29T16:21:52Z", "author": {"login": "netdpb"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies have an annoying habit of breaking in unexpected ways when direct dependencies are upgraded. \n+\n+For example, your project might declare a dependency on the \n+Google HTTP Java Client which", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "246b15d8d25eb8e4a073370661ae3037b9c0dd69"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM5MjU0MQ==", "bodyText": "URLEncodedUtils doesn't look like a method.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r514392541", "createdAt": "2020-10-29T16:22:47Z", "author": {"login": "netdpb"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies have an annoying habit of breaking in unexpected ways when direct dependencies are upgraded. \n+\n+For example, your project might declare a dependency on the \n+Google HTTP Java Client which\n+itself depends on the Apache HTTP Components. If so, it is possible to use the `org.apache.http.client.utils.URLEncodedUtils` method in your own project without", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "246b15d8d25eb8e4a073370661ae3037b9c0dd69"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM5MzAxMg==", "bodyText": "Do you need both \"compile\" and \"work\" here?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r514393012", "createdAt": "2020-10-29T16:23:28Z", "author": {"login": "netdpb"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies have an annoying habit of breaking in unexpected ways when direct dependencies are upgraded. \n+\n+For example, your project might declare a dependency on the \n+Google HTTP Java Client which\n+itself depends on the Apache HTTP Components. If so, it is possible to use the `org.apache.http.client.utils.URLEncodedUtils` method in your own project without\n+explicitly declaring a dependency on Apache HTTP Components. However, you should\n+add the dependency anyway. This way if a future version of the\n+Google HTTP Java Client no longer depends on  Apache HTTP Components, your code will\n+still compile and work. Strict dependencies also help static analysis tools better understand a project.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "246b15d8d25eb8e4a073370661ae3037b9c0dd69"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM5MzMzNA==", "bodyText": "I think you could start a new paragraph with \"Strict dependencies....\" It's starting a new idea.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r514393334", "createdAt": "2020-10-29T16:23:53Z", "author": {"login": "netdpb"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies have an annoying habit of breaking in unexpected ways when direct dependencies are upgraded. \n+\n+For example, your project might declare a dependency on the \n+Google HTTP Java Client which\n+itself depends on the Apache HTTP Components. If so, it is possible to use the `org.apache.http.client.utils.URLEncodedUtils` method in your own project without\n+explicitly declaring a dependency on Apache HTTP Components. However, you should\n+add the dependency anyway. This way if a future version of the\n+Google HTTP Java Client no longer depends on  Apache HTTP Components, your code will\n+still compile and work. Strict dependencies also help static analysis tools better understand a project.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "246b15d8d25eb8e4a073370661ae3037b9c0dd69"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM5NDU4NQ==", "bodyText": "The varying line lengths make this hard to review. Can you run mdformat?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r514394585", "createdAt": "2020-10-29T16:25:28Z", "author": {"login": "netdpb"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "246b15d8d25eb8e4a073370661ae3037b9c0dd69"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM5NTgxNQ==", "bodyText": "Maybe give examples of when dependency mediation might change versions other than when you change your declared dependency versions.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r514395815", "createdAt": "2020-10-29T16:27:10Z", "author": {"login": "netdpb"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies have an annoying habit of breaking in unexpected ways when direct dependencies are upgraded. \n+\n+For example, your project might declare a dependency on the \n+Google HTTP Java Client which\n+itself depends on the Apache HTTP Components. If so, it is possible to use the `org.apache.http.client.utils.URLEncodedUtils` method in your own project without\n+explicitly declaring a dependency on Apache HTTP Components. However, you should\n+add the dependency anyway. This way if a future version of the\n+Google HTTP Java Client no longer depends on  Apache HTTP Components, your code will\n+still compile and work. Strict dependencies also help static analysis tools better understand a project.\n+\n+This doesn't only happen when a project itself is upgraded. It can also\n+happen when dependency mediation selects a different version of a library's dependency ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "246b15d8d25eb8e4a073370661ae3037b9c0dd69"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM5NjcwOA==", "bodyText": "Is there a formatting practice for referring to files? Should this be pom.xml or pom.xml?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r514396708", "createdAt": "2020-10-29T16:28:25Z", "author": {"login": "netdpb"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "246b15d8d25eb8e4a073370661ae3037b9c0dd69"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM5NzI1OA==", "bodyText": "Should this refer explicitly to direct dependencies somehow?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r514397258", "createdAt": "2020-10-29T16:29:08Z", "author": {"login": "netdpb"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all dependencies", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "246b15d8d25eb8e4a073370661ae3037b9c0dd69"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "950379e68443cadef271ff94673b715f32c1e2da", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/950379e68443cadef271ff94673b715f32c1e2da", "committedDate": "2020-10-29T17:35:13Z", "message": "Merge branch 'master' into i1542"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af8178fdd871d74b6e4b3dd7b21e6753f917fc2c", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/af8178fdd871d74b6e4b3dd7b21e6753f917fc2c", "committedDate": "2020-10-29T17:41:20Z", "message": "code review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5OTI1MjM2", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#pullrequestreview-519925236", "createdAt": "2020-10-29T17:47:14Z", "commit": {"oid": "af8178fdd871d74b6e4b3dd7b21e6753f917fc2c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNzo0NzoxNFrOHqnoEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNzo0NzoxNFrOHqnoEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ1MTQ3Mw==", "bodyText": "If it were restrictive, that would mean that there are several Google HTTP Java Clients, only one of which depends on Apache HTTP Components. Is that the case?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r514451473", "createdAt": "2020-10-29T17:47:14Z", "author": {"login": "netdpb"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies have an annoying habit of breaking in unexpected ways when direct dependencies are upgraded. \n+\n+For example, your project might declare a dependency on the \n+Google HTTP Java Client which", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM5MTg4NA=="}, "originalCommit": {"oid": "246b15d8d25eb8e4a073370661ae3037b9c0dd69"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "665e7d92a0351f9bb37d6fe2f4123de34356daf1", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/665e7d92a0351f9bb37d6fe2f4123de34356daf1", "committedDate": "2020-10-30T12:42:15Z", "message": "Merge branch 'master' into i1542"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjgyNDEw", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#pullrequestreview-520682410", "createdAt": "2020-10-30T13:46:52Z", "commit": {"oid": "665e7d92a0351f9bb37d6fe2f4123de34356daf1"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo0Njo1MlrOHrPvDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNDowMzowMlrOHrQdyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEwODYyMw==", "bodyText": "A hypothetical code that does not call methods, reference fields, or instantiate classes:\n// my code. ImmutableList is from Guava.\nImmutableList<String> list = someLibraryCall();\nSystem.out.println(\"list is \" + list);\n\nShould I declare dependency to Guava?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r515108623", "createdAt": "2020-10-30T13:46:52Z", "author": {"login": "suztomo"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all direct dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies tend to break in unexpected ways when direct dependencies are upgraded. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "665e7d92a0351f9bb37d6fe2f4123de34356daf1"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEwOTk4Mw==", "bodyText": "I think it needs a comma for the reason David explained:\n\nIf it were restrictive, that would mean that there are several Google HTTP Java Clients, only one of which depends on Apache HTTP Components", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r515109983", "createdAt": "2020-10-30T13:49:03Z", "author": {"login": "suztomo"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies have an annoying habit of breaking in unexpected ways when direct dependencies are upgraded. \n+\n+For example, your project might declare a dependency on the \n+Google HTTP Java Client which", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM5MTg4NA=="}, "originalCommit": {"oid": "246b15d8d25eb8e4a073370661ae3037b9c0dd69"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExMDcxMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            add the dependency anyway. This way if a future version of the\n          \n          \n            \n            add the dependency anyway. In this way, if a future version of the\n          \n      \n    \n    \n  \n\nNot sure \"In\" is needed. I don't often see \"This way if\"", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r515110710", "createdAt": "2020-10-30T13:50:06Z", "author": {"login": "suztomo"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all direct dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies tend to break in unexpected ways when direct dependencies are upgraded. \n+\n+For example, your project might declare a dependency on the \n+Google HTTP Java Client which\n+itself depends on the Apache HTTP Components. If so, it is possible to use the `org.apache.http.client.utils.URLEncodedUtils` class in your own project without\n+explicitly declaring a dependency on Apache HTTP Components. However, you should\n+add the dependency anyway. This way if a future version of the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "665e7d92a0351f9bb37d6fe2f4123de34356daf1"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExMjY5Mg==", "bodyText": "Would you add names of these static analysis tools you have in mind?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r515112692", "createdAt": "2020-10-30T13:52:35Z", "author": {"login": "suztomo"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all direct dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies tend to break in unexpected ways when direct dependencies are upgraded. \n+\n+For example, your project might declare a dependency on the \n+Google HTTP Java Client which\n+itself depends on the Apache HTTP Components. If so, it is possible to use the `org.apache.http.client.utils.URLEncodedUtils` class in your own project without\n+explicitly declaring a dependency on Apache HTTP Components. However, you should\n+add the dependency anyway. This way if a future version of the\n+Google HTTP Java Client no longer depends on Apache HTTP Components, your code\n+still compiles. Strict dependencies also help static analysis tools better understand a project.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "665e7d92a0351f9bb37d6fe2f4123de34356daf1"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExMzU3Mw==", "bodyText": "\"Strict deps\" appears in a previous paragraph, but 'Strict dependencies\" does not. Would you pick one?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r515113573", "createdAt": "2020-10-30T13:53:31Z", "author": {"login": "suztomo"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all direct dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies tend to break in unexpected ways when direct dependencies are upgraded. \n+\n+For example, your project might declare a dependency on the \n+Google HTTP Java Client which\n+itself depends on the Apache HTTP Components. If so, it is possible to use the `org.apache.http.client.utils.URLEncodedUtils` class in your own project without\n+explicitly declaring a dependency on Apache HTTP Components. However, you should\n+add the dependency anyway. This way if a future version of the\n+Google HTTP Java Client no longer depends on Apache HTTP Components, your code\n+still compiles. Strict dependencies also help static analysis tools better understand a project.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "665e7d92a0351f9bb37d6fe2f4123de34356daf1"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExNTUzNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This doesn't only happen when a project itself is upgraded. It can also\n          \n          \n            \n            The problem doesn't only happen when a project itself is upgraded. It can also\n          \n      \n    \n    \n  \n\nI felt \"This\" is unclear.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r515115535", "createdAt": "2020-10-30T13:56:21Z", "author": {"login": "suztomo"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all direct dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies tend to break in unexpected ways when direct dependencies are upgraded. \n+\n+For example, your project might declare a dependency on the \n+Google HTTP Java Client which\n+itself depends on the Apache HTTP Components. If so, it is possible to use the `org.apache.http.client.utils.URLEncodedUtils` class in your own project without\n+explicitly declaring a dependency on Apache HTTP Components. However, you should\n+add the dependency anyway. This way if a future version of the\n+Google HTTP Java Client no longer depends on Apache HTTP Components, your code\n+still compiles. Strict dependencies also help static analysis tools better understand a project.\n+\n+This doesn't only happen when a project itself is upgraded. It can also", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "665e7d92a0351f9bb37d6fe2f4123de34356daf1"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExODgzNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            that does not include the necessary indirect dependency. Relying on indirect dependencies can cause problems for your customers that you don't see. \n          \n          \n            \n            that does not include the necessary indirect dependency. Relying on indirect dependencies can cause unexpected problems for your customers. \n          \n      \n    \n    \n  \n\n\"customers that you don't see.\" or \"problems that you don't see\"? I felt the latter and \"unexpected\" is more clear.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r515118835", "createdAt": "2020-10-30T14:00:47Z", "author": {"login": "suztomo"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all direct dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies tend to break in unexpected ways when direct dependencies are upgraded. \n+\n+For example, your project might declare a dependency on the \n+Google HTTP Java Client which\n+itself depends on the Apache HTTP Components. If so, it is possible to use the `org.apache.http.client.utils.URLEncodedUtils` class in your own project without\n+explicitly declaring a dependency on Apache HTTP Components. However, you should\n+add the dependency anyway. This way if a future version of the\n+Google HTTP Java Client no longer depends on Apache HTTP Components, your code\n+still compiles. Strict dependencies also help static analysis tools better understand a project.\n+\n+This doesn't only happen when a project itself is upgraded. It can also\n+happen when dependency mediation selects a different version of a library's dependency \n+that does not include the necessary indirect dependency. Relying on indirect dependencies can cause problems for your customers that you don't see. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "665e7d92a0351f9bb37d6fe2f4123de34356daf1"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEyMDU4Nw==", "bodyText": "You want to reference JLBP-1", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1767#discussion_r515120587", "createdAt": "2020-10-30T14:03:02Z", "author": {"login": "suztomo"}, "path": "docs/JLBP-0022.md", "diffHunk": "@@ -0,0 +1,56 @@\n+---\n+jlbp:\n+  id: JLBP-22\n+permalink: /JLBP-22\n+---\n+\n+# Declare all direct dependencies\n+\n+If your code references a class\u2014for example, by invoking a method in that class\u2014declare a dependency that includes that class in your pom.xml, build.gradle,\n+or equivalent. In Bazel this practice is called \"strict deps\".\n+\n+Code should not call methods, reference fields, or instantiate classes from _indirect_ dependencies. These are dependencies of the declared dependencies. Projects that rely on indirect dependencies tend to break in unexpected ways when direct dependencies are upgraded. \n+\n+For example, your project might declare a dependency on the \n+Google HTTP Java Client which\n+itself depends on the Apache HTTP Components. If so, it is possible to use the `org.apache.http.client.utils.URLEncodedUtils` class in your own project without\n+explicitly declaring a dependency on Apache HTTP Components. However, you should\n+add the dependency anyway. This way if a future version of the\n+Google HTTP Java Client no longer depends on Apache HTTP Components, your code\n+still compiles. Strict dependencies also help static analysis tools better understand a project.\n+\n+This doesn't only happen when a project itself is upgraded. It can also\n+happen when dependency mediation selects a different version of a library's dependency \n+that does not include the necessary indirect dependency. Relying on indirect dependencies can cause problems for your customers that you don't see. \n+\n+IDE autocomplete suggestions are a common way projects come to depend on \n+indirect dependencies. When importing a new class, most IDEs only look to see if it's present in the classpath, not whether it comes from a direct or indirect dependency.\n+\n+The `mvn dependency:analyze` command lists dependencies a Maven project uses \n+but hasn't declared:\n+\n+```\n+[WARNING] Used undeclared dependencies found:\n+[WARNING]    org.apache.maven.resolver:maven-resolver-impl:jar:1.4.1:compile\n+[WARNING]    org.apache.maven.resolver:maven-resolver-api:jar:1.6.1:compile\n+[WARNING]    org.apache.maven:maven-core:jar:3.6.3:compile\n+[WARNING]    org.apache.maven:maven-model-builder:jar:3.6.3:compile\n+```\n+\n+These should be added to your pom.xml file. \n+\n+The tool also lists dependencies the project declares but doesn't use:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "665e7d92a0351f9bb37d6fe2f4123de34356daf1"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d9e34ec250a92ad484c56ce416ce572b54ebb2e", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/6d9e34ec250a92ad484c56ce416ce572b54ebb2e", "committedDate": "2020-10-30T14:31:01Z", "message": "code review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6b996945b75ad7acdd5e29fcbbcb09ec5277769", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/a6b996945b75ad7acdd5e29fcbbcb09ec5277769", "committedDate": "2021-03-04T00:26:57Z", "message": "Merge branch 'master' into i1542"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e19a5ab9abc0018dc72629a283682389056074f", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/4e19a5ab9abc0018dc72629a283682389056074f", "committedDate": "2021-03-04T01:24:40Z", "message": "Merge branch 'master' into i1542"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1343, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}