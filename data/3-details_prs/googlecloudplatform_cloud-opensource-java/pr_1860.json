{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyMDU1MzA4", "number": 1860, "title": "The enforcer rule integration test with Java 11", "bodyText": "Fixes #1858.", "createdAt": "2020-12-03T19:41:17Z", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1860", "merged": true, "mergeCommit": {"oid": "15e690878945e25330b38355e7dbcb89949ba57d"}, "closed": true, "closedAt": "2020-12-03T20:32:56Z", "author": {"login": "suztomo"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdioDsjAH2gAyNTMyMDU1MzA4OjA2ZGRhNzRlY2RmMDZjZDU5NGNjODEyNDM1NTAzY2U4ZDRhODA1ZDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdipGdAgFqTU0NDM4NzYzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "06dda74ecdf06cd594cc812435503ce8d4a805d6", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/06dda74ecdf06cd594cc812435503ce8d4a805d6", "committedDate": "2020-12-03T19:10:54Z", "message": "invoker.java.version=1.8 for protobuf-java problem"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1553944a19335f1d1180f928592c4a3a8a4ffdbb", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/1553944a19335f1d1180f928592c4a3a8a4ffdbb", "committedDate": "2020-12-03T19:40:22Z", "message": "bom-project-using-spring-repository with Java 11"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MzMxNTcy", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1860#pullrequestreview-544331572", "createdAt": "2020-12-03T19:43:28Z", "commit": {"oid": "1553944a19335f1d1180f928592c4a3a8a4ffdbb"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxOTo0MzoyOVrOH-ubaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxOTo0NToxNFrOH-ufzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTUzNDQ0MA==", "bodyText": "The 5 lines are only difference.\nGithub didn't hide new line character changes. It's now LF (Linux & Mac).", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1860#discussion_r535534440", "createdAt": "2020-12-03T19:43:29Z", "author": {"login": "suztomo"}, "path": "enforcer-rules/src/it/bom-project-using-spring-repository/verify.groovy", "diffHunk": "@@ -1,15 +1,19 @@\n-def buildLog = new File(basedir, \"build.log\")\r\n-\r\n-// Profile \"spring\" should set the Spring Milestones repository, which has this reactor-bom.\r\n-assert !buildLog.text.contains(\r\n-    \"Could not find artifact io.projectreactor:reactor-bom:pom:2020.0.0-M2 in central\")\r\n-\r\n-// io.projectreactor.netty:reactor-netty:jar:1.0.0-M2 is in the reactor-bom. It's available in\r\n-// Spring Milestones repository:\r\n-// https://repo.spring.io/milestone/io/projectreactor/netty/reactor-netty/1.0.0-M2/\r\n-assert !buildLog.text.contains(\r\n-    \"io.projectreactor.netty:reactor-netty:jar:1.0.0-M2 was not resolved\")\r\n-\r\n-assert !buildLog.text.contains(\"NullPointerException\")\r\n-\r\n-assert buildLog.text.contains(\"Linkage Checker rule found 850 errors:\")\n\\ No newline at end of file\n+def buildLog = new File(basedir, \"build.log\")\n+\n+// Profile \"spring\" should set the Spring Milestones repository, which has this reactor-bom.\n+assert !buildLog.text.contains(\n+    \"Could not find artifact io.projectreactor:reactor-bom:pom:2020.0.0-M2 in central\")\n+\n+// io.projectreactor.netty:reactor-netty:jar:1.0.0-M2 is in the reactor-bom. It's available in\n+// Spring Milestones repository:\n+// https://repo.spring.io/milestone/io/projectreactor/netty/reactor-netty/1.0.0-M2/\n+assert !buildLog.text.contains(\n+    \"io.projectreactor.netty:reactor-netty:jar:1.0.0-M2 was not resolved\")\n+\n+assert !buildLog.text.contains(\"NullPointerException\")\n+\n+// 4 linkage errors are references to java.util.concurrent.Flow class, which does not exist in\n+// Java 8 runtime yet.\n+def expectedErrorCount = System.getProperty(\"java.version\").startsWith(\"1.8.\") ? 850 : 846\n+\n+assert buildLog.text.contains(\"Linkage Checker rule found $expectedErrorCount errors:\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1553944a19335f1d1180f928592c4a3a8a4ffdbb"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTUzNTE1OQ==", "bodyText": "The difference (4) comes from java.util.concurrent.Flow$Publisher, java.util.concurrent.Flow$Processor, java.util.concurrent.Flow$Subscription, and java.util.concurrent.Flow$Subscriber classes that were not found in Java 8\n#1858", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1860#discussion_r535535159", "createdAt": "2020-12-03T19:44:33Z", "author": {"login": "suztomo"}, "path": "enforcer-rules/src/it/bom-project-using-spring-repository/verify.groovy", "diffHunk": "@@ -1,15 +1,19 @@\n-def buildLog = new File(basedir, \"build.log\")\r\n-\r\n-// Profile \"spring\" should set the Spring Milestones repository, which has this reactor-bom.\r\n-assert !buildLog.text.contains(\r\n-    \"Could not find artifact io.projectreactor:reactor-bom:pom:2020.0.0-M2 in central\")\r\n-\r\n-// io.projectreactor.netty:reactor-netty:jar:1.0.0-M2 is in the reactor-bom. It's available in\r\n-// Spring Milestones repository:\r\n-// https://repo.spring.io/milestone/io/projectreactor/netty/reactor-netty/1.0.0-M2/\r\n-assert !buildLog.text.contains(\r\n-    \"io.projectreactor.netty:reactor-netty:jar:1.0.0-M2 was not resolved\")\r\n-\r\n-assert !buildLog.text.contains(\"NullPointerException\")\r\n-\r\n-assert buildLog.text.contains(\"Linkage Checker rule found 850 errors:\")\n\\ No newline at end of file\n+def buildLog = new File(basedir, \"build.log\")\n+\n+// Profile \"spring\" should set the Spring Milestones repository, which has this reactor-bom.\n+assert !buildLog.text.contains(\n+    \"Could not find artifact io.projectreactor:reactor-bom:pom:2020.0.0-M2 in central\")\n+\n+// io.projectreactor.netty:reactor-netty:jar:1.0.0-M2 is in the reactor-bom. It's available in\n+// Spring Milestones repository:\n+// https://repo.spring.io/milestone/io/projectreactor/netty/reactor-netty/1.0.0-M2/\n+assert !buildLog.text.contains(\n+    \"io.projectreactor.netty:reactor-netty:jar:1.0.0-M2 was not resolved\")\n+\n+assert !buildLog.text.contains(\"NullPointerException\")\n+\n+// 4 linkage errors are references to java.util.concurrent.Flow class, which does not exist in\n+// Java 8 runtime yet.\n+def expectedErrorCount = System.getProperty(\"java.version\").startsWith(\"1.8.\") ? 850 : 846", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1553944a19335f1d1180f928592c4a3a8a4ffdbb"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTUzNTU2Nw==", "bodyText": "The return-type-mismatch test case is for the protobuf-java problem around java.nio.Buffer. The problem does not occur in Java 11.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1860#discussion_r535535567", "createdAt": "2020-12-03T19:45:14Z", "author": {"login": "suztomo"}, "path": "enforcer-rules/src/it/return-type-mismatch/invoker.properties", "diffHunk": "@@ -1,2 +1,3 @@\n invoker.goals=verify\n invoker.buildResult=failure\n+invoker.java.version=1.8", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1553944a19335f1d1180f928592c4a3a8a4ffdbb"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0Mzg3NjM3", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1860#pullrequestreview-544387637", "createdAt": "2020-12-03T20:23:49Z", "commit": {"oid": "1553944a19335f1d1180f928592c4a3a8a4ffdbb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1310, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}