{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0ODQ2MTQz", "number": 1577, "title": "Gradle plugin release script fix", "bodyText": "#1519 had two issues\n\nThe gradle property file needs a new line character to split the two variable\nGradle needs the GRADLE_USER_HOME environment variable. (The default value uses USER_HOME, which is usually undefined)\n\nI confirmed that this change #1575 worked good in Rapid.", "createdAt": "2020-08-07T21:45:19Z", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1577", "merged": true, "mergeCommit": {"oid": "dd8e9061aaf70c3575abe804173097eb97f46b56"}, "closed": true, "closedAt": "2020-08-10T12:50:55Z", "author": {"login": "suztomo"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8omhYgH2gAyNDY0ODQ2MTQzOjE4MDYxMzkzYjFhMjc1OTkxZmM2MjU0ODhmMmVmMjFiMjk5NjE5NDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc9gqv3gFqTQ2NDE1NDk0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "18061393b1a275991fc625488f2ef21b29961943", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/18061393b1a275991fc625488f2ef21b29961943", "committedDate": "2020-08-07T18:19:49Z", "message": "gradle home environment variable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e50263f16dc2a9711435b915c6d843839ab2f7b", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/9e50263f16dc2a9711435b915c6d843839ab2f7b", "committedDate": "2020-08-07T18:43:06Z", "message": "Moving project property to system property"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9da0f2e07ac5e33edd8682d27befce5872cb76b", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/c9da0f2e07ac5e33edd8682d27befce5872cb76b", "committedDate": "2020-08-07T19:00:29Z", "message": "Experimenting gradle.properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57d7e53215d94d5a298428986007eac3a449c3f5", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/57d7e53215d94d5a298428986007eac3a449c3f5", "committedDate": "2020-08-07T19:13:36Z", "message": "systemProp prefix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56cca83b90cdcc22a612f9fee543b6994e4870f7", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/56cca83b90cdcc22a612f9fee543b6994e4870f7", "committedDate": "2020-08-07T19:14:27Z", "message": "debug from gradle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28ea0cf78618d82dfd1810d1b263b95288118f06", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/28ea0cf78618d82dfd1810d1b263b95288118f06", "committedDate": "2020-08-07T19:31:38Z", "message": "gradle.user.home"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7526c8d0a5862f283d82839002bfd3f08fa2b139", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/7526c8d0a5862f283d82839002bfd3f08fa2b139", "committedDate": "2020-08-07T19:35:53Z", "message": "gradle.user.home system property"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83365b25a557603ac410eb6c11df94ad49914e40", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/83365b25a557603ac410eb6c11df94ad49914e40", "committedDate": "2020-08-07T19:49:44Z", "message": "Reverted unnecessary change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7941ce5db5a75f0310e7ac1735e9728f1f72739", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/c7941ce5db5a75f0310e7ac1735e9728f1f72739", "committedDate": "2020-08-07T20:31:43Z", "message": "GRADLE_USER_HOME"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzNjU4NTc3", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1577#pullrequestreview-463658577", "createdAt": "2020-08-07T21:51:10Z", "commit": {"oid": "c7941ce5db5a75f0310e7ac1735e9728f1f72739"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QyMTo1MToxMVrOG9pgiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QyMTo1MToxMVrOG9pgiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI5NjM5Mg==", "bodyText": "GRADLE_USER_HOME\nSpecifies the Gradle user home directory (which defaults to $USER_HOME/.gradle if not set).\n\nhttps://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_environment_variables\nI assumed the default value should work fine. However, the default value uses a strange variable USER_HOME, which is undefined. (This is not HOME.)", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1577#discussion_r467296392", "createdAt": "2020-08-07T21:51:11Z", "author": {"login": "suztomo"}, "path": "gradle-plugin/kokoro/release.sh", "diffHunk": "@@ -4,13 +4,15 @@ set -o errexit\n set -o xtrace\n \n mkdir -p $HOME/.gradle\n-readonly HOME_GRADLE_PROPERTY=\"$HOME/.gradle/gradle.properties\"\n+export GRADLE_USER_HOME=\"$HOME/.gradle\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7941ce5db5a75f0310e7ac1735e9728f1f72739"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3510a1c354622e0af867ba2b53ae2d2830020433", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/3510a1c354622e0af867ba2b53ae2d2830020433", "committedDate": "2020-08-08T12:36:54Z", "message": "Merge branch 'master' into gradle_release_script_fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a96f84a5f206afbc58a6666ac5d61b62c741c244", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/a96f84a5f206afbc58a6666ac5d61b62c741c244", "committedDate": "2020-08-10T11:38:49Z", "message": "Merge branch 'master' into gradle_release_script_fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0MTU0OTQ4", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1577#pullrequestreview-464154948", "createdAt": "2020-08-10T11:39:07Z", "commit": {"oid": "a96f84a5f206afbc58a6666ac5d61b62c741c244"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1386, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}