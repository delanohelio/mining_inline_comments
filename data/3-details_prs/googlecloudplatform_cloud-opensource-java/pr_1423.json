{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0MTA1OTg5", "number": 1423, "title": "DependencyGraphResult only need one unresolved artifact problem per artifact", "bodyText": "Fixes #1422", "createdAt": "2020-05-27T20:48:14Z", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1423", "merged": true, "mergeCommit": {"oid": "0fb8ee7593659996912d0dc965369743f80613da"}, "closed": true, "closedAt": "2020-05-27T21:44:38Z", "author": {"login": "suztomo"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclfjv3gH2gAyNDI0MTA1OTg5OjAwM2JmM2U3YzNhNDk2ZmI2NzUzZTA5MjM1YmU5NzNlN2FiMjRiMDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclgAtYgFqTQxOTYxNjI2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "003bf3e7c3a496fb6753e09235be973e7ab24b09", "author": {"user": {"login": "suztomo", "name": "Tomo Suzuki"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/003bf3e7c3a496fb6753e09235be973e7ab24b09", "committedDate": "2020-05-27T20:47:23Z", "message": "Avoid duplicate calls"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NjE2MjYw", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1423#pullrequestreview-419616260", "createdAt": "2020-05-27T21:18:49Z", "commit": {"oid": "003bf3e7c3a496fb6753e09235be973e7ab24b09"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMToxODo0OVrOGbdhFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMToxODo0OVrOGbdhFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ0ODM0MQ==", "bodyText": "Good idea. It might make sense to create our own type for ArtifactProblems rather than an ImmutableSet. Then the checking as to whether we've already created one hides inside that class.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1423#discussion_r431448341", "createdAt": "2020-05-27T21:18:49Z", "author": {"login": "elharo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/DependencyGraphBuilder.java", "diffHunk": "@@ -192,11 +194,16 @@ private DependencyGraphResult buildDependencyGraph(\n     } catch (DependencyResolutionException ex) {\n       DependencyResult result = ex.getResult();\n       node = result.getRoot();\n+\n+      Set<Artifact> checkedArtifacts = new HashSet<>();\n       for (ArtifactResult artifactResult : result.getArtifactResults()) {\n         Artifact resolvedArtifact = artifactResult.getArtifact();\n+\n         if (resolvedArtifact == null) {\n           Artifact requestedArtifact = artifactResult.getRequest().getArtifact();\n-          artifactProblems.add(createUnresolvableArtifactProblem(node, requestedArtifact));\n+          if (checkedArtifacts.add(requestedArtifact)) {\n+            artifactProblems.add(createUnresolvableArtifactProblem(node, requestedArtifact));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "003bf3e7c3a496fb6753e09235be973e7ab24b09"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 422, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}