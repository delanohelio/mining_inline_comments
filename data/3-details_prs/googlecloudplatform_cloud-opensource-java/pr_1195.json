{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyNDM1NTgy", "number": 1195, "title": "remove extra class", "bodyText": "fixes #1194 @suztomo", "createdAt": "2020-02-07T14:22:10Z", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195", "merged": true, "mergeCommit": {"oid": "07da43aaba3806cf71171fe4d1d322070ac4043f"}, "closed": true, "closedAt": "2020-02-08T14:37:59Z", "author": {"login": "elharo"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcCAG9eAH2gAyMzcyNDM1NTgyOmViODA2ZTk3NDNiZjlkMTBlZmNkYjc2ODY4NWJlYmRhNTA0MGRmMTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcCUiWUgFqTM1NTU0OTQ5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "eb806e9743bf9d10efcdb768685bebda5040df11", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/eb806e9743bf9d10efcdb768685bebda5040df11", "committedDate": "2020-02-07T14:21:32Z", "message": "remove extra class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0bcc3b93b3a4fa905e604f9492e53df4f10f1a19", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/0bcc3b93b3a4fa905e604f9492e53df4f10f1a19", "committedDate": "2020-02-07T14:30:36Z", "message": "remove extra class"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MTk2Mjcx", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#pullrequestreview-355196271", "createdAt": "2020-02-07T14:34:19Z", "commit": {"oid": "0bcc3b93b3a4fa905e604f9492e53df4f10f1a19"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxNDozNDoyMFrOFm-62w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxNDozNDoyMFrOFm-62w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjQyMTA4Mw==", "bodyText": "path needs to include the unfound artifact; otherwise we cannot tell the scope / optional of the dependency.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376421083", "createdAt": "2020-02-07T14:34:20Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/UnresolvableArtifactProblem.java", "diffHunk": "@@ -41,6 +42,18 @@ public UnresolvableArtifactProblem(Artifact artifact) {\n   public UnresolvableArtifactProblem(List<DependencyNode> dependencyPath) {\n     super(dependencyPath.get(dependencyPath.size() - 1).getArtifact(), dependencyPath);\n   }\n+  \n+  /**\n+   * Problem when Maven cannot resolve the artifact at the leaf of {@code dependencyPath} in a\n+   * dependency tree.\n+   * \n+   * @param artifact dependency that can't be found\n+   * @param path to the unfound artifact, not including the unfound artifact", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bcc3b93b3a4fa905e604f9492e53df4f10f1a19"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52e1eb2f1f3c4d93db438c29357773feabfcdc1f", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/52e1eb2f1f3c4d93db438c29357773feabfcdc1f", "committedDate": "2020-02-07T15:37:07Z", "message": "fix javadoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1Mjc1NTYz", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#pullrequestreview-355275563", "createdAt": "2020-02-07T16:24:03Z", "commit": {"oid": "52e1eb2f1f3c4d93db438c29357773feabfcdc1f"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxNjoyNDowM1rOFnCpwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxNjoyNzo0N1rOFnCxQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjQ4MjI0MA==", "bodyText": "Why does this needs to be changed to Collection?\n\nAs we care about the order of the dependency path, List is appropriate.\nI see Stack implements List interface. https://docs.oracle.com/javase/8/docs/api/java/util/Stack.html.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376482240", "createdAt": "2020-02-07T16:24:03Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/ArtifactProblem.java", "diffHunk": "@@ -35,7 +35,7 @@\n \n   protected final ImmutableList<DependencyNode> dependencyPath;\n \n-  protected ArtifactProblem(Artifact artifact, List<DependencyNode> dependencyPath) {\n+  protected ArtifactProblem(Artifact artifact, Collection<DependencyNode> dependencyPath) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52e1eb2f1f3c4d93db438c29357773feabfcdc1f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjQ4Mzk3OQ==", "bodyText": "Memo: The parentNodes.push(dependencyNode) happens at line 327 (before this line). Therefore, the code should behave the same as the previous one.\nShall we rename the variable at the line 327?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376483979", "createdAt": "2020-02-07T16:27:26Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/DependencyGraphBuilder.java", "diffHunk": "@@ -340,16 +340,15 @@ private DependencyGraphResult levelOrder(\n                 resolutionException.getResult().getArtifactResults()) {\n               if (artifactResult.getArtifact() == null) {\n                 DependencyNode failedDependencyNode = artifactResult.getRequest().getDependencyNode();\n-                ExceptionAndPath failure =\n-                    ExceptionAndPath.create(parentNodes, failedDependencyNode, resolutionException);\n-                artifactProblems.add(new UnresolvableArtifactProblem(failure.getPath()));\n+                artifactProblems.add(\n+                    new UnresolvableArtifactProblem(failedDependencyNode.getArtifact(), parentNodes));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52e1eb2f1f3c4d93db438c29357773feabfcdc1f"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjQ4NDE2MQ==", "bodyText": "The parentNodes do not have the node being checked.\n\nThis was wrong.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376484161", "createdAt": "2020-02-07T16:27:47Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/UnresolvableArtifactProblem.java", "diffHunk": "@@ -41,6 +42,18 @@ public UnresolvableArtifactProblem(Artifact artifact) {\n   public UnresolvableArtifactProblem(List<DependencyNode> dependencyPath) {\n     super(dependencyPath.get(dependencyPath.size() - 1).getArtifact(), dependencyPath);\n   }\n+  \n+  /**\n+   * Problem when Maven cannot resolve the artifact at the leaf of {@code dependencyPath} in a\n+   * dependency tree.\n+   * \n+   * @param artifact dependency that can't be found\n+   * @param path to the unfound artifact, not including the unfound artifact", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjQyMTA4Mw=="}, "originalCommit": {"oid": "0bcc3b93b3a4fa905e604f9492e53df4f10f1a19"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1Mjc5MzQ0", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#pullrequestreview-355279344", "createdAt": "2020-02-07T16:29:22Z", "commit": {"oid": "52e1eb2f1f3c4d93db438c29357773feabfcdc1f"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxNjoyOToyMlrOFnC06w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxNjozMToxMlrOFnC4sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjQ4NTA5OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * @param path to the unfound artifact\n          \n          \n            \n               * @param path path to the unavailable artifact", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376485099", "createdAt": "2020-02-07T16:29:22Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/UnresolvableArtifactProblem.java", "diffHunk": "@@ -41,6 +42,18 @@ public UnresolvableArtifactProblem(Artifact artifact) {\n   public UnresolvableArtifactProblem(List<DependencyNode> dependencyPath) {\n     super(dependencyPath.get(dependencyPath.size() - 1).getArtifact(), dependencyPath);\n   }\n+  \n+  /**\n+   * Problem when Maven cannot resolve the artifact at the leaf of {@code dependencyPath} in a\n+   * dependency tree.\n+   * \n+   * @param artifact dependency that can't be found\n+   * @param path to the unfound artifact", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52e1eb2f1f3c4d93db438c29357773feabfcdc1f"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjQ4NTc4OQ==", "bodyText": "Because the artifact is held by the last element of path, you don't need the constructor.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376485789", "createdAt": "2020-02-07T16:30:41Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/UnresolvableArtifactProblem.java", "diffHunk": "@@ -41,6 +42,18 @@ public UnresolvableArtifactProblem(Artifact artifact) {\n   public UnresolvableArtifactProblem(List<DependencyNode> dependencyPath) {\n     super(dependencyPath.get(dependencyPath.size() - 1).getArtifact(), dependencyPath);\n   }\n+  \n+  /**\n+   * Problem when Maven cannot resolve the artifact at the leaf of {@code dependencyPath} in a\n+   * dependency tree.\n+   * \n+   * @param artifact dependency that can't be found\n+   * @param path to the unfound artifact", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjQ4NTA5OQ=="}, "originalCommit": {"oid": "52e1eb2f1f3c4d93db438c29357773feabfcdc1f"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjQ4NjA2Ng==", "bodyText": "Because the artifact is held by the last element of path, you don't need the constructor.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376486066", "createdAt": "2020-02-07T16:31:12Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/UnresolvableArtifactProblem.java", "diffHunk": "@@ -41,6 +42,18 @@ public UnresolvableArtifactProblem(Artifact artifact) {\n   public UnresolvableArtifactProblem(List<DependencyNode> dependencyPath) {\n     super(dependencyPath.get(dependencyPath.size() - 1).getArtifact(), dependencyPath);\n   }\n+  \n+  /**\n+   * Problem when Maven cannot resolve the artifact at the leaf of {@code dependencyPath} in a\n+   * dependency tree.\n+   * \n+   * @param artifact dependency that can't be found\n+   * @param path to the unfound artifact\n+   */\n+  public UnresolvableArtifactProblem(Artifact artifact, Collection<DependencyNode> path) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52e1eb2f1f3c4d93db438c29357773feabfcdc1f"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1123b3d99b35f81099552245be6542387595d094", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/1123b3d99b35f81099552245be6542387595d094", "committedDate": "2020-02-07T16:47:39Z", "message": "code review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1Mjk4Mzgx", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#pullrequestreview-355298381", "createdAt": "2020-02-07T16:58:00Z", "commit": {"oid": "1123b3d99b35f81099552245be6542387595d094"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MzA5MDc4", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#pullrequestreview-355309078", "createdAt": "2020-02-07T17:15:50Z", "commit": {"oid": "1123b3d99b35f81099552245be6542387595d094"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxNzoxNTo1MVrOFnEN8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxNzoxNTo1MVrOFnEN8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjUwNzg4OQ==", "bodyText": "Incorrect param name.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376507889", "createdAt": "2020-02-07T17:15:51Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/UnresolvableArtifactProblem.java", "diffHunk": "@@ -37,6 +37,8 @@ public UnresolvableArtifactProblem(Artifact artifact) {\n   /**\n    * Problem when Maven cannot resolve the artifact at the leaf of {@code dependencyPath} in a\n    * dependency tree.\n+   * \n+   * @param path to the unavailable artifact\n    */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1123b3d99b35f81099552245be6542387595d094"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c74a58c177026002f9d5170c1e6e9a0c05d33b30", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/c74a58c177026002f9d5170c1e6e9a0c05d33b30", "committedDate": "2020-02-07T17:35:37Z", "message": "rollbacl last commit which did not preserve behavior"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e3fbfc2a76fd5a9d898cdb34bcfce313909f971", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/1e3fbfc2a76fd5a9d898cdb34bcfce313909f971", "committedDate": "2020-02-07T17:36:30Z", "message": "Merge branch 'exp' of github.com:GoogleCloudPlatform/cloud-opensource-java into exp"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b44432e3cf803b14ecc177f49df858cdaaa7e01", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/9b44432e3cf803b14ecc177f49df858cdaaa7e01", "committedDate": "2020-02-07T18:37:22Z", "message": "Merge branch 'master' into exp"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a146640fa203a89cf68c8fbc227b7ea5c6db6028", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/a146640fa203a89cf68c8fbc227b7ea5c6db6028", "committedDate": "2020-02-07T18:52:31Z", "message": "fix test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MzY5MDEx", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#pullrequestreview-355369011", "createdAt": "2020-02-07T19:00:25Z", "commit": {"oid": "a146640fa203a89cf68c8fbc227b7ea5c6db6028"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxOTowMDoyNlrOFnHCrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxOTowMDoyNlrOFnHCrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjU1NDE1OQ==", "bodyText": "Memo:\nThis fails:", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376554159", "createdAt": "2020-02-07T19:00:26Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/DependencyGraphBuilder.java", "diffHunk": "@@ -339,8 +339,11 @@ private DependencyGraphResult levelOrder(\n             for (ArtifactResult artifactResult :\n                 resolutionException.getResult().getArtifactResults()) {\n               if (artifactResult.getArtifact() == null) {\n-                artifactProblems.add(new UnresolvableArtifactProblem(parentNodes));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a146640fa203a89cf68c8fbc227b7ea5c6db6028"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1Mzc2NTIx", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#pullrequestreview-355376521", "createdAt": "2020-02-07T19:13:28Z", "commit": {"oid": "a146640fa203a89cf68c8fbc227b7ea5c6db6028"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxOToxMzoyOVrOFnHZOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxOToxMzoyOVrOFnHZOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjU1OTkyOQ==", "bodyText": "parentDependencyNodes:\n  org.sonatype.sisu:sisu-guice:3.2.6 (compile)\n   / cglib:cglib:3.1 (provided, optional)\n   / ant:ant:1.6.2 (compile, optional)\n\ndependencyNode: xerces:xerces-impl:jar:2.6.2 (compile?)\n\ncreating\nparentDependencyNodes:\n  org.sonatype.sisu:sisu-guice:3.2.6 (compile)\n   / cglib:cglib:3.1 (provided, optional)\n   / ant:ant:1.6.2 (compile, optional) \n   / dependencyNode: xerces:xerces-impl:jar:2.6.2 (compile?)", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376559929", "createdAt": "2020-02-07T19:13:29Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/ExceptionAndPath.java", "diffHunk": "@@ -1,67 +0,0 @@\n-/*\n- * Copyright 2019 Google LLC.\n- *\n- * Licensed under the Apache License, Version 2.0 (the \"License\");\n- * you may not use this file except in compliance with the License.\n- * You may obtain a copy of the License at\n- *\n- *     http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing, software\n- * distributed under the License is distributed on an \"AS IS\" BASIS,\n- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- * See the License for the specific language governing permissions and\n- * limitations under the License.\n- */\n-\n-package com.google.cloud.tools.opensource.dependencies;\n-\n-import static com.google.common.base.Preconditions.checkNotNull;\n-\n-import com.google.common.annotations.VisibleForTesting;\n-import com.google.common.collect.ImmutableList;\n-import org.eclipse.aether.RepositoryException;\n-import org.eclipse.aether.graph.DependencyNode;\n-\n-/**\n- * Tuple of a path in a Maven dependency graph and a {@link RepositoryException}, indicating that\n- * the {@link DependencyNode} specified at the path raises the exception.\n- */\n-public final class ExceptionAndPath {\n-\n-  private final ImmutableList<DependencyNode> path;\n-\n-  private final RepositoryException exception;\n-\n-  /** Returns a path from the root of dependency graph to a dependency node. */\n-  public ImmutableList<DependencyNode> getPath() {\n-    return path;\n-  }\n-\n-  /** Returns the exception raised at the {@link DependencyNode} specified at the path. */\n-  RepositoryException getException() {\n-    return exception;\n-  }\n-\n-  @VisibleForTesting\n-  ExceptionAndPath(ImmutableList<DependencyNode> path, RepositoryException exception) {\n-    this.path = checkNotNull(path);\n-    this.exception = checkNotNull(exception);\n-  }\n-\n-  static ExceptionAndPath create(\n-      Iterable<DependencyNode> parentDependencyNodes,\n-      DependencyNode dependencyNode,\n-      RepositoryException repositoryException) {\n-    return new ExceptionAndPath(\n-        ImmutableList.<DependencyNode>builder()\n-            .addAll(parentDependencyNodes)\n-            .add(dependencyNode)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a146640fa203a89cf68c8fbc227b7ea5c6db6028"}, "originalPosition": 59}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MzgxOTIw", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#pullrequestreview-355381920", "createdAt": "2020-02-07T19:22:47Z", "commit": {"oid": "a146640fa203a89cf68c8fbc227b7ea5c6db6028"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxOToyMjo0N1rOFnHpgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxOToyMjo0N1rOFnHpgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjU2NDA5OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    failedDependencyNode.getArtifact(), parentNodes));\n          \n          \n            \n                                    ImmutableList.builder().addAll(parentNodes).add(failedDependencyNode).build()));\n          \n      \n    \n    \n  \n\nIn ClassPathBuilderTest.testResolve_artifactProblems failure, the last element of parentNodes does not match failedDependencyNode.getArtifact(), because \"ant:1.6.2\" is not the missing artifact.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376564099", "createdAt": "2020-02-07T19:22:47Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/DependencyGraphBuilder.java", "diffHunk": "@@ -339,17 +339,15 @@ private DependencyGraphResult levelOrder(\n             for (ArtifactResult artifactResult :\n                 resolutionException.getResult().getArtifactResults()) {\n               if (artifactResult.getArtifact() == null) {\n-                DependencyNode failedDependencyNode = artifactResult.getRequest().getDependencyNode();\n-                ExceptionAndPath failure =\n-                    ExceptionAndPath.create(parentNodes, failedDependencyNode, resolutionException);\n-                artifactProblems.add(new UnresolvableArtifactProblem(failure.getPath()));\n+                DependencyNode failedDependencyNode =\n+                    artifactResult.getRequest().getDependencyNode();\n+                artifactProblems.add(\n+                    new UnresolvableArtifactProblem(\n+                        failedDependencyNode.getArtifact(), parentNodes));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a146640fa203a89cf68c8fbc227b7ea5c6db6028"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a896605ece1d21c30e39932e0723edcedbaec14a", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/a896605ece1d21c30e39932e0723edcedbaec14a", "committedDate": "2020-02-07T19:40:42Z", "message": "fix javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "377b8e8d8be33c96539e8e2a36183392ac604f46", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/377b8e8d8be33c96539e8e2a36183392ac604f46", "committedDate": "2020-02-07T20:09:44Z", "message": "fix javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "973acfb6f3c8243fd69785d81127c9a705b6b838", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/973acfb6f3c8243fd69785d81127c9a705b6b838", "committedDate": "2020-02-07T21:22:51Z", "message": "Merge branch 'master' into exp"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "690fb66060a5559e66b6fa867059e71e64d27d02", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/690fb66060a5559e66b6fa867059e71e64d27d02", "committedDate": "2020-02-07T21:36:26Z", "message": "merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7e0ff27cbe1101ae4be772bdd410fd2fa327840", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/c7e0ff27cbe1101ae4be772bdd410fd2fa327840", "committedDate": "2020-02-07T21:50:36Z", "message": "append failed node to path"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NDgwNzM0", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#pullrequestreview-355480734", "createdAt": "2020-02-07T22:44:31Z", "commit": {"oid": "c7e0ff27cbe1101ae4be772bdd410fd2fa327840"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QyMjo0NDozMVrOFnMakA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QyMjo0NDozMVrOFnMakA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY0MjE5Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                new UnresolvableArtifactProblem(\n          \n          \n            \n                                new UnresolvableArtifactProblem(fullPath)\n          \n      \n    \n    \n  \n\nThen the new constructor is not needed.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376642192", "createdAt": "2020-02-07T22:44:31Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/DependencyGraphBuilder.java", "diffHunk": "@@ -339,20 +339,22 @@ private DependencyGraphResult levelOrder(\n             for (ArtifactResult artifactResult :\n                 resolutionException.getResult().getArtifactResults()) {\n               if (artifactResult.getArtifact() == null) {\n-                DependencyNode failedDependencyNode = artifactResult.getRequest().getDependencyNode();\n-                ExceptionAndPath failure =\n-                    ExceptionAndPath.create(parentNodes, failedDependencyNode, resolutionException);\n-                artifactProblems.add(new UnresolvableArtifactProblem(failure.getPath()));\n+                DependencyNode failedDependencyNode =\n+                    artifactResult.getRequest().getDependencyNode();\n+                \n+                List<DependencyNode> fullPath = makeFullPath(parentNodes, failedDependencyNode);\n+                \n+                artifactProblems.add(\n+                    new UnresolvableArtifactProblem(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7e0ff27cbe1101ae4be772bdd410fd2fa327840"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NDgxMTkx", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#pullrequestreview-355481191", "createdAt": "2020-02-07T22:45:44Z", "commit": {"oid": "c7e0ff27cbe1101ae4be772bdd410fd2fa327840"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QyMjo0NTo0NFrOFnMcFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QyMjo0NTo0NFrOFnMcFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY0MjU4MQ==", "bodyText": "Why is it being removed?", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376642581", "createdAt": "2020-02-07T22:45:44Z", "author": {"login": "suztomo"}, "path": "dependencies/src/test/java/com/google/cloud/tools/opensource/dependencies/DependencyGraphBuilderTest.java", "diffHunk": "@@ -201,8 +201,6 @@ public void testGetStaticLinkageCheckDependencyGraph_artifactProblems()\n     assertEquals(\"xerces:xerces-impl:jar:2.6.2\", firstProblem.getArtifact().toString());\n \n     assertEquals(\n-        \"The problem should explain the dependency path to the unavailable artifact, \"\n-            + \"including scope and optional flag\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7e0ff27cbe1101ae4be772bdd410fd2fa327840"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NDg3MTU3", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#pullrequestreview-355487157", "createdAt": "2020-02-07T23:02:08Z", "commit": {"oid": "c7e0ff27cbe1101ae4be772bdd410fd2fa327840"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "929e3753eef1351559cc72a92622874d8f23f69f", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/929e3753eef1351559cc72a92622874d8f23f69f", "committedDate": "2020-02-07T23:31:34Z", "message": "remove constructor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NTI3MDY4", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#pullrequestreview-355527068", "createdAt": "2020-02-08T03:32:30Z", "commit": {"oid": "929e3753eef1351559cc72a92622874d8f23f69f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOFQwMzozMjozMVrOFnO8zQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOFQwMzozMjozMVrOFnO8zQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY4MzcyNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    failedDependencyNode.getArtifact(), fullPath));\n          \n          \n            \n                                    fullPath));", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376683725", "createdAt": "2020-02-08T03:32:31Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/DependencyGraphBuilder.java", "diffHunk": "@@ -339,20 +339,22 @@ private DependencyGraphResult levelOrder(\n             for (ArtifactResult artifactResult :\n                 resolutionException.getResult().getArtifactResults()) {\n               if (artifactResult.getArtifact() == null) {\n-                DependencyNode failedDependencyNode = artifactResult.getRequest().getDependencyNode();\n-                ExceptionAndPath failure =\n-                    ExceptionAndPath.create(parentNodes, failedDependencyNode, resolutionException);\n-                artifactProblems.add(new UnresolvableArtifactProblem(failure.getPath()));\n+                DependencyNode failedDependencyNode =\n+                    artifactResult.getRequest().getDependencyNode();\n+                \n+                List<DependencyNode> fullPath = makeFullPath(parentNodes, failedDependencyNode);\n+                \n+                artifactProblems.add(\n+                    new UnresolvableArtifactProblem(\n+                        failedDependencyNode.getArtifact(), fullPath));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "929e3753eef1351559cc72a92622874d8f23f69f"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d956c6c59b8bca45f72c919f819cdb889656a11", "author": {"user": {"login": "elharo", "name": "Elliotte Rusty Harold"}}, "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/commit/5d956c6c59b8bca45f72c919f819cdb889656a11", "committedDate": "2020-02-08T12:07:39Z", "message": "remove constructor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NTQ5NDEw", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#pullrequestreview-355549410", "createdAt": "2020-02-08T14:07:47Z", "commit": {"oid": "5d956c6c59b8bca45f72c919f819cdb889656a11"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NTQ5NDk5", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#pullrequestreview-355549499", "createdAt": "2020-02-08T14:09:32Z", "commit": {"oid": "5d956c6c59b8bca45f72c919f819cdb889656a11"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOFQxNDowOTozM1rOFnQrrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOFQxNDowOTozM1rOFnQrrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjcxMjExMQ==", "bodyText": "This non-public constructor allows artifact problems in which we don\u2019t know dependencyPath.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1195#discussion_r376712111", "createdAt": "2020-02-08T14:09:33Z", "author": {"login": "suztomo"}, "path": "dependencies/src/main/java/com/google/cloud/tools/opensource/dependencies/ArtifactProblem.java", "diffHunk": "@@ -35,6 +35,8 @@\n \n   protected final ImmutableList<DependencyNode> dependencyPath;\n \n+  // todo since the artifact is the last element in the list, there's really no\n+  // reason to pass the artifact here. \n   protected ArtifactProblem(Artifact artifact, List<DependencyNode> dependencyPath) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d956c6c59b8bca45f72c919f819cdb889656a11"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 455, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}