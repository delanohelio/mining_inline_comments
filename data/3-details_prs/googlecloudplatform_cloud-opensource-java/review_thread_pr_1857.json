{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMxODcyNjQx", "number": 1857, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNjoxMDo1OVrOFAVWIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNjoxMTo1N1rOFAVYWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1ODk0MDUwOnYy", "diffSide": "RIGHT", "path": "enforcer-rules/src/test/java/com/google/cloud/tools/dependencies/enforcer/LinkageCheckerRuleTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNjoxMDo1OVrOH-kfug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNjoxNDoyNVrOH-kq3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3MTcwNg==", "bodyText": "error --> errors", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1857#discussion_r535371706", "createdAt": "2020-12-03T16:10:59Z", "author": {"login": "elharo"}, "path": "enforcer-rules/src/test/java/com/google/cloud/tools/dependencies/enforcer/LinkageCheckerRuleTest.java", "diffHunk": "@@ -234,7 +234,14 @@ public void testExecute_shouldFailForBadProject() throws RepositoryException {\n       verify(mockLog, times(1)).error(errorMessageCaptor.capture());\n \n       String errorMessage = errorMessageCaptor.getValue();\n-      Truth.assertThat(errorMessage).startsWith(\"Linkage Checker rule found 112 errors:\");\n+\n+      // Java 11 removed javax.activation package. Therefore the number of expected error differs", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2817c7c67b715efe4402c4a6fc67f43ab8b73557"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3NDU1Ng==", "bodyText": "Fixed. (this and other 2 places)", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1857#discussion_r535374556", "createdAt": "2020-12-03T16:14:25Z", "author": {"login": "suztomo"}, "path": "enforcer-rules/src/test/java/com/google/cloud/tools/dependencies/enforcer/LinkageCheckerRuleTest.java", "diffHunk": "@@ -234,7 +234,14 @@ public void testExecute_shouldFailForBadProject() throws RepositoryException {\n       verify(mockLog, times(1)).error(errorMessageCaptor.capture());\n \n       String errorMessage = errorMessageCaptor.getValue();\n-      Truth.assertThat(errorMessage).startsWith(\"Linkage Checker rule found 112 errors:\");\n+\n+      // Java 11 removed javax.activation package. Therefore the number of expected error differs", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3MTcwNg=="}, "originalCommit": {"oid": "2817c7c67b715efe4402c4a6fc67f43ab8b73557"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1ODk0NjE5OnYy", "diffSide": "RIGHT", "path": "enforcer-rules/src/test/java/com/google/cloud/tools/dependencies/enforcer/LinkageCheckerRuleTest.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNjoxMTo1N1rOH-ki9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNjoxNzo1MVrOH-k1Zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3MjUzMw==", "bodyText": "Java 1.7 is likely more like 112 than 117 but it could be something different entirely.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1857#discussion_r535372533", "createdAt": "2020-12-03T16:11:57Z", "author": {"login": "elharo"}, "path": "enforcer-rules/src/test/java/com/google/cloud/tools/dependencies/enforcer/LinkageCheckerRuleTest.java", "diffHunk": "@@ -234,7 +234,14 @@ public void testExecute_shouldFailForBadProject() throws RepositoryException {\n       verify(mockLog, times(1)).error(errorMessageCaptor.capture());\n \n       String errorMessage = errorMessageCaptor.getValue();\n-      Truth.assertThat(errorMessage).startsWith(\"Linkage Checker rule found 112 errors:\");\n+\n+      // Java 11 removed javax.activation package. Therefore the number of expected error differs\n+      // between Java 8 and Java 11.\n+      // https://github.com/GoogleCloudPlatform/cloud-opensource-java/issues/1856\n+      int expectedErrorCount = System.getProperty(\"java.version\").startsWith(\"1.8.\") ? 112 : 117;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2817c7c67b715efe4402c4a6fc67f43ab8b73557"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3NDU5Mg==", "bodyText": "This repository does not support Java 7.\nhttps://github.com/GoogleCloudPlatform/cloud-opensource-java#requirements\nWriting this comment, I noticed we don't limit the JDKs to LTS...", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1857#discussion_r535374592", "createdAt": "2020-12-03T16:14:27Z", "author": {"login": "suztomo"}, "path": "enforcer-rules/src/test/java/com/google/cloud/tools/dependencies/enforcer/LinkageCheckerRuleTest.java", "diffHunk": "@@ -234,7 +234,14 @@ public void testExecute_shouldFailForBadProject() throws RepositoryException {\n       verify(mockLog, times(1)).error(errorMessageCaptor.capture());\n \n       String errorMessage = errorMessageCaptor.getValue();\n-      Truth.assertThat(errorMessage).startsWith(\"Linkage Checker rule found 112 errors:\");\n+\n+      // Java 11 removed javax.activation package. Therefore the number of expected error differs\n+      // between Java 8 and Java 11.\n+      // https://github.com/GoogleCloudPlatform/cloud-opensource-java/issues/1856\n+      int expectedErrorCount = System.getProperty(\"java.version\").startsWith(\"1.8.\") ? 112 : 117;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3MjUzMw=="}, "originalCommit": {"oid": "2817c7c67b715efe4402c4a6fc67f43ab8b73557"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3NzI1NQ==", "bodyText": "Followup: #1859\nWe have documented this repository works with Java 8.", "url": "https://github.com/GoogleCloudPlatform/cloud-opensource-java/pull/1857#discussion_r535377255", "createdAt": "2020-12-03T16:17:51Z", "author": {"login": "suztomo"}, "path": "enforcer-rules/src/test/java/com/google/cloud/tools/dependencies/enforcer/LinkageCheckerRuleTest.java", "diffHunk": "@@ -234,7 +234,14 @@ public void testExecute_shouldFailForBadProject() throws RepositoryException {\n       verify(mockLog, times(1)).error(errorMessageCaptor.capture());\n \n       String errorMessage = errorMessageCaptor.getValue();\n-      Truth.assertThat(errorMessage).startsWith(\"Linkage Checker rule found 112 errors:\");\n+\n+      // Java 11 removed javax.activation package. Therefore the number of expected error differs\n+      // between Java 8 and Java 11.\n+      // https://github.com/GoogleCloudPlatform/cloud-opensource-java/issues/1856\n+      int expectedErrorCount = System.getProperty(\"java.version\").startsWith(\"1.8.\") ? 112 : 117;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM3MjUzMw=="}, "originalCommit": {"oid": "2817c7c67b715efe4402c4a6fc67f43ab8b73557"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2427, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}