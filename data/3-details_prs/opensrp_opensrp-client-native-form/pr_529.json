{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMxNTc3OTI2", "number": 529, "title": "Add project level support for MLS", "bodyText": "This need be call once in project to set the config for MLS.\nNativeFormLibrary.getInstance().setPerformFormsTranslation(true);\nPERFORM_FORM_TRANSLATION can be passed as false when no MLS needed for that specific form.\nintent.putExtra(PERFORM_FORM_TRANSLATION, false);", "createdAt": "2020-12-03T07:43:14Z", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529", "merged": true, "mergeCommit": {"oid": "847989a764838ced571f27de2064a7b7c301916b"}, "closed": true, "closedAt": "2020-12-07T09:02:25Z", "author": {"login": "zzainulabidin"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdieNdlgH2gAyNTMxNTc3OTI2OjUxNmM5ZjJkZjY1NmQwNTcwZDAzYTU2YWNkNjE2MmRmZDA2YjAxOTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdjxtRfgFqTU0NTk0MzIyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "516c9f2df656d0570d03a56acd6162dfd06b0198", "author": {"user": {"login": "zzainulabidin", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/516c9f2df656d0570d03a56acd6162dfd06b0198", "committedDate": "2020-12-03T07:42:31Z", "message": "Add project level support for mls"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd41e784a2bfead7aa85d42c023d0c3dd0fbd9a9", "author": {"user": {"login": "zzainulabidin", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/dd41e784a2bfead7aa85d42c023d0c3dd0fbd9a9", "committedDate": "2020-12-03T09:36:27Z", "message": "Update NativeFormLibrary.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f11289359d933c6ad2ec5f302f67b137d74b540f", "author": {"user": {"login": "zzainulabidin", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/f11289359d933c6ad2ec5f302f67b137d74b540f", "committedDate": "2020-12-03T09:49:57Z", "message": "Add unit tests for NativeFormLibrary class"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzOTI2MzQ5", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#pullrequestreview-543926349", "createdAt": "2020-12-03T12:58:37Z", "commit": {"oid": "f11289359d933c6ad2ec5f302f67b137d74b540f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjo1ODozN1rOH-aZhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjo1ODozN1rOH-aZhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTIwNjI3Nw==", "bodyText": "this shouldn't be static", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#discussion_r535206277", "createdAt": "2020-12-03T12:58:37Z", "author": {"login": "githengi"}, "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/NativeFormLibrary.java", "diffHunk": "@@ -12,6 +12,7 @@\n \n     private ClientFormContract.Dao clientFormDao;\n     private static NativeFormLibrary instance;\n+    private static boolean performFormsTranslation = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f11289359d933c6ad2ec5f302f67b137d74b540f"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzOTI3NDc2", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#pullrequestreview-543927476", "createdAt": "2020-12-03T13:00:06Z", "commit": {"oid": "f11289359d933c6ad2ec5f302f67b137d74b540f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMzowMDowN1rOH-adSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMzowMDowN1rOH-adSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTIwNzI0MA==", "bodyText": "the check for  activityIntent == null has been removed, is that intentional?", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#discussion_r535207240", "createdAt": "2020-12-03T13:00:07Z", "author": {"login": "githengi"}, "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/customviews/GenericPopupDialog.java", "diffHunk": "@@ -90,8 +91,9 @@ public void onCreate(Bundle savedInstanceState) {\n \n         // support translation of sub-forms\n         Intent activityIntent = getActivity().getIntent();\n-        translateSubForm =  activityIntent == null ? translateSubForm\n-                : activityIntent.getBooleanExtra(JsonFormConstants.PERFORM_FORM_TRANSLATION, false);\n+        translateSubForm = activityIntent.hasExtra(JsonFormConstants.PERFORM_FORM_TRANSLATION) ?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f11289359d933c6ad2ec5f302f67b137d74b540f"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzOTQwMjcz", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#pullrequestreview-543940273", "createdAt": "2020-12-03T13:15:53Z", "commit": {"oid": "f11289359d933c6ad2ec5f302f67b137d74b540f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMzoxNTo1M1rOH-bDdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMzoxNTo1M1rOH-bDdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTIxNzAxMg==", "bodyText": "This can be simplified to getIntent().getBooleanExtra(JsonFormConstants.PERFORM_FORM_TRANSLATION, false) || NativeFormLibrary.getInstance().isPerformFormsTranslation();", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#discussion_r535217012", "createdAt": "2020-12-03T13:15:53Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormBaseActivity.java", "diffHunk": "@@ -90,7 +91,10 @@ protected void onCreate(Bundle savedInstanceState) {\n         onActivityRequestPermissionResultListeners = new HashMap<>();\n         lifeCycleListeners = new ArrayList<>();\n         isFormFragmentInitialized = false;\n-        translateForm = getIntent().getBooleanExtra(JsonFormConstants.PERFORM_FORM_TRANSLATION, false);\n+        translateForm = getIntent().hasExtra(JsonFormConstants.PERFORM_FORM_TRANSLATION) ?\n+                getIntent().getBooleanExtra(JsonFormConstants.PERFORM_FORM_TRANSLATION, false) :\n+                NativeFormLibrary.getInstance().isPerformFormsTranslation();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f11289359d933c6ad2ec5f302f67b137d74b540f"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzOTQ0MzQy", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#pullrequestreview-543944342", "createdAt": "2020-12-03T13:20:06Z", "commit": {"oid": "f11289359d933c6ad2ec5f302f67b137d74b540f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMzoyMDowNlrOH-bOZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMzoyMDowNlrOH-bOZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTIxOTgxNQ==", "bodyText": "Could you add assertions to verify that a sample form is actually translated when the value is set to true and that it is left untranslated when the value is false?", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#discussion_r535219815", "createdAt": "2020-12-03T13:20:06Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/test/java/com/vijay/jsonwizard/utils/NativeFormLangUtilsTest.java", "diffHunk": "@@ -118,4 +119,12 @@ public void testResourceBundleWithPropertiesFromDbIsEmptyWhenClientFormDoesntExi\n         ResourceBundle mlsResourceBundle = NativeFormLangUtils.getResourceBundleFromRepository(RuntimeEnvironment.application, interpolatedJsonForm);\n         assertFalse(mlsResourceBundle.getKeys().hasMoreElements());\n     }\n+\n+    @Test\n+    public void testPerformFormsTranslationShouldReturnCorrectValue() {\n+        NativeFormLibrary.getInstance().setPerformFormsTranslation(true);\n+        assertTrue(NativeFormLibrary.getInstance().isPerformFormsTranslation());\n+        NativeFormLibrary.getInstance().setPerformFormsTranslation(false);\n+        assertFalse(NativeFormLibrary.getInstance().isPerformFormsTranslation());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f11289359d933c6ad2ec5f302f67b137d74b540f"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzOTQ1NTcx", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#pullrequestreview-543945571", "createdAt": "2020-12-03T13:21:38Z", "commit": {"oid": "f11289359d933c6ad2ec5f302f67b137d74b540f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0a84e61f5f1f6ce74d72597f95dcb0466800bdf", "author": {"user": {"login": "zzainulabidin", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e0a84e61f5f1f6ce74d72597f95dcb0466800bdf", "committedDate": "2020-12-04T09:58:34Z", "message": "Improvements for global config mls integration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2c17fa74f9c21924a2598f1eddb7be2edef1f03", "author": {"user": {"login": "zzainulabidin", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a2c17fa74f9c21924a2598f1eddb7be2edef1f03", "committedDate": "2020-12-04T09:59:35Z", "message": "Add test cases for mls global config translation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a9f24d36d8b4034c17adf46e1fc0bd359a91b06", "author": {"user": {"login": "zzainulabidin", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/9a9f24d36d8b4034c17adf46e1fc0bd359a91b06", "committedDate": "2020-12-04T10:00:28Z", "message": "Update build.gradle to resolve import error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODgyNzc0", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#pullrequestreview-544882774", "createdAt": "2020-12-04T11:36:52Z", "commit": {"oid": "9a9f24d36d8b4034c17adf46e1fc0bd359a91b06"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMTozNjo1MlrOH_NFAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMTozNjo1MlrOH_NFAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjAzNjYxMA==", "bodyText": "This test is not too relevant now, it can be removed.", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#discussion_r536036610", "createdAt": "2020-12-04T11:36:52Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/test/java/com/vijay/jsonwizard/utils/NativeFormLangUtilsTest.java", "diffHunk": "@@ -118,4 +120,12 @@ public void testResourceBundleWithPropertiesFromDbIsEmptyWhenClientFormDoesntExi\n         ResourceBundle mlsResourceBundle = NativeFormLangUtils.getResourceBundleFromRepository(RuntimeEnvironment.application, interpolatedJsonForm);\n         assertFalse(mlsResourceBundle.getKeys().hasMoreElements());\n     }\n+\n+    @Test\n+    public void testPerformFormsTranslationShouldReturnCorrectValue() {\n+        NativeFormLibrary.getInstance().setPerformFormTranslation(true);\n+        assertTrue(NativeFormLibrary.getInstance().isPerformFormTranslation());\n+        NativeFormLibrary.getInstance().setPerformFormTranslation(false);\n+        assertFalse(NativeFormLibrary.getInstance().isPerformFormTranslation());\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a9f24d36d8b4034c17adf46e1fc0bd359a91b06"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e52fc0daed74d78f8ef2b82be54472ce17f35b7c", "author": {"user": {"login": "zzainulabidin", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e52fc0daed74d78f8ef2b82be54472ce17f35b7c", "committedDate": "2020-12-04T13:14:11Z", "message": "Unit tests added for mls global config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e44575861eb92f48ca48ae6740c9a613bf6c44d5", "author": {"user": {"login": "zzainulabidin", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e44575861eb92f48ca48ae6740c9a613bf6c44d5", "committedDate": "2020-12-04T13:15:58Z", "message": "Remove un-used imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0OTUyNDI3", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#pullrequestreview-544952427", "createdAt": "2020-12-04T13:21:12Z", "commit": {"oid": "e44575861eb92f48ca48ae6740c9a613bf6c44d5"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMzoyMToxM1rOH_QoYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMzoyMToxM1rOH_QoYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjA5NDgxOQ==", "bodyText": "Please update this to the correct naming pattern. i.e 1.14.7.1-SNAPSHOT", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#discussion_r536094819", "createdAt": "2020-12-04T13:21:13Z", "author": {"login": "dubdabasoduba"}, "path": "gradle.properties", "diffHunk": "@@ -1,4 +1,4 @@\n-VERSION_NAME=1.14.7.0-SNAPSHOT\n+VERSION_NAME=1.14.7.1-SNAPSHOT-FORMS-TRANSLATIONS", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e44575861eb92f48ca48ae6740c9a613bf6c44d5"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0OTUzMjIw", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#pullrequestreview-544953220", "createdAt": "2020-12-04T13:22:19Z", "commit": {"oid": "e44575861eb92f48ca48ae6740c9a613bf6c44d5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a61af90a6f3c41fe0944a4ccf747965bc3993d7", "author": {"user": {"login": "zzainulabidin", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/8a61af90a6f3c41fe0944a4ccf747965bc3993d7", "committedDate": "2020-12-04T13:29:09Z", "message": "Update gradle.properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18b111478fc2f5a64f3eb09727db1dc5cd8e58fd", "author": {"user": {"login": "zzainulabidin", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/18b111478fc2f5a64f3eb09727db1dc5cd8e58fd", "committedDate": "2020-12-04T13:36:46Z", "message": "Remove un-used import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ca88da2859f7a213084cb568de52938ea8fcb3e", "author": {"user": {"login": "zzainulabidin", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/1ca88da2859f7a213084cb568de52938ea8fcb3e", "committedDate": "2020-12-04T13:45:10Z", "message": "Remove used import from JsonFormActivityTest.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1MDExMDQ4", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#pullrequestreview-545011048", "createdAt": "2020-12-04T14:34:56Z", "commit": {"oid": "1ca88da2859f7a213084cb568de52938ea8fcb3e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxNDozNDo1N1rOH_TibA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxNDozNDo1N1rOH_TibA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjE0MjQ0NA==", "bodyText": "Is this in use?", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#discussion_r536142444", "createdAt": "2020-12-04T14:34:57Z", "author": {"login": "vincent-karuri"}, "path": "form_tester/build.gradle", "diffHunk": "@@ -61,4 +61,5 @@ dependencies {\n     implementation 'com.android.support:support-v4:28.0.0'\n     implementation 'com.android.support:recyclerview-v7:28.0.0'\n     implementation 'com.google.code.gson:gson:2.8.6'\n+    implementation 'org.smartregister:opensrp-client-utils:0.0.4-SNAPSHOT'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ca88da2859f7a213084cb568de52938ea8fcb3e"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1MDExMDgx", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#pullrequestreview-545011081", "createdAt": "2020-12-04T14:34:58Z", "commit": {"oid": "1ca88da2859f7a213084cb568de52938ea8fcb3e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec0780a24be6cbfcb51938e67dee45034ac007bf", "author": {"user": {"login": "zzainulabidin", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ec0780a24be6cbfcb51938e67dee45034ac007bf", "committedDate": "2020-12-07T06:59:01Z", "message": "Merge branch 'master' into Add-project-level-support-for-mls"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1OTQzMjI1", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/529#pullrequestreview-545943225", "createdAt": "2020-12-07T08:59:23Z", "commit": {"oid": "ec0780a24be6cbfcb51938e67dee45034ac007bf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2349, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}