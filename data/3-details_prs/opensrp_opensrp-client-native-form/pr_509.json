{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0NTgxMDc5", "number": 509, "title": "Added implementation to make the onFocusChange listener as optional", "bodyText": "Added implementation to make the onFocusChange and auto expanding on repeating group as optional", "createdAt": "2020-11-03T08:52:43Z", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509", "merged": true, "mergeCommit": {"oid": "f2eeaed35a87456d730b25a4d7bfa1ac5066b057"}, "closed": true, "closedAt": "2020-11-16T09:31:39Z", "author": {"login": "qaziabubakar-vd"}, "timelineItems": {"totalCount": 24, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdY1NiDAH2gAyNTE0NTgxMDc5OmU1Y2RjMzM2MmM0ZTRhNmE2NjRkYjFhYjY0YmFiOWJiOGVkNTFhZTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddBdOeAFqTUzMTE0MTI2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e5cdc3362c4e4a6a664db1ab64bab9bb8ed51ae4", "author": {"user": {"login": "qaziabubakar", "name": "Qazi Abubakar"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e5cdc3362c4e4a6a664db1ab64bab9bb8ed51ae4", "committedDate": "2020-11-03T08:51:10Z", "message": "Added implementation to make the onFocusChange and auto expanding on repeating group as optional"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyNDI5NjQ5", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#pullrequestreview-522429649", "createdAt": "2020-11-03T12:03:22Z", "commit": {"oid": "e5cdc3362c4e4a6a664db1ab64bab9bb8ed51ae4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyNDMxNzc3", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#pullrequestreview-522431777", "createdAt": "2020-11-03T12:06:37Z", "commit": {"oid": "e5cdc3362c4e4a6a664db1ab64bab9bb8ed51ae4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMjowNjozN1rOHsr5BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMjowNjozN1rOHsr5BA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjYxODUwMA==", "bodyText": "Could we use underscores instead of camelCase for the field? That is more consistent with other fields in native form widgets.", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#discussion_r516618500", "createdAt": "2020-11-03T12:06:37Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/constants/JsonFormConstants.java", "diffHunk": "@@ -143,6 +143,7 @@\n     public static final String MIN_DATE = \"min_date\";\n     public static final String MAX_DATE = \"max_date\";\n     public static final String EXPANDED = \"expanded\";\n+    public static final String EXPAND_ON_TEXT_CHANGE = \"expandOnTextChange\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5cdc3362c4e4a6a664db1ab64bab9bb8ed51ae4"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyNDMzMTQ4", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#pullrequestreview-522433148", "createdAt": "2020-11-03T12:08:40Z", "commit": {"oid": "e5cdc3362c4e4a6a664db1ab64bab9bb8ed51ae4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMjowODo0MFrOHsr9Aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMjowODo0MFrOHsr9Aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjYxOTUyMw==", "bodyText": "You can always get the jsonObject from widgetArgs so no need to have an extra variable.", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#discussion_r516619523", "createdAt": "2020-11-03T12:08:40Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "diffHunk": "@@ -102,13 +100,16 @@\n         final String referenceEditTextHint = jsonObject.optString(REFERENCE_EDIT_TEXT_HINT, context.getString(R.string.enter_number_of_repeating_group_items));\n         final String repeatingGroupLabel = jsonObject.optString(REPEATING_GROUP_LABEL, context.getString(R.string.repeating_group_item));\n         String remoteReferenceEditText = jsonObject.optString(REFERENCE_EDIT_TEXT);\n-\n+        boolean expandOnTextChange = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5cdc3362c4e4a6a664db1ab64bab9bb8ed51ae4"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "069a9900d5ed9db3601db1679043629eb1949e0e", "author": {"user": {"login": "qaziabubakar", "name": "Qazi Abubakar"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/069a9900d5ed9db3601db1679043629eb1949e0e", "committedDate": "2020-11-03T14:22:13Z", "message": "Removed onFocusChanged listener\nAttached repeating group on afterTextChanged if \"expand_on_text_change\" is set to true in an implementation\nMinor Ux fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzMTA1NTU1", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#pullrequestreview-523105555", "createdAt": "2020-11-04T07:44:07Z", "commit": {"oid": "069a9900d5ed9db3601db1679043629eb1949e0e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzo0NDowOFrOHtMNmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzo0NDowOFrOHtMNmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE0ODA1Nw==", "bodyText": "We can simplify to optBoolean(JsonFormConstants.EXPAND_ON_TEXT_CHANGE) instead of optBoolean(JsonFormConstants.EXPAND_ON_TEXT_CHANGE, false)).", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#discussion_r517148057", "createdAt": "2020-11-04T07:44:08Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "diffHunk": "@@ -338,7 +335,8 @@ public void onTextChanged(CharSequence s, int start, int before, int count) {\n             @Override\n             public void afterTextChanged(Editable s) {\n                 doneButton.setImageResource(R.drawable.ic_done_grey);\n-                addOnDoneAction(referenceEditText, doneButton, widgetArgs);\n+                if (widgetArgs.getJsonObject().optBoolean(JsonFormConstants.EXPAND_ON_TEXT_CHANGE, false))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "069a9900d5ed9db3601db1679043629eb1949e0e"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad0d4cf1aadbd01833a7c54df4225da607d0b382", "author": {"user": {"login": "qaziabubakar", "name": "Qazi Abubakar"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ad0d4cf1aadbd01833a7c54df4225da607d0b382", "committedDate": "2020-11-04T13:04:29Z", "message": "Added keyboard done action for default behavior\nMinor code refactoring"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzMzU2OTk4", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#pullrequestreview-523356998", "createdAt": "2020-11-04T13:26:44Z", "commit": {"oid": "ad0d4cf1aadbd01833a7c54df4225da607d0b382"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxMzoyNjo0NVrOHtX9pQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxMzoyNjo0NVrOHtX9pQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM0MDU4MQ==", "bodyText": "Could this moved into this if block https://github.com/OpenSRP/opensrp-client-native-form/pull/509/files#diff-5faa6441c13d21a9d335d1851497f620c839a7c50ec84a6b1b77b96892e94d1aL344.\nUnless the entry is valid, we should not generate repeating groups.", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#discussion_r517340581", "createdAt": "2020-11-04T13:26:45Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "diffHunk": "@@ -338,7 +349,8 @@ public void onTextChanged(CharSequence s, int start, int before, int count) {\n             @Override\n             public void afterTextChanged(Editable s) {\n                 doneButton.setImageResource(R.drawable.ic_done_grey);\n-                addOnDoneAction(referenceEditText, doneButton, widgetArgs);\n+                if (widgetArgs.getJsonObject().optBoolean(JsonFormConstants.EXPAND_ON_TEXT_CHANGE))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad0d4cf1aadbd01833a7c54df4225da607d0b382"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a3d1f74eaee2f3288018b20a00145769a07d218", "author": {"user": {"login": "qaziabubakar", "name": "Qazi Abubakar"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/5a3d1f74eaee2f3288018b20a00145769a07d218", "committedDate": "2020-11-05T06:25:01Z", "message": "Added validation status check before generating repeating groups"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzOTc3NTYz", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#pullrequestreview-523977563", "createdAt": "2020-11-05T07:17:11Z", "commit": {"oid": "5a3d1f74eaee2f3288018b20a00145769a07d218"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNzoxNzoxMlrOHt2JaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNzoxNzoxMlrOHt2JaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzgzNTExMg==", "bodyText": "I think it's better to simply move 5a3d1f7#diff-5faa6441c13d21a9d335d1851497f620c839a7c50ec84a6b1b77b96892e94d1aL352 into this if block 5a3d1f7#diff-5faa6441c13d21a9d335d1851497f620c839a7c50ec84a6b1b77b96892e94d1aR356.", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#discussion_r517835112", "createdAt": "2020-11-05T07:17:12Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "diffHunk": "@@ -349,10 +349,10 @@ public void onTextChanged(CharSequence s, int start, int before, int count) {\n             @Override\n             public void afterTextChanged(Editable s) {\n                 doneButton.setImageResource(R.drawable.ic_done_grey);\n-                if (widgetArgs.getJsonObject().optBoolean(JsonFormConstants.EXPAND_ON_TEXT_CHANGE))\n-                    addOnDoneAction(referenceEditText, doneButton, widgetArgs);\n                 ValidationStatus validationStatus = JsonFormFragmentPresenter\n                         .validate(widgetArgs.getFormFragment(), referenceEditText, false);\n+                if (widgetArgs.getJsonObject().optBoolean(JsonFormConstants.EXPAND_ON_TEXT_CHANGE) && validationStatus.isValid())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a3d1f74eaee2f3288018b20a00145769a07d218"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "279494136ee63249c58d64d882a56447535023d5", "author": {"user": {"login": "qaziabubakar", "name": "Qazi Abubakar"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/279494136ee63249c58d64d882a56447535023d5", "committedDate": "2020-11-05T08:26:20Z", "message": "code refactoring"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MDIwNDk2", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#pullrequestreview-524020496", "createdAt": "2020-11-05T08:28:09Z", "commit": {"oid": "279494136ee63249c58d64d882a56447535023d5"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e5dc755e515d7906b648cd881739a416d235035", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/0e5dc755e515d7906b648cd881739a416d235035", "committedDate": "2020-11-05T11:44:24Z", "message": "Merge branch 'master' into repeating_grp_text_change_optional"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "181acce23bd6c3179a56d3a37c04cd22ed982497", "author": {"user": {"login": "qaziabubakar", "name": "Qazi Abubakar"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/181acce23bd6c3179a56d3a37c04cd22ed982497", "committedDate": "2020-11-06T07:02:08Z", "message": "Added new test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5383862f1dee2ebb59da461dffa1b84c0b391932", "author": {"user": {"login": "qaziabubakar", "name": "Qazi Abubakar"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/5383862f1dee2ebb59da461dffa1b84c0b391932", "committedDate": "2020-11-06T07:03:00Z", "message": "Merge remote-tracking branch 'origin/repeating_grp_text_change_optional' into repeating_grp_text_change_optional"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "708022fd5551aa941b74c4997a8fef1d647cbc40", "author": {"user": {"login": "qaziabubakar", "name": "Qazi Abubakar"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/708022fd5551aa941b74c4997a8fef1d647cbc40", "committedDate": "2020-11-06T07:48:03Z", "message": "Added new test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1808cdc5c82f64bbbdc579d180aee79e8799ea90", "author": {"user": {"login": "qaziabubakar-vd", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/1808cdc5c82f64bbbdc579d180aee79e8799ea90", "committedDate": "2020-11-06T07:59:10Z", "message": "Merge branch 'master' into repeating_grp_text_change_optional"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1MDA3OTQ3", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#pullrequestreview-525007947", "createdAt": "2020-11-06T09:58:18Z", "commit": {"oid": "1808cdc5c82f64bbbdc579d180aee79e8799ea90"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffe8bc73e8b5e7ceabdc84ed7adfd869baccdf21", "author": {"user": {"login": "qaziabubakar", "name": "Qazi Abubakar"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ffe8bc73e8b5e7ceabdc84ed7adfd869baccdf21", "committedDate": "2020-11-06T14:41:58Z", "message": "Added new test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23c7437c6ae4a1d5716a64399b07d22d419d3687", "author": {"user": {"login": "qaziabubakar", "name": "Qazi Abubakar"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/23c7437c6ae4a1d5716a64399b07d22d419d3687", "committedDate": "2020-11-06T14:43:18Z", "message": "Merge remote-tracking branch 'origin/repeating_grp_text_change_optional' into repeating_grp_text_change_optional"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf13cf67740daef295132e7f45200db2cf226ccd", "author": {"user": {"login": "qaziabubakar", "name": "Qazi Abubakar"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/bf13cf67740daef295132e7f45200db2cf226ccd", "committedDate": "2020-11-09T06:30:54Z", "message": "Fixed codacy issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c88bf15cf3c2c737c0956d04418a64183ce9efd1", "author": {"user": {"login": "qaziabubakar-vd", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/c88bf15cf3c2c737c0956d04418a64183ce9efd1", "committedDate": "2020-11-09T06:31:22Z", "message": "Merge branch 'master' into repeating_grp_text_change_optional"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7c37885903234e72fa17a46a1475d8e91d7b38c", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a7c37885903234e72fa17a46a1475d8e91d7b38c", "committedDate": "2020-11-16T09:21:25Z", "message": "Revert methods to private - should not modify scope for testing"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxMTQxMjY1", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#pullrequestreview-531141265", "createdAt": "2020-11-16T09:22:52Z", "commit": {"oid": "a7c37885903234e72fa17a46a1475d8e91d7b38c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2332, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}