{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0NTgxMDc5", "number": 509, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMjowNjozN1rOE0xw1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNzoxNzoxMlrOE1ho8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNzc2NzI0OnYy", "diffSide": "RIGHT", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/constants/JsonFormConstants.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMjowNjozN1rOHsr5BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMjowNjozN1rOHsr5BA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjYxODUwMA==", "bodyText": "Could we use underscores instead of camelCase for the field? That is more consistent with other fields in native form widgets.", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#discussion_r516618500", "createdAt": "2020-11-03T12:06:37Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/constants/JsonFormConstants.java", "diffHunk": "@@ -143,6 +143,7 @@\n     public static final String MIN_DATE = \"min_date\";\n     public static final String MAX_DATE = \"max_date\";\n     public static final String EXPANDED = \"expanded\";\n+    public static final String EXPAND_ON_TEXT_CHANGE = \"expandOnTextChange\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5cdc3362c4e4a6a664db1ab64bab9bb8ed51ae4"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNzc3MzczOnYy", "diffSide": "RIGHT", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMjowODo0MFrOHsr9Aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxMjowODo0MFrOHsr9Aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjYxOTUyMw==", "bodyText": "You can always get the jsonObject from widgetArgs so no need to have an extra variable.", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#discussion_r516619523", "createdAt": "2020-11-03T12:08:40Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "diffHunk": "@@ -102,13 +100,16 @@\n         final String referenceEditTextHint = jsonObject.optString(REFERENCE_EDIT_TEXT_HINT, context.getString(R.string.enter_number_of_repeating_group_items));\n         final String repeatingGroupLabel = jsonObject.optString(REPEATING_GROUP_LABEL, context.getString(R.string.repeating_group_item));\n         String remoteReferenceEditText = jsonObject.optString(REFERENCE_EDIT_TEXT);\n-\n+        boolean expandOnTextChange = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5cdc3362c4e4a6a664db1ab64bab9bb8ed51ae4"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MTE5MzM1OnYy", "diffSide": "RIGHT", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzo0NDowOFrOHtMNmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzo0NDowOFrOHtMNmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE0ODA1Nw==", "bodyText": "We can simplify to optBoolean(JsonFormConstants.EXPAND_ON_TEXT_CHANGE) instead of optBoolean(JsonFormConstants.EXPAND_ON_TEXT_CHANGE, false)).", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#discussion_r517148057", "createdAt": "2020-11-04T07:44:08Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "diffHunk": "@@ -338,7 +335,8 @@ public void onTextChanged(CharSequence s, int start, int before, int count) {\n             @Override\n             public void afterTextChanged(Editable s) {\n                 doneButton.setImageResource(R.drawable.ic_done_grey);\n-                addOnDoneAction(referenceEditText, doneButton, widgetArgs);\n+                if (widgetArgs.getJsonObject().optBoolean(JsonFormConstants.EXPAND_ON_TEXT_CHANGE, false))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "069a9900d5ed9db3601db1679043629eb1949e0e"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MjQzNDU1OnYy", "diffSide": "RIGHT", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxMzoyNjo0NVrOHtX9pQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxMzoyNjo0NVrOHtX9pQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM0MDU4MQ==", "bodyText": "Could this moved into this if block https://github.com/OpenSRP/opensrp-client-native-form/pull/509/files#diff-5faa6441c13d21a9d335d1851497f620c839a7c50ec84a6b1b77b96892e94d1aL344.\nUnless the entry is valid, we should not generate repeating groups.", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#discussion_r517340581", "createdAt": "2020-11-04T13:26:45Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "diffHunk": "@@ -338,7 +349,8 @@ public void onTextChanged(CharSequence s, int start, int before, int count) {\n             @Override\n             public void afterTextChanged(Editable s) {\n                 doneButton.setImageResource(R.drawable.ic_done_grey);\n-                addOnDoneAction(referenceEditText, doneButton, widgetArgs);\n+                if (widgetArgs.getJsonObject().optBoolean(JsonFormConstants.EXPAND_ON_TEXT_CHANGE))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad0d4cf1aadbd01833a7c54df4225da607d0b382"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NTYxMTM2OnYy", "diffSide": "RIGHT", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNzoxNzoxMlrOHt2JaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNzoxNzoxMlrOHt2JaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzgzNTExMg==", "bodyText": "I think it's better to simply move 5a3d1f7#diff-5faa6441c13d21a9d335d1851497f620c839a7c50ec84a6b1b77b96892e94d1aL352 into this if block 5a3d1f7#diff-5faa6441c13d21a9d335d1851497f620c839a7c50ec84a6b1b77b96892e94d1aR356.", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/509#discussion_r517835112", "createdAt": "2020-11-05T07:17:12Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "diffHunk": "@@ -349,10 +349,10 @@ public void onTextChanged(CharSequence s, int start, int before, int count) {\n             @Override\n             public void afterTextChanged(Editable s) {\n                 doneButton.setImageResource(R.drawable.ic_done_grey);\n-                if (widgetArgs.getJsonObject().optBoolean(JsonFormConstants.EXPAND_ON_TEXT_CHANGE))\n-                    addOnDoneAction(referenceEditText, doneButton, widgetArgs);\n                 ValidationStatus validationStatus = JsonFormFragmentPresenter\n                         .validate(widgetArgs.getFormFragment(), referenceEditText, false);\n+                if (widgetArgs.getJsonObject().optBoolean(JsonFormConstants.EXPAND_ON_TEXT_CHANGE) && validationStatus.isValid())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a3d1f74eaee2f3288018b20a00145769a07d218"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2006, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}