{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyMzg1MzQy", "number": 530, "title": "set default value for repeating group count", "bodyText": "Hi @vincent-karuri I have created a PR for review", "createdAt": "2020-12-04T08:50:16Z", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/530", "merged": true, "mergeCommit": {"oid": "47bfeee6b6e17e31a74f7c39f2feb284b949e9ba"}, "closed": true, "closedAt": "2020-12-07T06:54:09Z", "author": {"login": "owais-vd"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdizwRugH2gAyNTMyMzg1MzQyOmYyNjRiNjZjNzZiN2QzOTdiNmNiNGVhZmU3ZDg2NWYzODk4YzJjYzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdjv6e0AFqTU0NTg2OTc5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f264b66c76b7d397b6cb4eafe7d865f3898c2cc1", "author": {"user": {"login": "owais-vd", "name": "Owais"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/f264b66c76b7d397b6cb4eafe7d865f3898c2cc1", "committedDate": "2020-12-04T08:48:33Z", "message": ":hammer: set default value for repeating group count"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODg5ODY5", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/530#pullrequestreview-544889869", "createdAt": "2020-12-04T11:47:59Z", "commit": {"oid": "f264b66c76b7d397b6cb4eafe7d865f3898c2cc1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMTo0Nzo1OVrOH_NcZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMTo0Nzo1OVrOH_NcZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjA0MjU5OQ==", "bodyText": "Could you add a test to verify that all fields of the repeatingGroupCountObj are correctly populated?", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/530#discussion_r536042599", "createdAt": "2020-12-04T11:47:59Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactory.java", "diffHunk": "@@ -152,6 +152,7 @@ private JSONObject getRepeatingGroupCountObj(WidgetArgs widgetArgs) throws JSONE\n         repeatingGroupCountObj.put(OPENMRS_ENTITY_ID, \"\");\n         repeatingGroupCountObj.put(TYPE, \"\");\n         repeatingGroupCountObj.put(TEXT, widgetArgs.getJsonObject().get(REFERENCE_EDIT_TEXT_HINT));\n+        repeatingGroupCountObj.put(VALUE, \"0\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f264b66c76b7d397b6cb4eafe7d865f3898c2cc1"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60efaf05a19aff40c74d1b6ed82288d1842c678d", "author": {"user": {"login": "owais-vd", "name": "Owais"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/60efaf05a19aff40c74d1b6ed82288d1842c678d", "committedDate": "2020-12-04T16:11:05Z", "message": ":heavy_check_mark: test case added to verify the default value of repeating group count."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1ODU4MDc4", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/530#pullrequestreview-545858078", "createdAt": "2020-12-07T06:23:38Z", "commit": {"oid": "60efaf05a19aff40c74d1b6ed82288d1842c678d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwNjoyMzozOFrOIAXqnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwNjoyMzozOFrOIAXqnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI1ODY1Mg==", "bodyText": "Could you add an intermediate step where you set the text to something else and verify that that value is updated on repeatingGroupCountObj,  then set it to blank and verify that it's reset to 0?", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/530#discussion_r537258652", "createdAt": "2020-12-07T06:23:38Z", "author": {"login": "vincent-karuri"}, "path": "android-json-form-wizard/src/test/java/com/vijay/jsonwizard/widgets/RepeatingGroupFactoryTest.java", "diffHunk": "@@ -180,6 +180,17 @@ public void testUniqueChildElementKeyGenerationShouldContainChildKeyAsComponent(\n         Assert.assertEquals(childElementKey, uniqueIdComponents[0]);\n     }\n \n+    @Test\n+    public void testRepeatingGroupDefaultCount() throws Exception {\n+        View rootLayout = invokeGetViewsFromJson().get(0);\n+\n+        JSONObject repeatingGroupCountObj = step.getJSONArray(JsonFormConstants.FIELDS).getJSONObject(0);\n+        Assert.assertEquals(\"0\", repeatingGroupCountObj.getString(JsonFormConstants.VALUE));\n+\n+        ((MaterialEditText) rootLayout.findViewById(R.id.reference_edit_text)).setText(\"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60efaf05a19aff40c74d1b6ed82288d1842c678d"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c794fe50ad2c6fe3ed8fc13b68321eb84d4ee3b", "author": {"user": {"login": "owais-vd", "name": "Owais"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/0c794fe50ad2c6fe3ed8fc13b68321eb84d4ee3b", "committedDate": "2020-12-07T06:39:49Z", "message": ":heavy_check_mark: added another step to verify repeating group count"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1ODY5Nzk4", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/530#pullrequestreview-545869798", "createdAt": "2020-12-07T06:54:00Z", "commit": {"oid": "0c794fe50ad2c6fe3ed8fc13b68321eb84d4ee3b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2352, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}