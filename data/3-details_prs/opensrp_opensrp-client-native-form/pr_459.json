{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyNTkyMTE1", "number": 459, "title": "add unit tests", "bodyText": "", "createdAt": "2020-08-04T07:46:34Z", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/459", "merged": true, "mergeCommit": {"oid": "310eb3e75834d417520f8e290c8354171c36d68b"}, "closed": true, "closedAt": "2020-08-07T12:25:42Z", "author": {"login": "vincent-karuri"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7hvKsAH2gAyNDYyNTkyMTE1OjFjNWZmZjBmZGRjY2UwMjY0NDFjNTdhZDcyMzFjZDUxZTA2ZTQyMDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8hH1pAFqTQ2MzE3NTQ3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1c5fff0fddcce026441c57ad7231cd51e06e4205", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/1c5fff0fddcce026441c57ad7231cd51e06e4205", "committedDate": "2020-08-04T07:46:00Z", "message": "Remove spy on SUT"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cfffa5588921e4dce969c1af1166876e14398345", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/cfffa5588921e4dce969c1af1166876e14398345", "committedDate": "2020-08-04T08:07:55Z", "message": "Add more initialization assertions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "86e9c959c11fa2f9e0a0db8e8ad37098fd6a7937", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/86e9c959c11fa2f9e0a0db8e8ad37098fd6a7937", "committedDate": "2020-08-04T08:24:27Z", "message": "Assert rdt capture activity is launched"}, "afterCommit": {"oid": "1f8a5d653023dcf04d3ea8462db1aed3257a3139", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/1f8a5d653023dcf04d3ea8462db1aed3257a3139", "committedDate": "2020-08-04T08:30:12Z", "message": "Assert rdt capture activity is launched"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c481135c40f95875afb567265ef908df0b0054a", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/1c481135c40f95875afb567265ef908df0b0054a", "committedDate": "2020-08-04T08:32:27Z", "message": "Assert rdt capture activity is launched"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1f8a5d653023dcf04d3ea8462db1aed3257a3139", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/1f8a5d653023dcf04d3ea8462db1aed3257a3139", "committedDate": "2020-08-04T08:30:12Z", "message": "Assert rdt capture activity is launched"}, "afterCommit": {"oid": "1c481135c40f95875afb567265ef908df0b0054a", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/1c481135c40f95875afb567265ef908df0b0054a", "committedDate": "2020-08-04T08:32:27Z", "message": "Assert rdt capture activity is launched"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMDU3MDEy", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/459#pullrequestreview-463057012", "createdAt": "2020-08-07T06:11:17Z", "commit": {"oid": "1c481135c40f95875afb567265ef908df0b0054a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwNjoxMToxN1rOG9Nsng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwNjoxMToxN1rOG9Nsng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg0MDczNA==", "bodyText": "Any reason you called this here?", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/459#discussion_r466840734", "createdAt": "2020-08-07T06:11:17Z", "author": {"login": "bennsimon"}, "path": "android-json-form-wizard/src/test/java/com/vijay/jsonwizard/widgets/BasicRDTCaptureFactoryTest.java", "diffHunk": "@@ -1,62 +1,120 @@\n package com.vijay.jsonwizard.widgets;\n \n+import android.content.Intent;\n+import android.content.pm.PackageManager;\n import android.view.View;\n \n import com.vijay.jsonwizard.BaseTest;\n+import com.vijay.jsonwizard.R;\n import com.vijay.jsonwizard.activities.JsonFormActivity;\n+import com.vijay.jsonwizard.constants.JsonFormConstants;\n+import com.vijay.jsonwizard.domain.WidgetArgs;\n import com.vijay.jsonwizard.fragments.JsonFormFragment;\n import com.vijay.jsonwizard.interfaces.CommonListener;\n+import com.vijay.jsonwizard.interfaces.OnActivityResultListener;\n+import com.vijay.jsonwizard.shadow.ShadowContextCompat;\n \n+import org.json.JSONException;\n import org.json.JSONObject;\n-import org.junit.Assert;\n import org.junit.Before;\n import org.junit.Test;\n import org.mockito.Mock;\n-import org.mockito.Mockito;\n import org.mockito.MockitoAnnotations;\n+import org.robolectric.Robolectric;\n+import org.robolectric.annotation.Config;\n+import org.robolectric.util.ReflectionHelpers;\n \n+import java.util.HashMap;\n import java.util.List;\n import java.util.Set;\n \n+import edu.washington.cs.ubicomplab.rdt_reader.activity.RDTCaptureActivity;\n+\n+import static com.vijay.jsonwizard.constants.JsonFormConstants.RDT_CAPTURE_CODE;\n+import static com.vijay.jsonwizard.constants.JsonFormConstants.STEP1;\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.robolectric.Shadows.shadowOf;\n+\n+@Config(shadows = {ShadowContextCompat.class})\n public class BasicRDTCaptureFactoryTest extends BaseTest {\n-    private BasicRDTCaptureFactory factory;\n-    @Mock\n-    private JsonFormActivity context;\n+\n+    private BasicRDTCaptureFactory basicRDTCaptureFactory;\n+    private JsonFormActivity jsonFormActivity;\n+\n     @Mock\n     private JsonFormFragment formFragment;\n     @Mock\n     private CommonListener listener;\n-    @Mock\n-    private View rootLayout;\n \n     @Before\n-    public void setUp() {\n+    public void setUp() throws JSONException {\n         MockitoAnnotations.initMocks(this);\n-        factory = new BasicRDTCaptureFactory();\n+        basicRDTCaptureFactory = new BasicRDTCaptureFactory();\n+        getJsonFormActivityIntent();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c481135c40f95875afb567265ef908df0b0054a"}, "originalPosition": 64}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e285541d6d2f517b092e4fb0968d22103979757d", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e285541d6d2f517b092e4fb0968d22103979757d", "committedDate": "2020-08-07T09:12:24Z", "message": "Remove redundant test method call"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMTc1NDcw", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/459#pullrequestreview-463175470", "createdAt": "2020-08-07T09:36:58Z", "commit": {"oid": "e285541d6d2f517b092e4fb0968d22103979757d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2418, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}