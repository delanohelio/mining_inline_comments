{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4MDE0NjUy", "number": 401, "title": "Support defining spinner keys and values within an options block", "bodyText": "Adds support for defining spinner keys and values within an options block e.g.:\n{\n        \"key\": \"response_spinner_with_options\",\n        \"openmrs_entity_parent\": \"\",\n        \"openmrs_entity\": \"\",\n        \"openmrs_entity_id\": \"\",\n        \"type\": \"spinner\",\n        \"hint\": \"Response Spinners\",\n        \"options\": [\n          {\n            \"key\": \"yes\",\n            \"text\": \"Yes\",\n            \"value\": false,\n            \"openmrs_entity\": \"\",\n            \"openmrs_entity_id\": \"\"\n          },\n          {\n            \"key\": \"no\",\n            \"text\": \"No\",\n            \"value\": false,\n            \"openmrs_entity\": \"\",\n            \"openmrs_entity_id\": \"\"\n          },\n          {\n            \"key\": \"maybe\",\n            \"text\": \"Maybe\",\n            \"value\": false,\n            \"openmrs_entity\": \"\",\n            \"openmrs_entity_id\": \"\"\n          }\n        ],\n        \"v_required\": {\n          \"value\": \"true\",\n          \"err\": \"Please enter response\"\n        },\n        \"openmrs_choice_ids\": {\n          \"user_one\": \"1107AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\n          \"user_two\": \"1713AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"\n        }\n }", "createdAt": "2020-04-03T07:46:05Z", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401", "merged": true, "mergeCommit": {"oid": "8fd334d5ef5c1dcbbdf12f2d63656018b4896bcc"}, "closed": true, "closedAt": "2020-04-22T08:34:23Z", "author": {"login": "vincent-karuri"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcT7-CMAH2gAyMzk4MDE0NjUyOjM3MGZjMGUzNGUwNzI3MmFiNTgzYWEzNjRkZGNhNzBkNmZkZWVmZjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcaD9HbgFqTM5Nzk1NjUyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "370fc0e34e07272ab583aa364ddca70d6fdeeff0", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/370fc0e34e07272ab583aa364ddca70d6fdeeff0", "committedDate": "2020-04-03T07:42:48Z", "message": "Support defining spinners key and values within an options block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccacee2d7197826124e7b259dd21daced0908a9c", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ccacee2d7197826124e7b259dd21daced0908a9c", "committedDate": "2020-04-03T07:47:03Z", "message": "Add spinner options block demo to basic form"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3168416cf8d6002cf95055554161d7e5e3e14441", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/3168416cf8d6002cf95055554161d7e5e3e14441", "committedDate": "2020-04-03T08:05:17Z", "message": "Add SpinnerFactory test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10643c797d3646f6c3a45513bbb5387529e5d384", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/10643c797d3646f6c3a45513bbb5387529e5d384", "committedDate": "2020-04-03T08:06:08Z", "message": "Bump lib version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bba749a83721e0863f1dd5b5654892d780584d5", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/9bba749a83721e0863f1dd5b5654892d780584d5", "committedDate": "2020-04-03T08:09:38Z", "message": "Fix failing NumericDatePicker test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NzE3NTI5", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#pullrequestreview-387717529", "createdAt": "2020-04-04T17:16:41Z", "commit": {"oid": "9bba749a83721e0863f1dd5b5654892d780584d5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQxNzoxNjo0MVrOGAzSoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQxNzoxNjo0MVrOGAzSoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ5MzUzNw==", "bodyText": "How does this spinner variant save the selected items?\nDoes it use the value attribute on the root of the widget? If not it should work like the radio button and as the previous spinner variant since they are select one.", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#discussion_r403493537", "createdAt": "2020-04-04T17:16:41Z", "author": {"login": "dubdabasoduba"}, "path": "sample/src/main/assets/json.form/basic_form.json", "diffHunk": "@@ -353,6 +353,45 @@\n           \"user_two\": \"1713AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"\n         }\n       },\n+      {\n+        \"key\": \"response_spinner_with_options\",\n+        \"openmrs_entity_parent\": \"\",\n+        \"openmrs_entity\": \"\",\n+        \"openmrs_entity_id\": \"\",\n+        \"type\": \"spinner\",\n+        \"hint\": \"Response Spinners\",\n+        \"options\": [\n+          {\n+            \"key\": \"yes\",\n+            \"text\": \"Yes\",\n+            \"value\": false,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bba749a83721e0863f1dd5b5654892d780584d5"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzNTgzOTQ4", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#pullrequestreview-393583948", "createdAt": "2020-04-15T08:58:15Z", "commit": {"oid": "9bba749a83721e0863f1dd5b5654892d780584d5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1ODoxNlrOGFwTmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1ODoxNlrOGFwTmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NzUxMw==", "bodyText": "we should also update this functionality to make sure the openmrs_entities can be read from the options if the options are available. Then we wouldn't need this block for spinners with options", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#discussion_r408687513", "createdAt": "2020-04-15T08:58:16Z", "author": {"login": "dubdabasoduba"}, "path": "sample/src/main/assets/json.form/basic_form.json", "diffHunk": "@@ -353,6 +353,45 @@\n           \"user_two\": \"1713AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"\n         }\n       },\n+      {\n+        \"key\": \"response_spinner_with_options\",\n+        \"openmrs_entity_parent\": \"\",\n+        \"openmrs_entity\": \"\",\n+        \"openmrs_entity_id\": \"\",\n+        \"type\": \"spinner\",\n+        \"hint\": \"Response Spinners\",\n+        \"options\": [\n+          {\n+            \"key\": \"yes\",\n+            \"text\": \"Yes\",\n+            \"value\": false,\n+            \"openmrs_entity\": \"\",\n+            \"openmrs_entity_id\": \"\"\n+          },\n+          {\n+            \"key\": \"no\",\n+            \"text\": \"No\",\n+            \"value\": false,\n+            \"openmrs_entity\": \"\",\n+            \"openmrs_entity_id\": \"\"\n+          },\n+          {\n+            \"key\": \"maybe\",\n+            \"text\": \"Maybe\",\n+            \"value\": false,\n+            \"openmrs_entity\": \"\",\n+            \"openmrs_entity_id\": \"\"\n+          }\n+        ],\n+        \"v_required\": {\n+          \"value\": \"true\",\n+          \"err\": \"Please enter response\"\n+        },\n+        \"openmrs_choice_ids\": {\n+          \"user_one\": \"1107AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\n+          \"user_two\": \"1713AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bba749a83721e0863f1dd5b5654892d780584d5"}, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ff62048af0bce4c250d66ff7a029ce93da8c44a", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/4ff62048af0bce4c250d66ff7a029ce93da8c44a", "committedDate": "2020-04-20T09:41:52Z", "message": "Remove redundant value fields"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b112d53f2f5d63828433a1f4c17ef2d3a02fc75", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/3b112d53f2f5d63828433a1f4c17ef2d3a02fc75", "committedDate": "2020-04-20T12:31:22Z", "message": "Extract openmrs attributes from spinner options"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a125c2d7374dcbe9daf3d8f9e722a170eb334bcc", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/a125c2d7374dcbe9daf3d8f9e722a170eb334bcc", "committedDate": "2020-04-20T12:24:46Z", "message": "Extract openmrs attributes from spinner options"}, "afterCommit": {"oid": "3b112d53f2f5d63828433a1f4c17ef2d3a02fc75", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/3b112d53f2f5d63828433a1f4c17ef2d3a02fc75", "committedDate": "2020-04-20T12:31:22Z", "message": "Extract openmrs attributes from spinner options"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dc6b903b0b5f21dcd4de618ce20f476ee438ccf", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/3dc6b903b0b5f21dcd4de618ce20f476ee438ccf", "committedDate": "2020-04-20T12:43:45Z", "message": "Merge remote-tracking branch 'origin/master' into support-options-block-in-spinner-factory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07344f5c244c31a14799c90973018265e098ed82", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/07344f5c244c31a14799c90973018265e098ed82", "committedDate": "2020-04-20T13:24:00Z", "message": "Fix bug when verifying spinner type and extracting spinner key"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2896a27b7db5f2160f040d9d84e10ba63ab51f29", "author": {"user": {"login": "vincent-karuri", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/2896a27b7db5f2160f040d9d84e10ba63ab51f29", "committedDate": "2020-04-20T13:24:52Z", "message": "Add form utils test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3OTM3NDgw", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#pullrequestreview-397937480", "createdAt": "2020-04-22T08:00:10Z", "commit": {"oid": "2896a27b7db5f2160f040d9d84e10ba63ab51f29"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cab4d48584cdd358bc2e45aaaf8bc5302763eec0", "author": {"user": {"login": "dubdabasoduba", "name": "Benjamin Mwalimu"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/cab4d48584cdd358bc2e45aaaf8bc5302763eec0", "committedDate": "2020-04-22T08:00:17Z", "message": "Merge branch 'master' into support-options-block-in-spinner-factory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc2093e2949ff1b8961ab663dada1bdc1e7bb99e", "author": {"user": {"login": "dubdabasoduba", "name": "Benjamin Mwalimu"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/dc2093e2949ff1b8961ab663dada1bdc1e7bb99e", "committedDate": "2020-04-22T08:02:41Z", "message": "Merge branch 'master' into support-options-block-in-spinner-factory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24d89744245948234337356f5378adfa35d0157a", "author": {"user": {"login": "dubdabasoduba", "name": "Benjamin Mwalimu"}}, "url": "https://github.com/opensrp/opensrp-client-native-form/commit/24d89744245948234337356f5378adfa35d0157a", "committedDate": "2020-04-22T08:23:21Z", "message": ":zap: add codacy standards suggestions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3OTU2NTI5", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#pullrequestreview-397956529", "createdAt": "2020-04-22T08:24:35Z", "commit": {"oid": "24d89744245948234337356f5378adfa35d0157a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2370, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}