{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5Nzc3ODc0", "number": 3538, "title": "DHFPROD-4258:Provide host, stagingPort info to UI and some refactoring", "bodyText": "Provide host, stagingPort info to UI and some refactoring", "createdAt": "2020-01-31T21:26:54Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3538", "merged": true, "mergeCommit": {"oid": "0629657e08dcfb125b082679bca50c88699666c9"}, "closed": true, "closedAt": "2020-02-01T03:19:14Z", "author": {"login": "srinathgit"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_3lB7gFqTM1MTgzMDMwMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcAHQqWgFqTM1MTg5NTAxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODMwMzAw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3538#pullrequestreview-351830300", "createdAt": "2020-01-31T23:17:23Z", "commit": {"oid": "5e1a7cd62d722f09b6beb6d3083d0cc9dc41eb61"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODQyMzMz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3538#pullrequestreview-351842333", "createdAt": "2020-02-01T00:08:35Z", "commit": {"oid": "5e1a7cd62d722f09b6beb6d3083d0cc9dc41eb61"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "072b237bec35deb478076fa8937749f683a3a53b", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/072b237bec35deb478076fa8937749f683a3a53b", "committedDate": "2020-02-01T00:18:10Z", "message": "DHFPROD-4258:Provide host, stagingPort info to UI and some refactoring"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5e1a7cd62d722f09b6beb6d3083d0cc9dc41eb61", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/5e1a7cd62d722f09b6beb6d3083d0cc9dc41eb61", "committedDate": "2020-01-31T21:24:37Z", "message": "DHFPROD-4258:Provide host, stagingPort info to UI and some refactoring"}, "afterCommit": {"oid": "072b237bec35deb478076fa8937749f683a3a53b", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/072b237bec35deb478076fa8937749f683a3a53b", "committedDate": "2020-02-01T00:18:10Z", "message": "DHFPROD-4258:Provide host, stagingPort info to UI and some refactoring"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODQ0NjIz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3538#pullrequestreview-351844623", "createdAt": "2020-02-01T00:20:01Z", "commit": {"oid": "072b237bec35deb478076fa8937749f683a3a53b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODQ0OTgy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3538#pullrequestreview-351844982", "createdAt": "2020-02-01T00:21:56Z", "commit": {"oid": "072b237bec35deb478076fa8937749f683a3a53b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODk1MDE2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3538#pullrequestreview-351895016", "createdAt": "2020-02-01T17:33:37Z", "commit": {"oid": "072b237bec35deb478076fa8937749f683a3a53b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQxNzozMzozN1rOFkeb8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQxNzozMzozN1rOFkeb8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc5MTczMQ==", "bodyText": "I know this has been merged already, but I really encourage trying to minimize dependencies on HubConfig. Note that some of it is user-specific, but most of it is not. HubProject is not user-specific, and ideally that can be depended on without depending on HubConfig. Staging port is not user-specific. It's awkward because this is depending on a user-specific object for data that isn't user-specific.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3538#discussion_r373791731", "createdAt": "2020-02-01T17:33:37Z", "author": {"login": "rjrudin"}, "path": "one-ui/src/main/java/com/marklogic/hub/oneui/services/EnvironmentConfig.java", "diffHunk": "@@ -0,0 +1,85 @@\n+/*\n+ * Copyright 2012-2019 MarkLogic Corporation\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ */\n+package com.marklogic.hub.oneui.services;\n+\n+import com.fasterxml.jackson.annotation.JsonIgnore;\n+import com.fasterxml.jackson.databind.JsonNode;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import com.marklogic.hub.DatabaseKind;\n+import com.marklogic.hub.HubProject;\n+import com.marklogic.hub.impl.Versions;\n+import com.marklogic.hub.oneui.models.HubConfigSession;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Component;\n+\n+@Component\n+public class EnvironmentConfig {\n+\n+    private String projectDir;\n+    private String projectName;\n+    private String dataHubVersion;\n+    private String marklogicVersion;\n+    private int stagingPort;\n+    private String host;\n+\n+    @Autowired\n+    @JsonIgnore\n+    private HubConfigSession hubConfig;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "072b237bec35deb478076fa8937749f683a3a53b"}, "originalPosition": 41}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2415, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}