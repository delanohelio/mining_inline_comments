{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5NDk3MzUw", "number": 4851, "title": "DHFPROD-6227: Explorer failing cypress tests.", "bodyText": "Description\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-11-11T22:58:10Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4851", "merged": true, "mergeCommit": {"oid": "75443237cca5359d3f7c8512a8b4d0fb498e07f1"}, "closed": true, "closedAt": "2020-11-17T19:36:35Z", "author": {"login": "timur-isangulov"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbmKYFgBqjM5ODYwMDI5MDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdddcdJAFqTUzMjY0NTMxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "251df5df63449e8d50537b0887b7d528541b6c30", "author": {"user": {"login": "timur38", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/251df5df63449e8d50537b0887b7d528541b6c30", "committedDate": "2020-11-11T22:57:26Z", "message": "DHFPROD-6227: Explorer failing cypress tests"}, "afterCommit": {"oid": "aa2e3265384c78d40d59c7d362bb443ec325852f", "author": {"user": {"login": "timur38", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/aa2e3265384c78d40d59c7d362bb443ec325852f", "committedDate": "2020-11-11T23:00:44Z", "message": "DHFPROD-6227: Explorer failing cypress tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a4e56b567b4fe738f6e11598bb9642d6217028e", "author": {"user": {"login": "timur38", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/6a4e56b567b4fe738f6e11598bb9642d6217028e", "committedDate": "2020-11-12T16:53:35Z", "message": "DHFPROD-6227: Explorer failing cypress tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aa2e3265384c78d40d59c7d362bb443ec325852f", "author": {"user": {"login": "timur38", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/aa2e3265384c78d40d59c7d362bb443ec325852f", "committedDate": "2020-11-11T23:00:44Z", "message": "DHFPROD-6227: Explorer failing cypress tests"}, "afterCommit": {"oid": "6a4e56b567b4fe738f6e11598bb9642d6217028e", "author": {"user": {"login": "timur38", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/6a4e56b567b4fe738f6e11598bb9642d6217028e", "committedDate": "2020-11-12T16:53:35Z", "message": "DHFPROD-6227: Explorer failing cypress tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwNDcxNzEw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4851#pullrequestreview-530471710", "createdAt": "2020-11-13T23:07:49Z", "commit": {"oid": "6a4e56b567b4fe738f6e11598bb9642d6217028e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QyMzowNzo0OVrOHzCXlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QyMzowOToyMVrOHzCZLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI3ODIzMA==", "bodyText": "Did we try adding waitUntil on the next line? Since browsePage.getSortIndicatorDesc() might be returning a cy.get() output so we can add a waitUntil() there, forcing the browser to wait until it fetches the element.\nBasically the goal is to exploit every possible scenario before adding explicit waits in our test cases since there would always be 1 out of 100 or 1000 cases when it might fail because of timeout delay more than the wait time limit.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4851#discussion_r523278230", "createdAt": "2020-11-13T23:07:49Z", "author": {"login": "xnikhil08"}, "path": "marklogic-data-hub-central/ui/e2e/cypress/integration/explore/scenarios.queries.tsx", "diffHunk": "@@ -382,6 +383,7 @@ describe('save/manage queries scenarios, developer role', () => {\n         browsePage.selectQuery('reset-query');\n         cy.waitForAsyncRequest();\n         browsePage.getAppliedFacets('Adams Cole').should('exist');\n+        cy.wait(500)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a4e56b567b4fe738f6e11598bb9642d6217028e"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI3ODYzNw==", "bodyText": "Same comment as earlier. Let's try to add waitUntil on the next get statement and see if it works, so that the explicit waits can be avoided.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4851#discussion_r523278637", "createdAt": "2020-11-13T23:09:21Z", "author": {"login": "xnikhil08"}, "path": "marklogic-data-hub-central/ui/e2e/cypress/support/pages/browse.tsx", "diffHunk": "@@ -293,6 +293,7 @@ class BrowsePage {\n   }\n \n   clickColumnTitle(index: number) {\n+    cy.wait(500);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a4e56b567b4fe738f6e11598bb9642d6217028e"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxOTM0Mzcy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4851#pullrequestreview-531934372", "createdAt": "2020-11-17T00:35:24Z", "commit": {"oid": "6a4e56b567b4fe738f6e11598bb9642d6217028e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyMDAyNTM0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4851#pullrequestreview-532002534", "createdAt": "2020-11-17T03:49:48Z", "commit": {"oid": "6a4e56b567b4fe738f6e11598bb9642d6217028e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyNjQ1MzE0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4851#pullrequestreview-532645314", "createdAt": "2020-11-17T17:59:22Z", "commit": {"oid": "6a4e56b567b4fe738f6e11598bb9642d6217028e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1647, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}