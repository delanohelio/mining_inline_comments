{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5MzQ5MTU5", "number": 3613, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxODowMDoxMlrODiy4uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQyMzo0Nzo1MVrODi5QGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3ODExODk5OnYy", "diffSide": "RIGHT", "path": "one-ui/ui/src/components/flows/flows.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxODowMDoxM1rOFuPb0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxOToyMTozN1rOFuR-_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDAzMTY5Nw==", "bodyText": "@wooldridge should this be MLButton?\nThe edit feature should be similar to load data config. An operator should be able to click open the \"Edit Flow\" dialog to view.\nJust for readability, I am not too particular about this. Can properties that belong to one element be in one line? Its ok when there is only 1 or 2 elements. When there are more like in this return block to me its more readable if they are in one line.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3613#discussion_r384031697", "createdAt": "2020-02-25T18:00:13Z", "author": {"login": "bsrikan"}, "path": "one-ui/ui/src/components/flows/flows.tsx", "diffHunk": "@@ -0,0 +1,283 @@\n+import React, { useState, CSSProperties } from 'react';\n+import { Collapse, Button, Icon, Card, Tooltip, Modal } from 'antd';\n+import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n+import { faTrashAlt } from '@fortawesome/free-regular-svg-icons';\n+import NewFlowDialog from './new-flow-dialog/new-flow-dialog';\n+import sourceFormatOptions from '../../config/formats.config';\n+import styles from './flows.module.scss';\n+\n+const { Panel } = Collapse;\n+\n+interface Props {\n+    flows: any;\n+    loads: any;\n+    deleteFlow: any;\n+    createFlow: any;\n+    updateFlow: any;\n+    deleteStep: any;\n+    runStep: any;\n+    canReadFlows: boolean;\n+    canWriteFlows: boolean;\n+}\n+\n+const StepDefinitionTypeTitles = {\n+    'INGESTION': 'Load',\n+    'MAPPING': 'Map',\n+    'MASTERING': 'Master',\n+    'MATCHING': 'Match',\n+    'MERGING': 'Merge',\n+    'CUSTOM': 'Custom'\n+}\n+\n+const Flows: React.FC<Props> = (props) => {\n+    const [newFlow, setNewFlow] = useState(false);\n+    const [title, setTitle] = useState('');\n+    const [flowData, setFlowData] = useState({});\n+    const [dialogVisible, setDialogVisible] = useState(false);\n+    const [stepDialogVisible, setStepDialogVisible] = useState(false);\n+    const [flowName, setFlowName] = useState('');\n+    const [stepName, setStepName] = useState('');\n+\n+    const OpenAddNewDialog = () => {\n+        setTitle('New Flow');\n+        setNewFlow(true);\n+    }\n+\n+    const getLoadSourceFormat = (loadId) => {\n+        let found = props.loads.find(load => {\n+            return load.name === loadId;\n+        });\n+        return found ? found.sourceFormat : 'json';\n+    }\n+\n+    //Custom CSS for source Format\n+    const sourceFormatStyle = (sourceFmt) => {\n+        let customStyles: CSSProperties;\n+        if (!sourceFmt) {\n+            customStyles = {\n+                float: 'left',\n+                backgroundColor: '#fff',\n+                color: '#fff',\n+                padding: '5px'\n+            }\n+        } else {\n+            customStyles = {\n+                float: 'left',\n+                backgroundColor: (sourceFmt.toUpperCase() === 'XML' ? sourceFormatOptions.xml.color : (sourceFmt.toUpperCase() === 'JSON' ? sourceFormatOptions.json.color : (sourceFmt.toUpperCase() === 'CSV' ? sourceFormatOptions.csv.color : sourceFormatOptions.default.color))),\n+                fontSize: '12px',\n+                borderRadius: '50%',\n+                textAlign: 'left',\n+                color: '#ffffff',\n+                padding: '5px'\n+            }\n+        }\n+        return customStyles;\n+    }\n+\n+    const handleFlowDelete = (name) => {\n+        setDialogVisible(true);\n+        setFlowName(name);\n+    }\n+\n+    const handleStepDelete = (fName, sName) => {\n+        setStepDialogVisible(true);\n+        setFlowName(fName);\n+        setStepName(sName);\n+    }\n+\n+    const onOk = (name) => {\n+        props.deleteFlow(name)\n+        setDialogVisible(false);\n+    }\n+\n+    const onStepOk = (fName, sName) => {\n+        props.deleteStep(fName, sName)\n+        setStepDialogVisible(false);\n+    }\n+\n+    const onCancel = () => {\n+        setDialogVisible(false);\n+        setStepDialogVisible(false);\n+    }  \n+\n+    const deleteConfirmation = (\n+        <Modal\n+            visible={dialogVisible}\n+            okText='Yes'\n+            okType='primary'\n+            cancelText='No'\n+            onOk={() => onOk(flowName)}\n+            onCancel={() => onCancel()}\n+            width={350}\n+        >\n+            <div style={{fontSize: '16px', padding: '10px'}}>Are you sure you want to delete flow \"{flowName}\"?</div>\n+        </Modal>\n+    );\n+\n+    const deleteStepConfirmation = (\n+        <Modal\n+            visible={stepDialogVisible}\n+            okText='Yes'\n+            okType='primary'\n+            cancelText='No'\n+            onOk={() => onStepOk(flowName, stepName)}\n+            onCancel={() => onCancel()}\n+            width={350}\n+        >\n+            <div style={{fontSize: '16px', padding: '10px'}}>Are you sure you want to delete step \"{stepName}\" from flow \"{flowName}\"?</div>\n+        </Modal>\n+    );\n+\n+    const deleteIcon = (name) => (\n+        <span className={styles.deleteFlow}>\n+            {props.canWriteFlows ?\n+                <Tooltip \n+                    title={'Delete Flow'} \n+                    placement=\"bottom\"\n+                >\n+                    <i>\n+                        <FontAwesomeIcon \n+                            icon={faTrashAlt} \n+                            onClick={event => {\n+                                // If you don't want click extra trigger collapse, you can prevent this:\n+                                event.stopPropagation();\n+                                handleFlowDelete(name);\n+                            }}\n+                            className={styles.deleteIcon} \n+                            size=\"lg\"/>\n+                    </i>\n+                </Tooltip> :\n+                <Tooltip \n+                    title={'Delete'} \n+                    placement=\"bottom\"\n+                >\n+                    <i>\n+                        <FontAwesomeIcon \n+                            icon={faTrashAlt} \n+                            onClick={(event) => { \n+                                event.stopPropagation(); \n+                                event.preventDefault(); \n+                            }}\n+                            className={styles.disabledDeleteIcon} \n+                            size=\"lg\"/>\n+                    </i>\n+                </Tooltip> }\n+        </span>\n+    );\n+\n+    const flowHeader = (name, index) => (\n+        <Tooltip \n+            title={'Edit Flow'} \n+            placement=\"right\"\n+        >\n+            {props.canWriteFlows ?\n+                <span className={styles.flowName} onClick={(e) => OpenEditFlowDialog(e, index)}>\n+                    {name}\n+                </span>  :\n+                <span className={styles.disabledFlowName} onClick={(e) => e.stopPropagation()}>\n+                    {name}\n+                </span>\n+            }\n+        </Tooltip>\n+    );\n+\n+    const OpenEditFlowDialog = (e, index) => {\n+        e.stopPropagation();\n+        setTitle('Edit Flow');\n+        setFlowData(prevState => ({ ...prevState, ...props.flows[index]}));\n+        setNewFlow(true);\n+    }  \n+\n+    const StepDefToTitle = (stepDef) => {\n+        return (StepDefinitionTypeTitles[stepDef]) ? StepDefinitionTypeTitles[stepDef] : 'Unknown';\n+    }\n+\n+    let panels;\n+    if (props.flows) {\n+        panels = props.flows.map((flow, i) => {\n+            let name = flow.name;\n+            let indexes = Object.keys(flow.steps);\n+            let cards = indexes.map((i) => {\n+                let step = flow.steps[i];\n+                // TODO Handle steps that don't have input formats\n+                let stepFormat = (step.fileLocations) ?  getLoadSourceFormat(step.name) : 'json';\n+                return (\n+                    <Card \n+                        style={{ width: 300, marginRight: 20 }} \n+                        title={StepDefToTitle(step.stepDefinitionType)} \n+                        size=\"small\"\n+                        extra={\n+                            <div className={styles.actions}>\n+                                <div className={styles.run} onClick={() => props.runStep(step.name)}><Icon type=\"play-circle\" theme=\"filled\" /></div>\n+                                {props.canWriteFlows ?\n+                                    <Tooltip \n+                                        title={'Delete Step'} \n+                                        placement=\"bottom\"\n+                                    >\n+                                        <div className={styles.delete} onClick={() => handleStepDelete(flow.name, step.name)}><Icon type=\"close\" /></div>\n+                                    </Tooltip> :\n+                                    <Tooltip \n+                                        title={'Delete Step'} \n+                                        placement=\"bottom\"\n+                                    >\n+                                        <div className={styles.disabledDelete} onClick={(event) => { event.stopPropagation(); event.preventDefault(); }}><Icon type=\"close\" /></div>\n+                                    </Tooltip> \n+                                }\n+                            </div>\n+                        }\n+                    >\n+                        <div className={styles.cardContent}>\n+                            <div className={styles.format} style={sourceFormatStyle(stepFormat)}>{stepFormat.toUpperCase()}</div>\n+                            <div className={styles.name}>{step.name}</div>\n+                        </div>\n+                    </Card>\n+                )\n+            });\n+            return (\n+                <Panel \n+                    header={flowHeader(flow.name, i)} \n+                    key={i} \n+                    extra={deleteIcon(name)}\n+                >\n+                    <div className={styles.panelContent}>\n+                        {cards}\n+                    </div>\n+                </Panel>\n+            )\n+        })\n+    }\n+\n+   return (\n+    <div id=\"flows-container\" className={styles.flowsContainer}>\n+        {props.canReadFlows || props.canWriteFlows ?\n+            <>\n+                <div className={styles.createContainer}>\n+                    <Button ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a601fc5ff3e49eabf8b8586e22ea1b9d1fae1b8"}, "originalPosition": 255}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDA3MzQ3MA==", "bodyText": "Added MlButton and committed. Let's move the discussion of general coding style out to the broader group (including the Explorer team).", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3613#discussion_r384073470", "createdAt": "2020-02-25T19:21:37Z", "author": {"login": "wooldridge"}, "path": "one-ui/ui/src/components/flows/flows.tsx", "diffHunk": "@@ -0,0 +1,283 @@\n+import React, { useState, CSSProperties } from 'react';\n+import { Collapse, Button, Icon, Card, Tooltip, Modal } from 'antd';\n+import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n+import { faTrashAlt } from '@fortawesome/free-regular-svg-icons';\n+import NewFlowDialog from './new-flow-dialog/new-flow-dialog';\n+import sourceFormatOptions from '../../config/formats.config';\n+import styles from './flows.module.scss';\n+\n+const { Panel } = Collapse;\n+\n+interface Props {\n+    flows: any;\n+    loads: any;\n+    deleteFlow: any;\n+    createFlow: any;\n+    updateFlow: any;\n+    deleteStep: any;\n+    runStep: any;\n+    canReadFlows: boolean;\n+    canWriteFlows: boolean;\n+}\n+\n+const StepDefinitionTypeTitles = {\n+    'INGESTION': 'Load',\n+    'MAPPING': 'Map',\n+    'MASTERING': 'Master',\n+    'MATCHING': 'Match',\n+    'MERGING': 'Merge',\n+    'CUSTOM': 'Custom'\n+}\n+\n+const Flows: React.FC<Props> = (props) => {\n+    const [newFlow, setNewFlow] = useState(false);\n+    const [title, setTitle] = useState('');\n+    const [flowData, setFlowData] = useState({});\n+    const [dialogVisible, setDialogVisible] = useState(false);\n+    const [stepDialogVisible, setStepDialogVisible] = useState(false);\n+    const [flowName, setFlowName] = useState('');\n+    const [stepName, setStepName] = useState('');\n+\n+    const OpenAddNewDialog = () => {\n+        setTitle('New Flow');\n+        setNewFlow(true);\n+    }\n+\n+    const getLoadSourceFormat = (loadId) => {\n+        let found = props.loads.find(load => {\n+            return load.name === loadId;\n+        });\n+        return found ? found.sourceFormat : 'json';\n+    }\n+\n+    //Custom CSS for source Format\n+    const sourceFormatStyle = (sourceFmt) => {\n+        let customStyles: CSSProperties;\n+        if (!sourceFmt) {\n+            customStyles = {\n+                float: 'left',\n+                backgroundColor: '#fff',\n+                color: '#fff',\n+                padding: '5px'\n+            }\n+        } else {\n+            customStyles = {\n+                float: 'left',\n+                backgroundColor: (sourceFmt.toUpperCase() === 'XML' ? sourceFormatOptions.xml.color : (sourceFmt.toUpperCase() === 'JSON' ? sourceFormatOptions.json.color : (sourceFmt.toUpperCase() === 'CSV' ? sourceFormatOptions.csv.color : sourceFormatOptions.default.color))),\n+                fontSize: '12px',\n+                borderRadius: '50%',\n+                textAlign: 'left',\n+                color: '#ffffff',\n+                padding: '5px'\n+            }\n+        }\n+        return customStyles;\n+    }\n+\n+    const handleFlowDelete = (name) => {\n+        setDialogVisible(true);\n+        setFlowName(name);\n+    }\n+\n+    const handleStepDelete = (fName, sName) => {\n+        setStepDialogVisible(true);\n+        setFlowName(fName);\n+        setStepName(sName);\n+    }\n+\n+    const onOk = (name) => {\n+        props.deleteFlow(name)\n+        setDialogVisible(false);\n+    }\n+\n+    const onStepOk = (fName, sName) => {\n+        props.deleteStep(fName, sName)\n+        setStepDialogVisible(false);\n+    }\n+\n+    const onCancel = () => {\n+        setDialogVisible(false);\n+        setStepDialogVisible(false);\n+    }  \n+\n+    const deleteConfirmation = (\n+        <Modal\n+            visible={dialogVisible}\n+            okText='Yes'\n+            okType='primary'\n+            cancelText='No'\n+            onOk={() => onOk(flowName)}\n+            onCancel={() => onCancel()}\n+            width={350}\n+        >\n+            <div style={{fontSize: '16px', padding: '10px'}}>Are you sure you want to delete flow \"{flowName}\"?</div>\n+        </Modal>\n+    );\n+\n+    const deleteStepConfirmation = (\n+        <Modal\n+            visible={stepDialogVisible}\n+            okText='Yes'\n+            okType='primary'\n+            cancelText='No'\n+            onOk={() => onStepOk(flowName, stepName)}\n+            onCancel={() => onCancel()}\n+            width={350}\n+        >\n+            <div style={{fontSize: '16px', padding: '10px'}}>Are you sure you want to delete step \"{stepName}\" from flow \"{flowName}\"?</div>\n+        </Modal>\n+    );\n+\n+    const deleteIcon = (name) => (\n+        <span className={styles.deleteFlow}>\n+            {props.canWriteFlows ?\n+                <Tooltip \n+                    title={'Delete Flow'} \n+                    placement=\"bottom\"\n+                >\n+                    <i>\n+                        <FontAwesomeIcon \n+                            icon={faTrashAlt} \n+                            onClick={event => {\n+                                // If you don't want click extra trigger collapse, you can prevent this:\n+                                event.stopPropagation();\n+                                handleFlowDelete(name);\n+                            }}\n+                            className={styles.deleteIcon} \n+                            size=\"lg\"/>\n+                    </i>\n+                </Tooltip> :\n+                <Tooltip \n+                    title={'Delete'} \n+                    placement=\"bottom\"\n+                >\n+                    <i>\n+                        <FontAwesomeIcon \n+                            icon={faTrashAlt} \n+                            onClick={(event) => { \n+                                event.stopPropagation(); \n+                                event.preventDefault(); \n+                            }}\n+                            className={styles.disabledDeleteIcon} \n+                            size=\"lg\"/>\n+                    </i>\n+                </Tooltip> }\n+        </span>\n+    );\n+\n+    const flowHeader = (name, index) => (\n+        <Tooltip \n+            title={'Edit Flow'} \n+            placement=\"right\"\n+        >\n+            {props.canWriteFlows ?\n+                <span className={styles.flowName} onClick={(e) => OpenEditFlowDialog(e, index)}>\n+                    {name}\n+                </span>  :\n+                <span className={styles.disabledFlowName} onClick={(e) => e.stopPropagation()}>\n+                    {name}\n+                </span>\n+            }\n+        </Tooltip>\n+    );\n+\n+    const OpenEditFlowDialog = (e, index) => {\n+        e.stopPropagation();\n+        setTitle('Edit Flow');\n+        setFlowData(prevState => ({ ...prevState, ...props.flows[index]}));\n+        setNewFlow(true);\n+    }  \n+\n+    const StepDefToTitle = (stepDef) => {\n+        return (StepDefinitionTypeTitles[stepDef]) ? StepDefinitionTypeTitles[stepDef] : 'Unknown';\n+    }\n+\n+    let panels;\n+    if (props.flows) {\n+        panels = props.flows.map((flow, i) => {\n+            let name = flow.name;\n+            let indexes = Object.keys(flow.steps);\n+            let cards = indexes.map((i) => {\n+                let step = flow.steps[i];\n+                // TODO Handle steps that don't have input formats\n+                let stepFormat = (step.fileLocations) ?  getLoadSourceFormat(step.name) : 'json';\n+                return (\n+                    <Card \n+                        style={{ width: 300, marginRight: 20 }} \n+                        title={StepDefToTitle(step.stepDefinitionType)} \n+                        size=\"small\"\n+                        extra={\n+                            <div className={styles.actions}>\n+                                <div className={styles.run} onClick={() => props.runStep(step.name)}><Icon type=\"play-circle\" theme=\"filled\" /></div>\n+                                {props.canWriteFlows ?\n+                                    <Tooltip \n+                                        title={'Delete Step'} \n+                                        placement=\"bottom\"\n+                                    >\n+                                        <div className={styles.delete} onClick={() => handleStepDelete(flow.name, step.name)}><Icon type=\"close\" /></div>\n+                                    </Tooltip> :\n+                                    <Tooltip \n+                                        title={'Delete Step'} \n+                                        placement=\"bottom\"\n+                                    >\n+                                        <div className={styles.disabledDelete} onClick={(event) => { event.stopPropagation(); event.preventDefault(); }}><Icon type=\"close\" /></div>\n+                                    </Tooltip> \n+                                }\n+                            </div>\n+                        }\n+                    >\n+                        <div className={styles.cardContent}>\n+                            <div className={styles.format} style={sourceFormatStyle(stepFormat)}>{stepFormat.toUpperCase()}</div>\n+                            <div className={styles.name}>{step.name}</div>\n+                        </div>\n+                    </Card>\n+                )\n+            });\n+            return (\n+                <Panel \n+                    header={flowHeader(flow.name, i)} \n+                    key={i} \n+                    extra={deleteIcon(name)}\n+                >\n+                    <div className={styles.panelContent}>\n+                        {cards}\n+                    </div>\n+                </Panel>\n+            )\n+        })\n+    }\n+\n+   return (\n+    <div id=\"flows-container\" className={styles.flowsContainer}>\n+        {props.canReadFlows || props.canWriteFlows ?\n+            <>\n+                <div className={styles.createContainer}>\n+                    <Button ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDAzMTY5Nw=="}, "originalCommit": {"oid": "5a601fc5ff3e49eabf8b8586e22ea1b9d1fae1b8"}, "originalPosition": 255}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3OTE1OTQzOnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/impl/hub-utils/invoke-update-node-path.mjs", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQyMzo0Njo0NlrOFuZeIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwMjowMTo1MFrOFub-UQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDE5NjEzMQ==", "bodyText": "I think this file shouldn't be here, because we can't support .mjs files because we have to still support ML9?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3613#discussion_r384196131", "createdAt": "2020-02-25T23:46:46Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/impl/hub-utils/invoke-update-node-path.mjs", "diffHunk": "@@ -0,0 +1,25 @@\n+/**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c94b39cd3aad1b3cc47cd7852fd9e6a5ee602422"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDIzNzEzNw==", "bodyText": "yes. it was missed between branches. I'll add a commit to address it.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3613#discussion_r384237137", "createdAt": "2020-02-26T02:01:50Z", "author": {"login": "ryanjdew"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/impl/hub-utils/invoke-update-node-path.mjs", "diffHunk": "@@ -0,0 +1,25 @@\n+/**", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDE5NjEzMQ=="}, "originalCommit": {"oid": "c94b39cd3aad1b3cc47cd7852fd9e6a5ee602422"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3OTE2MTg1OnYy", "diffSide": "RIGHT", "path": "one-ui/src/main/java/com/marklogic/hub/curation/services/FlowManagerService.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQyMzo0Nzo1MVrOFuZflg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQyMzo0Nzo1MVrOFuZflg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDE5NjUwMg==", "bodyText": "No action needed in this PR, but the next time we have to touch this class, let's fold it into FlowManager.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3613#discussion_r384196502", "createdAt": "2020-02-25T23:47:51Z", "author": {"login": "rjrudin"}, "path": "one-ui/src/main/java/com/marklogic/hub/curation/services/FlowManagerService.java", "diffHunk": "@@ -38,6 +38,10 @@\n     private Scaffolding scaffolding;\n \n     public Flow updateFlow(String flowJson) {\n+        return updateFlow(flowJson, false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c94b39cd3aad1b3cc47cd7852fd9e6a5ee602422"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3566, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}