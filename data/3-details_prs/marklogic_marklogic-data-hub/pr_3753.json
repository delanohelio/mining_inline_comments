{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzMzQwMDMw", "number": 3753, "title": "DHFPROD-4610:Remove \"fileLocations\" from flow declaration", "bodyText": "Remove \"fileLocations\" from flow declaration\nDescription\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-03-25T01:49:07Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3753", "merged": true, "mergeCommit": {"oid": "64adee6aa98ba9cc99dc456929c44508cc6bf86f"}, "closed": true, "closedAt": "2020-03-25T20:20:08Z", "author": {"login": "srinathgit"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRGzZjAFqTM4MTEwNjc5OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRKsd-gFqTM4MTM1OTkzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMTA2Nzk4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3753#pullrequestreview-381106798", "createdAt": "2020-03-25T12:38:21Z", "commit": {"oid": "27893986c54cbb7cf91c51dea1b5e5acfc19159e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMjozODoyMlrOF7ZEcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMjozODoyMlrOF7ZEcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzgyMTA0Mw==", "bodyText": "What happens if an existing flow file has fileLocations in a step, and then saves the flow via QS? Won't the user lose the fileLocations data? This seems risky to me.\nCan you test this out in QS? People will still be using QS for many months to come, we can't break anything in it.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3753#discussion_r397821043", "createdAt": "2020-03-25T12:38:22Z", "author": {"login": "rjrudin"}, "path": "one-ui/src/test/java/com/marklogic/hub/curation/controllers/FlowControllerTest.java", "diffHunk": "@@ -124,8 +125,13 @@ void getFlow() throws IOException {\n \n             //POST step\n             StepModel stepModel = (StepModel)controller.createStep(\"testFlow\", 1, stepString).getBody();\n+            JsonNode flowJson = JSONUtils.convertArtifactToJson(controller.getFlow(\"testFlow\").getBody());\n \n             Assertions.assertNotNull(stepModel);\n+            //\"fileLocations\" should not be present in flow declaration\n+            Assertions.assertNotNull(flowJson.get(\"steps\").get(\"1\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27893986c54cbb7cf91c51dea1b5e5acfc19159e"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74c1ac5f334d138b1776c0952154006d7d697622", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/74c1ac5f334d138b1776c0952154006d7d697622", "committedDate": "2020-03-25T15:33:55Z", "message": "DHFPROD-4610:Remove \"fileLocations\" from flow declaration"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "27893986c54cbb7cf91c51dea1b5e5acfc19159e", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/27893986c54cbb7cf91c51dea1b5e5acfc19159e", "committedDate": "2020-03-25T01:47:50Z", "message": "DHFPROD-4610:Remove \"fileLocations\" from flow declaration"}, "afterCommit": {"oid": "74c1ac5f334d138b1776c0952154006d7d697622", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/74c1ac5f334d138b1776c0952154006d7d697622", "committedDate": "2020-03-25T15:33:55Z", "message": "DHFPROD-4610:Remove \"fileLocations\" from flow declaration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMzU5MTY0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3753#pullrequestreview-381359164", "createdAt": "2020-03-25T17:09:36Z", "commit": {"oid": "74c1ac5f334d138b1776c0952154006d7d697622"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMzU5OTM2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3753#pullrequestreview-381359936", "createdAt": "2020-03-25T17:10:25Z", "commit": {"oid": "74c1ac5f334d138b1776c0952154006d7d697622"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3237, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}