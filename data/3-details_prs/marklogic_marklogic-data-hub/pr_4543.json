{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgzNDEwNDM5", "number": 4543, "title": "DHFPROD-5898:Create hub-central roles to be shown in service portal", "bodyText": "Description\nCreate hub-central roles to be shown in service portal\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-09-10T05:46:43Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4543", "merged": true, "mergeCommit": {"oid": "657a6385aefde8432d2e09b4cde3c27062ea5257"}, "closed": true, "closedAt": "2020-09-11T07:24:15Z", "author": {"login": "srinathgit"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHf7rmgFqTQ4NTg2OTkxOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHltFNAFqTQ4NjIzNDIzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1ODY5OTE5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4543#pullrequestreview-485869919", "createdAt": "2020-09-10T12:20:07Z", "commit": {"oid": "9179f155f80768210e1c02f309ed200c124b7553"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMjoyMDowN1rOHPw1GQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMjoyMjowNFrOHPw5dQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI5MDcxMw==", "bodyText": "Let's keep the downloader role, we need someone who's not a hc-developer that can do this for testing purposes.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4543#discussion_r486290713", "createdAt": "2020-09-10T12:20:07Z", "author": {"login": "rjrudin"}, "path": "examples/reference-entity-model/src/main/ml-config/security/users/wailin.json", "diffHunk": "@@ -3,10 +3,6 @@\n   \"description\": \"Wai Lin is a Systems Analyst\",\n   \"password\": \"%%testPassword%%\",\n   \"role\": [\n-    \"hub-central-load-writer\",\n-    \"hub-central-mapping-writer\",\n-    \"hub-central-custom-reader\",\n-    \"hub-central-step-runner\",\n-    \"hub-central-downloader\"\n+    \"hub-central-curator\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9179f155f80768210e1c02f309ed200c124b7553"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI5MTgyOQ==", "bodyText": "We still need tests for all 3 of these new roles. I think we can get away with just reading the role from the Manage API and verifying that the role inherits all of the expected roles. Each assertion should explain why the role is being inherited.\nThese should be core tests - can put them in the hub.security package.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4543#discussion_r486291829", "createdAt": "2020-09-10T12:22:04Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/resources/hub-internal-config/security/roles/hub-central-curator.json", "diffHunk": "@@ -0,0 +1,12 @@\n+{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9179f155f80768210e1c02f309ed200c124b7553"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MDIxNTg1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4543#pullrequestreview-486021585", "createdAt": "2020-09-10T14:53:44Z", "commit": {"oid": "9179f155f80768210e1c02f309ed200c124b7553"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNDo1Mzo0NFrOHP4DUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNDo1Mzo0NFrOHP4DUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQwOTA0MQ==", "bodyText": "We can drop this. hc-flow-writer inherits step-runner", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4543#discussion_r486409041", "createdAt": "2020-09-10T14:53:44Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub/src/main/resources/hub-internal-config/security/roles/hub-central-curator.json", "diffHunk": "@@ -0,0 +1,12 @@\n+{\n+  \"role-name\": \"hub-central-curator\",\n+  \"description\": \"Permits managing ingestion, mapping steps, flows and running steps in Hub Central.\",\n+  \"role\": [\n+    \"hub-central-step-runner\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9179f155f80768210e1c02f309ed200c124b7553"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa8b118e43b8072ba32e5b520243e059736947ff", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/aa8b118e43b8072ba32e5b520243e059736947ff", "committedDate": "2020-09-10T17:22:20Z", "message": "DHFPROD-5898:Create hub-central roles to be shown in service portal"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9179f155f80768210e1c02f309ed200c124b7553", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/9179f155f80768210e1c02f309ed200c124b7553", "committedDate": "2020-09-10T05:45:08Z", "message": "DHFPROD-5898:Create hub-central roles to be shown in service portal"}, "afterCommit": {"oid": "aa8b118e43b8072ba32e5b520243e059736947ff", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/aa8b118e43b8072ba32e5b520243e059736947ff", "committedDate": "2020-09-10T17:22:20Z", "message": "DHFPROD-5898:Create hub-central roles to be shown in service portal"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MjA3MTY3", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4543#pullrequestreview-486207167", "createdAt": "2020-09-10T18:31:19Z", "commit": {"oid": "aa8b118e43b8072ba32e5b520243e059736947ff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MjE1NTUz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4543#pullrequestreview-486215553", "createdAt": "2020-09-10T18:43:43Z", "commit": {"oid": "aa8b118e43b8072ba32e5b520243e059736947ff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MjM0MjM2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4543#pullrequestreview-486234236", "createdAt": "2020-09-10T19:10:26Z", "commit": {"oid": "aa8b118e43b8072ba32e5b520243e059736947ff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2020, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}