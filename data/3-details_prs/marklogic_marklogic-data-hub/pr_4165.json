{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxNTI5NDQ5", "number": 4165, "title": "DHFPROD-5066: Add routes and links for handling tile view", "bodyText": "Make the different tile views \"URL accessible,\" i.e.:\n/tiles/load -> Load view\n/tiles/model -> Model view\n/tiles/curate -> Curate view\n/tiles/run -> Run view\n/tiles/explore -> Explore view\nNotes:\n\nRefactored routing in Add.tsx to add routes for the different tile views.\nMade the tool buttons links to the new routes to enable \"open in new window\" clicking etc.\nRefactored user-context to remove props no longer needed (redirect, etc).\nRemoved some routes that are no longer relevant.\nRefactored add-step-to-flow feature based on new routes (use /tiles/run/add for that).\n\nUpdated tests (with @bsrikan's help), all passing.\nDescription\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-06-29T16:40:33Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4165", "merged": true, "mergeCommit": {"oid": "4ee9c9a893b752839f8c2ba535913a381112c33a"}, "closed": true, "closedAt": "2020-06-30T18:14:14Z", "author": {"login": "wooldridge"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwD3pygBqjM0OTM2MTc4NjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwZG5-gFqTQ0MDIzNzcwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "40bd221077f4d60cc3ea422cfa61b38a4033763d", "author": {"user": {"login": "wooldridge", "name": "Mike Wooldridge"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/40bd221077f4d60cc3ea422cfa61b38a4033763d", "committedDate": "2020-06-29T16:31:54Z", "message": "DHFPROD-5066: Add routes and links for handling tile view\n\n- Refactored routing in Add.tsx to add routes for the different tile views.\n- Made the tool buttons links to the new routes to enable \"open in new window\" clicking etc.\n- Refactored user-context to remove props no longer needed (redirect, etc).\n- Removed some routes that are no longer relevant.\n- Refactored add-step-to-flow feature based on new routes."}, "afterCommit": {"oid": "a688e2e2021011de81383f7074236425fa56895c", "author": {"user": {"login": "wooldridge", "name": "Mike Wooldridge"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/a688e2e2021011de81383f7074236425fa56895c", "committedDate": "2020-06-29T16:43:57Z", "message": "DHFPROD-5066: Add routes and links for handling tile view\n\n- Refactored routing in Add.tsx to add routes for the different tile views.\n- Made the tool buttons links to the new routes to enable \"open in new window\" clicking etc.\n- Refactored user-context to remove props no longer needed (redirect, etc).\n- Removed some routes that are no longer relevant.\n- Refactored add-step-to-flow feature based on new routes."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a688e2e2021011de81383f7074236425fa56895c", "author": {"user": {"login": "wooldridge", "name": "Mike Wooldridge"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/a688e2e2021011de81383f7074236425fa56895c", "committedDate": "2020-06-29T16:43:57Z", "message": "DHFPROD-5066: Add routes and links for handling tile view\n\n- Refactored routing in Add.tsx to add routes for the different tile views.\n- Made the tool buttons links to the new routes to enable \"open in new window\" clicking etc.\n- Refactored user-context to remove props no longer needed (redirect, etc).\n- Removed some routes that are no longer relevant.\n- Refactored add-step-to-flow feature based on new routes."}, "afterCommit": {"oid": "b3ff2878772e30a2a1eab8a1e74fa5c542999759", "author": {"user": {"login": "wooldridge", "name": "Mike Wooldridge"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/b3ff2878772e30a2a1eab8a1e74fa5c542999759", "committedDate": "2020-06-29T17:05:21Z", "message": "DHFPROD-5066: Add routes and links for handling tile view\n\n- Refactored routing in Add.tsx to add routes for the different tile views.\n- Made the tool buttons links to the new routes to enable \"open in new window\" clicking etc.\n- Refactored user-context to remove props no longer needed (redirect, etc).\n- Removed some routes that are no longer relevant.\n- Refactored add-step-to-flow feature based on new routes."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MzY0MTk0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4165#pullrequestreview-439364194", "createdAt": "2020-06-29T17:41:01Z", "commit": {"oid": "b3ff2878772e30a2a1eab8a1e74fa5c542999759"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNzo0MTowMlrOGqbZVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNzo0MTowMlrOGqbZVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzE0MjIzMA==", "bodyText": "@wooldridge, the default view for explorer should be zerostate page, right now if you click on explorer icon from the toolbar it is being redirected to overview page. I did some debugging and adding this code inside the useEffect in tilesview.tsx file is fixing the issue. Please push those changes and I will test them again, also let me know if you run into any issues regarding this.\nif(props.id == 'explore')\n                setView(views[props.id], true)\n            else\n                setView(views[props.id])", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4165#discussion_r447142230", "createdAt": "2020-06-29T17:41:02Z", "author": {"login": "Sanjeevani19"}, "path": "marklogic-data-hub-central/ui/src/pages/TilesView.tsx", "diffHunk": "@@ -83,8 +87,6 @@ const TilesView = (props) => {\n             setView(views[id])\n     }\n \n-    const location: any = useLocation();\n-\n     useEffect(() => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3ff2878772e30a2a1eab8a1e74fa5c542999759"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MzY1MTcz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4165#pullrequestreview-439365173", "createdAt": "2020-06-29T17:42:20Z", "commit": {"oid": "b3ff2878772e30a2a1eab8a1e74fa5c542999759"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5Mzc1ODk4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4165#pullrequestreview-439375898", "createdAt": "2020-06-29T17:57:31Z", "commit": {"oid": "b3ff2878772e30a2a1eab8a1e74fa5c542999759"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNzo1NzozMVrOGqb-RA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNzo1NzozMVrOGqb-RA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzE1MTY4NA==", "bodyText": "Are these tests supposed to be skipped?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4165#discussion_r447151684", "createdAt": "2020-06-29T17:57:31Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/src/pages/TilesView.test.tsx", "diffHunk": "@@ -35,7 +35,7 @@ describe('Tiles View component tests for Developer user', () => {\n         cleanup();\n     })\n \n-    test('Verify TilesView renders with the toolbar', async () => {\n+    xtest('Verify TilesView renders with the toolbar', async () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3ff2878772e30a2a1eab8a1e74fa5c542999759"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NDM1NTkz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4165#pullrequestreview-439435593", "createdAt": "2020-06-29T19:26:04Z", "commit": {"oid": "e2c8622054ed8285c51e308dcaef81d95eb36f92"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxOToyNjowNFrOGqe-rQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxOToyNjowNFrOGqe-rQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIwMDk0MQ==", "bodyText": "Do we still need setView(views[props.id]); before the if condition?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4165#discussion_r447200941", "createdAt": "2020-06-29T19:26:04Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/src/pages/TilesView.tsx", "diffHunk": "@@ -93,6 +93,10 @@ const TilesView = (props) => {\n             setCurrentNode(props.id); // TODO Handle multiple with nested objects\n             setOptions(tiles[props.id]);\n             setView(views[props.id]);\n+            if(props.id == 'explore')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2c8622054ed8285c51e308dcaef81d95eb36f92"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b8c260b3890db643084b0c20b8ed3d77c964b778", "author": {"user": {"login": "wooldridge", "name": "Mike Wooldridge"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/b8c260b3890db643084b0c20b8ed3d77c964b778", "committedDate": "2020-06-30T01:47:08Z", "message": "DHFPROD-5066: fix xtests, remove onSelect(), fix setView()"}, "afterCommit": {"oid": "809a90ab47eb5c0a8d6a3e119ed5cd3c9c83be24", "author": {"user": {"login": "wooldridge", "name": "Mike Wooldridge"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/809a90ab47eb5c0a8d6a3e119ed5cd3c9c83be24", "committedDate": "2020-06-30T07:48:47Z", "message": "DHFPROD-5066: Add routes and links for handling tile view\n\n- Refactored routing in Add.tsx to add routes for the different tile views.\n- Made the tool buttons links to the new routes to enable \"open in new window\" clicking etc.\n- Refactored user-context to remove props no longer needed (redirect, etc).\n- Removed some routes that are no longer relevant.\n- Refactored add-step-to-flow feature based on new routes.\n\nDHFPROD-5066: Fix setView method for Explorer\n\nDHFPROD-5066: fix xtests, remove onSelect(), fix setView()\n\nDHFPROD-5066: fix tiles view tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwMTMxODg1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4165#pullrequestreview-440131885", "createdAt": "2020-06-30T15:26:06Z", "commit": {"oid": "809a90ab47eb5c0a8d6a3e119ed5cd3c9c83be24"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a9a38dfb06bf013f4282dcdc96321ac9a6016dc", "author": {"user": {"login": "wooldridge", "name": "Mike Wooldridge"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/1a9a38dfb06bf013f4282dcdc96321ac9a6016dc", "committedDate": "2020-06-30T16:56:13Z", "message": "DHFPROD-5066: Add routes and links for handling tile view\n\n- Refactored routing in Add.tsx to add routes for the different tile views.\n- Made the tool buttons links to the new routes to enable \"open in new window\" clicking etc.\n- Refactored user-context to remove props no longer needed (redirect, etc).\n- Removed some routes that are no longer relevant.\n- Refactored add-step-to-flow feature based on new routes.\n\nDHFPROD-5066: Fix setView method for Explorer\n\nDHFPROD-5066: fix xtests, remove onSelect(), fix setView()\n\nDHFPROD-5066: fix tiles view tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "809a90ab47eb5c0a8d6a3e119ed5cd3c9c83be24", "author": {"user": {"login": "wooldridge", "name": "Mike Wooldridge"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/809a90ab47eb5c0a8d6a3e119ed5cd3c9c83be24", "committedDate": "2020-06-30T07:48:47Z", "message": "DHFPROD-5066: Add routes and links for handling tile view\n\n- Refactored routing in Add.tsx to add routes for the different tile views.\n- Made the tool buttons links to the new routes to enable \"open in new window\" clicking etc.\n- Refactored user-context to remove props no longer needed (redirect, etc).\n- Removed some routes that are no longer relevant.\n- Refactored add-step-to-flow feature based on new routes.\n\nDHFPROD-5066: Fix setView method for Explorer\n\nDHFPROD-5066: fix xtests, remove onSelect(), fix setView()\n\nDHFPROD-5066: fix tiles view tests"}, "afterCommit": {"oid": "1a9a38dfb06bf013f4282dcdc96321ac9a6016dc", "author": {"user": {"login": "wooldridge", "name": "Mike Wooldridge"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/1a9a38dfb06bf013f4282dcdc96321ac9a6016dc", "committedDate": "2020-06-30T16:56:13Z", "message": "DHFPROD-5066: Add routes and links for handling tile view\n\n- Refactored routing in Add.tsx to add routes for the different tile views.\n- Made the tool buttons links to the new routes to enable \"open in new window\" clicking etc.\n- Refactored user-context to remove props no longer needed (redirect, etc).\n- Removed some routes that are no longer relevant.\n- Refactored add-step-to-flow feature based on new routes.\n\nDHFPROD-5066: Fix setView method for Explorer\n\nDHFPROD-5066: fix xtests, remove onSelect(), fix setView()\n\nDHFPROD-5066: fix tiles view tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwMjI3ODIz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4165#pullrequestreview-440227823", "createdAt": "2020-06-30T17:16:46Z", "commit": {"oid": "1a9a38dfb06bf013f4282dcdc96321ac9a6016dc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwMjI4NDky", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4165#pullrequestreview-440228492", "createdAt": "2020-06-30T17:17:42Z", "commit": {"oid": "1a9a38dfb06bf013f4282dcdc96321ac9a6016dc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwMjM3NzA4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4165#pullrequestreview-440237708", "createdAt": "2020-06-30T17:29:37Z", "commit": {"oid": "1a9a38dfb06bf013f4282dcdc96321ac9a6016dc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2595, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}