{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5NTYxMDY4", "number": 4853, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMzoxNzoxNVrOE4KBNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMzoyMDo0NlrOE4KGFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3MzE5ODYxOnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/marklogic-data-hub-spark-connector/writeRecords/ingestionWithNullParams.sjs", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMzoxNzoxNVrOHx6URg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMzoxNzoxNVrOHx6URg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA5NzczNA==", "bodyText": "Let's change this to asserting that datahubCreatedBy exists and is not \"\". The tests can be run by different users. We don't care about the identity of the user, we just care that the metadata is set to something.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4853#discussion_r522097734", "createdAt": "2020-11-12T13:17:15Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/marklogic-data-hub-spark-connector/writeRecords/ingestionWithNullParams.sjs", "diffHunk": "@@ -33,6 +33,7 @@ const envelope = record.document.envelope;\n \n   //should add default metadata\n   test.assertExists(record.metadata.datahubCreatedOn),\n+  String(xdmp.version()).startsWith(\"9\") ? test.assertEqual(\"flow-developer\",record.metadata.datahubCreatedBy):", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89803d10d48adca0d40855f35e7790115c40b7a6"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3MzIxMTA5OnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub/src/test/java/com/marklogic/hub/scaffolding/CreateStepTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMzoyMDo0NlrOHx6cDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMzoyMDo0NlrOHx6cDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA5OTcyNw==", "bodyText": "It's not the role that's needed, it's the http://marklogic.com/data-hub/privileges/write-match-merge privilege, right? I think it's totally fine to add those privileges to flow-developer-role, I think that's the right fix here. flow-developer-role is already over-powered since it has the manage-admin role, there's no harm in giving it more DHF privileges.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4853#discussion_r522099727", "createdAt": "2020-11-12T13:20:46Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/test/java/com/marklogic/hub/scaffolding/CreateStepTest.java", "diffHunk": "@@ -52,8 +52,11 @@ void ingestionStep() throws IOException {\n         verifyArtifactsAreWrittenToDbAndProject(\"myIngest2\", \"ingestion\", null);\n     }\n \n+    // runAsDataHubDeveloper() runs as \"flow-developer-role\" in 9.0-x who doesn't have \"hub-central-match-merge-writer, so explicitly", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89803d10d48adca0d40855f35e7790115c40b7a6"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3100, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}