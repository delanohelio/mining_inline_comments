{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2ODI2Njcy", "number": 4567, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMjoyMDoxM1rOEjVvnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMjoyMDoxM1rOEjVvnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NDkxODY4OnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub-central/ui/src/util/stomp.ts", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMjoyMDoxM1rOHRpD1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMzozMjowM1rOHRrHtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI2MDU2NA==", "bodyText": "should this be console.error?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4567#discussion_r488260564", "createdAt": "2020-09-14T22:20:13Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/src/util/stomp.ts", "diffHunk": "@@ -203,31 +208,44 @@ export class STOMPService {\n     // Resolve our Promise to the caller\n     this.resolvePromise();\n \n+    // for Cypress tests only\n+    if ((window as any).Cypress) {\n+      (window as any).stompClientConnected = true;\n+    }\n+\n     // Clear callback\n     this.resolvePromise = () => {};\n   }\n \n   // Handle errors from stomp.js\n-  public onError = (error: string) => {\n-\n-    console.error('Error: ' + error);\n-\n+  public onError = async (error: string, ...other: any[]) => {\n+    console.log('STOMP error:', error, other);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7821865d3bc540a72e9d8e5471e07c26748f9901"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI5Mzk4MA==", "bodyText": "I changed it to log as it can occur for a range of reasons, like network connection going down. I don't think it merits an error output.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4567#discussion_r488293980", "createdAt": "2020-09-14T23:31:04Z", "author": {"login": "ryanjdew"}, "path": "marklogic-data-hub-central/ui/src/util/stomp.ts", "diffHunk": "@@ -203,31 +208,44 @@ export class STOMPService {\n     // Resolve our Promise to the caller\n     this.resolvePromise();\n \n+    // for Cypress tests only\n+    if ((window as any).Cypress) {\n+      (window as any).stompClientConnected = true;\n+    }\n+\n     // Clear callback\n     this.resolvePromise = () => {};\n   }\n \n   // Handle errors from stomp.js\n-  public onError = (error: string) => {\n-\n-    console.error('Error: ' + error);\n-\n+  public onError = async (error: string, ...other: any[]) => {\n+    console.log('STOMP error:', error, other);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI2MDU2NA=="}, "originalCommit": {"oid": "7821865d3bc540a72e9d8e5471e07c26748f9901"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI5NDMyNA==", "bodyText": "Thanks Ryan.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4567#discussion_r488294324", "createdAt": "2020-09-14T23:32:03Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/src/util/stomp.ts", "diffHunk": "@@ -203,31 +208,44 @@ export class STOMPService {\n     // Resolve our Promise to the caller\n     this.resolvePromise();\n \n+    // for Cypress tests only\n+    if ((window as any).Cypress) {\n+      (window as any).stompClientConnected = true;\n+    }\n+\n     // Clear callback\n     this.resolvePromise = () => {};\n   }\n \n   // Handle errors from stomp.js\n-  public onError = (error: string) => {\n-\n-    console.error('Error: ' + error);\n-\n+  public onError = async (error: string, ...other: any[]) => {\n+    console.log('STOMP error:', error, other);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI2MDU2NA=="}, "originalCommit": {"oid": "7821865d3bc540a72e9d8e5471e07c26748f9901"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3333, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}