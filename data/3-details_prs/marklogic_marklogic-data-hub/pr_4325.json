{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYwMjYwNjgz", "number": 4325, "title": "DHFPROD-5550: Tooltip and indicator for identifier column", "bodyText": "Description\nIncludes: DHFPROD-5154, DHFPROD-5449, DHFPROD-5490, DHFPROD-5549, DHFPROD-5586\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-07-31T15:42:44Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325", "merged": true, "mergeCommit": {"oid": "4be1f626194cfa371a8d7ab9c2fe5f41d9235a7a"}, "closed": true, "closedAt": "2020-08-05T18:40:40Z", "author": {"login": "timur-isangulov"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7TcU4gBqjM2MTYzNDI3NjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7942TgFqTQ2MTgzNDA0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8beb28d5525264cb06c1c629f8a18eafbfb42438", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/8beb28d5525264cb06c1c629f8a18eafbfb42438", "committedDate": "2020-07-31T15:40:19Z", "message": "DHFPROD-5550: Tooltip and indicator for identifier column"}, "afterCommit": {"oid": "efaffeb8b7034e86cce0930d9002eba0b7f68a22", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/efaffeb8b7034e86cce0930d9002eba0b7f68a22", "committedDate": "2020-08-03T15:06:20Z", "message": "DHFPROD-5550: Tooltip and indicator for identifier column"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "efaffeb8b7034e86cce0930d9002eba0b7f68a22", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/efaffeb8b7034e86cce0930d9002eba0b7f68a22", "committedDate": "2020-08-03T15:06:20Z", "message": "DHFPROD-5550: Tooltip and indicator for identifier column"}, "afterCommit": {"oid": "fc98beaa7e863c997364ec3d630f08e90e1b9884", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/fc98beaa7e863c997364ec3d630f08e90e1b9884", "committedDate": "2020-08-03T19:47:17Z", "message": "DHFPROD-5550: Tooltip and indicator for identifier column"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMzE0ODE0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#pullrequestreview-460314814", "createdAt": "2020-08-03T20:21:17Z", "commit": {"oid": "fc98beaa7e863c997364ec3d630f08e90e1b9884"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwOTY5OTQy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#pullrequestreview-460969942", "createdAt": "2020-08-04T16:19:31Z", "commit": {"oid": "fc98beaa7e863c997364ec3d630f08e90e1b9884"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwOTYwNTM2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#pullrequestreview-460960536", "createdAt": "2020-08-04T16:08:05Z", "commit": {"oid": "fc98beaa7e863c997364ec3d630f08e90e1b9884"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNjowODowNVrOG7nWgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNjoyMjo0MFrOG7n8Lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE2MzkwNw==", "bodyText": "Its better to create a props object that can then be used in render. We will then have a common set of props required for the component and can add overrides based on the needs of the test. We can avoid making changes in every test like adding primaryKey in this PR and the tests will be maintainable.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#discussion_r465163907", "createdAt": "2020-08-04T16:08:05Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/src/components/column-selector/column-selector.test.tsx", "diffHunk": "@@ -1,24 +1,24 @@\n import React from 'react';\n import ColumnSelector from './column-selector';\n-import { render, fireEvent } from '@testing-library/react';\n-import {entityPropertyDefinitions, selectedPropertyDefinitions} from \"../../assets/mock-data/entity-search\";\n+import { render, fireEvent, waitForElement } from '@testing-library/react';\n+import { entityPropertyDefinitions, selectedPropertyDefinitions } from \"../../assets/mock-data/entity-search\";\n \n-let columns = ['id', 'firstName', 'lastName', 'age', 'phoneNumber.work']\n+let columns = ['customerId', 'name', 'nicknames', 'shipping', 'billing']\n \n describe('Column selector component', () => {\n \n   test('Verify popover is visible', () => {\n-    const { queryByTestId } = render(<ColumnSelector popoverVisibility={true} setPopoverVisibility={jest.fn()} entityPropertyDefinitions={entityPropertyDefinitions} selectedPropertyDefinitions={selectedPropertyDefinitions} setColumnSelectorTouched={jest.fn()} columns={columns}/>);\n+    const { queryByTestId } = render(<ColumnSelector popoverVisibility={true} setPopoverVisibility={jest.fn()} entityPropertyDefinitions={entityPropertyDefinitions} selectedPropertyDefinitions={selectedPropertyDefinitions} setColumnSelectorTouched={jest.fn()} columns={columns} primaryKey={''}/>);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc98beaa7e863c997364ec3d630f08e90e1b9884"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE2OTk3MA==", "bodyText": "All these tests for popover and tooltips, we should group them together instead of adding 1 line tests.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#discussion_r465169970", "createdAt": "2020-08-04T16:16:54Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/src/components/column-selector/column-selector.test.tsx", "diffHunk": "@@ -27,19 +27,32 @@ describe('Column selector component', () => {\n   });\n \n   test('Verify cancel button closes popover', () => {\n-    const { getByText } = render(<ColumnSelector popoverVisibility={true} setPopoverVisibility={jest.fn()} entityPropertyDefinitions={entityPropertyDefinitions} selectedPropertyDefinitions={selectedPropertyDefinitions} setColumnSelectorTouched={jest.fn()} columns={columns}/>);\n+    const { getByText } = render(<ColumnSelector popoverVisibility={true} setPopoverVisibility={jest.fn()} entityPropertyDefinitions={entityPropertyDefinitions} selectedPropertyDefinitions={selectedPropertyDefinitions} setColumnSelectorTouched={jest.fn()} columns={columns} primaryKey={''}/>);\n     const cancelButton = getByText('Cancel');\n     cancelButton.onclick = jest.fn();\n     fireEvent.click(cancelButton);\n     expect(cancelButton.onclick).toHaveBeenCalledTimes(1);\n   });\n \n   test('Verify apply button closes popover', () => {\n-    const { getByText } = render(<ColumnSelector popoverVisibility={true} setPopoverVisibility={jest.fn()} entityPropertyDefinitions={entityPropertyDefinitions} selectedPropertyDefinitions={selectedPropertyDefinitions} setColumnSelectorTouched={jest.fn()} columns={columns}/>);\n+    const { getByText } = render(<ColumnSelector popoverVisibility={true} setPopoverVisibility={jest.fn()} entityPropertyDefinitions={entityPropertyDefinitions} selectedPropertyDefinitions={selectedPropertyDefinitions} setColumnSelectorTouched={jest.fn()} columns={columns} primaryKey={''}/>);\n     const applyButton = getByText('Apply');\n     applyButton.onclick = jest.fn();\n     fireEvent.click(applyButton);\n     expect(applyButton.onclick).toHaveBeenCalledTimes(1);\n   });\n+\n+  test('Verify primaryKey tooltip renders', async () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc98beaa7e863c997364ec3d630f08e90e1b9884"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE3MzU1MQ==", "bodyText": "there is already a test for column selector visibility and the test to verify tooltip should go in there. All tests should be grouped together when possible. We should try to avoid one line tests. A typical user would not login to HC and navigate to explorer tile to verify tooltip or popover closes.\nLets remember the Guiding Principle of RTL whenever tests are added -- \"The more your tests resemble the way your software is used, the more confidence they can give you.\"", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#discussion_r465173551", "createdAt": "2020-08-04T16:22:40Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/src/components/column-selector/column-selector.test.tsx", "diffHunk": "@@ -27,19 +27,32 @@ describe('Column selector component', () => {\n   });\n \n   test('Verify cancel button closes popover', () => {\n-    const { getByText } = render(<ColumnSelector popoverVisibility={true} setPopoverVisibility={jest.fn()} entityPropertyDefinitions={entityPropertyDefinitions} selectedPropertyDefinitions={selectedPropertyDefinitions} setColumnSelectorTouched={jest.fn()} columns={columns}/>);\n+    const { getByText } = render(<ColumnSelector popoverVisibility={true} setPopoverVisibility={jest.fn()} entityPropertyDefinitions={entityPropertyDefinitions} selectedPropertyDefinitions={selectedPropertyDefinitions} setColumnSelectorTouched={jest.fn()} columns={columns} primaryKey={''}/>);\n     const cancelButton = getByText('Cancel');\n     cancelButton.onclick = jest.fn();\n     fireEvent.click(cancelButton);\n     expect(cancelButton.onclick).toHaveBeenCalledTimes(1);\n   });\n \n   test('Verify apply button closes popover', () => {\n-    const { getByText } = render(<ColumnSelector popoverVisibility={true} setPopoverVisibility={jest.fn()} entityPropertyDefinitions={entityPropertyDefinitions} selectedPropertyDefinitions={selectedPropertyDefinitions} setColumnSelectorTouched={jest.fn()} columns={columns}/>);\n+    const { getByText } = render(<ColumnSelector popoverVisibility={true} setPopoverVisibility={jest.fn()} entityPropertyDefinitions={entityPropertyDefinitions} selectedPropertyDefinitions={selectedPropertyDefinitions} setColumnSelectorTouched={jest.fn()} columns={columns} primaryKey={''}/>);\n     const applyButton = getByText('Apply');\n     applyButton.onclick = jest.fn();\n     fireEvent.click(applyButton);\n     expect(applyButton.onclick).toHaveBeenCalledTimes(1);\n   });\n+\n+  test('Verify primaryKey tooltip renders', async () => {\n+    const { getByTestId } = render(<ColumnSelector popoverVisibility={true} setPopoverVisibility={jest.fn()} entityPropertyDefinitions={entityPropertyDefinitions} selectedPropertyDefinitions={selectedPropertyDefinitions} setColumnSelectorTouched={jest.fn()} columns={columns} primaryKey={'customerId'}/>);\n+    expect(getByTestId('pk-tooltip')).toBeInTheDocument();\n+  });\n+\n+\n+  test('Verify column selector tooltips renders', async () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc98beaa7e863c997364ec3d630f08e90e1b9884"}, "originalPosition": 58}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwOTc0Njc4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#pullrequestreview-460974678", "createdAt": "2020-08-04T16:25:25Z", "commit": {"oid": "fc98beaa7e863c997364ec3d630f08e90e1b9884"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNjoyNToyNVrOG7oDEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNjoyNToyNVrOG7oDEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE3NTMxMg==", "bodyText": "@timur-isangulov Removing hasOwnProperty condition will throw an error when user clicks on last processed time from modelling screen", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#discussion_r465175312", "createdAt": "2020-08-04T16:25:25Z", "author": {"login": "Sanjeevani19"}, "path": "marklogic-data-hub-central/ui/src/pages/Browse.tsx", "diffHunk": "@@ -160,23 +160,24 @@ const Browse: React.FC<Props> = ({ location }) => {\n       }\n       applySaveQuery(options);\n     }\n-    if(location.state && location.hasOwnProperty('zeroState') && !location.state['zeroState']){\n-        setPageWithEntity(location.state['entity'],\n-            location.state['pageNumber'],\n-            location.state['start'],\n-            location.state['searchFacets'],\n-            location.state['query'])\n-        location.state['tableView'] ? toggleTableView(true) : toggleTableView(false);\n-    }\n-    if(location.state && location.state['entityName'] && location.state['jobId']){\n-        setLatestJobFacet(location.state['jobId'], location.state['entityName']);\n+\n+    if (location.state && location.state['entityName'] && location.state['jobId']) {\n+      setLatestJobFacet(location.state['jobId'], location.state['entityName']);\n     }\n     if (location.state && location.state['entity']) {\n       setEntityClearQuery(location.state['entity']);\n     }\n     if (location.state && location.state['jobId']) {\n       setLatestJobFacet(location.state['jobId'], location.state['entityName']);\n     }\n+    if (location.state && !location.state['zeroState']) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc98beaa7e863c997364ec3d630f08e90e1b9884"}, "originalPosition": 42}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fc98beaa7e863c997364ec3d630f08e90e1b9884", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/fc98beaa7e863c997364ec3d630f08e90e1b9884", "committedDate": "2020-08-03T19:47:17Z", "message": "DHFPROD-5550: Tooltip and indicator for identifier column"}, "afterCommit": {"oid": "290164fdbbf0d0eaf7b7476c40cbd02921e847bd", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/290164fdbbf0d0eaf7b7476c40cbd02921e847bd", "committedDate": "2020-08-04T20:07:51Z", "message": "DHFPROD-5550: Tooltip and indicator for identifier column"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMTQ2MTI3", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#pullrequestreview-461146127", "createdAt": "2020-08-04T20:23:33Z", "commit": {"oid": "290164fdbbf0d0eaf7b7476c40cbd02921e847bd"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjI5NTQ4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#pullrequestreview-461229548", "createdAt": "2020-08-04T22:52:34Z", "commit": {"oid": "290164fdbbf0d0eaf7b7476c40cbd02921e847bd"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjQ3MDE1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#pullrequestreview-461247015", "createdAt": "2020-08-04T23:41:29Z", "commit": {"oid": "290164fdbbf0d0eaf7b7476c40cbd02921e847bd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzo0MToyOVrOG71H3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzo0MToyOVrOG71H3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM4OTUzNQ==", "bodyText": "Must verify the warning message. This can be verified via RTL as well, just FYI.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#discussion_r465389535", "createdAt": "2020-08-04T23:41:29Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/e2e/cypress/integration/explorer/scenarios.queries.tsx", "diffHunk": "@@ -361,6 +361,12 @@ describe('save/manage queries scenarios, developer role', () => {\n         browsePage.getExploreButton().click();\n     })\n \n+    it('verify export array/structured data warning', () => {\n+        browsePage.selectEntity('Order');\n+        browsePage.getSelectedEntity().should('contain', 'Order');\n+        browsePage.getDataExportIcon().click();\n+        browsePage.getStructuredDataWarning().should('be.visible');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "290164fdbbf0d0eaf7b7476c40cbd02921e847bd"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjQ3MzA4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#pullrequestreview-461247308", "createdAt": "2020-08-04T23:42:22Z", "commit": {"oid": "290164fdbbf0d0eaf7b7476c40cbd02921e847bd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzo0MjoyMlrOG71IyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzo0MjoyMlrOG71IyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM4OTc2OQ==", "bodyText": "can we try using cy.findByTestId.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#discussion_r465389769", "createdAt": "2020-08-04T23:42:22Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/e2e/cypress/support/pages/browse.tsx", "diffHunk": "@@ -461,6 +465,17 @@ class BrowsePage {\n   }\n \n \n+  //data export modal\n+  getStructuredDataWarning() {\n+    return cy.get('[data-testid=\"export-warning\"]');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "290164fdbbf0d0eaf7b7476c40cbd02921e847bd"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjQ3OTkw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#pullrequestreview-461247990", "createdAt": "2020-08-04T23:44:26Z", "commit": {"oid": "290164fdbbf0d0eaf7b7476c40cbd02921e847bd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzo0NDoyNlrOG71LGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzo0NDoyNlrOG71LGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM5MDM2MQ==", "bodyText": "Need a test to verify this tooltip.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#discussion_r465390361", "createdAt": "2020-08-04T23:44:26Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/src/components/column-selector/column-selector.tsx", "diffHunk": "@@ -94,10 +97,14 @@ const ColumnSelector: React.FC<Props> = (props) => {\n         }\n       }\n       if (item.visible === false) {\n-        return <TreeNode style={{ display: 'none' }} title={title} disabled={item.key === primaryKey} disableCheckbox={item.key === primaryKey} key={item.key} />;\n-\n+        return <TreeNode style={{ display: 'none' }} title={title} key={item.key} />;\n       } else {\n-        return <TreeNode title={title} disabled={item.key === primaryKey} disableCheckbox={item.key === primaryKey} key={item.key} />;\n+        if (item && primaryKey && item.key === primaryKey.key) {\n+          let pkTitle = <MLTooltip title={'The column identified as the unique identifier must always be displayed.'} placement=\"top\">{title}</MLTooltip>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "290164fdbbf0d0eaf7b7476c40cbd02921e847bd"}, "originalPosition": 49}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjQ4OTM4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#pullrequestreview-461248938", "createdAt": "2020-08-04T23:47:22Z", "commit": {"oid": "290164fdbbf0d0eaf7b7476c40cbd02921e847bd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzo0NzoyMlrOG71OhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzo0NzoyMlrOG71OhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM5MTIzNw==", "bodyText": "i believe this is the fix for browser back button issue. Need a test for this.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#discussion_r465391237", "createdAt": "2020-08-04T23:47:22Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/src/pages/Browse.tsx", "diffHunk": "@@ -160,23 +160,21 @@ const Browse: React.FC<Props> = ({ location }) => {\n       }\n       applySaveQuery(options);\n     }\n-    if(location.state && location.hasOwnProperty('zeroState') && !location.state['zeroState']){\n-        setPageWithEntity(location.state['entity'],\n-            location.state['pageNumber'],\n-            location.state['start'],\n-            location.state['searchFacets'],\n-            location.state['query'])\n-        location.state['tableView'] ? toggleTableView(true) : toggleTableView(false);\n+\n+    if (location.state && location.state.hasOwnProperty('zeroState') && !location.state['zeroState']) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "290164fdbbf0d0eaf7b7476c40cbd02921e847bd"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjQ5NTM2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#pullrequestreview-461249536", "createdAt": "2020-08-04T23:49:10Z", "commit": {"oid": "290164fdbbf0d0eaf7b7476c40cbd02921e847bd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzo0OToxMVrOG71QcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzo0OToxMVrOG71QcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM5MTcyOA==", "bodyText": "Not sure what this is for. can you pls explain.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#discussion_r465391728", "createdAt": "2020-08-04T23:49:11Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/src/components/queries/managing/manage-query-modal/manage-query.tsx", "diffHunk": "@@ -129,9 +128,23 @@ const QueryModal = (props) => {\n                 query = selectedQuery;\n             }\n         })\n+\n+        //hadle array datatype ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "290164fdbbf0d0eaf7b7476c40cbd02921e847bd"}, "originalPosition": 13}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "290164fdbbf0d0eaf7b7476c40cbd02921e847bd", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/290164fdbbf0d0eaf7b7476c40cbd02921e847bd", "committedDate": "2020-08-04T20:07:51Z", "message": "DHFPROD-5550: Tooltip and indicator for identifier column"}, "afterCommit": {"oid": "0c135d1ca4583f2a5ca1fe6f819f1c4a9eaf5b10", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/0c135d1ca4583f2a5ca1fe6f819f1c4a9eaf5b10", "committedDate": "2020-08-05T00:04:14Z", "message": "DHFPROD-5550: Tooltip and indicator for identifier column"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0c135d1ca4583f2a5ca1fe6f819f1c4a9eaf5b10", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/0c135d1ca4583f2a5ca1fe6f819f1c4a9eaf5b10", "committedDate": "2020-08-05T00:04:14Z", "message": "DHFPROD-5550: Tooltip and indicator for identifier column"}, "afterCommit": {"oid": "bad52702f835d5057fa75ce5a09f58364b7163a5", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/bad52702f835d5057fa75ce5a09f58364b7163a5", "committedDate": "2020-08-05T00:08:12Z", "message": "DHFPROD-5550: Tooltip and indicator for identifier column"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjcyNzIw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#pullrequestreview-461272720", "createdAt": "2020-08-05T01:05:23Z", "commit": {"oid": "bad52702f835d5057fa75ce5a09f58364b7163a5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwMTowNToyM1rOG72jAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwMTowNToyM1rOG72jAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQxMjg2NQ==", "bodyText": "I was asking for what this code block is for, so I can comment on what type of tests we should add.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#discussion_r465412865", "createdAt": "2020-08-05T01:05:23Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/src/components/queries/managing/manage-query-modal/manage-query.tsx", "diffHunk": "@@ -129,9 +128,22 @@ const QueryModal = (props) => {\n                 query = selectedQuery;\n             }\n         })\n+\n+        let arrayProperties = new Array();\n+        props.entityDefArray && props.entityDefArray.forEach(entity => {\n+            if (entity.name === query.savedQuery.query.entityTypeIds[0]) {\n+                entity.properties && entity.properties.forEach(prop => {\n+                    if (prop.ref.length === 0 && prop.datatype === 'array') {\n+                        arrayProperties.push(prop.name)\n+                    }\n+                });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bad52702f835d5057fa75ce5a09f58364b7163a5"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7984c6bbceaebb9486a7653af7d948f158c5f9c", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/f7984c6bbceaebb9486a7653af7d948f158c5f9c", "committedDate": "2020-08-05T14:35:12Z", "message": "DHFPROD-5550: Tooltip and indicator for identifier column"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bad52702f835d5057fa75ce5a09f58364b7163a5", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/bad52702f835d5057fa75ce5a09f58364b7163a5", "committedDate": "2020-08-05T00:08:12Z", "message": "DHFPROD-5550: Tooltip and indicator for identifier column"}, "afterCommit": {"oid": "f7984c6bbceaebb9486a7653af7d948f158c5f9c", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/f7984c6bbceaebb9486a7653af7d948f158c5f9c", "committedDate": "2020-08-05T14:35:12Z", "message": "DHFPROD-5550: Tooltip and indicator for identifier column"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxODMyOTg1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#pullrequestreview-461832985", "createdAt": "2020-08-05T16:32:37Z", "commit": {"oid": "f7984c6bbceaebb9486a7653af7d948f158c5f9c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxODM0MDQz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4325#pullrequestreview-461834043", "createdAt": "2020-08-05T16:33:55Z", "commit": {"oid": "f7984c6bbceaebb9486a7653af7d948f158c5f9c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2526, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}