{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM2MjMwMTEx", "number": 4983, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMDowNzoyOVrOFFMYtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMDoyNjoyNVrOFFNJfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwOTkwMTM1OnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub-central/ui/src/components/header/header.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMDowNzoyOVrOIFlQmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMTozNzowNlrOIFrE_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjcyNDI0OA==", "bodyText": "We've updated the header logo to link to marklogic.com. There's a test in App.test.tsx (line 46) that checks that this goes to the Overview page when clicked. I think this needs to be updated to test the new link, it's failing in my env.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#discussion_r542724248", "createdAt": "2020-12-14T20:07:29Z", "author": {"login": "wooldridge"}, "path": "marklogic-data-hub-central/ui/src/components/header/header.tsx", "diffHunk": "@@ -141,25 +215,54 @@ const Header:React.FC<Props> = (props) => {\n         theme=\"dark\"\n       >\n         <Menu.Item>\n-          <MLTooltip title=\"Help\"><a id=\"help-link\" href=\"https://docs.marklogic.com/datahub/\" target=\"_blank\"><Icon type=\"question-circle\"/></a></MLTooltip>\n+          <MLTooltip title=\"Help\">\n+            <div className={styles.helpIconContainer}>\n+              <a id=\"help-link\" href=\"https://docs.marklogic.com/datahub/\" target=\"_blank\" tabIndex={1} className={styles.helpIconLink}>\n+                <Icon type=\"question-circle\" className={styles.helpIcon}/>\n+              </a>\n+            </div>\n+          </MLTooltip>\n         </Menu.Item>\n       </Menu>\n     </div>;\n   }\n \n-  const handleHomeClick = () => {\n+  const handleHomeClick = (event) => {\n+    event.preventDefault();\n     props.history.push(\"/tiles\");\n   };\n \n+  const logoKeyDownHandler = (event) => {\n+    if (event.key === \"ArrowRight\") { titleRef.current!.focus(); }\n+  };\n+\n+  const logoClickHandler = (event) => {\n+    event.preventDefault();\n+    logoRef.current!.click();\n+  };\n+\n+  const titleKeyDownHandle = (event) => {\n+    if (event.key === \"Enter\") { handleHomeClick(event); }\n+\n+    if (event.key === \"ArrowRight\") { serviceNameRef.current!.focus(); }\n+    if (event.key === \"ArrowLeft\") { logoRef.current!.focus(); }\n+  };\n+\n   return (\n     <>\n       <Layout.Header className={styles.container}>\n-        <div className={styles.logoContainer} aria-label=\"header-logo\" onClick={handleHomeClick}>\n-          <Avatar className={styles.logo} src={logo} />\n+        <div className={styles.logoContainer} aria-label=\"header-logo\">\n+          <a href=\"https://www.marklogic.com/\" aria-label=\"logo-link\" className={styles.logo} tabIndex={1} ref={logoRef} ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "244c22e8399fe3224754fefbd79d02785c5e0eed"}, "originalPosition": 205}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjgxOTU4MA==", "bodyText": "fixed", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#discussion_r542819580", "createdAt": "2020-12-14T21:37:06Z", "author": {"login": "jyangML"}, "path": "marklogic-data-hub-central/ui/src/components/header/header.tsx", "diffHunk": "@@ -141,25 +215,54 @@ const Header:React.FC<Props> = (props) => {\n         theme=\"dark\"\n       >\n         <Menu.Item>\n-          <MLTooltip title=\"Help\"><a id=\"help-link\" href=\"https://docs.marklogic.com/datahub/\" target=\"_blank\"><Icon type=\"question-circle\"/></a></MLTooltip>\n+          <MLTooltip title=\"Help\">\n+            <div className={styles.helpIconContainer}>\n+              <a id=\"help-link\" href=\"https://docs.marklogic.com/datahub/\" target=\"_blank\" tabIndex={1} className={styles.helpIconLink}>\n+                <Icon type=\"question-circle\" className={styles.helpIcon}/>\n+              </a>\n+            </div>\n+          </MLTooltip>\n         </Menu.Item>\n       </Menu>\n     </div>;\n   }\n \n-  const handleHomeClick = () => {\n+  const handleHomeClick = (event) => {\n+    event.preventDefault();\n     props.history.push(\"/tiles\");\n   };\n \n+  const logoKeyDownHandler = (event) => {\n+    if (event.key === \"ArrowRight\") { titleRef.current!.focus(); }\n+  };\n+\n+  const logoClickHandler = (event) => {\n+    event.preventDefault();\n+    logoRef.current!.click();\n+  };\n+\n+  const titleKeyDownHandle = (event) => {\n+    if (event.key === \"Enter\") { handleHomeClick(event); }\n+\n+    if (event.key === \"ArrowRight\") { serviceNameRef.current!.focus(); }\n+    if (event.key === \"ArrowLeft\") { logoRef.current!.focus(); }\n+  };\n+\n   return (\n     <>\n       <Layout.Header className={styles.container}>\n-        <div className={styles.logoContainer} aria-label=\"header-logo\" onClick={handleHomeClick}>\n-          <Avatar className={styles.logo} src={logo} />\n+        <div className={styles.logoContainer} aria-label=\"header-logo\">\n+          <a href=\"https://www.marklogic.com/\" aria-label=\"logo-link\" className={styles.logo} tabIndex={1} ref={logoRef} ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjcyNDI0OA=="}, "originalCommit": {"oid": "244c22e8399fe3224754fefbd79d02785c5e0eed"}, "originalPosition": 205}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxMDAyNjIzOnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub-central/ui/src/pages/Overview.test.tsx", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMDoyNjoyNVrOIFmeuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMTozNjo1N1rOIFrEkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjc0NDI0OA==", "bodyText": "I'm also seeing this import for fireEvent repeated on line 10 and my testing is complaining, remove the one on line 10?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#discussion_r542744248", "createdAt": "2020-12-14T20:26:25Z", "author": {"login": "wooldridge"}, "path": "marklogic-data-hub-central/ui/src/pages/Overview.test.tsx", "diffHunk": "@@ -1,6 +1,7 @@\n import React from \"react\";\n import {Router} from \"react-router\";\n import {createMemoryHistory} from \"history\";\n+import userEvent from \"@testing-library/user-event\";\n import {render, fireEvent} from \"@testing-library/react\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "244c22e8399fe3224754fefbd79d02785c5e0eed"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjc0NjgwMw==", "bodyText": "I see the test file getting fireEvent from two different places, /react and /dom.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#discussion_r542746803", "createdAt": "2020-12-14T20:28:45Z", "author": {"login": "wooldridge"}, "path": "marklogic-data-hub-central/ui/src/pages/Overview.test.tsx", "diffHunk": "@@ -1,6 +1,7 @@\n import React from \"react\";\n import {Router} from \"react-router\";\n import {createMemoryHistory} from \"history\";\n+import userEvent from \"@testing-library/user-event\";\n import {render, fireEvent} from \"@testing-library/react\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjc0NDI0OA=="}, "originalCommit": {"oid": "244c22e8399fe3224754fefbd79d02785c5e0eed"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjgxOTQ3Mw==", "bodyText": "fixed", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#discussion_r542819473", "createdAt": "2020-12-14T21:36:57Z", "author": {"login": "jyangML"}, "path": "marklogic-data-hub-central/ui/src/pages/Overview.test.tsx", "diffHunk": "@@ -1,6 +1,7 @@\n import React from \"react\";\n import {Router} from \"react-router\";\n import {createMemoryHistory} from \"history\";\n+import userEvent from \"@testing-library/user-event\";\n import {render, fireEvent} from \"@testing-library/react\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjc0NDI0OA=="}, "originalCommit": {"oid": "244c22e8399fe3224754fefbd79d02785c5e0eed"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3043, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}