{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyMDA4MDA5", "number": 3808, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QwNToyNDo1N1rODxJN3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMjo0MjoxMFrODxabow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyODU3ODIyOnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/controllers/EnvironmentController.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QwNToyNDo1N1rOGEdGGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxMzowNjo0MVrOGEl6TA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzMyNDE4Nw==", "bodyText": "We still need the request path to be\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @RequestMapping(method = RequestMethod.GET)\n          \n          \n            \n                @RequestMapping(value = \"/api/info\", method = RequestMethod.GET)", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3808#discussion_r407324187", "createdAt": "2020-04-13T05:24:57Z", "author": {"login": "akshaysonvane"}, "path": "marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/controllers/EnvironmentController.java", "diffHunk": "@@ -18,145 +18,94 @@\n import com.fasterxml.jackson.databind.JsonNode;\n import com.fasterxml.jackson.databind.ObjectMapper;\n import com.fasterxml.jackson.databind.node.ObjectNode;\n-import com.marklogic.appdeployer.AppConfig;\n-import com.marklogic.hub.HubProject;\n-import com.marklogic.hub.central.exceptions.BadRequestException;\n-import com.marklogic.hub.central.exceptions.ProjectDirectoryException;\n-import com.marklogic.hub.central.listener.UIDeployListener;\n-import com.marklogic.hub.central.models.HubConfigSession;\n-import com.marklogic.hub.central.services.DataHubProjectUtils;\n-import com.marklogic.hub.central.services.DataHubService;\n-import com.marklogic.hub.central.services.EnvironmentService;\n-import java.io.IOException;\n-import java.io.OutputStream;\n-import java.nio.file.Path;\n-import java.nio.file.Paths;\n-import javax.servlet.http.HttpServletRequest;\n-import javax.servlet.http.HttpServletResponse;\n-import org.apache.commons.lang3.StringUtils;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n+import com.marklogic.client.ext.helper.LoggingObject;\n+import com.marklogic.hub.central.HubCentral;\n+import com.marklogic.hub.impl.Versions;\n import org.springframework.beans.factory.annotation.Autowired;\n-import org.springframework.http.MediaType;\n-import org.springframework.messaging.simp.SimpMessagingTemplate;\n+import org.springframework.core.env.Environment;\n+import org.springframework.http.HttpStatus;\n+import org.springframework.http.ResponseEntity;\n import org.springframework.stereotype.Controller;\n-import org.springframework.web.bind.annotation.RequestBody;\n import org.springframework.web.bind.annotation.RequestMapping;\n import org.springframework.web.bind.annotation.RequestMethod;\n import org.springframework.web.bind.annotation.RequestParam;\n import org.springframework.web.bind.annotation.ResponseBody;\n import org.springframework.web.multipart.MultipartFile;\n \n-@Controller\n-@RequestMapping(\"/api/environment\")\n-public class EnvironmentController {\n-    protected final Logger logger = LoggerFactory.getLogger(this.getClass());\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import java.util.HashMap;\n+import java.util.Map;\n \n-    @Autowired\n-    EnvironmentService environmentService;\n+@Controller\n+public class EnvironmentController extends LoggingObject {\n \n     @Autowired\n-    HubConfigSession hubConfig;\n+    HubCentral hubCentral;\n \n     @Autowired\n-    DataHubService dataHubService;\n+    Versions versions;\n \n     @Autowired\n-    private SimpMessagingTemplate template;\n+    Environment environment;\n \n     private ObjectMapper mapper = new ObjectMapper();\n \n-    @RequestMapping(value = \"/initialized\", method = RequestMethod.GET)\n+    @RequestMapping(method = RequestMethod.GET)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "baac29b7718aef3361dbc43683450c0e5ccc98b3"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQ2ODYyMA==", "bodyText": "Thanks, forgot that when copying the method over.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3808#discussion_r407468620", "createdAt": "2020-04-13T13:06:41Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/controllers/EnvironmentController.java", "diffHunk": "@@ -18,145 +18,94 @@\n import com.fasterxml.jackson.databind.JsonNode;\n import com.fasterxml.jackson.databind.ObjectMapper;\n import com.fasterxml.jackson.databind.node.ObjectNode;\n-import com.marklogic.appdeployer.AppConfig;\n-import com.marklogic.hub.HubProject;\n-import com.marklogic.hub.central.exceptions.BadRequestException;\n-import com.marklogic.hub.central.exceptions.ProjectDirectoryException;\n-import com.marklogic.hub.central.listener.UIDeployListener;\n-import com.marklogic.hub.central.models.HubConfigSession;\n-import com.marklogic.hub.central.services.DataHubProjectUtils;\n-import com.marklogic.hub.central.services.DataHubService;\n-import com.marklogic.hub.central.services.EnvironmentService;\n-import java.io.IOException;\n-import java.io.OutputStream;\n-import java.nio.file.Path;\n-import java.nio.file.Paths;\n-import javax.servlet.http.HttpServletRequest;\n-import javax.servlet.http.HttpServletResponse;\n-import org.apache.commons.lang3.StringUtils;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n+import com.marklogic.client.ext.helper.LoggingObject;\n+import com.marklogic.hub.central.HubCentral;\n+import com.marklogic.hub.impl.Versions;\n import org.springframework.beans.factory.annotation.Autowired;\n-import org.springframework.http.MediaType;\n-import org.springframework.messaging.simp.SimpMessagingTemplate;\n+import org.springframework.core.env.Environment;\n+import org.springframework.http.HttpStatus;\n+import org.springframework.http.ResponseEntity;\n import org.springframework.stereotype.Controller;\n-import org.springframework.web.bind.annotation.RequestBody;\n import org.springframework.web.bind.annotation.RequestMapping;\n import org.springframework.web.bind.annotation.RequestMethod;\n import org.springframework.web.bind.annotation.RequestParam;\n import org.springframework.web.bind.annotation.ResponseBody;\n import org.springframework.web.multipart.MultipartFile;\n \n-@Controller\n-@RequestMapping(\"/api/environment\")\n-public class EnvironmentController {\n-    protected final Logger logger = LoggerFactory.getLogger(this.getClass());\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import java.util.HashMap;\n+import java.util.Map;\n \n-    @Autowired\n-    EnvironmentService environmentService;\n+@Controller\n+public class EnvironmentController extends LoggingObject {\n \n     @Autowired\n-    HubConfigSession hubConfig;\n+    HubCentral hubCentral;\n \n     @Autowired\n-    DataHubService dataHubService;\n+    Versions versions;\n \n     @Autowired\n-    private SimpMessagingTemplate template;\n+    Environment environment;\n \n     private ObjectMapper mapper = new ObjectMapper();\n \n-    @RequestMapping(value = \"/initialized\", method = RequestMethod.GET)\n+    @RequestMapping(method = RequestMethod.GET)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzMyNDE4Nw=="}, "originalCommit": {"oid": "baac29b7718aef3361dbc43683450c0e5ccc98b3"}, "originalPosition": 68}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMTM5ODc1OnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub-central/ui/.gitignore", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMjo0MjoxMFrOGE3yyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMjo0MjoxMFrOGE3yyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc2MTYxMQ==", "bodyText": "@brucean52 is having these gitignored in his PR #3807 and its merged to develop now.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3808#discussion_r407761611", "createdAt": "2020-04-13T22:42:10Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/.gitignore", "diffHunk": "@@ -26,3 +26,6 @@ yarn-error.log*\n \n .idea\n *.iml\n+\n+cobertura-coverage.xml\n+TEST-UI_Unit.xml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af50a380fcd8e0918bc1886faea9195d5a79b5d0"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3397, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}