{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3NjI4MjM5", "number": 4206, "title": "DHFPROD-5358: Fixing the issue where UI throws error when source document is not an entity instance", "bodyText": "Description\nThis PR fixes the bug DHFPROD-5358. Just a small bug fix so no unit tests added. @timur-isangulov will add an e2e test for this later.\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-07-10T20:23:04Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4206", "merged": true, "mergeCommit": {"oid": "a3ec034676fd8d41d80c0a3d0966995794e4db8a"}, "closed": true, "closedAt": "2020-07-17T20:11:38Z", "author": {"login": "xnikhil08"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0mIEagFqTQ0NzUxNTkxOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc12wIjgFqTQ1MDgxMTYzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NTE1OTE5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4206#pullrequestreview-447515919", "createdAt": "2020-07-13T18:55:21Z", "commit": {"oid": "451cd62be3fe93bb27ef62630fa88a1dd422756d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cadf444f27ee98082a54afa60fd83531e67a1f8e", "author": {"user": {"login": "xnikhil08", "name": "Nikhil Shrivastava"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/cadf444f27ee98082a54afa60fd83531e67a1f8e", "committedDate": "2020-07-14T21:33:39Z", "message": "DHFPROD-5358: Fixing the issue where UI throws error when source document is not an entity instance\n\nDHFPROD-5358: Fixing an edge case and added a unit test (+1 squashed commit)\nSquashed commits:\n[451cd62be] DHFPROD-5358: Fixing the issue where UI throws error when source document is not an entity instance"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "451cd62be3fe93bb27ef62630fa88a1dd422756d", "author": {"user": {"login": "xnikhil08", "name": "Nikhil Shrivastava"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/451cd62be3fe93bb27ef62630fa88a1dd422756d", "committedDate": "2020-07-10T20:05:33Z", "message": "DHFPROD-5358: Fixing the issue where UI throws error when source document is not an entity instance"}, "afterCommit": {"oid": "cadf444f27ee98082a54afa60fd83531e67a1f8e", "author": {"user": {"login": "xnikhil08", "name": "Nikhil Shrivastava"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/cadf444f27ee98082a54afa60fd83531e67a1f8e", "committedDate": "2020-07-14T21:33:39Z", "message": "DHFPROD-5358: Fixing the issue where UI throws error when source document is not an entity instance\n\nDHFPROD-5358: Fixing an edge case and added a unit test (+1 squashed commit)\nSquashed commits:\n[451cd62be] DHFPROD-5358: Fixing the issue where UI throws error when source document is not an entity instance"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMTU2MTg2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4206#pullrequestreview-450156186", "createdAt": "2020-07-16T19:33:45Z", "commit": {"oid": "cadf444f27ee98082a54afa60fd83531e67a1f8e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMTU2NjE3", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4206#pullrequestreview-450156617", "createdAt": "2020-07-16T19:34:27Z", "commit": {"oid": "cadf444f27ee98082a54afa60fd83531e67a1f8e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMTY1NDMx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4206#pullrequestreview-450165431", "createdAt": "2020-07-16T19:48:00Z", "commit": {"oid": "cadf444f27ee98082a54afa60fd83531e67a1f8e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMjQzOTk5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4206#pullrequestreview-450243999", "createdAt": "2020-07-16T21:55:53Z", "commit": {"oid": "cadf444f27ee98082a54afa60fd83531e67a1f8e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMjQ1MDM3", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4206#pullrequestreview-450245037", "createdAt": "2020-07-16T21:57:59Z", "commit": {"oid": "cadf444f27ee98082a54afa60fd83531e67a1f8e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNDIxMjMz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4206#pullrequestreview-450421233", "createdAt": "2020-07-17T07:07:56Z", "commit": {"oid": "cadf444f27ee98082a54afa60fd83531e67a1f8e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwNzowNzo1NlrOGzH1gA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwNzowNzo1NlrOGzH1gA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjI1ODk0NA==", "bodyText": "Please change this to xdmp.log()", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4206#discussion_r456258944", "createdAt": "2020-07-17T07:07:56Z", "author": {"login": "srinathgit"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/entities/entity-search-lib.sjs", "diffHunk": "@@ -365,6 +367,9 @@ function addGenericEntityProperties(result) {\n     } else {\n         addPrimaryKeyToResult(result, entityInstance, entityDef);\n     }\n+    } else {\n+      console.log(`Unable to obtain a valid entity instance from document with URI '${result.uri}'; will not add entity properties to its search result`);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cadf444f27ee98082a54afa60fd83531e67a1f8e"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwODExNjM2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4206#pullrequestreview-450811636", "createdAt": "2020-07-17T16:51:31Z", "commit": {"oid": "cadf444f27ee98082a54afa60fd83531e67a1f8e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2631, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}