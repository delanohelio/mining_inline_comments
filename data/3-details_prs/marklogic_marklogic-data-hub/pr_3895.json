{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExNTkxODky", "number": 3895, "title": "DHFPROD-4887: Generating Swagger docs dynamically via springfox", "bodyText": "Added jsonSchema2Pojo Gradle task to generate Java classes from ./specs/models. Where possible, these are being used for documentation purposes in controllers. I renamed some of these to not have \".v1\" in their name, so e.g. \"ModelDescriptorV1\" seemed like a funky class name. I imagine we'll get rid of \".v1\" in all the filenames soon, and replace it either with \".schema\" or with nothing.\nThe README is updated to point to the new endpoint for Swagger docs. It also points to the Application class for more information on how to configure annotations on endpoints. Existing endpoints are a good source of info as well.\nI tried to document every endpoint possible; some are using anyObject in mocks.json today, so I didn't make Java classes for some of those. We can gradually fill in those gaps.\nIf all looks good, I'll submit a separate PR to remove the existing mocks support in the ./ui folder.\nDescription\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-04-30T14:52:18Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3895", "merged": true, "mergeCommit": {"oid": "10ac8774595ddcc75b76a47704b7f16d18e5e93b"}, "closed": true, "closedAt": "2020-04-30T20:27:15Z", "author": {"login": "rjrudin"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccuHrhgH2gAyNDExNTkxODkyOjM3ZTk2MjM0NWJiODg5NmZjOWFkNzkyNjhiODViZWE4ZDI4ZDZiNDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccyCjMAFqTQwMzgwNTYyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "37e962345bb8896fc9ad79268b85bea8d28d6b42", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/37e962345bb8896fc9ad79268b85bea8d28d6b42", "committedDate": "2020-04-30T14:39:59Z", "message": "DHFPROD-4887: Generating Swagger docs dynamically via springfox\n\nAdded jsonSchema2Pojo Gradle task to generate Java classes from ./specs/models. Where possible, these are being used for documentation purposes in controllers. I renamed some of these to not have \".v1\" in their name, so e.g. \"ModelDescriptorV1\" seemed like a funky class name. I imagine we'll get rid of \".v1\" in all the filenames soon, and replace it either with \".schema\" or with nothing.\n\nThe README is updated to point to the new endpoint for Swagger docs. It also points to the Application class for more information on how to configure annotations on endpoints. Existing endpoints are a good source of info as well.\n\nI tried to document every endpoint possible; some are using anyObject in mocks.json today, so I didn't make Java classes for some of those. We can gradually fill in those gaps.\n\nIf all looks good, I'll submit a separate PR to remove the existing mocks support in the ./ui folder."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNzg3NzI5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3895#pullrequestreview-403787729", "createdAt": "2020-04-30T18:48:53Z", "commit": {"oid": "37e962345bb8896fc9ad79268b85bea8d28d6b42"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNzkwOTUy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3895#pullrequestreview-403790952", "createdAt": "2020-04-30T18:53:25Z", "commit": {"oid": "37e962345bb8896fc9ad79268b85bea8d28d6b42"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxODo1MzoyNVrOGO2KFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxODo1MzoyNVrOGO2KFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODIyMDU2NQ==", "bodyText": "So, all the classes in com.marklogic.hub.central.schemas were generated by running this gradle task ?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3895#discussion_r418220565", "createdAt": "2020-04-30T18:53:25Z", "author": {"login": "srinathgit"}, "path": "marklogic-data-hub-central/build.gradle", "diffHunk": "@@ -85,6 +91,26 @@ dependencies {\n // We need this to access test resources such as \"entity-reference-model\" project from core data hub project\n sourceSets.test.resources.srcDir \"../marklogic-data-hub/src/test/resources\"\n \n+// jsonSchema2Pojo is used to generate Java classes that are then used in Swagger annotations for documentation purposes\n+// See more at https://github.com/joelittlejohn/jsonschema2pojo/tree/master/jsonschema2pojo-gradle-plugin\n+jsonSchema2Pojo {\n+    source = files(\"../specs/models\")\n+    targetDirectory = file(\"src/main/java\")\n+    targetPackage = \"com.marklogic.hub.central.schemas\"\n+}\n+\n+task deleteSchemaPojos(type: Delete) {\n+    delete fileTree(\"src/main/java/com/marklogic/hub/central/schemas\") {\n+        include \"*.java\"\n+    }\n+}\n+generateJsonSchema2Pojo.mustRunAfter deleteSchemaPojos\n+\n+task generateSchemaPojos {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37e962345bb8896fc9ad79268b85bea8d28d6b42"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNzkxNjY0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3895#pullrequestreview-403791664", "createdAt": "2020-04-30T18:54:28Z", "commit": {"oid": "37e962345bb8896fc9ad79268b85bea8d28d6b42"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzODA1NjIz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3895#pullrequestreview-403805623", "createdAt": "2020-04-30T19:14:00Z", "commit": {"oid": "37e962345bb8896fc9ad79268b85bea8d28d6b42"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2828, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}