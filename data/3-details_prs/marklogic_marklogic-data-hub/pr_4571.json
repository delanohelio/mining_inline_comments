{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2ODkwOTc5", "number": 4571, "title": "DHFPROD-5815: Adding instructions to deploy the project to DHS", "bodyText": "Description\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n[ NA] Added Tests\n\n\nReviewer:\n\n\n[ NA] Reviewed Tests", "createdAt": "2020-09-14T21:24:22Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4571", "merged": true, "mergeCommit": {"oid": "094b8a5b576acae58c109032c00f6ea4e64adbf0"}, "closed": true, "closedAt": "2020-09-15T15:40:27Z", "author": {"login": "SameeraPriyathamTadikonda"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdI8S4_AFqTQ4ODIzNDEzMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdI-OeKgFqTQ4ODI3NTkwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4MjM0MTMx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4571#pullrequestreview-488234131", "createdAt": "2020-09-15T00:03:34Z", "commit": {"oid": "07217d6830a9a4c2bb4b684ee6c36cda0250ae38"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4MjM1NzEy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4571#pullrequestreview-488235712", "createdAt": "2020-09-15T00:08:28Z", "commit": {"oid": "07217d6830a9a4c2bb4b684ee6c36cda0250ae38"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMDowODoyOFrOHRrxxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMDowODoyOFrOHRrxxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMwNTA5Mw==", "bodyText": "The comment suggests that \"-i\" is present, but it's not. I recommend including it in the command.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4571#discussion_r488305093", "createdAt": "2020-09-15T00:08:28Z", "author": {"login": "rjrudin"}, "path": "examples/reference-entity-model/README.md", "diffHunk": "@@ -1,23 +1,33 @@\n-This example project is intended for use while developing Data Hub itself. \n-\n-## How to install\n-\n-To install via Gradle, first initialize the project:\n-\n-    ./gradlew hubInit\n-    \n-Then modify the gradle-local.properties file and either un-comment the mlUsername and mlPassword properties and set the\n-password for your admin user, or set the properties to a different MarkLogic user that is able to deploy applications. \n-\n-Then deploy the application (the \"-i\" is for info-level logging, which is helpful to see in case anything goes wrong):\n-\n-    ./gradlew -i mlDeploy\n-\n-To verify that the application is installed, visit http://localhost:8011 in your web browser and authenticate as one of\n-the users defined in the gradle.properties file in this project. If the application was successfully installed, you'll\n-see a \"MarkLogic REST Server\" page.\n-\n-## Authenticating \n-\n-This project defines several users in ./src/main/ml-config/security/users that can be used for development and testing. \n-\n+This example project is intended for use while developing Data Hub itself. \r\n+\r\n+## How to install\r\n+\r\n+To install via Gradle, first initialize the project:\r\n+\r\n+    ./gradlew hubInit\r\n+    \r\n+Then modify the gradle-local.properties file and either un-comment the mlUsername and mlPassword properties and set the\r\n+password for your admin user, or set the properties to a different MarkLogic user that is able to deploy applications. \r\n+\r\n+Then deploy the application (the \"-i\" is for info-level logging, which is helpful to see in case anything goes wrong):\r\n+\r\n+    ./gradlew -i mlDeploy\r\n+\r\n+To verify that the application is installed, visit http://localhost:8011 in your web browser and authenticate as one of\r\n+the users defined in the gradle.properties file in this project. If the application was successfully installed, you'll\r\n+see a \"MarkLogic REST Server\" page.\r\n+\r\n+## Deploying resources as a data-hub-developer user \r\n+\r\n+A user with the data-hub-developer role is permitted to deploy the project to DHS. Update the mlUsername and mlPassword\r\n+in gradle-dhs.properties file in this project.\r\n+\r\n+Then deploy the application (the \"-i\" is for info-level logging, which is helpful to see in case anything goes wrong):\r\n+\r\n+    ./gradlew -PenvironmentName=dhs hubDeployAsDeveloper\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07217d6830a9a4c2bb4b684ee6c36cda0250ae38"}, "originalPosition": 50}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85d0e3ad1c4d1b87348a7fff5893ed064657b66e", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/85d0e3ad1c4d1b87348a7fff5893ed064657b66e", "committedDate": "2020-09-15T00:32:34Z", "message": "DHFPROD-5815: Adding instructions to deploy the project to DHS"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "07217d6830a9a4c2bb4b684ee6c36cda0250ae38", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/07217d6830a9a4c2bb4b684ee6c36cda0250ae38", "committedDate": "2020-09-14T21:22:50Z", "message": "DHFPROD-5815: Adding instructions to deploy the project to DHS"}, "afterCommit": {"oid": "85d0e3ad1c4d1b87348a7fff5893ed064657b66e", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/85d0e3ad1c4d1b87348a7fff5893ed064657b66e", "committedDate": "2020-09-15T00:32:34Z", "message": "DHFPROD-5815: Adding instructions to deploy the project to DHS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4MjQ2MDc2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4571#pullrequestreview-488246076", "createdAt": "2020-09-15T00:41:59Z", "commit": {"oid": "85d0e3ad1c4d1b87348a7fff5893ed064657b66e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4Mjc1OTAy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4571#pullrequestreview-488275902", "createdAt": "2020-09-15T02:18:28Z", "commit": {"oid": "85d0e3ad1c4d1b87348a7fff5893ed064657b66e"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMjoxODoyOFrOHRuBfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMjoxODoyOFrOHRuBfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM0MTg4Nw==", "bodyText": "We have changed the script to use hubDeploy. So we are using data-hub-security-admin role as well for hc-developer user. Although for the topic in line 20, the description looks good.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4571#discussion_r488341887", "createdAt": "2020-09-15T02:18:28Z", "author": {"login": "bsrikan"}, "path": "examples/reference-entity-model/README.md", "diffHunk": "@@ -1,23 +1,33 @@\n-This example project is intended for use while developing Data Hub itself. \n-\n-## How to install\n-\n-To install via Gradle, first initialize the project:\n-\n-    ./gradlew hubInit\n-    \n-Then modify the gradle-local.properties file and either un-comment the mlUsername and mlPassword properties and set the\n-password for your admin user, or set the properties to a different MarkLogic user that is able to deploy applications. \n-\n-Then deploy the application (the \"-i\" is for info-level logging, which is helpful to see in case anything goes wrong):\n-\n-    ./gradlew -i mlDeploy\n-\n-To verify that the application is installed, visit http://localhost:8011 in your web browser and authenticate as one of\n-the users defined in the gradle.properties file in this project. If the application was successfully installed, you'll\n-see a \"MarkLogic REST Server\" page.\n-\n-## Authenticating \n-\n-This project defines several users in ./src/main/ml-config/security/users that can be used for development and testing. \n-\n+This example project is intended for use while developing Data Hub itself. \r\n+\r\n+## How to install\r\n+\r\n+To install via Gradle, first initialize the project:\r\n+\r\n+    ./gradlew hubInit\r\n+    \r\n+Then modify the gradle-local.properties file and either un-comment the mlUsername and mlPassword properties and set the\r\n+password for your admin user, or set the properties to a different MarkLogic user that is able to deploy applications. \r\n+\r\n+Then deploy the application (the \"-i\" is for info-level logging, which is helpful to see in case anything goes wrong):\r\n+\r\n+    ./gradlew -i mlDeploy\r\n+\r\n+To verify that the application is installed, visit http://localhost:8011 in your web browser and authenticate as one of\r\n+the users defined in the gradle.properties file in this project. If the application was successfully installed, you'll\r\n+see a \"MarkLogic REST Server\" page.\r\n+\r\n+## Deploying resources as a data-hub-developer user \r\n+\r\n+A user with the data-hub-developer role is permitted to deploy the project to DHS. Update the mlUsername and mlPassword\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85d0e3ad1c4d1b87348a7fff5893ed064657b66e"}, "originalPosition": 45}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2061, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}