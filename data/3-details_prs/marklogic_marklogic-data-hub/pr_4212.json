{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4NTU5NjQ0", "number": 4212, "title": "DHFPROD-5288: Handle a case where / character is present in the prima\u2026", "bodyText": "\u2026ry key value\nDescription\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-07-13T23:34:01Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4212", "merged": true, "mergeCommit": {"oid": "cc8a1f9c65d413f4696efb33bebfc4a5e19ff869"}, "closed": true, "closedAt": "2020-07-16T19:45:52Z", "author": {"login": "timur-isangulov"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc08uklgFqTQ0ODQ3MTg5MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1kdJMgFqTQ1MDE1NTM3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NDcxODkx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4212#pullrequestreview-448471891", "createdAt": "2020-07-14T21:15:18Z", "commit": {"oid": "c9e682e1a2f9819755f6c00473a38edbab10c62b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMToxNToxOVrOGxlnqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMToxNToxOVrOGxlnqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY0OTc3MQ==", "bodyText": "Is this necessary to get this to work? Triple equal is better for strict equality checks.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4212#discussion_r454649771", "createdAt": "2020-07-14T21:15:19Z", "author": {"login": "brucean52"}, "path": "marklogic-data-hub-central/ui/src/components/detail-header/detail-header.tsx", "diffHunk": "@@ -46,7 +46,7 @@ const DetailHeader: React.FC<Props> = (props) => {\n           Object.keys(props.document.envelope.instance).forEach(instance => {\n             if (instance !== 'info') {\n               Object.keys(props.document.envelope.instance[instance]).forEach(function (key) {\n-                if (props.primaryKey === props.document.envelope.instance[instance][key]) {\n+                if (props.primaryKey == props.document.envelope.instance[instance][key]) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9e682e1a2f9819755f6c00473a38edbab10c62b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NDk5NTM5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4212#pullrequestreview-448499539", "createdAt": "2020-07-14T22:05:46Z", "commit": {"oid": "c9e682e1a2f9819755f6c00473a38edbab10c62b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMjowNTo0N1rOGxnCaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMjowNTo0N1rOGxnCaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY3MzAwMw==", "bodyText": "Why are we using primaryKeyValue within the function encodeURI ? If 'encodeURI' is a generic function to encode any property then should we rename it to something like 'encodeProperty' ?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4212#discussion_r454673003", "createdAt": "2020-07-14T22:05:47Z", "author": {"login": "xnikhil08"}, "path": "marklogic-data-hub-central/ui/src/components/results-tabular-view/results-tabular-view.tsx", "diffHunk": "@@ -154,7 +154,7 @@ const ResultsTabularView = (props) => {\n         let primaryKeyValue = item.primaryKey?.propertyValue;\n         let isUri = item.primaryKey?.propertyPath === 'uri';\n         let uri = encodeURIComponent(item.uri);\n-        let path = { pathname: `/detail/${isUri ? '-' : primaryKeyValue}/${uri}` };\n+        let path = { pathname: `/detail/${isUri ? '-' : encodeURI(primaryKeyValue)}/${uri}` };", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9e682e1a2f9819755f6c00473a38edbab10c62b"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c9e682e1a2f9819755f6c00473a38edbab10c62b", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/c9e682e1a2f9819755f6c00473a38edbab10c62b", "committedDate": "2020-07-13T23:32:48Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}, "afterCommit": {"oid": "244d431396e277792f402b1965151a3d28ce95b1", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/244d431396e277792f402b1965151a3d28ce95b1", "committedDate": "2020-07-14T22:17:18Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "244d431396e277792f402b1965151a3d28ce95b1", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/244d431396e277792f402b1965151a3d28ce95b1", "committedDate": "2020-07-14T22:17:18Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}, "afterCommit": {"oid": "c9ed299281b62f0a4a74add6fc12fb5cb4f9e60e", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/c9ed299281b62f0a4a74add6fc12fb5cb4f9e60e", "committedDate": "2020-07-14T22:33:43Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NTE2NTcw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4212#pullrequestreview-448516570", "createdAt": "2020-07-14T22:45:55Z", "commit": {"oid": "c9ed299281b62f0a4a74add6fc12fb5cb4f9e60e"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c9ed299281b62f0a4a74add6fc12fb5cb4f9e60e", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/c9ed299281b62f0a4a74add6fc12fb5cb4f9e60e", "committedDate": "2020-07-14T22:33:43Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}, "afterCommit": {"oid": "c446493718091d93bde898298b4201e1ad3efb10", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/c446493718091d93bde898298b4201e1ad3efb10", "committedDate": "2020-07-15T17:42:16Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c446493718091d93bde898298b4201e1ad3efb10", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/c446493718091d93bde898298b4201e1ad3efb10", "committedDate": "2020-07-15T17:42:16Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}, "afterCommit": {"oid": "52d1863be63f95f7aa25ca9312567b47827c59c1", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/52d1863be63f95f7aa25ca9312567b47827c59c1", "committedDate": "2020-07-15T17:47:00Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "52d1863be63f95f7aa25ca9312567b47827c59c1", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/52d1863be63f95f7aa25ca9312567b47827c59c1", "committedDate": "2020-07-15T17:47:00Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}, "afterCommit": {"oid": "e4c472e9699ee80118c4794c066bd9aa3df6359a", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/e4c472e9699ee80118c4794c066bd9aa3df6359a", "committedDate": "2020-07-15T23:02:33Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e4c472e9699ee80118c4794c066bd9aa3df6359a", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/e4c472e9699ee80118c4794c066bd9aa3df6359a", "committedDate": "2020-07-15T23:02:33Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}, "afterCommit": {"oid": "cc842a68f3221cb9ed779205ebcfae17c9fb78fa", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/cc842a68f3221cb9ed779205ebcfae17c9fb78fa", "committedDate": "2020-07-15T23:10:02Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NDE0MjYx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4212#pullrequestreview-449414261", "createdAt": "2020-07-15T23:40:51Z", "commit": {"oid": "cc842a68f3221cb9ed779205ebcfae17c9fb78fa"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQyMzo0MDo1MVrOGyVApQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQyMzo0MDo1MVrOGyVApQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQyNjIxMw==", "bodyText": "@timur-isangulov we no longer need wait times, the tests pass without wait times with the new methods srikanth added. I have made changes to all the tests to work without wait times.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4212#discussion_r455426213", "createdAt": "2020-07-15T23:40:51Z", "author": {"login": "Sanjeevani19"}, "path": "marklogic-data-hub-central/ui/e2e/cypress/integration/explorer/scenarios.json.tsx", "diffHunk": "@@ -153,17 +167,14 @@ xdescribe('json scenario for table on browse documents page', () => {\n     cy.visit('/');\n     cy.contains(Application.title);\n     cy.loginAsDeveloper().withRequest();\n-    // temporary change as tile is not working\n-    homePage.getTitle().click();\n-    cy.wait(500);\n-    // temporary change end here\n-    homePage.getBrowseEntities().click();\n-    cy.wait(2000);\n-    browsePage.clickTableView();\n-    browsePage.selectEntity('All Entities');\n+    cy.location('pathname', { timeout: 10000 }).should('include', '/tiles');\n+    cy.wait(200);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc842a68f3221cb9ed779205ebcfae17c9fb78fa"}, "originalPosition": 59}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NDE0NTUw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4212#pullrequestreview-449414550", "createdAt": "2020-07-15T23:41:43Z", "commit": {"oid": "cc842a68f3221cb9ed779205ebcfae17c9fb78fa"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQyMzo0MTo0M1rOGyVBpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQyMzo0MTo0M1rOGyVBpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQyNjQ3MA==", "bodyText": "@timur-isangulov the default view is table so we don't need this line to test table scenarios", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4212#discussion_r455426470", "createdAt": "2020-07-15T23:41:43Z", "author": {"login": "Sanjeevani19"}, "path": "marklogic-data-hub-central/ui/e2e/cypress/integration/explorer/scenarios.json.tsx", "diffHunk": "@@ -153,17 +167,14 @@ xdescribe('json scenario for table on browse documents page', () => {\n     cy.visit('/');\n     cy.contains(Application.title);\n     cy.loginAsDeveloper().withRequest();\n-    // temporary change as tile is not working\n-    homePage.getTitle().click();\n-    cy.wait(500);\n-    // temporary change end here\n-    homePage.getBrowseEntities().click();\n-    cy.wait(2000);\n-    browsePage.clickTableView();\n-    browsePage.selectEntity('All Entities');\n+    cy.location('pathname', { timeout: 10000 }).should('include', '/tiles');\n+    cy.wait(200);\n+    cy.waitUntil(() => toolbar.getExploreToolbarIcon()).click();\n+    cy.waitUntil(() => browsePage.getExploreButton()).click();\n+    browsePage.getTableView();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc842a68f3221cb9ed779205ebcfae17c9fb78fa"}, "originalPosition": 62}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08950d068f0a2db8a343767b58a915d59e5a8fff", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/08950d068f0a2db8a343767b58a915d59e5a8fff", "committedDate": "2020-07-16T14:24:55Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cc842a68f3221cb9ed779205ebcfae17c9fb78fa", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/cc842a68f3221cb9ed779205ebcfae17c9fb78fa", "committedDate": "2020-07-15T23:10:02Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}, "afterCommit": {"oid": "08950d068f0a2db8a343767b58a915d59e5a8fff", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/08950d068f0a2db8a343767b58a915d59e5a8fff", "committedDate": "2020-07-16T14:24:55Z", "message": "DHFPROD-5288: Handle a case where / character is present in the primary key value"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMTUzMDU0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4212#pullrequestreview-450153054", "createdAt": "2020-07-16T19:28:57Z", "commit": {"oid": "08950d068f0a2db8a343767b58a915d59e5a8fff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMTU1Mzc4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4212#pullrequestreview-450155378", "createdAt": "2020-07-16T19:32:29Z", "commit": {"oid": "08950d068f0a2db8a343767b58a915d59e5a8fff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2638, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}