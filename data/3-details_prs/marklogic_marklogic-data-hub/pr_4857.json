{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwMTU1NTA1", "number": 4857, "title": "DHFPROD-6244:Create match and merge step in the new format by default", "bodyText": "Description\nCreate match and merge step in the new format by default\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-11-12T21:01:06Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4857", "merged": true, "mergeCommit": {"oid": "ff9e52579f46b9e9c1f4c3b0aa8bc24cc1ea03f7"}, "closed": true, "closedAt": "2020-11-12T21:47:51Z", "author": {"login": "srinathgit"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdb5AtKgH2gAyNTIwMTU1NTA1OjQwODY5MTY1ZjY4NTI1NjAyNmI5Zjg3NGVmMGQzNTJlMDk5NzNlOWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdb5lbwAFqTUyOTUxNzU2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "40869165f685256026b9f874ef0d352e09973e9c", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/40869165f685256026b9f874ef0d352e09973e9c", "committedDate": "2020-11-12T20:58:33Z", "message": "DHFPROD-6244:Create match and merge step in the new format by default"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5NTAxMTM2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4857#pullrequestreview-529501136", "createdAt": "2020-11-12T21:12:33Z", "commit": {"oid": "40869165f685256026b9f874ef0d352e09973e9c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5NTA1ODY4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4857#pullrequestreview-529505868", "createdAt": "2020-11-12T21:20:06Z", "commit": {"oid": "40869165f685256026b9f874ef0d352e09973e9c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQyMToyMDowNlrOHyOyHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQyMToyMDowNlrOHyOyHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjQzMzA1Mg==", "bodyText": "This change is backing out the changes that I just made for DHFPROD-6178 and -6179, so that the match and merge options are created in either the old or new format depending on the roles of the user. Do we not want to support the creation of QuickStart-compatible steps?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4857#discussion_r522433052", "createdAt": "2020-11-12T21:20:06Z", "author": {"login": "fsnow"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/matching.sjs", "diffHunk": "@@ -78,40 +77,8 @@ function defaultArtifact(artifactName) {\n     permissions: defaultPermissions,\n     targetFormat: \"json\"\n   };\n-\n-  if (Security.currentUserHasRole(\"hub-central-match-merge-writer\")) {\n-    artifact[\"matchRulesets\"] = artifact.matchRulesets || [];\n-    artifact[\"thresholds\"] = artifact.thresholds || [];\n-  }\n-  else {\n-    artifact[\"matchOptions\"] = {\n-      dataFormat: \"json\",\n-      propertyDefs: {\n-        property: []\n-      },\n-      algorithms: {\n-        algorithm: []\n-      },\n-      collections: {\n-        content: []\n-      },\n-      scoring: {\n-        add: [],\n-        expand: [],\n-        reduce: []\n-      },\n-      actions: {\n-        action: []\n-      },\n-      thresholds: {\n-        threshold: []\n-      },\n-      tuning: {\n-        maxScan: 200\n-      }\n-    }\n-  }\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40869165f685256026b9f874ef0d352e09973e9c"}, "originalPosition": 45}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5NTE3NTY5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4857#pullrequestreview-529517569", "createdAt": "2020-11-12T21:38:40Z", "commit": {"oid": "40869165f685256026b9f874ef0d352e09973e9c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1663, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}