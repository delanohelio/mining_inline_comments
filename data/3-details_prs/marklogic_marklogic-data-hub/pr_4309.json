{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4NTk2Mzc4", "number": 4309, "title": "DHFPROD-5460:Changing the log message when getting DHF version fails", "bodyText": "Description\nChanging the log message when getting DHF version fails.\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n[N/A ] Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-07-29T18:03:48Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4309", "merged": true, "mergeCommit": {"oid": "2a42df59366e1de44b14bab991f1aeeadcaf7b23"}, "closed": true, "closedAt": "2020-07-30T17:22:15Z", "author": {"login": "srinathgit"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5vUTmgFqTQ1Nzc4MDkzNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc6Caz1gFqTQ1ODU3NjQzMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3NzgwOTM2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4309#pullrequestreview-457780936", "createdAt": "2020-07-29T18:27:29Z", "commit": {"oid": "02045805df6f0bd3268a1d27a90e6a2e14bfb5a3"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3Nzg0NzEx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4309#pullrequestreview-457784711", "createdAt": "2020-07-29T18:32:37Z", "commit": {"oid": "02045805df6f0bd3268a1d27a90e6a2e14bfb5a3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxODozMjozN1rOG5FBxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxODozMzo1MlrOG5FEcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjUwNDM5MA==", "bodyText": "I think we need to tweak this message - should say \"Will only check MarkLogic version to determine if Data Hub can be installed\" (instead of saying what the only thing we're going to do with ML version is).", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4309#discussion_r462504390", "createdAt": "2020-07-29T18:32:37Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/java/com/marklogic/hub/dhs/installer/command/AbstractInstallerCommand.java", "diffHunk": "@@ -93,7 +93,8 @@ protected ObjectNode canInstallDhs(){\n             installedHubVersion = versions.getInstalledVersion();\n         }\n         catch (Exception e){\n-            logger.info(\"Data Hub is not installed yet\");\n+            logger.error(\"Unable to determine the version of DHF: \" + e.getMessage());\n+            logger.info(\"MarkLogic Server version will only be checked for determining compatibility\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02045805df6f0bd3268a1d27a90e6a2e14bfb5a3"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjUwNTA3NQ==", "bodyText": "Does this only happen when DH is not installed? Or could it be for other reasons?\nI think a better message is \"Unable to determine version of existing Data Hub installation: \" + e.getMessage(), unless we know that there is no existing DH installation.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4309#discussion_r462505075", "createdAt": "2020-07-29T18:33:52Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/java/com/marklogic/hub/dhs/installer/command/AbstractInstallerCommand.java", "diffHunk": "@@ -93,7 +93,8 @@ protected ObjectNode canInstallDhs(){\n             installedHubVersion = versions.getInstalledVersion();\n         }\n         catch (Exception e){\n-            logger.info(\"Data Hub is not installed yet\");\n+            logger.error(\"Unable to determine the version of DHF: \" + e.getMessage());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02045805df6f0bd3268a1d27a90e6a2e14bfb5a3"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2babbdc8462cc7bde03748a47946dadc54591fd9", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/2babbdc8462cc7bde03748a47946dadc54591fd9", "committedDate": "2020-07-29T18:45:34Z", "message": "DHFPROD-5460:Changing the log message when getting DHF version fails"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "02045805df6f0bd3268a1d27a90e6a2e14bfb5a3", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/02045805df6f0bd3268a1d27a90e6a2e14bfb5a3", "committedDate": "2020-07-29T17:58:50Z", "message": "DHFPROD-5460:Changing the log message when getting DHF version fails"}, "afterCommit": {"oid": "2babbdc8462cc7bde03748a47946dadc54591fd9", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/2babbdc8462cc7bde03748a47946dadc54591fd9", "committedDate": "2020-07-29T18:45:34Z", "message": "DHFPROD-5460:Changing the log message when getting DHF version fails"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3Nzk5MjU5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4309#pullrequestreview-457799259", "createdAt": "2020-07-29T18:53:10Z", "commit": {"oid": "2babbdc8462cc7bde03748a47946dadc54591fd9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NTc2NDMz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4309#pullrequestreview-458576433", "createdAt": "2020-07-30T16:42:47Z", "commit": {"oid": "2babbdc8462cc7bde03748a47946dadc54591fd9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2491, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}