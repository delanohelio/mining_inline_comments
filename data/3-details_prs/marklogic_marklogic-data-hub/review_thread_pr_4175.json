{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyMjU4NjQw", "number": 4175, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMzo0NjowNFrOEKUFJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMzo0NzowMFrOEKUF1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MjUwMjE1OnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub-central/src/test/resources/test-projects/run-flow-test/modules/root/custom-modules/custom/testStep.sjs", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMzo0NjowNFrOGrSJuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMzo0NjowNFrOGrSJuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODAzOTM1Mg==", "bodyText": "Can you add a property to the step and confirm that it is available in 'options' in the module ?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4175#discussion_r448039352", "createdAt": "2020-06-30T23:46:04Z", "author": {"login": "srinathgit"}, "path": "marklogic-data-hub-central/src/test/resources/test-projects/run-flow-test/modules/root/custom-modules/custom/testStep.sjs", "diffHunk": "@@ -0,0 +1,11 @@\n+'use strict';\n+\n+function main(content, options) {\n+    const valueObj = content.value.toObject();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4ecfe70e3e5083e3dcad44907ebbd5c7a3e7a89"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MjUwMzg4OnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub-central/src/test/java/com/marklogic/hub/central/controllers/FlowControllerTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMzo0NzowMFrOGrSKxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMzo0NzowMFrOGrSKxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODAzOTYyMg==", "bodyText": "Can this line 162 be removed as it seems to be duplicate of 159 ?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4175#discussion_r448039622", "createdAt": "2020-06-30T23:47:00Z", "author": {"login": "srinathgit"}, "path": "marklogic-data-hub-central/src/test/java/com/marklogic/hub/central/controllers/FlowControllerTest.java", "diffHunk": "@@ -146,6 +145,46 @@ void test() throws Exception {\n             });\n     }\n \n+    @Test\n+    void testCustomStepRun() throws Exception {\n+        runAsDataHubDeveloper();\n+        installProjectInFolder(\"test-projects/run-flow-test\");\n+\n+        loginAsTestUserWithRoles(\"hub-central-step-runner\");\n+\n+        final String flowName = \"testFlow\";\n+        final String flowPath = PATH + \"/\" + flowName;\n+\n+        // Run the step\n+        flowController.setFlowRunnerConsumer((FlowRunner::awaitCompletion));\n+        MockMultipartFile file1 = new MockMultipartFile(\"files\",\"file1.json\", MediaType.APPLICATION_JSON, \"{\\\"name\\\": \\\"Joe\\\"}\".getBytes(StandardCharsets.UTF_8));\n+        MockMultipartFile file2 = new MockMultipartFile(\"files\",\"file2.json\", MediaType.APPLICATION_JSON, \"{\\\"name\\\": \\\"John\\\"}\".getBytes(StandardCharsets.UTF_8));\n+        flowController.setFlowRunnerConsumer((FlowRunner::awaitCompletion));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4ecfe70e3e5083e3dcad44907ebbd5c7a3e7a89"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3956, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}