{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0OTYxNDY3", "number": 4637, "title": "DHFPROD-6058: Update setup.sh script for DHS", "bodyText": "Description\n\nUpdated setup.sh script with two parameters for deploying project on DHS\n\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-09-29T16:34:47Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4637", "merged": true, "mergeCommit": {"oid": "0e0fe5999633084a301aad95b036823f4f915838"}, "closed": true, "closedAt": "2020-09-29T20:22:48Z", "author": {"login": "briantang"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNq601gBqjM4MjA2MDA4MDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNs6lmAFqTQ5ODc4NzA2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "74504bf31a7e3eb8745d995b8ebf741174206cd2", "author": {"user": {"login": "briantang", "name": "Brian Tang"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/74504bf31a7e3eb8745d995b8ebf741174206cd2", "committedDate": "2020-09-29T16:12:32Z", "message": "DHFPROD-6058: Update setup.sh script for DHS"}, "afterCommit": {"oid": "5edbb660ff025e84a1759762c921ff54c2422c9c", "author": {"user": {"login": "briantang", "name": "Brian Tang"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/5edbb660ff025e84a1759762c921ff54c2422c9c", "committedDate": "2020-09-29T16:35:22Z", "message": "DHFPROD-6058: Update setup.sh script for DHS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NjgxOTgy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4637#pullrequestreview-498681982", "createdAt": "2020-09-29T16:41:02Z", "commit": {"oid": "74504bf31a7e3eb8745d995b8ebf741174206cd2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNjo0MTozOVrOHZ3fzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNjo0MTozOVrOHZ3fzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg4NTcxMA==", "bodyText": "If we are requiring mlAdminUsername and mlAdminPassword for both dhs and local, should we be using those variables here as well?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4637#discussion_r496885710", "createdAt": "2020-09-29T16:41:39Z", "author": {"login": "ryanjdew"}, "path": "marklogic-data-hub-central/ui/e2e/setup.sh", "diffHunk": "@@ -20,6 +22,7 @@ if $DHS\n then\n         env=dhs\n         perl -i -pe\"s/mlHost=.*/mlHost=$mlHost/g\" gradle-dhs.properties\n+        ./gradlew -i mldeployusers -PenvironmentName=$env -PmlUsername=$mlAdminUsername -PmlPassword=$mlAdminPassword\n         ./gradlew hubDeploy -PenvironmentName=$env --info --stacktrace\n else\n         ./gradlew mlDeploy -PmlUsername=admin -PmlPassword=admin --info --stacktrace", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5edbb660ff025e84a1759762c921ff54c2422c9c"}, "originalPosition": 26}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5edbb660ff025e84a1759762c921ff54c2422c9c", "author": {"user": {"login": "briantang", "name": "Brian Tang"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/5edbb660ff025e84a1759762c921ff54c2422c9c", "committedDate": "2020-09-29T16:35:22Z", "message": "DHFPROD-6058: Update setup.sh script for DHS"}, "afterCommit": {"oid": "817284a8de68dfcd516d01719e7a9b0ed2c78970", "author": {"user": {"login": "briantang", "name": "Brian Tang"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/817284a8de68dfcd516d01719e7a9b0ed2c78970", "committedDate": "2020-09-29T16:45:57Z", "message": "DHFPROD-6058: Update setup.sh script for DHS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NjkyMjkw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4637#pullrequestreview-498692290", "createdAt": "2020-09-29T16:53:49Z", "commit": {"oid": "817284a8de68dfcd516d01719e7a9b0ed2c78970"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NzY0OTkx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4637#pullrequestreview-498764991", "createdAt": "2020-09-29T18:27:22Z", "commit": {"oid": "817284a8de68dfcd516d01719e7a9b0ed2c78970"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxODoyNzoyMlrOHZ7cxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxODoyNzoyMlrOHZ7cxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk1MDQ2OQ==", "bodyText": "Use mlSecurityUsername/Password instead - see https://github.com/marklogic-community/ml-gradle/wiki/Property-reference#manage-server-connection-properties", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4637#discussion_r496950469", "createdAt": "2020-09-29T18:27:22Z", "author": {"login": "rjrudin"}, "path": "Jenkinsfile", "diffHunk": "@@ -191,7 +191,7 @@ def runCypressE2e(){\n           repo=\"maven {url '\"$M2_LOCAL_REPO\"'}\"\n           sed -i \"/repositories {/a$repo\" hc-qa-project/build.gradle\n           chmod +x setup.sh;\n-          ./setup.sh dhs=false mlHost=localhost;\n+          ./setup.sh dhs=false mlHost=localhost mlAdminUsername=admin mlAdminPassword=admin;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "817284a8de68dfcd516d01719e7a9b0ed2c78970"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NzY2ODc4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4637#pullrequestreview-498766878", "createdAt": "2020-09-29T18:29:58Z", "commit": {"oid": "817284a8de68dfcd516d01719e7a9b0ed2c78970"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "817284a8de68dfcd516d01719e7a9b0ed2c78970", "author": {"user": {"login": "briantang", "name": "Brian Tang"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/817284a8de68dfcd516d01719e7a9b0ed2c78970", "committedDate": "2020-09-29T16:45:57Z", "message": "DHFPROD-6058: Update setup.sh script for DHS"}, "afterCommit": {"oid": "817ee8b308ace25a4c771d95c89f851a174420f3", "author": {"user": {"login": "briantang", "name": "Brian Tang"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/817ee8b308ace25a4c771d95c89f851a174420f3", "committedDate": "2020-09-29T18:36:18Z", "message": "DHFPROD-6058: Update setup.sh script for DHS"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "817ee8b308ace25a4c771d95c89f851a174420f3", "author": {"user": {"login": "briantang", "name": "Brian Tang"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/817ee8b308ace25a4c771d95c89f851a174420f3", "committedDate": "2020-09-29T18:36:18Z", "message": "DHFPROD-6058: Update setup.sh script for DHS"}, "afterCommit": {"oid": "07ac8593173324481802d1f73fde4ae12c866f86", "author": {"user": {"login": "briantang", "name": "Brian Tang"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/07ac8593173324481802d1f73fde4ae12c866f86", "committedDate": "2020-09-29T18:38:43Z", "message": "DHFPROD-6058: Update setup.sh script for DHS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4Nzc0MDc2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4637#pullrequestreview-498774076", "createdAt": "2020-09-29T18:40:04Z", "commit": {"oid": "07ac8593173324481802d1f73fde4ae12c866f86"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e15923c224e33284cf9b6f0bd9a6ed99f79ebfce", "author": {"user": {"login": "briantang", "name": "Brian Tang"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/e15923c224e33284cf9b6f0bd9a6ed99f79ebfce", "committedDate": "2020-09-29T18:40:29Z", "message": "DHFPROD-6058: Update setup.sh script for DHS"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "07ac8593173324481802d1f73fde4ae12c866f86", "author": {"user": {"login": "briantang", "name": "Brian Tang"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/07ac8593173324481802d1f73fde4ae12c866f86", "committedDate": "2020-09-29T18:38:43Z", "message": "DHFPROD-6058: Update setup.sh script for DHS"}, "afterCommit": {"oid": "e15923c224e33284cf9b6f0bd9a6ed99f79ebfce", "author": {"user": {"login": "briantang", "name": "Brian Tang"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/e15923c224e33284cf9b6f0bd9a6ed99f79ebfce", "committedDate": "2020-09-29T18:40:29Z", "message": "DHFPROD-6058: Update setup.sh script for DHS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4Nzc1NjU1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4637#pullrequestreview-498775655", "createdAt": "2020-09-29T18:42:11Z", "commit": {"oid": "e15923c224e33284cf9b6f0bd9a6ed99f79ebfce"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4Nzg3MDY1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4637#pullrequestreview-498787065", "createdAt": "2020-09-29T18:58:04Z", "commit": {"oid": "e15923c224e33284cf9b6f0bd9a6ed99f79ebfce"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1903, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}