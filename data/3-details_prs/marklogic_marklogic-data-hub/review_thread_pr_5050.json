{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0NTQwMDg0", "number": 5050, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxNzoxMDowOVrOFIo-3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxNzoxMDowOVrOFIo-3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0NjA0MzgwOnYy", "diffSide": "RIGHT", "path": "Jenkinsfile", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxNzoxMDowOVrOIKq0vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxOToyMzowMVrOIMAYbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODA1ODMwMw==", "bodyText": "Closing tag for < h3 > and opening tag for < h4 > missed in the body of the email", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5050#discussion_r548058303", "createdAt": "2020-12-23T17:10:09Z", "author": {"login": "SameeraPriyathamTadikonda"}, "path": "Jenkinsfile", "diffHunk": "@@ -243,10 +243,15 @@ void postFailureFlexcodeScanAndReport(def vulnerabilities){\n     email = email + ',Kavitha.Sivagnanam@marklogic.com'\n \n     def body=''\n-    vulnerabilities.each { msg -> body=body+msg + '<p>' }\n-    body = body + '<p>scan report is attached.'\n-\n-    sendMail email,\"<h3>Pipeline FAILED in stage ${STAGE_NAME} <a href=${BUILD_URL}/console> Check Console Output Here</a></h4>  High vulneribilities: <p> $body\",false,\" pipeline FAILED in ${STAGE_NAME} \", 'inventoriesRprt.report.json'\n+    if(vulnerabilities && vulnerabilities.size() != 0) {\n+        vulnerabilities.each { msg -> body = body + msg + '<p>' }\n+        body = 'There are high vulneribilities: <p> ' + body + '<p>scan report is attached.'\n+//      sendMail email,\"<h3>Pipeline FAILED in stage ${STAGE_NAME} <a href=${BUILD_URL}/console> Check Console Output Here</a></h4> $body\",false,\" pipeline FAILED in ${STAGE_NAME} \",'inventoriesRprt.report.json'\n+        sendMail email, \"<h3></h4> $body\", false, \" high vulnerabilities in stage ${STAGE_NAME} \",'inventoriesRprt.report.json'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d707ff3b22c50dd1b648969da5047af4eeec3be2"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQ2MDA3Nw==", "bodyText": "fixed", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5050#discussion_r549460077", "createdAt": "2020-12-28T19:23:01Z", "author": {"login": "yafeldman"}, "path": "Jenkinsfile", "diffHunk": "@@ -243,10 +243,15 @@ void postFailureFlexcodeScanAndReport(def vulnerabilities){\n     email = email + ',Kavitha.Sivagnanam@marklogic.com'\n \n     def body=''\n-    vulnerabilities.each { msg -> body=body+msg + '<p>' }\n-    body = body + '<p>scan report is attached.'\n-\n-    sendMail email,\"<h3>Pipeline FAILED in stage ${STAGE_NAME} <a href=${BUILD_URL}/console> Check Console Output Here</a></h4>  High vulneribilities: <p> $body\",false,\" pipeline FAILED in ${STAGE_NAME} \", 'inventoriesRprt.report.json'\n+    if(vulnerabilities && vulnerabilities.size() != 0) {\n+        vulnerabilities.each { msg -> body = body + msg + '<p>' }\n+        body = 'There are high vulneribilities: <p> ' + body + '<p>scan report is attached.'\n+//      sendMail email,\"<h3>Pipeline FAILED in stage ${STAGE_NAME} <a href=${BUILD_URL}/console> Check Console Output Here</a></h4> $body\",false,\" pipeline FAILED in ${STAGE_NAME} \",'inventoriesRprt.report.json'\n+        sendMail email, \"<h3></h4> $body\", false, \" high vulnerabilities in stage ${STAGE_NAME} \",'inventoriesRprt.report.json'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODA1ODMwMw=="}, "originalCommit": {"oid": "d707ff3b22c50dd1b648969da5047af4eeec3be2"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2974, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}