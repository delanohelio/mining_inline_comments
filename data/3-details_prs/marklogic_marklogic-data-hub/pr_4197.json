{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3MDcwNzAx", "number": 4197, "title": "DHFPROD-5310:Fix the versions on which datahub 5.3.0 can be installed", "bodyText": "Description\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-07-09T20:13:30Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4197", "merged": true, "mergeCommit": {"oid": "786175975f3284a7175b2dd08f394f2b677bb304"}, "closed": true, "closedAt": "2020-07-10T19:59:12Z", "author": {"login": "srinathgit"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczU2l4gBqjM1MzEyODQxNDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczoMgcgFqTQ0NjYyNzg2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a99e1003de270edb911acc6672d4d3a64f3b0298", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/a99e1003de270edb911acc6672d4d3a64f3b0298", "committedDate": "2020-07-09T20:07:29Z", "message": "DHFPROD-5310:Fix the versions on which datahub 5.3.0 can be installed"}, "afterCommit": {"oid": "ba2d458af4dcca0491ad7add10992f2e4ee680a0", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/ba2d458af4dcca0491ad7add10992f2e4ee680a0", "committedDate": "2020-07-09T20:12:03Z", "message": "DHFPROD-5310:Fix the versions on which datahub 5.3.0 can be installed"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1OTg2NjYw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4197#pullrequestreview-445986660", "createdAt": "2020-07-09T21:37:43Z", "commit": {"oid": "ba2d458af4dcca0491ad7add10992f2e4ee680a0"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2MzUzMTg3", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4197#pullrequestreview-446353187", "createdAt": "2020-07-10T12:16:23Z", "commit": {"oid": "ba2d458af4dcca0491ad7add10992f2e4ee680a0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxMjoxNjoyM1rOGv1Gkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxMjoxNjo1NlrOGv1HnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjgwNjI5MA==", "bodyText": "Why are these dates important? This comment is just stating the same thing as the code - the comment should instead address what the code cannot, which is why 9/12 and 11/12 are the dates.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4197#discussion_r452806290", "createdAt": "2020-07-10T12:16:23Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/java/com/marklogic/hub/impl/DataHubImpl.java", "diffHunk": "@@ -254,26 +254,26 @@ public boolean isServerVersionValid(String versionString) {\n                 return false;\n             }\n             if(serverVersion.isNightly()){\n-                //Support all 10.0-nightly on or after 6/20/2019 and 9.0-nightly on or after 7/25/2019\n+                //Support all 10.0-nightly on or after 9/12/2019 and 9.0-nightly on or after 11/12/2019", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba2d458af4dcca0491ad7add10992f2e4ee680a0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjgwNjU1Nw==", "bodyText": "Same thing - why do we require 9.0-11 and not 9.0-10?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4197#discussion_r452806557", "createdAt": "2020-07-10T12:16:56Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/java/com/marklogic/hub/impl/DataHubImpl.java", "diffHunk": "@@ -254,26 +254,26 @@ public boolean isServerVersionValid(String versionString) {\n                 return false;\n             }\n             if(serverVersion.isNightly()){\n-                //Support all 10.0-nightly on or after 6/20/2019 and 9.0-nightly on or after 7/25/2019\n+                //Support all 10.0-nightly on or after 9/12/2019 and 9.0-nightly on or after 11/12/2019\n                 if(serverVersion.getMajor() == 9) {\n-                    Date minDate = new GregorianCalendar(2019, Calendar.JULY, 25).getTime();\n+                    Date minDate = new GregorianCalendar(2019, Calendar.NOVEMBER, 12).getTime();\n                     Date date = new SimpleDateFormat(\"y-M-d\").parse(serverVersion.getDateString());\n                     if (date.before(minDate)) {\n                         return false;\n                     }\n                 }\n                 if(serverVersion.getMajor() == 10) {\n-                    Date minDate = new GregorianCalendar(2019, Calendar.JUNE, 20).getTime();\n+                    Date minDate = new GregorianCalendar(2019, Calendar.SEPTEMBER, 12).getTime();\n                     Date date = new SimpleDateFormat(\"y-M-d\").parse(serverVersion.getDateString());\n                     if (date.before(minDate)) {\n                         return false;\n                     }\n                 }\n             }\n-            //5.1.0 supports server versions 9.x >= 9.0-10 and 10.x >= 10.0.2\n+            //5.3.0 supports server versions 9.x >= 9.0-11 and 10.x >= 10.0.2\n             else {\n                 if(serverVersion.getMajor() == 9){\n-                    if(serverVersion.getMinor() < 1000) {\n+                    if(serverVersion.getMinor() < 1100) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba2d458af4dcca0491ad7add10992f2e4ee680a0"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7a624da6a9ab43a7c4006f705804bc84d59c77d", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/a7a624da6a9ab43a7c4006f705804bc84d59c77d", "committedDate": "2020-07-10T18:41:26Z", "message": "DHFPROD-5310:Fix the versions on which datahub 5.3.0 can be installed"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ba2d458af4dcca0491ad7add10992f2e4ee680a0", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/ba2d458af4dcca0491ad7add10992f2e4ee680a0", "committedDate": "2020-07-09T20:12:03Z", "message": "DHFPROD-5310:Fix the versions on which datahub 5.3.0 can be installed"}, "afterCommit": {"oid": "a7a624da6a9ab43a7c4006f705804bc84d59c77d", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/a7a624da6a9ab43a7c4006f705804bc84d59c77d", "committedDate": "2020-07-10T18:41:26Z", "message": "DHFPROD-5310:Fix the versions on which datahub 5.3.0 can be installed"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NjI3NzE4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4197#pullrequestreview-446627718", "createdAt": "2020-07-10T18:45:50Z", "commit": {"oid": "a7a624da6a9ab43a7c4006f705804bc84d59c77d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NjI3ODY2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4197#pullrequestreview-446627866", "createdAt": "2020-07-10T18:46:05Z", "commit": {"oid": "a7a624da6a9ab43a7c4006f705804bc84d59c77d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2624, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}