{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3MjU3NTgx", "number": 4282, "title": "DHFPROD-5568: Loading test modules now honors environment properties", "bodyText": "Changes:\n\nDataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\nAll tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\nAll test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\nDeleted a couple tests that were disabled / not doing anything\n\nDescription\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-07-27T16:03:27Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4282", "merged": true, "mergeCommit": {"oid": "3d5c8b203ff1f09ad8c6e53e167bbf2c8a8f6210"}, "closed": true, "closedAt": "2020-07-29T07:20:49Z", "author": {"login": "rjrudin"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5EEvlAFqTQ1NTkyMzkzNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5h_oUAFqTQ1NzE2MDQwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1OTIzOTM3", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4282#pullrequestreview-455923937", "createdAt": "2020-07-27T16:04:34Z", "commit": {"oid": "e3a3f1e2585f8ca705ab8a20cfbf62565b041549"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNjowNDozNFrOG3pN5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNjowNDozNFrOG3pN5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAwMDE2Ng==", "bodyText": "Deleted this, since it wasn't testing anything", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4282#discussion_r461000166", "createdAt": "2020-07-27T16:04:34Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/test/java/com/marklogic/hub/core/DataHubInstallTest.java", "diffHunk": "@@ -247,23 +247,4 @@ public void testInstallUserModules() throws IOException, ParserConfigurationExce\n         assertFalse(propsManager.hasFileBeenModifiedSinceLastLoaded(new File(\"ye-olde-project/plugins/entities/test-entity/harmonize/REST/options/patients.xml\")));\n         assertFalse(propsManager.hasFileBeenModifiedSinceLastLoaded(new File(\"ye-olde-project/plugins/entities/test-entity/input/REST/transforms/test-input-transform.xqy\")));\n     }\n-\n-    @Test\n-    public void testClearUserModules() throws URISyntaxException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3a3f1e2585f8ca705ab8a20cfbf62565b041549"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1OTI0MTI2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4282#pullrequestreview-455924126", "createdAt": "2020-07-27T16:04:47Z", "commit": {"oid": "e3a3f1e2585f8ca705ab8a20cfbf62565b041549"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNjowNDo0N1rOG3pOYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNjowNDo0N1rOG3pOYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAwMDI4OQ==", "bodyText": "Deleted this since it's been disabled for a couple years", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4282#discussion_r461000289", "createdAt": "2020-07-27T16:04:47Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/test/java/com/marklogic/hub/entity/EntityManagerTest.java", "diffHunk": "@@ -91,59 +88,11 @@ public void testDeploySearchOptionsWithNoEntities() {\n         assertNull(getModulesFile(\"/Default/\" + HubConfig.DEFAULT_FINAL_NAME + \"/rest-api/options/\" + HubConfig.FINAL_ENTITY_QUERY_OPTIONS_FILE));\n     }\n \n-    @Test\n-    @Disabled\n-    public void testDeploySearchOptions() throws IOException, SAXException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3a3f1e2585f8ca705ab8a20cfbf62565b041549"}, "originalPosition": 35}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e3a3f1e2585f8ca705ab8a20cfbf62565b041549", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/e3a3f1e2585f8ca705ab8a20cfbf62565b041549", "committedDate": "2020-07-27T16:02:47Z", "message": "DHFPROD-5568: Loading test modules now honors environment properties\n\nChanges:\n\n- DataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\n- All tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\n- All test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\n- Deleted a couple tests that were disabled / not doing anything"}, "afterCommit": {"oid": "484ecfde974c0a61225a214e515fe36612061389", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/484ecfde974c0a61225a214e515fe36612061389", "committedDate": "2020-07-27T16:05:25Z", "message": "DHFPROD-5568: Loading test modules now honors environment properties\n\nChanges:\n\n- DataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\n- All tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\n- All test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\n- Deleted a couple tests that were disabled / not doing anything"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "484ecfde974c0a61225a214e515fe36612061389", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/484ecfde974c0a61225a214e515fe36612061389", "committedDate": "2020-07-27T16:05:25Z", "message": "DHFPROD-5568: Loading test modules now honors environment properties\n\nChanges:\n\n- DataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\n- All tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\n- All test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\n- Deleted a couple tests that were disabled / not doing anything"}, "afterCommit": {"oid": "c5535f5cbc9d1c0b9b40beea68ed6e23aaf5dda3", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/c5535f5cbc9d1c0b9b40beea68ed6e23aaf5dda3", "committedDate": "2020-07-27T18:03:11Z", "message": "DHFPROD-5568: Loading test modules now honors environment properties\n\nChanges:\n\n- DataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\n- All tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\n- All test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\n- Deleted a couple tests that were disabled / not doing anything"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c5535f5cbc9d1c0b9b40beea68ed6e23aaf5dda3", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/c5535f5cbc9d1c0b9b40beea68ed6e23aaf5dda3", "committedDate": "2020-07-27T18:03:11Z", "message": "DHFPROD-5568: Loading test modules now honors environment properties\n\nChanges:\n\n- DataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\n- All tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\n- All test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\n- Deleted a couple tests that were disabled / not doing anything"}, "afterCommit": {"oid": "94f617fecb85dbf70b356f40ca1cd54e5de50f3c", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/94f617fecb85dbf70b356f40ca1cd54e5de50f3c", "committedDate": "2020-07-28T14:50:27Z", "message": "DHFPROD-5568: Loading test modules now honors environment properties\n\nChanges:\n\n- DataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\n- All tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\n- All test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\n- Deleted a couple tests that were disabled / not doing anything"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2ODIwMTc5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4282#pullrequestreview-456820179", "createdAt": "2020-07-28T16:45:16Z", "commit": {"oid": "94f617fecb85dbf70b356f40ca1cd54e5de50f3c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffcf83b119db36b4c91fca7e51be4dee1b4c884d", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/ffcf83b119db36b4c91fca7e51be4dee1b4c884d", "committedDate": "2020-07-28T18:07:40Z", "message": "DHFPROD-5568: Loading test modules now honors environment properties\n\nChanges:\n\n- DataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\n- All tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\n- All test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\n- Deleted a couple tests that were disabled / not doing anything"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "94f617fecb85dbf70b356f40ca1cd54e5de50f3c", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/94f617fecb85dbf70b356f40ca1cd54e5de50f3c", "committedDate": "2020-07-28T14:50:27Z", "message": "DHFPROD-5568: Loading test modules now honors environment properties\n\nChanges:\n\n- DataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\n- All tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\n- All test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\n- Deleted a couple tests that were disabled / not doing anything"}, "afterCommit": {"oid": "ffcf83b119db36b4c91fca7e51be4dee1b4c884d", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/ffcf83b119db36b4c91fca7e51be4dee1b4c884d", "committedDate": "2020-07-28T18:07:40Z", "message": "DHFPROD-5568: Loading test modules now honors environment properties\n\nChanges:\n\n- DataHubImpl now has a clearUserModules method that allows for resource names to be specifed that shouldn't be deleted. For tests, that allows for marklogic-unit-test to not be deleted\n- All tests now use clearUserModules() in HubTestBase which ensures marklogic-unit-test is not deleted\n- All test modules are added to the hub-core-module collection so they're not deleted by clearUserModules\n- Deleted a couple tests that were disabled / not doing anything"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2OTI2Mzkz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4282#pullrequestreview-456926393", "createdAt": "2020-07-28T19:07:31Z", "commit": {"oid": "ffcf83b119db36b4c91fca7e51be4dee1b4c884d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MTYwNDA4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4282#pullrequestreview-457160408", "createdAt": "2020-07-29T02:56:08Z", "commit": {"oid": "ffcf83b119db36b4c91fca7e51be4dee1b4c884d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2464, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}