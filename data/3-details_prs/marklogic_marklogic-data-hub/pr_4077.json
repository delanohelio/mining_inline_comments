{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyMDQwNDM4", "number": 4077, "title": "DHFPROD-4670: Display disabled links for adding to flow for non-flow writer", "bodyText": "Description\nBefore it wasn't showing the links without the role. According to the JIRA ticket it should show, but be disabled.\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-06-09T20:17:31Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4077", "merged": true, "mergeCommit": {"oid": "d59c2f6dc59c5ec3c5004cba8bf98a7ce98b43cb"}, "closed": true, "closedAt": "2020-06-10T18:49:51Z", "author": {"login": "ryanjdew"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpq141gH2gAyNDMyMDQwNDM4OmY3NmQ3ODIzYmI3NjMxNzU5YWFhZGY3MzI0MzVlM2UxMWQ4YjAxMjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcp8RC9AFqTQyODIzMjIwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f76d7823bb7631759aaadf732435e3e11d8b0124", "author": {"user": {"login": "ryanjdew", "name": "Ryan Dew"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/f76d7823bb7631759aaadf732435e3e11d8b0124", "committedDate": "2020-06-09T20:11:51Z", "message": "DHFPROD-4670: Display disabled links for adding to flow for non-flow writer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NTQzOTM5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4077#pullrequestreview-427543939", "createdAt": "2020-06-09T21:03:58Z", "commit": {"oid": "f76d7823bb7631759aaadf732435e3e11d8b0124"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NjQ1NzA3", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4077#pullrequestreview-427645707", "createdAt": "2020-06-10T01:10:33Z", "commit": {"oid": "f76d7823bb7631759aaadf732435e3e11d8b0124"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3Njc2NTQx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4077#pullrequestreview-427676541", "createdAt": "2020-06-10T02:54:46Z", "commit": {"oid": "f76d7823bb7631759aaadf732435e3e11d8b0124"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwMjo1NDo0NlrOGhjIFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwMjo1NDo0NlrOGhjIFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzgzMTcwMw==", "bodyText": "Can we verify this to be disabled instead to satisfy the requirement -- \"Important: Unless you have this role, the \"Add step to existing flow\" and \"Add step to new flow\" options on the Curate and Load tiles should be disabled'", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4077#discussion_r437831703", "createdAt": "2020-06-10T02:54:46Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/src/components/entities/mapping/mapping-card.test.tsx", "diffHunk": "@@ -339,13 +340,18 @@ describe(\"Entity Tiles component\", () => {\n       addStepToFlow={mockAddStepToFlow}\n       addStepToNew={noopFun}/>\n     </AuthoritiesContext.Provider></MemoryRouter>);\n+    const mappingStepName = mapping[0].name;\n \n-    fireEvent.mouseOver(getByText(mapping[0].name));\n+    fireEvent.mouseOver(getByText(mappingStepName));\n \n     // test adding to existing flow\n-    expect(queryByText('Add step to an existing flow')).not.toBeInTheDocument();\n+    expect(queryByTestId(`${mappingStepName}-toExistingFlow`)).toBeInTheDocument();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f76d7823bb7631759aaadf732435e3e11d8b0124"}, "originalPosition": 63}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MjMyMjA1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4077#pullrequestreview-428232205", "createdAt": "2020-06-10T16:29:54Z", "commit": {"oid": "f76d7823bb7631759aaadf732435e3e11d8b0124"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2771, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}