{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwODAyMTU3", "number": 4861, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNzoxOToxMFrOE5l-hA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzoyNjozN1rOE5xHYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4ODI2NTAwOnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub-central/ui/src/components/flows/flows.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNzoxOToxMFrOH0JN8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjozMDo1MFrOH0YH2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQzOTAyNg==", "bodyText": "@MLjyang, let's make the styling here consistent with what's in the other confirmation boxes (the styling was updated recently). Use bold styling instead of quotes:", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4861#discussion_r524439026", "createdAt": "2020-11-16T17:19:10Z", "author": {"login": "wooldridge"}, "path": "marklogic-data-hub-central/ui/src/components/flows/flows.tsx", "diffHunk": "@@ -323,7 +331,15 @@ const Flows: React.FC<Props> = (props) => {\n             onCancel={() => onCancel()}\n             width={350}\n         >\n-            <div style={{fontSize: '16px', padding: '10px'}}>Are you sure you want to add step \"{stepName}\" to flow \"{flowName}\"?</div>\n+            <div style={{fontSize: '16px', padding: '10px'}}>\n+                {\n+                    isStepInFlow(stepName, flowName)\n+                    ?\n+                    <p>The step \"{stepName}\" is already in the flow \"{flowName}\". Would you like to add another instance?</p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df2a3fd327049f1ee0379a067e7f7c4fb7b8143e"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDY4MzIyNw==", "bodyText": "Fixed.  Added changes to unit tests for this update", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4861#discussion_r524683227", "createdAt": "2020-11-16T22:30:50Z", "author": {"login": "jyangML"}, "path": "marklogic-data-hub-central/ui/src/components/flows/flows.tsx", "diffHunk": "@@ -323,7 +331,15 @@ const Flows: React.FC<Props> = (props) => {\n             onCancel={() => onCancel()}\n             width={350}\n         >\n-            <div style={{fontSize: '16px', padding: '10px'}}>Are you sure you want to add step \"{stepName}\" to flow \"{flowName}\"?</div>\n+            <div style={{fontSize: '16px', padding: '10px'}}>\n+                {\n+                    isStepInFlow(stepName, flowName)\n+                    ?\n+                    <p>The step \"{stepName}\" is already in the flow \"{flowName}\". Would you like to add another instance?</p>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQzOTAyNg=="}, "originalCommit": {"oid": "df2a3fd327049f1ee0379a067e7f7c4fb7b8143e"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4ODM0MTM0OnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub-central/ui/src/components/flows/flows.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNzozNjozMFrOH0J9XQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjozMDoyOFrOH0YGWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQ1MTE2NQ==", "bodyText": "Can we move these styles into a CSS class? You may need to apply the class via flows.scss (instead of flows.module.scss) in order to override what's applied by Ant Design.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4861#discussion_r524451165", "createdAt": "2020-11-16T17:36:30Z", "author": {"login": "wooldridge"}, "path": "marklogic-data-hub-central/ui/src/components/flows/flows.tsx", "diffHunk": "@@ -323,7 +331,15 @@ const Flows: React.FC<Props> = (props) => {\n             onCancel={() => onCancel()}\n             width={350}\n         >\n-            <div style={{fontSize: '16px', padding: '10px'}}>Are you sure you want to add step \"{stepName}\" to flow \"{flowName}\"?</div>\n+            <div style={{fontSize: '16px', padding: '10px'}}>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df2a3fd327049f1ee0379a067e7f7c4fb7b8143e"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDY4Mjg0Mg==", "bodyText": "Made a new style in flows.modules.scss.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4861#discussion_r524682842", "createdAt": "2020-11-16T22:30:28Z", "author": {"login": "jyangML"}, "path": "marklogic-data-hub-central/ui/src/components/flows/flows.tsx", "diffHunk": "@@ -323,7 +331,15 @@ const Flows: React.FC<Props> = (props) => {\n             onCancel={() => onCancel()}\n             width={350}\n         >\n-            <div style={{fontSize: '16px', padding: '10px'}}>Are you sure you want to add step \"{stepName}\" to flow \"{flowName}\"?</div>\n+            <div style={{fontSize: '16px', padding: '10px'}}>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQ1MTE2NQ=="}, "originalCommit": {"oid": "df2a3fd327049f1ee0379a067e7f7c4fb7b8143e"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MDA4NzQxOnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub-central/ui/src/pages/Run.test.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzoyNjowOFrOH0b5sw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNTowNToyNVrOH05Row==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDc0NTEzOQ==", "bodyText": "Instead of creating a new Matcher function, you can use 'getSubElements', ex:\n        expect(await(waitForElement(() => getByText((content, node) => {\n            return getSubElements(content, node,`Are you sure you to add step ${data.steps.data['ingestionSteps'][0].name} to flow ${data.flows.data[0].name}?`);\n        })))).toBeInTheDocument();\n\nPlease try using that and removing the snippet creating a new function.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4861#discussion_r524745139", "createdAt": "2020-11-16T23:26:08Z", "author": {"login": "briantang"}, "path": "marklogic-data-hub-central/ui/src/pages/Run.test.tsx", "diffHunk": "@@ -775,7 +790,7 @@ describe('Verify Add Step function', () => {\n         fireEvent.click(step);\n \n         // Click to confirm the add in the dialog\n-        expect(getByText(`Are you sure you want to add step \"${data.steps.data['ingestionSteps'][0].name}\" to flow \"${data.flows.data[0].name}\"?`)).toBeInTheDocument();\n+        expect(getByTextWithMarkup(`Are you sure you want to add step ${data.steps.data['ingestionSteps'][0].name} to flow ${data.flows.data[0].name}?`)).toBeInTheDocument();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5cb59ecb0a6febdd5c248948122610e567fe4d0"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTIyNjQwMw==", "bodyText": "Nice catch.  I didn't even see the snippet that I could have used underneath.  Thanks for pointing it out.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4861#discussion_r525226403", "createdAt": "2020-11-17T15:05:25Z", "author": {"login": "jyangML"}, "path": "marklogic-data-hub-central/ui/src/pages/Run.test.tsx", "diffHunk": "@@ -775,7 +790,7 @@ describe('Verify Add Step function', () => {\n         fireEvent.click(step);\n \n         // Click to confirm the add in the dialog\n-        expect(getByText(`Are you sure you want to add step \"${data.steps.data['ingestionSteps'][0].name}\" to flow \"${data.flows.data[0].name}\"?`)).toBeInTheDocument();\n+        expect(getByTextWithMarkup(`Are you sure you want to add step ${data.steps.data['ingestionSteps'][0].name} to flow ${data.flows.data[0].name}?`)).toBeInTheDocument();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDc0NTEzOQ=="}, "originalCommit": {"oid": "f5cb59ecb0a6febdd5c248948122610e567fe4d0"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MDA4OTk1OnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub-central/ui/src/pages/Run.test.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzoyNjozN1rOH0b7pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNTowNTozMVrOH05R6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDc0NTYzOA==", "bodyText": "Same situation here. Everything else looks good!", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4861#discussion_r524745638", "createdAt": "2020-11-16T23:26:37Z", "author": {"login": "briantang"}, "path": "marklogic-data-hub-central/ui/src/pages/Run.test.tsx", "diffHunk": "@@ -830,7 +860,7 @@ describe('Verify Add Step function', () => {\n         fireEvent.click(step);\n \n         // Click to confirm the add in the dialog\n-        expect(getByText(`Are you sure you want to add step \"${data.steps.data['ingestionSteps'][0].name}\" to flow \"${data.flows.data[0].name}\"?`)).toBeInTheDocument();\n+        expect(getByTextWithMarkup(`Are you sure you want to add step ${data.steps.data['ingestionSteps'][0].name} to flow ${data.flows.data[0].name}?`)).toBeInTheDocument();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5cb59ecb0a6febdd5c248948122610e567fe4d0"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTIyNjQ3Mw==", "bodyText": "also fixed", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4861#discussion_r525226473", "createdAt": "2020-11-17T15:05:31Z", "author": {"login": "jyangML"}, "path": "marklogic-data-hub-central/ui/src/pages/Run.test.tsx", "diffHunk": "@@ -830,7 +860,7 @@ describe('Verify Add Step function', () => {\n         fireEvent.click(step);\n \n         // Click to confirm the add in the dialog\n-        expect(getByText(`Are you sure you want to add step \"${data.steps.data['ingestionSteps'][0].name}\" to flow \"${data.flows.data[0].name}\"?`)).toBeInTheDocument();\n+        expect(getByTextWithMarkup(`Are you sure you want to add step ${data.steps.data['ingestionSteps'][0].name} to flow ${data.flows.data[0].name}?`)).toBeInTheDocument();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDc0NTYzOA=="}, "originalCommit": {"oid": "f5cb59ecb0a6febdd5c248948122610e567fe4d0"}, "originalPosition": 58}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3111, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}