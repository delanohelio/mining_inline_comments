{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2NzQ1OTk5", "number": 4905, "title": "DHFPROD-6247: Add sourceName to records during ingestion and make it facetable", "bodyText": "Description\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-11-24T20:21:35Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4905", "merged": true, "mergeCommit": {"oid": "3a1ea0e10841c194c0d42c47d9d29f50a35e361b"}, "closed": true, "closedAt": "2020-11-26T23:38:07Z", "author": {"login": "rahulvudutala"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfv2PKAFqTUzNzg4MTQ0NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgbqd3AFqTUzOTU3ODgzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3ODgxNDQ0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4905#pullrequestreview-537881444", "createdAt": "2020-11-24T20:32:41Z", "commit": {"oid": "5511acf43d4a7c84c78054e7d7e643010c178e85"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDozMjo0MVrOH5UHYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMDozMjo0MVrOH5UHYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg2MDQ0OQ==", "bodyText": "Can you add another assertion on \"sources[0]\", verifying that it's the step name?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4905#discussion_r529860449", "createdAt": "2020-11-24T20:32:41Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/test/java/com/marklogic/hub/step/impl/IngestWithSourceNameAndSourceTypeTest.java", "diffHunk": "@@ -53,8 +53,8 @@ void runDefaultIngestionWithSourceNameAndSourceType(){\n         assertEquals(JobStatus.FINISHED.toString(), response.getJobStatus());\n         JsonNode sourceDoc = getStagingDoc(\"customer1.json\");\n         assertNotNull(sourceDoc);\n-        JsonNode sourcesNode = sourceDoc.get(\"envelope\").get(\"headers\").get(\"sources\").get(0);\n-        assertEquals(\"sample-source\", sourcesNode.get(\"name\").asText());\n+        JsonNode sourcesNode = sourceDoc.get(\"envelope\").get(\"headers\").get(\"sources\").get(1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5511acf43d4a7c84c78054e7d7e643010c178e85"}, "originalPosition": 6}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5511acf43d4a7c84c78054e7d7e643010c178e85", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/5511acf43d4a7c84c78054e7d7e643010c178e85", "committedDate": "2020-11-23T19:56:37Z", "message": "DHFPROD-6247: Add sourceName to records during ingestion and make it facetable"}, "afterCommit": {"oid": "3d6de18d41ffb944d51833ea3b2963d062dc2638", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/3d6de18d41ffb944d51833ea3b2963d062dc2638", "committedDate": "2020-11-24T20:45:19Z", "message": "DHFPROD-6247: Add sourceName to records during ingestion and make it facetable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3ODk2MDQ2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4905#pullrequestreview-537896046", "createdAt": "2020-11-24T20:52:23Z", "commit": {"oid": "3d6de18d41ffb944d51833ea3b2963d062dc2638"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4MDU0Nzgx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4905#pullrequestreview-538054781", "createdAt": "2020-11-24T23:45:28Z", "commit": {"oid": "3d6de18d41ffb944d51833ea3b2963d062dc2638"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4NjY0MzIy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4905#pullrequestreview-538664322", "createdAt": "2020-11-25T16:24:10Z", "commit": {"oid": "3d6de18d41ffb944d51833ea3b2963d062dc2638"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3d6de18d41ffb944d51833ea3b2963d062dc2638", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/3d6de18d41ffb944d51833ea3b2963d062dc2638", "committedDate": "2020-11-24T20:45:19Z", "message": "DHFPROD-6247: Add sourceName to records during ingestion and make it facetable"}, "afterCommit": {"oid": "7093bb57e82e1184d615ce7e3a1b27392c1e1d01", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/7093bb57e82e1184d615ce7e3a1b27392c1e1d01", "committedDate": "2020-11-25T18:33:05Z", "message": "DHFPROD-6247: Add sourceName to records during ingestion and make it facetable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4ODQ4Mjcy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4905#pullrequestreview-538848272", "createdAt": "2020-11-25T21:11:10Z", "commit": {"oid": "7093bb57e82e1184d615ce7e3a1b27392c1e1d01"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7093bb57e82e1184d615ce7e3a1b27392c1e1d01", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/7093bb57e82e1184d615ce7e3a1b27392c1e1d01", "committedDate": "2020-11-25T18:33:05Z", "message": "DHFPROD-6247: Add sourceName to records during ingestion and make it facetable"}, "afterCommit": {"oid": "a8677319db37db848e11edb4efa58fc079085a4c", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/a8677319db37db848e11edb4efa58fc079085a4c", "committedDate": "2020-11-25T22:43:25Z", "message": "DHFPROD-6247: Add sourceName to records during ingestion and make it facetable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4OTE3Nzgz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4905#pullrequestreview-538917783", "createdAt": "2020-11-26T00:21:07Z", "commit": {"oid": "a8677319db37db848e11edb4efa58fc079085a4c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4OTIyNzgw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4905#pullrequestreview-538922780", "createdAt": "2020-11-26T00:39:59Z", "commit": {"oid": "a8677319db37db848e11edb4efa58fc079085a4c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a08e0fb710b62e02437de9be02bb6e413139a82", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/7a08e0fb710b62e02437de9be02bb6e413139a82", "committedDate": "2020-11-26T02:53:54Z", "message": "DHFPROD-6247: Add sourceName to records during ingestion and make it facetable"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a8677319db37db848e11edb4efa58fc079085a4c", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/a8677319db37db848e11edb4efa58fc079085a4c", "committedDate": "2020-11-25T22:43:25Z", "message": "DHFPROD-6247: Add sourceName to records during ingestion and make it facetable"}, "afterCommit": {"oid": "7a08e0fb710b62e02437de9be02bb6e413139a82", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/7a08e0fb710b62e02437de9be02bb6e413139a82", "committedDate": "2020-11-26T02:53:54Z", "message": "DHFPROD-6247: Add sourceName to records during ingestion and make it facetable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4OTY1NDkz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4905#pullrequestreview-538965493", "createdAt": "2020-11-26T03:09:48Z", "commit": {"oid": "7a08e0fb710b62e02437de9be02bb6e413139a82"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5NTc4ODM2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4905#pullrequestreview-539578836", "createdAt": "2020-11-26T23:36:38Z", "commit": {"oid": "7a08e0fb710b62e02437de9be02bb6e413139a82"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1727, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}