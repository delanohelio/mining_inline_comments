{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMxMzQ3MjI2", "number": 4932, "title": "DHFPROD-6304: Update the java client api to version 5.3.2", "bodyText": "Description\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n[NA] Added Tests\n\n\nReviewer:\n\n\n[NA] Reviewed Tests", "createdAt": "2020-12-02T23:11:53Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4932", "merged": true, "mergeCommit": {"oid": "e8292b5f3a35ceb85ed34f80b1a46462db308ded"}, "closed": true, "closedAt": "2020-12-04T02:31:17Z", "author": {"login": "SameeraPriyathamTadikonda"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdiW94pAFqTU0MzMxNzgyMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABditCWGgFqTU0NDU4MjAyMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzMzE3ODIz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4932#pullrequestreview-543317823", "createdAt": "2020-12-02T23:16:10Z", "commit": {"oid": "8e96bab797738ab1b69983a70afd7eddb0a7b600"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQyMzoxNjoxMFrOH9yMJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQyMzoxNjoxMFrOH9yMJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU0NzQ5NQ==", "bodyText": "I don't think this is needed here and web/build.gradle  but it's going to be deleted, so I think it's fine for now.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4932#discussion_r534547495", "createdAt": "2020-12-02T23:16:10Z", "author": {"login": "srinathgit"}, "path": "ml-data-hub-plugin/build.gradle", "diffHunk": "@@ -49,6 +49,8 @@ repositories {\n     mavenCentral()\n     maven { url 'http://repo.spring.io/milestone' }\n     maven { url 'http://developer.marklogic.com/maven2' }\n+    //ToDo: Remove this once java-client-api-5.3.2 is released\n+    maven {url 'http://distro.marklogic.com/nexus/repository/maven-releases/'}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e96bab797738ab1b69983a70afd7eddb0a7b600"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzMzE3ODYx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4932#pullrequestreview-543317861", "createdAt": "2020-12-02T23:16:15Z", "commit": {"oid": "8e96bab797738ab1b69983a70afd7eddb0a7b600"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzMzI0Njg5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4932#pullrequestreview-543324689", "createdAt": "2020-12-02T23:31:00Z", "commit": {"oid": "8e96bab797738ab1b69983a70afd7eddb0a7b600"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzMzI4NTk1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4932#pullrequestreview-543328595", "createdAt": "2020-12-02T23:40:06Z", "commit": {"oid": "8e96bab797738ab1b69983a70afd7eddb0a7b600"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8e96bab797738ab1b69983a70afd7eddb0a7b600", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/8e96bab797738ab1b69983a70afd7eddb0a7b600", "committedDate": "2020-12-02T23:11:00Z", "message": "DHFPROD-6304: Update the java client api to version 5.3.2"}, "afterCommit": {"oid": "e1c6979ea4df5c76ea12249ea3837ff39d4ceab7", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/e1c6979ea4df5c76ea12249ea3837ff39d4ceab7", "committedDate": "2020-12-03T00:00:34Z", "message": "excluding the kotlin jar"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e1c6979ea4df5c76ea12249ea3837ff39d4ceab7", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/e1c6979ea4df5c76ea12249ea3837ff39d4ceab7", "committedDate": "2020-12-03T00:00:34Z", "message": "excluding the kotlin jar"}, "afterCommit": {"oid": "30349ffa9b756dde456e2b95cc2d1ea76ceb69f4", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/30349ffa9b756dde456e2b95cc2d1ea76ceb69f4", "committedDate": "2020-12-03T02:46:49Z", "message": "DHFPROD-6304: Upgrading to Javaclient 5.3.0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "30349ffa9b756dde456e2b95cc2d1ea76ceb69f4", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/30349ffa9b756dde456e2b95cc2d1ea76ceb69f4", "committedDate": "2020-12-03T02:46:49Z", "message": "DHFPROD-6304: Upgrading to Javaclient 5.3.0"}, "afterCommit": {"oid": "0487cd15a2c6c54d5871d97495eeb7096ab94b65", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/0487cd15a2c6c54d5871d97495eeb7096ab94b65", "committedDate": "2020-12-03T03:01:33Z", "message": "DHFPROD-6304: Upgrading to Javaclient 5.3.0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzNDI5MTQw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4932#pullrequestreview-543429140", "createdAt": "2020-12-03T04:11:30Z", "commit": {"oid": "0487cd15a2c6c54d5871d97495eeb7096ab94b65"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzNDI5Nzg5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4932#pullrequestreview-543429789", "createdAt": "2020-12-03T04:13:40Z", "commit": {"oid": "0487cd15a2c6c54d5871d97495eeb7096ab94b65"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0487cd15a2c6c54d5871d97495eeb7096ab94b65", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/0487cd15a2c6c54d5871d97495eeb7096ab94b65", "committedDate": "2020-12-03T03:01:33Z", "message": "DHFPROD-6304: Upgrading to Javaclient 5.3.0"}, "afterCommit": {"oid": "e345ed4187abe15d27be9bd4ac9356ebfac9bb95", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/e345ed4187abe15d27be9bd4ac9356ebfac9bb95", "committedDate": "2020-12-03T06:56:42Z", "message": "DHFPROD-6304: Upgrading to Javaclient 5.3.0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e345ed4187abe15d27be9bd4ac9356ebfac9bb95", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/e345ed4187abe15d27be9bd4ac9356ebfac9bb95", "committedDate": "2020-12-03T06:56:42Z", "message": "DHFPROD-6304: Upgrading to Javaclient 5.3.0"}, "afterCommit": {"oid": "0fbc9e015c35cadc407306212fccb47f9e65b088", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/0fbc9e015c35cadc407306212fccb47f9e65b088", "committedDate": "2020-12-03T07:08:46Z", "message": "DHFPROD-6304: Upgrading to Javaclient 5.3.0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0fbc9e015c35cadc407306212fccb47f9e65b088", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/0fbc9e015c35cadc407306212fccb47f9e65b088", "committedDate": "2020-12-03T07:08:46Z", "message": "DHFPROD-6304: Upgrading to Javaclient 5.3.0"}, "afterCommit": {"oid": "9e9e4986d2a950700c0ac4c66939962ccd1ad757", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/9e9e4986d2a950700c0ac4c66939962ccd1ad757", "committedDate": "2020-12-03T07:24:13Z", "message": "DHFPROD-6304: Upgrading to Javaclient 5.3.0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzOTUyNDY0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4932#pullrequestreview-543952464", "createdAt": "2020-12-03T13:29:51Z", "commit": {"oid": "9e9e4986d2a950700c0ac4c66939962ccd1ad757"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMzoyOTo1MlrOH-bt1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMzozMDoyOVrOH-bvlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTIyNzg2Mw==", "bodyText": "This still needs to be 3.16.3 - can't go to 4.x because it requires Java 9. Be sure to test out the DHF Gradle plugin on one of the example projects after making the changes here, and be sure to run Java 8, as that's what DHF 5.2.x supports.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4932#discussion_r535227863", "createdAt": "2020-12-03T13:29:52Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/build.gradle", "diffHunk": "@@ -32,17 +35,32 @@ ext.junitPlatformVersion = '1.4.0'\n ext.junitJupiterVersion  = '5.4.0'\n \n dependencies {\n-    compile 'com.marklogic:marklogic-client-api:4.2.0'\n-    compile('com.marklogic:ml-app-deployer:3.16.3'){\n+    // Forcing use of 1.3.71 - which is what OkHttp 4.7.2 wants, which is what Java Client 5.3 uses - so that 1.2.x\n+    // versions don't come onto the classpath\n+    compile \"org.jetbrains.kotlin:kotlin-stdlib:1.3.71\"\n+    compile \"org.jetbrains.kotlin:kotlin-stdlib-common:1.3.71\"\n+    compile ('com.marklogic:marklogic-client-api:5.3.2'){\n+        exclude group: 'com.fasterxml.woodstox', module: 'woodstox-core'\n+        // Oddly, the OkHttp 4.4.0 dependency includes version 1.2.70 and 1.3.x of these dependencies. This causes\n+        // class conflict errors. So they're excluded from here, and we force inclusion of 1.3.x below.\n+        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib'\n+        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-common'\n+    }\n+    compile('com.marklogic:ml-app-deployer:4.1.0'){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e9e4986d2a950700c0ac4c66939962ccd1ad757"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTIyNzk1OQ==", "bodyText": "Can't upgrade this either", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4932#discussion_r535227959", "createdAt": "2020-12-03T13:30:00Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/build.gradle", "diffHunk": "@@ -32,17 +35,32 @@ ext.junitPlatformVersion = '1.4.0'\n ext.junitJupiterVersion  = '5.4.0'\n \n dependencies {\n-    compile 'com.marklogic:marklogic-client-api:4.2.0'\n-    compile('com.marklogic:ml-app-deployer:3.16.3'){\n+    // Forcing use of 1.3.71 - which is what OkHttp 4.7.2 wants, which is what Java Client 5.3 uses - so that 1.2.x\n+    // versions don't come onto the classpath\n+    compile \"org.jetbrains.kotlin:kotlin-stdlib:1.3.71\"\n+    compile \"org.jetbrains.kotlin:kotlin-stdlib-common:1.3.71\"\n+    compile ('com.marklogic:marklogic-client-api:5.3.2'){\n+        exclude group: 'com.fasterxml.woodstox', module: 'woodstox-core'\n+        // Oddly, the OkHttp 4.4.0 dependency includes version 1.2.70 and 1.3.x of these dependencies. This causes\n+        // class conflict errors. So they're excluded from here, and we force inclusion of 1.3.x below.\n+        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib'\n+        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-common'\n+    }\n+    compile('com.marklogic:ml-app-deployer:4.1.0'){\n         exclude group: 'org.springframework', module: 'http'\n+        // prefer the version declared above\n+        exclude group: 'com.marklogic', module: 'marklogic-client-api'\n     }\n \n     compile group: 'org.springframework.boot', name: 'spring-boot', version: '2.1.3.RELEASE'\n     compile group: 'org.springframework.integration', name: 'spring-integration-http', version: '5.1.3.RELEASE'\n     compile group: 'org.springframework.boot', name: 'spring-boot-autoconfigure', version: '2.1.3.RELEASE'\n \n     compile 'com.marklogic:mlcp-util:0.9.0'\n-    compile 'com.marklogic:marklogic-data-movement-components:1.0'\n+    compile ('com.marklogic:marklogic-data-movement-components:2.2.0'){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e9e4986d2a950700c0ac4c66939962ccd1ad757"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTIyODMxMQ==", "bodyText": "Shouldn't need this once you're back to 3.16.3", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4932#discussion_r535228311", "createdAt": "2020-12-03T13:30:29Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/java/com/marklogic/hub/deploy/commands/GenerateHubTDETemplateCommand.java", "diffHunk": "@@ -74,7 +74,7 @@ public void execute(CommandContext context) {\n \n             if (!entityNameFileMap.isEmpty()) {\n                 logger.warn(\"About to generate a template for the following entities: {} into directory {} \",\n-                    this.entityNamesList.isEmpty() ? entityNameFileMap.keySet() : this.entityNamesList, hubConfig.getAppConfig().getSchemasPath());\n+                    this.entityNamesList.isEmpty() ? entityNameFileMap.keySet() : this.entityNamesList, hubConfig.getAppConfig().getSchemaPaths());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e9e4986d2a950700c0ac4c66939962ccd1ad757"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9a5de06e158241cdb25b514e4d1d3e236ee32ff4", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/9a5de06e158241cdb25b514e4d1d3e236ee32ff4", "committedDate": "2020-12-03T18:36:51Z", "message": "upgrading to gradle 6.3"}, "afterCommit": {"oid": "c60d36fe6305ee1ed196565293fef408a85ae834", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/c60d36fe6305ee1ed196565293fef408a85ae834", "committedDate": "2020-12-03T19:00:26Z", "message": "Upgrading to gradle 5.6.4"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c5b0bbdbccf3e9c107b9370da6bd431fe7e8f821", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/c5b0bbdbccf3e9c107b9370da6bd431fe7e8f821", "committedDate": "2020-12-03T21:23:19Z", "message": "adding kotlin"}, "afterCommit": {"oid": "eb057530b2f153d1fdac4fac22910a5a04206168", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/eb057530b2f153d1fdac4fac22910a5a04206168", "committedDate": "2020-12-03T23:37:20Z", "message": "DHFPROD-6304: Upgrading to Javaclient 5.3.0\n\nUpgrading to gradle 5.6.4\n\nadding kotlin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70921c72413ceb0c793d56b523bd30d207626d28", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/70921c72413ceb0c793d56b523bd30d207626d28", "committedDate": "2020-12-03T23:42:06Z", "message": "DHFPROD-6304: Upgrading to Javaclient 5.3.0\n\nUpgrading to gradle 5.6.4\n\nadding kotlin"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eb057530b2f153d1fdac4fac22910a5a04206168", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/eb057530b2f153d1fdac4fac22910a5a04206168", "committedDate": "2020-12-03T23:37:20Z", "message": "DHFPROD-6304: Upgrading to Javaclient 5.3.0\n\nUpgrading to gradle 5.6.4\n\nadding kotlin"}, "afterCommit": {"oid": "70921c72413ceb0c793d56b523bd30d207626d28", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/70921c72413ceb0c793d56b523bd30d207626d28", "committedDate": "2020-12-03T23:42:06Z", "message": "DHFPROD-6304: Upgrading to Javaclient 5.3.0\n\nUpgrading to gradle 5.6.4\n\nadding kotlin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0NTUyNTUz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4932#pullrequestreview-544552553", "createdAt": "2020-12-03T23:42:48Z", "commit": {"oid": "70921c72413ceb0c793d56b523bd30d207626d28"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0NTgyMDIy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4932#pullrequestreview-544582022", "createdAt": "2020-12-04T00:58:57Z", "commit": {"oid": "70921c72413ceb0c793d56b523bd30d207626d28"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1501, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}