{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5MTUzMDEy", "number": 4759, "title": "DHFPROD-6153: Loading default Initialize and Finalize endpoints", "bodyText": "Description\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-10-23T18:48:36Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4759", "merged": true, "mergeCommit": {"oid": "1e6e0f464f73d51db5cb6fbeecdf148987d8358f"}, "closed": true, "closedAt": "2020-10-26T22:22:33Z", "author": {"login": "SameeraPriyathamTadikonda"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVbnRxgFqTUxNTkzNTY3NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWcAdogFqTUxNzIxODQ3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1OTM1Njc1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4759#pullrequestreview-515935675", "createdAt": "2020-10-23T19:05:53Z", "commit": {"oid": "19896d0c0fbbbf399e8f067c6602fc0f9fb5486e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxOTowNTo1M1rOHnaYbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxOToxOTo1MlrOHnbCew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTA4ODc0OQ==", "bodyText": "Do these need to move as part of this PR? I'm planning on moving buildHubClientConfig out of here soon - the Reader will need it. In which case these two methods can stay put.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4759#discussion_r511088749", "createdAt": "2020-10-23T19:05:53Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub-spark-connector/src/main/java/com/marklogic/hub/spark/sql/sources/v2/DefaultSource.java", "diffHunk": "@@ -75,17 +64,28 @@ public static HubClientConfig buildHubClientConfig(Map<String, String> options)\n         hubClientConfig.applyProperties(props);\n         return hubClientConfig;\n     }\n+\n+    @Override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19896d0c0fbbbf399e8f067c6602fc0f9fb5486e"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTA5ODc2MA==", "bodyText": "I think it's worth making another private method to avoid the duplication of the \"if\" check and the error handling - e.g. \"loadEndpointsIfNotPresent\".", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4759#discussion_r511098760", "createdAt": "2020-10-23T19:19:01Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub-spark-connector/src/main/java/com/marklogic/hub/spark/sql/sources/v2/DefaultSource.java", "diffHunk": "@@ -216,6 +214,16 @@ private DocumentMetadataHandle buildDocumentMetadata() {\n     }\n \n     private String initializeJob(StructType schema) {\n+        String apiPath = \"/marklogic-data-hub-spark-connector/initializeJob.api\";\n+        String scriptPath = \"/marklogic-data-hub-spark-connector/initializeJob.sjs\";\n+        try {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19896d0c0fbbbf399e8f067c6602fc0f9fb5486e"}, "originalPosition": 88}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTA5OTAxOA==", "bodyText": "Just throw a RuntimeException here - IllegalArgumentException is for when the user provided some argument that's not valid, which isn't the case here.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4759#discussion_r511099018", "createdAt": "2020-10-23T19:19:19Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub-spark-connector/src/main/java/com/marklogic/hub/spark/sql/sources/v2/DefaultSource.java", "diffHunk": "@@ -216,6 +214,16 @@ private DocumentMetadataHandle buildDocumentMetadata() {\n     }\n \n     private String initializeJob(StructType schema) {\n+        String apiPath = \"/marklogic-data-hub-spark-connector/initializeJob.api\";\n+        String scriptPath = \"/marklogic-data-hub-spark-connector/initializeJob.sjs\";\n+        try {\n+            if (endpointExists(apiPath)) {\n+                loadEndpoint(scriptPath, apiPath);\n+            }\n+        } catch (IOException e) {\n+            throw new IllegalArgumentException(\"Unable to load initializeJob Endpoint, cause: \" + e.getMessage(), e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19896d0c0fbbbf399e8f067c6602fc0f9fb5486e"}, "originalPosition": 93}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTA5OTUxNQ==", "bodyText": "Need to check both the api and the sjs separately - it's conceivable that one exists but the other does not.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4759#discussion_r511099515", "createdAt": "2020-10-23T19:19:52Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub-spark-connector/src/main/java/com/marklogic/hub/spark/sql/sources/v2/DefaultSource.java", "diffHunk": "@@ -155,10 +155,11 @@ private JsonNode determineIngestionEndpointParams(Map<String, String> options) {\n \n         if (doesNotHaveApiPath) {\n             String apiPath = \"/marklogic-data-hub-spark-connector/bulkIngester.api\";\n+            String scriptPath = \"/marklogic-data-hub-spark-connector/bulkIngester.sjs\";\n \n-            if(hubClient.getModulesClient().newJSONDocumentManager().exists(apiPath) == null) {\n+            if (endpointExists(apiPath)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19896d0c0fbbbf399e8f067c6602fc0f9fb5486e"}, "originalPosition": 56}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "19896d0c0fbbbf399e8f067c6602fc0f9fb5486e", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/19896d0c0fbbbf399e8f067c6602fc0f9fb5486e", "committedDate": "2020-10-23T18:44:42Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints"}, "afterCommit": {"oid": "e07332ae775f0df1cfc9883435923498d6d2297c", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/e07332ae775f0df1cfc9883435923498d6d2297c", "committedDate": "2020-10-23T19:56:39Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints\nUpdating the method to ingest if endpoint doesnt exist"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e07332ae775f0df1cfc9883435923498d6d2297c", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/e07332ae775f0df1cfc9883435923498d6d2297c", "committedDate": "2020-10-23T19:56:39Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints\nUpdating the method to ingest if endpoint doesnt exist"}, "afterCommit": {"oid": "9cad37ad54bff6463ef8b5cb008e991ef6a1b1f6", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/9cad37ad54bff6463ef8b5cb008e991ef6a1b1f6", "committedDate": "2020-10-23T19:59:32Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints\nUpdating the method to ingest if endpoint doesnt exist"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2MDgwMTky", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4759#pullrequestreview-516080192", "createdAt": "2020-10-23T23:27:55Z", "commit": {"oid": "9cad37ad54bff6463ef8b5cb008e991ef6a1b1f6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QyMzoyNzo1NVrOHng7bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QyMzoyNzo1NVrOHng7bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE5NjAxNQ==", "bodyText": "To be safe, we really need to do one document at a time. If someone how module exists but the other doesn't, this will throw an error. The efficiency of writing 2 at a time isn't important here; this is going to finish in a very small amount of time no matter what, and it's a one-time operation.\nSo this method should just handle a single module. It just needs to know the path and the Format.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4759#discussion_r511196015", "createdAt": "2020-10-23T23:27:55Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub-spark-connector/src/main/java/com/marklogic/hub/spark/sql/sources/v2/DefaultSource.java", "diffHunk": "@@ -190,16 +185,19 @@ private void applyOptionsToEndpointConstants(ObjectNode endpointConstants, Map<S\n         });\n     }\n \n-    private void loadEndpoints() throws IOException {\n-        String scriptPath = \"marklogic-data-hub-spark-connector/bulkIngester.sjs\";\n-        String apiPath = \"marklogic-data-hub-spark-connector/bulkIngester.api\";\n-\n-        TextDocumentManager modMgr = hubClient.getModulesClient().newTextDocumentManager();\n-        DocumentWriteSet writeSet = modMgr.newWriteSet();\n-        DocumentMetadataHandle metadata = buildDocumentMetadata();\n-        writeSet.add(\"/\" + apiPath, metadata, new InputStreamHandle(new ClassPathResource(apiPath).getInputStream()).withFormat(Format.JSON));\n-        writeSet.add(\"/\" + scriptPath, metadata, new InputStreamHandle(new ClassPathResource(scriptPath).getInputStream()).withFormat(Format.TEXT));\n-        modMgr.write(writeSet);\n+    private void loadEndpointsIfNotPresent(String scriptPath, String apiPath) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cad37ad54bff6463ef8b5cb008e991ef6a1b1f6"}, "originalPosition": 80}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9cad37ad54bff6463ef8b5cb008e991ef6a1b1f6", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/9cad37ad54bff6463ef8b5cb008e991ef6a1b1f6", "committedDate": "2020-10-23T19:59:32Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints\nUpdating the method to ingest if endpoint doesnt exist"}, "afterCommit": {"oid": "81941060cafd448d8377baa9890119e9b9b5ed98", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/81941060cafd448d8377baa9890119e9b9b5ed98", "committedDate": "2020-10-24T00:11:19Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints\nUpdating the method to ingest if endpoint doesnt exist"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "81941060cafd448d8377baa9890119e9b9b5ed98", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/81941060cafd448d8377baa9890119e9b9b5ed98", "committedDate": "2020-10-24T00:11:19Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints\nUpdating the method to ingest if endpoint doesnt exist"}, "afterCommit": {"oid": "41cfbb45beb47842076f3a7652f05ee024728543", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/41cfbb45beb47842076f3a7652f05ee024728543", "committedDate": "2020-10-24T00:24:03Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints\nUpdating the method to ingest if endpoint doesnt exist"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "41cfbb45beb47842076f3a7652f05ee024728543", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/41cfbb45beb47842076f3a7652f05ee024728543", "committedDate": "2020-10-24T00:24:03Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints\nUpdating the method to ingest if endpoint doesnt exist"}, "afterCommit": {"oid": "059f6c6f20b401e4417209568c44ffbd7d9cab21", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/059f6c6f20b401e4417209568c44ffbd7d9cab21", "committedDate": "2020-10-26T18:29:32Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints\nUpdating the method to ingest if endpoint doesnt exist"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "059f6c6f20b401e4417209568c44ffbd7d9cab21", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/059f6c6f20b401e4417209568c44ffbd7d9cab21", "committedDate": "2020-10-26T18:29:32Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints\nUpdating the method to ingest if endpoint doesnt exist"}, "afterCommit": {"oid": "b818ac964adc509c19ce0e8ae6d88d67bec75292", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/b818ac964adc509c19ce0e8ae6d88d67bec75292", "committedDate": "2020-10-26T18:42:59Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints\nUpdating the method to ingest if endpoint doesnt exist"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MTUzMTk5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4759#pullrequestreview-517153199", "createdAt": "2020-10-26T20:33:58Z", "commit": {"oid": "b818ac964adc509c19ce0e8ae6d88d67bec75292"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQyMDozMzo1OVrOHohSag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQyMDozNTozOVrOHohWIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI1MDQ3NA==", "bodyText": "Can you rename this to \"loadModuleIfNotPresent\" and rename \"scriptPath\" to \"modulePath\"?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4759#discussion_r512250474", "createdAt": "2020-10-26T20:33:59Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub-spark-connector/src/main/java/com/marklogic/hub/spark/sql/sources/v2/DefaultSource.java", "diffHunk": "@@ -204,16 +201,18 @@ private void applyOptionsToEndpointConstants(ObjectNode endpointConstants, Map<S\n         });\n     }\n \n-    private void loadEndpoints() throws IOException {\n-        String scriptPath = \"marklogic-data-hub-spark-connector/bulkIngester.sjs\";\n-        String apiPath = \"marklogic-data-hub-spark-connector/bulkIngester.api\";\n-\n-        TextDocumentManager modMgr = hubClient.getModulesClient().newTextDocumentManager();\n-        DocumentWriteSet writeSet = modMgr.newWriteSet();\n-        DocumentMetadataHandle metadata = buildDocumentMetadata();\n-        writeSet.add(\"/\" + apiPath, metadata, new InputStreamHandle(new ClassPathResource(apiPath).getInputStream()).withFormat(Format.JSON));\n-        writeSet.add(\"/\" + scriptPath, metadata, new InputStreamHandle(new ClassPathResource(scriptPath).getInputStream()).withFormat(Format.TEXT));\n-        modMgr.write(writeSet);\n+    private void loadEndpointsIfNotPresent(String scriptPath, Format format) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b818ac964adc509c19ce0e8ae6d88d67bec75292"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI1MDc1MA==", "bodyText": "No need for a DocumentWriteSet since we're only writing one doc. Also, do \"newDocumentManager\" so it doesn't look like we expect these to be text documents.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4759#discussion_r512250750", "createdAt": "2020-10-26T20:34:25Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub-spark-connector/src/main/java/com/marklogic/hub/spark/sql/sources/v2/DefaultSource.java", "diffHunk": "@@ -204,16 +201,18 @@ private void applyOptionsToEndpointConstants(ObjectNode endpointConstants, Map<S\n         });\n     }\n \n-    private void loadEndpoints() throws IOException {\n-        String scriptPath = \"marklogic-data-hub-spark-connector/bulkIngester.sjs\";\n-        String apiPath = \"marklogic-data-hub-spark-connector/bulkIngester.api\";\n-\n-        TextDocumentManager modMgr = hubClient.getModulesClient().newTextDocumentManager();\n-        DocumentWriteSet writeSet = modMgr.newWriteSet();\n-        DocumentMetadataHandle metadata = buildDocumentMetadata();\n-        writeSet.add(\"/\" + apiPath, metadata, new InputStreamHandle(new ClassPathResource(apiPath).getInputStream()).withFormat(Format.JSON));\n-        writeSet.add(\"/\" + scriptPath, metadata, new InputStreamHandle(new ClassPathResource(scriptPath).getInputStream()).withFormat(Format.TEXT));\n-        modMgr.write(writeSet);\n+    private void loadEndpointsIfNotPresent(String scriptPath, Format format) {\n+        if (!endpointExists(scriptPath)) {\n+            try {\n+                TextDocumentManager modMgr = hubClient.getModulesClient().newTextDocumentManager();\n+                DocumentWriteSet writeSet = modMgr.newWriteSet();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b818ac964adc509c19ce0e8ae6d88d67bec75292"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI1MTQyNA==", "bodyText": "I think we need to initialize these modules before we create the job document. That ensures we fail fast if there's any problem - i.e. we don't want to load a bunch of data and then have an error if we can't write these modules for some reason.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4759#discussion_r512251424", "createdAt": "2020-10-26T20:35:39Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub-spark-connector/src/main/java/com/marklogic/hub/spark/sql/sources/v2/DefaultSource.java", "diffHunk": "@@ -246,13 +250,23 @@ private void addJobIdToEndpointConstants() {\n         if (endpointParams != null && endpointParams.has(\"endpointConstants\")) {\n             JsonNode endpointConstants = endpointParams.get(\"endpointConstants\");\n             if (endpointConstants instanceof ObjectNode) {\n-                ((ObjectNode)endpointConstants).put(\"jobId\", this.jobId);\n+                ((ObjectNode) endpointConstants).put(\"jobId\", this.jobId);\n             }\n         }\n     }\n \n     private void finalizeJob(String status) {\n+        String apiPath = \"/marklogic-data-hub-spark-connector/finalizeJob.api\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b818ac964adc509c19ce0e8ae6d88d67bec75292"}, "originalPosition": 87}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2fbd11f4216719542c1143a603ad7bc193a87127", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/2fbd11f4216719542c1143a603ad7bc193a87127", "committedDate": "2020-10-26T21:25:33Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints\nUpdating the method to ingest if endpoint doesnt exist"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b818ac964adc509c19ce0e8ae6d88d67bec75292", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/b818ac964adc509c19ce0e8ae6d88d67bec75292", "committedDate": "2020-10-26T18:42:59Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints\nUpdating the method to ingest if endpoint doesnt exist"}, "afterCommit": {"oid": "2fbd11f4216719542c1143a603ad7bc193a87127", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/2fbd11f4216719542c1143a603ad7bc193a87127", "committedDate": "2020-10-26T21:25:33Z", "message": "DHFPROD-6153: Loading default Initialize and Finalize endpoints\nUpdating the method to ingest if endpoint doesnt exist"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MjA5OTYz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4759#pullrequestreview-517209963", "createdAt": "2020-10-26T22:04:39Z", "commit": {"oid": "2fbd11f4216719542c1143a603ad7bc193a87127"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MjE4NDcx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4759#pullrequestreview-517218471", "createdAt": "2020-10-26T22:21:25Z", "commit": {"oid": "2fbd11f4216719542c1143a603ad7bc193a87127"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1798, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}