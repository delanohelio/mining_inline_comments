{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MjQ4MDQ4", "number": 3530, "title": "DHFPROD-4255: Fix example projects to run in pipeline", "bodyText": "Added gradlew to the project\nFixing errors to run mapping-example project\nFixing errors with custom-hook example\nFixing errors with dh-5-example project\nUpdated the input path", "createdAt": "2020-01-30T19:34:34Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3530", "merged": true, "mergeCommit": {"oid": "740a3066307232c824799918d6f0be6312bbfef2"}, "closed": true, "closedAt": "2020-01-31T03:08:39Z", "author": {"login": "SameeraPriyathamTadikonda"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_gcxmgH2gAyMzY5MjQ4MDQ4Ojc1NzdhYzY2ZTYyZjY1ZmFkMThjYjNlNDVjODFiNjE0N2IxZDIwOGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_mIyegFqTM1MTI3MDMwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7577ac66e62f65fad18cb3e45c81b6147b1d208e", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/7577ac66e62f65fad18cb3e45c81b6147b1d208e", "committedDate": "2020-01-30T20:20:33Z", "message": "DHFPROD-4255: Fix example projects to run in pipeline\n\nAdded gradlew to the project\n\nFixing errors to run mapping-example project\n\nFixing errors with custom-hook example\n\nFixing errors with dh-5-example project\n\nUpdated the input path\n\nRemoving mlhost"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "83d10226f516c8d2c8a9e8b4f14d64c1390836fa", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/83d10226f516c8d2c8a9e8b4f14d64c1390836fa", "committedDate": "2020-01-30T19:23:04Z", "message": "DHFPROD-4255: Fix example projects to run in pipeline\n\nAdded gradlew to the project\n\nFixing errors to run mapping-example project\n\nFixing errors with custom-hook example\n\nFixing errors with dh-5-example project\n\nUpdated the input path"}, "afterCommit": {"oid": "7577ac66e62f65fad18cb3e45c81b6147b1d208e", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/7577ac66e62f65fad18cb3e45c81b6147b1d208e", "committedDate": "2020-01-30T20:20:33Z", "message": "DHFPROD-4255: Fix example projects to run in pipeline\n\nAdded gradlew to the project\n\nFixing errors to run mapping-example project\n\nFixing errors with custom-hook example\n\nFixing errors with dh-5-example project\n\nUpdated the input path\n\nRemoving mlhost"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMTM5MzYx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3530#pullrequestreview-351139361", "createdAt": "2020-01-30T21:02:41Z", "commit": {"oid": "7577ac66e62f65fad18cb3e45c81b6147b1d208e"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMTU0OTcx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3530#pullrequestreview-351154971", "createdAt": "2020-01-30T21:29:57Z", "commit": {"oid": "7577ac66e62f65fad18cb3e45c81b6147b1d208e"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMTYyNzU4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3530#pullrequestreview-351162758", "createdAt": "2020-01-30T21:43:45Z", "commit": {"oid": "7577ac66e62f65fad18cb3e45c81b6147b1d208e"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMTo0Mzo0NVrOFj65Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMTo0Mzo0NVrOFj65Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzIwOTQ0Mw==", "bodyText": "Can we use anything other than admin/admin to run the flow.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3530#discussion_r373209443", "createdAt": "2020-01-30T21:43:45Z", "author": {"login": "bsrikan"}, "path": "Jenkinsfile", "diffHunk": "@@ -534,11 +534,25 @@ pipeline{\n             stage('dh5-example'){\n                  agent { label 'dhfLinuxAgent'}\n                 steps{\n+                     sh 'cd $WORKSPACE/data-hub/examples/dh-5-example;repo=\"    maven {url \\'http://distro.marklogic.com/nexus/repository/maven-snapshots/\\'}\";sed -i \"/repositories {/a$repo\" build.gradle; '\n                      copyRPM 'Release','10.0-3'\n                      script{\n                         props = readProperties file:'data-hub/pipeline.properties';\n                         def dockerhost=setupMLDockerCluster 3\n-                        sh 'docker exec -u builder -i '+dockerhost+' /bin/sh -c \"export JAVA_HOME=`eval echo \"$JAVA_HOME_DIR\"`;export GRADLE_USER_HOME=$WORKSPACE$GRADLE_DIR;export M2_HOME=$MAVEN_HOME/bin;export PATH=$GRADLE_USER_HOME:$PATH:$MAVEN_HOME/bin;cd $WORKSPACE/data-hub/examples/dh-5-example;rm -rf $GRADLE_USER_HOME/caches;./gradlew clean;set +e;./gradlew -i hubInit -Ptesting=true;./gradlew -i mlDeploy -Ptesting=true;./gradlew hubRunFlow -PflowName=ingestion_only-flow -Ptesting=true;./gradlew hubRunFlow -PflowName=ingestion_mapping-flow -Ptesting=true;./gradlew hubRunFlow -PflowName=ingestion_mapping_mastering-flow -Ptesting=true;\"'\n+                        sh '''\n+                            docker exec -u builder -i '''+dockerhost+''' /bin/sh -c \"export JAVA_HOME=`eval echo \"$JAVA_HOME_DIR\"`;\\\n+                            export GRADLE_USER_HOME=$WORKSPACE$GRADLE_DIR; \\\n+                            export M2_HOME=$MAVEN_HOME/bin; \\\n+                            export PATH=$GRADLE_USER_HOME:$PATH:$MAVEN_HOME/bin; \\\n+                            cd $WORKSPACE/data-hub/examples/dh-5-example; \\\n+                            rm -rf $GRADLE_USER_HOME/caches; \\\n+                            ./gradlew -i hubInit -Ptesting=true; \\\n+                            ./gradlew -i mlDeploy -Ptesting=true -PmlUsername=admin -PmlPassword=admin; \\\n+                            ./gradlew hubRunFlow -PflowName=ingestion_only-flow -Ptesting=true -PmlUsername=admin -PmlPassword=admin; \\\n+                            ./gradlew hubRunFlow -PflowName=ingestion_mapping-flow -Ptesting=true -PmlUsername=admin -PmlPassword=admin; \\\n+                            ./gradlew hubRunFlow -PflowName=ingestion_mapping_mastering-flow -Ptesting=true -PmlUsername=admin -PmlPassword=admin;\n+                            \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7577ac66e62f65fad18cb3e45c81b6147b1d208e"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1810c191e3512824d6875a64f2406e6e9c669c6", "author": {"user": {"login": "SameeraPriyathamTadikonda", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/a1810c191e3512824d6875a64f2406e6e9c669c6", "committedDate": "2020-01-31T00:51:17Z", "message": "DHFPROD-4255: Run flows as flow developer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjU5NDUy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3530#pullrequestreview-351259452", "createdAt": "2020-01-31T02:09:46Z", "commit": {"oid": "a1810c191e3512824d6875a64f2406e6e9c669c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjYyMzk2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3530#pullrequestreview-351262396", "createdAt": "2020-01-31T02:22:41Z", "commit": {"oid": "a1810c191e3512824d6875a64f2406e6e9c669c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjcwMzA4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3530#pullrequestreview-351270308", "createdAt": "2020-01-31T02:58:09Z", "commit": {"oid": "a1810c191e3512824d6875a64f2406e6e9c669c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2401, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}