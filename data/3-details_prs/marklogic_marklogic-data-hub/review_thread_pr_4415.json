{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4NjE2NjA1", "number": 4415, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNjoyNzo0OFrOEY6Bfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNTozMTo0MFrOEZGIvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NTUxOTM0OnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/merging.sjs", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNjoyNzo0OFrOHBbLzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNzowODo0NVrOHBxkQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI1NjAxMw==", "bodyText": "@rdew, @rjrudin\nShould 'artifactName' be added to the \"collections\" array ?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#discussion_r471256013", "createdAt": "2020-08-17T06:27:48Z", "author": {"login": "srinathgit"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/merging.sjs", "diffHunk": "@@ -65,14 +65,33 @@ function validateArtifact(artifact) {\n function defaultArtifact(artifactName) {\n   const defaultPermissions = 'data-hub-common,read,data-hub-common,update';\n   return {\n-    artifactName,\n-    collections: ['default-mastering'],\n-    additionalCollections: [],\n+    batchSize: 100,\n+    threadCount: 1,\n     sourceDatabase: dataHub.config.FINALDATABASE,\n     targetDatabase: dataHub.config.FINALDATABASE,\n-    provenanceGranularityLevel: 'coarse',\n     permissions: defaultPermissions,\n-    batchSize: 100\n+    targetEntity: \"Change this to a valid entity type name; e.g. Customer\",\n+    sourceQuery: \"cts.collectionQuery('mastering-summary')\",\n+    collections: [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTQzNjQxNQ==", "bodyText": "I defer to @ryanjdew on that.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#discussion_r471436415", "createdAt": "2020-08-17T12:12:35Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/merging.sjs", "diffHunk": "@@ -65,14 +65,33 @@ function validateArtifact(artifact) {\n function defaultArtifact(artifactName) {\n   const defaultPermissions = 'data-hub-common,read,data-hub-common,update';\n   return {\n-    artifactName,\n-    collections: ['default-mastering'],\n-    additionalCollections: [],\n+    batchSize: 100,\n+    threadCount: 1,\n     sourceDatabase: dataHub.config.FINALDATABASE,\n     targetDatabase: dataHub.config.FINALDATABASE,\n-    provenanceGranularityLevel: 'coarse',\n     permissions: defaultPermissions,\n-    batchSize: 100\n+    targetEntity: \"Change this to a valid entity type name; e.g. Customer\",\n+    sourceQuery: \"cts.collectionQuery('mastering-summary')\",\n+    collections: [", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI1NjAxMw=="}, "originalCommit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTYyMjcyMw==", "bodyText": "@srinathgit No. For merging, an empty array is best since the merging will set collections appropriately on a per dcoument basis.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#discussion_r471622723", "createdAt": "2020-08-17T17:08:45Z", "author": {"login": "ryanjdew"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/merging.sjs", "diffHunk": "@@ -65,14 +65,33 @@ function validateArtifact(artifact) {\n function defaultArtifact(artifactName) {\n   const defaultPermissions = 'data-hub-common,read,data-hub-common,update';\n   return {\n-    artifactName,\n-    collections: ['default-mastering'],\n-    additionalCollections: [],\n+    batchSize: 100,\n+    threadCount: 1,\n     sourceDatabase: dataHub.config.FINALDATABASE,\n     targetDatabase: dataHub.config.FINALDATABASE,\n-    provenanceGranularityLevel: 'coarse',\n     permissions: defaultPermissions,\n-    batchSize: 100\n+    targetEntity: \"Change this to a valid entity type name; e.g. Customer\",\n+    sourceQuery: \"cts.collectionQuery('mastering-summary')\",\n+    collections: [", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI1NjAxMw=="}, "originalCommit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NzUwMzk4OnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/matching.sjs", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNTozMTo0MFrOHBtwhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNzoxMDoyOFrOHBxsUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU2MDMyNA==", "bodyText": "I dont think we generate a curated document with this collection. Should this also be changed to read something like:\n\"cts.collectionQuery('Change this to a valid collection name; e.g. Customer')\" ?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#discussion_r471560324", "createdAt": "2020-08-17T15:31:40Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/matching.sjs", "diffHunk": "@@ -65,14 +65,43 @@ function validateArtifact(artifact) {\n function defaultArtifact(artifactName) {\n   const defaultPermissions = 'data-hub-common,read,data-hub-common,update';\n   return {\n-    artifactName,\n-    collections: ['default-mastering'],\n-    additionalCollections: [],\n+    batchSize: 100,\n+    threadCount: 1,\n     sourceDatabase: dataHub.config.FINALDATABASE,\n     targetDatabase: dataHub.config.FINALDATABASE,\n-    provenanceGranularityLevel: 'coarse',\n+    targetEntity: \"Change this to a valid entity type name; e.g. Customer\",\n+    sourceQuery: \"cts.collectionQuery('default-mapping')\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU4OTk3NQ==", "bodyText": "As per the story, the values should be from defaultFlow.flow.json; nevertheless I think this can be changed.\n@ryanjdew ,\nCan you please weigh in on this as well ?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#discussion_r471589975", "createdAt": "2020-08-17T16:17:28Z", "author": {"login": "srinathgit"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/matching.sjs", "diffHunk": "@@ -65,14 +65,43 @@ function validateArtifact(artifact) {\n function defaultArtifact(artifactName) {\n   const defaultPermissions = 'data-hub-common,read,data-hub-common,update';\n   return {\n-    artifactName,\n-    collections: ['default-mastering'],\n-    additionalCollections: [],\n+    batchSize: 100,\n+    threadCount: 1,\n     sourceDatabase: dataHub.config.FINALDATABASE,\n     targetDatabase: dataHub.config.FINALDATABASE,\n-    provenanceGranularityLevel: 'coarse',\n+    targetEntity: \"Change this to a valid entity type name; e.g. Customer\",\n+    sourceQuery: \"cts.collectionQuery('default-mapping')\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU2MDMyNA=="}, "originalCommit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTYyNDc4NQ==", "bodyText": "@bsrikan Is correct. We should adjust this as a value for the user to change.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#discussion_r471624785", "createdAt": "2020-08-17T17:10:28Z", "author": {"login": "ryanjdew"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/matching.sjs", "diffHunk": "@@ -65,14 +65,43 @@ function validateArtifact(artifact) {\n function defaultArtifact(artifactName) {\n   const defaultPermissions = 'data-hub-common,read,data-hub-common,update';\n   return {\n-    artifactName,\n-    collections: ['default-mastering'],\n-    additionalCollections: [],\n+    batchSize: 100,\n+    threadCount: 1,\n     sourceDatabase: dataHub.config.FINALDATABASE,\n     targetDatabase: dataHub.config.FINALDATABASE,\n-    provenanceGranularityLevel: 'coarse',\n+    targetEntity: \"Change this to a valid entity type name; e.g. Customer\",\n+    sourceQuery: \"cts.collectionQuery('default-mapping')\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU2MDMyNA=="}, "originalCommit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3804, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}