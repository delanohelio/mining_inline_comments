{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0NTM3NTI1", "number": 3767, "title": "DHFPROD-3841: Can now reference $URI in mappings", "bodyText": "This opens the door to all sorts of variables in a mapping artifact. However, to achieve this, I had to make a copy of the ES functions map-to-canonical and node-map-to-canonical so that I can pass in a map of params to the underlying xdmp:xslt calls. I opened up bug 54632 so that the ES functions will allow this in a future version.\nDescription\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-03-27T04:00:11Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3767", "merged": true, "mergeCommit": {"oid": "9c3ee538b28f2a0b1d102290015d5d6f02b69b8e"}, "closed": true, "closedAt": "2020-03-27T22:02:24Z", "author": {"login": "rjrudin"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRolN_gH2gAyMzk0NTM3NTI1OmFkYmVkYTdmODIwM2JjZGE4MjI2ZDExMTNlNTdjNDNiNDI0NzAwZGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcR3huygFqTM4MzIwODU1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "adbeda7f8203bcda8226d1113e57c43b424700dd", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/adbeda7f8203bcda8226d1113e57c43b424700dd", "committedDate": "2020-03-27T03:59:39Z", "message": "DHFPROD-3841: Can now reference $URI in mappings\n\nThis opens the door to all sorts of variables in a mapping artifact. However, to achieve this, I had to make a copy of the ES functions map-to-canonical and node-map-to-canonical so that I can pass in a map of params to the underlying xdmp:xslt calls. I opened up bug 54632 so that the ES functions will allow this in a future version."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMDM3NjMx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3767#pullrequestreview-383037631", "createdAt": "2020-03-27T16:56:09Z", "commit": {"oid": "adbeda7f8203bcda8226d1113e57c43b424700dd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNjo1NjowOVrOF855qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNjo1NjowOVrOF855qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQwNzUzMA==", "bodyText": "@rjrudin ,\nCan \"sourcedFrom\" be set to something like concat($URI, 'test-uri') ? If so, adding a test for that would be good.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3767#discussion_r399407530", "createdAt": "2020-03-27T16:56:09Z", "author": {"login": "srinathgit"}, "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/data-hub/5/builtins/steps/mapping/entity-services/test-data/mappings/PersonMapping/PersonMapping-7.mapping.json", "diffHunk": "@@ -0,0 +1,24 @@\n+{\n+  \"lang\": \"zxx\",\n+  \"name\": \"PersonMapping\",\n+  \"version\": 7,\n+  \"sourceContext\": \"/\",\n+  \"targetEntityType\": \"http://marklogic.com/data-hub/example/Person-1.0.0/Person\",\n+  \"properties\": {\n+    \"id\": {\n+      \"sourcedFrom\": \"personId\"\n+    },\n+    \"nickname\": {\n+      \"sourcedFrom\": \"$URI\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "adbeda7f8203bcda8226d1113e57c43b424700dd"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMDcwODM4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3767#pullrequestreview-383070838", "createdAt": "2020-03-27T17:39:27Z", "commit": {"oid": "adbeda7f8203bcda8226d1113e57c43b424700dd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMjA4NTUw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3767#pullrequestreview-383208550", "createdAt": "2020-03-27T21:24:25Z", "commit": {"oid": "adbeda7f8203bcda8226d1113e57c43b424700dd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3244, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}