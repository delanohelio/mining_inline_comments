{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1Njk1NDE4", "number": 4828, "title": "DHFPROD-6209: Convert reference project match/merge steps to HubCentr\u2026", "bodyText": "\u2026al format\nDescription\nRan the hubConvertForHubCentral task to update the match/merge steps.\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\nN/A Added Tests\n\n\nReviewer:\n\n\nN/A Reviewed Tests", "createdAt": "2020-11-04T23:25:48Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4828", "merged": true, "mergeCommit": {"oid": "c12cc927af40b6104c94eadb9939af4808caf21a"}, "closed": true, "closedAt": "2020-11-05T17:08:34Z", "author": {"login": "ryanjdew"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZWSZigH2gAyNTE1Njk1NDE4Ojc5NjAzODlmNTJiODRiMTlmNzEwOGRkNTAxODI4MTkwYjAzYWQzODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZhfp1gFqTUyNDIxMDQ2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7960389f52b84b19f7108dd501828190b03ad388", "author": {"user": {"login": "ryanjdew", "name": "Ryan Dew"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/7960389f52b84b19f7108dd501828190b03ad388", "committedDate": "2020-11-04T23:23:21Z", "message": "DHFPROD-6209: Convert reference project match/merge steps to HubCentral format"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzODEyNjkz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4828#pullrequestreview-523812693", "createdAt": "2020-11-04T23:34:04Z", "commit": {"oid": "7960389f52b84b19f7108dd501828190b03ad388"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzODEzODEy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4828#pullrequestreview-523813812", "createdAt": "2020-11-04T23:36:56Z", "commit": {"oid": "7960389f52b84b19f7108dd501828190b03ad388"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzODQxODA3", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4828#pullrequestreview-523841807", "createdAt": "2020-11-05T00:54:57Z", "commit": {"oid": "7960389f52b84b19f7108dd501828190b03ad388"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwMDo1NDo1OFrOHtvCjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwMDo1NDo1OFrOHtvCjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzcxODY3MQ==", "bodyText": "@ryanjdew  @fsnow  Two thoughts on seeing this side-by-side with the \"before\" config:\n\nThis is much easier to read\nI feel like there should be a top-level property that contains \"matchRulesets\" and \"thresholds\" - e.g. \"matchConfig\" . That makes it easy to grab all of the match config in a step, as opposed to having to know what properties constitute the match config and which ones do not.\n\nThoughts on #2?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4828#discussion_r517718671", "createdAt": "2020-11-05T00:54:58Z", "author": {"login": "rjrudin"}, "path": "examples/reference-entity-model/steps/matching/match-customers.step.json", "diffHunk": "@@ -7,32 +7,21 @@\n   \"targetEntity\" : \"Customer\",\n   \"sourceDatabase\" : \"data-hub-FINAL\",\n   \"collections\" : [ \"matched-customers\", \"match-customers\" ],\n-  \"matchOptions\" : {\n-    \"dataFormat\" : \"json\",\n-    \"propertyDefs\" : {\n-      \"property\" : [ {\n-        \"localname\" : \"customerId\",\n-        \"name\" : \"customerId\"\n-      } ]\n-    },\n-    \"scoring\" : {\n-      \"add\" : [ {\n-        \"propertyName\" : \"customerId\",\n-        \"weight\" : \"10\"\n-      } ]\n-    },\n-    \"thresholds\" : {\n-      \"threshold\" : [ {\n-        \"above\" : \"10\",\n-        \"label\" : \"Definitive Match\",\n-        \"action\" : \"merge\"\n-      } ]\n-    },\n-    \"tuning\" : {\n-      \"maxScan\" : 200\n-    }\n-  },\n   \"targetDatabase\" : \"data-hub-FINAL\",\n   \"targetFormat\" : \"json\",\n-  \"stepId\" : \"match-customers-matching\"\n+  \"stepId\" : \"match-customers-matching\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7960389f52b84b19f7108dd501828190b03ad388"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MjEwNDYw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4828#pullrequestreview-524210460", "createdAt": "2020-11-05T12:26:47Z", "commit": {"oid": "7960389f52b84b19f7108dd501828190b03ad388"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1614, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}