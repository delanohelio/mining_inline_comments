{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0NDM1Mzk3", "number": 3651, "title": "DHFPROD-4562: Export project got exception if a folder does not exist\u2026", "bodyText": "\u2026 in the exported project folder\nhttps://project.marklogic.com/jira/browse/DHFPROD-4562", "createdAt": "2020-03-05T18:33:34Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3651", "merged": true, "mergeCommit": {"oid": "b1556b5f665a8e9a99afbb00111f859dcead894e"}, "closed": true, "closedAt": "2020-03-06T21:07:13Z", "author": {"login": "hao1st"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKv0hjAH2gAyMzg0NDM1Mzk3OjFjOTRhZGJhNjBmMDEwNTA2NWIzNmRiN2I5N2U4ZTM2MTFkZWVmNjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcLGAICgFqTM3MDYwMTE3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1c94adba60f0105065b36db7b97e8e3611deef69", "author": {"user": {"login": "hao1st", "name": "Hao Liu"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/1c94adba60f0105065b36db7b97e8e3611deef69", "committedDate": "2020-03-05T18:28:14Z", "message": "DHFPROD-4562: Export project got exception if a folder does not exist in the exported project folder"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5ODE1Njk5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3651#pullrequestreview-369815699", "createdAt": "2020-03-05T18:36:10Z", "commit": {"oid": "1c94adba60f0105065b36db7b97e8e3611deef69"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxODozNjoxMFrOFyfL1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxODozNjoxMFrOFyfL1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4NDA1Mw==", "bodyText": "I think that logging that a folder doesn't exist is sufficient.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3651#discussion_r388484053", "createdAt": "2020-03-05T18:36:10Z", "author": {"login": "ryanjdew"}, "path": "marklogic-data-hub/src/main/java/com/marklogic/hub/impl/HubProjectImpl.java", "diffHunk": "@@ -647,6 +647,11 @@ private void writeToStream(OutputStream out) {\n             Stream.of(\"entities\", \"flows\", \"src\" + File.separator + \"main\", \"mappings\", \"step-definitions\", \"loadData\", \"gradle\",\n                 \"gradlew\", \"gradlew.bat\", \"build.gradle\", \"gradle.properties\").forEach(file ->{\n                 File fileToZip = getProjectDir().resolve(file).toFile();\n+                if (!fileToZip.exists()) {\n+                    // should we add check if some missing files/folders are mandatory and give error info?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c94adba60f0105065b36db7b97e8e3611deef69"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5ODE2MTI5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3651#pullrequestreview-369816129", "createdAt": "2020-03-05T18:36:53Z", "commit": {"oid": "1c94adba60f0105065b36db7b97e8e3611deef69"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5ODI1MDY0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3651#pullrequestreview-369825064", "createdAt": "2020-03-05T18:50:30Z", "commit": {"oid": "1c94adba60f0105065b36db7b97e8e3611deef69"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5ODI0OTc2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3651#pullrequestreview-369824976", "createdAt": "2020-03-05T18:50:23Z", "commit": {"oid": "1c94adba60f0105065b36db7b97e8e3611deef69"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxODo1MDoyM1rOFyfoVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxODo1MTozMlrOFyfrQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ5MTM0OQ==", "bodyText": "The original requirement was to exclude gradle-*.properties, as there may be sensitive data in those that shouldn't be shared.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3651#discussion_r388491349", "createdAt": "2020-03-05T18:50:23Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/java/com/marklogic/hub/impl/HubProjectImpl.java", "diffHunk": "@@ -647,6 +647,11 @@ private void writeToStream(OutputStream out) {\n             Stream.of(\"entities\", \"flows\", \"src\" + File.separator + \"main\", \"mappings\", \"step-definitions\", \"loadData\", \"gradle\",\n                 \"gradlew\", \"gradlew.bat\", \"build.gradle\", \"gradle.properties\").forEach(file ->{\n                 File fileToZip = getProjectDir().resolve(file).toFile();\n+                if (!fileToZip.exists()) {\n+                    // should we add check if some missing files/folders are mandatory and give error info?", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ4NDA1Mw=="}, "originalCommit": {"oid": "1c94adba60f0105065b36db7b97e8e3611deef69"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ5MjA5OQ==", "bodyText": "@hao1st Since a bug is being fixed, there should be a test that reproduces the bug such that if I comment out this change, the test fails, and then the test succeeds with this change in place.\nThe only exception to this is if we have some sort of intermittent bug with no idea of how to reproduce it, which would be indicated by the JIRA ticket lacking reproducible steps.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3651#discussion_r388492099", "createdAt": "2020-03-05T18:51:32Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/java/com/marklogic/hub/impl/HubProjectImpl.java", "diffHunk": "@@ -647,6 +647,11 @@ private void writeToStream(OutputStream out) {\n             Stream.of(\"entities\", \"flows\", \"src\" + File.separator + \"main\", \"mappings\", \"step-definitions\", \"loadData\", \"gradle\",\n                 \"gradlew\", \"gradlew.bat\", \"build.gradle\", \"gradle.properties\").forEach(file ->{\n                 File fileToZip = getProjectDir().resolve(file).toFile();\n+                if (!fileToZip.exists()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c94adba60f0105065b36db7b97e8e3611deef69"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNDgyMzg1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3651#pullrequestreview-370482385", "createdAt": "2020-03-06T17:02:41Z", "commit": {"oid": "1c94adba60f0105065b36db7b97e8e3611deef69"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNjAxMTc4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3651#pullrequestreview-370601178", "createdAt": "2020-03-06T20:18:49Z", "commit": {"oid": "1c94adba60f0105065b36db7b97e8e3611deef69"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2297, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}