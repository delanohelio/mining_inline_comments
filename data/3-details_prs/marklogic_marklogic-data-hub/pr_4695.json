{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwODAwNTE3", "number": 4695, "title": "DHFPROD-6109: Spark connector can now run on Java 8", "bodyText": "Description\nHad to do some refactoring of HubClient/HubConfig to accomplish this:\n\nHubClient is now in a new api subproject that can run on Java 8\nAll of HubConfigImpl needed to construct HubClient is now in HubClientConfig in the api project\nBumped all of DHF to Java Client 5.3\nBumped up Gradle to 6.4 so its version of kotlin matches that of Java Client 5.3\n\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-10-09T20:17:41Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4695", "merged": true, "mergeCommit": {"oid": "b2d5f907e75ff035bb61d02cd4d1d7ea15e33190"}, "closed": true, "closedAt": "2020-10-12T21:45:04Z", "author": {"login": "rjrudin"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQ8EYngBqjM4NjE2NzE3NDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdR6dbTgFqTUwNjkxNDA4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b65f71cf55e020d9601b10d33e06a5a756209242", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/b65f71cf55e020d9601b10d33e06a5a756209242", "committedDate": "2020-10-09T20:15:55Z", "message": "DHFPROD-6109: Spark connector can now run on Java 8\n\nHad to do some refactoring of HubClient/HubConfig to accomplish this:\n\n1. HubClient is now in a new api subproject that can run on Java 8\n1. All of HubConfigImpl needed to construct HubClient is now in HubClientConfig in the api project\n1. Bumped all of DHF to Java Client 5.3\n1. Bumped up Gradle to 6.4 so its version of kotlin matches that of Java Client 5.3"}, "afterCommit": {"oid": "b6be1f14f26225a0bf4c82a7d7af2bf8f0a8de3a", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/b6be1f14f26225a0bf4c82a7d7af2bf8f0a8de3a", "committedDate": "2020-10-09T20:18:56Z", "message": "DHFPROD-6109: Spark connector can now run on Java 8\n\nHad to do some refactoring of HubClient/HubConfig to accomplish this:\n\n1. HubClient is now in a new api subproject that can run on Java 8\n1. All of HubConfigImpl needed to construct HubClient is now in HubClientConfig in the api project\n1. Bumped all of DHF to Java Client 5.3\n1. Bumped up Gradle to 6.4 so its version of kotlin matches that of Java Client 5.3"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b6be1f14f26225a0bf4c82a7d7af2bf8f0a8de3a", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/b6be1f14f26225a0bf4c82a7d7af2bf8f0a8de3a", "committedDate": "2020-10-09T20:18:56Z", "message": "DHFPROD-6109: Spark connector can now run on Java 8\n\nHad to do some refactoring of HubClient/HubConfig to accomplish this:\n\n1. HubClient is now in a new api subproject that can run on Java 8\n1. All of HubConfigImpl needed to construct HubClient is now in HubClientConfig in the api project\n1. Bumped all of DHF to Java Client 5.3\n1. Bumped up Gradle to 6.4 so its version of kotlin matches that of Java Client 5.3"}, "afterCommit": {"oid": "3000bcf9d7814da9a1c50b98fb0d943047b2c30a", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/3000bcf9d7814da9a1c50b98fb0d943047b2c30a", "committedDate": "2020-10-10T01:12:09Z", "message": "DHFPROD-6109: Spark connector can now run on Java 8\n\nHad to do some refactoring of HubClient/HubConfig to accomplish this:\n\n1. HubClient is now in a new api subproject that can run on Java 8\n1. All of HubConfigImpl needed to construct HubClient is now in HubClientConfig in the api project\n1. Bumped all of DHF to Java Client 5.3\n1. Bumped up Gradle to 6.4 so its version of kotlin matches that of Java Client 5.3"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MjM5MTg0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4695#pullrequestreview-506239184", "createdAt": "2020-10-12T01:01:32Z", "commit": {"oid": "3000bcf9d7814da9a1c50b98fb0d943047b2c30a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwMTowMTozMlrOHfsNqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwMTowMTozMlrOHfsNqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjk5MjI5OQ==", "bodyText": "@anu3990  @SameeraPriyathamTadikonda  I had to get rid of this field - Spark complained about this field because it's not serializable.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4695#discussion_r502992299", "createdAt": "2020-10-12T01:01:32Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub-spark-connector/src/main/java/com/marklogic/hub/spark/sql/sources/v2/writer/HubDataWriterFactory.java", "diffHunk": "@@ -30,45 +29,37 @@\n public class HubDataWriterFactory extends LoggingObject implements DataWriterFactory<InternalRow> {\n \n     private StructType schema;\n-    private HubClient hubClient;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3000bcf9d7814da9a1c50b98fb0d943047b2c30a"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NzczMTkz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4695#pullrequestreview-506773193", "createdAt": "2020-10-12T16:44:42Z", "commit": {"oid": "3000bcf9d7814da9a1c50b98fb0d943047b2c30a"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2Nzg4NDcw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4695#pullrequestreview-506788470", "createdAt": "2020-10-12T17:09:30Z", "commit": {"oid": "3000bcf9d7814da9a1c50b98fb0d943047b2c30a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxNzowOTozMFrOHgGxoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxNzowOTozMFrOHgGxoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQyNzQ4OQ==", "bodyText": "We might need a publish task to publish it to our internal nexus(distro)", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4695#discussion_r503427489", "createdAt": "2020-10-12T17:09:30Z", "author": {"login": "SameeraPriyathamTadikonda"}, "path": "marklogic-data-hub-api/build.gradle", "diffHunk": "@@ -0,0 +1,38 @@\n+plugins {\n+    id 'java-library'\n+    id 'java-test-fixtures'\n+    id 'maven-publish'\n+}\n+\n+group = 'com.marklogic'\n+\n+sourceCompatibility = \"8\"\n+targetCompatibility = \"8\"\n+\n+repositories {\n+    jcenter()\n+}\n+\n+dependencies {\n+    api \"com.marklogic:marklogic-client-api:5.3.0\"\n+\n+    // Needed for ManageClient, and we need the latest 3.x release, which can run on Java 8\n+    api \"com.marklogic:ml-app-deployer:3.17.0\"\n+}\n+\n+task sourcesJar(type: Jar, dependsOn: classes) {\n+    classifier 'sources'\n+    from sourceSets.main.allJava\n+}\n+\n+publishing {\n+    publications {\n+        mainJava(MavenPublication) {\n+            from components.java\n+        }\n+        sourcesJava(MavenPublication) {\n+            from components.java\n+            artifact sourcesJar\n+        }\n+    }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3000bcf9d7814da9a1c50b98fb0d943047b2c30a"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2Nzk0MjE1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4695#pullrequestreview-506794215", "createdAt": "2020-10-12T17:19:50Z", "commit": {"oid": "3000bcf9d7814da9a1c50b98fb0d943047b2c30a"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0140242c85e64211206463f604fcacd352691432", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/0140242c85e64211206463f604fcacd352691432", "committedDate": "2020-10-12T20:41:38Z", "message": "DHFPROD-6109: Spark connector can now run on Java 8\n\nHad to do some refactoring of HubClient/HubConfig to accomplish this:\n\n1. HubClient is now in a new api subproject that can run on Java 8\n1. All of HubConfigImpl needed to construct HubClient is now in HubClientConfig in the api project\n1. Bumped all of DHF to Java Client 5.3\n1. Bumped up Gradle to 6.4 so its version of kotlin matches that of Java Client 5.3"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3000bcf9d7814da9a1c50b98fb0d943047b2c30a", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/3000bcf9d7814da9a1c50b98fb0d943047b2c30a", "committedDate": "2020-10-10T01:12:09Z", "message": "DHFPROD-6109: Spark connector can now run on Java 8\n\nHad to do some refactoring of HubClient/HubConfig to accomplish this:\n\n1. HubClient is now in a new api subproject that can run on Java 8\n1. All of HubConfigImpl needed to construct HubClient is now in HubClientConfig in the api project\n1. Bumped all of DHF to Java Client 5.3\n1. Bumped up Gradle to 6.4 so its version of kotlin matches that of Java Client 5.3"}, "afterCommit": {"oid": "0140242c85e64211206463f604fcacd352691432", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/0140242c85e64211206463f604fcacd352691432", "committedDate": "2020-10-12T20:41:38Z", "message": "DHFPROD-6109: Spark connector can now run on Java 8\n\nHad to do some refactoring of HubClient/HubConfig to accomplish this:\n\n1. HubClient is now in a new api subproject that can run on Java 8\n1. All of HubConfigImpl needed to construct HubClient is now in HubClientConfig in the api project\n1. Bumped all of DHF to Java Client 5.3\n1. Bumped up Gradle to 6.4 so its version of kotlin matches that of Java Client 5.3"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2OTA2MjU0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4695#pullrequestreview-506906254", "createdAt": "2020-10-12T20:45:12Z", "commit": {"oid": "0140242c85e64211206463f604fcacd352691432"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2OTA5MzMw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4695#pullrequestreview-506909330", "createdAt": "2020-10-12T20:51:28Z", "commit": {"oid": "0140242c85e64211206463f604fcacd352691432"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2OTE0MDgw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4695#pullrequestreview-506914080", "createdAt": "2020-10-12T21:00:35Z", "commit": {"oid": "0140242c85e64211206463f604fcacd352691432"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1976, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}