{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5MjMxNzIz", "number": 4426, "title": "DHFPROD-5728: Sort entities based on datatype-specific index", "bodyText": "Description\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-08-18T06:15:49Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4426", "merged": true, "mergeCommit": {"oid": "d76fd1fa6a54180ae7096b0b420c031fa184c745"}, "closed": true, "closedAt": "2020-08-18T16:03:19Z", "author": {"login": "rahulvudutala"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAFb2lgFqTQ2OTI4MjI4Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAJNALgFqTQ2OTYwMTU2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5MjgyMjg3", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4426#pullrequestreview-469282287", "createdAt": "2020-08-18T11:35:46Z", "commit": {"oid": "33017ab2cc323ac35a14506dd0b627e3ba00fba1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMTozNTo0NlrOHCPW-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMTozNTo0NlrOHCPW-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjExMDg0MQ==", "bodyText": "Got a typo here - should be \"property\" - but let's call this \"indexable-datatype\", because I think \"property-datatype\" implies that it's the datatype as defined in the property definition. Also, use \"datatype\" throughout for consistency instead of \"data-type\".", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4426#discussion_r472110841", "createdAt": "2020-08-18T11:35:46Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/impl/hub-entities.xqy", "diffHunk": "@@ -255,14 +255,13 @@ declare %private function hent:build-sort-operator(\n {\n   let $states :=\n     for $path-expression in map:keys($sortable-properties)\n-    let $state-name-prefix :=\n-      let $sort-info := map:get($sortable-properties, $path-expression)\n-      return fn:concat(map:get($sort-info, \"entity-title\"), \"_\", map:get($sort-info, \"property-name\"))\n-\n+    let $sort-info := map:get($sortable-properties, $path-expression)\n+    let $propert-data-type := hent:get-indexable-datatype(map:get($sort-info, \"property-data-type\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33017ab2cc323ac35a14506dd0b627e3ba00fba1"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b1e2df8e3b25630944d07da56ede5ead00ef81d", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/2b1e2df8e3b25630944d07da56ede5ead00ef81d", "committedDate": "2020-08-18T14:25:04Z", "message": "DHFPROD-5728: Sort entities based on datatype-specific index"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "33017ab2cc323ac35a14506dd0b627e3ba00fba1", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/33017ab2cc323ac35a14506dd0b627e3ba00fba1", "committedDate": "2020-08-18T06:07:29Z", "message": "DHFPROD-5728: Sort entities based on datatype-specific index"}, "afterCommit": {"oid": "2b1e2df8e3b25630944d07da56ede5ead00ef81d", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/2b1e2df8e3b25630944d07da56ede5ead00ef81d", "committedDate": "2020-08-18T14:25:04Z", "message": "DHFPROD-5728: Sort entities based on datatype-specific index"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NTg0OTIx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4426#pullrequestreview-469584921", "createdAt": "2020-08-18T15:43:30Z", "commit": {"oid": "2b1e2df8e3b25630944d07da56ede5ead00ef81d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NjAxNTYw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4426#pullrequestreview-469601560", "createdAt": "2020-08-18T16:00:35Z", "commit": {"oid": "2b1e2df8e3b25630944d07da56ede5ead00ef81d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2358, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}