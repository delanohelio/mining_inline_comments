{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxMTU3MTIz", "number": 4455, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxOToxMToxOVrOEaq17A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxOToxNTo1N1rOEaq8MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2NDAwMzY0OnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub-central/ui/e2e/cypress/integration/explorer/scenarios.json.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxOToxMToxOVrOHEPgoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQyMzowNTo0MVrOHEWILQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIxMDQ2NA==", "bodyText": "verify source view of the document test is already testing for browser refresh. Can we pls add couple of steps there to verify this instead.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4455#discussion_r474210464", "createdAt": "2020-08-20T19:11:19Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/e2e/cypress/integration/explorer/scenarios.json.tsx", "diffHunk": "@@ -200,6 +200,23 @@ describe('json scenario for snippet on browse documents page', () => {\n     cy.contains('Show the processed data').should('be.visible');\n   });\n \n+  it('verify selected facet name persist after refreshing the page', () => {\n+    browsePage.selectEntity('Person');\n+    browsePage.getSelectedEntity().should('contain', 'Person');\n+    browsePage.getFacetItemCheckbox('fname', 'Alexandra').click();\n+    browsePage.getGreySelectedFacets('Alexandra').should('exist');\n+    browsePage.getFacetApplyButton().click();\n+    browsePage.getFacetItemCheckbox('fname', 'Alexandra').should('be.checked');\n+    browsePage.getFacetSearchSelectionCount('fname').should('contain', '1');\n+    cy.reload();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a9ad43e0db5778e15cbb1fd83bd878fb211154d"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDMxODg5Mw==", "bodyText": "Fixed. Thanks.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4455#discussion_r474318893", "createdAt": "2020-08-20T23:05:41Z", "author": {"login": "timur-isangulov"}, "path": "marklogic-data-hub-central/ui/e2e/cypress/integration/explorer/scenarios.json.tsx", "diffHunk": "@@ -200,6 +200,23 @@ describe('json scenario for snippet on browse documents page', () => {\n     cy.contains('Show the processed data').should('be.visible');\n   });\n \n+  it('verify selected facet name persist after refreshing the page', () => {\n+    browsePage.selectEntity('Person');\n+    browsePage.getSelectedEntity().should('contain', 'Person');\n+    browsePage.getFacetItemCheckbox('fname', 'Alexandra').click();\n+    browsePage.getGreySelectedFacets('Alexandra').should('exist');\n+    browsePage.getFacetApplyButton().click();\n+    browsePage.getFacetItemCheckbox('fname', 'Alexandra').should('be.checked');\n+    browsePage.getFacetSearchSelectionCount('fname').should('contain', '1');\n+    cy.reload();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIxMDQ2NA=="}, "originalCommit": {"oid": "3a9ad43e0db5778e15cbb1fd83bd878fb211154d"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2NDAxOTY4OnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub-central/ui/e2e/cypress/support/pages/browse.tsx", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxOToxNTo1N1rOHEPqfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQyMzowOTowMFrOHEWMOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIxMjk5MA==", "bodyText": "Can we make use of data-testid when its available. I want to ultimately get rid of all data-cy, since data-testid can work both in e2e and RTL tests.\n\nAnd since this is a button, can you try if .contains(\"text\") work.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4455#discussion_r474212990", "createdAt": "2020-08-20T19:15:57Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/e2e/cypress/support/pages/browse.tsx", "diffHunk": "@@ -140,6 +140,10 @@ class BrowsePage {\n     return cy.get('#selected-facets [data-cy=\"clear-' + facet + '\"]');\n   }\n \n+  getAppliedFacetName(facet: string) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a9ad43e0db5778e15cbb1fd83bd878fb211154d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDMxOTkyOQ==", "bodyText": "Changed to data-testid locator. We shouldn't use contains() for this step because the exact string needs to be verified. e.g. expected \"email: coleadams39@nutralab.com\" not \"Customer.email: coleadams39@nutralab.com\"", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4455#discussion_r474319929", "createdAt": "2020-08-20T23:09:00Z", "author": {"login": "timur-isangulov"}, "path": "marklogic-data-hub-central/ui/e2e/cypress/support/pages/browse.tsx", "diffHunk": "@@ -140,6 +140,10 @@ class BrowsePage {\n     return cy.get('#selected-facets [data-cy=\"clear-' + facet + '\"]');\n   }\n \n+  getAppliedFacetName(facet: string) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIxMjk5MA=="}, "originalCommit": {"oid": "3a9ad43e0db5778e15cbb1fd83bd878fb211154d"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3706, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}