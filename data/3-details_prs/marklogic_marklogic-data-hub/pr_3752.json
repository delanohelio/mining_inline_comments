{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzMzIwMzMy", "number": 3752, "title": "DHFPROD-4621: Only upload data once", "bodyText": "Description\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-03-25T00:23:25Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3752", "merged": true, "mergeCommit": {"oid": "d7b54999eeb34d5f0a0809bbb82bb273d05f3ef0"}, "closed": true, "closedAt": "2020-03-27T20:27:59Z", "author": {"login": "ryanjdew"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRLzaBAFqTM4MTQyNDcwNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRlOtegFqTM4MjUwMTQzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxNDI0NzA2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3752#pullrequestreview-381424706", "createdAt": "2020-03-25T18:27:54Z", "commit": {"oid": "83ff50fe84543bd22dbffd0ce2cfbf128216b77c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxNTM2Mzcw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3752#pullrequestreview-381536370", "createdAt": "2020-03-25T21:06:20Z", "commit": {"oid": "83ff50fe84543bd22dbffd0ce2cfbf128216b77c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxNTQ4NDEw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3752#pullrequestreview-381548410", "createdAt": "2020-03-25T21:25:30Z", "commit": {"oid": "83ff50fe84543bd22dbffd0ce2cfbf128216b77c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQyMToyNTozMFrOF7u89Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQyMToyNTozMFrOF7u89Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODE3OTU3Mw==", "bodyText": "This looks good @ryanjdew . Can we clear the mocks after a test is done?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3752#discussion_r398179573", "createdAt": "2020-03-25T21:25:30Z", "author": {"login": "bsrikan"}, "path": "one-ui/ui/src/components/load-data/new-data-load-dialog/new-data-load-dialog.test.tsx", "diffHunk": "@@ -1,9 +1,89 @@\n import React from 'react';\n-import { shallow } from 'enzyme';\n+import { act, render, fireEvent, waitForElement } from '@testing-library/react';\n+import '@testing-library/jest-dom/extend-expect';\n import NewDataLoadDialog from './new-data-load-dialog';\n+import {BrowserRouter} from \"react-router-dom\";\n+import axiosMock from 'axios'\n \n-describe('New/Edit data load component', () => {\n-  it('should render correctly', () => {\n-    shallow(<NewDataLoadDialog data/>);\n+jest.mock('axios');\n+\n+axiosMock.mockImplementation(jest.fn(() => Promise.resolve({ status: 200, data: {} })));\n+axiosMock.post.mockImplementation(jest.fn(() => Promise.resolve({ status: 200, data: {} })));\n+axiosMock.get.mockImplementation(jest.fn(() => Promise.resolve({ status: 200, data: {} })));\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83ff50fe84543bd22dbffd0ce2cfbf128216b77c"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96a16c296c3b18dea1c2e4805a0bfaa62cf1324f", "author": {"user": {"login": "ryanjdew", "name": "Ryan Dew"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/96a16c296c3b18dea1c2e4805a0bfaa62cf1324f", "committedDate": "2020-03-26T19:34:23Z", "message": "DHFPROD-4621: Only upload data once"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "83ff50fe84543bd22dbffd0ce2cfbf128216b77c", "author": {"user": {"login": "ryanjdew", "name": "Ryan Dew"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/83ff50fe84543bd22dbffd0ce2cfbf128216b77c", "committedDate": "2020-03-25T00:21:38Z", "message": "DHFPROD-4621: Only upload data once"}, "afterCommit": {"oid": "96a16c296c3b18dea1c2e4805a0bfaa62cf1324f", "author": {"user": {"login": "ryanjdew", "name": "Ryan Dew"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/96a16c296c3b18dea1c2e4805a0bfaa62cf1324f", "committedDate": "2020-03-26T19:34:23Z", "message": "DHFPROD-4621: Only upload data once"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNTAwOTQw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3752#pullrequestreview-382500940", "createdAt": "2020-03-27T00:03:44Z", "commit": {"oid": "96a16c296c3b18dea1c2e4805a0bfaa62cf1324f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNTAxNDMx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3752#pullrequestreview-382501431", "createdAt": "2020-03-27T00:05:21Z", "commit": {"oid": "96a16c296c3b18dea1c2e4805a0bfaa62cf1324f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3233, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}