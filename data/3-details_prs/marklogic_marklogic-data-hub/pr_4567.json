{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2ODI2Njcy", "number": 4567, "title": "DHFPROD-5907: Fix Cypress WebSocket errors", "bodyText": "Description\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-09-14T19:12:38Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4567", "merged": true, "mergeCommit": {"oid": "f781588ace6a7f126018ed38b668475981e82658"}, "closed": true, "closedAt": "2020-09-15T15:43:30Z", "author": {"login": "ryanjdew"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdI4HgrgH2gAyNDg2ODI2NjcyOjc4MjE4NjVkM2JjNTQwYTcyZTlkOGU1NDcxZTA3YzI2NzQ4Zjk5MDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdI72R7gFqTQ4ODIyMzY1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7821865d3bc540a72e9d8e5471e07c26748f9901", "author": {"user": {"login": "ryanjdew", "name": "Ryan Dew"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/7821865d3bc540a72e9d8e5471e07c26748f9901", "committedDate": "2020-09-14T19:11:31Z", "message": "DHFPROD-5907: Fix Cypress WebSocket errors"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4MTk0MTg5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4567#pullrequestreview-488194189", "createdAt": "2020-09-14T22:18:23Z", "commit": {"oid": "7821865d3bc540a72e9d8e5471e07c26748f9901"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4MTk1MDE5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4567#pullrequestreview-488195019", "createdAt": "2020-09-14T22:20:12Z", "commit": {"oid": "7821865d3bc540a72e9d8e5471e07c26748f9901"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMjoyMDoxM1rOHRpD1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMjoyMDoxM1rOHRpD1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI2MDU2NA==", "bodyText": "should this be console.error?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4567#discussion_r488260564", "createdAt": "2020-09-14T22:20:13Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/src/util/stomp.ts", "diffHunk": "@@ -203,31 +208,44 @@ export class STOMPService {\n     // Resolve our Promise to the caller\n     this.resolvePromise();\n \n+    // for Cypress tests only\n+    if ((window as any).Cypress) {\n+      (window as any).stompClientConnected = true;\n+    }\n+\n     // Clear callback\n     this.resolvePromise = () => {};\n   }\n \n   // Handle errors from stomp.js\n-  public onError = (error: string) => {\n-\n-    console.error('Error: ' + error);\n-\n+  public onError = async (error: string, ...other: any[]) => {\n+    console.log('STOMP error:', error, other);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7821865d3bc540a72e9d8e5471e07c26748f9901"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4MjIzNjUy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4567#pullrequestreview-488223652", "createdAt": "2020-09-14T23:32:19Z", "commit": {"oid": "7821865d3bc540a72e9d8e5471e07c26748f9901"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2057, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}