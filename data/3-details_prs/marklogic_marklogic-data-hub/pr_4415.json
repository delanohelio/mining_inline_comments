{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4NjE2NjA1", "number": 4415, "title": "DHFPROD-5666:Create \"matching\" and \"merging\" steps, add them to flow", "bodyText": "Description\nCreate \"matching\" and \"merging\" steps, add them to flow\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-08-17T06:25:43Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415", "merged": true, "mergeCommit": {"oid": "680f5bac85b5575a262c113f341a40460b7d0544"}, "closed": true, "closedAt": "2020-08-18T23:48:40Z", "author": {"login": "srinathgit"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc_saPqAFqTQ2ODE5MjY4OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAJse1AFqTQ2OTYzMDcwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MTkyNjg4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#pullrequestreview-468192688", "createdAt": "2020-08-17T06:27:48Z", "commit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNjoyNzo0OFrOHBbLzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNjoyNzo0OFrOHBbLzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI1NjAxMw==", "bodyText": "@rdew, @rjrudin\nShould 'artifactName' be added to the \"collections\" array ?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#discussion_r471256013", "createdAt": "2020-08-17T06:27:48Z", "author": {"login": "srinathgit"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/merging.sjs", "diffHunk": "@@ -65,14 +65,33 @@ function validateArtifact(artifact) {\n function defaultArtifact(artifactName) {\n   const defaultPermissions = 'data-hub-common,read,data-hub-common,update';\n   return {\n-    artifactName,\n-    collections: ['default-mastering'],\n-    additionalCollections: [],\n+    batchSize: 100,\n+    threadCount: 1,\n     sourceDatabase: dataHub.config.FINALDATABASE,\n     targetDatabase: dataHub.config.FINALDATABASE,\n-    provenanceGranularityLevel: 'coarse',\n     permissions: defaultPermissions,\n-    batchSize: 100\n+    targetEntity: \"Change this to a valid entity type name; e.g. Customer\",\n+    sourceQuery: \"cts.collectionQuery('mastering-summary')\",\n+    collections: [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NDA3NDEx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#pullrequestreview-468407411", "createdAt": "2020-08-17T12:12:35Z", "commit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjoxMjozNVrOHBmMfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjoxMjozNVrOHBmMfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTQzNjQxNQ==", "bodyText": "I defer to @ryanjdew on that.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#discussion_r471436415", "createdAt": "2020-08-17T12:12:35Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/merging.sjs", "diffHunk": "@@ -65,14 +65,33 @@ function validateArtifact(artifact) {\n function defaultArtifact(artifactName) {\n   const defaultPermissions = 'data-hub-common,read,data-hub-common,update';\n   return {\n-    artifactName,\n-    collections: ['default-mastering'],\n-    additionalCollections: [],\n+    batchSize: 100,\n+    threadCount: 1,\n     sourceDatabase: dataHub.config.FINALDATABASE,\n     targetDatabase: dataHub.config.FINALDATABASE,\n-    provenanceGranularityLevel: 'coarse',\n     permissions: defaultPermissions,\n-    batchSize: 100\n+    targetEntity: \"Change this to a valid entity type name; e.g. Customer\",\n+    sourceQuery: \"cts.collectionQuery('mastering-summary')\",\n+    collections: [", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI1NjAxMw=="}, "originalCommit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NTY5NTI2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#pullrequestreview-468569526", "createdAt": "2020-08-17T15:31:40Z", "commit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNTozMTo0MFrOHBtwhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNTozMTo0MFrOHBtwhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU2MDMyNA==", "bodyText": "I dont think we generate a curated document with this collection. Should this also be changed to read something like:\n\"cts.collectionQuery('Change this to a valid collection name; e.g. Customer')\" ?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#discussion_r471560324", "createdAt": "2020-08-17T15:31:40Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/matching.sjs", "diffHunk": "@@ -65,14 +65,43 @@ function validateArtifact(artifact) {\n function defaultArtifact(artifactName) {\n   const defaultPermissions = 'data-hub-common,read,data-hub-common,update';\n   return {\n-    artifactName,\n-    collections: ['default-mastering'],\n-    additionalCollections: [],\n+    batchSize: 100,\n+    threadCount: 1,\n     sourceDatabase: dataHub.config.FINALDATABASE,\n     targetDatabase: dataHub.config.FINALDATABASE,\n-    provenanceGranularityLevel: 'coarse',\n+    targetEntity: \"Change this to a valid entity type name; e.g. Customer\",\n+    sourceQuery: \"cts.collectionQuery('default-mapping')\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NjY0NTUy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#pullrequestreview-468664552", "createdAt": "2020-08-17T17:10:28Z", "commit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNzoxMDoyOFrOHBxsUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNzoxMDoyOFrOHBxsUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTYyNDc4NQ==", "bodyText": "@bsrikan Is correct. We should adjust this as a value for the user to change.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#discussion_r471624785", "createdAt": "2020-08-17T17:10:28Z", "author": {"login": "ryanjdew"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/matching.sjs", "diffHunk": "@@ -65,14 +65,43 @@ function validateArtifact(artifact) {\n function defaultArtifact(artifactName) {\n   const defaultPermissions = 'data-hub-common,read,data-hub-common,update';\n   return {\n-    artifactName,\n-    collections: ['default-mastering'],\n-    additionalCollections: [],\n+    batchSize: 100,\n+    threadCount: 1,\n     sourceDatabase: dataHub.config.FINALDATABASE,\n     targetDatabase: dataHub.config.FINALDATABASE,\n-    provenanceGranularityLevel: 'coarse',\n+    targetEntity: \"Change this to a valid entity type name; e.g. Customer\",\n+    sourceQuery: \"cts.collectionQuery('default-mapping')\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTU2MDMyNA=="}, "originalCommit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49205de0bad91d7d7342b2352d4d80bfa947e593", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/49205de0bad91d7d7342b2352d4d80bfa947e593", "committedDate": "2020-08-17T17:19:06Z", "message": "DHFPROD-5666:Create \"matching\" and \"merging\" steps, add them to flow"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1609171dd3c8b3a665de21910948bdb29bca1ae1", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/1609171dd3c8b3a665de21910948bdb29bca1ae1", "committedDate": "2020-08-17T06:24:35Z", "message": "DHFPROD-5666:Create \"matching\" and \"merging\" steps, add them to flow"}, "afterCommit": {"oid": "49205de0bad91d7d7342b2352d4d80bfa947e593", "author": {"user": {"login": "srinathgit", "name": "Srinath S"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/49205de0bad91d7d7342b2352d4d80bfa947e593", "committedDate": "2020-08-17T17:19:06Z", "message": "DHFPROD-5666:Create \"matching\" and \"merging\" steps, add them to flow"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NjkxMzE1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#pullrequestreview-468691315", "createdAt": "2020-08-17T17:49:04Z", "commit": {"oid": "49205de0bad91d7d7342b2352d4d80bfa947e593"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NjMwNzAy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4415#pullrequestreview-469630702", "createdAt": "2020-08-18T16:34:58Z", "commit": {"oid": "49205de0bad91d7d7342b2352d4d80bfa947e593"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2329, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}