{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0NjY2Nzk2", "number": 4255, "title": "DHFPROD-5521: Convert HC privileges into DH privileges", "bodyText": "This is being done in preparation for 5259, where each DS endpoint is secured with a privilege.\ngetAuthorities now uses HC roles instead of privileges.\nTo avoid deployment conflicts, I changed a couple HC privileges so that their names are consistent with the rest of privileges, but I had to change the action too to avoid a deployment conflict:\n\nhub-central:loginToHubCentral is now hub-central-login\nhub-central:exportEntityInstances is now hub-central-export-entities\n\nI think \"export-entities\" implies that it's entity instances you're getting and not models. And we'll likely have e.g \"export-jobs\" in the future, and \"export-entities\" and \"export-jobs\" are consistent with each other.\nDescription\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-07-21T18:14:18Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4255", "merged": true, "mergeCommit": {"oid": "7f0b27a18015ca37b2258a344a13ccd788c64bd8"}, "closed": true, "closedAt": "2020-07-24T16:36:26Z", "author": {"login": "rjrudin"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3KXYDAFqTQ1MjcxMzg3NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc4Go9ygFqTQ1NTAyNTI2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNzEzODc0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4255#pullrequestreview-452713874", "createdAt": "2020-07-21T18:16:29Z", "commit": {"oid": "d2725ff983965b687b557dfe66b99c60e049ba98"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxODoxNjoyOVrOG1ENVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxODoxNjoyOVrOG1ENVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODI5NjY2Mw==", "bodyText": "I confirmed that \"operator\" is no longer used for anything.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4255#discussion_r458296663", "createdAt": "2020-07-21T18:16:29Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/data-hub/5/data-services/hubCentral/getAuthoritiesTest.sjs", "diffHunk": "@@ -1,19 +0,0 @@\n-const test = require(\"/test/test-helper.xqy\");\n-\n-function invokeService() {\n-    return fn.head(xdmp.invoke(\n-        \"/data-hub/5/data-services/hubCentral/getAuthorities.sjs\",\n-        {}\n-    ));\n-}\n-\n-const response = invokeService();\n-const minExpectedAuthorities = [\"operator\"];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2725ff983965b687b557dfe66b99c60e049ba98"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eec39b1f17ce2f090c6d9bdb3ff58e11e9cd91cf", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/eec39b1f17ce2f090c6d9bdb3ff58e11e9cd91cf", "committedDate": "2020-07-22T13:35:44Z", "message": "DHFPROD-5521: Convert HC privileges into DH privileges\n\nThis is being done in preparation for 5259, where each DS endpoint is secured with a privilege. \n\ngetAuthorities now uses HC roles instead of privileges. \n\nTo avoid deployment conflicts, I changed a couple HC privileges so that their names are consistent with the rest of privileges, but I had to change the action too to avoid a deployment conflict:\n- hub-central:loginToHubCentral is now hub-central-login\n- hub-central:exportEntityInstances is now hub-central-export-entities\n\nI think \"export-entities\" implies that it's entity instances you're getting and not models. And we'll likely have e.g \"export-jobs\" in the future, and \"export-entities\" and \"export-jobs\" are consistent with each other. \nasdf"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d2725ff983965b687b557dfe66b99c60e049ba98", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/d2725ff983965b687b557dfe66b99c60e049ba98", "committedDate": "2020-07-21T18:12:20Z", "message": "DHFPROD-5521: Convert HC privileges into DH privileges\n\nThis is being done in preparation for 5259, where each DS endpoint is secured with a privilege. \n\ngetAuthorities now uses HC roles instead of privileges. \n\nTo avoid deployment conflicts, I changed a couple HC privileges so that their names are consistent with the rest of privileges, but I had to change the action too to avoid a deployment conflict:\n- hub-central:loginToHubCentral is now hub-central-login\n- hub-central:exportEntityInstances is now hub-central-export-entities\n\nI think \"export-entities\" implies that it's entity instances you're getting and not models. And we'll likely have e.g \"export-jobs\" in the future, and \"export-entities\" and \"export-jobs\" are consistent with each other."}, "afterCommit": {"oid": "eec39b1f17ce2f090c6d9bdb3ff58e11e9cd91cf", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/eec39b1f17ce2f090c6d9bdb3ff58e11e9cd91cf", "committedDate": "2020-07-22T13:35:44Z", "message": "DHFPROD-5521: Convert HC privileges into DH privileges\n\nThis is being done in preparation for 5259, where each DS endpoint is secured with a privilege. \n\ngetAuthorities now uses HC roles instead of privileges. \n\nTo avoid deployment conflicts, I changed a couple HC privileges so that their names are consistent with the rest of privileges, but I had to change the action too to avoid a deployment conflict:\n- hub-central:loginToHubCentral is now hub-central-login\n- hub-central:exportEntityInstances is now hub-central-export-entities\n\nI think \"export-entities\" implies that it's entity instances you're getting and not models. And we'll likely have e.g \"export-jobs\" in the future, and \"export-entities\" and \"export-jobs\" are consistent with each other. \nasdf"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MzY1OTU0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4255#pullrequestreview-454365954", "createdAt": "2020-07-23T17:52:43Z", "commit": {"oid": "eec39b1f17ce2f090c6d9bdb3ff58e11e9cd91cf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MDI1MjY2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4255#pullrequestreview-455025266", "createdAt": "2020-07-24T16:30:01Z", "commit": {"oid": "eec39b1f17ce2f090c6d9bdb3ff58e11e9cd91cf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2429, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}