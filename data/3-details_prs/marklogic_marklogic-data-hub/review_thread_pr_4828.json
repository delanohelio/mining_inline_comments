{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1Njk1NDE4", "number": 4828, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwMDo1NDo1OFrOE1c7wA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwMDo1NDo1OFrOE1c7wA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NDg0MDMyOnYy", "diffSide": "RIGHT", "path": "examples/reference-entity-model/steps/matching/match-customers.step.json", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwMDo1NDo1OFrOHtvCjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwMTowNjo1OFrOHtvQiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzcxODY3MQ==", "bodyText": "@ryanjdew  @fsnow  Two thoughts on seeing this side-by-side with the \"before\" config:\n\nThis is much easier to read\nI feel like there should be a top-level property that contains \"matchRulesets\" and \"thresholds\" - e.g. \"matchConfig\" . That makes it easy to grab all of the match config in a step, as opposed to having to know what properties constitute the match config and which ones do not.\n\nThoughts on #2?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4828#discussion_r517718671", "createdAt": "2020-11-05T00:54:58Z", "author": {"login": "rjrudin"}, "path": "examples/reference-entity-model/steps/matching/match-customers.step.json", "diffHunk": "@@ -7,32 +7,21 @@\n   \"targetEntity\" : \"Customer\",\n   \"sourceDatabase\" : \"data-hub-FINAL\",\n   \"collections\" : [ \"matched-customers\", \"match-customers\" ],\n-  \"matchOptions\" : {\n-    \"dataFormat\" : \"json\",\n-    \"propertyDefs\" : {\n-      \"property\" : [ {\n-        \"localname\" : \"customerId\",\n-        \"name\" : \"customerId\"\n-      } ]\n-    },\n-    \"scoring\" : {\n-      \"add\" : [ {\n-        \"propertyName\" : \"customerId\",\n-        \"weight\" : \"10\"\n-      } ]\n-    },\n-    \"thresholds\" : {\n-      \"threshold\" : [ {\n-        \"above\" : \"10\",\n-        \"label\" : \"Definitive Match\",\n-        \"action\" : \"merge\"\n-      } ]\n-    },\n-    \"tuning\" : {\n-      \"maxScan\" : 200\n-    }\n-  },\n   \"targetDatabase\" : \"data-hub-FINAL\",\n   \"targetFormat\" : \"json\",\n-  \"stepId\" : \"match-customers-matching\"\n+  \"stepId\" : \"match-customers-matching\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7960389f52b84b19f7108dd501828190b03ad388"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzcyMjI1MQ==", "bodyText": "@rjrudin We don't group feature specific properties for mapping steps, granted it is only \"namespaces\" and \"properties\".  Also, having the properties at the top-level can have the added benefit of the front-end being able to only push updates to thresholds, or matchRulesets, etc. I'm not sure if the front-end was planning on using that approach or not.\nIt may be worth drafting a ticket and getting feedback. At this point, it would probably be best to make such a change after the current work is completed and it can be changed across the board to avoid disruption.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4828#discussion_r517722251", "createdAt": "2020-11-05T01:06:58Z", "author": {"login": "ryanjdew"}, "path": "examples/reference-entity-model/steps/matching/match-customers.step.json", "diffHunk": "@@ -7,32 +7,21 @@\n   \"targetEntity\" : \"Customer\",\n   \"sourceDatabase\" : \"data-hub-FINAL\",\n   \"collections\" : [ \"matched-customers\", \"match-customers\" ],\n-  \"matchOptions\" : {\n-    \"dataFormat\" : \"json\",\n-    \"propertyDefs\" : {\n-      \"property\" : [ {\n-        \"localname\" : \"customerId\",\n-        \"name\" : \"customerId\"\n-      } ]\n-    },\n-    \"scoring\" : {\n-      \"add\" : [ {\n-        \"propertyName\" : \"customerId\",\n-        \"weight\" : \"10\"\n-      } ]\n-    },\n-    \"thresholds\" : {\n-      \"threshold\" : [ {\n-        \"above\" : \"10\",\n-        \"label\" : \"Definitive Match\",\n-        \"action\" : \"merge\"\n-      } ]\n-    },\n-    \"tuning\" : {\n-      \"maxScan\" : 200\n-    }\n-  },\n   \"targetDatabase\" : \"data-hub-FINAL\",\n   \"targetFormat\" : \"json\",\n-  \"stepId\" : \"match-customers-matching\"\n+  \"stepId\" : \"match-customers-matching\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzcxODY3MQ=="}, "originalCommit": {"oid": "7960389f52b84b19f7108dd501828190b03ad388"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3078, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}