{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0NTQwMDg0", "number": 5050, "title": "DEVO-147:Temporarly avoid FlexCode scan failure", "bodyText": "Description\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Code passes ESLint tests\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-12-23T03:13:09Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5050", "merged": true, "mergeCommit": {"oid": "c8bc70b99bb53b8f37777fb220cdc7d09c176f05"}, "closed": true, "closedAt": "2021-01-04T21:54:49Z", "author": {"login": "yafeldman"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdpCUaPAFqTU1ODExODcyMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABds8-uPgFqTU2MTM0ODYxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MTE4NzIz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5050#pullrequestreview-558118723", "createdAt": "2020-12-23T17:10:09Z", "commit": {"oid": "d707ff3b22c50dd1b648969da5047af4eeec3be2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxNzoxMDowOVrOIKq0vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxNzoxMDowOVrOIKq0vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODA1ODMwMw==", "bodyText": "Closing tag for < h3 > and opening tag for < h4 > missed in the body of the email", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5050#discussion_r548058303", "createdAt": "2020-12-23T17:10:09Z", "author": {"login": "SameeraPriyathamTadikonda"}, "path": "Jenkinsfile", "diffHunk": "@@ -243,10 +243,15 @@ void postFailureFlexcodeScanAndReport(def vulnerabilities){\n     email = email + ',Kavitha.Sivagnanam@marklogic.com'\n \n     def body=''\n-    vulnerabilities.each { msg -> body=body+msg + '<p>' }\n-    body = body + '<p>scan report is attached.'\n-\n-    sendMail email,\"<h3>Pipeline FAILED in stage ${STAGE_NAME} <a href=${BUILD_URL}/console> Check Console Output Here</a></h4>  High vulneribilities: <p> $body\",false,\" pipeline FAILED in ${STAGE_NAME} \", 'inventoriesRprt.report.json'\n+    if(vulnerabilities && vulnerabilities.size() != 0) {\n+        vulnerabilities.each { msg -> body = body + msg + '<p>' }\n+        body = 'There are high vulneribilities: <p> ' + body + '<p>scan report is attached.'\n+//      sendMail email,\"<h3>Pipeline FAILED in stage ${STAGE_NAME} <a href=${BUILD_URL}/console> Check Console Output Here</a></h4> $body\",false,\" pipeline FAILED in ${STAGE_NAME} \",'inventoriesRprt.report.json'\n+        sendMail email, \"<h3></h4> $body\", false, \" high vulnerabilities in stage ${STAGE_NAME} \",'inventoriesRprt.report.json'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d707ff3b22c50dd1b648969da5047af4eeec3be2"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a771951a5154fcf2947443b062ba3c4819269ff8", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/a771951a5154fcf2947443b062ba3c4819269ff8", "committedDate": "2020-12-28T19:19:42Z", "message": "DEVO-147:Temporarly avoid FlexCode scan failure"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d707ff3b22c50dd1b648969da5047af4eeec3be2", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/d707ff3b22c50dd1b648969da5047af4eeec3be2", "committedDate": "2020-12-23T03:09:17Z", "message": "DEVO-147:Temporarly avoid FlexCode scan failure"}, "afterCommit": {"oid": "a771951a5154fcf2947443b062ba3c4819269ff8", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/a771951a5154fcf2947443b062ba3c4819269ff8", "committedDate": "2020-12-28T19:19:42Z", "message": "DEVO-147:Temporarly avoid FlexCode scan failure"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxMjE4MTM0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5050#pullrequestreview-561218134", "createdAt": "2021-01-04T17:47:38Z", "commit": {"oid": "a771951a5154fcf2947443b062ba3c4819269ff8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxMjY0OTA4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5050#pullrequestreview-561264908", "createdAt": "2021-01-04T19:00:07Z", "commit": {"oid": "a771951a5154fcf2947443b062ba3c4819269ff8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxMzQ4NjEy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5050#pullrequestreview-561348612", "createdAt": "2021-01-04T21:12:43Z", "commit": {"oid": "a771951a5154fcf2947443b062ba3c4819269ff8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1457, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}