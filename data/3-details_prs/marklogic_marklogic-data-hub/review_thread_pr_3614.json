{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5ODkzMDA2", "number": 3614, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwMjoyMjo0NlrODi7EtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwMjoyNToxMVrODi7GWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3OTQ2MDM2OnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/core.sjs", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwMjoyMjo0NlrOFucScw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwMjoyMjo0NlrOFucScw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI0MjI5MQ==", "bodyText": "This is fine here - just an FYI, we'll soon have a library for functions pertaining to entity models, and this will be refactored to use that library.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3614#discussion_r384242291", "createdAt": "2020-02-26T02:22:46Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/artifacts/core.sjs", "diffHunk": "@@ -249,7 +249,7 @@ function deleteArtifactSettings(artifactType, artifactName, artifactVersion = 'l\n     return { success: true };\n }\n \n-function getEntityNames() {\n+function getEntityTitles() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e33a5360c797777aa4fc1989591053b4711c8a9f"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3OTQ2NDIzOnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/data-hub/5/data-services/artifacts/suiteSetup.sjs", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwMjoyNDo1NVrOFucUqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwMjoyNDo1NVrOFucUqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI0Mjg1Nw==", "bodyText": "You don't need to do this - just toss the content into a file under ./test-data/entities in the test file directory, and then call hub-test:load-entities($test:CALLER_FILE) (search for references to that for an example).\nThough I did notice you're writing to staging - any reason for that? We usually run the unit tests against the final app server.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3614#discussion_r384242857", "createdAt": "2020-02-26T02:24:55Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/data-hub/5/data-services/artifacts/suiteSetup.sjs", "diffHunk": "@@ -0,0 +1,35 @@\n+const DataHubSingleton = require('/data-hub/5/datahub-singleton.sjs');\n+const dataHub = DataHubSingleton.instance();\n+\n+const permissions = [xdmp.permission('data-hub-entity-model-writer', 'update'), xdmp.permission('data-hub-entity-model-reader', 'read')];\n+\n+dataHub.hubUtils.writeDocument('/entities/TestEntity-NoMappingConfig', {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e33a5360c797777aa4fc1989591053b4711c8a9f"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3OTQ2NDU5OnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/data-hub/5/data-services/artifacts/suiteTeardown.sjs", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwMjoyNToxMVrOFucU5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwMjoyNToxMVrOFucU5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI0MjkxNw==", "bodyText": "Don't need to do this either, just call hub-test:delete-artifacts($test:CALLER_FILE)", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3614#discussion_r384242917", "createdAt": "2020-02-26T02:25:11Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/data-hub/5/data-services/artifacts/suiteTeardown.sjs", "diffHunk": "@@ -0,0 +1,5 @@\n+const DataHubSingleton = require('/data-hub/5/datahub-singleton.sjs');\n+const dataHub = DataHubSingleton.instance();\n+\n+dataHub.hubUtils.deleteDocument('/entities/TestEntity-NoMappingConfig', dataHub.config.STAGINGDATABASE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e33a5360c797777aa4fc1989591053b4711c8a9f"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3568, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}