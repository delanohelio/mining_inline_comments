{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1NDI2OTI0", "number": 3928, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQyMToxMjo1MlrOD6yGfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQyMToxMjo1MlrOD6yGfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyOTY0ODYyOnYy", "diffSide": "RIGHT", "path": "marklogic-data-hub-central/ui/src/components/entities/mapping/mapping-card.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQyMToxMjo1MlrOGSz48Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQyMjoxODoyM1rOGS1UIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM3NzcxMw==", "bodyText": "Is this based on the assumption that the entity title is the part of an entityTypeId that comes after the last slash? Would it be possible for the backend to provide this information instead?\nI'm leery of the UI having any knowledge of how to parse bits out of the entityTypeId. I'd like to consolidate all of that logic into entity-lib.sjs in the backend so that if any assumptions prove incorrect, we only have to change it in a single place in all of DHF.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3928#discussion_r422377713", "createdAt": "2020-05-08T21:12:52Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub-central/ui/src/components/entities/mapping/mapping-card.tsx", "diffHunk": "@@ -500,27 +498,18 @@ const MappingCard: React.FC<Props> = (props) => {\n                 }\n                 nestedEntityData.push(propty);\n                 extractNestedEntityData(val.subProperties, propty.children, parentKey);\n-\n-                if(parentKey !== tempKey){\n-                    parentKey = tempKey;\n-                }\n+                parentKey = (parentKey.indexOf(\"/\")!=-1)?parentKey.substring(0,parentKey.lastIndexOf('/')):''", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "861debafd9bee5ce66473ee57c24cb8bad926078"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQwMTA1OQ==", "bodyText": "No, this doesn't have anything to do with entityTypeId. This method converts the nested entity properties to array that is needed for entity table in the ui . The keys of the table are unique and it is built by concatenating the property names (name/firstName/prefix etc)..", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3928#discussion_r422401059", "createdAt": "2020-05-08T22:18:23Z", "author": {"login": "srinathgit"}, "path": "marklogic-data-hub-central/ui/src/components/entities/mapping/mapping-card.tsx", "diffHunk": "@@ -500,27 +498,18 @@ const MappingCard: React.FC<Props> = (props) => {\n                 }\n                 nestedEntityData.push(propty);\n                 extractNestedEntityData(val.subProperties, propty.children, parentKey);\n-\n-                if(parentKey !== tempKey){\n-                    parentKey = tempKey;\n-                }\n+                parentKey = (parentKey.indexOf(\"/\")!=-1)?parentKey.substring(0,parentKey.lastIndexOf('/')):''", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM3NzcxMw=="}, "originalCommit": {"oid": "861debafd9bee5ce66473ee57c24cb8bad926078"}, "originalPosition": 64}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4114, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}