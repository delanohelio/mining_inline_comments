{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyMDY0NDk4", "number": 5016, "title": "DHFPROD-6357: Return all user-defined steps", "bodyText": "Description\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n[N/A] Code passes ESLint tests\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-12-17T19:02:43Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5016", "merged": true, "mergeCommit": {"oid": "6fa78e7f8f05e5fd618e07a4f6bb914d3a9efa1e"}, "closed": true, "closedAt": "2020-12-18T18:34:36Z", "author": {"login": "akshaysonvane"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnIYvqgFqTU1NDkwNDU5MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnbiqpgFqTU1NTY3NTY0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTA0NTkx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5016#pullrequestreview-554904591", "createdAt": "2020-12-17T19:06:27Z", "commit": {"oid": "0e965838b16bc7ef68833db915e65b5d54c3bd84"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxOTowNjoyN1rOIIEjAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxOTowNjoyN1rOIIEjAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTMzNDAxOA==", "bodyText": "Should 'mastering' step be present as well ? The users cannot create / edit one in HC but they can add it to flow ?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5016#discussion_r545334018", "createdAt": "2020-12-17T19:06:27Z", "author": {"login": "srinathgit"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/data-services/step/getStepsByType.sjs", "diffHunk": "@@ -24,7 +24,7 @@ const Artifacts = require('/data-hub/5/artifacts/core.sjs');\n var propertiesToReturn;\n \n const response = {};\n-const stepTypes = ['ingestion', 'mapping'];\n+const stepTypes = ['ingestion', 'mapping', 'matching', 'merging', 'mastering'];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e965838b16bc7ef68833db915e65b5d54c3bd84"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTEwNzg5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5016#pullrequestreview-554910789", "createdAt": "2020-12-17T19:15:22Z", "commit": {"oid": "0e965838b16bc7ef68833db915e65b5d54c3bd84"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0e965838b16bc7ef68833db915e65b5d54c3bd84", "author": {"user": {"login": "akshaysonvane", "name": "Akshay Sonvane"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/0e965838b16bc7ef68833db915e65b5d54c3bd84", "committedDate": "2020-12-17T19:00:46Z", "message": "DHFPROD-6357: Return matching, merging and mastering steps as well"}, "afterCommit": {"oid": "003689619d7d87f7f145db1862e285887df24fa5", "author": {"user": {"login": "akshaysonvane", "name": "Akshay Sonvane"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/003689619d7d87f7f145db1862e285887df24fa5", "committedDate": "2020-12-17T19:40:21Z", "message": "DHFPROD-6357: Return matching, merging, mastering and custom steps as well"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTQ2NDY4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5016#pullrequestreview-554946468", "createdAt": "2020-12-17T20:04:43Z", "commit": {"oid": "003689619d7d87f7f145db1862e285887df24fa5"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTUzNjA2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5016#pullrequestreview-554953606", "createdAt": "2020-12-17T20:15:21Z", "commit": {"oid": "003689619d7d87f7f145db1862e285887df24fa5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QyMDoxNToyMVrOIIHFSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QyMDoxNToyMVrOIIHFSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTM3NTU2MA==", "bodyText": "Given that we want all steps, it'll be simpler and faster to just query for all steps (they all share a collection) and then group them into a sorted map structure. That's 1 query instead of 6 queries, and also ensures we don't need to update this again (stepTypes I believe only existed before as a way of preventing anything besides ingestion/mapping from showing up).", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5016#discussion_r545375560", "createdAt": "2020-12-17T20:15:21Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/data-services/step/getStepsByType.sjs", "diffHunk": "@@ -24,7 +24,7 @@ const Artifacts = require('/data-hub/5/artifacts/core.sjs');\n var propertiesToReturn;\n \n const response = {};\n-const stepTypes = ['ingestion', 'mapping'];\n+const stepTypes = ['ingestion', 'mapping', 'matching', 'merging', 'mastering', 'custom'];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "003689619d7d87f7f145db1862e285887df24fa5"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "003689619d7d87f7f145db1862e285887df24fa5", "author": {"user": {"login": "akshaysonvane", "name": "Akshay Sonvane"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/003689619d7d87f7f145db1862e285887df24fa5", "committedDate": "2020-12-17T19:40:21Z", "message": "DHFPROD-6357: Return matching, merging, mastering and custom steps as well"}, "afterCommit": {"oid": "4e943f92a7f98ee3216f9df2f62bbad85d383abd", "author": {"user": {"login": "akshaysonvane", "name": "Akshay Sonvane"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/4e943f92a7f98ee3216f9df2f62bbad85d383abd", "committedDate": "2020-12-17T22:36:38Z", "message": "DHFPROD-6357: Return all user-defined steps"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "015c17cd274966f04a0dc8f6e765fb280a34d020", "author": {"user": {"login": "akshaysonvane", "name": "Akshay Sonvane"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/015c17cd274966f04a0dc8f6e765fb280a34d020", "committedDate": "2020-12-17T22:52:56Z", "message": "DHFPROD-6357: Return all user-defined steps"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4e943f92a7f98ee3216f9df2f62bbad85d383abd", "author": {"user": {"login": "akshaysonvane", "name": "Akshay Sonvane"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/4e943f92a7f98ee3216f9df2f62bbad85d383abd", "committedDate": "2020-12-17T22:36:38Z", "message": "DHFPROD-6357: Return all user-defined steps"}, "afterCommit": {"oid": "015c17cd274966f04a0dc8f6e765fb280a34d020", "author": {"user": {"login": "akshaysonvane", "name": "Akshay Sonvane"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/015c17cd274966f04a0dc8f6e765fb280a34d020", "committedDate": "2020-12-17T22:52:56Z", "message": "DHFPROD-6357: Return all user-defined steps"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MDg1Mjky", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5016#pullrequestreview-555085292", "createdAt": "2020-12-18T00:08:52Z", "commit": {"oid": "015c17cd274966f04a0dc8f6e765fb280a34d020"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MDg3NDU3", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5016#pullrequestreview-555087457", "createdAt": "2020-12-18T00:15:05Z", "commit": {"oid": "015c17cd274966f04a0dc8f6e765fb280a34d020"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1Njc1NjQz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5016#pullrequestreview-555675643", "createdAt": "2020-12-18T17:25:35Z", "commit": {"oid": "015c17cd274966f04a0dc8f6e765fb280a34d020"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1416, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}