{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwMjk5Njk3", "number": 4534, "title": "DHFPROD-5888: Handling null values in user preferences for saved queries", "bodyText": "Description\nThis PR fixes the bug DHFPROD-5888. e2e tests are already present for saved queries.\nAlso updated few e2e tests to fix certain intermittent failures.\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n[N/A] Added Tests\n\n\nReviewer:\n\n\n[ N/A] Reviewed Tests", "createdAt": "2020-09-05T00:00:59Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4534", "merged": true, "mergeCommit": {"oid": "894e8ddd1f9b91577ff95d13ddbf6c8f22f2d5f7"}, "closed": true, "closedAt": "2020-09-09T16:50:36Z", "author": {"login": "xnikhil08"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFvntVAFqTQ4MzAyMDc3MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHPBnpgFqTQ4NTIwODI1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMDIwNzcw", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4534#pullrequestreview-483020770", "createdAt": "2020-09-05T01:35:46Z", "commit": {"oid": "ada22304fa2ece984d8e4dbab63c1110961b4d6a"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0MjkzNzg3", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4534#pullrequestreview-484293787", "createdAt": "2020-09-08T16:10:33Z", "commit": {"oid": "ada22304fa2ece984d8e4dbab63c1110961b4d6a"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1119fa21a234e42a1355a83b3ae69add8ea3be8", "author": {"user": {"login": "xnikhil08", "name": "Nikhil Shrivastava"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/b1119fa21a234e42a1355a83b3ae69add8ea3be8", "committedDate": "2020-09-08T23:39:45Z", "message": "DHFPROD-5888: Handling null values in user preferences for saved queries"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "29eab611cf6caf41adcc8211d134d9845c1fef5d", "author": {"user": {"login": "xnikhil08", "name": "Nikhil Shrivastava"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/29eab611cf6caf41adcc8211d134d9845c1fef5d", "committedDate": "2020-09-08T22:52:05Z", "message": "DHFPROD-5888: Handling null values in user preferences for saved queries\n\nFixing queries component code fixes e2e"}, "afterCommit": {"oid": "b1119fa21a234e42a1355a83b3ae69add8ea3be8", "author": {"user": {"login": "xnikhil08", "name": "Nikhil Shrivastava"}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/b1119fa21a234e42a1355a83b3ae69add8ea3be8", "committedDate": "2020-09-08T23:39:45Z", "message": "DHFPROD-5888: Handling null values in user preferences for saved queries"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0NTY3OTUx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4534#pullrequestreview-484567951", "createdAt": "2020-09-08T23:53:19Z", "commit": {"oid": "b1119fa21a234e42a1355a83b3ae69add8ea3be8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQyMzo1MzoxOVrOHOxwHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQyMzo1MzoxOVrOHOxwHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI1NzI0Nw==", "bodyText": "@xnikhil08 @brucean52 @Sanjeevani19 @timur-isangulov  I think we should close the modal first and then apply current query on entity change.\nEarlier the modal was closed after setting the query, hence modal was hiding the spinner and hub properties was getting clicked on prematurely. So the fix was required in the code than to the test. This fixed scenario json/xml and queries test that were failing intermittently.\nAnother thing to keep in mind is careful usage of {force: true}. The action is performed if the element is available in the DOM and doesnt wait for animations and this could result in unnecessary failures. Tests ran ok 4 times successively. Hopefully it does so in Jenkins too.\nAdditionally pls review if this move to call toggleEntityConfirmation(false) within onNoClick wont impact the places where setCurrentQueryOnEntityChange() gets called.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4534#discussion_r485257247", "createdAt": "2020-09-08T23:53:19Z", "author": {"login": "bsrikan"}, "path": "marklogic-data-hub-central/ui/src/components/queries/queries.tsx", "diffHunk": "@@ -222,6 +224,7 @@ const Query: React.FC<Props> = (props) => {\n     }\n \n     const onNoClick  = () => {\n+        toggleEntityConfirmation(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1119fa21a234e42a1355a83b3ae69add8ea3be8"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1MTQxNDgx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4534#pullrequestreview-485141481", "createdAt": "2020-09-09T15:40:20Z", "commit": {"oid": "b1119fa21a234e42a1355a83b3ae69add8ea3be8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1MjA4MjU4", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4534#pullrequestreview-485208258", "createdAt": "2020-09-09T16:45:03Z", "commit": {"oid": "b1119fa21a234e42a1355a83b3ae69add8ea3be8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2225, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}