{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxNTQ2NDAw", "number": 4234, "title": "DHFPROD-5514: Add facetable and sortable property in entityPropertyDefinitions within searchResponse", "bodyText": "Description\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-07-17T23:28:34Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4234", "merged": true, "mergeCommit": {"oid": "341115faec705d20db03c23221c92069bec6284e"}, "closed": true, "closedAt": "2020-07-18T16:30:55Z", "author": {"login": "rahulvudutala"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc18ovGAFqTQ1MTAwNTMzOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc2J4zdgFqTQ1MTA2Mjc5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDA1MzM5", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4234#pullrequestreview-451005339", "createdAt": "2020-07-17T23:42:52Z", "commit": {"oid": "900b6249fc499bf005b6023e2cf07fe75bb59630"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDA5Nzk1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4234#pullrequestreview-451009795", "createdAt": "2020-07-18T00:04:41Z", "commit": {"oid": "900b6249fc499bf005b6023e2cf07fe75bb59630"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQwMDowNDo0MVrOGzkBzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQwMDowNDo0MVrOGzkBzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjcyMDg0NA==", "bodyText": "Isn't this missing an additional assertion for test.assertEqual(true, metadata[0].sortable),?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4234#discussion_r456720844", "createdAt": "2020-07-18T00:04:41Z", "author": {"login": "saarimrahman"}, "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/data-hub/5/entities/search/buildPropertyMetadata.sjs", "diffHunk": "@@ -37,7 +39,8 @@ function verifySimpleProperty() {\n     test.assertEqual(\"customerId\", metadata[0].propertyPath),\n     test.assertEqual(\"customerId\", metadata[0].propertyLabel),\n     test.assertEqual(\"integer\", metadata[0].datatype),\n-    test.assertEqual(false, metadata[0].multiple)\n+    test.assertEqual(false, metadata[0].multiple),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "900b6249fc499bf005b6023e2cf07fe75bb59630"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d37744d664e0300ddbf819e017d5eedce82d7eb", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/1d37744d664e0300ddbf819e017d5eedce82d7eb", "committedDate": "2020-07-18T01:17:39Z", "message": "DHFPROD-5514: Add sortable property in selectedPropertyDefinitions within searchResponse"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "900b6249fc499bf005b6023e2cf07fe75bb59630", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/900b6249fc499bf005b6023e2cf07fe75bb59630", "committedDate": "2020-07-17T23:03:43Z", "message": "DHFPROD-5514: Add sortable property in selectedPropertyDefinitions within searchResponse"}, "afterCommit": {"oid": "1d37744d664e0300ddbf819e017d5eedce82d7eb", "author": {"user": {"login": "rahulvudutala", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/1d37744d664e0300ddbf819e017d5eedce82d7eb", "committedDate": "2020-07-18T01:17:39Z", "message": "DHFPROD-5514: Add sortable property in selectedPropertyDefinitions within searchResponse"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDI1MTYz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4234#pullrequestreview-451025163", "createdAt": "2020-07-18T02:46:58Z", "commit": {"oid": "1d37744d664e0300ddbf819e017d5eedce82d7eb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDYyNzkx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4234#pullrequestreview-451062791", "createdAt": "2020-07-18T15:08:10Z", "commit": {"oid": "1d37744d664e0300ddbf819e017d5eedce82d7eb"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQxNTowODoxMFrOGzoxpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQxNTowODoxMFrOGzoxpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc5ODYyOQ==", "bodyText": "I like the variable names here, makes this read very clearly.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4234#discussion_r456798629", "createdAt": "2020-07-18T15:08:10Z", "author": {"login": "rjrudin"}, "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/entities/entity-search-lib.sjs", "diffHunk": "@@ -104,6 +104,16 @@ function buildAllMetadata(parentPropertyName, entityModel, entityName) {\n     propertyMetadata[\"multiple\"] = (isSimpleArrayProperty || isStructuredArrayProperty) ? true : false;\n     propertyMetadataObject[\"multiple\"] = propertyMetadata[\"multiple\"];\n \n+    if(property.sortable && !(isStructuredProperty || isStructuredArrayProperty)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d37744d664e0300ddbf819e017d5eedce82d7eb"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2388, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}