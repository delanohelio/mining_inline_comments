{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyNjk5NTkw", "number": 4082, "title": "DHFPROD-5063: Enhancements to clearing user data", "bodyText": "The ClearUserDataTest was effectively updated by adding a legacy mapping to the project, which caused the test to fail until DataHubImpl was modified.\nDescription\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-06-10T20:59:02Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4082", "merged": true, "mergeCommit": {"oid": "60df74360b73791409c3272352e8d32614bfa426"}, "closed": true, "closedAt": "2020-06-11T17:01:05Z", "author": {"login": "rjrudin"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqAGPVgH2gAyNDMyNjk5NTkwOmUwNThjOTFmZmU0OTZmNWQ5ZDA4ODE2MjQ3YTc2MzA0MGMwZDI1NTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqE2yjAFqTQyODU1MTQ2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e058c91ffe496f5d9d08816247a763040c0d2559", "author": {"user": {"login": "rjrudin", "name": null}}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/e058c91ffe496f5d9d08816247a763040c0d2559", "committedDate": "2020-06-10T20:57:43Z", "message": "DHFPROD-5063: Enhancements to clearing user data\n\nThe ClearUserDataTest was effectively updated by adding a legacy mapping to the project, which caused the test to fail until DataHubImpl was modified."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4NDgyMzMz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4082#pullrequestreview-428482333", "createdAt": "2020-06-10T22:54:35Z", "commit": {"oid": "e058c91ffe496f5d9d08816247a763040c0d2559"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQyMjo1NDozNlrOGiI6yA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQyMjo1NDozNlrOGiI6yA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ1MDg4OA==", "bodyText": "This is somewhat outside of this ticket, but thoughts about an \"are you sure?\" prompt that defaults to no instead of the -Pconfirm=true argument for confirmable tasks?\nI'm not sure what that would entail, but I'm pretty sure the most likely scenario for me mistakenly running a task would be due to using history completion in the shell and if that is the case, it will likely have \"-Pconfirm=true\" as part of that history completion.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4082#discussion_r438450888", "createdAt": "2020-06-10T22:54:36Z", "author": {"login": "ryanjdew"}, "path": "ml-data-hub-plugin/src/main/groovy/com/marklogic/gradle/DataHubPlugin.groovy", "diffHunk": "@@ -183,7 +183,8 @@ class DataHubPlugin implements Plugin<Project> {\n \n         project.task(\"hubClearUserData\", type: ClearUserDataTask, group: deployGroup,\n             description: \"Clears user data in the staging, final, and job databases, only leaving behind hub and user \" +\n-                \"artifacts. Requires sufficient privilege to be able to clear each of the databases.\")\n+                \"artifacts. Requires sufficient privilege to be able to clear each of the databases. \" +\n+                \"Requires -Pconfirm=true to be set so this isn't accidentally executed.\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e058c91ffe496f5d9d08816247a763040c0d2559"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4NDg4NjE0", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4082#pullrequestreview-428488614", "createdAt": "2020-06-10T23:10:25Z", "commit": {"oid": "e058c91ffe496f5d9d08816247a763040c0d2559"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4NTUxNDY1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4082#pullrequestreview-428551465", "createdAt": "2020-06-11T02:30:22Z", "commit": {"oid": "e058c91ffe496f5d9d08816247a763040c0d2559"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2775, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}