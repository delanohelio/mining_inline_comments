{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM2MjMwMTEx", "number": 4983, "title": "DHFPROD-5799: added keyboard navigation to overview page, header, footer", "bodyText": "Description\nhttps://project.marklogic.com/jira/browse/DHFPROD-5799\nChanges added\n(See comment below for file-by-file changelog)\n\nheader\n\nenabled tabbing and arrow keys in header\nadded focus and focus outlines to logo, title, service details, help, and user elements in header\nchanged link location of logo in header to marklogic.com homepage\nvarious minor style changes\n\n\noverview\n\nenabled tabbing and arrow keys in overview cards\nadded focus and focus outlines to all cards\nmoved render to before toolbar for tab ordering\n\n\nfooter\n\nadded focus outline to privacy button\n\n\n\nChecklist:\n- Note: do not change the below\n\n\nOwner:\n\n\n JIRA_ID included in all the commit messages\n\n\n PR title is in the format JIRA_ID:Title\n\n\n Rebase the branch with upstream\n\n\n Squashed all commits into a single commit\n\n\n Added Tests\n\n\nReviewer:\n\n\n Reviewed Tests", "createdAt": "2020-12-10T20:22:38Z", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983", "merged": true, "mergeCommit": {"oid": "b4865e1779787ea18ce2a9a748077334c09b3245"}, "closed": true, "closedAt": "2020-12-17T01:05:34Z", "author": {"login": "jyangML"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdk5Y29gBqjQwOTcxMDM3MTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdm1o6mgFqTU1NDA5MDQzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "80ef24b873c7d62701eec76f2971fb737aff422a", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/80ef24b873c7d62701eec76f2971fb737aff422a", "committedDate": "2020-12-10T20:16:27Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}, "afterCommit": {"oid": "79f803220c4554a5c63eaf60b538cc4f7e8420e4", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/79f803220c4554a5c63eaf60b538cc4f7e8420e4", "committedDate": "2020-12-10T20:30:05Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "79f803220c4554a5c63eaf60b538cc4f7e8420e4", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/79f803220c4554a5c63eaf60b538cc4f7e8420e4", "committedDate": "2020-12-10T20:30:05Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}, "afterCommit": {"oid": "12a60b87437fb86407601f210cea19a296982aa9", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/12a60b87437fb86407601f210cea19a296982aa9", "committedDate": "2020-12-10T20:42:18Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5ODU4NjM1", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#pullrequestreview-549858635", "createdAt": "2020-12-11T07:35:31Z", "commit": {"oid": "12a60b87437fb86407601f210cea19a296982aa9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "12a60b87437fb86407601f210cea19a296982aa9", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/12a60b87437fb86407601f210cea19a296982aa9", "committedDate": "2020-12-10T20:42:18Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}, "afterCommit": {"oid": "d717f2ad0e78df62b36bb98036722ba3764e9165", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/d717f2ad0e78df62b36bb98036722ba3764e9165", "committedDate": "2020-12-14T14:38:11Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d717f2ad0e78df62b36bb98036722ba3764e9165", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/d717f2ad0e78df62b36bb98036722ba3764e9165", "committedDate": "2020-12-14T14:38:11Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}, "afterCommit": {"oid": "6489ed20d4a4afd9ed94e94c2ebb6a2876a36955", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/6489ed20d4a4afd9ed94e94c2ebb6a2876a36955", "committedDate": "2020-12-14T16:22:51Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6489ed20d4a4afd9ed94e94c2ebb6a2876a36955", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/6489ed20d4a4afd9ed94e94c2ebb6a2876a36955", "committedDate": "2020-12-14T16:22:51Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}, "afterCommit": {"oid": "244c22e8399fe3224754fefbd79d02785c5e0eed", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/244c22e8399fe3224754fefbd79d02785c5e0eed", "committedDate": "2020-12-14T19:23:57Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxODUxOTUz", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#pullrequestreview-551851953", "createdAt": "2020-12-14T20:07:29Z", "commit": {"oid": "244c22e8399fe3224754fefbd79d02785c5e0eed"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMDowNzoyOVrOIFlQmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMDowNzoyOVrOIFlQmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjcyNDI0OA==", "bodyText": "We've updated the header logo to link to marklogic.com. There's a test in App.test.tsx (line 46) that checks that this goes to the Overview page when clicked. I think this needs to be updated to test the new link, it's failing in my env.", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#discussion_r542724248", "createdAt": "2020-12-14T20:07:29Z", "author": {"login": "wooldridge"}, "path": "marklogic-data-hub-central/ui/src/components/header/header.tsx", "diffHunk": "@@ -141,25 +215,54 @@ const Header:React.FC<Props> = (props) => {\n         theme=\"dark\"\n       >\n         <Menu.Item>\n-          <MLTooltip title=\"Help\"><a id=\"help-link\" href=\"https://docs.marklogic.com/datahub/\" target=\"_blank\"><Icon type=\"question-circle\"/></a></MLTooltip>\n+          <MLTooltip title=\"Help\">\n+            <div className={styles.helpIconContainer}>\n+              <a id=\"help-link\" href=\"https://docs.marklogic.com/datahub/\" target=\"_blank\" tabIndex={1} className={styles.helpIconLink}>\n+                <Icon type=\"question-circle\" className={styles.helpIcon}/>\n+              </a>\n+            </div>\n+          </MLTooltip>\n         </Menu.Item>\n       </Menu>\n     </div>;\n   }\n \n-  const handleHomeClick = () => {\n+  const handleHomeClick = (event) => {\n+    event.preventDefault();\n     props.history.push(\"/tiles\");\n   };\n \n+  const logoKeyDownHandler = (event) => {\n+    if (event.key === \"ArrowRight\") { titleRef.current!.focus(); }\n+  };\n+\n+  const logoClickHandler = (event) => {\n+    event.preventDefault();\n+    logoRef.current!.click();\n+  };\n+\n+  const titleKeyDownHandle = (event) => {\n+    if (event.key === \"Enter\") { handleHomeClick(event); }\n+\n+    if (event.key === \"ArrowRight\") { serviceNameRef.current!.focus(); }\n+    if (event.key === \"ArrowLeft\") { logoRef.current!.focus(); }\n+  };\n+\n   return (\n     <>\n       <Layout.Header className={styles.container}>\n-        <div className={styles.logoContainer} aria-label=\"header-logo\" onClick={handleHomeClick}>\n-          <Avatar className={styles.logo} src={logo} />\n+        <div className={styles.logoContainer} aria-label=\"header-logo\">\n+          <a href=\"https://www.marklogic.com/\" aria-label=\"logo-link\" className={styles.logo} tabIndex={1} ref={logoRef} ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "244c22e8399fe3224754fefbd79d02785c5e0eed"}, "originalPosition": 205}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxODY0OTYx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#pullrequestreview-551864961", "createdAt": "2020-12-14T20:26:25Z", "commit": {"oid": "244c22e8399fe3224754fefbd79d02785c5e0eed"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMDoyNjoyNVrOIFmeuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMDoyNjoyNVrOIFmeuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjc0NDI0OA==", "bodyText": "I'm also seeing this import for fireEvent repeated on line 10 and my testing is complaining, remove the one on line 10?", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#discussion_r542744248", "createdAt": "2020-12-14T20:26:25Z", "author": {"login": "wooldridge"}, "path": "marklogic-data-hub-central/ui/src/pages/Overview.test.tsx", "diffHunk": "@@ -1,6 +1,7 @@\n import React from \"react\";\n import {Router} from \"react-router\";\n import {createMemoryHistory} from \"history\";\n+import userEvent from \"@testing-library/user-event\";\n import {render, fireEvent} from \"@testing-library/react\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "244c22e8399fe3224754fefbd79d02785c5e0eed"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "244c22e8399fe3224754fefbd79d02785c5e0eed", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/244c22e8399fe3224754fefbd79d02785c5e0eed", "committedDate": "2020-12-14T19:23:57Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}, "afterCommit": {"oid": "9dc3e83786e42aa8b372679bb18002e77918daa4", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/9dc3e83786e42aa8b372679bb18002e77918daa4", "committedDate": "2020-12-14T21:36:23Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9dc3e83786e42aa8b372679bb18002e77918daa4", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/9dc3e83786e42aa8b372679bb18002e77918daa4", "committedDate": "2020-12-14T21:36:23Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}, "afterCommit": {"oid": "8ef47c484eea8b60021b4b7495a21a208db1c818", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/8ef47c484eea8b60021b4b7495a21a208db1c818", "committedDate": "2020-12-15T20:03:19Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8ef47c484eea8b60021b4b7495a21a208db1c818", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/8ef47c484eea8b60021b4b7495a21a208db1c818", "committedDate": "2020-12-15T20:03:19Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}, "afterCommit": {"oid": "673cd128a7177b5de6700dd0adc77f0436e46be9", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/673cd128a7177b5de6700dd0adc77f0436e46be9", "committedDate": "2020-12-15T20:38:47Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "673cd128a7177b5de6700dd0adc77f0436e46be9", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/673cd128a7177b5de6700dd0adc77f0436e46be9", "committedDate": "2020-12-15T20:38:47Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}, "afterCommit": {"oid": "a5781a31ee6892eb3c7ead9e10887878acd7a959", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/a5781a31ee6892eb3c7ead9e10887878acd7a959", "committedDate": "2020-12-15T23:11:47Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MDY0MTMy", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#pullrequestreview-554064132", "createdAt": "2020-12-16T20:37:30Z", "commit": {"oid": "a5781a31ee6892eb3c7ead9e10887878acd7a959"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MDc1MTY2", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#pullrequestreview-554075166", "createdAt": "2020-12-16T20:53:33Z", "commit": {"oid": "a5781a31ee6892eb3c7ead9e10887878acd7a959"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a5781a31ee6892eb3c7ead9e10887878acd7a959", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/a5781a31ee6892eb3c7ead9e10887878acd7a959", "committedDate": "2020-12-15T23:11:47Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}, "afterCommit": {"oid": "7387d67c0e98c97865499190dff158229c309892", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/7387d67c0e98c97865499190dff158229c309892", "committedDate": "2020-12-16T21:03:15Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c14ef182b7ddcc981a80c5f4ba6fc651b4d00b0", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/2c14ef182b7ddcc981a80c5f4ba6fc651b4d00b0", "committedDate": "2020-12-16T21:06:22Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7387d67c0e98c97865499190dff158229c309892", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/7387d67c0e98c97865499190dff158229c309892", "committedDate": "2020-12-16T21:03:15Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}, "afterCommit": {"oid": "2c14ef182b7ddcc981a80c5f4ba6fc651b4d00b0", "author": {"user": null}, "url": "https://github.com/marklogic/marklogic-data-hub/commit/2c14ef182b7ddcc981a80c5f4ba6fc651b4d00b0", "committedDate": "2020-12-16T21:06:22Z", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MDg2MTM3", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#pullrequestreview-554086137", "createdAt": "2020-12-16T21:09:42Z", "commit": {"oid": "2c14ef182b7ddcc981a80c5f4ba6fc651b4d00b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MDg5MjAx", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#pullrequestreview-554089201", "createdAt": "2020-12-16T21:14:17Z", "commit": {"oid": "2c14ef182b7ddcc981a80c5f4ba6fc651b4d00b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MDkwNDM3", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#pullrequestreview-554090437", "createdAt": "2020-12-16T21:16:01Z", "commit": {"oid": "2c14ef182b7ddcc981a80c5f4ba6fc651b4d00b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1565, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}