{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4NDM2MDIy", "number": 4847, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQwNzowNToyOFrOEJj78A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQwNzowNToyOFrOEJj78A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4NDYxNDI0OnYy", "diffSide": "RIGHT", "path": "main/plugins/org.talend.designer.codegen/jet_stub/footer.javajet", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQwNzowNToyOFrOGqHWPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQwNzo1MDowOFrOGqIr0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjgxMzc1OA==", "bodyText": "when customer only install studio patch, there should be complile error for ftps type", "url": "https://github.com/Talend/tdi-studio-se/pull/4847#discussion_r446813758", "createdAt": "2020-06-29T07:05:28Z", "author": {"login": "jzhao-talend"}, "path": "main/plugins/org.talend.designer.codegen/jet_stub/footer.javajet", "diffHunk": "@@ -1171,13 +1171,21 @@ if (execStat) {\n             } else {\n                 type = \"ftp\";\n             }\n-            if (\"ftp\".equals(type)) { %>\n-                ((com.enterprisedt.net.ftp.FTPClient) obj_conn).quit();\n-        <%} else if (\"sftp\".equals(type)) { %>\n+            if (\"sftp\".equals(type)) { %>\n                 ((com.jcraft.jsch.ChannelSftp) obj_conn).quit();\n-        <%} else { %>\n-                ((org.apache.commons.net.ftp.FTPSClient) obj_conn).disconnect();\n-        <%}%>\n+            <%} else {\n+                String libImplementation = ElementParameterParser.getValue(ftpNode, \"__LIB_IMPLEMENTATION__\");\n+                if (\"Apache\".equalsIgnoreCase(libImplementation)) {\n+%>\n+                    ((org.apache.commons.net.ftp.FTPClient) obj_conn).disconnect();\n+<%\n+                } else {\n+%>\n+                    ((com.enterprisedt.net.ftp.FTPClient) obj_conn).quit();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc66c15e2f03111aa345711aee45c91023ea5350"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjgzNTY2Nw==", "bodyText": "fixed in 9991261", "url": "https://github.com/Talend/tdi-studio-se/pull/4847#discussion_r446835667", "createdAt": "2020-06-29T07:50:08Z", "author": {"login": "jzhao-talend"}, "path": "main/plugins/org.talend.designer.codegen/jet_stub/footer.javajet", "diffHunk": "@@ -1171,13 +1171,21 @@ if (execStat) {\n             } else {\n                 type = \"ftp\";\n             }\n-            if (\"ftp\".equals(type)) { %>\n-                ((com.enterprisedt.net.ftp.FTPClient) obj_conn).quit();\n-        <%} else if (\"sftp\".equals(type)) { %>\n+            if (\"sftp\".equals(type)) { %>\n                 ((com.jcraft.jsch.ChannelSftp) obj_conn).quit();\n-        <%} else { %>\n-                ((org.apache.commons.net.ftp.FTPSClient) obj_conn).disconnect();\n-        <%}%>\n+            <%} else {\n+                String libImplementation = ElementParameterParser.getValue(ftpNode, \"__LIB_IMPLEMENTATION__\");\n+                if (\"Apache\".equalsIgnoreCase(libImplementation)) {\n+%>\n+                    ((org.apache.commons.net.ftp.FTPClient) obj_conn).disconnect();\n+<%\n+                } else {\n+%>\n+                    ((com.enterprisedt.net.ftp.FTPClient) obj_conn).quit();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjgxMzc1OA=="}, "originalCommit": {"oid": "fc66c15e2f03111aa345711aee45c91023ea5350"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4730, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}