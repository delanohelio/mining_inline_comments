{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzNDQzNTA4", "number": 4557, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwODoyNjoyN1rODrG0hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwODoyNzoxNFrODrG1hg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NTI3MTExOnYy", "diffSide": "RIGHT", "path": "main/plugins/org.talend.designer.components.localprovider/components/tBigQueryInput/tBigQueryInput_begin.javajet", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwODoyNjoyN1rOF7QTSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwODoyNjoyN1rOF7QTSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY3NzM4Nw==", "bodyText": "indentation", "url": "https://github.com/Talend/tdi-studio-se/pull/4557#discussion_r397677387", "createdAt": "2020-03-25T08:26:27Z", "author": {"login": "undx"}, "path": "main/plugins/org.talend.designer.components.localprovider/components/tBigQueryInput/tBigQueryInput_begin.javajet", "diffHunk": "@@ -395,13 +395,18 @@\n \t\t\t    int colsLen_<%=cid %> = schema_<%=cid%>.getFields().size();\n \t\t\t    for (int i = <%=dynamic_index-1%>; i < colsLen_<%=cid %>-<%=columnList.size()-dynamic_index%>; i++) {\n \t\t\t    \troutines.system.DynamicMetadata dynamicMetadata_<%=cid%> = new routines.system.DynamicMetadata();\n-\t\t\t    \tdynamicMetadata_<%=cid%>.setName(schema_<%=cid%>.getFields().get(i).getName());\n+\t\t\t    \tcom.google.cloud.bigquery.Field field_<%=cid%> = schema_<%=cid%>.getFields().get(i);\n+\t\t\t    \tdynamicMetadata_<%=cid%>.setName(field_<%=cid%>.getName());\n \t\t\t    \tdynamicMetadata_<%=cid%>.setDbName(dynamicMetadata_<%=cid%>.getName());\n-\t\t\t    \tcom.google.cloud.bigquery.StandardSQLTypeName typeName_<%=cid%> = schema_<%=cid%>.getFields().get(i).getType().getStandardType();\n-\t\t\t    \tString typeNameString_<%=cid%> = (typeName_<%=cid%> != null) ? typeName_<%=cid%>.name() : schema_<%=cid%>.getFields().get(i).getType().name();\n+\t\t\t    \tcom.google.cloud.bigquery.StandardSQLTypeName typeName_<%=cid%> = field_<%=cid%>.getType().getStandardType();\n+\t\t\t    \tString typeNameString_<%=cid%> = (typeName_<%=cid%> != null) ? typeName_<%=cid%>.name() : field_<%=cid%>.getType().name();\n+\t\t\t    \tif (field_<%=cid%>.getMode() == com.google.cloud.bigquery.Field.Mode.REPEATED) { // list of values.\n+                \t\ttypeNameString_<%=cid%> = \"ARRAY\";\n+\t\t\t\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d77442ee674d194d89d65536e5805ffd58a1792"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NTI3MzY2OnYy", "diffSide": "RIGHT", "path": "main/plugins/org.talend.designer.components.localprovider/components/templates/DB/Input/BigQuery/BigQueryHelper_ServiceAccount.javajet", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwODoyNzoxNFrOF7QU6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwODoyNzoxNFrOF7QU6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY3NzgwMA==", "bodyText": "same", "url": "https://github.com/Talend/tdi-studio-se/pull/4557#discussion_r397677800", "createdAt": "2020-03-25T08:27:14Z", "author": {"login": "undx"}, "path": "main/plugins/org.talend.designer.components.localprovider/components/templates/DB/Input/BigQuery/BigQueryHelper_ServiceAccount.javajet", "diffHunk": "@@ -17,7 +17,14 @@ class BigQueryHelper_<%=cid%> {\n \t\t\t\tcolumn.addColumnValue(null);\n \t\t\t\tcontinue;\n \t\t\t}\n-\t\t\tif (\"id_String\".equals(dcm.getType())) {\n+\t\t\tif (\"id_List\".equals(dcm.getType())) {\n+\t\t\t\tjava.util.List<com.google.cloud.bigquery.FieldValue> bigQueryValues = rs.get(colNum).getRepeatedValue();\n+\t\t\t\tjava.util.List<Object> values = bigQueryValues.stream()\n+\t\t\t\t                                              .map(com.google.cloud.bigquery.FieldValue::getValue)\n+\t\t\t\t                                              .collect(java.util.stream.Collectors.toList());\n+\t\t\t\tcolumn.addColumnValue(values);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d77442ee674d194d89d65536e5805ffd58a1792"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4531, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}