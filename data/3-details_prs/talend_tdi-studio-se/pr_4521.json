{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2NjAzMzQ4", "number": 4521, "title": "CreateTable component should use given connection", "bodyText": "What is the current behavior? (You can also link to an open issue here)\nWhat is the new behavior?\nPlease check if the PR fulfills these requirements\n\n The commit message follows Talend standard\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features) ?\n The code coverage on new code >75%\n The new code does not introduce new technical issues (sonar / eslint)\n\nWhat kind of change does this PR introduce?\n\n Bugfix\n Feature\n Code style update (formatting, local variables)\n Refactoring (no functional changes, no api changes)\n Build / CI related changes\n Other... Please describe:\n\nDoes this PR introduce a breaking change?\n\n Yes\n No\n\nIf this PR contains a breaking change, please describe the impact and migration path for existing applications: ...\nOther information:", "createdAt": "2020-03-11T10:26:42Z", "url": "https://github.com/Talend/tdi-studio-se/pull/4521", "merged": true, "mergeCommit": {"oid": "f3ff8ec8168adaec13caa9dff02897c1cbffb6e1"}, "closed": true, "closedAt": "2020-04-20T01:07:37Z", "author": {"login": "jiezhang-tlnd"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMkeAkAH2gAyMzg2NjAzMzQ4OjA2NDJkNDQzYzc4ODFmNjg4M2UyMDRkMmI3NzU5OTA2YjM0OTU4MzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZKOafgFqTM5NjAxNTMzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0642d443c7881f6883e204d2b7759906b3495834", "author": {"user": {"login": "jiezhang-tlnd", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/0642d443c7881f6883e204d2b7759906b3495834", "committedDate": "2020-03-11T10:22:32Z", "message": "CreateTable component should use given connection"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2NjQzNDI3", "url": "https://github.com/Talend/tdi-studio-se/pull/4521#pullrequestreview-376643427", "createdAt": "2020-03-18T08:19:11Z", "commit": {"oid": "0642d443c7881f6883e204d2b7759906b3495834"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODoxOToxMVrOF36RaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODoxOToxMVrOF36RaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE3MDcyOQ==", "bodyText": "I don't think it is specific for tCreateTable and we already have another constructure\npublic RepositoryReviewDialog(Shell parentShell, ERepositoryObjectType type, String repositoryType, String[] itemFilter) , itemFilter is used to filter the repository item to select .\nIf can't reuse this constructor , you can refer to this implementation.", "url": "https://github.com/Talend/tdi-studio-se/pull/4521#discussion_r394170729", "createdAt": "2020-03-18T08:19:11Z", "author": {"login": "wchen-talend"}, "path": "main/plugins/org.talend.repository/src/main/java/org/talend/repository/ui/processor/RepositoryTypeProcessor.java", "diffHunk": "@@ -236,6 +246,16 @@ protected boolean selectRepositoryNode(Viewer viewer, RepositoryNode parentNode,\n                         return false;\n                     }\n                 }\n+\n+                if (connection instanceof DatabaseConnectionImpl) {\n+                    String databaseType = ((DatabaseConnectionImpl) connection).getDatabaseType();\n+                    if (StringUtils.equals(\"tCreateTable\", this.componentName) && listItemsDisplayName != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0642d443c7881f6883e204d2b7759906b3495834"}, "originalPosition": 49}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2NjQ0NjMz", "url": "https://github.com/Talend/tdi-studio-se/pull/4521#pullrequestreview-376644633", "createdAt": "2020-03-18T08:21:10Z", "commit": {"oid": "0642d443c7881f6883e204d2b7759906b3495834"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODoyMToxMFrOF36VJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODoyMToxMFrOF36VJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE3MTY4NQ==", "bodyText": "https://github.com/Talend/tdi-studio-se/blob/master/main/plugins/org.talend.designer.core/src/main/java/org/talend/designer/core/ui/editor/properties/controllers/PropertyTypeController.java#L342\nCan we reuse the code in PropertyTypeController instead of here ?", "url": "https://github.com/Talend/tdi-studio-se/pull/4521#discussion_r394171685", "createdAt": "2020-03-18T08:21:10Z", "author": {"login": "wchen-talend"}, "path": "main/plugins/org.talend.repository/src/main/java/org/talend/repository/ui/dialog/RepositoryReviewDialog.java", "diffHunk": "@@ -305,6 +305,13 @@ private IRepositoryTypeProcessor createTypeProcessor() {\n                 return processor;\n             }\n         }\n+        String componentName = null;\n+        String[] listItemsDisplayName = null;\n+        if (this.elem != null && (this.elem instanceof INode)) {\n+            componentName = ((INode) elem).getComponent().getName();\n+            IElementParameter elementParameter = ((INode) elem).getElementParameter(\"DBTYPE\");\n+            listItemsDisplayName = elementParameter.getListItemsDisplayName();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0642d443c7881f6883e204d2b7759906b3495834"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d299fcad48ac2f1f3ed9df6b3f66c39e4381d3ee", "author": {"user": {"login": "jiezhang-tlnd", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/d299fcad48ac2f1f3ed9df6b3f66c39e4381d3ee", "committedDate": "2020-03-18T10:14:46Z", "message": "fix(TUP-23956)CreateTable component should not to use JDBC connection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bb06e61e8d234c7cd9e221f148185b2b7452d19", "author": {"user": {"login": "jiezhang-tlnd", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/2bb06e61e8d234c7cd9e221f148185b2b7452d19", "committedDate": "2020-03-18T14:35:14Z", "message": "fix(TUP-23956)CreateTable component should not to use JDBC connection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa03502347a666a423d52027c3887c63a12b27da", "author": {"user": {"login": "jiezhang-tlnd", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/fa03502347a666a423d52027c3887c63a12b27da", "committedDate": "2020-03-24T07:27:55Z", "message": "fix some metadata connection could not select tCreateTable when drag and\ndrop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3fda6b5a93c2e9e4b2bfd79365af596b4ebf4284", "author": {"user": {"login": "jiezhang-tlnd", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/3fda6b5a93c2e9e4b2bfd79365af596b4ebf4284", "committedDate": "2020-04-16T01:46:48Z", "message": "Merge branch 'master' into jzhang/bugfix/TUP-23956_CreateTable_should_use_given_connection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f4010359a3a301a56c3ac369ace7cbb4e3f1b09", "author": {"user": {"login": "jiezhang-tlnd", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/8f4010359a3a301a56c3ac369ace7cbb4e3f1b09", "committedDate": "2020-04-16T06:33:57Z", "message": "fix(TUP-23956)CreateTable component should not to use JDBC connection"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MDE1MzM4", "url": "https://github.com/Talend/tdi-studio-se/pull/4521#pullrequestreview-396015338", "createdAt": "2020-04-19T13:08:59Z", "commit": {"oid": "8f4010359a3a301a56c3ac369ace7cbb4e3f1b09"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4640, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}