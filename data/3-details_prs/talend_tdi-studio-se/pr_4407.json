{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxMzY3Mjk2", "number": 4407, "title": "fix(TDI-43408) : not a string if content", "bodyText": "What is the current behavior? (You can also link to an open issue here)\nTransform json object to string.\nWhat is the new behavior?\nKeep object level.\nPlease check if the PR fulfills these requirements\n\n The commit message follows Talend standard\n\nWhat kind of change does this PR introduce?\n\n Bugfix\n Feature\n Code style update (formatting, local variables)\n Refactoring (no functional changes, no api changes)\n Build / CI related changes\n Other... Please describe:\n\nDoes this PR introduce a breaking change?\n\n Yes\n No\n\nIf this PR contains a breaking change, please describe the impact and migration path for existing applications: ...\nOther information:", "createdAt": "2020-02-05T13:14:46Z", "url": "https://github.com/Talend/tdi-studio-se/pull/4407", "merged": true, "mergeCommit": {"oid": "130b8c02386961195fe827c99cc804e1c2e48c3d"}, "closed": true, "closedAt": "2020-03-30T06:59:37Z", "author": {"login": "clesaec"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcHgQ6LgFqTM2MzUzMjQ0OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcSo7CCAFqTM4MzU3MzcyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNTMyNDQ4", "url": "https://github.com/Talend/tdi-studio-se/pull/4407#pullrequestreview-363532448", "createdAt": "2020-02-24T16:38:59Z", "commit": {"oid": "9bfb670b7e8dbbf7ebc1aaca657859b7c8f282d5"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9bfb670b7e8dbbf7ebc1aaca657859b7c8f282d5", "author": {"user": {"login": "clesaec", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/9bfb670b7e8dbbf7ebc1aaca657859b7c8f282d5", "committedDate": "2020-02-05T10:44:41Z", "message": "fix(TDI-43408) : not a string if content"}, "afterCommit": {"oid": "9bd5c27d113b24321a8f69d1a2d389e54d50bd12", "author": {"user": {"login": "clesaec", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/9bd5c27d113b24321a8f69d1a2d389e54d50bd12", "committedDate": "2020-03-24T08:10:36Z", "message": "fix(TDI-43408) : not a string if content"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwODMwNTAy", "url": "https://github.com/Talend/tdi-studio-se/pull/4407#pullrequestreview-380830502", "createdAt": "2020-03-25T03:01:26Z", "commit": {"oid": "6fdcf4e2b5d0bdc526c0ba0afc391d747bbccca8"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwODMwODI2", "url": "https://github.com/Talend/tdi-studio-se/pull/4407#pullrequestreview-380830826", "createdAt": "2020-03-25T03:02:31Z", "commit": {"oid": "6fdcf4e2b5d0bdc526c0ba0afc391d747bbccca8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwMzowMjozMVrOF7KkQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwMzowMjozMVrOF7KkQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU4MzQyNQ==", "bodyText": "need to be careful to do that, as some reason to do that.", "url": "https://github.com/Talend/tdi-studio-se/pull/4407#discussion_r397583425", "createdAt": "2020-03-25T03:02:31Z", "author": {"login": "wwang-talend"}, "path": "main/plugins/org.talend.designer.components.localprovider/components/tWriteXMLFieldOut/tWriteXMLFieldOut_main.javajet", "diffHunk": "@@ -264,7 +264,9 @@ class GenerateToolByDom4j{\n \t\t\tnestXMLTool_<%=cid%> .setText(<%=currEleName%>_<%=cid%>,<%tool.getValue(node);%>);\n <%\n \t\t\tif(istWriteJSONField && allowEmptyStrings) {\n-\t\t\t\tif (javaType == JavaTypesManager.STRING) {\n+\t\t\t\tif (javaType == JavaTypesManager.STRING \n+                    && node.attributes.size() == 0 \n+                    && (node.elements == null || node.elements.size() == 0)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fdcf4e2b5d0bdc526c0ba0afc391d747bbccca8"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMjExNjU3", "url": "https://github.com/Talend/tdi-studio-se/pull/4407#pullrequestreview-381211657", "createdAt": "2020-03-25T14:38:55Z", "commit": {"oid": "cf48c41b56a9f0ce389a72ef1099bd92b087fea4"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6a99e2079a0949fae0e004979c79d755cccf64b", "author": {"user": {"login": "clesaec", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/b6a99e2079a0949fae0e004979c79d755cccf64b", "committedDate": "2020-03-26T08:17:24Z", "message": "fix(TDI-43408) : not a string if content"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5d6a7fa9e65a9d3e37bbc74a7aa17fce0b55ad7", "author": {"user": {"login": "clesaec", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/a5d6a7fa9e65a9d3e37bbc74a7aa17fce0b55ad7", "committedDate": "2020-03-26T08:17:24Z", "message": "fix(TDI-43408) : non customize attribute"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cf48c41b56a9f0ce389a72ef1099bd92b087fea4", "author": {"user": {"login": "clesaec", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/cf48c41b56a9f0ce389a72ef1099bd92b087fea4", "committedDate": "2020-03-25T14:12:16Z", "message": "Merge branch 'clesaec/TDI-43408_JsonWriter' of https://github.com/Talend/tdi-studio-se into clesaec/TDI-43408_JsonWriter"}, "afterCommit": {"oid": "a5d6a7fa9e65a9d3e37bbc74a7aa17fce0b55ad7", "author": {"user": {"login": "clesaec", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/a5d6a7fa9e65a9d3e37bbc74a7aa17fce0b55ad7", "committedDate": "2020-03-26T08:17:24Z", "message": "fix(TDI-43408) : non customize attribute"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNTczNzI5", "url": "https://github.com/Talend/tdi-studio-se/pull/4407#pullrequestreview-383573729", "createdAt": "2020-03-30T06:57:24Z", "commit": {"oid": "a5d6a7fa9e65a9d3e37bbc74a7aa17fce0b55ad7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4646, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}