{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2MjY5MjM5", "number": 4363, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxMDoxMzo1OVrODa0sDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxMDoxMzo1OVrODa0sDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5NDUyODEzOnYy", "diffSide": "RIGHT", "path": "main/plugins/org.talend.designer.components.localprovider/components/templates/_tableActionForBulk.javajet", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxMDoxMzo1OVrOFh9fwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxMjozNTozNVrOFkKGag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTE1NDg4MQ==", "bodyText": "Maybe set it customizable : column.setLength(Integer.parseInt(System.getProperty(\"talend.mssql.bulk.double.precision\", \"53\"));", "url": "https://github.com/Talend/tdi-studio-se/pull/4363#discussion_r371154881", "createdAt": "2020-01-27T10:13:59Z", "author": {"login": "ypiel-talend"}, "path": "main/plugins/org.talend.designer.components.localprovider/components/templates/_tableActionForBulk.javajet", "diffHunk": "@@ -205,7 +206,33 @@ if (!isParallelize) {\n \t\t\t\t\t<%if(isLog4jEnabled_tableAction){%>\n \t\t\t\t\t\tlog.info(\"<%=cid%> - Creating table <%=manager.getLProtectedChar()%>\" + tableName_<%=cid%> + \"<%=manager.getRProtectedChar()%>.\");\n \t\t\t\t\t<%}%>\n-\t\t\t\t\tstmtCreate_<%=cid%>.execute(\"<%=manager.getCreateTableSQL(stmtStructure)%>)\");\n+\t\t\t\t\t<%\n+\t\t\t\t\tif (MSSQL.equalsIgnoreCase(dbmsId) && isDynamic){\n+\t\t\t\t\t%>\n+\t\t\t\t\t\troutines.system.Dynamic dynamicColumn = (Dynamic)globalMap.get(\"<%=dynamicComponentName%>\" + \"_DYNAMIC\");\n+\n+\t\t\t\t\t\t//This code should be in DynamicUtils class.\n+\t\t\t\t\t\tfor (DynamicMetadata column : dynamicColumn.metadatas){\n+\t\t\t\t\t\t\t//set maximum precision for double types\n+\t\t\t\t\t\t\t//in MSSQL double is float. Maximum precision is 53\n+\t\t\t\t\t\t\tif (column.getType().equals(\"id_Double\")){\n+\t\t\t\t\t\t\t\tcolumn.setLength(53);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "233f7c4f47f007c7f7e279d7eafa3fe6a7ecfa8c"}, "originalPosition": 93}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzQ1ODUzOA==", "bodyText": "Proposed it to Pierre.\nWe decide to move it to xml parameter and set hidden", "url": "https://github.com/Talend/tdi-studio-se/pull/4363#discussion_r373458538", "createdAt": "2020-01-31T12:35:35Z", "author": {"login": "Voievidko"}, "path": "main/plugins/org.talend.designer.components.localprovider/components/templates/_tableActionForBulk.javajet", "diffHunk": "@@ -205,7 +206,33 @@ if (!isParallelize) {\n \t\t\t\t\t<%if(isLog4jEnabled_tableAction){%>\n \t\t\t\t\t\tlog.info(\"<%=cid%> - Creating table <%=manager.getLProtectedChar()%>\" + tableName_<%=cid%> + \"<%=manager.getRProtectedChar()%>.\");\n \t\t\t\t\t<%}%>\n-\t\t\t\t\tstmtCreate_<%=cid%>.execute(\"<%=manager.getCreateTableSQL(stmtStructure)%>)\");\n+\t\t\t\t\t<%\n+\t\t\t\t\tif (MSSQL.equalsIgnoreCase(dbmsId) && isDynamic){\n+\t\t\t\t\t%>\n+\t\t\t\t\t\troutines.system.Dynamic dynamicColumn = (Dynamic)globalMap.get(\"<%=dynamicComponentName%>\" + \"_DYNAMIC\");\n+\n+\t\t\t\t\t\t//This code should be in DynamicUtils class.\n+\t\t\t\t\t\tfor (DynamicMetadata column : dynamicColumn.metadatas){\n+\t\t\t\t\t\t\t//set maximum precision for double types\n+\t\t\t\t\t\t\t//in MSSQL double is float. Maximum precision is 53\n+\t\t\t\t\t\t\tif (column.getType().equals(\"id_Double\")){\n+\t\t\t\t\t\t\t\tcolumn.setLength(53);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTE1NDg4MQ=="}, "originalCommit": {"oid": "233f7c4f47f007c7f7e279d7eafa3fe6a7ecfa8c"}, "originalPosition": 93}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4591, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}