{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwNzMwNzI0", "number": 4714, "title": "fix(TDI-44174): Component manager is not thread safe", "bodyText": "this fixes the case when run as independent job is checked and the m2.repository automatically defaults to user's m2 in exported job.\nissue on singleton will be fix by component-runtime upgrade.\n\nhttps://jira.talendforge.org/browse/TDI-44174\nWhat is the current behavior? (You can also link to an open issue here)\nWhat is the new behavior?\nPlease check if the PR fulfills these requirements\n\n The commit message follows Talend standard\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features) ?\n The code coverage on new code >75%\n The new code does not introduce new technical issues (sonar / eslint)\n\nWhat kind of change does this PR introduce?\n\n Bugfix\n Feature\n Code style update (formatting, local variables)\n Refactoring (no functional changes, no api changes)\n Build / CI related changes\n Other... Please describe:\n\nDoes this PR introduce a breaking change?\n\n Yes\n No\n\nIf this PR contains a breaking change, please describe the impact and migration path for existing applications: ...\nOther information:", "createdAt": "2020-05-20T12:52:08Z", "url": "https://github.com/Talend/tdi-studio-se/pull/4714", "merged": true, "mergeCommit": {"oid": "09386aa8419f254425f90b44eaceb9704e154fe5"}, "closed": true, "closedAt": "2020-05-26T12:15:12Z", "author": {"login": "undx"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjIjVaAH2gAyNDIwNzMwNzI0OjU2MzM0N2E3MDU1YzA2ZDk5YTlkODc1MGFjMGU2ZjY4NDU5NGQxNzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclDkiLAFqTQxODIzNDU3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "563347a7055c06d99a9d8750ac0e6f684594d177", "author": {"user": {"login": "undx", "name": "Emmanuel GALLOIS"}}, "url": "https://github.com/Talend/tdi-studio-se/commit/563347a7055c06d99a9d8750ac0e6f684594d177", "committedDate": "2020-05-20T12:51:16Z", "message": "fix(TDI-44174): Component manager is not thread safe\n\n- this fixes the case when run as independent job is checked and the\n  m2.repository automatically defaults to user's m2 in exported job.\n- issue on singleton will be fix by component-runtime upgrade."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MDgzODAz", "url": "https://github.com/Talend/tdi-studio-se/pull/4714#pullrequestreview-418083803", "createdAt": "2020-05-26T08:35:46Z", "commit": {"oid": "563347a7055c06d99a9d8750ac0e6f684594d177"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwODozNTo0NlrOGaUKRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwODozNTo0NlrOGaUKRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI0NjQ3MQ==", "bodyText": "Should ensure this system property exists before use it\nString m2Repo = System.getProperty(\"...\"); if (m2Repo != null) ...", "url": "https://github.com/Talend/tdi-studio-se/pull/4714#discussion_r430246471", "createdAt": "2020-05-26T08:35:46Z", "author": {"login": "clesaec"}, "path": "main/plugins/org.talend.designer.components.localprovider/components/tRunJob/tRunJob_main.javajet", "diffHunk": "@@ -246,6 +246,7 @@ String inputConnName = null;\n \t    \t\t\t}\n \t\t  \t\t}\n \t\t  \t\t%>\n+\t\t  \t\tparaList_<%=cid %>.add(\"-Dtalend.component.manager.m2.repository=\" + System.getProperty(\"talend.component.manager.m2.repository\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "563347a7055c06d99a9d8750ac0e6f684594d177"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4cfb3b33efa36ec2a5c9e3fc20503e22bc9745a", "author": {"user": {"login": "undx", "name": "Emmanuel GALLOIS"}}, "url": "https://github.com/Talend/tdi-studio-se/commit/c4cfb3b33efa36ec2a5c9e3fc20503e22bc9745a", "committedDate": "2020-05-26T10:31:09Z", "message": "fix(TDI-44174): relocate correctly the property"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8295ccb685cb7d8f09bd34fb972f33f2963c2859", "author": {"user": {"login": "undx", "name": "Emmanuel GALLOIS"}}, "url": "https://github.com/Talend/tdi-studio-se/commit/8295ccb685cb7d8f09bd34fb972f33f2963c2859", "committedDate": "2020-05-26T12:06:01Z", "message": "fix(TDI-44174): pr comment fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MjMyNjIx", "url": "https://github.com/Talend/tdi-studio-se/pull/4714#pullrequestreview-418232621", "createdAt": "2020-05-26T12:08:15Z", "commit": {"oid": "8295ccb685cb7d8f09bd34fb972f33f2963c2859"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29e59829012a892a5d3692d9aa3475ab449cfdf1", "author": {"user": {"login": "undx", "name": "Emmanuel GALLOIS"}}, "url": "https://github.com/Talend/tdi-studio-se/commit/29e59829012a892a5d3692d9aa3475ab449cfdf1", "committedDate": "2020-05-26T12:08:27Z", "message": "fix(TDI-44174): formatting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MjM0NTc5", "url": "https://github.com/Talend/tdi-studio-se/pull/4714#pullrequestreview-418234579", "createdAt": "2020-05-26T12:10:54Z", "commit": {"oid": "29e59829012a892a5d3692d9aa3475ab449cfdf1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4612, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}