{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4NTA1MzMw", "number": 5572, "title": "feat(TUP-25346):tELTTeradataOutput - aliases are mandatory for calculated columns", "bodyText": "What is the current behavior? (You can also link to an open issue here)\nhttps://jira.talendforge.org/browse/TUP-25346\nWhat is the new behavior?\nPlease check if the PR fulfills these requirements\n\n The commit message follows Talend standard\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features) ?\n The code coverage on new code >75%\n The new code does not introduce new technical issues (sonar / eslint)\n\nWhat kind of change does this PR introduce?\n\n Bugfix\n Feature\n Code style update (formatting, local variables)\n Refactoring (no functional changes, no api changes)\n Build / CI related changes\n Other... Please describe:\n\nDoes this PR introduce a breaking change?\n\n Yes\n No\n\nIf this PR contains a breaking change, please describe the impact and migration path for existing applications: ...\nOther information:", "createdAt": "2020-11-27T09:45:29Z", "url": "https://github.com/Talend/tdi-studio-se/pull/5572", "merged": true, "mergeCommit": {"oid": "a1e453e79a60a7ea11606d081fc1b7b2247304ff"}, "closed": true, "closedAt": "2020-12-10T07:17:09Z", "author": {"login": "hcyi"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgjvLMgH2gAyNTI4NTA1MzMwOjhhMTNkYzEwMTNmNmYxOWVlNmRhZGM5OWM4ZGJlOWQ4MzNkZjQ1Y2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkuCV5AFqTU0ODkwODkwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8a13dc1013f6f19ee6dadc99c8dbe9d833df45cc", "author": {"user": {"login": "hcyi", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/8a13dc1013f6f19ee6dadc99c8dbe9d833df45cc", "committedDate": "2020-11-27T09:01:01Z", "message": "feat(TUP-25346):tELTTeradataOutput - aliases are mandatory for\ncalculated columns"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73c07c58f664fec326d58a536306040279aa4388", "author": {"user": {"login": "hcyi", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/73c07c58f664fec326d58a536306040279aa4388", "committedDate": "2020-11-27T09:03:46Z", "message": "Merge remote-tracking branch 'origin/maintenance/7.3' into hcyi/TUP-25346_7.3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ec341267e5a9881b832840f163a384b8a046c91", "author": {"user": {"login": "hcyi", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/3ec341267e5a9881b832840f163a384b8a046c91", "committedDate": "2020-11-30T11:17:09Z", "message": "feat(TUP-25346):add junits for calculated columns."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxNDMyMTgy", "url": "https://github.com/Talend/tdi-studio-se/pull/5572#pullrequestreview-541432182", "createdAt": "2020-12-01T01:56:02Z", "commit": {"oid": "3ec341267e5a9881b832840f163a384b8a046c91"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95dc78efdf1828462e3b2361b3d6b4cd9e7f9d82", "author": {"user": {"login": "hcyi", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/95dc78efdf1828462e3b2361b3d6b4cd9e7f9d82", "committedDate": "2020-12-07T02:14:14Z", "message": "feat(TUP-25346):NEW RULE for if output column name is different than\noutput db column."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d386781ccbedca1841a5bae06fe0c6ef8ed59ebe", "author": {"user": {"login": "hcyi", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/d386781ccbedca1841a5bae06fe0c6ef8ed59ebe", "committedDate": "2020-12-07T07:59:11Z", "message": "fix(TUP-29598):[BUG] The \"property setting\" setting is missing after\nmigrating data(TUP-25346)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70cd0cdf3a1fadb9e309eb46a2d207946a366956", "author": {"user": {"login": "hcyi", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/70cd0cdf3a1fadb9e309eb46a2d207946a366956", "committedDate": "2020-12-08T03:12:31Z", "message": "feat(TUP-25346):NEW RULE if checked the alias option\u3002"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "372fa17906b21ac0a7b76d060fe10eb587925169", "author": {"user": {"login": "hcyi", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/372fa17906b21ac0a7b76d060fe10eb587925169", "committedDate": "2020-12-08T09:53:07Z", "message": "fix(TUP-29636):[BUG] Studio does not support SQL scripts with alias when\nexecute update database(TUP-25346)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e06c1c29f7e2ff6bfd55f33272b9c2adfd18cdc6", "author": {"user": {"login": "hcyi", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/e06c1c29f7e2ff6bfd55f33272b9c2adfd18cdc6", "committedDate": "2020-12-08T09:58:49Z", "message": "Merge remote-tracking branch 'origin/maintenance/7.3' into\nhcyi/TUP-25346_7.3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95e72106479d74880099f7095a176fd0f6f5cd8d", "author": {"user": {"login": "hcyi", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/95e72106479d74880099f7095a176fd0f6f5cd8d", "committedDate": "2020-12-08T10:26:41Z", "message": "feat(TUP-25346):change the junits since NEW RULE if checked the alias\noption."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "240371cd0323067e15d67d43dc659a3b75015f98", "author": {"user": {"login": "hcyi", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/240371cd0323067e15d67d43dc659a3b75015f98", "committedDate": "2020-12-09T01:51:23Z", "message": "Merge remote-tracking branch 'origin/maintenance/7.3' into\nhcyi/TUP-25346_7.3"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3ODgyNTIz", "url": "https://github.com/Talend/tdi-studio-se/pull/5572#pullrequestreview-547882523", "createdAt": "2020-12-09T06:46:53Z", "commit": {"oid": "240371cd0323067e15d67d43dc659a3b75015f98"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwNjo0Njo1M1rOICFBFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwNjo0Njo1M1rOICFBFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTA1MDI2Mw==", "bodyText": "The alias feature is done only for teradata  , why you add junit for MSSQL ,MYSQL with alias support ?", "url": "https://github.com/Talend/tdi-studio-se/pull/5572#discussion_r539050263", "createdAt": "2020-12-09T06:46:53Z", "author": {"login": "wchen-talend"}, "path": "test/plugins/org.talend.designer.dbmap.test/src/org/talend/designer/dbmap/language/mssql/MssqlGenerationManagerTest.java", "diffHunk": "@@ -1110,4 +1109,38 @@ public void testELTMapCrossJoin() {\n                 + \"\\nWHERE\" + \"\\n  B.id = A.id\\n  AND  C.id = B.id\\\"\";\r\n         assertEquals(expectedQuery, query);\r\n     }\r\n+\r\n+    @Test\r\n+    public void testBuildSqlSelectWithColumnsAliasIfChecked() {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "240371cd0323067e15d67d43dc659a3b75015f98"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f24e86889c42bdc34f5ecf243b191c94cd35262f", "author": {"user": {"login": "hcyi", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/f24e86889c42bdc34f5ecf243b191c94cd35262f", "committedDate": "2020-12-09T07:15:18Z", "message": "feat(TUP-25346):remove some junits since no need."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3OTUxNDEx", "url": "https://github.com/Talend/tdi-studio-se/pull/5572#pullrequestreview-547951411", "createdAt": "2020-12-09T08:41:18Z", "commit": {"oid": "f24e86889c42bdc34f5ecf243b191c94cd35262f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwODo0MToxOFrOICIxHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwODo0MToxOFrOICIxHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTExMTcwOQ==", "bodyText": "better to correct the format", "url": "https://github.com/Talend/tdi-studio-se/pull/5572#discussion_r539111709", "createdAt": "2020-12-09T08:41:18Z", "author": {"login": "wwang-talend"}, "path": "main/plugins/org.talend.designer.components.localprovider/components/tELTTeradataOutput/tELTTeradataOutput_main.javajet", "diffHunk": "@@ -27,19 +37,23 @@ imports=\"\n \t    public String transform(String content){\r\n \t           String result = null;\r\n \t           content = content.trim();\r\n-\t           String[] splitArr = content.split(\"\\\\s\");\r\n-\t           int lgth = splitArr.length;\r\n-\t           if(lgth > 1){// has expr alias\r\n-\t             result = \"src.\" + splitArr[lgth - 1];\r\n-\t           }else{\r\n-\t             int index = content.indexOf(\".\");\r\n-\t             if(index != -1){\r\n-\t                 result = \"src\" + content.substring(index);\r\n-\t             }else{\r\n-\t                 result = content;\r\n-\t             }\r\n-\t           }\r\n-\t           return result;\r\n+\t          <% if(!useAlias){%>\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f24e86889c42bdc34f5ecf243b191c94cd35262f"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3OTYyOTcw", "url": "https://github.com/Talend/tdi-studio-se/pull/5572#pullrequestreview-547962970", "createdAt": "2020-12-09T08:56:15Z", "commit": {"oid": "f24e86889c42bdc34f5ecf243b191c94cd35262f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e3b76eacb2d63132b1c8aadb87602293215584e", "author": {"user": {"login": "hcyi", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/4e3b76eacb2d63132b1c8aadb87602293215584e", "committedDate": "2020-12-09T09:23:52Z", "message": "feat(TUP-25346):format the code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c53b4c2fb2c802c4c80cfe66912ca1661037d65", "author": {"user": {"login": "hcyi", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/5c53b4c2fb2c802c4c80cfe66912ca1661037d65", "committedDate": "2020-12-09T09:34:47Z", "message": "feat(TUP-25346):format the code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4OTA4OTA1", "url": "https://github.com/Talend/tdi-studio-se/pull/5572#pullrequestreview-548908905", "createdAt": "2020-12-10T07:16:42Z", "commit": {"oid": "5c53b4c2fb2c802c4c80cfe66912ca1661037d65"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4709, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}