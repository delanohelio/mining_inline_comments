{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyNjkwMDA4", "number": 4736, "title": "feat(TUP-27259)Change default driver to Microsoft official for MSSql in Metadata", "bodyText": "https://jira.talendforge.org/browse/TUP-27259\nWhat is the current behavior? (You can also link to an open issue here)\nWhat is the new behavior?\nPlease check if the PR fulfills these requirements\n\n The commit message follows Talend standard\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features) ?\n The code coverage on new code >75%\n The new code does not introduce new technical issues (sonar / eslint)\n\nWhat kind of change does this PR introduce?\n\n Bugfix\n Feature\n Code style update (formatting, local variables)\n Refactoring (no functional changes, no api changes)\n Build / CI related changes\n Other... Please describe:\n\nDoes this PR introduce a breaking change?\n\n Yes\n No\n\nIf this PR contains a breaking change, please describe the impact and migration path for existing applications: ...\nOther information:", "createdAt": "2020-05-25T11:00:34Z", "url": "https://github.com/Talend/tdi-studio-se/pull/4736", "merged": true, "mergeCommit": {"oid": "e20d0e57b5d6c1bd22aec4b672edbe0658125aac"}, "closed": true, "closedAt": "2020-06-05T01:22:10Z", "author": {"login": "jiezhang-tlnd"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABckt7uPgH2gAyNDIyNjkwMDA4OjBmZjNkYTkwNDdlMjk1MzA3N2U4YjU0OTAyZmEyNTBiNDQ2ZWExOTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcn5tBzAH2gAyNDIyNjkwMDA4OjZiOTNkNGJjYWQ0MDhlNWIxNTcwZjFiM2FhNjBmNjg1NmQ0YzdjNDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0ff3da9047e2953077e8b54902fa250b446ea196", "author": {"user": {"login": "jiezhang-tlnd", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/0ff3da9047e2953077e8b54902fa250b446ea196", "committedDate": "2020-05-25T10:58:19Z", "message": "feat(TUP-27259)Change default driver to Microsoft official for MSSql in\nMetadata\nhttps://jira.talendforge.org/browse/TUP-27259"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "deca31379f0ab8af52122b86710df261dd8ab521", "author": {"user": {"login": "jiezhang-tlnd", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/deca31379f0ab8af52122b86710df261dd8ab521", "committedDate": "2020-05-27T09:45:28Z", "message": "Merge remote-tracking branch 'origin/maintenance/7.3' into jzhang/feat/TUP-27259_Change_default_driver_to_Microsof"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80e1016ce85cb0dc49ddf6734fdf6d1d2098e9fb", "author": {"user": {"login": "jiezhang-tlnd", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/80e1016ce85cb0dc49ddf6734fdf6d1d2098e9fb", "committedDate": "2020-05-28T09:36:41Z", "message": "Update plugin.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96c4506d12ad54aba480be7a05558428bc416327", "author": {"user": {"login": "jiezhang-tlnd", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/96c4506d12ad54aba480be7a05558428bc416327", "committedDate": "2020-06-01T08:23:02Z", "message": "feat(TUP-27259)Change default driver to Microsoft official for MSSql in\nMetadata\nhttps://jira.talendforge.org/browse/TUP-27259"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "113df1320c7e39304c242697d607c9d03c1e70bb", "author": {"user": {"login": "jiezhang-tlnd", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/113df1320c7e39304c242697d607c9d03c1e70bb", "committedDate": "2020-06-02T03:20:13Z", "message": "Merge remote-tracking branch 'origin/maintenance/7.3' into jzhang/feat/TUP-27259_Change_default_driver_to_Microsof"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0MDYyNjI1", "url": "https://github.com/Talend/tdi-studio-se/pull/4736#pullrequestreview-424062625", "createdAt": "2020-06-04T02:38:40Z", "commit": {"oid": "113df1320c7e39304c242697d607c9d03c1e70bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwMjozODo0MFrOGez1Ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwMjozODo0MFrOGez1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk1OTY3MA==", "bodyText": "Better use EDatabaseTypeName instead of hard code here.\nDouble check :do we need any change for  MSSQL05_08 ?", "url": "https://github.com/Talend/tdi-studio-se/pull/4736#discussion_r434959670", "createdAt": "2020-06-04T02:38:40Z", "author": {"login": "wchen-talend"}, "path": "main/plugins/org.talend.repository/src/main/java/org/talend/repository/model/migration/ChangeMSSQLDBDefaultVersionMigrationTask.java", "diffHunk": "@@ -0,0 +1,76 @@\n+// ============================================================================\r\n+//\r\n+// Copyright (C) 2006-2020 Talend Inc. - www.talend.com\r\n+//\r\n+// This source code is available under agreement available at\r\n+// %InstallDIR%\\features\\org.talend.rcp.branding.%PRODUCTNAME%\\%PRODUCTNAME%license.txt\r\n+//\r\n+// You should have received a copy of the agreement\r\n+// along with this program; if not, write to Talend SA\r\n+// 9 rue Pages 92150 Suresnes, France\r\n+//\r\n+// ============================================================================\r\n+package org.talend.repository.model.migration;\r\n+\r\n+import java.util.ArrayList;\r\n+import java.util.Date;\r\n+import java.util.GregorianCalendar;\r\n+import java.util.List;\r\n+\r\n+import org.talend.commons.exception.PersistenceException;\r\n+import org.talend.commons.ui.runtime.exception.ExceptionHandler;\r\n+import org.talend.core.model.metadata.builder.connection.DatabaseConnection;\r\n+import org.talend.core.model.migration.AbstractItemMigrationTask;\r\n+import org.talend.core.model.properties.ConnectionItem;\r\n+import org.talend.core.model.properties.Item;\r\n+import org.talend.core.model.repository.ERepositoryObjectType;\r\n+import org.talend.core.repository.model.ProxyRepositoryFactory;\r\n+import org.talend.migration.IMigrationTask.ExecutionResult;\r\n+\r\n+\r\n+public class ChangeMSSQLDBDefaultVersionMigrationTask extends AbstractItemMigrationTask{\r\n+\r\n+    public final static String DEFAULT_VERSION = \"JTDS\";\r\n+\r\n+    @Override\r\n+    public Date getOrder() {\r\n+        GregorianCalendar gc = new GregorianCalendar(2020, 05, 25, 18, 0, 0);\r\n+        return gc.getTime();\r\n+    }\r\n+\r\n+    /*\r\n+     * (non-Javadoc)\r\n+     *\r\n+     * @see org.talend.core.model.migration.AbstractItemMigrationTask#execute(org.talend.core.model.properties.Item)\r\n+     */\r\n+    @Override\r\n+    public ExecutionResult execute(Item item) {\r\n+        ConnectionItem connectionItem = (ConnectionItem) item;\r\n+        DatabaseConnection connection = (DatabaseConnection) connectionItem.getConnection();\r\n+        if (connection != null) {\r\n+        if (connection.getDatabaseType().equals(\"Microsoft SQL Server\")) {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "113df1320c7e39304c242697d607c9d03c1e70bb"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3cb62b44d78988d8deffac18907749a47c99e3f9", "author": {"user": {"login": "jiezhang-tlnd", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/3cb62b44d78988d8deffac18907749a47c99e3f9", "committedDate": "2020-06-04T08:21:24Z", "message": "feat(TUP-27259)Change default driver to Microsoft official for MSSql in\nMetadata"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b93d4bcad408e5b1570f1b3aa60f6856d4c7c44", "author": {"user": {"login": "jiezhang-tlnd", "name": null}}, "url": "https://github.com/Talend/tdi-studio-se/commit/6b93d4bcad408e5b1570f1b3aa60f6856d4c7c44", "committedDate": "2020-06-04T08:22:54Z", "message": "Merge remote-tracking branch 'origin/maintenance/7.3' into jzhang/feat/TUP-27259_Change_default_driver_to_Microsof"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4697, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}