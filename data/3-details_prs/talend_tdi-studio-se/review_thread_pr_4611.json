{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxODAwNTA2", "number": 4611, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMTo0NjoyNVrODwuXGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMjoxODowM1rODwuxUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNDE3ODE2OnYy", "diffSide": "RIGHT", "path": "main/plugins/org.talend.designer.components.localprovider/components/tBoxList/tBoxList_begin.javajet", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMTo0NjoyNVrOGD4YTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMTo0NjoyNVrOGD4YTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjcyMjYzNw==", "bodyText": "is there a chance to use lang3 package.\nsimple lang is outdated please refer to https://mvnrepository.com/artifact/commons-lang/commons-lang", "url": "https://github.com/Talend/tdi-studio-se/pull/4611#discussion_r406722637", "createdAt": "2020-04-10T11:46:25Z", "author": {"login": "mbasiuk-talend"}, "path": "main/plugins/org.talend.designer.components.localprovider/components/tBoxList/tBoxList_begin.javajet", "diffHunk": "@@ -105,115 +105,79 @@ if(!\"true\".equals(useExistingConn)){\n     <%=cid%>_client.authenticate(new com.box.boxjavalibv2.dao.BoxOAuthToken(<%=cid%>_map));\n }\n <%\n-\t} else {\n+} else {\n %>\n \tcom.box.boxjavalibv2.BoxClient <%=cid%>_client = (com.box.boxjavalibv2.BoxClient)globalMap.get(<%=connectionKey%>);\n <%\n }\n %>\n \tString <%=cid%>_path = normalizePath(<%=path%>);\n-\tboolean <%=cid%>_hasError = false;\n-\tString <%=cid%>_name = getFolderFromPath(<%=cid%>_path);\n-\tcom.box.boxjavalibv2.dao.BoxFile <%=cid%>_boxFile = null;\n-\tcom.box.boxjavalibv2.dao.BoxFolder <%=cid%>_boxFolder = null;\n-\tif ((<%=cid%>_name.equals(\"All Files\") && (<%=cid%>_path.isEmpty() || <%=cid%>_path == null)))\n-\t{\n-\t\t<%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\",null);\t\n-\t}\n-\telse\n-\t{\n-\t\tcom.box.restclientv2.requestsbase.BoxDefaultRequestObject <%=cid%>_requestObject = new com.box.restclientv2.requestsbase.BoxDefaultRequestObject();\n-\t\t\tif (<%=cid%>_name.equals(\"All Files\") || <%=cid%>_path.equals(\"All Files\"))\n-\t\t\t{\n-\t\t\t\t<%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", null);\n-\t\t\t}\n-\t\t\telse\n-\t\t\t{\n-                String parentPath = normalizePath(<%=cid%>_path.replace(<%=cid%>_name, \"\"));\n-                \n-                <%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", <%=cid%>_requestObject);\n-                \n-                if (\"All Files\".equals(parentPath)) {\n-                    \n-                    for (com.box.boxjavalibv2.dao.BoxTypedObject <%=cid%>_boxTypedObject : <%=cid%>_boxFolder.getItemCollection().getEntries()) {\n-                        if (<%=cid%>_boxTypedObject.getValue(\"name\").equals(<%=cid%>_name)) {\n-                            if (\"folder\".equals(<%=cid%>_boxTypedObject.getType())) {\n-                                <%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(<%=cid%>_boxTypedObject.getId(), <%=cid%>_requestObject);\n-                            } else {\n-                                <%=cid%>_boxFile = <%=cid%>_client.getFilesManager().getFile(<%=cid%>_boxTypedObject.getId(),<%=cid%>_requestObject);\n-                            }\n-                        }\n-                    }\n-\n-                } else {\n-\n-                    List<String> <%=cid%>_paths = new java.util.ArrayList<String>(java.util.Arrays.asList(parentPath.split(\"/\")));\n+\tcom.box.boxjavalibv2.dao.BoxFolder <%=cid%>_rootFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", null);\n+\tcom.box.boxjavalibv2.dao.BoxItem <%=cid%>_boxItem;\n \n-                    <%=cid%>_boxFolder = getBoxFolderRecursively(<%=cid%>_paths, <%=cid%>_boxFolder, <%=cid%>_client);\n-                }\n-\t\t\t}\n+\tif (org.apache.commons.lang.StringUtils.substringBefore(<%=cid%>_path, \"/\").equals(\"All Files\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "568684118ae37c0f452fe00276beab7136211da7"}, "originalPosition": 106}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNDE4ODYzOnYy", "diffSide": "RIGHT", "path": "main/plugins/org.talend.designer.components.localprovider/components/tBoxList/tBoxList_begin.javajet", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMTo1MTozNVrOGD4eGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMTo1MTozNVrOGD4eGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjcyNDEyMQ==", "bodyText": "you can omit value in second diamond (<>), just to simplify the code.", "url": "https://github.com/Talend/tdi-studio-se/pull/4611#discussion_r406724121", "createdAt": "2020-04-10T11:51:35Z", "author": {"login": "mbasiuk-talend"}, "path": "main/plugins/org.talend.designer.components.localprovider/components/tBoxList/tBoxList_begin.javajet", "diffHunk": "@@ -105,115 +105,79 @@ if(!\"true\".equals(useExistingConn)){\n     <%=cid%>_client.authenticate(new com.box.boxjavalibv2.dao.BoxOAuthToken(<%=cid%>_map));\n }\n <%\n-\t} else {\n+} else {\n %>\n \tcom.box.boxjavalibv2.BoxClient <%=cid%>_client = (com.box.boxjavalibv2.BoxClient)globalMap.get(<%=connectionKey%>);\n <%\n }\n %>\n \tString <%=cid%>_path = normalizePath(<%=path%>);\n-\tboolean <%=cid%>_hasError = false;\n-\tString <%=cid%>_name = getFolderFromPath(<%=cid%>_path);\n-\tcom.box.boxjavalibv2.dao.BoxFile <%=cid%>_boxFile = null;\n-\tcom.box.boxjavalibv2.dao.BoxFolder <%=cid%>_boxFolder = null;\n-\tif ((<%=cid%>_name.equals(\"All Files\") && (<%=cid%>_path.isEmpty() || <%=cid%>_path == null)))\n-\t{\n-\t\t<%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\",null);\t\n-\t}\n-\telse\n-\t{\n-\t\tcom.box.restclientv2.requestsbase.BoxDefaultRequestObject <%=cid%>_requestObject = new com.box.restclientv2.requestsbase.BoxDefaultRequestObject();\n-\t\t\tif (<%=cid%>_name.equals(\"All Files\") || <%=cid%>_path.equals(\"All Files\"))\n-\t\t\t{\n-\t\t\t\t<%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", null);\n-\t\t\t}\n-\t\t\telse\n-\t\t\t{\n-                String parentPath = normalizePath(<%=cid%>_path.replace(<%=cid%>_name, \"\"));\n-                \n-                <%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", <%=cid%>_requestObject);\n-                \n-                if (\"All Files\".equals(parentPath)) {\n-                    \n-                    for (com.box.boxjavalibv2.dao.BoxTypedObject <%=cid%>_boxTypedObject : <%=cid%>_boxFolder.getItemCollection().getEntries()) {\n-                        if (<%=cid%>_boxTypedObject.getValue(\"name\").equals(<%=cid%>_name)) {\n-                            if (\"folder\".equals(<%=cid%>_boxTypedObject.getType())) {\n-                                <%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(<%=cid%>_boxTypedObject.getId(), <%=cid%>_requestObject);\n-                            } else {\n-                                <%=cid%>_boxFile = <%=cid%>_client.getFilesManager().getFile(<%=cid%>_boxTypedObject.getId(),<%=cid%>_requestObject);\n-                            }\n-                        }\n-                    }\n-\n-                } else {\n-\n-                    List<String> <%=cid%>_paths = new java.util.ArrayList<String>(java.util.Arrays.asList(parentPath.split(\"/\")));\n+\tcom.box.boxjavalibv2.dao.BoxFolder <%=cid%>_rootFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", null);\n+\tcom.box.boxjavalibv2.dao.BoxItem <%=cid%>_boxItem;\n \n-                    <%=cid%>_boxFolder = getBoxFolderRecursively(<%=cid%>_paths, <%=cid%>_boxFolder, <%=cid%>_client);\n-                }\n-\t\t\t}\n+\tif (org.apache.commons.lang.StringUtils.substringBefore(<%=cid%>_path, \"/\").equals(\"All Files\")) {\n+\t\tList<String> <%=cid%>_pathItems = new java.util.ArrayList<String>(java.util.Arrays.asList(<%=cid%>_path.split(\"/\")));\n+\t\t<%=cid%>_pathItems.remove(0);\n+\t\ttry {\n+\t\t\t<%=cid%>_boxItem = getBoxItemRecursively(<%=cid%>_pathItems, <%=cid%>_rootFolder, <%=cid%>_client);\n+\t\t} catch (Exception e) {\n+\t\t\tthrow new Exception(\"<%=cid%> - \" + \"The path to file or directory was not found in \" + <%=cid%>_path, e);\n+\t\t}\n+\t} else {\n+\t\tthrow new Exception(\"<%=cid%> - \" + \"The path to file or directory was not found in \" + <%=cid%>_path);\n \t}\n \n-\tif (<%=cid%>_boxFile == null && <%=cid%>_boxFolder == null)\n-\t{\n-\t\tthrow new Exception(\"<%=cid%> - \" + \"No file or directory found in \" + <%=path%>);\n-\t}\n-\telse if (<%=cid%>_boxFolder != null)\n-\t{\n-\t\tjava.util.List<com.box.boxjavalibv2.dao.BoxItem>  <%=cid%>_children = new java.util.ArrayList<com.box.boxjavalibv2.dao.BoxItem>();\n-<%if(includeSubDirectories){%>\n-\t<%if(filelistType.equalsIgnoreCase(\"Directories\")){%>\n-\t\t<%=cid%>_children = getChildrenRecursively(<%=cid%>_client, <%=cid%>_boxFolder, <%=cid%>_children, true, false);\n-\t<%} else if (filelistType.equalsIgnoreCase(\"Files\")){%>\t\t\n-\t\t<%=cid%>_children = getChildrenRecursively(<%=cid%>_client, <%=cid%>_boxFolder, <%=cid%>_children, false, true);\n-\t<%} else {%>\n-\t\t<%=cid%>_children = getChildrenRecursively(<%=cid%>_client, <%=cid%>_boxFolder, <%=cid%>_children, true, true);\n-\t<%}%>\n-<%}%>\n-<%else{%>\n-\t\tfor (com.box.boxjavalibv2.dao.BoxTypedObject obj : <%=cid%>_boxFolder.getItemCollection().getEntries())\n-\t\t{\n-\t<%if(filelistType.equalsIgnoreCase(\"Directories\")){%>\n-\t\t\tif(obj.getType().equals(\"folder\"))\n+\tjava.util.List<com.box.boxjavalibv2.dao.BoxItem>  <%=cid%>_items = new java.util.ArrayList<com.box.boxjavalibv2.dao.BoxItem>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "568684118ae37c0f452fe00276beab7136211da7"}, "originalPosition": 139}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNDIzNTc2OnYy", "diffSide": "RIGHT", "path": "main/plugins/org.talend.designer.components.localprovider/components/tBoxList/tBoxList_begin.javajet", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMjoxMzoyNFrOGD45Gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMjo1NTozMlrOGD5viw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjczMTAzNA==", "bodyText": "What if root folder was specified incorrectly?", "url": "https://github.com/Talend/tdi-studio-se/pull/4611#discussion_r406731034", "createdAt": "2020-04-10T12:13:24Z", "author": {"login": "mbasiuk-talend"}, "path": "main/plugins/org.talend.designer.components.localprovider/components/tBoxList/tBoxList_begin.javajet", "diffHunk": "@@ -105,115 +105,79 @@ if(!\"true\".equals(useExistingConn)){\n     <%=cid%>_client.authenticate(new com.box.boxjavalibv2.dao.BoxOAuthToken(<%=cid%>_map));\n }\n <%\n-\t} else {\n+} else {\n %>\n \tcom.box.boxjavalibv2.BoxClient <%=cid%>_client = (com.box.boxjavalibv2.BoxClient)globalMap.get(<%=connectionKey%>);\n <%\n }\n %>\n \tString <%=cid%>_path = normalizePath(<%=path%>);\n-\tboolean <%=cid%>_hasError = false;\n-\tString <%=cid%>_name = getFolderFromPath(<%=cid%>_path);\n-\tcom.box.boxjavalibv2.dao.BoxFile <%=cid%>_boxFile = null;\n-\tcom.box.boxjavalibv2.dao.BoxFolder <%=cid%>_boxFolder = null;\n-\tif ((<%=cid%>_name.equals(\"All Files\") && (<%=cid%>_path.isEmpty() || <%=cid%>_path == null)))\n-\t{\n-\t\t<%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\",null);\t\n-\t}\n-\telse\n-\t{\n-\t\tcom.box.restclientv2.requestsbase.BoxDefaultRequestObject <%=cid%>_requestObject = new com.box.restclientv2.requestsbase.BoxDefaultRequestObject();\n-\t\t\tif (<%=cid%>_name.equals(\"All Files\") || <%=cid%>_path.equals(\"All Files\"))\n-\t\t\t{\n-\t\t\t\t<%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", null);\n-\t\t\t}\n-\t\t\telse\n-\t\t\t{\n-                String parentPath = normalizePath(<%=cid%>_path.replace(<%=cid%>_name, \"\"));\n-                \n-                <%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", <%=cid%>_requestObject);\n-                \n-                if (\"All Files\".equals(parentPath)) {\n-                    \n-                    for (com.box.boxjavalibv2.dao.BoxTypedObject <%=cid%>_boxTypedObject : <%=cid%>_boxFolder.getItemCollection().getEntries()) {\n-                        if (<%=cid%>_boxTypedObject.getValue(\"name\").equals(<%=cid%>_name)) {\n-                            if (\"folder\".equals(<%=cid%>_boxTypedObject.getType())) {\n-                                <%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(<%=cid%>_boxTypedObject.getId(), <%=cid%>_requestObject);\n-                            } else {\n-                                <%=cid%>_boxFile = <%=cid%>_client.getFilesManager().getFile(<%=cid%>_boxTypedObject.getId(),<%=cid%>_requestObject);\n-                            }\n-                        }\n-                    }\n-\n-                } else {\n-\n-                    List<String> <%=cid%>_paths = new java.util.ArrayList<String>(java.util.Arrays.asList(parentPath.split(\"/\")));\n+\tcom.box.boxjavalibv2.dao.BoxFolder <%=cid%>_rootFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", null);\n+\tcom.box.boxjavalibv2.dao.BoxItem <%=cid%>_boxItem;\n \n-                    <%=cid%>_boxFolder = getBoxFolderRecursively(<%=cid%>_paths, <%=cid%>_boxFolder, <%=cid%>_client);\n-                }\n-\t\t\t}\n+\tif (org.apache.commons.lang.StringUtils.substringBefore(<%=cid%>_path, \"/\").equals(\"All Files\")) {\n+\t\tList<String> <%=cid%>_pathItems = new java.util.ArrayList<String>(java.util.Arrays.asList(<%=cid%>_path.split(\"/\")));\n+\t\t<%=cid%>_pathItems.remove(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "568684118ae37c0f452fe00276beab7136211da7"}, "originalPosition": 108}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjczMTM3Mg==", "bodyText": "/root/someFolder   vs /usr/someFolder ?\nFirst element is removed from list, and someFolder == someFolder ?", "url": "https://github.com/Talend/tdi-studio-se/pull/4611#discussion_r406731372", "createdAt": "2020-04-10T12:14:28Z", "author": {"login": "mbasiuk-talend"}, "path": "main/plugins/org.talend.designer.components.localprovider/components/tBoxList/tBoxList_begin.javajet", "diffHunk": "@@ -105,115 +105,79 @@ if(!\"true\".equals(useExistingConn)){\n     <%=cid%>_client.authenticate(new com.box.boxjavalibv2.dao.BoxOAuthToken(<%=cid%>_map));\n }\n <%\n-\t} else {\n+} else {\n %>\n \tcom.box.boxjavalibv2.BoxClient <%=cid%>_client = (com.box.boxjavalibv2.BoxClient)globalMap.get(<%=connectionKey%>);\n <%\n }\n %>\n \tString <%=cid%>_path = normalizePath(<%=path%>);\n-\tboolean <%=cid%>_hasError = false;\n-\tString <%=cid%>_name = getFolderFromPath(<%=cid%>_path);\n-\tcom.box.boxjavalibv2.dao.BoxFile <%=cid%>_boxFile = null;\n-\tcom.box.boxjavalibv2.dao.BoxFolder <%=cid%>_boxFolder = null;\n-\tif ((<%=cid%>_name.equals(\"All Files\") && (<%=cid%>_path.isEmpty() || <%=cid%>_path == null)))\n-\t{\n-\t\t<%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\",null);\t\n-\t}\n-\telse\n-\t{\n-\t\tcom.box.restclientv2.requestsbase.BoxDefaultRequestObject <%=cid%>_requestObject = new com.box.restclientv2.requestsbase.BoxDefaultRequestObject();\n-\t\t\tif (<%=cid%>_name.equals(\"All Files\") || <%=cid%>_path.equals(\"All Files\"))\n-\t\t\t{\n-\t\t\t\t<%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", null);\n-\t\t\t}\n-\t\t\telse\n-\t\t\t{\n-                String parentPath = normalizePath(<%=cid%>_path.replace(<%=cid%>_name, \"\"));\n-                \n-                <%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", <%=cid%>_requestObject);\n-                \n-                if (\"All Files\".equals(parentPath)) {\n-                    \n-                    for (com.box.boxjavalibv2.dao.BoxTypedObject <%=cid%>_boxTypedObject : <%=cid%>_boxFolder.getItemCollection().getEntries()) {\n-                        if (<%=cid%>_boxTypedObject.getValue(\"name\").equals(<%=cid%>_name)) {\n-                            if (\"folder\".equals(<%=cid%>_boxTypedObject.getType())) {\n-                                <%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(<%=cid%>_boxTypedObject.getId(), <%=cid%>_requestObject);\n-                            } else {\n-                                <%=cid%>_boxFile = <%=cid%>_client.getFilesManager().getFile(<%=cid%>_boxTypedObject.getId(),<%=cid%>_requestObject);\n-                            }\n-                        }\n-                    }\n-\n-                } else {\n-\n-                    List<String> <%=cid%>_paths = new java.util.ArrayList<String>(java.util.Arrays.asList(parentPath.split(\"/\")));\n+\tcom.box.boxjavalibv2.dao.BoxFolder <%=cid%>_rootFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", null);\n+\tcom.box.boxjavalibv2.dao.BoxItem <%=cid%>_boxItem;\n \n-                    <%=cid%>_boxFolder = getBoxFolderRecursively(<%=cid%>_paths, <%=cid%>_boxFolder, <%=cid%>_client);\n-                }\n-\t\t\t}\n+\tif (org.apache.commons.lang.StringUtils.substringBefore(<%=cid%>_path, \"/\").equals(\"All Files\")) {\n+\t\tList<String> <%=cid%>_pathItems = new java.util.ArrayList<String>(java.util.Arrays.asList(<%=cid%>_path.split(\"/\")));\n+\t\t<%=cid%>_pathItems.remove(0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjczMTAzNA=="}, "originalCommit": {"oid": "568684118ae37c0f452fe00276beab7136211da7"}, "originalPosition": 108}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc0NDk3MQ==", "bodyText": "As i understand the root folder at remote Box storage is \"All Files\". Root folder creates by default and I didn't found way to change it name. So root folder always \"All Files\". I check name of root folder at 118 row and if user specify another name for root folder an exception will be thrown.", "url": "https://github.com/Talend/tdi-studio-se/pull/4611#discussion_r406744971", "createdAt": "2020-04-10T12:55:32Z", "author": {"login": "OleksiiNimych"}, "path": "main/plugins/org.talend.designer.components.localprovider/components/tBoxList/tBoxList_begin.javajet", "diffHunk": "@@ -105,115 +105,79 @@ if(!\"true\".equals(useExistingConn)){\n     <%=cid%>_client.authenticate(new com.box.boxjavalibv2.dao.BoxOAuthToken(<%=cid%>_map));\n }\n <%\n-\t} else {\n+} else {\n %>\n \tcom.box.boxjavalibv2.BoxClient <%=cid%>_client = (com.box.boxjavalibv2.BoxClient)globalMap.get(<%=connectionKey%>);\n <%\n }\n %>\n \tString <%=cid%>_path = normalizePath(<%=path%>);\n-\tboolean <%=cid%>_hasError = false;\n-\tString <%=cid%>_name = getFolderFromPath(<%=cid%>_path);\n-\tcom.box.boxjavalibv2.dao.BoxFile <%=cid%>_boxFile = null;\n-\tcom.box.boxjavalibv2.dao.BoxFolder <%=cid%>_boxFolder = null;\n-\tif ((<%=cid%>_name.equals(\"All Files\") && (<%=cid%>_path.isEmpty() || <%=cid%>_path == null)))\n-\t{\n-\t\t<%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\",null);\t\n-\t}\n-\telse\n-\t{\n-\t\tcom.box.restclientv2.requestsbase.BoxDefaultRequestObject <%=cid%>_requestObject = new com.box.restclientv2.requestsbase.BoxDefaultRequestObject();\n-\t\t\tif (<%=cid%>_name.equals(\"All Files\") || <%=cid%>_path.equals(\"All Files\"))\n-\t\t\t{\n-\t\t\t\t<%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", null);\n-\t\t\t}\n-\t\t\telse\n-\t\t\t{\n-                String parentPath = normalizePath(<%=cid%>_path.replace(<%=cid%>_name, \"\"));\n-                \n-                <%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", <%=cid%>_requestObject);\n-                \n-                if (\"All Files\".equals(parentPath)) {\n-                    \n-                    for (com.box.boxjavalibv2.dao.BoxTypedObject <%=cid%>_boxTypedObject : <%=cid%>_boxFolder.getItemCollection().getEntries()) {\n-                        if (<%=cid%>_boxTypedObject.getValue(\"name\").equals(<%=cid%>_name)) {\n-                            if (\"folder\".equals(<%=cid%>_boxTypedObject.getType())) {\n-                                <%=cid%>_boxFolder = <%=cid%>_client.getFoldersManager().getFolder(<%=cid%>_boxTypedObject.getId(), <%=cid%>_requestObject);\n-                            } else {\n-                                <%=cid%>_boxFile = <%=cid%>_client.getFilesManager().getFile(<%=cid%>_boxTypedObject.getId(),<%=cid%>_requestObject);\n-                            }\n-                        }\n-                    }\n-\n-                } else {\n-\n-                    List<String> <%=cid%>_paths = new java.util.ArrayList<String>(java.util.Arrays.asList(parentPath.split(\"/\")));\n+\tcom.box.boxjavalibv2.dao.BoxFolder <%=cid%>_rootFolder = <%=cid%>_client.getFoldersManager().getFolder(\"0\", null);\n+\tcom.box.boxjavalibv2.dao.BoxItem <%=cid%>_boxItem;\n \n-                    <%=cid%>_boxFolder = getBoxFolderRecursively(<%=cid%>_paths, <%=cid%>_boxFolder, <%=cid%>_client);\n-                }\n-\t\t\t}\n+\tif (org.apache.commons.lang.StringUtils.substringBefore(<%=cid%>_path, \"/\").equals(\"All Files\")) {\n+\t\tList<String> <%=cid%>_pathItems = new java.util.ArrayList<String>(java.util.Arrays.asList(<%=cid%>_path.split(\"/\")));\n+\t\t<%=cid%>_pathItems.remove(0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjczMTAzNA=="}, "originalCommit": {"oid": "568684118ae37c0f452fe00276beab7136211da7"}, "originalPosition": 108}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNDI0NTI5OnYy", "diffSide": "LEFT", "path": "main/plugins/org.talend.designer.components.localprovider/components/tBoxList/tBoxList_end.javajet", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMjoxODowM1rOGD4-pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMzowMDowOFrOGD52DA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjczMjQ1NA==", "bodyText": "it's hard to catch were it's missing. Be very careful.", "url": "https://github.com/Talend/tdi-studio-se/pull/4611#discussion_r406732454", "createdAt": "2020-04-10T12:18:03Z", "author": {"login": "mbasiuk-talend"}, "path": "main/plugins/org.talend.designer.components.localprovider/components/tBoxList/tBoxList_end.javajet", "diffHunk": "@@ -16,7 +16,6 @@\n %>\n     }\n \t\t\n-}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "568684118ae37c0f452fe00276beab7136211da7"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc0NjYzNg==", "bodyText": "This is a closing bracket of else if condition at https://github.com/Talend/tdi-studio-se/blob/master/main/plugins/org.talend.designer.components.localprovider/components/tBoxList/tBoxList_begin.javajet#L161-L162", "url": "https://github.com/Talend/tdi-studio-se/pull/4611#discussion_r406746636", "createdAt": "2020-04-10T13:00:08Z", "author": {"login": "OleksiiNimych"}, "path": "main/plugins/org.talend.designer.components.localprovider/components/tBoxList/tBoxList_end.javajet", "diffHunk": "@@ -16,7 +16,6 @@\n %>\n     }\n \t\t\n-}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjczMjQ1NA=="}, "originalCommit": {"oid": "568684118ae37c0f452fe00276beab7136211da7"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4537, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}