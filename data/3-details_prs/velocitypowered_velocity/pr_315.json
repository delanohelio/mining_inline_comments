{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2ODU2MTgw", "number": 315, "title": "Implement legacy forwarding BungeeGuard handshake support", "bodyText": "", "createdAt": "2020-06-02T22:12:20Z", "url": "https://github.com/VelocityPowered/Velocity/pull/315", "merged": true, "mergeCommit": {"oid": "e3084e21a7b0c3c2853e0c6e66ef1d7b544ea77e"}, "closed": true, "closedAt": "2020-06-02T23:36:24Z", "author": {"login": "lucko"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcncfpLAFqTQyMzA5NDc0NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcndkjVAFqTQyMzEyNTk5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMDk0NzQ0", "url": "https://github.com/VelocityPowered/Velocity/pull/315#pullrequestreview-423094744", "createdAt": "2020-06-02T22:15:44Z", "commit": {"oid": "6eb9a66e0f3fded72166852b71ebf74e0afb456b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQyMjoxNTo0NFrOGeFyJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQyMjoyMDoyOFrOGeF44Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDIwNTIyMw==", "bodyText": "Shorten to BUNGEEGUARD", "url": "https://github.com/VelocityPowered/Velocity/pull/315#discussion_r434205223", "createdAt": "2020-06-02T22:15:44Z", "author": {"login": "astei"}, "path": "proxy/src/main/java/com/velocitypowered/proxy/config/PlayerInfoForwarding.java", "diffHunk": "@@ -3,5 +3,6 @@\n public enum PlayerInfoForwarding {\n   NONE,\n   LEGACY,\n+  LEGACY_BUNGEEGUARD,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6eb9a66e0f3fded72166852b71ebf74e0afb456b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDIwNjIwNA==", "bodyText": "I'd prefer a description closer to this:\n\"bungeeguard\": Forward player IPs and UUIDs in a format supported by\n               the BungeeGuard plugin. Use this if you run servers\n               using Minecraft 1.12 and below, are on a shared\n               host, and would like to use BungeeGuard to provide\n               additional security.\n\nI'd prefer if this was made a bit more concise, though.", "url": "https://github.com/VelocityPowered/Velocity/pull/315#discussion_r434206204", "createdAt": "2020-06-02T22:18:25Z", "author": {"login": "astei"}, "path": "proxy/src/main/java/com/velocitypowered/proxy/config/VelocityConfiguration.java", "diffHunk": "@@ -61,6 +61,8 @@\n       \"            proxy and will have offline-mode UUIDs.\",\n       \"- \\\"legacy\\\": Forward player IPs and UUIDs in a BungeeCord-compatible format. Use this if\",\n       \"            you run servers using Minecraft 1.12 or lower.\",\n+      \"- \\\"legacy_bungeeguard\\\": Forward player IPs and UUIDs in a BungeeCord-compatible format.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6eb9a66e0f3fded72166852b71ebf74e0afb456b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDIwNjk0NQ==", "bodyText": "Instead of duplicating createLegacyForwardingAddress(), perhaps we can make this more generic by refactoring createLegacyForwardingAddress() to allow the list of profile properties to vary.", "url": "https://github.com/VelocityPowered/Velocity/pull/315#discussion_r434206945", "createdAt": "2020-06-02T22:20:28Z", "author": {"login": "astei"}, "path": "proxy/src/main/java/com/velocitypowered/proxy/connection/backend/VelocityServerConnection.java", "diffHunk": "@@ -133,6 +137,24 @@ private String createLegacyForwardingAddress() {\n     return data.toString();\n   }\n \n+  private String createBungeeGuardForwardingAddress(byte[] forwardingSecret) {\n+    StringBuilder data = new StringBuilder()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6eb9a66e0f3fded72166852b71ebf74e0afb456b"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMTA2NDA2", "url": "https://github.com/VelocityPowered/Velocity/pull/315#pullrequestreview-423106406", "createdAt": "2020-06-02T22:43:54Z", "commit": {"oid": "0c05652b0e7cfe1e7bd66129bb5beb74b5086703"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70abda9c5bf4cccd2cf52a58936c1a25cf5cad48", "author": {"user": {"login": "lucko", "name": "lucko"}}, "url": "https://github.com/VelocityPowered/Velocity/commit/70abda9c5bf4cccd2cf52a58936c1a25cf5cad48", "committedDate": "2020-06-02T22:48:42Z", "message": "Implement legacy forwarding BungeeGuard handshake support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0c05652b0e7cfe1e7bd66129bb5beb74b5086703", "author": {"user": {"login": "lucko", "name": "lucko"}}, "url": "https://github.com/VelocityPowered/Velocity/commit/0c05652b0e7cfe1e7bd66129bb5beb74b5086703", "committedDate": "2020-06-02T22:41:33Z", "message": "Reduce duplicated code, change option name, change config description"}, "afterCommit": {"oid": "70abda9c5bf4cccd2cf52a58936c1a25cf5cad48", "author": {"user": {"login": "lucko", "name": "lucko"}}, "url": "https://github.com/VelocityPowered/Velocity/commit/70abda9c5bf4cccd2cf52a58936c1a25cf5cad48", "committedDate": "2020-06-02T22:48:42Z", "message": "Implement legacy forwarding BungeeGuard handshake support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cd9f081c3a7187d1d88d5e6396a526ad9fe1759", "author": {"user": {"login": "lucko", "name": "lucko"}}, "url": "https://github.com/VelocityPowered/Velocity/commit/2cd9f081c3a7187d1d88d5e6396a526ad9fe1759", "committedDate": "2020-06-02T23:32:27Z", "message": "Merge branch 'dev/1.1.0' into feature/bungeeguard"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c563372ffdd69a1276ca352eb4d03798d9876df7", "author": {"user": {"login": "lucko", "name": "lucko"}}, "url": "https://github.com/VelocityPowered/Velocity/commit/c563372ffdd69a1276ca352eb4d03798d9876df7", "committedDate": "2020-06-02T23:35:04Z", "message": "Remove unnecessary imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMTI1OTk4", "url": "https://github.com/VelocityPowered/Velocity/pull/315#pullrequestreview-423125998", "createdAt": "2020-06-02T23:36:18Z", "commit": {"oid": "c563372ffdd69a1276ca352eb4d03798d9876df7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 708, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}