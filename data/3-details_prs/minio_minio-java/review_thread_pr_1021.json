{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5ODE0NjQx", "number": 1021, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwMzozMzoyM1rOEO8viQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwNDo1NDo1OFrOEO9lvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0MTEwNzI5OnYy", "diffSide": "RIGHT", "path": "functional/FunctionalTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwMzozMzoyM1rOGyY2cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwMzo1ODoxOFrOGyZPDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ4OTEzOQ==", "bodyText": "Can we remove this environment variable? Since this is a breaking change or should we keep this for backward compatibility?", "url": "https://github.com/minio/minio-java/pull/1021#discussion_r455489139", "createdAt": "2020-07-16T03:33:23Z", "author": {"login": "kannappanr"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -3558,9 +3559,8 @@ public static void main(String[] args) throws Exception {\n     } else {\n       kmsKeyName = System.getenv(\"MINIO_JAVA_TEST_KMS_KEY_NAME\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8284d7a458b7a50ec5853506e21d54056694cf5"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ5NTQzOQ==", "bodyText": "I don't why it is useful though @kannappanr", "url": "https://github.com/minio/minio-java/pull/1021#discussion_r455495439", "createdAt": "2020-07-16T03:58:18Z", "author": {"login": "harshavardhana"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -3558,9 +3559,8 @@ public static void main(String[] args) throws Exception {\n     } else {\n       kmsKeyName = System.getenv(\"MINIO_JAVA_TEST_KMS_KEY_NAME\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ4OTEzOQ=="}, "originalCommit": {"oid": "f8284d7a458b7a50ec5853506e21d54056694cf5"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0MTI0NTI1OnYy", "diffSide": "LEFT", "path": "functional/FunctionalTest.java", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwNDo1NDoyMFrOGyaFXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwNjoxOTowNlrOGybmZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTM0Mg==", "bodyText": "Any reason for removing this?", "url": "https://github.com/minio/minio-java/pull/1021#discussion_r455509342", "createdAt": "2020-07-16T04:54:20Z", "author": {"login": "balamurugana"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -3558,9 +3559,8 @@ public static void main(String[] args) throws Exception {\n     } else {\n       kmsKeyName = System.getenv(\"MINIO_JAVA_TEST_KMS_KEY_NAME\");\n       if (kmsKeyName == null) {\n-        kmsKeyName = System.getenv(\"MINT_KEY_ID\");\n+        kmsKeyName = System.getenv(\"MINT_KMS_KEY_NAME\");\n       }\n-      sqsArn = System.getenv(\"MINIO_JAVA_TEST_SQS_ARN\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2cf3027efbaeaad20c0beb49d51643df18e90ca"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUxMDg5OA==", "bodyText": "There is no purpose for this @balamurugana - can you explain why this exists?", "url": "https://github.com/minio/minio-java/pull/1021#discussion_r455510898", "createdAt": "2020-07-16T05:00:30Z", "author": {"login": "harshavardhana"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -3558,9 +3559,8 @@ public static void main(String[] args) throws Exception {\n     } else {\n       kmsKeyName = System.getenv(\"MINIO_JAVA_TEST_KMS_KEY_NAME\");\n       if (kmsKeyName == null) {\n-        kmsKeyName = System.getenv(\"MINT_KEY_ID\");\n+        kmsKeyName = System.getenv(\"MINT_KMS_KEY_NAME\");\n       }\n-      sqsArn = System.getenv(\"MINIO_JAVA_TEST_SQS_ARN\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTM0Mg=="}, "originalCommit": {"oid": "e2cf3027efbaeaad20c0beb49d51643df18e90ca"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUxNDkzNw==", "bodyText": "It is needed when running functional tests manually ./gradlew runFunctionalTest -Pendpoint=ENDPOINT -PaccessKey=ACCESSKEY -PsecretKey=SECRETKEY -Pregion=REGION; otherwise tests depend on sqsArn wouldn't run. There is no code without its purpose.", "url": "https://github.com/minio/minio-java/pull/1021#discussion_r455514937", "createdAt": "2020-07-16T05:16:16Z", "author": {"login": "balamurugana"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -3558,9 +3559,8 @@ public static void main(String[] args) throws Exception {\n     } else {\n       kmsKeyName = System.getenv(\"MINIO_JAVA_TEST_KMS_KEY_NAME\");\n       if (kmsKeyName == null) {\n-        kmsKeyName = System.getenv(\"MINT_KEY_ID\");\n+        kmsKeyName = System.getenv(\"MINT_KMS_KEY_NAME\");\n       }\n-      sqsArn = System.getenv(\"MINIO_JAVA_TEST_SQS_ARN\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTM0Mg=="}, "originalCommit": {"oid": "e2cf3027efbaeaad20c0beb49d51643df18e90ca"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUyODM2NA==", "bodyText": "Are you expecting users to know all of this run functional tests?", "url": "https://github.com/minio/minio-java/pull/1021#discussion_r455528364", "createdAt": "2020-07-16T06:01:42Z", "author": {"login": "harshavardhana"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -3558,9 +3559,8 @@ public static void main(String[] args) throws Exception {\n     } else {\n       kmsKeyName = System.getenv(\"MINIO_JAVA_TEST_KMS_KEY_NAME\");\n       if (kmsKeyName == null) {\n-        kmsKeyName = System.getenv(\"MINT_KEY_ID\");\n+        kmsKeyName = System.getenv(\"MINT_KMS_KEY_NAME\");\n       }\n-      sqsArn = System.getenv(\"MINIO_JAVA_TEST_SQS_ARN\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTM0Mg=="}, "originalCommit": {"oid": "e2cf3027efbaeaad20c0beb49d51643df18e90ca"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUzMTA3Mg==", "bodyText": "Yes. In fact users never run functional tests, but developers do. If a developer is indented to test minio-java himself apart from CI, he has an option to do so. Also note that, Mint runs functional tests to test minio server by this way.", "url": "https://github.com/minio/minio-java/pull/1021#discussion_r455531072", "createdAt": "2020-07-16T06:10:04Z", "author": {"login": "balamurugana"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -3558,9 +3559,8 @@ public static void main(String[] args) throws Exception {\n     } else {\n       kmsKeyName = System.getenv(\"MINIO_JAVA_TEST_KMS_KEY_NAME\");\n       if (kmsKeyName == null) {\n-        kmsKeyName = System.getenv(\"MINT_KEY_ID\");\n+        kmsKeyName = System.getenv(\"MINT_KMS_KEY_NAME\");\n       }\n-      sqsArn = System.getenv(\"MINIO_JAVA_TEST_SQS_ARN\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTM0Mg=="}, "originalCommit": {"oid": "e2cf3027efbaeaad20c0beb49d51643df18e90ca"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUzNDE4MA==", "bodyText": "Yes but this is completely wrong,  one way is env, and another way is command line. It looks clunky way to test things. Why have this option in the first place?", "url": "https://github.com/minio/minio-java/pull/1021#discussion_r455534180", "createdAt": "2020-07-16T06:19:06Z", "author": {"login": "harshavardhana"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -3558,9 +3559,8 @@ public static void main(String[] args) throws Exception {\n     } else {\n       kmsKeyName = System.getenv(\"MINIO_JAVA_TEST_KMS_KEY_NAME\");\n       if (kmsKeyName == null) {\n-        kmsKeyName = System.getenv(\"MINT_KEY_ID\");\n+        kmsKeyName = System.getenv(\"MINT_KMS_KEY_NAME\");\n       }\n-      sqsArn = System.getenv(\"MINIO_JAVA_TEST_SQS_ARN\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTM0Mg=="}, "originalCommit": {"oid": "e2cf3027efbaeaad20c0beb49d51643df18e90ca"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0MTI0NjA3OnYy", "diffSide": "LEFT", "path": "functional/FunctionalTest.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwNDo1NDo1OFrOGyaF8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwNjowMjowN1rOGybQMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTQ4OQ==", "bodyText": "Are you sure the env is changed from \"MINT_KEY_ID\" to \"MINT_KMS_KEY_NAME\"?", "url": "https://github.com/minio/minio-java/pull/1021#discussion_r455509489", "createdAt": "2020-07-16T04:54:58Z", "author": {"login": "balamurugana"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -3558,9 +3559,8 @@ public static void main(String[] args) throws Exception {\n     } else {\n       kmsKeyName = System.getenv(\"MINIO_JAVA_TEST_KMS_KEY_NAME\");\n       if (kmsKeyName == null) {\n-        kmsKeyName = System.getenv(\"MINT_KEY_ID\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2cf3027efbaeaad20c0beb49d51643df18e90ca"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUxMDc4Mg==", "bodyText": "there is no MINT_KEY_ID env in mint @balamurugana - I just added this to make sure we keep it the same as MINIO_JAVA_TEST_KMS_KEY_NAME", "url": "https://github.com/minio/minio-java/pull/1021#discussion_r455510782", "createdAt": "2020-07-16T05:00:05Z", "author": {"login": "harshavardhana"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -3558,9 +3559,8 @@ public static void main(String[] args) throws Exception {\n     } else {\n       kmsKeyName = System.getenv(\"MINIO_JAVA_TEST_KMS_KEY_NAME\");\n       if (kmsKeyName == null) {\n-        kmsKeyName = System.getenv(\"MINT_KEY_ID\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTQ4OQ=="}, "originalCommit": {"oid": "e2cf3027efbaeaad20c0beb49d51643df18e90ca"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUxNDA1NQ==", "bodyText": "MINT_KEY_ID was introduced in #694 and available since last two years. Do you say it was a mistake in the PR?", "url": "https://github.com/minio/minio-java/pull/1021#discussion_r455514055", "createdAt": "2020-07-16T05:12:54Z", "author": {"login": "balamurugana"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -3558,9 +3559,8 @@ public static void main(String[] args) throws Exception {\n     } else {\n       kmsKeyName = System.getenv(\"MINIO_JAVA_TEST_KMS_KEY_NAME\");\n       if (kmsKeyName == null) {\n-        kmsKeyName = System.getenv(\"MINT_KEY_ID\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTQ4OQ=="}, "originalCommit": {"oid": "e2cf3027efbaeaad20c0beb49d51643df18e90ca"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUyODQ5Ng==", "bodyText": "Yes it is not at all present in mint, it has been long removed.", "url": "https://github.com/minio/minio-java/pull/1021#discussion_r455528496", "createdAt": "2020-07-16T06:02:07Z", "author": {"login": "harshavardhana"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -3558,9 +3559,8 @@ public static void main(String[] args) throws Exception {\n     } else {\n       kmsKeyName = System.getenv(\"MINIO_JAVA_TEST_KMS_KEY_NAME\");\n       if (kmsKeyName == null) {\n-        kmsKeyName = System.getenv(\"MINT_KEY_ID\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTQ4OQ=="}, "originalCommit": {"oid": "e2cf3027efbaeaad20c0beb49d51643df18e90ca"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 588, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}