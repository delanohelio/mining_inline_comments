{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyMTc5MTU3", "number": 998, "title": "Return higher level object GetObjectResponse for getObject API", "bodyText": "", "createdAt": "2020-06-30T17:16:23Z", "url": "https://github.com/minio/minio-java/pull/998", "merged": true, "mergeCommit": {"oid": "88d4e704cb587aeaa7ee19612c1e940419228f89"}, "closed": true, "closedAt": "2020-07-08T05:22:49Z", "author": {"login": "balamurugana"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwmea6AFqTQ0MDY4Mjc1Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyzbVxgFqTQ0NDQxOTIwNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNjgyNzU2", "url": "https://github.com/minio/minio-java/pull/998#pullrequestreview-440682756", "createdAt": "2020-07-01T09:04:05Z", "commit": {"oid": "5c9b52003fddef544c3c81ad20c4f1fadfc88625"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6a3aeefdb1f833c8fdb3642604a636330b74e76", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/d6a3aeefdb1f833c8fdb3642604a636330b74e76", "committedDate": "2020-07-02T04:59:45Z", "message": "Return higher level object GetObjectResponse for getObject API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5c9b52003fddef544c3c81ad20c4f1fadfc88625", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/5c9b52003fddef544c3c81ad20c4f1fadfc88625", "committedDate": "2020-06-30T17:14:24Z", "message": "Return higher level object GetObjectResponse for getObject API"}, "afterCommit": {"oid": "d6a3aeefdb1f833c8fdb3642604a636330b74e76", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/d6a3aeefdb1f833c8fdb3642604a636330b74e76", "committedDate": "2020-07-02T04:59:45Z", "message": "Return higher level object GetObjectResponse for getObject API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxODcwMjky", "url": "https://github.com/minio/minio-java/pull/998#pullrequestreview-441870292", "createdAt": "2020-07-02T16:55:30Z", "commit": {"oid": "d6a3aeefdb1f833c8fdb3642604a636330b74e76"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNjo1NTozMFrOGsV9RQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNjo1NTozMFrOGsV9RQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTE1MDI3Nw==", "bodyText": "Why not extend from GenericResponse and have just one instance variable for InputStream body ?", "url": "https://github.com/minio/minio-java/pull/998#discussion_r449150277", "createdAt": "2020-07-02T16:55:30Z", "author": {"login": "anjalshireesh"}, "path": "api/src/main/java/io/minio/GetObjectResponse.java", "diffHunk": "@@ -0,0 +1,103 @@\n+/*\n+ * MinIO Java SDK for Amazon S3 Compatible Cloud Storage, (C) 2020 MinIO, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.minio;\n+\n+import java.io.IOException;\n+import java.io.InputStream;\n+import okhttp3.Headers;\n+\n+public class GetObjectResponse extends InputStream {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6a3aeefdb1f833c8fdb3642604a636330b74e76"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMzI3MDU1", "url": "https://github.com/minio/minio-java/pull/998#pullrequestreview-442327055", "createdAt": "2020-07-03T10:46:33Z", "commit": {"oid": "d6a3aeefdb1f833c8fdb3642604a636330b74e76"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMDo0NjozNFrOGssYBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMDo0ODo0OVrOGssb2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTUxNzU3Mw==", "bodyText": "Backward compatibility with the previous return type of the method - understood \ud83d\udc4d\nIn that case, may I suggest to remove all the wrapper methods that call the same method on the response object, and expect the client to call response() method to get the object of BaseResponse and then use it to get further details? We can also consider making the GenericResponse non-abstract and using it directly.", "url": "https://github.com/minio/minio-java/pull/998#discussion_r449517573", "createdAt": "2020-07-03T10:46:34Z", "author": {"login": "anjalshireesh"}, "path": "api/src/main/java/io/minio/GetObjectResponse.java", "diffHunk": "@@ -0,0 +1,103 @@\n+/*\n+ * MinIO Java SDK for Amazon S3 Compatible Cloud Storage, (C) 2020 MinIO, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.minio;\n+\n+import java.io.IOException;\n+import java.io.InputStream;\n+import okhttp3.Headers;\n+\n+public class GetObjectResponse extends InputStream {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTE1MDI3Nw=="}, "originalCommit": {"oid": "d6a3aeefdb1f833c8fdb3642604a636330b74e76"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTUxODU1NA==", "bodyText": "GetObjectResponse can extend from BufferedInputStream and then call super(body) here inside the constructor.\nWith this, The class would authentically become an InputStream and would not need to store the body variable and write wrapper methods for it.", "url": "https://github.com/minio/minio-java/pull/998#discussion_r449518554", "createdAt": "2020-07-03T10:48:49Z", "author": {"login": "anjalshireesh"}, "path": "api/src/main/java/io/minio/GetObjectResponse.java", "diffHunk": "@@ -0,0 +1,103 @@\n+/*\n+ * MinIO Java SDK for Amazon S3 Compatible Cloud Storage, (C) 2020 MinIO, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.minio;\n+\n+import java.io.IOException;\n+import java.io.InputStream;\n+import okhttp3.Headers;\n+\n+public class GetObjectResponse extends InputStream {\n+  private BaseResponse response;\n+  private InputStream body;\n+\n+  public GetObjectResponse(\n+      Headers headers, String bucket, String region, String object, InputStream body) {\n+    this.response = new BaseResponse(headers, bucket, region, object);\n+    this.body = body;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6a3aeefdb1f833c8fdb3642604a636330b74e76"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e31a6d717891d018af8aadb8b507b007615756b", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/6e31a6d717891d018af8aadb8b507b007615756b", "committedDate": "2020-07-03T13:39:54Z", "message": "address review comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c08b372f75b303dd6406a597b3a29d7c98ae8ff7", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/c08b372f75b303dd6406a597b3a29d7c98ae8ff7", "committedDate": "2020-07-03T13:36:46Z", "message": "address review comments"}, "afterCommit": {"oid": "6e31a6d717891d018af8aadb8b507b007615756b", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/6e31a6d717891d018af8aadb8b507b007615756b", "committedDate": "2020-07-03T13:39:54Z", "message": "address review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNDM5Mzc3", "url": "https://github.com/minio/minio-java/pull/998#pullrequestreview-442439377", "createdAt": "2020-07-03T14:12:14Z", "commit": {"oid": "6e31a6d717891d018af8aadb8b507b007615756b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NDE5MjA0", "url": "https://github.com/minio/minio-java/pull/998#pullrequestreview-444419204", "createdAt": "2020-07-08T05:17:19Z", "commit": {"oid": "6e31a6d717891d018af8aadb8b507b007615756b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1945, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}