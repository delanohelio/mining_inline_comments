{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc0ODIwNjgx", "number": 844, "title": "optimize putObject() to avoid reading data for known object size", "bodyText": "", "createdAt": "2020-02-13T11:39:25Z", "url": "https://github.com/minio/minio-java/pull/844", "merged": true, "mergeCommit": {"oid": "957885dd45702d614dd60ecdf25d97330e7cd56b"}, "closed": true, "closedAt": "2020-03-19T18:50:38Z", "author": {"login": "balamurugana"}, "timelineItems": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcEI7nQABqjMwMzc1MjM2MDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPQh7QgFqTM3ODAwMjk0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8bfd63c106a22e4fdf5bf1be1e0bf5f2a0a9b285", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/8bfd63c106a22e4fdf5bf1be1e0bf5f2a0a9b285", "committedDate": "2020-02-13T11:37:45Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "f86aac6d785af8f89f4bb0b1ce4679932abaeeec", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/f86aac6d785af8f89f4bb0b1ce4679932abaeeec", "committedDate": "2020-02-14T05:45:52Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f86aac6d785af8f89f4bb0b1ce4679932abaeeec", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/f86aac6d785af8f89f4bb0b1ce4679932abaeeec", "committedDate": "2020-02-14T05:45:52Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "5e1409e264f5b73ecd030737b8a46e5aa57b5726", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/5e1409e264f5b73ecd030737b8a46e5aa57b5726", "committedDate": "2020-02-14T14:59:44Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5e1409e264f5b73ecd030737b8a46e5aa57b5726", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/5e1409e264f5b73ecd030737b8a46e5aa57b5726", "committedDate": "2020-02-14T14:59:44Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "c3f01aa7b77fcd17582a1637a931e3d7511c65e3", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/c3f01aa7b77fcd17582a1637a931e3d7511c65e3", "committedDate": "2020-02-15T01:28:45Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c3f01aa7b77fcd17582a1637a931e3d7511c65e3", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/c3f01aa7b77fcd17582a1637a931e3d7511c65e3", "committedDate": "2020-02-15T01:28:45Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "7891a19de4a14ebf20b08de3abe15e92d22cf3d2", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/7891a19de4a14ebf20b08de3abe15e92d22cf3d2", "committedDate": "2020-02-15T01:51:06Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7891a19de4a14ebf20b08de3abe15e92d22cf3d2", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/7891a19de4a14ebf20b08de3abe15e92d22cf3d2", "committedDate": "2020-02-15T01:51:06Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "3af8457e30cf7c0bb280043fb4d9890de896c75f", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/3af8457e30cf7c0bb280043fb4d9890de896c75f", "committedDate": "2020-02-15T02:19:34Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwODYxNTgw", "url": "https://github.com/minio/minio-java/pull/844#pullrequestreview-360861580", "createdAt": "2020-02-19T06:09:55Z", "commit": {"oid": "564766d44baee332b6456ed190e830c14854f05a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwNjowOTo1NVrOFrcHBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwNjowOTo1NVrOFrcHBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTA5MzYzNg==", "bodyText": "can we have few tests with partSize set to specific numbers  e.g. here with new PutObjectOptions(9 * MB, 3)", "url": "https://github.com/minio/minio-java/pull/844#discussion_r381093636", "createdAt": "2020-02-19T06:09:55Z", "author": {"login": "nitisht"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -1623,7 +1656,7 @@ public static void listIncompleteUploads_test1() throws Exception {\n     try {\n       String objectName = getRandomName();\n       try (final InputStream is = new ContentInputStream(6 * MB)) {\n-        client.putObject(bucketName, objectName, is, Long.valueOf( 9 * MB), null, null, nullContentType);\n+        client.putObject(bucketName, objectName, is, new PutObjectOptions(9 * MB, -1));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "564766d44baee332b6456ed190e830c14854f05a"}, "originalPosition": 337}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "564766d44baee332b6456ed190e830c14854f05a", "author": {"user": {"login": "nitisht", "name": "Nitish Tiwari"}}, "url": "https://github.com/minio/minio-java/commit/564766d44baee332b6456ed190e830c14854f05a", "committedDate": "2020-02-19T03:55:28Z", "message": "Merge branch 'master' into optimize-putObject-to-avoid-reading-data-for-known-object-size"}, "afterCommit": {"oid": "b44e0db2f945695a880b24d4389639d6c502c5e8", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/b44e0db2f945695a880b24d4389639d6c502c5e8", "committedDate": "2020-02-20T14:16:51Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNTQ2MDIz", "url": "https://github.com/minio/minio-java/pull/844#pullrequestreview-362546023", "createdAt": "2020-02-21T10:49:13Z", "commit": {"oid": "b44e0db2f945695a880b24d4389639d6c502c5e8"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b44e0db2f945695a880b24d4389639d6c502c5e8", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/b44e0db2f945695a880b24d4389639d6c502c5e8", "committedDate": "2020-02-20T14:16:51Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "2a93e3cfa8a48c58e9ca9cd5290a018bd5904932", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/2a93e3cfa8a48c58e9ca9cd5290a018bd5904932", "committedDate": "2020-02-22T02:54:29Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMTA1NDEz", "url": "https://github.com/minio/minio-java/pull/844#pullrequestreview-363105413", "createdAt": "2020-02-23T16:06:49Z", "commit": {"oid": "2a93e3cfa8a48c58e9ca9cd5290a018bd5904932"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2a93e3cfa8a48c58e9ca9cd5290a018bd5904932", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/2a93e3cfa8a48c58e9ca9cd5290a018bd5904932", "committedDate": "2020-02-22T02:54:29Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "66870f3057c0ad4cd3c21b2bb1f5853805241f7a", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/66870f3057c0ad4cd3c21b2bb1f5853805241f7a", "committedDate": "2020-03-06T14:31:00Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "66870f3057c0ad4cd3c21b2bb1f5853805241f7a", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/66870f3057c0ad4cd3c21b2bb1f5853805241f7a", "committedDate": "2020-03-06T14:31:00Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "0822114438ee36ef0b79dc7c388b1aaa3eb019a0", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/0822114438ee36ef0b79dc7c388b1aaa3eb019a0", "committedDate": "2020-03-09T05:59:50Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0822114438ee36ef0b79dc7c388b1aaa3eb019a0", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/0822114438ee36ef0b79dc7c388b1aaa3eb019a0", "committedDate": "2020-03-09T05:59:50Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "59b58a54f62e7a6d8687d9c5e946ffa919b8ffa1", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/59b58a54f62e7a6d8687d9c5e946ffa919b8ffa1", "committedDate": "2020-03-09T07:16:10Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "59b58a54f62e7a6d8687d9c5e946ffa919b8ffa1", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/59b58a54f62e7a6d8687d9c5e946ffa919b8ffa1", "committedDate": "2020-03-09T07:16:10Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "8eacaf2100c75ea861ade0656a91efe2168ee43b", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/8eacaf2100c75ea861ade0656a91efe2168ee43b", "committedDate": "2020-03-13T04:00:17Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8eacaf2100c75ea861ade0656a91efe2168ee43b", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/8eacaf2100c75ea861ade0656a91efe2168ee43b", "committedDate": "2020-03-13T04:00:17Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "4c1f547ffaa659a7c8941949489ecd7cb286bfb6", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/4c1f547ffaa659a7c8941949489ecd7cb286bfb6", "committedDate": "2020-03-14T10:45:55Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4c1f547ffaa659a7c8941949489ecd7cb286bfb6", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/4c1f547ffaa659a7c8941949489ecd7cb286bfb6", "committedDate": "2020-03-14T10:45:55Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "24c2eebaf9589a59382d6e9ccb4d6646d47543ce", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/24c2eebaf9589a59382d6e9ccb4d6646d47543ce", "committedDate": "2020-03-15T18:31:52Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "24c2eebaf9589a59382d6e9ccb4d6646d47543ce", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/24c2eebaf9589a59382d6e9ccb4d6646d47543ce", "committedDate": "2020-03-15T18:31:52Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "fa188b2a4bd610573ed2f5b953f418d79a68e393", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/fa188b2a4bd610573ed2f5b953f418d79a68e393", "committedDate": "2020-03-15T18:32:56Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0ODI1MDA1", "url": "https://github.com/minio/minio-java/pull/844#pullrequestreview-374825005", "createdAt": "2020-03-15T19:07:10Z", "commit": {"oid": "fa188b2a4bd610573ed2f5b953f418d79a68e393"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQxOTowNzoxMFrOF2gqvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQxOTowNzoxMFrOF2gqvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjcwMjY1Mg==", "bodyText": "Content-Type is passed as part of options' header will be overwritten by this. Is this the expected behavior?", "url": "https://github.com/minio/minio-java/pull/844#discussion_r392702652", "createdAt": "2020-03-15T19:07:10Z", "author": {"login": "kannappanr"}, "path": "api/src/main/java/io/minio/MinioClient.java", "diffHunk": "@@ -4163,9 +4163,7 @@ private void putObject(\n       headerMap.putAll(options.sse().headers());\n     }\n \n-    if (headerMap.get(\"Content-Type\") == null) {\n-      headerMap.put(\"Content-Type\", options.contentType());\n-    }\n+    headerMap.put(\"Content-Type\", options.contentType());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa188b2a4bd610573ed2f5b953f418d79a68e393"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1MzcxMTQz", "url": "https://github.com/minio/minio-java/pull/844#pullrequestreview-375371143", "createdAt": "2020-03-16T16:17:04Z", "commit": {"oid": "fa188b2a4bd610573ed2f5b953f418d79a68e393"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fa188b2a4bd610573ed2f5b953f418d79a68e393", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/fa188b2a4bd610573ed2f5b953f418d79a68e393", "committedDate": "2020-03-15T18:32:56Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "c19d4bb7d6d6528d6e51ecde1fdb8032a6e15a53", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/c19d4bb7d6d6528d6e51ecde1fdb8032a6e15a53", "committedDate": "2020-03-18T03:47:10Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3NjI5MzMy", "url": "https://github.com/minio/minio-java/pull/844#pullrequestreview-377629332", "createdAt": "2020-03-19T11:22:35Z", "commit": {"oid": "c19d4bb7d6d6528d6e51ecde1fdb8032a6e15a53"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6ce2c7d77152870c52ecd1b3498f97ec6ff5253", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/a6ce2c7d77152870c52ecd1b3498f97ec6ff5253", "committedDate": "2020-03-19T16:32:55Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c19d4bb7d6d6528d6e51ecde1fdb8032a6e15a53", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/c19d4bb7d6d6528d6e51ecde1fdb8032a6e15a53", "committedDate": "2020-03-18T03:47:10Z", "message": "optimize putObject() to avoid reading data for known object size"}, "afterCommit": {"oid": "a6ce2c7d77152870c52ecd1b3498f97ec6ff5253", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/a6ce2c7d77152870c52ecd1b3498f97ec6ff5253", "committedDate": "2020-03-19T16:32:55Z", "message": "optimize putObject() to avoid reading data for known object size"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3ODk3Mjgy", "url": "https://github.com/minio/minio-java/pull/844#pullrequestreview-377897282", "createdAt": "2020-03-19T16:38:14Z", "commit": {"oid": "a6ce2c7d77152870c52ecd1b3498f97ec6ff5253"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4MDAyOTQ2", "url": "https://github.com/minio/minio-java/pull/844#pullrequestreview-378002946", "createdAt": "2020-03-19T18:50:29Z", "commit": {"oid": "a6ce2c7d77152870c52ecd1b3498f97ec6ff5253"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1963, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}