{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyNTEwODQ1", "number": 900, "title": "handle accelerate and dual-stack aws endpoints", "bodyText": "Fixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899\nFixes #926", "createdAt": "2020-04-13T07:17:49Z", "url": "https://github.com/minio/minio-java/pull/900", "merged": true, "mergeCommit": {"oid": "9f74b730dc139d247f0f510c846abf2a06ba44bd"}, "closed": true, "closedAt": "2020-05-22T05:18:08Z", "author": {"login": "balamurugana"}, "timelineItems": {"totalCount": 31, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXJnp8ABqjMyMjYxODcyNjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjrNBDAFqTQxNjY1MjA2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f8467274346aba07b33c279031c4e21bf5e16811", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/f8467274346aba07b33c279031c4e21bf5e16811", "committedDate": "2020-04-13T07:16:47Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}, "afterCommit": {"oid": "eb37d7fd0ea3ea7e55d8dc78fc6dd0d1207a7cdc", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/eb37d7fd0ea3ea7e55d8dc78fc6dd0d1207a7cdc", "committedDate": "2020-04-13T07:18:35Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eb37d7fd0ea3ea7e55d8dc78fc6dd0d1207a7cdc", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/eb37d7fd0ea3ea7e55d8dc78fc6dd0d1207a7cdc", "committedDate": "2020-04-13T07:18:35Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}, "afterCommit": {"oid": "4f5d3353cf2058f3d0bd9f625bdb4af3ce50be5b", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/4f5d3353cf2058f3d0bd9f625bdb4af3ce50be5b", "committedDate": "2020-04-13T08:22:10Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4f5d3353cf2058f3d0bd9f625bdb4af3ce50be5b", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/4f5d3353cf2058f3d0bd9f625bdb4af3ce50be5b", "committedDate": "2020-04-13T08:22:10Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}, "afterCommit": {"oid": "c2df96786887fe9c68a85105219b28713cd6ac21", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/c2df96786887fe9c68a85105219b28713cd6ac21", "committedDate": "2020-04-13T08:59:07Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c2df96786887fe9c68a85105219b28713cd6ac21", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/c2df96786887fe9c68a85105219b28713cd6ac21", "committedDate": "2020-04-13T08:59:07Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}, "afterCommit": {"oid": "44347308c3b36e8bec9ac9473ac1910d1d8e73a3", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/44347308c3b36e8bec9ac9473ac1910d1d8e73a3", "committedDate": "2020-04-13T10:30:43Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "44347308c3b36e8bec9ac9473ac1910d1d8e73a3", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/44347308c3b36e8bec9ac9473ac1910d1d8e73a3", "committedDate": "2020-04-13T10:30:43Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}, "afterCommit": {"oid": "d5d14fcfa9bab615878fcac04f9940e2b1be9d60", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/d5d14fcfa9bab615878fcac04f9940e2b1be9d60", "committedDate": "2020-04-13T10:42:33Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d5d14fcfa9bab615878fcac04f9940e2b1be9d60", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/d5d14fcfa9bab615878fcac04f9940e2b1be9d60", "committedDate": "2020-04-13T10:42:33Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}, "afterCommit": {"oid": "4291b770b1c0205c6ffa2f50d7c2a5e90b1680db", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/4291b770b1c0205c6ffa2f50d7c2a5e90b1680db", "committedDate": "2020-04-13T10:54:42Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4291b770b1c0205c6ffa2f50d7c2a5e90b1680db", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/4291b770b1c0205c6ffa2f50d7c2a5e90b1680db", "committedDate": "2020-04-13T10:54:42Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}, "afterCommit": {"oid": "870891d18ec331eeec3c31b18edb6b0ccd9e84b9", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/870891d18ec331eeec3c31b18edb6b0ccd9e84b9", "committedDate": "2020-04-13T11:57:13Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "870891d18ec331eeec3c31b18edb6b0ccd9e84b9", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/870891d18ec331eeec3c31b18edb6b0ccd9e84b9", "committedDate": "2020-04-13T11:57:13Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893, #894, #895, #897, #899"}, "afterCommit": {"oid": "4b013507e3565b1b8527bdb740cda9d4cc353231", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/4b013507e3565b1b8527bdb740cda9d4cc353231", "committedDate": "2020-04-13T12:04:32Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b013507e3565b1b8527bdb740cda9d4cc353231", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/4b013507e3565b1b8527bdb740cda9d4cc353231", "committedDate": "2020-04-13T12:04:32Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "a42417e2e6188ee2c52405f3c12d352e068ac303", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/a42417e2e6188ee2c52405f3c12d352e068ac303", "committedDate": "2020-04-13T12:08:18Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a42417e2e6188ee2c52405f3c12d352e068ac303", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/a42417e2e6188ee2c52405f3c12d352e068ac303", "committedDate": "2020-04-13T12:08:18Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "1fff8432b18a859c4a5a63e086924f400de12fe5", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/1fff8432b18a859c4a5a63e086924f400de12fe5", "committedDate": "2020-04-14T14:08:29Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzMzk0NzQ3", "url": "https://github.com/minio/minio-java/pull/900#pullrequestreview-393394747", "createdAt": "2020-04-15T01:11:29Z", "commit": {"oid": "1fff8432b18a859c4a5a63e086924f400de12fe5"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzNDI2NTg4", "url": "https://github.com/minio/minio-java/pull/900#pullrequestreview-393426588", "createdAt": "2020-04-15T03:04:38Z", "commit": {"oid": "1fff8432b18a859c4a5a63e086924f400de12fe5"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1fff8432b18a859c4a5a63e086924f400de12fe5", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/1fff8432b18a859c4a5a63e086924f400de12fe5", "committedDate": "2020-04-14T14:08:29Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "ee90822fcf90e703a2cf5892fe3022075a22c83d", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/ee90822fcf90e703a2cf5892fe3022075a22c83d", "committedDate": "2020-04-21T14:20:56Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ee90822fcf90e703a2cf5892fe3022075a22c83d", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/ee90822fcf90e703a2cf5892fe3022075a22c83d", "committedDate": "2020-04-21T14:20:56Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "b889b8e149342df6b0678cb41a577bb6166a7107", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/b889b8e149342df6b0678cb41a577bb6166a7107", "committedDate": "2020-04-21T15:09:59Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b889b8e149342df6b0678cb41a577bb6166a7107", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/b889b8e149342df6b0678cb41a577bb6166a7107", "committedDate": "2020-04-21T15:09:59Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "b2e971bef64dc72b04879a410d9e2b97edef30d1", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/b2e971bef64dc72b04879a410d9e2b97edef30d1", "committedDate": "2020-04-27T11:19:08Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b2e971bef64dc72b04879a410d9e2b97edef30d1", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/b2e971bef64dc72b04879a410d9e2b97edef30d1", "committedDate": "2020-04-27T11:19:08Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "b84ca9841e52e8911c17a1c3cd107941e3ac028d", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/b84ca9841e52e8911c17a1c3cd107941e3ac028d", "committedDate": "2020-05-02T04:49:40Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b84ca9841e52e8911c17a1c3cd107941e3ac028d", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/b84ca9841e52e8911c17a1c3cd107941e3ac028d", "committedDate": "2020-05-02T04:49:40Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "c8cd33f21e8641b0ce1bd20746a87c4acb8c1fd7", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/c8cd33f21e8641b0ce1bd20746a87c4acb8c1fd7", "committedDate": "2020-05-06T08:08:43Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c8cd33f21e8641b0ce1bd20746a87c4acb8c1fd7", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/c8cd33f21e8641b0ce1bd20746a87c4acb8c1fd7", "committedDate": "2020-05-06T08:08:43Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "ce1251d02b18e405d0949a992cd7290aac46f2e7", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/ce1251d02b18e405d0949a992cd7290aac46f2e7", "committedDate": "2020-05-13T18:40:03Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ce1251d02b18e405d0949a992cd7290aac46f2e7", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/ce1251d02b18e405d0949a992cd7290aac46f2e7", "committedDate": "2020-05-13T18:40:03Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "f496927ff3a237d051ce6333778b12962775f575", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/f496927ff3a237d051ce6333778b12962775f575", "committedDate": "2020-05-13T18:43:34Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f496927ff3a237d051ce6333778b12962775f575", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/f496927ff3a237d051ce6333778b12962775f575", "committedDate": "2020-05-13T18:43:34Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "ba3a6ac6ab16d461acf54ec9af881da1a8606b17", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/ba3a6ac6ab16d461acf54ec9af881da1a8606b17", "committedDate": "2020-05-19T14:58:43Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ba3a6ac6ab16d461acf54ec9af881da1a8606b17", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/ba3a6ac6ab16d461acf54ec9af881da1a8606b17", "committedDate": "2020-05-19T14:58:43Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "4204167b5794f9dbe1db504b778cf338b4c4d9a9", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/4204167b5794f9dbe1db504b778cf338b4c4d9a9", "committedDate": "2020-05-19T16:24:23Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4204167b5794f9dbe1db504b778cf338b4c4d9a9", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/4204167b5794f9dbe1db504b778cf338b4c4d9a9", "committedDate": "2020-05-19T16:24:23Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "82d33665d1b8077ed79df85f95ae03357808f6ad", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/82d33665d1b8077ed79df85f95ae03357808f6ad", "committedDate": "2020-05-19T16:28:45Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "82d33665d1b8077ed79df85f95ae03357808f6ad", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/82d33665d1b8077ed79df85f95ae03357808f6ad", "committedDate": "2020-05-19T16:28:45Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "0770de1e11c6444a8a69a64b0b931fed97593db4", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/0770de1e11c6444a8a69a64b0b931fed97593db4", "committedDate": "2020-05-19T16:37:43Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0770de1e11c6444a8a69a64b0b931fed97593db4", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/0770de1e11c6444a8a69a64b0b931fed97593db4", "committedDate": "2020-05-19T16:37:43Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "92862cf6114e275328664f30b75031b1a7fd6f87", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/92862cf6114e275328664f30b75031b1a7fd6f87", "committedDate": "2020-05-19T16:48:56Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1ODY0OTg2", "url": "https://github.com/minio/minio-java/pull/900#pullrequestreview-415864986", "createdAt": "2020-05-21T04:06:03Z", "commit": {"oid": "92862cf6114e275328664f30b75031b1a7fd6f87"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "92862cf6114e275328664f30b75031b1a7fd6f87", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/92862cf6114e275328664f30b75031b1a7fd6f87", "committedDate": "2020-05-19T16:48:56Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "4b71244433cc9f7c45a2e01a419fa06739a0a728", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/4b71244433cc9f7c45a2e01a419fa06739a0a728", "committedDate": "2020-05-21T08:34:46Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MDg1ODk4", "url": "https://github.com/minio/minio-java/pull/900#pullrequestreview-416085898", "createdAt": "2020-05-21T11:54:38Z", "commit": {"oid": "4b71244433cc9f7c45a2e01a419fa06739a0a728"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxMTo1NDozOFrOGYwF8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxMjowNjo0NFrOGYwYrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODYwNjk2Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                return (endpoint.startsWith(\"s3.\") || endpoint.startsWith(\"s3-accelerate.\"))\n          \n          \n            \n                return (endpoint.startsWith(\"s3.\") || isAwsAccelerateEndpoint(endpoint))", "url": "https://github.com/minio/minio-java/pull/900#discussion_r428606963", "createdAt": "2020-05-21T11:54:38Z", "author": {"login": "anjalshireesh"}, "path": "api/src/main/java/io/minio/MinioClient.java", "diffHunk": "@@ -734,53 +779,38 @@ public MinioClient(\n           throw new RuntimeException(e);\n         }\n       }\n+    } else {\n+      this.httpClient = httpClient;\n     }\n+  }\n \n-    HttpUrl url = HttpUrl.parse(endpoint);\n-    if (url != null) {\n-      if (!\"/\".equals(url.encodedPath())) {\n-        throw new InvalidEndpointException(endpoint, \"no path allowed in endpoint\");\n-      }\n-\n-      HttpUrl.Builder urlBuilder = url.newBuilder();\n-      Scheme scheme = Scheme.HTTP;\n-      if (secure) {\n-        scheme = Scheme.HTTPS;\n-      }\n-\n-      urlBuilder.scheme(scheme.toString());\n+  private static boolean isAwsEndpoint(String endpoint) {\n+    return (endpoint.startsWith(\"s3.\") || endpoint.startsWith(\"s3-accelerate.\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b71244433cc9f7c45a2e01a419fa06739a0a728"}, "originalPosition": 502}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODYwODkxOA==", "bodyText": "Please add some method level comments explaining the logic, preferably with an example.\nDoes this apply only in case of dualstack endpoint?", "url": "https://github.com/minio/minio-java/pull/900#discussion_r428608918", "createdAt": "2020-05-21T11:59:36Z", "author": {"login": "anjalshireesh"}, "path": "api/src/main/java/io/minio/MinioClient.java", "diffHunk": "@@ -734,53 +779,38 @@ public MinioClient(\n           throw new RuntimeException(e);\n         }\n       }\n+    } else {\n+      this.httpClient = httpClient;\n     }\n+  }\n \n-    HttpUrl url = HttpUrl.parse(endpoint);\n-    if (url != null) {\n-      if (!\"/\".equals(url.encodedPath())) {\n-        throw new InvalidEndpointException(endpoint, \"no path allowed in endpoint\");\n-      }\n-\n-      HttpUrl.Builder urlBuilder = url.newBuilder();\n-      Scheme scheme = Scheme.HTTP;\n-      if (secure) {\n-        scheme = Scheme.HTTPS;\n-      }\n-\n-      urlBuilder.scheme(scheme.toString());\n+  private static boolean isAwsEndpoint(String endpoint) {\n+    return (endpoint.startsWith(\"s3.\") || endpoint.startsWith(\"s3-accelerate.\"))\n+        && (endpoint.endsWith(\".amazonaws.com\") || endpoint.endsWith(\".amazonaws.com.cn\"));\n+  }\n \n-      if (port > 0) {\n-        urlBuilder.port(port);\n-      }\n+  private static boolean isAwsAccelerateEndpoint(String endpoint) {\n+    return endpoint.startsWith(\"s3-accelerate.\");\n+  }\n \n-      this.baseUrl = urlBuilder.build();\n-      this.accessKey = accessKey;\n-      this.secretKey = secretKey;\n-      this.region = region;\n+  private static boolean isAwsDualStackEndpoint(String endpoint) {\n+    return endpoint.contains(\".dualstack.\");\n+  }\n \n-      return;\n-    }\n+  private static String extractRegion(String endpoint) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b71244433cc9f7c45a2e01a419fa06739a0a728"}, "originalPosition": 523}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODYxMDUyNg==", "bodyText": "This method (buildUrl) seems too big. It might be a good idea to refactor it and make it smaller.\nFor the AWS specific logic in this method, maybe introduce a new class called AwsUrlBuilder and use it from here?", "url": "https://github.com/minio/minio-java/pull/900#discussion_r428610526", "createdAt": "2020-05-21T12:03:40Z", "author": {"login": "anjalshireesh"}, "path": "api/src/main/java/io/minio/MinioClient.java", "diffHunk": "@@ -947,55 +977,77 @@ private HttpUrl buildUrl(\n       Multimap<String, String> queryParamMap)\n       throws IllegalArgumentException, InvalidBucketNameException, NoSuchAlgorithmException {\n     if (bucketName == null && objectName != null) {\n-      throw new InvalidBucketNameException(\n-          NULL_STRING, \"null bucket name for object '\" + objectName + \"'\");\n+      throw new IllegalArgumentException(\"null bucket name for object '\" + objectName + \"'\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b71244433cc9f7c45a2e01a419fa06739a0a728"}, "originalPosition": 600}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODYxMTM1Ng==", "bodyText": "This comment is probably more appropriate just before the line\nAwsRegionCache.INSTANCE.set(bucketName, region);", "url": "https://github.com/minio/minio-java/pull/900#discussion_r428611356", "createdAt": "2020-05-21T12:05:47Z", "author": {"login": "anjalshireesh"}, "path": "api/src/main/java/io/minio/MinioClient.java", "diffHunk": "@@ -1317,50 +1373,43 @@ private Response execute(\n         method, bucketName, objectName, region, headerMultiMap, queryParamMultiMap, body, length);\n   }\n \n-  /** Updates Region cache for given bucket. */\n-  private void updateRegionCache(String bucketName)\n+  /** Returns region of given bucket either from region cache or set in constructor. */\n+  private String getRegion(String bucketName)\n       throws ErrorResponseException, IllegalArgumentException, InsufficientDataException,\n           InternalException, InvalidBucketNameException, InvalidKeyException,\n           InvalidResponseException, IOException, NoSuchAlgorithmException, XmlParserException {\n-    if (bucketName != null\n-        && this.accessKey != null\n-        && this.secretKey != null\n-        && !BucketRegionCache.INSTANCE.exists(bucketName)) {\n-      Map<String, String> queryParamMap = new HashMap<>();\n-      queryParamMap.put(\"location\", null);\n-\n-      Response response =\n-          execute(Method.GET, bucketName, null, US_EAST_1, null, queryParamMap, null, 0);\n-\n-      String region;\n-      try (ResponseBody body = response.body()) {\n-        LocationConstraint lc = Xml.unmarshal(LocationConstraint.class, body.charStream());\n-        if (lc.location() == null || lc.location().equals(\"\")) {\n-          region = US_EAST_1; // default region\n-        } else if (lc.location().equals(\"EU\")) {\n-          region = \"eu-west-1\"; // eu-west-1 can be sometimes 'EU'.\n-        } else {\n-          region = lc.location();\n-        }\n-      }\n+    if (this.region != null && !this.region.equals(\"\")) {\n+      return this.region;\n+    }\n \n-      // Add the new location.\n-      BucketRegionCache.INSTANCE.set(bucketName, region);\n+    if (!isAwsHost || bucketName == null || this.accessKey == null) {\n+      return US_EAST_1;\n     }\n-  }\n \n-  /** Returns region of given bucket either from region cache or set in constructor. */\n-  private String getRegion(String bucketName)\n-      throws ErrorResponseException, IllegalArgumentException, InsufficientDataException,\n-          InternalException, InvalidBucketNameException, InvalidKeyException,\n-          InvalidResponseException, IOException, NoSuchAlgorithmException, XmlParserException {\n-    String region;\n-    if (this.region == null || \"\".equals(this.region)) {\n-      updateRegionCache(bucketName);\n-      region = BucketRegionCache.INSTANCE.region(bucketName);\n-    } else {\n-      region = this.region;\n+    String region = AwsRegionCache.INSTANCE.get(bucketName);\n+    if (region != null) {\n+      return region;\n+    }\n+\n+    // Updates region cache for this bucket.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b71244433cc9f7c45a2e01a419fa06739a0a728"}, "originalPosition": 795}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODYxMTc1Nw==", "bodyText": "The above comment also needs to change accordingly?", "url": "https://github.com/minio/minio-java/pull/900#discussion_r428611757", "createdAt": "2020-05-21T12:06:44Z", "author": {"login": "anjalshireesh"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -4345,7 +4345,7 @@ public static void runTests() throws Exception {\n \n     // SSE_S3 and SSE_KMS only work with endpoint=\"s3.amazonaws.com\"\n     String requestUrl = endpoint;\n-    if (requestUrl.equals(\"s3.amazonaws.com\")) {\n+    if (requestUrl.contains(\".amazonaws.com\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b71244433cc9f7c45a2e01a419fa06739a0a728"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "341153bc8c30bc666ce84a01021dbcf4184a1d6a", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/341153bc8c30bc666ce84a01021dbcf4184a1d6a", "committedDate": "2020-05-21T13:13:26Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b71244433cc9f7c45a2e01a419fa06739a0a728", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/4b71244433cc9f7c45a2e01a419fa06739a0a728", "committedDate": "2020-05-21T08:34:46Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}, "afterCommit": {"oid": "341153bc8c30bc666ce84a01021dbcf4184a1d6a", "author": {"user": {"login": "balamurugana", "name": "Bala FA"}}, "url": "https://github.com/minio/minio-java/commit/341153bc8c30bc666ce84a01021dbcf4184a1d6a", "committedDate": "2020-05-21T13:13:26Z", "message": "handle accelerate and dual-stack aws endpoints\n\nFixes #893\nFixes #894\nFixes #895\nFixes #897\nFixes #899"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MTYzMjY1", "url": "https://github.com/minio/minio-java/pull/900#pullrequestreview-416163265", "createdAt": "2020-05-21T13:53:20Z", "commit": {"oid": "341153bc8c30bc666ce84a01021dbcf4184a1d6a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NjUyMDY0", "url": "https://github.com/minio/minio-java/pull/900#pullrequestreview-416652064", "createdAt": "2020-05-22T05:13:34Z", "commit": {"oid": "341153bc8c30bc666ce84a01021dbcf4184a1d6a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1833, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}