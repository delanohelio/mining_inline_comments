{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MjI1NDk3", "number": 930, "title": "Add arg builder to versioning and removeBucket API", "bodyText": "Add arg builder to enableVersioning , disableVersioning and removeBucket API", "createdAt": "2020-05-13T09:07:58Z", "url": "https://github.com/minio/minio-java/pull/930", "merged": true, "mergeCommit": {"oid": "29cae7a5af1bc5cc04a909adf095aea6d2094e3e"}, "closed": true, "closedAt": "2020-05-21T08:31:04Z", "author": {"login": "sinhaashish"}, "timelineItems": {"totalCount": 35, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcg1L8CABqjMzMzExMDAyODQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjZDdNAFqTQxNTk1NDc3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "54f2c0614129656efbcfac7fc55183a4d2a1361d", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/54f2c0614129656efbcfac7fc55183a4d2a1361d", "committedDate": "2020-05-13T09:07:19Z", "message": "Version and Remove bucket using builder"}, "afterCommit": {"oid": "ba16b2d5acab16d53aafc458d12490442e1b9e69", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/ba16b2d5acab16d53aafc458d12490442e1b9e69", "committedDate": "2020-05-13T09:09:26Z", "message": "Version and Remove bucket using builder"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ba16b2d5acab16d53aafc458d12490442e1b9e69", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/ba16b2d5acab16d53aafc458d12490442e1b9e69", "committedDate": "2020-05-13T09:09:26Z", "message": "Version and Remove bucket using builder"}, "afterCommit": {"oid": "e2dab769b090d6b94035ef49d7295c8f4863da34", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/e2dab769b090d6b94035ef49d7295c8f4863da34", "committedDate": "2020-05-14T05:13:10Z", "message": "Version and Remove bucket using builder"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e2dab769b090d6b94035ef49d7295c8f4863da34", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/e2dab769b090d6b94035ef49d7295c8f4863da34", "committedDate": "2020-05-14T05:13:10Z", "message": "Version and Remove bucket using builder"}, "afterCommit": {"oid": "264c36b3e28f439017567cb326d5d2cfeb9d6a43", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/264c36b3e28f439017567cb326d5d2cfeb9d6a43", "committedDate": "2020-05-14T05:33:39Z", "message": "Version and Remove bucket using builder"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNjM2Nzg4", "url": "https://github.com/minio/minio-java/pull/930#pullrequestreview-411636788", "createdAt": "2020-05-14T09:42:17Z", "commit": {"oid": "264c36b3e28f439017567cb326d5d2cfeb9d6a43"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTo0MjoxN1rOGVUW3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTo0MjoxN1rOGVUW3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAwNjgxMg==", "bodyText": "I would suggest to have each API has separate Args class.", "url": "https://github.com/minio/minio-java/pull/930#discussion_r425006812", "createdAt": "2020-05-14T09:42:17Z", "author": {"login": "balamurugana"}, "path": "api/src/main/java/io/minio/VersionBucketArgs.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/*\n+ * MinIO Java SDK for Amazon S3 Compatible Cloud Storage, (C) 2020 MinIO, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.minio;\n+\n+/**\n+ * Argument class of @see #enableVersioning(VersionBucketArgs args) @see\n+ * #disableVersioning(VersionBucketArgs args).\n+ */\n+public class VersionBucketArgs extends BucketArgs {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "264c36b3e28f439017567cb326d5d2cfeb9d6a43"}, "originalPosition": 23}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "201b72e31ba2cb8805ff4d56fad6045df65e81f0", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/201b72e31ba2cb8805ff4d56fad6045df65e81f0", "committedDate": "2020-05-14T12:02:58Z", "message": "Added new class DisableVersionBucketArgs"}, "afterCommit": {"oid": "193b35075a266b25300920ba206266807e0f06b8", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/193b35075a266b25300920ba206266807e0f06b8", "committedDate": "2020-05-14T12:09:37Z", "message": "Added new class DisableVersionBucketArgs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "193b35075a266b25300920ba206266807e0f06b8", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/193b35075a266b25300920ba206266807e0f06b8", "committedDate": "2020-05-14T12:09:37Z", "message": "Added new class DisableVersionBucketArgs"}, "afterCommit": {"oid": "c58ca21e580d92e64114dfe1b37c97c1da5fc426", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/c58ca21e580d92e64114dfe1b37c97c1da5fc426", "committedDate": "2020-05-14T13:14:27Z", "message": "Added new class DisableVersionBucketArgs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c58ca21e580d92e64114dfe1b37c97c1da5fc426", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/c58ca21e580d92e64114dfe1b37c97c1da5fc426", "committedDate": "2020-05-14T13:14:27Z", "message": "Added new class DisableVersionBucketArgs"}, "afterCommit": {"oid": "7a85024ac986f8fb9b33772c952453e38453bd90", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/7a85024ac986f8fb9b33772c952453e38453bd90", "committedDate": "2020-05-14T13:24:48Z", "message": "Added new class DisableVersionBucketArgs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExODY3NjQ4", "url": "https://github.com/minio/minio-java/pull/930#pullrequestreview-411867648", "createdAt": "2020-05-14T14:33:39Z", "commit": {"oid": "7a85024ac986f8fb9b33772c952453e38453bd90"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDozMzozOVrOGVfPTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDozMzozOVrOGVfPTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE4NTEwMQ==", "bodyText": "We would need to have name consistency with API name. Here, DisableVersioningArgs and EnableVersioningArgs are appropriate.\nRemove any obvious comments for getters (if any).\nFollow consistent comments for Args and Builder class. #934 can be taken as reference.", "url": "https://github.com/minio/minio-java/pull/930#discussion_r425185101", "createdAt": "2020-05-14T14:33:39Z", "author": {"login": "balamurugana"}, "path": "api/src/main/java/io/minio/DisableVersionBucketArgs.java", "diffHunk": "@@ -0,0 +1,31 @@\n+/*\n+ * MinIO Java SDK for Amazon S3 Compatible Cloud Storage, (C) 2020 MinIO, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.minio;\n+\n+/** Argument class of @see #disableVersioning(DisableVersionBucketArgs args). */\n+public class DisableVersionBucketArgs extends BucketArgs {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a85024ac986f8fb9b33772c952453e38453bd90"}, "originalPosition": 20}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b4340933d17591bdaf19a498ffa2527d433dc57e", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/b4340933d17591bdaf19a498ffa2527d433dc57e", "committedDate": "2020-05-16T16:24:11Z", "message": "add arg builder to versioning and removeBucket API"}, "afterCommit": {"oid": "ff6bae47465380e508fcdf0c46b43d3b8e2e21be", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/ff6bae47465380e508fcdf0c46b43d3b8e2e21be", "committedDate": "2020-05-16T16:48:34Z", "message": "add arg builder to versioning and removeBucket API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ff6bae47465380e508fcdf0c46b43d3b8e2e21be", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/ff6bae47465380e508fcdf0c46b43d3b8e2e21be", "committedDate": "2020-05-16T16:48:34Z", "message": "add arg builder to versioning and removeBucket API"}, "afterCommit": {"oid": "5c84b5e7b1e6029019daba2f55c7bb8d0c20bf3f", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/5c84b5e7b1e6029019daba2f55c7bb8d0c20bf3f", "committedDate": "2020-05-16T16:52:13Z", "message": "add arg builder to versioning and removeBucket API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5c84b5e7b1e6029019daba2f55c7bb8d0c20bf3f", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/5c84b5e7b1e6029019daba2f55c7bb8d0c20bf3f", "committedDate": "2020-05-16T16:52:13Z", "message": "add arg builder to versioning and removeBucket API"}, "afterCommit": {"oid": "3e4fad21ddfcdf8f0173e1cc196c4988ab4b9614", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/3e4fad21ddfcdf8f0173e1cc196c4988ab4b9614", "committedDate": "2020-05-16T17:06:13Z", "message": "add arg builder to versioning and removeBucket API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3e4fad21ddfcdf8f0173e1cc196c4988ab4b9614", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/3e4fad21ddfcdf8f0173e1cc196c4988ab4b9614", "committedDate": "2020-05-16T17:06:13Z", "message": "add arg builder to versioning and removeBucket API"}, "afterCommit": {"oid": "24c946a55596ad318490e705adfe164eccb95785", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/24c946a55596ad318490e705adfe164eccb95785", "committedDate": "2020-05-16T17:50:58Z", "message": "add arg builder to versioning and removeBucket API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "24c946a55596ad318490e705adfe164eccb95785", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/24c946a55596ad318490e705adfe164eccb95785", "committedDate": "2020-05-16T17:50:58Z", "message": "add arg builder to versioning and removeBucket API"}, "afterCommit": {"oid": "91cc69081d13c0075e46e22dbd71cfab90fea6e1", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/91cc69081d13c0075e46e22dbd71cfab90fea6e1", "committedDate": "2020-05-18T07:11:00Z", "message": "add arg builder to versioning and removeBucket API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "91cc69081d13c0075e46e22dbd71cfab90fea6e1", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/91cc69081d13c0075e46e22dbd71cfab90fea6e1", "committedDate": "2020-05-18T07:11:00Z", "message": "add arg builder to versioning and removeBucket API"}, "afterCommit": {"oid": "3d9770dbea17345a97e7dd5be625d16990fa0e07", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/3d9770dbea17345a97e7dd5be625d16990fa0e07", "committedDate": "2020-05-18T07:24:48Z", "message": "add arg builder to versioning and removeBucket API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3d9770dbea17345a97e7dd5be625d16990fa0e07", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/3d9770dbea17345a97e7dd5be625d16990fa0e07", "committedDate": "2020-05-18T07:24:48Z", "message": "add arg builder to versioning and removeBucket API"}, "afterCommit": {"oid": "c3a91ab1ceb0f3775147fd31e546d8062157bdd8", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/c3a91ab1ceb0f3775147fd31e546d8062157bdd8", "committedDate": "2020-05-18T14:47:22Z", "message": "add arg builder to versioning and removeBucket API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c3a91ab1ceb0f3775147fd31e546d8062157bdd8", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/c3a91ab1ceb0f3775147fd31e546d8062157bdd8", "committedDate": "2020-05-18T14:47:22Z", "message": "add arg builder to versioning and removeBucket API"}, "afterCommit": {"oid": "1581fa2e8fea90ddfd7fa5f8ccdf4e00f636f968", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/1581fa2e8fea90ddfd7fa5f8ccdf4e00f636f968", "committedDate": "2020-05-19T02:53:12Z", "message": "add arg builder to versioning and removeBucket API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1581fa2e8fea90ddfd7fa5f8ccdf4e00f636f968", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/1581fa2e8fea90ddfd7fa5f8ccdf4e00f636f968", "committedDate": "2020-05-19T02:53:12Z", "message": "add arg builder to versioning and removeBucket API"}, "afterCommit": {"oid": "9a0c5e73276d8a28f961a38011df7230c51158d0", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/9a0c5e73276d8a28f961a38011df7230c51158d0", "committedDate": "2020-05-19T02:57:44Z", "message": "add arg builder to versioning and removeBucket API"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c896334b8a60e4617e93c0dee70a4f256d7af861", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/c896334b8a60e4617e93c0dee70a4f256d7af861", "committedDate": "2020-05-19T17:35:03Z", "message": "Version and Remove bucket using builder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bf770a557a28d8be95342e8e7e3695e18a993dc", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/2bf770a557a28d8be95342e8e7e3695e18a993dc", "committedDate": "2020-05-19T17:35:03Z", "message": "Added new class DisableVersionBucketArgs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9a0c5e73276d8a28f961a38011df7230c51158d0", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/9a0c5e73276d8a28f961a38011df7230c51158d0", "committedDate": "2020-05-19T02:57:44Z", "message": "add arg builder to versioning and removeBucket API"}, "afterCommit": {"oid": "d8a704c09d10141acb9bba0608563f0b0e457647", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/d8a704c09d10141acb9bba0608563f0b0e457647", "committedDate": "2020-05-19T17:52:21Z", "message": "add arg builder to versioning and removeBucket API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d8a704c09d10141acb9bba0608563f0b0e457647", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/d8a704c09d10141acb9bba0608563f0b0e457647", "committedDate": "2020-05-19T17:52:21Z", "message": "add arg builder to versioning and removeBucket API"}, "afterCommit": {"oid": "eb6e6df45e5de6835f2ee10fe6708d7c1b3dca02", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/eb6e6df45e5de6835f2ee10fe6708d7c1b3dca02", "committedDate": "2020-05-19T18:10:37Z", "message": "Add arg builder to versioning and removeBucket API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0OTkxMDgx", "url": "https://github.com/minio/minio-java/pull/930#pullrequestreview-414991081", "createdAt": "2020-05-20T04:54:40Z", "commit": {"oid": "eb6e6df45e5de6835f2ee10fe6708d7c1b3dca02"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwNDo1NDo0MFrOGX7NnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwNDo1NTo0MVrOGX7Onw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc0MDU3Mg==", "bodyText": "Please fix to * @param args {@link EnableVersioningArgs} object.", "url": "https://github.com/minio/minio-java/pull/930#discussion_r427740572", "createdAt": "2020-05-20T04:54:40Z", "author": {"login": "balamurugana"}, "path": "api/src/main/java/io/minio/MinioClient.java", "diffHunk": "@@ -3468,16 +3468,44 @@ public void makeBucket(MakeBucketArgs args)\n    * @throws NoSuchAlgorithmException thrown to indicate missing of MD5 or SHA-256 digest library.\n    * @throws XmlParserException thrown to indicate XML parsing error.\n    */\n+  @Deprecated\n   public void enableVersioning(String bucketName)\n       throws ErrorResponseException, IllegalArgumentException, InsufficientDataException,\n           InternalException, InvalidBucketNameException, InvalidKeyException,\n           InvalidResponseException, IOException, NoSuchAlgorithmException, XmlParserException {\n+    this.enableVersioning(EnableVersioningArgs.builder().bucket(bucketName).build());\n+  }\n+\n+  /**\n+   * Enables object versioning feature in a bucket.\n+   *\n+   * <pre>Example:{@code\n+   * minioClient.enableVersioning(EnableVersioningArgs.builder().bucket(\"my-bucketname\").build());\n+   * }</pre>\n+   *\n+   * @param args {@link EnableVersioningArgs} bucket.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb6e6df45e5de6835f2ee10fe6708d7c1b3dca02"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc0MDgzMQ==", "bodyText": "throw IllegalArgumentException if args is null", "url": "https://github.com/minio/minio-java/pull/930#discussion_r427740831", "createdAt": "2020-05-20T04:55:41Z", "author": {"login": "balamurugana"}, "path": "api/src/main/java/io/minio/MinioClient.java", "diffHunk": "@@ -3468,16 +3468,44 @@ public void makeBucket(MakeBucketArgs args)\n    * @throws NoSuchAlgorithmException thrown to indicate missing of MD5 or SHA-256 digest library.\n    * @throws XmlParserException thrown to indicate XML parsing error.\n    */\n+  @Deprecated\n   public void enableVersioning(String bucketName)\n       throws ErrorResponseException, IllegalArgumentException, InsufficientDataException,\n           InternalException, InvalidBucketNameException, InvalidKeyException,\n           InvalidResponseException, IOException, NoSuchAlgorithmException, XmlParserException {\n+    this.enableVersioning(EnableVersioningArgs.builder().bucket(bucketName).build());\n+  }\n+\n+  /**\n+   * Enables object versioning feature in a bucket.\n+   *\n+   * <pre>Example:{@code\n+   * minioClient.enableVersioning(EnableVersioningArgs.builder().bucket(\"my-bucketname\").build());\n+   * }</pre>\n+   *\n+   * @param args {@link EnableVersioningArgs} bucket.\n+   * @throws ErrorResponseException thrown to indicate S3 service returned an error response.\n+   * @throws IllegalArgumentException throws to indicate invalid argument passed.\n+   * @throws InsufficientDataException thrown to indicate not enough data available in InputStream.\n+   * @throws InternalException thrown to indicate internal library error.\n+   * @throws InvalidBucketNameException thrown to indicate invalid bucket name passed.\n+   * @throws InvalidKeyException thrown to indicate missing of HMAC SHA-256 library.\n+   * @throws InvalidResponseException thrown to indicate S3 service returned invalid or no error\n+   *     response.\n+   * @throws IOException thrown to indicate I/O error on S3 operation.\n+   * @throws NoSuchAlgorithmException thrown to indicate missing of MD5 or SHA-256 digest library.\n+   * @throws XmlParserException thrown to indicate XML parsing error.\n+   */\n+  public void enableVersioning(EnableVersioningArgs args)\n+      throws ErrorResponseException, IllegalArgumentException, InsufficientDataException,\n+          InternalException, InvalidBucketNameException, InvalidKeyException,\n+          InvalidResponseException, IOException, NoSuchAlgorithmException, XmlParserException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb6e6df45e5de6835f2ee10fe6708d7c1b3dca02"}, "originalPosition": 35}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eb6e6df45e5de6835f2ee10fe6708d7c1b3dca02", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/eb6e6df45e5de6835f2ee10fe6708d7c1b3dca02", "committedDate": "2020-05-19T18:10:37Z", "message": "Add arg builder to versioning and removeBucket API"}, "afterCommit": {"oid": "2e3701341afb24b2b16135f7e0e114163265700e", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/2e3701341afb24b2b16135f7e0e114163265700e", "committedDate": "2020-05-20T05:19:14Z", "message": "Add arg builder to versioning and removeBucket API"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1fb0bcb7313a666ab0cbbeee374f1683f803d16", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/e1fb0bcb7313a666ab0cbbeee374f1683f803d16", "committedDate": "2020-05-20T05:32:09Z", "message": "Add arg builder to versioning and removeBucket API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2e3701341afb24b2b16135f7e0e114163265700e", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/2e3701341afb24b2b16135f7e0e114163265700e", "committedDate": "2020-05-20T05:19:14Z", "message": "Add arg builder to versioning and removeBucket API"}, "afterCommit": {"oid": "e1fb0bcb7313a666ab0cbbeee374f1683f803d16", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/e1fb0bcb7313a666ab0cbbeee374f1683f803d16", "committedDate": "2020-05-20T05:32:09Z", "message": "Add arg builder to versioning and removeBucket API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MDg0Mzcw", "url": "https://github.com/minio/minio-java/pull/930#pullrequestreview-415084370", "createdAt": "2020-05-20T08:01:46Z", "commit": {"oid": "e1fb0bcb7313a666ab0cbbeee374f1683f803d16"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MTQ5OTkw", "url": "https://github.com/minio/minio-java/pull/930#pullrequestreview-415149990", "createdAt": "2020-05-20T09:23:23Z", "commit": {"oid": "e1fb0bcb7313a666ab0cbbeee374f1683f803d16"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOToyMzoyNFrOGYC6cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOToyMzoyNFrOGYC6cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzg2NjczOA==", "bodyText": "Better to fix > 100 char long line.\nminioClient.disableVersioning(\n    DisableVersioningArgs.builder().bucket(\"my-bucketname\").build());", "url": "https://github.com/minio/minio-java/pull/930#discussion_r427866738", "createdAt": "2020-05-20T09:23:24Z", "author": {"login": "balamurugana"}, "path": "api/src/main/java/io/minio/MinioClient.java", "diffHunk": "@@ -3501,16 +3533,48 @@ public void enableVersioning(String bucketName)\n    * @throws NoSuchAlgorithmException thrown to indicate missing of MD5 or SHA-256 digest library.\n    * @throws XmlParserException thrown to indicate XML parsing error.\n    */\n+  @Deprecated\n   public void disableVersioning(String bucketName)\n       throws ErrorResponseException, IllegalArgumentException, InsufficientDataException,\n           InternalException, InvalidBucketNameException, InvalidKeyException,\n           InvalidResponseException, IOException, NoSuchAlgorithmException, XmlParserException {\n+    this.disableVersioning(DisableVersioningArgs.builder().bucket(bucketName).build());\n+  }\n+\n+  /**\n+   * Disables object versioning feature in a bucket.\n+   *\n+   * <pre>Example:{@code\n+   * minioClient.disableVersioning(DisableVersioningArgs.builder().bucket(\"my-bucketname\").build());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1fb0bcb7313a666ab0cbbeee374f1683f803d16"}, "originalPosition": 66}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MTU2Njc5", "url": "https://github.com/minio/minio-java/pull/930#pullrequestreview-415156679", "createdAt": "2020-05-20T09:31:42Z", "commit": {"oid": "e1fb0bcb7313a666ab0cbbeee374f1683f803d16"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MzgwMzU2", "url": "https://github.com/minio/minio-java/pull/930#pullrequestreview-415380356", "createdAt": "2020-05-20T14:14:00Z", "commit": {"oid": "4b2ebc65d24a07219ec9e6474fa87f94e55e1a89"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNDoxNDowMFrOGYN4xg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNDoxNDowMFrOGYN4xg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA0NjUzNA==", "bodyText": "you could add one more check after this by\nclient.enableVersioning(EnableVersioningArgs.builder().bucket(name).build());\nclient.disableVersioning(DisableVersioningArgs.builder().bucket(name).build());", "url": "https://github.com/minio/minio-java/pull/930#discussion_r428046534", "createdAt": "2020-05-20T14:14:00Z", "author": {"login": "balamurugana"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -384,6 +386,74 @@ public static void makeBucket_test4() throws Exception {\n     }\n   }\n \n+  /** Test: enableVersioning(EnableVersioningArgs args). */\n+  public static void enableVersioning_test() throws Exception {\n+    if (!mintEnv) {\n+      System.out.println(\"Test: enableVersioning(EnableVersioningArgs args)\");\n+    }\n+\n+    long startTime = System.currentTimeMillis();\n+    try {\n+      String name = getRandomName();\n+      client.makeBucket(MakeBucketArgs.builder().bucket(name).build());\n+      client.enableVersioning(EnableVersioningArgs.builder().bucket(name).build());\n+      client.removeBucket(RemoveBucketArgs.builder().bucket(name).build());\n+      mintSuccessLog(\"enableVersioning(EnableVersioningArgs args)\", null, startTime);\n+    } catch (Exception e) {\n+      ErrorResponse errorResponse = null;\n+      if (e instanceof ErrorResponseException) {\n+        ErrorResponseException exp = (ErrorResponseException) e;\n+        errorResponse = exp.errorResponse();\n+      }\n+      // Ignore NotImplemented error\n+      if (errorResponse != null && errorResponse.errorCode() == ErrorCode.NOT_IMPLEMENTED) {\n+        mintIgnoredLog(\"enableVersioning(EnableVersioningArgs args)\", null, startTime);\n+      } else {\n+        mintFailedLog(\n+            \"enableVersioning(EnableVersioningArgs args)\",\n+            null,\n+            startTime,\n+            null,\n+            e.toString() + \" >>> \" + Arrays.toString(e.getStackTrace()));\n+        throw e;\n+      }\n+    }\n+  }\n+\n+  /** Test: disableVersioning(DisableVersioningArgs args). */\n+  public static void disableVersioning_test() throws Exception {\n+    if (!mintEnv) {\n+      System.out.println(\"Test: disableVersioning(DisableVersioningArgs args)\");\n+    }\n+\n+    long startTime = System.currentTimeMillis();\n+    try {\n+      String name = getRandomName();\n+      client.makeBucket(MakeBucketArgs.builder().bucket(name).build());\n+      client.disableVersioning(DisableVersioningArgs.builder().bucket(name).build());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b2ebc65d24a07219ec9e6474fa87f94e55e1a89"}, "originalPosition": 57}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b2ebc65d24a07219ec9e6474fa87f94e55e1a89", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/4b2ebc65d24a07219ec9e6474fa87f94e55e1a89", "committedDate": "2020-05-20T12:15:14Z", "message": "Add functional test"}, "afterCommit": {"oid": "ff9823bb659c3c3f985fbbc1fd2f187e257fbf9f", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/ff9823bb659c3c3f985fbbc1fd2f187e257fbf9f", "committedDate": "2020-05-20T14:20:47Z", "message": "Add functional test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ff9823bb659c3c3f985fbbc1fd2f187e257fbf9f", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/ff9823bb659c3c3f985fbbc1fd2f187e257fbf9f", "committedDate": "2020-05-20T14:20:47Z", "message": "Add functional test"}, "afterCommit": {"oid": "95be36ddec2f5d1878c491506fd925728cf16001", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/95be36ddec2f5d1878c491506fd925728cf16001", "committedDate": "2020-05-20T14:40:21Z", "message": "Add functional test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e5be2e439d0caa92524477797ce66882f915518", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/2e5be2e439d0caa92524477797ce66882f915518", "committedDate": "2020-05-20T14:46:00Z", "message": "Add functional test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "95be36ddec2f5d1878c491506fd925728cf16001", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/95be36ddec2f5d1878c491506fd925728cf16001", "committedDate": "2020-05-20T14:40:21Z", "message": "Add functional test"}, "afterCommit": {"oid": "2e5be2e439d0caa92524477797ce66882f915518", "author": {"user": {"login": "sinhaashish", "name": "Ashish Kumar Sinha"}}, "url": "https://github.com/minio/minio-java/commit/2e5be2e439d0caa92524477797ce66882f915518", "committedDate": "2020-05-20T14:46:00Z", "message": "Add functional test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1ODg0MTUy", "url": "https://github.com/minio/minio-java/pull/930#pullrequestreview-415884152", "createdAt": "2020-05-21T05:18:07Z", "commit": {"oid": "2e5be2e439d0caa92524477797ce66882f915518"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1OTU0Nzc0", "url": "https://github.com/minio/minio-java/pull/930#pullrequestreview-415954774", "createdAt": "2020-05-21T08:04:50Z", "commit": {"oid": "2e5be2e439d0caa92524477797ce66882f915518"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1866, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}