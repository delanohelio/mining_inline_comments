{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE3MDg5Njc3", "number": 1102, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTo0MzozOVrOE8rwZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTo0OTo1NVrOE8r5Yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyMDY2OTE5OnYy", "diffSide": "RIGHT", "path": "api/src/main/java/io/minio/messages/PrefixConverter.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTo0MzozOVrOH49EhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQwMzoxMDoxM1rOH5hfqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ4Mjg4NA==", "bodyText": "Since the logic is not very specific to prefix as such and can be useful wherever such a functionality is required (de-serialize empty tag to empty string), maybe the name of this class can be something more generic? Say StringConverter ?", "url": "https://github.com/minio/minio-java/pull/1102#discussion_r529482884", "createdAt": "2020-11-24T11:43:39Z", "author": {"login": "anjalshireesh"}, "path": "api/src/main/java/io/minio/messages/PrefixConverter.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * MinIO Java SDK for Amazon S3 Compatible Cloud Storage, (C) 2020 MinIO, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.minio.messages;\n+\n+import org.simpleframework.xml.convert.Converter;\n+import org.simpleframework.xml.stream.InputNode;\n+import org.simpleframework.xml.stream.OutputNode;\n+\n+/**\n+ * XML converter class for prefix due to SimpleXML limitation in converting empty tag\n+ * <Prefix></Prefix> to empty string.\n+ */\n+public class PrefixConverter implements Converter<String> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42e6707b7cc66d7abe5396a4f19feb1dd632a1a5"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDA3OTY1OA==", "bodyText": "Currently prefix is only supported empty. Surely change when I find another case.", "url": "https://github.com/minio/minio-java/pull/1102#discussion_r530079658", "createdAt": "2020-11-25T03:10:13Z", "author": {"login": "balamurugana"}, "path": "api/src/main/java/io/minio/messages/PrefixConverter.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * MinIO Java SDK for Amazon S3 Compatible Cloud Storage, (C) 2020 MinIO, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.minio.messages;\n+\n+import org.simpleframework.xml.convert.Converter;\n+import org.simpleframework.xml.stream.InputNode;\n+import org.simpleframework.xml.stream.OutputNode;\n+\n+/**\n+ * XML converter class for prefix due to SimpleXML limitation in converting empty tag\n+ * <Prefix></Prefix> to empty string.\n+ */\n+public class PrefixConverter implements Converter<String> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ4Mjg4NA=="}, "originalCommit": {"oid": "42e6707b7cc66d7abe5396a4f19feb1dd632a1a5"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyMDY5MjE4OnYy", "diffSide": "RIGHT", "path": "functional/FunctionalTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTo0OTo1NVrOH49SZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQwMzoxMDo1MFrOH5hgVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ4NjQzOQ==", "bodyText": "Since the exact same code is being used at multiple places to create this lifecycle rule, maybe it can be defined as a method or a static final class level variable?", "url": "https://github.com/minio/minio-java/pull/1102#discussion_r529486439", "createdAt": "2020-11-24T11:49:55Z", "author": {"login": "anjalshireesh"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -2799,7 +2789,17 @@ public static void setBucketLifecycle() throws Exception {\n     try {\n       client.makeBucket(MakeBucketArgs.builder().bucket(bucketName).build());\n       try {\n-        testSetBucketLifecycle(bucketName);\n+        testSetBucketLifecycle(\n+            bucketName,\n+            new LifecycleRule(\n+                Status.ENABLED,\n+                null,\n+                new Expiration((ZonedDateTime) null, 365, null),\n+                new RuleFilter(\"logs/\"),\n+                \"rule2\",\n+                null,\n+                null,\n+                null));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42e6707b7cc66d7abe5396a4f19feb1dd632a1a5"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDA3OTgyOA==", "bodyText": "Yep. I will take care in next refactoring functional tests.", "url": "https://github.com/minio/minio-java/pull/1102#discussion_r530079828", "createdAt": "2020-11-25T03:10:50Z", "author": {"login": "balamurugana"}, "path": "functional/FunctionalTest.java", "diffHunk": "@@ -2799,7 +2789,17 @@ public static void setBucketLifecycle() throws Exception {\n     try {\n       client.makeBucket(MakeBucketArgs.builder().bucket(bucketName).build());\n       try {\n-        testSetBucketLifecycle(bucketName);\n+        testSetBucketLifecycle(\n+            bucketName,\n+            new LifecycleRule(\n+                Status.ENABLED,\n+                null,\n+                new Expiration((ZonedDateTime) null, 365, null),\n+                new RuleFilter(\"logs/\"),\n+                \"rule2\",\n+                null,\n+                null,\n+                null));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ4NjQzOQ=="}, "originalCommit": {"oid": "42e6707b7cc66d7abe5396a4f19feb1dd632a1a5"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 633, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}