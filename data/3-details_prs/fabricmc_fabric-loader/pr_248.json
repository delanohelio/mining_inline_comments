{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5NzcyMDIy", "number": 248, "title": "Add ability to get all CustomValues in a mod's metadata.", "bodyText": "During my process of feasibility of implementing sponge's api on fabric, I've noticed there is no way to resolve every custom value from mod metadata in order to convert to sponge's own extra data types.\nThis PR adds one method to get a Map of all custom values.\nInternally this map is pre-baked when the mod metadata is deserialized so we don't have to recalculate the map every single time.", "createdAt": "2020-05-18T22:23:14Z", "url": "https://github.com/FabricMC/fabric-loader/pull/248", "merged": true, "mergeCommit": {"oid": "68c6119942b035e7623a54893da5eeadc4dfbcc3"}, "closed": true, "closedAt": "2020-07-14T12:56:12Z", "author": {"login": "i509VCB"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcinlhFgFqTQxMzk3OTU4Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc01jQGgH2gAyNDE5NzcyMDIyOmIyODQ4NDc0MWRjYTg0Njk5ZmU0Y2EwOWE1ZjM0Zjc0MGNjMzk2ZjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzOTc5NTgz", "url": "https://github.com/FabricMC/fabric-loader/pull/248#pullrequestreview-413979583", "createdAt": "2020-05-18T22:26:47Z", "commit": {"oid": "affab7d3c68796db6ce6b9b19f3ed64b06042863"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMjoyNjo0N1rOGXJfFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMjoyNjo0N1rOGXJfFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjkyNTg0Nw==", "bodyText": "Mind quickly document if this map is unmodifiable?", "url": "https://github.com/FabricMC/fabric-loader/pull/248#discussion_r426925847", "createdAt": "2020-05-18T22:26:47Z", "author": {"login": "liach"}, "path": "src/main/java/net/fabricmc/loader/api/metadata/ModMetadata.java", "diffHunk": "@@ -63,6 +64,7 @@\n \n \tboolean containsCustomValue(String key);\n \tCustomValue getCustomValue(String key);\n+\tMap<String, CustomValue> getCustomValues();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "affab7d3c68796db6ce6b9b19f3ed64b06042863"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzOTgxMjM1", "url": "https://github.com/FabricMC/fabric-loader/pull/248#pullrequestreview-413981235", "createdAt": "2020-05-18T22:30:55Z", "commit": {"oid": "affab7d3c68796db6ce6b9b19f3ed64b06042863"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMjozMDo1NVrOGXJkyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMjozMDo1NVrOGXJkyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjkyNzMwNw==", "bodyText": "maybe store the unmodifiable map wrapper in a field so you don't create one for each call", "url": "https://github.com/FabricMC/fabric-loader/pull/248#discussion_r426927307", "createdAt": "2020-05-18T22:30:55Z", "author": {"login": "liach"}, "path": "src/main/java/net/fabricmc/loader/metadata/ModMetadataV1.java", "diffHunk": "@@ -572,4 +564,30 @@ public LicenseEntry deserialize(JsonElement json, Type typeOfT, JsonDeserializat\n \t\t\t}\n \t\t}\n \t}\n+\n+\tpublic static class CustomValueContainer {\n+\t\tprivate Map<String, CustomValue> customValues = new HashMap<>();\n+\n+\t\tprivate Map<String, CustomValue> getCustomValues() {\n+\t\t\treturn Collections.unmodifiableMap(this.customValues);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "affab7d3c68796db6ce6b9b19f3ed64b06042863"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzOTg0MTQ4", "url": "https://github.com/FabricMC/fabric-loader/pull/248#pullrequestreview-413984148", "createdAt": "2020-05-18T22:38:30Z", "commit": {"oid": "affab7d3c68796db6ce6b9b19f3ed64b06042863"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMjozODozMFrOGXJubQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMjozODozMFrOGXJubQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjkyOTc3Mw==", "bodyText": "Wouldn't it make sense to return a CvObject here ?", "url": "https://github.com/FabricMC/fabric-loader/pull/248#discussion_r426929773", "createdAt": "2020-05-18T22:38:30Z", "author": {"login": "Pyrofab"}, "path": "src/main/java/net/fabricmc/loader/api/metadata/ModMetadata.java", "diffHunk": "@@ -63,6 +64,7 @@\n \n \tboolean containsCustomValue(String key);\n \tCustomValue getCustomValue(String key);\n+\tMap<String, CustomValue> getCustomValues();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "affab7d3c68796db6ce6b9b19f3ed64b06042863"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MzQ4MTg1", "url": "https://github.com/FabricMC/fabric-loader/pull/248#pullrequestreview-414348185", "createdAt": "2020-05-19T11:23:36Z", "commit": {"oid": "09521ccbb527659ed9f99b6dd64ce5a161d90807"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MzkwNjU5", "url": "https://github.com/FabricMC/fabric-loader/pull/248#pullrequestreview-414390659", "createdAt": "2020-05-19T12:24:56Z", "commit": {"oid": "09521ccbb527659ed9f99b6dd64ce5a161d90807"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69bec672103b12e20d3565c1301aefa1ce78c717", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric-loader/commit/69bec672103b12e20d3565c1301aefa1ce78c717", "committedDate": "2020-06-18T21:35:16Z", "message": "Add ability to get all CustomValues in a mod's metadata."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "958c32125df109ae66615ab7a000ee9506e9c549", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric-loader/commit/958c32125df109ae66615ab7a000ee9506e9c549", "committedDate": "2020-06-18T21:35:18Z", "message": "Use CvObject over a Map"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "034ab4e9e8c5db2c9024f0653a5e0581da0f430f", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric-loader/commit/034ab4e9e8c5db2c9024f0653a5e0581da0f430f", "committedDate": "2020-06-18T21:35:18Z", "message": "Clarify json parsing error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0821e67b5089016aaedf41d0320d004a21828203", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric-loader/commit/0821e67b5089016aaedf41d0320d004a21828203", "committedDate": "2020-06-18T21:35:19Z", "message": "Revert \"Use CvObject over a Map\"\n\nThis reverts commit c54281cd6f97b9b3a486bd268f8409d8368bc54b."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4c6f36077d54d1c1d587d26233ac4cffcf07bb0", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric-loader/commit/e4c6f36077d54d1c1d587d26233ac4cffcf07bb0", "committedDate": "2020-06-18T21:35:20Z", "message": "Docs for the new method, and make the stored map immutable."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "09521ccbb527659ed9f99b6dd64ce5a161d90807", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric-loader/commit/09521ccbb527659ed9f99b6dd64ce5a161d90807", "committedDate": "2020-05-19T01:59:28Z", "message": "Docs for the new method, and make the stored map immutable."}, "afterCommit": {"oid": "e4c6f36077d54d1c1d587d26233ac4cffcf07bb0", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric-loader/commit/e4c6f36077d54d1c1d587d26233ac4cffcf07bb0", "committedDate": "2020-06-18T21:35:20Z", "message": "Docs for the new method, and make the stored map immutable."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a22a07e00c85776e552f466277a14328bc529fb5", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/fabric-loader/commit/a22a07e00c85776e552f466277a14328bc529fb5", "committedDate": "2020-06-18T21:39:45Z", "message": "Stupid import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MDYxNjEx", "url": "https://github.com/FabricMC/fabric-loader/pull/248#pullrequestreview-448061611", "createdAt": "2020-07-14T12:32:26Z", "commit": {"oid": "a22a07e00c85776e552f466277a14328bc529fb5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b28484741dca84699fe4ca09a5f34f740cc396f0", "author": {"user": {"login": "modmuss50", "name": "modmuss50"}}, "url": "https://github.com/FabricMC/fabric-loader/commit/b28484741dca84699fe4ca09a5f34f740cc396f0", "committedDate": "2020-07-14T12:53:37Z", "message": "Merge remote-tracking branch 'remotes/upstream/master' into feature/moreexpose\n\n# Conflicts:\n#\tsrc/main/java/net/fabricmc/loader/metadata/ModMetadataParser.java\n#\tsrc/main/java/net/fabricmc/loader/metadata/ModMetadataV1.java"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3441, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}