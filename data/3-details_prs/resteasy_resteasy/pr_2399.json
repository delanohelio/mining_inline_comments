{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1Nzg2MjA4", "number": 2399, "title": "[RESTEASY-2581] Add profile to enable testing using Wildfly \"standalone-microprofile.xml\" configuration file", "bodyText": "Fixes https://issues.redhat.com/browse/RESTEASY-2581\nStill WIP because some test cases still need for a little investigation.\nBasically, this PR introduces a new profile which - like for what happens in Wildfly TS - would use the standalone-microprofile.xml config file to start the server up.\nThen, when running tests by passing a new property - namely -Dts.standalone.microprofile to activate the above mentioned profile, some tests in integration-tests and integration-tests-spring/inmodule TS modules will fail.\nHence, two new JUint Category interfaces have been added:\n\nExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11: skips tests that seem to fail because of the SmallRye MP OpenAPI implementation used in Wildfly 19 (further investigation to confirm this is needed)\nExpectedFailingWithStandaloneMicroprofileConfiguration: skips tests that fail because of missing subsystems in Wildfly when standalone-microprofile.xml is used.\n\nThis PR also bumps  server.version to 19.0.0.Final.\nCommands to verify that TS is running fine with the new profile:\n$ export SERVER_VERSION=19.0.0.Final\n$ mvn -B -am -pl integration-tests -fae -Dserver.version=$SERVER_VERSION install -Dts.standalone.microprofile", "createdAt": "2020-05-10T21:49:20Z", "url": "https://github.com/resteasy/resteasy/pull/2399", "merged": true, "mergeCommit": {"oid": "5bd2ac9979bc17bbb9da7a51bf94d3b82cf10a9a"}, "closed": true, "closedAt": "2020-05-22T17:11:41Z", "author": {"login": "fabiobrz"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgKt49ABqjMzMjE2NzI0MjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchdGyxgFqTQxMjQxNjE2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0ea690660d3bd9f83e220c1589f8fef691ed6e6f", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/0ea690660d3bd9f83e220c1589f8fef691ed6e6f", "committedDate": "2020-05-11T07:37:44Z", "message": "Bump server.version to 19.0.0.Final"}, "afterCommit": {"oid": "3a67a3d3ad2756ea870a51bec5042d22a27faba7", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/3a67a3d3ad2756ea870a51bec5042d22a27faba7", "committedDate": "2020-05-11T07:40:19Z", "message": "Bump server.version to 19.0.0.Final"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3a67a3d3ad2756ea870a51bec5042d22a27faba7", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/3a67a3d3ad2756ea870a51bec5042d22a27faba7", "committedDate": "2020-05-11T07:40:19Z", "message": "Bump server.version to 19.0.0.Final"}, "afterCommit": {"oid": "30370f322b72cb7be6addee579dbac54e8cfe061", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/30370f322b72cb7be6addee579dbac54e8cfe061", "committedDate": "2020-05-11T07:53:45Z", "message": "[RESTEASY-2581] Introducing profile in order to run tests with standalone-microprofile.xml config"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "30370f322b72cb7be6addee579dbac54e8cfe061", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/30370f322b72cb7be6addee579dbac54e8cfe061", "committedDate": "2020-05-11T07:53:45Z", "message": "[RESTEASY-2581] Introducing profile in order to run tests with standalone-microprofile.xml config"}, "afterCommit": {"oid": "5f063d7db22453e1556fef20a2075973f5edf7df", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/5f063d7db22453e1556fef20a2075973f5edf7df", "committedDate": "2020-05-11T08:42:07Z", "message": "[RESTEASY-2581] Introducing profile in order to run tests with standalone-microprofile.xml config"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5f063d7db22453e1556fef20a2075973f5edf7df", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/5f063d7db22453e1556fef20a2075973f5edf7df", "committedDate": "2020-05-11T08:42:07Z", "message": "[RESTEASY-2581] Introducing profile in order to run tests with standalone-microprofile.xml config"}, "afterCommit": {"oid": "b7a5b3ae77d576391a12897f6fc93401b73aa536", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/b7a5b3ae77d576391a12897f6fc93401b73aa536", "committedDate": "2020-05-11T09:17:53Z", "message": "[RESTEASY-2581] Introducing profile in order to run tests with standalone-microprofile.xml config"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b7a5b3ae77d576391a12897f6fc93401b73aa536", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/b7a5b3ae77d576391a12897f6fc93401b73aa536", "committedDate": "2020-05-11T09:17:53Z", "message": "[RESTEASY-2581] Introducing profile in order to run tests with standalone-microprofile.xml config"}, "afterCommit": {"oid": "353713fa5ad68a275f1eab902f3822b35d9889a1", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/353713fa5ad68a275f1eab902f3822b35d9889a1", "committedDate": "2020-05-11T12:18:28Z", "message": "[RESTEASY-2581] Introducing profile in order to run tests with standalone-microprofile.xml config"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "353713fa5ad68a275f1eab902f3822b35d9889a1", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/353713fa5ad68a275f1eab902f3822b35d9889a1", "committedDate": "2020-05-11T12:18:28Z", "message": "[RESTEASY-2581] Introducing profile in order to run tests with standalone-microprofile.xml config"}, "afterCommit": {"oid": "2a9f6ef4f7b2c304dfd19104236597912d73ce91", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/2a9f6ef4f7b2c304dfd19104236597912d73ce91", "committedDate": "2020-05-11T12:22:13Z", "message": "[RESTEASY-2581] Introducing profile in order to run tests with standalone-microprofile.xml config"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2a9f6ef4f7b2c304dfd19104236597912d73ce91", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/2a9f6ef4f7b2c304dfd19104236597912d73ce91", "committedDate": "2020-05-11T12:22:13Z", "message": "[RESTEASY-2581] Introducing profile in order to run tests with standalone-microprofile.xml config"}, "afterCommit": {"oid": "1974c311e5672dcc10a52ca56299cf2182ac5d7c", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/1974c311e5672dcc10a52ca56299cf2182ac5d7c", "committedDate": "2020-05-11T16:10:35Z", "message": "[RESTEASY-2581] Introducing profile in order to run tests with standalone-microprofile.xml config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNTE4Nzg2", "url": "https://github.com/resteasy/resteasy/pull/2399#pullrequestreview-411518786", "createdAt": "2020-05-14T07:06:48Z", "commit": {"oid": "1974c311e5672dcc10a52ca56299cf2182ac5d7c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNzowNjo0OVrOGVOvXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNzowNjo0OVrOGVOvXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkxNDc4Mg==", "bodyText": "ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11 issue needs to be investigated. (cc @tommaso-borgato)", "url": "https://github.com/resteasy/resteasy/pull/2399#discussion_r424914782", "createdAt": "2020-05-14T07:06:49Z", "author": {"login": "marekkopecky"}, "path": "testsuite/integration-tests/pom.xml", "diffHunk": "@@ -181,6 +181,28 @@\n                 </plugins>\n             </build>\n         </profile>\n+        <!-- \n+            Test against MicroProfile config.\n+            standalone-microprofile.xml is used to replace occurrences of\n+            standalone-full.xml in Arquillian configuration (arquillian.xml)\n+        -->\n+        <profile>\n+            <id>standalone.microprofile.profile</id>\n+            <activation>\n+                <property>\n+                    <name>ts.standalone.microprofile</name>\n+                </property>\n+            </activation>\n+            <properties>\n+                <jboss.server.config.file.name>standalone-microprofile.xml</jboss.server.config.file.name>\n+                <!--\n+                    Excluding those tests that would need modules \n+                    which are in standalone-full.xml but not in \n+                    standalone-microprofile.xml\n+                -->\n+                <additional.surefire.excluded.groups>org.jboss.resteasy.category.ExpectedFailingWithStandaloneMicroprofileConfiguration,org.jboss.resteasy.category.ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11</additional.surefire.excluded.groups>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1974c311e5672dcc10a52ca56299cf2182ac5d7c"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "578f46faefead01ccce18bc2a697b4515f639bf4", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/578f46faefead01ccce18bc2a697b4515f639bf4", "committedDate": "2020-05-14T07:39:49Z", "message": "[RESTEASY-2581] Introducing profile in order to run tests with standalone-microprofile.xml config"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1974c311e5672dcc10a52ca56299cf2182ac5d7c", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/1974c311e5672dcc10a52ca56299cf2182ac5d7c", "committedDate": "2020-05-11T16:10:35Z", "message": "[RESTEASY-2581] Introducing profile in order to run tests with standalone-microprofile.xml config"}, "afterCommit": {"oid": "578f46faefead01ccce18bc2a697b4515f639bf4", "author": {"user": null}, "url": "https://github.com/resteasy/resteasy/commit/578f46faefead01ccce18bc2a697b4515f639bf4", "committedDate": "2020-05-14T07:39:49Z", "message": "[RESTEASY-2581] Introducing profile in order to run tests with standalone-microprofile.xml config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyNDE2MTY4", "url": "https://github.com/resteasy/resteasy/pull/2399#pullrequestreview-412416168", "createdAt": "2020-05-15T07:40:15Z", "commit": {"oid": "578f46faefead01ccce18bc2a697b4515f639bf4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1719, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}