{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2NTY0MDkw", "number": 2430, "title": "[RESTEASY-2597] add methods and test to support setting", "bodyText": "", "createdAt": "2020-06-02T12:51:58Z", "url": "https://github.com/resteasy/resteasy/pull/2430", "merged": true, "mergeCommit": {"oid": "0878005a66610dbfb0ddf9aaddd31aa83123cb9c"}, "closed": true, "closedAt": "2020-06-29T22:49:29Z", "author": {"login": "rsearls"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcoO4krgFqTQyNTExOTA0NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwJFLfgFqTQzOTU1NDIxMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MTE5MDQ0", "url": "https://github.com/resteasy/resteasy/pull/2430#pullrequestreview-425119044", "createdAt": "2020-06-05T08:57:05Z", "commit": {"oid": "9b5c1c216deec94010bd3d197f770339b42253f4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwODo1NzowNVrOGfmLLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwOTowMjo1N1rOGfmYwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc4NDQ5NQ==", "bodyText": "This should really be:\npublic abstract ResteasyClientBuilder automaticRetriesDisabled(boolean automaticRetriesDisabled);\nBasically, as this class is a builder, you should return the current instance. Moreover, a boolean parameter should be used so that the feature can be enabled and disabled.", "url": "https://github.com/resteasy/resteasy/pull/2430#discussion_r435784495", "createdAt": "2020-06-05T08:57:05Z", "author": {"login": "asoldano"}, "path": "resteasy-client-api/src/main/java/org/jboss/resteasy/client/jaxrs/ResteasyClientBuilder.java", "diffHunk": "@@ -223,6 +223,12 @@\n \r\n    public abstract long getConnectionTimeout(TimeUnit unit);\r\n \r\n+   /**\r\n+    * boolean, notify apache to disable its automatic retries.\r\n+    */\r\n+   public abstract void disableAutomaticRetries();\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b5c1c216deec94010bd3d197f770339b42253f4"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc4NTYxMg==", "bodyText": "Should you name the method above the way I suggested (basically appending \"disabled\"), this would have to be changed accordingly.", "url": "https://github.com/resteasy/resteasy/pull/2430#discussion_r435785612", "createdAt": "2020-06-05T08:59:00Z", "author": {"login": "asoldano"}, "path": "resteasy-client-api/src/main/java/org/jboss/resteasy/client/jaxrs/ResteasyClientBuilder.java", "diffHunk": "@@ -223,6 +223,12 @@\n \r\n    public abstract long getConnectionTimeout(TimeUnit unit);\r\n \r\n+   /**\r\n+    * boolean, notify apache to disable its automatic retries.\r\n+    */\r\n+   public abstract void disableAutomaticRetries();\r\n+   public abstract boolean isDisableAutomaticRetries();\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b5c1c216deec94010bd3d197f770339b42253f4"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc4Nzk3MA==", "bodyText": "This looks like a unit test more than an integration test. If that's what you really meant to do, please move this to the resteasy-client module test directory. If a real integration test is not too hard to write, it should live here, instead.", "url": "https://github.com/resteasy/resteasy/pull/2430#discussion_r435787970", "createdAt": "2020-06-05T09:02:57Z", "author": {"login": "asoldano"}, "path": "testsuite/integration-tests/src/test/java/org/jboss/resteasy/test/client/other/DisableAutomaticRetriesTest.java", "diffHunk": "@@ -0,0 +1,52 @@\n+package org.jboss.resteasy.test.client.other;\n+\n+import org.jboss.arquillian.container.test.api.Deployment;\n+import org.jboss.arquillian.container.test.api.RunAsClient;\n+import org.jboss.arquillian.junit.Arquillian;\n+import org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder;\n+import org.jboss.resteasy.utils.TestUtil;\n+import org.jboss.shrinkwrap.api.Archive;\n+import org.jboss.shrinkwrap.api.spec.WebArchive;\n+import org.junit.Assert;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import javax.ws.rs.GET;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.client.Client;\n+import javax.ws.rs.client.ClientBuilder;\n+\n+/**\n+ * Notify apache to disable its automatic retries.\n+ * @tpSince RESTEasy 4.6.0\n+ */\n+\n+@RunWith(Arquillian.class)\n+@RunAsClient\n+public class DisableAutomaticRetriesTest {\n+\n+    @Path(\"/test\")\n+    public static class  SimpleResource {\n+        @GET\n+        public String Hello() {\n+            return \"Hello\";\n+        }\n+    }\n+\n+    @Deployment\n+    public static Archive<?> deploy() {\n+        WebArchive war = TestUtil.prepareArchive(\n+                DisableAutomaticRetriesTest.class.getSimpleName());\n+        return TestUtil.finishContainerPrepare(war, null, SimpleResource.class);\n+    }\n+\n+    @Test\n+    public void testFlag() throws Exception {\n+        ResteasyClientBuilder builder = (ResteasyClientBuilder) ClientBuilder.newBuilder();\n+        Assert.assertFalse(builder.isDisableAutomaticRetries());\n+        builder.disableAutomaticRetries();\n+        Client client = builder.build();\n+        Assert.assertTrue(builder.isDisableAutomaticRetries());\n+        client.close();\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b5c1c216deec94010bd3d197f770339b42253f4"}, "originalPosition": 51}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9b5c1c216deec94010bd3d197f770339b42253f4", "author": {"user": {"login": "rsearls", "name": null}}, "url": "https://github.com/resteasy/resteasy/commit/9b5c1c216deec94010bd3d197f770339b42253f4", "committedDate": "2020-06-01T21:40:15Z", "message": "[RESTEASY-2597] add methods and test to support setting"}, "afterCommit": {"oid": "c24eae101038b3417132a4cddf7da3aa576a6e33", "author": {"user": {"login": "rsearls", "name": null}}, "url": "https://github.com/resteasy/resteasy/commit/c24eae101038b3417132a4cddf7da3aa576a6e33", "committedDate": "2020-06-15T13:43:58Z", "message": "[RESTEASY-2597] add methods and test to support setting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5f99f13faaf09013f5bf4040f58b63217b398fb", "author": {"user": {"login": "rsearls", "name": null}}, "url": "https://github.com/resteasy/resteasy/commit/f5f99f13faaf09013f5bf4040f58b63217b398fb", "committedDate": "2020-06-16T14:32:12Z", "message": "[RESTEASY-2597] add methods and test to support setting"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c24eae101038b3417132a4cddf7da3aa576a6e33", "author": {"user": {"login": "rsearls", "name": null}}, "url": "https://github.com/resteasy/resteasy/commit/c24eae101038b3417132a4cddf7da3aa576a6e33", "committedDate": "2020-06-15T13:43:58Z", "message": "[RESTEASY-2597] add methods and test to support setting"}, "afterCommit": {"oid": "f5f99f13faaf09013f5bf4040f58b63217b398fb", "author": {"user": {"login": "rsearls", "name": null}}, "url": "https://github.com/resteasy/resteasy/commit/f5f99f13faaf09013f5bf4040f58b63217b398fb", "committedDate": "2020-06-16T14:32:12Z", "message": "[RESTEASY-2597] add methods and test to support setting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NTU0MjEz", "url": "https://github.com/resteasy/resteasy/pull/2430#pullrequestreview-439554213", "createdAt": "2020-06-29T22:49:15Z", "commit": {"oid": "f5f99f13faaf09013f5bf4040f58b63217b398fb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1658, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}