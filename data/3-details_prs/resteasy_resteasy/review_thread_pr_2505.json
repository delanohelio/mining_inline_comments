{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc5NjI1OTM0", "number": 2505, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQxMToxNjoyMlrOEgmB3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxNDoxMjoyMFrOEneTIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNjEyOTU2OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQxMToxNjoyMlrOHNhZpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNzoxMTowMVrOHOPn7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDc3Mw==", "bodyText": "2.0.0.Beta4 was released yesterday.", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r483940773", "createdAt": "2020-09-05T11:16:22Z", "author": {"login": "fabiobrz"}, "path": "pom.xml", "diffHunk": "@@ -30,6 +30,7 @@\n         <surefire.system.args>-Xms512m -Xmx512m ${modular.jdk.args}</surefire.system.args>\r\n         <!-- Plugins versions -->\r\n         <version.org.jacoco.plugin>0.7.9</version.org.jacoco.plugin>\r\n+        <version.org.wildfly.jar.plugin>2.0.0.Beta1</version.org.wildfly.jar.plugin>\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDI0MzQzMQ==", "bodyText": "Thanks, I will update it and start new CI run", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484243431", "createdAt": "2020-09-07T07:45:43Z", "author": {"login": "marekkopecky"}, "path": "pom.xml", "diffHunk": "@@ -30,6 +30,7 @@\n         <surefire.system.args>-Xms512m -Xmx512m ${modular.jdk.args}</surefire.system.args>\r\n         <!-- Plugins versions -->\r\n         <version.org.jacoco.plugin>0.7.9</version.org.jacoco.plugin>\r\n+        <version.org.wildfly.jar.plugin>2.0.0.Beta1</version.org.wildfly.jar.plugin>\r", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDc3Mw=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY4ODc2OA==", "bodyText": "Updated to 2.0.0.Beta5 as we discussed on google chat ...", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484688768", "createdAt": "2020-09-08T06:51:30Z", "author": {"login": "marekkopecky"}, "path": "pom.xml", "diffHunk": "@@ -30,6 +30,7 @@\n         <surefire.system.args>-Xms512m -Xmx512m ${modular.jdk.args}</surefire.system.args>\r\n         <!-- Plugins versions -->\r\n         <version.org.jacoco.plugin>0.7.9</version.org.jacoco.plugin>\r\n+        <version.org.wildfly.jar.plugin>2.0.0.Beta1</version.org.wildfly.jar.plugin>\r", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDc3Mw=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY5ODA5Mg==", "bodyText": "Marking this thread as resolved, let me know if you have some objections ...", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484698092", "createdAt": "2020-09-08T07:11:01Z", "author": {"login": "marekkopecky"}, "path": "pom.xml", "diffHunk": "@@ -30,6 +30,7 @@\n         <surefire.system.args>-Xms512m -Xmx512m ${modular.jdk.args}</surefire.system.args>\r\n         <!-- Plugins versions -->\r\n         <version.org.jacoco.plugin>0.7.9</version.org.jacoco.plugin>\r\n+        <version.org.wildfly.jar.plugin>2.0.0.Beta1</version.org.wildfly.jar.plugin>\r", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDc3Mw=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNjEzMDMxOnYy", "diffSide": "RIGHT", "path": "testsuite/README.MD", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQxMToxNzoyNVrOHNhZ_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNzoxMjowNlrOHOPqAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDg2Mw==", "bodyText": "What is -Dserver.home used for when testing Bootable JAR?", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r483940863", "createdAt": "2020-09-05T11:17:25Z", "author": {"login": "fabiobrz"}, "path": "testsuite/README.MD", "diffHunk": "@@ -90,6 +90,12 @@ the usage of `standalone-microprofile.xml` configuration file:\n \n > mvn clean verify -Dserver.home=PATH_TO_WIDLFLY_HOME -Dts.standalone.microprofile\n \n+### Bootable jar testing\n+Run testsuite or test against Bootable jar, not against Wildfly:\n+\n+> mvn clean verify -Dts.bootable -Ddefault=false -Ddisable.microprofile.tests -Dserver.version=21.0.0.Beta1-SNAPSHOT -Dserver.home=placeholder ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIzNzEwMQ==", "bodyText": "This disable download profile, which is not necessary for bootable jar testing", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484237101", "createdAt": "2020-09-07T07:36:08Z", "author": {"login": "marekkopecky"}, "path": "testsuite/README.MD", "diffHunk": "@@ -90,6 +90,12 @@ the usage of `standalone-microprofile.xml` configuration file:\n \n > mvn clean verify -Dserver.home=PATH_TO_WIDLFLY_HOME -Dts.standalone.microprofile\n \n+### Bootable jar testing\n+Run testsuite or test against Bootable jar, not against Wildfly:\n+\n+> mvn clean verify -Dts.bootable -Ddefault=false -Ddisable.microprofile.tests -Dserver.version=21.0.0.Beta1-SNAPSHOT -Dserver.home=placeholder ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDg2Mw=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzODM2NA==", "bodyText": "Makes sense, thanks, although I'd change it to something like not-needed-for-bootable.jar, otherwise a user could not understand at first glance. WDYT?", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484338364", "createdAt": "2020-09-07T10:18:31Z", "author": {"login": "fabiobrz"}, "path": "testsuite/README.MD", "diffHunk": "@@ -90,6 +90,12 @@ the usage of `standalone-microprofile.xml` configuration file:\n \n > mvn clean verify -Dserver.home=PATH_TO_WIDLFLY_HOME -Dts.standalone.microprofile\n \n+### Bootable jar testing\n+Run testsuite or test against Bootable jar, not against Wildfly:\n+\n+> mvn clean verify -Dts.bootable -Ddefault=false -Ddisable.microprofile.tests -Dserver.version=21.0.0.Beta1-SNAPSHOT -Dserver.home=placeholder ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDg2Mw=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM5MTUxMg==", "bodyText": "Sure, updated", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484391512", "createdAt": "2020-09-07T12:07:52Z", "author": {"login": "marekkopecky"}, "path": "testsuite/README.MD", "diffHunk": "@@ -90,6 +90,12 @@ the usage of `standalone-microprofile.xml` configuration file:\n \n > mvn clean verify -Dserver.home=PATH_TO_WIDLFLY_HOME -Dts.standalone.microprofile\n \n+### Bootable jar testing\n+Run testsuite or test against Bootable jar, not against Wildfly:\n+\n+> mvn clean verify -Dts.bootable -Ddefault=false -Ddisable.microprofile.tests -Dserver.version=21.0.0.Beta1-SNAPSHOT -Dserver.home=placeholder ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDg2Mw=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY5ODYyNw==", "bodyText": "Marking this thread as resolved, let me know if you have some objections ...", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484698627", "createdAt": "2020-09-08T07:12:06Z", "author": {"login": "marekkopecky"}, "path": "testsuite/README.MD", "diffHunk": "@@ -90,6 +90,12 @@ the usage of `standalone-microprofile.xml` configuration file:\n \n > mvn clean verify -Dserver.home=PATH_TO_WIDLFLY_HOME -Dts.standalone.microprofile\n \n+### Bootable jar testing\n+Run testsuite or test against Bootable jar, not against Wildfly:\n+\n+> mvn clean verify -Dts.bootable -Ddefault=false -Ddisable.microprofile.tests -Dserver.version=21.0.0.Beta1-SNAPSHOT -Dserver.home=placeholder ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDg2Mw=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNjEzMTE4OnYy", "diffSide": "RIGHT", "path": "testsuite/integration-tests/pom.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQxMToxODo0OFrOHNhaaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNzoxMToxMVrOHOPoOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDk2OQ==", "bodyText": "When moving to wildfly-jar-maven-plugin:2.0.0.Beta4 this will have to be removed.", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r483940969", "createdAt": "2020-09-05T11:18:48Z", "author": {"login": "fabiobrz"}, "path": "testsuite/integration-tests/pom.xml", "diffHunk": "@@ -203,6 +203,152 @@\n                 <microprofile.excluded.groups>org.jboss.resteasy.category.ExpectedFailingWithStandaloneMicroprofileConfiguration,org.jboss.resteasy.category.ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11</microprofile.excluded.groups>\n             </properties>\n         </profile>\n+\n+        <profile>\n+            <id>bootablejar.profile</id>\n+            <activation>\n+                <property>\n+                    <name>ts.bootable</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <!-- Disable the standard copy-based provisioning -->\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>initialize-basedirs</id>\n+                                <phase>none</phase>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    <plugin>\n+                        <groupId>org.wildfly.plugins</groupId>\n+                        <artifactId>wildfly-jar-maven-plugin</artifactId>\n+                        <executions>\n+                            <!-- Package a datasources-web-server with observability decorator added -->\n+                            <execution>\n+                                <id>bootable-jar-observability-packaging</id>\n+                                <goals>\n+                                    <goal>package</goal>\n+                                </goals>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <output-file-name>jaxrs-server.jar</output-file-name>\n+                                    <hollowJar>true</hollowJar>\n+                                    <record-state>false</record-state>\n+                                    <log-time>true</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>true</jboss-fork-embedded>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>org.wildfly</groupId>\n+                                            <artifactId>wildfly-galleon-pack</artifactId>\n+                                            <version>${server.version}</version>\n+                                            <inherit-configs>false</inherit-configs>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDI0NTQ2MQ==", "bodyText": "Updated, thanks!", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484245461", "createdAt": "2020-09-07T07:47:44Z", "author": {"login": "marekkopecky"}, "path": "testsuite/integration-tests/pom.xml", "diffHunk": "@@ -203,6 +203,152 @@\n                 <microprofile.excluded.groups>org.jboss.resteasy.category.ExpectedFailingWithStandaloneMicroprofileConfiguration,org.jboss.resteasy.category.ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11</microprofile.excluded.groups>\n             </properties>\n         </profile>\n+\n+        <profile>\n+            <id>bootablejar.profile</id>\n+            <activation>\n+                <property>\n+                    <name>ts.bootable</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <!-- Disable the standard copy-based provisioning -->\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>initialize-basedirs</id>\n+                                <phase>none</phase>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    <plugin>\n+                        <groupId>org.wildfly.plugins</groupId>\n+                        <artifactId>wildfly-jar-maven-plugin</artifactId>\n+                        <executions>\n+                            <!-- Package a datasources-web-server with observability decorator added -->\n+                            <execution>\n+                                <id>bootable-jar-observability-packaging</id>\n+                                <goals>\n+                                    <goal>package</goal>\n+                                </goals>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <output-file-name>jaxrs-server.jar</output-file-name>\n+                                    <hollowJar>true</hollowJar>\n+                                    <record-state>false</record-state>\n+                                    <log-time>true</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>true</jboss-fork-embedded>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>org.wildfly</groupId>\n+                                            <artifactId>wildfly-galleon-pack</artifactId>\n+                                            <version>${server.version}</version>\n+                                            <inherit-configs>false</inherit-configs>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDk2OQ=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY5ODE2OA==", "bodyText": "Marking this thread as resolved, let me know if you have some objections ...", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484698168", "createdAt": "2020-09-08T07:11:11Z", "author": {"login": "marekkopecky"}, "path": "testsuite/integration-tests/pom.xml", "diffHunk": "@@ -203,6 +203,152 @@\n                 <microprofile.excluded.groups>org.jboss.resteasy.category.ExpectedFailingWithStandaloneMicroprofileConfiguration,org.jboss.resteasy.category.ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11</microprofile.excluded.groups>\n             </properties>\n         </profile>\n+\n+        <profile>\n+            <id>bootablejar.profile</id>\n+            <activation>\n+                <property>\n+                    <name>ts.bootable</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <!-- Disable the standard copy-based provisioning -->\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>initialize-basedirs</id>\n+                                <phase>none</phase>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    <plugin>\n+                        <groupId>org.wildfly.plugins</groupId>\n+                        <artifactId>wildfly-jar-maven-plugin</artifactId>\n+                        <executions>\n+                            <!-- Package a datasources-web-server with observability decorator added -->\n+                            <execution>\n+                                <id>bootable-jar-observability-packaging</id>\n+                                <goals>\n+                                    <goal>package</goal>\n+                                </goals>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <output-file-name>jaxrs-server.jar</output-file-name>\n+                                    <hollowJar>true</hollowJar>\n+                                    <record-state>false</record-state>\n+                                    <log-time>true</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>true</jboss-fork-embedded>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>org.wildfly</groupId>\n+                                            <artifactId>wildfly-galleon-pack</artifactId>\n+                                            <version>${server.version}</version>\n+                                            <inherit-configs>false</inherit-configs>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDk2OQ=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNjEzMTI4OnYy", "diffSide": "RIGHT", "path": "testsuite/integration-tests/pom.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQxMToxODo1NlrOHNhadQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNzoxMTo1MlrOHOPpig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDk4MQ==", "bodyText": "When moving to wildfly-jar-maven-plugin:2.0.0.Beta4 this will have to be removed.", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r483940981", "createdAt": "2020-09-05T11:18:56Z", "author": {"login": "fabiobrz"}, "path": "testsuite/integration-tests/pom.xml", "diffHunk": "@@ -203,6 +203,152 @@\n                 <microprofile.excluded.groups>org.jboss.resteasy.category.ExpectedFailingWithStandaloneMicroprofileConfiguration,org.jboss.resteasy.category.ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11</microprofile.excluded.groups>\n             </properties>\n         </profile>\n+\n+        <profile>\n+            <id>bootablejar.profile</id>\n+            <activation>\n+                <property>\n+                    <name>ts.bootable</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <!-- Disable the standard copy-based provisioning -->\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>initialize-basedirs</id>\n+                                <phase>none</phase>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    <plugin>\n+                        <groupId>org.wildfly.plugins</groupId>\n+                        <artifactId>wildfly-jar-maven-plugin</artifactId>\n+                        <executions>\n+                            <!-- Package a datasources-web-server with observability decorator added -->\n+                            <execution>\n+                                <id>bootable-jar-observability-packaging</id>\n+                                <goals>\n+                                    <goal>package</goal>\n+                                </goals>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <output-file-name>jaxrs-server.jar</output-file-name>\n+                                    <hollowJar>true</hollowJar>\n+                                    <record-state>false</record-state>\n+                                    <log-time>true</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>true</jboss-fork-embedded>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>org.wildfly</groupId>\n+                                            <artifactId>wildfly-galleon-pack</artifactId>\n+                                            <version>${server.version}</version>\n+                                            <inherit-configs>false</inherit-configs>\n+                                            <inherit-packages>false</inherit-packages>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDI0NTU1MQ==", "bodyText": "Updated, thanks!", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484245551", "createdAt": "2020-09-07T07:47:50Z", "author": {"login": "marekkopecky"}, "path": "testsuite/integration-tests/pom.xml", "diffHunk": "@@ -203,6 +203,152 @@\n                 <microprofile.excluded.groups>org.jboss.resteasy.category.ExpectedFailingWithStandaloneMicroprofileConfiguration,org.jboss.resteasy.category.ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11</microprofile.excluded.groups>\n             </properties>\n         </profile>\n+\n+        <profile>\n+            <id>bootablejar.profile</id>\n+            <activation>\n+                <property>\n+                    <name>ts.bootable</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <!-- Disable the standard copy-based provisioning -->\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>initialize-basedirs</id>\n+                                <phase>none</phase>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    <plugin>\n+                        <groupId>org.wildfly.plugins</groupId>\n+                        <artifactId>wildfly-jar-maven-plugin</artifactId>\n+                        <executions>\n+                            <!-- Package a datasources-web-server with observability decorator added -->\n+                            <execution>\n+                                <id>bootable-jar-observability-packaging</id>\n+                                <goals>\n+                                    <goal>package</goal>\n+                                </goals>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <output-file-name>jaxrs-server.jar</output-file-name>\n+                                    <hollowJar>true</hollowJar>\n+                                    <record-state>false</record-state>\n+                                    <log-time>true</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>true</jboss-fork-embedded>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>org.wildfly</groupId>\n+                                            <artifactId>wildfly-galleon-pack</artifactId>\n+                                            <version>${server.version}</version>\n+                                            <inherit-configs>false</inherit-configs>\n+                                            <inherit-packages>false</inherit-packages>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDk4MQ=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY5ODUwNg==", "bodyText": "Marking this thread as resolved, let me know if you have some objections ...", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484698506", "createdAt": "2020-09-08T07:11:52Z", "author": {"login": "marekkopecky"}, "path": "testsuite/integration-tests/pom.xml", "diffHunk": "@@ -203,6 +203,152 @@\n                 <microprofile.excluded.groups>org.jboss.resteasy.category.ExpectedFailingWithStandaloneMicroprofileConfiguration,org.jboss.resteasy.category.ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11</microprofile.excluded.groups>\n             </properties>\n         </profile>\n+\n+        <profile>\n+            <id>bootablejar.profile</id>\n+            <activation>\n+                <property>\n+                    <name>ts.bootable</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <!-- Disable the standard copy-based provisioning -->\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>initialize-basedirs</id>\n+                                <phase>none</phase>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    <plugin>\n+                        <groupId>org.wildfly.plugins</groupId>\n+                        <artifactId>wildfly-jar-maven-plugin</artifactId>\n+                        <executions>\n+                            <!-- Package a datasources-web-server with observability decorator added -->\n+                            <execution>\n+                                <id>bootable-jar-observability-packaging</id>\n+                                <goals>\n+                                    <goal>package</goal>\n+                                </goals>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <output-file-name>jaxrs-server.jar</output-file-name>\n+                                    <hollowJar>true</hollowJar>\n+                                    <record-state>false</record-state>\n+                                    <log-time>true</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>true</jboss-fork-embedded>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>org.wildfly</groupId>\n+                                            <artifactId>wildfly-galleon-pack</artifactId>\n+                                            <version>${server.version}</version>\n+                                            <inherit-configs>false</inherit-configs>\n+                                            <inherit-packages>false</inherit-packages>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDk4MQ=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNjEzMzAwOnYy", "diffSide": "RIGHT", "path": "testsuite/integration-tests/pom.xml", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQxMToyMToxMlrOHNhbOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNzoxMToyNVrOHOPooA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MTE3OQ==", "bodyText": "I see different configuration with respect to the observability layer which was mentioned in the comment above. Am I missing something?", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r483941179", "createdAt": "2020-09-05T11:21:12Z", "author": {"login": "fabiobrz"}, "path": "testsuite/integration-tests/pom.xml", "diffHunk": "@@ -203,6 +203,152 @@\n                 <microprofile.excluded.groups>org.jboss.resteasy.category.ExpectedFailingWithStandaloneMicroprofileConfiguration,org.jboss.resteasy.category.ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11</microprofile.excluded.groups>\n             </properties>\n         </profile>\n+\n+        <profile>\n+            <id>bootablejar.profile</id>\n+            <activation>\n+                <property>\n+                    <name>ts.bootable</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <!-- Disable the standard copy-based provisioning -->\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>initialize-basedirs</id>\n+                                <phase>none</phase>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    <plugin>\n+                        <groupId>org.wildfly.plugins</groupId>\n+                        <artifactId>wildfly-jar-maven-plugin</artifactId>\n+                        <executions>\n+                            <!-- Package a datasources-web-server with observability decorator added -->\n+                            <execution>\n+                                <id>bootable-jar-observability-packaging</id>\n+                                <goals>\n+                                    <goal>package</goal>\n+                                </goals>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <output-file-name>jaxrs-server.jar</output-file-name>\n+                                    <hollowJar>true</hollowJar>\n+                                    <record-state>false</record-state>\n+                                    <log-time>true</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>true</jboss-fork-embedded>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>org.wildfly</groupId>\n+                                            <artifactId>wildfly-galleon-pack</artifactId>\n+                                            <version>${server.version}</version>\n+                                            <inherit-configs>false</inherit-configs>\n+                                            <inherit-packages>false</inherit-packages>\n+                                        </feature-pack>\n+                                    </feature-packs>\n+                                    <layers>\n+                                        <layer>jaxrs-server</layer>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDI0NjM0Ng==", "bodyText": "Hmm, which comment?", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484246346", "createdAt": "2020-09-07T07:48:44Z", "author": {"login": "marekkopecky"}, "path": "testsuite/integration-tests/pom.xml", "diffHunk": "@@ -203,6 +203,152 @@\n                 <microprofile.excluded.groups>org.jboss.resteasy.category.ExpectedFailingWithStandaloneMicroprofileConfiguration,org.jboss.resteasy.category.ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11</microprofile.excluded.groups>\n             </properties>\n         </profile>\n+\n+        <profile>\n+            <id>bootablejar.profile</id>\n+            <activation>\n+                <property>\n+                    <name>ts.bootable</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <!-- Disable the standard copy-based provisioning -->\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>initialize-basedirs</id>\n+                                <phase>none</phase>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    <plugin>\n+                        <groupId>org.wildfly.plugins</groupId>\n+                        <artifactId>wildfly-jar-maven-plugin</artifactId>\n+                        <executions>\n+                            <!-- Package a datasources-web-server with observability decorator added -->\n+                            <execution>\n+                                <id>bootable-jar-observability-packaging</id>\n+                                <goals>\n+                                    <goal>package</goal>\n+                                </goals>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <output-file-name>jaxrs-server.jar</output-file-name>\n+                                    <hollowJar>true</hollowJar>\n+                                    <record-state>false</record-state>\n+                                    <log-time>true</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>true</jboss-fork-embedded>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>org.wildfly</groupId>\n+                                            <artifactId>wildfly-galleon-pack</artifactId>\n+                                            <version>${server.version}</version>\n+                                            <inherit-configs>false</inherit-configs>\n+                                            <inherit-packages>false</inherit-packages>\n+                                        </feature-pack>\n+                                    </feature-packs>\n+                                    <layers>\n+                                        <layer>jaxrs-server</layer>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MTE3OQ=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzOTAzNw==", "bodyText": "This one: https://github.com/resteasy/Resteasy/pull/2505/files#diff-8c7ea03eb619e46657b96e8fe8d4f09eR234\nI cannot see that the layers config is not just observability, or am I missing something?", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484339037", "createdAt": "2020-09-07T10:19:49Z", "author": {"login": "fabiobrz"}, "path": "testsuite/integration-tests/pom.xml", "diffHunk": "@@ -203,6 +203,152 @@\n                 <microprofile.excluded.groups>org.jboss.resteasy.category.ExpectedFailingWithStandaloneMicroprofileConfiguration,org.jboss.resteasy.category.ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11</microprofile.excluded.groups>\n             </properties>\n         </profile>\n+\n+        <profile>\n+            <id>bootablejar.profile</id>\n+            <activation>\n+                <property>\n+                    <name>ts.bootable</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <!-- Disable the standard copy-based provisioning -->\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>initialize-basedirs</id>\n+                                <phase>none</phase>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    <plugin>\n+                        <groupId>org.wildfly.plugins</groupId>\n+                        <artifactId>wildfly-jar-maven-plugin</artifactId>\n+                        <executions>\n+                            <!-- Package a datasources-web-server with observability decorator added -->\n+                            <execution>\n+                                <id>bootable-jar-observability-packaging</id>\n+                                <goals>\n+                                    <goal>package</goal>\n+                                </goals>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <output-file-name>jaxrs-server.jar</output-file-name>\n+                                    <hollowJar>true</hollowJar>\n+                                    <record-state>false</record-state>\n+                                    <log-time>true</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>true</jboss-fork-embedded>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>org.wildfly</groupId>\n+                                            <artifactId>wildfly-galleon-pack</artifactId>\n+                                            <version>${server.version}</version>\n+                                            <inherit-configs>false</inherit-configs>\n+                                            <inherit-packages>false</inherit-packages>\n+                                        </feature-pack>\n+                                    </feature-packs>\n+                                    <layers>\n+                                        <layer>jaxrs-server</layer>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MTE3OQ=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM4MDk4Nw==", "bodyText": "Ah, no, you don't miss anything. That comment above is just my copy-paste mistake. Fixing ...", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484380987", "createdAt": "2020-09-07T11:45:46Z", "author": {"login": "marekkopecky"}, "path": "testsuite/integration-tests/pom.xml", "diffHunk": "@@ -203,6 +203,152 @@\n                 <microprofile.excluded.groups>org.jboss.resteasy.category.ExpectedFailingWithStandaloneMicroprofileConfiguration,org.jboss.resteasy.category.ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11</microprofile.excluded.groups>\n             </properties>\n         </profile>\n+\n+        <profile>\n+            <id>bootablejar.profile</id>\n+            <activation>\n+                <property>\n+                    <name>ts.bootable</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <!-- Disable the standard copy-based provisioning -->\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>initialize-basedirs</id>\n+                                <phase>none</phase>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    <plugin>\n+                        <groupId>org.wildfly.plugins</groupId>\n+                        <artifactId>wildfly-jar-maven-plugin</artifactId>\n+                        <executions>\n+                            <!-- Package a datasources-web-server with observability decorator added -->\n+                            <execution>\n+                                <id>bootable-jar-observability-packaging</id>\n+                                <goals>\n+                                    <goal>package</goal>\n+                                </goals>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <output-file-name>jaxrs-server.jar</output-file-name>\n+                                    <hollowJar>true</hollowJar>\n+                                    <record-state>false</record-state>\n+                                    <log-time>true</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>true</jboss-fork-embedded>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>org.wildfly</groupId>\n+                                            <artifactId>wildfly-galleon-pack</artifactId>\n+                                            <version>${server.version}</version>\n+                                            <inherit-configs>false</inherit-configs>\n+                                            <inherit-packages>false</inherit-packages>\n+                                        </feature-pack>\n+                                    </feature-packs>\n+                                    <layers>\n+                                        <layer>jaxrs-server</layer>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MTE3OQ=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY5ODI3Mg==", "bodyText": "Marking this thread as resolved, let me know if you have some objections ...", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484698272", "createdAt": "2020-09-08T07:11:25Z", "author": {"login": "marekkopecky"}, "path": "testsuite/integration-tests/pom.xml", "diffHunk": "@@ -203,6 +203,152 @@\n                 <microprofile.excluded.groups>org.jboss.resteasy.category.ExpectedFailingWithStandaloneMicroprofileConfiguration,org.jboss.resteasy.category.ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11</microprofile.excluded.groups>\n             </properties>\n         </profile>\n+\n+        <profile>\n+            <id>bootablejar.profile</id>\n+            <activation>\n+                <property>\n+                    <name>ts.bootable</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <!-- Disable the standard copy-based provisioning -->\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>initialize-basedirs</id>\n+                                <phase>none</phase>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    <plugin>\n+                        <groupId>org.wildfly.plugins</groupId>\n+                        <artifactId>wildfly-jar-maven-plugin</artifactId>\n+                        <executions>\n+                            <!-- Package a datasources-web-server with observability decorator added -->\n+                            <execution>\n+                                <id>bootable-jar-observability-packaging</id>\n+                                <goals>\n+                                    <goal>package</goal>\n+                                </goals>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <output-file-name>jaxrs-server.jar</output-file-name>\n+                                    <hollowJar>true</hollowJar>\n+                                    <record-state>false</record-state>\n+                                    <log-time>true</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>true</jboss-fork-embedded>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>org.wildfly</groupId>\n+                                            <artifactId>wildfly-galleon-pack</artifactId>\n+                                            <version>${server.version}</version>\n+                                            <inherit-configs>false</inherit-configs>\n+                                            <inherit-packages>false</inherit-packages>\n+                                        </feature-pack>\n+                                    </feature-packs>\n+                                    <layers>\n+                                        <layer>jaxrs-server</layer>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MTE3OQ=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNjEzNDU1OnYy", "diffSide": "LEFT", "path": "resteasy-dependencies-bom/pom.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQxMToyNDowMFrOHNhcBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNzoxMTo0MFrOHOPpIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MTM4Mw==", "bodyText": "is wildfly-arquillian-container-remote no longer used at all?", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r483941383", "createdAt": "2020-09-05T11:24:00Z", "author": {"login": "fabiobrz"}, "path": "resteasy-dependencies-bom/pom.xml", "diffHunk": "@@ -80,7 +80,7 @@\n         <version.org.wildfly.core.wildfly-cli>7.0.0.Final</version.org.wildfly.core.wildfly-cli>\n         <version.org.wildfly.extras.creaper>1.6.1</version.org.wildfly.extras.creaper>\n         <version.org.wildfly.wildfly-arquillian-container-managed>2.2.0.Final</version.org.wildfly.wildfly-arquillian-container-managed>\n-        <version.org.wildfly.wildfly-arquillian-container-remote>2.1.1.Final</version.org.wildfly.wildfly-arquillian-container-remote>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDI0MTU5OA==", "bodyText": "Yes, remote was intended to be removed in RESTEASY-2466, but this is some leftover", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484241598", "createdAt": "2020-09-07T07:43:45Z", "author": {"login": "marekkopecky"}, "path": "resteasy-dependencies-bom/pom.xml", "diffHunk": "@@ -80,7 +80,7 @@\n         <version.org.wildfly.core.wildfly-cli>7.0.0.Final</version.org.wildfly.core.wildfly-cli>\n         <version.org.wildfly.extras.creaper>1.6.1</version.org.wildfly.extras.creaper>\n         <version.org.wildfly.wildfly-arquillian-container-managed>2.2.0.Final</version.org.wildfly.wildfly-arquillian-container-managed>\n-        <version.org.wildfly.wildfly-arquillian-container-remote>2.1.1.Final</version.org.wildfly.wildfly-arquillian-container-remote>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MTM4Mw=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY5ODQwMQ==", "bodyText": "Marking this thread as resolved, let me know if you have some objections ...", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484698401", "createdAt": "2020-09-08T07:11:40Z", "author": {"login": "marekkopecky"}, "path": "resteasy-dependencies-bom/pom.xml", "diffHunk": "@@ -80,7 +80,7 @@\n         <version.org.wildfly.core.wildfly-cli>7.0.0.Final</version.org.wildfly.core.wildfly-cli>\n         <version.org.wildfly.extras.creaper>1.6.1</version.org.wildfly.extras.creaper>\n         <version.org.wildfly.wildfly-arquillian-container-managed>2.2.0.Final</version.org.wildfly.wildfly-arquillian-container-managed>\n-        <version.org.wildfly.wildfly-arquillian-container-remote>2.1.1.Final</version.org.wildfly.wildfly-arquillian-container-remote>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MTM4Mw=="}, "originalCommit": {"oid": "a70b838dddee006080ada41bc8889f88c8561c19"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMDE5NzI0OnYy", "diffSide": "RIGHT", "path": "testsuite/integration-tests/src/test/java/org/jboss/resteasy/test/providers/sse/resource/SseBroadcastResource.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNjowMDo0MlrOHOD47Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNjoyMzo0MVrOHOOViw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNTgzNw==", "bodyText": "These could be correct or not (I haven't checked), but are they really related to this PR / RESTEASY-2686?", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484505837", "createdAt": "2020-09-07T16:00:42Z", "author": {"login": "asoldano"}, "path": "testsuite/integration-tests/src/test/java/org/jboss/resteasy/test/providers/sse/resource/SseBroadcastResource.java", "diffHunk": "@@ -15,18 +14,17 @@\n import javax.ws.rs.sse.SseEventSink;\n import java.io.IOException;\n \n-@Singleton\n @Path(\"/broadcast\")\n public class SseBroadcastResource {\n \n-   private final Object sseBroadcasterLock = new Object();\n-   private volatile SseBroadcaster sseBroadcaster;\n-   private volatile boolean onErrorCalled = false;\n-   private volatile boolean onCloseCalled = false;\n+   private static final Object sseBroadcasterLock = new Object();\n+   private static volatile SseBroadcaster sseBroadcaster;\n+   private static volatile boolean onErrorCalled = false;\n+   private static volatile boolean onCloseCalled = false;\n \n    private static final Logger logger = Logger.getLogger(SseBroadcastResource.class);\n \n-   SseEventSink subscribedSink = null;\n+   static SseEventSink subscribedSink = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eaf7365cc6ba4ab6775e295c08c0a3841146f129"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY3NzAwMw==", "bodyText": "The point here is that there is no EJB galleon layer ready. But this test was originally using @singleton annotation, see https://github.com/resteasy/Resteasy/blob/3.12/testsuite/integration-tests/src/test/java/org/jboss/resteasy/test/providers/sse/resource/SseBroadcastResource.java#L18\nSo basically we have a few choices here:\n\nignore this test now and unignore it once EJB layer is ready\nremove Singleton annotation and replace \"singleton\" variables by static variables\nuse ApplicationScope CDI bean instead of  (I don't test it, but it should probably works)\n\nI chose the second option, but I can also try some another, I don't have strong feelings here ...", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484677003", "createdAt": "2020-09-08T06:23:41Z", "author": {"login": "marekkopecky"}, "path": "testsuite/integration-tests/src/test/java/org/jboss/resteasy/test/providers/sse/resource/SseBroadcastResource.java", "diffHunk": "@@ -15,18 +14,17 @@\n import javax.ws.rs.sse.SseEventSink;\n import java.io.IOException;\n \n-@Singleton\n @Path(\"/broadcast\")\n public class SseBroadcastResource {\n \n-   private final Object sseBroadcasterLock = new Object();\n-   private volatile SseBroadcaster sseBroadcaster;\n-   private volatile boolean onErrorCalled = false;\n-   private volatile boolean onCloseCalled = false;\n+   private static final Object sseBroadcasterLock = new Object();\n+   private static volatile SseBroadcaster sseBroadcaster;\n+   private static volatile boolean onErrorCalled = false;\n+   private static volatile boolean onCloseCalled = false;\n \n    private static final Logger logger = Logger.getLogger(SseBroadcastResource.class);\n \n-   SseEventSink subscribedSink = null;\n+   static SseEventSink subscribedSink = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNTgzNw=="}, "originalCommit": {"oid": "eaf7365cc6ba4ab6775e295c08c0a3841146f129"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMDE5NzYzOnYy", "diffSide": "RIGHT", "path": "testsuite/integration-tests/src/test/java/org/jboss/resteasy/test/providers/sse/resource/SseReconnectResource.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNjowMTowMVrOHOD5Pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwODowNjo0N1rOHPn_Iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNTkxOQ==", "bodyText": "These could be correct or not (I haven't checked), but are they really related to this PR / RESTEASY-2686?", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484505919", "createdAt": "2020-09-07T16:01:01Z", "author": {"login": "asoldano"}, "path": "testsuite/integration-tests/src/test/java/org/jboss/resteasy/test/providers/sse/resource/SseReconnectResource.java", "diffHunk": "@@ -18,15 +17,14 @@\n import javax.ws.rs.sse.SseEventSink;\n import java.util.concurrent.TimeUnit;\n \n-@Singleton\n @Path(\"/reconnect\")\n public class SseReconnectResource {\n \n-   private volatile boolean isServiceAvailable = false;\n+   private static volatile boolean isServiceAvailable = false;\n \n-   private volatile long startTime = 0L;\n-   private volatile long endTime = 0L;\n-   private volatile long lastEventDeliveryTime;\n+   private static volatile long startTime = 0L;\n+   private static volatile long endTime = 0L;\n+   private static volatile long lastEventDeliveryTime;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eaf7365cc6ba4ab6775e295c08c0a3841146f129"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY3NzI5Ng==", "bodyText": "See my previous comment #2505 (comment)", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r484677296", "createdAt": "2020-09-08T06:24:27Z", "author": {"login": "marekkopecky"}, "path": "testsuite/integration-tests/src/test/java/org/jboss/resteasy/test/providers/sse/resource/SseReconnectResource.java", "diffHunk": "@@ -18,15 +17,14 @@\n import javax.ws.rs.sse.SseEventSink;\n import java.util.concurrent.TimeUnit;\n \n-@Singleton\n @Path(\"/reconnect\")\n public class SseReconnectResource {\n \n-   private volatile boolean isServiceAvailable = false;\n+   private static volatile boolean isServiceAvailable = false;\n \n-   private volatile long startTime = 0L;\n-   private volatile long endTime = 0L;\n-   private volatile long lastEventDeliveryTime;\n+   private static volatile long startTime = 0L;\n+   private static volatile long endTime = 0L;\n+   private static volatile long lastEventDeliveryTime;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNTkxOQ=="}, "originalCommit": {"oid": "eaf7365cc6ba4ab6775e295c08c0a3841146f129"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjE0NTgyNw==", "bodyText": "OK, thanks for the explanation, makes sense (here and in the other discussion)", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r486145827", "createdAt": "2020-09-10T08:06:47Z", "author": {"login": "asoldano"}, "path": "testsuite/integration-tests/src/test/java/org/jboss/resteasy/test/providers/sse/resource/SseReconnectResource.java", "diffHunk": "@@ -18,15 +17,14 @@\n import javax.ws.rs.sse.SseEventSink;\n import java.util.concurrent.TimeUnit;\n \n-@Singleton\n @Path(\"/reconnect\")\n public class SseReconnectResource {\n \n-   private volatile boolean isServiceAvailable = false;\n+   private static volatile boolean isServiceAvailable = false;\n \n-   private volatile long startTime = 0L;\n-   private volatile long endTime = 0L;\n-   private volatile long lastEventDeliveryTime;\n+   private static volatile long startTime = 0L;\n+   private static volatile long endTime = 0L;\n+   private static volatile long lastEventDeliveryTime;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNTkxOQ=="}, "originalCommit": {"oid": "eaf7365cc6ba4ab6775e295c08c0a3841146f129"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5ODI2MzM3OnYy", "diffSide": "RIGHT", "path": "testsuite/integration-tests/pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxNDoxMjoyMFrOHYFZGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNjo1MDoyOVrOHZdRgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAxNjIxOQ==", "bodyText": "@marekkopecky shouldnt this be parametrized as well, to be able to use other distros? E.g. EAP or EAP XP?", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r495016219", "createdAt": "2020-09-25T14:12:20Z", "author": {"login": "mchoma"}, "path": "testsuite/integration-tests/pom.xml", "diffHunk": "@@ -203,6 +203,150 @@\n                 <microprofile.excluded.groups>org.jboss.resteasy.category.ExpectedFailingWithStandaloneMicroprofileConfiguration,org.jboss.resteasy.category.ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11</microprofile.excluded.groups>\n             </properties>\n         </profile>\n+\n+        <profile>\n+            <id>bootablejar.profile</id>\n+            <activation>\n+                <property>\n+                    <name>ts.bootable</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <!-- Disable the standard copy-based provisioning -->\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>initialize-basedirs</id>\n+                                <phase>none</phase>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    <plugin>\n+                        <groupId>org.wildfly.plugins</groupId>\n+                        <artifactId>wildfly-jar-maven-plugin</artifactId>\n+                        <executions>\n+                            <!-- Package a jaxrs-server layer with a few other layers -->\n+                            <execution>\n+                                <id>bootable-jar-observability-packaging</id>\n+                                <goals>\n+                                    <goal>package</goal>\n+                                </goals>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <output-file-name>jaxrs-server.jar</output-file-name>\n+                                    <hollowJar>true</hollowJar>\n+                                    <record-state>false</record-state>\n+                                    <log-time>true</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>true</jboss-fork-embedded>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>org.wildfly</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6073a833d3be1aaf98f93ec0bec4acb0c64ef13"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQ1NjA2NQ==", "bodyText": "Good point, thanks for this. @fabiobrz Can you please incorporate this to #2526 ?", "url": "https://github.com/resteasy/resteasy/pull/2505#discussion_r496456065", "createdAt": "2020-09-29T06:50:29Z", "author": {"login": "marekkopecky"}, "path": "testsuite/integration-tests/pom.xml", "diffHunk": "@@ -203,6 +203,150 @@\n                 <microprofile.excluded.groups>org.jboss.resteasy.category.ExpectedFailingWithStandaloneMicroprofileConfiguration,org.jboss.resteasy.category.ExpectedFailingBecauseOfSmallRyeMicroprofileOpenApi11</microprofile.excluded.groups>\n             </properties>\n         </profile>\n+\n+        <profile>\n+            <id>bootablejar.profile</id>\n+            <activation>\n+                <property>\n+                    <name>ts.bootable</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <!-- Disable the standard copy-based provisioning -->\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>initialize-basedirs</id>\n+                                <phase>none</phase>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    <plugin>\n+                        <groupId>org.wildfly.plugins</groupId>\n+                        <artifactId>wildfly-jar-maven-plugin</artifactId>\n+                        <executions>\n+                            <!-- Package a jaxrs-server layer with a few other layers -->\n+                            <execution>\n+                                <id>bootable-jar-observability-packaging</id>\n+                                <goals>\n+                                    <goal>package</goal>\n+                                </goals>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <output-file-name>jaxrs-server.jar</output-file-name>\n+                                    <hollowJar>true</hollowJar>\n+                                    <record-state>false</record-state>\n+                                    <log-time>true</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>true</jboss-fork-embedded>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>org.wildfly</groupId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAxNjIxOQ=="}, "originalCommit": {"oid": "b6073a833d3be1aaf98f93ec0bec4acb0c64ef13"}, "originalPosition": 51}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4918, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}