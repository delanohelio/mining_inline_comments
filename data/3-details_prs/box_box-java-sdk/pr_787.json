{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3MjQzNzgy", "number": 787, "title": "Fix retry logic", "bodyText": "Fix retry logic\n\nRetry for 400 invalid_grant error in authentication requests (Clock Skew)\nHonor Retry-After header if present by waiting for the time specified in the header before retrying\nNumber of request retries after the initial request is now equal to the DEFAULT_MAX_ATTEMPTS config value", "createdAt": "2020-04-01T21:33:55Z", "url": "https://github.com/box/box-java-sdk/pull/787", "merged": true, "mergeCommit": {"oid": "8903796f263e7a6eac7b321481b2cd2a6bcf51a6"}, "closed": true, "closedAt": "2020-04-09T19:35:55Z", "author": {"login": "sujaygarlanka"}, "timelineItems": {"totalCount": 38, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTeGK0AH2gAyMzk3MjQzNzgyOmRjNjVlZjdhOWZiM2VmNjM1MDFkM2QxZjQxNmEzMTgyY2MxOWM5ZGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWAFP-gFqTM5MDk5NzY4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dc65ef7a9fb3ef63501d3d1f416a3182cc19c9dc", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/dc65ef7a9fb3ef63501d3d1f416a3182cc19c9dc", "committedDate": "2020-04-01T20:54:32Z", "message": "done"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e94b0c8eff64589e32e3aeb094f5d270811b165", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/3e94b0c8eff64589e32e3aeb094f5d270811b165", "committedDate": "2020-04-01T21:33:17Z", "message": "update changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e9317b794a24fa74b5f15f200478b28f60985f4", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/1e9317b794a24fa74b5f15f200478b28f60985f4", "committedDate": "2020-04-01T21:34:33Z", "message": "Update CHANGELOG.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04c255ce058c246ff6bab0f2379dc5768aa4f446", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/04c255ce058c246ff6bab0f2379dc5768aa4f446", "committedDate": "2020-04-01T21:54:01Z", "message": "clean up code and tests passing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "043690d5b506aef14097ee24a0e0e334e97cea4c", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/043690d5b506aef14097ee24a0e0e334e97cea4c", "committedDate": "2020-04-06T16:56:20Z", "message": "Merge branch 'master' into amend-retry-logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e01a3595af46693c9d42eeec98a8ed934f4ac599", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/e01a3595af46693c9d42eeec98a8ed934f4ac599", "committedDate": "2020-04-06T23:29:23Z", "message": "Refactor waitBackoff()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NzExNDAz", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-386711403", "createdAt": "2020-04-02T18:59:10Z", "commit": {"oid": "04c255ce058c246ff6bab0f2379dc5768aa4f446"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxODo1OToxMFrOF_5QbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxOTozMzo1NlrOF_6cug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU0MjcwMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              - Honor Retry-After header if present by waiting for the time specified in the header before retrying\n          \n          \n            \n              - Honor Retry-After header, if present, by waiting for the time specified in the header before retrying", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r402542701", "createdAt": "2020-04-02T18:59:10Z", "author": {"login": "PJSimon"}, "path": "CHANGELOG.md", "diffHunk": "@@ -5,6 +5,10 @@\n - Add metadata to each item returned by a metadata query\n - Check that part was successfully uploaded for large file uploads before retrying for 500 errors ([#781](https://github.com/box/box-java-sdk/pull/781))\n - Add preflight check before chunked uploads ([#782](https://github.com/box/box-java-sdk/pull/782))\n+- Fix retry logic ([#787](https://github.com/box/box-java-sdk/pull/787))\n+  - Retry for 400 `invalid_grant` error in authentication requests (Clock Skew)\n+  - Honor Retry-After header if present by waiting for the time specified in the header before retrying", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04c255ce058c246ff6bab0f2379dc5768aa4f446"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU2MjIzNA==", "bodyText": "Can we add a check for \"invalid_grant,\" as in python: https://github.com/box/box-python-sdk/blob/594df43e1f5eec1b9fc714a58f03fd0756d1776b/boxsdk/auth/jwt_auth.py#L313", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r402562234", "createdAt": "2020-04-02T19:33:56Z", "author": {"login": "PJSimon"}, "path": "src/main/java/com/box/sdk/BoxAPIRequest.java", "diffHunk": "@@ -756,10 +764,13 @@ void shouldAuthenticate(boolean shouldAuthenticate) {\n     /**\n      *\n      * @param  responseCode HTTP error code of the response\n+     * @param  apiException BoxAPIException thrown\n      * @return true if the response is one that should be retried, otherwise false\n      */\n-    public static boolean isResponseRetryable(int responseCode) {\n-        return (responseCode >= 500 || responseCode == 429);\n+    public static boolean isResponseRetryable(int responseCode, BoxAPIException apiException) {\n+        String message = apiException.getMessage();\n+        Boolean isClockSkewError =  responseCode == 400 && message.contains(\"exp\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04c255ce058c246ff6bab0f2379dc5768aa4f446"}, "originalPosition": 69}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4ODA0MzUw", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-388804350", "createdAt": "2020-04-07T05:58:44Z", "commit": {"oid": "a734a649f88a50182a7679db0ac1ad38cd33c5bf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwNTo1ODo0NFrOGBz-nQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwNTo1ODo0NFrOGBz-nQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDU1MzM3Mw==", "bodyText": "Setting it to 5 makes the max total attempts 6, which is in line with the box-python-sdk (https://github.com/box/box-python-sdk/blob/9cdebdde39e68e735069dd97e0a459e09382455d/boxsdk/session/session.py#L341)", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r404553373", "createdAt": "2020-04-07T05:58:44Z", "author": {"login": "PJSimon"}, "path": "src/main/java/com/box/sdk/BoxAPIConnection.java", "diffHunk": "@@ -22,9 +22,9 @@\n  */\n public class BoxAPIConnection {\n     /**\n-     * The default maximum number of times an API request will be tried when an error occurs.\n+     * The default maximum number of times an API request will be retried after an error occurs.\n      */\n-    public static final int DEFAULT_MAX_ATTEMPTS = 5;\n+    public static final int DEFAULT_MAX_RETRIES = 5;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a734a649f88a50182a7679db0ac1ad38cd33c5bf"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4ODA1Mzk1", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-388805395", "createdAt": "2020-04-07T06:01:16Z", "commit": {"oid": "a734a649f88a50182a7679db0ac1ad38cd33c5bf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwNjowMToxNlrOGB0CSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwNjowMToxNlrOGB0CSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDU1NDMxNA==", "bodyText": "Adding + 1 is the way to go, other wise we'd have to modify BackoffCounter.decrement() which seems too far.", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r404554314", "createdAt": "2020-04-07T06:01:16Z", "author": {"login": "PJSimon"}, "path": "src/main/java/com/box/sdk/BoxAPIRequest.java", "diffHunk": "@@ -371,9 +371,9 @@ public BoxAPIResponse send() {\n      */\n     public BoxAPIResponse send(ProgressListener listener) {\n         if (this.api == null) {\n-            this.backoffCounter.reset(BoxGlobalSettings.getMaxRequestAttempts() + 1);\n+            this.backoffCounter.reset(BoxGlobalSettings.getMaxRetryAttempts() + 1);\n         } else {\n-            this.backoffCounter.reset(this.api.getMaxRequestAttempts() + 1);\n+            this.backoffCounter.reset(this.api.getMaxRetryAttempts() + 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a734a649f88a50182a7679db0ac1ad38cd33c5bf"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "534e6eeedaff9376be956c09d9e2b530317fb1f7", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/534e6eeedaff9376be956c09d9e2b530317fb1f7", "committedDate": "2020-04-07T20:58:29Z", "message": "Deprecate DEFAULT_MAX_ATTEMPTS"}, "afterCommit": {"oid": "e01a3595af46693c9d42eeec98a8ed934f4ac599", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/e01a3595af46693c9d42eeec98a8ed934f4ac599", "committedDate": "2020-04-06T23:29:23Z", "message": "Refactor waitBackoff()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a75232365c2262676f77f6f65f4f3a52939821e8", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/a75232365c2262676f77f6f65f4f3a52939821e8", "committedDate": "2020-04-07T21:50:15Z", "message": "Update CHANGELOG"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5ad4d4e85d677586e1de6e36a41327339054857", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/c5ad4d4e85d677586e1de6e36a41327339054857", "committedDate": "2020-04-07T21:53:20Z", "message": "Merge branch 'master' into amend-retry-logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "451e8788648bdf667f70d827992185c45fd5a2e0", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/451e8788648bdf667f70d827992185c45fd5a2e0", "committedDate": "2020-04-07T22:37:51Z", "message": "add check for retrying requests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5NTUzMTYw", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-389553160", "createdAt": "2020-04-07T23:13:57Z", "commit": {"oid": "451e8788648bdf667f70d827992185c45fd5a2e0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMzoxMzo1N1rOGCZdfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMzoxMzo1N1rOGCZdfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE2NzQ4NA==", "bodyText": "I believe in Java, it's better to check for existence of \"code\" than to rely on the overhead of throwing an exception, if it doesn't exist.", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r405167484", "createdAt": "2020-04-07T23:13:57Z", "author": {"login": "PJSimon"}, "path": "src/main/java/com/box/sdk/BoxAPIRequest.java", "diffHunk": "@@ -769,7 +769,15 @@ void shouldAuthenticate(boolean shouldAuthenticate) {\n      */\n     public static boolean isResponseRetryable(int responseCode, BoxAPIException apiException) {\n         String message = apiException.getMessage();\n-        Boolean isClockSkewError =  responseCode == 400 && message.contains(\"exp\");\n+        String errorCode = \"\";\n+        try {\n+            JsonObject responseBody = JsonObject.readFrom(apiException.getResponse());\n+            errorCode = responseBody.get(\"code\").toString();\n+        } catch (Exception e) { }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "451e8788648bdf667f70d827992185c45fd5a2e0"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "446386ad9291518a6b81f20ac66f52a6f9050be1", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/446386ad9291518a6b81f20ac66f52a6f9050be1", "committedDate": "2020-04-07T23:24:27Z", "message": "code clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3b60c67c1661477e6d96695b3a3268258aa83e7", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/b3b60c67c1661477e6d96695b3a3268258aa83e7", "committedDate": "2020-04-08T00:27:04Z", "message": "refactor code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "994d9c16ab37217e51fb889cbf2b29680385bc88", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/994d9c16ab37217e51fb889cbf2b29680385bc88", "committedDate": "2020-04-08T22:59:36Z", "message": "Refactor 'Max Attempts' to 'Max Retries'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMzk0MDc1", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-390394075", "createdAt": "2020-04-08T23:17:47Z", "commit": {"oid": "994d9c16ab37217e51fb889cbf2b29680385bc88"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQyMzoxNzo0N1rOGDEPpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQyMzoxNzo0N1rOGDEPpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg2ODQ1Mw==", "bodyText": "This un-prettied format is the result of the call to save the state, so I preserved it in this test fixture.", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r405868453", "createdAt": "2020-04-08T23:17:47Z", "author": {"login": "PJSimon"}, "path": "src/test/Fixtures/BoxAPIConnection/State.json", "diffHunk": "@@ -0,0 +1 @@\n+{\"accessToken\":\"iKqkOC4FWkd1kG1HV9P17s5N7mqJBC2N\",\"refreshToken\":\"QALVa7gLVz8bYf4B5wDYoXfhmR7746c4\",\"lastRefresh\":0,\"expires\":0,\"userAgent\":\"Box Java SDK v2.45.0 (Java 1.8.0_131)\",\"tokenURL\":\"https://api.box.com/oauth2/token\",\"baseURL\":\"https://api.box.com/2.0/\",\"baseUploadURL\":\"https://upload.box.com/api/2.0/\",\"autoRefresh\":true,\"maxRetryAttempts\":1}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "994d9c16ab37217e51fb889cbf2b29680385bc88"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMzk0Mjk3", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-390394297", "createdAt": "2020-04-08T23:18:22Z", "commit": {"oid": "994d9c16ab37217e51fb889cbf2b29680385bc88"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQyMzoxODoyMlrOGDEQaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQyMzoxODoyMlrOGDEQaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg2ODY1MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void shouldUseGlobalMaxRequests() {\n          \n          \n            \n                public void shouldUseGlobalMaxRetries() {", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r405868651", "createdAt": "2020-04-08T23:18:22Z", "author": {"login": "PJSimon"}, "path": "src/test/java/com/box/sdk/BoxAPIConnectionTest.java", "diffHunk": "@@ -841,15 +859,15 @@ public String getJSON() {\n     @Category(UnitTest.class)\n     public void shouldUseGlobalMaxRequests() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "994d9c16ab37217e51fb889cbf2b29680385bc88"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87dd6707b1e341cd7f3d1e5a2f18f6079f8b04fe", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/87dd6707b1e341cd7f3d1e5a2f18f6079f8b04fe", "committedDate": "2020-04-08T23:18:57Z", "message": "Update src/test/java/com/box/sdk/BoxAPIConnectionTest.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMzk0Nzc1", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-390394775", "createdAt": "2020-04-08T23:19:38Z", "commit": {"oid": "994d9c16ab37217e51fb889cbf2b29680385bc88"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/e466b6c40c038b4f9abb201a100c9a4d8a0b8529", "committedDate": "2020-04-09T03:08:57Z", "message": "Fix Test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwNDc5NjU3", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-390479657", "createdAt": "2020-04-09T04:13:57Z", "commit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwODk1NzU4", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-390895758", "createdAt": "2020-04-09T15:25:18Z", "commit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNToyNToxOVrOGDdu2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNToyNToxOVrOGDdu2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI4NjA0Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    this.wrappedConnection.setMaxRetryAttempts(attempts);\n          \n          \n            \n                    this.wrappedConnection.setMaxRequestAttempts(attempts);", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r406286042", "createdAt": "2020-04-09T15:25:19Z", "author": {"login": "sujaygarlanka"}, "path": "src/main/java/com/box/sdk/SharedLinkAPIConnection.java", "diffHunk": "@@ -93,14 +93,50 @@ public boolean getAutoRefresh() {\n         return this.wrappedConnection.getAutoRefresh();\n     }\n \n+    /**\n+     * Sets the total maximum number of times an API request will be tried when error responses\n+     * are received.\n+     * @return the maximum number of request attempts.\n+     * @deprecated getMaxRetryAttempts is preferred because it more clearly gets the number\n+     * of times a request should be retried after an error response is received.\n+     */\n+    @Deprecated\n     @Override\n     public int getMaxRequestAttempts() {\n-        return this.wrappedConnection.getMaxRequestAttempts();\n+        return this.wrappedConnection.getMaxRetryAttempts();\n     }\n \n+    /**\n+     * Sets the total maximum number of times an API request will be tried when error responses\n+     * are received.\n+     * @param attempts the maximum number of request attempts.\n+     * @deprecated setMaxRetryAttempts is preferred because it more clearly sets the number\n+     * of times a request should be retried after an error response is received.\n+     */\n+    @Deprecated\n     @Override\n     public void setMaxRequestAttempts(int attempts) {\n-        this.wrappedConnection.setMaxRequestAttempts(attempts);\n+        this.wrappedConnection.setMaxRetryAttempts(attempts);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwODk2MTE0", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-390896114", "createdAt": "2020-04-09T15:25:40Z", "commit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNToyNTo0MVrOGDdwJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNToyNTo0MVrOGDdwJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI4NjM3Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return this.wrappedConnection.getMaxRetryAttempts();\n          \n          \n            \n                    return this.wrappedConnection.getMaxRequestAttempts();", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r406286373", "createdAt": "2020-04-09T15:25:41Z", "author": {"login": "sujaygarlanka"}, "path": "src/main/java/com/box/sdk/SharedLinkAPIConnection.java", "diffHunk": "@@ -93,14 +93,50 @@ public boolean getAutoRefresh() {\n         return this.wrappedConnection.getAutoRefresh();\n     }\n \n+    /**\n+     * Sets the total maximum number of times an API request will be tried when error responses\n+     * are received.\n+     * @return the maximum number of request attempts.\n+     * @deprecated getMaxRetryAttempts is preferred because it more clearly gets the number\n+     * of times a request should be retried after an error response is received.\n+     */\n+    @Deprecated\n     @Override\n     public int getMaxRequestAttempts() {\n-        return this.wrappedConnection.getMaxRequestAttempts();\n+        return this.wrappedConnection.getMaxRetryAttempts();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwODk2Njg0", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-390896684", "createdAt": "2020-04-09T15:26:05Z", "commit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNToyNjowNlrOGDdxPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNToyNjowNlrOGDdxPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI4NjY1NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    BoxGlobalSettings.maxRetryAttempts = attempts;\n          \n          \n            \n                    BoxGlobalSettings.maxRetryAttempts = attempts - 1;", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r406286654", "createdAt": "2020-04-09T15:26:06Z", "author": {"login": "sujaygarlanka"}, "path": "src/main/java/com/box/sdk/BoxGlobalSettings.java", "diffHunk": "@@ -44,18 +44,44 @@ public static void setReadTimeout(int readTimeout) {\n     }\n \n     /**\n-     * Returns the global maximum number of request attempts.\n+     * Returns the global total maximum number of times an API request will be tried when error responses\n+     * are received.\n      * @return max number of request attempts\n+     * @deprecated getMaxRetryAttempts is preferred because it more clearly gets the number\n+     * of times a request should be retried after an error response is received.\n      */\n+    @Deprecated\n     public static int getMaxRequestAttempts() {\n-        return maxRequestAttempts;\n+        return maxRetryAttempts;\n     }\n \n     /**\n-     * Sets the global default maximum number of request attempts.\n-     * @param maxRequestAttempts maximum number of request attempts\n+     * Sets the global total maximum number of times an API request will be tried when error responses\n+     * are received.\n+     * @param attempts maximum number of request attempts\n+     * @deprecated setMaxRetryAttempts is preferred because it more clearly sets the number\n+     * of times a request should be retried after an error response is received.\n      */\n-    public static void setMaxRequestAttempts(int maxRequestAttempts) {\n-        BoxGlobalSettings.maxRequestAttempts = maxRequestAttempts;\n+    @Deprecated\n+    public static void setMaxRequestAttempts(int attempts) {\n+        BoxGlobalSettings.maxRetryAttempts = attempts;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwOTAxMDgw", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-390901080", "createdAt": "2020-04-09T15:30:34Z", "commit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNTozMDozNFrOGDd-jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNTozMDozNFrOGDd-jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5MDA2Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return this.maxRetryAttempts + 1;\n          \n          \n            \n                    return this.maxRetryAttempts;", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r406290063", "createdAt": "2020-04-09T15:30:34Z", "author": {"login": "sujaygarlanka"}, "path": "src/main/java/com/box/sdk/BoxAPIConnection.java", "diffHunk": "@@ -419,19 +429,45 @@ public boolean getAutoRefresh() {\n     }\n \n     /**\n-     * Gets the maximum number of times an API request will be tried when an error occurs.\n+     * Sets the total maximum number of times an API request will be tried when error responses\n+     * are received.\n      * @return the maximum number of request attempts.\n+     * @deprecated getMaxRetryAttempts is preferred because it more clearly gets the number\n+     * of times a request should be retried after an error response is received.\n      */\n+    @Deprecated\n     public int getMaxRequestAttempts() {\n-        return this.maxRequestAttempts;\n+        return this.maxRetryAttempts + 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "originalPosition": 54}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwOTAzNTU2", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-390903556", "createdAt": "2020-04-09T15:33:30Z", "commit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNTozMzozMVrOGDeGHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNTozMzozMVrOGDeGHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5MTk5Nw==", "bodyText": "Leaving this in doesn't do anything because we don't use this anywhere. By deprecating it, we allow them to set it, but it doesn't affect functionality. So in the end, it is a breaking change unless we find a way to read this value and DEFAULT_MAX_RETRIES.", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r406291997", "createdAt": "2020-04-09T15:33:31Z", "author": {"login": "sujaygarlanka"}, "path": "src/main/java/com/box/sdk/BoxAPIConnection.java", "diffHunk": "@@ -22,10 +22,20 @@\n  */\n public class BoxAPIConnection {\n     /**\n-     * The default maximum number of times an API request will be tried when an error occurs.\n+     * The default total maximum number of times an API request will be tried when error responses\n+     * are received.\n+     * @deprecated DEFAULT_MAX_RETRIES is preferred because it more clearly sets the number\n+     * of times a request should be retried after an error response is received.\n      */\n+    @Deprecated\n     public static final int DEFAULT_MAX_ATTEMPTS = 5;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "767b1c8e0127659d2e17d83b42f8bae506429d55", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/767b1c8e0127659d2e17d83b42f8bae506429d55", "committedDate": "2020-04-09T16:37:16Z", "message": "Update src/main/java/com/box/sdk/BoxGlobalSettings.java\n\nCo-Authored-By: Sujay Garlanka <sujay.garlanka@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwOTUxNDU2", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-390951456", "createdAt": "2020-04-09T16:33:08Z", "commit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNjozMzowOFrOGDgaPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNjo0Nzo0MVrOGDg8BA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMyOTkxOA==", "bodyText": "This method is deprecated, so the SDK doesn't call it anymore. It's just preserved for client apps that may have been calling it.", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r406329918", "createdAt": "2020-04-09T16:33:08Z", "author": {"login": "PJSimon"}, "path": "src/main/java/com/box/sdk/BoxAPIConnection.java", "diffHunk": "@@ -419,19 +429,45 @@ public boolean getAutoRefresh() {\n     }\n \n     /**\n-     * Gets the maximum number of times an API request will be tried when an error occurs.\n+     * Sets the total maximum number of times an API request will be tried when error responses\n+     * are received.\n      * @return the maximum number of request attempts.\n+     * @deprecated getMaxRetryAttempts is preferred because it more clearly gets the number\n+     * of times a request should be retried after an error response is received.\n      */\n+    @Deprecated\n     public int getMaxRequestAttempts() {\n-        return this.maxRequestAttempts;\n+        return this.maxRetryAttempts + 1;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5MDA2Mw=="}, "originalCommit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzMTkzMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return maxRetryAttempts;\n          \n          \n            \n                    return maxRetryAttempts + 1;", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r406331932", "createdAt": "2020-04-09T16:36:27Z", "author": {"login": "PJSimon"}, "path": "src/main/java/com/box/sdk/BoxGlobalSettings.java", "diffHunk": "@@ -44,18 +44,44 @@ public static void setReadTimeout(int readTimeout) {\n     }\n \n     /**\n-     * Returns the global maximum number of request attempts.\n+     * Returns the global total maximum number of times an API request will be tried when error responses\n+     * are received.\n      * @return max number of request attempts\n+     * @deprecated getMaxRetryAttempts is preferred because it more clearly gets the number\n+     * of times a request should be retried after an error response is received.\n      */\n+    @Deprecated\n     public static int getMaxRequestAttempts() {\n-        return maxRequestAttempts;\n+        return maxRetryAttempts;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzNTIxMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - Number of request retries after the initial request is now equal to the `DEFAULT_MAX_ATTEMPTS` config value\n          \n          \n            \n            - The concept of setting / getting \"Maximum API Requests\" has been deprecated in favor of \"Maximum API Retries\" to more clearly show the number of times a request will be retried after an error response is received.", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r406335213", "createdAt": "2020-04-09T16:41:53Z", "author": {"login": "PJSimon"}, "path": "CHANGELOG.md", "diffHunk": "@@ -2,6 +2,10 @@\n \n \n ## Next Release\n+- Fix retry logic ([#787](https://github.com/box/box-java-sdk/pull/787))\n+- Retry for 400 `invalid_grant` error in authentication requests (Clock Skew)\n+- Honor Retry-After header, if present, by waiting for the time specified in the header before retrying\n+- Number of request retries after the initial request is now equal to the `DEFAULT_MAX_ATTEMPTS` config value", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "767b1c8e0127659d2e17d83b42f8bae506429d55"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzNjM1OQ==", "bodyText": "Correct, it's no longer used in the SDK.  It's deprecated because it's public, so it's possible that there are client apps out there reading this value from the SDK, for use in their client code.\nI don't understand your last sentence.", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r406336359", "createdAt": "2020-04-09T16:43:53Z", "author": {"login": "PJSimon"}, "path": "src/main/java/com/box/sdk/BoxAPIConnection.java", "diffHunk": "@@ -22,10 +22,20 @@\n  */\n public class BoxAPIConnection {\n     /**\n-     * The default maximum number of times an API request will be tried when an error occurs.\n+     * The default total maximum number of times an API request will be tried when error responses\n+     * are received.\n+     * @deprecated DEFAULT_MAX_RETRIES is preferred because it more clearly sets the number\n+     * of times a request should be retried after an error response is received.\n      */\n+    @Deprecated\n     public static final int DEFAULT_MAX_ATTEMPTS = 5;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5MTk5Nw=="}, "originalCommit": {"oid": "e466b6c40c038b4f9abb201a100c9a4d8a0b8529"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzNzYxMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return this.wrappedConnection.getMaxRetryAttempts();\n          \n          \n            \n                    return this.wrappedConnection.getMaxRetryAttempts() + 1;", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r406337610", "createdAt": "2020-04-09T16:46:02Z", "author": {"login": "PJSimon"}, "path": "src/main/java/com/box/sdk/SharedLinkAPIConnection.java", "diffHunk": "@@ -93,14 +93,50 @@ public boolean getAutoRefresh() {\n         return this.wrappedConnection.getAutoRefresh();\n     }\n \n+    /**\n+     * Sets the total maximum number of times an API request will be tried when error responses\n+     * are received.\n+     * @return the maximum number of request attempts.\n+     * @deprecated getMaxRetryAttempts is preferred because it more clearly gets the number\n+     * of times a request should be retried after an error response is received.\n+     */\n+    @Deprecated\n     @Override\n     public int getMaxRequestAttempts() {\n-        return this.wrappedConnection.getMaxRequestAttempts();\n+        return this.wrappedConnection.getMaxRetryAttempts();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "767b1c8e0127659d2e17d83b42f8bae506429d55"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzODA2OA==", "bodyText": "Good point, but adding plus one to getMaxRetryAttempts is better because getMaxRequestAttempts is deprecated, now.", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r406338068", "createdAt": "2020-04-09T16:46:52Z", "author": {"login": "PJSimon"}, "path": "src/main/java/com/box/sdk/SharedLinkAPIConnection.java", "diffHunk": "@@ -93,14 +93,50 @@ public boolean getAutoRefresh() {\n         return this.wrappedConnection.getAutoRefresh();\n     }\n \n+    /**\n+     * Sets the total maximum number of times an API request will be tried when error responses\n+     * are received.\n+     * @return the maximum number of request attempts.\n+     * @deprecated getMaxRetryAttempts is preferred because it more clearly gets the number\n+     * of times a request should be retried after an error response is received.\n+     */\n+    @Deprecated\n     @Override\n     public int getMaxRequestAttempts() {\n-        return this.wrappedConnection.getMaxRequestAttempts();\n+        return this.wrappedConnection.getMaxRetryAttempts();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzNzYxMA=="}, "originalCommit": {"oid": "767b1c8e0127659d2e17d83b42f8bae506429d55"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzODM4Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    this.wrappedConnection.setMaxRetryAttempts(attempts);\n          \n          \n            \n                    this.wrappedConnection.setMaxRetryAttempts(attempts - 1);", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r406338382", "createdAt": "2020-04-09T16:47:24Z", "author": {"login": "PJSimon"}, "path": "src/main/java/com/box/sdk/SharedLinkAPIConnection.java", "diffHunk": "@@ -93,14 +93,50 @@ public boolean getAutoRefresh() {\n         return this.wrappedConnection.getAutoRefresh();\n     }\n \n+    /**\n+     * Sets the total maximum number of times an API request will be tried when error responses\n+     * are received.\n+     * @return the maximum number of request attempts.\n+     * @deprecated getMaxRetryAttempts is preferred because it more clearly gets the number\n+     * of times a request should be retried after an error response is received.\n+     */\n+    @Deprecated\n     @Override\n     public int getMaxRequestAttempts() {\n-        return this.wrappedConnection.getMaxRequestAttempts();\n+        return this.wrappedConnection.getMaxRetryAttempts();\n     }\n \n+    /**\n+     * Sets the total maximum number of times an API request will be tried when error responses\n+     * are received.\n+     * @param attempts the maximum number of request attempts.\n+     * @deprecated setMaxRetryAttempts is preferred because it more clearly sets the number\n+     * of times a request should be retried after an error response is received.\n+     */\n+    @Deprecated\n     @Override\n     public void setMaxRequestAttempts(int attempts) {\n-        this.wrappedConnection.setMaxRequestAttempts(attempts);\n+        this.wrappedConnection.setMaxRetryAttempts(attempts);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "767b1c8e0127659d2e17d83b42f8bae506429d55"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzODU2NA==", "bodyText": "Good point, but subtracting one is better because getMaxRequestAttempts is deprecated, now.", "url": "https://github.com/box/box-java-sdk/pull/787#discussion_r406338564", "createdAt": "2020-04-09T16:47:41Z", "author": {"login": "PJSimon"}, "path": "src/main/java/com/box/sdk/SharedLinkAPIConnection.java", "diffHunk": "@@ -93,14 +93,50 @@ public boolean getAutoRefresh() {\n         return this.wrappedConnection.getAutoRefresh();\n     }\n \n+    /**\n+     * Sets the total maximum number of times an API request will be tried when error responses\n+     * are received.\n+     * @return the maximum number of request attempts.\n+     * @deprecated getMaxRetryAttempts is preferred because it more clearly gets the number\n+     * of times a request should be retried after an error response is received.\n+     */\n+    @Deprecated\n     @Override\n     public int getMaxRequestAttempts() {\n-        return this.wrappedConnection.getMaxRequestAttempts();\n+        return this.wrappedConnection.getMaxRetryAttempts();\n     }\n \n+    /**\n+     * Sets the total maximum number of times an API request will be tried when error responses\n+     * are received.\n+     * @param attempts the maximum number of request attempts.\n+     * @deprecated setMaxRetryAttempts is preferred because it more clearly sets the number\n+     * of times a request should be retried after an error response is received.\n+     */\n+    @Deprecated\n     @Override\n     public void setMaxRequestAttempts(int attempts) {\n-        this.wrappedConnection.setMaxRequestAttempts(attempts);\n+        this.wrappedConnection.setMaxRetryAttempts(attempts);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzODM4Mg=="}, "originalCommit": {"oid": "767b1c8e0127659d2e17d83b42f8bae506429d55"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33585a11ec0ab89e97b327b12c636eeb4cc61717", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/33585a11ec0ab89e97b327b12c636eeb4cc61717", "committedDate": "2020-04-09T16:50:53Z", "message": "Update src/main/java/com/box/sdk/BoxGlobalSettings.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb61a926b773f68b25e27c0c9e5c50193aa41bdd", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/bb61a926b773f68b25e27c0c9e5c50193aa41bdd", "committedDate": "2020-04-09T16:51:10Z", "message": "Update CHANGELOG.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "003d0086d439585865725b5b9e8685e91507f1ba", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/003d0086d439585865725b5b9e8685e91507f1ba", "committedDate": "2020-04-09T16:51:39Z", "message": "Update src/main/java/com/box/sdk/SharedLinkAPIConnection.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "156d1385e5d887d16610e81d9c6146f1eaa7b10a", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/156d1385e5d887d16610e81d9c6146f1eaa7b10a", "committedDate": "2020-04-09T16:51:51Z", "message": "Update src/main/java/com/box/sdk/SharedLinkAPIConnection.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e12800f6f8773c442bf1e0ad1ddefaf62636e59b", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/e12800f6f8773c442bf1e0ad1ddefaf62636e59b", "committedDate": "2020-04-09T16:55:15Z", "message": "Merge branch 'master' into amend-retry-logic"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwOTk2NjU2", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-390996656", "createdAt": "2020-04-09T17:36:39Z", "commit": {"oid": "e12800f6f8773c442bf1e0ad1ddefaf62636e59b"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22afd34fbb052b31c6495381654def3adebb5a90", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/22afd34fbb052b31c6495381654def3adebb5a90", "committedDate": "2020-04-09T17:37:42Z", "message": "Update CHANGELOG.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwOTk3Njgw", "url": "https://github.com/box/box-java-sdk/pull/787#pullrequestreview-390997680", "createdAt": "2020-04-09T17:38:09Z", "commit": {"oid": "22afd34fbb052b31c6495381654def3adebb5a90"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2939, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}