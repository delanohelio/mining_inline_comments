{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzNTk5Nzk1", "number": 811, "title": "Use double for metadata numbers", "bodyText": "Box JAVA SDK uses float to set value in metadata. Metadata uses number as field type. Metadata can handle values with higher precision as compared to JAVA float e.g. setting 233333333333333340 in number field returns 2333333341.", "createdAt": "2020-05-27T04:30:33Z", "url": "https://github.com/box/box-java-sdk/pull/811", "merged": true, "mergeCommit": {"oid": "572aaf0a896671ccc6769c860ecb9cedc6ae4ffa"}, "closed": true, "closedAt": "2020-06-05T16:01:20Z", "author": {"login": "PJSimon"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclRkbFgH2gAyNDIzNTk5Nzk1OmEyNDM5ZWM1MTExNGJhODM0ZDVmNDUwZjkzY2UyODBjNDEzMmU3Yjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoUCHgAFqTQyNTM4MjMxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a2439ec51114ba834d5f450f93ce280c4132e7b9", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/a2439ec51114ba834d5f450f93ce280c4132e7b9", "committedDate": "2020-05-27T04:29:27Z", "message": "Use double for metadata numbers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ce8b41eb532370f2cdd4758b9bc630476c581fc", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/0ce8b41eb532370f2cdd4758b9bc630476c581fc", "committedDate": "2020-05-27T04:30:50Z", "message": "Merge branch 'master' into SDK-1404-use-double-for-metadata-numbers"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5MzcwOTUw", "url": "https://github.com/box/box-java-sdk/pull/811#pullrequestreview-419370950", "createdAt": "2020-05-27T15:55:41Z", "commit": {"oid": "0ce8b41eb532370f2cdd4758b9bc630476c581fc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNTo1NTo0MVrOGbRmEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNTo1NTo0MVrOGbRmEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI1MzAwOQ==", "bodyText": "Should we deprecate the getFloat() and add a getDouble() method?", "url": "https://github.com/box/box-java-sdk/pull/811#discussion_r431253009", "createdAt": "2020-05-27T15:55:41Z", "author": {"login": "sujaygarlanka"}, "path": "src/test/java/com/box/sdk/MetadataTest.java", "diffHunk": "@@ -194,6 +194,78 @@ public void testMetadataDate(String dateString, Long dateLong) {\n         }\n     }\n \n+    @Test\n+    @Category(IntegrationTest.class)\n+    public void testMetadataPrecisionFloat() {\n+        final float expectedValueFloat = 1234567890f;\n+        BoxAPIConnection api = new BoxAPIConnection(TestConfig.getAccessToken());\n+\n+        long timestamp = Calendar.getInstance().getTimeInMillis();\n+        String templateKey = \"precision\" + timestamp;\n+        String fieldKey = \"testPrecision\";\n+\n+        List<MetadataTemplate.Field> fields = new ArrayList<MetadataTemplate.Field>();\n+        MetadataTemplate.Field valueField = new MetadataTemplate.Field();\n+        valueField.setKey(fieldKey);\n+        valueField.setType(\"float\");\n+        valueField.setDisplayName(\"Value Field\");\n+        fields.add(valueField);\n+\n+        MetadataTemplate template = MetadataTemplate.createMetadataTemplate(api, \"enterprise\",\n+                templateKey, \"Precision \" + timestamp, false, fields);\n+\n+        Assert.assertEquals(\"float\", template.getFields().get(0).getType());\n+\n+        // Add template to item\n+        Metadata mdValues = new Metadata();\n+        mdValues.add(\"/\" + fieldKey, expectedValueFloat);\n+        BoxFolder.Info folder = BoxFolder.getRootFolder(api).createFolder(\"Metadata Precision Test \" + timestamp);\n+        Metadata actualMD = folder.getResource().createMetadata(templateKey, mdValues);\n+\n+        Assert.assertEquals(templateKey, actualMD.getTemplateName());\n+\n+        final double actualValueDouble = actualMD.getFloat(\"/\" + fieldKey);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ce8b41eb532370f2cdd4758b9bc630476c581fc"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc5fadea4aba154059e1fba67c0a7d21b9e02653", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/cc5fadea4aba154059e1fba67c0a7d21b9e02653", "committedDate": "2020-06-04T23:26:28Z", "message": "Deprecate get and set for float values"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03fad7a66f23bc9efb2b9a00669b16fdda75b2a2", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/03fad7a66f23bc9efb2b9a00669b16fdda75b2a2", "committedDate": "2020-06-04T23:46:25Z", "message": "Update CHANGELOG"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ce9f40d0969b3d1d7f875f01830d13db2e66ec8", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/2ce9f40d0969b3d1d7f875f01830d13db2e66ec8", "committedDate": "2020-06-04T23:48:16Z", "message": "Update CHANGELOG"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "303e8b9ba9f606734c2bbcfdb9bb42b19a4ee20b", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/303e8b9ba9f606734c2bbcfdb9bb42b19a4ee20b", "committedDate": "2020-06-05T15:02:15Z", "message": "Merge branch 'master' into SDK-1404-use-double-for-metadata-numbers"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MzgyMzE0", "url": "https://github.com/box/box-java-sdk/pull/811#pullrequestreview-425382314", "createdAt": "2020-06-05T15:03:28Z", "commit": {"oid": "303e8b9ba9f606734c2bbcfdb9bb42b19a4ee20b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2957, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}