{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzOTQ3OTMx", "number": 852, "title": "Fix for cross-enterprise collaborator calls to updateMetadata", "bodyText": "When external users updates a metadata instance, the scope needs to be \"enterprise_xxxx\".\n\"xxxx\" is the EID of the metadata template. The current code overwrites \"enterprise_xxxx\" to \"enterprise\".\nThis fix allows to keep the correct scope.", "createdAt": "2020-11-02T10:11:04Z", "url": "https://github.com/box/box-java-sdk/pull/852", "merged": true, "mergeCommit": {"oid": "5a1717c4c77b40bf2bf57f027a19b308ee71c49b"}, "closed": true, "closedAt": "2020-11-13T00:15:24Z", "author": {"login": "AkihiroAsami"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYhmFagH2gAyNTEzOTQ3OTMxOjZiMzM3M2ZjYTI1ZTdjYTdmOWIyNTAxNDlhMzVkODE2NGJlOTcwOTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdb7zFLgFqTUyOTYwNTQ2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6b3373fca25e7ca7f9b250149a35d8164be97098", "author": {"user": {"login": "AkihiroAsami", "name": "Akihiro Asami"}}, "url": "https://github.com/box/box-java-sdk/commit/6b3373fca25e7ca7f9b250149a35d8164be97098", "committedDate": "2020-11-02T09:59:53Z", "message": "Update BoxFile.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3NjM0MDUz", "url": "https://github.com/box/box-java-sdk/pull/852#pullrequestreview-527634053", "createdAt": "2020-11-10T21:47:35Z", "commit": {"oid": "6b3373fca25e7ca7f9b250149a35d8164be97098"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMTo0NzozNVrOHww5Pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMTo0ODowMVrOHww6Gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg5NDc4Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    } else if (metadata.getScope().startsWith(Metadata.ENTERPRISE_METADATA_SCOPE)) {\n          \n          \n            \n                    } else if (metadata.getScope().startsWith(Metadata.ENTERPRISE_METADATA_SCOPE + \"_\")) {", "url": "https://github.com/box/box-java-sdk/pull/852#discussion_r520894782", "createdAt": "2020-11-10T21:47:35Z", "author": {"login": "PJSimon"}, "path": "src/main/java/com/box/sdk/BoxFile.java", "diffHunk": "@@ -1352,6 +1352,8 @@ public Metadata updateMetadata(Metadata metadata) {\n         String scope;\n         if (metadata.getScope().equals(Metadata.GLOBAL_METADATA_SCOPE)) {\n             scope = Metadata.GLOBAL_METADATA_SCOPE;\n+        } else if (metadata.getScope().startsWith(Metadata.ENTERPRISE_METADATA_SCOPE)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b3373fca25e7ca7f9b250149a35d8164be97098"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg5NTAwMw==", "bodyText": "This will make it just a little more explicit as to what we're looking for here...", "url": "https://github.com/box/box-java-sdk/pull/852#discussion_r520895003", "createdAt": "2020-11-10T21:48:01Z", "author": {"login": "PJSimon"}, "path": "src/main/java/com/box/sdk/BoxFile.java", "diffHunk": "@@ -1352,6 +1352,8 @@ public Metadata updateMetadata(Metadata metadata) {\n         String scope;\n         if (metadata.getScope().equals(Metadata.GLOBAL_METADATA_SCOPE)) {\n             scope = Metadata.GLOBAL_METADATA_SCOPE;\n+        } else if (metadata.getScope().startsWith(Metadata.ENTERPRISE_METADATA_SCOPE)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg5NDc4Mg=="}, "originalCommit": {"oid": "6b3373fca25e7ca7f9b250149a35d8164be97098"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5NjA1NDY4", "url": "https://github.com/box/box-java-sdk/pull/852#pullrequestreview-529605468", "createdAt": "2020-11-13T00:13:23Z", "commit": {"oid": "6b3373fca25e7ca7f9b250149a35d8164be97098"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2994, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}