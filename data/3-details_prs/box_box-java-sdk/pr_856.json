{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwOTI4NzIw", "number": 856, "title": "Add folder lock functionality", "bodyText": "", "createdAt": "2020-11-14T01:11:07Z", "url": "https://github.com/box/box-java-sdk/pull/856", "merged": true, "mergeCommit": {"oid": "c8413fe36bf661b9f0ddfb8d57302386cfabe5e7"}, "closed": true, "closedAt": "2020-11-23T16:23:26Z", "author": {"login": "sujaygarlanka"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdcRNG0gH2gAyNTIwOTI4NzIwOjZhZWEwODlmYWRiZDYwM2UwNWUxYjRiNDEwOWVhMGUzZGUxMzllYmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfXnIpgH2gAyNTIwOTI4NzIwOjJlODgzMTE5NzU1Mjk5YTFiNTI4M2JmNjQ0NGJlNWRkYjI5MTNlNDI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6aea089fadbd603e05e1b4b4109ea0e3de139ebb", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/6aea089fadbd603e05e1b4b4109ea0e3de139ebb", "committedDate": "2020-11-14T01:09:49Z", "message": "add feature and tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44b6efd1c85a6c576c7cd27faa17dc8a3588bb5e", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/44b6efd1c85a6c576c7cd27faa17dc8a3588bb5e", "committedDate": "2020-11-14T01:12:35Z", "message": "Merge branch 'master' into folder-lock"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dccb57f8079dc5964d4f925e07d060de08b2e9c0", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/dccb57f8079dc5964d4f925e07d060de08b2e9c0", "committedDate": "2020-11-14T01:13:22Z", "message": "Update CHANGELOG.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxOTEyNzE2", "url": "https://github.com/box/box-java-sdk/pull/856#pullrequestreview-531912716", "createdAt": "2020-11-16T23:44:39Z", "commit": {"oid": "dccb57f8079dc5964d4f925e07d060de08b2e9c0"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzo1Nzo0NFrOH0d4Vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwMDowMDo0NFrOH0eD5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDc3NzU1OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    JsonObject body = new JsonObject();\n          \n          \n            \n                    body.add(\"folder\", folderObject);\n          \n          \n            \n                    body.add(\"locked_operations\", lockedOperations);", "url": "https://github.com/box/box-java-sdk/pull/856#discussion_r524777559", "createdAt": "2020-11-16T23:57:44Z", "author": {"login": "PJSimon"}, "path": "src/test/java/com/box/sdk/BoxFolderTest.java", "diffHunk": "@@ -1961,6 +1961,82 @@ private void getUploadSessionStatus(BoxFileUploadSession session) {\n         Assert.assertNotNull(sessionInfo.getPartsProcessed());\n     }\n \n+    @Test\n+    @Category(UnitTest.class)\n+    public void createFolderLockSucceeds() throws IOException {\n+        String result = \"\";\n+        final String folderID = \"12345678\";\n+        final String folderLockURL = \"/folder_locks\";\n+\n+        JsonObject folderObject = new JsonObject();\n+        folderObject.add(\"type\", \"folder\");\n+        folderObject.add(\"id\", folderID);\n+\n+        JsonObject lockedOperations = new JsonObject();\n+        lockedOperations.add(\"move\", true);\n+        lockedOperations.add(\"delete\", true);\n+\n+        JsonObject body = new JsonObject();\n+        body.add(\"folder\", folderObject);\n+        body.add(\"locked_operations\", lockedOperations);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dccb57f8079dc5964d4f925e07d060de08b2e9c0"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDc4MDUxOA==", "bodyText": "body is not used.", "url": "https://github.com/box/box-java-sdk/pull/856#discussion_r524780518", "createdAt": "2020-11-17T00:00:44Z", "author": {"login": "PJSimon"}, "path": "src/test/java/com/box/sdk/BoxFolderTest.java", "diffHunk": "@@ -1961,6 +1961,82 @@ private void getUploadSessionStatus(BoxFileUploadSession session) {\n         Assert.assertNotNull(sessionInfo.getPartsProcessed());\n     }\n \n+    @Test\n+    @Category(UnitTest.class)\n+    public void createFolderLockSucceeds() throws IOException {\n+        String result = \"\";\n+        final String folderID = \"12345678\";\n+        final String folderLockURL = \"/folder_locks\";\n+\n+        JsonObject folderObject = new JsonObject();\n+        folderObject.add(\"type\", \"folder\");\n+        folderObject.add(\"id\", folderID);\n+\n+        JsonObject lockedOperations = new JsonObject();\n+        lockedOperations.add(\"move\", true);\n+        lockedOperations.add(\"delete\", true);\n+\n+        JsonObject body = new JsonObject();\n+        body.add(\"folder\", folderObject);\n+        body.add(\"locked_operations\", lockedOperations);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDc3NzU1OQ=="}, "originalCommit": {"oid": "dccb57f8079dc5964d4f925e07d060de08b2e9c0"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "655a1e7ac33c631d28cc6fb1081b51191e6f0c7a", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/655a1e7ac33c631d28cc6fb1081b51191e6f0c7a", "committedDate": "2020-11-18T16:58:28Z", "message": "fix test and add documentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1ODUxMzgy", "url": "https://github.com/box/box-java-sdk/pull/856#pullrequestreview-535851382", "createdAt": "2020-11-21T00:04:37Z", "commit": {"oid": "655a1e7ac33c631d28cc6fb1081b51191e6f0c7a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMVQwMDowNDozN1rOH3kirw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMVQwMDowNDozN1rOH3kirw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODAzMjQzMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            To delete a lock on a folder, call [`delete()`][delete-lock] on a folder lock. This cannot be called on a folder.\n          \n          \n            \n            To delete a lock on a folder, call [`delete()`][delete-lock] on a BoxFolderLock object. This cannot be called on a BoxFolder object.", "url": "https://github.com/box/box-java-sdk/pull/856#discussion_r528032431", "createdAt": "2020-11-21T00:04:37Z", "author": {"login": "PJSimon"}, "path": "doc/folders.md", "diffHunk": "@@ -687,3 +690,41 @@ policyToDelete.delete();\n \n [delete-cascade-policy]: http://opensource.box.com/box-java-sdk/javadoc/com/box/sdk/BoxMetadataCascadePolicy.html#delete--\n \n+Lock a Folder\n+-----------------------------\n+\n+To lock a folder and prevent it from being moved and/or deleted, call [`lock()`][lock] on a folder.\n+\n+```java\n+BoxFolder folder = new BoxFolder(api, \"id\");\n+FolderLock.Info folderLock = folder.lock();\n+```\n+\n+[lock]: http://opensource.box.com/box-java-sdk/javadoc/com/box/sdk/BoxFolder.html#lock--\n+\n+Get All Locks on a Folder\n+-----------------------------\n+\n+To get all locks on a folder, call [`getlock()`][get-locks] on folder.\n+\n+```java\n+BoxFolder folder = new BoxFolder(this.api, \"id\");\n+Iterable<BoxFolderLock.Info> locks = folder.getLocks();\n+for (BoxFolderLock.Info lockInfo : locks) {\n+    // Do something with each lockInfo here\n+}\n+```\n+\n+[get-locks]: http://opensource.box.com/box-java-sdk/javadoc/com/box/sdk/BoxFolder.html#getLocks--\n+\n+Delete a Lock on a Folder\n+-----------------------------\n+\n+To delete a lock on a folder, call [`delete()`][delete-lock] on a folder lock. This cannot be called on a folder.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "655a1e7ac33c631d28cc6fb1081b51191e6f0c7a"}, "originalPosition": 44}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59d3fd4661103f3a2cb3957625f4f368f1e85274", "author": {"user": {"login": "PJSimon", "name": "Patrick Simon"}}, "url": "https://github.com/box/box-java-sdk/commit/59d3fd4661103f3a2cb3957625f4f368f1e85274", "committedDate": "2020-11-21T00:04:48Z", "message": "Update doc/folders.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1ODUxNDg1", "url": "https://github.com/box/box-java-sdk/pull/856#pullrequestreview-535851485", "createdAt": "2020-11-21T00:04:59Z", "commit": {"oid": "655a1e7ac33c631d28cc6fb1081b51191e6f0c7a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e883119755299a1b5283bf6444be5ddb2913e42", "author": {"user": {"login": "sujaygarlanka", "name": "Sujay Garlanka"}}, "url": "https://github.com/box/box-java-sdk/commit/2e883119755299a1b5283bf6444be5ddb2913e42", "committedDate": "2020-11-23T16:19:27Z", "message": "Merge branch 'master' into folder-lock"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2997, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}