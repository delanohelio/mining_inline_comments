{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1MjEzMDc2", "number": 1707, "title": "[BAQE-1444] - Switch from tcp to mem H2 in jbpm-bpmn2 module", "bodyText": "Due to this change, there might be some tests failing as records are inserted in the in memory DB much faster (some records in DB might have same date, including milliseconds).\n\nFull detail can be found on: https://issues.redhat.com/browse/BAQE-1444", "createdAt": "2020-07-22T16:04:42Z", "url": "https://github.com/kiegroup/jbpm/pull/1707", "merged": true, "mergeCommit": {"oid": "26eb0f49e71b02a8cc2e91139f57790ba6171cb4"}, "closed": true, "closedAt": "2020-08-27T12:41:53Z", "author": {"login": "afalhambra"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3sincgFqTQ1Mzk5MzQ0OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdC6NJKABqjM2OTc4NjE5MjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzOTkzNDQ4", "url": "https://github.com/kiegroup/jbpm/pull/1707#pullrequestreview-453993448", "createdAt": "2020-07-23T10:05:33Z", "commit": {"oid": "886f79c20e9260d9091548e454ec6faf21769133"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "886f79c20e9260d9091548e454ec6faf21769133", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/886f79c20e9260d9091548e454ec6faf21769133", "committedDate": "2020-07-22T16:02:03Z", "message": "[BAQE-1444] Switch from tcp to mem H2 in jbpm-bpmn2 module\n\n- Due to this change, there might be some tests failing as records are inserted in the in memory DB much faster (some records in DB might have same date, including milliseconds)."}, "afterCommit": {"oid": "2afd7c2794d2392d3494cad23717992a5f1b0079", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/2afd7c2794d2392d3494cad23717992a5f1b0079", "committedDate": "2020-07-23T11:29:07Z", "message": "[BAQE-1444] Switch from tcp to mem H2 in jbpm-bpmn2 module\n\n- Due to this change, there might be some tests failing as records are inserted in the in memory DB much faster (some records in DB might have same date, including milliseconds)."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de877650f92df874801d9814edc32a609fd77152", "author": {"user": {"login": "fjtirado", "name": "Francisco Javier Tirado Sarti"}}, "url": "https://github.com/kiegroup/jbpm/commit/de877650f92df874801d9814edc32a609fd77152", "committedDate": "2020-07-23T16:14:18Z", "message": "[JBPM-9223] include case file details in case list. (#1697)\n\nAdding new overloaded getCaseInstances method to CaseRuntimeDataService\nthat allows\nthe possibility to include case file information if a flag is set"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba7bf5a8d852981f0dfcd094c2822de19d49f42d", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/ba7bf5a8d852981f0dfcd094c2822de19d49f42d", "committedDate": "2020-08-04T08:17:18Z", "message": "Merge branch 'master' of github.com:kiegroup/jbpm"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMzgwOTIz", "url": "https://github.com/kiegroup/jbpm/pull/1707#pullrequestreview-461380923", "createdAt": "2020-08-05T06:42:57Z", "commit": {"oid": "2afd7c2794d2392d3494cad23717992a5f1b0079"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0709eed6d6e379eda3d0c197051c5423148cdb49", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/0709eed6d6e379eda3d0c197051c5423148cdb49", "committedDate": "2020-08-05T10:58:16Z", "message": "Merge branch 'master' of github.com:kiegroup/jbpm"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "904e54420d6096f9fcf44da953d3e924a7ff34b1", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/904e54420d6096f9fcf44da953d3e924a7ff34b1", "committedDate": "2020-08-06T10:04:34Z", "message": "Merge branch 'master' of github.com:kiegroup/jbpm"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b65cb83811caf8fde1eb312b48a80a7f963ca170", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/b65cb83811caf8fde1eb312b48a80a7f963ca170", "committedDate": "2020-08-10T06:42:34Z", "message": "Merge branch 'master' of github.com:kiegroup/jbpm"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2afd7c2794d2392d3494cad23717992a5f1b0079", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/2afd7c2794d2392d3494cad23717992a5f1b0079", "committedDate": "2020-07-23T11:29:07Z", "message": "[BAQE-1444] Switch from tcp to mem H2 in jbpm-bpmn2 module\n\n- Due to this change, there might be some tests failing as records are inserted in the in memory DB much faster (some records in DB might have same date, including milliseconds)."}, "afterCommit": {"oid": "dae059d1f5e9813da373f0d5ca801993266c1099", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/dae059d1f5e9813da373f0d5ca801993266c1099", "committedDate": "2020-08-10T09:15:20Z", "message": "[BAQE-1444] Switch from tcp to mem H2 in jbpm-bpmn2 module\n\n- Due to this change, there might be some tests failing as records are inserted in the in memory DB much faster (some records in DB might have same date, including milliseconds)."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dae059d1f5e9813da373f0d5ca801993266c1099", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/dae059d1f5e9813da373f0d5ca801993266c1099", "committedDate": "2020-08-10T09:15:20Z", "message": "[BAQE-1444] Switch from tcp to mem H2 in jbpm-bpmn2 module\n\n- Due to this change, there might be some tests failing as records are inserted in the in memory DB much faster (some records in DB might have same date, including milliseconds)."}, "afterCommit": {"oid": "ad532cbf703b3c9ca22e137e61fe2632ec73a87d", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/ad532cbf703b3c9ca22e137e61fe2632ec73a87d", "committedDate": "2020-08-10T12:07:59Z", "message": "[BAQE-1444] Switch from tcp to mem H2 in jbpm-bpmn2 module\n\n- Due to this change, there might be some tests failing as records are inserted in the in memory DB much faster (some records in DB might have same date, including milliseconds)."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MjE0NDAy", "url": "https://github.com/kiegroup/jbpm/pull/1707#pullrequestreview-465214402", "createdAt": "2020-08-11T16:05:16Z", "commit": {"oid": "ad532cbf703b3c9ca22e137e61fe2632ec73a87d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee75d4417a8961a10ab27a3eecbc9195ed2544e8", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/ee75d4417a8961a10ab27a3eecbc9195ed2544e8", "committedDate": "2020-08-17T09:46:22Z", "message": "Merge branch 'master' of github.com:kiegroup/jbpm"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5e50c751ecc3660e280fdec8d280dfbb31f2d49", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/f5e50c751ecc3660e280fdec8d280dfbb31f2d49", "committedDate": "2020-08-19T14:12:44Z", "message": "Merge branch 'master' of github.com:kiegroup/jbpm"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "668e5768d2558693ba215488e7669afea788e1dc", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/668e5768d2558693ba215488e7669afea788e1dc", "committedDate": "2020-08-24T08:05:36Z", "message": "Merge branch 'master' of github.com:kiegroup/jbpm"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cf146b2f25dbfc38b5dffb5cb7d37b69b1cd1d2", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/2cf146b2f25dbfc38b5dffb5cb7d37b69b1cd1d2", "committedDate": "2020-08-26T09:02:44Z", "message": "Merge branch 'master' of github.com:kiegroup/jbpm"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1ODMxODU5", "url": "https://github.com/kiegroup/jbpm/pull/1707#pullrequestreview-475831859", "createdAt": "2020-08-26T20:24:42Z", "commit": {"oid": "ad532cbf703b3c9ca22e137e61fe2632ec73a87d"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQyMDoyNDo0M1rOHHcaww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQyMDoyNjo0M1rOHHce-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU2NzY4Mw==", "bodyText": "Comment on the line 211 no longer holds (timestamp -> UUID).", "url": "https://github.com/kiegroup/jbpm/pull/1707#discussion_r477567683", "createdAt": "2020-08-26T20:24:43Z", "author": {"login": "MarianMacik"}, "path": "jbpm-flow/src/main/java/org/jbpm/workflow/instance/node/SubProcessNodeInstance.java", "diffHunk": "@@ -211,7 +212,7 @@ public void internalTrigger(final NodeInstance from, String type) {\n                 List<String> businessKeys = new ArrayList<String>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad532cbf703b3c9ca22e137e61fe2632ec73a87d"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU2ODc2MQ==", "bodyText": "So I guess issue was in case there were 2 subprocesses created in a succession, for example with multi-instance/loop subprocess, right? And at least 2 of them had the same timestamp... That's really quick!", "url": "https://github.com/kiegroup/jbpm/pull/1707#discussion_r477568761", "createdAt": "2020-08-26T20:26:43Z", "author": {"login": "MarianMacik"}, "path": "jbpm-flow/src/main/java/org/jbpm/workflow/instance/node/DynamicUtils.java", "diffHunk": "@@ -275,7 +276,7 @@ private static long executeSubProcess(StatefulKnowledgeSessionImpl ksession,\n                 List<String> businessKeys = new ArrayList<>();\n                 businessKeys.add(((WorkflowProcessInstanceImpl) processInstance).getCorrelationKey());\n                 businessKeys.add(processId);\n-                businessKeys.add(String.valueOf(System.currentTimeMillis()));\n+                businessKeys.add(UUID.randomUUID().toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad532cbf703b3c9ca22e137e61fe2632ec73a87d"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2481547fe297303accd9f907ec62470714b96665", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/2481547fe297303accd9f907ec62470714b96665", "committedDate": "2020-08-27T06:13:31Z", "message": "[BAQE-1444] Switch from tcp to mem H2 in jbpm-bpmn2 module\n\n- Due to this change, there might be some tests failing as records are inserted in the in memory DB much faster (some records in DB might have same date, including milliseconds)."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ad532cbf703b3c9ca22e137e61fe2632ec73a87d", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/ad532cbf703b3c9ca22e137e61fe2632ec73a87d", "committedDate": "2020-08-10T12:07:59Z", "message": "[BAQE-1444] Switch from tcp to mem H2 in jbpm-bpmn2 module\n\n- Due to this change, there might be some tests failing as records are inserted in the in memory DB much faster (some records in DB might have same date, including milliseconds)."}, "afterCommit": {"oid": "2481547fe297303accd9f907ec62470714b96665", "author": {"user": {"login": "afalhambra", "name": "afalhambra"}}, "url": "https://github.com/kiegroup/jbpm/commit/2481547fe297303accd9f907ec62470714b96665", "committedDate": "2020-08-27T06:13:31Z", "message": "[BAQE-1444] Switch from tcp to mem H2 in jbpm-bpmn2 module\n\n- Due to this change, there might be some tests failing as records are inserted in the in memory DB much faster (some records in DB might have same date, including milliseconds)."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 975, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}