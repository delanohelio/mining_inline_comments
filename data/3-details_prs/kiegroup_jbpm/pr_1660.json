{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyNjgxNjI3", "number": 1660, "title": "[RHPAM-2960] Case instance update fails with java.io.NotSerializableE\u2026", "bodyText": "\u2026xception: org.jbpm.services.task.persistence.JPATaskModelFactory for cases containing multiple SLAs", "createdAt": "2020-05-25T10:41:37Z", "url": "https://github.com/kiegroup/jbpm/pull/1660", "merged": true, "mergeCommit": {"oid": "fbb4c06190b49eafe69d800387def8ba8b0bfc90"}, "closed": true, "closedAt": "2020-05-29T07:08:28Z", "author": {"login": "elguardian"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABckyGN6ABqjMzNzA2OTA5NDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclvgi7AFqTQyMDIyNDEwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "691353eecedd700750f501262ee7da57ccbb3abd", "author": {"user": null}, "url": "https://github.com/kiegroup/jbpm/commit/691353eecedd700750f501262ee7da57ccbb3abd", "committedDate": "2020-05-25T10:40:51Z", "message": "[RHPAM-2960] Case instance update fails with java.io.NotSerializableException: org.jbpm.services.task.persistence.JPATaskModelFactory for cases containing multiple SLAs"}, "afterCommit": {"oid": "93f8576bb91963e9c82b4b1456fb23832b741875", "author": {"user": null}, "url": "https://github.com/kiegroup/jbpm/commit/93f8576bb91963e9c82b4b1456fb23832b741875", "committedDate": "2020-05-25T15:49:10Z", "message": "[RHPAM-2960] Case instance update fails with java.io.NotSerializableException: org.jbpm.services.task.persistence.JPATaskModelFactory for cases containing multiple SLAs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5MDc5NDI3", "url": "https://github.com/kiegroup/jbpm/pull/1660#pullrequestreview-419079427", "createdAt": "2020-05-27T10:56:44Z", "commit": {"oid": "93f8576bb91963e9c82b4b1456fb23832b741875"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMDo1Njo0NFrOGbED5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMDo1Njo0NFrOGbED5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTAzMTI2OA==", "bodyText": "Current version is getting kruntime from pctx.getKnowledgeRuntime() method. So not really sure why we are now retrieving in a different way by using pctx.getWorkingMemory().getKnowledgeRuntime()?\nIf kruntime is not an instance of InternalWorkingMemory this will return a null and thus it might fail later on - this wasn't previous/current behavior.\nCan you please clarify?", "url": "https://github.com/kiegroup/jbpm/pull/1660#discussion_r431031268", "createdAt": "2020-05-27T10:56:44Z", "author": {"login": "afalhambra"}, "path": "jbpm-flow/src/main/java/org/jbpm/process/instance/timer/TimerManager.java", "diffHunk": "@@ -261,9 +261,10 @@ public void deserialize(MarshallerReaderContext inCtx, Timer timer) throws Class\n                     long now = pctx.getKnowledgeRuntime().getSessionClock().getCurrentTime();\n                     // overdue timer                    \n                     if (then < now) {\n-                        trigger = new OverdueTrigger(trigger, pctx.getKnowledgeRuntime());\n+                        trigger = new OverdueTrigger(trigger);\n                     }\n                 }\n+                trigger.initialize(pctx.getWorkingMemory().getKnowledgeRuntime());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93f8576bb91963e9c82b4b1456fb23832b741875"}, "originalPosition": 36}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "93f8576bb91963e9c82b4b1456fb23832b741875", "author": {"user": null}, "url": "https://github.com/kiegroup/jbpm/commit/93f8576bb91963e9c82b4b1456fb23832b741875", "committedDate": "2020-05-25T15:49:10Z", "message": "[RHPAM-2960] Case instance update fails with java.io.NotSerializableException: org.jbpm.services.task.persistence.JPATaskModelFactory for cases containing multiple SLAs"}, "afterCommit": {"oid": "0de393b6edfa2b94228726fe8c2a4755de1d1d09", "author": {"user": null}, "url": "https://github.com/kiegroup/jbpm/commit/0de393b6edfa2b94228726fe8c2a4755de1d1d09", "committedDate": "2020-05-27T13:25:39Z", "message": "[RHPAM-2960] Case instance update fails with java.io.NotSerializableException: org.jbpm.services.task.persistence.JPATaskModelFactory for cases containing multiple SLAs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7157969b3fb1a702abc49fded1662c715723c1c", "author": {"user": null}, "url": "https://github.com/kiegroup/jbpm/commit/a7157969b3fb1a702abc49fded1662c715723c1c", "committedDate": "2020-05-27T13:27:54Z", "message": "[RHPAM-2960] Case instance update fails with java.io.NotSerializableException: org.jbpm.services.task.persistence.JPATaskModelFactory for cases containing multiple SLAs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0de393b6edfa2b94228726fe8c2a4755de1d1d09", "author": {"user": null}, "url": "https://github.com/kiegroup/jbpm/commit/0de393b6edfa2b94228726fe8c2a4755de1d1d09", "committedDate": "2020-05-27T13:25:39Z", "message": "[RHPAM-2960] Case instance update fails with java.io.NotSerializableException: org.jbpm.services.task.persistence.JPATaskModelFactory for cases containing multiple SLAs"}, "afterCommit": {"oid": "a7157969b3fb1a702abc49fded1662c715723c1c", "author": {"user": null}, "url": "https://github.com/kiegroup/jbpm/commit/a7157969b3fb1a702abc49fded1662c715723c1c", "committedDate": "2020-05-27T13:27:54Z", "message": "[RHPAM-2960] Case instance update fails with java.io.NotSerializableException: org.jbpm.services.task.persistence.JPATaskModelFactory for cases containing multiple SLAs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwMjI0MTA1", "url": "https://github.com/kiegroup/jbpm/pull/1660#pullrequestreview-420224105", "createdAt": "2020-05-28T15:22:22Z", "commit": {"oid": "a7157969b3fb1a702abc49fded1662c715723c1c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 919, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}