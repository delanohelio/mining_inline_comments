{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3ODU3OTA2", "number": 1768, "title": "[BAQE-1534] Update all test cases across jbpm regarding persistence for DB Jenkins matrix job", "bodyText": "BAQE-1534: Update all test cases across jbpm regarding persistence for DB Jenkins matrix job\n\n\nHow to retest this PR or trigger a specific build:\n\n\n\na pull request please add comment: Jenkins retest this\n\n\na full downstream build please add comment: Jenkins run fdb\n\n\na compile downstream build please  add comment: Jenkins run cdb\n\n\na full production downstream build please add comment: Jenkins execute product fdb\n\n\nan upstream build please add comment: Jenkins run upstream", "createdAt": "2020-10-05T13:32:50Z", "url": "https://github.com/kiegroup/jbpm/pull/1768", "merged": true, "mergeCommit": {"oid": "568968d107d2c9250280d6c10fd8e294a1bf3289"}, "closed": true, "closedAt": "2020-11-24T12:41:56Z", "author": {"login": "afalhambra"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdPj683ABqjM4NDA0OTM2OTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfoz53gFqTUzNzQzNzQ2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "490e8266340bc5fa743172ac4823907fdffc9d38", "author": {"user": null}, "url": "https://github.com/kiegroup/jbpm/commit/490e8266340bc5fa743172ac4823907fdffc9d38", "committedDate": "2020-10-05T13:29:31Z", "message": "[BAQE-1534] Update all test cases across jbpm regarding persistence for DB Jenkins matrix job"}, "afterCommit": {"oid": "233e010af58f11779e1a91741e494cfab0dcb2f0", "author": {"user": null}, "url": "https://github.com/kiegroup/jbpm/commit/233e010af58f11779e1a91741e494cfab0dcb2f0", "committedDate": "2020-10-05T13:37:01Z", "message": "[BAQE-1534] Update all test cases across jbpm regarding persistence for DB Jenkins matrix job"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyNzY3MTMz", "url": "https://github.com/kiegroup/jbpm/pull/1768#pullrequestreview-502767133", "createdAt": "2020-10-06T09:48:24Z", "commit": {"oid": "233e010af58f11779e1a91741e494cfab0dcb2f0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxMzc0ODg2", "url": "https://github.com/kiegroup/jbpm/pull/1768#pullrequestreview-531374886", "createdAt": "2020-11-16T14:33:30Z", "commit": {"oid": "233e010af58f11779e1a91741e494cfab0dcb2f0"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDozMzozMFrOH0BaZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDo0MzoxNVrOH0B3Ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDMxMTE0Mw==", "bodyText": "This is missing in the jbpm-human-task-audit persistence.xml and others in this PR. Is it even needed? But if it works as is, it's fine for me.", "url": "https://github.com/kiegroup/jbpm/pull/1768#discussion_r524311143", "createdAt": "2020-11-16T14:33:30Z", "author": {"login": "MarianMacik"}, "path": "jbpm-case-mgmt/jbpm-case-mgmt-impl/src/test/filtered-resources/META-INF/persistence.xml", "diffHunk": "@@ -76,9 +76,10 @@\n     \n     <!-- error handling -->\n     <class>org.jbpm.runtime.manager.impl.jpa.ExecutionErrorInfo</class>\n-    \n+\n     <properties>\n-      <property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.PostgreSQLDialect\" />\n+      <property name=\"hibernate.dialect\" value=\"${maven.hibernate.dialect}\" />\n+      <property name=\"hibernate.default_schema\" value=\"${maven.jdbc.schema}\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "233e010af58f11779e1a91741e494cfab0dcb2f0"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDMxODU0Ng==", "bodyText": "Maybe just add in the docs that it will use the default datasource.properties file.", "url": "https://github.com/kiegroup/jbpm/pull/1768#discussion_r524318546", "createdAt": "2020-11-16T14:43:15Z", "author": {"login": "MarianMacik"}, "path": "jbpm-test-util/src/main/java/org/jbpm/test/persistence/util/PersistenceUtil.java", "diffHunk": "@@ -187,6 +187,15 @@ public static PoolingDataSourceWrapper setupPoolingDataSource(Properties dsProps\n         return DataSourceFactory.setupPoolingDataSource(datasourceName, dsProps);\n     }\n \n+    /**\n+     * Sets up a PoolingDataSourceWrapper with the specified datasource.\n+     *\n+     * @return PoolingDataSourceWrapper that has been set up but _not_ initialized.\n+     */\n+    public static PoolingDataSourceWrapper setupPoolingDataSource(String datasourceName){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "233e010af58f11779e1a91741e494cfab0dcb2f0"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49df2e3ba1d40861475b7e97dbb1be240a7656f6", "author": {"user": null}, "url": "https://github.com/kiegroup/jbpm/commit/49df2e3ba1d40861475b7e97dbb1be240a7656f6", "committedDate": "2020-11-19T08:59:16Z", "message": "[BAQE-1534] Update all test cases across jbpm regarding persistence for DB Jenkins matrix job"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "233e010af58f11779e1a91741e494cfab0dcb2f0", "author": {"user": null}, "url": "https://github.com/kiegroup/jbpm/commit/233e010af58f11779e1a91741e494cfab0dcb2f0", "committedDate": "2020-10-05T13:37:01Z", "message": "[BAQE-1534] Update all test cases across jbpm regarding persistence for DB Jenkins matrix job"}, "afterCommit": {"oid": "49df2e3ba1d40861475b7e97dbb1be240a7656f6", "author": {"user": null}, "url": "https://github.com/kiegroup/jbpm/commit/49df2e3ba1d40861475b7e97dbb1be240a7656f6", "committedDate": "2020-11-19T08:59:16Z", "message": "[BAQE-1534] Update all test cases across jbpm regarding persistence for DB Jenkins matrix job"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NDM3NDY0", "url": "https://github.com/kiegroup/jbpm/pull/1768#pullrequestreview-537437464", "createdAt": "2020-11-24T12:21:47Z", "commit": {"oid": "49df2e3ba1d40861475b7e97dbb1be240a7656f6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 785, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}