{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0MjQ2MzQz", "number": 1703, "title": "[JBPM-9249] Process upgrade fails in RHPAM 7.7 if process instance ha\u2026", "bodyText": "\u2026s active timer and its migrated from BPMS 6.4 release", "createdAt": "2020-07-21T08:04:36Z", "url": "https://github.com/kiegroup/jbpm/pull/1703", "merged": true, "mergeCommit": {"oid": "ece03f922935f523d98b8fc716e5654927792d90"}, "closed": true, "closedAt": "2020-07-28T09:32:17Z", "author": {"login": "abhijithumbe"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3BkzKgH2gAyNDU0MjQ2MzQzOjg0MGI0ZDdjMWM0ODU3MDAwMmEzYmFmOGFiYjMwZTk1YjZmMGI2YTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5TD2ZAFqTQ1NjQ2MzY4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "840b4d7c1c48570002a3baf8abb30e95b6f0b6a3", "author": {"user": {"login": "abhijithumbe", "name": null}}, "url": "https://github.com/kiegroup/jbpm/commit/840b4d7c1c48570002a3baf8abb30e95b6f0b6a3", "committedDate": "2020-07-21T08:02:01Z", "message": "[JBPM-9249] Process upgrade fails in RHPAM 7.7 if process instance has active timer and its migrated from BPMS 6.4 release"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMTU5NDM0", "url": "https://github.com/kiegroup/jbpm/pull/1703#pullrequestreview-453159434", "createdAt": "2020-07-22T09:42:49Z", "commit": {"oid": "840b4d7c1c48570002a3baf8abb30e95b6f0b6a3"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwOTo0Mjo0OVrOG1a8FQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwOTo0NTowNVrOG1bA1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY2OTA3Nw==", "bodyText": "Format: add blanks around the parenthesis:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                                if(timerInstance==null){\n          \n          \n            \n                                                if (timerInstance==null) {", "url": "https://github.com/kiegroup/jbpm/pull/1703#discussion_r458669077", "createdAt": "2020-07-22T09:42:49Z", "author": {"login": "gmunozfe"}, "path": "jbpm-runtime-manager/src/main/java/org/jbpm/runtime/manager/impl/migration/MigrationManager.java", "diffHunk": "@@ -601,7 +601,10 @@ protected TimerManager getTimerManager(KieSession ksession) {\n                                 List<TimerInstance> collected = new ArrayList<>();\n                                 for (Long timerId : timers) {\n                                     TimerInstance timerInstance = timerManager.getTimerMap().get(timerId);\n-\n+                                    if(timerInstance==null){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "840b4d7c1c48570002a3baf8abb30e95b6f0b6a3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY3MDI5Mw==", "bodyText": "TimerId may be added also to the report (fix a typo at timer also):\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                                    report.addEntry(Type.WARN, \"Could not find any timeer instance to cancel.\");\n          \n          \n            \n                                                    report.addEntry(Type.WARN, \"Could not find timer instance with id \"+timerId+\" to cancel.\");", "url": "https://github.com/kiegroup/jbpm/pull/1703#discussion_r458670293", "createdAt": "2020-07-22T09:45:05Z", "author": {"login": "gmunozfe"}, "path": "jbpm-runtime-manager/src/main/java/org/jbpm/runtime/manager/impl/migration/MigrationManager.java", "diffHunk": "@@ -601,7 +601,10 @@ protected TimerManager getTimerManager(KieSession ksession) {\n                                 List<TimerInstance> collected = new ArrayList<>();\n                                 for (Long timerId : timers) {\n                                     TimerInstance timerInstance = timerManager.getTimerMap().get(timerId);\n-\n+                                    if(timerInstance==null){\n+                                        report.addEntry(Type.WARN, \"Could not find any timeer instance to cancel.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "840b4d7c1c48570002a3baf8abb30e95b6f0b6a3"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49936cd674a44ebeb58feb1f0e5f79d60e9fd078", "author": {"user": {"login": "abhijithumbe", "name": null}}, "url": "https://github.com/kiegroup/jbpm/commit/49936cd674a44ebeb58feb1f0e5f79d60e9fd078", "committedDate": "2020-07-22T09:53:41Z", "message": "Update jbpm-runtime-manager/src/main/java/org/jbpm/runtime/manager/impl/migration/MigrationManager.java\n\nCo-authored-by: Gonzalo Mu\u00f1oz <gmunozfe@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f8d4053b23242441731d0080d002197ca971f10", "author": {"user": {"login": "abhijithumbe", "name": null}}, "url": "https://github.com/kiegroup/jbpm/commit/3f8d4053b23242441731d0080d002197ca971f10", "committedDate": "2020-07-22T09:53:54Z", "message": "Update jbpm-runtime-manager/src/main/java/org/jbpm/runtime/manager/impl/migration/MigrationManager.java\n\nCo-authored-by: Gonzalo Mu\u00f1oz <gmunozfe@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NDYzNjg1", "url": "https://github.com/kiegroup/jbpm/pull/1703#pullrequestreview-456463685", "createdAt": "2020-07-28T09:32:10Z", "commit": {"oid": "3f8d4053b23242441731d0080d002197ca971f10"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 969, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}