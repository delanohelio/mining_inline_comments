{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyMDE3MDg4", "number": 1718, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwOTozMDowMFrOEUiOQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNzozNzoxNVrOEVtE3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5OTY3NjgwOnYy", "diffSide": "RIGHT", "path": "jbpm-bpmn2/src/main/java/org/jbpm/bpmn2/xml/ProcessHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwOTozMDowMFrOG6yn7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNTowODowMFrOG69VcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDMwMDAxMg==", "bodyText": "Check first that links is not null", "url": "https://github.com/kiegroup/jbpm/pull/1718#discussion_r464300012", "createdAt": "2020-08-03T09:30:00Z", "author": {"login": "gmunozfe"}, "path": "jbpm-bpmn2/src/main/java/org/jbpm/bpmn2/xml/ProcessHandler.java", "diffHunk": "@@ -202,6 +204,15 @@ public Object end(final String uri, final String localName,\n \t public static void linkIntermediateLinks(NodeContainer process,\n \t            List<IntermediateLink> links) {\n \n+        List<IntermediateLink> errors = links.stream().filter(l -> l.getName() == null || l.getName().isEmpty()).collect(toList());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c6e93c6b7c81fc15de798fc6192b5ac686a52bd"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQ3NTUwNA==", "bodyText": "done. Let's wait for CI", "url": "https://github.com/kiegroup/jbpm/pull/1718#discussion_r464475504", "createdAt": "2020-08-03T15:08:00Z", "author": {"login": "elguardian"}, "path": "jbpm-bpmn2/src/main/java/org/jbpm/bpmn2/xml/ProcessHandler.java", "diffHunk": "@@ -202,6 +204,15 @@ public Object end(final String uri, final String localName,\n \t public static void linkIntermediateLinks(NodeContainer process,\n \t            List<IntermediateLink> links) {\n \n+        List<IntermediateLink> errors = links.stream().filter(l -> l.getName() == null || l.getName().isEmpty()).collect(toList());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDMwMDAxMg=="}, "originalCommit": {"oid": "4c6e93c6b7c81fc15de798fc6192b5ac686a52bd"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMzY3Mjg5OnYy", "diffSide": "RIGHT", "path": "jbpm-test-coverage/src/test/java/org/jbpm/test/functional/EmptyLinkProcessTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwOToxNDo1NlrOG7YGqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwOToxNDo1NlrOG7YGqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDkxNDA4OQ==", "bodyText": "Minor thing: copyright for new file is set to 2017.", "url": "https://github.com/kiegroup/jbpm/pull/1718#discussion_r464914089", "createdAt": "2020-08-04T09:14:56Z", "author": {"login": "hasys"}, "path": "jbpm-test-coverage/src/test/java/org/jbpm/test/functional/EmptyLinkProcessTest.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Copyright 2017 Red Hat, Inc. and/or its affiliates.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f5bece0b721bd2a2186788e16dcd983b7fcc3a7"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMTk0MDc5OnYy", "diffSide": "RIGHT", "path": "jbpm-bpmn2/src/main/java/org/jbpm/bpmn2/xml/ProcessHandler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNzozNzoxNVrOG8m5Xg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNzozNzoxNVrOG8m5Xg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjIwNTAyMg==", "bodyText": "For Windows OS, better use System property \"line.separator\" than \"\\n\"", "url": "https://github.com/kiegroup/jbpm/pull/1718#discussion_r466205022", "createdAt": "2020-08-06T07:37:15Z", "author": {"login": "gmunozfe"}, "path": "jbpm-bpmn2/src/main/java/org/jbpm/bpmn2/xml/ProcessHandler.java", "diffHunk": "@@ -202,8 +204,16 @@ public Object end(final String uri, final String localName,\n \t public static void linkIntermediateLinks(NodeContainer process,\n \t            List<IntermediateLink> links) {\n \n-\t        if (null != links) {\n \n+        if (null != links) {\n+            List<IntermediateLink> errors = links.stream().filter(l -> l.getName() == null || l.getName().isEmpty()).collect(toList());\n+            if (!errors.isEmpty()) {\n+                StringBuilder builder = new StringBuilder();\n+                for (IntermediateLink l : errors) {\n+                    builder.append(\"\\tIntermediate Link: \" + l.getUniqueId() + \"\\n\");\n+                }\n+                throw new IllegalArgumentException(\"There are \" + errors.size() + \" links that does not have a name.\\n\" + builder.toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f5bece0b721bd2a2186788e16dcd983b7fcc3a7"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1764, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}