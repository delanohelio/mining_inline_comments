{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyNjgxNjI3", "number": 1660, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMDo1Njo0NFrOEACXzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMDo1Njo0NFrOEACXzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NDc0MzE3OnYy", "diffSide": "RIGHT", "path": "jbpm-flow/src/main/java/org/jbpm/process/instance/timer/TimerManager.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMDo1Njo0NFrOGbED5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMDo1Njo0NFrOGbED5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTAzMTI2OA==", "bodyText": "Current version is getting kruntime from pctx.getKnowledgeRuntime() method. So not really sure why we are now retrieving in a different way by using pctx.getWorkingMemory().getKnowledgeRuntime()?\nIf kruntime is not an instance of InternalWorkingMemory this will return a null and thus it might fail later on - this wasn't previous/current behavior.\nCan you please clarify?", "url": "https://github.com/kiegroup/jbpm/pull/1660#discussion_r431031268", "createdAt": "2020-05-27T10:56:44Z", "author": {"login": "afalhambra"}, "path": "jbpm-flow/src/main/java/org/jbpm/process/instance/timer/TimerManager.java", "diffHunk": "@@ -261,9 +261,10 @@ public void deserialize(MarshallerReaderContext inCtx, Timer timer) throws Class\n                     long now = pctx.getKnowledgeRuntime().getSessionClock().getCurrentTime();\n                     // overdue timer                    \n                     if (then < now) {\n-                        trigger = new OverdueTrigger(trigger, pctx.getKnowledgeRuntime());\n+                        trigger = new OverdueTrigger(trigger);\n                     }\n                 }\n+                trigger.initialize(pctx.getWorkingMemory().getKnowledgeRuntime());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93f8576bb91963e9c82b4b1456fb23832b741875"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1709, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}