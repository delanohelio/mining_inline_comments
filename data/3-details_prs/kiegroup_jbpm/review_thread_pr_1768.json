{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3ODU3OTA2", "number": 1768, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDozMzozMFrOE5g8zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDo0MzoxNVrOE5hPNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NzQ0MTQyOnYy", "diffSide": "RIGHT", "path": "jbpm-case-mgmt/jbpm-case-mgmt-impl/src/test/filtered-resources/META-INF/persistence.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDozMzozMFrOH0BaZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwOTowMDo0NlrOH2S7Cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDMxMTE0Mw==", "bodyText": "This is missing in the jbpm-human-task-audit persistence.xml and others in this PR. Is it even needed? But if it works as is, it's fine for me.", "url": "https://github.com/kiegroup/jbpm/pull/1768#discussion_r524311143", "createdAt": "2020-11-16T14:33:30Z", "author": {"login": "MarianMacik"}, "path": "jbpm-case-mgmt/jbpm-case-mgmt-impl/src/test/filtered-resources/META-INF/persistence.xml", "diffHunk": "@@ -76,9 +76,10 @@\n     \n     <!-- error handling -->\n     <class>org.jbpm.runtime.manager.impl.jpa.ExecutionErrorInfo</class>\n-    \n+\n     <properties>\n-      <property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.PostgreSQLDialect\" />\n+      <property name=\"hibernate.dialect\" value=\"${maven.hibernate.dialect}\" />\n+      <property name=\"hibernate.default_schema\" value=\"${maven.jdbc.schema}\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "233e010af58f11779e1a91741e494cfab0dcb2f0"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY5NTE3OA==", "bodyText": "Nice catch.\nSeems it might be used depending on the db we're using - see https://github.com/kiegroup/jbpm/blob/master/jbpm-container-test/jbpm-remote-ejb-test/jbpm-remote-ejb-test-app/src/main/resources/META-INF/persistence.xml#L64\nAs per hibernate doc, it's used for qualifying tables in queries... so I will keep them and add it where it's missing just in case\nAlso I notice below properties in datasource.properties files are not used anywhere in the code, so I'm removing them:\n\ndefaultSchema\nmakeBaseDb\ntestMarshalling", "url": "https://github.com/kiegroup/jbpm/pull/1768#discussion_r526695178", "createdAt": "2020-11-19T09:00:46Z", "author": {"login": "afalhambra"}, "path": "jbpm-case-mgmt/jbpm-case-mgmt-impl/src/test/filtered-resources/META-INF/persistence.xml", "diffHunk": "@@ -76,9 +76,10 @@\n     \n     <!-- error handling -->\n     <class>org.jbpm.runtime.manager.impl.jpa.ExecutionErrorInfo</class>\n-    \n+\n     <properties>\n-      <property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.PostgreSQLDialect\" />\n+      <property name=\"hibernate.dialect\" value=\"${maven.hibernate.dialect}\" />\n+      <property name=\"hibernate.default_schema\" value=\"${maven.jdbc.schema}\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDMxMTE0Mw=="}, "originalCommit": {"oid": "233e010af58f11779e1a91741e494cfab0dcb2f0"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NzQ4ODUyOnYy", "diffSide": "RIGHT", "path": "jbpm-test-util/src/main/java/org/jbpm/test/persistence/util/PersistenceUtil.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDo0MzoxNVrOH0B3Ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwODo1OTo1OVrOH2S5Eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDMxODU0Ng==", "bodyText": "Maybe just add in the docs that it will use the default datasource.properties file.", "url": "https://github.com/kiegroup/jbpm/pull/1768#discussion_r524318546", "createdAt": "2020-11-16T14:43:15Z", "author": {"login": "MarianMacik"}, "path": "jbpm-test-util/src/main/java/org/jbpm/test/persistence/util/PersistenceUtil.java", "diffHunk": "@@ -187,6 +187,15 @@ public static PoolingDataSourceWrapper setupPoolingDataSource(Properties dsProps\n         return DataSourceFactory.setupPoolingDataSource(datasourceName, dsProps);\n     }\n \n+    /**\n+     * Sets up a PoolingDataSourceWrapper with the specified datasource.\n+     *\n+     * @return PoolingDataSourceWrapper that has been set up but _not_ initialized.\n+     */\n+    public static PoolingDataSourceWrapper setupPoolingDataSource(String datasourceName){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "233e010af58f11779e1a91741e494cfab0dcb2f0"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY5NDY3NA==", "bodyText": "done", "url": "https://github.com/kiegroup/jbpm/pull/1768#discussion_r526694674", "createdAt": "2020-11-19T08:59:59Z", "author": {"login": "afalhambra"}, "path": "jbpm-test-util/src/main/java/org/jbpm/test/persistence/util/PersistenceUtil.java", "diffHunk": "@@ -187,6 +187,15 @@ public static PoolingDataSourceWrapper setupPoolingDataSource(Properties dsProps\n         return DataSourceFactory.setupPoolingDataSource(datasourceName, dsProps);\n     }\n \n+    /**\n+     * Sets up a PoolingDataSourceWrapper with the specified datasource.\n+     *\n+     * @return PoolingDataSourceWrapper that has been set up but _not_ initialized.\n+     */\n+    public static PoolingDataSourceWrapper setupPoolingDataSource(String datasourceName){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDMxODU0Ng=="}, "originalCommit": {"oid": "233e010af58f11779e1a91741e494cfab0dcb2f0"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1584, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}