{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0ODc2NzQ0", "number": 1705, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QyMTowMjo0NVrOESjogQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QyMjoyOTowOVrOESlJ2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3ODkzNjMzOnYy", "diffSide": "RIGHT", "path": "jbpm-persistence/jbpm-persistence-jpa/src/main/java/org/jbpm/persistence/processinstance/ProcessInstanceInfo.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QyMTowMjo0NVrOG3zd2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwMTozOToyN1rOG35eDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTE2ODA5MQ==", "bodyText": "Remove this unused import", "url": "https://github.com/kiegroup/jbpm/pull/1705#discussion_r461168091", "createdAt": "2020-07-27T21:02:45Z", "author": {"login": "gmunozfe"}, "path": "jbpm-persistence/jbpm-persistence-jpa/src/main/java/org/jbpm/persistence/processinstance/ProcessInstanceInfo.java", "diffHunk": "@@ -55,6 +55,7 @@\n import org.jbpm.marshalling.impl.ProtobufRuleFlowProcessInstanceMarshaller;\n import org.jbpm.persistence.api.PersistentProcessInstance;\n import org.jbpm.process.instance.impl.ProcessInstanceImpl;\n+import org.jbpm.workflow.instance.WorkflowProcessInstance;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5971786f7797b13509cb9d4a92050acfb23d59f5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTI2NjQ0NQ==", "bodyText": "I found that import org.drools.persistence.api.Transformable; was unused as well and removed it", "url": "https://github.com/kiegroup/jbpm/pull/1705#discussion_r461266445", "createdAt": "2020-07-28T01:39:27Z", "author": {"login": "hmatt1"}, "path": "jbpm-persistence/jbpm-persistence-jpa/src/main/java/org/jbpm/persistence/processinstance/ProcessInstanceInfo.java", "diffHunk": "@@ -55,6 +55,7 @@\n import org.jbpm.marshalling.impl.ProtobufRuleFlowProcessInstanceMarshaller;\n import org.jbpm.persistence.api.PersistentProcessInstance;\n import org.jbpm.process.instance.impl.ProcessInstanceImpl;\n+import org.jbpm.workflow.instance.WorkflowProcessInstance;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTE2ODA5MQ=="}, "originalCommit": {"oid": "5971786f7797b13509cb9d4a92050acfb23d59f5"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3OTE0MTA5OnYy", "diffSide": "RIGHT", "path": "jbpm-persistence/jbpm-persistence-jpa/src/main/java/org/jbpm/persistence/processinstance/ProcessInstanceInfo.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QyMjoxMTozMVrOG31aNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QyMjoxMTozMVrOG31aNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTE5OTkyNQ==", "bodyText": "You can remove this check, as it will always be true (notice that a null pointer exception will be thrown 2 lines above if processInstance were null)", "url": "https://github.com/kiegroup/jbpm/pull/1705#discussion_r461199925", "createdAt": "2020-07-27T22:11:31Z", "author": {"login": "gmunozfe"}, "path": "jbpm-persistence/jbpm-persistence-jpa/src/main/java/org/jbpm/persistence/processinstance/ProcessInstanceInfo.java", "diffHunk": "@@ -103,6 +104,16 @@ public ProcessInstanceInfo(ProcessInstance processInstance) {\n         this.processInstance = processInstance;\n         this.processId = processInstance.getProcessId();\n         startDate = new Date();\n+\n+        // If we are creating a second Process Instance Info for the same process instance,\n+        // it should not generate a new start date\n+        if (this.processInstance != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5971786f7797b13509cb9d4a92050acfb23d59f5"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3OTE4NTU0OnYy", "diffSide": "RIGHT", "path": "jbpm-persistence/jbpm-persistence-jpa/src/main/java/org/jbpm/persistence/processinstance/ProcessInstanceInfo.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QyMjoyOTowOVrOG310uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QyMjoyOTowOVrOG310uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTIwNjcxNQ==", "bodyText": "You can move this line inside the first condition, for clarity and not overwriting when getStartDate is not null", "url": "https://github.com/kiegroup/jbpm/pull/1705#discussion_r461206715", "createdAt": "2020-07-27T22:29:09Z", "author": {"login": "gmunozfe"}, "path": "jbpm-persistence/jbpm-persistence-jpa/src/main/java/org/jbpm/persistence/processinstance/ProcessInstanceInfo.java", "diffHunk": "@@ -103,6 +104,16 @@ public ProcessInstanceInfo(ProcessInstance processInstance) {\n         this.processInstance = processInstance;\n         this.processId = processInstance.getProcessId();\n         startDate = new Date();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5971786f7797b13509cb9d4a92050acfb23d59f5"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1756, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}