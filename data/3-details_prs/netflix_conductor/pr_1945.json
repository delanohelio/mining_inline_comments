{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzNDE1Mzgz", "number": 1945, "title": "Fix for bug 1928, TERMINATE workflowOutput is being override by workflowOutput parameters set from workflowDefinition", "bodyText": "Reference 1928 issue.\nAdded fix to not to override the workflow output that was set in TERMINATE task.", "createdAt": "2020-10-31T11:15:55Z", "url": "https://github.com/Netflix/conductor/pull/1945", "merged": true, "mergeCommit": {"oid": "e422baf7e007a887bf2a06416322891d7bc41ba8"}, "closed": true, "closedAt": "2020-12-02T19:22:43Z", "author": {"login": "vamsibandarupalli"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdX5TwuAH2gAyNTEzNDE1MzgzOjg0YmE5ZTliMjEwNDlkMmY2MWNjMDQ1N2U0MTBjNjQyMDg3NjM5ZjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiS17FgFqTU0MzEyMTk4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "84ba9e9b21049d2f61cc0457e410c642087639f5", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/84ba9e9b21049d2f61cc0457e410c642087639f5", "committedDate": "2020-10-31T11:03:40Z", "message": "Fix for bug 1928, TERMINATE workflowOutput is being override by workflowOutput parameters set from workflowDefinition"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3547cc39819a9654a6bcc83b0ea4db4e0e00a24", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/d3547cc39819a9654a6bcc83b0ea4db4e0e00a24", "committedDate": "2020-10-31T12:24:25Z", "message": "Fix for bug 1928, Fix Build Failure."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a622f0fdcae9d4925b04151c867681c5755f5726", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/a622f0fdcae9d4925b04151c867681c5755f5726", "committedDate": "2020-10-31T12:50:19Z", "message": "Fix for bug 1928, Fix Integration Build Failure."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09658432b1a872d9b9f2f3d9004facfab7aae88e", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/09658432b1a872d9b9f2f3d9004facfab7aae88e", "committedDate": "2020-11-02T05:48:30Z", "message": "adding unit test coverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11f5c2cef08504084f261295a5a46d81c783604d", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/11f5c2cef08504084f261295a5a46d81c783604d", "committedDate": "2020-11-02T05:59:09Z", "message": "adding unit test coverage"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2NzY1MTkw", "url": "https://github.com/Netflix/conductor/pull/1945#pullrequestreview-526765190", "createdAt": "2020-11-10T00:38:52Z", "commit": {"oid": "11f5c2cef08504084f261295a5a46d81c783604d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwMDozODo1MlrOHwHKWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwMDozODo1MlrOHwHKWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDIxMTAzNQ==", "bodyText": "Changing the workflow definition within the workflow does not seem to be the best way to achieve this. This makes the behavior seem like a side-effect rather than intentional.", "url": "https://github.com/Netflix/conductor/pull/1945#discussion_r520211035", "createdAt": "2020-11-10T00:38:52Z", "author": {"login": "apanicker-nflx"}, "path": "core/src/main/java/com/netflix/conductor/core/execution/tasks/Terminate.java", "diffHunk": "@@ -81,6 +81,9 @@ public static Boolean validateInputStatus(String status) {\n     private void setWorkflowOutput(Map<String, Object> taskOutput, Workflow workflow) {\n         if(!taskOutput.isEmpty()) {\n             workflow.setOutput(taskOutput);\n+\t\t\tif (workflow.getWorkflowDefinition() != null && (workflow.getWorkflowDefinition().getOutputParameters() != null && !workflow.getWorkflowDefinition().getOutputParameters().isEmpty())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11f5c2cef08504084f261295a5a46d81c783604d"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "126a7f80ea0f16b90f5da360110aaa7d7545ad64", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/126a7f80ea0f16b90f5da360110aaa7d7545ad64", "committedDate": "2020-11-11T12:02:31Z", "message": "Fix for bug 1928, Adding Integration coverage for bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ec6ecd6e49615017c7804d29907ad6b824b22ae", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/2ec6ecd6e49615017c7804d29907ad6b824b22ae", "committedDate": "2020-11-11T12:50:34Z", "message": "Merge branch 'dev' of https://github.com/Netflix/conductor into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c336592ec7d701ff72abec1a28e130d98af5ae5f", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/c336592ec7d701ff72abec1a28e130d98af5ae5f", "committedDate": "2020-11-11T13:33:14Z", "message": "removing integration test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d091714d6d4c35b52013a766f182726b024872c4", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/d091714d6d4c35b52013a766f182726b024872c4", "committedDate": "2020-11-11T14:03:04Z", "message": "adding outputParameters to terminate_task_completed_workflow_integration_test.json file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56c0ac82783674751d5f3314d3638132f971c568", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/56c0ac82783674751d5f3314d3638132f971c568", "committedDate": "2020-11-11T14:46:58Z", "message": "Integration test to test output after executing terminate task"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04c01e12636bf1c8b1960762b8c9c1a2f9bf1658", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/04c01e12636bf1c8b1960762b8c9c1a2f9bf1658", "committedDate": "2020-11-11T15:25:56Z", "message": "Integration test to test output after executing terminate task"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58dc2f7d44383cbb4fe6828d7303b796aaa8ed5b", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/58dc2f7d44383cbb4fe6828d7303b796aaa8ed5b", "committedDate": "2020-11-11T16:17:05Z", "message": "Fixing Intergartion test and fixing bug in DeciderService rather than chaging workflowDefintion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40638db051879158d72b3f17768d91f127ee9681", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/40638db051879158d72b3f17768d91f127ee9681", "committedDate": "2020-11-11T16:34:07Z", "message": "Fixing Build Failue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02fb7f63898c5c5dcff40ab8e8b65bc3c2183edd", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/02fb7f63898c5c5dcff40ab8e8b65bc3c2183edd", "committedDate": "2020-11-11T16:59:19Z", "message": "Removing unused import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48b56e0ec3479208e08951835322a12dacc0c5c4", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/48b56e0ec3479208e08951835322a12dacc0c5c4", "committedDate": "2020-11-11T17:12:02Z", "message": "Fix build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3990ac2ff6c3e894f72273b809e87f7b7439a28a", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/3990ac2ff6c3e894f72273b809e87f7b7439a28a", "committedDate": "2020-11-11T17:23:51Z", "message": "Fixing Build Failue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa26561da1eecec3370af90cf9063fe6ba3a6dfe", "author": {"user": {"login": "vamsibandarupalli", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/aa26561da1eecec3370af90cf9063fe6ba3a6dfe", "committedDate": "2020-11-12T07:36:07Z", "message": "Add unit test coverage when definition has outputParameters definied"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzMTIxOTg5", "url": "https://github.com/Netflix/conductor/pull/1945#pullrequestreview-543121989", "createdAt": "2020-12-02T18:27:51Z", "commit": {"oid": "aa26561da1eecec3370af90cf9063fe6ba3a6dfe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 720, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}