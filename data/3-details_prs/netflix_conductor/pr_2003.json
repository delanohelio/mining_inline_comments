{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1NTM1NDQ4", "number": 2003, "title": "add configuration metadata", "bodyText": "", "createdAt": "2020-12-09T23:37:30Z", "url": "https://github.com/Netflix/conductor/pull/2003", "merged": true, "mergeCommit": {"oid": "6509865c8efedbb0c0b45f4fcb01bbf7e94b121d"}, "closed": true, "closedAt": "2020-12-29T17:56:50Z", "author": {"login": "apanicker-nflx"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdngDHlgBqjQxMzE3MTc1MTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdq-kQNABqjQxNTUzNDI3NTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f3d93821acb7f328c94f410a3acf48fd14515ef3", "author": {"user": {"login": "apanicker-nflx", "name": "Anoop Panicker"}}, "url": "https://github.com/Netflix/conductor/commit/f3d93821acb7f328c94f410a3acf48fd14515ef3", "committedDate": "2020-12-09T23:36:44Z", "message": "add configuration metadata"}, "afterCommit": {"oid": "e08181dad38dee05e6eec669cba3010f9518ceec", "author": {"user": {"login": "apanicker-nflx", "name": "Anoop Panicker"}}, "url": "https://github.com/Netflix/conductor/commit/e08181dad38dee05e6eec669cba3010f9518ceec", "committedDate": "2020-12-18T22:40:24Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "467e0395fe720302da05e7a379fbcb259fb21829", "author": {"user": {"login": "apanicker-nflx", "name": "Anoop Panicker"}}, "url": "https://github.com/Netflix/conductor/commit/467e0395fe720302da05e7a379fbcb259fb21829", "committedDate": "2020-12-24T00:00:18Z", "message": "add configuration metadata"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ff09dbe28daf8c6489adcc87985c1dc32e48b98c", "author": {"user": {"login": "apanicker-nflx", "name": "Anoop Panicker"}}, "url": "https://github.com/Netflix/conductor/commit/ff09dbe28daf8c6489adcc87985c1dc32e48b98c", "committedDate": "2020-12-23T23:56:12Z", "message": "wip"}, "afterCommit": {"oid": "8f5d5619c471ad6ab04aec1652e089b6787d7003", "author": {"user": {"login": "apanicker-nflx", "name": "Anoop Panicker"}}, "url": "https://github.com/Netflix/conductor/commit/8f5d5619c471ad6ab04aec1652e089b6787d7003", "committedDate": "2020-12-24T00:00:18Z", "message": "wip"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8f5d5619c471ad6ab04aec1652e089b6787d7003", "author": {"user": {"login": "apanicker-nflx", "name": "Anoop Panicker"}}, "url": "https://github.com/Netflix/conductor/commit/8f5d5619c471ad6ab04aec1652e089b6787d7003", "committedDate": "2020-12-24T00:00:18Z", "message": "wip"}, "afterCommit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9", "author": {"user": {"login": "apanicker-nflx", "name": "Anoop Panicker"}}, "url": "https://github.com/Netflix/conductor/commit/7a426b317f612856cf5f0c694e8419d1bcedfcd9", "committedDate": "2020-12-24T00:01:13Z", "message": "cleanup all properties to follow a namespaced pattern"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MzY4MDkx", "url": "https://github.com/Netflix/conductor/pull/2003#pullrequestreview-558368091", "createdAt": "2020-12-24T06:26:55Z", "commit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNjoyNjo1NVrOILATjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNjoyNjo1NVrOILATjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQxMDI1NQ==", "bodyText": "Is this needed? Default log configuration is log4j2", "url": "https://github.com/Netflix/conductor/pull/2003#discussion_r548410255", "createdAt": "2020-12-24T06:26:55Z", "author": {"login": "aravindanr"}, "path": "cassandra-persistence/src/test/resources/logback-test.xml", "diffHunk": "@@ -1,3 +1,20 @@\n+<!--\n+\n+    Copyright 2020 Netflix, Inc.\n+\n+    Licensed under the Apache License, Version 2.0 (the \"License\");\n+    you may not use this file except in compliance with the License.\n+    You may obtain a copy of the License at\n+\n+        http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing, software\n+    distributed under the License is distributed on an \"AS IS\" BASIS,\n+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+    See the License for the specific language governing permissions and\n+    limitations under the License.\n+\n+-->\n <configuration>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MzY5OTUz", "url": "https://github.com/Netflix/conductor/pull/2003#pullrequestreview-558369953", "createdAt": "2020-12-24T06:33:47Z", "commit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNjozMzo0N1rOILAlgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNjozMzo0N1rOILAlgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQxNDg1MQ==", "bodyText": "The property could be of type Duration. Not required, but maybe worth considering, https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-conversion-duration", "url": "https://github.com/Netflix/conductor/pull/2003#discussion_r548414851", "createdAt": "2020-12-24T06:33:47Z", "author": {"login": "aravindanr"}, "path": "contribs/src/main/java/com/netflix/conductor/contribs/listener/archive/ArchivingWorkflowListenerProperties.java", "diffHunk": "@@ -12,46 +12,51 @@\n  */\n package com.netflix.conductor.contribs.listener.archive;\n \n-import org.springframework.beans.factory.annotation.Value;\n-import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n import org.springframework.core.env.Environment;\n-import org.springframework.stereotype.Component;\n \n-@Component\n-@ConditionalOnProperty(prefix = \"workflow\", name = \"status.listener.type\", havingValue = \"archive\")\n+@ConfigurationProperties(\"conductor.workflow-status-listener.archival\")\n public class ArchivingWorkflowListenerProperties {\n \n     private final Environment environment;\n \n+    @Autowired\n     public ArchivingWorkflowListenerProperties(Environment environment) {\n         this.environment = environment;\n     }\n \n     /**\n      * The time to live in seconds for workflow archiving module. Currently, only RedisExecutionDAO supports this\n      */\n-    @Value(\"${workflow.archival.ttl.seconds:0}\")\n-    private int workflowArchivalTTL;\n+    private int ttlSeconds = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4Mzc1OTI1", "url": "https://github.com/Netflix/conductor/pull/2003#pullrequestreview-558375925", "createdAt": "2020-12-24T06:55:18Z", "commit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNjo1NToxOFrOILA6OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNjo1NToxOFrOILA6OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMDE1Mw==", "bodyText": "Is this property needed? I think its not even considered anymore.", "url": "https://github.com/Netflix/conductor/pull/2003#discussion_r548420153", "createdAt": "2020-12-24T06:55:18Z", "author": {"login": "aravindanr"}, "path": "docker/server/config/config-mysql.properties", "diffHunk": "@@ -1,6 +1,6 @@\n # Servers.\n conductor.jetty.server.enabled=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4Mzc2Njc0", "url": "https://github.com/Netflix/conductor/pull/2003#pullrequestreview-558376674", "createdAt": "2020-12-24T06:57:57Z", "commit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNjo1Nzo1OFrOILA88g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNjo1Nzo1OFrOILA88g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMDg1MA==", "bodyText": "Considering the fact that es5-persistence is moved out and the default is now ES6. Is this property needed? Can we constrain ES6 enablement on just this conductor.indexing.enabled?", "url": "https://github.com/Netflix/conductor/pull/2003#discussion_r548420850", "createdAt": "2020-12-24T06:57:58Z", "author": {"login": "aravindanr"}, "path": "es6-persistence/src/main/java/com/netflix/conductor/es6/config/ElasticSearchConditions.java", "diffHunk": "@@ -27,13 +27,13 @@ private ElasticSearchConditions() {\n         }\n \n         @SuppressWarnings(\"unused\")\n-        @ConditionalOnProperty(prefix = \"workflow\", name = \"indexing.enabled\", havingValue = \"true\", matchIfMissing = true)\n+        @ConditionalOnProperty(name = \"conductor.indexing.enabled\", havingValue = \"true\", matchIfMissing = true)\n         static class enabledIndexing {\n \n         }\n \n         @SuppressWarnings(\"unused\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4Mzc3MTAx", "url": "https://github.com/Netflix/conductor/pull/2003#pullrequestreview-558377101", "createdAt": "2020-12-24T06:59:28Z", "commit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNjo1OToyOVrOILA-jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNjo1OToyOVrOILA-jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMTI2Mw==", "bodyText": "I think we can even change the package name to  just es or elasticsearch or index instead of es6.", "url": "https://github.com/Netflix/conductor/pull/2003#discussion_r548421263", "createdAt": "2020-12-24T06:59:29Z", "author": {"login": "aravindanr"}, "path": "es6-persistence/src/main/java/com/netflix/conductor/es6/config/ElasticSearchProperties.java", "diffHunk": "@@ -12,141 +12,192 @@\n  */\n package com.netflix.conductor.es6.config;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4Mzc3NzQw", "url": "https://github.com/Netflix/conductor/pull/2003#pullrequestreview-558377740", "createdAt": "2020-12-24T07:01:40Z", "commit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNzowMTo0MVrOILBAZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNzowMTo0MVrOILBAZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMTczMg==", "bodyText": "\ud83d\udc4f  attention to detail.", "url": "https://github.com/Netflix/conductor/pull/2003#discussion_r548421732", "createdAt": "2020-12-24T07:01:41Z", "author": {"login": "aravindanr"}, "path": "mysql-persistence/src/main/java/com/netflix/conductor/mysql/config/MySQLDataSourceProvider.java", "diffHunk": "@@ -50,7 +50,7 @@ public DataSource getDataSource() {\n     private HikariConfig createConfiguration() {\n         HikariConfig hikariConfig = new HikariConfig();\n         hikariConfig.setJdbcUrl(properties.getJdbcUrl());\n-        hikariConfig.setUsername(properties.getJdbcUserName());\n+        hikariConfig.setUsername(properties.getJdbcUsername());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4Mzc5NTI4", "url": "https://github.com/Netflix/conductor/pull/2003#pullrequestreview-558379528", "createdAt": "2020-12-24T07:07:46Z", "commit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc66dfcfc1b8a8b66dd011aa1877a92c1ca74f9c", "author": {"user": {"login": "apanicker-nflx", "name": "Anoop Panicker"}}, "url": "https://github.com/Netflix/conductor/commit/bc66dfcfc1b8a8b66dd011aa1877a92c1ca74f9c", "committedDate": "2020-12-29T17:55:31Z", "message": "cleanup all properties to follow a namespaced pattern"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7a426b317f612856cf5f0c694e8419d1bcedfcd9", "author": {"user": {"login": "apanicker-nflx", "name": "Anoop Panicker"}}, "url": "https://github.com/Netflix/conductor/commit/7a426b317f612856cf5f0c694e8419d1bcedfcd9", "committedDate": "2020-12-24T00:01:13Z", "message": "cleanup all properties to follow a namespaced pattern"}, "afterCommit": {"oid": "bc66dfcfc1b8a8b66dd011aa1877a92c1ca74f9c", "author": {"user": {"login": "apanicker-nflx", "name": "Anoop Panicker"}}, "url": "https://github.com/Netflix/conductor/commit/bc66dfcfc1b8a8b66dd011aa1877a92c1ca74f9c", "committedDate": "2020-12-29T17:55:31Z", "message": "cleanup all properties to follow a namespaced pattern"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 744, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}