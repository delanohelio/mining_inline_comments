{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1Nzg2NTcy", "number": 1648, "title": "Check if Cassandra session is closed before using", "bodyText": "In teardown of CassandraDAOTest \"session is closed\" errors occur. This happens because CassandraMetadataDAO and CassandraEventHandlerDAO launch threads that use session w/o checking if its closed. This PR adds a check to ensure session is not closed before using.", "createdAt": "2020-04-20T02:22:12Z", "url": "https://github.com/Netflix/conductor/pull/1648", "merged": true, "mergeCommit": {"oid": "0705f483d6a9912bbfc7efce2e28128331d63352"}, "closed": true, "closedAt": "2020-04-20T04:23:30Z", "author": {"login": "mactaggart"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZVgDEAH2gAyNDA1Nzg2NTcyOjQwNzEzNjEyYjVjMzFkNWJmZmY3MTIzYzdiZDBhM2JmNDJkNGRiMWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZW_bjgH2gAyNDA1Nzg2NTcyOjk1NTIzODc5ZGMzNmZiNjQzNjM2YThlYzdkNzZhNmMxMjdkZjAzYjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "40713612b5c31d5bfff7123c7bd0a3bf42d4db1e", "author": {"user": {"login": "mactaggart", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/40713612b5c31d5bfff7123c7bd0a3bf42d4db1e", "committedDate": "2020-04-20T02:17:12Z", "message": "make cassandra session static, check if session is closed"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MTIzMjcy", "url": "https://github.com/Netflix/conductor/pull/1648#pullrequestreview-396123272", "createdAt": "2020-04-20T03:51:34Z", "commit": {"oid": "40713612b5c31d5bfff7123c7bd0a3bf42d4db1e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwMzo1MTozNFrOGICCEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwMzo1MTozNFrOGICCEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA3NTA4OA==", "bodyText": "Please remove session = embeddedCassandra.getSession(); from the setUp block.", "url": "https://github.com/Netflix/conductor/pull/1648#discussion_r411075088", "createdAt": "2020-04-20T03:51:34Z", "author": {"login": "apanicker-nflx"}, "path": "cassandra-persistence/src/test/java/com/netflix/conductor/dao/cassandra/CassandraDAOTest.java", "diffHunk": "@@ -69,6 +69,7 @@\n     @BeforeClass\n     public static void init() throws Exception {\n         embeddedCassandra = new EmbeddedCassandra();\n+        session = embeddedCassandra.getSession();\n     }\n \n     @Before", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40713612b5c31d5bfff7123c7bd0a3bf42d4db1e"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95523879dc36fb643636a8ec7d76a6c127df03b7", "author": {"user": {"login": "mactaggart", "name": null}}, "url": "https://github.com/Netflix/conductor/commit/95523879dc36fb643636a8ec7d76a6c127df03b7", "committedDate": "2020-04-20T04:01:23Z", "message": "remove session init from setUp"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 769, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}