{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzOTk5NjQ4", "number": 1645, "title": "Make the task definition optional for the DO_WHILE task", "bodyText": "As a System task, the DO_WHILE task should not be required to have a task definition as it makes it difficult to have it not time out. This PR makes it optional.", "createdAt": "2020-04-15T21:30:57Z", "url": "https://github.com/Netflix/conductor/pull/1645", "merged": true, "mergeCommit": {"oid": "3cafdf9e26f744b27111bde0b1d097d6c076a7b0"}, "closed": true, "closedAt": "2020-04-29T02:22:42Z", "author": {"login": "rickfish"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcX--hsgH2gAyNDAzOTk5NjQ4OmVlZTNjZTZmODBlOTgzODg0M2EzZjJkZDM5MDhlNDQzYzg3ZmY0ZDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcb96FAgFqTQwMTUzMjI4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "eee3ce6f80e9838843a3f2dd3908e443c87ff4d0", "author": {"user": null}, "url": "https://github.com/Netflix/conductor/commit/eee3ce6f80e9838843a3f2dd3908e443c87ff4d0", "committedDate": "2020-04-15T21:28:45Z", "message": "make task definition optional for DO_WHILE task"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0MzM2MzUz", "url": "https://github.com/Netflix/conductor/pull/1645#pullrequestreview-394336353", "createdAt": "2020-04-16T06:38:33Z", "commit": {"oid": "eee3ce6f80e9838843a3f2dd3908e443c87ff4d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwNjozODozM1rOGGWoIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwNjozODozM1rOGGWoIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTMxNTM2Mw==", "bodyText": "I think this change will break DO_WHILE task. We are forming an input array using parametersUtils and for that task definition is needed. Please test with sample DO_WHILE task which uses variables in loop condition and that variables are fed through task's input.", "url": "https://github.com/Netflix/conductor/pull/1645#discussion_r409315363", "createdAt": "2020-04-16T06:38:33Z", "author": {"login": "manan164"}, "path": "core/src/main/java/com/netflix/conductor/core/execution/tasks/DoWhile.java", "diffHunk": "@@ -127,7 +129,13 @@ boolean markLoopTaskSuccess(Task task) {\n \n \t@VisibleForTesting\n \tboolean getEvaluatedCondition(Workflow workflow, Task task, WorkflowExecutor workflowExecutor) throws ScriptException {\n-\t\tTaskDef taskDefinition = workflowExecutor.getTaskDefinition(task);\n+\t\tTaskDef taskDefinition = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eee3ce6f80e9838843a3f2dd3908e443c87ff4d0"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d3bb92eeb66a298d9daef220ebd9e71a0c8a455", "author": {"user": null}, "url": "https://github.com/Netflix/conductor/commit/4d3bb92eeb66a298d9daef220ebd9e71a0c8a455", "committedDate": "2020-04-16T10:57:41Z", "message": "add test case for do_while task without task definition"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxNTMyMjgw", "url": "https://github.com/Netflix/conductor/pull/1645#pullrequestreview-401532280", "createdAt": "2020-04-28T06:29:41Z", "commit": {"oid": "4d3bb92eeb66a298d9daef220ebd9e71a0c8a455"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 763, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}