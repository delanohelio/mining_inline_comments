{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5MDIxNzEx", "number": 1783, "title": "Rate limit, concurrency execution limit, event based workflow, wait t\u2026", "bodyText": "Integration tests for:\n\nRate limit task workflow\nConcurrency execution limit workflow,\nEvent based workflow\nWait task based workflow\nTerminate task based workflow", "createdAt": "2020-07-14T17:44:15Z", "url": "https://github.com/Netflix/conductor/pull/1783", "merged": true, "mergeCommit": {"oid": "cf481db6c2bc482abf0589e4171c52f1889cae58"}, "closed": true, "closedAt": "2020-07-16T17:43:55Z", "author": {"login": "pctreddy"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc05pG5AH2gAyNDQ5MDIxNzExOjYzMWRhZTlkYjk2NTI4YjUzOTU4ODhkNWRiMjk5MGI1NTEzYjdkNDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc09M95gH2gAyNDQ5MDIxNzExOjgxYjJmZGQzMDJhZTY4ZGY0M2M4NmVlOWRiMTI0MGRhYmZiZTdlZTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42", "author": {"user": null}, "url": "https://github.com/Netflix/conductor/commit/631dae9db96528b5395888d5db2990b5513b7d42", "committedDate": "2020-07-14T17:39:38Z", "message": "Rate limit, concurrency execution limit, event based workflow, wait task based workflow and terminate task based workflow integration tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MzM4ODU1", "url": "https://github.com/Netflix/conductor/pull/1783#pullrequestreview-448338855", "createdAt": "2020-07-14T17:59:13Z", "commit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "state": "APPROVED", "comments": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzo1OToxM1rOGxfAug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxODoxNjo0NFrOGxfpaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0MTQ5OA==", "bodyText": "Please add license header", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454541498", "createdAt": "2020-07-14T17:59:13Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/EventWorkflowSpec.groovy", "diffHunk": "@@ -0,0 +1,82 @@\n+package com.netflix.counductor.integration.test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0MjQ3MQ==", "bodyText": "Please add license header", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454542471", "createdAt": "2020-07-14T18:00:43Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/LambdaAndTerminalTaskSpec.groovy", "diffHunk": "@@ -0,0 +1,124 @@\n+package com.netflix.counductor.integration.test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0NTQ5Mg==", "bodyText": "@Shared annotation?", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454545492", "createdAt": "2020-07-14T18:05:46Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/LambdaAndTerminalTaskSpec.groovy", "diffHunk": "@@ -0,0 +1,124 @@\n+package com.netflix.counductor.integration.test\n+\n+import com.netflix.conductor.common.metadata.tasks.Task\n+import com.netflix.conductor.common.run.Workflow\n+import com.netflix.conductor.core.execution.WorkflowExecutor\n+import com.netflix.conductor.core.execution.WorkflowSweeper\n+import com.netflix.conductor.service.ExecutionService\n+import com.netflix.conductor.service.MetadataService\n+import com.netflix.conductor.test.util.WorkflowTestUtil\n+import com.netflix.conductor.tests.utils.TestModule\n+import com.netflix.governator.guice.test.ModulesForTesting\n+import spock.lang.Shared\n+import spock.lang.Specification\n+\n+import javax.inject.Inject\n+\n+@ModulesForTesting([TestModule.class])\n+class LambdaAndTerminalTaskSpec extends Specification {\n+\n+    @Inject\n+    ExecutionService workflowExecutionService\n+\n+    @Inject\n+    MetadataService metadataService\n+\n+    @Inject\n+    WorkflowExecutor workflowExecutor\n+\n+    @Inject\n+    WorkflowSweeper workflowSweeper\n+\n+    @Inject\n+    WorkflowTestUtil workflowTestUtil\n+\n+    @Shared\n+    def WORKFLOW_WITH_TERMINATE_TASK = 'test_terminate_task_wf'\n+\n+    @Shared\n+    def WORKFLOW_WITH_TERMINATE_TASK_FAILED = 'test_terminate_task_failed_wf'\n+\n+    def  WORKFLOW_WITH_LAMBDA_TASK = 'test_lambda_wf'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0NjQ5MQ==", "bodyText": "Is this a null check? If so, we probably need to add it to all the features in all specs.", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454546491", "createdAt": "2020-07-14T18:07:31Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/LambdaAndTerminalTaskSpec.groovy", "diffHunk": "@@ -0,0 +1,124 @@\n+package com.netflix.counductor.integration.test\n+\n+import com.netflix.conductor.common.metadata.tasks.Task\n+import com.netflix.conductor.common.run.Workflow\n+import com.netflix.conductor.core.execution.WorkflowExecutor\n+import com.netflix.conductor.core.execution.WorkflowSweeper\n+import com.netflix.conductor.service.ExecutionService\n+import com.netflix.conductor.service.MetadataService\n+import com.netflix.conductor.test.util.WorkflowTestUtil\n+import com.netflix.conductor.tests.utils.TestModule\n+import com.netflix.governator.guice.test.ModulesForTesting\n+import spock.lang.Shared\n+import spock.lang.Specification\n+\n+import javax.inject.Inject\n+\n+@ModulesForTesting([TestModule.class])\n+class LambdaAndTerminalTaskSpec extends Specification {\n+\n+    @Inject\n+    ExecutionService workflowExecutionService\n+\n+    @Inject\n+    MetadataService metadataService\n+\n+    @Inject\n+    WorkflowExecutor workflowExecutor\n+\n+    @Inject\n+    WorkflowSweeper workflowSweeper\n+\n+    @Inject\n+    WorkflowTestUtil workflowTestUtil\n+\n+    @Shared\n+    def WORKFLOW_WITH_TERMINATE_TASK = 'test_terminate_task_wf'\n+\n+    @Shared\n+    def WORKFLOW_WITH_TERMINATE_TASK_FAILED = 'test_terminate_task_failed_wf'\n+\n+    def  WORKFLOW_WITH_LAMBDA_TASK = 'test_lambda_wf'\n+\n+    def setup() {\n+        workflowTestUtil.registerWorkflows(\n+                'failure_workflow_for_terminate_task_workflow.json',\n+                'terminate_task_completed_workflow_integration_test.json',\n+                'terminate_task_failed_workflow_integration.json',\n+                'simple_lambda_workflow_integration_test.json'\n+        )\n+    }\n+\n+    def cleanup() {\n+        workflowTestUtil.clearWorkflows()\n+    }\n+\n+    def \"Test workflow with a terminate task when the status is completed\"() {\n+        given: \"workflow input\"\n+        def workflowInput = new HashMap()\n+        workflowInput['a'] = 1\n+\n+        when: \"Start the workflow which has the terminate task\"\n+        def workflowInstanceId = workflowExecutor.startWorkflow(WORKFLOW_WITH_TERMINATE_TASK, 1,\n+                '', workflowInput, null, null, null)\n+\n+        then: \"Ensure that the workflow has started and the first task is in scheduled state\"\n+        workflowInstanceId", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0NzYxNg==", "bodyText": "Unused?", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454547616", "createdAt": "2020-07-14T18:09:32Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/TaskLimitsWorkflowSpec.groovy", "diffHunk": "@@ -0,0 +1,174 @@\n+package com.netflix.counductor.integration.test\n+\n+import com.netflix.conductor.common.metadata.tasks.Task\n+import com.netflix.conductor.common.run.Workflow\n+import com.netflix.conductor.core.execution.WorkflowExecutor\n+import com.netflix.conductor.core.execution.WorkflowSweeper\n+import com.netflix.conductor.dao.QueueDAO\n+import com.netflix.conductor.service.ExecutionService\n+import com.netflix.conductor.service.MetadataService\n+import com.netflix.conductor.test.util.WorkflowTestUtil\n+import com.netflix.conductor.tests.utils.TestModule\n+import com.netflix.conductor.tests.utils.UserTask\n+import com.netflix.governator.guice.test.ModulesForTesting\n+import spock.lang.Specification\n+\n+import javax.inject.Inject\n+\n+@ModulesForTesting([TestModule.class])\n+class TaskLimitsWorkflowSpec extends Specification {\n+\n+    @Inject\n+    ExecutionService workflowExecutionService\n+\n+    @Inject\n+    MetadataService metadataService\n+\n+    @Inject\n+    WorkflowExecutor workflowExecutor\n+\n+    @Inject\n+    WorkflowSweeper workflowSweeper", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0Nzk1NA==", "bodyText": "Unused?", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454547954", "createdAt": "2020-07-14T18:10:07Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/TaskLimitsWorkflowSpec.groovy", "diffHunk": "@@ -0,0 +1,174 @@\n+package com.netflix.counductor.integration.test\n+\n+import com.netflix.conductor.common.metadata.tasks.Task\n+import com.netflix.conductor.common.run.Workflow\n+import com.netflix.conductor.core.execution.WorkflowExecutor\n+import com.netflix.conductor.core.execution.WorkflowSweeper\n+import com.netflix.conductor.dao.QueueDAO\n+import com.netflix.conductor.service.ExecutionService\n+import com.netflix.conductor.service.MetadataService\n+import com.netflix.conductor.test.util.WorkflowTestUtil\n+import com.netflix.conductor.tests.utils.TestModule\n+import com.netflix.conductor.tests.utils.UserTask\n+import com.netflix.governator.guice.test.ModulesForTesting\n+import spock.lang.Specification\n+\n+import javax.inject.Inject\n+\n+@ModulesForTesting([TestModule.class])\n+class TaskLimitsWorkflowSpec extends Specification {\n+\n+    @Inject\n+    ExecutionService workflowExecutionService\n+\n+    @Inject\n+    MetadataService metadataService", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0ODg1MA==", "bodyText": "This can be injected from TestModule.", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454548850", "createdAt": "2020-07-14T18:11:40Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/TaskLimitsWorkflowSpec.groovy", "diffHunk": "@@ -0,0 +1,174 @@\n+package com.netflix.counductor.integration.test\n+\n+import com.netflix.conductor.common.metadata.tasks.Task\n+import com.netflix.conductor.common.run.Workflow\n+import com.netflix.conductor.core.execution.WorkflowExecutor\n+import com.netflix.conductor.core.execution.WorkflowSweeper\n+import com.netflix.conductor.dao.QueueDAO\n+import com.netflix.conductor.service.ExecutionService\n+import com.netflix.conductor.service.MetadataService\n+import com.netflix.conductor.test.util.WorkflowTestUtil\n+import com.netflix.conductor.tests.utils.TestModule\n+import com.netflix.conductor.tests.utils.UserTask\n+import com.netflix.governator.guice.test.ModulesForTesting\n+import spock.lang.Specification\n+\n+import javax.inject.Inject\n+\n+@ModulesForTesting([TestModule.class])\n+class TaskLimitsWorkflowSpec extends Specification {\n+\n+    @Inject\n+    ExecutionService workflowExecutionService\n+\n+    @Inject\n+    MetadataService metadataService\n+\n+    @Inject\n+    WorkflowExecutor workflowExecutor\n+\n+    @Inject\n+    WorkflowSweeper workflowSweeper\n+\n+    @Inject\n+    WorkflowTestUtil workflowTestUtil\n+\n+    @Inject\n+    QueueDAO queueDAO\n+\n+    def RATE_LIMITED_WORKFLOW = 'test_rate_limit_task_workflow'\n+\n+    def CONCURRENCY_EXECUTION_LIMITED_WORKFLOW = 'test_concurrency_limits_workflow'\n+\n+    def setup() {\n+        workflowTestUtil.registerWorkflows(\n+                'rate_limited_task_workflow_integration_test.json',\n+                'concurrency_limited_task_workflow_integration_test.json'\n+        )\n+    }\n+\n+    def cleanup() {\n+        workflowTestUtil.clearWorkflows()\n+    }\n+\n+    def \"Verify that the rate limiting of the tasks is honored\"() {\n+        when: \"Start a workflow that has a rate limited task in it\"\n+        def workflowInstanceId = workflowExecutor.startWorkflow(RATE_LIMITED_WORKFLOW, 1,\n+                '', [:], null, null, null)\n+\n+        then: \"verify that the workflow is in a running state\"\n+        with(workflowExecutionService.getExecutionStatus(workflowInstanceId, true)) {\n+            status == Workflow.WorkflowStatus.RUNNING\n+            tasks.size() == 1\n+            tasks[0].taskType == 'USER_TASK'\n+            tasks[0].status == Task.Status.SCHEDULED\n+        }\n+\n+        when: \"Execute the user task\"\n+        def scheduledTask1 = workflowExecutionService.getExecutionStatus(workflowInstanceId, true).tasks[0]\n+        def userTask = new UserTask()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 69}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0OTU4Mg==", "bodyText": "Unused?", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454549582", "createdAt": "2020-07-14T18:12:49Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/EventWorkflowSpec.groovy", "diffHunk": "@@ -0,0 +1,82 @@\n+package com.netflix.counductor.integration.test\n+\n+import com.netflix.conductor.common.metadata.tasks.Task\n+import com.netflix.conductor.common.metadata.workflow.TaskType\n+import com.netflix.conductor.common.run.Workflow\n+import com.netflix.conductor.core.execution.WorkflowExecutor\n+import com.netflix.conductor.core.execution.WorkflowSweeper\n+import com.netflix.conductor.service.ExecutionService\n+import com.netflix.conductor.service.MetadataService\n+import com.netflix.conductor.test.util.WorkflowTestUtil\n+import com.netflix.conductor.tests.utils.TestModule\n+import com.netflix.governator.guice.test.ModulesForTesting\n+import spock.lang.Specification\n+\n+import javax.inject.Inject\n+\n+import static com.netflix.conductor.test.util.WorkflowTestUtil.verifyPolledAndAcknowledgedTask\n+\n+@ModulesForTesting([TestModule.class])\n+class EventWorkflowSpec extends Specification {\n+\n+    @Inject\n+    ExecutionService workflowExecutionService\n+\n+    @Inject\n+    MetadataService metadataService", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0OTYzOQ==", "bodyText": "Unused?", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454549639", "createdAt": "2020-07-14T18:12:55Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/EventWorkflowSpec.groovy", "diffHunk": "@@ -0,0 +1,82 @@\n+package com.netflix.counductor.integration.test\n+\n+import com.netflix.conductor.common.metadata.tasks.Task\n+import com.netflix.conductor.common.metadata.workflow.TaskType\n+import com.netflix.conductor.common.run.Workflow\n+import com.netflix.conductor.core.execution.WorkflowExecutor\n+import com.netflix.conductor.core.execution.WorkflowSweeper\n+import com.netflix.conductor.service.ExecutionService\n+import com.netflix.conductor.service.MetadataService\n+import com.netflix.conductor.test.util.WorkflowTestUtil\n+import com.netflix.conductor.tests.utils.TestModule\n+import com.netflix.governator.guice.test.ModulesForTesting\n+import spock.lang.Specification\n+\n+import javax.inject.Inject\n+\n+import static com.netflix.conductor.test.util.WorkflowTestUtil.verifyPolledAndAcknowledgedTask\n+\n+@ModulesForTesting([TestModule.class])\n+class EventWorkflowSpec extends Specification {\n+\n+    @Inject\n+    ExecutionService workflowExecutionService\n+\n+    @Inject\n+    MetadataService metadataService\n+\n+    @Inject\n+    WorkflowExecutor workflowExecutor\n+\n+    @Inject\n+    WorkflowSweeper workflowSweeper", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0OTc4NA==", "bodyText": "Unused?", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454549784", "createdAt": "2020-07-14T18:13:12Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/LambdaAndTerminalTaskSpec.groovy", "diffHunk": "@@ -0,0 +1,124 @@\n+package com.netflix.counductor.integration.test\n+\n+import com.netflix.conductor.common.metadata.tasks.Task\n+import com.netflix.conductor.common.run.Workflow\n+import com.netflix.conductor.core.execution.WorkflowExecutor\n+import com.netflix.conductor.core.execution.WorkflowSweeper\n+import com.netflix.conductor.service.ExecutionService\n+import com.netflix.conductor.service.MetadataService\n+import com.netflix.conductor.test.util.WorkflowTestUtil\n+import com.netflix.conductor.tests.utils.TestModule\n+import com.netflix.governator.guice.test.ModulesForTesting\n+import spock.lang.Shared\n+import spock.lang.Specification\n+\n+import javax.inject.Inject\n+\n+@ModulesForTesting([TestModule.class])\n+class LambdaAndTerminalTaskSpec extends Specification {\n+\n+    @Inject\n+    ExecutionService workflowExecutionService\n+\n+    @Inject\n+    MetadataService metadataService\n+\n+    @Inject\n+    WorkflowExecutor workflowExecutor\n+\n+    @Inject\n+    WorkflowSweeper workflowSweeper", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0OTg0MQ==", "bodyText": "Unused?", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454549841", "createdAt": "2020-07-14T18:13:18Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/LambdaAndTerminalTaskSpec.groovy", "diffHunk": "@@ -0,0 +1,124 @@\n+package com.netflix.counductor.integration.test\n+\n+import com.netflix.conductor.common.metadata.tasks.Task\n+import com.netflix.conductor.common.run.Workflow\n+import com.netflix.conductor.core.execution.WorkflowExecutor\n+import com.netflix.conductor.core.execution.WorkflowSweeper\n+import com.netflix.conductor.service.ExecutionService\n+import com.netflix.conductor.service.MetadataService\n+import com.netflix.conductor.test.util.WorkflowTestUtil\n+import com.netflix.conductor.tests.utils.TestModule\n+import com.netflix.governator.guice.test.ModulesForTesting\n+import spock.lang.Shared\n+import spock.lang.Specification\n+\n+import javax.inject.Inject\n+\n+@ModulesForTesting([TestModule.class])\n+class LambdaAndTerminalTaskSpec extends Specification {\n+\n+    @Inject\n+    ExecutionService workflowExecutionService\n+\n+    @Inject\n+    MetadataService metadataService", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MTUxNg==", "bodyText": "Please add license header", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454551516", "createdAt": "2020-07-14T18:16:05Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/TaskLimitsWorkflowSpec.groovy", "diffHunk": "@@ -0,0 +1,174 @@\n+package com.netflix.counductor.integration.test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MTYzMg==", "bodyText": "Please add license header", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454551632", "createdAt": "2020-07-14T18:16:17Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/WaitWorkflowSpec.groovy", "diffHunk": "@@ -0,0 +1,93 @@\n+package com.netflix.counductor.integration.test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MTc4Nw==", "bodyText": "Unused?", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454551787", "createdAt": "2020-07-14T18:16:33Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/WaitWorkflowSpec.groovy", "diffHunk": "@@ -0,0 +1,93 @@\n+package com.netflix.counductor.integration.test\n+\n+import com.netflix.conductor.common.metadata.tasks.Task\n+import com.netflix.conductor.common.metadata.tasks.TaskResult\n+import com.netflix.conductor.common.metadata.workflow.TaskType\n+import com.netflix.conductor.common.run.Workflow\n+import com.netflix.conductor.core.execution.WorkflowExecutor\n+import com.netflix.conductor.core.execution.WorkflowSweeper\n+import com.netflix.conductor.service.ExecutionService\n+import com.netflix.conductor.service.MetadataService\n+import com.netflix.conductor.test.util.WorkflowTestUtil\n+import com.netflix.conductor.tests.utils.TestModule\n+import com.netflix.governator.guice.test.ModulesForTesting\n+import spock.lang.Shared\n+import spock.lang.Specification\n+\n+import javax.inject.Inject\n+\n+import static com.netflix.conductor.test.util.WorkflowTestUtil.verifyPolledAndAcknowledgedTask\n+\n+@ModulesForTesting([TestModule.class])\n+class WaitWorkflowSpec extends Specification {\n+\n+    @Inject\n+    ExecutionService workflowExecutionService\n+\n+    @Inject\n+    MetadataService metadataService", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1MTkxMw==", "bodyText": "Unused?", "url": "https://github.com/Netflix/conductor/pull/1783#discussion_r454551913", "createdAt": "2020-07-14T18:16:44Z", "author": {"login": "apanicker-nflx"}, "path": "test-harness/src/test/groovy/com/netflix/counductor/integration/test/WaitWorkflowSpec.groovy", "diffHunk": "@@ -0,0 +1,93 @@\n+package com.netflix.counductor.integration.test\n+\n+import com.netflix.conductor.common.metadata.tasks.Task\n+import com.netflix.conductor.common.metadata.tasks.TaskResult\n+import com.netflix.conductor.common.metadata.workflow.TaskType\n+import com.netflix.conductor.common.run.Workflow\n+import com.netflix.conductor.core.execution.WorkflowExecutor\n+import com.netflix.conductor.core.execution.WorkflowSweeper\n+import com.netflix.conductor.service.ExecutionService\n+import com.netflix.conductor.service.MetadataService\n+import com.netflix.conductor.test.util.WorkflowTestUtil\n+import com.netflix.conductor.tests.utils.TestModule\n+import com.netflix.governator.guice.test.ModulesForTesting\n+import spock.lang.Shared\n+import spock.lang.Specification\n+\n+import javax.inject.Inject\n+\n+import static com.netflix.conductor.test.util.WorkflowTestUtil.verifyPolledAndAcknowledgedTask\n+\n+@ModulesForTesting([TestModule.class])\n+class WaitWorkflowSpec extends Specification {\n+\n+    @Inject\n+    ExecutionService workflowExecutionService\n+\n+    @Inject\n+    MetadataService metadataService\n+\n+    @Inject\n+    WorkflowExecutor workflowExecutor\n+\n+    @Inject\n+    WorkflowSweeper workflowSweeper", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631dae9db96528b5395888d5db2990b5513b7d42"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81b2fdd302ae68df43c86ee9db1240dabfbe7ee1", "author": {"user": null}, "url": "https://github.com/Netflix/conductor/commit/81b2fdd302ae68df43c86ee9db1240dabfbe7ee1", "committedDate": "2020-07-14T21:48:31Z", "message": "clean up"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 823, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}