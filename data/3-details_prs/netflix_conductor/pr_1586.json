{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg4OTI5MTIx", "number": 1586, "title": "Add config setting to control whether ownerEmail is mandatory or not", "bodyText": "Addresses issue #1585 \u2013 adds a config setting workflow.owner.email.mandatory (with a default value of true) which controls whether ownerEmail attribute is mandatory on task definitions and workflow definitions. With the default value of true, the behaviour is the same as at present. If you change the value to false, then ownerEmail becomes an optional attribute.\nImplementation is by replacing the @NotEmpty(message = \"ownerEmail cannot be empty\") annotation on ownerEmail with a new custom annotation @OwnerEmailMandatoryConstraint. We push the value of the config setting into the annotation validator; when the setting is true, it ensures the value is neither null nor an empty string; when the setting is false, the validation always succeeds.", "createdAt": "2020-03-16T02:11:29Z", "url": "https://github.com/Netflix/conductor/pull/1586", "merged": true, "mergeCommit": {"oid": "7c047c3137b6a986a7ce65c651bffff6127f941a"}, "closed": true, "closedAt": "2020-03-23T23:49:25Z", "author": {"login": "skissane"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOFAuEAH2gAyMzg4OTI5MTIxOjc1YjVkNDgzMmZkMmNmYjI3MTc4ZTNlNmMxYWFjMmQwMTQwMTczNjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQnMzQgFqTM3OTkxMDE4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "75b5d4832fd2cfb27178e3e6c1aac2d014017368", "author": {"user": {"login": "skissane", "name": "Simon Kissane"}}, "url": "https://github.com/Netflix/conductor/commit/75b5d4832fd2cfb27178e3e6c1aac2d014017368", "committedDate": "2020-03-16T02:51:20Z", "message": "Add config to control whether ownerEmail is mandatory or not"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6bafc0fda84e3455cd87d647d4b5d60e0d3be0f1", "author": {"user": {"login": "skissane", "name": "Simon Kissane"}}, "url": "https://github.com/Netflix/conductor/commit/6bafc0fda84e3455cd87d647d4b5d60e0d3be0f1", "committedDate": "2020-03-16T02:49:08Z", "message": "revert unintentional whitespace changes"}, "afterCommit": {"oid": "75b5d4832fd2cfb27178e3e6c1aac2d014017368", "author": {"user": {"login": "skissane", "name": "Simon Kissane"}}, "url": "https://github.com/Netflix/conductor/commit/75b5d4832fd2cfb27178e3e6c1aac2d014017368", "committedDate": "2020-03-16T02:51:20Z", "message": "Add config to control whether ownerEmail is mandatory or not"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1NDcwNzQ2", "url": "https://github.com/Netflix/conductor/pull/1586#pullrequestreview-375470746", "createdAt": "2020-03-16T18:13:28Z", "commit": {"oid": "75b5d4832fd2cfb27178e3e6c1aac2d014017368"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxODoxMzoyOFrOF3AX2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxODoxMzoyOFrOF3AX2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzIyMjEwNw==", "bodyText": "Hi, @skissane.\nNice PR. Thanks for working on it.\nI would just rename this for OwnerEmailMandatory. We already know that this is a Constraint because of the word mandatory. What do you think?", "url": "https://github.com/Netflix/conductor/pull/1586#discussion_r393222107", "createdAt": "2020-03-16T18:13:28Z", "author": {"login": "flavioschuindt"}, "path": "common/src/main/java/com/netflix/conductor/common/metadata/workflow/WorkflowDef.java", "diffHunk": "@@ -84,7 +85,7 @@\n \tprivate boolean workflowStatusListenerEnabled = false;\n \n \t@ProtoField(id = 11)\n-\t@NotEmpty(message = \"ownerEmail cannot be empty\")\n+\t@OwnerEmailMandatoryConstraint", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "75b5d4832fd2cfb27178e3e6c1aac2d014017368"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5OTEwMDMz", "url": "https://github.com/Netflix/conductor/pull/1586#pullrequestreview-379910033", "createdAt": "2020-03-23T23:48:44Z", "commit": {"oid": "75b5d4832fd2cfb27178e3e6c1aac2d014017368"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5OTEwMTg4", "url": "https://github.com/Netflix/conductor/pull/1586#pullrequestreview-379910188", "createdAt": "2020-03-23T23:49:09Z", "commit": {"oid": "75b5d4832fd2cfb27178e3e6c1aac2d014017368"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 862, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}