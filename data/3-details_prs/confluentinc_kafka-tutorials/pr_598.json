{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3MDM3MTQz", "number": 598, "title": "DEVX-2185: \"Data Masking\" recipe migration", "bodyText": "Jira ticket\nThis PR proposes migrating an original streams processing \"recipe\" for data masking to Kafka Tutorials. The semaphore test added for this KT is passing, no other KTs were altered in this PR.\nThis is my first KT submission, please bear with me and thank you in advance \ud83d\ude04", "createdAt": "2020-10-20T19:14:05Z", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598", "merged": true, "mergeCommit": {"oid": "e3e19652060a707ac38ed552a8c36de1919d1ff1"}, "closed": true, "closedAt": "2020-10-21T17:41:52Z", "author": {"login": "awalther28"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdS7TLSgH2gAyNTA3MDM3MTQzOmRiYzExZmYxOWZhY2FhN2NiMzdiNjU0ODViZGM3YWJkMmVmNGVmZWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUw1AwAFqTUxNDAwMjI5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dbc11ff19facaa7cb37b65485bdc7abd2ef4efee", "author": {"user": {"login": "awalther28", "name": "Allison Walther"}}, "url": "https://github.com/confluentinc/kafka-tutorials/commit/dbc11ff19facaa7cb37b65485bdc7abd2ef4efee", "committedDate": "2020-10-16T00:33:13Z", "message": "DEVX-2185; first commit w/basic instructions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "879c3d7755f637b670fea19a9493eda910fe281e", "author": {"user": {"login": "awalther28", "name": "Allison Walther"}}, "url": "https://github.com/confluentinc/kafka-tutorials/commit/879c3d7755f637b670fea19a9493eda910fe281e", "committedDate": "2020-10-16T19:53:47Z", "message": "DEVX-2185; clean up adocs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b7ec5559cc190895300380609cf2a5560e74a2f", "author": {"user": {"login": "awalther28", "name": "Allison Walther"}}, "url": "https://github.com/confluentinc/kafka-tutorials/commit/8b7ec5559cc190895300380609cf2a5560e74a2f", "committedDate": "2020-10-19T18:05:26Z", "message": "DEVX-2185; add tests + clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60aa699c13f1b445b1647764702bc66618571b04", "author": {"user": {"login": "awalther28", "name": "Allison Walther"}}, "url": "https://github.com/confluentinc/kafka-tutorials/commit/60aa699c13f1b445b1647764702bc66618571b04", "committedDate": "2020-10-19T18:10:02Z", "message": "DEVX-2185; add kafka_topic for each stream"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a42131888f89380b852d966cbe27e4564e3f234e", "author": {"user": {"login": "awalther28", "name": "Allison Walther"}}, "url": "https://github.com/confluentinc/kafka-tutorials/commit/a42131888f89380b852d966cbe27e4564e3f234e", "committedDate": "2020-10-19T22:59:11Z", "message": "DEVX-2185; fix tests, still need to match output+input"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5389b191808aa00ad5a2003f03fa9b7ddc6f635f", "author": {"user": {"login": "awalther28", "name": "Allison Walther"}}, "url": "https://github.com/confluentinc/kafka-tutorials/commit/5389b191808aa00ad5a2003f03fa9b7ddc6f635f", "committedDate": "2020-10-20T16:47:06Z", "message": "DEVX-2185; fix col width"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01ae6280c73521defe13bc271f65ecc648f14e11", "author": {"user": {"login": "awalther28", "name": "Allison Walther"}}, "url": "https://github.com/confluentinc/kafka-tutorials/commit/01ae6280c73521defe13bc271f65ecc648f14e11", "committedDate": "2020-10-20T18:32:26Z", "message": "DEVX-2185; alter tutorial text"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51047e983e95dc3db0a9b37913de80abe8837892", "author": {"user": {"login": "awalther28", "name": "Allison Walther"}}, "url": "https://github.com/confluentinc/kafka-tutorials/commit/51047e983e95dc3db0a9b37913de80abe8837892", "committedDate": "2020-10-20T18:57:33Z", "message": "DEVX-2185; add newlines + prod/ccloud tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzODk4NDQ1", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#pullrequestreview-513898445", "createdAt": "2020-10-21T16:28:42Z", "commit": {"oid": "51047e983e95dc3db0a9b37913de80abe8837892"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxNjoyODo0M1rOHl1JyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxNjo1NDo0MFrOHl2NWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQzMDIxNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              question: \"If I have a Kafka topic, how do I continuously mask a set of fields?\"\n          \n          \n            \n              question: \"How can I mask fields in my Kafka topic?\"", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#discussion_r509430216", "createdAt": "2020-10-21T16:28:43Z", "author": {"login": "bbejeck"}, "path": "_data/tutorials.yaml", "diffHunk": "@@ -465,3 +465,22 @@ kafka-streams-schedule-operations:\n     scala: disabled\n     swift: disabled\n \n+\n+masking-data:\n+  title: \"Masking data\"\n+  meta-description: \"Masking data\"\n+  slug: \"/masking-data\"\n+  question: \"If I have a Kafka topic, how do I continuously mask a set of fields?\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51047e983e95dc3db0a9b37913de80abe8837892"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQzMTEzNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The second technique for masking data utilizes KSQL's built in `MASK` functions. Here we retain the customer name and date of birth, but obfuscated.\n          \n          \n            \n            The second technique for masking data utilizes ksqlDB's built in `MASK` functions. Here we retain the customer name and date of birth, but obfuscated.", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#discussion_r509431135", "createdAt": "2020-10-21T16:30:02Z", "author": {"login": "bbejeck"}, "path": "_includes/tutorials/masking-data/ksql/markup/dev/create-purchases-pii-obfuscated.adoc", "diffHunk": "@@ -0,0 +1,5 @@\n+The second technique for masking data utilizes KSQL's built in `MASK` functions. Here we retain the customer name and date of birth, but obfuscated.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51047e983e95dc3db0a9b37913de80abe8837892"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ0MjY5OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            KSQL offers a variety of different masking functions that allow you to mask the farthest or nearest _x_ number of characters on right or left. Check out the KSQL documentation link:https://docs.ksqldb.io/en/latest/developer-guide/ksqldb-reference/scalar-functions/#mask[*link here*,window=_blank] for more information.\n          \n          \n            \n            ksqlDB offers a variety of different masking functions that allow you to mask the farthest or nearest _x_ number of characters on right or left. Check out the https://docs.ksqldb.io/en/latest/developer-guide/ksqldb-reference/scalar-functions/#mask[*ksqlDB documentation*,window=_blank] for more information.\n          \n      \n    \n    \n  \n\nJust a thought about the link text you can leave it as is.\nBut we should change KSQL to ksqlDB though.", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#discussion_r509442699", "createdAt": "2020-10-21T16:47:28Z", "author": {"login": "bbejeck"}, "path": "_includes/tutorials/masking-data/ksql/markup/dev/print-purchases-obfuscated-topic.adoc", "diffHunk": "@@ -0,0 +1,24 @@\n+Use the command below to query the contents of the purchases_pii_obfuscated stream:\n+\n++++++\n+<pre class=\"snippet\"><code class=\"sql\">{% include_raw tutorials/masking-data/ksql/code/tutorial-steps/dev/print-purchases-obfuscated-topic.sql %}</code></pre>\n++++++\n+\n+We can see that the sensitive data is masked with x's or n's.\n+\n++++++\n+<pre class=\"snippet\"><code class=\"sql\">{% include_raw tutorials/masking-data/ksql/code/tutorial-steps/dev/expected-purchases-obfuscated-output.log %}</code></pre>\n++++++\n+\n+[TIP]\n+.`MASK` Function Options\n+====\n+There are a few types of masking functions and optional parameters that may be of use to you. +\n+\n+*Optional arguments:* +\n+`MASK(CUSTOMER_NAME, 'X', 'x', 'n', '-')` +\n+In the example above, the following types of characters in `CUSTOMER_NAME` would be masked: upper-case letters would become `X`, lower-case letters would become `x`, numbers would become `n`, and other characters would become `-`. This is the default setting if no mask characters are present. Set a given mask character to NULL to prevent any masking of that character type. +\n+\n+*Other types of `MASK` Functions:* +\n+KSQL offers a variety of different masking functions that allow you to mask the farthest or nearest _x_ number of characters on right or left. Check out the KSQL documentation link:https://docs.ksqldb.io/en/latest/developer-guide/ksqldb-reference/scalar-functions/#mask[*link here*,window=_blank] for more information.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51047e983e95dc3db0a9b37913de80abe8837892"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ0NjE5NQ==", "bodyText": "Maybe at the end of this step instruct the user they can shutdown ksqlDB with a CTRL+D", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#discussion_r509446195", "createdAt": "2020-10-21T16:52:51Z", "author": {"login": "bbejeck"}, "path": "_includes/tutorials/masking-data/ksql/markup/dev/print-purchases-obfuscated-topic.adoc", "diffHunk": "@@ -0,0 +1,24 @@\n+Use the command below to query the contents of the purchases_pii_obfuscated stream:\n+\n++++++\n+<pre class=\"snippet\"><code class=\"sql\">{% include_raw tutorials/masking-data/ksql/code/tutorial-steps/dev/print-purchases-obfuscated-topic.sql %}</code></pre>\n++++++\n+\n+We can see that the sensitive data is masked with x's or n's.\n+\n++++++\n+<pre class=\"snippet\"><code class=\"sql\">{% include_raw tutorials/masking-data/ksql/code/tutorial-steps/dev/expected-purchases-obfuscated-output.log %}</code></pre>\n++++++\n+\n+[TIP]\n+.`MASK` Function Options\n+====\n+There are a few types of masking functions and optional parameters that may be of use to you. +\n+\n+*Optional arguments:* +\n+`MASK(CUSTOMER_NAME, 'X', 'x', 'n', '-')` +\n+In the example above, the following types of characters in `CUSTOMER_NAME` would be masked: upper-case letters would become `X`, lower-case letters would become `x`, numbers would become `n`, and other characters would become `-`. This is the default setting if no mask characters are present. Set a given mask character to NULL to prevent any masking of that character type. +\n+\n+*Other types of `MASK` Functions:* +\n+KSQL offers a variety of different masking functions that allow you to mask the farthest or nearest _x_ number of characters on right or left. Check out the KSQL documentation link:https://docs.ksqldb.io/en/latest/developer-guide/ksqldb-reference/scalar-functions/#mask[*link here*,window=_blank] for more information.\n+====", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51047e983e95dc3db0a9b37913de80abe8837892"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ0NzUxMw==", "bodyText": "Maybe move this link to the top of this section; since it will be a new tutorial, it will be easier for users to find.\nAs a side note, we've been discussing ways of organizing the KT main page, but for the near term moving it up in the list should work.", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#discussion_r509447513", "createdAt": "2020-10-21T16:54:40Z", "author": {"login": "bbejeck"}, "path": "index.html", "diffHunk": "@@ -70,6 +70,7 @@ <h2 class=\"subtitle\">Apache Kafka is a powerful, scalable, fault-tolerant distri\n             <li class=\"more is-hidden\"><a href=\"dynamic-output-topic/kstreams.html\">Choose the output topic dynamically</a></li>\n             <li class=\"more is-hidden\"><a href=\"naming-stateful-operations/kstreams.html\">Name stateful operations</a></li>\n             <li class=\"more is-hidden\"><a href=\"kafka-streams-convert-to-ktable/kstreams.html\">Convert a KStream to a KTable</a></li>\n+            <li class=\"more is-hidden\"><a href=\"masking-data/ksql.html\">Masking data</a></li>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51047e983e95dc3db0a9b37913de80abe8837892"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93b3d2e8fc1dfd15a2b20c598c32f242f64ed5ec", "author": {"user": {"login": "awalther28", "name": "Allison Walther"}}, "url": "https://github.com/confluentinc/kafka-tutorials/commit/93b3d2e8fc1dfd15a2b20c598c32f242f64ed5ec", "committedDate": "2020-10-21T17:05:26Z", "message": "Apply suggestions from code review\n\nCo-authored-by: Bill Bejeck <bill@confluent.io>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15572b109997729480ebdc393c81d06d8ac575b7", "author": {"user": {"login": "awalther28", "name": "Allison Walther"}}, "url": "https://github.com/confluentinc/kafka-tutorials/commit/15572b109997729480ebdc393c81d06d8ac575b7", "committedDate": "2020-10-21T17:18:39Z", "message": "DEVX-2185; add exit + move up in index.html"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0MDAyMjkx", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#pullrequestreview-514002291", "createdAt": "2020-10-21T17:29:04Z", "commit": {"oid": "15572b109997729480ebdc393c81d06d8ac575b7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 87, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}