{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxNDgyMTUx", "number": 671, "title": "DEVX-2352: Convert column difference recipe", "bodyText": "Description\nConverts calculating the difference between columns recipe\nStaging Docs\nhttp://kafka-tutorials-staging.s3-website-us-west-2.amazonaws.com/DEVX-2352_convert_column_diff_tutorial/\nhttp://kafka-tutorials-staging.s3-website-us-west-2.amazonaws.com/DEVX-2352_convert_column_diff_tutorial/column-difference/ksql.html", "createdAt": "2020-12-16T22:41:46Z", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671", "merged": true, "mergeCommit": {"oid": "cf2a3a099b78cc71c62d47a03ca963d255fdb544"}, "closed": true, "closedAt": "2020-12-17T20:22:32Z", "author": {"login": "bbejeck"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdm2mk5AH2gAyNTQxNDgyMTUxOjc5NTNkYmRmNDE4ZTBmZmMzMzY3ZTY5MTJjMDljMDQ4ZDE1Y2Q1ZjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnJdZOAFqTU1NDk1Nzk2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3", "author": {"user": {"login": "bbejeck", "name": "Bill Bejeck"}}, "url": "https://github.com/confluentinc/kafka-tutorials/commit/7953dbdf418e0ffc3367e6912c09c048d15cd5f3", "committedDate": "2020-12-16T22:23:22Z", "message": "DEVX-2352: Convert column difference recipe"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NzY1MjA3", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#pullrequestreview-554765207", "createdAt": "2020-12-17T16:20:38Z", "commit": {"oid": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3"}, "state": "COMMENTED", "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNjoyMDozOVrOIH9iAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNzozMzowNVrOIIAwKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTIxOTA3NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              title: \"Column Differnce\"\n          \n          \n            \n              title: \"Column Difference\"\n          \n      \n    \n    \n  \n\ntypo", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545219075", "createdAt": "2020-12-17T16:20:39Z", "author": {"login": "awalther28"}, "path": "_data/tutorials.yaml", "diffHunk": "@@ -612,3 +612,22 @@ concatenation:\n     ruby: disabled\n     scala: disabled\n     swift: disabled\n+\n+column-difference:\n+  title: \"Column Differnce\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTIxOTIxOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              meta-description: \"Column Differnce\"\n          \n          \n            \n              meta-description: \"Column Difference\"\n          \n      \n    \n    \n  \n\ntypo", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545219219", "createdAt": "2020-12-17T16:20:48Z", "author": {"login": "awalther28"}, "path": "_data/tutorials.yaml", "diffHunk": "@@ -612,3 +612,22 @@ concatenation:\n     ruby: disabled\n     scala: disabled\n     swift: disabled\n+\n+column-difference:\n+  title: \"Column Differnce\"\n+  meta-description: \"Column Differnce\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTIxOTY5Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              question: \"How do I calculate the differnence between two columns?\"\n          \n          \n            \n              question: \"How do I calculate the difference between two columns?\"", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545219693", "createdAt": "2020-12-17T16:21:24Z", "author": {"login": "awalther28"}, "path": "_data/tutorials.yaml", "diffHunk": "@@ -612,3 +612,22 @@ concatenation:\n     ruby: disabled\n     scala: disabled\n     swift: disabled\n+\n+column-difference:\n+  title: \"Column Differnce\"\n+  meta-description: \"Column Differnce\"\n+  slug: \"/column-difference\"\n+  question: \"How do I calculate the differnence between two columns?\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTIyMDIyOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              introduction: \"Suppose you have a table and you need to calculate the differnence between two columns.  In this tutorial we'll show how to calculate the difference between two columns\"\n          \n          \n            \n              introduction: \"Suppose you have a table or stream and you need to calculate the difference between two columns.  In this tutorial we'll show how to calculate the difference between two columns.\"", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545220228", "createdAt": "2020-12-17T16:22:03Z", "author": {"login": "awalther28"}, "path": "_data/tutorials.yaml", "diffHunk": "@@ -612,3 +612,22 @@ concatenation:\n     ruby: disabled\n     scala: disabled\n     swift: disabled\n+\n+column-difference:\n+  title: \"Column Differnce\"\n+  meta-description: \"Column Differnce\"\n+  slug: \"/column-difference\"\n+  question: \"How do I calculate the differnence between two columns?\"\n+  introduction: \"Suppose you have a table and you need to calculate the differnence between two columns.  In this tutorial we'll show how to calculate the difference between two columns\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI2ODcxNw==", "bodyText": "I think this is from the tutorial you copied, and that you should be talking about difference and - here instead of concatenate & +.", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545268717", "createdAt": "2020-12-17T17:28:37Z", "author": {"login": "awalther28"}, "path": "_includes/tutorials/column-difference/ksql/markup/dev/transient-reporting.adoc", "diffHunk": "@@ -0,0 +1,31 @@\n+Now we write a query to concatenate multiple columns. To achieve this, we will use the `+` operator between the fields in our `SELECT` statement rather than a comma.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI2OTIyMg==", "bodyText": "\".\" or \":\" here?", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545269222", "createdAt": "2020-12-17T17:29:19Z", "author": {"login": "awalther28"}, "path": "_includes/tutorials/column-difference/ksql/markup/dev/transient-reporting.adoc", "diffHunk": "@@ -0,0 +1,31 @@\n+Now we write a query to concatenate multiple columns. To achieve this, we will use the `+` operator between the fields in our `SELECT` statement rather than a comma.\n+\n+[source, sql]\n+----\n+\n+SELECT FIRST_NAME,\n+       LAST_NAME,\n+       CURRENT_PURCHASE - PREVIOUS_PURCHASE as PURCHASE_DIFF <1>\n+FROM PURCHASE_STREAM\n+EMIT CHANGES\n+LIMIT 4;\n+\n+\n+----\n+\n+<1> Using the `-` operator to calculate the difference between two columns\n+\n+\n+This query should produce the following output:\n+\n++++++\n+<pre class=\"snippet\"><code class=\"shell\">{% include_raw tutorials/column-difference/ksql/code/tutorial-steps/dev/expected-transient-reporting.log %}</code></pre>\n++++++\n+\n+Now that the reporting query works, let's update it to create a continuous query for your reporting scenario", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI3MDYyMg==", "bodyText": "Maybe right here would be a good place to mention the numeric comment you had in the \"Short Answer\" section. I could see people skipping over the \"Short Answer\" and missing that key piece of info. Just a thought.", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545270622", "createdAt": "2020-12-17T17:31:22Z", "author": {"login": "awalther28"}, "path": "_includes/tutorials/column-difference/ksql/markup/dev/transient-reporting.adoc", "diffHunk": "@@ -0,0 +1,31 @@\n+Now we write a query to concatenate multiple columns. To achieve this, we will use the `+` operator between the fields in our `SELECT` statement rather than a comma.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI2ODcxNw=="}, "originalCommit": {"oid": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI3MTQ2Mg==", "bodyText": "Could you please remove some of these white lines? It looks odd in the rendering for the \"Short Answer\" section.", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545271462", "createdAt": "2020-12-17T17:32:30Z", "author": {"login": "awalther28"}, "path": "_includes/tutorials/column-difference/ksql/code/tutorial-steps/dev/query-with-column-difference.sql", "diffHunk": "@@ -0,0 +1,6 @@\n+SELECT FIRST_NAME,\n+       LAST_NAME,\n+       CURRENT_PURCHASE - PREVIOUS_PURCHASE as PURCHASE_DIFF\n+       ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI3MTg0OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Note that the `-` operator expects numerical values.  So if have columns where the numbers are stored as `VARCHAR` you'll have to use a `CAST` operation to covert them to a numerical type, otherwise you'll get an error in your query.\n          \n          \n            \n            Note that the `-` operator expects numerical values.  So if have columns where the numbers are stored as `VARCHAR` you'll have to use a `CAST` operation to convert them to a numerical type, otherwise you'll get an error in your query.", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545271848", "createdAt": "2020-12-17T17:33:05Z", "author": {"login": "awalther28"}, "path": "_includes/tutorials/column-difference/ksql/markup/answer/column-difference-answer.adoc", "diffHunk": "@@ -0,0 +1,7 @@\n+Take the fields you want to calculate the difference between and use the `-` operator between them `field_1 - field_2`\n+\n++++++\n+<pre class=\"snippet\"><code class=\"sql\">{% include_raw tutorials/column-difference/ksql/code/tutorial-steps/dev/query-with-column-difference.sql %}</code></pre>\n++++++\n+\n+Note that the `-` operator expects numerical values.  So if have columns where the numbers are stored as `VARCHAR` you'll have to use a `CAST` operation to covert them to a numerical type, otherwise you'll get an error in your query.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6936e493cce294cfbc90f09743a42ff305c98b73", "author": {"user": {"login": "bbejeck", "name": "Bill Bejeck"}}, "url": "https://github.com/confluentinc/kafka-tutorials/commit/6936e493cce294cfbc90f09743a42ff305c98b73", "committedDate": "2020-12-17T20:15:25Z", "message": "Updates per comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTU3OTY3", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#pullrequestreview-554957967", "createdAt": "2020-12-17T20:21:32Z", "commit": {"oid": "6936e493cce294cfbc90f09743a42ff305c98b73"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 133, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}