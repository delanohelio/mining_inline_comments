{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MDIxMzc2", "number": 244, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQyMTozNToyM1rODl8wqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMDo1MDoyMlrODofymg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMTE5NDAxOnYy", "diffSide": "RIGHT", "path": "templates/ksql/filtered/code/docker-compose.yml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQyMTozNToyM1rOFzILZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQyMTozODowOVrOFzIP2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE1NTY4NQ==", "bodyText": "I presume the plan would be to tweak this for ksqlDB and ask for a KSQLDB_VERSION?", "url": "https://github.com/confluentinc/kafka-tutorials/pull/244#discussion_r389155685", "createdAt": "2020-03-06T21:35:23Z", "author": {"login": "colinhicks"}, "path": "templates/ksql/filtered/code/docker-compose.yml", "diffHunk": "@@ -0,0 +1,80 @@\n+---\n+version: '2'\n+\n+services:\n+  zookeeper:\n+    image: confluentinc/cp-zookeeper:<CP-VERSION>\n+    hostname: zookeeper\n+    container_name: zookeeper\n+    ports:\n+      - \"2181:2181\"\n+    environment:\n+      ZOOKEEPER_CLIENT_PORT: 2181\n+      ZOOKEEPER_TICK_TIME: 2000\n+\n+  broker:\n+    image: confluentinc/cp-enterprise-kafka:<CP-VERSION>\n+    hostname: broker\n+    container_name: broker\n+    depends_on:\n+      - zookeeper\n+    ports:\n+      - \"29092:29092\"\n+    environment:\n+      KAFKA_BROKER_ID: 1\n+      KAFKA_ZOOKEEPER_CONNECT: 'zookeeper:2181'\n+      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n+      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker:9092,PLAINTEXT_HOST://localhost:29092\n+      KAFKA_METRIC_REPORTERS: io.confluent.metrics.reporter.ConfluentMetricsReporter\n+      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n+      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\n+      CONFLUENT_METRICS_REPORTER_BOOTSTRAP_SERVERS: broker:9092\n+      CONFLUENT_METRICS_REPORTER_ZOOKEEPER_CONNECT: zookeeper:2181\n+      CONFLUENT_METRICS_REPORTER_TOPIC_REPLICAS: 1\n+      CONFLUENT_METRICS_ENABLE: 'true'\n+      CONFLUENT_SUPPORT_CUSTOMER_ID: 'anonymous'\n+\n+  schema-registry:\n+    image: confluentinc/cp-schema-registry:<CP-VERSION>\n+    hostname: schema-registry\n+    container_name: schema-registry\n+    depends_on:\n+      - zookeeper\n+      - broker\n+    ports:\n+      - \"8081:8081\"\n+    environment:\n+      SCHEMA_REGISTRY_HOST_NAME: schema-registry\n+      SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: 'zookeeper:2181'\n+\n+  ksql-server:\n+    image: confluentinc/cp-ksql-server:<CP-VERSION>\n+    hostname: ksql-server", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87f48ddaae237731ef94a259d40288012b2229b2"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE1NjgyNA==", "bodyText": "Yes, I missed that one.", "url": "https://github.com/confluentinc/kafka-tutorials/pull/244#discussion_r389156824", "createdAt": "2020-03-06T21:38:09Z", "author": {"login": "bbejeck"}, "path": "templates/ksql/filtered/code/docker-compose.yml", "diffHunk": "@@ -0,0 +1,80 @@\n+---\n+version: '2'\n+\n+services:\n+  zookeeper:\n+    image: confluentinc/cp-zookeeper:<CP-VERSION>\n+    hostname: zookeeper\n+    container_name: zookeeper\n+    ports:\n+      - \"2181:2181\"\n+    environment:\n+      ZOOKEEPER_CLIENT_PORT: 2181\n+      ZOOKEEPER_TICK_TIME: 2000\n+\n+  broker:\n+    image: confluentinc/cp-enterprise-kafka:<CP-VERSION>\n+    hostname: broker\n+    container_name: broker\n+    depends_on:\n+      - zookeeper\n+    ports:\n+      - \"29092:29092\"\n+    environment:\n+      KAFKA_BROKER_ID: 1\n+      KAFKA_ZOOKEEPER_CONNECT: 'zookeeper:2181'\n+      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n+      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker:9092,PLAINTEXT_HOST://localhost:29092\n+      KAFKA_METRIC_REPORTERS: io.confluent.metrics.reporter.ConfluentMetricsReporter\n+      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n+      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\n+      CONFLUENT_METRICS_REPORTER_BOOTSTRAP_SERVERS: broker:9092\n+      CONFLUENT_METRICS_REPORTER_ZOOKEEPER_CONNECT: zookeeper:2181\n+      CONFLUENT_METRICS_REPORTER_TOPIC_REPLICAS: 1\n+      CONFLUENT_METRICS_ENABLE: 'true'\n+      CONFLUENT_SUPPORT_CUSTOMER_ID: 'anonymous'\n+\n+  schema-registry:\n+    image: confluentinc/cp-schema-registry:<CP-VERSION>\n+    hostname: schema-registry\n+    container_name: schema-registry\n+    depends_on:\n+      - zookeeper\n+      - broker\n+    ports:\n+      - \"8081:8081\"\n+    environment:\n+      SCHEMA_REGISTRY_HOST_NAME: schema-registry\n+      SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: 'zookeeper:2181'\n+\n+  ksql-server:\n+    image: confluentinc/cp-ksql-server:<CP-VERSION>\n+    hostname: ksql-server", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE1NTY4NQ=="}, "originalCommit": {"oid": "87f48ddaae237731ef94a259d40288012b2229b2"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNTk1MjIwOnYy", "diffSide": "RIGHT", "path": "templates/ksql/filtered/code/docker-compose.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzo1NDo1MVrOFzzRfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzo1NDo1MVrOFzzRfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg2MTc1OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\n          \n          \n            \n                  KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\n          \n          \n            \n                  KAFKA_TRANSACTION_STATE_LOG_MIN_ISR: 1\n          \n          \n            \n                  KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1", "url": "https://github.com/confluentinc/kafka-tutorials/pull/244#discussion_r389861758", "createdAt": "2020-03-09T17:54:51Z", "author": {"login": "colinhicks"}, "path": "templates/ksql/filtered/code/docker-compose.yml", "diffHunk": "@@ -0,0 +1,80 @@\n+---\n+version: '2'\n+\n+services:\n+  zookeeper:\n+    image: confluentinc/cp-zookeeper:<CP-VERSION>\n+    hostname: zookeeper\n+    container_name: zookeeper\n+    ports:\n+      - \"2181:2181\"\n+    environment:\n+      ZOOKEEPER_CLIENT_PORT: 2181\n+      ZOOKEEPER_TICK_TIME: 2000\n+\n+  broker:\n+    image: confluentinc/cp-enterprise-kafka:<CP-VERSION>\n+    hostname: broker\n+    container_name: broker\n+    depends_on:\n+      - zookeeper\n+    ports:\n+      - \"29092:29092\"\n+    environment:\n+      KAFKA_BROKER_ID: 1\n+      KAFKA_ZOOKEEPER_CONNECT: 'zookeeper:2181'\n+      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n+      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker:9092,PLAINTEXT_HOST://localhost:29092\n+      KAFKA_METRIC_REPORTERS: io.confluent.metrics.reporter.ConfluentMetricsReporter\n+      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n+      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "599a37ec0c7e97c474a1e38b878c7faae00c2576"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNTk1NjE2OnYy", "diffSide": "RIGHT", "path": "templates/ksql/static/dev/code/start-cli.sh", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzo1NTo1M1rOFzzT9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzo1NTo1M1rOFzzT9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg2MjM4OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            docker exec -it ksql-cli ksql http://ksql-server:8088\n          \n          \n            \n            docker exec -it ksqldb-cli ksql http://ksqldb-server:8088", "url": "https://github.com/confluentinc/kafka-tutorials/pull/244#discussion_r389862389", "createdAt": "2020-03-09T17:55:53Z", "author": {"login": "colinhicks"}, "path": "templates/ksql/static/dev/code/start-cli.sh", "diffHunk": "@@ -0,0 +1 @@\n+docker exec -it ksql-cli ksql http://ksql-server:8088", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "599a37ec0c7e97c474a1e38b878c7faae00c2576"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNzg5ODgzOnYy", "diffSide": "RIGHT", "path": "README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMDo0ODoyMlrOF3FOHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMDo0ODoyMlrOF3FOHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMwMTUzMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The script expects you to supply a properties file for setting the name and other parts of the tutorial.  Heres' an example properties file you can use.\n          \n          \n            \n            The script expects you to supply a properties file for setting the name and other parts of the tutorial.  Here's an example properties file you can use.", "url": "https://github.com/confluentinc/kafka-tutorials/pull/244#discussion_r393301532", "createdAt": "2020-03-16T20:48:22Z", "author": {"login": "colinhicks"}, "path": "README.md", "diffHunk": "@@ -78,6 +78,111 @@ Kafka Tutorials is a bit unique in that each tutorial is self-testing. That is,\n \n With in each stack, these tutorials contain a few pieces. These are described below.\n \n+## Using tutorial author tools\n+\n+There are several pieces that you will put together for a tutorial.  Aside from the original content you need to provide (tutorial description, actual tutorial content, code, etc.), all of the steps described below can be automated.  You accomplish tutorial automation via one of two scripts in the `tools` directory\n+\n+  1. `gen_project.sh` \n+  2. `clone_tutorial.sh`\n+\n+Let's describe each script.\n+\n+### The `gen_project.sh` script\n+\n+As the name implies, the `gen_project.sh` script generates the minimal structure for a viable Kafka Tutorials tutorial.  The code and text contained in the tutorial are place holders, and you'll update those with your code and writing to complete the tutorial.\n+\n+The script expects you to supply a properties file for setting the name and other parts of the tutorial.  Heres' an example properties file you can use.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f5015f9df4015078218c4af8b579b84beae64a3"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNzkwNDkwOnYy", "diffSide": "RIGHT", "path": "README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMDo1MDoyMlrOF3FSEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMDo1MDoyMlrOF3FSEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMwMjU0NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            3. Execute `> tools/clone_tutoral.sh ~/clone-tutorial-props.sh`\n          \n          \n            \n            3. Execute `> tools/clone_tutorial.sh ~/clone-tutorial-props.sh`", "url": "https://github.com/confluentinc/kafka-tutorials/pull/244#discussion_r393302545", "createdAt": "2020-03-16T20:50:22Z", "author": {"login": "colinhicks"}, "path": "README.md", "diffHunk": "@@ -78,6 +78,111 @@ Kafka Tutorials is a bit unique in that each tutorial is self-testing. That is,\n \n With in each stack, these tutorials contain a few pieces. These are described below.\n \n+## Using tutorial author tools\n+\n+There are several pieces that you will put together for a tutorial.  Aside from the original content you need to provide (tutorial description, actual tutorial content, code, etc.), all of the steps described below can be automated.  You accomplish tutorial automation via one of two scripts in the `tools` directory\n+\n+  1. `gen_project.sh` \n+  2. `clone_tutorial.sh`\n+\n+Let's describe each script.\n+\n+### The `gen_project.sh` script\n+\n+As the name implies, the `gen_project.sh` script generates the minimal structure for a viable Kafka Tutorials tutorial.  The code and text contained in the tutorial are place holders, and you'll update those with your code and writing to complete the tutorial.\n+\n+The script expects you to supply a properties file for setting the name and other parts of the tutorial.  Heres' an example properties file you can use.\n+```\n+#!/bin/sh\n+\n+# space-separated list of types could be one of ksql or kstreams\n+CARDS=\"kstreams ksql\"\n+\n+# all lower-case with no spaces\n+TUTORIAL_SHORT_NAME=my-tutorial-name\n+\n+# the MAIN_CLASS variable will generate a test named MAIN_CLASSTest\n+MAIN_CLASS=FilteringCode\n+AK_VERSION=2.4.0\n+CP_VERSION=5.4.0\n+KSQLDB_VERSION=0.7.1\n+SEMAPHORE_TEST_NAME=\"Test name for Semaphore run\"\n+PERMALINK=\"seo-friendly-link-to-my-tutorial\"\n+```\n+\n+To run this script:\n+\n+1. Create a branch\n+2. Make sure you are in the `Kafka Tutorials` base directory\n+3. Execute `> tools/gen_project.sh ~/my_tutorial_props.sh`\n+\n+You'll see a lot of information scroll across the screen, describing each step of the tutorial generation process. The last part of the information presented is a checklist of what you'll need to do to complete your tutorial, aside from adding your code and tutorial text.\n+\n+```\n+Your tutorial, my-tutorial-name, has been generated successfully!\n+The script adds a copy of this checklist to the my-tutorial-name directory.\n+\n+There are some additional steps you'll need to take to complete the tutorial:\n+\n+\n+1. Update the following entries in _data/tutorials.yaml file\n+    a. title\n+    b. meta-description\n+    c. problem\n+    c. introduction\n+\n+You can find these fields by searching for my-tutorial-name in the _data/tutorials.yaml file.\n+\n+\n+2. Update the link text then add the following link(s) to the index.html file in the appropriate section:\n+\n+\n+   <li><a href=\"seo-friendly-link-to-my-tutorial/kstreams.html\">MEANINGFUL LINK TEXT HERE</a></li>\n+\n+   <li><a href=\"seo-friendly-link-to-my-tutorial/ksql.html\">MEANINGFUL LINK TEXT HERE</a></li> \n+\n+```\n+\n+If you only specified one tutorial type (`ksql` or `kstreams`) then you'd only have one link in the output.  Also, a copy of this output is copied in your tutorial directory `/Kafka Tutorials base dir/_includes/tutorials/you_tutorial_short_name`\n+\n+### The `clone-tutorial.sh` script\n+\n+As the name implies, this script creates a clone of an existing tutorial.  The clone script changes the name of the tutorial throughout the content.  To clone a tutorial, you also need to provide a properties file\n+\n+```\n+#!/bin/sh\n+\n+# clones everything ksql and kstreams\n+ORIG_TUTORIAL=filtering\n+\n+# to clone just the ksql part\n+#ORIG_TUTORIAL=filtering/ksql\n+\n+# to clone just the kstreams portion\n+#ORIG_TUTORIAL=filtering/kstreams\n+NEW_TUTORIAL=something-close-to-filtering\n+SEMAPHORE_TEST_NAME=\"My New Filtering Tutorial\"\n+PERMALINK=filtering-new-hotness-tutorial\n+```\n+\n+To clone a tutorial:\n+\n+1. Create a branch\n+2. Make sure you are in the `Kafka Tutorials` base directory\n+3. Execute `> tools/clone_tutoral.sh ~/clone-tutorial-props.sh`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f5015f9df4015078218c4af8b579b84beae64a3"}, "originalPosition": 95}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4059, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}