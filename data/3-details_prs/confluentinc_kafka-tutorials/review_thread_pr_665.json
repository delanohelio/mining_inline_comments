{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1NDMzODk3", "number": 665, "reviewThreads": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToxMDoxMFrOFDI7xA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxNjowODowNlrOFEDiBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODM2NDIwOnYy", "diffSide": "RIGHT", "path": "_data/harnesses/multi-joins/ksql.yml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToxMDoxMFrOICpmsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMjowMDowNlrOICrdlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY0OTcxMg==", "bodyText": "@rspurgeon would you consider adding a Short Answer to this KT? (e.g. https://kafka-tutorials.confluent.io/create-stateful-aggregation-count/ksql.html)", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539649712", "createdAt": "2020-12-09T21:10:10Z", "author": {"login": "ybyzek"}, "path": "_data/harnesses/multi-joins/ksql.yml", "diffHunk": "@@ -0,0 +1,132 @@\n+dev:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY4MDE1MQ==", "bodyText": "added in latest", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539680151", "createdAt": "2020-12-09T22:00:06Z", "author": {"login": "rspurgeon"}, "path": "_data/harnesses/multi-joins/ksql.yml", "diffHunk": "@@ -0,0 +1,132 @@\n+dev:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY0OTcxMg=="}, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODM2NTk1OnYy", "diffSide": "RIGHT", "path": "_data/tutorials.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToxMDozNVrOICpnxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToxMDozNVrOICpnxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY0OTk4OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              question: \"How can I join multiple streams or tables of data together using a single expression in ksqlDB?\"\n          \n          \n            \n              question: \"How can I join multiple streams or tables together using a single expression?\"\n          \n      \n    \n    \n  \n\nRemoving ksqlDB because a Kafka Streams example could come later", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539649989", "createdAt": "2020-12-09T21:10:35Z", "author": {"login": "ybyzek"}, "path": "_data/tutorials.yaml", "diffHunk": "@@ -575,3 +575,22 @@ ksql-heterogeneous-json:\n     scala: disabled\n     swift: disabled\n     \n+\n+multi-joins:\n+  title: \"Multi-join expressions\"\n+  meta-description: \"Learn how to collapse multiple joins into a single statement with ksqlDB\"\n+  slug: \"/multi-joins\"\n+  question: \"How can I join multiple streams or tables of data together using a single expression in ksqlDB?\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODM3MTAyOnYy", "diffSide": "RIGHT", "path": "_includes/tutorials/multi-joins/ksql/markup/dev/start-cli.adoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToxMTo1M1rOICpqvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToxMTo1M1rOICpqvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1MDc0OA==", "bodyText": "@rspurgeon great intro to setup the context", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539650748", "createdAt": "2020-12-09T21:11:53Z", "author": {"login": "ybyzek"}, "path": "_includes/tutorials/multi-joins/ksql/markup/dev/start-cli.adoc", "diffHunk": "@@ -0,0 +1,7 @@\n+To create our application, we'll first model some input data to mimic an online store. We will then use the ksqlDB multi-join feature to create a https://docs.ksqldb.io/en/latest/#what-are-the-components-of-ksqldb[Stream] of orders enriched with data from the inputs.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODM3NjI4OnYy", "diffSide": "RIGHT", "path": "_includes/tutorials/multi-joins/ksql/markup/dev/create-inputs-customers.adoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToxMzoxNFrOICpt0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToyNzozNlrOICqRVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1MTUzNw==", "bodyText": "Is it significant that these are all 1 partition?  If yes, please explain why.  If no, consider omitting to make the example simpler.", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539651537", "createdAt": "2020-12-09T21:13:14Z", "author": {"login": "ybyzek"}, "path": "_includes/tutorials/multi-joins/ksql/markup/dev/create-inputs-customers.adoc", "diffHunk": "@@ -0,0 +1,6 @@\n+First let's create an input https://docs.ksqldb.io/en/latest/concepts/collections/#tables[Table] of customer data which will hold data in JSON format over 1 partition:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2MDYyOA==", "bodyText": "removed in latest", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539660628", "createdAt": "2020-12-09T21:27:36Z", "author": {"login": "rspurgeon"}, "path": "_includes/tutorials/multi-joins/ksql/markup/dev/create-inputs-customers.adoc", "diffHunk": "@@ -0,0 +1,6 @@\n+First let's create an input https://docs.ksqldb.io/en/latest/concepts/collections/#tables[Table] of customer data which will hold data in JSON format over 1 partition:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1MTUzNw=="}, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODM4MTkwOnYy", "diffSide": "RIGHT", "path": "_includes/tutorials/multi-joins/ksql/markup/dev/create-inputs-orders.adoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToxNDozM1rOICpxDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToyOTo0N1rOICqWYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1MjM2NA==", "bodyText": "It may be worth pointing out that this stream contains fields shared by the other two previously created tables.", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539652364", "createdAt": "2020-12-09T21:14:33Z", "author": {"login": "ybyzek"}, "path": "_includes/tutorials/multi-joins/ksql/markup/dev/create-inputs-orders.adoc", "diffHunk": "@@ -0,0 +1,6 @@\n+Next we create a stream containing orders submitted to our online store, also formatted in JSON.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2MTkyMA==", "bodyText": "You mean fields that are related?", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539661920", "createdAt": "2020-12-09T21:29:47Z", "author": {"login": "rspurgeon"}, "path": "_includes/tutorials/multi-joins/ksql/markup/dev/create-inputs-orders.adoc", "diffHunk": "@@ -0,0 +1,6 @@\n+Next we create a stream containing orders submitted to our online store, also formatted in JSON.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1MjM2NA=="}, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODM4Nzk2OnYy", "diffSide": "RIGHT", "path": "_includes/tutorials/multi-joins/ksql/code/tutorial-steps/dev/populate-table-items.sql", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToxNjowMlrOICp0fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMTo1OTo0NFrOICrcyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1MzI0Ng==", "bodyText": "It would be helpful to differentiate the values in items and customers, instead of both having sample data 1, 2, 3....maybe make items be something else, like 101, 102, 103?", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539653246", "createdAt": "2020-12-09T21:16:02Z", "author": {"login": "ybyzek"}, "path": "_includes/tutorials/multi-joins/ksql/code/tutorial-steps/dev/populate-table-items.sql", "diffHunk": "@@ -0,0 +1,3 @@\n+INSERT INTO items VALUES ('1', 'Television 60-in');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3OTk0Ng==", "bodyText": "changed in latest", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539679946", "createdAt": "2020-12-09T21:59:44Z", "author": {"login": "rspurgeon"}, "path": "_includes/tutorials/multi-joins/ksql/code/tutorial-steps/dev/populate-table-items.sql", "diffHunk": "@@ -0,0 +1,3 @@\n+INSERT INTO items VALUES ('1', 'Television 60-in');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1MzI0Ng=="}, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODM5MzM3OnYy", "diffSide": "RIGHT", "path": "_data/harnesses/multi-joins/ksql.yml", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToxNzoxNVrOICp3rQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxNjoyNjozNlrOIEAMOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1NDA2MQ==", "bodyText": "This section is quite big.  It would help to split this up maybe into two separate parts:\n\nCreating the streams/tables and inserting values\nCreating the multi-way joined stream uses common SQL join syntax.", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539654061", "createdAt": "2020-12-09T21:17:15Z", "author": {"login": "ybyzek"}, "path": "_data/harnesses/multi-joins/ksql.yml", "diffHunk": "@@ -0,0 +1,132 @@\n+dev:\n+  steps:\n+    - title: Initialize the project\n+      content:\n+        - action: execute\n+          file: tutorial-steps/dev/init.sh\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/init.adoc\n+\n+        - change_directory: multi-joins\n+          action: execute\n+          file: tutorial-steps/dev/make-dirs.sh\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/make-dirs.adoc\n+\n+    - title: Get Confluent Platform\n+      content:\n+        - action: make_file\n+          file: docker-compose.yml\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/make-docker-compose.adoc\n+\n+        - action: execute_async\n+          file: tutorial-steps/dev/docker-compose-up.sh\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/start-compose.adoc\n+\n+        - action: execute\n+          file: tutorial-steps/dev/wait-for-containers.sh\n+          render:\n+            skip: true\n+\n+    - title: Write the program interactively using the CLI", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA1MTIzNQ==", "bodyText": "+1 on breaking up this section", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r541051235", "createdAt": "2020-12-11T16:00:48Z", "author": {"login": "bbejeck"}, "path": "_data/harnesses/multi-joins/ksql.yml", "diffHunk": "@@ -0,0 +1,132 @@\n+dev:\n+  steps:\n+    - title: Initialize the project\n+      content:\n+        - action: execute\n+          file: tutorial-steps/dev/init.sh\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/init.adoc\n+\n+        - change_directory: multi-joins\n+          action: execute\n+          file: tutorial-steps/dev/make-dirs.sh\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/make-dirs.adoc\n+\n+    - title: Get Confluent Platform\n+      content:\n+        - action: make_file\n+          file: docker-compose.yml\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/make-docker-compose.adoc\n+\n+        - action: execute_async\n+          file: tutorial-steps/dev/docker-compose-up.sh\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/start-compose.adoc\n+\n+        - action: execute\n+          file: tutorial-steps/dev/wait-for-containers.sh\n+          render:\n+            skip: true\n+\n+    - title: Write the program interactively using the CLI", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1NDA2MQ=="}, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA1OTExMQ==", "bodyText": "I'm not sure how to break up into sections.   What should be the values of a new \"title\" for content.action, docker_bootup_file_render, etc...?\n      - title: Create the multi-way join\n        content:\n        - action: docker_ksql_cli_session\n          container: ksqldb-cli\n          docker_bootup_file: tutorial-steps/dev/start-cli.sh\n          column_width: 17\n          render:\n            file: tutorials/multi-joins/ksql/markup/dev/start-cli.adoc\n          stdin:", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r541059111", "createdAt": "2020-12-11T16:12:44Z", "author": {"login": "rspurgeon"}, "path": "_data/harnesses/multi-joins/ksql.yml", "diffHunk": "@@ -0,0 +1,132 @@\n+dev:\n+  steps:\n+    - title: Initialize the project\n+      content:\n+        - action: execute\n+          file: tutorial-steps/dev/init.sh\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/init.adoc\n+\n+        - change_directory: multi-joins\n+          action: execute\n+          file: tutorial-steps/dev/make-dirs.sh\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/make-dirs.adoc\n+\n+    - title: Get Confluent Platform\n+      content:\n+        - action: make_file\n+          file: docker-compose.yml\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/make-docker-compose.adoc\n+\n+        - action: execute_async\n+          file: tutorial-steps/dev/docker-compose-up.sh\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/start-compose.adoc\n+\n+        - action: execute\n+          file: tutorial-steps/dev/wait-for-containers.sh\n+          render:\n+            skip: true\n+\n+    - title: Write the program interactively using the CLI", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1NDA2MQ=="}, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA2ODM0NQ==", "bodyText": "I think I may have figured out my questions, please review the latest @bbejeck & @ybyzek", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r541068345", "createdAt": "2020-12-11T16:26:36Z", "author": {"login": "rspurgeon"}, "path": "_data/harnesses/multi-joins/ksql.yml", "diffHunk": "@@ -0,0 +1,132 @@\n+dev:\n+  steps:\n+    - title: Initialize the project\n+      content:\n+        - action: execute\n+          file: tutorial-steps/dev/init.sh\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/init.adoc\n+\n+        - change_directory: multi-joins\n+          action: execute\n+          file: tutorial-steps/dev/make-dirs.sh\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/make-dirs.adoc\n+\n+    - title: Get Confluent Platform\n+      content:\n+        - action: make_file\n+          file: docker-compose.yml\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/make-docker-compose.adoc\n+\n+        - action: execute_async\n+          file: tutorial-steps/dev/docker-compose-up.sh\n+          render:\n+            file: tutorials/multi-joins/ksql/markup/dev/start-compose.adoc\n+\n+        - action: execute\n+          file: tutorial-steps/dev/wait-for-containers.sh\n+          render:\n+            skip: true\n+\n+    - title: Write the program interactively using the CLI", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1NDA2MQ=="}, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODM5ODI0OnYy", "diffSide": "RIGHT", "path": "_includes/tutorials/multi-joins/ksql/code/src/statements.sql", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToxODozMlrOICp6rA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMTo0NTo0MlrOICq74w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1NDgyOA==", "bodyText": "Is it helpful to explain what LEFT JOIN is?  Or link out to something else that does explain it?", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539654828", "createdAt": "2020-12-09T21:18:32Z", "author": {"login": "ybyzek"}, "path": "_includes/tutorials/multi-joins/ksql/code/src/statements.sql", "diffHunk": "@@ -0,0 +1,22 @@\n+CREATE TABLE customers (customerid STRING PRIMARY KEY, customername STRING)\n+    WITH (KAFKA_TOPIC='customers',\n+          VALUE_FORMAT='json',\n+          PARTITIONS=1);\n+\n+CREATE TABLE items (itemid STRING PRIMARY KEY, itemname STRING)\n+    WITH (KAFKA_TOPIC='items',\n+          VALUE_FORMAT='json',\n+          PARTITIONS=1);\n+\n+CREATE STREAM orders (orderid STRING KEY, customerid STRING, itemid STRING, purchasedate STRING)\n+    WITH (KAFKA_TOPIC='orders',\n+          VALUE_FORMAT='json',\n+          PARTITIONS=1);\n+\n+CREATE STREAM orders_enriched AS \n+  SELECT customers.customerid AS customerid, customers.customername AS customername, \n+         orders.orderid, orders.purchasedate,\n+         items.itemid, items.itemname\n+  FROM orders \n+  LEFT JOIN customers on orders.customerid = customers.customerid ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3MTUyMw==", "bodyText": "I included a link in the tutorial to the ksqldb docs on joins: \"See the ksqlDB documentation for the full details on joins\".\nIMO getting into the anatomy of joins in the text of the tutorial seems out of scope for this 'lesson', but just an opinion.   Does that link help?", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539671523", "createdAt": "2020-12-09T21:45:42Z", "author": {"login": "rspurgeon"}, "path": "_includes/tutorials/multi-joins/ksql/code/src/statements.sql", "diffHunk": "@@ -0,0 +1,22 @@\n+CREATE TABLE customers (customerid STRING PRIMARY KEY, customername STRING)\n+    WITH (KAFKA_TOPIC='customers',\n+          VALUE_FORMAT='json',\n+          PARTITIONS=1);\n+\n+CREATE TABLE items (itemid STRING PRIMARY KEY, itemname STRING)\n+    WITH (KAFKA_TOPIC='items',\n+          VALUE_FORMAT='json',\n+          PARTITIONS=1);\n+\n+CREATE STREAM orders (orderid STRING KEY, customerid STRING, itemid STRING, purchasedate STRING)\n+    WITH (KAFKA_TOPIC='orders',\n+          VALUE_FORMAT='json',\n+          PARTITIONS=1);\n+\n+CREATE STREAM orders_enriched AS \n+  SELECT customers.customerid AS customerid, customers.customername AS customername, \n+         orders.orderid, orders.purchasedate,\n+         items.itemid, items.itemname\n+  FROM orders \n+  LEFT JOIN customers on orders.customerid = customers.customerid ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1NDgyOA=="}, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODQwMjgzOnYy", "diffSide": "RIGHT", "path": "_includes/tutorials/multi-joins/ksql/markup/dev/print-topic.adoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToxOTozM1rOICp9QA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMTo1OTozMFrOICrcTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1NTQ4OA==", "bodyText": "Any reason why this was mentioned?  If so, please explain...otherwise it might appear out of place", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539655488", "createdAt": "2020-12-09T21:19:33Z", "author": {"login": "ybyzek"}, "path": "_includes/tutorials/multi-joins/ksql/markup/dev/print-topic.adoc", "diffHunk": "@@ -0,0 +1,13 @@\n+Finally, let's see what's available on the underlying Kafka topic for the new stream. We can print that out easily.\n+\n++++++\n+<pre class=\"snippet\"><code class=\"sql\">{% include_raw tutorials/multi-joins/ksql/code/tutorial-steps/dev/print-topic.sql %}</code></pre>\n++++++\n+\n+Notice that the key for each message includes not just the enriched order data, but also the rowtime of the records. It should look something like this:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3OTgyMA==", "bodyText": "changed this in latest to discuss why the item id is the key of the resulting topic records", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539679820", "createdAt": "2020-12-09T21:59:30Z", "author": {"login": "rspurgeon"}, "path": "_includes/tutorials/multi-joins/ksql/markup/dev/print-topic.adoc", "diffHunk": "@@ -0,0 +1,13 @@\n+Finally, let's see what's available on the underlying Kafka topic for the new stream. We can print that out easily.\n+\n++++++\n+<pre class=\"snippet\"><code class=\"sql\">{% include_raw tutorials/multi-joins/ksql/code/tutorial-steps/dev/print-topic.sql %}</code></pre>\n++++++\n+\n+Notice that the key for each message includes not just the enriched order data, but also the rowtime of the records. It should look something like this:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1NTQ4OA=="}, "originalCommit": {"oid": "9b3003c4a3f2ffe4461fc6f32e002183e6890bc2"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODQxMzM3OnYy", "diffSide": "RIGHT", "path": "_includes/tutorials/multi-joins/ksql/markup/dev/populate-stream-orders.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToyMjowN1rOICqDUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToyMjowN1rOICqDUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1NzA0MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Then we insert some orders which contain a unique order id, a customer id, an item id, and a purchase date:\n          \n          \n            \n            Then we insert some orders.  Each order contains a unique order id, a customer id, an item id, and a purchase date:", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r539657041", "createdAt": "2020-12-09T21:22:07Z", "author": {"login": "ybyzek"}, "path": "_includes/tutorials/multi-joins/ksql/markup/dev/populate-stream-orders.adoc", "diffHunk": "@@ -0,0 +1,5 @@\n+Then we insert some orders which contain a unique order id, a customer id, an item id, and a purchase date:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6069f9d324b3f6f9c605b231441425b6dfe5d380"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5Nzk1Njk4OnYy", "diffSide": "RIGHT", "path": "_includes/tutorials/multi-joins/ksql/markup/dev/print-topic.adoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxNjowNjoyM1rOID_XZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxNjoxNTo0M1rOID_v8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA1NDgyMQ==", "bodyText": "nit: Exit the ksqlDB CLI by typing exit", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r541054821", "createdAt": "2020-12-11T16:06:23Z", "author": {"login": "bbejeck"}, "path": "_includes/tutorials/multi-joins/ksql/markup/dev/print-topic.adoc", "diffHunk": "@@ -0,0 +1,13 @@\n+Finally, let's see what's available on the underlying Kafka topic for the new stream. We can print that out easily.\n+\n++++++\n+<pre class=\"snippet\"><code class=\"sql\">{% include_raw tutorials/multi-joins/ksql/code/tutorial-steps/dev/print-topic.sql %}</code></pre>\n++++++\n+\n++++++\n+<pre class=\"snippet\"><code class=\"shell\">{% include_raw tutorials/multi-joins/ksql/code/tutorial-steps/dev/expected-print-topic.log %}</code></pre>\n++++++\n+\n+Notice that the key for each message is the Item ID of the order.  This is the result of the join with the items table being the last join for our `CREATE STREAM` command. The key of the last join will become the key of the records in the underlying topic.\n+\n+Exit the ksqlDB CLI with `Ctrl-d`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ceb71f808d1436f19015576dbc55b59224170c31"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA2MTEwNA==", "bodyText": "Updated in latest", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r541061104", "createdAt": "2020-12-11T16:15:43Z", "author": {"login": "rspurgeon"}, "path": "_includes/tutorials/multi-joins/ksql/markup/dev/print-topic.adoc", "diffHunk": "@@ -0,0 +1,13 @@\n+Finally, let's see what's available on the underlying Kafka topic for the new stream. We can print that out easily.\n+\n++++++\n+<pre class=\"snippet\"><code class=\"sql\">{% include_raw tutorials/multi-joins/ksql/code/tutorial-steps/dev/print-topic.sql %}</code></pre>\n++++++\n+\n++++++\n+<pre class=\"snippet\"><code class=\"shell\">{% include_raw tutorials/multi-joins/ksql/code/tutorial-steps/dev/expected-print-topic.log %}</code></pre>\n++++++\n+\n+Notice that the key for each message is the Item ID of the order.  This is the result of the join with the items table being the last join for our `CREATE STREAM` command. The key of the last join will become the key of the records in the underlying topic.\n+\n+Exit the ksqlDB CLI with `Ctrl-d`.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA1NDgyMQ=="}, "originalCommit": {"oid": "ceb71f808d1436f19015576dbc55b59224170c31"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5Nzk2NDg1OnYy", "diffSide": "RIGHT", "path": "_includes/tutorials/multi-joins/ksql/code/Makefile", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxNjowODowNlrOID_cAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxNjoyMDoxNVrOID_7oQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA1NjAwMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tbash -c \"diff --strip-trailing-cr <(sort <(cut -d ',' -f 2- $(STEPS_DIR)/dev/expected-print-topic.log)) <(sort <(cut -d ',' -f 2- $(DEV_OUTPUTS_DIR)/print-topic/output-0.log))\"\n          \n          \n            \n            \tbash -c \"diff --strip-trailing-cr <(sort <(cut -d ',' -f 2- $(STEPS_DIR)/dev/expected-print-topic.log)) <(sort <(cut -d ',' -f 2- $(DEV_OUTPUTS_DIR)/print-topic/output-0.log))\"\n          \n          \n            \n            \tbash -c \"diff --strip-trailing-cr <(sort $(STEPS_DIR)/test/expected-results.log) <(sort $(TEST_OUTPUTS_DIR)/test-results.log)\"\n          \n      \n    \n    \n  \n\nWould you mind adding a check against the testing section of this tutorial? (might need to double check that this is the same expected test + test results log file name and location)", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r541056001", "createdAt": "2020-12-11T16:08:06Z", "author": {"login": "awalther28"}, "path": "_includes/tutorials/multi-joins/ksql/code/Makefile", "diffHunk": "@@ -0,0 +1,16 @@\n+STEPS_DIR := tutorial-steps\n+DEV_OUTPUTS_DIR := $(STEPS_DIR)/dev/outputs\n+TEST_OUTPUTS_DIR := $(STEPS_DIR)/test/outputs\n+PROD_OUTPUTS_DIR := $(STEPS_DIR)/prod/outputs\n+TEMP_DIR := $(shell mktemp -d)\n+SEQUENCE := \"dev, test, prod, ccloud\"\n+\n+tutorial:\n+\trm -r $(DEV_OUTPUTS_DIR) || true\n+\trm -r $(TEST_OUTPUTS_DIR) || true\n+\tmkdir $(DEV_OUTPUTS_DIR)\n+\tmkdir -p $(TEST_OUTPUTS_DIR)\n+\tharness-runner ../../../../../_data/harnesses/multi-joins/ksql.yml $(TEMP_DIR) $(SEQUENCE)\n+\tdiff --strip-trailing-cr $(STEPS_DIR)/dev/expected-transient-query.log $(DEV_OUTPUTS_DIR)/transient-query/output-0.log\n+\tbash -c \"diff --strip-trailing-cr <(sort <(cut -d ',' -f 2- $(STEPS_DIR)/dev/expected-print-topic.log)) <(sort <(cut -d ',' -f 2- $(DEV_OUTPUTS_DIR)/print-topic/output-0.log))\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ceb71f808d1436f19015576dbc55b59224170c31"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA2NDA5Nw==", "bodyText": "Thanks @awalther28 , I added your suggestion and verified the tests pass.  Thank you", "url": "https://github.com/confluentinc/kafka-tutorials/pull/665#discussion_r541064097", "createdAt": "2020-12-11T16:20:15Z", "author": {"login": "rspurgeon"}, "path": "_includes/tutorials/multi-joins/ksql/code/Makefile", "diffHunk": "@@ -0,0 +1,16 @@\n+STEPS_DIR := tutorial-steps\n+DEV_OUTPUTS_DIR := $(STEPS_DIR)/dev/outputs\n+TEST_OUTPUTS_DIR := $(STEPS_DIR)/test/outputs\n+PROD_OUTPUTS_DIR := $(STEPS_DIR)/prod/outputs\n+TEMP_DIR := $(shell mktemp -d)\n+SEQUENCE := \"dev, test, prod, ccloud\"\n+\n+tutorial:\n+\trm -r $(DEV_OUTPUTS_DIR) || true\n+\trm -r $(TEST_OUTPUTS_DIR) || true\n+\tmkdir $(DEV_OUTPUTS_DIR)\n+\tmkdir -p $(TEST_OUTPUTS_DIR)\n+\tharness-runner ../../../../../_data/harnesses/multi-joins/ksql.yml $(TEMP_DIR) $(SEQUENCE)\n+\tdiff --strip-trailing-cr $(STEPS_DIR)/dev/expected-transient-query.log $(DEV_OUTPUTS_DIR)/transient-query/output-0.log\n+\tbash -c \"diff --strip-trailing-cr <(sort <(cut -d ',' -f 2- $(STEPS_DIR)/dev/expected-print-topic.log)) <(sort <(cut -d ',' -f 2- $(DEV_OUTPUTS_DIR)/print-topic/output-0.log))\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA1NjAwMQ=="}, "originalCommit": {"oid": "ceb71f808d1436f19015576dbc55b59224170c31"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3875, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}