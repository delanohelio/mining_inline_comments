{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI5OTMwODc4", "number": 755, "title": "JENA-1913: Multiple --file on the Fuseki command line", "bodyText": "", "createdAt": "2020-06-07T10:07:46Z", "url": "https://github.com/apache/jena/pull/755", "merged": true, "mergeCommit": {"oid": "217df29a91e6878aa3cf2e96b3b1e58e6340f0b8"}, "closed": true, "closedAt": "2020-06-09T16:45:26Z", "author": {"login": "afs"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABco5GHHgFqTQyNTgwNTc5OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABco5oCBABqjM0MTYyODA3NTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1ODA1Nzk4", "url": "https://github.com/apache/jena/pull/755#pullrequestreview-425805798", "createdAt": "2020-06-07T10:12:31Z", "commit": {"oid": "8c5c277821e958218cd497d271164b3149ea7792"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMDoxMjozMVrOGgIgfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMDoxMzoyOFrOGgIgyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjM0NzAwNg==", "bodyText": ".get(0)? (Spent the day looking at JS and Python, and on mobile, so I might be confusing langs... if so ignore please)", "url": "https://github.com/apache/jena/pull/755#discussion_r436347006", "createdAt": "2020-06-07T10:12:31Z", "author": {"login": "kinow"}, "path": "jena-fuseki2/jena-fuseki-webapp/src/main/java/org/apache/jena/fuseki/cmd/FusekiCmd.java", "diffHunk": "@@ -246,21 +247,26 @@ protected void processModulesAndArgs() {\n             }\n \n             if ( contains(argFile) ) {\n-                String filename = getValue(argFile);\n-                log.info(\"Dataset: in-memory: load file: \" + filename);\n-                String pathname = filename;\n-                if ( filename.startsWith(\"file:\") )\n-                    pathname = filename.substring(\"file:\".length());\n-                if ( !FileOps.exists(filename) )\n-                    throw new CmdException(\"File not found: \" + filename);\n-                cmdLineConfig.datasetDescription = \"file: \"+filename;\n+                List<String> filenames = getValues(argFile);\n                 // Directly populate the dataset.\n                 cmdLineConfig.reset();\n                 cmdLineConfig.dsg = DatasetGraphFactory.createTxnMem();\n-                Lang language = RDFLanguages.filenameToLang(filename);\n-                if ( language == null )\n-                    throw new CmdException(\"Can't guess language for file: \" + filename);\n-                Txn.executeWrite(cmdLineConfig.dsg, ()->RDFDataMgr.read(cmdLineConfig.dsg, filename));\n+                String desc = filenames.size() == 1\n+                    ? \"file: \"+filenames.get(1)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c5c277821e958218cd497d271164b3149ea7792"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjM0NzA4MQ==", "bodyText": "Isn't the parameter the index of the element? Or is it the number of elements to pop/shift?", "url": "https://github.com/apache/jena/pull/755#discussion_r436347081", "createdAt": "2020-06-07T10:13:28Z", "author": {"login": "kinow"}, "path": "jena-fuseki2/jena-fuseki-main/src/main/java/org/apache/jena/fuseki/main/cmds/FusekiMain.java", "diffHunk": "@@ -282,21 +282,26 @@ protected void processModulesAndArgs() {\n         }\n \n         if ( contains(argFile) ) {\n-            String filename = getValue(argFile);\n-            String pathname = filename;\n-            if ( filename.startsWith(\"file:\") )\n-                pathname = filename.substring(\"file:\".length());\n-\n-            serverConfig.datasetDescription = \"file:\"+filename;\n-            if ( !FileOps.exists(pathname) )\n-                throw new CmdException(\"File not found: \" + filename);\n-            serverConfig.dsg = DatasetGraphFactory.createTxnMem();\n-\n-            // INITIAL DATA.\n-            Lang language = RDFLanguages.filenameToLang(filename);\n-            if ( language == null )\n-                throw new CmdException(\"Can't guess language for file: \" + filename);\n-            Txn.executeWrite(serverConfig.dsg,  ()->RDFDataMgr.read(serverConfig.dsg, filename));\n+            List<String> filenames = getValues(argFile);\n+            String desc = filenames.size() == 1\n+                ? \"file: \"+filenames.get(1)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c5c277821e958218cd497d271164b3149ea7792"}, "originalPosition": 21}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8c5c277821e958218cd497d271164b3149ea7792", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/8c5c277821e958218cd497d271164b3149ea7792", "committedDate": "2020-06-07T10:06:41Z", "message": "JENA-1913: Multiple --file on the Fuseki command line"}, "afterCommit": {"oid": "2494957b489a0d010ee51e3455fb33f891a1d90c", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/2494957b489a0d010ee51e3455fb33f891a1d90c", "committedDate": "2020-06-07T10:18:22Z", "message": "JENA-1913: Multiple --file on the Fuseki command line"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1ODA3NTIy", "url": "https://github.com/apache/jena/pull/755#pullrequestreview-425807522", "createdAt": "2020-06-07T10:39:30Z", "commit": {"oid": "2494957b489a0d010ee51e3455fb33f891a1d90c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07382a566d1bd0a7d274daaf06722d5254a8bf9e", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/07382a566d1bd0a7d274daaf06722d5254a8bf9e", "committedDate": "2020-06-07T10:51:14Z", "message": "JENA-1913: Multiple --file on the Fuseki command line"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2494957b489a0d010ee51e3455fb33f891a1d90c", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/2494957b489a0d010ee51e3455fb33f891a1d90c", "committedDate": "2020-06-07T10:18:22Z", "message": "JENA-1913: Multiple --file on the Fuseki command line"}, "afterCommit": {"oid": "07382a566d1bd0a7d274daaf06722d5254a8bf9e", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/07382a566d1bd0a7d274daaf06722d5254a8bf9e", "committedDate": "2020-06-07T10:51:14Z", "message": "JENA-1913: Multiple --file on the Fuseki command line"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3043, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}