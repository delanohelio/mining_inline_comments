{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwNTE0MDUw", "number": 775, "title": "JENA-1937: SHACL Compact Syntax Writer", "bodyText": "Write the SHACL shapes datatstructure as SHACL Compact Syntax.\nSHACL-C can not represent all SHCL constructs. There are no guarantees what happens if the shapes tree can not be written  although mostly a partial tree is written (it's a streaming writer) and an exception thrown.\nIncludes a lot of tiding up of jena-shacl. The large number of file changes is due mostly to renaming jena-shacl/src/test/resources (a quick fix for the 3.16.0 release) as jena-shacl/src/test/files, taking the test files out of the area made access to the classpath to a specific \"files\" area without encountering the problems with any files with the string \"target\" in the name.", "createdAt": "2020-07-16T21:02:17Z", "url": "https://github.com/apache/jena/pull/775", "merged": true, "mergeCommit": {"oid": "546e3c5522ea75a8a846adaad7d49a95adf969cc"}, "closed": true, "closedAt": "2020-07-17T15:40:52Z", "author": {"login": "afs"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcz295VAH2gAyNDUwNTE0MDUwOjhjMDA0Nzg1NjBkMzcyNmVkOWQyZmIyOWNhYzRlZDY1NTY3NDNiY2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc11u-ogH2gAyNDUwNTE0MDUwOjgwN2YwNmQ5ZmRlNTM1ZjYyNjgzY2FjOWVmZTRhZGNiZmMzMThjM2Q=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8c00478560d3726ed9d2fb29cac4ed6556743bcb", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/8c00478560d3726ed9d2fb29cac4ed6556743bcb", "committedDate": "2020-07-11T11:58:42Z", "message": "JENA-1937: SHACLC writer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "918df109dedd922d06b47c7488c2bcd39bba9b13", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/918df109dedd922d06b47c7488c2bcd39bba9b13", "committedDate": "2020-07-11T12:00:04Z", "message": "JENA-1937: Move tests to src/test/files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5eca828d437a0fb85c089d5038828e4279d1c1cb", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/5eca828d437a0fb85c089d5038828e4279d1c1cb", "committedDate": "2020-07-15T18:42:56Z", "message": "JENA-1937: More SHACLC writer; clearup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa61fb956b93ee4768b04c842698e8102707bf12", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/aa61fb956b93ee4768b04c842698e8102707bf12", "committedDate": "2020-07-16T20:51:07Z", "message": "Code cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNTgyMDQ3", "url": "https://github.com/apache/jena/pull/775#pullrequestreview-450582047", "createdAt": "2020-07-17T11:30:44Z", "commit": {"oid": "aa61fb956b93ee4768b04c842698e8102707bf12"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMTozMDo0NFrOGzPimg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMTozMDo1OFrOGzPi_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM4NTE3OA==", "bodyText": "the datatype= was intentional or accidentally?", "url": "https://github.com/apache/jena/pull/775#discussion_r456385178", "createdAt": "2020-07-17T11:30:44Z", "author": {"login": "kinow"}, "path": "jena-shacl/src/main/java/org/apache/jena/shacl/lib/ShLib.java", "diffHunk": "@@ -195,6 +208,25 @@ public static boolean isImmediate(Target target) {\n         return targetType.equals(TargetType.targetObjectsOf) || targetType.equals(TargetType.targetSubjectsOf);\n     }\n \n+    static Set<String> rdfDatatypes = new HashSet<>();\n+    static {\n+        rdfDatatypes.add(RDF.dtLangString.getURI());\n+        rdfDatatypes.add(RDF.dtRDFHTML.getURI());\n+        rdfDatatypes.add(RDF.dtRDFJSON.getURI());\n+        rdfDatatypes.add(RDF.dtXMLLiteral.getURI());\n+    }\n+\n+\n+\n+    /** Test whether the IRI is a datatype that can be written in compact short form (no datatype=)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa61fb956b93ee4768b04c842698e8102707bf12"}, "originalPosition": 107}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM4NTI3OA==", "bodyText": "s/us/is ?", "url": "https://github.com/apache/jena/pull/775#discussion_r456385278", "createdAt": "2020-07-17T11:30:58Z", "author": {"login": "kinow"}, "path": "jena-shacl/src/main/java/org/apache/jena/shacl/lib/ShLib.java", "diffHunk": "@@ -195,6 +208,25 @@ public static boolean isImmediate(Target target) {\n         return targetType.equals(TargetType.targetObjectsOf) || targetType.equals(TargetType.targetSubjectsOf);\n     }\n \n+    static Set<String> rdfDatatypes = new HashSet<>();\n+    static {\n+        rdfDatatypes.add(RDF.dtLangString.getURI());\n+        rdfDatatypes.add(RDF.dtRDFHTML.getURI());\n+        rdfDatatypes.add(RDF.dtRDFJSON.getURI());\n+        rdfDatatypes.add(RDF.dtXMLLiteral.getURI());\n+    }\n+\n+\n+\n+    /** Test whether the IRI is a datatype that can be written in compact short form (no datatype=)\n+     * This test us used by the SHACL compact parser in {@code ShaclCompactParser.rPropertyType}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa61fb956b93ee4768b04c842698e8102707bf12"}, "originalPosition": 108}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "807f06d9fde535f62683cac9efe4adcbfc318c3d", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/807f06d9fde535f62683cac9efe4adcbfc318c3d", "committedDate": "2020-07-17T15:40:21Z", "message": "JENA-1937: Fix comment in response to review"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3051, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}