{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4OTAxMDI5", "number": 783, "title": "JENA-1944: RDF Thrift tidy-up", "bodyText": "and update notes about a test that fails only on certain ASF Jenkins nodes.", "createdAt": "2020-08-17T15:23:26Z", "url": "https://github.com/apache/jena/pull/783", "merged": true, "mergeCommit": {"oid": "1a276ecd9e696f5087c70df8320d65e4fd5f4176"}, "closed": true, "closedAt": "2020-08-18T20:36:10Z", "author": {"login": "afs"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc_0DJsgH2gAyNDY4OTAxMDI5Ojk4NjRmNTMxOWZhNmQ2OTBlYTZlYTI4NGRiNmY1N2ExMGU0ZmVhMjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc_4-8ogH2gAyNDY4OTAxMDI5OjUwYmQ1MWY0NDM0Mjk3MzgzMmRkN2RjZjhhNTJmZDE4OTUyMDg5ZmU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9864f5319fa6d690ea6ea284db6f57a10e4fea24", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/9864f5319fa6d690ea6ea284db6f57a10e4fea24", "committedDate": "2020-08-17T15:21:49Z", "message": "JENA-1944: RDF Thrift tidy-up."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a017d3fe5fb78ff355b1c4dfe2bce53f2e702d46", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/a017d3fe5fb78ff355b1c4dfe2bce53f2e702d46", "committedDate": "2020-08-17T15:21:49Z", "message": "Minor tidying."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4ODAxOTgy", "url": "https://github.com/apache/jena/pull/783#pullrequestreview-468801982", "createdAt": "2020-08-17T20:15:32Z", "commit": {"oid": "a017d3fe5fb78ff355b1c4dfe2bce53f2e702d46"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QyMDoxNTozMlrOHB5YCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QyMDoxNTozMlrOHB5YCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTc1MDY2Nw==", "bodyText": "Should it go to a Logger instead? Or is it expected to be written to stderr?", "url": "https://github.com/apache/jena/pull/783#discussion_r471750667", "createdAt": "2020-08-17T20:15:32Z", "author": {"login": "kinow"}, "path": "jena-arq/src/main/java/org/apache/jena/riot/RDFParserRegistry.java", "diffHunk": "@@ -206,14 +206,24 @@ public ReaderRIOT create(Lang language, ParserProfile profile) {\n     private static class ReaderRIOTFactoryThrift implements ReaderRIOTFactory {\n         @Override\n         public ReaderRIOT create(Lang language, ParserProfile profile) {\n-            return new ReaderRDFThrift() ;\n+            return new ReaderRDFThrift(profile) ;\n         }\n     }\n \n     private static class ReaderRDFThrift implements ReaderRIOT {\n+        private final ParserProfile profile; \n+        public ReaderRDFThrift(ParserProfile profile) { this.profile = profile; }\n+\n         @Override\n         public void read(InputStream in, String baseURI, ContentType ct, StreamRDF output, Context context) {\n-            BinRDF.inputStreamToStream(in, output) ;\n+            try {\n+                BinRDF.inputStreamToStream(in, output);\n+            } catch (RiotException ex) {\n+                if ( profile != null && profile.getErrorHandler() != null )\n+                    profile.getErrorHandler().error(ex.getMessage(), -1, -1);\n+                else\n+                    System.err.println(ex.getMessage());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a017d3fe5fb78ff355b1c4dfe2bce53f2e702d46"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50bd51f44342973832dd7dcf8a52fd18952089fe", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/50bd51f44342973832dd7dcf8a52fd18952089fe", "committedDate": "2020-08-17T21:06:45Z", "message": "JENA-1944: Log Thrift errors, always throw exception."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2929, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}