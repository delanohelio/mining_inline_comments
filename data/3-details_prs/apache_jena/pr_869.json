{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1MjgwMzU2", "number": 869, "title": "Release preparation", "bodyText": "Some changes find during preparing for release of 3.17.0.\n\nJENA-1987 - check validity during request\nTest clear up to remove output in the build\nOpFind (RDF*) bug", "createdAt": "2020-11-22T13:02:56Z", "url": "https://github.com/apache/jena/pull/869", "merged": true, "mergeCommit": {"oid": "0133fb0a43f6f1a6659a7ad0b172dd3e986fdd96"}, "closed": true, "closedAt": "2020-11-23T13:21:28Z", "author": {"login": "afs"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfAAGmAH2gAyNTI1MjgwMzU2OjY1ZTNkZWMxYTM0MjJjZDQ1MzA5OTVmNTU2YjUxYzU1MDI0ZTQ4YTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfU5M0ABqjQwMjc1Njc0Nzg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "65e3dec1a3422cd4530995f556b51c55024e48a5", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/65e3dec1a3422cd4530995f556b51c55024e48a5", "committedDate": "2020-11-22T12:49:00Z", "message": "Add webapp logging settings in case this file is used (development)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cea9a99a5368077c42077f6438aa7687f8496202", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/cea9a99a5368077c42077f6438aa7687f8496202", "committedDate": "2020-11-22T12:50:09Z", "message": "Vars for OpFind"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e45a0420e66b473017e920966e058474b97a1ea8", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/e45a0420e66b473017e920966e058474b97a1ea8", "committedDate": "2020-11-22T12:51:53Z", "message": "Better Fuseki setup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MTE0MzU5", "url": "https://github.com/apache/jena/pull/869#pullrequestreview-536114359", "createdAt": "2020-11-22T20:58:48Z", "commit": {"oid": "2c3c68b06b19e29e7aaa09d7e9c2c3cd4f68a324"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMlQyMDo1ODo0OVrOH37L6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMlQyMDo1ODo0OVrOH37L6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQwMzQzNQ==", "bodyText": "missing space after comma (just in case it might be picked later by linter/IDE/etc?)", "url": "https://github.com/apache/jena/pull/869#discussion_r528403435", "createdAt": "2020-11-22T20:58:49Z", "author": {"login": "kinow"}, "path": "jena-fuseki2/jena-fuseki-webapp/src/main/java/org/apache/jena/fuseki/mgt/Backup.java", "diffHunk": "@@ -61,18 +61,15 @@ public static String chooseFileName(String dsName) {\n     // same dataset multiple times at the same time.\n     private static Set<DatasetGraph> activeBackups = Collections.newSetFromMap(new ConcurrentHashMap<>());\n \n-    /** Perform a backup.\n-     *  A backup is a dump of the dataset in compressed N-Quads, done inside a transaction.\n+    /**\n+     * Perform a backup.\n+     * <p>\n+     * A backup is a dump of the dataset in compressed N-Quads, done inside a transaction.\n      */\n     public static void backup(Transactional transactional, DatasetGraph dsg, String backupfile) {\n         if ( transactional == null )\n             transactional = new TransactionalNull();\n-        transactional.begin(ReadWrite.READ);\n-        try {\n-            Backup.backup(dsg, backupfile);\n-        } finally {\n-            transactional.end();\n-        }\n+        Txn.executeRead(transactional,()->backup(dsg, backupfile));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c3c68b06b19e29e7aaa09d7e9c2c3cd4f68a324"}, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29cd5c11917f3ae5bc1777d870f4263471f5f646", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/29cd5c11917f3ae5bc1777d870f4263471f5f646", "committedDate": "2020-11-23T13:08:54Z", "message": "JENA-1987: Checking during request processing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2c3c68b06b19e29e7aaa09d7e9c2c3cd4f68a324", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/2c3c68b06b19e29e7aaa09d7e9c2c3cd4f68a324", "committedDate": "2020-11-22T12:52:55Z", "message": "JENA-1987: Checking during request processing"}, "afterCommit": {"oid": "29cd5c11917f3ae5bc1777d870f4263471f5f646", "author": {"user": {"login": "afs", "name": "Andy Seaborne"}}, "url": "https://github.com/apache/jena/commit/29cd5c11917f3ae5bc1777d870f4263471f5f646", "committedDate": "2020-11-23T13:08:54Z", "message": "JENA-1987: Checking during request processing"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2974, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}