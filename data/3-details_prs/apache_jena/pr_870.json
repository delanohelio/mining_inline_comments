{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2NjkyMDg1", "number": 870, "title": "JENA-2002: Add public getters to SHACL constraint implementations", "bodyText": "As documented in https://issues.apache.org/jira/browse/JENA-2002, this commit adds public getters for accessing internal data in SHACL constraints.", "createdAt": "2020-11-24T19:00:48Z", "url": "https://github.com/apache/jena/pull/870", "merged": true, "mergeCommit": {"oid": "0c8bf0d07b94298555f713ceeaf082c748f4d945"}, "closed": true, "closedAt": "2020-12-06T11:34:12Z", "author": {"login": "fkleedorfer"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfubHIAH2gAyNTI2NjkyMDg1OjgwZTdkYjFhYjdjOTY2ZTNmOGM5YzNiYTE1NmE3YTYzYjVkMmMwZGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdidOfUAH2gAyNTI2NjkyMDg1OjY1MTc4NzFhNTczNmU2MjgzZTM3ZTBkM2MzOTNiMWQzYTJiODhmODA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "80e7db1ab7c966e3f8c9c3ba156a7a63b5d2c0db", "author": {"user": {"login": "fkleedorfer", "name": "Florian Kleedorfer"}}, "url": "https://github.com/apache/jena/commit/80e7db1ab7c966e3f8c9c3ba156a7a63b5d2c0db", "committedDate": "2020-11-24T18:54:08Z", "message": "Add public getters to SHACL constraint implementations\n\nAs documented in https://issues.apache.org/jira/browse/JENA-2002, this commit adds public getters for accessing internal data in SHACL constraints."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3ODU2OTcy", "url": "https://github.com/apache/jena/pull/870#pullrequestreview-537856972", "createdAt": "2020-11-24T19:55:42Z", "commit": {"oid": "80e7db1ab7c966e3f8c9c3ba156a7a63b5d2c0db"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxOTo1NTo0MlrOH5S7Ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxOTo1NTo0MlrOH5S7Ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg0MDkzMA==", "bodyText": "Not sure if there's any risk here (or in the other getters that return objects and lists) to have concurrency issues. If so, we could copy the underlying object/collection.", "url": "https://github.com/apache/jena/pull/870#discussion_r529840930", "createdAt": "2020-11-24T19:55:42Z", "author": {"login": "kinow"}, "path": "jena-shacl/src/main/java/org/apache/jena/shacl/engine/constraint/ConstraintComponentSPARQL.java", "diffHunk": "@@ -59,6 +59,18 @@ public ConstraintComponentSPARQL(SparqlComponent sparqlConstraintComponent,\n         }\n     }\n \n+    public SparqlComponent getSparqlConstraintComponent() {\n+        return sparqlConstraintComponent;\n+    }\n+\n+    public Multimap<Parameter, Node> getParameterMap() {\n+        return parameterMap;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80e7db1ab7c966e3f8c9c3ba156a7a63b5d2c0db"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d18a98ac109d71e16f4f41f42f5d5c682c95ac16", "author": {"user": {"login": "fkleedorfer", "name": "Florian Kleedorfer"}}, "url": "https://github.com/apache/jena/commit/d18a98ac109d71e16f4f41f42f5d5c682c95ac16", "committedDate": "2020-11-25T10:24:52Z", "message": "Change getters on SHACL Constraints to return unmodifiable / cloned data"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4MzYwMDE2", "url": "https://github.com/apache/jena/pull/870#pullrequestreview-538360016", "createdAt": "2020-11-25T10:34:26Z", "commit": {"oid": "d18a98ac109d71e16f4f41f42f5d5c682c95ac16"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5MDk1ODUx", "url": "https://github.com/apache/jena/pull/870#pullrequestreview-539095851", "createdAt": "2020-11-26T08:39:42Z", "commit": {"oid": "d18a98ac109d71e16f4f41f42f5d5c682c95ac16"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyMTcwNDU3", "url": "https://github.com/apache/jena/pull/870#pullrequestreview-542170457", "createdAt": "2020-12-01T18:13:57Z", "commit": {"oid": "d18a98ac109d71e16f4f41f42f5d5c682c95ac16"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxODoxMzo1OFrOH85qmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxODoyMToxOVrOH858sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzYyMTQwMQ==", "bodyText": "Not sure if this the best thing to do. The subclass for max and min already have accessors.\nBeing an abstract class, CardinalityConstraint can't be created directly.\n\"MaxCount\" have a \"getMinCount\" function is a bit strange. If there were a general min and max at the same time constraint, then on the superclass would make more sense but there isn't.\nPlease remove theses and use overrides in the subclasses.", "url": "https://github.com/apache/jena/pull/870#discussion_r533621401", "createdAt": "2020-12-01T18:13:58Z", "author": {"login": "afs"}, "path": "jena-shacl/src/main/java/org/apache/jena/shacl/engine/constraint/CardinalityConstraint.java", "diffHunk": "@@ -38,7 +38,15 @@ public void validateNodeShape(ValidationContext vCxt, Graph data, Shape shape, N\n         // Node shape with cardinality. Can this usefully be checked for in the parser?\n         throw new ShaclParseException(\"Cardinality constraint on a node shape\");\n     }\n-    \n+\n+    public int getMinCount(){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d18a98ac109d71e16f4f41f42f5d5c682c95ac16"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzYyMjczMA==", "bodyText": "Minor: \"generateViolation\" read better.", "url": "https://github.com/apache/jena/pull/870#discussion_r533622730", "createdAt": "2020-12-01T18:16:06Z", "author": {"login": "afs"}, "path": "jena-shacl/src/main/java/org/apache/jena/shacl/engine/constraint/JViolationConstraint.java", "diffHunk": "@@ -35,6 +35,10 @@ public JViolationConstraint(boolean generateViolation) {\n         this.generateViolation = generateViolation;\n     }\n \n+    public boolean isGenerateViolation() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d18a98ac109d71e16f4f41f42f5d5c682c95ac16"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzYyNTEwNw==", "bodyText": "Minor: I'd prefer not the Pattern because it is an internal term, and then have the pattern string as getPattern().\nIt is exposing the information once, not in two different ways.", "url": "https://github.com/apache/jena/pull/870#discussion_r533625107", "createdAt": "2020-12-01T18:19:51Z", "author": {"login": "afs"}, "path": "jena-shacl/src/main/java/org/apache/jena/shacl/engine/constraint/PatternConstraint.java", "diffHunk": "@@ -53,6 +53,18 @@ public PatternConstraint(String pattern, String flagsStr) {\n         this.pattern = Pattern.compile(pattern, flags);\n     }\n \n+    public Pattern getPattern() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d18a98ac109d71e16f4f41f42f5d5c682c95ac16"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzYyNjAzNA==", "bodyText": "AutoCase does not work out! And \"Q\" does work that well either! How about public int qMin()?", "url": "https://github.com/apache/jena/pull/870#discussion_r533626034", "createdAt": "2020-12-01T18:21:19Z", "author": {"login": "afs"}, "path": "jena-shacl/src/main/java/org/apache/jena/shacl/engine/constraint/QualifiedValueShape.java", "diffHunk": "@@ -50,6 +50,22 @@ public QualifiedValueShape(Shape sub, int qMin, int qMax, boolean qDisjoint) {\n         this.qDisjoint = qDisjoint;\n     }\n \n+    public Shape getSub() {\n+        return sub;\n+    }\n+\n+    public int getqMin() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d18a98ac109d71e16f4f41f42f5d5c682c95ac16"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6517871a5736e6283e37e0d3c393b1d3a2b88f80", "author": {"user": {"login": "fkleedorfer", "name": "Florian Kleedorfer"}}, "url": "https://github.com/apache/jena/commit/6517871a5736e6283e37e0d3c393b1d3a2b88f80", "committedDate": "2020-12-03T06:33:44Z", "message": "Minor adaptations to SHACL Constraint getters"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2977, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}