{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI5OTMwODc4", "number": 755, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMDoxMjozMVrOEDOZxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMDoxMzoyOFrOEDOZ9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxODE3MTU4OnYy", "diffSide": "RIGHT", "path": "jena-fuseki2/jena-fuseki-webapp/src/main/java/org/apache/jena/fuseki/cmd/FusekiCmd.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMDoxMjozMVrOGgIgfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMDozMjozN1rOGgIm5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjM0NzAwNg==", "bodyText": ".get(0)? (Spent the day looking at JS and Python, and on mobile, so I might be confusing langs... if so ignore please)", "url": "https://github.com/apache/jena/pull/755#discussion_r436347006", "createdAt": "2020-06-07T10:12:31Z", "author": {"login": "kinow"}, "path": "jena-fuseki2/jena-fuseki-webapp/src/main/java/org/apache/jena/fuseki/cmd/FusekiCmd.java", "diffHunk": "@@ -246,21 +247,26 @@ protected void processModulesAndArgs() {\n             }\n \n             if ( contains(argFile) ) {\n-                String filename = getValue(argFile);\n-                log.info(\"Dataset: in-memory: load file: \" + filename);\n-                String pathname = filename;\n-                if ( filename.startsWith(\"file:\") )\n-                    pathname = filename.substring(\"file:\".length());\n-                if ( !FileOps.exists(filename) )\n-                    throw new CmdException(\"File not found: \" + filename);\n-                cmdLineConfig.datasetDescription = \"file: \"+filename;\n+                List<String> filenames = getValues(argFile);\n                 // Directly populate the dataset.\n                 cmdLineConfig.reset();\n                 cmdLineConfig.dsg = DatasetGraphFactory.createTxnMem();\n-                Lang language = RDFLanguages.filenameToLang(filename);\n-                if ( language == null )\n-                    throw new CmdException(\"Can't guess language for file: \" + filename);\n-                Txn.executeWrite(cmdLineConfig.dsg, ()->RDFDataMgr.read(cmdLineConfig.dsg, filename));\n+                String desc = filenames.size() == 1\n+                    ? \"file: \"+filenames.get(1)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c5c277821e958218cd497d271164b3149ea7792"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjM0ODY0NA==", "bodyText": "Arrg! .get(0) both times (quick fix applied).\nThe messages need refining as well. Logging works different in the two different server startup sequences (\"legacy\" - sigh).", "url": "https://github.com/apache/jena/pull/755#discussion_r436348644", "createdAt": "2020-06-07T10:32:37Z", "author": {"login": "afs"}, "path": "jena-fuseki2/jena-fuseki-webapp/src/main/java/org/apache/jena/fuseki/cmd/FusekiCmd.java", "diffHunk": "@@ -246,21 +247,26 @@ protected void processModulesAndArgs() {\n             }\n \n             if ( contains(argFile) ) {\n-                String filename = getValue(argFile);\n-                log.info(\"Dataset: in-memory: load file: \" + filename);\n-                String pathname = filename;\n-                if ( filename.startsWith(\"file:\") )\n-                    pathname = filename.substring(\"file:\".length());\n-                if ( !FileOps.exists(filename) )\n-                    throw new CmdException(\"File not found: \" + filename);\n-                cmdLineConfig.datasetDescription = \"file: \"+filename;\n+                List<String> filenames = getValues(argFile);\n                 // Directly populate the dataset.\n                 cmdLineConfig.reset();\n                 cmdLineConfig.dsg = DatasetGraphFactory.createTxnMem();\n-                Lang language = RDFLanguages.filenameToLang(filename);\n-                if ( language == null )\n-                    throw new CmdException(\"Can't guess language for file: \" + filename);\n-                Txn.executeWrite(cmdLineConfig.dsg, ()->RDFDataMgr.read(cmdLineConfig.dsg, filename));\n+                String desc = filenames.size() == 1\n+                    ? \"file: \"+filenames.get(1)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjM0NzAwNg=="}, "originalCommit": {"oid": "8c5c277821e958218cd497d271164b3149ea7792"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxODE3MjA2OnYy", "diffSide": "RIGHT", "path": "jena-fuseki2/jena-fuseki-main/src/main/java/org/apache/jena/fuseki/main/cmds/FusekiMain.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMDoxMzoyOFrOGgIgyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QxMDoxMzoyOFrOGgIgyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjM0NzA4MQ==", "bodyText": "Isn't the parameter the index of the element? Or is it the number of elements to pop/shift?", "url": "https://github.com/apache/jena/pull/755#discussion_r436347081", "createdAt": "2020-06-07T10:13:28Z", "author": {"login": "kinow"}, "path": "jena-fuseki2/jena-fuseki-main/src/main/java/org/apache/jena/fuseki/main/cmds/FusekiMain.java", "diffHunk": "@@ -282,21 +282,26 @@ protected void processModulesAndArgs() {\n         }\n \n         if ( contains(argFile) ) {\n-            String filename = getValue(argFile);\n-            String pathname = filename;\n-            if ( filename.startsWith(\"file:\") )\n-                pathname = filename.substring(\"file:\".length());\n-\n-            serverConfig.datasetDescription = \"file:\"+filename;\n-            if ( !FileOps.exists(pathname) )\n-                throw new CmdException(\"File not found: \" + filename);\n-            serverConfig.dsg = DatasetGraphFactory.createTxnMem();\n-\n-            // INITIAL DATA.\n-            Lang language = RDFLanguages.filenameToLang(filename);\n-            if ( language == null )\n-                throw new CmdException(\"Can't guess language for file: \" + filename);\n-            Txn.executeWrite(serverConfig.dsg,  ()->RDFDataMgr.read(serverConfig.dsg, filename));\n+            List<String> filenames = getValues(argFile);\n+            String desc = filenames.size() == 1\n+                ? \"file: \"+filenames.get(1)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c5c277821e958218cd497d271164b3149ea7792"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4593, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}