{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2NjI4Mjk0", "number": 2276, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOTozOTo0NVrOD-I0Ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQwODowMTo0NFrOEDVpeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NDgyNzA3OnYy", "diffSide": "RIGHT", "path": "operation-runner/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOTozOTo0NVrOGYDheQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOTozOTo0NVrOGYDheQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzg3NjcyOQ==", "bodyText": "As this is designed to be a command line tool, it might be better to leave these out and the user can include them if they need to. Also when running with Accumulo the dependencies are included automatically as iterators. By doing this we can shrink the size of the actual Jar", "url": "https://github.com/gchq/Gaffer/pull/2276#discussion_r427876729", "createdAt": "2020-05-20T09:39:45Z", "author": {"login": "d47853"}, "path": "operation-runner/pom.xml", "diffHunk": "@@ -0,0 +1,120 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>gaffer2</artifactId>\n+        <groupId>uk.gov.gchq.gaffer</groupId>\n+        <version>1.12.1-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>operation-runner</artifactId>\n+\n+    <dependencies>\n+\n+        <dependency>\n+            <groupId>uk.gov.gchq.gaffer</groupId>\n+            <artifactId>graph</artifactId>\n+            <version>${project.parent.version}</version>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>uk.gov.gchq.gaffer</groupId>\n+            <artifactId>bitmap-library</artifactId>\n+            <version>${project.parent.version}</version>\n+            <classifier>deploy</classifier>\n+        </dependency>\n+        <dependency>\n+            <groupId>uk.gov.gchq.gaffer</groupId>\n+            <artifactId>sketches-library</artifactId>\n+            <version>${project.parent.version}</version>\n+            <classifier>deploy</classifier>\n+        </dependency>\n+        <dependency>\n+            <groupId>uk.gov.gchq.gaffer</groupId>\n+            <artifactId>time-library</artifactId>\n+            <version>${project.parent.version}</version>\n+            <classifier>deploy</classifier>\n+        </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2a7dc47a5c120328d7b05d2f717869f2254cd04"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NDg3NDA3OnYy", "diffSide": "RIGHT", "path": "operation-runner/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOTo1MjowN1rOGYD_OA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOTo1MjowN1rOGYD_OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzg4NDM0NA==", "bodyText": "Including Hadoop as a dependency might cause issues with deploying onto different versions. It might be better to rely on the user using the Hadoop classpath on their cluster. Again with Accumulo, the hadoop client jars are included in the iterators. With Hbase, you can do a similar thing with hbase classpath. Removing these should reduce the size of the build artefact without sacrificing functionality, provided the correct classpath is provided by the user.", "url": "https://github.com/gchq/Gaffer/pull/2276#discussion_r427884344", "createdAt": "2020-05-20T09:52:07Z", "author": {"login": "d47853"}, "path": "operation-runner/pom.xml", "diffHunk": "@@ -0,0 +1,120 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>gaffer2</artifactId>\n+        <groupId>uk.gov.gchq.gaffer</groupId>\n+        <version>1.12.1-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>operation-runner</artifactId>\n+\n+    <dependencies>\n+\n+        <dependency>\n+            <groupId>uk.gov.gchq.gaffer</groupId>\n+            <artifactId>graph</artifactId>\n+            <version>${project.parent.version}</version>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>uk.gov.gchq.gaffer</groupId>\n+            <artifactId>bitmap-library</artifactId>\n+            <version>${project.parent.version}</version>\n+            <classifier>deploy</classifier>\n+        </dependency>\n+        <dependency>\n+            <groupId>uk.gov.gchq.gaffer</groupId>\n+            <artifactId>sketches-library</artifactId>\n+            <version>${project.parent.version}</version>\n+            <classifier>deploy</classifier>\n+        </dependency>\n+        <dependency>\n+            <groupId>uk.gov.gchq.gaffer</groupId>\n+            <artifactId>time-library</artifactId>\n+            <version>${project.parent.version}</version>\n+            <classifier>deploy</classifier>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>com.beust</groupId>\n+            <artifactId>jcommander</artifactId>\n+            <version>${jcommander.version}</version>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>org.apache.hadoop</groupId>\n+            <artifactId>hadoop-hdfs</artifactId>\n+            <version>${hadoop.version}</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.hadoop</groupId>\n+            <artifactId>hadoop-yarn-client</artifactId>\n+            <version>${hadoop.version}</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.hadoop</groupId>\n+            <artifactId>hadoop-client</artifactId>\n+            <version>${hadoop.version}</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.hadoop</groupId>\n+            <artifactId>hadoop-mapreduce-client-common</artifactId>\n+            <version>${hadoop.version}</version>\n+            <scope>compile</scope>\n+        </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2a7dc47a5c120328d7b05d2f717869f2254cd04"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NDg3NzU2OnYy", "diffSide": "RIGHT", "path": "operation-runner/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOTo1MzowMVrOGYEBYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwOTo1MzowMVrOGYEBYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzg4NDg5Nw==", "bodyText": "This should be store agnostic and so should not require store dependencies. These should be provided by the user at runtime.", "url": "https://github.com/gchq/Gaffer/pull/2276#discussion_r427884897", "createdAt": "2020-05-20T09:53:01Z", "author": {"login": "d47853"}, "path": "operation-runner/pom.xml", "diffHunk": "@@ -0,0 +1,120 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>gaffer2</artifactId>\n+        <groupId>uk.gov.gchq.gaffer</groupId>\n+        <version>1.12.1-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>operation-runner</artifactId>\n+\n+    <dependencies>\n+\n+        <dependency>\n+            <groupId>uk.gov.gchq.gaffer</groupId>\n+            <artifactId>graph</artifactId>\n+            <version>${project.parent.version}</version>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>uk.gov.gchq.gaffer</groupId>\n+            <artifactId>bitmap-library</artifactId>\n+            <version>${project.parent.version}</version>\n+            <classifier>deploy</classifier>\n+        </dependency>\n+        <dependency>\n+            <groupId>uk.gov.gchq.gaffer</groupId>\n+            <artifactId>sketches-library</artifactId>\n+            <version>${project.parent.version}</version>\n+            <classifier>deploy</classifier>\n+        </dependency>\n+        <dependency>\n+            <groupId>uk.gov.gchq.gaffer</groupId>\n+            <artifactId>time-library</artifactId>\n+            <version>${project.parent.version}</version>\n+            <classifier>deploy</classifier>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>com.beust</groupId>\n+            <artifactId>jcommander</artifactId>\n+            <version>${jcommander.version}</version>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>org.apache.hadoop</groupId>\n+            <artifactId>hadoop-hdfs</artifactId>\n+            <version>${hadoop.version}</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.hadoop</groupId>\n+            <artifactId>hadoop-yarn-client</artifactId>\n+            <version>${hadoop.version}</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.hadoop</groupId>\n+            <artifactId>hadoop-client</artifactId>\n+            <version>${hadoop.version}</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.hadoop</groupId>\n+            <artifactId>hadoop-mapreduce-client-common</artifactId>\n+            <version>${hadoop.version}</version>\n+            <scope>compile</scope>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>uk.gov.gchq.gaffer</groupId>\n+            <artifactId>accumulo-store</artifactId>\n+            <version>${project.parent.version}</version>\n+            <classifier>iterators</classifier>\n+        </dependency>\n+        <dependency>\n+            <groupId>uk.gov.gchq.gaffer</groupId>\n+            <artifactId>hbase-store</artifactId>\n+            <version>${project.parent.version}</version>\n+            <classifier>deploy</classifier>\n+        </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2a7dc47a5c120328d7b05d2f717869f2254cd04"}, "originalPosition": 80}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxOTM1ODY2OnYy", "diffSide": "RIGHT", "path": "core/store/src/main/java/uk/gov/gchq/gaffer/store/Context.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQwODowMTo0NFrOGgTBuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQwODowMTo0NFrOGgTBuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUxOTM1NQ==", "bodyText": "It might be worth extending this class in the operation-runner module rather than adding this code here.", "url": "https://github.com/gchq/Gaffer/pull/2276#discussion_r436519355", "createdAt": "2020-06-08T08:01:44Z", "author": {"login": "d47853"}, "path": "core/store/src/main/java/uk/gov/gchq/gaffer/store/Context.java", "diffHunk": "@@ -34,6 +34,7 @@\n  * as the user who executed the operation chain and a map of {@link Exporter}s.\n  */\n public class Context {\n+    public static final String COMMAND_LINE_ARGS_CONFIG_KEY = \"config.command.line.args\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5417ab832bbf47f3284182ad3725978b20bae6cd"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4376, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}