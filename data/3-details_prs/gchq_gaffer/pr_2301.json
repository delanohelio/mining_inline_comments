{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0MTQxMDc2", "number": 2301, "title": "gh-2295 Harmonise resource access controls for Named Operations Named Views and Federated Store Graphs.", "bodyText": "", "createdAt": "2020-08-06T16:45:26Z", "url": "https://github.com/gchq/Gaffer/pull/2301", "merged": true, "mergeCommit": {"oid": "016b19a2f1004dc3d5295917558a8470a2af9e7a"}, "closed": true, "closedAt": "2020-09-04T10:32:28Z", "author": {"login": "m29827"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8SorwAH2gAyNDY0MTQxMDc2OmM5OWJjN2RkOWJhNTM3NTU4YWM4ZTJmOGVmYjY1MTk5MDgxYjczODQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFSoNYAFqTQ4MTk3NTMwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c99bc7dd9ba537558ac8e2f8efb65199081b7384", "author": {"user": {"login": "m29827", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/c99bc7dd9ba537558ac8e2f8efb65199081b7384", "committedDate": "2020-08-06T16:44:16Z", "message": "gh-2295 Harmonise resource access controls for Named Operations Named Views and Federated Store Graphs."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7792ba5fa9c1bf305997b3cd3e934575d312ab1c", "author": {"user": {"login": "m29827", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/7792ba5fa9c1bf305997b3cd3e934575d312ab1c", "committedDate": "2020-08-07T12:19:28Z", "message": "Merge branch 'develop' into gh-2295-harmonise-resource-access-controls\n\nConflicts:\n\tcore/operation/src/test/java/uk/gov/gchq/gaffer/named/operation/AddNamedOperationTest.java\n\tcore/store/src/test/java/uk/gov/gchq/gaffer/store/operation/handler/named/AddNamedOperationHandlerTest.java\n\tcore/store/src/test/java/uk/gov/gchq/gaffer/store/operation/handler/named/AddNamedViewHandlerTest.java\n\tcore/store/src/test/java/uk/gov/gchq/gaffer/store/operation/handler/named/GetAllNamedViewsHandlerTest.java\n\tcore/store/src/test/java/uk/gov/gchq/gaffer/store/operation/handler/named/cache/NamedOperationCacheTest.java\n\tpom.xml\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/FederatedAccessAuthTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorageTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/AddGraphTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/AddGraphWithHooksTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/FederatedOperationChainValidatorTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedAddGraphHandlerTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedAddGraphWithHooksHandlerTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedRemoveGraphHandlerTest.java"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3f139eb44dcd8ae5b08a4d056e3bceef0a723731", "author": {"user": {"login": "m29827", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/3f139eb44dcd8ae5b08a4d056e3bceef0a723731", "committedDate": "2020-08-07T11:32:44Z", "message": "Merge branch 'develop' into gh-2295-harmonise-resource-access-controls\n\nConflicts:\n\tcore/operation/src/test/java/uk/gov/gchq/gaffer/named/operation/AddNamedOperationTest.java\n\tcore/store/src/test/java/uk/gov/gchq/gaffer/store/operation/handler/named/AddNamedOperationHandlerTest.java\n\tcore/store/src/test/java/uk/gov/gchq/gaffer/store/operation/handler/named/AddNamedViewHandlerTest.java\n\tcore/store/src/test/java/uk/gov/gchq/gaffer/store/operation/handler/named/GetAllNamedViewsHandlerTest.java\n\tcore/store/src/test/java/uk/gov/gchq/gaffer/store/operation/handler/named/cache/NamedOperationCacheTest.java\n\tpom.xml\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/FederatedAccessAuthTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorageTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/AddGraphTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/AddGraphWithHooksTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/FederatedOperationChainValidatorTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedAddGraphHandlerTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedAddGraphWithHooksHandlerTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedRemoveGraphHandlerTest.java"}, "afterCommit": {"oid": "7792ba5fa9c1bf305997b3cd3e934575d312ab1c", "author": {"user": {"login": "m29827", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/7792ba5fa9c1bf305997b3cd3e934575d312ab1c", "committedDate": "2020-08-07T12:19:28Z", "message": "Merge branch 'develop' into gh-2295-harmonise-resource-access-controls\n\nConflicts:\n\tcore/operation/src/test/java/uk/gov/gchq/gaffer/named/operation/AddNamedOperationTest.java\n\tcore/store/src/test/java/uk/gov/gchq/gaffer/store/operation/handler/named/AddNamedOperationHandlerTest.java\n\tcore/store/src/test/java/uk/gov/gchq/gaffer/store/operation/handler/named/AddNamedViewHandlerTest.java\n\tcore/store/src/test/java/uk/gov/gchq/gaffer/store/operation/handler/named/GetAllNamedViewsHandlerTest.java\n\tcore/store/src/test/java/uk/gov/gchq/gaffer/store/operation/handler/named/cache/NamedOperationCacheTest.java\n\tpom.xml\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/FederatedAccessAuthTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorageTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/AddGraphTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/AddGraphWithHooksTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/FederatedOperationChainValidatorTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedAddGraphHandlerTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedAddGraphWithHooksHandlerTest.java\n\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedRemoveGraphHandlerTest.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczNTUzMTc1", "url": "https://github.com/gchq/Gaffer/pull/2301#pullrequestreview-473553175", "createdAt": "2020-08-24T14:38:20Z", "commit": {"oid": "7792ba5fa9c1bf305997b3cd3e934575d312ab1c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxNDozODoyMVrOHFoAVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxNDozODoyMVrOHFoAVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTY2MDM3Mw==", "bodyText": "Instead of making this a BiPredicate, could we make it a Predicate which would allow use to make use of the existing Koryphe Functions and Predicates?\nThe second adminUser argument could be a class field of the predicate as it's unlikely to change.", "url": "https://github.com/gchq/Gaffer/pull/2301#discussion_r475660373", "createdAt": "2020-08-24T14:38:21Z", "author": {"login": "d47853"}, "path": "core/access/src/main/java/uk/gov/gchq/gaffer/access/predicate/AccessPredicate.java", "diffHunk": "@@ -0,0 +1,30 @@\n+/*\n+ * Copyright 2020 Crown Copyright\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package uk.gov.gchq.gaffer.access.predicate;\n+\n+import com.fasterxml.jackson.annotation.JsonTypeInfo;\n+\n+import uk.gov.gchq.gaffer.user.User;\n+\n+import java.io.Serializable;\n+import java.util.List;\n+import java.util.function.BiPredicate;\n+\n+@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, property = \"class\")\n+public abstract class AccessPredicate implements BiPredicate<User, String>, Serializable {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7792ba5fa9c1bf305997b3cd3e934575d312ab1c"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c53e40b9052e8342bfcf5090b9f98464326a082", "author": {"user": {"login": "m29827", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/9c53e40b9052e8342bfcf5090b9f98464326a082", "committedDate": "2020-08-27T08:32:51Z", "message": "Merge branch 'develop' into gh-2295-harmonise-resource-access-controls\n\nConflicts:\n\tcore/operation/src/test/java/uk/gov/gchq/gaffer/named/view/AddNamedViewTest.java\n\tcore/store/src/test/java/uk/gov/gchq/gaffer/store/operation/handler/named/GetAllNamedViewsHandlerTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b3a81b5a1d504ca03a08944475762e2ce5852e6", "author": {"user": {"login": "m29827", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/0b3a81b5a1d504ca03a08944475762e2ce5852e6", "committedDate": "2020-09-02T13:41:44Z", "message": "gh-2295 Code review comments: Configurable resource access using custom implementations of Predicate<User>."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c435d54630a4d4c7882199f18a0416378cc8365", "author": {"user": {"login": "m29827", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/3c435d54630a4d4c7882199f18a0416378cc8365", "committedDate": "2020-09-02T16:39:34Z", "message": "gh-2295 Removing attempt to associate a list of auths to an AccessControlledResource."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwOTA0MjAw", "url": "https://github.com/gchq/Gaffer/pull/2301#pullrequestreview-480904200", "createdAt": "2020-09-02T14:53:21Z", "commit": {"oid": "0b3a81b5a1d504ca03a08944475762e2ce5852e6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNDo1MzoyMVrOHLzDeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNDo1MzoyMVrOHLzDeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjEzMjg1Ng==", "bodyText": "I don't know whether the CI caught it but could you add a licence header for this file?", "url": "https://github.com/gchq/Gaffer/pull/2301#discussion_r482132856", "createdAt": "2020-09-02T14:53:21Z", "author": {"login": "d47853"}, "path": "core/access/pom.xml", "diffHunk": "@@ -0,0 +1,28 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b3a81b5a1d504ca03a08944475762e2ce5852e6"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebe5acea2d14b5b7ca7cc78fcbdcb8288ce70326", "author": {"user": {"login": "m29827", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/ebe5acea2d14b5b7ca7cc78fcbdcb8288ce70326", "committedDate": "2020-09-03T15:47:49Z", "message": "gh-2295 Adding missing license header."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxOTc1MzA3", "url": "https://github.com/gchq/Gaffer/pull/2301#pullrequestreview-481975307", "createdAt": "2020-09-03T15:49:04Z", "commit": {"oid": "ebe5acea2d14b5b7ca7cc78fcbdcb8288ce70326"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1912, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}