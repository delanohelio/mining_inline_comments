{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2MDM5Mjcw", "number": 2269, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNzoyMjozNVrOD0Fpqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNToyMjozN1rOD0Tf1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1OTQ1MTMxOnYy", "diffSide": "RIGHT", "path": "core/operation/src/main/java/uk/gov/gchq/gaffer/jobtracker/JobDetail.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNzoyMjozNVrOGI2ksg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNDo0NjozM1rOGJJxWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkzNTkyMg==", "bodyText": "This will change the public API which would mean a breaking change. We've committed not to introduce breaking changes in version 1.x. Would it be possible to revert these and add some new constructors.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public JobDetail(final String jobId, final User user, final OperationChain<?> opChain, final JobStatus jobStatus, final String description) {\n          \n          \n            \n                @Deprecated\n          \n          \n            \n                public JobDetail(final String jobId, final String userId, final OperationChain<?> opChain, final JobStatus jobStatus, final String description) {\n          \n          \n            \n                    this(jobId, null, new User(userId), opChain, jobStatus, description);\n          \n          \n            \n                }\n          \n          \n            \n                // other constructors following same pattern\n          \n          \n            \n                public JobDetail(final String jobId, final String parentJobId, final User user, final OperationChain<?> opChain, final JobStatus jobStatus, final String description) {   \n          \n          \n            \n                     // do stuff\n          \n          \n            \n                 }", "url": "https://github.com/gchq/Gaffer/pull/2269#discussion_r411935922", "createdAt": "2020-04-21T07:22:35Z", "author": {"login": "d47853"}, "path": "core/operation/src/main/java/uk/gov/gchq/gaffer/jobtracker/JobDetail.java", "diffHunk": "@@ -60,36 +66,37 @@ public JobDetail(final JobDetail oldJobDetail, final JobDetail newJobDetail) {\n         }\n     }\n \n-    public JobDetail(final String jobId, final String userId, final OperationChain<?> opChain, final JobStatus jobStatus, final String description) {\n-        this(jobId, null, userId, opChain, jobStatus, description);\n+    public JobDetail(final String jobId, final User user, final OperationChain<?> opChain, final JobStatus jobStatus, final String description) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ffd064138c5308ca0ba04097bbefedafafdd7c4"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI1MDQ1OQ==", "bodyText": "Re-instated deleted code and marked @deprecated", "url": "https://github.com/gchq/Gaffer/pull/2269#discussion_r412250459", "createdAt": "2020-04-21T14:46:33Z", "author": {"login": "m29827"}, "path": "core/operation/src/main/java/uk/gov/gchq/gaffer/jobtracker/JobDetail.java", "diffHunk": "@@ -60,36 +66,37 @@ public JobDetail(final JobDetail oldJobDetail, final JobDetail newJobDetail) {\n         }\n     }\n \n-    public JobDetail(final String jobId, final String userId, final OperationChain<?> opChain, final JobStatus jobStatus, final String description) {\n-        this(jobId, null, userId, opChain, jobStatus, description);\n+    public JobDetail(final String jobId, final User user, final OperationChain<?> opChain, final JobStatus jobStatus, final String description) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkzNTkyMg=="}, "originalCommit": {"oid": "2ffd064138c5308ca0ba04097bbefedafafdd7c4"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1OTQ2MjA2OnYy", "diffSide": "RIGHT", "path": "core/operation/src/main/java/uk/gov/gchq/gaffer/user/User.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNzoyNDo0OFrOGI2qpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNDo0NTo1MVrOGJJuwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkzNzQ0Nw==", "bodyText": "Add a serialVersionUID", "url": "https://github.com/gchq/Gaffer/pull/2269#discussion_r411937447", "createdAt": "2020-04-21T07:24:48Z", "author": {"login": "d47853"}, "path": "core/operation/src/main/java/uk/gov/gchq/gaffer/user/User.java", "diffHunk": "@@ -34,7 +35,8 @@\n  * uses the values of the dataAuths and opAuths objects associated with the user\n  * to determine if they are allowed to perform the operation or not.\n  */\n-public class User {\n+public class User implements Serializable {\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ffd064138c5308ca0ba04097bbefedafafdd7c4"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI0OTc5Mw==", "bodyText": "Added serialVersionUID", "url": "https://github.com/gchq/Gaffer/pull/2269#discussion_r412249793", "createdAt": "2020-04-21T14:45:51Z", "author": {"login": "m29827"}, "path": "core/operation/src/main/java/uk/gov/gchq/gaffer/user/User.java", "diffHunk": "@@ -34,7 +35,8 @@\n  * uses the values of the dataAuths and opAuths objects associated with the user\n  * to determine if they are allowed to perform the operation or not.\n  */\n-public class User {\n+public class User implements Serializable {\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkzNzQ0Nw=="}, "originalCommit": {"oid": "2ffd064138c5308ca0ba04097bbefedafafdd7c4"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MTcxOTg5OnYy", "diffSide": "RIGHT", "path": "core/common-util/src/main/java/uk/gov/gchq/gaffer/commonutil/ExecutorService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNToyMjozN1rOGJLrNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNToyMjozN1rOGJLrNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI4MTY1Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change", "url": "https://github.com/gchq/Gaffer/pull/2269#discussion_r412281653", "createdAt": "2020-04-21T15:22:37Z", "author": {"login": "d47853"}, "path": "core/common-util/src/main/java/uk/gov/gchq/gaffer/commonutil/ExecutorService.java", "diffHunk": "@@ -36,13 +37,16 @@ private ExecutorService() {\n         // private constructor to prevent instantiation\n     }\n \n-    public static void initialise(final int jobExecutorThreadCount) {\n-        LOGGER.debug(\"Initialising ExecutorService with \" + jobExecutorThreadCount + \" threads\");\n-        service = Executors.newScheduledThreadPool(jobExecutorThreadCount, runnable -> {\n-            final Thread thread = new Thread(runnable);\n-            thread.setDaemon(true);\n-            return thread;\n-        });\n+    public static synchronized void initialise(final int jobExecutorThreadCount) {\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5162af4b4c9380c4d76099ea30fc4682fced6661"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4367, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}