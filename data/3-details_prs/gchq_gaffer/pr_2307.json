{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3ODU5OTAx", "number": 2307, "title": "Gh 2306 fix serialisation issue", "bodyText": "", "createdAt": "2020-09-16T09:36:08Z", "url": "https://github.com/gchq/Gaffer/pull/2307", "merged": true, "mergeCommit": {"oid": "5691ed854fe825fce9db0709bdca5d00add5b5b4"}, "closed": true, "closedAt": "2020-09-23T12:50:54Z", "author": {"login": "d47853"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJEYj2AH2gAyNDg3ODU5OTAxOmE5N2VhNjhiYjJmYjllYzc1Y2ExNzM3YzUyZGM4YTlkNDdiYjFhNWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJw5PRgFqTQ5MDU4NTY2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a97ea68bb2fb9ec75ca1737c52dc8a9d47bb1a5d", "author": {"user": {"login": "d47853", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/a97ea68bb2fb9ec75ca1737c52dc8a9d47bb1a5d", "committedDate": "2020-09-15T09:29:00Z", "message": "gh-2306 fixed failing tests in federated store"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed7672c678d9f2ffb6aff2bf0beef7c3d2719d96", "author": {"user": {"login": "d47853", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/ed7672c678d9f2ffb6aff2bf0beef7c3d2719d96", "committedDate": "2020-09-15T16:24:23Z", "message": "gh-2306 improved serialisation logic for NamedOperationDetail"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0022baa66d616abe3b1c8ac36a77747077d92286", "author": {"user": {"login": "d47853", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/0022baa66d616abe3b1c8ac36a77747077d92286", "committedDate": "2020-09-16T07:53:21Z", "message": "gh-2306 applied fix to NamedOperationDetail and FederatedAccess"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b76dfe2320b0987cfd4728119f1935c9ac7fbdd7", "author": {"user": {"login": "d47853", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/b76dfe2320b0987cfd4728119f1935c9ac7fbdd7", "committedDate": "2020-09-16T09:34:39Z", "message": "Fixed tests and checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMzc3MjU4", "url": "https://github.com/gchq/Gaffer/pull/2307#pullrequestreview-490377258", "createdAt": "2020-09-17T08:49:12Z", "commit": {"oid": "e31cff0ce6528c310d9acca6c113f1b4d5ac6d2f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwODo0OToxM1rOHTX-cA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwODo0OToxM1rOHTX-cA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDA3NzgwOA==", "bodyText": "This isn't used\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import com.google.common.collect.Maps;", "url": "https://github.com/gchq/Gaffer/pull/2307#discussion_r490077808", "createdAt": "2020-09-17T08:49:13Z", "author": {"login": "m29827"}, "path": "core/data/src/main/java/uk/gov/gchq/gaffer/data/elementdefinition/view/NamedViewDetail.java", "diffHunk": "@@ -18,7 +18,10 @@\n \n import com.fasterxml.jackson.annotation.JsonIgnore;\n import com.fasterxml.jackson.annotation.JsonInclude;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n import com.fasterxml.jackson.annotation.JsonPropertyOrder;\n+import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n+import com.fasterxml.jackson.databind.annotation.JsonPOJOBuilder;\n import com.google.common.collect.Maps;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e31cff0ce6528c310d9acca6c113f1b4d5ac6d2f"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "154ec2712772f045bd510356030317bcf47ebd23", "author": {"user": {"login": "d47853", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/154ec2712772f045bd510356030317bcf47ebd23", "committedDate": "2020-09-17T08:50:23Z", "message": "gh-2306 fixed tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e31cff0ce6528c310d9acca6c113f1b4d5ac6d2f", "author": {"user": {"login": "d47853", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/e31cff0ce6528c310d9acca6c113f1b4d5ac6d2f", "committedDate": "2020-09-16T17:06:53Z", "message": "gh-2306 fixed tests"}, "afterCommit": {"oid": "154ec2712772f045bd510356030317bcf47ebd23", "author": {"user": {"login": "d47853", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/154ec2712772f045bd510356030317bcf47ebd23", "committedDate": "2020-09-17T08:50:23Z", "message": "gh-2306 fixed tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7dd226ce73cf7e4fe2a27f3e41fced6152fd792", "author": {"user": {"login": "d47853", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/d7dd226ce73cf7e4fe2a27f3e41fced6152fd792", "committedDate": "2020-09-17T09:31:21Z", "message": "gh-2306 fixed failing test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMzg5NDc4", "url": "https://github.com/gchq/Gaffer/pull/2307#pullrequestreview-490389478", "createdAt": "2020-09-17T09:03:05Z", "commit": {"oid": "e31cff0ce6528c310d9acca6c113f1b4d5ac6d2f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwOToxNTowMFrOHTZAtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMDoxMjoyMVrOHTbJWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDA5NDc3Mw==", "bodyText": "Don't think this is required:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  <dependency>\n          \n          \n            \n                    <groupId>org.apache.flink</groupId>\n          \n          \n            \n                    <artifactId>flink-shaded-guava</artifactId>\n          \n          \n            \n                    <version>18.0-2.0</version>\n          \n          \n            \n                    <scope>test</scope>\n          \n          \n            \n                  </dependency>", "url": "https://github.com/gchq/Gaffer/pull/2307#discussion_r490094773", "createdAt": "2020-09-17T09:15:00Z", "author": {"login": "m29827"}, "path": "store-implementation/federated-store/pom.xml", "diffHunk": "@@ -175,6 +175,12 @@\n                 </exclusion>\n             </exclusions>\n         </dependency>\n+      <dependency>\n+        <groupId>org.apache.flink</groupId>\n+        <artifactId>flink-shaded-guava</artifactId>\n+        <version>18.0-2.0</version>\n+        <scope>test</scope>\n+      </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "154ec2712772f045bd510356030317bcf47ebd23"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDEyOTc1NQ==", "bodyText": "Maybe remove this\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    System.out.println(new String(JSONSerialiser.serialise(allowBlankUserAndTestUserReadAccess, true)));", "url": "https://github.com/gchq/Gaffer/pull/2307#discussion_r490129755", "createdAt": "2020-09-17T10:12:21Z", "author": {"login": "m29827"}, "path": "store-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedAddGraphWithHooksHandlerTest.java", "diffHunk": "@@ -388,10 +393,12 @@ public void shouldAddGraphWithCustomReadAccessPredicate() throws Exception {\n \n         assertEquals(0, store.getGraphs(testUser, null, ignore).size());\n \n-        final AccessPredicate allowBlankUserAndTestUserReadAccess = new AccessPredicate((user) -> {\n-            return user.getUserId().equals(blankUser.getUserId()) || user.getUserId().equals(testUser.getUserId());\n-        });\n+        final AccessPredicate allowBlankUserAndTestUserReadAccess = new AccessPredicate(new AdaptedPredicate(\n+                new CallMethod(\"getUserId\"),\n+                new Or<>(new IsEqual(testUser.getUserId()), new IsEqual(blankUser.getUserId()))\n+        ));\n \n+        System.out.println(new String(JSONSerialiser.serialise(allowBlankUserAndTestUserReadAccess, true)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "154ec2712772f045bd510356030317bcf47ebd23"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc8d90e14b71029d59515d2881d47dda179a23d4", "author": {"user": {"login": "d47853", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/dc8d90e14b71029d59515d2881d47dda179a23d4", "committedDate": "2020-09-17T11:01:11Z", "message": "Apply suggestions from code review\n\nCo-authored-by: m29827 <62667809+m29827@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a09daf9a1b994f5c9a372ff698c554fd364ca96", "author": {"user": {"login": "d47853", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/1a09daf9a1b994f5c9a372ff698c554fd364ca96", "committedDate": "2020-09-17T11:02:42Z", "message": "Merge branch 'develop' into gh-2306-fix-serialisation-issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "917105ce03d238e0ffc1906b745540216d1e9db2", "author": {"user": {"login": "d47853", "name": null}}, "url": "https://github.com/gchq/Gaffer/commit/917105ce03d238e0ffc1906b745540216d1e9db2", "committedDate": "2020-09-17T11:29:47Z", "message": "gh-2306 removed unused import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwNTg1NjY1", "url": "https://github.com/gchq/Gaffer/pull/2307#pullrequestreview-490585665", "createdAt": "2020-09-17T13:20:31Z", "commit": {"oid": "917105ce03d238e0ffc1906b745540216d1e9db2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1800, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}