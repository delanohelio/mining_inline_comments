{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0MDA5OTMy", "number": 592, "title": "FairSeq language translation example", "bodyText": "Description\nThe main purpose of adding is to shown how to serve a English-to-French/English-German Translation model using TorchServe. We have used a generalized custom handler which enables us to translate English-to-French and English-to-German simultaneously. The generalized custom handler uses pre-trained Transformer_WMT14_En-Fr / Transformer_WMT19_En-De models from fairseq.\nFixes #593\nType of change\nPlease delete options that are not relevant.\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Breaking change (fix or feature that would cause existing functionality to not work as expected)\n This change requires a documentation update\n\nFeature/Issue validation/testing\nAdded execution logs in comments\nChecklist:\n\n[x ] Have you added tests that prove your fix is effective or that this feature works?\n New and existing unit tests pass locally with these changes?\n Has code been commented, particularly in hard-to-understand areas?\n Have you made corresponding changes to the documentation?\n\n##Regression test suite logs:\n$ newman run -e postman/environment.json -x --verbose postman/inference_api_test_collection.json -d postman/inference_data.json\nnewman\n\ninference\n\nIteration 1/2\n\n\u2192 Model Zoo - Register Model\n  POST http://localhost:8081/models?url=https://torchserve-mar-files.s3.amazonaws.com/TransformerEn2Fr.mar&model_name=TransformerEn2Fr&initial_workers=1&synchronous=true [200 OK, 358B, 2m 58.6s]\n\n  prepare   wait   dns-lookup   tcp-handshake   transfer-start   download   process   total\n  36ms      6ms    1ms          610\u00b5s           2m 58.6s         8ms        590\u00b5s     2m 58.7s\n\n  \u2713  Successful POST request\n\n\u2192 Model Zoo - Inference Model\n  POST http://localhost:8080/predictions/TransformerEn2Fr [200 OK, 487B, 635ms]\n\n  prepare   wait   dns-lookup   tcp-handshake   transfer-start   download   process   total\n  8ms       1ms    459\u00b5s        438\u00b5s           629ms            2ms        77\u00b5s      642ms\n\n  \u2713  Successful POST request\n  \u2713  Test expected JSON response\n\n\u2192 Model Zoo - Unregister model\n  DELETE http://localhost:8081/models/TransformerEn2Fr [200 OK, 324B, 1016ms]\n\n  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total\n  1ms       572\u00b5s   (cache)      (cache)         1012ms           2ms        119\u00b5s     1017ms\n\n  \u2713  Successful DELETE request\n\n\u2192 Model Zoo - Model Metrics\n  GET http://localhost:8082/metrics [200 OK, 1.18KB, 5ms]\n\n  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total\n  1ms       606\u00b5s   130\u00b5s        200\u00b5s           2ms              1ms        75\u00b5s      6ms\n\n  \u2713  Successful GET request\n\nIteration 2/2\n\n\u2192 Model Zoo - Register Model\n  POST http://localhost:8081/models?url=https://torchserve-mar-files.s3.amazonaws.com/TransformerEn2De.mar&model_name=TransformerEn2De&initial_workers=1&synchronous=true [200 OK, 358B, 3m 18.7s]\n\n  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total\n  1ms       347\u00b5s   (cache)      (cache)         3m 18.7s         1ms        73\u00b5s      3m 18.7s\n\n  \u2713  Successful POST request\n\n\u2192 Model Zoo - Inference Model\n  POST http://localhost:8080/predictions/TransformerEn2De [200 OK, 469B, 638ms]\n\n  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total\n  2ms       405\u00b5s   (cache)      (cache)         635ms            1ms        61\u00b5s      640ms\n\n  \u2713  Successful POST request\n  \u2713  Test expected JSON response\n\n\u2192 Model Zoo - Unregister model\n  DELETE http://localhost:8081/models/TransformerEn2De [200 OK, 324B, 1124ms]\n\n  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total\n  1ms       337\u00b5s   (cache)      (cache)         1120ms           1ms        69\u00b5s      1124ms\n\n  \u2713  Successful DELETE request\n\n\u2192 Model Zoo - Model Metrics\n  GET http://localhost:8082/metrics [200 OK, 1.46KB, 4ms]\n\n  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total\n  1ms       355\u00b5s   (cache)      (cache)         1ms              1ms        53\u00b5s      5ms\n\n  \u2713  Successful GET request\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         \u2502               executed \u2502                failed \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              iterations \u2502                      2 \u2502                     0 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                requests \u2502                      8 \u2502                     0 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502            test-scripts \u2502                      8 \u2502                     0 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502      prerequest-scripts \u2502                      0 \u2502                     0 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              assertions \u2502                     10 \u2502                     0 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 total run duration: 6m 21.1s                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 total data received: 2.84KB (approx)                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 average response time: 47.6s [min: 4ms, max: 3m 18.7s, s.d.: 1m 21.6s]   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 average DNS lookup time: 880\u00b5s [min: 130\u00b5s, max: 1ms, s.d.: 724\u00b5s]       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 average first byte time: 47.5s [min: 1ms, max: 3m 18.7s, s.d.: 1m 21.6s] \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nNote:\nTransformerEn2Fr.mar and TransformerEn2De.mar have to be added to the S3 bucket for the regression test suite to work for the nmt_transformer model.", "createdAt": "2020-08-06T12:56:28Z", "url": "https://github.com/pytorch/serve/pull/592", "merged": true, "mergeCommit": {"oid": "7186ecd4576beb131f6d811c1561d6a2fab3bffa"}, "closed": true, "closedAt": "2020-12-08T18:01:57Z", "author": {"login": "AshwinChafale"}, "timelineItems": {"totalCount": 126, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdETBf_AH2gAyNDY0MDA5OTMyOmE2MWM1OTNhODU3YTMxODkyZDgxOTEyYjVjOGY2ODA0Zjc5NzA2M2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkA2Y7gH2gAyNDY0MDA5OTMyOjE0ZDUyOGYwYzNkMTMxNjk1NjZlODU3ZDg4NmMwOTE3YmNjYWE4M2Y=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a61c593a857a31892d81912b5c8f6804f797063b", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/a61c593a857a31892d81912b5c8f6804f797063b", "committedDate": "2020-08-31T13:42:46Z", "message": "Update README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb4f6445338fda797e98358648b20b6a40f9e81f", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/fb4f6445338fda797e98358648b20b6a40f9e81f", "committedDate": "2020-08-31T13:43:54Z", "message": "Update README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2a60cddf52a21a969d4ee3a0f072490e2968cb6", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/e2a60cddf52a21a969d4ee3a0f072490e2968cb6", "committedDate": "2020-08-31T13:45:09Z", "message": "Update README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93c89659e59138464841459904224f6f39b25d4c", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/93c89659e59138464841459904224f6f39b25d4c", "committedDate": "2020-08-31T15:45:48Z", "message": "Updated Readme.md files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7892d58679a5628eb1ee19e184dabd41ce1b9e8b", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/7892d58679a5628eb1ee19e184dabd41ce1b9e8b", "committedDate": "2020-08-31T15:47:31Z", "message": "Update config.properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2b147098de84bc55cedf4c50ad7706a1caa28ed", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/f2b147098de84bc55cedf4c50ad7706a1caa28ed", "committedDate": "2020-09-01T08:00:23Z", "message": "Modified create_mar.sh file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNDkwOTAz", "url": "https://github.com/pytorch/serve/pull/592#pullrequestreview-480490903", "createdAt": "2020-09-02T05:21:16Z", "commit": {"oid": "f2b147098de84bc55cedf4c50ad7706a1caa28ed"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNToyMToxNlrOHLZmdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNTozMzowN1rOHLaSqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTcxNTgyOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                By execuing the above script file, the the model archive (.mar) file will be auto generated in \"model_store\" folder in the same working directory.\n          \n          \n            \n                The above command will create a \"model_store\" directory in the current working directory and generate TransformerEn2De.mar file.", "url": "https://github.com/pytorch/serve/pull/592#discussion_r481715828", "createdAt": "2020-09-02T05:21:16Z", "author": {"login": "harshbafna"}, "path": "examples/nmt_transformer/README.md", "diffHunk": "@@ -0,0 +1,116 @@\n+# Transformer (NMT) models for English-French and English-German translation.\n+\n+The Transformer, introduced in the paper [Attention Is All You Need](https://arxiv.org/abs/1706.03762), is a powerful sequence-to-sequence modeling architecture capable of producing state-of-the-art neural machine translation (NMT) systems.\n+\n+Recently, the [fairseq](https://github.com/pytorch/fairseq#join-the-fairseq-community) team has explored large-scale semi-supervised training of Transformers using back-translated data, further improving translation quality over the original model. More details can be found in [this blog post](https://engineering.fb.com/ai-research/scaling-neural-machine-translation-to-bigger-data-sets-with-faster-training-and-inference/).\n+\n+In this example, we have show how to serve a [English-to-French/English-German Translation](https://pytorch.org/hub/pytorch_fairseq_translation/#english-to-french-translation) model using TorchServe. We have used a generalized custom handler, model_handler_generalized.py which enables us to translate English-to-French and English-to-German symultaneously. The generalized custom handler uses pre-trained [Transformer_WMT14_En-Fr / Transformer_WMT19_En-De](https://github.com/pytorch/fairseq/blob/master/examples/translation/README.md ) models from [fairseq](https://github.com/pytorch/fairseq). \n+\n+## Objectives\n+1. Demonstrate how to package a pre-trained Transformer (NMT) models for English-French and English-German translation with generalized custom handler into torch model archive (.mar) file\n+2. Demonstrate how to load model archive (.mar) file into TorchServe and run inference.\n+\n+## Serve the Transformer (NMT) models for English-French/English-German on TorchServe\n+\n+* To generate the model archive (.mar) file for English-to-French translation model using following command\n+\n+    ```bash\n+    ./create_mar.sh en2fr_model\n+    ```\n+    By execuing the above script file, the the model archive (.mar) file will be auto generated in \"model_store\" folder in the same working directory.\n+\t\n+* To generate the model archive (.mar) file for English-to-German translation model using following command\n+\n+    ```bash\n+    ./create_mar.sh en2de_model\n+    ```\n+    By execuing the above script file, the the model archive (.mar) file will be auto generated in \"model_store\" folder in the same working directory.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2b147098de84bc55cedf4c50ad7706a1caa28ed"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTcxOTIxNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                By execuing the above script file, the the model archive (.mar) file will be auto generated in \"model_store\" folder in the same working directory.\n          \n          \n            \n                The above command will create a \"model_store\" directory in the current working directory and generate TransformerEn2Fr.mar file.", "url": "https://github.com/pytorch/serve/pull/592#discussion_r481719214", "createdAt": "2020-09-02T05:24:47Z", "author": {"login": "harshbafna"}, "path": "examples/nmt_transformer/README.md", "diffHunk": "@@ -0,0 +1,116 @@\n+# Transformer (NMT) models for English-French and English-German translation.\n+\n+The Transformer, introduced in the paper [Attention Is All You Need](https://arxiv.org/abs/1706.03762), is a powerful sequence-to-sequence modeling architecture capable of producing state-of-the-art neural machine translation (NMT) systems.\n+\n+Recently, the [fairseq](https://github.com/pytorch/fairseq#join-the-fairseq-community) team has explored large-scale semi-supervised training of Transformers using back-translated data, further improving translation quality over the original model. More details can be found in [this blog post](https://engineering.fb.com/ai-research/scaling-neural-machine-translation-to-bigger-data-sets-with-faster-training-and-inference/).\n+\n+In this example, we have show how to serve a [English-to-French/English-German Translation](https://pytorch.org/hub/pytorch_fairseq_translation/#english-to-french-translation) model using TorchServe. We have used a generalized custom handler, model_handler_generalized.py which enables us to translate English-to-French and English-to-German symultaneously. The generalized custom handler uses pre-trained [Transformer_WMT14_En-Fr / Transformer_WMT19_En-De](https://github.com/pytorch/fairseq/blob/master/examples/translation/README.md ) models from [fairseq](https://github.com/pytorch/fairseq). \n+\n+## Objectives\n+1. Demonstrate how to package a pre-trained Transformer (NMT) models for English-French and English-German translation with generalized custom handler into torch model archive (.mar) file\n+2. Demonstrate how to load model archive (.mar) file into TorchServe and run inference.\n+\n+## Serve the Transformer (NMT) models for English-French/English-German on TorchServe\n+\n+* To generate the model archive (.mar) file for English-to-French translation model using following command\n+\n+    ```bash\n+    ./create_mar.sh en2fr_model\n+    ```\n+    By execuing the above script file, the the model archive (.mar) file will be auto generated in \"model_store\" folder in the same working directory.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2b147098de84bc55cedf4c50ad7706a1caa28ed"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTcyMDc0Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            In this example, we have show how to serve a [English-to-French/English-German Translation](https://pytorch.org/hub/pytorch_fairseq_translation/#english-to-french-translation) model using TorchServe. We have used a generalized custom handler, model_handler_generalized.py which enables us to translate English-to-French and English-to-German symultaneously. The generalized custom handler uses pre-trained [Transformer_WMT14_En-Fr / Transformer_WMT19_En-De](https://github.com/pytorch/fairseq/blob/master/examples/translation/README.md ) models from [fairseq](https://github.com/pytorch/fairseq). \n          \n          \n            \n            In this example, we have shown how to serve a [English-to-French/English-German Translation](https://pytorch.org/hub/pytorch_fairseq_translation/#english-to-french-translation) model using TorchServe. We have used a generalized [custom handler](model_handler_generalized.py) which enables us to translate English-to-French and English-to-German simultaneously. The generalized custom handler uses pre-trained [Transformer_WMT14_En-Fr / Transformer_WMT19_En-De](https://github.com/pytorch/fairseq/blob/master/examples/translation/README.md ) models from [fairseq](https://github.com/pytorch/fairseq).", "url": "https://github.com/pytorch/serve/pull/592#discussion_r481720747", "createdAt": "2020-09-02T05:26:24Z", "author": {"login": "harshbafna"}, "path": "examples/nmt_transformer/README.md", "diffHunk": "@@ -0,0 +1,116 @@\n+# Transformer (NMT) models for English-French and English-German translation.\n+\n+The Transformer, introduced in the paper [Attention Is All You Need](https://arxiv.org/abs/1706.03762), is a powerful sequence-to-sequence modeling architecture capable of producing state-of-the-art neural machine translation (NMT) systems.\n+\n+Recently, the [fairseq](https://github.com/pytorch/fairseq#join-the-fairseq-community) team has explored large-scale semi-supervised training of Transformers using back-translated data, further improving translation quality over the original model. More details can be found in [this blog post](https://engineering.fb.com/ai-research/scaling-neural-machine-translation-to-bigger-data-sets-with-faster-training-and-inference/).\n+\n+In this example, we have show how to serve a [English-to-French/English-German Translation](https://pytorch.org/hub/pytorch_fairseq_translation/#english-to-french-translation) model using TorchServe. We have used a generalized custom handler, model_handler_generalized.py which enables us to translate English-to-French and English-to-German symultaneously. The generalized custom handler uses pre-trained [Transformer_WMT14_En-Fr / Transformer_WMT19_En-De](https://github.com/pytorch/fairseq/blob/master/examples/translation/README.md ) models from [fairseq](https://github.com/pytorch/fairseq). ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2b147098de84bc55cedf4c50ad7706a1caa28ed"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTcyMzY0OA==", "bodyText": "Provide the actual output.", "url": "https://github.com/pytorch/serve/pull/592#discussion_r481723648", "createdAt": "2020-09-02T05:29:32Z", "author": {"login": "harshbafna"}, "path": "examples/nmt_transformer/README.md", "diffHunk": "@@ -0,0 +1,116 @@\n+# Transformer (NMT) models for English-French and English-German translation.\n+\n+The Transformer, introduced in the paper [Attention Is All You Need](https://arxiv.org/abs/1706.03762), is a powerful sequence-to-sequence modeling architecture capable of producing state-of-the-art neural machine translation (NMT) systems.\n+\n+Recently, the [fairseq](https://github.com/pytorch/fairseq#join-the-fairseq-community) team has explored large-scale semi-supervised training of Transformers using back-translated data, further improving translation quality over the original model. More details can be found in [this blog post](https://engineering.fb.com/ai-research/scaling-neural-machine-translation-to-bigger-data-sets-with-faster-training-and-inference/).\n+\n+In this example, we have show how to serve a [English-to-French/English-German Translation](https://pytorch.org/hub/pytorch_fairseq_translation/#english-to-french-translation) model using TorchServe. We have used a generalized custom handler, model_handler_generalized.py which enables us to translate English-to-French and English-to-German symultaneously. The generalized custom handler uses pre-trained [Transformer_WMT14_En-Fr / Transformer_WMT19_En-De](https://github.com/pytorch/fairseq/blob/master/examples/translation/README.md ) models from [fairseq](https://github.com/pytorch/fairseq). \n+\n+## Objectives\n+1. Demonstrate how to package a pre-trained Transformer (NMT) models for English-French and English-German translation with generalized custom handler into torch model archive (.mar) file\n+2. Demonstrate how to load model archive (.mar) file into TorchServe and run inference.\n+\n+## Serve the Transformer (NMT) models for English-French/English-German on TorchServe\n+\n+* To generate the model archive (.mar) file for English-to-French translation model using following command\n+\n+    ```bash\n+    ./create_mar.sh en2fr_model\n+    ```\n+    By execuing the above script file, the the model archive (.mar) file will be auto generated in \"model_store\" folder in the same working directory.\n+\t\n+* To generate the model archive (.mar) file for English-to-German translation model using following command\n+\n+    ```bash\n+    ./create_mar.sh en2de_model\n+    ```\n+    By execuing the above script file, the the model archive (.mar) file will be auto generated in \"model_store\" folder in the same working directory.\n+\n+\n+* Start the TorchServe using the model archive (.mar) file created in above step\n+\n+    ```bash\n+    torchserve --start --model-store model_store --ts-config config.properties\n+    ```\n+\n+* Use [Management API](https://github.com/pytorch/serve/blob/master/docs/management_api.md#management-api) to register the model with one initial worker   \n+\tFor English-to-French model\n+    ```bash\n+    curl -X POST \"http://localhost:8081/models?initial_workers=1&synchronous=true&url=TransformerEn2Fr.mar\"\n+    ```\n+\tFor English-to-German model\n+\t```bash\n+\tcurl -X POST \"http://localhost:8081/models?initial_workers=1&synchronous=true&url=TransformerEn2De.mar\"\n+\t```\n+    Note:- Our model works only for one worker.\n+\n+* To get the inference use the following curl command  \n+\tFor English-to-French model\n+    ```bash\n+    curl http://127.0.0.1:8080/predictions/TransformerEn2Fr -T model_input/sample.txt\n+    ```\n+\tFor English-to-German model\n+\t```bash\n+\tcurl http://127.0.0.1:8080/predictions/TransformerEn2De -T model_input/sample.txt\n+\t```\n+    Here sample.txt contains simple english sentences which are given as input to [Inference API](https://github.com/pytorch/serve/blob/master/docs/inference_api.md#predictions-api). The output of above curl command will be the french translation of sentences present in the sample.txt file.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2b147098de84bc55cedf4c50ad7706a1caa28ed"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTcyNTM5Ng==", "bodyText": "Point to docs/batch_inference_with_ts.md file instead.", "url": "https://github.com/pytorch/serve/pull/592#discussion_r481725396", "createdAt": "2020-09-02T05:31:23Z", "author": {"login": "harshbafna"}, "path": "examples/nmt_transformer/README.md", "diffHunk": "@@ -0,0 +1,116 @@\n+# Transformer (NMT) models for English-French and English-German translation.\n+\n+The Transformer, introduced in the paper [Attention Is All You Need](https://arxiv.org/abs/1706.03762), is a powerful sequence-to-sequence modeling architecture capable of producing state-of-the-art neural machine translation (NMT) systems.\n+\n+Recently, the [fairseq](https://github.com/pytorch/fairseq#join-the-fairseq-community) team has explored large-scale semi-supervised training of Transformers using back-translated data, further improving translation quality over the original model. More details can be found in [this blog post](https://engineering.fb.com/ai-research/scaling-neural-machine-translation-to-bigger-data-sets-with-faster-training-and-inference/).\n+\n+In this example, we have show how to serve a [English-to-French/English-German Translation](https://pytorch.org/hub/pytorch_fairseq_translation/#english-to-french-translation) model using TorchServe. We have used a generalized custom handler, model_handler_generalized.py which enables us to translate English-to-French and English-to-German symultaneously. The generalized custom handler uses pre-trained [Transformer_WMT14_En-Fr / Transformer_WMT19_En-De](https://github.com/pytorch/fairseq/blob/master/examples/translation/README.md ) models from [fairseq](https://github.com/pytorch/fairseq). \n+\n+## Objectives\n+1. Demonstrate how to package a pre-trained Transformer (NMT) models for English-French and English-German translation with generalized custom handler into torch model archive (.mar) file\n+2. Demonstrate how to load model archive (.mar) file into TorchServe and run inference.\n+\n+## Serve the Transformer (NMT) models for English-French/English-German on TorchServe\n+\n+* To generate the model archive (.mar) file for English-to-French translation model using following command\n+\n+    ```bash\n+    ./create_mar.sh en2fr_model\n+    ```\n+    By execuing the above script file, the the model archive (.mar) file will be auto generated in \"model_store\" folder in the same working directory.\n+\t\n+* To generate the model archive (.mar) file for English-to-German translation model using following command\n+\n+    ```bash\n+    ./create_mar.sh en2de_model\n+    ```\n+    By execuing the above script file, the the model archive (.mar) file will be auto generated in \"model_store\" folder in the same working directory.\n+\n+\n+* Start the TorchServe using the model archive (.mar) file created in above step\n+\n+    ```bash\n+    torchserve --start --model-store model_store --ts-config config.properties\n+    ```\n+\n+* Use [Management API](https://github.com/pytorch/serve/blob/master/docs/management_api.md#management-api) to register the model with one initial worker   \n+\tFor English-to-French model\n+    ```bash\n+    curl -X POST \"http://localhost:8081/models?initial_workers=1&synchronous=true&url=TransformerEn2Fr.mar\"\n+    ```\n+\tFor English-to-German model\n+\t```bash\n+\tcurl -X POST \"http://localhost:8081/models?initial_workers=1&synchronous=true&url=TransformerEn2De.mar\"\n+\t```\n+    Note:- Our model works only for one worker.\n+\n+* To get the inference use the following curl command  \n+\tFor English-to-French model\n+    ```bash\n+    curl http://127.0.0.1:8080/predictions/TransformerEn2Fr -T model_input/sample.txt\n+    ```\n+\tFor English-to-German model\n+\t```bash\n+\tcurl http://127.0.0.1:8080/predictions/TransformerEn2De -T model_input/sample.txt\n+\t```\n+    Here sample.txt contains simple english sentences which are given as input to [Inference API](https://github.com/pytorch/serve/blob/master/docs/inference_api.md#predictions-api). The output of above curl command will be the french translation of sentences present in the sample.txt file.\n+\n+## Batch Inference with TorchServe using Translation (NMT) model\n+\n+### TorchServe Model Configuration\n+\n+To configure TorchServe to use the batching feature, provide the batch configuration information through \"POST /models\" API.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2b147098de84bc55cedf4c50ad7706a1caa28ed"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTcyNzE0NA==", "bodyText": "This is already covered in the main README of this example?", "url": "https://github.com/pytorch/serve/pull/592#discussion_r481727144", "createdAt": "2020-09-02T05:33:07Z", "author": {"login": "harshbafna"}, "path": "examples/nmt_transformer/french_translation/README.md", "diffHunk": "@@ -0,0 +1,58 @@\n+# English-to-French translation using Fairseq Transformer model", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2b147098de84bc55cedf4c50ad7706a1caa28ed"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4ff667b83a16cbe130e34891f9f94ea4a879dd1", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/c4ff667b83a16cbe130e34891f9f94ea4a879dd1", "committedDate": "2020-09-02T13:11:35Z", "message": "Update examples/nmt_transformer/README.md\n\nCo-authored-by: Harsh Bafna <harsh_bafna@persistent.co.in>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3205e6d3394fe1570c8a0ad4c84c1b7beb129b31", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/3205e6d3394fe1570c8a0ad4c84c1b7beb129b31", "committedDate": "2020-09-02T13:11:51Z", "message": "Update examples/nmt_transformer/README.md\n\nCo-authored-by: Harsh Bafna <harsh_bafna@persistent.co.in>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d72008c8c0cb3ff9da0c173f30607bb2245632f6", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/d72008c8c0cb3ff9da0c173f30607bb2245632f6", "committedDate": "2020-09-02T13:12:53Z", "message": "Update examples/nmt_transformer/README.md\n\nCo-authored-by: Harsh Bafna <harsh_bafna@persistent.co.in>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad607d95b1ed0c89e772917372ac4700d27547ca", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/ad607d95b1ed0c89e772917372ac4700d27547ca", "committedDate": "2020-09-02T15:39:29Z", "message": "Updated nmt_transformer model"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMzYzMjAz", "url": "https://github.com/pytorch/serve/pull/592#pullrequestreview-482363203", "createdAt": "2020-09-04T05:14:44Z", "commit": {"oid": "ad607d95b1ed0c89e772917372ac4700d27547ca"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e93ac33089cf207f898e27001398ad52e263216c", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/e93ac33089cf207f898e27001398ad52e263216c", "committedDate": "2020-09-04T05:14:53Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63244642d03e8715ba65f6a39302c126bdb936ae", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/63244642d03e8715ba65f6a39302c126bdb936ae", "committedDate": "2020-09-09T06:09:06Z", "message": "Added regression test suite for nmt_transformer model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12570876c892753d598ce53decbf2d3781076cf7", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/12570876c892753d598ce53decbf2d3781076cf7", "committedDate": "2020-09-09T06:36:42Z", "message": "Modified inference_data.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f33295fb7a8f83e59cf46cbc7764e9d28aec76e", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/9f33295fb7a8f83e59cf46cbc7764e9d28aec76e", "committedDate": "2020-09-10T14:35:26Z", "message": "Added regression test suite for nmt_transformer model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00dfecc4f1dd6f019d139160c82b457b84e56c4f", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/00dfecc4f1dd6f019d139160c82b457b84e56c4f", "committedDate": "2020-09-14T04:52:20Z", "message": "Minor documentation update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd7e3885f9d82abb6450be03dd8c592bdd0dab1a", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/cd7e3885f9d82abb6450be03dd8c592bdd0dab1a", "committedDate": "2020-10-14T05:33:22Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "937b86b0d6c532d866c49f3e1a200029cdc6f536", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/937b86b0d6c532d866c49f3e1a200029cdc6f536", "committedDate": "2020-10-21T18:40:18Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "115ffe3ab501332ab024525bc459b1261d1cf824", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/115ffe3ab501332ab024525bc459b1261d1cf824", "committedDate": "2020-10-23T17:41:58Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a61b7d87eab489d2e4cb6de05adf7a7c5d739f7e", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/a61b7d87eab489d2e4cb6de05adf7a7c5d739f7e", "committedDate": "2020-10-29T10:13:15Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwOTUyNjY0", "url": "https://github.com/pytorch/serve/pull/592#pullrequestreview-520952664", "createdAt": "2020-10-30T18:58:43Z", "commit": {"oid": "a61b7d87eab489d2e4cb6de05adf7a7c5d739f7e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec84c50b801863b01f319e024406aa79b3c7ed97", "author": {"user": {"login": "lxning", "name": null}}, "url": "https://github.com/pytorch/serve/commit/ec84c50b801863b01f319e024406aa79b3c7ed97", "committedDate": "2020-10-30T18:58:55Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35134f829089b187b721a1cae7990425d35922e9", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/35134f829089b187b721a1cae7990425d35922e9", "committedDate": "2020-11-19T15:04:07Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4345b959ed20d494768f396aa0ceafed1952004f", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/4345b959ed20d494768f396aa0ceafed1952004f", "committedDate": "2020-12-03T16:54:56Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14d528f0c3d13169566e857d886c0917bccaa83f", "author": {"user": {"login": "chauhang", "name": "Geeta Chauhan"}}, "url": "https://github.com/pytorch/serve/commit/14d528f0c3d13169566e857d886c0917bccaa83f", "committedDate": "2020-12-08T02:37:55Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbbef9299c3853f269a55ab0df2f6400049bde92", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/dbbef9299c3853f269a55ab0df2f6400049bde92", "committedDate": "2020-06-04T06:24:04Z", "message": "- updated image classifier default handler\n- updated custom resnet and mnist handlers\n- update docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6e69a5d40834c19a750f0c470a7daf6b8e2f444", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/c6e69a5d40834c19a750f0c470a7daf6b8e2f444", "committedDate": "2020-06-04T09:34:49Z", "message": "documentation update\n- removed stale Transformer_readme.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35d0813100b52c6cc6ff09b95be5a1c802122425", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/35d0813100b52c6cc6ff09b95be5a1c802122425", "committedDate": "2020-06-04T11:42:33Z", "message": "updated docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b193fbb3c6ff5e1771c9633f2f660906c724d3de", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/b193fbb3c6ff5e1771c9633f2f660906c724d3de", "committedDate": "2020-06-08T13:54:13Z", "message": "Merge branch 'staging_0_1_1' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94c6851f4fe27a556e7a6d75920439b8159d7935", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/94c6851f4fe27a556e7a6d75920439b8159d7935", "committedDate": "2020-06-10T03:04:12Z", "message": "Merge branch 'staging_0_1_1' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5929cde1f651e363b3517d14b5b6861eb2e31c75", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/5929cde1f651e363b3517d14b5b6861eb2e31c75", "committedDate": "2020-06-11T06:08:50Z", "message": "merged master branch, resolved conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3abffbfe886aa5f9b78979b7cd3fdf32d06c450a", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/3abffbfe886aa5f9b78979b7cd3fdf32d06c450a", "committedDate": "2020-06-15T18:15:55Z", "message": "Doc restructure and code fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "270c7cedff35e2c839f79f52f980a34d976a0d24", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/270c7cedff35e2c839f79f52f980a34d976a0d24", "committedDate": "2020-06-15T18:23:40Z", "message": "Updated example as per fix in default handlers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38488506e65ddc2ac5ef65b94bf1594022f80788", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/38488506e65ddc2ac5ef65b94bf1594022f80788", "committedDate": "2020-06-16T05:49:31Z", "message": "Enhanced base and custom handler examples"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cd6722e47fb1dc203ed3cb7d9611c11fd5030ca", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/8cd6722e47fb1dc203ed3cb7d9611c11fd5030ca", "committedDate": "2020-06-16T15:07:48Z", "message": "Missing checking for manifest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0012ffc23af828493da1b9bfc145c4bea2894f59", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/0012ffc23af828493da1b9bfc145c4bea2894f59", "committedDate": "2020-06-16T17:09:27Z", "message": "Fixed some typos"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0d9d26956d0c6c066e3aa0102bfdfea8c5f1ea1", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/e0d9d26956d0c6c066e3aa0102bfdfea8c5f1ea1", "committedDate": "2020-06-23T09:57:03Z", "message": "Removed commented code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bfed825ff1c86a472cb4173c90a350ba5589e926", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/bfed825ff1c86a472cb4173c90a350ba5589e926", "committedDate": "2020-07-06T12:16:33Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6f5e5480124dd0df92e137a29d6a9e1e4d54a3a", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/b6f5e5480124dd0df92e137a29d6a9e1e4d54a3a", "committedDate": "2020-07-07T06:33:28Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0982cecab6dc5ca3512669aa3b792ba5fbe1e9cf", "author": {"user": {"login": "htappen", "name": "Henry Tappen"}}, "url": "https://github.com/pytorch/serve/commit/0982cecab6dc5ca3512669aa3b792ba5fbe1e9cf", "committedDate": "2020-07-07T13:23:35Z", "message": "Refactor BaseHandler"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c9acb4a8b6d0b7bea2f1f2a825f2d842e3655b0", "author": {"user": {"login": "htappen", "name": "Henry Tappen"}}, "url": "https://github.com/pytorch/serve/commit/5c9acb4a8b6d0b7bea2f1f2a825f2d842e3655b0", "committedDate": "2020-07-07T14:19:30Z", "message": "Adding in unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3cfe6199f1ec3ac72f69f494ecc5c59d70b6843b", "author": {"user": {"login": "htappen", "name": "Henry Tappen"}}, "url": "https://github.com/pytorch/serve/commit/3cfe6199f1ec3ac72f69f494ecc5c59d70b6843b", "committedDate": "2020-07-07T14:24:16Z", "message": "Fixed gitignore in this branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5aadbc706c0ab65eb1b8ada0cc721446ced5bc5", "author": {"user": {"login": "htappen", "name": "Henry Tappen"}}, "url": "https://github.com/pytorch/serve/commit/c5aadbc706c0ab65eb1b8ada0cc721446ced5bc5", "committedDate": "2020-07-07T16:52:28Z", "message": "Fix a bug with Image Segmenter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd2b428920e12e57bbe5f63fc87cbd2e8ca4869f", "author": {"user": {"login": "htappen", "name": "Henry Tappen"}}, "url": "https://github.com/pytorch/serve/commit/fd2b428920e12e57bbe5f63fc87cbd2e8ca4869f", "committedDate": "2020-07-07T19:14:48Z", "message": "Updated Object Detector to reuse functionality; consistency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ebbd9fd9441e0c6cace142cc19aad2cc46190f3", "author": {"user": {"login": "htappen", "name": "Henry Tappen"}}, "url": "https://github.com/pytorch/serve/commit/5ebbd9fd9441e0c6cace142cc19aad2cc46190f3", "committedDate": "2020-07-08T00:26:33Z", "message": "Fix pylint errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61d447117e21bb942aec0b7a6ceb72e329385cbe", "author": {"user": {"login": "htappen", "name": "Henry Tappen"}}, "url": "https://github.com/pytorch/serve/commit/61d447117e21bb942aec0b7a6ceb72e329385cbe", "committedDate": "2020-07-08T02:25:46Z", "message": "Backwards compat for index_names.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b7743c558652a240963a1e1dda804be7014a4b4", "author": {"user": {"login": "htappen", "name": "Henry Tappen"}}, "url": "https://github.com/pytorch/serve/commit/7b7743c558652a240963a1e1dda804be7014a4b4", "committedDate": "2020-07-08T04:52:27Z", "message": "Fixed Image Segmenter again"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45ac4999fb081a97de0a3d80b2fb095e5e74b126", "author": {"user": {"login": "htappen", "name": "Henry Tappen"}}, "url": "https://github.com/pytorch/serve/commit/45ac4999fb081a97de0a3d80b2fb095e5e74b126", "committedDate": "2020-07-08T14:58:39Z", "message": "Made the compat layer in text actually compat."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e6619a78ef420e29fe4b83e6f26c017221663a3", "author": {"user": {"login": "htappen", "name": "Henry Tappen"}}, "url": "https://github.com/pytorch/serve/commit/7e6619a78ef420e29fe4b83e6f26c017221663a3", "committedDate": "2020-07-08T16:47:12Z", "message": "Removed batching from text classifier"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59e7add4998d97b1cf5d9b3cfa0d046c49fb896a", "author": {"user": {"login": "htappen", "name": "Henry Tappen"}}, "url": "https://github.com/pytorch/serve/commit/59e7add4998d97b1cf5d9b3cfa0d046c49fb896a", "committedDate": "2020-07-09T03:58:58Z", "message": "Adding comments per review."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b90357124daa6bea47fc6161f554b92b8855f6d", "author": {"user": {"login": "htappen", "name": "Henry Tappen"}}, "url": "https://github.com/pytorch/serve/commit/0b90357124daa6bea47fc6161f554b92b8855f6d", "committedDate": "2020-07-09T16:39:05Z", "message": "Fixing doc feedback."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c60e08dc6c7f8dea1907b1a187452cd7202f9dc3", "author": {"user": {"login": "htappen", "name": "Henry Tappen"}}, "url": "https://github.com/pytorch/serve/commit/c60e08dc6c7f8dea1907b1a187452cd7202f9dc3", "committedDate": "2020-07-09T16:56:06Z", "message": "Updating docs about batching."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26e372a8da91690d8e5d1a25394fc90078ad34d3", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/26e372a8da91690d8e5d1a25394fc90078ad34d3", "committedDate": "2020-07-10T15:36:18Z", "message": "Merge pull request #502 from htappen/issue_411\n\nRefactor BaseHandler"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8fff504f90eaa1fa6d3d5c3fb21080b243274b8", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/f8fff504f90eaa1fa6d3d5c3fb21080b243274b8", "committedDate": "2020-07-20T12:29:46Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fe011b3a18f11e07baa8afece9b506ae0734815", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/7fe011b3a18f11e07baa8afece9b506ae0734815", "committedDate": "2020-07-20T12:44:41Z", "message": "Fixed error introduced due to conflict resolution via web based merge tool"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae2ef1b17e1653d7abcb4a2fd47d721d422474b0", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/ae2ef1b17e1653d7abcb4a2fd47d721d422474b0", "committedDate": "2020-07-20T12:51:05Z", "message": "Corrected code comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42dd10cba0c85b3bcf0bf60b691c4a2aca567106", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/42dd10cba0c85b3bcf0bf60b691c4a2aca567106", "committedDate": "2020-07-21T16:54:30Z", "message": "- Updated Object detection & text classification handlers\n- updated docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20079b00ed257a20ce7fa7770a01ca8302d13b5f", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/20079b00ed257a20ce7fa7770a01ca8302d13b5f", "committedDate": "2020-07-21T18:09:04Z", "message": "fixed python linting errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdc14715c4bf04c51d051b3a563473f2a9a5b4b0", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/bdc14715c4bf04c51d051b3a563473f2a9a5b4b0", "committedDate": "2020-07-21T19:23:01Z", "message": "updated index to name json text classifier"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ced7b926e66b88cfe5e8ac582459c97b735507ef", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/ced7b926e66b88cfe5e8ac582459c97b735507ef", "committedDate": "2020-07-21T19:23:36Z", "message": "Merge branch 'issue_411' of https://github.com/pytorch/serve into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c2474cde1e08b9d6030b5e47f54deb45f871d89", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/1c2474cde1e08b9d6030b5e47f54deb45f871d89", "committedDate": "2020-07-22T13:01:26Z", "message": "fixed object detector handler for batch support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ac516621d40f0bbca44164b7030516dc46059cd", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/4ac516621d40f0bbca44164b7030516dc46059cd", "committedDate": "2020-07-22T16:52:20Z", "message": "Fix conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16d438b561bb6b6401f94634c481d2bc959a0078", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/16d438b561bb6b6401f94634c481d2bc959a0078", "committedDate": "2020-07-22T17:21:56Z", "message": "Fixed the batch inference output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e3828fc96215878db2cddc0fab83a711f1ef749", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/9e3828fc96215878db2cddc0fab83a711f1ef749", "committedDate": "2020-07-22T17:23:03Z", "message": "update expected output as per new handler changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "422f293d161ed02efc8901d3c5d0af6e0008b6b7", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/422f293d161ed02efc8901d3c5d0af6e0008b6b7", "committedDate": "2020-07-22T17:24:18Z", "message": "Merge branch 'issue_411' of https://github.com/pytorch/serve into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fd7a5b654059c47197bbba39f4f2ea2564a17ff", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/8fd7a5b654059c47197bbba39f4f2ea2564a17ff", "committedDate": "2020-07-22T19:31:21Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "448dee90a3f7022a1a2426cf2834f11218a63665", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/448dee90a3f7022a1a2426cf2834f11218a63665", "committedDate": "2020-07-22T20:05:01Z", "message": "updated text classification mar name in sanity suite"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "137e40aeadd051301863f945c24eb1f6fdb3eacb", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/137e40aeadd051301863f945c24eb1f6fdb3eacb", "committedDate": "2020-07-22T20:07:55Z", "message": "updated text classifier mar name and removed bert scripted models"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "735ff503524ae39af281921abd4ae54973733a6a", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/735ff503524ae39af281921abd4ae54973733a6a", "committedDate": "2020-07-22T20:24:42Z", "message": "updated model zoo with new text classification url"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14ce6a1273f4187b62808dd222fa63e049814d8e", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/14ce6a1273f4187b62808dd222fa63e049814d8e", "committedDate": "2020-07-22T20:36:07Z", "message": "added model_name in while registering model in sanity suite"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3030b0dffb5b8c8e556a9af2245f74cdb1e4c0d", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/e3030b0dffb5b8c8e556a9af2245f74cdb1e4c0d", "committedDate": "2020-07-23T02:32:08Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f94c8a0ffbe415c673472a023f45a00a4e1791a", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/2f94c8a0ffbe415c673472a023f45a00a4e1791a", "committedDate": "2020-07-23T02:44:15Z", "message": "updated text classification model name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24ba4f84e60f20845f62ef4b9d03e2a3b0808cf9", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/24ba4f84e60f20845f62ef4b9d03e2a3b0808cf9", "committedDate": "2020-07-23T11:20:18Z", "message": "added upgrade option for installing python dependencies in install utils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a77c44d8544b43def33237685341cb24b30e8b0a", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/a77c44d8544b43def33237685341cb24b30e8b0a", "committedDate": "2020-07-23T11:21:24Z", "message": "added upgrade option for installing python dependencies and extra numpy package in regression suite"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82600266a11e83b5464217a99c42eeb6690bddc4", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/82600266a11e83b5464217a99c42eeb6690bddc4", "committedDate": "2020-07-23T11:21:58Z", "message": "refectored pytests in regression suite for better performance and reporting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8e7aeafdac2e0928b2447a7268d489de784f82e", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/c8e7aeafdac2e0928b2447a7268d489de784f82e", "committedDate": "2020-07-24T04:03:22Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5aff7b17d773d439956162f114ee60c16775f1f", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/a5aff7b17d773d439956162f114ee60c16775f1f", "committedDate": "2020-07-27T12:10:12Z", "message": "minor fix in torch-archiver command"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca3e64dcc8d0073e04dd2f63f379202049edb809", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/ca3e64dcc8d0073e04dd2f63f379202049edb809", "committedDate": "2020-07-27T12:10:41Z", "message": "reverted postprocess removal"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb80537dd96ea13405cd08cc0f8a7a1dfee91a8b", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/fb80537dd96ea13405cd08cc0f8a7a1dfee91a8b", "committedDate": "2020-07-28T06:48:22Z", "message": "updated mar files in model zoo to use updated handlers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34aab6f12c783f3a97f8471161b945c76d5fb660", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/34aab6f12c783f3a97f8471161b945c76d5fb660", "committedDate": "2020-07-28T06:50:06Z", "message": "updated regression suite to use updated mar files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c9402a141200e1621ee485244b2983cfc109753", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/7c9402a141200e1621ee485244b2983cfc109753", "committedDate": "2020-07-29T11:05:13Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebebb17edc8b887d694100c7caa64397b9d4a427", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/ebebb17edc8b887d694100c7caa64397b9d4a427", "committedDate": "2020-07-29T12:04:24Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb15cdf54e0e13632593fc17053f4b099b4a62b8", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/bb15cdf54e0e13632593fc17053f4b099b4a62b8", "committedDate": "2020-07-29T12:39:17Z", "message": "suppressed pylint warning in UT"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0b85010b4d1b3c8aeba5b779b6bb4a6275f4f6a", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/a0b85010b4d1b3c8aeba5b779b6bb4a6275f4f6a", "committedDate": "2020-07-29T17:55:56Z", "message": "fixed resnet-152 mar name and expected output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a806f1ab384f369a3d0cf321f74f6afd8f82907", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/9a806f1ab384f369a3d0cf321f74f6afd8f82907", "committedDate": "2020-08-05T04:22:39Z", "message": "Added Language Translation model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07b4d55675c0cfcc7a7a920fe7731aaf5aba2712", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/07b4d55675c0cfcc7a7a920fe7731aaf5aba2712", "committedDate": "2020-08-06T12:14:57Z", "message": "Minor update to Language trslation package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d1c548b0a640d5279e85538823b1b915ebfa530", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/8d1c548b0a640d5279e85538823b1b915ebfa530", "committedDate": "2020-08-06T12:16:11Z", "message": "Added requirements.txt file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "250b56e3c3f4375d260b36cfe0177807a6a7f92d", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/250b56e3c3f4375d260b36cfe0177807a6a7f92d", "committedDate": "2020-08-06T14:41:11Z", "message": "Update create_mar.sh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8516558c9e29b074d9f15c49d4447adaad79b96", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/b8516558c9e29b074d9f15c49d4447adaad79b96", "committedDate": "2020-08-06T14:42:43Z", "message": "Update create_mar.sh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e49c0fdbd3c88fc364bbcbb0ad50f2ff48df4911", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/e49c0fdbd3c88fc364bbcbb0ad50f2ff48df4911", "committedDate": "2020-08-07T04:21:44Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2151dead2683fbe2a435df72787ae2c883055bd9", "author": {"user": null}, "url": "https://github.com/pytorch/serve/commit/2151dead2683fbe2a435df72787ae2c883055bd9", "committedDate": "2020-08-09T11:04:47Z", "message": "Added device specific code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddb18ed21ef49cfcd974fa91df2f5cb9f5de3801", "author": {"user": null}, "url": "https://github.com/pytorch/serve/commit/ddb18ed21ef49cfcd974fa91df2f5cb9f5de3801", "committedDate": "2020-08-09T11:09:24Z", "message": "Added README.md file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a80166f1662743968c909b2bb217d5acf70f101", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/7a80166f1662743968c909b2bb217d5acf70f101", "committedDate": "2020-08-10T06:02:30Z", "message": "Update README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbaffa3f1707f47d42a72bc2b81391db5984bf57", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/fbaffa3f1707f47d42a72bc2b81391db5984bf57", "committedDate": "2020-08-10T06:53:01Z", "message": "Update model_handler.py"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89ac07c387dc4d0c05898742a27e5ec5a36fada4", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/89ac07c387dc4d0c05898742a27e5ec5a36fada4", "committedDate": "2020-08-10T06:55:55Z", "message": "Update model_handler.py"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8ff6a791ba01a700eecadb87256e3e3797ce1ea", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/a8ff6a791ba01a700eecadb87256e3e3797ce1ea", "committedDate": "2020-08-10T09:40:18Z", "message": "Updated create_mar.sh and requirements.txt files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b87cff20ae6c4c0af09d0790a860147c139deec", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/4b87cff20ae6c4c0af09d0790a860147c139deec", "committedDate": "2020-08-11T09:52:59Z", "message": "Updated Transaltion model based on PR comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5243a9774067f48e7c4feaa6bedf85b322be8ca8", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/5243a9774067f48e7c4feaa6bedf85b322be8ca8", "committedDate": "2020-08-11T14:35:41Z", "message": "Updated Language translation README.md file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e55b24a41a16b0c9def928dfc3ca0dc91fc0f6a0", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/e55b24a41a16b0c9def928dfc3ca0dc91fc0f6a0", "committedDate": "2020-08-12T06:20:22Z", "message": "Update model_handler.py"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fec5757a3bb55fd07a912549c2a64f8f224b7c9", "author": {"user": {"login": "dhaniram-kshirsagar", "name": null}}, "url": "https://github.com/pytorch/serve/commit/0fec5757a3bb55fd07a912549c2a64f8f224b7c9", "committedDate": "2020-08-14T06:57:24Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3OTQ4ODM2", "url": "https://github.com/pytorch/serve/pull/592#pullrequestreview-467948836", "createdAt": "2020-08-15T05:16:13Z", "commit": {"oid": "0fec5757a3bb55fd07a912549c2a64f8f224b7c9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNVQwNToxNjoxM1rOHBH4Wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNVQwNToxNjoxM1rOHBH4Wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDkzOTczOA==", "bodyText": "@AshwinChafale Is there any reason for not using the public pypi version of fairseq?", "url": "https://github.com/pytorch/serve/pull/592#discussion_r470939738", "createdAt": "2020-08-15T05:16:13Z", "author": {"login": "chauhang"}, "path": "examples/Language_Translation/English_to_French_Translation/requirements.txt", "diffHunk": "@@ -0,0 +1,6 @@\n+fastBPE\n+regex \n+requests \n+sacremoses \n+subword_nmt\n+fairseq-0.9.0.tar.gz", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fec5757a3bb55fd07a912549c2a64f8f224b7c9"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3OTQ4ODkw", "url": "https://github.com/pytorch/serve/pull/592#pullrequestreview-467948890", "createdAt": "2020-08-15T05:17:35Z", "commit": {"oid": "0fec5757a3bb55fd07a912549c2a64f8f224b7c9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNVQwNToxNzozNVrOHBH5EA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNVQwNToxNzozNVrOHBH5EA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDkzOTkyMA==", "bodyText": "@AshwinChafale It will be good if you can add support for Batch processing as well. Otherwise please add clarification notes that batch processing is not supported", "url": "https://github.com/pytorch/serve/pull/592#discussion_r470939920", "createdAt": "2020-08-15T05:17:35Z", "author": {"login": "chauhang"}, "path": "examples/Language_Translation/English_to_French_Translation/model_handler.py", "diffHunk": "@@ -0,0 +1,61 @@\n+from ts.torch_handler.base_handler import BaseHandler\n+from fairseq.models.transformer import TransformerModel\n+import torch\n+from pathlib import Path\n+import os\n+import logging\n+\n+logger = logging.getLogger(__name__)\n+\n+\n+class LanguageTranslationHandler(BaseHandler):\n+\n+    def __init__(self):\n+        self._context = None\n+        self.initialized = False\n+        self.model = None\n+        self.device = None\n+\n+    def initialize(self, context):\n+        self._context = context\n+        self.initialized = True\n+        self.manifest = context.manifest\n+\n+        properties = context.system_properties\n+        model_dir = properties.get(\"model_dir\")\n+\n+        self.device = torch.device(\n+            \"cuda:\" + str(properties.get(\"gpu_id\")) if torch.cuda.is_available() else \"cpu\")\n+\n+        #  load the model\n+        self.model = TransformerModel.from_pretrained(\n+            model_dir,\n+            checkpoint_file='model.pt',\n+            data_name_or_path=model_dir,\n+            tokenizer='moses',\n+            bpe='subword_nmt'\n+        )\n+        self.model.to(self.device)\n+        self.model.eval()\n+\n+        self.initialized = True\n+\n+    def preprocess(self, data):\n+        text = data[0].get(\"data\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fec5757a3bb55fd07a912549c2a64f8f224b7c9"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3OTQ5MDI1", "url": "https://github.com/pytorch/serve/pull/592#pullrequestreview-467949025", "createdAt": "2020-08-15T05:20:09Z", "commit": {"oid": "0fec5757a3bb55fd07a912549c2a64f8f224b7c9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNVQwNToyMDoxMFrOHBH54Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNVQwNToyMDoxMFrOHBH54Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDk0MDEyOQ==", "bodyText": "@AshwinChafale For ease of maintainability with future releases of Fairseq, it will be better to not peg to a specific version. Is there any special reason for using the 0.9.0 version explicitly?", "url": "https://github.com/pytorch/serve/pull/592#discussion_r470940129", "createdAt": "2020-08-15T05:20:10Z", "author": {"login": "chauhang"}, "path": "examples/Language_Translation/English_to_French_Translation/create_mar.sh", "diffHunk": "@@ -0,0 +1,37 @@\n+#!/bin/bash\n+\n+rm -rf fairseq\n+rm wmt14.en-fr.joined-dict.transformer.tar.bz2\n+rm -rf fairseq-build\n+\n+#installing cython\n+pip install Cython\n+\n+#download zip file of fairseq\n+git clone https://github.com/pytorch/fairseq\n+cd fairseq/\n+python3 setup.py sdist bdist_wheel\n+cd ..\n+mkdir fairseq-build\n+cp fairseq/dist/fairseq-0.9.0.tar.gz fairseq-build/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fec5757a3bb55fd07a912549c2a64f8f224b7c9"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3OTQ5MTA0", "url": "https://github.com/pytorch/serve/pull/592#pullrequestreview-467949104", "createdAt": "2020-08-15T05:21:52Z", "commit": {"oid": "0fec5757a3bb55fd07a912549c2a64f8f224b7c9"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4af551bb1f1ee6e18f1d4f8a96640ed039a6cf3e", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/4af551bb1f1ee6e18f1d4f8a96640ed039a6cf3e", "committedDate": "2020-08-17T05:18:39Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "edf4da371316ebefe8865362e888cd8b835562fa", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/edf4da371316ebefe8865362e888cd8b835562fa", "committedDate": "2020-08-18T15:06:03Z", "message": "Update create_mar.sh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a64dfabfbb3ee6098abef1d9730b2dd5e5b13ee", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/9a64dfabfbb3ee6098abef1d9730b2dd5e5b13ee", "committedDate": "2020-08-18T15:07:26Z", "message": "Create requirement_script.py"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2b46aa6bc3996aa9d3f9dab01edfd2321194475", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/c2b46aa6bc3996aa9d3f9dab01edfd2321194475", "committedDate": "2020-08-18T15:09:29Z", "message": "Update model_handler.py"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75df4004227d01e5ea80509cd2965916cca7c165", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/75df4004227d01e5ea80509cd2965916cca7c165", "committedDate": "2020-08-18T15:18:51Z", "message": "Create sample1.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d375c260b94f5ff7a7f9e33534fe1e65135b5aa", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/5d375c260b94f5ff7a7f9e33534fe1e65135b5aa", "committedDate": "2020-08-18T15:19:36Z", "message": "Create sample2.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be237eeb75be1495eacd14ff4b8b6671960373a8", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/be237eeb75be1495eacd14ff4b8b6671960373a8", "committedDate": "2020-08-18T15:21:11Z", "message": "Create sample3.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ee36f57bdd34ca7df93c80c16b49bc7202f821f", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/6ee36f57bdd34ca7df93c80c16b49bc7202f821f", "committedDate": "2020-08-18T15:22:23Z", "message": "Create sample4.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3a04c2257cff0d2441c08608b6dd55ce45f65a7", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/b3a04c2257cff0d2441c08608b6dd55ce45f65a7", "committedDate": "2020-08-18T15:29:44Z", "message": "Update README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e6d6ca538946ab4bc6d0fe4b121fd1b8b715143", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/8e6d6ca538946ab4bc6d0fe4b121fd1b8b715143", "committedDate": "2020-08-18T15:30:13Z", "message": "Update README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a787cc324fae622e1cc589778f1803d7e2721dde", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/a787cc324fae622e1cc589778f1803d7e2721dde", "committedDate": "2020-08-18T15:35:59Z", "message": "Added support for Batch processing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "808d69dd41a6b9e5ba26ec6a1441595dd2453e3f", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/808d69dd41a6b9e5ba26ec6a1441595dd2453e3f", "committedDate": "2020-08-18T15:50:38Z", "message": "Update README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf3f44779d80ef0e494210a203c2d817aedb84b1", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/bf3f44779d80ef0e494210a203c2d817aedb84b1", "committedDate": "2020-08-18T16:42:37Z", "message": "Update README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a9b6ae107f1811bbb498231b501c7a535a37cff", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/3a9b6ae107f1811bbb498231b501c7a535a37cff", "committedDate": "2020-08-18T16:45:04Z", "message": "Update README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1cabe6bb589aaf7c5d9c58f7107d7ff72881e8e", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/f1cabe6bb589aaf7c5d9c58f7107d7ff72881e8e", "committedDate": "2020-08-20T06:17:44Z", "message": "Updated folder structure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6de80e74ac13373897c9e4c19b3ff3ef64a0a116", "author": {"user": null}, "url": "https://github.com/pytorch/serve/commit/6de80e74ac13373897c9e4c19b3ff3ef64a0a116", "committedDate": "2020-08-24T12:11:07Z", "message": "Added German Translation model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc2b232fe1e51797a25367a26e31516696692390", "author": {"user": null}, "url": "https://github.com/pytorch/serve/commit/bc2b232fe1e51797a25367a26e31516696692390", "committedDate": "2020-08-24T12:20:55Z", "message": "Changed file permissions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e23ef5e16fd1d61463bbe50860a1ae0ce39a3524", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/e23ef5e16fd1d61463bbe50860a1ae0ce39a3524", "committedDate": "2020-08-24T14:08:34Z", "message": "Update README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82fb2ca5caac715c7d0823f97cab7f5d788d63ee", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/82fb2ca5caac715c7d0823f97cab7f5d788d63ee", "committedDate": "2020-08-24T14:09:49Z", "message": "Update README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d75ef9b09ecee4740d5f6d1bf0f94f936c190659", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/d75ef9b09ecee4740d5f6d1bf0f94f936c190659", "committedDate": "2020-08-27T04:58:05Z", "message": "Merge branch 'master' into issue_411"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "adfa0ac6ec4914cca7d7e601e45f10df351d6db8", "author": {"user": {"login": "AshwinChafale", "name": "Ashwin Chafale"}}, "url": "https://github.com/pytorch/serve/commit/adfa0ac6ec4914cca7d7e601e45f10df351d6db8", "committedDate": "2020-08-31T08:39:50Z", "message": "Added generalized model handler to support French and German translation"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1997, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}