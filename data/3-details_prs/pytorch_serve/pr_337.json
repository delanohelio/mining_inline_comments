{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2ODE1NDg3", "number": 337, "title": "Updated configuration.md for missing config properties", "bodyText": "Description\nAdded missing config properties in configuration.md\nAdded an note on use of enable_envvars_config.\nModifed MODEL_SERVER_HOME env variable to TS_MODEL_SERVER_HOME to make it inline with other config properties which can be set using env vars.\nFixes #204\nType of change\nPlease delete options that are not relevant.\n\n Bug fix (non-breaking change which fixes an issue)\n This change requires a documentation update\n\nFeature/Issue validation/testing\n\n\n Test A\nset enable_envvars_config true in config.properties\nUse  env variable to  set config property. (refer configuration.md)\nObserve use of env variable in torchserve instance.\n\n\nUT/IT execution results\n\n\nLogs\n\n\n[\nissue_204_torchserve_sanity_log.txt\n\n\nChecklist:\n] Have you added tests that prove your fix is effective or that this feature works?\n\n New and existing unit tests pass locally with these changes?\n Has code been commented, particularly in hard-to-understand areas?\n Have you made corresponding changes to the documentation?", "createdAt": "2020-05-12T15:52:01Z", "url": "https://github.com/pytorch/serve/pull/337", "merged": true, "mergeCommit": {"oid": "3343b14263105111ad9afec927f69da090962664"}, "closed": true, "closedAt": "2020-05-21T18:57:20Z", "author": {"login": "shivamshriwas"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcglPy-AH2gAyNDE2ODE1NDg3OmJhNjMwYzViNjQ2NDFlYjYxYmIxYTNkY2U1NzMyN2M0MzJkOWM2MDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjiR4UAFqTQxNjQwMzIxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ba630c5b64641eb61bb1a3dce57327c432d9c604", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/ba630c5b64641eb61bb1a3dce57327c432d9c604", "committedDate": "2020-05-12T14:35:24Z", "message": "Updated configuration.md for missing parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "acd2269be5d50ea7ee7b839fe31bf7c041671931", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/acd2269be5d50ea7ee7b839fe31bf7c041671931", "committedDate": "2020-05-12T16:06:44Z", "message": "changes TS_MODEL_SNAPSHOT to MODEL_SNAPSHOT\n- removes ambiguity\n- follows naming convention"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8ca5e1add1334d0c8c51e614c36089ee4436f29", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/d8ca5e1add1334d0c8c51e614c36089ee4436f29", "committedDate": "2020-05-19T05:36:43Z", "message": "Merge branch 'staging_0_1_1' into issue_204"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0ODk1MzE1", "url": "https://github.com/pytorch/serve/pull/337#pullrequestreview-414895315", "createdAt": "2020-05-19T23:37:19Z", "commit": {"oid": "d8ca5e1add1334d0c8c51e614c36089ee4436f29"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMzozNzoyMFrOGX2QuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMzo0MDo0NVrOGX2Uww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY1OTQ0OQ==", "bodyText": "This works, but their is no server-side exception, fails silently. I have to run curl with verbose output to see the following response code. Maybe we should document this\n< HTTP/1.1 413 Request Entity Too Large\n< content-length: 0\n* HTTP error before end of send, stop sending\n\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * `max_request_size` : The maximum allowable request size that the Torchserve accepts.\n          \n          \n            \n            * `max_request_size` : The maximum allowable request size that the Torchserve accepts, in bytes.", "url": "https://github.com/pytorch/serve/pull/337#discussion_r427659449", "createdAt": "2020-05-19T23:37:20Z", "author": {"login": "maaquib"}, "path": "docs/configuration.md", "diffHunk": "@@ -191,3 +191,18 @@ Most of the following properties are designed for performance tuning. Adjusting\n * `decode_input_request`: Configuration to let backend workers to decode requests, when the content type is known.\n If this is set to \"true\", backend workers do \"Bytearray to JSON object\" conversion when the content type is \"application/json\" and\n the backend workers convert \"Bytearray to utf-8 string\" when the Content-Type of the request is set to \"text*\". Default: true  \n+* `debug`: runs Torchserve in debug mode where `default_workers_per_model` is set to 1 when this flag is true.\n+* `model_store` : path of model store directory.\n+* `model_server_home` : Torchserve home directory.\n+* `max_request_size` : The maximum allowable request size that the Torchserve accepts.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8ca5e1add1334d0c8c51e614c36089ee4436f29"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY2MDQxOA==", "bodyText": "Doesn't seem to be working\n> cat /tmp/serve/config.properties\ndebug=true\nmodel_store=/tmp/model-store\nmodel_server_home=/tmp/model-server-home\nmax_request_size=1000000\nmax_response_size=1\n\n> torchserve --start --ts-config config.properties\n...\nDefault workers per model: 1\nBlacklist Regex: N/A\nMaximum Response Size: 1\nMaximum Request Size: 1000000\n...\n\n> curl -X POST \"http://127.0.0.1:8081/models?url=https://torchserve.s3.amazonaws.com/mar_files/squeezenet1_1.mar\"\n\n> curl -X POST http://0.0.0.0:8080/predictions/squeezenet1_1 -T /tmp/kitten.jpg\n{\n  \"code\": 503,\n  \"type\": \"ServiceUnavailableException\",\n  \"message\": \"No worker is available to serve request: squeezenet1_1\"\n}\n\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * `debug`: runs Torchserve in debug mode where `default_workers_per_model` is set to 1 when this flag is true.\n          \n          \n            \n            * `debug`: Runs Torchserve in debug mode where `default_workers_per_model` is set to 1 when this flag is true.", "url": "https://github.com/pytorch/serve/pull/337#discussion_r427660418", "createdAt": "2020-05-19T23:40:35Z", "author": {"login": "maaquib"}, "path": "docs/configuration.md", "diffHunk": "@@ -191,3 +191,18 @@ Most of the following properties are designed for performance tuning. Adjusting\n * `decode_input_request`: Configuration to let backend workers to decode requests, when the content type is known.\n If this is set to \"true\", backend workers do \"Bytearray to JSON object\" conversion when the content type is \"application/json\" and\n the backend workers convert \"Bytearray to utf-8 string\" when the Content-Type of the request is set to \"text*\". Default: true  \n+* `debug`: runs Torchserve in debug mode where `default_workers_per_model` is set to 1 when this flag is true.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8ca5e1add1334d0c8c51e614c36089ee4436f29"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY2MDQ4Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * `model_store` : path of model store directory.\n          \n          \n            \n            * `model_store` : Path of model store directory.", "url": "https://github.com/pytorch/serve/pull/337#discussion_r427660483", "createdAt": "2020-05-19T23:40:45Z", "author": {"login": "maaquib"}, "path": "docs/configuration.md", "diffHunk": "@@ -191,3 +191,18 @@ Most of the following properties are designed for performance tuning. Adjusting\n * `decode_input_request`: Configuration to let backend workers to decode requests, when the content type is known.\n If this is set to \"true\", backend workers do \"Bytearray to JSON object\" conversion when the content type is \"application/json\" and\n the backend workers convert \"Bytearray to utf-8 string\" when the Content-Type of the request is set to \"text*\". Default: true  \n+* `debug`: runs Torchserve in debug mode where `default_workers_per_model` is set to 1 when this flag is true.\n+* `model_store` : path of model store directory.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8ca5e1add1334d0c8c51e614c36089ee4436f29"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3f3db2f5e107e0430c62e4d54cdc63bb051c9e5", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/b3f3db2f5e107e0430c62e4d54cdc63bb051c9e5", "committedDate": "2020-05-20T00:18:00Z", "message": "Merge branch 'staging_0_1_1' into issue_204"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a76474897952f76eab442323232295fa4eda1e46", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/a76474897952f76eab442323232295fa4eda1e46", "committedDate": "2020-05-20T18:31:27Z", "message": "addressed review comments."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04b0170fad13dc4a5a3396725fa86c626da61b44", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/04b0170fad13dc4a5a3396725fa86c626da61b44", "committedDate": "2020-05-20T18:31:58Z", "message": "Merge branch 'issue_204' of https://github.com/pytorch/serve into issue_204"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5184ca57995320681446a1284627957968b9968", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/e5184ca57995320681446a1284627957968b9968", "committedDate": "2020-05-20T18:32:18Z", "message": "Merge branch 'staging_0_1_1' of https://github.com/pytorch/serve into issue_204"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8369dbde5fb6ccee9e1975cfa96d8eb2d8e30d9", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/a8369dbde5fb6ccee9e1975cfa96d8eb2d8e30d9", "committedDate": "2020-05-20T19:32:39Z", "message": "Merge branch 'staging_0_1_1' into issue_204"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "888e3b36bd460113488173a4a31da7cae20dac76", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/888e3b36bd460113488173a4a31da7cae20dac76", "committedDate": "2020-05-21T10:03:19Z", "message": "removed debug property"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b8fe71dc187f6f04d3bfa2c50ea79299bf8f31e", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/5b8fe71dc187f6f04d3bfa2c50ea79299bf8f31e", "committedDate": "2020-05-21T10:04:45Z", "message": "Merge branch 'issue_204' of https://github.com/pytorch/serve into issue_204"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MjY1NDQ5", "url": "https://github.com/pytorch/serve/pull/337#pullrequestreview-416265449", "createdAt": "2020-05-21T15:41:33Z", "commit": {"oid": "5b8fe71dc187f6f04d3bfa2c50ea79299bf8f31e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo0MTozM1rOGY3-zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo0MTozM1rOGY3-zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODczNjIwNw==", "bodyText": "List down steps", "url": "https://github.com/pytorch/serve/pull/337#discussion_r428736207", "createdAt": "2020-05-21T15:41:33Z", "author": {"login": "dhaniram-kshirsagar"}, "path": "docs/configuration.md", "diffHunk": "@@ -191,3 +191,17 @@ Most of the following properties are designed for performance tuning. Adjusting\n * `decode_input_request`: Configuration to let backend workers to decode requests, when the content type is known.\n If this is set to \"true\", backend workers do \"Bytearray to JSON object\" conversion when the content type is \"application/json\" and\n the backend workers convert \"Bytearray to utf-8 string\" when the Content-Type of the request is set to \"text*\". Default: true  \n+* `model_store` : Path of model store directory.\n+* `model_server_home` : Torchserve home directory. \n+* `max_request_size` : The maximum allowable request size that the Torchserve accepts, in bytes. Default: 6553500\n+* `max_response_size` : The maximum buffer size the frontend allocates for a worker response, in bytes. Default: 6553500\n+\n+---\n+**NOTE**\n+\n+Config properties can be set using environment variable only when `enable_envvars_config` is true and ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b8fe71dc187f6f04d3bfa2c50ea79299bf8f31e"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29dfd9375292bf056777073631de867db44f4054", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/29dfd9375292bf056777073631de867db44f4054", "committedDate": "2020-05-21T16:51:06Z", "message": "updated configuration.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3456e29503789fc2bfdbf1ab4a118e4495b3b8bf", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/3456e29503789fc2bfdbf1ab4a118e4495b3b8bf", "committedDate": "2020-05-21T18:19:45Z", "message": "Merge branch 'staging_0_1_1' of https://github.com/pytorch/serve into issue_204\n\n# Conflicts:\n#\tfrontend/server/src/main/java/org/pytorch/serve/util/ConfigManager.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1af405bd64b95b296460646202b000a6c24250ec", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/1af405bd64b95b296460646202b000a6c24250ec", "committedDate": "2020-05-21T18:37:56Z", "message": "Merge branch 'staging_0_1_1' into issue_204"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NDAzMjE0", "url": "https://github.com/pytorch/serve/pull/337#pullrequestreview-416403214", "createdAt": "2020-05-21T18:49:44Z", "commit": {"oid": "1af405bd64b95b296460646202b000a6c24250ec"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2401, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}