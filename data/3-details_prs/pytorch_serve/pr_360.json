{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5MzM4MTE5", "number": 360, "title": "Fixes version number reporting for TorchServe", "bodyText": "Description\n\nIntroduces version.txt for getting version info which is used by both backend and frontend.\nwhich enables single point updation for version number.\nfixes version for torchserve -v.\nfixes version in OpenApi description.\nadds Version info in start up logs.\n\nFixes #319\nType of change\n\n Bug fix (non-breaking change which fixes an issue)\n\nFeature/Issue validation/testing\nInstall torchserve  from source\n\n Test A\nrun torchserve -v it should return \"TorchServe Version is 0.1.1\"\n Test B\nrun torchserve --start model-store modelstore\nsee the start logs showing TS version 0.1.1\n\nubuntu@ip-172-31-30-88:~/serve$ torchserve --start --model-store modelstore\nubuntu@ip-172-31-30-88:~/serve$ 2020-05-18 14:42:11,599 [INFO ] main org.pytorch.serve.ModelServer - \nTorchserve version: 0.1.1\nTS Home: /home/ubuntu/anaconda3/lib/python3.7/site-packages\nCurrent directory: /home/ubuntu/serve\nTemp directory: /tmp\nNumber of GPUs: 0\nNumber of CPUs: 4\n\n\n\n Test C\nrun curl  -X OPTIONS http://localhost:8080 or curl  -X OPTIONS http://localhost:8081\ncheck torch serve version in open Api description\n\n\nUT/IT execution results\n\n\nLogs\nissue_319_torchserve_sanity_log.txt\n\n\nChecklist:\n\n Have you added tests that prove your fix is effective or that this feature works?\n New and existing unit tests pass locally with these changes?\n Has code been commented, particularly in hard-to-understand areas?\n Have you made corresponding changes to the documentation?", "createdAt": "2020-05-18T08:25:24Z", "url": "https://github.com/pytorch/serve/pull/360", "merged": true, "mergeCommit": {"oid": "7db018badf10948aa86dc8b765ea3462294a3c7a"}, "closed": true, "closedAt": "2020-05-21T17:21:57Z", "author": {"login": "shivamshriwas"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcibeGIgH2gAyNDE5MzM4MTE5OjU4NzViZWRlMjRiMWRlMTU5NDY2Mjk5MGI4MzU1OTQ1Yzc3NWNlMDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjg_ltgFqTQxNjM0MDU4Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5875bede24b1de1594662990b8355945c775ce01", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/5875bede24b1de1594662990b8355945c775ce01", "committedDate": "2020-05-18T08:19:49Z", "message": "Correct version and added vesion.txt for getting version info"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "150d032794bc22bf260e71c1ab05a3bc78239bbf", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/150d032794bc22bf260e71c1ab05a3bc78239bbf", "committedDate": "2020-05-18T08:47:48Z", "message": "fixed description test cases and build issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3eaff53b2831263ffcd959d2f60301976b8610ea", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/3eaff53b2831263ffcd959d2f60301976b8610ea", "committedDate": "2020-05-18T10:52:14Z", "message": "Added snapshot test fixes\nand resolved relative path issue for version.txt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "311f8aa427c35be435337f8e798555e87f2fbd73", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/311f8aa427c35be435337f8e798555e87f2fbd73", "committedDate": "2020-05-18T10:59:25Z", "message": "python formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7461facdae52f4340af01ab261f88c1aff84f264", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/7461facdae52f4340af01ab261f88c1aff84f264", "committedDate": "2020-05-18T13:52:57Z", "message": "added version.txt in MANIFEST.in"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzODgxNDg3", "url": "https://github.com/pytorch/serve/pull/360#pullrequestreview-413881487", "createdAt": "2020-05-18T19:31:57Z", "commit": {"oid": "7461facdae52f4340af01ab261f88c1aff84f264"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxOTozMTo1N1rOGXEyWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxOTozMTo1N1rOGXEyWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjg0ODg1Ng==", "bodyText": "This should come from version.txt", "url": "https://github.com/pytorch/serve/pull/360#discussion_r426848856", "createdAt": "2020-05-18T19:31:57Z", "author": {"login": "dhaniram-kshirsagar"}, "path": "frontend/server/src/test/resources/snapshots/snapshot9.cfg", "diffHunk": "@@ -16,3 +16,4 @@ max_request_size=10485760\n unregister_model_timeout=120\n certificate_file=src/test/resources/certs.pem\n management_address=unix\\:/tmp/management.sock\n+version=0.1.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7461facdae52f4340af01ab261f88c1aff84f264"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzODgyMDA2", "url": "https://github.com/pytorch/serve/pull/360#pullrequestreview-413882006", "createdAt": "2020-05-18T19:32:52Z", "commit": {"oid": "7461facdae52f4340af01ab261f88c1aff84f264"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxOTozMjo1MlrOGXE0Fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxOTozMjo1MlrOGXE0Fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjg0OTMwMw==", "bodyText": "This should be dynamically populated", "url": "https://github.com/pytorch/serve/pull/360#discussion_r426849303", "createdAt": "2020-05-18T19:32:52Z", "author": {"login": "dhaniram-kshirsagar"}, "path": "frontend/server/src/test/resources/inference_open_api.json", "diffHunk": "@@ -3,7 +3,7 @@\n   \"info\": {\n     \"title\": \"TorchServe APIs\",\n     \"description\": \"TorchServe is a flexible and easy to use tool for serving deep learning models\",\n-    \"version\": \"1.0.0\"\n+    \"version\": \"0.1.1\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7461facdae52f4340af01ab261f88c1aff84f264"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e04e3506e74616768e764280cb59c6c309613caf", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/e04e3506e74616768e764280cb59c6c309613caf", "committedDate": "2020-05-18T22:04:46Z", "message": "Merge branch 'staging_0_1_1' into issue_319"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5256a3f1149dfbb8b21c271622951a63d3c479af", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/5256a3f1149dfbb8b21c271622951a63d3c479af", "committedDate": "2020-05-19T04:06:53Z", "message": "Merge branch 'staging_0_1_1' into issue_319"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5885a79df1983da088f4337ed48e13e2eafd2c6", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/d5885a79df1983da088f4337ed48e13e2eafd2c6", "committedDate": "2020-05-19T09:05:04Z", "message": "addressed review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NTg5MzU2", "url": "https://github.com/pytorch/serve/pull/360#pullrequestreview-415589356", "createdAt": "2020-05-20T18:07:41Z", "commit": {"oid": "d5885a79df1983da088f4337ed48e13e2eafd2c6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxODowNzo0MVrOGYXyCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxODowNzo0MVrOGYXyCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODIwODY1MA==", "bodyText": "Can't we keep version.txt at root level?", "url": "https://github.com/pytorch/serve/pull/360#discussion_r428208650", "createdAt": "2020-05-20T18:07:41Z", "author": {"login": "dhaniram-kshirsagar"}, "path": "MANIFEST.in", "diffHunk": "@@ -1,3 +1,4 @@\n include ts/frontend/model-server.jar\n include PyPiDescription.rst\n include ts/configs/*\n+include ts/version.txt", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d5885a79df1983da088f4337ed48e13e2eafd2c6"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbb83a33ca6d1cd2e11d12abfd95bbc5c8494c3e", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/fbb83a33ca6d1cd2e11d12abfd95bbc5c8494c3e", "committedDate": "2020-05-20T19:31:25Z", "message": "Merge branch 'staging_0_1_1' into issue_319"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d37448311e37c8c4c77a5adbc17e06b73200b102", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/d37448311e37c8c4c77a5adbc17e06b73200b102", "committedDate": "2020-05-21T07:27:32Z", "message": "added version.txt for model archiver as well\n- addressed review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dc4ecc5cf157fa62401136b3476e172ba109f60", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/3dc4ecc5cf157fa62401136b3476e172ba109f60", "committedDate": "2020-05-21T09:21:56Z", "message": "-fixed python UT\n-added ts python UT run in sanity script"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32ab6fabb3248120e9ebe2634bab154d2f2e675e", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/32ab6fabb3248120e9ebe2634bab154d2f2e675e", "committedDate": "2020-05-21T09:57:10Z", "message": "removed blank lines from snapshot files"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MjQyODE3", "url": "https://github.com/pytorch/serve/pull/360#pullrequestreview-416242817", "createdAt": "2020-05-21T15:20:42Z", "commit": {"oid": "32ab6fabb3248120e9ebe2634bab154d2f2e675e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2dcf1f27c2e6270081dc69e38070d7c8e03af8f", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/e2dcf1f27c2e6270081dc69e38070d7c8e03af8f", "committedDate": "2020-05-21T17:10:23Z", "message": "Merge branch 'staging_0_1_1' into issue_319"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MzQwNTg3", "url": "https://github.com/pytorch/serve/pull/360#pullrequestreview-416340587", "createdAt": "2020-05-21T17:19:51Z", "commit": {"oid": "e2dcf1f27c2e6270081dc69e38070d7c8e03af8f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2145, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}