{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2MjM5NDk0", "number": 555, "title": "Enhanced benchmark-ab script to support benchmark profiling", "bodyText": "Description\nFixes #554\nType of change\n\n New feature (non-breaking change which adds functionality)\n This change requires a documentation update\n\nFeature/Issue validation/testing\nrun benchmark-ab.py with following config.json\n{\n  \"url\":\"https://torchserve.s3.amazonaws.com/mar_files/vgg11.mar\",\n  \"requests\": 10000,\n  \"concurrency\": 100,\n  \"input\": \"../examples/image_classifier/kitten.jpg\",\n  \"exec_env\": \"docker\",\n  \"batch_size\": 4,\n  \"batch_delay\": 50,\n  \"image\": \"torchserve:cpu\",\n  \"workers\": 4,\n  \"backend_profiling\": \"True\"\n}\n\ncheck the /tmp/tsPythonProfile.prof file is also generated .\nChecklist:\n\n Have you made corresponding changes to the documentation?", "createdAt": "2020-07-24T11:39:06Z", "url": "https://github.com/pytorch/serve/pull/555", "merged": true, "mergeCommit": {"oid": "ac5ac9fab76bbf1ea38b4f22273c3444c72e5d82"}, "closed": true, "closedAt": "2020-08-04T19:03:33Z", "author": {"login": "harshbafna"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4CaQmAH2gAyNDU2MjM5NDk0OmQ0MDY1Njk0ZGFjNDNkNGNlM2YzMzZiNTY2NGZjMGU4NzRlNWMyNWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7q-J7gH2gAyNDU2MjM5NDk0Ojk5MzUwM2Y3NTQxZjM2YmI4OWQxYzk5NjlhYTM3ZTg4OTY1ZjlhMTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d4065694dac43d4ce3f336b5664fc0e874e5c25a", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/d4065694dac43d4ce3f336b5664fc0e874e5c25a", "committedDate": "2020-07-24T11:34:20Z", "message": "added new flag for backend profiling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a59d668099907f779f5e09adf7bec30593d8e5e0", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/a59d668099907f779f5e09adf7bec30593d8e5e0", "committedDate": "2020-07-24T11:34:38Z", "message": "updated documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "518ca6c5cd865c243711d658c8a5511e2f73c960", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/518ca6c5cd865c243711d658c8a5511e2f73c960", "committedDate": "2020-07-24T11:55:53Z", "message": "updated tmp directory mapping in docker command"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa36c4a3ff2203c8cb80b160de6e9d142352b33d", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/aa36c4a3ff2203c8cb80b160de6e9d142352b33d", "committedDate": "2020-07-27T09:31:36Z", "message": "fixed input param name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f81ae0a0b5e13ad1d2604f2220487e731553172", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/6f81ae0a0b5e13ad1d2604f2220487e731553172", "committedDate": "2020-07-27T09:45:30Z", "message": "removed unused param"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1ODA0MjE1", "url": "https://github.com/pytorch/serve/pull/555#pullrequestreview-455804215", "createdAt": "2020-07-27T13:55:29Z", "commit": {"oid": "6f81ae0a0b5e13ad1d2604f2220487e731553172"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMzo1NTozMFrOG3jkKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMzo1NTozMFrOG3jkKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwNzU2Mw==", "bodyText": "Looks like a typo.", "url": "https://github.com/pytorch/serve/pull/555#discussion_r460907563", "createdAt": "2020-07-27T13:55:30Z", "author": {"login": "dhaniram-kshirsagar"}, "path": "benchmarks/README.md", "diffHunk": "@@ -235,6 +238,8 @@ The following parameters can be used to run the AB benchmark suite.\n - image: Custom docker image to run Torchserve on. Default: Standard public Torchserve image\n - docker_runtime: Specify docker runtime if required\n - ts: Use Already running Torchserve instance. Default: False\n+- gpus: Number of gpus to run docker container with. By default it runs the docker container on CPU.\n+- backend_profiling: Number of gpus to run docker container with. By default it runs the docker container on CPU.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f81ae0a0b5e13ad1d2604f2220487e731553172"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b77c69a6f1c772f074ffbd78db0802fbcd0fac4", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/4b77c69a6f1c772f074ffbd78db0802fbcd0fac4", "committedDate": "2020-07-27T14:32:42Z", "message": "updated copy paste typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d4a48af48120db3ae6ad2efaf557c12f55a27fd", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/3d4a48af48120db3ae6ad2efaf557c12f55a27fd", "committedDate": "2020-07-29T11:13:20Z", "message": "Merge branch 'master' into issue_554"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d85da56062839be9b2b0853e9b326b9f19d7c5b4", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/d85da56062839be9b2b0853e9b326b9f19d7c5b4", "committedDate": "2020-07-30T13:42:50Z", "message": "Merge branch 'master' into issue_554"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c99fc1a8d80cf4f0461eefbac93a9b964abd8967", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/c99fc1a8d80cf4f0461eefbac93a9b964abd8967", "committedDate": "2020-08-04T04:35:53Z", "message": "Merge branch 'master' into issue_554"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMDMyODQy", "url": "https://github.com/pytorch/serve/pull/555#pullrequestreview-461032842", "createdAt": "2020-08-04T17:43:43Z", "commit": {"oid": "c99fc1a8d80cf4f0461eefbac93a9b964abd8967"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c2f52f8175577c7cca784ad7694ee665b136f7f", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/4c2f52f8175577c7cca784ad7694ee665b136f7f", "committedDate": "2020-08-04T17:43:50Z", "message": "Merge branch 'master' into issue_554"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a72ecf662cbdb824b2132d1a030668f604c5d312", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/a72ecf662cbdb824b2132d1a030668f604c5d312", "committedDate": "2020-08-04T18:02:46Z", "message": "Merge branch 'master' into issue_554"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "993503f7541f36bb89d1c9969aa37e88965f9a17", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/993503f7541f36bb89d1c9969aa37e88965f9a17", "committedDate": "2020-08-04T18:31:31Z", "message": "Merge branch 'master' into issue_554"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2279, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}