{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3NDg1MTgw", "number": 344, "title": "Regression suite fixes and added test cases", "bodyText": "Description\nThis PR address following :\n\nAdds inference test cases for all models present in model zoo\n\nText Classification\nDenseNet\nSqueezeNet\nAlexnet\nResnet-18\nVGG11\nMNIST\nFAST RCNN\nMASK RCNN\nFCN Resnet 101\nResnet 152\n\n\nFixes issues related to executing regression test suite in docker image\nFixes issues related to executing regression test suite on EC2 instance\nUpdates corresponding documentation\nAdds Resnet152 in model zoo.\nAdds https test cases\n\nget inference/management api description\nregister model\nscale model sync/async\nunregister model\n\n\nFixes Management api collection failures on staging_0_1_1 branch\nFixed Pytest failure  on staging_0_1_1 branch\n\n***Commit 17de679 from @shivamshriwas has further simplified the task of adding inference related test cases in future.\nFixes #57\nType of change\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n\nFeature/Issue validation/testing\nExecuted steps as per https://github.com/pytorch/serve/blob/4fe5ae9aaa5a2b1ffdd5861297c23487bee05fb0/test/README.md\nAnd successfully generated the updated inference and management api reports.\nLogs from run on EC2 instance :\ntest_exec.log\nLogs from run on docker container :\ntest_exec.log\nChecklist:\n\n Have you added tests that prove your fix is effective or that this feature works?\n New and existing unit tests pass locally with these changes?\n Have you made corresponding changes to the documentation?\n\nNote\nThe test suite  in this PR can be run on staging_0_1_1  or regression_suite_issue57 branch due to dependency on staging_0_1_1 branch PR# #322 .\nUse this cmd to run test suite.\n./test/regression_tests.sh regression_suite_issue57\nUpdated logs\nLogs from run on docker container :\ndocker_test_exec_log.txt\nLogs from run on EC2 instance :\nec2_test_exec_log.txt", "createdAt": "2020-05-13T16:45:40Z", "url": "https://github.com/pytorch/serve/pull/344", "merged": true, "mergeCommit": {"oid": "7d5d9be3c1fc4ffe5227cc7824522bb62afd40c2"}, "closed": true, "closedAt": "2020-05-20T01:04:24Z", "author": {"login": "shivamshriwas"}, "timelineItems": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcg7mqKgH2gAyNDE3NDg1MTgwOmU3MmNkMGFkZWZhYTgxOWM5ZjU2YjllZWNmN2UzNDUwMDM2YjRlMWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABci-PyeAH2gAyNDE3NDg1MTgwOjFkZWE4NWM1MDY0YjBiNzM3ODYyZDA4ODlhOTViOTU3ZjY0ODI5YjE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e72cd0adefaa819c9f56b9eecf7e3450036b4e1b", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/e72cd0adefaa819c9f56b9eecf7e3450036b4e1b", "committedDate": "2020-05-13T16:38:17Z", "message": "added test model zoo test cases\nupdated regression script"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1e82cc9b608a331741864ffad08ea297d340c99", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/e1e82cc9b608a331741864ffad08ea297d340c99", "committedDate": "2020-05-13T16:41:55Z", "message": "Updated Readme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4fe5ae9aaa5a2b1ffdd5861297c23487bee05fb0", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/4fe5ae9aaa5a2b1ffdd5861297c23487bee05fb0", "committedDate": "2020-05-13T16:53:31Z", "message": "update -y flag for install"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84b7625b34068320318a3364f22ed4e3fde8bb55", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/84b7625b34068320318a3364f22ed4e3fde8bb55", "committedDate": "2020-05-13T17:17:42Z", "message": "Updated docker command as per new imagename and tag generated in stagging branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c196a683c57f06f70f8a263a0bbd298b55d420c9", "author": {"user": {"login": "dhanainme", "name": null}}, "url": "https://github.com/pytorch/serve/commit/c196a683c57f06f70f8a263a0bbd298b55d420c9", "committedDate": "2020-05-13T19:32:27Z", "message": "Fix sudo usage in regression test script"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMzkxNTM5", "url": "https://github.com/pytorch/serve/pull/344#pullrequestreview-411391539", "createdAt": "2020-05-14T00:42:22Z", "commit": {"oid": "c196a683c57f06f70f8a263a0bbd298b55d420c9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwMDo0MjoyMlrOGVIRNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwMDo0MjoyMlrOGVIRNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwODc1Nw==", "bodyText": "@shivamshriwas Please update in the instructions as well (:latest tag)", "url": "https://github.com/pytorch/serve/pull/344#discussion_r424808757", "createdAt": "2020-05-14T00:42:22Z", "author": {"login": "chauhang"}, "path": "test/README.md", "diffHunk": "@@ -21,14 +21,14 @@ cd serve\n This would build a docker Image with a tag torchserve:1.0 in which we would run our Regression Tests.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c196a683c57f06f70f8a263a0bbd298b55d420c9"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMzkzNzA1", "url": "https://github.com/pytorch/serve/pull/344#pullrequestreview-411393705", "createdAt": "2020-05-14T00:49:39Z", "commit": {"oid": "c196a683c57f06f70f8a263a0bbd298b55d420c9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwMDo0OTozOVrOGVIYbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwMDo0OTozOVrOGVIYbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxMDYwNw==", "bodyText": "@shivamshriwas @mycpuorg We should use the new install from src script instead as part of PR# #322", "url": "https://github.com/pytorch/serve/pull/344#discussion_r424810607", "createdAt": "2020-05-14T00:49:39Z", "author": {"login": "chauhang"}, "path": "test/regression_tests.sh", "diffHunk": "@@ -15,9 +15,17 @@ TEST_EXECUTION_LOG_FILE=\"/tmp/test_exec.log\"\n install_torchserve_from_source() {\n   echo \"Cloning & Building Torchserve Repo from \" $1\n \n+  #uninstalling existing  torchserve torch-model-archiver if any\n+  pip uninstall --yes torchserve\n+  pip uninstall --yes torch-model-archiver\n+\n   # Install dependencies & test dependencies\n-  pip install torch torchtext torchvision sentencepiece psutil future\n-  sudo apt-get install npm\n+  pip install  torch torchtext torchvision sentencepiece psutil future\n+  pip install  mock pytest pylint pytest-mock pytest-cov\n+  apt-get -y install nodejs-dev node-gyp libssl1.0-dev npm\n+  npm install -g n\n+  n latest\n+  export PATH=\"$PATH\"\n   npm install -g newman newman-reporter-html\n \n   # Clone & Build TorchServe", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c196a683c57f06f70f8a263a0bbd298b55d420c9"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c69937d40b1d9edd17e590664f014537f4abaaa", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/7c69937d40b1d9edd17e590664f014537f4abaaa", "committedDate": "2020-05-14T05:50:56Z", "message": "Merge branch 'staging_0_1_1' of https://github.com/pytorch/serve into regression_suite_issue57"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba97f5a18ddd926692b7d62eadec2c29470f50f6", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/ba97f5a18ddd926692b7d62eadec2c29470f50f6", "committedDate": "2020-05-14T05:54:59Z", "message": "Merge branch 'regression_suite_issue57' of https://github.com/pytorch/serve into regression_suite_issue57"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6636e6788fa28638de8fbec1cc15d5dc723ec6eb", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/6636e6788fa28638de8fbec1cc15d5dc723ec6eb", "committedDate": "2020-05-14T06:08:31Z", "message": "- addressed review comments\n- reverted changes related to sudo in regression script."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a8777933b112256d8714759f5987932b36aa863", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/4a8777933b112256d8714759f5987932b36aa863", "committedDate": "2020-05-15T07:06:36Z", "message": "added https test collection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8247b6e0e94e03851ac032b7acfabc56677b818", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/e8247b6e0e94e03851ac032b7acfabc56677b818", "committedDate": "2020-05-15T08:21:44Z", "message": "- updated failed test cases on staging branch\n- added environment and updated newman cmd  with --insecure for https"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46bc28bb3a00aba1f0eb2c463ab6d7a03afca88e", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/46bc28bb3a00aba1f0eb2c463ab6d7a03afca88e", "committedDate": "2020-05-15T08:37:47Z", "message": "updated script"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a62c68648e4f974668e6146cec9e1ebdc77f4974", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/a62c68648e4f974668e6146cec9e1ebdc77f4974", "committedDate": "2020-05-15T08:52:53Z", "message": "updated pytest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0047eaef015a89722e767b92ff0cc0ad2224db6a", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/0047eaef015a89722e767b92ff0cc0ad2224db6a", "committedDate": "2020-05-15T09:21:43Z", "message": "update curl check for serve up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a26a6481358084ccba37a8c02506bd835cc878a6", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/a26a6481358084ccba37a8c02506bd835cc878a6", "committedDate": "2020-05-15T10:02:31Z", "message": "Revert \"update curl check for serve up\"\n\nThis reverts commit 0047eaef015a89722e767b92ff0cc0ad2224db6a."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "297cb42ec4f9e967bf5d7a577d77640596cd56a5", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/297cb42ec4f9e967bf5d7a577d77640596cd56a5", "committedDate": "2020-05-15T10:51:49Z", "message": "Revert \"update curl check for serve up\"\n\nThis reverts commit 0047eaef015a89722e767b92ff0cc0ad2224db6a.\n\n- update model zoo\n- added resnet test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9b7a6683838022e65ce73de2df74bae23b3809f", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/a9b7a6683838022e65ce73de2df74bae23b3809f", "committedDate": "2020-05-15T11:30:28Z", "message": "added workers to resnet model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76072f7e4cadeeecfa2cc5dd737297d6d74bd058", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/76072f7e4cadeeecfa2cc5dd737297d6d74bd058", "committedDate": "2020-05-15T14:29:53Z", "message": "Update readme to run test suite on desired branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dcec6e33f005adfebf1fc8a3fd6c92183fd9c0c2", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/dcec6e33f005adfebf1fc8a3fd6c92183fd9c0c2", "committedDate": "2020-05-18T22:05:08Z", "message": "Merge branch 'staging_0_1_1' into regression_suite_issue57"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17de67901dc170be7989d6daa1fb8b1bf7ab8c8d", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/17de67901dc170be7989d6daa1fb8b1bf7ab8c8d", "committedDate": "2020-05-19T15:10:43Z", "message": "enhanced inference test cases to driven by datafile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d31f2730d1b4f6cfc8a80bd9937daf0e7203e44", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/3d31f2730d1b4f6cfc8a80bd9937daf0e7203e44", "committedDate": "2020-05-19T15:11:17Z", "message": "Merge branch 'regression_suite_issue57' of https://github.com/pytorch/serve into regression_suite_issue57"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5a75da0e28ffcca806d02969d5291d8642d2bd9", "author": {"user": {"login": "shivamshriwas", "name": "shivamshriwas"}}, "url": "https://github.com/pytorch/serve/commit/b5a75da0e28ffcca806d02969d5291d8642d2bd9", "committedDate": "2020-05-19T15:45:30Z", "message": "Updated readme"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NjY3MDc5", "url": "https://github.com/pytorch/serve/pull/344#pullrequestreview-414667079", "createdAt": "2020-05-19T17:26:12Z", "commit": {"oid": "b5a75da0e28ffcca806d02969d5291d8642d2bd9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNzoyNjoxM1rOGXq58g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNzoyNjoxM1rOGXq58g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ3MzM5NA==", "bodyText": "Good, further templating for data has made it generic and simple + adding new test cases will be nothing but adding a row in the corresponding data file", "url": "https://github.com/pytorch/serve/pull/344#discussion_r427473394", "createdAt": "2020-05-19T17:26:13Z", "author": {"login": "dhaniram-kshirsagar"}, "path": "test/postman/inference_api_test_collection.json", "diffHunk": "@@ -1,17 +1,17 @@\n {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5a75da0e28ffcca806d02969d5291d8642d2bd9"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0ca2977c75e76c0140d9e4afd3839bb43d2d04d", "author": {"user": {"login": "dhanainme", "name": null}}, "url": "https://github.com/pytorch/serve/commit/a0ca2977c75e76c0140d9e4afd3839bb43d2d04d", "committedDate": "2020-05-19T20:24:36Z", "message": "Merge branch 'staging_0_1_1' into regression_suite_issue57"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0ODkyNzg1", "url": "https://github.com/pytorch/serve/pull/344#pullrequestreview-414892785", "createdAt": "2020-05-19T23:30:38Z", "commit": {"oid": "a0ca2977c75e76c0140d9e4afd3839bb43d2d04d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1dea85c5064b0b737862d0889a95b957f64829b1", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/1dea85c5064b0b737862d0889a95b957f64829b1", "committedDate": "2020-05-20T00:50:52Z", "message": "Merge branch 'staging_0_1_1' into regression_suite_issue57"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2409, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}