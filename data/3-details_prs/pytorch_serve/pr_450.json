{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyNDI3MDQ4", "number": 450, "title": "Updated model-archiver manifest", "bodyText": "Description\n\n\nadded following new information in the manifest\n\ncreatedOn  : date time for when the model archive was created\narchiverVersion : torch-model-archiver version used for creating the model archive\n\n\n\nremoved following unused parameters from manifest\n\nserverVersion\nimplementation_version\nspecification_version\nengine\npublisher\n\n\n\nCleaned up unused publisher and engine reference from frontend Java layer.\n\n\nremoved deprecation waring from backend python layer\n\n\nSample manifest file generated inside model archive :\n{\n\"createdOn\": \"10/06/2020 12:30:56\",\n\"runtime\": \"python\",\n\"model\": {\n\"modelName\": \"densenet161\",\n\"serializedFile\": \"densenet161-8d451a50.pth\",\n\"handler\": \"image_classifier\",\n\"modelFile\": \"model.py\",\n\"modelVersion\": \"1.0\"\n},\n\"archiverVersion\": \"0.1.1\"\n}\nFixes #325\nType of change\nPlease delete options that are not relevant.\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n\nFeature/Issue validation/testing\n\n\nCreate densenet161 mar using follwing doc : https://github.com/pytorch/serve#store-a-model\n\n\nUnzip mar file\n\n\ncat MAR-INF/MANIFEST.json\n\n\nregister and run inference on the newly created mar.\n\n\nregister any model from model_zoo and run inference on the same. [to ensure backward compatability]\n\n\nsanity script logs\nregression_test_325.txt\nChecklist:\n\n Have you added tests that prove your fix is effective or that this feature works?\n New and existing unit tests pass locally with these changes?\n Has code been commented, particularly in hard-to-understand areas?\n Have you made corresponding changes to the documentation?", "createdAt": "2020-06-10T12:38:59Z", "url": "https://github.com/pytorch/serve/pull/450", "merged": true, "mergeCommit": {"oid": "3584b0f5156d0c441cf6535c5efea2917a10d856"}, "closed": true, "closedAt": "2020-07-21T21:09:01Z", "author": {"login": "harshbafna"}, "timelineItems": {"totalCount": 24, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcp4xWjAH2gAyNDMyNDI3MDQ4OmFhMTk1MWZiNWEzOTRlYjhjZTFmMWFhMTVmN2I5NjIwZmJmNmUzZjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3L4_HgH2gAyNDMyNDI3MDQ4OmRmMTY2YTA4NTkyOTU2MjQ1NmIwYTI5YWI0ZTY0YWI2MjM5NDE2Njc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "aa1951fb5a394eb8ce1f1aa15f7b9620fbf6e3f9", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/aa1951fb5a394eb8ce1f1aa15f7b9620fbf6e3f9", "committedDate": "2020-06-10T12:25:34Z", "message": "updated model-archiver manifest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a21d7daf3b1d39ccf5429780f2313995529aff49", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/a21d7daf3b1d39ccf5429780f2313995529aff49", "committedDate": "2020-06-10T12:57:50Z", "message": "added UT"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bb8ba57798f1149d08aebe0f4e35f73533b8e35", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/6bb8ba57798f1149d08aebe0f4e35f73533b8e35", "committedDate": "2020-06-11T05:34:11Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea213af554c1dc57c73757b02f1f5ff02c789905", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/ea213af554c1dc57c73757b02f1f5ff02c789905", "committedDate": "2020-06-11T06:03:24Z", "message": "updated model archiver UT"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c12fc6175c6eaa0e45e62af1ef7640eab50b891", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/1c12fc6175c6eaa0e45e62af1ef7640eab50b891", "committedDate": "2020-06-11T06:13:48Z", "message": "cleaned up unused code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be966fdd0c56483d5044045db2859ee845e0d348", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/be966fdd0c56483d5044045db2859ee845e0d348", "committedDate": "2020-06-11T06:42:55Z", "message": "removed unnecessary deprecation warning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4476cca076ad4089a61c1932030aa9cd6e2b9d97", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/4476cca076ad4089a61c1932030aa9cd6e2b9d97", "committedDate": "2020-06-11T06:44:01Z", "message": "updated model-archiver version to 0.2.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f6b4796dfdacdd8184e4d74f079fa6f6718991f", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/3f6b4796dfdacdd8184e4d74f079fa6f6718991f", "committedDate": "2020-06-19T06:26:20Z", "message": "Merge branch 'master' into issue_325"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6929a0349f8e304059cb6bab8dadc0fa109e265", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/e6929a0349f8e304059cb6bab8dadc0fa109e265", "committedDate": "2020-06-24T17:50:22Z", "message": "Merge branch 'master' into issue_325"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21d946a38c6106f8fda6610b9a8bebd974d5de34", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/21d946a38c6106f8fda6610b9a8bebd974d5de34", "committedDate": "2020-06-26T05:03:42Z", "message": "Merge branch 'master' into issue_325"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a6fc3e753e07082d8564c23be8597ffeeddcbed", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/9a6fc3e753e07082d8564c23be8597ffeeddcbed", "committedDate": "2020-07-03T08:15:03Z", "message": "Merge branch 'master' into issue_325"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMzAxNjQw", "url": "https://github.com/pytorch/serve/pull/450#pullrequestreview-443301640", "createdAt": "2020-07-06T18:09:20Z", "commit": {"oid": "9a6fc3e753e07082d8564c23be8597ffeeddcbed"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxODowOToyMFrOGth9wQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxODowOToyMFrOGth9wQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM5NTU4NQ==", "bodyText": "@harshbafna  Will people need to recreate their .mar files for existing models after this change? Want to understand the implications from migration perspective", "url": "https://github.com/pytorch/serve/pull/450#discussion_r450395585", "createdAt": "2020-07-06T18:09:20Z", "author": {"login": "chauhang"}, "path": "frontend/modelarchive/src/main/java/org/pytorch/serve/archive/ModelArchive.java", "diffHunk": "@@ -167,8 +167,14 @@ public void validate() throws InvalidModelException {\n                 throw new InvalidModelException(\"Runtime is not defined or invalid.\");\n             }\n \n-            if (manifest.getEngine() != null && manifest.getEngine().getEngineName() == null) {\n-                throw new InvalidModelException(\"engineName is required in <engine>.\");\n+            if (manifest.getArchiverVersion() == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a6fc3e753e07082d8564c23be8597ffeeddcbed"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMzAzNTAx", "url": "https://github.com/pytorch/serve/pull/450#pullrequestreview-443303501", "createdAt": "2020-07-06T18:12:11Z", "commit": {"oid": "9a6fc3e753e07082d8564c23be8597ffeeddcbed"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxODoxMjoxMVrOGtiDbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxODoxMjoxMVrOGtiDbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM5NzAzOQ==", "bodyText": "@harshbafna How can user's specify the author/email? The CLI doesn't have any documented steps for this: https://github.com/pytorch/serve/blob/master/model-archiver/README.md#arguments", "url": "https://github.com/pytorch/serve/pull/450#discussion_r450397039", "createdAt": "2020-07-06T18:12:11Z", "author": {"login": "chauhang"}, "path": "model-archiver/model_archiver/tests/unit_tests/test_model_packaging_utils.py", "diffHunk": "@@ -138,27 +136,17 @@ def __init__(self, **kwargs):\n \n         author = 'ABC'\n         email = 'ABC@XYZ.com'\n-        engine = EngineType.MXNET.value\n         model_name = 'my-model'\n         handler = 'a.py::my-awesome-func'\n         serialized_file = 'model.pt'\n         model_file = 'model.pt'\n         version = \"1.0\"\n         source_vocab = None\n \n-        args = Namespace(author=author, email=email, engine=engine, model_name=model_name, handler=handler,\n+        args = Namespace(author=author, email=email, model_name=model_name, handler=handler,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a6fc3e753e07082d8564c23be8597ffeeddcbed"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMzA1MDc3", "url": "https://github.com/pytorch/serve/pull/450#pullrequestreview-443305077", "createdAt": "2020-07-06T18:14:45Z", "commit": {"oid": "9a6fc3e753e07082d8564c23be8597ffeeddcbed"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxODoxNDo0NVrOGtiIFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxODoxNDo0NVrOGtiIFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM5ODIyOQ==", "bodyText": "@harshbafna How can user's specify description for the .mar files? At present there is no documented CLI option for this: https://github.com/pytorch/serve/blob/master/model-archiver/README.md#arguments", "url": "https://github.com/pytorch/serve/pull/450#discussion_r450398229", "createdAt": "2020-07-06T18:14:45Z", "author": {"login": "chauhang"}, "path": "frontend/modelarchive/src/main/java/org/pytorch/serve/archive/Manifest.java", "diffHunk": "@@ -1,44 +1,26 @@\n package org.pytorch.serve.archive;\n \n import com.google.gson.annotations.SerializedName;\n-import java.util.LinkedHashMap;\n-import java.util.Map;\n \n public class Manifest {\n \n-    private String specificationVersion;\n-    private String implementationVersion;\n+    private String createdOn;\n     private String description;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a6fc3e753e07082d8564c23be8597ffeeddcbed"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMzA1NDMz", "url": "https://github.com/pytorch/serve/pull/450#pullrequestreview-443305433", "createdAt": "2020-07-06T18:15:21Z", "commit": {"oid": "9a6fc3e753e07082d8564c23be8597ffeeddcbed"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b2dbe1e4c531807b4468ad94faf20b4b1a5cd83", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/4b2dbe1e4c531807b4468ad94faf20b4b1a5cd83", "committedDate": "2020-07-07T03:26:24Z", "message": "Merge branch 'master' into issue_325"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c150d2b167e710d2a27c15dca33149e730076e7a", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/c150d2b167e710d2a27c15dca33149e730076e7a", "committedDate": "2020-07-07T04:10:27Z", "message": "cleaned up legacy unused parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6da108a3eb0024b6ee59e3fa97c2a3e8b9a25b2", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/d6da108a3eb0024b6ee59e3fa97c2a3e8b9a25b2", "committedDate": "2020-07-08T04:02:36Z", "message": "Merge branch 'master' into issue_325"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "644137e8d86c75ce008981ffe136bf1e5e8c3ba9", "author": {"user": {"login": "harshbafna", "name": "Harsh Bafna"}}, "url": "https://github.com/pytorch/serve/commit/644137e8d86c75ce008981ffe136bf1e5e8c3ba9", "committedDate": "2020-07-15T05:48:05Z", "message": "Merge branch 'master' into issue_325"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec7ec1703901359ea48cd9847902b33b72d37ea3", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/ec7ec1703901359ea48cd9847902b33b72d37ea3", "committedDate": "2020-07-17T21:53:41Z", "message": "Merge branch 'master' into issue_325"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b37a9e4709ca9134dc7985e86bf9c09a82105da8", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/b37a9e4709ca9134dc7985e86bf9c09a82105da8", "committedDate": "2020-07-21T19:29:07Z", "message": "Merge branch 'master' into issue_325"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58aa1a6400983277a5284c2eb602117528f5f073", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/58aa1a6400983277a5284c2eb602117528f5f073", "committedDate": "2020-07-21T19:46:08Z", "message": "Fix pylint issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNzg3NDk3", "url": "https://github.com/pytorch/serve/pull/450#pullrequestreview-452787497", "createdAt": "2020-07-21T20:03:01Z", "commit": {"oid": "58aa1a6400983277a5284c2eb602117528f5f073"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df166a085929562456b0a29ab4e64ab623941667", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/df166a085929562456b0a29ab4e64ab623941667", "committedDate": "2020-07-21T20:03:07Z", "message": "Merge branch 'master' into issue_325"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2204, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}