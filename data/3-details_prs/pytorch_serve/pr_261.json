{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4MjMxMjc2", "number": 261, "title": "Moving the plugins SDK to org.pytorch. Added plugins example.", "bodyText": "Description\nPlease include a summary of the feature or issue being fixed. Please also include relevant motivation and context. List any dependencies that are required for this change.\nThis PR moves all the plugins related SDK to org.pytorch domain.\nFixes #(issue)\nFixes #179\nType of change\nMoved the plugins SDK to org.pytorch\nPlease delete options that are not relevant.\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Breaking change (fix or feature that would cause existing functionality to not work as expected)\n This change requires a documentation update\n\nFeature/Issue validation/testing\nPlease describe the tests [UT/IT] that you ran to verify your changes and relevent result summary. Provide instructions so it can be reproduced.\nPlease also list any relevant details for your test configuration.\nI built the project along with locally deployed maven package to test the endpoint-plugins.\nConfiguration used\nTo test SDK changes, install the plugins SDK in local Maven.\nThe following steps are not required to test this PR as the package has been published to jcenter.\n\nI bulit and deployed the SDK locally\n\n$ pwd\n/Users/myuser/serve/\n\n$ cd serving-sdk\n$ mvn package\n$ mvn install\n\n\nUpdated the repositories URL in the gradle files to pick from local maven\n\n$ cat frontend/build.gradle\n...\n    repositories {\n        mavenLocal()\n    }\n...\n\n$ cat plugins/build.gradle\n...\n    repositories {\n        mavenLocal()\n    }\n...\n\nBuilding the project to use the installed SDK\n\nBuild the torchserve project\n\n$ python setup.py build\n\n\nBuilt the plugins directory\n\n$ cd plugins\n\n$ ./gradlew build\n\n$ cd ..\n\nThis builds endpoints-1.0.jar endpoint plugin in the plugins/endpoints/build/libs folder.\nTesting the above built plugins\n\nCopy endpoints-1.0.jar  to /tmp/plugins. This path is configured as plugins_path in the configuration below.\n\n$ mkdir /tmp/plugins\n$ cp plugins/endpoints/build/libs/endpoints-1.0.jar /tmp/plugins/.\n\n\nAdd config.properties\n\n$ cat config.properties \n\ninference_address=http://0.0.0.0:8080\nmanagement_address=http://0.0.0.0:8081\nplugins_path=/tmp/plugins\n\n\nStart torchserve\n\n$torchserve --start --model-store /tmp --ts-config=config.properties\n\n\nTorchserve should load all the endpoints in the plugins_path, in this case the endpoint-1.0.jar. Now we can test it as follows:\n\n$ curl  -v localhost:8080/execution-parameters\n*   Trying ::1...\n* TCP_NODELAY set\n* Connected to localhost (::1) port 8080 (#0)\n> GET /execution-parameters HTTP/1.1\n> Host: localhost:8080\n> User-Agent: curl/7.54.0\n> Accept: */*\n>\n2020-04-23 15:06:42,527 [INFO ] pool-1-thread-1 ACCESS_LOG - /0:0:0:0:0:0:0:1%0:64606 \"GET /execution-parameters HTTP/1.1\" 200 0\n2020-04-23 15:06:42,527 [INFO ] pool-1-thread-1 TS_METRICS - Requests2XX.Count:1|#Level:Host|#hostname:f01898723b72.ant.amazon.com,timestamp:null\n2020-04-23 15:06:42,528 [INFO ] pool-1-thread-1 org.pytorch.serve.http.HttpRequestHandler - Running \"\" endpoint took 1 ms\n< HTTP/1.1 200 OK\n< x-request-id: bc422476-93f6-4495-8378-3414796671a7\n< Pragma: no-cache\n< Cache-Control: no-cache; no-store, must-revalidate, private\n< Expires: Thu, 01 Jan 1970 00:00:00 UTC\n< content-length: 92\n< connection: keep-alive\n<\n{\n  \"MaxConcurrentTransforms\": 1,\n  \"BatchStrategy\": \"MULTI_RECORD\",\n  \"MaxPayloadInMB\": 6\n* Connection #0 to host localhost left intact\n}\n\n\n\n Test A\n\n\n Test B\n\n\nUT/IT execution results\n\n\nLogs\n\n\nChecklist:\n\n Have you added tests that prove your fix is effective or that this feature works?\n New and existing unit tests pass locally with these changes?\n Has code been commented, particularly in hard-to-understand areas?\n Have you made corresponding changes to the documentation?", "createdAt": "2020-04-23T22:25:07Z", "url": "https://github.com/pytorch/serve/pull/261", "merged": true, "mergeCommit": {"oid": "5caca0e76ec624a7efb3c912e99aaae1dfb18d89"}, "closed": true, "closedAt": "2020-05-04T17:32:58Z", "author": {"login": "vdantu"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABca88vrABqjMyNzE1MDgyNDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceCyeQgFqTQwNTE4ODE4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e2449367be54d84aee39e544e44a511225ee6780", "author": {"user": {"login": "vdantu", "name": "Vamshidhar Dantu"}}, "url": "https://github.com/pytorch/serve/commit/e2449367be54d84aee39e544e44a511225ee6780", "committedDate": "2020-04-25T02:33:31Z", "message": "Merge branch 'stage_release' into move_sdk"}, "afterCommit": {"oid": "8adfc887410a3b358f36aec49118112fa2c344e3", "author": {"user": {"login": "mxnet-sdk-team-mms", "name": null}}, "url": "https://github.com/pytorch/serve/commit/8adfc887410a3b358f36aec49118112fa2c344e3", "committedDate": "2020-04-25T02:46:24Z", "message": "Moved plugins SDK to org.pytorch"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMDc0MTM5", "url": "https://github.com/pytorch/serve/pull/261#pullrequestreview-402074139", "createdAt": "2020-04-28T17:50:12Z", "commit": {"oid": "676ddabea73c0d253e94319bff97a652a521700b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNzo1MDoxMlrOGNf8kg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNzo1MDoxMlrOGNf8kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjgwODA4Mg==", "bodyText": "Verify this is correct!!!", "url": "https://github.com/pytorch/serve/pull/261#discussion_r416808082", "createdAt": "2020-04-28T17:50:12Z", "author": {"login": "vdantu"}, "path": "serving-sdk/pom.xml", "diffHunk": "@@ -17,16 +17,15 @@\n     </license>\n   </licenses>\n   <scm>\n-    <connection>scm:git:git://github.com/awslabs/mxnet-model-server.git</connection>\n-    <developerConnection>scm:git:ssh://git@github.com:deep-learning-mms-bot/mxnet-model-server.git</developerConnection>\n-    <url>https://github.com/awslabs/mxnet-model-server/tree/master/serving-sdk</url>\n+    <connection>scm:git:git://github.com/pytorch/serve.git</connection>\n+    <developerConnection>scm:git:ssh://git@github.com:deep-learning-mms-bot/serve.git</developerConnection>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "676ddabea73c0d253e94319bff97a652a521700b"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzMDgxODk2", "url": "https://github.com/pytorch/serve/pull/261#pullrequestreview-403081896", "createdAt": "2020-04-29T22:22:15Z", "commit": {"oid": "ad3907a0b785dd16ebdefbfd6369546961df73b0"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b00bd1a8cc1c7437e07f684e33638bdd625805e", "author": {"user": {"login": "mxnet-sdk-team-mms", "name": null}}, "url": "https://github.com/pytorch/serve/commit/2b00bd1a8cc1c7437e07f684e33638bdd625805e", "committedDate": "2020-04-29T22:39:02Z", "message": "Moved plugins SDK to org.pytorch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d17aaf6c5e82262aa6e0aeaf7e47032b06aa6357", "author": {"user": {"login": "mxnet-sdk-team-mms", "name": null}}, "url": "https://github.com/pytorch/serve/commit/d17aaf6c5e82262aa6e0aeaf7e47032b06aa6357", "committedDate": "2020-04-29T22:40:18Z", "message": "Updating the repo for publishing plugins SDK"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c66292d5e2ea622a030273fafa91f06df5f6c822", "author": {"user": {"login": "vdantu", "name": "Vamshidhar Dantu"}}, "url": "https://github.com/pytorch/serve/commit/c66292d5e2ea622a030273fafa91f06df5f6c822", "committedDate": "2020-04-29T22:40:34Z", "message": "Enabled bintray maven repo temporarily"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "097516e3c1de5422bc43c49312f2284e276b83fc", "author": {"user": {"login": "vdantu", "name": "Vamshidhar Dantu"}}, "url": "https://github.com/pytorch/serve/commit/097516e3c1de5422bc43c49312f2284e276b83fc", "committedDate": "2020-04-29T22:40:46Z", "message": "Reset tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7894834394634f45b0cd95a1ea4d99ad931ec47a", "author": {"user": {"login": "vdantu", "name": "Vamshidhar Dantu"}}, "url": "https://github.com/pytorch/serve/commit/7894834394634f45b0cd95a1ea4d99ad931ec47a", "committedDate": "2020-04-29T22:40:59Z", "message": "Added GPG plugin to pom file to sign the plugins SDK"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf118b73b06da1a840570ca3fff2b89dcb0d7675", "author": {"user": {"login": "vdantu", "name": "Vamshidhar Dantu"}}, "url": "https://github.com/pytorch/serve/commit/cf118b73b06da1a840570ca3fff2b89dcb0d7675", "committedDate": "2020-04-29T22:47:09Z", "message": "Update the SDK version"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ad3907a0b785dd16ebdefbfd6369546961df73b0", "author": {"user": {"login": "vdantu", "name": "Vamshidhar Dantu"}}, "url": "https://github.com/pytorch/serve/commit/ad3907a0b785dd16ebdefbfd6369546961df73b0", "committedDate": "2020-04-29T20:23:41Z", "message": "Added GPG plugin to pom file to sign the plugins SDK"}, "afterCommit": {"oid": "cf118b73b06da1a840570ca3fff2b89dcb0d7675", "author": {"user": {"login": "vdantu", "name": "Vamshidhar Dantu"}}, "url": "https://github.com/pytorch/serve/commit/cf118b73b06da1a840570ca3fff2b89dcb0d7675", "committedDate": "2020-04-29T22:47:09Z", "message": "Update the SDK version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45e31c29f0ace9839a3bb4937028ebf5bbd79110", "author": {"user": {"login": "vdantu", "name": "Vamshidhar Dantu"}}, "url": "https://github.com/pytorch/serve/commit/45e31c29f0ace9839a3bb4937028ebf5bbd79110", "committedDate": "2020-04-30T00:00:04Z", "message": "Removed bintray repo"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "17a4c2da2323ced367554d69cd7273be5dd944ad", "author": {"user": {"login": "vdantu", "name": "Vamshidhar Dantu"}}, "url": "https://github.com/pytorch/serve/commit/17a4c2da2323ced367554d69cd7273be5dd944ad", "committedDate": "2020-04-30T17:30:46Z", "message": "Modify the buildspec to not deploy the SDK"}, "afterCommit": {"oid": "041d60ae22b7ae1214d30a4ff5eaa9a836c27787", "author": {"user": {"login": "vdantu", "name": "Vamshidhar Dantu"}}, "url": "https://github.com/pytorch/serve/commit/041d60ae22b7ae1214d30a4ff5eaa9a836c27787", "committedDate": "2020-04-30T18:27:06Z", "message": "Modify the buildspec to not deploy the SDK"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9db8926e6d96ceb6d760ef85459f528cf0a968f4", "author": {"user": {"login": "vdantu", "name": "Vamshidhar Dantu"}}, "url": "https://github.com/pytorch/serve/commit/9db8926e6d96ceb6d760ef85459f528cf0a968f4", "committedDate": "2020-04-30T19:12:06Z", "message": "Modify the buildspec to not deploy the SDK"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "041d60ae22b7ae1214d30a4ff5eaa9a836c27787", "author": {"user": {"login": "vdantu", "name": "Vamshidhar Dantu"}}, "url": "https://github.com/pytorch/serve/commit/041d60ae22b7ae1214d30a4ff5eaa9a836c27787", "committedDate": "2020-04-30T18:27:06Z", "message": "Modify the buildspec to not deploy the SDK"}, "afterCommit": {"oid": "9db8926e6d96ceb6d760ef85459f528cf0a968f4", "author": {"user": {"login": "vdantu", "name": "Vamshidhar Dantu"}}, "url": "https://github.com/pytorch/serve/commit/9db8926e6d96ceb6d760ef85459f528cf0a968f4", "committedDate": "2020-04-30T19:12:06Z", "message": "Modify the buildspec to not deploy the SDK"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44f55086530867723c7d4a7e6c8e358430e3f102", "author": {"user": {"login": "vdantu", "name": "Vamshidhar Dantu"}}, "url": "https://github.com/pytorch/serve/commit/44f55086530867723c7d4a7e6c8e358430e3f102", "committedDate": "2020-04-30T21:32:27Z", "message": "Merge branch 'staging_0_1_1' into move_sdk"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzOTUzMTU5", "url": "https://github.com/pytorch/serve/pull/261#pullrequestreview-403953159", "createdAt": "2020-04-30T23:55:13Z", "commit": {"oid": "44f55086530867723c7d4a7e6c8e358430e3f102"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMzo1NToxM1rOGO-Opg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwMDo0NDowMVrOGO_Cog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODM1MjgwNg==", "bodyText": "curious about this version ID, where does this come from?", "url": "https://github.com/pytorch/serve/pull/261#discussion_r418352806", "createdAt": "2020-04-30T23:55:13Z", "author": {"login": "mycpuorg"}, "path": "frontend/gradle.properties", "diffHunk": "@@ -6,4 +6,4 @@ slf4j_log4j12_version=1.7.25\n gson_version=2.8.5\n commons_cli_version=1.3.1\n testng_version=6.8.1\n-mms_server_sdk_version=1.0.1\n\\ No newline at end of file\n+torchserve_sdk_version=0.0.3", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44f55086530867723c7d4a7e6c8e358430e3f102"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODM2NjExNA==", "bodyText": "It's not clear if this plugin is needed to move the plugins SDK?", "url": "https://github.com/pytorch/serve/pull/261#discussion_r418366114", "createdAt": "2020-05-01T00:44:01Z", "author": {"login": "mycpuorg"}, "path": "plugins/endpoints/src/main/java/org/pytorch/serve/plugins/endpoint/ExecutionParameters.java", "diffHunk": "@@ -0,0 +1,80 @@\n+package org.pytorch.serve.plugins.endpoint;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44f55086530867723c7d4a7e6c8e358430e3f102"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8855afa0e6b7e68f161387a042582c66057e3a16", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/8855afa0e6b7e68f161387a042582c66057e3a16", "committedDate": "2020-05-02T01:37:24Z", "message": "Merge branch 'staging_0_1_1' into move_sdk"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1bee1262215bac7bdeb0b5822fb7d5d9114bcecf", "author": {"user": {"login": "mycpuorg", "name": null}}, "url": "https://github.com/pytorch/serve/commit/1bee1262215bac7bdeb0b5822fb7d5d9114bcecf", "committedDate": "2020-05-04T17:17:41Z", "message": "Merge branch 'staging_0_1_1' into move_sdk"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MTg4MTg4", "url": "https://github.com/pytorch/serve/pull/261#pullrequestreview-405188188", "createdAt": "2020-05-04T17:18:45Z", "commit": {"oid": "1bee1262215bac7bdeb0b5822fb7d5d9114bcecf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2335, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}