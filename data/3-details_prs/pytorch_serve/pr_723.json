{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxODY2ODU3", "number": 723, "title": "Add EKS troubleshooting steps", "bodyText": "Add troubleshooting scenarios and reorganize the troubleshooting section of the document.\nDescription\nDocumentation change to add troubleshooting cases for the EKS setup.\nFixes #384\nType of change\nPlease delete options that are not relevant.\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Breaking change (fix or feature that would cause existing functionality to not work as expected)\n This change requires a documentation update\n\nFeature/Issue validation/testing\nN/A. Only a doc change.\nChecklist:\n\n Have you added tests that prove your fix is effective or that this feature works?\n New and existing unit tests pass locally with these changes?\n Has code been commented, particularly in hard-to-understand areas?\n Have you made corresponding changes to the documentation?", "createdAt": "2020-10-12T23:04:43Z", "url": "https://github.com/pytorch/serve/pull/723", "merged": true, "mergeCommit": {"oid": "caee0f6036d2961c3352b7d9c6a8424ce3b6fcb7"}, "closed": true, "closedAt": "2020-10-20T18:57:33Z", "author": {"login": "jeremiahschung"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdR8NB4gH2gAyNTAxODY2ODU3OjYwOWY4OTMxOWU5Y2MxMjZhMmUxMjQzNWExZTA1N2QyMDgzYTA2MGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUdLt9AH2gAyNTAxODY2ODU3Ojc1OTA2YzUzYmZiYjY0NTJmNWUyY2U5Yzc0NWE1Mjk0NzI2MjczMjQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "609f89319e9cc126a2e12435a1e057d2083a060f", "author": {"user": {"login": "jeremiahschung", "name": null}}, "url": "https://github.com/pytorch/serve/commit/609f89319e9cc126a2e12435a1e057d2083a060f", "committedDate": "2020-10-12T23:02:29Z", "message": "Update README.md\n\nAdd troubleshooting scenarios and reorganize the troubleshooting section of the document."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09b5250b5e682731e69da84b3c5fc9e665c639d4", "author": {"user": {"login": "jeremiahschung", "name": null}}, "url": "https://github.com/pytorch/serve/commit/09b5250b5e682731e69da84b3c5fc9e665c639d4", "committedDate": "2020-10-13T03:28:47Z", "message": "Update README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbd60d081aa399f918328e5065754342d7a4ee47", "author": {"user": {"login": "jeremiahschung", "name": null}}, "url": "https://github.com/pytorch/serve/commit/fbd60d081aa399f918328e5065754342d7a4ee47", "committedDate": "2020-10-13T03:37:46Z", "message": "Update README.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMjAyNjcz", "url": "https://github.com/pytorch/serve/pull/723#pullrequestreview-512202673", "createdAt": "2020-10-19T22:24:31Z", "commit": {"oid": "fbd60d081aa399f918328e5065754342d7a4ee47"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMjoyNDozMVrOHkj0kQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMjoyNDozMVrOHkj0kQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA5NzY4MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              * Inspect your Cloudformation console's events tab to diagonize any possible issues. You should able be able to find the following resources at the end of this step in the respective AWS consoles\n          \n          \n            \n              * Inspect your Cloudformation console's events tab to diagonize any possible issues. You should be able to find the following resources at the end of this step in the respective AWS consoles", "url": "https://github.com/pytorch/serve/pull/723#discussion_r508097681", "createdAt": "2020-10-19T22:24:31Z", "author": {"login": "maaquib"}, "path": "kubernetes/README.md", "diffHunk": "@@ -714,53 +714,60 @@\n \n   ## Troubleshooting\n   \n-\n-  **Troubleshooting EKCTL Cluster Creation**\n-\n-  Possible errors in this step may be a result of \n-\n-  * AWS Account limits. \n+  ### Troubleshooting EKCTL Cluster Creation\n+\n+  #### EKS Cluster creation fails \n+\n+  * AWS Account limits\n+    ```\n+    [\u2716]  unexpected status \"CREATE_IN_PROGRESS\" while waiting for CloudFormation stack \"eksctl-TorchserveCluster-nodegroup-ng-1\"\n+    [\u2139]  fetching stack events in attempt to troubleshoot the root cause of the failure\n+    [!]  1 error(s) occurred and cluster hasn't been created properly, you may wish to check CloudFormation console\n+    [\u2139]  to cleanup resources, run 'eksctl delete cluster --region=us-west-2 --name=TorchserveCluster'\n+    [\u2716]  waiting for CloudFormation stack \"eksctl-TorchserveCluster-nodegroup-ng-1\": RequestCanceled: waiter context canceled\n+    caused by: context deadline exceeded\n+    Error: failed to create cluster \"TorchserveCluster\u201d\n+    ```\n+    * Check that your AWS vCPU limits can support your cluster configuration (https://console.aws.amazon.com/ec2/home#Limits). e.g. \"Running G4DN Dedicated Hosts\t\" may be set to 0 by default causing the node group creation to fail.\n   * IAM Policy of the role used during cluster creation - [Minimum IAM Policy](https://eksctl.io/usage/minimum-iam-policies/)\n \n-  Inspect your Cloudformation console' events tab, to diagonize any possible issues. You should able be able to find the following resources at the end of this step in the respective AWS consoles\n-\n-  * EKS Cluser in the EKS UI\n-  * AutoScaling Group of the Node Groups\n-  * EC2 Node correponding to the node groups.\n-\n-  \n-\n-  Also, take a look at [eksctl](https://eksctl.io/introduction/) website / [github repo](https://github.com/weaveworks/eksctl/issues) for any issues. \n+  * Inspect your Cloudformation console's events tab to diagonize any possible issues. You should able be able to find the following resources at the end of this step in the respective AWS consoles", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbd60d081aa399f918328e5065754342d7a4ee47"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "350a6593f7eecf1e07c3322813f8d12f17c3dafb", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/350a6593f7eecf1e07c3322813f8d12f17c3dafb", "committedDate": "2020-10-19T22:27:23Z", "message": "Merge branch 'master' into issue_384_eks_troubleshooting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e9915bfc103c3951c231b722932807ec92a9984", "author": {"user": {"login": "jeremiahschung", "name": null}}, "url": "https://github.com/pytorch/serve/commit/5e9915bfc103c3951c231b722932807ec92a9984", "committedDate": "2020-10-20T00:10:39Z", "message": "Update kubernetes/README.md\n\nCo-authored-by: Aaqib <maaquib@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMjUxNjEz", "url": "https://github.com/pytorch/serve/pull/723#pullrequestreview-512251613", "createdAt": "2020-10-20T00:36:57Z", "commit": {"oid": "5e9915bfc103c3951c231b722932807ec92a9984"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "369e30d54817d6a7fcc9f8bf9468ab88566669c6", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/369e30d54817d6a7fcc9f8bf9468ab88566669c6", "committedDate": "2020-10-20T16:59:31Z", "message": "Merge branch 'master' into issue_384_eks_troubleshooting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzMDEyODg4", "url": "https://github.com/pytorch/serve/pull/723#pullrequestreview-513012888", "createdAt": "2020-10-20T18:21:59Z", "commit": {"oid": "369e30d54817d6a7fcc9f8bf9468ab88566669c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75906c53bfbb6452f5e2ce9c745a529472627324", "author": {"user": {"login": "maaquib", "name": "Aaqib"}}, "url": "https://github.com/pytorch/serve/commit/75906c53bfbb6452f5e2ce9c745a529472627324", "committedDate": "2020-10-20T18:35:46Z", "message": "Merge branch 'master' into issue_384_eks_troubleshooting"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2099, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}