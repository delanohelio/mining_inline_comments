{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyMzcyMzE5", "number": 585, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNzoyNjoxMFrOEVGMJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNzoyNjoxMFrOEVGMJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNTU2OTY3OnYy", "diffSide": "RIGHT", "path": "examples/Huggingface_Transformers/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNzoyNjoxMFrOG7qQeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNzoyNjoxMFrOG7qQeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTIxMTUxNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            curl -X POST \"localhost:8081/models?model_name=BERT_seq_Classification&url=BERT_seq_Classification.mar&batch_size=4&max_batch_delay=5000&initial_workers=3&synchronous=true\"\n          \n          \n            \n            curl -X POST \"localhost:8081/models?model_name=BERT_seq_Classification&url=BERTSeqClassification.mar&batch_size=4&max_batch_delay=5000&initial_workers=3&synchronous=true\"", "url": "https://github.com/pytorch/serve/pull/585#discussion_r465211514", "createdAt": "2020-08-04T17:26:10Z", "author": {"login": "maaquib"}, "path": "examples/Huggingface_Transformers/README.md", "diffHunk": "@@ -133,3 +133,19 @@ torchserve --start --model-store model_store --models my_tc=BERTSeqClassificatio\n ```\n \n - To run the inference using our registered model, open a new terminal and run: `curl -X POST http://127.0.0.1:8080/predictions/my_tc -T ./Seq_classification_artifacts/sample_text.txt`\n+\n+### Registering the Model on TorchServe and Running batch Inference\n+\n+The following uses .mar file created from  model packaging using pretrained for save_mode to register the model for batch inference on sequence classification, by setting the batch_size when registering the model.\n+\n+```\n+mkdir model_store\n+mv BERTSeqClassification.mar model_store/\n+torchserve --start --model-store model_store \n+\n+curl -X POST \"localhost:8081/models?model_name=BERT_seq_Classification&url=BERT_seq_Classification.mar&batch_size=4&max_batch_delay=5000&initial_workers=3&synchronous=true\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480586f01377bf2f1b4da99118e024920e20d5b3"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1379, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}