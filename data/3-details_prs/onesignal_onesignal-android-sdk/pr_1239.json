{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM2MTQzNzQw", "number": 1239, "title": "Iam carousel page impressions", "bodyText": "This PR adds SDK support for individual IAM Carousel page impressions.\nIt adds a new model OSInAppMessagePage.kt and event type pageChange that reads the pageId from the new page_change event that is received from the carousel's javascript.\nTo send the page impression we use the new pageImpression endpoint using the new request fireRESTCallForPageChange\nPage impressions are only sent once per Impression of a Carousel. The ids are tracked in a new set viewedPageIds on the OSInAppMessage object\nAdditionally we receive the pageId for click events, but do not currently use them.\nQuestion: Do we need to save impressioned pages in OneSignalPrefs like we do for normal impression? (commented out code right now)\n\nThis change is\u2002", "createdAt": "2020-12-10T18:15:15Z", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239", "merged": true, "mergeCommit": {"oid": "09ebc874912e6105de2817594d0120af1533cfd8"}, "closed": true, "closedAt": "2020-12-23T22:36:44Z", "author": {"login": "emawby"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkno31gH2gAyNTM2MTQzNzQwOjE0MmU0YjRkMTI0YzM2MDk2YjVhZWFmNDAwZGY2MjA1YWQ0MDQzNTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdpG0AfABqjQxNDU2Nzk5MDk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "142e4b4d124c36096b5aeaf400df6205ad404358", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/142e4b4d124c36096b5aeaf400df6205ad404358", "committedDate": "2020-12-09T23:49:27Z", "message": "adding pageIds to OSInAppMessage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "999ca8d5f4998b5c06575e8f84515994ba36aa5d", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/999ca8d5f4998b5c06575e8f84515994ba36aa5d", "committedDate": "2020-12-09T23:49:27Z", "message": "adding page Id to in app message action"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24d41f005ce9be4b808e2e5bfc95fa90eec78436", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/24d41f005ce9be4b808e2e5bfc95fa90eec78436", "committedDate": "2020-12-09T23:49:27Z", "message": "creating OSInAppMessagePage class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d04a710668e95d98d072611488def7a3ee16127", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/2d04a710668e95d98d072611488def7a3ee16127", "committedDate": "2020-12-09T23:49:27Z", "message": "adding page impression rest call and page changed logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "565f47671c2dfe73426ed0a49471b13d6e12dafb", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/565f47671c2dfe73426ed0a49471b13d6e12dafb", "committedDate": "2020-12-09T23:49:27Z", "message": "firing onPageChanged from json event"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0149a12c6d25806e583d070864564e52fbd0860b", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/0149a12c6d25806e583d070864564e52fbd0860b", "committedDate": "2020-12-09T23:49:27Z", "message": "Unit test for page changed event"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04790085256c86606e69a3f5c622f4a562a2c039", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/04790085256c86606e69a3f5c622f4a562a2c039", "committedDate": "2020-12-10T00:14:31Z", "message": "matching json to backend spec change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5NzI0Nzk5", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#pullrequestreview-549724799", "createdAt": "2020-12-11T00:49:17Z", "commit": {"oid": "04790085256c86606e69a3f5c622f4a562a2c039"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMDo0OToxOFrOIDkHCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMDo0OToxOFrOIDkHCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDYwODI2Nw==", "bodyText": "Looks like this is a TODO yet?", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#discussion_r540608267", "createdAt": "2020-12-11T00:49:18Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSInAppMessageController.java", "diffHunk": "@@ -409,6 +420,53 @@ else if (action.getUrlTarget() == OSInAppMessageAction.OSInAppMessageActionUrlTy\n         }\n     }\n \n+    private void fireRESTCallForPageChange(@NonNull final OSInAppMessage message, @NonNull final OSInAppMessagePage page) {\n+        final String variantId = variantIdForMessage(message);\n+        if (variantId == null)\n+            return;\n+\n+        final String pageId = page.getPageId();\n+\n+\n+        // Never send multiple page impressions for the same message UUID unless that page change is from an IAM with redisplay\n+        if (message.getViewedPageIds().contains(pageId))\n+            return;\n+\n+        message.addPageId(page.getPageId());\n+\n+        try {\n+            JSONObject json = new JSONObject() {{\n+                put(\"app_id\", OneSignal.appId);\n+                put(\"player_id\", OneSignal.getUserId());\n+                put(\"variant_id\", variantId);\n+                put(\"device_type\", new OSUtils().getDeviceType());\n+                put(\"page_id\", pageId);\n+            }};\n+\n+            OneSignalRestClient.post(\"in_app_messages/\" + message.messageId + \"/pageImpression\", json, new ResponseHandler() {\n+                @Override\n+                void onSuccess(String response) {\n+                    printHttpSuccessForInAppMessageRequest(\"page impression\", response);\n+                    /*OneSignalPrefs.saveStringSet(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04790085256c86606e69a3f5c622f4a562a2c039"}, "originalPosition": 49}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwMzk5MDUw", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#pullrequestreview-550399050", "createdAt": "2020-12-11T18:08:55Z", "commit": {"oid": "04790085256c86606e69a3f5c622f4a562a2c039"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxODowODo1NlrOIEEHeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxODoyMToyNVrOIEEjfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzMjY2Ng==", "bodyText": "this should be a ignored file", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#discussion_r541132666", "createdAt": "2020-12-11T18:08:56Z", "author": {"login": "Jeasmine"}, "path": "Examples/OneSignalDemo/local.properties", "diffHunk": "@@ -4,6 +4,6 @@\n # Location of the SDK. This is only used by Gradle.\n # For customization when using a Version Control System, please read the\n # header note.\n-#Tue Jul 23 19:22:28 PDT 2019", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04790085256c86606e69a3f5c622f4a562a2c039"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzMzUxNA==", "bodyText": "this is marked as notNull but\npageId = json.optString(PAGE_ID, null); it could end being null, maybe set a default value? tr change to Nullable", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#discussion_r541133514", "createdAt": "2020-12-11T18:10:23Z", "author": {"login": "Jeasmine"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSInAppMessageAction.java", "diffHunk": "@@ -125,6 +133,11 @@ public String getClickName() {\n         return clickName;\n     }\n \n+    @NonNull", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04790085256c86606e69a3f5c622f4a562a2c039"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzNDQ2Ng==", "bodyText": "remove extra enter", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#discussion_r541134466", "createdAt": "2020-12-11T18:11:53Z", "author": {"login": "Jeasmine"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSInAppMessageController.java", "diffHunk": "@@ -409,6 +420,53 @@ else if (action.getUrlTarget() == OSInAppMessageAction.OSInAppMessageActionUrlTy\n         }\n     }\n \n+    private void fireRESTCallForPageChange(@NonNull final OSInAppMessage message, @NonNull final OSInAppMessagePage page) {\n+        final String variantId = variantIdForMessage(message);\n+        if (variantId == null)\n+            return;\n+\n+        final String pageId = page.getPageId();\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04790085256c86606e69a3f5c622f4a562a2c039"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzNDgyNg==", "bodyText": "this is checked under onPageChanged too, is that ok?", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#discussion_r541134826", "createdAt": "2020-12-11T18:12:27Z", "author": {"login": "Jeasmine"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSInAppMessageController.java", "diffHunk": "@@ -409,6 +420,53 @@ else if (action.getUrlTarget() == OSInAppMessageAction.OSInAppMessageActionUrlTy\n         }\n     }\n \n+    private void fireRESTCallForPageChange(@NonNull final OSInAppMessage message, @NonNull final OSInAppMessagePage page) {\n+        final String variantId = variantIdForMessage(message);\n+        if (variantId == null)\n+            return;\n+\n+        final String pageId = page.getPageId();\n+\n+\n+        // Never send multiple page impressions for the same message UUID unless that page change is from an IAM with redisplay\n+        if (message.getViewedPageIds().contains(pageId))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04790085256c86606e69a3f5c622f4a562a2c039"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzODQxOQ==", "bodyText": "is the optional needed?", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#discussion_r541138419", "createdAt": "2020-12-11T18:18:53Z", "author": {"login": "Jeasmine"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSInAppMessagePage.kt", "diffHunk": "@@ -0,0 +1,29 @@\n+package com.onesignal\n+\n+\n+import org.json.JSONException\n+import org.json.JSONObject\n+\n+const val PAGE_ID = \"pageId\"\n+const val PAGE_INDEX = \"pageIndex\"\n+\n+class OSInAppMessagePage constructor(jsonObject: JSONObject) {\n+    var pageId: String? = null\n+    var pageIndex: String? = null\n+\n+    init {\n+        pageId = jsonObject.optString(PAGE_ID, null)\n+        pageIndex = jsonObject.optString(PAGE_INDEX, null)\n+    }\n+\n+    fun toJSONObject(): JSONObject? {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04790085256c86606e69a3f5c622f4a562a2c039"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzOTMzNw==", "bodyText": "is this needed?", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#discussion_r541139337", "createdAt": "2020-12-11T18:20:32Z", "author": {"login": "Jeasmine"}, "path": "OneSignalSDK/unittest/src/test/java/com/test/onesignal/InAppMessagingUnitTests.java", "diffHunk": "@@ -616,4 +616,19 @@ public void testOnMessageWasShown() throws Exception {\n         assertEquals(1, iamImpressionRequest.payload.get(\"device_type\"));\n         assertEquals(true, iamImpressionRequest.payload.get(\"first_impression\"));\n     }\n+\n+    @Test\n+    public void testOnPageChanged() throws Exception {\n+        threadAndTaskWait();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04790085256c86606e69a3f5c622f4a562a2c039"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzOTgzNw==", "bodyText": "is ok to test without mocking the IAM display?", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#discussion_r541139837", "createdAt": "2020-12-11T18:21:25Z", "author": {"login": "Jeasmine"}, "path": "OneSignalSDK/unittest/src/test/java/com/test/onesignal/InAppMessagingUnitTests.java", "diffHunk": "@@ -616,4 +616,19 @@ public void testOnMessageWasShown() throws Exception {\n         assertEquals(1, iamImpressionRequest.payload.get(\"device_type\"));\n         assertEquals(true, iamImpressionRequest.payload.get(\"first_impression\"));\n     }\n+\n+    @Test\n+    public void testOnPageChanged() throws Exception {\n+        threadAndTaskWait();\n+\n+        OneSignalPackagePrivateHelper.onPageChanged(message, InAppMessagingHelpers.buildTestPageJson());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04790085256c86606e69a3f5c622f4a562a2c039"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxODI3ODc5", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#pullrequestreview-551827879", "createdAt": "2020-12-14T19:34:19Z", "commit": {"oid": "9a428549751e320600989f56c94f53c976fc4e98"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxOTozNDoxOVrOIFjGOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxOTozNToyMlrOIFjLCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjY4ODgyNw==", "bodyText": "can we remove this file from the PR?", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#discussion_r542688827", "createdAt": "2020-12-14T19:34:19Z", "author": {"login": "Jeasmine"}, "path": "Examples/OneSignalDemo/local.properties", "diffHunk": "@@ -4,6 +4,6 @@\n # Location of the SDK. This is only used by Gradle.\n # For customization when using a Version Control System, please read the\n # header note.\n-#Tue Jul 23 19:22:28 PDT 2019", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzMjY2Ng=="}, "originalCommit": {"oid": "04790085256c86606e69a3f5c622f4a562a2c039"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjY5MDA1OQ==", "bodyText": "same question as on iOS, see OneSignal/OneSignal-iOS-SDK#735 (comment)", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#discussion_r542690059", "createdAt": "2020-12-14T19:35:22Z", "author": {"login": "Jeasmine"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSInAppMessageController.java", "diffHunk": "@@ -409,6 +429,62 @@ else if (action.getUrlTarget() == OSInAppMessageAction.OSInAppMessageActionUrlTy\n         }\n     }\n \n+    private void saveViewedPageIdsToPrefs() {\n+        OneSignalPrefs.saveStringSet(\n+                OneSignalPrefs.PREFS_ONESIGNAL,\n+                OneSignalPrefs.PREFS_OS_PAGE_IMPRESSIONED_IAMS,\n+                // Post success, store impressioned pages to disk\n+                viewedPageIds);\n+    }\n+\n+    private void fireRESTCallForPageChange(@NonNull final OSInAppMessage message, @NonNull final OSInAppMessagePage page) {\n+        final String variantId = variantIdForMessage(message);\n+        if (variantId == null)\n+            return;\n+\n+        final String pageId = page.getPageId();\n+\n+        final String messagePrefixedPageId = message.messageId + pageId;\n+\n+        // Never send multiple page impressions for the same message UUID unless that page change is from an IAM with redisplay\n+        if (message.getViewedPageIds().contains(pageId) || viewedPageIds.contains(messagePrefixedPageId)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a428549751e320600989f56c94f53c976fc4e98"}, "originalPosition": 70}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyODc2MzQ1", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#pullrequestreview-552876345", "createdAt": "2020-12-15T21:08:25Z", "commit": {"oid": "ba6373650125d7b6aa152380d99e949d35f96db5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQyMTowODoyNVrOIGgCSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQyMTowODoyNVrOIGgCSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzY4NzI0Mg==", "bodyText": "can we put some comment over this desition of cleaning impressions, so we know in the future?", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#discussion_r543687242", "createdAt": "2020-12-15T21:08:25Z", "author": {"login": "Jeasmine"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSInAppMessageController.java", "diffHunk": "@@ -494,6 +568,8 @@ private void setDataForRedisplay(OSInAppMessage message) {\n \n                 dismissedMessages.remove(message.messageId);\n                 impressionedMessages.remove(message.messageId);\n+                viewedPageIds.clear();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba6373650125d7b6aa152380d99e949d35f96db5"}, "originalPosition": 113}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MTE1MzIz", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1239#pullrequestreview-554115323", "createdAt": "2020-12-16T21:54:09Z", "commit": {"oid": "9fd95407f21bc626ef23fb78469313778f582a14"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9fd46940967ffd81dfaf01ca131a0af09a9b9b8d", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/9fd46940967ffd81dfaf01ca131a0af09a9b9b8d", "committedDate": "2020-12-22T01:52:18Z", "message": "Revert \"unit tests for IAM end_time logic\"\n\nThis reverts commit 39bc664f7de574b05b4c3d4d78926ef05a4d052a."}, "afterCommit": {"oid": "9fd95407f21bc626ef23fb78469313778f582a14", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/9fd95407f21bc626ef23fb78469313778f582a14", "committedDate": "2020-12-16T20:24:24Z", "message": "adding clarifying comment"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9fd95407f21bc626ef23fb78469313778f582a14", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/9fd95407f21bc626ef23fb78469313778f582a14", "committedDate": "2020-12-16T20:24:24Z", "message": "adding clarifying comment"}, "afterCommit": {"oid": "1a8c6a90e71b76cae762afac8ef26460fdc9fa3b", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/1a8c6a90e71b76cae762afac8ef26460fdc9fa3b", "committedDate": "2020-12-23T22:23:36Z", "message": "Storing pageIds to prefs to fix double impression"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d865c2202fe3dcf5a7959140f03eec8c4adba4eb", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/d865c2202fe3dcf5a7959140f03eec8c4adba4eb", "committedDate": "2020-12-23T22:24:04Z", "message": "removing page id check in pageChanged"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38ef376becb0ea4cf518f6d2dfb79d42523a2cb0", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/38ef376becb0ea4cf518f6d2dfb79d42523a2cb0", "committedDate": "2020-12-23T22:24:04Z", "message": "Storing pageIds to prefs to fix double impression"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1a8c6a90e71b76cae762afac8ef26460fdc9fa3b", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/1a8c6a90e71b76cae762afac8ef26460fdc9fa3b", "committedDate": "2020-12-23T22:23:36Z", "message": "Storing pageIds to prefs to fix double impression"}, "afterCommit": {"oid": "38ef376becb0ea4cf518f6d2dfb79d42523a2cb0", "author": {"user": {"login": "emawby", "name": "Elliot Mawby"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/38ef376becb0ea4cf518f6d2dfb79d42523a2cb0", "committedDate": "2020-12-23T22:24:04Z", "message": "Storing pageIds to prefs to fix double impression"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3492, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}