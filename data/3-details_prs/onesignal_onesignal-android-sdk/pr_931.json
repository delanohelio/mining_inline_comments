{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3ODA4NDA2", "number": 931, "title": "Added null check to fix `NullPointerException` being thrown", "bodyText": "getRootWindowInsets() from Activity DecorView is null some cases (most likely when opening the app from cold start)\nnull check will now return early with the decorView height instead of the difference of the height, top inset, and bottom inset\n\n\n\nThis change is\u2002", "createdAt": "2020-01-28T03:29:33Z", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/931", "merged": true, "mergeCommit": {"oid": "a2a9af0912aa6a3fa2335a915be9f87ca3b624f6"}, "closed": true, "closedAt": "2020-01-28T19:12:51Z", "author": {"login": "mikechoch"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-oyD7gH2gAyMzY3ODA4NDA2OjMyZWJiMTQ2NTc3MjYxZDUyYjYyZDE4N2FjOWI0OTlmZGY0NTE2NDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-15gigFqTM0OTYxNDQ1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "32ebb146577261d52b62d187ac9b499fdf451641", "author": {"user": {"login": "mikechoch", "name": "Michael DiCioccio"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/32ebb146577261d52b62d187ac9b499fdf451641", "committedDate": "2020-01-28T03:29:07Z", "message": "Added null check to fix `NullPointerException` being thrown\n* getRootWindowInsets() from `Activity` `DecorView` is null some cases (most likely when opening the app from cold start)\n* null check will now return early with the decorView height instead of the sum of the height, top inset, and bottom inset"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MTE2Nzg4", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/931#pullrequestreview-349116788", "createdAt": "2020-01-28T03:50:33Z", "commit": {"oid": "32ebb146577261d52b62d187ac9b499fdf451641"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMzo1MDozM1rOFiYkOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMzo1MDozM1rOFiYkOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU5ODM5NQ==", "bodyText": "Let's save decorView.getRootWindowInsets() into a variable just in case it goes null in between calls.", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/931#discussion_r371598395", "createdAt": "2020-01-28T03:50:33Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSViewUtils.java", "diffHunk": "@@ -91,11 +91,12 @@ else  if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP)\n     private static int getWindowHeightAPI23Plus(@NonNull Activity activity) {\n         View decorView = activity.getWindow().getDecorView();\n         // Use use stable heights as SystemWindowInset subtracts the keyboard\n-        int heightWithoutKeyboard =\n-           decorView.getHeight() -\n-           decorView.getRootWindowInsets().getStableInsetBottom() -\n-           decorView.getRootWindowInsets().getStableInsetTop();\n-        return heightWithoutKeyboard;\n+        if (decorView.getRootWindowInsets() == null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32ebb146577261d52b62d187ac9b499fdf451641"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d25f6e3cb331f2a6949fc23d30e4ca4702f5a3fa", "author": {"user": {"login": "mikechoch", "name": "Michael DiCioccio"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/d25f6e3cb331f2a6949fc23d30e4ca4702f5a3fa", "committedDate": "2020-01-28T03:54:21Z", "message": "Assigning `WindowInsets` to variable first and then assessing"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5NjE0NDUz", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/931#pullrequestreview-349614453", "createdAt": "2020-01-28T18:46:01Z", "commit": {"oid": "d25f6e3cb331f2a6949fc23d30e4ca4702f5a3fa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3646, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}