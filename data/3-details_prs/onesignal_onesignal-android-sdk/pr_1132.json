{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc4MjQ4NDU2", "number": 1132, "title": "Improvements", "bodyText": "Refactor from runnable definition to lambda runnable\nRename OneSignalPrefs to SharedPreferenceUtil\nDelay pauseInAppMessages due to need context for IAM Controller\nRemove empty file NotificationRestorer.java\nAdd null check for getPermissionSubscriptionState inside demo app\nRename OSNotificationOpenResult to OSNotificationOpenedResult\n\n\n\nThis change is\u2002", "createdAt": "2020-09-02T23:49:00Z", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1132", "merged": true, "mergeCommit": {"oid": "d20d33e3b88e843e37d6fb78fdce7956f70b4c31"}, "closed": true, "closedAt": "2020-09-03T01:13:03Z", "author": {"login": "Jeasmine"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFE2wSgH2gAyNDc4MjQ4NDU2OmJmZDBhODQyODliNWEyMzlmM2E2ODNkOTM5MjU2YzJmZTUwMmIwNDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFFKAtgFqTQ4MTM5MjIwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bfd0a84289b5a239f3a683d939256c2fe502b041", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/bfd0a84289b5a239f3a683d939256c2fe502b041", "committedDate": "2020-09-02T23:46:17Z", "message": "Improvements\n\n  * Refactor from runnable definition to lambda runnable\n  * Rename OneSignalPrefs to SharedPreferenceUtil\n  * Delay pauseInAppMessages due to need context for IAM Controller\n  * Remove empty file NotificationRestorer.java\n  * Add null check for getPermissionSubscriptionState inside demo app\n  * Rename OSNotificationOpenResult to OSNotificationOpenedResult"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMzkyMjA3", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1132#pullrequestreview-481392207", "createdAt": "2020-09-03T00:03:37Z", "commit": {"oid": "bfd0a84289b5a239f3a683d939256c2fe502b041"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwMDowMzozOFrOHMQFxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwMDowMzozOFrOHMQFxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjYwODU4Mg==", "bodyText": "Do lamdas not have their own scope so we can keep this isSubscribed?", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1132#discussion_r482608582", "createdAt": "2020-09-03T00:03:38Z", "author": {"login": "jkasten2"}, "path": "Examples/OneSignalDemo/app/src/main/java/com/onesignal/sdktest/model/MainActivityViewModel.java", "diffHunk": "@@ -468,123 +460,97 @@ public void setupSettingsLayout() {\n \n     private void setupSubscriptionSwitch() {\n         boolean isPermissionEnabled = OneSignal\n-                .getPermissionSubscriptionState()\n-                .getPermissionStatus()\n-                .getEnabled();\n+                .getPermissionSubscriptionState() != null &&\n+                OneSignal\n+                        .getPermissionSubscriptionState()\n+                        .getPermissionStatus()\n+                        .getEnabled();\n \n         final boolean isSubscribed = OneSignal\n-                .getPermissionSubscriptionState()\n-                .getSubscriptionStatus()\n-                .getSubscribed();\n+                .getPermissionSubscriptionState() != null &&\n+                OneSignal\n+                        .getPermissionSubscriptionState()\n+                        .getSubscriptionStatus()\n+                        .getSubscribed();\n \n         subscriptionSwitch.setEnabled(isPermissionEnabled);\n         subscriptionSwitch.setChecked(isSubscribed);\n \n         if (isPermissionEnabled) {\n-            subscriptionRelativeLayout.setOnClickListener(new View.OnClickListener() {\n-                @Override\n-                public void onClick(View v) {\n-                    boolean isSubscribed = subscriptionSwitch.isChecked();\n-                    subscriptionSwitch.setChecked(!isSubscribed);\n-                    OneSignal.setSubscription(!isSubscribed);\n-                }\n+            subscriptionRelativeLayout.setOnClickListener(v -> {\n+                boolean isSubscribed1 = subscriptionSwitch.isChecked();\n+                subscriptionSwitch.setChecked(!isSubscribed1);\n+                OneSignal.setSubscription(!isSubscribed1);\n             });\n         } else {\n-            subscriptionRelativeLayout.setOnClickListener(new View.OnClickListener() {\n-                @Override\n-                public void onClick(View v) {\n-                    intentTo.notificationPermissions();\n-                }\n-            });\n+            subscriptionRelativeLayout.setOnClickListener(v -> intentTo.notificationPermissions());\n         }\n \n-        subscriptionSwitch.setOnClickListener(new View.OnClickListener() {\n-            @Override\n-            public void onClick(View v) {\n-                boolean isSubscribed = subscriptionSwitch.isChecked();\n-                OneSignal.setSubscription(!isSubscribed);\n-            }\n+        subscriptionSwitch.setOnClickListener(v -> {\n+            boolean isSubscribed12 = subscriptionSwitch.isChecked();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfd0a84289b5a239f3a683d939256c2fe502b041"}, "originalPosition": 173}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3418, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}