{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxMjA2MTgy", "number": 973, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMzowODowOFrODqCWxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQwMDoyMTo0N1rODqC6EQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1NDA1MzgwOnYy", "diffSide": "RIGHT", "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/GooglePlayServicesUpgradePrompt.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMzowODowOFrOF5ldDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQwMDoxMToxMlrOF5mMsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkyNjc5OA==", "bodyText": "is it ok to remove the != null check?\nIn that case the ()  can be removed", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/973#discussion_r395926798", "createdAt": "2020-03-20T23:08:08Z", "author": {"login": "Jeasmine"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/GooglePlayServicesUpgradePrompt.java", "diffHunk": "@@ -30,8 +30,10 @@ private static boolean isGooglePlayStoreInstalled() {\n          PackageManager pm = OneSignal.appContext.getPackageManager();\n          PackageInfo info = pm.getPackageInfo(GoogleApiAvailability.GOOGLE_PLAY_SERVICES_PACKAGE, PackageManager.GET_META_DATA);\n          String label = (String) info.applicationInfo.loadLabel(pm);\n-         return (label != null && !label.equals(\"Market\"));\n-      } catch (Throwable e) {}\n+         return (!label.equals(\"Market\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2af9749dde6ed54adca756b8053f6db6b277f174"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkzODk5NQ==", "bodyText": "@Jeasmine Good eye, however the return definition of PackageInfo.loadLabel() has a @NonNull.\npublic @NonNull CharSequence loadLabel(@NonNull PackageManager pm) {", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/973#discussion_r395938995", "createdAt": "2020-03-21T00:11:12Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/GooglePlayServicesUpgradePrompt.java", "diffHunk": "@@ -30,8 +30,10 @@ private static boolean isGooglePlayStoreInstalled() {\n          PackageManager pm = OneSignal.appContext.getPackageManager();\n          PackageInfo info = pm.getPackageInfo(GoogleApiAvailability.GOOGLE_PLAY_SERVICES_PACKAGE, PackageManager.GET_META_DATA);\n          String label = (String) info.applicationInfo.loadLabel(pm);\n-         return (label != null && !label.equals(\"Market\"));\n-      } catch (Throwable e) {}\n+         return (!label.equals(\"Market\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkyNjc5OA=="}, "originalCommit": {"oid": "2af9749dde6ed54adca756b8053f6db6b277f174"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1NDA2ODAwOnYy", "diffSide": "RIGHT", "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/TrackAmazonPurchase.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQyMzoxOTowMFrOF5ll8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQwMDoyMzo0N1rOF5mUMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkyOTA3Mg==", "bodyText": "what IAP stand for? \ud83d\ude33", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/973#discussion_r395929072", "createdAt": "2020-03-20T23:19:00Z", "author": {"login": "Jeasmine"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/TrackAmazonPurchase.java", "diffHunk": "@@ -72,11 +74,25 @@\n \n          canTrack = true;\n          setListener();\n-      } catch (Throwable t) {\n-         OneSignal.Log(OneSignal.LOG_LEVEL.ERROR, \"Error adding Amazon IAP listener.\", t);\n+         // Can replace all catches with ReflectiveOperationException win min API is 19\n+      } catch (ClassNotFoundException e) {\n+         logAmazonIAPListenerError(e);\n+      } catch (IllegalAccessException e) {\n+         logAmazonIAPListenerError(e);\n+      } catch (InvocationTargetException e) {\n+         logAmazonIAPListenerError(e);\n+      } catch (NoSuchMethodException e) {\n+         logAmazonIAPListenerError(e);\n+      } catch (NoSuchFieldException e) {\n+         logAmazonIAPListenerError(e);\n       }\n    }\n \n+   private static void logAmazonIAPListenerError(Exception e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2af9749dde6ed54adca756b8053f6db6b277f174"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkzOTA2NA==", "bodyText": "In-App Purchase", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/973#discussion_r395939064", "createdAt": "2020-03-21T00:11:36Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/TrackAmazonPurchase.java", "diffHunk": "@@ -72,11 +74,25 @@\n \n          canTrack = true;\n          setListener();\n-      } catch (Throwable t) {\n-         OneSignal.Log(OneSignal.LOG_LEVEL.ERROR, \"Error adding Amazon IAP listener.\", t);\n+         // Can replace all catches with ReflectiveOperationException win min API is 19\n+      } catch (ClassNotFoundException e) {\n+         logAmazonIAPListenerError(e);\n+      } catch (IllegalAccessException e) {\n+         logAmazonIAPListenerError(e);\n+      } catch (InvocationTargetException e) {\n+         logAmazonIAPListenerError(e);\n+      } catch (NoSuchMethodException e) {\n+         logAmazonIAPListenerError(e);\n+      } catch (NoSuchFieldException e) {\n+         logAmazonIAPListenerError(e);\n       }\n    }\n \n+   private static void logAmazonIAPListenerError(Exception e) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkyOTA3Mg=="}, "originalCommit": {"oid": "2af9749dde6ed54adca756b8053f6db6b277f174"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk0MDkxNQ==", "bodyText": "Idk why I laughed at this", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/973#discussion_r395940915", "createdAt": "2020-03-21T00:23:47Z", "author": {"login": "mikechoch"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/TrackAmazonPurchase.java", "diffHunk": "@@ -72,11 +74,25 @@\n \n          canTrack = true;\n          setListener();\n-      } catch (Throwable t) {\n-         OneSignal.Log(OneSignal.LOG_LEVEL.ERROR, \"Error adding Amazon IAP listener.\", t);\n+         // Can replace all catches with ReflectiveOperationException win min API is 19\n+      } catch (ClassNotFoundException e) {\n+         logAmazonIAPListenerError(e);\n+      } catch (IllegalAccessException e) {\n+         logAmazonIAPListenerError(e);\n+      } catch (InvocationTargetException e) {\n+         logAmazonIAPListenerError(e);\n+      } catch (NoSuchMethodException e) {\n+         logAmazonIAPListenerError(e);\n+      } catch (NoSuchFieldException e) {\n+         logAmazonIAPListenerError(e);\n       }\n    }\n \n+   private static void logAmazonIAPListenerError(Exception e) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkyOTA3Mg=="}, "originalCommit": {"oid": "2af9749dde6ed54adca756b8053f6db6b277f174"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1NDE0MzkwOnYy", "diffSide": "RIGHT", "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/TrackFirebaseAnalytics.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQwMDoyMToyOVrOF5mSzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQwMDozMjozMlrOF5mYuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk0MDU1Ng==", "bodyText": "t should be e", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/973#discussion_r395940556", "createdAt": "2020-03-21T00:21:29Z", "author": {"login": "mikechoch"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/TrackFirebaseAnalytics.java", "diffHunk": "@@ -56,7 +56,7 @@ static boolean CanTrack() {\n       try {\n          FirebaseAnalyticsClass = Class.forName(\"com.google.firebase.analytics.FirebaseAnalytics\");\n          return true;\n-      } catch (Throwable t) {\n+      } catch (ClassNotFoundException t) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2af9749dde6ed54adca756b8053f6db6b277f174"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk0MjAzNA==", "bodyText": "Good catch!", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/973#discussion_r395942034", "createdAt": "2020-03-21T00:32:20Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/TrackFirebaseAnalytics.java", "diffHunk": "@@ -56,7 +56,7 @@ static boolean CanTrack() {\n       try {\n          FirebaseAnalyticsClass = Class.forName(\"com.google.firebase.analytics.FirebaseAnalytics\");\n          return true;\n-      } catch (Throwable t) {\n+      } catch (ClassNotFoundException t) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk0MDU1Ng=="}, "originalCommit": {"oid": "2af9749dde6ed54adca756b8053f6db6b277f174"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk0MjA3Mw==", "bodyText": "Fixed", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/973#discussion_r395942073", "createdAt": "2020-03-21T00:32:32Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/TrackFirebaseAnalytics.java", "diffHunk": "@@ -56,7 +56,7 @@ static boolean CanTrack() {\n       try {\n          FirebaseAnalyticsClass = Class.forName(\"com.google.firebase.analytics.FirebaseAnalytics\");\n          return true;\n-      } catch (Throwable t) {\n+      } catch (ClassNotFoundException t) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk0MDU1Ng=="}, "originalCommit": {"oid": "2af9749dde6ed54adca756b8053f6db6b277f174"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1NDE0NDE3OnYy", "diffSide": "RIGHT", "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OneSignalDbHelper.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQwMDoyMTo0N1rOF5mS9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQwMDozMjozNVrOF5mYwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk0MDU5OQ==", "bodyText": "t should be e", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/973#discussion_r395940599", "createdAt": "2020-03-21T00:21:47Z", "author": {"login": "mikechoch"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OneSignalDbHelper.java", "diffHunk": "@@ -147,7 +148,7 @@ synchronized SQLiteDatabase getReadableDbWithRetries() {\n       while(true) {\n          try {\n             return getReadableDatabase();\n-         } catch (Throwable t) {\n+         } catch (SQLiteCantOpenDatabaseException t) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2af9749dde6ed54adca756b8053f6db6b277f174"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk0MjA1NQ==", "bodyText": "Good catch!", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/973#discussion_r395942055", "createdAt": "2020-03-21T00:32:26Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OneSignalDbHelper.java", "diffHunk": "@@ -147,7 +148,7 @@ synchronized SQLiteDatabase getReadableDbWithRetries() {\n       while(true) {\n          try {\n             return getReadableDatabase();\n-         } catch (Throwable t) {\n+         } catch (SQLiteCantOpenDatabaseException t) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk0MDU5OQ=="}, "originalCommit": {"oid": "2af9749dde6ed54adca756b8053f6db6b277f174"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk0MjA4MA==", "bodyText": "Fixed", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/973#discussion_r395942080", "createdAt": "2020-03-21T00:32:35Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OneSignalDbHelper.java", "diffHunk": "@@ -147,7 +148,7 @@ synchronized SQLiteDatabase getReadableDbWithRetries() {\n       while(true) {\n          try {\n             return getReadableDatabase();\n-         } catch (Throwable t) {\n+         } catch (SQLiteCantOpenDatabaseException t) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk0MDU5OQ=="}, "originalCommit": {"oid": "2af9749dde6ed54adca756b8053f6db6b277f174"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2217, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}