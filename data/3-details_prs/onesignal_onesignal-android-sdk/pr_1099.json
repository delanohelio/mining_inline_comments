{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2Mzg1NzYx", "number": 1099, "title": "Fix ANR due to on_focus call being call from MainThread", "bodyText": "When attempSessionUpgrade is call, onFocus call can end being call from mainThread\nAdd MainThread check on makeRequest\nThrow RuntimeException when running network calls from MainThread\n\n\n\nThis change is\u2002", "createdAt": "2020-07-24T16:44:21Z", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1099", "merged": true, "mergeCommit": {"oid": "4678ff6960aa6db9ac2aa8237f46f730c6004bb5"}, "closed": true, "closedAt": "2020-07-27T21:46:36Z", "author": {"login": "Jeasmine"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4G24agBqjM1ODQ2OTIwMDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5IkqVgBqjM1OTE2ODg1NzI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bfc875a4d9d3396c96a8d2c73c32df16b1947aef", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/bfc875a4d9d3396c96a8d2c73c32df16b1947aef", "committedDate": "2020-07-24T16:41:27Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread"}, "afterCommit": {"oid": "1df6c8e841245fdbfeb747affff9363b8f531f93", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/1df6c8e841245fdbfeb747affff9363b8f531f93", "committedDate": "2020-07-24T16:45:01Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1df6c8e841245fdbfeb747affff9363b8f531f93", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/1df6c8e841245fdbfeb747affff9363b8f531f93", "committedDate": "2020-07-24T16:45:01Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread"}, "afterCommit": {"oid": "dd2bacd956288dd412338e0e5ec2cf2d0bcd602b", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/dd2bacd956288dd412338e0e5ec2cf2d0bcd602b", "committedDate": "2020-07-24T17:39:24Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dd2bacd956288dd412338e0e5ec2cf2d0bcd602b", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/dd2bacd956288dd412338e0e5ec2cf2d0bcd602b", "committedDate": "2020-07-24T17:39:24Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}, "afterCommit": {"oid": "ed30278c05a241d25da4812d7be0590ac8577399", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/ed30278c05a241d25da4812d7be0590ac8577399", "committedDate": "2020-07-24T17:49:34Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ed30278c05a241d25da4812d7be0590ac8577399", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/ed30278c05a241d25da4812d7be0590ac8577399", "committedDate": "2020-07-24T17:49:34Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}, "afterCommit": {"oid": "a2245df1eb2e83d47acead4f16af0dc65c5aa32a", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/a2245df1eb2e83d47acead4f16af0dc65c5aa32a", "committedDate": "2020-07-24T18:57:59Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2245df1eb2e83d47acead4f16af0dc65c5aa32a", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/a2245df1eb2e83d47acead4f16af0dc65c5aa32a", "committedDate": "2020-07-24T18:57:59Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}, "afterCommit": {"oid": "49f03821eadb618b8d674b3d0ff1be5b45aef992", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/49f03821eadb618b8d674b3d0ff1be5b45aef992", "committedDate": "2020-07-24T19:13:21Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MTI1NjEz", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1099#pullrequestreview-455125613", "createdAt": "2020-07-24T19:12:52Z", "commit": {"oid": "ed30278c05a241d25da4812d7be0590ac8577399"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxOToxMzo1OVrOG262uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxOToxNDo1OFrOG264Xg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDI0MDU3MQ==", "bodyText": "Let's put this before the privacy consent check. This means we will fail faster so we can detect issues sooner if this become a problem in the future.", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1099#discussion_r460240571", "createdAt": "2020-07-24T19:13:59Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OneSignalRestClient.java", "diffHunk": "@@ -103,7 +104,10 @@ private static void makeRequest(final String url, final String method, final JSO\n       // If not a GET request, check if the user provided privacy consent if the application is set to require user privacy consent\n       if (method != null && OneSignal.shouldLogUserPrivacyConsentErrorMessageForMethodName(null))\n          return;\n-   \n+\n+      if (OSUtils.isThreadRunningOnMainThread())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "49f03821eadb618b8d674b3d0ff1be5b45aef992"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDI0MDk5MA==", "bodyText": "We shouldn't be overriding this for the tests. We will want to know in the tests if we have an issue with a network call being made on the main thread.", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1099#discussion_r460240990", "createdAt": "2020-07-24T19:14:58Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/unittest/src/test/java/com/onesignal/ShadowOSUtils.java", "diffHunk": "@@ -88,6 +89,11 @@ public static void resetStatics() {\n \n    }\n \n+   @Implementation\n+   public static boolean isThreadRunningOnMainThread() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "49f03821eadb618b8d674b3d0ff1be5b45aef992"}, "originalPosition": 13}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "49f03821eadb618b8d674b3d0ff1be5b45aef992", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/49f03821eadb618b8d674b3d0ff1be5b45aef992", "committedDate": "2020-07-24T19:13:21Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}, "afterCommit": {"oid": "b7f4b8db9d31b12e0fcf0bf643b27094cc2df711", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/b7f4b8db9d31b12e0fcf0bf643b27094cc2df711", "committedDate": "2020-07-24T19:49:08Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b7f4b8db9d31b12e0fcf0bf643b27094cc2df711", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/b7f4b8db9d31b12e0fcf0bf643b27094cc2df711", "committedDate": "2020-07-24T19:49:08Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}, "afterCommit": {"oid": "d76b2fb38e877d6e4c9e8b80eba2a0eaf0880194", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/d76b2fb38e877d6e4c9e8b80eba2a0eaf0880194", "committedDate": "2020-07-24T19:50:14Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d76b2fb38e877d6e4c9e8b80eba2a0eaf0880194", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/d76b2fb38e877d6e4c9e8b80eba2a0eaf0880194", "committedDate": "2020-07-24T19:50:14Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}, "afterCommit": {"oid": "4dea98ddcec5a9da7d58f5783ff88a8923a5faad", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/4dea98ddcec5a9da7d58f5783ff88a8923a5faad", "committedDate": "2020-07-24T19:51:37Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MTcwMDMz", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1099#pullrequestreview-455170033", "createdAt": "2020-07-24T20:35:03Z", "commit": {"oid": "4dea98ddcec5a9da7d58f5783ff88a8923a5faad"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQyMDozNTowM1rOG28-mQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQyMDozNTowM1rOG28-mQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDI3NTM1Mw==", "bodyText": "This could be changed to just OneSignalRestClient.get(\"URL\", null, null); which is asynchronous. This would simplify this.\nOr does this create any issues with the tests getting stuck?", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1099#discussion_r460275353", "createdAt": "2020-07-24T20:35:03Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/unittest/src/test/java/com/test/onesignal/RESTClientRunner.java", "diffHunk": "@@ -92,23 +99,38 @@ public void testRESTClientFallbackTimeout() throws Exception {\n \n    @Test\n    public void SDKHeaderIsIncludedInGetCalls() throws Exception {\n-      OneSignalRestClient.getSync(\"URL\", null, null);\n+      new Thread(new Runnable() {\n+         @Override\n+         public void run() {\n+            OneSignalRestClient.getSync(\"URL\", null, null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dea98ddcec5a9da7d58f5783ff88a8923a5faad"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MTcwODA1", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1099#pullrequestreview-455170805", "createdAt": "2020-07-24T20:36:32Z", "commit": {"oid": "4dea98ddcec5a9da7d58f5783ff88a8923a5faad"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQyMDozNjozMlrOG29A0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQyMDozNjozMlrOG29A0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDI3NTkyMg==", "bodyText": "how about more simply isRunningOnMainThread?", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1099#discussion_r460275922", "createdAt": "2020-07-24T20:36:32Z", "author": {"login": "rgomezp"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSUtils.java", "diffHunk": "@@ -475,6 +475,10 @@ static boolean areNotificationsEnabled(Context  context) {\n       return true;\n    }\n \n+   static boolean isThreadRunningOnMainThread() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dea98ddcec5a9da7d58f5783ff88a8923a5faad"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4dea98ddcec5a9da7d58f5783ff88a8923a5faad", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/4dea98ddcec5a9da7d58f5783ff88a8923a5faad", "committedDate": "2020-07-24T19:51:37Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}, "afterCommit": {"oid": "2a5788e026a9cf328e8331807c609efec57d5a71", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/2a5788e026a9cf328e8331807c609efec57d5a71", "committedDate": "2020-07-24T20:39:38Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MjIyOTMw", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1099#pullrequestreview-455222930", "createdAt": "2020-07-24T22:50:25Z", "commit": {"oid": "2a5788e026a9cf328e8331807c609efec57d5a71"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1ODg3NjIz", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1099#pullrequestreview-455887623", "createdAt": "2020-07-27T15:23:12Z", "commit": {"oid": "2a5788e026a9cf328e8331807c609efec57d5a71"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNToyMzoxMlrOG3nfhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNToyMzoxMlrOG3nfhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDk3MTkwOA==", "bodyText": "OneSignalRestClient.post(\"URL\", null,null);\nneeds a space between null,null\nOneSignalRestClient.post(\"URL\", null, null);", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1099#discussion_r460971908", "createdAt": "2020-07-27T15:23:12Z", "author": {"login": "mikechoch"}, "path": "OneSignalSDK/unittest/src/test/java/com/test/onesignal/RESTClientRunner.java", "diffHunk": "@@ -92,23 +92,23 @@ public void testRESTClientFallbackTimeout() throws Exception {\n \n    @Test\n    public void SDKHeaderIsIncludedInGetCalls() throws Exception {\n-      OneSignalRestClient.getSync(\"URL\", null, null);\n+      OneSignalRestClient.get(\"URL\", null, null);\n       threadAndTaskWait();\n \n       assertEquals(SDK_VERSION_HTTP_HEADER, getLastHTTPHeaderProp(\"SDK-Version\"));\n    }\n \n    @Test\n    public void SDKHeaderIsIncludedInPostCalls() throws Exception {\n-      OneSignalRestClient.postSync(\"URL\", null,null);\n+      OneSignalRestClient.post(\"URL\", null,null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a5788e026a9cf328e8331807c609efec57d5a71"}, "originalPosition": 32}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2a5788e026a9cf328e8331807c609efec57d5a71", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/2a5788e026a9cf328e8331807c609efec57d5a71", "committedDate": "2020-07-24T20:39:38Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}, "afterCommit": {"oid": "b32da4f1cd67f03afe9ccad130a524c5bb4401de", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/b32da4f1cd67f03afe9ccad130a524c5bb4401de", "committedDate": "2020-07-27T15:37:18Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1OTE0NTU0", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1099#pullrequestreview-455914554", "createdAt": "2020-07-27T15:53:46Z", "commit": {"oid": "b32da4f1cd67f03afe9ccad130a524c5bb4401de"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNTo1Mzo0NlrOG3oxvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNTo1Mzo0NlrOG3oxvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDk5Mjk1Nw==", "bodyText": "Whoops found another missing a space", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1099#discussion_r460992957", "createdAt": "2020-07-27T15:53:46Z", "author": {"login": "mikechoch"}, "path": "OneSignalSDK/unittest/src/test/java/com/test/onesignal/RESTClientRunner.java", "diffHunk": "@@ -82,7 +82,7 @@ public void testRESTClientFallbackTimeout() throws Exception {\n          mockThreadHang = true;\n       }};\n \n-      OneSignalRestClient.getSync(\"URL\", null,\"\");\n+      OneSignalRestClient.get(\"URL\", null,\"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b32da4f1cd67f03afe9ccad130a524c5bb4401de"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "edf0064c5caa9f79245fbe027114173e8f99aa76", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/edf0064c5caa9f79245fbe027114173e8f99aa76", "committedDate": "2020-07-27T21:18:49Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b32da4f1cd67f03afe9ccad130a524c5bb4401de", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/b32da4f1cd67f03afe9ccad130a524c5bb4401de", "committedDate": "2020-07-27T15:37:18Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}, "afterCommit": {"oid": "edf0064c5caa9f79245fbe027114173e8f99aa76", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/edf0064c5caa9f79245fbe027114173e8f99aa76", "committedDate": "2020-07-27T21:18:49Z", "message": "Fix ANR due to on_focus call being call from MainThread\n\n* When attempSessionUpgrade is call, onFocus call can end being call from mainThread\n* Add MainThread check on makeRequest\n* Throw RuntimeException when running network calls from MainThread\n* For testing Shadow OSUtils isThreadRunningOnMainThread"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3392, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}