{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2NTc3MTkw", "number": 1171, "title": "Fix/iam issues", "bodyText": "Iterate over message instead of redisplay\n\nFor better readability\nKeep message list as single source of true\n\nInit IAM with cached IAMs on new session\n\nWhen app is closed and opened if it is a new session, the IAMs will be delayed until on_session call, this end with the idea that IAMs stop working\nAlways init app with cache IAMs\n\nMake IAM not display under splas screenh when back pressing \u2026\n\nIf user implements splash with a handler timer activity and back press while displaying an IAM, IAM will be displayed under splash\nAdd callback for when the app lost focus, dismiss IAM but not save it as dismissed this will allow the IAM to be displayed again until the user dismiss it\nIf the user back press and come too quickly to the app, focus detection won't happen, IAM will still be shown under the splash screen\n\nReview commit by commit\n\nThis change is\u2002", "createdAt": "2020-10-01T22:19:11Z", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1171", "merged": true, "mergeCommit": {"oid": "05b05de025f4b3ea6159e9badfba47468bce6c0c"}, "closed": true, "closedAt": "2020-10-06T15:06:54Z", "author": {"login": "Jeasmine"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOGXtRAH2gAyNDk2NTc3MTkwOjE3Zjg2Nzc4MTFjMzE0YWM0MDAyMWE4NTRkNWI5NTRiY2YyOTRhYzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPpHyngFqTUwMjM2MzUyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "17f8677811c314ac40021a854d5b954bcf294ac9", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/17f8677811c314ac40021a854d5b954bcf294ac9", "committedDate": "2020-10-01T00:37:30Z", "message": "Iterate over message instead of redisplay\n\n* For better readability\n* Keep message list as single source of true"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62ead8bc38ef3f47ebd5b19f1d8201c078c99fbd", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/62ead8bc38ef3f47ebd5b19f1d8201c078c99fbd", "committedDate": "2020-10-01T03:09:55Z", "message": "Init IAM with cached IAMs on new session\n\n* When app is closed and opened if it is a new session, the IAMs will be delayed until on_session call, this end with the idea that IAMs stop working\n* Always init app with cache IAMs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd06bf92767b89a964921482d39e8ff42705d5d5", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/fd06bf92767b89a964921482d39e8ff42705d5d5", "committedDate": "2020-10-01T22:17:48Z", "message": "Make IAM not display under splas screenh when back pressing\n\n* If user implements splash with a handler timer activity and back press while displaying an IAM, IAM will be displayed under splash\n* Add callback for when the app lost focus, dismiss IAM but not save it as dismissed this will allow the IAM to be displayed again until the user dismiss it\n* If the user back press and come too quickly to the app, focus detection won't happen, IAM will still be shown under the splash screen"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMjgxODA1", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1171#pullrequestreview-502281805", "createdAt": "2020-10-05T17:44:25Z", "commit": {"oid": "fd06bf92767b89a964921482d39e8ff42705d5d5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzo0NDoyNVrOHcnXRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzo0NDoyNVrOHcnXRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc2NzExMA==", "bodyText": "Do all of these functions have no body? Is this okay?", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1171#discussion_r499767110", "createdAt": "2020-10-05T17:44:25Z", "author": {"login": "andrespelaezp"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/ActivityLifecycleHandler.java", "diffHunk": "@@ -50,7 +50,10 @@\n         void available(@NonNull Activity activity) {\n         }\n \n-        void stopped(WeakReference<Activity> reference) {\n+        void stopped() {\n+        }\n+\n+        void lostFocus() {\n         }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd06bf92767b89a964921482d39e8ff42705d5d5"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMjkxMzY2", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1171#pullrequestreview-502291366", "createdAt": "2020-10-05T17:57:37Z", "commit": {"oid": "fd06bf92767b89a964921482d39e8ff42705d5d5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMzYzNTI2", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1171#pullrequestreview-502363526", "createdAt": "2020-10-05T19:40:43Z", "commit": {"oid": "fd06bf92767b89a964921482d39e8ff42705d5d5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3447, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}