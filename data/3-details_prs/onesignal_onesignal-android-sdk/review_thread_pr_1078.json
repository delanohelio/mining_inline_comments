{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwMjk5NjQ3", "number": 1078, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNTo0NjozMlrOEM9A-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxOTowMDo0NFrOEUuPuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMDE4MDQwOnYy", "diffSide": "RIGHT", "path": "OneSignalSDK/app/build.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNTo0NjozMlrOGvXLsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNTo0NjozMlrOGvXLsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMxNjA4Mg==", "bodyText": "Should we also add in the location dependency?\nimplementation 'com.huawei.hms:location:X.X.X.X'", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1078#discussion_r452316082", "createdAt": "2020-07-09T15:46:32Z", "author": {"login": "mikechoch"}, "path": "OneSignalSDK/app/build.gradle", "diffHunk": "@@ -68,6 +68,8 @@ dependencies {\n \n     // For Chrome tabs\n     implementation 'com.android.support:customtabs:28.0.0'\n+\n+    implementation 'com.huawei.hms:push:4.0.3.301'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82b3b14bd9100121889e4d8788e29994b9cac0e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTY0NjY1OnYy", "diffSide": "RIGHT", "path": "OneSignalSDK/app/src/main/java/com/onesignal/example/HmsMessageServiceAppLevel.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxOTowMDo0NFrOG7FNag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxOTowMDo0NFrOG7FNag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDYwNDUyMg==", "bodyText": "is ok to be error lvl log?", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1078#discussion_r464604522", "createdAt": "2020-08-03T19:00:44Z", "author": {"login": "Jeasmine"}, "path": "OneSignalSDK/app/src/main/java/com/onesignal/example/HmsMessageServiceAppLevel.java", "diffHunk": "@@ -0,0 +1,50 @@\n+package com.onesignal.example;\r\n+\r\n+import android.util.Log;\r\n+\r\n+import com.huawei.hms.push.HmsMessageService;\r\n+import com.huawei.hms.push.RemoteMessage;\r\n+import com.onesignal.OneSignalHmsEventBridge;\r\n+\r\n+public class HmsMessageServiceAppLevel extends HmsMessageService {\r\n+\r\n+    /**\r\n+     * When an app calls the getToken method to apply for a token from the server,\r\n+     * if the server does not return the token during current method calling, the server can return the token through this method later.\r\n+     * This method callback must be completed in 10 seconds. Otherwise, you need to start a new Job for callback processing.\r\n+     * @param token token\r\n+     */\r\n+    @Override\r\n+    public void onNewToken(String token) {\r\n+        Log.e(\"HMS\", \"onNewToken refresh token:\" + token);\r\n+\r\n+        // Forward event on to OneSignal SDK\r\n+        OneSignalHmsEventBridge.onNewToken(this, token);\r\n+    }\r\n+\r\n+    /**\r\n+     * This method is called in the following cases:\r\n+     *   1. \"Data messages\" - App process is alive when received.\r\n+     *   2. \"Notification Message\" - foreground_show = false and app is in focus\r\n+     * This method callback must be completed in 10 seconds. Start a new Job if more time is needed.\r\n+     *\r\n+     * @param message RemoteMessage\r\n+     */\r\n+    @Override\r\n+    public void onMessageReceived(RemoteMessage message) {\r\n+        Log.e(\"HMS\", \"onMessageReceived: \" + message);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bef94f6d832d297e9cf9d62adc5e0094d256aafc"}, "originalPosition": 35}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2305, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}