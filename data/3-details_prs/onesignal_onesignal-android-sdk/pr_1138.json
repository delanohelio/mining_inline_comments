{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxNjk1OTg3", "number": 1138, "title": "Set up NotificationProcessingHandler before remote params call", "bodyText": "setupNotificationExtensionServiceClass method must be called even if remote params aren't called, in that way the user service callback is called\nIf privacy consent isn't granted then subscription shouldn't happen then notifications will not arrive, because of that it is safe to init service even if we don't have remote params or privacy consent\n\n\n\nThis change is\u2002", "createdAt": "2020-09-08T00:17:15Z", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1138", "merged": true, "mergeCommit": {"oid": "0e8055416ca2bb5265c5bdc91688daa4b4bde8c4"}, "closed": true, "closedAt": "2020-09-08T18:26:57Z", "author": {"login": "Jeasmine"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdGsTzXABqjM3Mzg2MjE1ODE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdG7ldrAFqTQ4NDM3NzQ3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5135bcfb5e94627011029cd848a12612f3aa8b70", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/5135bcfb5e94627011029cd848a12612f3aa8b70", "committedDate": "2020-09-08T00:15:44Z", "message": "Set up NotificationProcessingHandler even if remote params or privacy consent is granted\n\n  * setupNotificationExtensionServiceClass method must be called even if remote params aren't call, in that way the user service callback is called\n  * If privvacy consent isn't granted then subscription shoudn't happen then notification will not arrive, because of that it is safe to init service even if we don't have remote params or privacy consent"}, "afterCommit": {"oid": "b3d32d882e6de8a0da7c85f3501894b06fb01842", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/b3d32d882e6de8a0da7c85f3501894b06fb01842", "committedDate": "2020-09-08T00:17:42Z", "message": "Set up NotificationProcessingHandler even if remote params or privacy consent is granted\n\n  * setupNotificationExtensionServiceClass method must be called even if remote params aren't called, in that way the user service callback is called\n  * If privacy consent isn't granted then subscription shouldn't happen then the notification will not arrive, because of that it is safe to init service even if we don't have remote params or privacy consent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9664b339de4f33abea81cb8d551c485ed4ecdf1", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/e9664b339de4f33abea81cb8d551c485ed4ecdf1", "committedDate": "2020-09-08T00:19:20Z", "message": "Set up NotificationProcessingHandler even if remote params or privacy consent is granted\n\n  * setupNotificationExtensionServiceClass method must be called even if remote params aren't called, in that way the user service callback is called\n  * If privacy consent isn't granted then subscription shouldn't happen then notifications will not arrive, because of that it is safe to init service even if we don't have remote params or privacy consent"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b3d32d882e6de8a0da7c85f3501894b06fb01842", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/b3d32d882e6de8a0da7c85f3501894b06fb01842", "committedDate": "2020-09-08T00:17:42Z", "message": "Set up NotificationProcessingHandler even if remote params or privacy consent is granted\n\n  * setupNotificationExtensionServiceClass method must be called even if remote params aren't called, in that way the user service callback is called\n  * If privacy consent isn't granted then subscription shouldn't happen then the notification will not arrive, because of that it is safe to init service even if we don't have remote params or privacy consent"}, "afterCommit": {"oid": "e9664b339de4f33abea81cb8d551c485ed4ecdf1", "author": {"user": {"login": "Jeasmine", "name": "JNahui"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/e9664b339de4f33abea81cb8d551c485ed4ecdf1", "committedDate": "2020-09-08T00:19:20Z", "message": "Set up NotificationProcessingHandler even if remote params or privacy consent is granted\n\n  * setupNotificationExtensionServiceClass method must be called even if remote params aren't called, in that way the user service callback is called\n  * If privacy consent isn't granted then subscription shouldn't happen then notifications will not arrive, because of that it is safe to init service even if we don't have remote params or privacy consent"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzNzk0OTY4", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1138#pullrequestreview-483794968", "createdAt": "2020-09-08T04:58:48Z", "commit": {"oid": "e9664b339de4f33abea81cb8d551c485ed4ecdf1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNDo1ODo0OFrOHOMs5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNDo1ODo0OFrOHOMs5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY1MDIxNQ==", "bodyText": "We should allow someone to change the handler if they choose so we shouldn't add this if check.", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1138#discussion_r484650215", "createdAt": "2020-09-08T04:58:48Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OneSignal.java", "diffHunk": "@@ -649,7 +649,8 @@ public static void setAppContext(@NonNull Context context) {\n    }\n \n    static void setNotificationProcessingHandler(NotificationProcessingHandler callback) {\n-      notificationProcessingHandler = callback;\n+      if (notificationProcessingHandler == null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9664b339de4f33abea81cb8d551c485ed4ecdf1"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0Mzc3NDc3", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1138#pullrequestreview-484377477", "createdAt": "2020-09-08T18:06:06Z", "commit": {"oid": "e9664b339de4f33abea81cb8d551c485ed4ecdf1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3424, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}