{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwNDc2NjU2", "number": 986, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMTowMzozNFrODvvaMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMTo1Mjo1NFrODvwWSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMzg2NDE4OnYy", "diffSide": "RIGHT", "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSSystemConditionController.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMTowMzozNFrOGCWCcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxODo0NzowNlrOGC8WiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTExMTQwOQ==", "bodyText": "This can be an info, as it it isn't an error if  they don't have that class in their app.", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/986#discussion_r405111409", "createdAt": "2020-04-07T21:03:34Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSSystemConditionController.java", "diffHunk": "@@ -30,9 +30,13 @@ boolean systemConditionsAvailable() {\n             return false;\n         }\n \n-        if (isDialogFragmentShowing(ActivityLifecycleHandler.curActivity)) {\n-            OneSignal.onesignalLog(OneSignal.LOG_LEVEL.WARN, \"OSSystemConditionObserver dialog fragment detected\");\n-            return false;\n+        try {\n+            if (isDialogFragmentShowing(ActivityLifecycleHandler.curActivity)) {\n+                OneSignal.onesignalLog(OneSignal.LOG_LEVEL.WARN, \"OSSystemConditionObserver dialog fragment detected\");\n+                return false;\n+            }\n+        } catch (NoClassDefFoundError exception) {\n+            OneSignal.onesignalLog(OneSignal.LOG_LEVEL.ERROR, \"isDialogFragmentShowing AppCompatActivity not imported either used: \" + exception);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec8a93251ad717033763c6b71ca99f273e3c57b5"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTczOTE0NQ==", "bodyText": "@Jeasmine This line is still using OneSignal.LOG_LEVEL.ERROR. Should be INFO.", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/986#discussion_r405739145", "createdAt": "2020-04-08T18:47:06Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSSystemConditionController.java", "diffHunk": "@@ -30,9 +30,13 @@ boolean systemConditionsAvailable() {\n             return false;\n         }\n \n-        if (isDialogFragmentShowing(ActivityLifecycleHandler.curActivity)) {\n-            OneSignal.onesignalLog(OneSignal.LOG_LEVEL.WARN, \"OSSystemConditionObserver dialog fragment detected\");\n-            return false;\n+        try {\n+            if (isDialogFragmentShowing(ActivityLifecycleHandler.curActivity)) {\n+                OneSignal.onesignalLog(OneSignal.LOG_LEVEL.WARN, \"OSSystemConditionObserver dialog fragment detected\");\n+                return false;\n+            }\n+        } catch (NoClassDefFoundError exception) {\n+            OneSignal.onesignalLog(OneSignal.LOG_LEVEL.ERROR, \"isDialogFragmentShowing AppCompatActivity not imported either used: \" + exception);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTExMTQwOQ=="}, "originalCommit": {"oid": "ec8a93251ad717033763c6b71ca99f273e3c57b5"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxNDAxODAxOnYy", "diffSide": "LEFT", "path": "OneSignalSDK/onesignal/build.gradle", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMTo1Mjo1NFrOGCXhUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMTo1NTo0N1rOGCXmbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTEzNTY5OA==", "bodyText": "Even if we remove com.android.support:support-v4 from here it is still being included through other dependencies.\n+--- com.google.firebase:firebase-messaging:[10.2.1, 17.3.99] -> 17.3.4\n|    +--- com.google.android.gms:play-services-basement:16.0.1\n|    |    \\--- com.android.support:support-v4:26.1.0\n\nBy adding the following to your build.gradle you will observe errors in the OneSignal code base due to force removing this dependency.\nconfigurations.all {\n    exclude group: 'com.android.support', module: 'support-v4'\n}", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/986#discussion_r405135698", "createdAt": "2020-04-07T21:52:54Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/build.gradle", "diffHunk": "@@ -61,9 +61,10 @@ dependencies {\n     // Also note, firebase & gms libraries use android.support:26.\n     //   - They never refer to 27 or 28\n     api 'com.android.support:cardview-v7:[26.0.0, 27.99.99]'\n-    api 'com.android.support:support-v4:[26.0.0, 27.99.99]'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0146a0f91886ab51e90add9fb242b4f0a54be35"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTEzNjA3Mw==", "bodyText": "It looks like however we might be able to get away with  api 'com.android.support:support-fragment: instead if we want to switch to that. It seems to include everything we need.", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/986#discussion_r405136073", "createdAt": "2020-04-07T21:53:43Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/build.gradle", "diffHunk": "@@ -61,9 +61,10 @@ dependencies {\n     // Also note, firebase & gms libraries use android.support:26.\n     //   - They never refer to 27 or 28\n     api 'com.android.support:cardview-v7:[26.0.0, 27.99.99]'\n-    api 'com.android.support:support-v4:[26.0.0, 27.99.99]'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTEzNTY5OA=="}, "originalCommit": {"oid": "e0146a0f91886ab51e90add9fb242b4f0a54be35"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTEzNzAwNg==", "bodyText": "One last note with dependencies, any OneSignal code that directly uses a library it should be top level in this file as the fundamentally matches up.", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/986#discussion_r405137006", "createdAt": "2020-04-07T21:55:47Z", "author": {"login": "jkasten2"}, "path": "OneSignalSDK/onesignal/build.gradle", "diffHunk": "@@ -61,9 +61,10 @@ dependencies {\n     // Also note, firebase & gms libraries use android.support:26.\n     //   - They never refer to 27 or 28\n     api 'com.android.support:cardview-v7:[26.0.0, 27.99.99]'\n-    api 'com.android.support:support-v4:[26.0.0, 27.99.99]'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTEzNTY5OA=="}, "originalCommit": {"oid": "e0146a0f91886ab51e90add9fb242b4f0a54be35"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2225, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}