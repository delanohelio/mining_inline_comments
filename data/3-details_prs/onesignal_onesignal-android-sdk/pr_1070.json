{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2MzEyMTQ5", "number": 1070, "title": "HmsMessageService.onMessageReceived displaying", "bodyText": "TODO\nNeed integration tests yet.\nChanges\n\nNow if an HMS \"Data Message\" is received in the OneSignal format it\nwill be processed through the normal flow like GCM / FCM messages do.\n\nAll features we support for FCM Android notificatons now apply to\nthese types.\n\n\n\n\n\nThis change is\u2002", "createdAt": "2020-06-18T08:26:00Z", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1070", "merged": true, "mergeCommit": {"oid": "814a908ae2a459e85b0ab147aa64e727cf148f6b"}, "closed": true, "closedAt": "2020-06-22T18:12:37Z", "author": {"login": "jkasten2"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsi-Y2AFqTQzMzM1NjAyNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABctzJO3gFqTQzNTA3MjEwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzMzU2MDI2", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1070#pullrequestreview-433356026", "createdAt": "2020-06-18T14:42:54Z", "commit": {"oid": "bfcc7fd652aeea2f8aa03bf5625d5408123ee053"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNDo0Mjo1NFrOGlyrxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNDo0Mzo1OVrOGlyu_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI4MDkwMA==", "bodyText": "Remove extra new line", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1070#discussion_r442280900", "createdAt": "2020-06-18T14:42:54Z", "author": {"login": "mikechoch"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/HmsMessageServiceOneSignal.java", "diffHunk": "@@ -16,4 +17,18 @@ public void onNewToken(String token) {\n         PushRegistratorHMS.fireCallback(token);\r\n     }\r\n \r\n+    /**\r\n+     * This method is called in the following cases:\r\n+     *   1. \"Data messages\" - App process is alive when received.\r\n+     *   2. \"Notification Message\" - foreground_show = false and app is in focus\r\n+     * This method callback must be completed in 10 seconds, start a new Job if more time is needed.\r\n+     *   - This may only be a restriction for #1\r\n+     *   - 10 sec limit didn't seem to hit for #2, even when backgrounding the app after the method starts\r\n+     *\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfcc7fd652aeea2f8aa03bf5625d5408123ee053"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI4MTcyNQ==", "bodyText": "Capitol first letter JsonStringToBundle?\njsonStringToBundle?\nconvertJsonStringToBundle?", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1070#discussion_r442281725", "createdAt": "2020-06-18T14:43:59Z", "author": {"login": "mikechoch"}, "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSUtils.java", "diffHunk": "@@ -633,6 +634,23 @@ static boolean hasConfigChangeFlag(Activity activity, int configChangeFlag) {\n       return result;\n    }\n \n+   static @Nullable Bundle JsonStringToBundle(@NonNull String data) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfcc7fd652aeea2f8aa03bf5625d5408123ee053"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MTY1NjYz", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1070#pullrequestreview-434165663", "createdAt": "2020-06-19T15:28:26Z", "commit": {"oid": "bfcc7fd652aeea2f8aa03bf5625d5408123ee053"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MTY2MDg2", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1070#pullrequestreview-434166086", "createdAt": "2020-06-19T15:29:02Z", "commit": {"oid": "bfcc7fd652aeea2f8aa03bf5625d5408123ee053"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4da2f85a29bfcb50fd1d68942235644ea79e18e7", "author": {"user": {"login": "jkasten2", "name": "Josh Kasten"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/4da2f85a29bfcb50fd1d68942235644ea79e18e7", "committedDate": "2020-06-20T01:23:59Z", "message": "HmsMessageService.onMessageReceived displaying\n\n* Now if an HMS \"Data Message\" is recieved in the OneSignal format it\nwill be processed through the normal flow like GCM / FCM messages do.\n   -  All features we support for FCM Android notificatons now apply to\n         these types."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bfcc7fd652aeea2f8aa03bf5625d5408123ee053", "author": {"user": {"login": "jkasten2", "name": "Josh Kasten"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/bfcc7fd652aeea2f8aa03bf5625d5408123ee053", "committedDate": "2020-06-18T08:24:52Z", "message": "HmsMessageService.onMessageReceived displaying\n\n* Now if an HMS \"Data Message\" is recieved in the OneSignal format it\nwill be processed through the normal flow like GCM / FCM messages do.\n   -  All features we support for FCM Android notificatons now apply to\n         these types."}, "afterCommit": {"oid": "4da2f85a29bfcb50fd1d68942235644ea79e18e7", "author": {"user": {"login": "jkasten2", "name": "Josh Kasten"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/4da2f85a29bfcb50fd1d68942235644ea79e18e7", "committedDate": "2020-06-20T01:23:59Z", "message": "HmsMessageService.onMessageReceived displaying\n\n* Now if an HMS \"Data Message\" is recieved in the OneSignal format it\nwill be processed through the normal flow like GCM / FCM messages do.\n   -  All features we support for FCM Android notificatons now apply to\n         these types."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d966e9e832b4a52fea94cb55c96ee4bacafe0d76", "author": {"user": {"login": "jkasten2", "name": "Josh Kasten"}}, "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/d966e9e832b4a52fea94cb55c96ee4bacafe0d76", "committedDate": "2020-06-22T01:55:34Z", "message": "Basic integration tests for HMS data msg received\n\n* Tests included:\n   - Can handle null data\n   - Can handle \"\" data\n   - Displays notification when alert is present\n* Added null handling for data payload."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1MDQyMDU3", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1070#pullrequestreview-435042057", "createdAt": "2020-06-22T15:34:01Z", "commit": {"oid": "d966e9e832b4a52fea94cb55c96ee4bacafe0d76"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1MDcyMTAy", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1070#pullrequestreview-435072102", "createdAt": "2020-06-22T16:07:55Z", "commit": {"oid": "d966e9e832b4a52fea94cb55c96ee4bacafe0d76"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3618, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}