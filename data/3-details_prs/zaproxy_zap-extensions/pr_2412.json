{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0MDk4NzYz", "number": 2412, "title": "encoder: Implement Base64 options", "bodyText": "Base64Encoder/Decoder > Handle charset/line break options.\nEncodeDecodeDialog > Add update call.\nEncodeDecodeParam & Panel > Config handling & UI component.\nExtensionEncoder > Updated to hook the options panel, listen for options changes, etc.\nMessages.properties > Add new supporting keys/values & properly alphabetize.\nCHANGELOG > Note the addition.\n\nPart of: zaproxy/zaproxy#5996\nSigned-off-by: kingthorin kingthorin@users.noreply.github.com", "createdAt": "2020-05-27T20:32:09Z", "url": "https://github.com/zaproxy/zap-extensions/pull/2412", "merged": true, "mergeCommit": {"oid": "7017161dc0908664f91f37767d80a6f4c77a5328"}, "closed": true, "closedAt": "2020-05-29T12:20:08Z", "author": {"login": "kingthorin"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclfYvxAFqTQxOTU4NzU4MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmBbwzAFqTQyMDg5NjU4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NTg3NTgx", "url": "https://github.com/zaproxy/zap-extensions/pull/2412#pullrequestreview-419587581", "createdAt": "2020-05-27T20:35:22Z", "commit": {"oid": "b1d113600a9c9d6e8b8fc29cbfd24fbb4a4444b1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMDozNToyMlrOGbcJLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMDozNToyMlrOGbcJLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQyNTgzNw==", "bodyText": "I left this dated 2012. Since the only thing that changed was the key names and package declaration.\nI did re-date the Param class itself as it was essentially re-written.", "url": "https://github.com/zaproxy/zap-extensions/pull/2412#discussion_r431425837", "createdAt": "2020-05-27T20:35:22Z", "author": {"login": "kingthorin"}, "path": "addOns/encoder/src/main/java/org/zaproxy/addon/encoder/EncodeDecodeParamPanel.java", "diffHunk": "@@ -0,0 +1,151 @@\n+/*\n+ * Zed Attack Proxy (ZAP) and its related class files.\n+ *\n+ * ZAP is an HTTP/HTTPS proxy for assessing web application security.\n+ *\n+ * Copyright 2012 The ZAP Development Team", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1d113600a9c9d6e8b8fc29cbfd24fbb4a4444b1"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NzM5MTYx", "url": "https://github.com/zaproxy/zap-extensions/pull/2412#pullrequestreview-419739161", "createdAt": "2020-05-28T02:41:02Z", "commit": {"oid": "b1d113600a9c9d6e8b8fc29cbfd24fbb4a4444b1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwMjo0MTowMlrOGbjwXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwMjo0MTowMlrOGbjwXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTU1MDU1OA==", "bodyText": "Per: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html this wraps at 76, which is the same as: https://github.com/zaproxy/zaproxy/blob/baa415b72755cc5348de8a0259e780152d8e6345/zap/src/main/java/org/parosproxy/paros/extension/encoder/Base64.java#L212-L213", "url": "https://github.com/zaproxy/zap-extensions/pull/2412#discussion_r431550558", "createdAt": "2020-05-28T02:41:02Z", "author": {"login": "kingthorin"}, "path": "addOns/encoder/src/main/java/org/zaproxy/addon/encoder/processors/predefined/Base64Encoder.java", "diffHunk": "@@ -21,12 +21,26 @@\n \n import java.io.IOException;\n import java.util.Base64;\n+import org.parosproxy.paros.control.Control;\n+import org.zaproxy.addon.encoder.EncodeDecodeParam;\n+import org.zaproxy.addon.encoder.ExtensionEncoder;\n \n public class Base64Encoder extends DefaultEncodeDecodeProcessor {\n \n     @Override\n     protected String processInternal(String value) throws IOException {\n-        // Returns based on StandardCharsets.ISO_8859_1\n-        return Base64.getEncoder().encodeToString(value.getBytes());\n+        EncodeDecodeParam encDecParam =\n+                Control.getSingleton()\n+                        .getExtensionLoader()\n+                        .getExtension(ExtensionEncoder.class)\n+                        .getParams();\n+        if (encDecParam.isBase64DoBreakLines()) {\n+            return new String(\n+                    Base64.getMimeEncoder().encode(value.getBytes(encDecParam.getBase64Charset())),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1d113600a9c9d6e8b8fc29cbfd24fbb4a4444b1"}, "originalPosition": 21}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b1d113600a9c9d6e8b8fc29cbfd24fbb4a4444b1", "author": {"user": {"login": "kingthorin", "name": "Rick M"}}, "url": "https://github.com/zaproxy/zap-extensions/commit/b1d113600a9c9d6e8b8fc29cbfd24fbb4a4444b1", "committedDate": "2020-05-27T20:30:18Z", "message": "encoder: Implement Base64 options\n\n- Base64Encoder/Decoder > Handle charset/line break options.\n- EncodeDecodeDialog > Add update call.\n- EncodeDecodeParam & Panel > Config handling & UI component.\n- ExtensionEncoder > Updated to hook the options panel, listen for\noptions changes, etc.\n- Messages.properties > Add new supporting keys/values & properly\nalphabetize.\n- CHANGELOG > Note the addition.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>"}, "afterCommit": {"oid": "b69b41b2e1940402bf81a8781f7ce54f01256e4f", "author": {"user": {"login": "kingthorin", "name": "Rick M"}}, "url": "https://github.com/zaproxy/zap-extensions/commit/b69b41b2e1940402bf81a8781f7ce54f01256e4f", "committedDate": "2020-05-29T10:58:05Z", "message": "encoder: Implement Base64 options\n\n- Base64Encoder/Decoder > Handle charset/line break options.\n- EncodeDecodeDialog > Add update call.\n- EncodeDecodeParam & Panel > Config handling & UI component.\n- ExtensionEncoder > Updated to hook the options panel, listen for\noptions changes, etc.\n- Messages.properties > Add new supporting keys/values & properly\nalphabetize.\n- CHANGELOG > Note the addition.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b69b41b2e1940402bf81a8781f7ce54f01256e4f", "author": {"user": {"login": "kingthorin", "name": "Rick M"}}, "url": "https://github.com/zaproxy/zap-extensions/commit/b69b41b2e1940402bf81a8781f7ce54f01256e4f", "committedDate": "2020-05-29T10:58:05Z", "message": "encoder: Implement Base64 options\n\n- Base64Encoder/Decoder > Handle charset/line break options.\n- EncodeDecodeDialog > Add update call.\n- EncodeDecodeParam & Panel > Config handling & UI component.\n- ExtensionEncoder > Updated to hook the options panel, listen for\noptions changes, etc.\n- Messages.properties > Add new supporting keys/values & properly\nalphabetize.\n- CHANGELOG > Note the addition.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>"}, "afterCommit": {"oid": "dec9e911f28b8ef805eddaaf7352a4db8e35e078", "author": {"user": {"login": "kingthorin", "name": "Rick M"}}, "url": "https://github.com/zaproxy/zap-extensions/commit/dec9e911f28b8ef805eddaaf7352a4db8e35e078", "committedDate": "2020-05-29T11:38:47Z", "message": "encoder: Implement Base64 options\n\n- Base64Encoder/Decoder > Handle charset/line break options.\n- EncodeDecodeDialog > Add update call.\n- EncodeDecodeParam & Panel > Config handling & UI component.\n- ExtensionEncoder > Updated to hook the options panel, listen for\noptions changes, etc.\n- Messages.properties > Add new supporting keys/values & properly\nalphabetize.\n- CHANGELOG > Note the addition.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dec9e911f28b8ef805eddaaf7352a4db8e35e078", "author": {"user": {"login": "kingthorin", "name": "Rick M"}}, "url": "https://github.com/zaproxy/zap-extensions/commit/dec9e911f28b8ef805eddaaf7352a4db8e35e078", "committedDate": "2020-05-29T11:38:47Z", "message": "encoder: Implement Base64 options\n\n- Base64Encoder/Decoder > Handle charset/line break options.\n- EncodeDecodeDialog > Add update call.\n- EncodeDecodeParam & Panel > Config handling & UI component.\n- ExtensionEncoder > Updated to hook the options panel, listen for\noptions changes, etc.\n- Messages.properties > Add new supporting keys/values & properly\nalphabetize.\n- CHANGELOG > Note the addition.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>"}, "afterCommit": {"oid": "9f8f2e89be8a47277753f024cfcc4bd819030b61", "author": {"user": {"login": "kingthorin", "name": "Rick M"}}, "url": "https://github.com/zaproxy/zap-extensions/commit/9f8f2e89be8a47277753f024cfcc4bd819030b61", "committedDate": "2020-05-29T11:41:26Z", "message": "encoder: Implement Base64 options\n\n- Base64Encoder/Decoder > Handle charset/line break options.\n- EncodeDecodeDialog > Add update call.\n- EncodeDecodeParam & Panel > Config handling & UI component.\n- ExtensionEncoder > Updated to hook the options panel, listen for\noptions changes, etc.\n- Messages.properties > Add new supporting keys/values & properly\nalphabetize.\n- CHANGELOG > Note the addition.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "768ebd53959f838ee84befc4a82f8d088fa67381", "author": {"user": {"login": "kingthorin", "name": "Rick M"}}, "url": "https://github.com/zaproxy/zap-extensions/commit/768ebd53959f838ee84befc4a82f8d088fa67381", "committedDate": "2020-05-29T12:01:03Z", "message": "encoder: Implement Base64 options\n\n- Base64Encoder/Decoder > Handle charset/line break options.\n- EncodeDecodeDialog > Add update call.\n- EncodeDecodeParam & Panel > Config handling & UI component.\n- ExtensionEncoder > Updated to hook the options panel, listen for\noptions changes, etc.\n- Messages.properties > Add new supporting keys/values & properly\nalphabetize.\n- CHANGELOG > Note the addition.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9f8f2e89be8a47277753f024cfcc4bd819030b61", "author": {"user": {"login": "kingthorin", "name": "Rick M"}}, "url": "https://github.com/zaproxy/zap-extensions/commit/9f8f2e89be8a47277753f024cfcc4bd819030b61", "committedDate": "2020-05-29T11:41:26Z", "message": "encoder: Implement Base64 options\n\n- Base64Encoder/Decoder > Handle charset/line break options.\n- EncodeDecodeDialog > Add update call.\n- EncodeDecodeParam & Panel > Config handling & UI component.\n- ExtensionEncoder > Updated to hook the options panel, listen for\noptions changes, etc.\n- Messages.properties > Add new supporting keys/values & properly\nalphabetize.\n- CHANGELOG > Note the addition.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>"}, "afterCommit": {"oid": "768ebd53959f838ee84befc4a82f8d088fa67381", "author": {"user": {"login": "kingthorin", "name": "Rick M"}}, "url": "https://github.com/zaproxy/zap-extensions/commit/768ebd53959f838ee84befc4a82f8d088fa67381", "committedDate": "2020-05-29T12:01:03Z", "message": "encoder: Implement Base64 options\n\n- Base64Encoder/Decoder > Handle charset/line break options.\n- EncodeDecodeDialog > Add update call.\n- EncodeDecodeParam & Panel > Config handling & UI component.\n- ExtensionEncoder > Updated to hook the options panel, listen for\noptions changes, etc.\n- Messages.properties > Add new supporting keys/values & properly\nalphabetize.\n- CHANGELOG > Note the addition.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwODk1MDAz", "url": "https://github.com/zaproxy/zap-extensions/pull/2412#pullrequestreview-420895003", "createdAt": "2020-05-29T12:13:03Z", "commit": {"oid": "768ebd53959f838ee84befc4a82f8d088fa67381"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwODk2NTg0", "url": "https://github.com/zaproxy/zap-extensions/pull/2412#pullrequestreview-420896584", "createdAt": "2020-05-29T12:15:26Z", "commit": {"oid": "768ebd53959f838ee84befc4a82f8d088fa67381"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 343, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}