{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3OTc0MjA2", "number": 186, "title": "Added README for resolving issue with integration tests", "bodyText": "Based on similar README - https://github.com/HotelsDotCom/waggle-dance/blob/master/waggle-dance-integration-tests/README.md", "createdAt": "2020-05-14T12:49:05Z", "url": "https://github.com/ExpediaGroup/circus-train/pull/186", "merged": true, "mergeCommit": {"oid": "28a8f2a3dcf802e3222b458bac76fb3aa94bfc83"}, "closed": true, "closedAt": "2020-05-14T13:56:15Z", "author": {"login": "massdosage"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchM5k8AH2gAyNDE3OTc0MjA2OjFkNTY5ZjBkYjQ5NDIzYWMyY2M0ZTIxZjcwMGMxNGZiNzAzYmUyNTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchN1pqgFqTQxMTgyNjU2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1d569f0db49423ac2cc4e21f700c14fb703be250", "author": {"user": {"login": "massdosage", "name": "Adrian Woodhead"}}, "url": "https://github.com/ExpediaGroup/circus-train/commit/1d569f0db49423ac2cc4e21f700c14fb703be250", "committedDate": "2020-05-14T12:47:20Z", "message": "added README for resolving issue with integration tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNzc0MDQ5", "url": "https://github.com/ExpediaGroup/circus-train/pull/186#pullrequestreview-411774049", "createdAt": "2020-05-14T12:56:39Z", "commit": {"oid": "1d569f0db49423ac2cc4e21f700c14fb703be250"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNzgzNDgx", "url": "https://github.com/ExpediaGroup/circus-train/pull/186#pullrequestreview-411783481", "createdAt": "2020-05-14T13:06:44Z", "commit": {"oid": "1d569f0db49423ac2cc4e21f700c14fb703be250"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExODE2MjMx", "url": "https://github.com/ExpediaGroup/circus-train/pull/186#pullrequestreview-411816231", "createdAt": "2020-05-14T13:42:28Z", "commit": {"oid": "1d569f0db49423ac2cc4e21f700c14fb703be250"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxMzo0MjoyOFrOGVc3sw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxMzo0MjoyOFrOGVc3sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE0NjI5MQ==", "bodyText": "Not sure what in the produce jar artifacts means.  Did you mean in the produced jar artifacts?", "url": "https://github.com/ExpediaGroup/circus-train/pull/186#discussion_r425146291", "createdAt": "2020-05-14T13:42:28Z", "author": {"login": "barnharts4"}, "path": "circus-train-integration-tests/README.md", "diffHunk": "@@ -0,0 +1,27 @@\n+## Running the integration tests\n+\n+Generally the integration tests should \"just work\" when run via Maven on the command line and in an IDE. However we have seen issues where \n+an IDE may struggle with the shading and relocating of certain classes which in turn causes certain tests to fail. This manifests itself in \n+tests that pass on the command line but fail in the IDE, usually with a failure like\n+```\n+java.util.ServiceConfigurationError: org.jclouds.providers.ProviderMetadata: Provider org.jclouds.azureblob.AzureBlobProviderMetadata could not be instantiated\n+\tat java.util.ServiceLoader.fail(ServiceLoader.java:232)\n+\tat java.util.ServiceLoader.access$100(ServiceLoader.java:185)\n+\t...\n+Caused by: java.lang.NoClassDefFoundError: com/google/common/base/MoreObjects$ToStringHelper\n+    ...\n+Caused by: java.lang.ClassNotFoundException: com.google.common.base.MoreObjects$ToStringHelper\n+\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n+\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n+\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n+\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)    \n+```\n+This indicates that the shading and relocation (in the above example of a Guava class) hasn't been activated in the IDE. One solution to this is to \n+rebuild the entire project using Maven on the command line and then re-run the tests in the IDE. The following steps should achieve that: \n+\n+1. Run `mvn -DskipTests install` in the top-level Circus Train parent project (this should repackage and relocate classes using the Maven \n+plugin and generate the correct class files in the produce jar artifacts).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d569f0db49423ac2cc4e21f700c14fb703be250"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6d225df8fb912788e6342c42db76102343f0de6", "author": {"user": {"login": "massdosage", "name": "Adrian Woodhead"}}, "url": "https://github.com/ExpediaGroup/circus-train/commit/c6d225df8fb912788e6342c42db76102343f0de6", "committedDate": "2020-05-14T13:45:40Z", "message": "PR feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExODI2NTY5", "url": "https://github.com/ExpediaGroup/circus-train/pull/186#pullrequestreview-411826569", "createdAt": "2020-05-14T13:52:57Z", "commit": {"oid": "c6d225df8fb912788e6342c42db76102343f0de6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3808, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}