{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0MDI3MzIy", "number": 966, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xMVQxNjoyNTowNlrOFkyZZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xMVQxNjoyNTowNlrOFkyZZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzc0MTE4NzU2OnYy", "diffSide": "RIGHT", "path": "fdb-record-layer-core/src/main/java/com/apple/foundationdb/record/provider/foundationdb/FDBRecordStoreBase.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xMVQxNjoyNTowNlrOI1Dwow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xMVQyMjozNDo0NlrOI1T1tA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjUwNzA0Mw==", "bodyText": "Should this reference issue  #964", "url": "https://github.com/FoundationDB/fdb-record-layer/pull/966#discussion_r592507043", "createdAt": "2021-03-11T16:25:06Z", "author": {"login": "ScottDugas"}, "path": "fdb-record-layer-core/src/main/java/com/apple/foundationdb/record/provider/foundationdb/FDBRecordStoreBase.java", "diffHunk": "@@ -299,13 +299,34 @@ public boolean errorIfTypeChanged() {\n     /**\n      * Provided during record save (via {@link #saveRecord(Message, FDBRecordVersion, VersionstampSaveBehavior)}),\n      * directs the behavior of the save w.r.t. the record's version.\n-     * In the presence of a version, either <code>DEFAULT</code> or <code>WITH_VERSION</code> can be used.\n+     * In the presence of a version, either {@code DEFAULT} or {@code WITH_VERSION} can be used.\n      * For safety, <code>NO_VERSION</code> should only be used with a null version.\n      */\n     enum VersionstampSaveBehavior {\n-        DEFAULT,        // Follow rules dictated by the metadata\n-        NO_VERSION,     // Explicitly do NOT save a version\n-        WITH_VERSION,   // Explicitly save a version even if meta-data says not to\n+        /**\n+         * Match the behavior dictated by the meta-data. If {@link com.apple.foundationdb.record.RecordMetaData#isStoreRecordVersions()}\n+         * returns {@code true}, this will always store the record with a version (like {@link #WITH_VERSION}). Otherwise,\n+         * it will store the record with the provided version if given or with no version if not.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b90ebed8c84a86d80e6389bec12efe07e48c9d9"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5Mjc3MDQ4NA==", "bodyText": "Yeah, that sounds like a good idea. I added it to WITH_VERSION instead of DEFAULT, as I think it applies to both and DEFAULT already references WITH_VERSION", "url": "https://github.com/FoundationDB/fdb-record-layer/pull/966#discussion_r592770484", "createdAt": "2021-03-11T22:34:46Z", "author": {"login": "alecgrieser"}, "path": "fdb-record-layer-core/src/main/java/com/apple/foundationdb/record/provider/foundationdb/FDBRecordStoreBase.java", "diffHunk": "@@ -299,13 +299,34 @@ public boolean errorIfTypeChanged() {\n     /**\n      * Provided during record save (via {@link #saveRecord(Message, FDBRecordVersion, VersionstampSaveBehavior)}),\n      * directs the behavior of the save w.r.t. the record's version.\n-     * In the presence of a version, either <code>DEFAULT</code> or <code>WITH_VERSION</code> can be used.\n+     * In the presence of a version, either {@code DEFAULT} or {@code WITH_VERSION} can be used.\n      * For safety, <code>NO_VERSION</code> should only be used with a null version.\n      */\n     enum VersionstampSaveBehavior {\n-        DEFAULT,        // Follow rules dictated by the metadata\n-        NO_VERSION,     // Explicitly do NOT save a version\n-        WITH_VERSION,   // Explicitly save a version even if meta-data says not to\n+        /**\n+         * Match the behavior dictated by the meta-data. If {@link com.apple.foundationdb.record.RecordMetaData#isStoreRecordVersions()}\n+         * returns {@code true}, this will always store the record with a version (like {@link #WITH_VERSION}). Otherwise,\n+         * it will store the record with the provided version if given or with no version if not.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjUwNzA0Mw=="}, "originalCommit": {"oid": "8b90ebed8c84a86d80e6389bec12efe07e48c9d9"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4925, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}