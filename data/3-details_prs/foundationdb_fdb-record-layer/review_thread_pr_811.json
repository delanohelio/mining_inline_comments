{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4ODQ0NDA3", "number": 811, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODo0NDowNlrODcBRnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODo0NDowNlrODcBRnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzA3NjEzOnYy", "diffSide": "RIGHT", "path": "fdb-record-layer-core/src/main/java/com/apple/foundationdb/record/logging/LogMessageKeys.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODo0NDowNlrOFj1xQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODo1NTo0MVrOFj2IrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzEyNTQ0MQ==", "bodyText": "Was it purposeful to continue using \"retry\" here instead of CURR_ATTEMPT and MAX_ATTEMPTS (to standardize with the Runner)?", "url": "https://github.com/FoundationDB/fdb-record-layer/pull/811#discussion_r373125441", "createdAt": "2020-01-30T18:44:06Z", "author": {"login": "alecgrieser"}, "path": "fdb-record-layer-core/src/main/java/com/apple/foundationdb/record/logging/LogMessageKeys.java", "diffHunk": "@@ -134,12 +134,15 @@\n     DOCUMENT(\"document\"),\n     SESSION_ID(\"session_id\"),\n     INDEXER_SESSION_ID(\"indexer_session_id\"),\n+    INDEXER_ID(\"indexer_id\"),\n     INDEX_STATE_PRECONDITION(\"index_state_precondition\"),\n     INITIAL_INDEX_STATE(\"initial_index_state\"),\n     SHOULD_BUILD_INDEX(\"do_build_index\"),\n     SHOULD_CLEAR_EXISTING_DATA(\"clear_existing_data\"),\n     SHOULD_MARK_READABLE(\"should_mark_readable\"),\n     RESULT(\"result\"),\n+    INDEXER_CURR_RETRY(\"indexer_curr_retry\"),\n+    INDEXER_MAX_RETRIES(\"indexer_max_retries\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c4abd6c2b368311e067bb812bdbf0402053d25d"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzEyOTQ4NQ==", "bodyText": "I'm using \"retry\" here to differentiate this pair from the pair in the runner. Also, the config of OnlineIndexer uses \"retry\" rather than \"attempt\".\nThere will be off-by-one problem either way we choose, so the many intent of this change is make the curr & max pairs match. This problem should be able to be solved thoroughly in the retry abstraction I'm prototyping on currently.", "url": "https://github.com/FoundationDB/fdb-record-layer/pull/811#discussion_r373129485", "createdAt": "2020-01-30T18:51:54Z", "author": {"login": "nblintao"}, "path": "fdb-record-layer-core/src/main/java/com/apple/foundationdb/record/logging/LogMessageKeys.java", "diffHunk": "@@ -134,12 +134,15 @@\n     DOCUMENT(\"document\"),\n     SESSION_ID(\"session_id\"),\n     INDEXER_SESSION_ID(\"indexer_session_id\"),\n+    INDEXER_ID(\"indexer_id\"),\n     INDEX_STATE_PRECONDITION(\"index_state_precondition\"),\n     INITIAL_INDEX_STATE(\"initial_index_state\"),\n     SHOULD_BUILD_INDEX(\"do_build_index\"),\n     SHOULD_CLEAR_EXISTING_DATA(\"clear_existing_data\"),\n     SHOULD_MARK_READABLE(\"should_mark_readable\"),\n     RESULT(\"result\"),\n+    INDEXER_CURR_RETRY(\"indexer_curr_retry\"),\n+    INDEXER_MAX_RETRIES(\"indexer_max_retries\"),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzEyNTQ0MQ=="}, "originalCommit": {"oid": "0c4abd6c2b368311e067bb812bdbf0402053d25d"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzEzMTQzNg==", "bodyText": "I see. I'm...not sure it wouldn't be better to standardize here and fix the off-by-one error at least as it displays in the logs, but that could also wait for a separate PR, I suppose.", "url": "https://github.com/FoundationDB/fdb-record-layer/pull/811#discussion_r373131436", "createdAt": "2020-01-30T18:55:41Z", "author": {"login": "alecgrieser"}, "path": "fdb-record-layer-core/src/main/java/com/apple/foundationdb/record/logging/LogMessageKeys.java", "diffHunk": "@@ -134,12 +134,15 @@\n     DOCUMENT(\"document\"),\n     SESSION_ID(\"session_id\"),\n     INDEXER_SESSION_ID(\"indexer_session_id\"),\n+    INDEXER_ID(\"indexer_id\"),\n     INDEX_STATE_PRECONDITION(\"index_state_precondition\"),\n     INITIAL_INDEX_STATE(\"initial_index_state\"),\n     SHOULD_BUILD_INDEX(\"do_build_index\"),\n     SHOULD_CLEAR_EXISTING_DATA(\"clear_existing_data\"),\n     SHOULD_MARK_READABLE(\"should_mark_readable\"),\n     RESULT(\"result\"),\n+    INDEXER_CURR_RETRY(\"indexer_curr_retry\"),\n+    INDEXER_MAX_RETRIES(\"indexer_max_retries\"),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzEyNTQ0MQ=="}, "originalCommit": {"oid": "0c4abd6c2b368311e067bb812bdbf0402053d25d"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 63, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}