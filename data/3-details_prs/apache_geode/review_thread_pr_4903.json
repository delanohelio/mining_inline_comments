{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4MjcxMzU5", "number": 4903, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMDo1OTowNFrODul2OA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMTo0NjoyMVrODumocA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwMTgxMTc2OnYy", "diffSide": "RIGHT", "path": "extensions/geode-modules-tomcat8/src/distributedTest/java/org/apache/geode/modules/session/TestSessionsTomcat8Base.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMDo1OTowNFrOGApdaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMDo1OTowNFrOGApdaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzMzMjQ1Ng==", "bodyText": "Did you intend to leave the logger and debug message in the test?", "url": "https://github.com/apache/geode/pull/4903#discussion_r403332456", "createdAt": "2020-04-03T20:59:04Z", "author": {"login": "igodwin"}, "path": "extensions/geode-modules-tomcat8/src/distributedTest/java/org/apache/geode/modules/session/TestSessionsTomcat8Base.java", "diffHunk": "@@ -44,26 +45,33 @@\n \n   @Rule\n   public CacheRule cacheRule = new CacheRule();\n+  protected Logger logger = LogService.getLogger();\n \n-  VM vm0;\n   int port;\n   EmbeddedTomcat8 server;\n   StandardWrapper servlet;\n   Region<String, HttpSession> region;\n   DeltaSessionManager sessionManager;\n \n+  public void checkSanity() throws Exception {\n+    testSanity();\n+  }\n+\n   /**\n    * Check that the basics are working\n    */\n-  @Test\n   public void testSanity() throws Exception {\n     WebConversation wc = new WebConversation();\n+    assertThat(wc).describedAs(\"WebConversation was\").isNotNull();\n+    logger.debug(\"Sending request to http://localhost:{}/test\", port);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "099ba3a2dff7258ee530bc440e9871838181c241"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwMTg3Mzk1OnYy", "diffSide": "RIGHT", "path": "extensions/geode-modules-tomcat8/src/distributedTest/java/org/apache/geode/modules/session/TestSessionsTomcat8Base.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMToyMDo1MlrOGAqCpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMToyMDo1MlrOGAqCpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM0MTk4OA==", "bodyText": "Would you either update the description or make it so that we're really testing for an empty region?", "url": "https://github.com/apache/geode/pull/4903#discussion_r403341988", "createdAt": "2020-04-03T21:20:52Z", "author": {"login": "igodwin"}, "path": "extensions/geode-modules-tomcat8/src/distributedTest/java/org/apache/geode/modules/session/TestSessionsTomcat8Base.java", "diffHunk": "@@ -399,7 +407,7 @@ public void testExtraSessionsNotCreated() throws Exception {\n \n     WebResponse response = wc.getResponse(req);\n     assertThat(response.getText()).isEqualTo(\"done\");\n-    assertThat(region.size()).as(\"The region should be empty\").isEqualTo(0);\n+    assertThat(region.size()).as(\"The region should be empty\").isEqualTo(1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "099ba3a2dff7258ee530bc440e9871838181c241"}, "originalPosition": 68}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwMTkxMDEyOnYy", "diffSide": "RIGHT", "path": "extensions/geode-modules-tomcat8/src/distributedTest/java/org/apache/geode/modules/session/Tomcat8SessionsDUnitTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMTozNDoxMFrOGAqYHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMTo0Mzo0N1rOGAql-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM0NzQ4NA==", "bodyText": "Did you mean to leave checkSanity() in the code?", "url": "https://github.com/apache/geode/pull/4903#discussion_r403347484", "createdAt": "2020-04-03T21:34:10Z", "author": {"login": "kirklund"}, "path": "extensions/geode-modules-tomcat8/src/distributedTest/java/org/apache/geode/modules/session/Tomcat8SessionsDUnitTest.java", "diffHunk": "@@ -53,6 +53,7 @@ public void setUp() throws Exception {\n \n     sessionManager.getTheContext().setSessionTimeout(30);\n     region.clear();\n+    checkSanity();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "099ba3a2dff7258ee530bc440e9871838181c241"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM1MTAzNQ==", "bodyText": "Yes.", "url": "https://github.com/apache/geode/pull/4903#discussion_r403351035", "createdAt": "2020-04-03T21:43:47Z", "author": {"login": "mhansonp"}, "path": "extensions/geode-modules-tomcat8/src/distributedTest/java/org/apache/geode/modules/session/Tomcat8SessionsDUnitTest.java", "diffHunk": "@@ -53,6 +53,7 @@ public void setUp() throws Exception {\n \n     sessionManager.getTheContext().setSessionTimeout(30);\n     region.clear();\n+    checkSanity();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM0NzQ4NA=="}, "originalCommit": {"oid": "099ba3a2dff7258ee530bc440e9871838181c241"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwMTk0MDMyOnYy", "diffSide": "RIGHT", "path": "extensions/geode-modules-tomcat8/src/distributedTest/java/org/apache/geode/modules/session/TestSessionsTomcat8Base.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMTo0NjoyMVrOGAqpwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMTo1ODozMlrOGAq6yQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM1MjAwMA==", "bodyText": "This assertion says \"The region should be empty\" but then it's asserted to be equalTo(1) which isn't empty. Should it be empty or one?", "url": "https://github.com/apache/geode/pull/4903#discussion_r403352000", "createdAt": "2020-04-03T21:46:21Z", "author": {"login": "kirklund"}, "path": "extensions/geode-modules-tomcat8/src/distributedTest/java/org/apache/geode/modules/session/TestSessionsTomcat8Base.java", "diffHunk": "@@ -399,7 +407,7 @@ public void testExtraSessionsNotCreated() throws Exception {\n \n     WebResponse response = wc.getResponse(req);\n     assertThat(response.getText()).isEqualTo(\"done\");\n-    assertThat(region.size()).as(\"The region should be empty\").isEqualTo(0);\n+    assertThat(region.size()).as(\"The region should be empty\").isEqualTo(1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "099ba3a2dff7258ee530bc440e9871838181c241"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM1NjM2MQ==", "bodyText": "fixed.", "url": "https://github.com/apache/geode/pull/4903#discussion_r403356361", "createdAt": "2020-04-03T21:58:32Z", "author": {"login": "mhansonp"}, "path": "extensions/geode-modules-tomcat8/src/distributedTest/java/org/apache/geode/modules/session/TestSessionsTomcat8Base.java", "diffHunk": "@@ -399,7 +407,7 @@ public void testExtraSessionsNotCreated() throws Exception {\n \n     WebResponse response = wc.getResponse(req);\n     assertThat(response.getText()).isEqualTo(\"done\");\n-    assertThat(region.size()).as(\"The region should be empty\").isEqualTo(0);\n+    assertThat(region.size()).as(\"The region should be empty\").isEqualTo(1);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM1MjAwMA=="}, "originalCommit": {"oid": "099ba3a2dff7258ee530bc440e9871838181c241"}, "originalPosition": 68}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4244, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}