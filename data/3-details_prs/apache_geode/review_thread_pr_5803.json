{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwODk3NTU5", "number": 5803, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNzoyMToxN1rOE_ue-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxOTowMjoxOFrOE_xDXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MjU3MzM4OnYy", "diffSide": "RIGHT", "path": "geode-wan/src/distributedTest/java/org/apache/geode/internal/cache/wan/wancommand/ListGatewaysCommandDUnitTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNzoyMToxN1rOH9lz-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNzoyMToxN1rOH9lz-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDM0NDY5OQ==", "bodyText": "Instead of hard-coding the gfsh command, would it be possible to use CommandStringBuilder with the static strings found in CliStrings here?", "url": "https://github.com/apache/geode/pull/5803#discussion_r534344699", "createdAt": "2020-12-02T17:21:17Z", "author": {"login": "DonalEvans"}, "path": "geode-wan/src/distributedTest/java/org/apache/geode/internal/cache/wan/wancommand/ListGatewaysCommandDUnitTest.java", "diffHunk": "@@ -450,6 +450,30 @@ public void testListGatewaysReceiversOnlyFalseAndSendersOnlyFalseReturnsSendersA\n         .hasRowSize(expectedGwReceiverSectionSize).hasColumns().contains(\"Port\", \"Member\");\n   }\n \n+  @Test\n+  public void testListGatewaysWithOneDispatcherThread() {\n+    String command =\n+        \"create gateway-sender --id=ln_Serial --remote-distributed-system-id=2 --dispatcher-threads=1\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5347ba918fd7baccf7f90f7196151cc3c280e65"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1Mjk5NDIyOnYy", "diffSide": "RIGHT", "path": "geode-wan/src/distributedTest/java/org/apache/geode/internal/cache/wan/wancommand/ListGatewaysCommandDUnitTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxOTowMjoxOFrOH9p1pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQyMToyMjozNFrOH9uqww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDQxMDY2Mg==", "bodyText": "If you use the CommandStringBuilder class with the addOption() method, you can avoid having to manually put in the dashes and equals signs, like so:\nString command = new CommandStringBuilder(CREATE_GATEWAYSENDER)\n        .addOption(CREATE_GATEWAYSENDER__ID, \"ln_Serial\")\n        .addOption(CREATE_GATEWAYSENDER__REMOTEDISTRIBUTEDSYSTEMID, \"2\")\n        .addOption(CREATE_GATEWAYSENDER__DISPATCHERTHREADS, \"1\")\n        .getCommandString();\n\nThis helps make commands easier to read and reduces the chance of typos when writing them.", "url": "https://github.com/apache/geode/pull/5803#discussion_r534410662", "createdAt": "2020-12-02T19:02:18Z", "author": {"login": "DonalEvans"}, "path": "geode-wan/src/distributedTest/java/org/apache/geode/internal/cache/wan/wancommand/ListGatewaysCommandDUnitTest.java", "diffHunk": "@@ -452,8 +452,10 @@ public void testListGatewaysReceiversOnlyFalseAndSendersOnlyFalseReturnsSendersA\n \n   @Test\n   public void testListGatewaysWithOneDispatcherThread() {\n-    String command =\n-        \"create gateway-sender --id=ln_Serial --remote-distributed-system-id=2 --dispatcher-threads=1\";\n+    String command = CliStrings.CREATE_GATEWAYSENDER + \" --\" + CliStrings.CREATE_GATEWAYSENDER__ID", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abd5c07ea0d4289399ff0f5ca611bdcbe5af696a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDQ4OTc5NQ==", "bodyText": "Nice! I take a look on test above, so I do on this way, but this proposal is better.", "url": "https://github.com/apache/geode/pull/5803#discussion_r534489795", "createdAt": "2020-12-02T21:22:34Z", "author": {"login": "mkevo"}, "path": "geode-wan/src/distributedTest/java/org/apache/geode/internal/cache/wan/wancommand/ListGatewaysCommandDUnitTest.java", "diffHunk": "@@ -452,8 +452,10 @@ public void testListGatewaysReceiversOnlyFalseAndSendersOnlyFalseReturnsSendersA\n \n   @Test\n   public void testListGatewaysWithOneDispatcherThread() {\n-    String command =\n-        \"create gateway-sender --id=ln_Serial --remote-distributed-system-id=2 --dispatcher-threads=1\";\n+    String command = CliStrings.CREATE_GATEWAYSENDER + \" --\" + CliStrings.CREATE_GATEWAYSENDER__ID", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDQxMDY2Mg=="}, "originalCommit": {"oid": "abd5c07ea0d4289399ff0f5ca611bdcbe5af696a"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4538, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}