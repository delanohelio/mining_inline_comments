{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1MTg2NTMx", "number": 4871, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQyMjo1NzowOFrODs4kWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQyMjo1NzowOFrODs4kWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4MzkwNzQ3OnYy", "diffSide": "RIGHT", "path": "geode-common/src/main/java/org/apache/geode/util/internal/TeeOutputStream.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQyMjo1NzowOFrOF9_Q2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOFQwNDowMzo0MVrOGHlNcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU0Mzk2MA==", "bodyText": "Looks liker we are calling write twice now. Earlier behavior was calling write on parent class FilterOutputStream.", "url": "https://github.com/apache/geode/pull/4871#discussion_r400543960", "createdAt": "2020-03-30T22:57:08Z", "author": {"login": "agingade"}, "path": "geode-common/src/main/java/org/apache/geode/util/internal/TeeOutputStream.java", "diffHunk": "@@ -61,6 +61,15 @@ public void write(int b) throws IOException {\n     }\n   }\n \n+  @Override\n+  public void write(byte[] b, int off, int len) throws IOException {\n+    super.write(b, off, len);\n+    OutputStream os = this.branch;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33aff78c3f22f700cdd4096fb0ad175c14627692"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTcwNDc2OQ==", "bodyText": "I don't see any unit tests for this class. I think you are right that this will write the bytes twice the branch stream.", "url": "https://github.com/apache/geode/pull/4871#discussion_r401704769", "createdAt": "2020-04-01T15:28:31Z", "author": {"login": "pivotal-jbarrett"}, "path": "geode-common/src/main/java/org/apache/geode/util/internal/TeeOutputStream.java", "diffHunk": "@@ -61,6 +61,15 @@ public void write(int b) throws IOException {\n     }\n   }\n \n+  @Override\n+  public void write(byte[] b, int off, int len) throws IOException {\n+    super.write(b, off, len);\n+    OutputStream os = this.branch;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU0Mzk2MA=="}, "originalCommit": {"oid": "33aff78c3f22f700cdd4096fb0ad175c14627692"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDYwMjg2NQ==", "bodyText": "The Constructor can provide two output streams. the super call will only write into the one of the stream not on the other and hence we have to write into the other stream in the overridden method", "url": "https://github.com/apache/geode/pull/4871#discussion_r410602865", "createdAt": "2020-04-18T04:03:41Z", "author": {"login": "nabarunnag"}, "path": "geode-common/src/main/java/org/apache/geode/util/internal/TeeOutputStream.java", "diffHunk": "@@ -61,6 +61,15 @@ public void write(int b) throws IOException {\n     }\n   }\n \n+  @Override\n+  public void write(byte[] b, int off, int len) throws IOException {\n+    super.write(b, off, len);\n+    OutputStream os = this.branch;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU0Mzk2MA=="}, "originalCommit": {"oid": "33aff78c3f22f700cdd4096fb0ad175c14627692"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4444, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}