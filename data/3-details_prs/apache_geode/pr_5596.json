{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4MTUzNTQ2", "number": 5596, "title": "GEODE-8574: ClusterManagementService should not throw ClassCastExcept\u2026", "bodyText": "\u2026ion when function execution throws an Exception.", "createdAt": "2020-10-05T22:29:21Z", "url": "https://github.com/apache/geode/pull/5596", "merged": true, "mergeCommit": {"oid": "73f6783b07f1151c1617978fb57822ade5b71414"}, "closed": true, "closedAt": "2020-10-07T18:05:29Z", "author": {"login": "jinmeiliao"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdPrhwIgH2gAyNDk4MTUzNTQ2OjIxMTAzNTQyZjY2YjYwZGQ1ZDFiMjY0NGVhNzFiNjVkNTg2OTYxYWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQPw56gH2gAyNDk4MTUzNTQ2OjBlZjA1OTY5YjNiYjFjYmZiNzFjMDI0Y2I0ODlhMTUwODFhNzFmY2Y=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "21103542f66b60dd5d1b2644ea71b65d586961aa", "author": {"user": {"login": "jinmeiliao", "name": "Jinmei Liao"}}, "url": "https://github.com/apache/geode/commit/21103542f66b60dd5d1b2644ea71b65d586961aa", "committedDate": "2020-10-05T22:28:53Z", "message": "GEODE-8574: ClusterManagementService should not throw ClassCastException when function execution throws an Exception."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMTgxNjQ4", "url": "https://github.com/apache/geode/pull/5596#pullrequestreview-503181648", "createdAt": "2020-10-06T17:06:43Z", "commit": {"oid": "21103542f66b60dd5d1b2644ea71b65d586961aa"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzowNjo0M1rOHdRnkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzowNjo0M1rOHdRnkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ1OTQwOQ==", "bodyText": "A warn level maybe more appropriate than info level for Throwable. Some more information in the log might help the user to diagnose in case of an error. e.g. Function name etc. I would probably consider logging the stack trace.", "url": "https://github.com/apache/geode/pull/5596#discussion_r500459409", "createdAt": "2020-10-06T17:06:43Z", "author": {"login": "jchen21"}, "path": "geode-core/src/main/java/org/apache/geode/management/internal/api/LocatorClusterManagementService.java", "diffHunk": "@@ -653,7 +651,23 @@ public void close() {\n         }\n       }\n     }\n+    return results;\n+  }\n \n+  @VisibleForTesting\n+  <R> List<R> cleanResults(List<?> functionResults) {\n+    List<R> results = new ArrayList<>();\n+    for (Object functionResult : functionResults) {\n+      if (functionResult == null) {\n+        continue;\n+      }\n+      if (functionResult instanceof Throwable) {\n+        // log the exception and continue\n+        logger.info(\"Error executing CacheRealizationFunction.\", (Throwable) functionResult);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21103542f66b60dd5d1b2644ea71b65d586961aa"}, "originalPosition": 109}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MDY4ODc2", "url": "https://github.com/apache/geode/pull/5596#pullrequestreview-504068876", "createdAt": "2020-10-07T16:38:15Z", "commit": {"oid": "21103542f66b60dd5d1b2644ea71b65d586961aa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ef05969b3bb1cbfb71c024cb489a15081a71fcf", "author": {"user": {"login": "jinmeiliao", "name": "Jinmei Liao"}}, "url": "https://github.com/apache/geode/commit/0ef05969b3bb1cbfb71c024cb489a15081a71fcf", "committedDate": "2020-10-07T16:42:01Z", "message": "change info logging to warn"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4070, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}