{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIyNzM0Mjg3", "number": 5758, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQwMjozNTowOVrOE6Uwqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMDowMzoyNVrOE6vmBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5NTkzMDAzOnYy", "diffSide": "RIGHT", "path": "geode-membership/src/main/java/org/apache/geode/distributed/internal/membership/gms/fd/GMSHealthMonitor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQwMjozNTowOVrOH1UWPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNTo0OTozNVrOH10XCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTY2OTk1MQ==", "bodyText": "do we need to add @VisibleForTesting annotation here?", "url": "https://github.com/apache/geode/pull/5758#discussion_r525669951", "createdAt": "2020-11-18T02:35:09Z", "author": {"login": "kohlmu-pivotal"}, "path": "geode-membership/src/main/java/org/apache/geode/distributed/internal/membership/gms/fd/GMSHealthMonitor.java", "diffHunk": "@@ -152,7 +152,7 @@\n   /**\n    * Members undergoing final checks\n    */\n-  private final List<ID> membersInFinalCheck =\n+  final List<ID> membersInFinalCheck =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "751c8ed68194f55eeae7f3c459040e2beaedbdf0"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjE5NDQ0MA==", "bodyText": "yes", "url": "https://github.com/apache/geode/pull/5758#discussion_r526194440", "createdAt": "2020-11-18T15:49:35Z", "author": {"login": "bschuchardt"}, "path": "geode-membership/src/main/java/org/apache/geode/distributed/internal/membership/gms/fd/GMSHealthMonitor.java", "diffHunk": "@@ -152,7 +152,7 @@\n   /**\n    * Members undergoing final checks\n    */\n-  private final List<ID> membersInFinalCheck =\n+  final List<ID> membersInFinalCheck =", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTY2OTk1MQ=="}, "originalCommit": {"oid": "751c8ed68194f55eeae7f3c459040e2beaedbdf0"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5NTkzNzc4OnYy", "diffSide": "RIGHT", "path": "geode-membership/src/main/java/org/apache/geode/distributed/internal/membership/gms/fd/GMSHealthMonitor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQwMjozNjo0N1rOH1UcJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNTo1MDo0NlrOH10a8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTY3MTQ2Mg==", "bodyText": "Should we maybe remove direct access to this field and rather replace it with an accessor that we can then mark with @VisibleForTesting?", "url": "https://github.com/apache/geode/pull/5758#discussion_r525671462", "createdAt": "2020-11-18T02:36:47Z", "author": {"login": "kohlmu-pivotal"}, "path": "geode-membership/src/main/java/org/apache/geode/distributed/internal/membership/gms/fd/GMSHealthMonitor.java", "diffHunk": "@@ -130,7 +130,7 @@\n   public static final long MEMBER_SUSPECT_COLLECTION_INTERVAL =\n       Long.getLong(\"geode.suspect-member-collection-interval\", 200);\n \n-  private volatile long currentTimeStamp;\n+  volatile long currentTimeStamp;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "751c8ed68194f55eeae7f3c459040e2beaedbdf0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjE5NTQ0Mg==", "bodyText": "seems the same as membersInFinalCheck to me, allowing a test subclass to access it", "url": "https://github.com/apache/geode/pull/5758#discussion_r526195442", "createdAt": "2020-11-18T15:50:46Z", "author": {"login": "bschuchardt"}, "path": "geode-membership/src/main/java/org/apache/geode/distributed/internal/membership/gms/fd/GMSHealthMonitor.java", "diffHunk": "@@ -130,7 +130,7 @@\n   public static final long MEMBER_SUSPECT_COLLECTION_INTERVAL =\n       Long.getLong(\"geode.suspect-member-collection-interval\", 200);\n \n-  private volatile long currentTimeStamp;\n+  volatile long currentTimeStamp;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTY3MTQ2Mg=="}, "originalCommit": {"oid": "751c8ed68194f55eeae7f3c459040e2beaedbdf0"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwMDI5ODA4OnYy", "diffSide": "RIGHT", "path": "geode-membership/src/main/java/org/apache/geode/distributed/internal/membership/gms/fd/GMSHealthMonitor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxOTo1NjoxNVrOH1_pNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxOTo1NjoxNVrOH1_pNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM3OTMxNg==", "bodyText": "seems to be done to detect JVM pauses and delay suspect processing in those cases...", "url": "https://github.com/apache/geode/pull/5758#discussion_r526379316", "createdAt": "2020-11-18T19:56:15Z", "author": {"login": "echobravopapa"}, "path": "geode-membership/src/main/java/org/apache/geode/distributed/internal/membership/gms/fd/GMSHealthMonitor.java", "diffHunk": "@@ -257,6 +257,7 @@ public void run() {\n           return;\n         }\n \n+        // TODO - why are we taking two clock readings and setting currentTimeStamp twice?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "751c8ed68194f55eeae7f3c459040e2beaedbdf0"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwMDMyNjQ3OnYy", "diffSide": "RIGHT", "path": "geode-membership/src/main/java/org/apache/geode/distributed/internal/membership/gms/fd/GMSHealthMonitor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMDowMzoyNVrOH1_6Wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMDowMzoyNVrOH1_6Wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM4MzcwNg==", "bodyText": "solid fix!", "url": "https://github.com/apache/geode/pull/5758#discussion_r526383706", "createdAt": "2020-11-18T20:03:25Z", "author": {"login": "echobravopapa"}, "path": "geode-membership/src/main/java/org/apache/geode/distributed/internal/membership/gms/fd/GMSHealthMonitor.java", "diffHunk": "@@ -1242,7 +1243,11 @@ void processMessage(FinalCheckPassedMessage<ID> m) {\n     if (isStopping) {\n       return;\n     }\n-    contactedBy(m.getSuspect());\n+    // if we're currently processing a final-check for this member don't artificially update the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "751c8ed68194f55eeae7f3c459040e2beaedbdf0"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4512, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}