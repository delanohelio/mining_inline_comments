{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxNDM3Nzkx", "number": 5858, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxOTozMDo0M1rOFLBTAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxOTozMDo0M1rOFLBTAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3MDk5OTA1OnYy", "diffSide": "RIGHT", "path": "geode-lucene/src/main/java/org/apache/geode/cache/lucene/internal/results/LuceneGetPageFunction.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxOTozMDo0M1rOIN-M1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQxOTozMDo0M1rOIN-M1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUyMTQ5NQ==", "bodyText": "I'm a little concerned that value here might be a CachedDeserializable in some cases. I think this whole function and PageEntry class are designed to try to pass the value back to the user without deserializing it if it can.\nHowever I can't think of a case that you didn't test already, so I guess it's doing the right thing.", "url": "https://github.com/apache/geode/pull/5858#discussion_r551521495", "createdAt": "2021-01-04T19:30:43Z", "author": {"login": "upthewaterspout"}, "path": "geode-lucene/src/main/java/org/apache/geode/cache/lucene/internal/results/LuceneGetPageFunction.java", "diffHunk": "@@ -65,15 +70,19 @@ public void execute(FunctionContext context) {\n     }\n   }\n \n-  protected PageEntry getEntry(final Region region, final Object key) {\n+  protected PageEntry getEntry(final Region region, final Object key,\n+      SecurityService securityService, Object principal) {\n     final EntrySnapshot entry = (EntrySnapshot) region.getEntry(key);\n     if (entry == null) {\n       return null;\n     }\n \n-    final Object value = entry.getRegionEntry().getValue(null);\n+    Object value = entry.getRegionEntry().getValue(null);\n     if (value == null || Token.isInvalidOrRemoved(value)) {\n       return null;\n+    } else if (securityService.needPostProcess()) {\n+      value = securityService.postProcess(principal, region.getFullPath(), key, entry.getValue(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8f23bc72f33e4b5a0f87c4cc99b56f09829e5c9"}, "originalPosition": 44}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4855, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}