{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1MTkyMzkx", "number": 4873, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMzozODo0MlrODsrT8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMzozODo0MlrODsrT8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4MTczNTUzOnYy", "diffSide": "RIGHT", "path": "geode-junit/src/main/java/org/apache/geode/internal/jta/CacheUtils.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMzozODo0MlrOF9qI0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNzo1MzoyNVrOF91blg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE5Nzg0MQ==", "bodyText": "ResultSet is also AutoCloseable, perhaps take the opportunity to clean this one up too.", "url": "https://github.com/apache/geode/pull/4873#discussion_r400197841", "createdAt": "2020-03-30T13:38:42Z", "author": {"login": "pivotal-jbarrett"}, "path": "geode-junit/src/main/java/org/apache/geode/internal/jta/CacheUtils.java", "diffHunk": "@@ -144,12 +144,13 @@ public static void listTableData(String tableName) throws NamingException, SQLEx\n     String sql = \"select * from \" + tableName;\n \n     Connection conn = ds.getConnection();\n-    Statement sm = conn.createStatement();\n-    ResultSet rs = sm.executeQuery(sql);\n-    while (rs.next()) {\n-      System.out.println(\"id \" + rs.getString(1) + \" name \" + rs.getString(2));\n+    try (Statement sm = conn.createStatement()) {\n+      ResultSet rs = sm.executeQuery(sql);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f068773caeb07b0983bcfee3e68160bde47a3a2b"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDM4MDMwMg==", "bodyText": "the analyzer did not detect it because there was a rs.close at the end of the block.", "url": "https://github.com/apache/geode/pull/4873#discussion_r400380302", "createdAt": "2020-03-30T17:49:12Z", "author": {"login": "nabarunnag"}, "path": "geode-junit/src/main/java/org/apache/geode/internal/jta/CacheUtils.java", "diffHunk": "@@ -144,12 +144,13 @@ public static void listTableData(String tableName) throws NamingException, SQLEx\n     String sql = \"select * from \" + tableName;\n \n     Connection conn = ds.getConnection();\n-    Statement sm = conn.createStatement();\n-    ResultSet rs = sm.executeQuery(sql);\n-    while (rs.next()) {\n-      System.out.println(\"id \" + rs.getString(1) + \" name \" + rs.getString(2));\n+    try (Statement sm = conn.createStatement()) {\n+      ResultSet rs = sm.executeQuery(sql);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE5Nzg0MQ=="}, "originalCommit": {"oid": "f068773caeb07b0983bcfee3e68160bde47a3a2b"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDM4Mjg3MA==", "bodyText": "same with Connection. If there is a .close() at the end of the block it does not consider it as a violation.", "url": "https://github.com/apache/geode/pull/4873#discussion_r400382870", "createdAt": "2020-03-30T17:53:25Z", "author": {"login": "nabarunnag"}, "path": "geode-junit/src/main/java/org/apache/geode/internal/jta/CacheUtils.java", "diffHunk": "@@ -144,12 +144,13 @@ public static void listTableData(String tableName) throws NamingException, SQLEx\n     String sql = \"select * from \" + tableName;\n \n     Connection conn = ds.getConnection();\n-    Statement sm = conn.createStatement();\n-    ResultSet rs = sm.executeQuery(sql);\n-    while (rs.next()) {\n-      System.out.println(\"id \" + rs.getString(1) + \" name \" + rs.getString(2));\n+    try (Statement sm = conn.createStatement()) {\n+      ResultSet rs = sm.executeQuery(sql);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE5Nzg0MQ=="}, "originalCommit": {"oid": "f068773caeb07b0983bcfee3e68160bde47a3a2b"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4451, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}