{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4Nzk2OTQ4", "number": 4994, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMjo1ODoyN1rOD1_JDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMzowMjo0MFrOD1_NSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3OTM1NjMwOnYy", "diffSide": "RIGHT", "path": "geode-core/src/main/java/org/apache/geode/internal/tcp/Connection.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMjo1ODoyN1rOGLr9SQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNlQxNzo1ODoxNlrOGMH2yQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkwNzcyMQ==", "bodyText": "Is it intentional to increase the verbosity of this log message?", "url": "https://github.com/apache/geode/pull/4994#discussion_r414907721", "createdAt": "2020-04-24T22:58:27Z", "author": {"login": "pivotal-jbarrett"}, "path": "geode-core/src/main/java/org/apache/geode/internal/tcp/Connection.java", "diffHunk": "@@ -1662,8 +1662,8 @@ private void readMessages() {\n         } catch (IOException e) {\n           // \"Socket closed\" check needed for Solaris jdk 1.4.2_08\n           if (!isSocketClosed() && !\"Socket closed\".equalsIgnoreCase(e.getMessage())) {\n-            if (logger.isDebugEnabled() && !isIgnorableIOException(e)) {\n-              logger.debug(\"{} io exception for {}\", p2pReaderName(), this, e);\n+            if (logger.isInfoEnabled() && !isIgnorableIOException(e)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a0b7880c978c23fd13da31a7161c1ffec2d9285e"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM2NDgwOQ==", "bodyText": "yes!  I only saw the SSLException that explained the message-loss when debug-level logging was enabled.  With this log level change I had to augment isIgnorableException to filter out some exceptions being caught here when the socket was closed.", "url": "https://github.com/apache/geode/pull/4994#discussion_r415364809", "createdAt": "2020-04-26T17:58:16Z", "author": {"login": "bschuchardt"}, "path": "geode-core/src/main/java/org/apache/geode/internal/tcp/Connection.java", "diffHunk": "@@ -1662,8 +1662,8 @@ private void readMessages() {\n         } catch (IOException e) {\n           // \"Socket closed\" check needed for Solaris jdk 1.4.2_08\n           if (!isSocketClosed() && !\"Socket closed\".equalsIgnoreCase(e.getMessage())) {\n-            if (logger.isDebugEnabled() && !isIgnorableIOException(e)) {\n-              logger.debug(\"{} io exception for {}\", p2pReaderName(), this, e);\n+            if (logger.isInfoEnabled() && !isIgnorableIOException(e)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkwNzcyMQ=="}, "originalCommit": {"oid": "a0b7880c978c23fd13da31a7161c1ffec2d9285e"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3OTM2NzEyOnYy", "diffSide": "RIGHT", "path": "geode-core/src/main/java/org/apache/geode/internal/tcp/Connection.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMzowMjo0MFrOGLsC7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNlQxODowMDoxN1rOGMH4UA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkwOTE2NQ==", "bodyText": "The commit message references reverting the direct buffer changes. Is this change intentional because it doesn't look like part of the reverted commit?", "url": "https://github.com/apache/geode/pull/4994#discussion_r414909165", "createdAt": "2020-04-24T23:02:40Z", "author": {"login": "pivotal-jbarrett"}, "path": "geode-core/src/main/java/org/apache/geode/internal/tcp/Connection.java", "diffHunk": "@@ -1763,9 +1763,13 @@ private static boolean isIgnorableIOException(Exception e) {\n     }\n \n     msg = msg.toLowerCase();\n-    return msg.contains(\"forcibly closed\")\n-        || msg.contains(\"reset by peer\")\n-        || msg.contains(\"connection reset\");\n+\n+    if (e instanceof SSLException && msg.contains(\"status = closed\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a0b7880c978c23fd13da31a7161c1ffec2d9285e"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM2NTIwMA==", "bodyText": "See my previous comment", "url": "https://github.com/apache/geode/pull/4994#discussion_r415365200", "createdAt": "2020-04-26T18:00:17Z", "author": {"login": "bschuchardt"}, "path": "geode-core/src/main/java/org/apache/geode/internal/tcp/Connection.java", "diffHunk": "@@ -1763,9 +1763,13 @@ private static boolean isIgnorableIOException(Exception e) {\n     }\n \n     msg = msg.toLowerCase();\n-    return msg.contains(\"forcibly closed\")\n-        || msg.contains(\"reset by peer\")\n-        || msg.contains(\"connection reset\");\n+\n+    if (e instanceof SSLException && msg.contains(\"status = closed\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkwOTE2NQ=="}, "originalCommit": {"oid": "a0b7880c978c23fd13da31a7161c1ffec2d9285e"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4125, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}