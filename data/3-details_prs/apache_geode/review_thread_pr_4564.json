{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5NjkxNTkw", "number": 4564, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMjo0NDoxOFrODWG5bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMjo0NDoxOFrODWG5bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTA4MjcxOnYy", "diffSide": "RIGHT", "path": "geode-core/src/main/java/org/apache/geode/distributed/internal/membership/gms/locator/GMSLocator.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMjo0NDoxOVrOFarbaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMjo0NDoxOVrOFarbaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzUxODgyNA==", "bodyText": "Maybe flip this equals check Version.GEODE_1_11_0.equals(geodeVersion) - I think fromOrdinalNoThrow could return null if the version is not found?", "url": "https://github.com/apache/geode/pull/4564#discussion_r363518824", "createdAt": "2020-01-06T22:44:19Z", "author": {"login": "upthewaterspout"}, "path": "geode-core/src/main/java/org/apache/geode/distributed/internal/membership/gms/locator/GMSLocator.java", "diffHunk": "@@ -449,15 +450,21 @@ boolean recoverFromFile(File file) {\n \n       int version = ois.readInt();\n       int currentVersion = Version.getCurrentVersion().ordinal();\n-      DataInputStream input = new DataInputStream(fileInputStream);\n-      if (version != currentVersion) {\n+      DataInputStream input;\n+      if (version == currentVersion) {\n+        input = new DataInputStream(ois);\n+      } else if (version > currentVersion) {\n+        return false;\n+      } else {\n         Version geodeVersion = Version.fromOrdinalNoThrow((short) version, false);\n         logger.info(\"Peer locator found that persistent view was written with version {}\",\n             geodeVersion);\n-        if (version > currentVersion) {\n-          return false;\n+        if (geodeVersion.equals(Version.GEODE_1_11_0)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cc482a10d749b5b88577bf8667570cd8c3e848c"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3794, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}