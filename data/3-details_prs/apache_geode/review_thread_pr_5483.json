{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0OTMwMzQx", "number": 5483, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNjozMjozM1rOEeYVnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNjozMjozM1rOEeYVnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMjkxNDg0OnYy", "diffSide": "RIGHT", "path": "geode-redis/src/main/java/org/apache/geode/redis/internal/netty/NettyRedisServer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNjozMjozM1rOHJ_-EQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxOToyNjo1M1rOHKGF-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI0NzMxMw==", "bodyText": "Was this non-daemon thread still hanging around and that caused problems? It might be okay for this to be daemon threads (that allows the JVM to exit without shutting down the redis server) but we should probably still do some cleanup of these groups before we throw the ManagementException. We should try calling the \"stop\" method before throwing the ManagementException", "url": "https://github.com/apache/geode/pull/5483#discussion_r480247313", "createdAt": "2020-08-31T16:32:33Z", "author": {"login": "dschneider-pivotal"}, "path": "geode-redis/src/main/java/org/apache/geode/redis/internal/netty/NettyRedisServer.java", "diffHunk": "@@ -99,7 +99,7 @@ public NettyRedisServer(Supplier<DistributionConfig> configSupplier,\n       throw new IllegalArgumentException(\"Redis port cannot be less than 0\");\n     }\n     this.bindAddress = getBindAddress(requestedAddress);\n-    selectorGroup = createEventLoopGroup(\"Selector\", false, 1);\n+    selectorGroup = createEventLoopGroup(\"Selector\", true, 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3699644d23ff1c6e319f47c4ad65de8c61ac47c7"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM0NzY0MQ==", "bodyText": "Good call, Darrel! Just updated it.  We decided to leave the selectorGroup as a daemon thread.", "url": "https://github.com/apache/geode/pull/5483#discussion_r480347641", "createdAt": "2020-08-31T19:26:53Z", "author": {"login": "sabbey37"}, "path": "geode-redis/src/main/java/org/apache/geode/redis/internal/netty/NettyRedisServer.java", "diffHunk": "@@ -99,7 +99,7 @@ public NettyRedisServer(Supplier<DistributionConfig> configSupplier,\n       throw new IllegalArgumentException(\"Redis port cannot be less than 0\");\n     }\n     this.bindAddress = getBindAddress(requestedAddress);\n-    selectorGroup = createEventLoopGroup(\"Selector\", false, 1);\n+    selectorGroup = createEventLoopGroup(\"Selector\", true, 1);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI0NzMxMw=="}, "originalCommit": {"oid": "3699644d23ff1c6e319f47c4ad65de8c61ac47c7"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4760, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}