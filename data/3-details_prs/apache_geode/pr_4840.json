{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyNTgzMTUz", "number": 4840, "title": "GEODE-7851: update docs on Pulse Authentication", "bodyText": "Thank you for submitting a contribution to Apache Geode.\nIn order to streamline the review of the contribution we ask you\nto ensure the following steps have been taken:\nFor all changes:\n\n\n Is there a JIRA ticket associated with this PR? Is it referenced in the commit message?\n\n\n Has your PR been rebased against the latest commit within the target branch (typically develop)?\n\n\n Is your initial contribution a single, squashed commit?\n\n\n Does gradlew build run cleanly?\n\n\n Have you written or updated unit tests to verify your changes?\n\n\n If adding new dependencies to the code, are these dependencies licensed in a way that is compatible for inclusion under ASF 2.0?\n\n\nNote:\nPlease ensure that once the PR is submitted, check Concourse for build issues and\nsubmit an update to your PR as soon as possible. If you need help, please send an\nemail to dev@geode.apache.org.", "createdAt": "2020-03-23T19:14:13Z", "url": "https://github.com/apache/geode/pull/4840", "merged": true, "mergeCommit": {"oid": "382cdcdd0c5733509c8624bcc84df3fa40dbb9d1"}, "closed": true, "closedAt": "2020-03-25T15:01:48Z", "author": {"login": "jinmeiliao"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQjQMRAH2gAyMzkyNTgzMTUzOmI3MDM2MTMyY2Y1Yzk0NDljOTU4MTFkZTM2MGU3YWZmNDEwZDRhZjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQ66jNgH2gAyMzkyNTgzMTUzOjgyYzA4ZTVlOGQ2ZGI1ZTFkNjA5YWVkMzBkZDczMjM2YWExYmMyMjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b7036132cf5c9449c95811de360e7aff410d4af0", "author": {"user": {"login": "jinmeiliao", "name": "Jinmei Liao"}}, "url": "https://github.com/apache/geode/commit/b7036132cf5c9449c95811de360e7aff410d4af0", "committedDate": "2020-03-23T19:13:14Z", "message": "GEODE-7851: update docs on Pulse Authentication"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d71b6aecdbd8e326c52b6b0b4c4b8297dcf17657", "author": {"user": {"login": "jinmeiliao", "name": "Jinmei Liao"}}, "url": "https://github.com/apache/geode/commit/d71b6aecdbd8e326c52b6b0b4c4b8297dcf17657", "committedDate": "2020-03-23T21:35:00Z", "message": "add test to test the the documentation correctness"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1949a40c35f9df5aae6bf54baa96a44623d2e69", "author": {"user": {"login": "igodwin", "name": "Ivan Godwin"}}, "url": "https://github.com/apache/geode/commit/e1949a40c35f9df5aae6bf54baa96a44623d2e69", "committedDate": "2020-03-24T06:42:18Z", "message": "GEODE-7889: Fix CloseConnectionTest\n\n- Use await().untilAsserted() to allow connections to settle\r\n- Use setup and tear down methods\r\n- Do not extend CacheTestCase as it is an empty abstract with a deprecated super"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ceb76f0754264b7d80eb2f6da80b1c0a335f4b6a", "author": {"user": {"login": "davebarnes97", "name": "Dave Barnes"}}, "url": "https://github.com/apache/geode/commit/ceb76f0754264b7d80eb2f6da80b1c0a335f4b6a", "committedDate": "2020-03-24T16:29:34Z", "message": "Merge branch 'pulseDoc' of https://github.com/jinmeiliao/geode into jinmeiliao-pulseDoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwNTY5NDQ5", "url": "https://github.com/apache/geode/pull/4840#pullrequestreview-380569449", "createdAt": "2020-03-24T18:04:47Z", "commit": {"oid": "d71b6aecdbd8e326c52b6b0b4c4b8297dcf17657"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxODowNDo0OFrOF6809w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxODowNDo0OFrOF6809w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM1ODMyNw==", "bodyText": "Are these authorities correct? I would have guessed that they would have to something CLUSTER:READ.\nIf ROLE_USER is valid here, okay. But if not, then consider giving John and Bob real authorities. And perhaps give each a different set of authorities.", "url": "https://github.com/apache/geode/pull/4840#discussion_r397358327", "createdAt": "2020-03-24T18:04:48Z", "author": {"login": "demery-pivotal"}, "path": "geode-docs/tools_modules/pulse/pulse-auth.html.md.erb", "diffHunk": "@@ -50,3 +50,95 @@ When the `http` SSL component is enabled, all HTTP services become\n SSL-enabled and you must configure your client applications\n accordingly. For SSL-enabled Pulse, you will need to configure your\n browsers with proper certificates.\n+\n+# Configuring Pulse to Use Geode Security Manager for Authentication/Authorization\n+\n+**Embedded Mode (Jetty)**\n+\n+You don't need to do anything for this setup. Pulse will automatically be configured by Geode to send the credentials entered in Pulse login page to the Security Manager for authentication and authorization.\n+\n+**Non-Embedded (Standalone Web Server) Mode (Tomcat)**\n+\n+You need to configure the Pulse web app to use a geode specific security profile by activating the geode profile at startup with the system property:\n+\n+``` pre\n+-Dspring.profiles.active=pulse.authentication.gemfire\n+```\n+\n+# Configuring Pulse to use Custom Security Profile\n+\n+This would only work if you are NOT using a security manager to in your cluster. The custom security profile only controls who can access Pulse web page. You will need to create a xml file named `pulse-authentication-custom.xml` that defines the credentials and roles of the users of Pulse.\n+\n+**Example pulse-authentication-custom.xml for Spring simple in-memory User Details Service**\n+\n+``` pre\n+<beans:beans >\n+  <authentication-manager>\n+    <authentication-provider>\n+      <user-service id=\"userDetailsService\">\n+        <user name=\"john\" password=\"johnspassword\" authorities=\"ROLE_USER \" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d71b6aecdbd8e326c52b6b0b4c4b8297dcf17657"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc12af9d9c2f82e2a1a7636efe4f56537847a4f0", "author": {"user": {"login": "davebarnes97", "name": "Dave Barnes"}}, "url": "https://github.com/apache/geode/commit/fc12af9d9c2f82e2a1a7636efe4f56537847a4f0", "committedDate": "2020-03-24T19:00:14Z", "message": "GEODE-7851: edit doc source for format"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwNzMwNzUz", "url": "https://github.com/apache/geode/pull/4840#pullrequestreview-380730753", "createdAt": "2020-03-24T22:05:04Z", "commit": {"oid": "fc12af9d9c2f82e2a1a7636efe4f56537847a4f0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82c08e5e8d6db5e1d609aed30dd73236aa1bc220", "author": {"user": {"login": "jinmeiliao", "name": "Jinmei Liao"}}, "url": "https://github.com/apache/geode/commit/82c08e5e8d6db5e1d609aed30dd73236aa1bc220", "committedDate": "2020-03-24T22:47:19Z", "message": "review comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4906, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}