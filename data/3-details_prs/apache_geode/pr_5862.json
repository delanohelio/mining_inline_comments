{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxNTQ4Mjgw", "number": 5862, "title": "GEODE-8799: Increase defaults for OperationExecutors.MAX_THREADS and ClusterOperationExecutors.MAX_PR_THREADS", "bodyText": "OperationExecutors.MAX_THREADS new default is 300\nClusterOperationExecutors.MAX_PR_THREADS new default is\nMath.max(Runtime.getRuntime().availableProcessors() * 32, 200))\nRemoved unit test case for setting system property, since it cannot be\ncleared afterwards without unloading the class\n\nAuthored-by: Donal Evans doevans@vmware.com\nThank you for submitting a contribution to Apache Geode.\nIn order to streamline the review of the contribution we ask you\nto ensure the following steps have been taken:\nFor all changes:\n\n\n Is there a JIRA ticket associated with this PR? Is it referenced in the commit message?\n\n\n Has your PR been rebased against the latest commit within the target branch (typically develop)?\n\n\n Is your initial contribution a single, squashed commit?\n\n\n Does gradlew build run cleanly?\n\n\n Have you written or updated unit tests to verify your changes?\n\n\n[N/A] If adding new dependencies to the code, are these dependencies licensed in a way that is compatible for inclusion under ASF 2.0?\n\n\nNote:\nPlease ensure that once the PR is submitted, check Concourse for build issues and\nsubmit an update to your PR as soon as possible. If you need help, please send an\nemail to dev@geode.apache.org.", "createdAt": "2020-12-17T01:54:24Z", "url": "https://github.com/apache/geode/pull/5862", "merged": true, "mergeCommit": {"oid": "86693d5170bb7ea85dabe15bf67c32ba875abef9"}, "closed": true, "closedAt": "2021-01-08T21:26:52Z", "author": {"login": "DonalEvans"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnGTiRgFqTU1NDc4MDAyNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABduPTmQAFqTU2NDU4MjY1NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NzgwMDI3", "url": "https://github.com/apache/geode/pull/5862#pullrequestreview-554780027", "createdAt": "2020-12-17T16:36:35Z", "commit": {"oid": "21d4f8a08e5183c008db5d61867616956a0119ec"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNjozNjozNVrOIH-RSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNjozNjozNVrOIH-RSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTIzMTE3Nw==", "bodyText": "not sure if I'm missing something, but it looks like default will be 200, if the machine has less than 6 cores, other wise the default is num processors * 32. Not sure how significant this info is to our users?", "url": "https://github.com/apache/geode/pull/5862#discussion_r545231177", "createdAt": "2020-12-17T16:36:35Z", "author": {"login": "jhutchison"}, "path": "geode-core/src/main/java/org/apache/geode/internal/cache/properties.html", "diffHunk": "@@ -383,7 +383,7 @@ <h1>Properties, in Alphabetical Order</h1>\n <dd>\n <em>Public:</em> false\n <p>\n-<em>Integer</em> (default is 1)\n+<em>Integer</em> (default is 200)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21d4f8a08e5183c008db5d61867616956a0119ec"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6227dd2b7b1131a4d00f6919af3f39571b91fa95", "author": {"user": {"login": "DonalEvans", "name": "Donal Evans"}}, "url": "https://github.com/apache/geode/commit/6227dd2b7b1131a4d00f6919af3f39571b91fa95", "committedDate": "2020-12-17T17:10:17Z", "message": "Correct default values and clean up properties.html\n\nAuthored-by: Donal Evans <doevans@vmware.com>"}, "afterCommit": {"oid": "0837301a0f0f111d39324b0a008e3f01bef2d095", "author": {"user": {"login": "DonalEvans", "name": "Donal Evans"}}, "url": "https://github.com/apache/geode/commit/0837301a0f0f111d39324b0a008e3f01bef2d095", "committedDate": "2020-12-17T17:20:42Z", "message": "Correct default values in properties.html\n\nAuthored-by: Donal Evans <doevans@vmware.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0ODkwMDcy", "url": "https://github.com/apache/geode/pull/5862#pullrequestreview-554890072", "createdAt": "2020-12-17T18:48:20Z", "commit": {"oid": "0837301a0f0f111d39324b0a008e3f01bef2d095"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxODo0ODoyMVrOIIDzXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxODo0ODoyMVrOIIDzXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTMyMTgyMg==", "bodyText": "There is another ticket to address this issue: GEODE-8357\nThis change has an impact on overall system requirement and performance; it will be nice to send a proposal to developer community. This helps to get feedback from engineers who had encountered issue with this setting and suggested the recommendation to the users (support teams); there was conversation about changing this to big number like 1000.\nIt will be good to come up with a right number based on previous experience in setting this number.\nWe also need to think about setting the system properties automatically; some kind of auto-tuning service in the product that will adopt/changes the value based on the resource availability and the system load.", "url": "https://github.com/apache/geode/pull/5862#discussion_r545321822", "createdAt": "2020-12-17T18:48:21Z", "author": {"login": "agingade"}, "path": "geode-core/src/main/java/org/apache/geode/distributed/internal/OperationExecutors.java", "diffHunk": "@@ -26,7 +26,7 @@\n  */\n public interface OperationExecutors {\n   int MAX_THREADS =\n-      Integer.getInteger(\"DistributionManager.MAX_THREADS\", 100);\n+      Integer.getInteger(\"DistributionManager.MAX_THREADS\", 300);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0837301a0f0f111d39324b0a008e3f01bef2d095"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4b3236f58b1ab932f6fa0cd1a38e807e603c8da", "author": {"user": {"login": "DonalEvans", "name": "Donal Evans"}}, "url": "https://github.com/apache/geode/commit/c4b3236f58b1ab932f6fa0cd1a38e807e603c8da", "committedDate": "2021-01-05T18:44:58Z", "message": "GEODE-8799: Increase defaults for MAX_THREADS and MAX_PR_THREADS\n\n- MAX_THREADS new default is 300\n- MAX_PR_THREADS new default is\nMath.max(Runtime.getRuntime().availableProcessors() * 32, 200))\n- Removed unit test case for setting system property, since it cannot be\ncleared afterwards without unloading the class\n\nAuthored-by: Donal Evans <doevans@vmware.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0ef863bbb94f9711a48f575e69e6f633eff25ab", "author": {"user": {"login": "DonalEvans", "name": "Donal Evans"}}, "url": "https://github.com/apache/geode/commit/e0ef863bbb94f9711a48f575e69e6f633eff25ab", "committedDate": "2021-01-05T18:44:58Z", "message": "Correct default values in properties.html\n\nAuthored-by: Donal Evans <doevans@vmware.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe230cab375f46c3afb6229efa79f4ebfcb57cdd", "author": {"user": {"login": "DonalEvans", "name": "Donal Evans"}}, "url": "https://github.com/apache/geode/commit/fe230cab375f46c3afb6229efa79f4ebfcb57cdd", "committedDate": "2021-01-05T18:44:58Z", "message": "Change MAX_THREADS default to 1000\n\nAuthored-by: Donal Evans <doevans@vmware.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0837301a0f0f111d39324b0a008e3f01bef2d095", "author": {"user": {"login": "DonalEvans", "name": "Donal Evans"}}, "url": "https://github.com/apache/geode/commit/0837301a0f0f111d39324b0a008e3f01bef2d095", "committedDate": "2020-12-17T17:20:42Z", "message": "Correct default values in properties.html\n\nAuthored-by: Donal Evans <doevans@vmware.com>"}, "afterCommit": {"oid": "fe230cab375f46c3afb6229efa79f4ebfcb57cdd", "author": {"user": {"login": "DonalEvans", "name": "Donal Evans"}}, "url": "https://github.com/apache/geode/commit/fe230cab375f46c3afb6229efa79f4ebfcb57cdd", "committedDate": "2021-01-05T18:44:58Z", "message": "Change MAX_THREADS default to 1000\n\nAuthored-by: Donal Evans <doevans@vmware.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY0NTc0MDc0", "url": "https://github.com/apache/geode/pull/5862#pullrequestreview-564574074", "createdAt": "2021-01-08T20:52:02Z", "commit": {"oid": "fe230cab375f46c3afb6229efa79f4ebfcb57cdd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY0NTgyNjU1", "url": "https://github.com/apache/geode/pull/5862#pullrequestreview-564582655", "createdAt": "2021-01-08T21:07:44Z", "commit": {"oid": "fe230cab375f46c3afb6229efa79f4ebfcb57cdd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4285, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}