{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1MTY3NjI3", "number": 4866, "title": "GEODE-7864: Overriding hashCode when equals is overridden.", "bodyText": "Thank you for submitting a contribution to Apache Geode.\nIn order to streamline the review of the contribution we ask you\nto ensure the following steps have been taken:\nFor all changes:\n\n\n Is there a JIRA ticket associated with this PR? Is it referenced in the commit message?\n\n\n Has your PR been rebased against the latest commit within the target branch (typically develop)?\n\n\n Is your initial contribution a single, squashed commit?\n\n\n Does gradlew build run cleanly?\n\n\n Have you written or updated unit tests to verify your changes?\n\n\n If adding new dependencies to the code, are these dependencies licensed in a way that is compatible for inclusion under ASF 2.0?\n\n\nNote:\nPlease ensure that once the PR is submitted, check Concourse for build issues and\nsubmit an update to your PR as soon as possible. If you need help, please send an\nemail to dev@geode.apache.org.", "createdAt": "2020-03-28T23:04:52Z", "url": "https://github.com/apache/geode/pull/4866", "merged": true, "mergeCommit": {"oid": "8d5e3d42ad9da15a073bcb5578cfae4c80761973"}, "closed": true, "closedAt": "2020-06-16T22:49:37Z", "author": {"login": "nabarunnag"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSPBDrgFqTM4MzM2MjE4Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcr6z4JgBqjM0NTA2MzQ1Mjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzYyMTgz", "url": "https://github.com/apache/geode/pull/4866#pullrequestreview-383362183", "createdAt": "2020-03-29T00:44:25Z", "commit": {"oid": "144c22c6138b49affa76775d81c48bd1b343e416"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwMDo0NDoyNlrOF9NcqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwMDo0NjowM1rOF9NdFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTcyNzc4NQ==", "bodyText": "I don\u2019t think there is even a reason this class implements equals. I\u2019d say just let them be default.", "url": "https://github.com/apache/geode/pull/4866#discussion_r399727785", "createdAt": "2020-03-29T00:44:26Z", "author": {"login": "pivotal-jbarrett"}, "path": "geode-core/src/main/java/org/apache/geode/cache/client/internal/pooling/AvailableConnectionManager.java", "diffHunk": "@@ -146,6 +146,11 @@ public boolean equals(Object o) {\n       return false;\n     }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "144c22c6138b49affa76775d81c48bd1b343e416"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTcyNzg5Mw==", "bodyText": "This implementation seems to violate the general rules of hashcode. It would use the same members as equals to generate a hashcode.", "url": "https://github.com/apache/geode/pull/4866#discussion_r399727893", "createdAt": "2020-03-29T00:46:03Z", "author": {"login": "pivotal-jbarrett"}, "path": "geode-dunit/src/main/java/org/apache/geode/internal/cache/functions/TestFunction.java", "diffHunk": "@@ -1032,6 +1032,11 @@ public boolean equals(Object obj) {\n     return this.props.equals(function.getConfig());\n   }\n \n+  @Override\n+  public int hashCode() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "144c22c6138b49affa76775d81c48bd1b343e416"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "144c22c6138b49affa76775d81c48bd1b343e416", "author": {"user": {"login": "nabarunnag", "name": "Nabarun Nag"}}, "url": "https://github.com/apache/geode/commit/144c22c6138b49affa76775d81c48bd1b343e416", "committedDate": "2020-03-28T23:03:35Z", "message": "GEODE-7864: Overriding hashCode when equals in overridden."}, "afterCommit": {"oid": "5dd936ed71b45d2d960acdc8f2138634dd00e2bc", "author": {"user": {"login": "nabarunnag", "name": "Nabarun Nag"}}, "url": "https://github.com/apache/geode/commit/5dd936ed71b45d2d960acdc8f2138634dd00e2bc", "committedDate": "2020-03-29T01:31:42Z", "message": "GEODE-7864: Overriding hashCode when equals in overridden."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzY0NDgy", "url": "https://github.com/apache/geode/pull/4866#pullrequestreview-383364482", "createdAt": "2020-03-29T01:34:08Z", "commit": {"oid": "5dd936ed71b45d2d960acdc8f2138634dd00e2bc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwMTozNDowOFrOF9NqlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwMTozNDo1NlrOF9NqwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTczMTM0OA==", "bodyText": "Oh yes, that is correct. I didn't notice this was that special inner class. Thanks!", "url": "https://github.com/apache/geode/pull/4866#discussion_r399731348", "createdAt": "2020-03-29T01:34:08Z", "author": {"login": "pivotal-jbarrett"}, "path": "geode-core/src/main/java/org/apache/geode/cache/client/internal/pooling/AvailableConnectionManager.java", "diffHunk": "@@ -146,6 +146,11 @@ public boolean equals(Object o) {\n       return false;\n     }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTcyNzc4NQ=="}, "originalCommit": {"oid": "144c22c6138b49affa76775d81c48bd1b343e416"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTczMTM5Mw==", "bodyText": "I think the same issue exists on the other hashcodes added in this commit.", "url": "https://github.com/apache/geode/pull/4866#discussion_r399731393", "createdAt": "2020-03-29T01:34:56Z", "author": {"login": "pivotal-jbarrett"}, "path": "geode-dunit/src/main/java/org/apache/geode/internal/cache/functions/TestFunction.java", "diffHunk": "@@ -1032,6 +1032,11 @@ public boolean equals(Object obj) {\n     return this.props.equals(function.getConfig());\n   }\n \n+  @Override\n+  public int hashCode() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTcyNzg5Mw=="}, "originalCommit": {"oid": "144c22c6138b49affa76775d81c48bd1b343e416"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5dd936ed71b45d2d960acdc8f2138634dd00e2bc", "author": {"user": {"login": "nabarunnag", "name": "Nabarun Nag"}}, "url": "https://github.com/apache/geode/commit/5dd936ed71b45d2d960acdc8f2138634dd00e2bc", "committedDate": "2020-03-29T01:31:42Z", "message": "GEODE-7864: Overriding hashCode when equals in overridden."}, "afterCommit": {"oid": "c635db0ae8536b1e01a7a18417b877228a3a8a29", "author": {"user": {"login": "nabarunnag", "name": "Nabarun Nag"}}, "url": "https://github.com/apache/geode/commit/c635db0ae8536b1e01a7a18417b877228a3a8a29", "committedDate": "2020-03-29T23:33:30Z", "message": "GEODE-7864: Overriding hashCode when equals in overridden."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c635db0ae8536b1e01a7a18417b877228a3a8a29", "author": {"user": {"login": "nabarunnag", "name": "Nabarun Nag"}}, "url": "https://github.com/apache/geode/commit/c635db0ae8536b1e01a7a18417b877228a3a8a29", "committedDate": "2020-03-29T23:33:30Z", "message": "GEODE-7864: Overriding hashCode when equals in overridden."}, "afterCommit": {"oid": "6a7507c4f21bf86036b903da18bf90bce216cc96", "author": {"user": {"login": "nabarunnag", "name": "Nabarun Nag"}}, "url": "https://github.com/apache/geode/commit/6a7507c4f21bf86036b903da18bf90bce216cc96", "committedDate": "2020-04-18T01:05:53Z", "message": "GEODE-7864: Overriding hashCode when equals in overridden."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6a7507c4f21bf86036b903da18bf90bce216cc96", "author": {"user": {"login": "nabarunnag", "name": "Nabarun Nag"}}, "url": "https://github.com/apache/geode/commit/6a7507c4f21bf86036b903da18bf90bce216cc96", "committedDate": "2020-04-18T01:05:53Z", "message": "GEODE-7864: Overriding hashCode when equals in overridden."}, "afterCommit": {"oid": "598d886b9c3beae173cc223167f2a0e9cdb70ca4", "author": {"user": {"login": "nabarunnag", "name": "Nabarun Nag"}}, "url": "https://github.com/apache/geode/commit/598d886b9c3beae173cc223167f2a0e9cdb70ca4", "committedDate": "2020-05-27T21:24:06Z", "message": "GEODE-7864: Overriding hashCode when equals in overridden."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwMzI1NjQw", "url": "https://github.com/apache/geode/pull/4866#pullrequestreview-420325640", "createdAt": "2020-05-28T17:14:00Z", "commit": {"oid": "598d886b9c3beae173cc223167f2a0e9cdb70ca4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxNzoxNDowMFrOGb-7Ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxNzoxNDowMFrOGb-7Ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTk5NTY4Mg==", "bodyText": "Could this be formatted slightly neater? The following seems to make spotless happy on my machine:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                int result =\n          \n          \n            \n                    Objects\n          \n          \n            \n                        .hash(p_bool, p_byte, p_short, p_int, p_long, p_float, p_double, w_bool, w_byte,\n          \n          \n            \n                            w_short,\n          \n          \n            \n                            w_int, w_long, w_bigInt, w_float, w_bigDec, w_double, w_string, c_list, c_set,\n          \n          \n            \n                            c_queue, c_deque, m_empByCity, day);\n          \n          \n            \n            int result = Objects.hash(p_bool, p_byte, p_short, p_int, p_long, p_float, p_double, w_bool,\n          \n          \n            \n                    w_byte, w_short, w_int, w_long, w_bigInt, w_float, w_bigDec, w_double, w_string, c_list,\n          \n          \n            \n                    c_set, c_queue, c_deque, m_empByCity, day);", "url": "https://github.com/apache/geode/pull/4866#discussion_r431995682", "createdAt": "2020-05-28T17:14:00Z", "author": {"login": "DonalEvans"}, "path": "geode-junit/src/main/java/org/apache/geode/pdx/TestObjectForJSONFormatter.java", "diffHunk": "@@ -992,6 +993,34 @@ boolean compareMaps(Map m1, Map m2) {\n     return true;\n   }\n \n+  @Override\n+  public int hashCode() {\n+    int result =\n+        Objects\n+            .hash(p_bool, p_byte, p_short, p_int, p_long, p_float, p_double, w_bool, w_byte,\n+                w_short,\n+                w_int, w_long, w_bigInt, w_float, w_bigDec, w_double, w_string, c_list, c_set,\n+                c_queue, c_deque, m_empByCity, day);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "598d886b9c3beae173cc223167f2a0e9cdb70ca4"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwMzI1Njg2", "url": "https://github.com/apache/geode/pull/4866#pullrequestreview-420325686", "createdAt": "2020-05-28T17:14:03Z", "commit": {"oid": "598d886b9c3beae173cc223167f2a0e9cdb70ca4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "59a1e7dc882b36713365aca7b194809a511235bf", "author": {"user": {"login": "nabarunnag", "name": "Nabarun Nag"}}, "url": "https://github.com/apache/geode/commit/59a1e7dc882b36713365aca7b194809a511235bf", "committedDate": "2020-05-28T17:26:51Z", "message": "Update geode-junit/src/main/java/org/apache/geode/pdx/TestObjectForJSONFormatter.java\n\nCo-authored-by: Donal Evans <donalevans86@gmail.com>"}, "afterCommit": {"oid": "10782d7b30554f86395811780bcdb73df20a4272", "author": {"user": {"login": "nabarunnag", "name": "Nabarun Nag"}}, "url": "https://github.com/apache/geode/commit/10782d7b30554f86395811780bcdb73df20a4272", "committedDate": "2020-05-28T22:06:53Z", "message": "GEODE-7864: Overriding hashCode when equals in overridden.\n\nCo-authored-by: Donal Evans <donalevans86@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMTU3MjI5", "url": "https://github.com/apache/geode/pull/4866#pullrequestreview-422157229", "createdAt": "2020-06-01T20:27:48Z", "commit": {"oid": "10782d7b30554f86395811780bcdb73df20a4272"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQyMDoyNzo0OFrOGdY-KQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQyMDoyNzo0OFrOGdY-KQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ3MTAxNw==", "bodyText": "What about:\nreturn Arrays.deepHashCode(new Object[] {p_pool, p_poolArray, ...});", "url": "https://github.com/apache/geode/pull/4866#discussion_r433471017", "createdAt": "2020-06-01T20:27:48Z", "author": {"login": "pivotal-jbarrett"}, "path": "geode-junit/src/main/java/org/apache/geode/pdx/TestObjectForJSONFormatter.java", "diffHunk": "@@ -992,6 +993,31 @@ boolean compareMaps(Map m1, Map m2) {\n     return true;\n   }\n \n+  @Override\n+  public int hashCode() {\n+    int result = Objects.hash(p_bool, p_byte, p_short, p_int, p_long, p_float, p_double, w_bool,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10782d7b30554f86395811780bcdb73df20a4272"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b22b7ee8f0a56b61f1f6863e64570c6f3c301f3", "author": {"user": {"login": "nabarunnag", "name": "Nabarun Nag"}}, "url": "https://github.com/apache/geode/commit/4b22b7ee8f0a56b61f1f6863e64570c6f3c301f3", "committedDate": "2020-06-16T19:55:28Z", "message": "GEODE-7864: Overriding hashCode when equals in overridden\n\nCo-authored-by: Donal Evans <donalevans86@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "10782d7b30554f86395811780bcdb73df20a4272", "author": {"user": {"login": "nabarunnag", "name": "Nabarun Nag"}}, "url": "https://github.com/apache/geode/commit/10782d7b30554f86395811780bcdb73df20a4272", "committedDate": "2020-05-28T22:06:53Z", "message": "GEODE-7864: Overriding hashCode when equals in overridden.\n\nCo-authored-by: Donal Evans <donalevans86@gmail.com>"}, "afterCommit": {"oid": "4b22b7ee8f0a56b61f1f6863e64570c6f3c301f3", "author": {"user": {"login": "nabarunnag", "name": "Nabarun Nag"}}, "url": "https://github.com/apache/geode/commit/4b22b7ee8f0a56b61f1f6863e64570c6f3c301f3", "committedDate": "2020-06-16T19:55:28Z", "message": "GEODE-7864: Overriding hashCode when equals in overridden\n\nCo-authored-by: Donal Evans <donalevans86@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4940, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}