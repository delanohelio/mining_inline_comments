{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwMDU4ODIy", "number": 729, "title": "RDM-7070 Functional test for get printable documents (AM operation)", "bodyText": "JIRA link (if applicable)\nhttps://tools.hmcts.net/jira/browse/AM-436\nChange description\nAdded scenario must return successfully all and only the respective documents with read access for solicitors\nDoes this PR introduce a breaking change? (check one with \"x\")\n[ ] Yes\n[x] No", "createdAt": "2020-01-07T16:06:36Z", "url": "https://github.com/hmcts/ccd-data-store-api/pull/729", "merged": true, "mergeCommit": {"oid": "058d1052b24f0e6f411c115fd67b7347cece4472"}, "closed": true, "closedAt": "2020-01-21T17:51:49Z", "author": {"login": "bmcts"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb4C-TagH2gAyMzYwMDU4ODIyOmM2YmFiMGY3ZjUzYjVlNmFkMjhiZDgzYTdmMThlNGQwODVkOGZmN2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8eyYZAH2gAyMzYwMDU4ODIyOjJjMTAzZDk0NTNlMzZlYjk3MTFkYTYxOTAzY2ZmOTc3ZjliYzYyM2Y=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c6bab0f7f53b5e6ad28bd83a7f18e4d085d8ff7d", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/c6bab0f7f53b5e6ad28bd83a7f18e4d085d8ff7d", "committedDate": "2020-01-07T16:02:33Z", "message": "added scenario for am"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77bffb1abb34194a5d6c63e964bea02158e72e1f", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/77bffb1abb34194a5d6c63e964bea02158e72e1f", "committedDate": "2020-01-08T09:54:14Z", "message": "validation test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c0cd01985d409a8a934b618a0b5d0bd521fa28d", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/0c0cd01985d409a8a934b618a0b5d0bd521fa28d", "committedDate": "2020-01-08T11:28:47Z", "message": "temp test change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc889c1f7141047f40f52460c07c5751b9cf875a", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/bc889c1f7141047f40f52460c07c5751b9cf875a", "committedDate": "2020-01-08T12:06:22Z", "message": "update doc store domain for validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3b29d55613d2ba928f0b21117824976e396a3fa", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/a3b29d55613d2ba928f0b21117824976e396a3fa", "committedDate": "2020-01-08T13:45:04Z", "message": "correct document url for validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9531aa97b1654336b118aa70077ed43899af7992", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/9531aa97b1654336b118aa70077ed43899af7992", "committedDate": "2020-01-08T14:06:54Z", "message": "Merge branch 'RDM-6329_Automate_Newly_Identified_Test_Scenarios' of https://github.com/hmcts/ccd-data-store-api into RDM-7070_AM_Operation_For_Get_Printable_Documents_FTA"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37e8b24dbdde0354521781397a11dca1cfed2156", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/37e8b24dbdde0354521781397a11dca1cfed2156", "committedDate": "2020-01-08T16:01:33Z", "message": "document url in existing tests and added documents"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c0170b2ca3008098fc6f6d2b2bb2776695aed49", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/1c0170b2ca3008098fc6f6d2b2bb2776695aed49", "committedDate": "2020-01-09T15:03:46Z", "message": "Merge branch 'RDM-6329_Automate_Newly_Identified_Test_Scenarios' of https://github.com/hmcts/ccd-data-store-api into RDM-7070_AM_Operation_For_Get_Printable_Documents_FTA"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a9ae61e28263c38a612e029519866dc8eecf096", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/8a9ae61e28263c38a612e029519866dc8eecf096", "committedDate": "2020-01-10T14:19:36Z", "message": "Merge branch 'RDM-6329_Automate_Newly_Identified_Test_Scenarios' of https://github.com/hmcts/ccd-data-store-api into RDM-7070_AM_Operation_For_Get_Printable_Documents_FTA"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e5dc43308cbd2f2d3a4559eff3a8bd0b011c2bd", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/2e5dc43308cbd2f2d3a4559eff3a8bd0b011c2bd", "committedDate": "2020-01-10T15:30:40Z", "message": "spec mismatch fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70fc062596e3df0ff6b7b2e2bb0398959c82e921", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/70fc062596e3df0ff6b7b2e2bb0398959c82e921", "committedDate": "2020-01-10T15:54:44Z", "message": "operation name mismatch fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxODkxNzk4", "url": "https://github.com/hmcts/ccd-data-store-api/pull/729#pullrequestreview-341891798", "createdAt": "2020-01-13T14:42:35Z", "commit": {"oid": "70fc062596e3df0ff6b7b2e2bb0398959c82e921"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNDo0MjozNVrOFc5Hog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNDo0MjozNVrOFc5Hog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg0MDI5MA==", "bodyText": "get printable documents operation for existing end point (/jurisdictions/{jid}/case-types/{ctid}/documents ) returning one document while expectation is 7 documents. Scenario is failing due to this.\nIt might be possibility that you are not hitting the right endpoint.Please check correct endpoint again.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/729#discussion_r365840290", "createdAt": "2020-01-13T14:42:35Z", "author": {"login": "dharmendra8186"}, "path": "src/aat/resources/features/F-032/F-032.feature", "diffHunk": "@@ -55,3 +55,19 @@ Feature: F-032: Get printable documents\n     Then a negative response is received\n     And the response [contains a HTTP 404 Not Found]\n     And the response has all other details as expected\n+\n+  @S-123\n+  Scenario: must return successfully all and only the respective documents with read access for solicitors\n+    Given a user with [an active solicitor 1 profile in CCD with read permissions on limited documents for a given case type]\n+    And a user with [another active solicitor 2 profile in CCD with all permissions on all documents for a given case type]\n+    And a user with [another active solicitor 3 profile in CCD with read permissions on different limited documents for a given case type]\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+    And another successful call [by a privileged user with full ACL to create a case of this case type] as in [Befta_Jurisdiction2_Default_Full_Case_Creation_Data]\n+    When a request is prepared with appropriate values\n+    And the request [is made by solicitor 2 who just created the case]\n+    And it is submitted to call the [get printable documents] operation of [CCD Data Store]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70fc062596e3df0ff6b7b2e2bb0398959c82e921"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4c72e8f3cc1a1c3add8fe9d450bfc0b4c43beb4", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/d4c72e8f3cc1a1c3add8fe9d450bfc0b4c43beb4", "committedDate": "2020-01-13T15:46:44Z", "message": "one expected response per call"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4e818818f6db3c6c3a31c87fa8db361f6b63c69", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/f4e818818f6db3c6c3a31c87fa8db361f6b63c69", "committedDate": "2020-01-14T14:18:26Z", "message": "update dynamic value"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "227146197ab71ec9a5d9a79a95432ed640e1e7d0", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/227146197ab71ec9a5d9a79a95432ed640e1e7d0", "committedDate": "2020-01-14T14:26:55Z", "message": "fixed user inheritance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c05931f8f344679c0ff3c2e4fe6f7a206108d49b", "author": {"user": {"login": "SivaKanukolluQA", "name": "Siva Kanukollu"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/c05931f8f344679c0ff3c2e4fe6f7a206108d49b", "committedDate": "2020-01-15T15:12:31Z", "message": "RDM-7070: Added S-123_Test_Data_Base.td.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7f924132a289071ba031d8699339fe46772bd35", "author": {"user": {"login": "SivaKanukolluQA", "name": "Siva Kanukollu"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/f7f924132a289071ba031d8699339fe46772bd35", "committedDate": "2020-01-15T15:14:19Z", "message": "RDM-7070: extends S-123_Test_Data_Base."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0NTA1OTI1", "url": "https://github.com/hmcts/ccd-data-store-api/pull/729#pullrequestreview-344505925", "createdAt": "2020-01-17T11:01:17Z", "commit": {"oid": "f7f924132a289071ba031d8699339fe46772bd35"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06bd2e8197399c3fa45c81763861b56b3bc8cac0", "author": {"user": {"login": "bmcts", "name": "Ben Matthews"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/06bd2e8197399c3fa45c81763861b56b3bc8cac0", "committedDate": "2020-01-20T10:30:42Z", "message": "bump jackson databind version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1MjU4MDAw", "url": "https://github.com/hmcts/ccd-data-store-api/pull/729#pullrequestreview-345258000", "createdAt": "2020-01-20T11:54:32Z", "commit": {"oid": "06bd2e8197399c3fa45c81763861b56b3bc8cac0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "110f800423870184855028443c18e5645503772a", "author": {"user": {"login": "nitishsingla1234", "name": null}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/110f800423870184855028443c18e5645503772a", "committedDate": "2020-01-21T09:24:04Z", "message": "RDM-7070: Dummy checking to trigger the build."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4c1e458b0c0f49ba23cd603412d12916142ea15", "author": {"user": {"login": "nitishsingla1234", "name": null}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/a4c1e458b0c0f49ba23cd603412d12916142ea15", "committedDate": "2020-01-21T09:33:33Z", "message": "Merge branches 'RDM-6155_Functional_TA_Umbrella_Epic' and 'RDM-7070_AM_Operation_For_Get_Printable_Documents_FTA' of https://github.com/hmcts/ccd-data-store-api into RDM-7070_AM_Operation_For_Get_Printable_Documents_FTA"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c103d9453e36eb9711da61903cff977f9bc623f", "author": {"user": {"login": "nitishsingla1234", "name": null}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/2c103d9453e36eb9711da61903cff977f9bc623f", "committedDate": "2020-01-21T10:42:34Z", "message": "RDM-7070: Removed transfer encoding."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2664, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}