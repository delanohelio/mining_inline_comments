{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwMDgzMTUw", "number": 993, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNjowOTo1MFrOEI0_AQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQwODo1MjoyOVrOEJDmLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NjkyMTYxOnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-105/F-105.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNjowOTo1MFrOGpBvYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzoxOToxNlrOGpgkpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY3MzMxNQ==", "bodyText": "This will create a token before all scenarios - even before those that don't need a case to have been created.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r445673315", "createdAt": "2020-06-25T16:09:50Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE3ODQ2OA==", "bodyText": "Have moved it to each of the relevant scenarios.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446178468", "createdAt": "2020-06-26T13:19:16Z", "author": {"login": "mattnayler"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY3MzMxNQ=="}, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3OTMwMTk0OnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-105/F-105.feature", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQwODo0ODoxOFrOGpY8KA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzoyMTo0M1rOGpgpyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1MzQxNg==", "bodyText": "a call [to verify that Olawale hasn't received the role CR-1 over the case C1] ...", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446053416", "createdAt": "2020-06-26T08:48:18Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE3OTc4Nw==", "bodyText": "I have updated along with corresponding verify JSON.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446179787", "createdAt": "2020-06-26T13:21:43Z", "author": {"login": "mattnayler"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1MzQxNg=="}, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3OTMwNDEwOnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-105/F-105.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQwODo0ODo1NlrOGpY9bQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzoyMjoyOFrOGpgrfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1Mzc0MQ==", "bodyText": "a call [to verify that Olawale hasn't received the role CR-1 over the case C1] ...", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446053741", "createdAt": "2020-06-26T08:48:56Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-3\n+  @S-105.3\n+  Scenario: Must return an error response for a malformed Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a malformed case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.3_Get_Case_Roles_for_Case_C1].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE4MDIyMg==", "bodyText": "I have updated along with corresponding verify JSON.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446180222", "createdAt": "2020-06-26T13:22:28Z", "author": {"login": "mattnayler"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-3\n+  @S-105.3\n+  Scenario: Must return an error response for a malformed Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a malformed case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.3_Get_Case_Roles_for_Case_C1].", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1Mzc0MQ=="}, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3OTMwNTQyOnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-105/F-105.feature", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQwODo0OToyMlrOGpY-UQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQwODo0OToyMlrOGpY-UQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1Mzk2OQ==", "bodyText": "a call [to verify that Olawale hasn't received the role CR-1 over the case C1] ...", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446053969", "createdAt": "2020-06-26T08:49:22Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-3\n+  @S-105.3\n+  Scenario: Must return an error response for a malformed Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a malformed case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.3_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-4\n+  @S-105.4\n+  Scenario: Must return an error response for a missing User ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry but no User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.4_Get_Case_Roles_for_Case_C1].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 69}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3OTMwNjE4OnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-105/F-105.feature", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQwODo0OTozNVrOGpY-wQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzoyMzoyNFrOGpgtyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1NDA4MQ==", "bodyText": "a call [to verify that Olawale hasn't received the role CR-1 over the case C1] ...", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446054081", "createdAt": "2020-06-26T08:49:35Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-3\n+  @S-105.3\n+  Scenario: Must return an error response for a malformed Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a malformed case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.3_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-4\n+  @S-105.4\n+  Scenario: Must return an error response for a missing User ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry but no User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.4_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-5\n+  @S-105.5\n+  Scenario: Must return an error response for a malformed User ID Provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry and a malformed User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.5_Get_Case_Roles_for_Case_C1].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 85}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE4MDgwOA==", "bodyText": "I have updated along with corresponding verify JSON.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446180808", "createdAt": "2020-06-26T13:23:24Z", "author": {"login": "mattnayler"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-3\n+  @S-105.3\n+  Scenario: Must return an error response for a malformed Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a malformed case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.3_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-4\n+  @S-105.4\n+  Scenario: Must return an error response for a missing User ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry but no User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.4_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-5\n+  @S-105.5\n+  Scenario: Must return an error response for a malformed User ID Provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry and a malformed User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.5_Get_Case_Roles_for_Case_C1].", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1NDA4MQ=="}, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 85}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3OTMwOTcyOnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-105/F-105.feature", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQwODo1MDozOVrOGpZA2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzoyNDoxMlrOGpgvhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1NDYxNg==", "bodyText": "a call [to verify that Dil hasn't received the role CR-1 over the case C1] ...", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446054616", "createdAt": "2020-06-26T08:50:39Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-3\n+  @S-105.3\n+  Scenario: Must return an error response for a malformed Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a malformed case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.3_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-4\n+  @S-105.4\n+  Scenario: Must return an error response for a missing User ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry but no User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.4_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-5\n+  @S-105.5\n+  Scenario: Must return an error response for a malformed User ID Provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry and a malformed User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.5_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-6\n+  @S-105.6\n+  Scenario: Must return an error response when the request is made from an un-authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    And a user [Dil - with an active profile],\n+    And a user [Olawale - who is not a privileged user and is calling from an un-authorised application],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Olawale with the Case ID of C1 & Dil's User ID and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 100}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE4MTI1Mw==", "bodyText": "I have added it along with corresponding verify JSON.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446181253", "createdAt": "2020-06-26T13:24:12Z", "author": {"login": "mattnayler"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-3\n+  @S-105.3\n+  Scenario: Must return an error response for a malformed Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a malformed case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.3_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-4\n+  @S-105.4\n+  Scenario: Must return an error response for a missing User ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry but no User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.4_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-5\n+  @S-105.5\n+  Scenario: Must return an error response for a malformed User ID Provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry and a malformed User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.5_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-6\n+  @S-105.6\n+  Scenario: Must return an error response when the request is made from an un-authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    And a user [Dil - with an active profile],\n+    And a user [Olawale - who is not a privileged user and is calling from an un-authorised application],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Olawale with the Case ID of C1 & Dil's User ID and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1NDYxNg=="}, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 100}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3OTMxMTk0OnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-105/F-105.feature", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQwODo1MToxNVrOGpZCIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzoyNToxOFrOGpgyIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1NDk0Ng==", "bodyText": "a call [to verify that Olawale hasn't received the role CR-1 over the case C1] ...", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446054946", "createdAt": "2020-06-26T08:51:15Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-3\n+  @S-105.3\n+  Scenario: Must return an error response for a malformed Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a malformed case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.3_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-4\n+  @S-105.4\n+  Scenario: Must return an error response for a missing User ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry but no User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.4_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-5\n+  @S-105.5\n+  Scenario: Must return an error response for a malformed User ID Provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry and a malformed User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.5_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-6\n+  @S-105.6\n+  Scenario: Must return an error response when the request is made from an un-authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    And a user [Dil - with an active profile],\n+    And a user [Olawale - who is not a privileged user and is calling from an un-authorised application],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Olawale with the Case ID of C1 & Dil's User ID and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+\n+  # RDM-8606/8806 AC-7\n+  @S-105.7\n+  Scenario: Must return an error response for a malformed Case Role provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application by Dil, for 2 assignments each containing the Case ID of C1 and User ID of Olawale],\n+    And the request [contains a proper Case Role CR-1 in one entry and an improper Case Role in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.7_Get_Case_Roles_for_Case_C1].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 115}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE4MTkyMA==", "bodyText": "I have updated along with corresponding verify JSON.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446181920", "createdAt": "2020-06-26T13:25:18Z", "author": {"login": "mattnayler"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-3\n+  @S-105.3\n+  Scenario: Must return an error response for a malformed Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a malformed case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.3_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-4\n+  @S-105.4\n+  Scenario: Must return an error response for a missing User ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry but no User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.4_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-5\n+  @S-105.5\n+  Scenario: Must return an error response for a malformed User ID Provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry and a malformed User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.5_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-6\n+  @S-105.6\n+  Scenario: Must return an error response when the request is made from an un-authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    And a user [Dil - with an active profile],\n+    And a user [Olawale - who is not a privileged user and is calling from an un-authorised application],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Olawale with the Case ID of C1 & Dil's User ID and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+\n+  # RDM-8606/8806 AC-7\n+  @S-105.7\n+  Scenario: Must return an error response for a malformed Case Role provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application by Dil, for 2 assignments each containing the Case ID of C1 and User ID of Olawale],\n+    And the request [contains a proper Case Role CR-1 in one entry and an improper Case Role in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.7_Get_Case_Roles_for_Case_C1].", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1NDk0Ng=="}, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 115}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3OTMxMjgwOnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-105/F-105.feature", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQwODo1MTozM1rOGpZCsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzoyNjowNFrOGpgz5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1NTA5MQ==", "bodyText": "a call [to verify that Olawale hasn't received the role CR-1 over the case C1] ...", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446055091", "createdAt": "2020-06-26T08:51:33Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-3\n+  @S-105.3\n+  Scenario: Must return an error response for a malformed Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a malformed case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.3_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-4\n+  @S-105.4\n+  Scenario: Must return an error response for a missing User ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry but no User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.4_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-5\n+  @S-105.5\n+  Scenario: Must return an error response for a malformed User ID Provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry and a malformed User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.5_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-6\n+  @S-105.6\n+  Scenario: Must return an error response when the request is made from an un-authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    And a user [Dil - with an active profile],\n+    And a user [Olawale - who is not a privileged user and is calling from an un-authorised application],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Olawale with the Case ID of C1 & Dil's User ID and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+\n+  # RDM-8606/8806 AC-7\n+  @S-105.7\n+  Scenario: Must return an error response for a malformed Case Role provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application by Dil, for 2 assignments each containing the Case ID of C1 and User ID of Olawale],\n+    And the request [contains a proper Case Role CR-1 in one entry and an improper Case Role in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.7_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-8\n+  @S-105.8\n+  Scenario: Must return an error response for a missing Case Role\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application by Dil, for 2 assignments each containing the Case ID of C1 and User ID of Olawale],\n+    And the request [contains a proper Case Role CR-1 in one entry and no Case Role in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.8_Get_Case_Roles_for_Case_C1].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 131}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE4MjM3NQ==", "bodyText": "I have updated along with corresponding verify JSON.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446182375", "createdAt": "2020-06-26T13:26:04Z", "author": {"login": "mattnayler"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-3\n+  @S-105.3\n+  Scenario: Must return an error response for a malformed Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a malformed case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.3_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-4\n+  @S-105.4\n+  Scenario: Must return an error response for a missing User ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry but no User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.4_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-5\n+  @S-105.5\n+  Scenario: Must return an error response for a malformed User ID Provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry and a malformed User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.5_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-6\n+  @S-105.6\n+  Scenario: Must return an error response when the request is made from an un-authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    And a user [Dil - with an active profile],\n+    And a user [Olawale - who is not a privileged user and is calling from an un-authorised application],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Olawale with the Case ID of C1 & Dil's User ID and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+\n+  # RDM-8606/8806 AC-7\n+  @S-105.7\n+  Scenario: Must return an error response for a malformed Case Role provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application by Dil, for 2 assignments each containing the Case ID of C1 and User ID of Olawale],\n+    And the request [contains a proper Case Role CR-1 in one entry and an improper Case Role in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.7_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-8\n+  @S-105.8\n+  Scenario: Must return an error response for a missing Case Role\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application by Dil, for 2 assignments each containing the Case ID of C1 and User ID of Olawale],\n+    And the request [contains a proper Case Role CR-1 in one entry and no Case Role in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.8_Get_Case_Roles_for_Case_C1].", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1NTA5MQ=="}, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 131}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3OTMxNTY0OnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-105/F-105.feature", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQwODo1MjoyOVrOGpZEfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzoyNjoxMVrOGpg0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1NTU0OA==", "bodyText": "a call [to verify that Olawale hasn't received the role CR-1 over the case C1] ...", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446055548", "createdAt": "2020-06-26T08:52:29Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-3\n+  @S-105.3\n+  Scenario: Must return an error response for a malformed Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a malformed case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.3_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-4\n+  @S-105.4\n+  Scenario: Must return an error response for a missing User ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry but no User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.4_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-5\n+  @S-105.5\n+  Scenario: Must return an error response for a malformed User ID Provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry and a malformed User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.5_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-6\n+  @S-105.6\n+  Scenario: Must return an error response when the request is made from an un-authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    And a user [Dil - with an active profile],\n+    And a user [Olawale - who is not a privileged user and is calling from an un-authorised application],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Olawale with the Case ID of C1 & Dil's User ID and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+\n+  # RDM-8606/8806 AC-7\n+  @S-105.7\n+  Scenario: Must return an error response for a malformed Case Role provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application by Dil, for 2 assignments each containing the Case ID of C1 and User ID of Olawale],\n+    And the request [contains a proper Case Role CR-1 in one entry and an improper Case Role in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.7_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-8\n+  @S-105.8\n+  Scenario: Must return an error response for a missing Case Role\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application by Dil, for 2 assignments each containing the Case ID of C1 and User ID of Olawale],\n+    And the request [contains a proper Case Role CR-1 in one entry and no Case Role in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.8_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606 no list\n+  @S-105.9\n+  Scenario: Must return an error response for missing case_users list\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application by Dil, with no case_users supplied]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+\n+  # RDM-8606 empty list\n+  @S-105.10\n+  Scenario: Must return an error response for empty case_users list\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application by Dil, with an empty list of case_users supplied]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+\n+  # RDM-8606 case not found\n+  @S-105.11\n+  Scenario: Must return an error response when the case does not exist\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a well formed but non-existant case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.11_Get_Case_Roles_for_Case_C1].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 169}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE4MjQ1MQ==", "bodyText": "I have updated along with corresponding verify JSON.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/993#discussion_r446182451", "createdAt": "2020-06-26T13:26:11Z", "author": {"login": "mattnayler"}, "path": "src/aat/resources/features/F-105/F-105.feature", "diffHunk": "@@ -0,0 +1,201 @@\n+@F-105\n+Feature: F-105: Add Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+\n+  # RDM-8606/8806 AC-1\n+  @S-105.1\n+  Scenario: Must successfully assign a user and case role for a specific case by a user calling through/from an authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application, by Dil, with the Case ID of C1, User ID of Olawale and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned User and Role] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response has all the details as expected,\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.1_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-2\n+  @S-105.2\n+  Scenario: Must return an error response for a missing Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry but no case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.2_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-3\n+  @S-105.3\n+  Scenario: Must return an error response for a malformed Case ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a malformed case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.3_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-4\n+  @S-105.4\n+  Scenario: Must return an error response for a missing User ID\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry but no User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.4_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-5\n+  @S-105.5\n+  Scenario: Must return an error response for a malformed User ID Provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing the Case ID of C1 and a proper Case Role CR-1]\n+    And the request [contains the User ID of Olawale in one entry and a malformed User ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.5_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-6\n+  @S-105.6\n+  Scenario: Must return an error response when the request is made from an un-authorised application\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    And a user [Dil - with an active profile],\n+    And a user [Olawale - who is not a privileged user and is calling from an un-authorised application],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Olawale with the Case ID of C1 & Dil's User ID and a proper Case Role CR-1],\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+\n+  # RDM-8606/8806 AC-7\n+  @S-105.7\n+  Scenario: Must return an error response for a malformed Case Role provided\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application by Dil, for 2 assignments each containing the Case ID of C1 and User ID of Olawale],\n+    And the request [contains a proper Case Role CR-1 in one entry and an improper Case Role in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.7_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606/8806 AC-8\n+  @S-105.8\n+  Scenario: Must return an error response for a missing Case Role\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application by Dil, for 2 assignments each containing the Case ID of C1 and User ID of Olawale],\n+    And the request [contains a proper Case Role CR-1 in one entry and no Case Role in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.8_Get_Case_Roles_for_Case_C1].\n+\n+  # RDM-8606 no list\n+  @S-105.9\n+  Scenario: Must return an error response for missing case_users list\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application by Dil, with no case_users supplied]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+\n+  # RDM-8606 empty list\n+  @S-105.10\n+  Scenario: Must return an error response for empty case_users list\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    When a request is prepared with appropriate values,\n+    And the request [is made from an authorised application by Dil, with an empty list of case_users supplied]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+\n+  # RDM-8606 case not found\n+  @S-105.11\n+  Scenario: Must return an error response when the case does not exist\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a user [Dil - who is to add some case role assignment for a case],\n+    And a user [Olawale - with an active solicitor profile and valid User ID],\n+    And a successful call [by Richard to create a case - C1] as in [F-105_Prerequisite_Case_Creation_Call_for_Case_Assignment],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil for 2 assignments each containing Olawale's User ID and a proper Case Role CR-1]\n+    And the request [contains the Case ID of C1 in one entry and a well formed but non-existant case ID in the other]\n+    And it is submitted to call the [Add Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a negative response is received,\n+    And the response has all the details as expected.\n+    And a call [to verify Olawale's reception of the role CR-1 over the case C1] will get the expected response as in [S-105.11_Get_Case_Roles_for_Case_C1].", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA1NTU0OA=="}, "originalCommit": {"oid": "effda29ab197cbca7c68d51fd0c5e757ac2e2dc4"}, "originalPosition": 169}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3741, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}