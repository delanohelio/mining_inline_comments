{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3OTQyNTA1", "number": 989, "title": "RDM-8667 FTA", "bodyText": "JIRA link (if applicable)\nhttps://tools.hmcts.net/jira/browse/RDM-8844\nChange description\nFTA for rdm-8664\nDoes this PR introduce a breaking change? (check one with \"x\")\n[ ] Yes\n[X] No", "createdAt": "2020-06-22T13:26:38Z", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989", "merged": true, "mergeCommit": {"oid": "05fb5a567c566a1c487772a7b8d6f8666be0075e"}, "closed": true, "closedAt": "2020-07-23T23:08:22Z", "author": {"login": "Olawale"}, "timelineItems": {"totalCount": 43, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcy4aWxAH2gAyNDM3OTQyNTA1OmQxZmY3OTQ2ZmU3MjlkNTBhNTRhZWMzMTM2YmU1MmY4OGNiZmJjYjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3zeyNAH2gAyNDM3OTQyNTA1OmIwMmUwOWRmNDQ0Mzc0ZmI0NDU2Yjc1MjM2NDBkZWUzMzUzNDViZjQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d1ff7946fe729d50a54aec3136be52f88cbfbcb8", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/d1ff7946fe729d50a54aec3136be52f88cbfbcb8", "committedDate": "2020-07-08T11:05:46Z", "message": "Tests for Organistaion Policy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28cf497f57c6dfb84fe1c71bbc340003afc7ab0d", "author": {"user": {"login": "MSancaktutar", "name": null}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/28cf497f57c6dfb84fe1c71bbc340003afc7ab0d", "committedDate": "2020-07-08T11:05:46Z", "message": "simple improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ad4d418b61af4772040c476d9bcb6a4f732d7a1", "author": {"user": {"login": "MSancaktutar", "name": null}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/3ad4d418b61af4772040c476d9bcb6a4f732d7a1", "committedDate": "2020-07-08T11:05:46Z", "message": "format test data files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77e8ec45682e9691b13c3feae43b8817bc6934a3", "author": {"user": {"login": "MSancaktutar", "name": null}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/77e8ec45682e9691b13c3feae43b8817bc6934a3", "committedDate": "2020-07-08T11:05:46Z", "message": "fix operation name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0af1950ab0d88f2ef00d9e36a3fe4bfc6defd717", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/0af1950ab0d88f2ef00d9e36a3fe4bfc6defd717", "committedDate": "2020-07-08T11:07:00Z", "message": "Updated Befta version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2b59650f6848d4fd690c1fae9150451fbbff640", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/e2b59650f6848d4fd690c1fae9150451fbbff640", "committedDate": "2020-07-08T11:09:24Z", "message": "Updated befta version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e6db9552da5ec471dfd0b3807ba62e96ca04a74", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/1e6db9552da5ec471dfd0b3807ba62e96ca04a74", "committedDate": "2020-07-08T11:09:24Z", "message": "Updated test data"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "341744e0f202cb72fbe2abb4ea9710e0d1add093", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/341744e0f202cb72fbe2abb4ea9710e0d1add093", "committedDate": "2020-07-08T11:09:24Z", "message": "Fix token"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2b3e80d1cf6117a0ac6c69222837c7146175838", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/e2b3e80d1cf6117a0ac6c69222837c7146175838", "committedDate": "2020-07-08T11:09:24Z", "message": "Revert change to token retrieval"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab6e0ccc16c735b2aeb5f42862fb23dfaa705523", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/ab6e0ccc16c735b2aeb5f42862fb23dfaa705523", "committedDate": "2020-07-08T11:37:18Z", "message": "Renamed files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce82fd9c51a97667326157448c928141377f2c76", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/ce82fd9c51a97667326157448c928141377f2c76", "committedDate": "2020-07-13T12:02:11Z", "message": "Added more scenarios"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "48bff0b4575d61ba4b216ac56aacad25c5c90380", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/48bff0b4575d61ba4b216ac56aacad25c5c90380", "committedDate": "2020-06-24T21:15:21Z", "message": "Revert change to token retrieval"}, "afterCommit": {"oid": "ce82fd9c51a97667326157448c928141377f2c76", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/ce82fd9c51a97667326157448c928141377f2c76", "committedDate": "2020-07-13T12:02:11Z", "message": "Added more scenarios"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f639f38d82350e5d2352a3229317c96dfed1bf9", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/8f639f38d82350e5d2352a3229317c96dfed1bf9", "committedDate": "2020-07-13T14:17:07Z", "message": "Use befta version with master def fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "613dab5ef5d2e934fc04d19153afda859b96161a", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/613dab5ef5d2e934fc04d19153afda859b96161a", "committedDate": "2020-07-13T14:18:18Z", "message": "Merge branch 'develop' into fta_8667"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac3db56d052ce1e45cf09c73285a9f7df88c57a1", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/ac3db56d052ce1e45cf09c73285a9f7df88c57a1", "committedDate": "2020-07-13T22:33:13Z", "message": "Remove feature name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e801fac79fe90a7fffc3fcd2d6e1ef06d105836e", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/e801fac79fe90a7fffc3fcd2d6e1ef06d105836e", "committedDate": "2020-07-13T22:33:50Z", "message": "Merge branch 'fta_8667' of github.com:hmcts/ccd-data-store-api into fta_8667"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83e9a63cb04bb38b0d9b5314634c5d1db02ef15d", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/83e9a63cb04bb38b0d9b5314634c5d1db02ef15d", "committedDate": "2020-07-14T08:44:51Z", "message": "Ignored failing test scenario"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/90d12335cd1e1d319a266a068b610e7ef3940ce6", "committedDate": "2020-07-14T08:50:52Z", "message": "Fixed broken json"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTY3Njkz", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448167693", "createdAt": "2020-07-14T14:35:23Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDozNToyNFrOGxWl_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDozNToyNFrOGxWl_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwMzU4Mg==", "bodyText": "More ideally, we could probably apply a verification step to get the details of the case just created, using a ste to call a relevant api operation. Not a must, though, for just practical purposes.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#discussion_r454403582", "createdAt": "2020-07-14T14:35:24Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-107/F-107.feature", "diffHunk": "@@ -0,0 +1,53 @@\n+@F-107\n+Feature: F-107: Organisation Policies on Cases\n+\n+    Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+\n+    @S-925\n+    Scenario: must successfully create a case with a case type containing some OrganisationPolicy fields\n+      Given a user with [an active profile in CCD]\n+      And a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with all correct values]\n+      And it is submitted to call the [Submit Case Creation as Caseworker] operation of [CCD Data Store]\n+      Then a positive response is received\n+      And the response has all other details as expected\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTY4OTU5", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448168959", "createdAt": "2020-07-14T14:36:39Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDozNjozOVrOGxWqQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDozNjozOVrOGxWqQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwNDY3NQ==", "bodyText": "Repeated Givens", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#discussion_r454404675", "createdAt": "2020-07-14T14:36:39Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-107/F-107.feature", "diffHunk": "@@ -0,0 +1,53 @@\n+@F-107\n+Feature: F-107: Organisation Policies on Cases\n+\n+    Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+\n+    @S-925\n+    Scenario: must successfully create a case with a case type containing some OrganisationPolicy fields\n+      Given a user with [an active profile in CCD]\n+      And a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with all correct values]\n+      And it is submitted to call the [Submit Case Creation as Caseworker] operation of [CCD Data Store]\n+      Then a positive response is received\n+      And the response has all other details as expected\n+\n+    @S-927\n+    Scenario: must successfully update OrganisationPolicy fields on a case\n+      Given a user with [an active profile in CCD]\n+      Given a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTcwMzQx", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448170341", "createdAt": "2020-07-14T14:38:06Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDozODowNlrOGxWugA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDozODowNlrOGxWugA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwNTc2MA==", "bodyText": "Token creation for subsequent case creation can be skipped in the scenarios, by following a naming convention for the token creation data ids, or (as of ver 3.6.0) by specifying a prerequisite in the test data file of depending call.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#discussion_r454405760", "createdAt": "2020-07-14T14:38:06Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-107/F-107.feature", "diffHunk": "@@ -0,0 +1,53 @@\n+@F-107\n+Feature: F-107: Organisation Policies on Cases\n+\n+    Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+\n+    @S-925\n+    Scenario: must successfully create a case with a case type containing some OrganisationPolicy fields\n+      Given a user with [an active profile in CCD]\n+      And a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with all correct values]\n+      And it is submitted to call the [Submit Case Creation as Caseworker] operation of [CCD Data Store]\n+      Then a positive response is received\n+      And the response has all other details as expected\n+\n+    @S-927\n+    Scenario: must successfully update OrganisationPolicy fields on a case\n+      Given a user with [an active profile in CCD]\n+      Given a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTcxODY4", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448171868", "createdAt": "2020-07-14T14:39:38Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDozOTozOFrOGxWzCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDozOTozOFrOGxWzCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwNjkyMg==", "bodyText": "This one, however, is good to stay here because it is essential to the flow of the functionality.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#discussion_r454406922", "createdAt": "2020-07-14T14:39:38Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-107/F-107.feature", "diffHunk": "@@ -0,0 +1,53 @@\n+@F-107\n+Feature: F-107: Organisation Policies on Cases\n+\n+    Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+\n+    @S-925\n+    Scenario: must successfully create a case with a case type containing some OrganisationPolicy fields\n+      Given a user with [an active profile in CCD]\n+      And a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with all correct values]\n+      And it is submitted to call the [Submit Case Creation as Caseworker] operation of [CCD Data Store]\n+      Then a positive response is received\n+      And the response has all other details as expected\n+\n+    @S-927\n+    Scenario: must successfully update OrganisationPolicy fields on a case\n+      Given a user with [an active profile in CCD]\n+      Given a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      And a case that has just been created as in [S-927_Create_Case_Data]\n+      And a successful call [to get an event token for the case just created] as in [S-927-Prerequisite]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTcyODM2", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448172836", "createdAt": "2020-07-14T14:40:35Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0MDozNlrOGxW18Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0MDozNlrOGxW18Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwNzY2NQ==", "bodyText": "any chance we could be more specific as to what is incorrect in those values? (like, maybe, for example, 'a case role different from the default one in the policy definition')", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#discussion_r454407665", "createdAt": "2020-07-14T14:40:36Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-107/F-107.feature", "diffHunk": "@@ -0,0 +1,53 @@\n+@F-107\n+Feature: F-107: Organisation Policies on Cases\n+\n+    Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+\n+    @S-925\n+    Scenario: must successfully create a case with a case type containing some OrganisationPolicy fields\n+      Given a user with [an active profile in CCD]\n+      And a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with all correct values]\n+      And it is submitted to call the [Submit Case Creation as Caseworker] operation of [CCD Data Store]\n+      Then a positive response is received\n+      And the response has all other details as expected\n+\n+    @S-927\n+    Scenario: must successfully update OrganisationPolicy fields on a case\n+      Given a user with [an active profile in CCD]\n+      Given a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      And a case that has just been created as in [S-927_Create_Case_Data]\n+      And a successful call [to get an event token for the case just created] as in [S-927-Prerequisite]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with all correct values]\n+      And it is submitted to call the [submit event for an existing case (V2)] operation of [CCD data store]\n+      Then a positive response is received\n+      And the response has all other details as expected\n+\n+    @S-926\n+    Scenario: must return e negative response for a case creation attempt with an invalid data in some OrganisationPolicy fields\n+      Given a user with [an active profile in CCD]\n+      And a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with incorrect values]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTc1MDEz", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448175013", "createdAt": "2020-07-14T14:42:50Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0Mjo1MFrOGxW8dQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0Mjo1MFrOGxW8dQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwOTMzMw==", "bodyText": "Could you please mention the scenario number to enable in that ticket, to avoid forgetting.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#discussion_r454409333", "createdAt": "2020-07-14T14:42:50Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-107/F-107.feature", "diffHunk": "@@ -0,0 +1,53 @@\n+@F-107\n+Feature: F-107: Organisation Policies on Cases\n+\n+    Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+\n+    @S-925\n+    Scenario: must successfully create a case with a case type containing some OrganisationPolicy fields\n+      Given a user with [an active profile in CCD]\n+      And a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with all correct values]\n+      And it is submitted to call the [Submit Case Creation as Caseworker] operation of [CCD Data Store]\n+      Then a positive response is received\n+      And the response has all other details as expected\n+\n+    @S-927\n+    Scenario: must successfully update OrganisationPolicy fields on a case\n+      Given a user with [an active profile in CCD]\n+      Given a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      And a case that has just been created as in [S-927_Create_Case_Data]\n+      And a successful call [to get an event token for the case just created] as in [S-927-Prerequisite]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with all correct values]\n+      And it is submitted to call the [submit event for an existing case (V2)] operation of [CCD data store]\n+      Then a positive response is received\n+      And the response has all other details as expected\n+\n+    @S-926\n+    Scenario: must return e negative response for a case creation attempt with an invalid data in some OrganisationPolicy fields\n+      Given a user with [an active profile in CCD]\n+      And a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with incorrect values]\n+      And it is submitted to call the [Submit Case Creation as Caseworker] operation of [CCD Data Store]\n+      Then a negative response is received\n+      And the response has all other details as expected\n+\n+    @S-928 @Ignore # Enable test when RDM-8993 is fixed.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTc1NzQ1", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448175745", "createdAt": "2020-07-14T14:43:40Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0Mzo0MFrOGxW-hQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0Mzo0MFrOGxW-hQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQwOTg2MQ==", "bodyText": "this line could be removed as described in a similar scenario.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#discussion_r454409861", "createdAt": "2020-07-14T14:43:40Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-107/F-107.feature", "diffHunk": "@@ -0,0 +1,53 @@\n+@F-107\n+Feature: F-107: Organisation Policies on Cases\n+\n+    Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+\n+    @S-925\n+    Scenario: must successfully create a case with a case type containing some OrganisationPolicy fields\n+      Given a user with [an active profile in CCD]\n+      And a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with all correct values]\n+      And it is submitted to call the [Submit Case Creation as Caseworker] operation of [CCD Data Store]\n+      Then a positive response is received\n+      And the response has all other details as expected\n+\n+    @S-927\n+    Scenario: must successfully update OrganisationPolicy fields on a case\n+      Given a user with [an active profile in CCD]\n+      Given a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      And a case that has just been created as in [S-927_Create_Case_Data]\n+      And a successful call [to get an event token for the case just created] as in [S-927-Prerequisite]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with all correct values]\n+      And it is submitted to call the [submit event for an existing case (V2)] operation of [CCD data store]\n+      Then a positive response is received\n+      And the response has all other details as expected\n+\n+    @S-926\n+    Scenario: must return e negative response for a case creation attempt with an invalid data in some OrganisationPolicy fields\n+      Given a user with [an active profile in CCD]\n+      And a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with incorrect values]\n+      And it is submitted to call the [Submit Case Creation as Caseworker] operation of [CCD Data Store]\n+      Then a negative response is received\n+      And the response has all other details as expected\n+\n+    @S-928 @Ignore # Enable test when RDM-8993 is fixed.\n+    Scenario: must return e negative response for a case update attempt with an invalid data in some OrganisationPolicy fields\n+      Given a user with [an active profile in CCD]\n+      Given a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "originalPosition": 42}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTc2MDIy", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448176022", "createdAt": "2020-07-14T14:43:57Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0Mzo1N1rOGxW_XA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0Mzo1N1rOGxW_XA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxMDA3Ng==", "bodyText": "more specificlly?", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#discussion_r454410076", "createdAt": "2020-07-14T14:43:57Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-107/F-107.feature", "diffHunk": "@@ -0,0 +1,53 @@\n+@F-107\n+Feature: F-107: Organisation Policies on Cases\n+\n+    Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+\n+    @S-925\n+    Scenario: must successfully create a case with a case type containing some OrganisationPolicy fields\n+      Given a user with [an active profile in CCD]\n+      And a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with all correct values]\n+      And it is submitted to call the [Submit Case Creation as Caseworker] operation of [CCD Data Store]\n+      Then a positive response is received\n+      And the response has all other details as expected\n+\n+    @S-927\n+    Scenario: must successfully update OrganisationPolicy fields on a case\n+      Given a user with [an active profile in CCD]\n+      Given a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      And a case that has just been created as in [S-927_Create_Case_Data]\n+      And a successful call [to get an event token for the case just created] as in [S-927-Prerequisite]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with all correct values]\n+      And it is submitted to call the [submit event for an existing case (V2)] operation of [CCD data store]\n+      Then a positive response is received\n+      And the response has all other details as expected\n+\n+    @S-926\n+    Scenario: must return e negative response for a case creation attempt with an invalid data in some OrganisationPolicy fields\n+      Given a user with [an active profile in CCD]\n+      And a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with incorrect values]\n+      And it is submitted to call the [Submit Case Creation as Caseworker] operation of [CCD Data Store]\n+      Then a negative response is received\n+      And the response has all other details as expected\n+\n+    @S-928 @Ignore # Enable test when RDM-8993 is fixed.\n+    Scenario: must return e negative response for a case update attempt with an invalid data in some OrganisationPolicy fields\n+      Given a user with [an active profile in CCD]\n+      Given a successful call [to create a token for case creation] as in [F-107_Case_Data_Create_Token_Creation]\n+      And a case that has just been created as in [S-927_Create_Case_Data]\n+      And a successful call [to get an event token for the case just created] as in [S-927-Prerequisite]\n+      When a request is prepared with appropriate values\n+      And the request [contains some OrganisationPolicy fields with incorrect values]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTc5NzA4", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448179708", "createdAt": "2020-07-14T14:47:47Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0Nzo0N1rOGxXLfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0Nzo0N1rOGxXLfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxMzE4MQ==", "bodyText": "[scenarioContext][parentContext][childContexts] --> [scenarioContext][siblingContexts]", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#discussion_r454413181", "createdAt": "2020-07-14T14:47:47Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-107/S-927-Prerequisite.td.json", "diffHunk": "@@ -0,0 +1,43 @@\n+{\n+  \"title\": \"should create an event token for correct inputs\",\n+  \"_guid_\": \"S-927-Prerequisite\",\n+  \"productName\": \"CCD Data Store\",\n+  \"operationName\": \"Retrieve a create token\",\n+  \"method\": \"GET\",\n+  \"uri\": \"/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/{cid}/event-triggers/{etid}/token\",\n+  \"specs\": [\n+    \"to get an event token for the case just created\"\n+  ],\n+\n+  \"users\": {\n+    \"invokingUser\": {\n+      \"username\": \"befta.caseworker.caa@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    }\n+  },\n+\n+  \"request\": {\n+    \"headers\": {\n+      \"_extends_\": \"Common_Request_Headers\"\n+    },\n+    \"pathVariables\": {\n+      \"uid\": \"[[DEFAULT_AUTO_VALUE]]\",\n+      \"jid\": \"BEFTA_MASTER\",\n+      \"ctid\": \"FT_MasterCaseType\",\n+      \"cid\": \"${[scenarioContext][parentContext][childContexts][S-927_Create_Case_Data][testData][actualResponse][body][id]}\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTgwMTU1", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448180155", "createdAt": "2020-07-14T14:48:16Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0ODoxNlrOGxXMyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0ODoxNlrOGxXMyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxMzUxMg==", "bodyText": "please e-use common 201 response object, and remove redundantly repeated lines.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#discussion_r454413512", "createdAt": "2020-07-14T14:48:16Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-107/S-927.td.json", "diffHunk": "@@ -0,0 +1,74 @@\n+{\n+  \"title\": \"should create event successfully for an existing case\",\n+  \"_guid_\": \"S-927\",\n+  \"_extends_\": \"F-107_Test_Data_Update\",\n+\n+  \"specs\": [\n+    \"an active profile in CCD\",\n+    \"contains some OrganisationPolicy fields with all correct values\"\n+  ],\n+  \"request\": {\n+    \"pathVariables\": {\n+      \"cid\": \"${[scenarioContext][childContexts][S-927_Create_Case_Data][testData][actualResponse][body][id]}\"\n+    },\n+    \"body\": {\n+      \"event_token\": \"${[scenarioContext][childContexts][S-927-Prerequisite][testData][actualResponse][body][token]}\"\n+    }\n+  },\n+  \"expectedResponse\": {\n+    \"responseCode\": 201,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTgyOTE3", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448182917", "createdAt": "2020-07-14T14:51:06Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo1MTowN1rOGxXVlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo1MTowN1rOGxXVlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxNTc2NQ==", "bodyText": "The specific values for many of [[ANYTHING_PRESENT]] placeholders should better be checked in exact terms. This is particularly required at least for values in OrganisationPolicy fields and their sub-fields.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#discussion_r454415765", "createdAt": "2020-07-14T14:51:07Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-107/S-927_Create_Case_Data.td.json", "diffHunk": "@@ -0,0 +1,104 @@\n+{\n+\t\"_guid_\": \"S-927_Create_Case_Data\",\n+  \"_extends_\": \"F-107_Test_Data_Base\",\n+  \"request\": {\n+    \"body\": {\n+      \"event_token\": \"${[scenarioContext][siblingContexts][F-107_Case_Data_Create_Token_Creation][testData][actualResponse][body][token]}\"\n+    }\n+  },\n+\n+  \"expectedResponse\": {\n+    \"_extends_\": \"Common_201_Response\",\n+    \"headers\": {\n+      \"Keep-Alive\": \"[[ANYTHING_PRESENT]]\",\n+      \"Connection\": \"[[ANYTHING_PRESENT]]\",\n+      \"Transfer-Encoding\" : \"[[ANYTHING_PRESENT]]\",\n+      \"vary\" : \"[[ANYTHING_PRESENT]]\",\n+      \"Content-Encoding\": \"[[ANYTHING_PRESENT]]\"\n+    },\n+    \"body\": {\n+      \"id\": \"[[ANYTHING_PRESENT]]\",\n+      \"jurisdiction\": \"BEFTA_MASTER\",\n+      \"case_type_id\": \"FT_MasterCaseType\",\n+      \"created_date\": \"[[ANYTHING_PRESENT]]\",\n+      \"last_modified\": \"[[ANYTHING_PRESENT]]\",\n+      \"last_state_modified_date\": \"[[ANYTHING_PRESENT]]\",\n+      \"state\": \"CaseCreated\",\n+      \"version\": \"[[ANYTHING_PRESENT]]\",\n+      \"security_classification\": \"PUBLIC\",\n+      \"security_classifications\": \"[[ANYTHING_PRESENT]]\",\n+      \"case_data\": {\n+        \"AddressField\": {\n+          \"AddressLine1\": \"[[ANYTHING_PRESENT]]\",\n+          \"AddressLine2\": \"[[ANYTHING_PRESENT]]\",\n+          \"AddressLine3\": \"[[ANYTHING_PRESENT]]\",\n+          \"Country\": \"[[ANYTHING_PRESENT]]\"\n+        },\n+        \"TextField\": \"[[ANYTHING_PRESENT]]\",\n+        \"OrganisationPolicyField2\": {\n+          \"OrgPolicyCaseAssignedRole\": \"[Defendant]\",\n+          \"OrgPolicyReference\": \"ref\",\n+          \"Organisation\": {\n+            \"OrganisationID\": \"[[ANYTHING_PRESENT]]\",\n+            \"OrganisationName\": \"[[ANYTHING_PRESENT]]\"\n+          }\n+        },\n+        \"TextAreaField\": \"[[ANYTHING_PRESENT]]\",\n+        \"OrganisationPolicyField1\": {\n+          \"OrgPolicyCaseAssignedRole\": \"[Claimant]\",\n+          \"OrgPolicyReference\": \"ref\",\n+          \"Organisation\": {\n+            \"OrganisationID\": \"[[ANYTHING_PRESENT]]\",\n+            \"OrganisationName\": \"[[ANYTHING_PRESENT]]\"\n+          }\n+        }\n+      },", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "originalPosition": 55}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTg0MjY2", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448184266", "createdAt": "2020-07-14T14:52:28Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo1MjoyOFrOGxXZnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo1MjoyOFrOGxXZnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxNjc5Nw==", "bodyText": "Title:   \"title\": \"should create event successfully for an existing case\",\nneeds to be corrected to a consistent one.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#discussion_r454416797", "createdAt": "2020-07-14T14:52:28Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-107/S-928.td.json", "diffHunk": "@@ -0,0 +1,41 @@\n+{\n+  \"title\": \"should create event successfully for an existing case\",\n+  \"_guid_\": \"S-928\",\n+  \"_extends_\": \"F-107_Test_Data_Update\",\n+\n+  \"specs\": [\n+    \"an active profile in CCD\",\n+    \"contains some OrganisationPolicy fields with incorrect values\"\n+  ],\n+\n+  \"request\": {\n+    \"pathVariables\": {\n+      \"cid\": \"${[scenarioContext][childContexts][S-927_Create_Case_Data][testData][actualResponse][body][id]}\"\n+    },\n+    \"body\": {\n+      \"data\": {\n+        \"OrganisationPolicyField1\": {\n+          \"OrgPolicyCaseAssignedRole\": \"[Invalid]\"\n+          },\n+        \"OrganisationPolicyField2\": {\n+          \"OrgPolicyCaseAssignedRole\": \"[Invalid]\"\n+          }\n+        },\n+      \"event_token\": \"${[scenarioContext][childContexts][S-927-Prerequisite][testData][actualResponse][body][token]}\"\n+    }\n+  },\n+  \"expectedResponse\": {\n+    \"_extends_\": \"Common_422_Response\",\n+    \"body\" : {\n+      \"exception\" : \"uk.gov.hmcts.ccd.endpoint.exceptions.ValidationException\",\n+      \"timestamp\" : \"[[ANYTHING_PRESENT]]\",\n+      \"status\" : 422,\n+      \"error\" : \"Unprocessable Entity\",\n+      \"message\" : \"[[ANYTHING_PRESENT]]\",\n+      \"path\" : \"[[ANYTHING_PRESENT]]\",\n+      \"details\" : null,\n+      \"callbackErrors\" : null,\n+      \"callbackWarnings\" : null\n+    }\n+  }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "originalPosition": 41}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTg2NTI2", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448186526", "createdAt": "2020-07-14T14:54:48Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo1NDo0OVrOGxXgsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo1NDo0OVrOGxXgsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxODYwOA==", "bodyText": "I would actually expect an http-400 for this kind of a situation. Could we check with it's developer why this was implemented as 422? Was there anything that had to be kept consistent with? Without a strong rationale to justify, I'd advise an http-400 for this, and therefore this scenario would be revealing a defect, in fact.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#discussion_r454418608", "createdAt": "2020-07-14T14:54:49Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-107/S-928.td.json", "diffHunk": "@@ -0,0 +1,41 @@\n+{\n+  \"title\": \"should create event successfully for an existing case\",\n+  \"_guid_\": \"S-928\",\n+  \"_extends_\": \"F-107_Test_Data_Update\",\n+\n+  \"specs\": [\n+    \"an active profile in CCD\",\n+    \"contains some OrganisationPolicy fields with incorrect values\"\n+  ],\n+\n+  \"request\": {\n+    \"pathVariables\": {\n+      \"cid\": \"${[scenarioContext][childContexts][S-927_Create_Case_Data][testData][actualResponse][body][id]}\"\n+    },\n+    \"body\": {\n+      \"data\": {\n+        \"OrganisationPolicyField1\": {\n+          \"OrgPolicyCaseAssignedRole\": \"[Invalid]\"\n+          },\n+        \"OrganisationPolicyField2\": {\n+          \"OrgPolicyCaseAssignedRole\": \"[Invalid]\"\n+          }\n+        },\n+      \"event_token\": \"${[scenarioContext][childContexts][S-927-Prerequisite][testData][actualResponse][body][token]}\"\n+    }\n+  },\n+  \"expectedResponse\": {\n+    \"_extends_\": \"Common_422_Response\",\n+    \"body\" : {\n+      \"exception\" : \"uk.gov.hmcts.ccd.endpoint.exceptions.ValidationException\",\n+      \"timestamp\" : \"[[ANYTHING_PRESENT]]\",\n+      \"status\" : 422,\n+      \"error\" : \"Unprocessable Entity\",\n+      \"message\" : \"[[ANYTHING_PRESENT]]\",\n+      \"path\" : \"[[ANYTHING_PRESENT]]\",\n+      \"details\" : null,\n+      \"callbackErrors\" : null,\n+      \"callbackWarnings\" : null", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTg3NTk1", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448187595", "createdAt": "2020-07-14T14:55:54Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTk1Nzgw", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-448195780", "createdAt": "2020-07-14T15:04:22Z", "commit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNTowNDoyMlrOGxX9cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNTowNDoyMlrOGxX9cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQyNTk3MA==", "bodyText": "3.6.1 is now ready. please use that one.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#discussion_r454425970", "createdAt": "2020-07-14T15:04:22Z", "author": {"login": "MSancaktutar"}, "path": "build.gradle", "diffHunk": "@@ -278,7 +278,7 @@ dependencies {\n     }\n     compile 'org.jooq:jool-java-8:0.9.14'\n \n-    testCompile group: 'uk.gov.hmcts', name: 'befta-fw', version: '3.6.0'\n+    testCompile group: 'uk.gov.hmcts', name: 'befta-fw', version: '3.6.0-master-def-fix'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90d12335cd1e1d319a266a068b610e7ef3940ce6"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5c9e130bf38fcda942517a0cec7587f8606342d", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/b5c9e130bf38fcda942517a0cec7587f8606342d", "committedDate": "2020-07-20T14:48:09Z", "message": "Merge develop into branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5ef257c9227614ef20c9cbd3d7832cfbacf9490", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/d5ef257c9227614ef20c9cbd3d7832cfbacf9490", "committedDate": "2020-07-20T20:31:08Z", "message": "Refactored tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "257b044c66bdd64fbf48931dd90d1d08973c44df", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/257b044c66bdd64fbf48931dd90d1d08973c44df", "committedDate": "2020-07-21T10:51:57Z", "message": "Refactored test to check 400 validation error, not 422"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8dd14469c1ac25a616a18b5bb0e47e39c61860e", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/e8dd14469c1ac25a616a18b5bb0e47e39c61860e", "committedDate": "2020-07-21T16:04:11Z", "message": "Removed redundant token creation step"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3cf9e18020ab39b8b7c35d3afa5fc038ae62e483", "author": {"user": {"login": "MSancaktutar", "name": null}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/3cf9e18020ab39b8b7c35d3afa5fc038ae62e483", "committedDate": "2020-07-23T01:42:23Z", "message": "Merge branch 'develop' into fta_8667"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45d91f1743d4cee4cdbedb6d036a2460c3872446", "author": {"user": {"login": "MSancaktutar", "name": null}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/45d91f1743d4cee4cdbedb6d036a2460c3872446", "committedDate": "2020-07-23T02:20:00Z", "message": "use latest fw version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzODAxNjMz", "url": "https://github.com/hmcts/ccd-data-store-api/pull/989#pullrequestreview-453801633", "createdAt": "2020-07-23T02:21:19Z", "commit": {"oid": "45d91f1743d4cee4cdbedb6d036a2460c3872446"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f13b173e97fbc6a7157511ad874f89678a537ca7", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/f13b173e97fbc6a7157511ad874f89678a537ca7", "committedDate": "2020-07-23T15:33:38Z", "message": "Merge branch 'develop' into fta_8667"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d1de2e891784abac617e3f3c937074b5360d4ec", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/0d1de2e891784abac617e3f3c937074b5360d4ec", "committedDate": "2020-07-23T17:38:35Z", "message": "Resolved conflicting file names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b02e09df444374fb4456b7523640dee335345bf4", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/b02e09df444374fb4456b7523640dee335345bf4", "committedDate": "2020-07-23T18:10:42Z", "message": "Corrected guid"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2795, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}