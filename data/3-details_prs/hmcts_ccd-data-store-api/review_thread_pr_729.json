{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwMDU4ODIy", "number": 729, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNDo0MjozNVrODXiwew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNDo0MjozNVrODXiwew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI2MDEzMzA3OnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-032/F-032.feature", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNDo0MjozNVrOFc5Hog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNjowNTo0NlrOFc77cQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg0MDI5MA==", "bodyText": "get printable documents operation for existing end point (/jurisdictions/{jid}/case-types/{ctid}/documents ) returning one document while expectation is 7 documents. Scenario is failing due to this.\nIt might be possibility that you are not hitting the right endpoint.Please check correct endpoint again.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/729#discussion_r365840290", "createdAt": "2020-01-13T14:42:35Z", "author": {"login": "dharmendra8186"}, "path": "src/aat/resources/features/F-032/F-032.feature", "diffHunk": "@@ -55,3 +55,19 @@ Feature: F-032: Get printable documents\n     Then a negative response is received\n     And the response [contains a HTTP 404 Not Found]\n     And the response has all other details as expected\n+\n+  @S-123\n+  Scenario: must return successfully all and only the respective documents with read access for solicitors\n+    Given a user with [an active solicitor 1 profile in CCD with read permissions on limited documents for a given case type]\n+    And a user with [another active solicitor 2 profile in CCD with all permissions on all documents for a given case type]\n+    And a user with [another active solicitor 3 profile in CCD with read permissions on different limited documents for a given case type]\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+    And another successful call [by a privileged user with full ACL to create a case of this case type] as in [Befta_Jurisdiction2_Default_Full_Case_Creation_Data]\n+    When a request is prepared with appropriate values\n+    And the request [is made by solicitor 2 who just created the case]\n+    And it is submitted to call the [get printable documents] operation of [CCD Data Store]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70fc062596e3df0ff6b7b2e2bb0398959c82e921"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg1ODA5NA==", "bodyText": "There is only one endpoint we are testing in this feature file and it is hitting that one. The test is failing because of issues with the implementation of the endpoint, but fixing that is out of scope for this PR", "url": "https://github.com/hmcts/ccd-data-store-api/pull/729#discussion_r365858094", "createdAt": "2020-01-13T15:15:40Z", "author": {"login": "bmcts"}, "path": "src/aat/resources/features/F-032/F-032.feature", "diffHunk": "@@ -55,3 +55,19 @@ Feature: F-032: Get printable documents\n     Then a negative response is received\n     And the response [contains a HTTP 404 Not Found]\n     And the response has all other details as expected\n+\n+  @S-123\n+  Scenario: must return successfully all and only the respective documents with read access for solicitors\n+    Given a user with [an active solicitor 1 profile in CCD with read permissions on limited documents for a given case type]\n+    And a user with [another active solicitor 2 profile in CCD with all permissions on all documents for a given case type]\n+    And a user with [another active solicitor 3 profile in CCD with read permissions on different limited documents for a given case type]\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+    And another successful call [by a privileged user with full ACL to create a case of this case type] as in [Befta_Jurisdiction2_Default_Full_Case_Creation_Data]\n+    When a request is prepared with appropriate values\n+    And the request [is made by solicitor 2 who just created the case]\n+    And it is submitted to call the [get printable documents] operation of [CCD Data Store]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg0MDI5MA=="}, "originalCommit": {"oid": "70fc062596e3df0ff6b7b2e2bb0398959c82e921"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg4NjMyMQ==", "bodyText": "After further investigation, the single document URL returned by the endpoint is correct and the test data has been updated to reflect this", "url": "https://github.com/hmcts/ccd-data-store-api/pull/729#discussion_r365886321", "createdAt": "2020-01-13T16:05:46Z", "author": {"login": "bmcts"}, "path": "src/aat/resources/features/F-032/F-032.feature", "diffHunk": "@@ -55,3 +55,19 @@ Feature: F-032: Get printable documents\n     Then a negative response is received\n     And the response [contains a HTTP 404 Not Found]\n     And the response has all other details as expected\n+\n+  @S-123\n+  Scenario: must return successfully all and only the respective documents with read access for solicitors\n+    Given a user with [an active solicitor 1 profile in CCD with read permissions on limited documents for a given case type]\n+    And a user with [another active solicitor 2 profile in CCD with all permissions on all documents for a given case type]\n+    And a user with [another active solicitor 3 profile in CCD with read permissions on different limited documents for a given case type]\n+    And a successful call [to create a token for case creation] as in [Befta_Jurisdiction2_Default_Token_Creation_Data_For_Case_Creation]\n+    And another successful call [by a privileged user with full ACL to create a case of this case type] as in [Befta_Jurisdiction2_Default_Full_Case_Creation_Data]\n+    When a request is prepared with appropriate values\n+    And the request [is made by solicitor 2 who just created the case]\n+    And it is submitted to call the [get printable documents] operation of [CCD Data Store]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg0MDI5MA=="}, "originalCommit": {"oid": "70fc062596e3df0ff6b7b2e2bb0398959c82e921"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3941, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}