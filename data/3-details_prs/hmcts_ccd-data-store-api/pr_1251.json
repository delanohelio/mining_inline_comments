{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwMTg4MzU2", "number": 1251, "title": " RDM-10167: Build new MessageQueueCandidates database structure", "bodyText": "RDM-10167: Build new MessageQueueCandidates database structure\n\u00a0\u00a0[RDM-10167] (https://tools.hmcts.net/jira/browse/RDM-10167)", "createdAt": "2020-12-01T10:14:04Z", "url": "https://github.com/hmcts/ccd-data-store-api/pull/1251", "merged": true, "mergeCommit": {"oid": "6076f3e89175f32f4502fbdf74ed1486d6d5bdef"}, "closed": true, "closedAt": "2020-12-10T17:22:51Z", "author": {"login": "Thor-tech-of-metal"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdh3NgYAH2gAyNTMwMTg4MzU2OmU3ZDIxZmI5ZDEzNGJjNTQ5MjhiYjk3ODgxYjRlZWQzNDAzMjg5YWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdk2lCLAFqTU0OTQyMjU3NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e7d21fb9d134bc54928bb97881b4eed3403289aa", "author": {"user": {"login": "Thor-tech-of-metal", "name": null}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/e7d21fb9d134bc54928bb97881b4eed3403289aa", "committedDate": "2020-12-01T10:16:16Z", "message": " RDM-10167: Build new MessageQueueCandidates database structure\n    \u00a0\u00a0[RDM-10167] (https://tools.hmcts.net/jira/browse/RDM-10167)."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1MjQxMTg4", "url": "https://github.com/hmcts/ccd-data-store-api/pull/1251#pullrequestreview-545241188", "createdAt": "2020-12-04T19:32:11Z", "commit": {"oid": "e7d21fb9d134bc54928bb97881b4eed3403289aa"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxOTozMjoxMVrOH_fHcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxOTozMjoxMVrOH_fHcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjMzMjE0Nw==", "bodyText": "Please add index on message_type and published together", "url": "https://github.com/hmcts/ccd-data-store-api/pull/1251#discussion_r536332147", "createdAt": "2020-12-04T19:32:11Z", "author": {"login": "kiran-yenigala-hmcts"}, "path": "src/main/resources/db/changelog/db.changelog-RDM-10167.xml", "diffHunk": "@@ -0,0 +1,35 @@\n+<databaseChangeLog xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+                   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+                   xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd\">\n+\n+<changeSet id=\"RDM-10167\" author=\"tobias.derose@hmcts.net\">\n+    <createTable tableName=\"message_queue_candidates\">\n+\n+        <column name=\"id\" type=\"bigint\" autoIncrement=\"true\">\n+            <constraints nullable=\"false\" primaryKey=\"true\"/>\n+        </column>\n+\n+        <column name=\"message_type\"  type=\"varchar(70)\" >\n+            <constraints nullable=\"false\"/>\n+        </column>\n+\n+        <column name=\"time_stamp\" type=\"timestamp\" defaultValueComputed=\"CURRENT_TIMESTAMP\">\n+            <constraints nullable=\"false\"/>\n+        </column>\n+\n+        <column name=\"published\" type=\"timestamp\">\n+            <constraints nullable=\"true\"/>\n+        </column>\n+\n+        <column name=\"message_information\" type=\"jsonb\">\n+            <constraints nullable=\"false\"/>\n+        </column>\n+    </createTable>\n+\n+    <createIndex indexName=\"idx_message_queue_candidates_time_stamp\"\n+                 schemaName=\"public\"\n+                 tableName=\"message_queue_candidates\">\n+        <column name=\"time_stamp\"/>\n+    </createIndex>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7d21fb9d134bc54928bb97881b4eed3403289aa"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b750d92e087016cea337de1b1bcfba5a8eeb9de", "author": {"user": {"login": "Thor-tech-of-metal", "name": null}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/7b750d92e087016cea337de1b1bcfba5a8eeb9de", "committedDate": "2020-12-07T16:13:01Z", "message": "Merge branch 'master' of github.com:hmcts/ccd-data-store-api into RDM-10167-Master\n\n\u0001 Conflicts:\n\u0001\tsrc/main/resources/db/changelog/db.changelog-master.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "420356d4973931a19c7e27d80e00e2c60a2e463a", "author": {"user": {"login": "Olawale", "name": "Olawale Olanrewaju"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/420356d4973931a19c7e27d80e00e2c60a2e463a", "committedDate": "2020-12-10T09:41:16Z", "message": "Merge branch 'master' into RDM-10167-Master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5NDIyNTc1", "url": "https://github.com/hmcts/ccd-data-store-api/pull/1251#pullrequestreview-549422575", "createdAt": "2020-12-10T17:13:50Z", "commit": {"oid": "420356d4973931a19c7e27d80e00e2c60a2e463a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2708, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}