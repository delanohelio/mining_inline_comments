{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxODQ0MjY5", "number": 970, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNDo1Njo1MVrOED66jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxMToxMTozNFrOEEo74Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNTQ2NDQ2OnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-103/F-103.feature", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNDo1Njo1MVrOGhOO3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNjowNzoyNFrOGhR5fA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ4OTM3Mw==", "bodyText": "pls remove token creation lines", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437489373", "createdAt": "2020-06-09T14:56:51Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-103/F-103.feature", "diffHunk": "@@ -0,0 +1,129 @@\n+@F-103\n+Feature: F-103: Get Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+\n+  @S-597\n+  Scenario: when a specific User ID is supplied for a specific case ID, then the case roles relating only to the User ID for that specific Case ID must be returned\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a successful call [to create a token for case creation] as in [F103_GetToken]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzU0OTQzNg==", "bodyText": "removed!!", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437549436", "createdAt": "2020-06-09T16:07:24Z", "author": {"login": "kiran-yenigala-hmcts"}, "path": "src/aat/resources/features/F-103/F-103.feature", "diffHunk": "@@ -0,0 +1,129 @@\n+@F-103\n+Feature: F-103: Get Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+\n+  @S-597\n+  Scenario: when a specific User ID is supplied for a specific case ID, then the case roles relating only to the User ID for that specific Case ID must be returned\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a successful call [to create a token for case creation] as in [F103_GetToken]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ4OTM3Mw=="}, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNTQ3MjI4OnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-103/F-103_Test_Case_Access_Base_Dil_C2.td.json", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNDo1ODozOFrOGhOUCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNTo0MDowOVrOGhQs9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5MDY5Nw==", "bodyText": "each account has it's respective password env var. please always use respective env vars.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437490697", "createdAt": "2020-06-09T14:58:38Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-103/F-103_Test_Case_Access_Base_Dil_C2.td.json", "diffHunk": "@@ -0,0 +1,30 @@\n+{\n+\t\"_guid_\": \"F-103_Test_Case_Access_Base_Dil_C2\",\n+\t\"method\": \"PUT\",\n+\t\"uri\": \"/cases/{cid}/users/{uid}\",\n+\t\"users\": {\n+    \"invokingUser\": {\n+      \"username\": \"befta.caseworker.caa.1@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userRichard\": {\n+      \"username\": \"befta.caseworker.2.solicitor.2@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userDil\": {\n+      \"username\": \"befta.caseworker.2.solicitor.3@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5MDkzMQ==", "bodyText": "in general...", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437490931", "createdAt": "2020-06-09T14:58:56Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-103/F-103_Test_Case_Access_Base_Dil_C2.td.json", "diffHunk": "@@ -0,0 +1,30 @@\n+{\n+\t\"_guid_\": \"F-103_Test_Case_Access_Base_Dil_C2\",\n+\t\"method\": \"PUT\",\n+\t\"uri\": \"/cases/{cid}/users/{uid}\",\n+\t\"users\": {\n+    \"invokingUser\": {\n+      \"username\": \"befta.caseworker.caa.1@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userRichard\": {\n+      \"username\": \"befta.caseworker.2.solicitor.2@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userDil\": {\n+      \"username\": \"befta.caseworker.2.solicitor.3@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5MDY5Nw=="}, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUyOTg0NA==", "bodyText": "Used user specific pwd, and added new entry for befta.caseworker.caa@gmail.com", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437529844", "createdAt": "2020-06-09T15:40:09Z", "author": {"login": "kiran-yenigala-hmcts"}, "path": "src/aat/resources/features/F-103/F-103_Test_Case_Access_Base_Dil_C2.td.json", "diffHunk": "@@ -0,0 +1,30 @@\n+{\n+\t\"_guid_\": \"F-103_Test_Case_Access_Base_Dil_C2\",\n+\t\"method\": \"PUT\",\n+\t\"uri\": \"/cases/{cid}/users/{uid}\",\n+\t\"users\": {\n+    \"invokingUser\": {\n+      \"username\": \"befta.caseworker.caa.1@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userRichard\": {\n+      \"username\": \"befta.caseworker.2.solicitor.2@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userDil\": {\n+      \"username\": \"befta.caseworker.2.solicitor.3@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5MDY5Nw=="}, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNTQ3NzIwOnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-103/F-103_Test_Case_Access_Base_Dil_C3.td.json", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNDo1OTo0M1rOGhOXVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNTozOTo0MlrOGhQrzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5MTU0Mw==", "bodyText": "This lines seem to be unnecessarily repeated. Am I missing a detail?", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437491543", "createdAt": "2020-06-09T14:59:43Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-103/F-103_Test_Case_Access_Base_Dil_C3.td.json", "diffHunk": "@@ -0,0 +1,30 @@\n+{\n+\t\"_guid_\": \"F-103_Test_Case_Access_Base_Dil_C3\",\n+\t\"method\": \"PUT\",\n+\t\"uri\": \"/cases/{cid}/users/{uid}\",\n+\t\"users\": {\n+    \"invokingUser\": {\n+      \"username\": \"befta.caseworker.caa.1@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userRichard\": {\n+      \"username\": \"befta.caseworker.2.solicitor.2@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userDil\": {\n+      \"username\": \"befta.caseworker.2.solicitor.3@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userSteve\": {\n+      \"username\": \"befta.caseworker.2.solicitor.4@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5MjIwMA==", "bodyText": "JSON-based inheritance mechanism would already bring the same lines from a parent, base object.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437492200", "createdAt": "2020-06-09T15:00:34Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-103/F-103_Test_Case_Access_Base_Dil_C3.td.json", "diffHunk": "@@ -0,0 +1,30 @@\n+{\n+\t\"_guid_\": \"F-103_Test_Case_Access_Base_Dil_C3\",\n+\t\"method\": \"PUT\",\n+\t\"uri\": \"/cases/{cid}/users/{uid}\",\n+\t\"users\": {\n+    \"invokingUser\": {\n+      \"username\": \"befta.caseworker.caa.1@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userRichard\": {\n+      \"username\": \"befta.caseworker.2.solicitor.2@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userDil\": {\n+      \"username\": \"befta.caseworker.2.solicitor.3@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userSteve\": {\n+      \"username\": \"befta.caseworker.2.solicitor.4@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5MTU0Mw=="}, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUyOTU0OQ==", "bodyText": "Done, used extends!!!", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437529549", "createdAt": "2020-06-09T15:39:42Z", "author": {"login": "kiran-yenigala-hmcts"}, "path": "src/aat/resources/features/F-103/F-103_Test_Case_Access_Base_Dil_C3.td.json", "diffHunk": "@@ -0,0 +1,30 @@\n+{\n+\t\"_guid_\": \"F-103_Test_Case_Access_Base_Dil_C3\",\n+\t\"method\": \"PUT\",\n+\t\"uri\": \"/cases/{cid}/users/{uid}\",\n+\t\"users\": {\n+    \"invokingUser\": {\n+      \"username\": \"befta.caseworker.caa.1@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userRichard\": {\n+      \"username\": \"befta.caseworker.2.solicitor.2@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userDil\": {\n+      \"username\": \"befta.caseworker.2.solicitor.3@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userSteve\": {\n+      \"username\": \"befta.caseworker.2.solicitor.4@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5MTU0Mw=="}, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNTQ4NTQ1OnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-103/F-103_Test_Case_Access_Base_Steve.td.json", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNTowMToyNFrOGhOcnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNTozOToyNFrOGhQrFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5Mjg5NQ==", "bodyText": "there should be an extends line here to reuse content of the common, base test data object.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437492895", "createdAt": "2020-06-09T15:01:24Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-103/F-103_Test_Case_Access_Base_Steve.td.json", "diffHunk": "@@ -0,0 +1,30 @@\n+{\n+\t\"_guid_\": \"F-103_Test_Case_Access_Base_Steve\",\n+\t\"method\": \"PUT\",\n+\t\"uri\": \"/cases/{cid}/users/{uid}\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUyOTM2Nw==", "bodyText": "Done", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437529367", "createdAt": "2020-06-09T15:39:24Z", "author": {"login": "kiran-yenigala-hmcts"}, "path": "src/aat/resources/features/F-103/F-103_Test_Case_Access_Base_Steve.td.json", "diffHunk": "@@ -0,0 +1,30 @@\n+{\n+\t\"_guid_\": \"F-103_Test_Case_Access_Base_Steve\",\n+\t\"method\": \"PUT\",\n+\t\"uri\": \"/cases/{cid}/users/{uid}\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5Mjg5NQ=="}, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNTQ5NjgxOnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-103/F-103_Test_Case_Access_Base_Steve_C3.td.json", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNTowNDowN1rOGhOkSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNjowODoyMFrOGhR78A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5NDg1OQ==", "bodyText": "in general, most of these repeated lines could be avoided by inheriting them from appropriate base objects. pls could you revise all test data files from this perspective, to maximise re-use and minimise repeated test data lines?", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437494859", "createdAt": "2020-06-09T15:04:07Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-103/F-103_Test_Case_Access_Base_Steve_C3.td.json", "diffHunk": "@@ -0,0 +1,30 @@\n+{\n+\t\"_guid_\": \"F-103_Test_Case_Access_Base_Steve_C3\",\n+\t\"method\": \"PUT\",\n+\t\"uri\": \"/cases/{cid}/users/{uid}\",\n+\t\"users\": {\n+    \"invokingUser\": {\n+      \"username\": \"befta.caseworker.caa.1@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userRichard\": {\n+      \"username\": \"befta.caseworker.2.solicitor.2@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userDil\": {\n+      \"username\": \"befta.caseworker.2.solicitor.3@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userSteve\": {\n+      \"username\": \"befta.caseworker.2.solicitor.4@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzU1MDA2NA==", "bodyText": "done!!", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437550064", "createdAt": "2020-06-09T16:08:20Z", "author": {"login": "kiran-yenigala-hmcts"}, "path": "src/aat/resources/features/F-103/F-103_Test_Case_Access_Base_Steve_C3.td.json", "diffHunk": "@@ -0,0 +1,30 @@\n+{\n+\t\"_guid_\": \"F-103_Test_Case_Access_Base_Steve_C3\",\n+\t\"method\": \"PUT\",\n+\t\"uri\": \"/cases/{cid}/users/{uid}\",\n+\t\"users\": {\n+    \"invokingUser\": {\n+      \"username\": \"befta.caseworker.caa.1@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userRichard\": {\n+      \"username\": \"befta.caseworker.2.solicitor.2@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userDil\": {\n+      \"username\": \"befta.caseworker.2.solicitor.3@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    },\n+    \"userSteve\": {\n+      \"username\": \"befta.caseworker.2.solicitor.4@gmail.com\",\n+      \"password\": \"[[$CCD_CASEWORKER_AUTOTEST_PASSWORD]]\"\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5NDg1OQ=="}, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNTUxNTc3OnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-103/S-603.td.json", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNTowODoxMFrOGhOw6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNjowOTozN1rOGhR_SA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5ODA4OQ==", "bodyText": "guid repeated in multiple files. that will mess things.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437498089", "createdAt": "2020-06-09T15:08:10Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-103/S-603.td.json", "diffHunk": "@@ -0,0 +1,36 @@\n+{\n+  \"title\": \"must return 400 error response for mal-formatted user id list\",\n+  \"_guid_\": \"S-603\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUyMTc3OQ==", "bodyText": "fixed this!!!! Copy paste error!!", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437521779", "createdAt": "2020-06-09T15:28:47Z", "author": {"login": "kiran-yenigala-hmcts"}, "path": "src/aat/resources/features/F-103/S-603.td.json", "diffHunk": "@@ -0,0 +1,36 @@\n+{\n+  \"title\": \"must return 400 error response for mal-formatted user id list\",\n+  \"_guid_\": \"S-603\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5ODA4OQ=="}, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzU1MDkyMA==", "bodyText": "Fixed it!!", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437550920", "createdAt": "2020-06-09T16:09:37Z", "author": {"login": "kiran-yenigala-hmcts"}, "path": "src/aat/resources/features/F-103/S-603.td.json", "diffHunk": "@@ -0,0 +1,36 @@\n+{\n+  \"title\": \"must return 400 error response for mal-formatted user id list\",\n+  \"_guid_\": \"S-603\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5ODA4OQ=="}, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNTUyMjY1OnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-103/S-600.td.json", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNTowOToyMFrOGhO1fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNjowODozNlrOGhR8rA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5OTI2Mw==", "bodyText": "are you sure you will have all these specs here? they look like specs to go to the respective api call test data.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437499263", "createdAt": "2020-06-09T15:09:20Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-103/S-600.td.json", "diffHunk": "@@ -0,0 +1,34 @@\n+{\n+  \"title\": \"must return 400 error response for mal-formatted user id list\",\n+  \"_guid_\": \"S-603\",\n+  \"productName\": \"CCD Data Store\",\n+  \"operationName\": \"Get Case-Assigned Users and Roles\",\n+  \"_extends_\": \"F-103_Test_Data_Base\",\n+\n+\"specs\": [\n+    \"Richard - who can create a case\",\n+    \"Dil - with an active profile\",\n+    \"Steve - with an active profile\",\n+    \"Jamal -  who is a privileged user with permissions to access the case assignments of other users\",\n+    \"by Jamal to assign Dil a few case roles to access C1\",\n+    \"by Jamal to assign Dil a few case roles to access C2\",\n+    \"by Jamal to assign Dil a few case roles to access C3\",\n+    \"by Jamal to assign Steve a few case roles to access C1\",\n+    \"by Jamal to assign Steve a few case roles to access C2\",\n+    \"by Jamal to assign Steve a few case roles to access C3\",\n+    \"is made by Jamal with Case IDs of C1, C2 & C3 & no User ID\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUwMDM3OA==", "bodyText": "Please check other test data files to confirm you have all and only the necessary specs - no more, no less. Less than enough fails test, more than enough makes the maintenance quite confusing later.", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437500378", "createdAt": "2020-06-09T15:10:26Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-103/S-600.td.json", "diffHunk": "@@ -0,0 +1,34 @@\n+{\n+  \"title\": \"must return 400 error response for mal-formatted user id list\",\n+  \"_guid_\": \"S-603\",\n+  \"productName\": \"CCD Data Store\",\n+  \"operationName\": \"Get Case-Assigned Users and Roles\",\n+  \"_extends_\": \"F-103_Test_Data_Base\",\n+\n+\"specs\": [\n+    \"Richard - who can create a case\",\n+    \"Dil - with an active profile\",\n+    \"Steve - with an active profile\",\n+    \"Jamal -  who is a privileged user with permissions to access the case assignments of other users\",\n+    \"by Jamal to assign Dil a few case roles to access C1\",\n+    \"by Jamal to assign Dil a few case roles to access C2\",\n+    \"by Jamal to assign Dil a few case roles to access C3\",\n+    \"by Jamal to assign Steve a few case roles to access C1\",\n+    \"by Jamal to assign Steve a few case roles to access C2\",\n+    \"by Jamal to assign Steve a few case roles to access C3\",\n+    \"is made by Jamal with Case IDs of C1, C2 & C3 & no User ID\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5OTI2Mw=="}, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzU1MDI1Mg==", "bodyText": "removed these from main spec", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437550252", "createdAt": "2020-06-09T16:08:36Z", "author": {"login": "kiran-yenigala-hmcts"}, "path": "src/aat/resources/features/F-103/S-600.td.json", "diffHunk": "@@ -0,0 +1,34 @@\n+{\n+  \"title\": \"must return 400 error response for mal-formatted user id list\",\n+  \"_guid_\": \"S-603\",\n+  \"productName\": \"CCD Data Store\",\n+  \"operationName\": \"Get Case-Assigned Users and Roles\",\n+  \"_extends_\": \"F-103_Test_Data_Base\",\n+\n+\"specs\": [\n+    \"Richard - who can create a case\",\n+    \"Dil - with an active profile\",\n+    \"Steve - with an active profile\",\n+    \"Jamal -  who is a privileged user with permissions to access the case assignments of other users\",\n+    \"by Jamal to assign Dil a few case roles to access C1\",\n+    \"by Jamal to assign Dil a few case roles to access C2\",\n+    \"by Jamal to assign Dil a few case roles to access C3\",\n+    \"by Jamal to assign Steve a few case roles to access C1\",\n+    \"by Jamal to assign Steve a few case roles to access C2\",\n+    \"by Jamal to assign Steve a few case roles to access C3\",\n+    \"is made by Jamal with Case IDs of C1, C2 & C3 & no User ID\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ5OTI2Mw=="}, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNTU0MjUyOnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-103/S-603.td.json", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNToxMjowM1rOGhPB8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNTozNjowNVrOGhQh3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUwMjQ0OQ==", "bodyText": "when you have a section of the test data inheriting from Common_XYZ_Response, you won't need to repeat many lines like these, as they will already be inherited from the base object", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437502449", "createdAt": "2020-06-09T15:12:03Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-103/S-603.td.json", "diffHunk": "@@ -0,0 +1,36 @@\n+{\n+  \"title\": \"must return 400 error response for mal-formatted user id list\",\n+  \"_guid_\": \"S-603\",\n+  \"productName\": \"CCD Data Store\",\n+  \"operationName\": \"Get Case-Assigned Users and Roles\",\n+  \"_extends_\": \"F-103_Test_Data_Base\",\n+\n+\n+\"specs\": [\n+    \"Richard - who can create a case\",\n+    \"Jamal -  who is a privileged user with permissions to access the case assignments of other users\",\n+    \"is made by Jamal with the Case ID of C1 & a malformed User ID list\",\n+    \"has the 400 return code\"\n+  ],\n+  \"request\": {\n+    \"pathVariables\": {\n+      \"user_ids\": \"${[scenarioContext][testData][users][userDil][id]},,${[scenarioContext][testData][users][userRichard][id]}\"\n+    }\n+  },\n+  \"expectedResponse\": {\n+    \"_extends_\": \"Common_400_Response\",\n+    \"headers\": {\n+      \"Content-Encoding\": \"gzip\",\n+      \"Content-Length\": \"[[ANYTHING_PRESENT]]\"\n+    },\n+    \"body\": {\n+      \"exception\": \"uk.gov.hmcts.ccd.endpoint.exceptions.BadRequestException\",\n+      \"timestamp\": \"[[ANYTHING_PRESENT]]\",\n+      \"message\": \"User ID is not valid\",\n+      \"path\": \"[[ANYTHING_PRESENT]]\",\n+      \"details\": null,\n+      \"callbackErrors\": null,\n+      \"callbackWarnings\": null\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUyNzAwNQ==", "bodyText": "Changed this, Pleaser review!!!", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r437527005", "createdAt": "2020-06-09T15:36:05Z", "author": {"login": "kiran-yenigala-hmcts"}, "path": "src/aat/resources/features/F-103/S-603.td.json", "diffHunk": "@@ -0,0 +1,36 @@\n+{\n+  \"title\": \"must return 400 error response for mal-formatted user id list\",\n+  \"_guid_\": \"S-603\",\n+  \"productName\": \"CCD Data Store\",\n+  \"operationName\": \"Get Case-Assigned Users and Roles\",\n+  \"_extends_\": \"F-103_Test_Data_Base\",\n+\n+\n+\"specs\": [\n+    \"Richard - who can create a case\",\n+    \"Jamal -  who is a privileged user with permissions to access the case assignments of other users\",\n+    \"is made by Jamal with the Case ID of C1 & a malformed User ID list\",\n+    \"has the 400 return code\"\n+  ],\n+  \"request\": {\n+    \"pathVariables\": {\n+      \"user_ids\": \"${[scenarioContext][testData][users][userDil][id]},,${[scenarioContext][testData][users][userRichard][id]}\"\n+    }\n+  },\n+  \"expectedResponse\": {\n+    \"_extends_\": \"Common_400_Response\",\n+    \"headers\": {\n+      \"Content-Encoding\": \"gzip\",\n+      \"Content-Length\": \"[[ANYTHING_PRESENT]]\"\n+    },\n+    \"body\": {\n+      \"exception\": \"uk.gov.hmcts.ccd.endpoint.exceptions.BadRequestException\",\n+      \"timestamp\": \"[[ANYTHING_PRESENT]]\",\n+      \"message\": \"User ID is not valid\",\n+      \"path\": \"[[ANYTHING_PRESENT]]\",\n+      \"details\": null,\n+      \"callbackErrors\": null,\n+      \"callbackWarnings\": null\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUwMjQ0OQ=="}, "originalCommit": {"oid": "e8e96142eeee058b76d2e91d926bacd1dac3f124"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzAwNDQ5OnYy", "diffSide": "RIGHT", "path": "src/aat/resources/features/F-103/F-103.feature", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxMToxMTozNFrOGiYwFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxMToxMTozNFrOGiYwFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODcxMDI5Mg==", "bodyText": "Could we discuss these specs and test data id's?", "url": "https://github.com/hmcts/ccd-data-store-api/pull/970#discussion_r438710292", "createdAt": "2020-06-11T11:11:34Z", "author": {"login": "MSancaktutar"}, "path": "src/aat/resources/features/F-103/F-103.feature", "diffHunk": "@@ -0,0 +1,124 @@\n+@F-103\n+Feature: F-103: Get Case-Assigned Users and Roles\n+\n+  Background: Load test data for the scenario\n+    Given an appropriate test context as detailed in the test data source\n+\n+  @S-597\n+  Scenario: when a specific User ID is supplied for a specific case ID, then the case roles relating only to the User ID for that specific Case ID must be returned\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a successful call [to create a full case C1 for solicitor] as in [F103_Case_Data_Create]\n+    And a user [Dil - with an active profile],\n+    And a user [Jamal -  who is a privileged user with permissions to access the case assignments of other users],\n+    And a successful call [by Jamal to assign Dil a few case roles to access C1] as in [F-103_Test_Case_Access_Base_Dil],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Jamal with the Case ID of C1 & Dil's User ID]\n+    And it is submitted to call the [Get Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response [contains the list of case roles just granted to Dil, as per above],\n+    And the response has all the details as expected.\n+\n+  @S-598\n+  Scenario: when the invoking user is not a privileged user but the request includes his/her own User ID, then the invoker's case roles for the case should be returned\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a successful call [to create a full case C1 for solicitor] as in [F103_Case_Data_Create]\n+    And a user [Dil - with an active profile],\n+    And a user [Jamal -  who is a privileged user with permissions to access the case assignments of other users],\n+    And a successful call [by Jamal to assign Dil a few case roles to access C1] as in [F-103_Test_Case_Access_Base_Dil],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Dil with the Case ID of C1 & Dil's own User ID]\n+    And it is submitted to call the [Get Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response [contains the list of case roles just granted to Dil, as per above],\n+    And the response has all the details as expected.\n+\n+  @S-599\n+  Scenario: when no User ID is supplied for a specific case ID, then the case roles relating to all  users with access to that case must be returned\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a successful call [to create a full case C1 for solicitor] as in [F103_Case_Data_Create]\n+    And a user [Dil - with an active profile],\n+    And a user [Steve - with an active profile],\n+    And a user [Jamal -  who is a privileged user with permissions to access the case assignments of other users],\n+    And a successful call [by Jamal to assign Dil a few case roles to access C1] as in [F-103_Test_Case_Access_Base_Dil],\n+    And a successful call [by Jamal to assign Steve a few case roles to access C1] as in [F-103_Test_Case_Access_Base_Steve],\n+    When a request is prepared with appropriate values,\n+    And the request [is made by Jamal with the Case ID of C1 & no User ID]\n+    And it is submitted to call the [Get Case-Assigned Users and Roles] operation of [CCD Data Store api],\n+    Then a positive response is received,\n+    And the response [contains the list of case roles just granted to Dil & Steve, as per above],\n+    And the response has all the details as expected.\n+\n+  @S-600\n+  Scenario: when no User ID is supplied for a list of Case IDs, then the case roles relating to all users with access to all listed cases must be returned\n+    Given an appropriate test context as detailed in the test data source,\n+    And a user [Richard - who can create a case],\n+    And a successful call [by Richard to create a case - C1] as in [F103_Case_Data_Create],\n+    And a successful call [by Richard to create a case - C2] as in [F103_Case_Data_Create_C2],\n+    And a successful call [by Richard to create a case - C3] as in [F103_Case_Data_Create_C3],\n+    And a user [Dil - with an active profile],\n+    And a user [Steve - with an active profile],\n+    And a user [Jamal -  who is a privileged user with permissions to access the case assignments of other users],\n+    And a successful call [by Jamal to assign Dil a few case roles to access C1] as in [F-103_Test_Case_Access_Base_Dil],\n+    And a successful call [by Jamal to assign Dil a few case roles to access C2] as in [F-103_Test_Case_Access_Base_Dil_C2],\n+    And a successful call [by Jamal to assign Dil a few case roles to access C3] as in [F-103_Test_Case_Access_Base_Dil_C3],\n+    And a successful call [by Jamal to assign Steve a few case roles to access C1] as in [F-103_Test_Case_Access_Base_Steve],\n+    And a successful call [by Jamal to assign Steve a few case roles to access C2] as in [F-103_Test_Case_Access_Base_Steve_C2],\n+    And a successful call [by Jamal to assign Steve a few case roles to access C3] as in [F-103_Test_Case_Access_Base_Steve_C3],", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31766b5df98a4b7441d757ce7777748d4791374f"}, "originalPosition": 69}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3859, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}