{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzNjA1OTQ0", "number": 930, "title": "RDM-8350: Nested complex types not working as expected", "bodyText": "JIRA link (if applicable)\nhttps://tools.hmcts.net/jira/browse/RDM-8350\nChange description\nRemoved exception throwing logic when the search path not found.\nDoes this PR introduce a breaking change? (check one with \"x\")\n[ ] Yes\n[X ] No", "createdAt": "2020-05-05T15:58:54Z", "url": "https://github.com/hmcts/ccd-data-store-api/pull/930", "merged": true, "mergeCommit": {"oid": "bf888b216c8bf865328656995e30b602ecf7c902"}, "closed": true, "closedAt": "2020-05-29T15:03:18Z", "author": {"login": "kiran-yenigala-hmcts"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceSEDsAH2gAyNDEzNjA1OTQ0OmEzOGI4OTkxZmI5OWZhMTIzZjgzYTc3OWIwZGRlOTU4ZThkZDFiYjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmBcU7gH2gAyNDEzNjA1OTQ0OjAyMjZmNDRiYjZjN2IyODZjMmIzNzMwYzQ3NTA3NjEzOWIxNGQ5Yzc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a38b8991fb99fa123f83a779b0dde958e8dd1bb4", "author": {"user": null}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/a38b8991fb99fa123f83a779b0dde958e8dd1bb4", "committedDate": "2020-05-05T11:06:32Z", "message": "RDM-8350: Don't throw the exception when path element not found"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4af295b485068fed707668db9d2c50a475310fd", "author": {"user": null}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/f4af295b485068fed707668db9d2c50a475310fd", "committedDate": "2020-05-05T14:22:54Z", "message": "RDM-8350: Don't throw the exception when path element not found"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e202ba285173c33fc511a98f32055840ec69be9", "author": {"user": null}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/3e202ba285173c33fc511a98f32055840ec69be9", "committedDate": "2020-05-06T08:01:44Z", "message": "RDM-8350: Don't throw the exception when path element not found"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2Mzk0MTg5", "url": "https://github.com/hmcts/ccd-data-store-api/pull/930#pullrequestreview-406394189", "createdAt": "2020-05-06T08:19:35Z", "commit": {"oid": "3e202ba285173c33fc511a98f32055840ec69be9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwODoxOTozNVrOGRIkZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwODoxOTozNVrOGRIkZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDYxOTM2NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                newResults.put(searchResultField.getCaseFieldId() + \".\" + searchResultField.getCaseFieldPath(), objectByPath);\n          \n          \n            \n                                newResults.put(searchResultField.buildCaseFieldId(), objectByPath);\n          \n      \n    \n    \n  \n\nshould be equivalent right?", "url": "https://github.com/hmcts/ccd-data-store-api/pull/930#discussion_r420619364", "createdAt": "2020-05-06T08:19:35Z", "author": {"login": "mario-paniccia"}, "path": "src/main/java/uk/gov/hmcts/ccd/domain/service/aggregated/MergeDataToSearchResultOperation.java", "diffHunk": "@@ -136,8 +136,10 @@ private SearchResultViewItem buildSearchResultViewItem(final CaseDetails caseDet\n         searchResult.getFieldsWithPaths().forEach(searchResultField -> {\n             JsonNode jsonNode = caseData.get(searchResultField.getCaseFieldId());\n             if (jsonNode != null) {\n-                newResults.put(searchResultField.getCaseFieldId() + \".\" + searchResultField.getCaseFieldPath(),\n-                    getObjectByPath(searchResultField, jsonNode));\n+                Object objectByPath = getObjectByPath(searchResultField, jsonNode);\n+                if (objectByPath != null) {\n+                    newResults.put(searchResultField.getCaseFieldId() + \".\" + searchResultField.getCaseFieldPath(), objectByPath);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e202ba285173c33fc511a98f32055840ec69be9"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2Mzk0Njg3", "url": "https://github.com/hmcts/ccd-data-store-api/pull/930#pullrequestreview-406394687", "createdAt": "2020-05-06T08:20:21Z", "commit": {"oid": "3e202ba285173c33fc511a98f32055840ec69be9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d84984c50e9c2eb04301334cb21e6df55f114dd", "author": {"user": {"login": "kiran-yenigala-hmcts", "name": "Kiran Kumar Yenigala"}}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/3d84984c50e9c2eb04301334cb21e6df55f114dd", "committedDate": "2020-05-07T17:00:19Z", "message": "Merge branch 'develop' into RDM-8350"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0226f44bb6c7b286c2b3730c475076139b14d9c7", "author": {"user": null}, "url": "https://github.com/hmcts/ccd-data-store-api/commit/0226f44bb6c7b286c2b3730c475076139b14d9c7", "committedDate": "2020-05-29T12:16:03Z", "message": "RDM-8350: push to repo"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2958, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}