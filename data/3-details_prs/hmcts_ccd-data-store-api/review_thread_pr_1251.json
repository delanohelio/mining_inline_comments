{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwMTg4MzU2", "number": 1251, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxOTozMjoxMVrOFA8rGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxOTozMjoxMVrOFA8rGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2NTM4MzkyOnYy", "diffSide": "RIGHT", "path": "src/main/resources/db/changelog/db.changelog-RDM-10167.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxOTozMjoxMVrOH_fHcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxOTozMjozNVrOH_fIRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjMzMjE0Nw==", "bodyText": "Please add index on message_type and published together", "url": "https://github.com/hmcts/ccd-data-store-api/pull/1251#discussion_r536332147", "createdAt": "2020-12-04T19:32:11Z", "author": {"login": "kiran-yenigala-hmcts"}, "path": "src/main/resources/db/changelog/db.changelog-RDM-10167.xml", "diffHunk": "@@ -0,0 +1,35 @@\n+<databaseChangeLog xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+                   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+                   xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd\">\n+\n+<changeSet id=\"RDM-10167\" author=\"tobias.derose@hmcts.net\">\n+    <createTable tableName=\"message_queue_candidates\">\n+\n+        <column name=\"id\" type=\"bigint\" autoIncrement=\"true\">\n+            <constraints nullable=\"false\" primaryKey=\"true\"/>\n+        </column>\n+\n+        <column name=\"message_type\"  type=\"varchar(70)\" >\n+            <constraints nullable=\"false\"/>\n+        </column>\n+\n+        <column name=\"time_stamp\" type=\"timestamp\" defaultValueComputed=\"CURRENT_TIMESTAMP\">\n+            <constraints nullable=\"false\"/>\n+        </column>\n+\n+        <column name=\"published\" type=\"timestamp\">\n+            <constraints nullable=\"true\"/>\n+        </column>\n+\n+        <column name=\"message_information\" type=\"jsonb\">\n+            <constraints nullable=\"false\"/>\n+        </column>\n+    </createTable>\n+\n+    <createIndex indexName=\"idx_message_queue_candidates_time_stamp\"\n+                 schemaName=\"public\"\n+                 tableName=\"message_queue_candidates\">\n+        <column name=\"time_stamp\"/>\n+    </createIndex>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7d21fb9d134bc54928bb97881b4eed3403289aa"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjMzMjM1OA==", "bodyText": "may be on published itself as well, think about this", "url": "https://github.com/hmcts/ccd-data-store-api/pull/1251#discussion_r536332358", "createdAt": "2020-12-04T19:32:35Z", "author": {"login": "kiran-yenigala-hmcts"}, "path": "src/main/resources/db/changelog/db.changelog-RDM-10167.xml", "diffHunk": "@@ -0,0 +1,35 @@\n+<databaseChangeLog xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+                   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+                   xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd\">\n+\n+<changeSet id=\"RDM-10167\" author=\"tobias.derose@hmcts.net\">\n+    <createTable tableName=\"message_queue_candidates\">\n+\n+        <column name=\"id\" type=\"bigint\" autoIncrement=\"true\">\n+            <constraints nullable=\"false\" primaryKey=\"true\"/>\n+        </column>\n+\n+        <column name=\"message_type\"  type=\"varchar(70)\" >\n+            <constraints nullable=\"false\"/>\n+        </column>\n+\n+        <column name=\"time_stamp\" type=\"timestamp\" defaultValueComputed=\"CURRENT_TIMESTAMP\">\n+            <constraints nullable=\"false\"/>\n+        </column>\n+\n+        <column name=\"published\" type=\"timestamp\">\n+            <constraints nullable=\"true\"/>\n+        </column>\n+\n+        <column name=\"message_information\" type=\"jsonb\">\n+            <constraints nullable=\"false\"/>\n+        </column>\n+    </createTable>\n+\n+    <createIndex indexName=\"idx_message_queue_candidates_time_stamp\"\n+                 schemaName=\"public\"\n+                 tableName=\"message_queue_candidates\">\n+        <column name=\"time_stamp\"/>\n+    </createIndex>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjMzMjE0Nw=="}, "originalCommit": {"oid": "e7d21fb9d134bc54928bb97881b4eed3403289aa"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3665, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}