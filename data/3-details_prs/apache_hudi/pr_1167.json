{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4NDM2NjM3", "number": 1167, "title": "[HUDI-484] Fix NPE when reading IncrementalPull.sqltemplate in HiveIncrementalPuller", "bodyText": "What is the purpose of the pull request\nWhen using class.getResourceAsStream method, the resource name should begins with a '/'.\nMore detail, please visit https://lists.apache.org/thread.html/9c7ab9b8cf63d8f1f7fd72a0aba870976e81d9c50ed53db80f082284%40%3Cdev.hudi.apache.org%3E\nBrief change log\n\nChange \"IncrementalPull.sqltemplate\" to \"/IncrementalPull.sqltemplate\".\n\nVerify this pull request\nThis pull request is code cleanup without any test coverage.\nCommitter checklist\n\n\n Has a corresponding JIRA in PR title & commit\n\n\n Commit message is descriptive of the change\n\n\n CI is green\n\n\n Necessary doc changes done or have another open PR\n\n\n For large changes, please consider breaking it into sub-tasks under an umbrella JIRA.", "createdAt": "2020-01-01T00:08:48Z", "url": "https://github.com/apache/hudi/pull/1167", "merged": true, "mergeCommit": {"oid": "28ccf8c5216eaedf16b16b0220f03311fcba6787"}, "closed": true, "closedAt": "2020-01-05T07:53:47Z", "author": {"login": "lamberken"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb15ccFAH2gAyMzU4NDM2NjM3OjYyOGIzOTJlMjczZmIxZTBmY2ZjNTI2ODhhZDVkN2YyNTk3MjJjZGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb3SxpcgFqTMzODM4NTQzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "628b392e273fb1e0fcfc52688ad5d7f259722cdc", "author": {"user": {"login": "lamberken", "name": "lamberken"}}, "url": "https://github.com/apache/hudi/commit/628b392e273fb1e0fcfc52688ad5d7f259722cdc", "committedDate": "2019-12-31T23:48:34Z", "message": "[HUDI-484] Fix NPE when reading IncrementalPull.sqltemplate in HiveIncrementalPuller"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e041dad032a5cf1875d2d708e9ad5863b506967", "author": {"user": {"login": "lamberken", "name": "lamberken"}}, "url": "https://github.com/apache/hudi/commit/5e041dad032a5cf1875d2d708e9ad5863b506967", "committedDate": "2020-01-01T17:26:37Z", "message": "Add init HiveIncrementalPuller unit test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3NTI1ODcy", "url": "https://github.com/apache/hudi/pull/1167#pullrequestreview-337525872", "createdAt": "2020-01-02T03:48:41Z", "commit": {"oid": "5e041dad032a5cf1875d2d708e9ad5863b506967"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQwMzo0ODo0MVrOFZlDrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQwMzo1MDoyNFrOFZlERw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjM2NTg2OQ==", "bodyText": "rename to setup()? most of our tests are that way I think.", "url": "https://github.com/apache/hudi/pull/1167#discussion_r362365869", "createdAt": "2020-01-02T03:48:41Z", "author": {"login": "vinothchandar"}, "path": "hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package org.apache.hudi.utilities;\n+\n+import org.junit.Assert;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class TestHiveIncrementalPuller {\n+\n+  private HiveIncrementalPuller.Config config;\n+\n+  @Before\n+  public void init() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5e041dad032a5cf1875d2d708e9ad5863b506967"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjM2NjAyMw==", "bodyText": "Not following this.. a constructor can either throw an exception or return a non-null object right? should we be using a try-catch and calling fail from the catch block to ensure the NPE is not thrown?", "url": "https://github.com/apache/hudi/pull/1167#discussion_r362366023", "createdAt": "2020-01-02T03:50:24Z", "author": {"login": "vinothchandar"}, "path": "hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package org.apache.hudi.utilities;\n+\n+import org.junit.Assert;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class TestHiveIncrementalPuller {\n+\n+  private HiveIncrementalPuller.Config config;\n+\n+  @Before\n+  public void init() {\n+    config = new HiveIncrementalPuller.Config();\n+  }\n+\n+  @Test\n+  public void testInitHiveIncrementalPuller() throws Exception {\n+\n+    HiveIncrementalPuller puller = new HiveIncrementalPuller(config);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5e041dad032a5cf1875d2d708e9ad5863b506967"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "254e8a5e537b6a733aa1f95e16ebc767b34a61e2", "author": {"user": {"login": "lamberken", "name": "lamberken"}}, "url": "https://github.com/apache/hudi/commit/254e8a5e537b6a733aa1f95e16ebc767b34a61e2", "committedDate": "2020-01-04T20:39:43Z", "message": "Update HiveIncrementalPuller unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4accdc1c939e24356f3798c7874c2283ab2ef23b", "author": {"user": {"login": "lamberken", "name": "lamberken"}}, "url": "https://github.com/apache/hudi/commit/4accdc1c939e24356f3798c7874c2283ab2ef23b", "committedDate": "2020-01-04T20:54:25Z", "message": "Fix typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MzgzNjQ4", "url": "https://github.com/apache/hudi/pull/1167#pullrequestreview-338383648", "createdAt": "2020-01-05T06:58:40Z", "commit": {"oid": "4accdc1c939e24356f3798c7874c2283ab2ef23b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwNjo1ODo0MVrOFaQPYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQwNjo1ODo0MVrOFaQPYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA3MzM3OA==", "bodyText": "nit: do we still need the throws Exception? :)", "url": "https://github.com/apache/hudi/pull/1167#discussion_r363073378", "createdAt": "2020-01-05T06:58:41Z", "author": {"login": "vinothchandar"}, "path": "hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package org.apache.hudi.utilities;\n+\n+import org.junit.Assert;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class TestHiveIncrementalPuller {\n+\n+  private HiveIncrementalPuller.Config config;\n+\n+  @Before\n+  public void setup() {\n+    config = new HiveIncrementalPuller.Config();\n+  }\n+\n+  @Test\n+  public void testInitHiveIncrementalPuller() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4accdc1c939e24356f3798c7874c2283ab2ef23b"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5b893142782eb82e51796c58e569da4d08774a7", "author": {"user": {"login": "lamberken", "name": "lamberken"}}, "url": "https://github.com/apache/hudi/commit/a5b893142782eb82e51796c58e569da4d08774a7", "committedDate": "2020-01-05T07:03:00Z", "message": "Remove throw statement"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4Mzg1NDMy", "url": "https://github.com/apache/hudi/pull/1167#pullrequestreview-338385432", "createdAt": "2020-01-05T07:53:17Z", "commit": {"oid": "a5b893142782eb82e51796c58e569da4d08774a7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4221, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}