{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1NDMxNjQw", "number": 2188, "title": "[HUDI-1347]fix Hbase index partition changes cause data duplication p\u2026", "bodyText": "\u2026roblems\nTips\n\nThank you very much for contributing to Apache Hudi.\nPlease review https://hudi.apache.org/contributing.html before opening a pull request.\n\nWhat is the purpose of the pull request\nfix Hbase index partition changes cause data duplication problems\nBrief change log\n(for example:)\n\n1.Fixed the error of partition information in HoodieRecord key caused by deduplication operation\n2.The hbase index adds a rollback operation instead of doing nothing. The partition change needs to be rolledback to the index of the last successful commit\u3002\n\nVerify this pull request\n\nAdd test for partition change rollback scenario\n\nCommitter checklist\n\n\n Has a corresponding JIRA in PR title & commit\n\n\n Commit message is descriptive of the change\n\n\n CI is green\n\n\n Necessary doc changes done or have another open PR\n\n\n For large changes, please consider breaking it into sub-tasks under an umbrella JIRA.", "createdAt": "2020-10-18T08:01:43Z", "url": "https://github.com/apache/hudi/pull/2188", "merged": true, "mergeCommit": {"oid": "77ba561a6bacbf9e7dc9c1582eb068f7ad800cd9"}, "closed": true, "closedAt": "2021-02-24T01:56:59Z", "author": {"login": "hj2016"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdW_QfYAFqTUxODc4NzkyOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABd88rsLgH2gAyNTA1NDMxNjQwOjBjM2EzOTRjODRhNzA4ODYxNjk5NDA3NTZmNzdjYjY0MTUwNzU0Mzg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4Nzg3OTI4", "url": "https://github.com/apache/hudi/pull/2188#pullrequestreview-518787928", "createdAt": "2020-10-28T15:25:36Z", "commit": {"oid": "8c39fbc41b88a704dce77a3b475c1c49e37fd32a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNToyNTozNlrOHpvxTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNToyNTozNlrOHpvxTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzUzNjMzNA==", "bodyText": "Surprised checkstyle is not failing for no space after the \",\"", "url": "https://github.com/apache/hudi/pull/2188#discussion_r513536334", "createdAt": "2020-10-28T15:25:36Z", "author": {"login": "n3nash"}, "path": "hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java", "diffHunk": "@@ -171,6 +173,10 @@ private Get generateStatement(String key) throws IOException {\n         .addColumn(SYSTEM_COLUMN_FAMILY, FILE_NAME_COLUMN).addColumn(SYSTEM_COLUMN_FAMILY, PARTITION_PATH_COLUMN);\n   }\n \n+  private Get generateStatement(String key, long startTime, long endTime) throws IOException {\n+    return generateStatement(key).setTimeRange(startTime,endTime);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c39fbc41b88a704dce77a3b475c1c49e37fd32a"}, "originalPosition": 79}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4NzkwMTU2", "url": "https://github.com/apache/hudi/pull/2188#pullrequestreview-518790156", "createdAt": "2020-10-28T15:27:42Z", "commit": {"oid": "8c39fbc41b88a704dce77a3b475c1c49e37fd32a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNToyNzo0MlrOHpv3wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNToyNzo0MlrOHpv3wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzUzNzk4Ng==", "bodyText": "@hj2016 We don't fire deletes to Hbase to enable rollback, instead, we just check for whether that update is present or not, if that entry is not valid, the record key will be re-ingested and the entry will be overwritten. Can you talk about a use-case where you require to delete entries ?", "url": "https://github.com/apache/hudi/pull/2188#discussion_r513537986", "createdAt": "2020-10-28T15:27:42Z", "author": {"login": "n3nash"}, "path": "hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java", "diffHunk": "@@ -480,6 +486,61 @@ private Integer getNumRegionServersAliveForTable() {\n   @Override\n   public boolean rollbackCommit(String instantTime) {\n     // Rollback in HbaseIndex is managed via method {@link #checkIfValidCommit()}\n+    synchronized (SparkHoodieHBaseIndex.class) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c39fbc41b88a704dce77a3b475c1c49e37fd32a"}, "originalPosition": 89}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4NzkwNTYx", "url": "https://github.com/apache/hudi/pull/2188#pullrequestreview-518790561", "createdAt": "2020-10-28T15:28:08Z", "commit": {"oid": "8c39fbc41b88a704dce77a3b475c1c49e37fd32a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ee843edf53e4578fb1e98b477f355351ebe96b89", "author": {"user": null}, "url": "https://github.com/apache/hudi/commit/ee843edf53e4578fb1e98b477f355351ebe96b89", "committedDate": "2020-11-02T10:36:30Z", "message": "[HUDI-1347]fix Hbase index partition changes cause data duplication problems"}, "afterCommit": {"oid": "8cb722529e0ef56bc252edf37e3700c2e0381f6a", "author": {"user": null}, "url": "https://github.com/apache/hudi/commit/8cb722529e0ef56bc252edf37e3700c2e0381f6a", "committedDate": "2020-11-02T13:39:07Z", "message": "[HUDI-1347]fix Hbase index partition changes cause data duplication problems"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4ODg1ODYz", "url": "https://github.com/apache/hudi/pull/2188#pullrequestreview-558885863", "createdAt": "2020-12-26T18:23:55Z", "commit": {"oid": "8cb722529e0ef56bc252edf37e3700c2e0381f6a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQxODoyMzo1NVrOILlYuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQxODoyMzo1NVrOILlYuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTAxNzc4NQ==", "bodyText": "not sure why this is required. this is within reduceByKey and so rec1.getKey and rec2.getKey should be same right?", "url": "https://github.com/apache/hudi/pull/2188#discussion_r549017785", "createdAt": "2020-12-26T18:23:55Z", "author": {"login": "nsivabalan"}, "path": "hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java", "diffHunk": "@@ -62,7 +62,7 @@ public static SparkWriteHelper newInstance() {\n       // we cannot allow the user to change the key or partitionPath, since that will affect\n       // everything\n       // so pick it from one of the records.\n-      return new HoodieRecord<T>(rec1.getKey(), reducedData);\n+      return new HoodieRecord<T>(rec1.getData().equals(reducedData) ? rec1.getKey() : rec2.getKey(), reducedData);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cb722529e0ef56bc252edf37e3700c2e0381f6a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4ODg1OTEz", "url": "https://github.com/apache/hudi/pull/2188#pullrequestreview-558885913", "createdAt": "2020-12-26T18:25:13Z", "commit": {"oid": "8cb722529e0ef56bc252edf37e3700c2e0381f6a"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQxODoyNToxM1rOILlZEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQxODoyODoxMlrOILlaEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTAxNzg3NQ==", "bodyText": "can you remove comment in line 488.", "url": "https://github.com/apache/hudi/pull/2188#discussion_r549017875", "createdAt": "2020-12-26T18:25:13Z", "author": {"login": "nsivabalan"}, "path": "hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java", "diffHunk": "@@ -480,6 +486,68 @@ private Integer getNumRegionServersAliveForTable() {\n   @Override\n   public boolean rollbackCommit(String instantTime) {\n     // Rollback in HbaseIndex is managed via method {@link #checkIfValidCommit()}\n+    synchronized (SparkHoodieHBaseIndex.class) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cb722529e0ef56bc252edf37e3700c2e0381f6a"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTAxODA1NA==", "bodyText": "why commented out code", "url": "https://github.com/apache/hudi/pull/2188#discussion_r549018054", "createdAt": "2020-12-26T18:26:56Z", "author": {"login": "nsivabalan"}, "path": "hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java", "diffHunk": "@@ -480,6 +486,68 @@ private Integer getNumRegionServersAliveForTable() {\n   @Override\n   public boolean rollbackCommit(String instantTime) {\n     // Rollback in HbaseIndex is managed via method {@link #checkIfValidCommit()}\n+    synchronized (SparkHoodieHBaseIndex.class) {\n+      if (hbaseConnection == null || hbaseConnection.isClosed()) {\n+        hbaseConnection = getHBaseConnection();\n+      }\n+    }\n+    try (HTable hTable = (HTable) hbaseConnection.getTable(TableName.valueOf(tableName));\n+         BufferedMutator mutator = hbaseConnection.getBufferedMutator(TableName.valueOf(tableName))) {\n+      int multiGetBatchSize = config.getHbaseIndexGetBatchSize();\n+      boolean rollbackSync = config.getHBaseIndexRollbackSync();\n+\n+      Long rollbackTime = HoodieActiveTimeline.COMMIT_FORMATTER.parse(instantTime).getTime();\n+      Long currentTime = new Date().getTime();\n+      Scan scan = new Scan();\n+      scan.addFamily(SYSTEM_COLUMN_FAMILY);\n+      scan.setTimeRange(rollbackTime, currentTime);\n+      ResultScanner scanner = hTable.getScanner(scan);\n+      Iterator<Result> scannerIterator = scanner.iterator();\n+\n+      List<Get> statements = new ArrayList<>();\n+      List<Result> currentVersionResults = new ArrayList<Result>();\n+      List<Mutation> mutations = new ArrayList<>();\n+      while (scannerIterator.hasNext()) {\n+        Result result = scannerIterator.next();\n+        currentVersionResults.add(result);\n+        statements.add(generateStatement(Bytes.toString(result.getRow()), 0L, rollbackTime - 1));\n+\n+        if (scannerIterator.hasNext() &&  statements.size() < multiGetBatchSize) {\n+          continue;\n+        }\n+        Result[] lastVersionResults = hTable.get(statements);\n+        for (int i = 0; i < lastVersionResults.length; i++) {\n+          Result lastVersionResult = lastVersionResults[i];\n+          if (null == lastVersionResult.getRow() && rollbackSync) {\n+            Result currentVersionResult = currentVersionResults.get(i);\n+            Delete delete = new Delete(currentVersionResult.getRow());\n+            // delete.addColumn(SYSTEM_COLUMN_FAMILY, COMMIT_TS_COLUMN, currentTime);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cb722529e0ef56bc252edf37e3700c2e0381f6a"}, "originalPosition": 124}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTAxODEyOA==", "bodyText": "so can you confirm that this test fails if not for the fix?", "url": "https://github.com/apache/hudi/pull/2188#discussion_r549018128", "createdAt": "2020-12-26T18:28:12Z", "author": {"login": "nsivabalan"}, "path": "hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java", "diffHunk": "@@ -263,6 +265,66 @@ public void testTagLocationAndDuplicateUpdate() throws Exception {\n         && record.getCurrentLocation().getInstantTime().equals(newCommitTime))).distinct().count());\n   }\n \n+  @Test\n+  public void testTagLocationAndPartitionPathUpdateWithRollback() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cb722529e0ef56bc252edf37e3700c2e0381f6a"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTk2MzE2", "url": "https://github.com/apache/hudi/pull/2188#pullrequestreview-558996316", "createdAt": "2020-12-28T05:04:25Z", "commit": {"oid": "8cb722529e0ef56bc252edf37e3700c2e0381f6a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwNTowNDoyNVrOILxbCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwNTowNDoyNVrOILxbCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTIxNDk4NQ==", "bodyText": "Please rename this to `testTagLocationAndPartitionPathUpdateWithExplicitRollback\"", "url": "https://github.com/apache/hudi/pull/2188#discussion_r549214985", "createdAt": "2020-12-28T05:04:25Z", "author": {"login": "n3nash"}, "path": "hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java", "diffHunk": "@@ -263,6 +265,66 @@ public void testTagLocationAndDuplicateUpdate() throws Exception {\n         && record.getCurrentLocation().getInstantTime().equals(newCommitTime))).distinct().count());\n   }\n \n+  @Test\n+  public void testTagLocationAndPartitionPathUpdateWithRollback() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cb722529e0ef56bc252edf37e3700c2e0381f6a"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTk3MzYz", "url": "https://github.com/apache/hudi/pull/2188#pullrequestreview-558997363", "createdAt": "2020-12-28T05:05:12Z", "commit": {"oid": "8cb722529e0ef56bc252edf37e3700c2e0381f6a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8cb722529e0ef56bc252edf37e3700c2e0381f6a", "author": {"user": null}, "url": "https://github.com/apache/hudi/commit/8cb722529e0ef56bc252edf37e3700c2e0381f6a", "committedDate": "2020-11-02T13:39:07Z", "message": "[HUDI-1347]fix Hbase index partition changes cause data duplication problems"}, "afterCommit": {"oid": "1573c9d8b55a5d9b7f0c3ffe2575349902ec3abe", "author": {"user": null}, "url": "https://github.com/apache/hudi/commit/1573c9d8b55a5d9b7f0c3ffe2575349902ec3abe", "committedDate": "2020-12-29T01:19:43Z", "message": "[HUDI-1347]fix Hbase index partition changes cause data duplication problems"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMjE2MjM0", "url": "https://github.com/apache/hudi/pull/2188#pullrequestreview-560216234", "createdAt": "2020-12-30T22:14:40Z", "commit": {"oid": "1573c9d8b55a5d9b7f0c3ffe2575349902ec3abe"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1573c9d8b55a5d9b7f0c3ffe2575349902ec3abe", "author": {"user": null}, "url": "https://github.com/apache/hudi/commit/1573c9d8b55a5d9b7f0c3ffe2575349902ec3abe", "committedDate": "2020-12-29T01:19:43Z", "message": "[HUDI-1347]fix Hbase index partition changes cause data duplication problems"}, "afterCommit": {"oid": "c904625fb213b5ec4f6b7f6a218af15dff535d37", "author": {"user": null}, "url": "https://github.com/apache/hudi/commit/c904625fb213b5ec4f6b7f6a218af15dff535d37", "committedDate": "2021-02-20T06:23:15Z", "message": "[HUDI-1347]fix Hbase index partition changes cause data duplication problems"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTk1NTg4NDU1", "url": "https://github.com/apache/hudi/pull/2188#pullrequestreview-595588455", "createdAt": "2021-02-22T17:18:43Z", "commit": {"oid": "c904625fb213b5ec4f6b7f6a218af15dff535d37"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0yMlQxNzoxODo0NFrOIpiy3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0yMlQxNzoyOTo1OVrOIpjUvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MDQzMjYwNQ==", "bodyText": "getHBaseIndexRollbackSync", "url": "https://github.com/apache/hudi/pull/2188#discussion_r580432605", "createdAt": "2021-02-22T17:18:44Z", "author": {"login": "nsivabalan"}, "path": "hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java", "diffHunk": "@@ -537,7 +545,71 @@ private Integer getNumRegionServersAliveForTable() {\n \n   @Override\n   public boolean rollbackCommit(String instantTime) {\n-    // Rollback in HbaseIndex is managed via method {@link #checkIfValidCommit()}\n+    int multiGetBatchSize = config.getHbaseIndexGetBatchSize();\n+    boolean rollbackSync = config.getHBaseIndexRollbackSync();\n+\n+    if (!config.getHbaseIndexUpdatePartitionPath()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c904625fb213b5ec4f6b7f6a218af15dff535d37"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MDQ0MTI3Nw==", "bodyText": "Can you point me to the place where we set the new config to true.", "url": "https://github.com/apache/hudi/pull/2188#discussion_r580441277", "createdAt": "2021-02-22T17:29:59Z", "author": {"login": "nsivabalan"}, "path": "hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java", "diffHunk": "@@ -268,6 +268,66 @@ public void testTagLocationAndDuplicateUpdate() throws Exception {\n         && record.getCurrentLocation().getInstantTime().equals(newCommitTime))).distinct().count());\n   }\n \n+  @Test\n+  public void testTagLocationAndPartitionPathUpdateWithExplicitRollback() throws Exception {\n+    final int numRecords = 10;\n+    final String oldPartitionPath = \"1970/01/01\";\n+    final String emptyHoodieRecordPayloadClasssName = EmptyHoodieRecordPayload.class.getName();\n+    HoodieWriteConfig config = getConfig(true);\n+    SparkHoodieHBaseIndex index = new SparkHoodieHBaseIndex(getConfig(true));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c904625fb213b5ec4f6b7f6a218af15dff535d37"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTk1NjExNzE4", "url": "https://github.com/apache/hudi/pull/2188#pullrequestreview-595611718", "createdAt": "2021-02-22T17:42:43Z", "commit": {"oid": "c904625fb213b5ec4f6b7f6a218af15dff535d37"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7ea9cd5817e6ef3693c3e36fef8fa5578e40b5b", "author": {"user": null}, "url": "https://github.com/apache/hudi/commit/d7ea9cd5817e6ef3693c3e36fef8fa5578e40b5b", "committedDate": "2021-02-23T13:31:51Z", "message": "[HUDI-1347]fix Hbase index partition changes cause data duplication problems"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be0114342aa55a2ce1dc5220685156ccdf952292", "author": {"user": {"login": "nsivabalan", "name": "Sivabalan Narayanan"}}, "url": "https://github.com/apache/hudi/commit/be0114342aa55a2ce1dc5220685156ccdf952292", "committedDate": "2021-02-23T13:31:52Z", "message": "Addressing comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9bef5af2e1484517cb87da0b57c9a8977ab50fb", "author": {"user": {"login": "nsivabalan", "name": "Sivabalan Narayanan"}}, "url": "https://github.com/apache/hudi/commit/e9bef5af2e1484517cb87da0b57c9a8977ab50fb", "committedDate": "2021-02-23T13:49:21Z", "message": "Fetching and rebasing with master"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d2407cb7fb2d2fe91458d8fd57b3a0bbba291edb", "author": {"user": {"login": "nsivabalan", "name": "Sivabalan Narayanan"}}, "url": "https://github.com/apache/hudi/commit/d2407cb7fb2d2fe91458d8fd57b3a0bbba291edb", "committedDate": "2021-02-22T17:41:42Z", "message": "Addressing comments"}, "afterCommit": {"oid": "e9bef5af2e1484517cb87da0b57c9a8977ab50fb", "author": {"user": {"login": "nsivabalan", "name": "Sivabalan Narayanan"}}, "url": "https://github.com/apache/hudi/commit/e9bef5af2e1484517cb87da0b57c9a8977ab50fb", "committedDate": "2021-02-23T13:49:21Z", "message": "Fetching and rebasing with master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c3a394c84a70886169940756f77cb6415075438", "author": {"user": {"login": "nsivabalan", "name": "Sivabalan Narayanan"}}, "url": "https://github.com/apache/hudi/commit/0c3a394c84a70886169940756f77cb6415075438", "committedDate": "2021-02-23T13:54:43Z", "message": "Fixing config naming"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4185, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}