{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1MDczODg0", "number": 1603, "title": "[HUDI-836] Add configs for Datadog metrics reporter", "bodyText": "Update configuration docs for #1572\nCommitter checklist\n\n\n Has a corresponding JIRA in PR title & commit\n\n\n Commit message is descriptive of the change\n\n\n CI is green\n\n\n Necessary doc changes done or have another open PR\n\n\n For large changes, please consider breaking it into sub-tasks under an umbrella JIRA.", "createdAt": "2020-05-08T06:37:51Z", "url": "https://github.com/apache/hudi/pull/1603", "merged": true, "mergeCommit": {"oid": "67552318fc4eda528c85aaa84131b1abf6d461ef"}, "closed": true, "closedAt": "2020-05-28T07:40:28Z", "author": {"login": "xushiyan"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcfMW-_ABqjMzMTU4NDU0NzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclo5SDgFqTQxOTg1MjA0Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4MDQyOTEx", "url": "https://github.com/apache/hudi/pull/1603#pullrequestreview-408042911", "createdAt": "2020-05-08T07:06:54Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwNzowNzowNlrOGSbpJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwNzowNzozMFrOGSbpzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTk4MDQ1Mg==", "bodyText": "No prefix settings for JMX hence removing this.", "url": "https://github.com/apache/hudi/pull/1603#discussion_r421980452", "createdAt": "2020-05-08T07:07:06Z", "author": {"login": "xushiyan"}, "path": "docs/_docs/2_4_configurations.md", "diffHunk": "@@ -396,56 +396,90 @@ Property: `hoodie.compaction.daybased.target` <br/>\n Property: `hoodie.compaction.payload.class` <br/>\n <span style=\"color:grey\">This needs to be same as class used during insert/upserts. Just like writing, compaction also uses the record payload class to merge records in the log against each other, merge again with the base file and produce the final record to be written after compaction.</span>\n \n-\n ### Metrics configs\n+\n Enables reporting on Hudi metrics.\n [withMetricsConfig](#withMetricsConfig) (HoodieMetricsConfig) <br/>\n-<span style=\"color:grey\">Hudi publishes metrics on every commit, clean, rollback etc.The following sections list the supported reporters.</span>\n+<span style=\"color:grey\">Hudi publishes metrics on every commit, clean, rollback etc. The following sections list the supported reporters.</span>\n \n #### GRAPHITE\n \n-##### on(metricsOn = true) {#on}\n+##### withMetricsOn(metricsOn = false) {#withMetricsOn}\n `hoodie.metrics.on` <br/>\n-<span style=\"color:grey\">Turn sending metrics on/off. on by default.</span>\n+<span style=\"color:grey\">Turn on/off metrics reporting. off by default.</span>\n \n ##### withReporterType(reporterType = GRAPHITE) {#withReporterType}\n Property: `hoodie.metrics.reporter.type` <br/>\n <span style=\"color:grey\">Type of metrics reporter.</span>\n \n-##### toGraphiteHost(host = localhost) {#toGraphiteHost}\n+##### withGraphiteHost(host = localhost) {#withGraphiteHost}\n Property: `hoodie.metrics.graphite.host` <br/>\n <span style=\"color:grey\">Graphite host to connect to</span>\n \n-##### onGraphitePort(port = 4756) {#onGraphitePort}\n+##### withGraphitePort(port = 4756) {#withGraphitePort}\n Property: `hoodie.metrics.graphite.port` <br/>\n <span style=\"color:grey\">Graphite port to connect to</span>\n \n-##### usePrefix(prefix = \"\") {#usePrefix}\n+##### withGraphitePrefix(prefix = \"\") {#withGraphitePrefix}\n Property: `hoodie.metrics.graphite.metric.prefix` <br/>\n <span style=\"color:grey\">Standard prefix applied to all metrics. This helps to add datacenter, environment information for e.g</span>\n \n #### JMX\n \n-##### on(metricsOn = true) {#on}\n+##### withMetricsOn(metricsOn = false) {#withMetricsOn}\n `hoodie.metrics.on` <br/>\n-<span style=\"color:grey\">Turn sending metrics on/off. on by default.</span>\n+<span style=\"color:grey\">Turn on/off metrics reporting. off by default.</span>\n \n ##### withReporterType(reporterType = JMX) {#withReporterType}\n Property: `hoodie.metrics.reporter.type` <br/>\n <span style=\"color:grey\">Type of metrics reporter.</span>\n \n-##### toJmxHost(host = localhost) {#toJmxHost}\n+##### withJmxHost(host = localhost) {#withJmxHost}\n Property: `hoodie.metrics.jmx.host` <br/>\n <span style=\"color:grey\">Jmx host to connect to</span>\n \n-##### onJmxPort(port = 1000-5000) {#onJmxPort}\n+##### withJmxPort(port = 1000-5000) {#withJmxPort}\n Property: `hoodie.metrics.jmx.port` <br/>\n <span style=\"color:grey\">Jmx port to connect to</span>\n \n-##### usePrefix(prefix = \"\") {#usePrefix}\n-Property: `hoodie.metrics.jmx.metric.prefix` <br/>\n-<span style=\"color:grey\">Standard prefix applied to all metrics. This helps to add datacenter, environment information for e.g</span>\n-    ", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTk4MDYyMA==", "bodyText": "This is false by default", "url": "https://github.com/apache/hudi/pull/1603#discussion_r421980620", "createdAt": "2020-05-08T07:07:30Z", "author": {"login": "xushiyan"}, "path": "docs/_docs/2_4_configurations.md", "diffHunk": "@@ -396,56 +396,90 @@ Property: `hoodie.compaction.daybased.target` <br/>\n Property: `hoodie.compaction.payload.class` <br/>\n <span style=\"color:grey\">This needs to be same as class used during insert/upserts. Just like writing, compaction also uses the record payload class to merge records in the log against each other, merge again with the base file and produce the final record to be written after compaction.</span>\n \n-\n ### Metrics configs\n+\n Enables reporting on Hudi metrics.\n [withMetricsConfig](#withMetricsConfig) (HoodieMetricsConfig) <br/>\n-<span style=\"color:grey\">Hudi publishes metrics on every commit, clean, rollback etc.The following sections list the supported reporters.</span>\n+<span style=\"color:grey\">Hudi publishes metrics on every commit, clean, rollback etc. The following sections list the supported reporters.</span>\n \n #### GRAPHITE\n \n-##### on(metricsOn = true) {#on}\n+##### withMetricsOn(metricsOn = false) {#withMetricsOn}\n `hoodie.metrics.on` <br/>\n-<span style=\"color:grey\">Turn sending metrics on/off. on by default.</span>\n+<span style=\"color:grey\">Turn on/off metrics reporting. off by default.</span>", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 18}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestCommit", "commit": {"oid": "878964b8e63b71cde70a8c13ddfb455f702cf107", "author": {"user": {"login": "xushiyan", "name": "Raymond Xu"}}, "url": "https://github.com/apache/hudi/commit/878964b8e63b71cde70a8c13ddfb455f702cf107", "committedDate": "2020-05-16T20:29:16Z", "message": "[HUDI-836] Add configs for Datadog metrics reporter"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "878964b8e63b71cde70a8c13ddfb455f702cf107", "author": {"user": {"login": "xushiyan", "name": "Raymond Xu"}}, "url": "https://github.com/apache/hudi/commit/878964b8e63b71cde70a8c13ddfb455f702cf107", "committedDate": "2020-05-16T20:29:16Z", "message": "[HUDI-836] Add configs for Datadog metrics reporter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5ODUyMDQ3", "url": "https://github.com/apache/hudi/pull/1603#pullrequestreview-419852047", "createdAt": "2020-05-28T07:40:03Z", "commit": {"oid": "878964b8e63b71cde70a8c13ddfb455f702cf107"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3100, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}