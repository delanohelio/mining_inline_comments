{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4NjM2Njky", "number": 1974, "title": "[HUDI-1186][DOC] Add description of write commit callback by kafka to document", "bodyText": "Tips\n\nThank you very much for contributing to Apache Hudi.\nPlease review https://hudi.apache.org/contributing.html before opening a pull request.\n\nWhat is the purpose of the pull request\nAdd description of write commit callback by kafka to document\nBrief change log\n(for example:)\n\nModify AnnotationLocation checkstyle rule in checkstyle.xml\n\nVerify this pull request\n(Please pick either of the following options)\nThis pull request is a trivial rework / code cleanup without any test coverage.\n(or)\nThis pull request is already covered by existing tests, such as (please describe tests).\n(or)\nThis change added tests and can be verified as follows:\n(example:)\n\nAdded integration tests for end-to-end.\nAdded HoodieClientWriteTest to verify the change.\nManually verified the change by running a job locally.\n\nCommitter checklist\n\n\n Has a corresponding JIRA in PR title & commit\n\n\n Commit message is descriptive of the change\n\n\n CI is green\n\n\n Necessary doc changes done or have another open PR\n\n\n For large changes, please consider breaking it into sub-tasks under an umbrella JIRA.", "createdAt": "2020-08-17T06:59:20Z", "url": "https://github.com/apache/hudi/pull/1974", "merged": true, "mergeCommit": {"oid": "ce51638a434a40bc50a8f7ae64b8fce00ad98817"}, "closed": true, "closedAt": "2020-08-22T13:48:19Z", "author": {"login": "wangxianghu"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc_tAh2gH2gAyNDY4NjM2NjkyOmQxNGM1ZTlmZDExMjE3ZDQ1MGI1MjFlY2UyZDlkNTFiNDFkZDJkOGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdBZs53AFqTQ3MjkyNzgwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d14c5e9fd11217d450b521ece2d9d51b41dd2d8b", "author": {"user": {"login": "wangxianghu", "name": "wangxianghu"}}, "url": "https://github.com/apache/hudi/commit/d14c5e9fd11217d450b521ece2d9d51b41dd2d8b", "committedDate": "2020-08-17T07:09:37Z", "message": "[HUDI-1186]Add description of write commit callback by kafka to document"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f42a38b7b87a6102dd58c4bf4e767e6bd0e1c531", "author": {"user": {"login": "wangxianghu", "name": "wangxianghu"}}, "url": "https://github.com/apache/hudi/commit/f42a38b7b87a6102dd58c4bf4e767e6bd0e1c531", "committedDate": "2020-08-17T06:51:28Z", "message": "[HUDI-1186]Add description of write commit callback by kafka to document"}, "afterCommit": {"oid": "d14c5e9fd11217d450b521ece2d9d51b41dd2d8b", "author": {"user": {"login": "wangxianghu", "name": "wangxianghu"}}, "url": "https://github.com/apache/hudi/commit/d14c5e9fd11217d450b521ece2d9d51b41dd2d8b", "committedDate": "2020-08-17T07:09:37Z", "message": "[HUDI-1186]Add description of write commit callback by kafka to document"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMDczNDA4", "url": "https://github.com/apache/hudi/pull/1974#pullrequestreview-472073408", "createdAt": "2020-08-21T00:43:29Z", "commit": {"oid": "d14c5e9fd11217d450b521ece2d9d51b41dd2d8b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwMDo0MzoyOVrOHEXz6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwMDo0Nzo0OFrOHEX33g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM0NjQ3Mw==", "bodyText": "Can we remove \u53ea? And Http -> HTTP?", "url": "https://github.com/apache/hudi/pull/1974#discussion_r474346473", "createdAt": "2020-08-21T00:43:29Z", "author": {"login": "yanghua"}, "path": "docs/_docs/2_4_configurations.cn.md", "diffHunk": "@@ -549,7 +549,7 @@ Hudi\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9009\u9879\uff0c\u53ef\u4ee5\u901a\u8fc7\u5c06\u5bf9\u8be5\u5206\u533a\u4e2d\u7684\u63d2\u5165\u4f5c\u4e3a\u5bf9\u73b0\n <span style=\"color:grey\">\u6b64\u5c5e\u6027\u63a7\u5236\u62a5\u544a\u7ed9\u9a71\u52a8\u7a0b\u5e8f\u7684\u5931\u8d25\u8bb0\u5f55\u548c\u5f02\u5e38\u7684\u6bd4\u4f8b</span>\n \n ### \u5199\u63d0\u4ea4\u56de\u8c03\u914d\u7f6e\n-\u63a7\u5236\u5199\u63d0\u4ea4\u7684\u56de\u8c03\u3002 \u5982\u679c\u7528\u6237\u542f\u7528\u4e86\u56de\u8c03\u5e76\u4e14\u56de\u8c03\u8fc7\u7a0b\u53d1\u751f\u4e86\u9519\u8bef\uff0c\u5219\u4f1a\u629b\u51fa\u5f02\u5e38\u3002 \u5f53\u524d\u53ea\u652f\u6301Http\u56de\u8c03\u65b9\u5f0f\uff0cKafka\u4e0d\u4e45\u540e\u4f1a\u652f\u6301\u3002\n+\u63a7\u5236\u5199\u63d0\u4ea4\u7684\u56de\u8c03\u3002 \u5982\u679c\u7528\u6237\u542f\u7528\u4e86\u56de\u8c03\u5e76\u4e14\u56de\u8c03\u8fc7\u7a0b\u53d1\u751f\u4e86\u9519\u8bef\uff0c\u5219\u4f1a\u629b\u51fa\u5f02\u5e38\u3002 \u5f53\u524d\u53ea\u652f\u6301 Http, Kafka \u4e24\u79cd\u56de\u8c03\u65b9\u5f0f\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d14c5e9fd11217d450b521ece2d9d51b41dd2d8b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM0NzA0MA==", "bodyText": "\u56de\u8c03\u7c7b\u5168\u8def\u5f84\u540d -> \u56de\u8c03\u7c7b\u7684\u5b8c\u5168\u9650\u5b9a\u540d and \u5fc5\u987b\u4e3aHoodieWriteCommitCallback\u7684\u5b50\u7c7b -> \u5fc5\u987b\u5b9e\u73b0HoodieWriteCommitCallback\u63a5\u53e3", "url": "https://github.com/apache/hudi/pull/1974#discussion_r474347040", "createdAt": "2020-08-21T00:45:48Z", "author": {"login": "yanghua"}, "path": "docs/_docs/2_4_configurations.cn.md", "diffHunk": "@@ -559,9 +559,10 @@ Property: `hoodie.write.commit.callback.on` <br/>\n \n ##### withCallbackClass(callbackClass) {#withCallbackClass} \n Property: `hoodie.write.commit.callback.class` <br/>\n-<span style=\"color:grey\">\u7528\u6237\u81ea\u5b9a\u4e49\u56de\u8c03\u7684\u7c7b\u5168\u8def\u5f84\u540d\uff0c\u56de\u8c03\u7c7b\u5fc5\u987b\u4e3aHoodieWriteCommitCallback\u7684\u5b50\u7c7b\u3002\u9ed8\u8ba4 org.apache.hudi.callback.impl.HoodieWriteCommitHttpCallback</span>\n+<span style=\"color:grey\">\u56de\u8c03\u7c7b\u5168\u8def\u5f84\u540d\uff0c\u56de\u8c03\u7c7b\u5fc5\u987b\u4e3aHoodieWriteCommitCallback\u7684\u5b50\u7c7b\u3002\u9ed8\u8ba4 org.apache.hudi.callback.impl.HoodieWriteCommitHttpCallback</span>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d14c5e9fd11217d450b521ece2d9d51b41dd2d8b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM0NzMxNw==", "bodyText": "\u4e3b\u9898 -> topic", "url": "https://github.com/apache/hudi/pull/1974#discussion_r474347317", "createdAt": "2020-08-21T00:47:04Z", "author": {"login": "yanghua"}, "path": "docs/_docs/2_4_configurations.cn.md", "diffHunk": "@@ -574,3 +575,27 @@ Property: `hoodie.write.commit.callback.http.timeout.seconds` <br/>\n ##### withCallbackHttpApiKey(apiKey) {#withCallbackHttpApiKey} \n Property: `hoodie.write.commit.callback.http.api.key` <br/>\n <span style=\"color:grey\">Http \u56de\u8c03\u79d8\u94a5. \u9ed8\u8ba4 hudi_write_commit_http_callback</span>\n+\n+#### KAFKA CALLBACK\n+\u4f7f\u7528Kafka\u53d1\u9001\u5199\u63d0\u4ea4\u56de\u8c03\u4fe1\u606f, \u7528\u6237\u9700\u8981\u914d\u7f6e `hoodie.write.commit.callback.class` = `org.apache.hudi.utilities.callback.kafka.HoodieWriteCommitKafkaCallback`\n+\n+##### CALLBACK_KAFKA_BOOTSTRAP_SERVERS\n+Property: `hoodie.write.commit.callback.kafka.bootstrap.servers` <br/>\n+<span style=\"color:grey\">Kafka \u96c6\u7fa4\u5730\u5740</span>\n+\n+##### CALLBACK_KAFKA_TOPIC\n+Property: `hoodie.write.commit.callback.kafka.topic` <br/>\n+<span style=\"color:grey\">\u53d1\u9001\u56de\u8c03\u4fe1\u606f\u7684\u4e3b\u9898</span>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d14c5e9fd11217d450b521ece2d9d51b41dd2d8b"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM0NzQ4Ng==", "bodyText": "Remove only.", "url": "https://github.com/apache/hudi/pull/1974#discussion_r474347486", "createdAt": "2020-08-21T00:47:48Z", "author": {"login": "yanghua"}, "path": "docs/_docs/2_4_configurations.md", "diffHunk": "@@ -512,7 +512,7 @@ Property: `hoodie.memory.writestatus.failure.fraction` <br/>\n <span style=\"color:grey\">This property controls what fraction of the failed record, exceptions we report back to driver</span>\n \n ### Write commit callback configs\n-Controls callback behavior on write commit. Exception will be thrown if user enabled the callback service and errors occurred during the process of callback. Currently support http callback only, kafka implementation will be supported in the near future. \n+Controls callback behavior on write commit. Exception will be thrown if user enabled the callback service and errors occurred during the process of callback. Currently support http, kafka type only. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d14c5e9fd11217d450b521ece2d9d51b41dd2d8b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35addc6a4ea75bea00cd10b3fec3ebd3aa76d8ab", "author": {"user": {"login": "wangxianghu", "name": "wangxianghu"}}, "url": "https://github.com/apache/hudi/commit/35addc6a4ea75bea00cd10b3fec3ebd3aa76d8ab", "committedDate": "2020-08-21T04:27:03Z", "message": "Adjust description of kafka callback"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "469c5b2f27539dadda05e4fc6a3334153fd480fc", "author": {"user": {"login": "wangxianghu", "name": "wangxianghu"}}, "url": "https://github.com/apache/hudi/commit/469c5b2f27539dadda05e4fc6a3334153fd480fc", "committedDate": "2020-08-21T04:24:50Z", "message": "Adjust description of kafka callback"}, "afterCommit": {"oid": "35addc6a4ea75bea00cd10b3fec3ebd3aa76d8ab", "author": {"user": {"login": "wangxianghu", "name": "wangxianghu"}}, "url": "https://github.com/apache/hudi/commit/35addc6a4ea75bea00cd10b3fec3ebd3aa76d8ab", "committedDate": "2020-08-21T04:27:03Z", "message": "Adjust description of kafka callback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyNDEzMzAw", "url": "https://github.com/apache/hudi/pull/1974#pullrequestreview-472413300", "createdAt": "2020-08-21T11:27:36Z", "commit": {"oid": "35addc6a4ea75bea00cd10b3fec3ebd3aa76d8ab"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxMToyNzozNlrOHEpoNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxMToyNzozNlrOHEpoNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYzODM5MQ==", "bodyText": "http -> HTTP", "url": "https://github.com/apache/hudi/pull/1974#discussion_r474638391", "createdAt": "2020-08-21T11:27:36Z", "author": {"login": "yanghua"}, "path": "docs/_docs/2_4_configurations.md", "diffHunk": "@@ -522,9 +522,10 @@ Property: `hoodie.write.commit.callback.on` <br/>\n \n ##### withCallbackClass(callbackClass) {#withCallbackClass} \n Property: `hoodie.write.commit.callback.class` <br/>\n-<span style=\"color:grey\">Full path of user-defined callback class and must be a subclass of HoodieWriteCommitCallback class, org.apache.hudi.callback.impl.HoodieWriteCommitHttpCallback by default</span>\n+<span style=\"color:grey\">Full path of callback class and must be a subclass of HoodieWriteCommitCallback class, org.apache.hudi.callback.impl.HoodieWriteCommitHttpCallback by default</span>\n \n-#### HoodieWriteCommitHttpCallback\n+#### HTTP CALLBACK\n+Callback via http, User does not need to specify this way explicitly, it is the default type.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "35addc6a4ea75bea00cd10b3fec3ebd3aa76d8ab"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d59595f93c73d5df31763d2bf3629b01dde277e", "author": {"user": {"login": "wangxianghu", "name": "wangxianghu"}}, "url": "https://github.com/apache/hudi/commit/9d59595f93c73d5df31763d2bf3629b01dde277e", "committedDate": "2020-08-21T12:53:06Z", "message": "change http to HTTP"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyOTI3ODA3", "url": "https://github.com/apache/hudi/pull/1974#pullrequestreview-472927807", "createdAt": "2020-08-22T13:47:50Z", "commit": {"oid": "9d59595f93c73d5df31763d2bf3629b01dde277e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4849, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}