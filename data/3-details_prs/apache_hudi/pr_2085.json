{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg0ODg1NzYz", "number": 2085, "title": "[HUDI-1209] Properties File must be optional when running deltastreamer", "bodyText": "What is the purpose of the pull request\n\nPrevent print error message when user has not specify \"--props\" when running deltastreamer.\n\nBrief change log\n(for example:)\n\nModify AnnotationLocation checkstyle rule in checkstyle.xml\n\nVerify this pull request\n(Please pick either of the following options)\nThis pull request is a trivial rework / code cleanup without any test coverage.\n(or)\nThis pull request is already covered by existing tests, such as (please describe tests).\n(or)\nThis change added tests and can be verified as follows:\n(example:)\n\nAdded integration tests for end-to-end.\nAdded HoodieClientWriteTest to verify the change.\nManually verified the change by running a job locally.\n\nCommitter checklist\n\n\n Has a corresponding JIRA in PR title & commit\n\n\n Commit message is descriptive of the change\n\n\n CI is green\n\n\n Necessary doc changes done or have another open PR\n\n\n For large changes, please consider breaking it into sub-tasks under an umbrella JIRA.", "createdAt": "2020-09-11T09:55:15Z", "url": "https://github.com/apache/hudi/pull/2085", "merged": true, "mergeCommit": {"oid": "49407169ac1711c0babb77fb3014473c0b236edd"}, "closed": true, "closedAt": "2020-10-22T00:49:28Z", "author": {"login": "shenh062326"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdH_iS3gBqjM3NTg1ODUxNDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUnY9kgFqTUxMzM0MzAyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eab9555a43c9502e784968abbc4fb44b7e0eed6b", "author": {"user": {"login": "shenh062326", "name": "Shen Hong"}}, "url": "https://github.com/apache/hudi/commit/eab9555a43c9502e784968abbc4fb44b7e0eed6b", "committedDate": "2020-09-11T09:52:28Z", "message": "[HUDI-1209] Properties File must be optional when running deltastreamer"}, "afterCommit": {"oid": "5b63f0e816112bc0fdb598dfddfb3b7e7dbeb551", "author": {"user": {"login": "shenh062326", "name": "Shen Hong"}}, "url": "https://github.com/apache/hudi/commit/5b63f0e816112bc0fdb598dfddfb3b7e7dbeb551", "committedDate": "2020-09-12T01:15:59Z", "message": "[HUDI-1209] Properties File must be optional when running deltastreamer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5b63f0e816112bc0fdb598dfddfb3b7e7dbeb551", "author": {"user": {"login": "shenh062326", "name": "Shen Hong"}}, "url": "https://github.com/apache/hudi/commit/5b63f0e816112bc0fdb598dfddfb3b7e7dbeb551", "committedDate": "2020-09-12T01:15:59Z", "message": "[HUDI-1209] Properties File must be optional when running deltastreamer"}, "afterCommit": {"oid": "0024d977e021cb5fd494aa0ddf2edfc92f932082", "author": {"user": {"login": "shenh062326", "name": "Shen Hong"}}, "url": "https://github.com/apache/hudi/commit/0024d977e021cb5fd494aa0ddf2edfc92f932082", "committedDate": "2020-09-12T07:45:55Z", "message": "[HUDI-1209] Properties File must be optional when running deltastreamer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MTAzNzUz", "url": "https://github.com/apache/hudi/pull/2085#pullrequestreview-495103753", "createdAt": "2020-09-23T22:57:35Z", "commit": {"oid": "0024d977e021cb5fd494aa0ddf2edfc92f932082"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMjo1NzozNVrOHXDuDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMjo1NzozNVrOHXDuDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzk0MDIzNw==", "bodyText": "can this be written more readable? using if-elseif blocks?", "url": "https://github.com/apache/hudi/pull/2085#discussion_r493940237", "createdAt": "2020-09-23T22:57:35Z", "author": {"login": "vinothchandar"}, "path": "hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java", "diffHunk": "@@ -112,9 +112,14 @@ public HoodieDeltaStreamer(Config cfg, JavaSparkContext jssc, FileSystem fs, Con\n   public HoodieDeltaStreamer(Config cfg, JavaSparkContext jssc, FileSystem fs, Configuration conf,\n                              TypedProperties props) throws IOException {\n     // Resolving the properties first in a consistent way\n-    this.properties = props != null ? props : UtilHelpers.readConfig(\n-        FSUtils.getFs(cfg.propsFilePath, jssc.hadoopConfiguration()),\n-        new Path(cfg.propsFilePath), cfg.configs).getConfig();\n+    if (props != null) {\n+      this.properties = props;\n+    } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0024d977e021cb5fd494aa0ddf2edfc92f932082"}, "originalPosition": 9}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0024d977e021cb5fd494aa0ddf2edfc92f932082", "author": {"user": {"login": "shenh062326", "name": "Shen Hong"}}, "url": "https://github.com/apache/hudi/commit/0024d977e021cb5fd494aa0ddf2edfc92f932082", "committedDate": "2020-09-12T07:45:55Z", "message": "[HUDI-1209] Properties File must be optional when running deltastreamer"}, "afterCommit": {"oid": "81e21d9d7f45aab4f5bc3e4ba4517ac983e9a65c", "author": {"user": {"login": "shenh062326", "name": "Shen Hong"}}, "url": "https://github.com/apache/hudi/commit/81e21d9d7f45aab4f5bc3e4ba4517ac983e9a65c", "committedDate": "2020-09-24T12:03:01Z", "message": "[HUDI-1209] Properties File must be optional when running deltastreamer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d6626dd089246c773e784567925264c9aaab435", "author": {"user": {"login": "shenh062326", "name": "Shen Hong"}}, "url": "https://github.com/apache/hudi/commit/9d6626dd089246c773e784567925264c9aaab435", "committedDate": "2020-10-21T06:27:52Z", "message": "[HUDI-1209] Properties File must be optional when running deltastreamer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "81e21d9d7f45aab4f5bc3e4ba4517ac983e9a65c", "author": {"user": {"login": "shenh062326", "name": "Shen Hong"}}, "url": "https://github.com/apache/hudi/commit/81e21d9d7f45aab4f5bc3e4ba4517ac983e9a65c", "committedDate": "2020-09-24T12:03:01Z", "message": "[HUDI-1209] Properties File must be optional when running deltastreamer"}, "afterCommit": {"oid": "9d6626dd089246c773e784567925264c9aaab435", "author": {"user": {"login": "shenh062326", "name": "Shen Hong"}}, "url": "https://github.com/apache/hudi/commit/9d6626dd089246c773e784567925264c9aaab435", "committedDate": "2020-10-21T06:27:52Z", "message": "[HUDI-1209] Properties File must be optional when running deltastreamer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzMzQzMDI5", "url": "https://github.com/apache/hudi/pull/2085#pullrequestreview-513343029", "createdAt": "2020-10-21T06:29:17Z", "commit": {"oid": "9d6626dd089246c773e784567925264c9aaab435"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4532, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}