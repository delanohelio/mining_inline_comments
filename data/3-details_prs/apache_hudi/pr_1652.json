{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxMzM1MzQz", "number": 1652, "title": "[HUDI-918] Fix kafkaOffsetGen can not read kafka data bug", "bodyText": "What is the purpose of the pull request\nsourceLimit should not be less than the number of kafka partitions\nCommitter checklist\n\n\n Has a corresponding JIRA in PR title & commit\n\n\n Commit message is descriptive of the change\n\n\n CI is green\n\n\n Necessary doc changes done or have another open PR\n\n\n For large changes, please consider breaking it into sub-tasks under an umbrella JIRA.", "createdAt": "2020-05-21T12:51:45Z", "url": "https://github.com/apache/hudi/pull/1652", "merged": true, "mergeCommit": {"oid": "97ab97b72635164db5ac2a4f93e72e224603ffe0"}, "closed": true, "closedAt": "2020-06-08T12:46:48Z", "author": {"login": "liujinhui1994"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjdIG2AH2gAyNDIxMzM1MzQzOjliOWRlMWNmNGFkN2IxMjczYzk4M2ZhZWE3MmVlNzAwZTMwNTRiZDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclbvbJgFqTQxOTM5NTA0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9b9de1cf4ad7b1273c983faea72ee700e3054bd6", "author": {"user": {"login": "liujinhui1994", "name": "liujinhui"}}, "url": "https://github.com/apache/hudi/commit/9b9de1cf4ad7b1273c983faea72ee700e3054bd6", "committedDate": "2020-05-21T12:49:32Z", "message": "HUDI-918 deltastreamer bug is no new data"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0699e214ef7d6f112fc9f74c8279e445407617d0", "author": {"user": {"login": "liujinhui1994", "name": "liujinhui"}}, "url": "https://github.com/apache/hudi/commit/0699e214ef7d6f112fc9f74c8279e445407617d0", "committedDate": "2020-05-22T12:19:43Z", "message": "HUDI-918 deltastreamer bug is no new data"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MDc3OTQz", "url": "https://github.com/apache/hudi/pull/1652#pullrequestreview-417077943", "createdAt": "2020-05-22T17:33:03Z", "commit": {"oid": "0699e214ef7d6f112fc9f74c8279e445407617d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNzozMzowNFrOGZeyXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNzozMzowNFrOGZeyXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM3MTk5OA==", "bodyText": "Do you mean something like setting sourceLimit to 5 but you have 10 kafka partitions? Why setting sourceLimit to this small?", "url": "https://github.com/apache/hudi/pull/1652#discussion_r429371998", "createdAt": "2020-05-22T17:33:04Z", "author": {"login": "garyli1019"}, "path": "hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java", "diffHunk": "@@ -207,6 +208,11 @@ public KafkaOffsetGen(TypedProperties props) {\n     maxEventsToReadFromKafka = (maxEventsToReadFromKafka == Long.MAX_VALUE || maxEventsToReadFromKafka == Integer.MAX_VALUE)\n         ? Config.maxEventsFromKafkaSource : maxEventsToReadFromKafka;\n     long numEvents = sourceLimit == Long.MAX_VALUE ? maxEventsToReadFromKafka : sourceLimit;\n+\n+    if (numEvents < toOffsets.size()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0699e214ef7d6f112fc9f74c8279e445407617d0"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5Mzk1MDQ5", "url": "https://github.com/apache/hudi/pull/1652#pullrequestreview-419395049", "createdAt": "2020-05-27T16:20:31Z", "commit": {"oid": "0699e214ef7d6f112fc9f74c8279e445407617d0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3174, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}