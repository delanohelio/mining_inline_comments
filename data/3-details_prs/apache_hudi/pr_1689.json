{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1Mzc2NTQy", "number": 1689, "title": "[HUDI-811] Restructure test packages in hudi-client/cli", "bodyText": "Move test utils classes to testutils package\nAlign test class package with its testing class where possible\n\nThe following modules were migrated.\n\nhudi-cli\nhudi-client\n\nFollows #1644\nMigration status (after merging)\n\n\n\nPackage\nJUnit 5 lib\nAPI migration\nRestructure packages\n\n\n\n\nhudi-cli\n\u2705\n\u2705\n\u2705\n\n\nhudi-client\n\u2705\n\u2705\n\u2705\n\n\nhudi-common\n\u2705\n\u2705\n\u2705\n\n\nhudi-hadoop-mr\n\u2705\n\u2705\n\u2705\n\n\nhudi-hive-sync\n\u2705\n\u2705\n\u2705\n\n\nhudi-integ-test\n\u2705\n\u2705\nN.A.\n\n\nhudi-spark\n\u2705\n\u2705\n\u2705\n\n\nhudi-timeline-service\n\u2705\n\u2705\n\u2705\n\n\nhudi-utilities\n\u2705\n\u2705\n\u2705\n\n\n\nCommitter checklist\n\n\n Has a corresponding JIRA in PR title & commit\n\n\n Commit message is descriptive of the change\n\n\n CI is green\n\n\n Necessary doc changes done or have another open PR\n\n\n For large changes, please consider breaking it into sub-tasks under an umbrella JIRA.", "createdAt": "2020-05-29T23:39:58Z", "url": "https://github.com/apache/hudi/pull/1689", "merged": true, "mergeCommit": {"oid": "742c2040995167871db976fc0eb280347401ffc4"}, "closed": true, "closedAt": "2020-06-02T02:25:43Z", "author": {"login": "xushiyan"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcmLoMqAH2gAyNDI1Mzc2NTQyOjdhYzU4Nzg1NmExMTMxOWJiOWEwYmIzOTNjNTA5MDIyMDE2Yzg3Y2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnLY5sgFqTQyMjMwMDQ5Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7ac587856a11319bb9a0bb393c509022016c87ca", "author": {"user": {"login": "xushiyan", "name": "Raymond Xu"}}, "url": "https://github.com/apache/hudi/commit/7ac587856a11319bb9a0bb393c509022016c87ca", "committedDate": "2020-05-30T00:08:04Z", "message": "[HUDI-811] Restructure test packages\n\n* hudi-cli\n* hudi-client"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "7ac587856a11319bb9a0bb393c509022016c87ca", "author": {"user": {"login": "xushiyan", "name": "Raymond Xu"}}, "url": "https://github.com/apache/hudi/commit/7ac587856a11319bb9a0bb393c509022016c87ca", "committedDate": "2020-05-30T00:08:04Z", "message": "[HUDI-811] Restructure test packages\n\n* hudi-cli\n* hudi-client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b1482d0e5393d217e80f6a6545f8a17b5a1fb5a", "author": {"user": {"login": "xushiyan", "name": "Raymond Xu"}}, "url": "https://github.com/apache/hudi/commit/3b1482d0e5393d217e80f6a6545f8a17b5a1fb5a", "committedDate": "2020-05-30T01:43:28Z", "message": "Trigger"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMzcxMjg2", "url": "https://github.com/apache/hudi/pull/1689#pullrequestreview-421371286", "createdAt": "2020-05-30T02:43:04Z", "commit": {"oid": "3b1482d0e5393d217e80f6a6545f8a17b5a1fb5a"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQwMjo0MzowNVrOGcwMqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQwMjo1MDoyM1rOGcwOVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgwMjk4Nw==", "bodyText": "already called in setUp()", "url": "https://github.com/apache/hudi/pull/1689#discussion_r432802987", "createdAt": "2020-05-30T02:43:05Z", "author": {"login": "xushiyan"}, "path": "hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java", "diffHunk": "@@ -133,7 +135,6 @@ public void testSchemaCompatibilityBasic() throws Exception {\n   @Test\n   public void testMORTable() throws Exception {\n     tableType = HoodieTableType.MERGE_ON_READ;\n-    initMetaClient();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b1482d0e5393d217e80f6a6545f8a17b5a1fb5a"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgwMzQxMw==", "bodyText": "Fixed the name by not using Test prefix since it's not a test per se.", "url": "https://github.com/apache/hudi/pull/1689#discussion_r432803413", "createdAt": "2020-05-30T02:50:23Z", "author": {"login": "xushiyan"}, "path": "hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java", "diffHunk": "@@ -70,9 +69,9 @@\n /**\n  * Base Class providing setup/cleanup and utility methods for testing Hoodie Client facing tests.\n  */\n-public class TestHoodieClientBase extends HoodieClientTestHarness {\n+public class HoodieClientTestBase extends HoodieClientTestHarness {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b1482d0e5393d217e80f6a6545f8a17b5a1fb5a"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTUzOTY0", "url": "https://github.com/apache/hudi/pull/1689#pullrequestreview-421553964", "createdAt": "2020-06-01T01:38:03Z", "commit": {"oid": "3b1482d0e5393d217e80f6a6545f8a17b5a1fb5a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwMTozODowM1rOGc8z-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwMTozODowM1rOGc8z-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAwOTY1Nw==", "bodyText": "Why not private static final Logger LOG = LogManager.getLogger(TestCleaner.class);?", "url": "https://github.com/apache/hudi/pull/1689#discussion_r433009657", "createdAt": "2020-06-01T01:38:03Z", "author": {"login": "yanghua"}, "path": "hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java", "diffHunk": "@@ -88,10 +88,10 @@\n /**\n  * Test Cleaning related logic.\n  */\n-public class TestCleaner extends TestHoodieClientBase {\n+public class TestCleaner extends HoodieClientTestBase {\n \n   private static final int BIG_BATCH_INSERT_SIZE = 500;\n-  private static final Logger LOG = LogManager.getLogger(TestHoodieClientBase.class);\n+  private static final Logger LOG = LogManager.getLogger(HoodieClientTestBase.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b1482d0e5393d217e80f6a6545f8a17b5a1fb5a"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1b6ecaedc8dc9adddbde2de45bed740a9a4c052", "author": {"user": {"login": "xushiyan", "name": "Raymond Xu"}}, "url": "https://github.com/apache/hudi/commit/b1b6ecaedc8dc9adddbde2de45bed740a9a4c052", "committedDate": "2020-06-01T14:54:47Z", "message": "fix TestCleaner LOG"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMzAwNDk3", "url": "https://github.com/apache/hudi/pull/1689#pullrequestreview-422300497", "createdAt": "2020-06-02T02:25:17Z", "commit": {"oid": "b1b6ecaedc8dc9adddbde2de45bed740a9a4c052"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4899, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}