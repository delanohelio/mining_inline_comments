{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5NzM5Mzgz", "number": 1298, "title": "[HUDI-587] Fixed generation of jacoco coverage reports.", "bodyText": "What is the purpose of the pull request\nFix generation of jacococ coverage reports after unit tests are run.\nBrief change log\nsurefire plugin's argLine is moved into a property. This configuration allows jacoco plugin to modify the argLine to insert it's Java Agent's configuration during pre-unit-test stage.\nVerify this pull request\nThis pull request is already covered by existing tests, such as (please describe tests).\nExecuted unit test and confirmed that coverage report is generated. See these logs:\nmvn test -Dtest=TestHoodieActiveTimeline\n10:33:33 [INFO] --- jacoco-maven-plugin:0.7.8:prepare-agent (pre-unit-test) @ hudi-common ---\n10:33:33 [INFO] argLine set to -javaagent:/home/pwason/.m2/repository/org/jacoco/org.jacoco.agent/0.7.8/org.jacoco.agent-0.7.8-runtime.jar=destfile=/home/pwason/work/java/incubator-hudi/hudi-common/target/coverage-reports/jacoco-ut.exec -Xmx1024m -XX:MaxPermSize=256m\n...\n...\n10:33:41 [INFO] --- jacoco-maven-plugin:0.7.8:report (post-unit-test) @ hudi-common ---\n10:33:41 [INFO] Loading execution data file /home/pwason/work/java/incubator-hudi/hudi-common/target/coverage-reports/jacoco-ut.exec\n10:33:42 [INFO] Analyzed bundle 'hudi-common' with 273 classes\nls -al hudi-common/target/coverage-reports/jacoco-ut.exec\n-rw-rw-r-- 1 pwason pwason 49240 Jan 31 10:33 hudi-common/target/coverage-reports/jacoco-ut.exec\nCommitter checklist\n\n\n Has a corresponding JIRA in PR title & commit\n\n\n Commit message is descriptive of the change\n\n\n CI is green\n\n\n Necessary doc changes done or have another open PR\n\n\n For large changes, please consider breaking it into sub-tasks under an umbrella JIRA.", "createdAt": "2020-01-31T19:35:58Z", "url": "https://github.com/apache/hudi/pull/1298", "merged": true, "mergeCommit": {"oid": "d26dc0b229043afa5aefca239e72f40d80446917"}, "closed": true, "closedAt": "2020-02-05T22:27:04Z", "author": {"login": "prashantwason"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_zwpTgH2gAyMzY5NzM5MzgzOjJmMzA0Njc1YzBjM2I2YWNiZTJhMWY4YjBlNjAwM2Y5M2Y3ZWIyMDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBd2q1AFqTM1NDA4NTM5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2f304675c0c3b6acbe2a1f8b0e6003f93f7eb203", "author": {"user": {"login": "prashantwason", "name": "Prashant Wason"}}, "url": "https://github.com/apache/hudi/commit/2f304675c0c3b6acbe2a1f8b0e6003f93f7eb203", "committedDate": "2020-01-31T18:50:27Z", "message": "[HUDI-587] Fixed generation of jacoco coverage reports.\n\nsurefire plugin's argLine is moved into a property. This configuration allows jacoco plugin to modify the argLine to insert it's Java Agent's configuration during pre-unit-test stage."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyNjg3MTcw", "url": "https://github.com/apache/hudi/pull/1298#pullrequestreview-352687170", "createdAt": "2020-02-04T02:14:58Z", "commit": {"oid": "2f304675c0c3b6acbe2a1f8b0e6003f93f7eb203"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMjoxNDo1OFrOFlGLeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwMjoxNDo1OFrOFlGLeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQ0Mjg3Mg==", "bodyText": "@prashantwason this has a side effect of making the builds run slower. The reason is that when a build is submitted in travis, it needs to wait for resources to be available for the build to get triggered. My understanding is that if we ask for a larger JVM for non-IntegrationTest modules as well, this will make the process slower.\nHow much more memory is required for the coverage report ?", "url": "https://github.com/apache/hudi/pull/1298#discussion_r374442872", "createdAt": "2020-02-04T02:14:58Z", "author": {"login": "n3nash"}, "path": "pom.xml", "diffHunk": "@@ -113,6 +113,7 @@\n     <spark.bundle.hive.shade.prefix></spark.bundle.hive.shade.prefix>\n     <utilities.bundle.hive.scope>provided</utilities.bundle.hive.scope>\n     <utilities.bundle.hive.shade.prefix></utilities.bundle.hive.shade.prefix>\n+    <argLine>-Xmx1024m -XX:MaxPermSize=256m</argLine>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f304675c0c3b6acbe2a1f8b0e6003f93f7eb203"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MDg1Mzk5", "url": "https://github.com/apache/hudi/pull/1298#pullrequestreview-354085399", "createdAt": "2020-02-05T22:26:58Z", "commit": {"oid": "2f304675c0c3b6acbe2a1f8b0e6003f93f7eb203"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4187, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}