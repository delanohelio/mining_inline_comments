{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyNTAwMTQy", "number": 2125, "title": "Fix #2124: Raw Watch on CustomResource does not work if name specified", "bodyText": "Fix #2124", "createdAt": "2020-04-13T06:41:44Z", "url": "https://github.com/fabric8io/kubernetes-client/pull/2125", "merged": true, "mergeCommit": {"oid": "9eca2111ba205b0af64bb1e4c5467f9e4f411bb4"}, "closed": true, "closedAt": "2020-04-23T07:58:13Z", "author": {"login": "rohanKanojia"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXJdaqgFqTM5MTk5MjI3NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcaXyJNAFqTM5ODgyOTc5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxOTkyMjc1", "url": "https://github.com/fabric8io/kubernetes-client/pull/2125#pullrequestreview-391992275", "createdAt": "2020-04-13T07:07:37Z", "commit": {"oid": "13402b58971f5f18d3e4732221ae48954d7981ad"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNjA0OTg5", "url": "https://github.com/fabric8io/kubernetes-client/pull/2125#pullrequestreview-392604989", "createdAt": "2020-04-14T05:03:46Z", "commit": {"oid": "13402b58971f5f18d3e4732221ae48954d7981ad"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwNTowMzo0NlrOGE-Vjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwNTowMzo0NlrOGE-Vjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg2ODgxNQ==", "bodyText": "Is it possible to keep the constructor clean and leave the additional logic here?\ne.g.\n  private String fetchUrl(String name, String namespace, Map<String, String> labels, String resourceVersion) {\n    String resourceUrl = fetchUrl(namespace, labels);\n    if (resourceUrl.endsWith(\"/\")) {\n      resourceUrl = resourceUrl.substring(0, resourceUrl.length() - 1);\n    }\n    URL url = new URL(resourceUrl);\n    if (name != null) {\n      httpUrlBuilder.addQueryParameter(\"fieldSelector\", \"metadata.name=\" + name);\n    }\n    if (resourceVersion != null) {\n      httpUrlBuilder.addQueryParameter(\"resourceVersion\", resourceVersion);\n    }\n    return url;\n  }\n\nIf you package expose the method, you could even add a couple of unit tests to verify the expected logic for each input variable combination.", "url": "https://github.com/fabric8io/kubernetes-client/pull/2125#discussion_r407868815", "createdAt": "2020-04-14T05:03:46Z", "author": {"login": "manusa"}, "path": "kubernetes-client/src/main/java/io/fabric8/kubernetes/client/dsl/internal/RawCustomResourceOperationsImpl.java", "diffHunk": "@@ -696,15 +704,6 @@ public Watch watch(String namespace, String name, Map<String, String> labels, St\n     return retVal;\n   }\n \n-  private String fetchUrl(String name, String namespace, Map<String, String> labels) {\n-    String url = fetchUrl(namespace, labels);\n-    if (name != null) {\n-      return url + name;\n-    } else {\n-      return url.substring(0, url.length() - 1);\n-    }\n-  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13402b58971f5f18d3e4732221ae48954d7981ad"}, "originalPosition": 38}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "13402b58971f5f18d3e4732221ae48954d7981ad", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/13402b58971f5f18d3e4732221ae48954d7981ad", "committedDate": "2020-04-13T06:41:07Z", "message": "Fix #2124: Raw Watch on CustomResource does not work if name specified"}, "afterCommit": {"oid": "6939eb6ad9d6d9460af8cbba5f12e7a73384a80c", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/6939eb6ad9d6d9460af8cbba5f12e7a73384a80c", "committedDate": "2020-04-20T14:40:17Z", "message": "Fix #2124: Raw Watch on CustomResource does not work if name specified"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2OTg4Mjgy", "url": "https://github.com/fabric8io/kubernetes-client/pull/2125#pullrequestreview-396988282", "createdAt": "2020-04-21T05:01:53Z", "commit": {"oid": "6939eb6ad9d6d9460af8cbba5f12e7a73384a80c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51f0d4f12b5de7a4f87542f92baff618bd235789", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/51f0d4f12b5de7a4f87542f92baff618bd235789", "committedDate": "2020-04-22T06:28:32Z", "message": "Fix #2124: Raw Watch on CustomResource does not work if name specified"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6939eb6ad9d6d9460af8cbba5f12e7a73384a80c", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/6939eb6ad9d6d9460af8cbba5f12e7a73384a80c", "committedDate": "2020-04-20T14:40:17Z", "message": "Fix #2124: Raw Watch on CustomResource does not work if name specified"}, "afterCommit": {"oid": "51f0d4f12b5de7a4f87542f92baff618bd235789", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/51f0d4f12b5de7a4f87542f92baff618bd235789", "committedDate": "2020-04-22T06:28:32Z", "message": "Fix #2124: Raw Watch on CustomResource does not work if name specified"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4ODI5Nzkz", "url": "https://github.com/fabric8io/kubernetes-client/pull/2125#pullrequestreview-398829793", "createdAt": "2020-04-23T07:30:42Z", "commit": {"oid": "51f0d4f12b5de7a4f87542f92baff618bd235789"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3750, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}