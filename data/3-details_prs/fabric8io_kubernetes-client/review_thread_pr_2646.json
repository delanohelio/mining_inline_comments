{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMxMTQyMzcz", "number": 2646, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDoxMjowMVrOFDZUug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwNzo1MzozM1rOFD3AAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MTA0OTU0OnYy", "diffSide": "RIGHT", "path": "kubernetes-client/src/main/java/io/fabric8/kubernetes/client/utils/Serialization.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDoxMjowMVrOIDBhtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDoxMjowMVrOIDBhtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA0MTY1NQ==", "bodyText": "This class (Yaml) is not thread safe, should be instantiated for each request.\nnit: it's not a mapper either.\nThe field should be removed. See proposed changes in lines 62-64 for the thread-safety issue.", "url": "https://github.com/fabric8io/kubernetes-client/pull/2646#discussion_r540041655", "createdAt": "2020-12-10T10:12:01Z", "author": {"login": "manusa"}, "path": "kubernetes-client/src/main/java/io/fabric8/kubernetes/client/utils/Serialization.java", "diffHunk": "@@ -46,6 +48,7 @@ private Serialization() { }\n     JSON_MAPPER.registerModule(new JavaTimeModule());\n   }\n   private static final ObjectMapper YAML_MAPPER = new ObjectMapper(new YAMLFactory());\n+  private static final Yaml SNAKE_YAML_MAPPER = new Yaml();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db4b6ce919cbcdbfb86cbe388b1c536557cd410d"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MTA1MjY0OnYy", "diffSide": "RIGHT", "path": "kubernetes-client/src/main/java/io/fabric8/kubernetes/client/utils/Serialization.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDoxMjoyNlrOIDBjZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDoxMjoyNlrOIDBjZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA0MjA4NQ==", "bodyText": "https://github.com/fabric8io/kubernetes-client/pull/2646/files#r540041655\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              public static Yaml snakeYamlMapper() {\n          \n          \n            \n                return SNAKE_YAML_MAPPER;\n          \n          \n            \n              }\n          \n          \n            \n              public static Yaml newSnakeYaml() {\n          \n          \n            \n                return new Yaml();\n          \n          \n            \n              }", "url": "https://github.com/fabric8io/kubernetes-client/pull/2646#discussion_r540042085", "createdAt": "2020-12-10T10:12:26Z", "author": {"login": "manusa"}, "path": "kubernetes-client/src/main/java/io/fabric8/kubernetes/client/utils/Serialization.java", "diffHunk": "@@ -56,6 +59,10 @@ public static ObjectMapper yamlMapper() {\n     return YAML_MAPPER;\n   }\n \n+  public static Yaml snakeYamlMapper() {\n+    return SNAKE_YAML_MAPPER;\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db4b6ce919cbcdbfb86cbe388b1c536557cd410d"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NTkxMTY4OnYy", "diffSide": "RIGHT", "path": "kubernetes-client/src/main/java/io/fabric8/kubernetes/client/utils/Serialization.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwNzo1MzozM1rOIDtAXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwNzo1MzozM1rOIDtAXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDc1NDAxNA==", "bodyText": "nit: these comments are very redundant", "url": "https://github.com/fabric8io/kubernetes-client/pull/2646#discussion_r540754014", "createdAt": "2020-12-11T07:53:33Z", "author": {"login": "manusa"}, "path": "kubernetes-client/src/main/java/io/fabric8/kubernetes/client/utils/Serialization.java", "diffHunk": "@@ -294,4 +294,21 @@ private static String readSpecFileFromInputStream(InputStream inputStream) {\n       throw new RuntimeException(\"Unable to read InputStream.\" + e);\n     }\n   }\n+\n+  private static <T> T unmarshalYaml(InputStream is, TypeReference<T> type) throws JsonProcessingException {\n+    final Yaml yaml = new Yaml();\n+    // Load YAML into HashMap using SnakeYAML", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7d65db4c7f0b70bd9efeb2e7918e87419ff208b"}, "originalPosition": 41}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3624, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}