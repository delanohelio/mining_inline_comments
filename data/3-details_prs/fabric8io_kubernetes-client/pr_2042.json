{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzOTA2NjMx", "number": 2042, "title": "Fix #1247: URL parameters are not escaped.", "bodyText": "#1247", "createdAt": "2020-03-04T21:47:04Z", "url": "https://github.com/fabric8io/kubernetes-client/pull/2042", "merged": true, "mergeCommit": {"oid": "508010999475bc586ad256c9155729d633c37b96"}, "closed": true, "closedAt": "2020-03-06T06:50:08Z", "author": {"login": "dev-gaur"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKelAjAFqTM2OTE2ODMyMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcK6FO2AFqTM3MDEwNDU3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MTY4MzIy", "url": "https://github.com/fabric8io/kubernetes-client/pull/2042#pullrequestreview-369168322", "createdAt": "2020-03-04T22:22:54Z", "commit": {"oid": "34952e29aa39fbb4ef1eafc780becb65bc44f9f5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MzIzMjIx", "url": "https://github.com/fabric8io/kubernetes-client/pull/2042#pullrequestreview-369323221", "createdAt": "2020-03-05T06:34:21Z", "commit": {"oid": "34952e29aa39fbb4ef1eafc780becb65bc44f9f5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "34952e29aa39fbb4ef1eafc780becb65bc44f9f5", "author": {"user": {"login": "dev-gaur", "name": "Devang Gaur"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/34952e29aa39fbb4ef1eafc780becb65bc44f9f5", "committedDate": "2020-03-04T21:42:57Z", "message": "Fix #1247: URL parameters are not escaped."}, "afterCommit": {"oid": "4167fa65dc67f09b5101cc211afc92a8f9143f8f", "author": {"user": {"login": "dev-gaur", "name": "Devang Gaur"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/4167fa65dc67f09b5101cc211afc92a8f9143f8f", "committedDate": "2020-03-05T12:44:59Z", "message": "Fix #1247: URL parameters are not escaped."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5Njg3Mjgz", "url": "https://github.com/fabric8io/kubernetes-client/pull/2042#pullrequestreview-369687283", "createdAt": "2020-03-05T15:51:45Z", "commit": {"oid": "4167fa65dc67f09b5101cc211afc92a8f9143f8f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNTo1MTo0NVrOFyZFTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNTo1MTo0NVrOFyZFTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM4NDA3Ng==", "bodyText": "I think you need to separate the arguments. > exec(\"echo\", \"'something here'\");\nAlso the } in (W&RLD} looks like a typo", "url": "https://github.com/fabric8io/kubernetes-client/pull/2042#discussion_r388384076", "createdAt": "2020-03-05T15:51:45Z", "author": {"login": "manusa"}, "path": "kubernetes-itests/src/test/java/io/fabric8/kubernetes/PodIT.java", "diffHunk": "@@ -169,6 +169,39 @@ public void onClose(int i, String s) {\n     assertNotNull(out.toString());\n   }\n \n+  @Test\n+  public void execEchoCommand() throws InterruptedException {\n+    // Wait for resources to get ready\n+    ReadyEntity<Pod> podReady = new ReadyEntity<>(Pod.class, client, pod1.getMetadata().getName(), currentNamespace);\n+    await().atMost(30, TimeUnit.SECONDS).until(podReady);\n+    final CountDownLatch execLatch = new CountDownLatch(1);\n+    ByteArrayOutputStream out = new ByteArrayOutputStream();\n+    ExecWatch execWatch = client.pods().inNamespace(currentNamespace).withName(pod1.getMetadata().getName())\n+      .writingOutput(out).withTTY().usingListener(new ExecListener() {\n+        @Override\n+        public void onOpen(Response response) {\n+          logger.info(\"Shell was opened\");\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+          logger.info(\"Shell barfed\");\n+          execLatch.countDown();\n+        }\n+\n+        @Override\n+        public void onClose(int i, String s) {\n+          logger.info(\"Shell closed\");\n+          execLatch.countDown();\n+        }\n+      }).exec(\"echo 'H$ll* (W&RLD}'\"); // These arguments in the exec command should be escaped.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4167fa65dc67f09b5101cc211afc92a8f9143f8f"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f3752edeee5390eb649d784770750313a8e16c3", "author": {"user": {"login": "dev-gaur", "name": "Devang Gaur"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/2f3752edeee5390eb649d784770750313a8e16c3", "committedDate": "2020-03-05T21:10:57Z", "message": "Fix #1247: URL parameters are not escaped."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4167fa65dc67f09b5101cc211afc92a8f9143f8f", "author": {"user": {"login": "dev-gaur", "name": "Devang Gaur"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/4167fa65dc67f09b5101cc211afc92a8f9143f8f", "committedDate": "2020-03-05T12:44:59Z", "message": "Fix #1247: URL parameters are not escaped."}, "afterCommit": {"oid": "2f3752edeee5390eb649d784770750313a8e16c3", "author": {"user": {"login": "dev-gaur", "name": "Devang Gaur"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/2f3752edeee5390eb649d784770750313a8e16c3", "committedDate": "2020-03-05T21:10:57Z", "message": "Fix #1247: URL parameters are not escaped."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwMTAyMDEw", "url": "https://github.com/fabric8io/kubernetes-client/pull/2042#pullrequestreview-370102010", "createdAt": "2020-03-06T06:16:53Z", "commit": {"oid": "2f3752edeee5390eb649d784770750313a8e16c3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwMTA0NTcx", "url": "https://github.com/fabric8io/kubernetes-client/pull/2042#pullrequestreview-370104571", "createdAt": "2020-03-06T06:25:32Z", "commit": {"oid": "2f3752edeee5390eb649d784770750313a8e16c3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3510, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}