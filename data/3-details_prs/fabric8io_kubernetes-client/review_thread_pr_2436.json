{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMTY4MDgx", "number": 2436, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxMzoyMTo1N1rOEcEOqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNDoyMjowMlrOEcF-mQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3ODY0ODcyOnYy", "diffSide": "RIGHT", "path": "kubernetes-tests/src/test/java/io/fabric8/kubernetes/client/mock/DefaultSharedIndexInformerTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxMzoyMTo1N1rOHGXy-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxMzozMzoxN1rOHGYSGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ0MzM4NA==", "bodyText": "You should remove this comment ... as now Thread.sleep is passed 500 as value rather than the RESYNC_PERIOD value.", "url": "https://github.com/fabric8io/kubernetes-client/pull/2436#discussion_r476443384", "createdAt": "2020-08-25T13:21:57Z", "author": {"login": "dev-gaur"}, "path": "kubernetes-tests/src/test/java/io/fabric8/kubernetes/client/mock/DefaultSharedIndexInformerTest.java", "diffHunk": "@@ -251,7 +250,7 @@ public void onDelete(Pod oldObj, boolean deletedFinalStateUnknown) { }\n     factory.startAllRegisteredInformers();\n \n     // Wait for resync period of pass", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92bfea374d34c60667d71a096722bc195c6f598b"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ0Mzk1Mw==", "bodyText": "Or maybe keep it as Thread.sleep(RESYNC_PERIOD) .. whatever is better", "url": "https://github.com/fabric8io/kubernetes-client/pull/2436#discussion_r476443953", "createdAt": "2020-08-25T13:22:49Z", "author": {"login": "dev-gaur"}, "path": "kubernetes-tests/src/test/java/io/fabric8/kubernetes/client/mock/DefaultSharedIndexInformerTest.java", "diffHunk": "@@ -251,7 +250,7 @@ public void onDelete(Pod oldObj, boolean deletedFinalStateUnknown) { }\n     factory.startAllRegisteredInformers();\n \n     // Wait for resync period of pass", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ0MzM4NA=="}, "originalCommit": {"oid": "92bfea374d34c60667d71a096722bc195c6f598b"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ1MTM1NQ==", "bodyText": "The test needs to be refactored to remove any Thread.sleep invocation.\nFor the scope of the current PR, maybe just remove the misleading comment.", "url": "https://github.com/fabric8io/kubernetes-client/pull/2436#discussion_r476451355", "createdAt": "2020-08-25T13:33:17Z", "author": {"login": "manusa"}, "path": "kubernetes-tests/src/test/java/io/fabric8/kubernetes/client/mock/DefaultSharedIndexInformerTest.java", "diffHunk": "@@ -251,7 +250,7 @@ public void onDelete(Pod oldObj, boolean deletedFinalStateUnknown) { }\n     factory.startAllRegisteredInformers();\n \n     // Wait for resync period of pass", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ0MzM4NA=="}, "originalCommit": {"oid": "92bfea374d34c60667d71a096722bc195c6f598b"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3ODkzNTI5OnYy", "diffSide": "RIGHT", "path": "kubernetes-tests/src/test/java/io/fabric8/kubernetes/client/mock/DefaultSharedIndexInformerTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNDoyMjowMlrOHGahyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNDoyMjowMlrOHGahyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ4ODEzNg==", "bodyText": "\u2764\ufe0f", "url": "https://github.com/fabric8io/kubernetes-client/pull/2436#discussion_r476488136", "createdAt": "2020-08-25T14:22:02Z", "author": {"login": "manusa"}, "path": "kubernetes-tests/src/test/java/io/fabric8/kubernetes/client/mock/DefaultSharedIndexInformerTest.java", "diffHunk": "@@ -115,8 +116,9 @@ public void onDelete(Pod oldObj, boolean deletedFinalStateUnknown) { }\n     factory.startAllRegisteredInformers();\n \n     foundExistingPod.await(LATCH_AWAIT_PERIOD_IN_SECONDS, TimeUnit.SECONDS);\n-    waitUntilResourceVersionSynced();\n     assertEquals(0L, foundExistingPod.getCount());\n+    await().atMost(1, TimeUnit.SECONDS)\n+      .until(() -> podInformer.lastSyncResourceVersion().equals(endResourceVersion));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e89753de925d8582215228fbbcbc82846ce285c"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3673, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}