{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyOTQwMjY1", "number": 2039, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNzo0ODoxOVrODmL4Ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMzoxODo0MlrODmR38w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMzY3MDk0OnYy", "diffSide": "RIGHT", "path": "kubernetes-client/src/main/java/io/fabric8/kubernetes/client/dsl/base/BaseOperation.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNzo0ODoxOVrOFzdVAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNzo0ODoxOVrOFzdVAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTUwMjIxMQ==", "bodyText": "First null check is redundant, Utils#isNotNullalready handles that case\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (entry.getValue() != null && Utils.isNotNull(entry.getValue())) {\n          \n          \n            \n                    if (Utils.isNotNull(entry.getValue())) {", "url": "https://github.com/fabric8io/kubernetes-client/pull/2039#discussion_r389502211", "createdAt": "2020-03-09T07:48:19Z", "author": {"login": "manusa"}, "path": "kubernetes-client/src/main/java/io/fabric8/kubernetes/client/dsl/base/BaseOperation.java", "diffHunk": "@@ -540,7 +540,7 @@ public String getLabelQueryParam() {\n           sb.append(\",\");\n         }\n         Map.Entry<String, String[]> entry = iter.next();\n-        if (entry.getValue() != null) {\n+        if (entry.getValue() != null && Utils.isNotNull(entry.getValue())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "671946d19c56137afb36fa9d196fd8337478b96c"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMzY3NDAzOnYy", "diffSide": "RIGHT", "path": "kubernetes-client/src/main/java/io/fabric8/kubernetes/client/utils/Utils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNzo0OTo0NFrOFzdW2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNzo1MDo0N1rOFzdYVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTUwMjY4Mg==", "bodyText": "Nit: Can be replaced by a less complex functional and declarative approach\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              public static <T> boolean isNotNull(T[] refList) {\n          \n          \n            \n                if (refList != null) {\n          \n          \n            \n                  for (T ref : refList) {\n          \n          \n            \n                    if (ref != null) {\n          \n          \n            \n                      return true;\n          \n          \n            \n                    }\n          \n          \n            \n                  }\n          \n          \n            \n                }\n          \n          \n            \n                return false;\n          \n          \n            \n              }\n          \n          \n            \n              public static <T> boolean isNotNull(T... refList) {\n          \n          \n            \n                return Optional.ofNullable(refList)\n          \n          \n            \n                  .map(refs -> Stream.of(refs).allMatch(Objects::nonNull))\n          \n          \n            \n                  .orElse(false);\n          \n          \n            \n              }\n          \n      \n    \n    \n  \n\nIt would also be good to move this function near the rest of isNull*methods", "url": "https://github.com/fabric8io/kubernetes-client/pull/2039#discussion_r389502682", "createdAt": "2020-03-09T07:49:44Z", "author": {"login": "manusa"}, "path": "kubernetes-client/src/main/java/io/fabric8/kubernetes/client/utils/Utils.java", "diffHunk": "@@ -60,6 +60,17 @@ private Utils() {\n     return ref;\n   }\n \n+  public static <T> boolean isNotNull(T[] refList) {\n+    if (refList != null) {\n+      for (T ref : refList) {\n+        if (ref != null) {\n+          return true;\n+        }\n+      }\n+    }\n+    return false;\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "671946d19c56137afb36fa9d196fd8337478b96c"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTUwMzA2Mg==", "bodyText": "Add some Unit Tests to verify and document the behavior of this function:\ne.g.\n  @Test\n  @DisplayName(\"isNotNull, null, should return false\")\n  public void isNotNullNullTest() {\n    // When\n    final boolean result = Utils.isNotNull((Object)null);\n    // Then\n    assertFalse(result);\n  }\n\n  @Test\n  @DisplayName(\"isNotNull, some null values, should return false\")\n  public void isNotNullSomeAreNullTest() {\n    // When\n    final boolean result = Utils.isNotNull(\"Not Null\", null);\n    // Then\n    assertFalse(result);\n  }\n\n  @Test\n  @DisplayName(\"isNotNull, no null values, should return true\")\n  public void isNotNullNoneAreNullTest() {\n    // When\n    final boolean result = Utils.isNotNull(\"Not Null\", \"Not Null either\");\n    // Then\n    assertTrue(result);\n  }", "url": "https://github.com/fabric8io/kubernetes-client/pull/2039#discussion_r389503062", "createdAt": "2020-03-09T07:50:47Z", "author": {"login": "manusa"}, "path": "kubernetes-client/src/main/java/io/fabric8/kubernetes/client/utils/Utils.java", "diffHunk": "@@ -60,6 +60,17 @@ private Utils() {\n     return ref;\n   }\n \n+  public static <T> boolean isNotNull(T[] refList) {\n+    if (refList != null) {\n+      for (T ref : refList) {\n+        if (ref != null) {\n+          return true;\n+        }\n+      }\n+    }\n+    return false;\n+  }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTUwMjY4Mg=="}, "originalCommit": {"oid": "671946d19c56137afb36fa9d196fd8337478b96c"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNDY1MTgyOnYy", "diffSide": "RIGHT", "path": "kubernetes-client/src/test/java/io/fabric8/kubernetes/client/internal/UtilsTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMzoxODoxOFrOFzmiHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMzoxODoxOFrOFzmiHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTY1MzAyMw==", "bodyText": "These are not tests for the implemented method isNotNull\nYou can keep these in a sepearete method isNotNullOrEmpty (with changed DisplayName too) to add more coverage, but please do add the nullcheck tests for the currently being implemented method isNotNull", "url": "https://github.com/fabric8io/kubernetes-client/pull/2039#discussion_r389653023", "createdAt": "2020-03-09T13:18:18Z", "author": {"login": "manusa"}, "path": "kubernetes-client/src/test/java/io/fabric8/kubernetes/client/internal/UtilsTest.java", "diffHunk": "@@ -110,4 +112,36 @@ public void interpolateStringWithParametersTest() {\n     // Then\n     assertEquals(\"This is a \\\"template string\\\" and the following is code ${NOT_REPLACED}: '1' === '1'; /* END */\", result);\n   }\n+\n+  @Test\n+  @DisplayName(\"isNotNull, null, should return false\")\n+  public void isNotNull() {\n+    // When\n+    final boolean result1 = Utils.isNotNullOrEmpty((Map)null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "289782612358cdc363595ef36880dd4052403173"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNDY1MzMxOnYy", "diffSide": "RIGHT", "path": "kubernetes-client/src/test/java/io/fabric8/kubernetes/client/internal/UtilsTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMzoxODo0MlrOFzmjCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMzoxODo0MlrOFzmjCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTY1MzI1OA==", "bodyText": "Same as the previous comment. We are checking isNotNull", "url": "https://github.com/fabric8io/kubernetes-client/pull/2039#discussion_r389653258", "createdAt": "2020-03-09T13:18:42Z", "author": {"login": "manusa"}, "path": "kubernetes-client/src/test/java/io/fabric8/kubernetes/client/internal/UtilsTest.java", "diffHunk": "@@ -110,4 +112,36 @@ public void interpolateStringWithParametersTest() {\n     // Then\n     assertEquals(\"This is a \\\"template string\\\" and the following is code ${NOT_REPLACED}: '1' === '1'; /* END */\", result);\n   }\n+\n+  @Test\n+  @DisplayName(\"isNotNull, null, should return false\")\n+  public void isNotNull() {\n+    // When\n+    final boolean result1 = Utils.isNotNullOrEmpty((Map)null);\n+    final boolean result2 = Utils.isNotNullOrEmpty((String)null);\n+    final boolean result3 = Utils.isNotNullOrEmpty(\"\");\n+\n+    // Then\n+    assertFalse(result1);\n+    assertFalse(result2);\n+    assertFalse(result3);\n+  }\n+\n+  @Test\n+  @DisplayName(\"isNotNull, some null values, should return false\")\n+  public void isNotNullSomeAreNullTest() {\n+    // When\n+    final boolean result = Utils.isNotNullOrEmpty(new String[] {\"notNullObj\", null, null});", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "289782612358cdc363595ef36880dd4052403173"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3839, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}