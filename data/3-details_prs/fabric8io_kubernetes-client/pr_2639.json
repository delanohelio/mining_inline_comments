{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4NzI5NTQ4", "number": 2639, "title": "jsonschema2pojo upgrade to 1.0.2", "bodyText": "Description\nFix #2613: jsonschema2pojo upgrade to 1.0.2\nFocus on golang generator changes + Java changes.\nGenerated schemas now have properties defined as javaType and existingJavaType. The former is used for those types that must be generated, the latter is used for those properties that are just references to existing types. The new version of jsonschema2pojo enforces schema definitions to provide this clear separation at schema level.\nPOJO generation has also been changed. There's a mismatch between what sundrio expects as getters/setters and what jsonschema2pojo generates by default (for a field x-kubernetes-embedded-resource sundrio expects getXKubernetesEmbeddedResource but jsonchema2pojo generates getxKubernetesEmbeddedResource).\nCC: @jorsol\nType of change\n\n\n Bug fix (non-breaking change which fixes an issue)\n Feature (non-breaking change which adds functionality)\n Breaking change (fix or feature that would cause existing functionality to change\n Chore (non-breaking change which doesn't affect codebase;\ntest, version modification, documentation, etc.)\n\nChecklist\n\n Code contributed by me aligns with current project license: Apache 2.0\n I Added CHANGELOG entry regarding this change\n I have implemented unit tests to cover my changes\n I have added/updated the javadocs and other documentation accordingly\n No new bugs, code smells, etc. in SonarCloud report\n I tested my code in Kubernetes\n I tested my code in OpenShift", "createdAt": "2020-11-27T17:43:45Z", "url": "https://github.com/fabric8io/kubernetes-client/pull/2639", "merged": true, "mergeCommit": {"oid": "4fa9af2dd2c113819f2ef27c5d3ba770dcda6472"}, "closed": true, "closedAt": "2020-12-09T13:48:19Z", "author": {"login": "manusa"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgreL3ABqjQwNDY5Nzk5MDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkep78AFqTU0ODE3NDc5NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0e519220656856f1323f007cc05c34790b256578", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/0e519220656856f1323f007cc05c34790b256578", "committedDate": "2020-11-27T17:42:58Z", "message": "wip: jsonschema2pojo upgrade works for main model modules"}, "afterCommit": {"oid": "3684ce051eaf5fb48a5cc1ff31d0e51014658ae4", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/3684ce051eaf5fb48a5cc1ff31d0e51014658ae4", "committedDate": "2020-11-27T18:01:30Z", "message": "wip: jsonschema2pojo upgrade works for main model modules"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1MDIxNDcz", "url": "https://github.com/fabric8io/kubernetes-client/pull/2639#pullrequestreview-545021473", "createdAt": "2020-12-04T14:46:43Z", "commit": {"oid": "abecc623e314e10f7f6b50f4e1f30f98c8fb17e7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "abecc623e314e10f7f6b50f4e1f30f98c8fb17e7", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/abecc623e314e10f7f6b50f4e1f30f98c8fb17e7", "committedDate": "2020-12-04T14:45:54Z", "message": "wip: jsonschema2pojo upgrade works for extension modules"}, "afterCommit": {"oid": "9405571b35af281f9851f020eedde460973b5b60", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/9405571b35af281f9851f020eedde460973b5b60", "committedDate": "2020-12-04T15:02:59Z", "message": "wip: jsonschema2pojo upgrade works for extension modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e58f154e7385601e8f4b8ff1e60d593cefdc855", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/0e58f154e7385601e8f4b8ff1e60d593cefdc855", "committedDate": "2020-12-04T17:47:08Z", "message": "feat: jsonschema2pojo upgrade works for main model modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6f6f4f4844d5f07bf818b0224304fcbc13e1cd3", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/c6f6f4f4844d5f07bf818b0224304fcbc13e1cd3", "committedDate": "2020-12-04T17:47:08Z", "message": "feat: jsonschema2pojo upgrade works for extension modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4eee56eb02cc3880435bcf54aacd86c735205013", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/4eee56eb02cc3880435bcf54aacd86c735205013", "committedDate": "2020-12-04T17:47:09Z", "message": "refactor: customized jsonchema2pojo getter/setter generation at Java level"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f3aab409c8182f4ac0883fd965febdb635b44fad", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/f3aab409c8182f4ac0883fd965febdb635b44fad", "committedDate": "2020-12-04T17:20:03Z", "message": "wip: customized jsonchema2pojo getter/setter generation at Java level"}, "afterCommit": {"oid": "4eee56eb02cc3880435bcf54aacd86c735205013", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/4eee56eb02cc3880435bcf54aacd86c735205013", "committedDate": "2020-12-04T17:47:09Z", "message": "refactor: customized jsonchema2pojo getter/setter generation at Java level"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MDMwNjk2", "url": "https://github.com/fabric8io/kubernetes-client/pull/2639#pullrequestreview-546030696", "createdAt": "2020-12-07T10:49:01Z", "commit": {"oid": "4eee56eb02cc3880435bcf54aacd86c735205013"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMDo0OTowMVrOIAgyww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMDo0OTowMVrOIAgyww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQwODE5NQ==", "bodyText": "Isn't this class (and a lot others) supposed to be generated?", "url": "https://github.com/fabric8io/kubernetes-client/pull/2639#discussion_r537408195", "createdAt": "2020-12-07T10:49:01Z", "author": {"login": "metacosm"}, "path": "extensions/service-catalog/model/src/main/resources/schema/servicecatalog-schema.json", "diffHunk": "@@ -158,15 +158,15 @@\n           \"required\": true\n         },\n         \"metadata\": {\n-          \"javaType\": \"io.fabric8.kubernetes.api.model.ObjectMeta\"\n+          \"existingJavaType\": \"io.fabric8.kubernetes.api.model.ObjectMeta\"\n         },\n         \"spec\": {\n           \"$ref\": \"#/definitions/github_com_kubernetes-sigs_service-catalog_pkg_apis_servicecatalog_v1beta1_ClusterServiceBrokerSpec\",\n-          \"javaType\": \"io.fabric8.servicecatalog.api.model.ClusterServiceBrokerSpec\"\n+          \"existingJavaType\": \"io.fabric8.servicecatalog.api.model.ClusterServiceBrokerSpec\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4eee56eb02cc3880435bcf54aacd86c735205013"}, "originalPosition": 77}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MzIwNjQw", "url": "https://github.com/fabric8io/kubernetes-client/pull/2639#pullrequestreview-546320640", "createdAt": "2020-12-07T16:31:31Z", "commit": {"oid": "4eee56eb02cc3880435bcf54aacd86c735205013"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxNjozMTozMVrOIAvVnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxNjo0NzozNlrOIAwF6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzY0NjQ5NQ==", "bodyText": "Any specific reason generated flag is set true here?", "url": "https://github.com/fabric8io/kubernetes-client/pull/2639#discussion_r537646495", "createdAt": "2020-12-07T16:31:31Z", "author": {"login": "rohanKanojia"}, "path": "kubernetes-model-generator/openshift-model-monitoring/cmd/generate/generate.go", "diffHunk": "@@ -56,16 +56,16 @@ type Schema struct {\n \n func main() {\n   packages := []schemagen.PackageDescriptor{\n-    {\"k8s.io/api/core/v1\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_core_\"},\n-    {\"k8s.io/apimachinery/pkg/api/resource\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_resource_\"},\n-    {\"k8s.io/apimachinery/pkg/util/intstr\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_apimachinery_pkg_util_intstr_\"},\n-    {\"k8s.io/apimachinery/pkg/runtime\", \"\", \"io.fabric8.openshift.api.model.runtime\", \"kubernetes_apimachinery_pkg_runtime_\"},\n-    {\"k8s.io/apimachinery/pkg/version\", \"\", \"io.fabric8.kubernetes.api.model.version\", \"kubernetes_apimachinery_pkg_version_\"},\n-    {\"k8s.io/kubernetes/pkg/util\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_util_\"},\n-    {\"k8s.io/kubernetes/pkg/api/errors\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_errors_\"},\n-    {\"k8s.io/kubernetes/pkg/api/unversioned\", \"\", \"io.fabric8.kubernetes.api.model\", \"api_\"},\n-    {\"k8s.io/apimachinery/pkg/apis/meta/v1\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_apimachinery_\"},\n-    {\"github.com/coreos/prometheus-operator/pkg/apis/monitoring/v1\", \"monitoring.coreos.com\", \"io.fabric8.openshift.api.model.monitoring.v1\", \"os_monitoring_v1_\"},\n+    {\"k8s.io/api/core/v1\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_core_\", false},\n+    {\"k8s.io/apimachinery/pkg/api/resource\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_resource_\", false},\n+    {\"k8s.io/apimachinery/pkg/util/intstr\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_apimachinery_pkg_util_intstr_\", false},\n+    {\"k8s.io/apimachinery/pkg/runtime\", \"\", \"io.fabric8.openshift.api.model.runtime\", \"kubernetes_apimachinery_pkg_runtime_\", true},", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4eee56eb02cc3880435bcf54aacd86c735205013"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzY1ODg1OA==", "bodyText": "I think this should be false", "url": "https://github.com/fabric8io/kubernetes-client/pull/2639#discussion_r537658858", "createdAt": "2020-12-07T16:47:36Z", "author": {"login": "rohanKanojia"}, "path": "kubernetes-model-generator/kubernetes-model-apps/cmd/generate/generate.go", "diffHunk": "@@ -100,17 +100,17 @@ type Schema struct {\n \n func main() {\n   packages := []schemagen.PackageDescriptor{\n-    {\"k8s.io/apimachinery/pkg/util/intstr\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_apimachinery_pkg_util_intstr_\"},\n-    {\"k8s.io/apimachinery/pkg/runtime\", \"\", \"io.fabric8.kubernetes.api.model.runtime\", \"kubernetes_apimachinery_pkg_runtime_\"},\n-    {\"k8s.io/apimachinery/pkg/version\", \"\", \"io.fabric8.kubernetes.api.model.version\", \"kubernetes_apimachinery_pkg_version_\"},\n-    {\"k8s.io/apimachinery/pkg/apis/meta/v1\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_apimachinery_\"},\n-    {\"k8s.io/api/apps/v1\", \"\", \"io.fabric8.kubernetes.api.model.apps\", \"kubernetes_apps_\"},\n-    {\"k8s.io/api/core/v1\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_core_\"},\n-    {\"k8s.io/kubernetes/pkg/watch/json\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_watch_\"},\n-    {\"k8s.io/kubernetes/pkg/util\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_util_\"},\n-    {\"k8s.io/kubernetes/pkg/api/errors\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_errors_\"},\n-    {\"k8s.io/client-go/tools/clientcmd/api/v1\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_config_\"},\n-    {\"k8s.io/kubernetes/pkg/api/unversioned\", \"\", \"io.fabric8.kubernetes.api.model\", \"api_\"},\n+    {\"k8s.io/apimachinery/pkg/util/intstr\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_apimachinery_pkg_util_intstr_\", false},\n+    {\"k8s.io/apimachinery/pkg/runtime\", \"\", \"io.fabric8.kubernetes.api.model.runtime\", \"kubernetes_apimachinery_pkg_runtime_\", false},\n+    {\"k8s.io/apimachinery/pkg/version\", \"\", \"io.fabric8.kubernetes.api.model.version\", \"kubernetes_apimachinery_pkg_version_\", false},\n+    {\"k8s.io/apimachinery/pkg/apis/meta/v1\", \"\", \"io.fabric8.kubernetes.api.model\", \"kubernetes_apimachinery_\", true},", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4eee56eb02cc3880435bcf54aacd86c735205013"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NTA4NjQy", "url": "https://github.com/fabric8io/kubernetes-client/pull/2639#pullrequestreview-547508642", "createdAt": "2020-12-08T18:24:32Z", "commit": {"oid": "4eee56eb02cc3880435bcf54aacd86c735205013"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40683fee7a963428bb925038fda393fea74d5eb3", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/40683fee7a963428bb925038fda393fea74d5eb3", "committedDate": "2020-12-09T12:23:38Z", "message": "refactor: jsonchema2pojo address PR comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4MTc0Nzk0", "url": "https://github.com/fabric8io/kubernetes-client/pull/2639#pullrequestreview-548174794", "createdAt": "2020-12-09T13:21:28Z", "commit": {"oid": "40683fee7a963428bb925038fda393fea74d5eb3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3552, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}