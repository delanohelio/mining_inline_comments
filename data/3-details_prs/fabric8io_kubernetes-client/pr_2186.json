{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyNzU2MDkw", "number": 2186, "title": "Fix #2165: list() should also be able to handle ListOptions", "bodyText": "Fix #2165", "createdAt": "2020-05-04T06:07:49Z", "url": "https://github.com/fabric8io/kubernetes-client/pull/2186", "merged": true, "mergeCommit": {"oid": "8b64f0384ca41cc0bddc6e452d0a3421fcfb317a"}, "closed": true, "closedAt": "2020-05-05T10:09:07Z", "author": {"login": "rohanKanojia"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcd5N7IgFqTQwNDcyNTQ2Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABceQ41PAFqTQwNTYzNzAxMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NzI1NDY3", "url": "https://github.com/fabric8io/kubernetes-client/pull/2186#pullrequestreview-404725467", "createdAt": "2020-05-04T06:09:41Z", "commit": {"oid": "766745fa31e1489823f2e7e91fb1823c293f8188"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "766745fa31e1489823f2e7e91fb1823c293f8188", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/766745fa31e1489823f2e7e91fb1823c293f8188", "committedDate": "2020-05-04T05:58:23Z", "message": "Fix #2165: list() should also be able to handle ListOptions"}, "afterCommit": {"oid": "5c67f0f3a82f52d2b9ae1f6a23af082d918397e6", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/5c67f0f3a82f52d2b9ae1f6a23af082d918397e6", "committedDate": "2020-05-04T08:55:42Z", "message": "Fix #2165: list() should also be able to handle ListOptions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5c67f0f3a82f52d2b9ae1f6a23af082d918397e6", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/5c67f0f3a82f52d2b9ae1f6a23af082d918397e6", "committedDate": "2020-05-04T08:55:42Z", "message": "Fix #2165: list() should also be able to handle ListOptions"}, "afterCommit": {"oid": "f084a8a54c10faa14a42d944f11dd6197297249d", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/f084a8a54c10faa14a42d944f11dd6197297249d", "committedDate": "2020-05-04T17:40:10Z", "message": "Fix #2165: list() should also be able to handle ListOptions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NTA0Nzgz", "url": "https://github.com/fabric8io/kubernetes-client/pull/2186#pullrequestreview-405504783", "createdAt": "2020-05-05T05:44:48Z", "commit": {"oid": "f084a8a54c10faa14a42d944f11dd6197297249d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNTo0NDo0OFrOGQbJWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNTo0NDo0OFrOGQbJWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTg3NTE2Mg==", "bodyText": "Since the new method already covers the functionality of this one, it maybe good to add a @Deprecated annotation (plus some JavaDoc indicating to use the new method) so we can remove it in the next major release.", "url": "https://github.com/fabric8io/kubernetes-client/pull/2186#discussion_r419875162", "createdAt": "2020-05-05T05:44:48Z", "author": {"login": "manusa"}, "path": "kubernetes-client/src/main/java/io/fabric8/kubernetes/client/dsl/Listable.java", "diffHunk": "@@ -15,7 +15,10 @@\n  */\n package io.fabric8.kubernetes.client.dsl;\n \n+import io.fabric8.kubernetes.api.model.ListOptions;\n+\n public interface Listable<T> {\n   T list();\n   T list(Integer limitVal, String continueVal);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f084a8a54c10faa14a42d944f11dd6197297249d"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NTEzMzUw", "url": "https://github.com/fabric8io/kubernetes-client/pull/2186#pullrequestreview-405513350", "createdAt": "2020-05-05T06:12:05Z", "commit": {"oid": "f084a8a54c10faa14a42d944f11dd6197297249d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNjoxMjowNVrOGQbn9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwNjoxMjowNVrOGQbn9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTg4Mjk5Ng==", "bodyText": "This doesn't look good as getLimit will return null.\nWhy not use the same Url builder you used in BaseOperation", "url": "https://github.com/fabric8io/kubernetes-client/pull/2186#discussion_r419882996", "createdAt": "2020-05-05T06:12:05Z", "author": {"login": "manusa"}, "path": "openshift-client/src/main/java/io/fabric8/openshift/client/dsl/internal/ProjectRequestsOperationImpl.java", "diffHunk": "@@ -119,19 +121,23 @@ public Status list() {\n \n   @Override\n   public Status list(Integer limitVal, String continueVal) {\n+    return list(new ListOptionsBuilder().withLimit(Long.parseLong(limitVal.toString())).withContinue(continueVal).build());\n+  }\n+\n+  @Override\n+  public Status list(ListOptions listOptions) {\n     try {\n       URL requestUrl = getNamespacedUrl();\n-      if(limitVal != null) {\n-        requestUrl = new URL(URLUtils.join(requestUrl.toString(), \"?limit=\" + limitVal.toString()));\n-      } else if(continueVal != null) {\n-        requestUrl = new URL(URLUtils.join(requestUrl.toString(), \"?limit=\" + limitVal.toString() + \"&continue=\" + continueVal));\n+      if(listOptions.getLimit() != null) {\n+        requestUrl = new URL(URLUtils.join(requestUrl.toString(), \"?limit=\" + listOptions.getLimit().toString()));\n+      } else if(listOptions.getContinue() != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f084a8a54c10faa14a42d944f11dd6197297249d"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58abca40521b780da2e0a29333fba25431ceb5fa", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/58abca40521b780da2e0a29333fba25431ceb5fa", "committedDate": "2020-05-05T09:24:42Z", "message": "Fix #2165: list() should also be able to handle ListOptions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f084a8a54c10faa14a42d944f11dd6197297249d", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/f084a8a54c10faa14a42d944f11dd6197297249d", "committedDate": "2020-05-04T17:40:10Z", "message": "Fix #2165: list() should also be able to handle ListOptions"}, "afterCommit": {"oid": "58abca40521b780da2e0a29333fba25431ceb5fa", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/58abca40521b780da2e0a29333fba25431ceb5fa", "committedDate": "2020-05-05T09:24:42Z", "message": "Fix #2165: list() should also be able to handle ListOptions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NjM3MDEz", "url": "https://github.com/fabric8io/kubernetes-client/pull/2186#pullrequestreview-405637013", "createdAt": "2020-05-05T09:44:22Z", "commit": {"oid": "58abca40521b780da2e0a29333fba25431ceb5fa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3660, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}