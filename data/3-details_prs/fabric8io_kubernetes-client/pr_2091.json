{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzOTE4NzYz", "number": 2091, "title": "add filter node metrics via labels", "bodyText": "Fix #2082  add filter node metrics via labels", "createdAt": "2020-03-26T02:19:21Z", "url": "https://github.com/fabric8io/kubernetes-client/pull/2091", "merged": true, "mergeCommit": {"oid": "be6b4722a8381b8c6117a14430f081c096424776"}, "closed": true, "closedAt": "2020-04-07T13:23:34Z", "author": {"login": "damozhiying"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRvqojAFqTM4MjgwNDE2MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVS9pVgFqTM4OTA5MzI3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyODA0MTYw", "url": "https://github.com/fabric8io/kubernetes-client/pull/2091#pullrequestreview-382804160", "createdAt": "2020-03-27T12:14:53Z", "commit": {"oid": "a941fb544e770ccf0c1dcf5b710058959c0dad5a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxMjoxNDo1M1rOF8ulWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxMjoxNDo1M1rOF8ulWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTIyMjEwNA==", "bodyText": "Nit: please don't use raw types (replace with new HashMap<>()", "url": "https://github.com/fabric8io/kubernetes-client/pull/2091#discussion_r399222104", "createdAt": "2020-03-27T12:14:53Z", "author": {"login": "manusa"}, "path": "kubernetes-client/src/test/java/io/fabric8/kubernetes/client/dsl/internal/NodeMetricOperationsTest.java", "diffHunk": "@@ -0,0 +1,35 @@\n+package io.fabric8.kubernetes.client.dsl.internal;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.BeforeEach;\n+\n+import io.fabric8.kubernetes.api.model.metrics.v1beta1.NodeMetricsList;\n+\n+public class NodeMetricOperationsTest {\n+\n+\tprivate DefaultKubernetesClient defaultKubernetesClient;\n+\n+\t@BeforeEach\n+\tpublic void setUp() {\n+\t\tdefaultKubernetesClient = new DefaultKubernetesClient();\n+\t}\n+\n+\t@AfterEach\n+\tpublic void tearDown() {\n+\t\tdefaultKubernetesClient.close();\n+\t\tdefaultKubernetesClient = null;\n+\t}\n+\n+\tpublic void testGetMetricsViaLabl() {\n+\t\tMap<String,Object> lablesMap = new HashMap();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a941fb544e770ccf0c1dcf5b710058959c0dad5a"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyODA0NzE3", "url": "https://github.com/fabric8io/kubernetes-client/pull/2091#pullrequestreview-382804717", "createdAt": "2020-03-27T12:15:46Z", "commit": {"oid": "a941fb544e770ccf0c1dcf5b710058959c0dad5a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxMjoxNTo0NlrOF8um6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxMjoxNTo0NlrOF8um6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTIyMjUwNA==", "bodyText": "What's the test testing exactly, what would be the output of\nNodeMetricsList nodeMetricList = defaultKubernetesClient.top().nodes().metrics();\nnodeMetricList.getItems().size() // ??", "url": "https://github.com/fabric8io/kubernetes-client/pull/2091#discussion_r399222504", "createdAt": "2020-03-27T12:15:46Z", "author": {"login": "manusa"}, "path": "kubernetes-client/src/test/java/io/fabric8/kubernetes/client/dsl/internal/NodeMetricOperationsTest.java", "diffHunk": "@@ -0,0 +1,35 @@\n+package io.fabric8.kubernetes.client.dsl.internal;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.BeforeEach;\n+\n+import io.fabric8.kubernetes.api.model.metrics.v1beta1.NodeMetricsList;\n+\n+public class NodeMetricOperationsTest {\n+\n+\tprivate DefaultKubernetesClient defaultKubernetesClient;\n+\n+\t@BeforeEach\n+\tpublic void setUp() {\n+\t\tdefaultKubernetesClient = new DefaultKubernetesClient();\n+\t}\n+\n+\t@AfterEach\n+\tpublic void tearDown() {\n+\t\tdefaultKubernetesClient.close();\n+\t\tdefaultKubernetesClient = null;\n+\t}\n+\n+\tpublic void testGetMetricsViaLabl() {\n+\t\tMap<String,Object> lablesMap = new HashMap();\n+\t\tlablesMap.put(\"ss\", \"true\");\n+\t\tlablesMap.put(\"cs\", \"true\");\n+\t\tNodeMetricsList nodeMetricList = defaultKubernetesClient.top().nodes().metrics(lablesMap);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a941fb544e770ccf0c1dcf5b710058959c0dad5a"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdcdecbc8ee96010d744af5c2b1fe9b3fb5bdb2e", "author": {"user": null}, "url": "https://github.com/fabric8io/kubernetes-client/commit/cdcdecbc8ee96010d744af5c2b1fe9b3fb5bdb2e", "committedDate": "2020-04-02T05:35:10Z", "message": "add filter node metrics via labels"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80bcae6b47115ef2a04e3602f180ee9079dab5d3", "author": {"user": null}, "url": "https://github.com/fabric8io/kubernetes-client/commit/80bcae6b47115ef2a04e3602f180ee9079dab5d3", "committedDate": "2020-04-02T05:35:10Z", "message": "add filter node metrics via labels"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32b28acb48b22000293adb35066eda89218c2d77", "author": {"user": null}, "url": "https://github.com/fabric8io/kubernetes-client/commit/32b28acb48b22000293adb35066eda89218c2d77", "committedDate": "2020-04-02T05:40:03Z", "message": "add filter node metrics via labels unit test and update changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfb27ba2c5e9d36babed2efa11d4e2f7ca2c7d25", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/dfb27ba2c5e9d36babed2efa11d4e2f7ca2c7d25", "committedDate": "2020-04-02T06:35:53Z", "message": "Added a test for fetching Node Metrics with labels"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a941fb544e770ccf0c1dcf5b710058959c0dad5a", "author": {"user": null}, "url": "https://github.com/fabric8io/kubernetes-client/commit/a941fb544e770ccf0c1dcf5b710058959c0dad5a", "committedDate": "2020-03-27T04:01:26Z", "message": "add filter node metrics via labels unit test and update changelog"}, "afterCommit": {"oid": "dfb27ba2c5e9d36babed2efa11d4e2f7ca2c7d25", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/fabric8io/kubernetes-client/commit/dfb27ba2c5e9d36babed2efa11d4e2f7ca2c7d25", "committedDate": "2020-04-02T06:35:53Z", "message": "Added a test for fetching Node Metrics with labels"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4ODA1MDcy", "url": "https://github.com/fabric8io/kubernetes-client/pull/2091#pullrequestreview-388805072", "createdAt": "2020-04-07T06:00:28Z", "commit": {"oid": "dfb27ba2c5e9d36babed2efa11d4e2f7ca2c7d25"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4ODA1NzEz", "url": "https://github.com/fabric8io/kubernetes-client/pull/2091#pullrequestreview-388805713", "createdAt": "2020-04-07T06:02:02Z", "commit": {"oid": "dfb27ba2c5e9d36babed2efa11d4e2f7ca2c7d25"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5MDkzMjc4", "url": "https://github.com/fabric8io/kubernetes-client/pull/2091#pullrequestreview-389093278", "createdAt": "2020-04-07T13:04:07Z", "commit": {"oid": "dfb27ba2c5e9d36babed2efa11d4e2f7ca2c7d25"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3742, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}