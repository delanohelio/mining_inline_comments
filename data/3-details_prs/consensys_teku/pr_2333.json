{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2NjE3MDgz", "number": 2333, "title": "Introduce PeerSelectionStrategy to encapsulate decisions on which peers to connect and when", "bodyText": "PR Description\nNo change in policy but moves logic out of ConnectionManager into a new PeerSelectionStrategy which decides both whether to connect or disconnect peers and which ones to connect/disconnect.\nThis will make it easier to decide to connect new peers even if we are already within the target range because we aren't connected to all attestation subnets.\nDocumentation\n\n I thought about documentation and added the documentation label to this PR if updates are required.", "createdAt": "2020-07-09T04:56:38Z", "url": "https://github.com/ConsenSys/teku/pull/2333", "merged": true, "mergeCommit": {"oid": "3b50e144d59663a3dc57fc67c7ba950ff0cc73e2"}, "closed": true, "closedAt": "2020-07-09T21:11:07Z", "author": {"login": "ajsutton"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczHg1QgH2gAyNDQ2NjE3MDgzOjRmMjM0ODE1MmMxZTUzYmUwNzdlNzYyM2Y4ZTE1YTRjN2QwZjZlNDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczVTZogH2gAyNDQ2NjE3MDgzOjcxZjJjZDAwNWMxNjZmMjY1NDUwMWQxMWZiNzgyNjkyM2NhYWE4ZDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4f2348152c1e53be077e7623f8e15a4c7d0f6e45", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/4f2348152c1e53be077e7623f8e15a4c7d0f6e45", "committedDate": "2020-07-09T04:41:25Z", "message": "Introduce PeerSelectionStrategy to encapsulate decisions on which peers to connect and when."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4650b37b678cbc18e358a1385b5ed019356c869d", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/4650b37b678cbc18e358a1385b5ed019356c869d", "committedDate": "2020-07-09T04:56:17Z", "message": "Fill in SimplePeerSelectionStrategy."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c3da897411d4829ba44beabbe5ee22c313669c6", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/3c3da897411d4829ba44beabbe5ee22c313669c6", "committedDate": "2020-07-09T05:21:01Z", "message": "Fix build."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1ODk1OTAy", "url": "https://github.com/ConsenSys/teku/pull/2333#pullrequestreview-445895902", "createdAt": "2020-07-09T19:11:26Z", "commit": {"oid": "3c3da897411d4829ba44beabbe5ee22c313669c6"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxOToxMToyNlrOGveUBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxOToxMToyNlrOGveUBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQzMjkwMQ==", "bodyText": "Stray println's", "url": "https://github.com/ConsenSys/teku/pull/2333#discussion_r452432901", "createdAt": "2020-07-09T19:11:26Z", "author": {"login": "mbaxter"}, "path": "networking/p2p/src/test/java/tech/pegasys/teku/networking/p2p/libp2p/MultiaddrUtilTest.java", "diffHunk": "@@ -75,6 +75,8 @@ public void fromDiscoveryPeer_shouldConvertIpV4Peer() throws Exception {\n             PERSISTENT_SUBNETS);\n     final Multiaddr result = MultiaddrUtil.fromDiscoveryPeer(peer);\n     assertThat(result).isEqualTo(Multiaddr.fromString(\"/ip4/123.34.58.22/tcp/5883/p2p/\" + PEER_ID));\n+    System.out.println(Bytes.wrap(result.getComponent(Protocol.P2P)));\n+    System.out.println(PUB_KEY);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c3da897411d4829ba44beabbe5ee22c313669c6"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e43722751ba9de8b7e5d99c27308ed81eb2d47c", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/2e43722751ba9de8b7e5d99c27308ed81eb2d47c", "committedDate": "2020-07-09T20:45:18Z", "message": "Remove stray printlns."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71f2cd005c166f2654501d11fb7826923caaa8d4", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/71f2cd005c166f2654501d11fb7826923caaa8d4", "committedDate": "2020-07-09T20:45:25Z", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into peer-selection-strategy"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3824, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}