{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3NjM3MzA3", "number": 2187, "title": "added command line flag for data-storage archive-frequency", "bodyText": "a hidden flag that will accept the version of db to create, this is --Xdata-storage-create-db-version  (default: 3)\n\n\na flag that will become visible in help once the feature is done, --data-storage-archive-frequency= (default: 2048)\n\n\nAddresses #2180\nSigned-off-by: Paul Harris paul.harris@consensys.net\nDocumentation\n\n I thought about documentation and added the documentation label to this PR if updates are required.", "createdAt": "2020-06-22T01:50:20Z", "url": "https://github.com/ConsenSys/teku/pull/2187", "merged": true, "mergeCommit": {"oid": "3bd726809afe32296bc0b480168e380f66702354"}, "closed": true, "closedAt": "2020-06-22T03:43:25Z", "author": {"login": "rolfyone"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABctm29lAH2gAyNDM3NjM3MzA3OmQyNmEyNWZmNmNlNTg5YThjMGU5OTNiMWQ4MzhhNmU1NTU2MmI4Y2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABctoPS5gH2gAyNDM3NjM3MzA3OjljODlmZTE0ZmIxMWEwNDJmMDg1ODM0NGNmZTM4OWUxZTVkNmMxYWM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d26a25ff6ce589a8c0e993b1d838a6e55562b8cf", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/d26a25ff6ce589a8c0e993b1d838a6e55562b8cf", "committedDate": "2020-06-22T01:49:06Z", "message": "added command line flags for data-storage changes\n\n - a hidden flag that will accept the version of db to create, this is --Xdata-storage-create-db-version <VER> (default: 3)\n\n - a flag that will become visible in help once the feature is done, --data-storage-archive-frequency=<FREQUENCY> (default: 2048)\n\n Addresses #2180\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NTc0NDQ4", "url": "https://github.com/ConsenSys/teku/pull/2187#pullrequestreview-434574448", "createdAt": "2020-06-22T02:51:51Z", "commit": {"oid": "d26a25ff6ce589a8c0e993b1d838a6e55562b8cf"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwMjo1MTo1MlrOGmwiNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwMjo1MTo1MlrOGmwiNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI5NDI2MQ==", "bodyText": "We're storing archived states, not slots.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      \"Sets the frequency at which to store archived slots to disk. (slot modulo frequency == 0)\",\n          \n          \n            \n                      \"Sets the frequency, in slots, at which to store archived states to disk.\",", "url": "https://github.com/ConsenSys/teku/pull/2187#discussion_r443294261", "createdAt": "2020-06-22T02:51:52Z", "author": {"login": "ajsutton"}, "path": "teku/src/main/java/tech/pegasys/teku/cli/options/DataOptions.java", "diffHunk": "@@ -34,6 +34,25 @@\n       arity = \"1\")\n   private StateStorageMode dataStorageMode = StateStorageMode.PRUNE;\n \n+  @Option(\n+      names = {\"--data-storage-archive-frequency\"},\n+      hidden = true,\n+      paramLabel = \"<FREQUENCY>\",\n+      description =\n+          \"Sets the frequency at which to store archived slots to disk. (slot modulo frequency == 0)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d26a25ff6ce589a8c0e993b1d838a6e55562b8cf"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abe08a4151663826209653ec97c938e8061e6f9e", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/abe08a4151663826209653ec97c938e8061e6f9e", "committedDate": "2020-06-22T03:17:50Z", "message": "Update teku/src/main/java/tech/pegasys/teku/cli/options/DataOptions.java\n\nCo-authored-by: Adrian Sutton <adrian@symphonious.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4706b0f2f641448b149d94ebe21477aab9c1af6a", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/4706b0f2f641448b149d94ebe21477aab9c1af6a", "committedDate": "2020-06-22T03:18:37Z", "message": "Merge remote-tracking branch 'upstream/master' into 2180"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6511b3c212f5ca97631ec3b654558f71af9b60b", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/d6511b3c212f5ca97631ec3b654558f71af9b60b", "committedDate": "2020-06-22T03:19:04Z", "message": "Merge branch '2180' of https://github.com/rolfyone/artemis into 2180"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c89fe14fb11a042f0858344cfe389e1e5d6c1ac", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/9c89fe14fb11a042f0858344cfe389e1e5d6c1ac", "committedDate": "2020-06-22T03:25:35Z", "message": "spotless"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3953, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}