{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4Mjk3MzQ3", "number": 2889, "title": "Extract ValidatorConfig from GlobalConfiguration", "bodyText": "PR Description\nExtract ValidatorConfig from GlobalConfiguration so that ValidatorOptions applies itself.  Fixes an issue where some of the newer validator options weren't being applied in the stand alone validator client.\nFixed Issue(s)\n#2888\nDocumentation\n\n I thought about documentation and added the documentation label to this PR if updates are required.", "createdAt": "2020-10-06T06:21:20Z", "url": "https://github.com/ConsenSys/teku/pull/2889", "merged": true, "mergeCommit": {"oid": "9eedc2db678b2e5bed9d9aa8ac51822d8f9bdfc8"}, "closed": true, "closedAt": "2020-10-07T00:38:33Z", "author": {"login": "ajsutton"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdPyLC4gH2gAyNDk4Mjk3MzQ3OmFkOTU3ZGMzMTBiZDdlYjM3NWEyYjc3NjFmNTFjMTRjMDBlMWI2NzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQBayJgH2gAyNDk4Mjk3MzQ3OjIyZDBjY2FmYjczZTllZmU4ZWZkMjg1MjUxOGE3OWI4YzBhMWYyYjE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ad957dc310bd7eb375a2b7761f51c14c00e1b674", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/ad957dc310bd7eb375a2b7761f51c14c00e1b674", "committedDate": "2020-10-06T06:13:25Z", "message": "Split ValidatorConfig out of GlobalConfiguration.\n\nFixes issues where some of the new options in ValidatorOptions weren't being applied in the stand-alone validator client."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27cf20d8a7353c43727b31fa4a771739227aec62", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/27cf20d8a7353c43727b31fa4a771739227aec62", "committedDate": "2020-10-06T06:14:02Z", "message": "Remove unused method."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "785ca5e44bc36a45b23b3ec0a7c6254ecaef7fa3", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/785ca5e44bc36a45b23b3ec0a7c6254ecaef7fa3", "committedDate": "2020-10-06T06:20:43Z", "message": "Remove commented out variables."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf11e7ce17f0ef198abfbad74c208098184a7ae1", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/bf11e7ce17f0ef198abfbad74c208098184a7ae1", "committedDate": "2020-10-06T06:21:42Z", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into valdiator-config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyNjQwMDky", "url": "https://github.com/ConsenSys/teku/pull/2889#pullrequestreview-502640092", "createdAt": "2020-10-06T07:08:34Z", "commit": {"oid": "bf11e7ce17f0ef198abfbad74c208098184a7ae1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20a9841bc8f30127b740b62c239fe1b743184767", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/20a9841bc8f30127b740b62c239fe1b743184767", "committedDate": "2020-10-06T09:49:27Z", "message": "Merge branch 'master' into valdiator-config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMDk3MzEy", "url": "https://github.com/ConsenSys/teku/pull/2889#pullrequestreview-503097312", "createdAt": "2020-10-06T15:33:47Z", "commit": {"oid": "20a9841bc8f30127b740b62c239fe1b743184767"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNTozMzo0OFrOHdNuBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNTozMzo0OFrOHdNuBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDM5NTUyNg==", "bodyText": "If possible, I'd suggest validating and throwing an IllegalArgumentException when building the validatorConfig, so that we don't have to explicitly invoke this validate() method.  For example, WeakSubjectivityConfig errors are handled when TekuConfiguration builds here.  This prevents us from creating invalid configs in the first place.", "url": "https://github.com/ConsenSys/teku/pull/2889#discussion_r500395526", "createdAt": "2020-10-06T15:33:48Z", "author": {"login": "mbaxter"}, "path": "teku/src/main/java/tech/pegasys/teku/config/TekuConfiguration.java", "diffHunk": "@@ -47,17 +56,29 @@ public BeaconChainConfiguration beaconChain() {\n     return beaconChainConfig;\n   }\n \n+  public ValidatorClientConfiguration validatorClient() {\n+    return validatorClientConfig;\n+  }\n+\n+  public void validate() {\n+    globalConfiguration.validate();\n+    validatorConfig.validate();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20a9841bc8f30127b740b62c239fe1b743184767"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d662cfffab6c343db495de17bcfdfc892ae1738a", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/d662cfffab6c343db495de17bcfdfc892ae1738a", "committedDate": "2020-10-06T23:48:42Z", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into valdiator-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af73bcf7966ca7ee324bccc0e352f0a8d7f35c4e", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/af73bcf7966ca7ee324bccc0e352f0a8d7f35c4e", "committedDate": "2020-10-06T23:58:35Z", "message": "Ensure ValidatorConfig is valid in builder instead of validating later."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22d0ccafb73e9efe8efd2852518a79b8c0a1f2b1", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/22d0ccafb73e9efe8efd2852518a79b8c0a1f2b1", "committedDate": "2020-10-06T23:59:11Z", "message": "Merge branch 'valdiator-config' of github.com:ajsutton/teku into valdiator-config"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3491, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}