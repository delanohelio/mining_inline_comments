{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2NjA1NTg4", "number": 3298, "title": "[Issue-3297] Gossip slashings added to the OperationPool's", "bodyText": "PR Description\nGossip attester and proposer slashings added to the OperationPool's.\nFixed Issue(s)\nFixes #3297\nDocumentation\n\n I thought about documentation and added the documentation label to this PR if updates are required.", "createdAt": "2020-11-24T16:26:09Z", "url": "https://github.com/ConsenSys/teku/pull/3298", "merged": true, "mergeCommit": {"oid": "b9c75d567652e33a7c4cb15ab772cc62506460b5"}, "closed": true, "closedAt": "2020-11-24T18:57:57Z", "author": {"login": "mbaxter"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfsQm3gH2gAyNTI2NjA1NTg4OjU2NmZkNjNlYzViMDY3ZjA5ZTA1ZWQwYzhiYzg0OGNlYTQ0NzBkMTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfuJRhgH2gAyNTI2NjA1NTg4OjhmMDUxMmEzMGY3NzAyN2U3ZGRmMmVlMWE0MjgwMGMwMmU4MmE5MzQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "566fd63ec5b067f09e05ed0c8bc848cea4470d12", "author": {"user": {"login": "mbaxter", "name": null}}, "url": "https://github.com/ConsenSys/teku/commit/566fd63ec5b067f09e05ed0c8bc848cea4470d12", "committedDate": "2020-11-24T16:22:51Z", "message": "Gossip slashings added to the OperationPool's"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NzE5NjI4", "url": "https://github.com/ConsenSys/teku/pull/3298#pullrequestreview-537719628", "createdAt": "2020-11-24T16:57:09Z", "commit": {"oid": "566fd63ec5b067f09e05ed0c8bc848cea4470d12"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxNjo1NzowOVrOH5MPew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxNjo1NzowOVrOH5MPew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTczMTQ1MQ==", "bodyText": "These tests mostly test if a gossiped slashing get included in the operation processor of a gossiped node. Should we not be testing if an operation added to the operation pool gets gossiped instead?", "url": "https://github.com/ConsenSys/teku/pull/3298#discussion_r529731451", "createdAt": "2020-11-24T16:57:09Z", "author": {"login": "cemozerr"}, "path": "networking/eth2/src/integration-test/java/tech/pegasys/teku/networking/eth2/AttesterSlashingGossipIntegrationTest.java", "diffHunk": "@@ -0,0 +1,97 @@\n+/*\n+ * Copyright 2019 ConsenSys AG.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with\n+ * the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\n+ * an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations under the License.\n+ */\n+\n+package tech.pegasys.teku.networking.eth2;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static tech.pegasys.teku.infrastructure.async.Waiter.waitFor;\n+\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Set;\n+import java.util.function.Consumer;\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.Test;\n+import tech.pegasys.teku.bls.BLSKeyGenerator;\n+import tech.pegasys.teku.bls.BLSKeyPair;\n+import tech.pegasys.teku.datastructures.operations.AttesterSlashing;\n+import tech.pegasys.teku.datastructures.util.DataStructureUtil;\n+import tech.pegasys.teku.infrastructure.async.SafeFuture;\n+import tech.pegasys.teku.infrastructure.async.Waiter;\n+import tech.pegasys.teku.networking.eth2.Eth2NetworkFactory.Eth2P2PNetworkBuilder;\n+import tech.pegasys.teku.networking.eth2.gossip.GossipPublisher;\n+import tech.pegasys.teku.networking.eth2.gossip.encoding.GossipEncoding;\n+import tech.pegasys.teku.networking.eth2.gossip.topics.OperationProcessor;\n+import tech.pegasys.teku.statetransition.validation.InternalValidationResult;\n+\n+public class AttesterSlashingGossipIntegrationTest {\n+\n+  private final List<BLSKeyPair> validatorKeys = BLSKeyGenerator.generateKeyPairs(3);\n+  private final Eth2NetworkFactory networkFactory = new Eth2NetworkFactory();\n+  private final DataStructureUtil dataStructureUtil = new DataStructureUtil();\n+\n+  @AfterEach\n+  public void tearDown() throws Exception {\n+    networkFactory.stopAll();\n+  }\n+\n+  @Test\n+  public void shouldGossipToPeers() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "566fd63ec5b067f09e05ed0c8bc848cea4470d12"}, "originalPosition": 49}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NzU3OTk3", "url": "https://github.com/ConsenSys/teku/pull/3298#pullrequestreview-537757997", "createdAt": "2020-11-24T17:41:34Z", "commit": {"oid": "566fd63ec5b067f09e05ed0c8bc848cea4470d12"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f0512a30f77027e7ddf2ee1a42800c02e82a934", "author": {"user": {"login": "mbaxter", "name": null}}, "url": "https://github.com/ConsenSys/teku/commit/8f0512a30f77027e7ddf2ee1a42800c02e82a934", "committedDate": "2020-11-24T18:34:39Z", "message": "Add test for OperationPool subscriptions"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4308, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}