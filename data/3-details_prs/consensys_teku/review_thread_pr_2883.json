{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4MTg1MjY5", "number": 2883, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwMDoyNDozNFrOEqhm_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwMDoyNDozNFrOEqhm_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMDI2MzAxOnYy", "diffSide": "RIGHT", "path": "util/src/test/java/tech/pegasys/teku/util/config/KeyStoreFilesLocatorTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwMDoyNDozNFrOHcyAkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwMDozNjowOFrOHcyLlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTk0MTUyMw==", "bodyText": "createSymbolicLink isn't supported on all file systems so we probably should catch the UnsupportedOperationException it may throw and just skip the test in that case.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Files.createSymbolicLink(tempDir.resolve(\"key\"), realKeyDir);\n          \n          \n            \n                Files.createSymbolicLink(tempDir.resolve(\"pass\"), realPassDir);\n          \n          \n            \n                try {\n          \n          \n            \n                    Files.createSymbolicLink(tempDir.resolve(\"key\"), realKeyDir);\n          \n          \n            \n                    Files.createSymbolicLink(tempDir.resolve(\"pass\"), realPassDir);\n          \n          \n            \n                } catch (UnsupportedOperationException e) {\n          \n          \n            \n                    throw new AssumptionViolatedException(\"Symbolic links not supported on this file system\");\n          \n          \n            \n                }", "url": "https://github.com/ConsenSys/teku/pull/2883#discussion_r499941523", "createdAt": "2020-10-06T00:24:34Z", "author": {"login": "ajsutton"}, "path": "util/src/test/java/tech/pegasys/teku/util/config/KeyStoreFilesLocatorTest.java", "diffHunk": "@@ -189,6 +191,27 @@ public void shouldHandleOldArgs(@TempDir final Path tempDir) throws IOException\n         .containsExactly(tuple(tempDir, List.of(\"key\", \"a\"), List.of(\"pass\", \"a.txt\")));\n   }\n \n+  @Test\n+  public void shouldHandleSymlinkedDirectories(@TempDir final Path tempDir) throws IOException {\n+    Path realKeyDir = Path.of(\"actualKey\");\n+    Path realPassDir = Path.of(\"actualPass\");\n+    createFolders(tempDir, realKeyDir, realPassDir);\n+    createFiles(tempDir, realKeyDir.resolve(\"a.json\"), realPassDir.resolve(\"a.txt\"));\n+\n+    Files.createSymbolicLink(tempDir.resolve(\"key\"), realKeyDir);\n+    Files.createSymbolicLink(tempDir.resolve(\"pass\"), realPassDir);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c69898d76707a28f417c1f308e6a360b4845a20b"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTk0NDM0Mg==", "bodyText": "Good idea! Looks like that exception class comes from an older junit. junit-jupiter-api has a \"TestAbortedException\" - let me know if you want me to do something different.", "url": "https://github.com/ConsenSys/teku/pull/2883#discussion_r499944342", "createdAt": "2020-10-06T00:36:08Z", "author": {"login": "mread"}, "path": "util/src/test/java/tech/pegasys/teku/util/config/KeyStoreFilesLocatorTest.java", "diffHunk": "@@ -189,6 +191,27 @@ public void shouldHandleOldArgs(@TempDir final Path tempDir) throws IOException\n         .containsExactly(tuple(tempDir, List.of(\"key\", \"a\"), List.of(\"pass\", \"a.txt\")));\n   }\n \n+  @Test\n+  public void shouldHandleSymlinkedDirectories(@TempDir final Path tempDir) throws IOException {\n+    Path realKeyDir = Path.of(\"actualKey\");\n+    Path realPassDir = Path.of(\"actualPass\");\n+    createFolders(tempDir, realKeyDir, realPassDir);\n+    createFiles(tempDir, realKeyDir.resolve(\"a.json\"), realPassDir.resolve(\"a.txt\"));\n+\n+    Files.createSymbolicLink(tempDir.resolve(\"key\"), realKeyDir);\n+    Files.createSymbolicLink(tempDir.resolve(\"pass\"), realPassDir);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTk0MTUyMw=="}, "originalCommit": {"oid": "c69898d76707a28f417c1f308e6a360b4845a20b"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3306, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}