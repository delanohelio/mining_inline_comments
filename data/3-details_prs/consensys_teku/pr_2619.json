{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5OTY3MzAy", "number": 2619, "title": "Integrate fork choice tests", "bodyText": "PR Description\nRe-integrate fork choice tests that are now compatible with spec version 0.12.2.\nFixed Issue(s)\n\n\nFixes #2162\nDocumentation\n\n I thought about documentation and added the documentation label to this PR if updates are required.", "createdAt": "2020-08-19T07:08:50Z", "url": "https://github.com/ConsenSys/teku/pull/2619", "merged": true, "mergeCommit": {"oid": "9f48bdb54184102ede7d1c00af6dbd45687f601e"}, "closed": true, "closedAt": "2020-08-28T16:15:26Z", "author": {"login": "cemozerr"}, "timelineItems": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrpAoCgH2gAyNDY5OTY3MzAyOmNmMzNhMWJhZTM5YjdhYjhjZjFlZTM5ODhhNWZlOWU2ZTNmNDI4ZGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdDXOSlAH2gAyNDY5OTY3MzAyOjg4NjJiYjIyNGQwYWM4YzI3NGNlYjJmNTk2MmQxYzFkNWFmMzRkMmE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cf33a1bae39b7ab8cf1ee3988a5fe9e6e3f428df", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/cf33a1bae39b7ab8cf1ee3988a5fe9e6e3f428df", "committedDate": "2020-06-15T23:11:37Z", "message": "initial commit of fork choice description files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4213ec2cf921339858668e29bb381dcc57af863", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/a4213ec2cf921339858668e29bb381dcc57af863", "committedDate": "2020-06-15T23:12:34Z", "message": "Initial commit of fork choice test executor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50e427436b40a54201f4fa68b08e46bbfce5e663", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/50e427436b40a54201f4fa68b08e46bbfce5e663", "committedDate": "2020-06-15T23:13:34Z", "message": "Add ForkChoiceTestFinder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "954b55d09b3c74e96ef78f7902a931b9c2e3cb35", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/954b55d09b3c74e96ef78f7902a931b9c2e3cb35", "committedDate": "2020-06-15T23:30:44Z", "message": "Merge branch 'master' into integrateForkChoiceTests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d042217413a8ed4b3a2bfe4c9637c51d2df58832", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/d042217413a8ed4b3a2bfe4c9637c51d2df58832", "committedDate": "2020-06-15T23:48:02Z", "message": "initial commit of fork choice description files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6842b775aeb3ee1ad32f3fc56ef8c68166929263", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/6842b775aeb3ee1ad32f3fc56ef8c68166929263", "committedDate": "2020-06-15T23:48:02Z", "message": "Initial commit of fork choice test executor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e651b5902bc7de3b1114343b88b53ab704ff89b", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/1e651b5902bc7de3b1114343b88b53ab704ff89b", "committedDate": "2020-06-15T23:48:02Z", "message": "Add ForkChoiceTestFinder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fdd8ee9386e4f24c56d8cfa50c13ea2b37b2274e", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/fdd8ee9386e4f24c56d8cfa50c13ea2b37b2274e", "committedDate": "2020-06-15T23:52:31Z", "message": "Merge remote-tracking branch 'origin/integrateForkChoiceTests' into integrateForkChoiceTests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1bfb85dc784c37d1959dec26523a80ead7ac647", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/e1bfb85dc784c37d1959dec26523a80ead7ac647", "committedDate": "2020-06-16T14:25:03Z", "message": "Merge remote-tracking branch 'upstream/master' into integrateForkChoiceTests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "003014cefc8cbc31fd0b0bad8a5fd4ce825ba3cc", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/003014cefc8cbc31fd0b0bad8a5fd4ce825ba3cc", "committedDate": "2020-06-16T14:26:02Z", "message": "Clean up stale code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa60b3815df3438522f320bbc1e6e657db1bb9db", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/fa60b3815df3438522f320bbc1e6e657db1bb9db", "committedDate": "2020-06-16T15:04:13Z", "message": "Update eth-reference-tests/src/referenceTest/java/tech/pegasys/teku/reference/phase0/fork_choice/ForkChoiceTestExecutor.java\n\nCo-authored-by: Cem Ozer <cemozer2018@u.northwestern.edu>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4e3f54ce8a7ddfcad083ffe39facf80e0688298", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/f4e3f54ce8a7ddfcad083ffe39facf80e0688298", "committedDate": "2020-06-16T15:04:23Z", "message": "Update eth-reference-tests/src/referenceTest/java/tech/pegasys/teku/reference/phase0/fork_choice/ForkChoiceTestExecutor.java\n\nCo-authored-by: Cem Ozer <cemozer2018@u.northwestern.edu>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9183ebad83248c0b063cf7b870b0552cc17ac9a6", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/9183ebad83248c0b063cf7b870b0552cc17ac9a6", "committedDate": "2020-06-16T15:04:40Z", "message": "Update eth-reference-tests/src/referenceTest/java/tech/pegasys/teku/reference/phase0/fork_choice/ForkChoiceTestExecutor.java\n\nCo-authored-by: Cem Ozer <cemozer2018@u.northwestern.edu>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24b554d8b560de3fb7100abcc193da841592fb1b", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/24b554d8b560de3fb7100abcc193da841592fb1b", "committedDate": "2020-06-16T15:06:48Z", "message": "Update eth-reference-tests/src/referenceTest/java/tech/pegasys/teku/reference/phase0/fork_choice/ForkChoiceTestExecutor.java\n\nCo-authored-by: Cem Ozer <cemozer2018@u.northwestern.edu>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7951eae465f7a66324ed8887a6bbf11e5eaa3838", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/7951eae465f7a66324ed8887a6bbf11e5eaa3838", "committedDate": "2020-06-16T15:13:02Z", "message": "fix spotless problems"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4484d88a4f875dad2a4d7d1460bcd70f254c4f6a", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/4484d88a4f875dad2a4d7d1460bcd70f254c4f6a", "committedDate": "2020-07-31T14:54:05Z", "message": "Merge remote-tracking branch 'origin/master' into integrateForkChoiceTests\n\n# Conflicts:\n#\teth-reference-tests/src/referenceTest/java/tech/pegasys/teku/reference/phase0/Eth2ReferenceTestCase.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c3f6d4bf7148d1f8f3e261418980393784206f6", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/2c3f6d4bf7148d1f8f3e261418980393784206f6", "committedDate": "2020-07-31T17:12:49Z", "message": "Fork choice updated to conform v0.12.2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b48ffe1e38ecf2843ac207ed905ad84f1d4556f", "author": {"user": {"login": "ericsson49", "name": "Alex Vlasov"}}, "url": "https://github.com/ConsenSys/teku/commit/5b48ffe1e38ecf2843ac207ed905ad84f1d4556f", "committedDate": "2020-07-31T19:09:05Z", "message": "Spotless fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e788c39f0b115616ace3e66a0fc2d42f1cbdf522", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/e788c39f0b115616ace3e66a0fc2d42f1cbdf522", "committedDate": "2020-08-26T07:56:41Z", "message": "Merge remote-tracking branch 'remotes/origin/master' into integrateForkChoiceTests3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9eeb3ddedf71fadebf4b1dd1c042c68416d26429", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/9eeb3ddedf71fadebf4b1dd1c042c68416d26429", "committedDate": "2020-08-26T08:51:48Z", "message": "Make fork-choice-tests its own package and run as an integration test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1b724729063b1ff03506c581ffafed7971ae4d2e", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/1b724729063b1ff03506c581ffafed7971ae4d2e", "committedDate": "2020-08-25T10:42:18Z", "message": "Merge branch 'master' into integrateForkChoiceTests"}, "afterCommit": {"oid": "9eeb3ddedf71fadebf4b1dd1c042c68416d26429", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/9eeb3ddedf71fadebf4b1dd1c042c68416d26429", "committedDate": "2020-08-26T08:51:48Z", "message": "Make fork-choice-tests its own package and run as an integration test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc9db6005535b3eacd33af8e0542b53cc059d172", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/fc9db6005535b3eacd33af8e0542b53cc059d172", "committedDate": "2020-08-26T08:56:01Z", "message": "Run spotless"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1ODA2MTAz", "url": "https://github.com/ConsenSys/teku/pull/2619#pullrequestreview-475806103", "createdAt": "2020-08-26T19:45:27Z", "commit": {"oid": "fc9db6005535b3eacd33af8e0542b53cc059d172"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxOTo0NToyN1rOHHbLzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxOTo0NToyN1rOHHbLzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU0NzQ2OA==", "bodyText": "Looks like you've added these files to fork-choice-tests resources and eth-reference-tests resources.  Should these ref-test files be deleted?", "url": "https://github.com/ConsenSys/teku/pull/2619#discussion_r477547468", "createdAt": "2020-08-26T19:45:27Z", "author": {"login": "mbaxter"}, "path": "eth-reference-tests/src/referenceTest/resources/fork_choice_tests/cache/attestation_0.yaml", "diffHunk": "@@ -0,0 +1,12 @@\n+aggregation_bits: '0x11'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc9db6005535b3eacd33af8e0542b53cc059d172"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7ee10834e24445191ed6c3544a90102479bcec6", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/a7ee10834e24445191ed6c3544a90102479bcec6", "committedDate": "2020-08-27T11:45:43Z", "message": "Delete redundant test files"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2OTA3MDA3", "url": "https://github.com/ConsenSys/teku/pull/2619#pullrequestreview-476907007", "createdAt": "2020-08-27T16:50:45Z", "commit": {"oid": "a7ee10834e24445191ed6c3544a90102479bcec6"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxNjo1MDo0NVrOHIY9Fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxNjo1MDo0NVrOHIY9Fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODU1OTUxMA==", "bodyText": "Looks like these changes to the eth-reference-tests dependencies are no longer necessary either.", "url": "https://github.com/ConsenSys/teku/pull/2619#discussion_r478559510", "createdAt": "2020-08-27T16:50:45Z", "author": {"login": "mbaxter"}, "path": "eth-reference-tests/build.gradle", "diffHunk": "@@ -2,13 +2,19 @@ jar { enabled = false }\n \n dependencies {\n   referenceTestImplementation project(':bls')\n+  referenceTestImplementation project(':data')\n   referenceTestImplementation project(':ethereum:core')\n   referenceTestImplementation project(':ethereum:datastructures')\n+  referenceTestImplementation project(':ethereum:statetransition')\n   referenceTestImplementation project(':eth-tests')\n+  referenceTestImplementation project(':protoarray')\n   referenceTestImplementation project(':ssz')\n   referenceTestImplementation project(':storage')\n+  referenceTestImplementation project(':infrastructure:async')\n   referenceTestImplementation project(':util')\n \n+  referenceTestImplementation testFixtures(project(':storage'))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7ee10834e24445191ed6c3544a90102479bcec6"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8465ce44312ca7b28533b23408f0c1019d3e7a1", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/b8465ce44312ca7b28533b23408f0c1019d3e7a1", "committedDate": "2020-08-28T13:52:44Z", "message": "Remove unnecessary imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8862bb224d0ac8c274ceb2f5962d1c1d5af34d2a", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/8862bb224d0ac8c274ceb2f5962d1c1d5af34d2a", "committedDate": "2020-08-28T16:02:26Z", "message": "Merge branch 'master' into integrateForkChoiceTests"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3509, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}