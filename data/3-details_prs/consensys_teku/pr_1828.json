{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxMDY3MzA3", "number": 1828, "title": "Refactor attestation manager and processing", "bodyText": "PR Description\nRemove FailureReason enum class, and make AttestationProcessingResult an enum instead so that the code is easier to follow during the processing and once the processing is done.", "createdAt": "2020-05-20T23:20:16Z", "url": "https://github.com/ConsenSys/teku/pull/1828", "merged": true, "mergeCommit": {"oid": "32a77809b9ae7a214a7ee3dbe907b2c49516aaed"}, "closed": true, "closedAt": "2020-05-21T17:17:20Z", "author": {"login": "cemozerr"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjROBaAH2gAyNDIxMDY3MzA3OjdlNWE5OTE5YjMxYzgzZjFlNzI1NWM1ZDQxOWFmOTI3MzE1MmU5ZGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjgnPHgH2gAyNDIxMDY3MzA3OmUyMDIyNmFlMTFhYTk1MGYzOGI0Mjc5MzI3NTMyOTkyZTBkNzgxMTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7e5a9919b31c83f1e7255c5d419af9273152e9de", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/7e5a9919b31c83f1e7255c5d419af9273152e9de", "committedDate": "2020-05-20T22:57:08Z", "message": "Refactor attestation processing at AttestationManager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04693571ff46e1ff427fc257922c6acf7100a1c5", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/04693571ff46e1ff427fc257922c6acf7100a1c5", "committedDate": "2020-05-20T23:18:25Z", "message": "Run spotless"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1Nzk5MTc3", "url": "https://github.com/ConsenSys/teku/pull/1828#pullrequestreview-415799177", "createdAt": "2020-05-21T00:16:51Z", "commit": {"oid": "04693571ff46e1ff427fc257922c6acf7100a1c5"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQwMDoxNjo1MVrOGYiIiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQwMDoxNjo1MVrOGYiIiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODM3ODI0OA==", "bodyText": "nit: Would probably good to add the isSuccessful() method to the enum as it reads quite well.", "url": "https://github.com/ConsenSys/teku/pull/1828#discussion_r428378248", "createdAt": "2020-05-21T00:16:51Z", "author": {"login": "ajsutton"}, "path": "ethereum/statetransition/src/main/java/tech/pegasys/teku/statetransition/attestation/ForkChoiceAttestationProcessor.java", "diffHunk": "@@ -33,7 +33,7 @@ public ForkChoiceAttestationProcessor(\n   public AttestationProcessingResult processAttestation(final Attestation attestation) {\n     final Store.Transaction transaction = recentChainData.startStoreTransaction();\n     final AttestationProcessingResult result = forkChoice.onAttestation(transaction, attestation);\n-    if (result.isSuccessful()) {\n+    if (result == AttestationProcessingResult.SUCCESSFUL) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04693571ff46e1ff427fc257922c6acf7100a1c5"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e89ac4291a9392d04cc85db8dcbf77a28ff25487", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/e89ac4291a9392d04cc85db8dcbf77a28ff25487", "committedDate": "2020-05-21T16:53:02Z", "message": "Add isSuccessful method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e20226ae11aa950f38b4279327532992e0d78117", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/e20226ae11aa950f38b4279327532992e0d78117", "committedDate": "2020-05-21T16:53:15Z", "message": "Merge branch 'master' into refactorAttestationManagerAndProcessing"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4007, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}