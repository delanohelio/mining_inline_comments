{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyOTcxOTA3", "number": 2127, "title": "Make BLS library more fit for general use", "bodyText": "This aims to make the BLS library more useful as a standalone library for other projects. Mostly by broadening visibility of methods, also a couple of methods are added (notably destroy() on SecretKey) and a couple of things moved around.\nDocumentation\n\n I thought about documentation and added the documentation label to this PR if updates are required.", "createdAt": "2020-06-11T10:03:16Z", "url": "https://github.com/ConsenSys/teku/pull/2127", "merged": true, "mergeCommit": {"oid": "bb832f26bba76228a61ecefbfb5b45ef7a027711"}, "closed": true, "closedAt": "2020-06-11T15:08:31Z", "author": {"login": "benjaminion"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqLQaXgH2gAyNDMyOTcxOTA3OjhiYjAyYzQ0ZTY0OGFhZWUxMzBmNzEzYjcwNWM3ZmMyZDdhNTg1ZjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqPLvVAFqTQyODk3MjM3NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8bb02c44e648aaee130f713b705c7fc2d7a585f2", "author": {"user": {"login": "benjaminion", "name": "Ben Edgington"}}, "url": "https://github.com/ConsenSys/teku/commit/8bb02c44e648aaee130f713b705c7fc2d7a585f2", "committedDate": "2020-06-11T09:57:47Z", "message": "Make BLS library more fit for general use"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77dc56aad05d22b23b9a8ec7859d70846306ee6f", "author": {"user": {"login": "benjaminion", "name": "Ben Edgington"}}, "url": "https://github.com/ConsenSys/teku/commit/77dc56aad05d22b23b9a8ec7859d70846306ee6f", "committedDate": "2020-06-11T10:35:42Z", "message": "Add getter for the G1 point to BLSPublicKey"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4OTcxNTM2", "url": "https://github.com/ConsenSys/teku/pull/2127#pullrequestreview-428971536", "createdAt": "2020-06-11T14:31:22Z", "commit": {"oid": "77dc56aad05d22b23b9a8ec7859d70846306ee6f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDozMToyMlrOGigF1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDozMToyMlrOGigF1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgzMDU1MQ==", "bodyText": "I couldn't find the documentation but I'm assuming BIG.randomnum is exclusive?", "url": "https://github.com/ConsenSys/teku/pull/2127#discussion_r438830551", "createdAt": "2020-06-11T14:31:22Z", "author": {"login": "cemozerr"}, "path": "bls/src/main/java/tech/pegasys/teku/bls/mikuli/KeyPair.java", "diffHunk": "@@ -36,24 +33,30 @@ public static KeyPair random(final SecureRandom srng) {\n     byte[] b = new byte[128];\n     srng.nextBytes(b);\n     rng.seed(128, b);\n-    Scalar secret = new Scalar(BIG.randomnum(curveOrder, rng));\n+    // secret key must be between 1 and (curveOrder - 1) inclusive\n+    BIG bigSecret = BIG.randomnum(curveOrder.minus(new BIG(1)), rng);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77dc56aad05d22b23b9a8ec7859d70846306ee6f"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4OTcyMzc1", "url": "https://github.com/ConsenSys/teku/pull/2127#pullrequestreview-428972375", "createdAt": "2020-06-11T14:32:18Z", "commit": {"oid": "77dc56aad05d22b23b9a8ec7859d70846306ee6f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3904, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}