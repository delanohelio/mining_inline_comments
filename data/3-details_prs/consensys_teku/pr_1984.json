{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0MDk3MTM1", "number": 1984, "title": "Remove the SafeFuture.finish variants which don't handle errors", "bodyText": "PR Description\nRemove the SafeFuture.finish variants which leave errors to the uncaught exception handler.  We should be explicit about where errors get logged and at what level.\nIn some cases this results in an error handler that can never be called but that's worth it to avoid cases where an exception handler is forgotten leading to very noisy errors in the logs.", "createdAt": "2020-05-27T20:28:29Z", "url": "https://github.com/ConsenSys/teku/pull/1984", "merged": true, "mergeCommit": {"oid": "ad5538b641abd7a68b483558da6b42dc226b797b"}, "closed": true, "closedAt": "2020-05-27T23:11:20Z", "author": {"login": "ajsutton"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclfQJ9gH2gAyNDI0MDk3MTM1OjVlNzg4MDA5ZGE1OWFkNTZmMDQwZmQwMjkwZmU1NzlkZDBkYjgwNWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclhRkMAH2gAyNDI0MDk3MTM1OmQ5ZmVkZGI2OWEzNjQyYWZlY2RmNDZiOTljYmJhMjc2OWZmOGIyOWQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5e788009da59ad56f040fd0290fe579dd0db805d", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/5e788009da59ad56f040fd0290fe579dd0db805d", "committedDate": "2020-05-27T20:25:59Z", "message": "Remove the SafeFuture.finish variants which don't handle errors.\nWe should be explicit about where errors get logged."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NjA0NDI3", "url": "https://github.com/ConsenSys/teku/pull/1984#pullrequestreview-419604427", "createdAt": "2020-05-27T21:00:10Z", "commit": {"oid": "5e788009da59ad56f040fd0290fe579dd0db805d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMTowMDoxMFrOGbc8lQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMTowMDoxMFrOGbc8lQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQzODk5Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                          this::updateMetadata, error -> LOG.debug(\"Failed to retrieve mpeer metadata\", error));\n          \n          \n            \n                          this::updateMetadata, error -> LOG.debug(\"Failed to retrieve peer metadata\", error));", "url": "https://github.com/ConsenSys/teku/pull/1984#discussion_r431438997", "createdAt": "2020-05-27T21:00:10Z", "author": {"login": "macfarla"}, "path": "networking/eth2/src/main/java/tech/pegasys/teku/networking/eth2/peers/Eth2Peer.java", "diffHunk": "@@ -76,7 +80,9 @@ public void updateMetadataSeqNumber(final UnsignedLong seqNumber) {\n     Optional<UnsignedLong> curValue = this.remoteMetadataSeqNumber;\n     remoteMetadataSeqNumber = Optional.of(seqNumber);\n     if (curValue.isEmpty() || seqNumber.compareTo(curValue.get()) > 0) {\n-      requestMetadata().finish(this::updateMetadata);\n+      requestMetadata()\n+          .finish(\n+              this::updateMetadata, error -> LOG.debug(\"Failed to retrieve mpeer metadata\", error));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5e788009da59ad56f040fd0290fe579dd0db805d"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "381efda81b5262f7c651ea8e1d00bb39779a2cdc", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/381efda81b5262f7c651ea8e1d00bb39779a2cdc", "committedDate": "2020-05-27T22:28:00Z", "message": "Typo fix.\n\nCo-authored-by: Sally MacFarlane <sally.macfarlane@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a6e7555fcf9ba5055cc8e093cea32ed03294988", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/7a6e7555fcf9ba5055cc8e093cea32ed03294988", "committedDate": "2020-05-27T22:28:08Z", "message": "Merge branch 'master' into reduce-error-logs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9470cc8f6536a22c695560d3bfed3cea6c124605", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/9470cc8f6536a22c695560d3bfed3cea6c124605", "committedDate": "2020-05-27T22:37:35Z", "message": "Merge branch 'master' into reduce-error-logs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9feddb69a3642afecdf46b99cbba2769ff8b29d", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/d9feddb69a3642afecdf46b99cbba2769ff8b29d", "committedDate": "2020-05-27T22:47:20Z", "message": "Merge branch 'master' into reduce-error-logs"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4049, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}