{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2NzY1ODMx", "number": 1520, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNjo0NDowM1rODtnbVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNjo0NToxM1rODtndBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MTU4NDg0OnYy", "diffSide": "RIGHT", "path": "validator/client/src/main/java/tech/pegasys/artemis/validator/client/duties/AttestationProductionDuty.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNjo0NDowM1rOF_JW2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQyMDoxNTowOVrOF_Q84w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc1NzkxMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              private final Map<Integer, List<ValidatorWithCommitteePosition>> validators = new HashMap<>();\n          \n          \n            \n              private final Map<Integer, List<ValidatorWithCommitteePosition>> validatorsByCommitteeIndex = new HashMap<>();", "url": "https://github.com/ConsenSys/teku/pull/1520#discussion_r401757913", "createdAt": "2020-04-01T16:44:03Z", "author": {"login": "mbaxter"}, "path": "validator/client/src/main/java/tech/pegasys/artemis/validator/client/duties/AttestationProductionDuty.java", "diffHunk": "@@ -13,29 +13,136 @@\n \n package tech.pegasys.artemis.validator.client.duties;\n \n+import static tech.pegasys.artemis.util.async.SafeFuture.failedFuture;\n+\n import com.google.common.primitives.UnsignedLong;\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n import org.apache.logging.log4j.LogManager;\n import org.apache.logging.log4j.Logger;\n+import tech.pegasys.artemis.datastructures.operations.Attestation;\n+import tech.pegasys.artemis.datastructures.state.Fork;\n+import tech.pegasys.artemis.util.SSZTypes.Bitlist;\n+import tech.pegasys.artemis.util.async.SafeFuture;\n+import tech.pegasys.artemis.util.bls.BLSSignature;\n import tech.pegasys.artemis.validator.api.ValidatorApiChannel;\n import tech.pegasys.artemis.validator.client.ForkProvider;\n import tech.pegasys.artemis.validator.client.Validator;\n+import tech.pegasys.artemis.validator.client.signer.Signer;\n \n public class AttestationProductionDuty implements Duty {\n   private static final Logger LOG = LogManager.getLogger();\n+  private final Map<Integer, List<ValidatorWithCommitteePosition>> validators = new HashMap<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fc4dab59a86c72ced3e648ef3b226cd465cce48"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg4MjMzOQ==", "bodyText": "Good idea.", "url": "https://github.com/ConsenSys/teku/pull/1520#discussion_r401882339", "createdAt": "2020-04-01T20:15:09Z", "author": {"login": "ajsutton"}, "path": "validator/client/src/main/java/tech/pegasys/artemis/validator/client/duties/AttestationProductionDuty.java", "diffHunk": "@@ -13,29 +13,136 @@\n \n package tech.pegasys.artemis.validator.client.duties;\n \n+import static tech.pegasys.artemis.util.async.SafeFuture.failedFuture;\n+\n import com.google.common.primitives.UnsignedLong;\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n import org.apache.logging.log4j.LogManager;\n import org.apache.logging.log4j.Logger;\n+import tech.pegasys.artemis.datastructures.operations.Attestation;\n+import tech.pegasys.artemis.datastructures.state.Fork;\n+import tech.pegasys.artemis.util.SSZTypes.Bitlist;\n+import tech.pegasys.artemis.util.async.SafeFuture;\n+import tech.pegasys.artemis.util.bls.BLSSignature;\n import tech.pegasys.artemis.validator.api.ValidatorApiChannel;\n import tech.pegasys.artemis.validator.client.ForkProvider;\n import tech.pegasys.artemis.validator.client.Validator;\n+import tech.pegasys.artemis.validator.client.signer.Signer;\n \n public class AttestationProductionDuty implements Duty {\n   private static final Logger LOG = LogManager.getLogger();\n+  private final Map<Integer, List<ValidatorWithCommitteePosition>> validators = new HashMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc1NzkxMw=="}, "originalCommit": {"oid": "7fc4dab59a86c72ced3e648ef3b226cd465cce48"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MTU4OTE5OnYy", "diffSide": "RIGHT", "path": "validator/client/src/main/java/tech/pegasys/artemis/validator/client/duties/BlockProductionDuty.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNjo0NToxM1rOF_JZrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQyMDoxNTowMlrOF_Q8pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc1ODYzNg==", "bodyText": "Did you mean to keep this log?", "url": "https://github.com/ConsenSys/teku/pull/1520#discussion_r401758636", "createdAt": "2020-04-01T16:45:13Z", "author": {"login": "mbaxter"}, "path": "validator/client/src/main/java/tech/pegasys/artemis/validator/client/duties/BlockProductionDuty.java", "diffHunk": "@@ -24,18 +32,52 @@\n   private static final Logger LOG = LogManager.getLogger();\n   private final Validator validator;\n   private final UnsignedLong slot;\n+  private final ForkProvider forkProvider;\n+  private final ValidatorApiChannel validatorApiChannel;\n \n   public BlockProductionDuty(\n       final Validator validator,\n       final UnsignedLong slot,\n       final ForkProvider forkProvider,\n       final ValidatorApiChannel validatorApiChannel) {\n+    LOG.trace(\"Created\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fc4dab59a86c72ced3e648ef3b226cd465cce48"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg4MjI3OA==", "bodyText": "Nope, removed.", "url": "https://github.com/ConsenSys/teku/pull/1520#discussion_r401882278", "createdAt": "2020-04-01T20:15:02Z", "author": {"login": "ajsutton"}, "path": "validator/client/src/main/java/tech/pegasys/artemis/validator/client/duties/BlockProductionDuty.java", "diffHunk": "@@ -24,18 +32,52 @@\n   private static final Logger LOG = LogManager.getLogger();\n   private final Validator validator;\n   private final UnsignedLong slot;\n+  private final ForkProvider forkProvider;\n+  private final ValidatorApiChannel validatorApiChannel;\n \n   public BlockProductionDuty(\n       final Validator validator,\n       final UnsignedLong slot,\n       final ForkProvider forkProvider,\n       final ValidatorApiChannel validatorApiChannel) {\n+    LOG.trace(\"Created\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc1ODYzNg=="}, "originalCommit": {"oid": "7fc4dab59a86c72ced3e648ef3b226cd465cce48"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1803, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}