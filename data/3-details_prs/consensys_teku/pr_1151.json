{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc0NjQ3NDg0", "number": 1151, "title": "Throttle the rate of requests made to the ETH1 node", "bodyText": "With the need to retrieve block information for both deposits and building the Eth1 data cache, we're sending a lot of requests to the ETH1 node which may overload it and result in timeouts.\nThis introduces a throttling to limit the number of in-flight requests we have at any point in time.", "createdAt": "2020-02-13T03:16:58Z", "url": "https://github.com/ConsenSys/teku/pull/1151", "merged": true, "mergeCommit": {"oid": "76fc3cf6485a86b2e1cdb72b4d33579317d70beb"}, "closed": true, "closedAt": "2020-02-13T22:14:41Z", "author": {"login": "ajsutton"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDyLPPgH2gAyMzc0NjQ3NDg0OmUxODllNWFiMTQxMzc1NzdmNDE1MThkZjAxNDc1Yzg3NmYzMThiNDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcEBpUegH2gAyMzc0NjQ3NDg0OjdmYjI3MzBmYzhjOGMzNGRlMjI0YWFiMzI5N2Q4MmI5MjUyNTlmZjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e189e5ab14137577f41518df01475c876f318b44", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/e189e5ab14137577f41518df01475c876f318b44", "committedDate": "2020-02-13T03:15:23Z", "message": "Throttle the rate of requests made to the ETH1 node."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a74fdbe1fdbe491b02bea5c763089d66e882207", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/1a74fdbe1fdbe491b02bea5c763089d66e882207", "committedDate": "2020-02-13T04:35:13Z", "message": "Hide futures better."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "938ad7037174ccb4353eac643ba2e6a54115ffe5", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/938ad7037174ccb4353eac643ba2e6a54115ffe5", "committedDate": "2020-02-13T05:10:28Z", "message": "Remove duplicate log."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3OTcxNjk2", "url": "https://github.com/ConsenSys/teku/pull/1151#pullrequestreview-357971696", "createdAt": "2020-02-13T06:02:29Z", "commit": {"oid": "938ad7037174ccb4353eac643ba2e6a54115ffe5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwNjowMjoyOVrOFpH6pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwNjowMjoyOVrOFpH6pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODY2NTYzOQ==", "bodyText": "I'd suggest setting this constant in the constants file so that configurable constants like these are more visible to outsiders and also more visible to us long after we develop this specific module.", "url": "https://github.com/ConsenSys/teku/pull/1151#discussion_r378665639", "createdAt": "2020-02-13T06:02:29Z", "author": {"login": "cemozerr"}, "path": "services/powchain/src/main/java/tech/pegasys/artemis/services/powchain/PowchainService.java", "diffHunk": "@@ -51,7 +53,9 @@\n import tech.pegasys.artemis.util.time.TimeProvider;\n \n public class PowchainService implements ServiceInterface {\n+\n   private static final Logger LOG = LogManager.getLogger();\n+  public static final int MAXIMUM_CONCURRENT_REQUESTS = 5;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "938ad7037174ccb4353eac643ba2e6a54115ffe5"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3OTcxODIw", "url": "https://github.com/ConsenSys/teku/pull/1151#pullrequestreview-357971820", "createdAt": "2020-02-13T06:02:52Z", "commit": {"oid": "938ad7037174ccb4353eac643ba2e6a54115ffe5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "365d79a53e101f1a5eda4066e67fc8ecc3cd17d9", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/365d79a53e101f1a5eda4066e67fc8ecc3cd17d9", "committedDate": "2020-02-13T06:49:32Z", "message": "Move constant to Constants."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fb2730fc8c8c34de224aab3297d82b925259ff9", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/7fb2730fc8c8c34de224aab3297d82b925259ff9", "committedDate": "2020-02-13T21:16:49Z", "message": "Merge branch 'master' into throttle-eth1-requests"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4035, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}