{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0ODUzNDky", "number": 2865, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNTo1Njo1MVrOEooKJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNTo1Nzo0OFrOEooMnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExMDM2NDUyOnYy", "diffSide": "LEFT", "path": "ethereum/core/src/main/java/tech/pegasys/teku/core/ForkChoiceUtil.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNTo1Njo1MVrOHZ1A7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNjowNTowNVrOHZ1iYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg0NTAzNg==", "bodyText": "Should we still not keep the property of not executing on_tick before genesis time?", "url": "https://github.com/ConsenSys/teku/pull/2865#discussion_r496845036", "createdAt": "2020-09-29T15:56:51Z", "author": {"login": "cemozerr"}, "path": "ethereum/core/src/main/java/tech/pegasys/teku/core/ForkChoiceUtil.java", "diffHunk": "@@ -193,7 +193,7 @@ private static boolean should_update_justified_checkpoint(\n    *     <a>https://github.com/ethereum/eth2.0-specs/blob/v0.8.1/specs/core/0_fork-choice.md#on_tick</a>\n    */\n   public static void on_tick(MutableStore store, UInt64 time) {\n-    if (store.getGenesisTime().isGreaterThan(time)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "618aac3e0e26adabdcfd97dc0667b6ac9698c40d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg1MzYwMw==", "bodyText": "Feels a bit defensive since time should be >= genesisTime, but added this back in for good measure", "url": "https://github.com/ConsenSys/teku/pull/2865#discussion_r496853603", "createdAt": "2020-09-29T16:05:05Z", "author": {"login": "mbaxter"}, "path": "ethereum/core/src/main/java/tech/pegasys/teku/core/ForkChoiceUtil.java", "diffHunk": "@@ -193,7 +193,7 @@ private static boolean should_update_justified_checkpoint(\n    *     <a>https://github.com/ethereum/eth2.0-specs/blob/v0.8.1/specs/core/0_fork-choice.md#on_tick</a>\n    */\n   public static void on_tick(MutableStore store, UInt64 time) {\n-    if (store.getGenesisTime().isGreaterThan(time)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg0NTAzNg=="}, "originalCommit": {"oid": "618aac3e0e26adabdcfd97dc0667b6ac9698c40d"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExMDM3MDg3OnYy", "diffSide": "RIGHT", "path": "ethereum/core/src/test/java/tech/pegasys/teku/core/ForkChoiceUtilTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNTo1Nzo0OFrOHZ1Ewg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNTo1Nzo0OFrOHZ1Ewg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg0NjAxOA==", "bodyText": "This test seems to be redundant & a bit misleading.", "url": "https://github.com/ConsenSys/teku/pull/2865#discussion_r496846018", "createdAt": "2020-09-29T15:57:48Z", "author": {"login": "cemozerr"}, "path": "ethereum/core/src/test/java/tech/pegasys/teku/core/ForkChoiceUtilTest.java", "diffHunk": "@@ -159,12 +159,22 @@ public void getSlotStartTime_shouldGetCorrectTimePastGenesis() {\n   void on_tick_shouldExitImmediatelyWhenCurrentTimeIsBeforeGenesisTime() {\n     final MutableStore store = mock(MutableStore.class);\n     when(store.getGenesisTime()).thenReturn(UInt64.valueOf(3000));\n-    when(store.getTime()).thenReturn(UInt64.ZERO);\n+    when(store.getTime()).thenReturn(UInt64.valueOf(3000));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "618aac3e0e26adabdcfd97dc0667b6ac9698c40d"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3292, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}