{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA0MDgxNjgy", "number": 1602, "title": "Add previous_justified_epoch metric.", "bodyText": "cleanup current_justified_epoch\n\n\nremove some metrics from the StateTransition functions into where the rest of these metrics are done.\n\n\nAddresses #1450\nSigned-off-by: Paul Harris paul.harris@consensys.net", "createdAt": "2020-04-16T02:30:25Z", "url": "https://github.com/ConsenSys/teku/pull/1602", "merged": true, "mergeCommit": {"oid": "479f9648d182508f85f7ca9e64b69c0062bfd6fa"}, "closed": true, "closedAt": "2020-04-16T05:29:34Z", "author": {"login": "rolfyone"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYDSHZAH2gAyNDA0MDgxNjgyOmNiZmViZGU0NGMwZGI2MWNhODJhMTNiNzE5YjMwMzIxMTgwMmFmNTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYDqAsAFqTM5NDI2NTUwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cbfebde44c0db61ca82a13b719b303211802af55", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/cbfebde44c0db61ca82a13b719b303211802af55", "committedDate": "2020-04-16T02:29:46Z", "message": "Add previous_justified_epoch metric.\n\n - cleanup current_justified_epoch\n\n - remove some metrics from the StateTransition functions into where the rest of these metrics are done.\n\n Addresses #1450\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d178b444656bc541e56f6a2e4840070caf060e6e", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/d178b444656bc541e56f6a2e4840070caf060e6e", "committedDate": "2020-04-16T02:32:10Z", "message": "Merge remote-tracking branch 'upstream/master' into 1450-previous-justified-epoch\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0MjY1NTAy", "url": "https://github.com/ConsenSys/teku/pull/1602#pullrequestreview-394265502", "createdAt": "2020-04-16T02:55:37Z", "commit": {"oid": "d178b444656bc541e56f6a2e4840070caf060e6e"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwMjo1NTozN1rOGGSsgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwMjo1NTozN1rOGGSsgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTI1MDk0Ng==", "bodyText": "Would \"Previously justified epoch\" make more sense?", "url": "https://github.com/ConsenSys/teku/pull/1602#discussion_r409250946", "createdAt": "2020-04-16T02:55:37Z", "author": {"login": "macfarla"}, "path": "services/beaconchain/src/main/java/tech/pegasys/artemis/services/beaconchain/BeaconChainController.java", "diffHunk": "@@ -248,9 +262,14 @@ public void initMetrics() {\n         this::getFinalizedEpochValue);\n     metricsSystem.createGauge(\n         ArtemisMetricCategory.BEACON,\n-        \"justified_epoch\",\n+        \"current_justified_epoch\",\n         \"Current justified epoch\",\n         this::getJustifiedEpochValue);\n+    metricsSystem.createGauge(\n+        ArtemisMetricCategory.BEACON,\n+        \"previous_justified_epoch\",\n+        \"Current previously justified epoch\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d178b444656bc541e56f6a2e4840070caf060e6e"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4291, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}