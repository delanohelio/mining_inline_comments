{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxMzEzNTEw", "number": 1423, "title": "Switch DataStructureUtil to use instance methods", "bodyText": "PR Description\nDataStructureUtil now uses instance methods instead of static so it can encapsulate the seed value and ensure it increments for each call.  Fixes an issue where the BeaconState it generated actually had the same public key for every validator in the state because the seed wasn't being updated correctly.", "createdAt": "2020-03-20T01:45:12Z", "url": "https://github.com/ConsenSys/teku/pull/1423", "merged": true, "mergeCommit": {"oid": "e87d19605ec85af38e17aa82f45c58e29a573005"}, "closed": true, "closedAt": "2020-03-20T03:04:44Z", "author": {"login": "ajsutton"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcPWca5AH2gAyMzkxMzEzNTEwOmZmNjFhZTQ0N2IyMmU3OTBkNjdhNWYzMTkwMjcxN2U5MDhjZmFkNjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPXTXfgH2gAyMzkxMzEzNTEwOjVkMDUwODhjYmJhMmFlY2Q4MWNiMzAyMzRhNjM2N2UyMmI0NjYxNmQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ff61ae447b22e790d67a5f31902717e908cfad66", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/ff61ae447b22e790d67a5f31902717e908cfad66", "committedDate": "2020-03-20T01:43:54Z", "message": "Switch DataStructureUtil to use instance methods so it can guarantee unique seeds."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72085bb3f8fe1c826aa05e8dac213cf876cb8044", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/72085bb3f8fe1c826aa05e8dac213cf876cb8044", "committedDate": "2020-03-20T01:45:19Z", "message": "Merge branch 'master' into auto-seed-datatstructure-util"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4MjAwMTg2", "url": "https://github.com/ConsenSys/teku/pull/1423#pullrequestreview-378200186", "createdAt": "2020-03-20T02:03:16Z", "commit": {"oid": "72085bb3f8fe1c826aa05e8dac213cf876cb8044"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQwMjowMzoxNlrOF5F6EA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQwMjowMzoxNlrOF5F6EA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQwOTkzNg==", "bodyText": "why do we need a different DataStructureUtil here?", "url": "https://github.com/ConsenSys/teku/pull/1423#discussion_r395409936", "createdAt": "2020-03-20T02:03:16Z", "author": {"login": "macfarla"}, "path": "storage/src/test/java/tech/pegasys/artemis/storage/ChainStorageClientTest.java", "diffHunk": "@@ -46,17 +46,18 @@\n class ChainStorageClientTest {\n \n   private static final BeaconState INITIAL_STATE =\n-      DataStructureUtil.randomBeaconState(UnsignedLong.ZERO, 1);\n+      new DataStructureUtil(3).randomBeaconState(UnsignedLong.ZERO);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72085bb3f8fe1c826aa05e8dac213cf876cb8044"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d05088cbba2aecd81cb30234a6367e22b46616d", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/5d05088cbba2aecd81cb30234a6367e22b46616d", "committedDate": "2020-03-20T02:43:55Z", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into auto-seed-datatstructure-util\n\n# Conflicts:\n#\tdata/provider/src/test/java/tech/pegasys/artemis/api/ValidatorDataProviderTest.java"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4021, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}