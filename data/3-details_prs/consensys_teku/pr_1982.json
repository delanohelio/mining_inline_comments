{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0MDM4MDg4", "number": 1982, "title": "[BC-442] Require block and state to be added to Store atomically", "bodyText": "PR Description\nIn order to simplify Store transaction logic, ensure that blocks and states are always stored together: merge MutableStore.putBlock() and MutableStore.putBlockState() into MutableStore.putBlockAndState().", "createdAt": "2020-05-27T18:28:01Z", "url": "https://github.com/ConsenSys/teku/pull/1982", "merged": true, "mergeCommit": {"oid": "c1c23a96f86466570e37f10bf34a0e93fe2ef6fc"}, "closed": true, "closedAt": "2020-05-27T20:26:45Z", "author": {"login": "mbaxter"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcldhGigH2gAyNDI0MDM4MDg4OjM2OWRjYjY4OTc2OTAwN2MwNmQwNmE5MTQ4NDQyZTQ0MTZiMzFmMWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclfB18gH2gAyNDI0MDM4MDg4OjBkZjA3ZDZiOWZmNTExNDExODBjMzY2NDY2YTVlNjI5ZTMxZWQ2ZWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "369dcb689769007c06d06a9148442e4416b31f1b", "author": {"user": {"login": "mbaxter", "name": null}}, "url": "https://github.com/ConsenSys/teku/commit/369dcb689769007c06d06a9148442e4416b31f1b", "committedDate": "2020-05-27T18:24:41Z", "message": "Require block and state to be added to store atomically"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NTY1MzA5", "url": "https://github.com/ConsenSys/teku/pull/1982#pullrequestreview-419565309", "createdAt": "2020-05-27T20:00:18Z", "commit": {"oid": "369dcb689769007c06d06a9148442e4416b31f1b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMDowMDoxOFrOGbbGIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QyMDowMDoxOFrOGbbGIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQwODY3Mw==", "bodyText": "nit: redundant semicolon", "url": "https://github.com/ConsenSys/teku/pull/1982#discussion_r431408673", "createdAt": "2020-05-27T20:00:18Z", "author": {"login": "cemozerr"}, "path": "storage/src/integration-test/java/tech/pegasys/teku/storage/client/AbstractCombinedChainDataClientTest.java", "diffHunk": "@@ -260,8 +260,8 @@ public void getBlockAndStateInEffectAtSlot_withBlockAndStateAvailable() throws E\n     chainUpdater.initializeGenesis();\n \n     final SignedBlockAndState targetBlock = chainBuilder.generateNextBlock();\n-    chainUpdater.saveState(targetBlock.getRoot(), targetBlock.getState());\n-    chainUpdater.saveBlock(targetBlock.getBlock());\n+    chainUpdater.saveBlock(targetBlock);\n+    ;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "369dcb689769007c06d06a9148442e4416b31f1b"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NTY2Mzg3", "url": "https://github.com/ConsenSys/teku/pull/1982#pullrequestreview-419566387", "createdAt": "2020-05-27T20:01:58Z", "commit": {"oid": "369dcb689769007c06d06a9148442e4416b31f1b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e67c6f730db52e4cf3a498201dd54fe7e78ad40", "author": {"user": {"login": "mbaxter", "name": null}}, "url": "https://github.com/ConsenSys/teku/commit/1e67c6f730db52e4cf3a498201dd54fe7e78ad40", "committedDate": "2020-05-27T20:09:52Z", "message": "Cut stray semicolon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0df07d6b9ff51141180c366466a5e629e31ed6ef", "author": {"user": {"login": "mbaxter", "name": null}}, "url": "https://github.com/ConsenSys/teku/commit/0df07d6b9ff51141180c366466a5e629e31ed6ef", "committedDate": "2020-05-27T20:10:21Z", "message": "Merge branch 'master' into bc-442/always-save-block-with-state"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4047, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}