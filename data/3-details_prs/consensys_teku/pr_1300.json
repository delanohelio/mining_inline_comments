{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0NTk4MzAw", "number": 1300, "title": "Provide meaningful type of peer addresses instead of just String", "bodyText": "PR Description\nIntroduces a PeerAddress class which represents an address of a peer.  The implementation details and parsing format are network type specific but it allows the node ID to be extracted without any further knowledge of the address type and provides static type checking.\nBoth static and discovery peers are now converted into PeerAddress instances which are then used to connect.", "createdAt": "2020-03-06T02:12:02Z", "url": "https://github.com/ConsenSys/teku/pull/1300", "merged": true, "mergeCommit": {"oid": "669708b7e4bb6230c7c8f21d47f29b1c25a757ef"}, "closed": true, "closedAt": "2020-03-07T01:42:42Z", "author": {"login": "ajsutton"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcK2Vq0AH2gAyMzg0NTk4MzAwOjhkODNiMGYyODYxZDUxNTQ3MTM5YzVlN2VhMzM2ZmZlOTA2ZjQ1Mjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcLKfhmAH2gAyMzg0NTk4MzAwOjAxZjkzMjc3OGFkZjdkYWY2ZGQ2NjQyNTgyOGJiNTdiMWViZGNiY2M=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8d83b0f2861d51547139c5e7ea336ffe906f4528", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/8d83b0f2861d51547139c5e7ea336ffe906f4528", "committedDate": "2020-03-06T02:03:52Z", "message": "Parse peer addresses into a PeerAddress type which may be specific to a particular P2PNetwork implementation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "969016608ed3db998e043823f1795576be075c13", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/969016608ed3db998e043823f1795576be075c13", "committedDate": "2020-03-06T02:03:53Z", "message": "Use PeerAddress to connect to discovery peers as well."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2aef01cc216f3e4566e31c47ef4800a205ba2b51", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/2aef01cc216f3e4566e31c47ef4800a205ba2b51", "committedDate": "2020-03-06T02:10:49Z", "message": "Return optional not future."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27086ac58dea069277bdbafafa8a49ad6d00640d", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/27086ac58dea069277bdbafafa8a49ad6d00640d", "committedDate": "2020-03-06T02:20:45Z", "message": "Fix integration tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7874384ac777ef5ee083252aeb58413e2ae2db4", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/f7874384ac777ef5ee083252aeb58413e2ae2db4", "committedDate": "2020-03-06T02:26:44Z", "message": "Fix compat test."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNDA4ODk1", "url": "https://github.com/ConsenSys/teku/pull/1300#pullrequestreview-370408895", "createdAt": "2020-03-06T15:28:54Z", "commit": {"oid": "f7874384ac777ef5ee083252aeb58413e2ae2db4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNToyODo1NFrOFy8zJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNToyODo1NFrOFy8zJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODk2OTI1Mw==", "bodyText": "looks way cleaner. nice.", "url": "https://github.com/ConsenSys/teku/pull/1300#discussion_r388969253", "createdAt": "2020-03-06T15:28:54Z", "author": {"login": "cemozerr"}, "path": "networking/eth2/src/integration-test/java/tech/pegasys/artemis/networking/eth2/GossipMessageHandlerIntegrationTest.java", "diffHunk": "@@ -63,8 +63,8 @@ public void shouldGossipBlocksAcrossToIndirectlyConnectedPeers() throws Exceptio\n     node2.chainUtil().setSlot(blockSlot);\n \n     // Connect networks 1 -> 2 -> 3\n-    waitFor(node1.network().connect(node2.network().getNodeAddress()));\n-    waitFor(node2.network().connect(node3.network().getNodeAddress()));\n+    waitFor(node1.connect(node2));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7874384ac777ef5ee083252aeb58413e2ae2db4"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNDk1Mzgz", "url": "https://github.com/ConsenSys/teku/pull/1300#pullrequestreview-370495383", "createdAt": "2020-03-06T17:23:03Z", "commit": {"oid": "f7874384ac777ef5ee083252aeb58413e2ae2db4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01f932778adf7daf6dd66425828bb57b1ebdcbcc", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/01f932778adf7daf6dd66425828bb57b1ebdcbcc", "committedDate": "2020-03-07T01:32:44Z", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into peer-address2\n\n# Conflicts:\n#\tnetworking/p2p/src/main/java/tech/pegasys/artemis/networking/p2p/connection/ConnectionManager.java\n#\tnetworking/p2p/src/test/java/tech/pegasys/artemis/networking/p2p/discovery/ConnectionManagerTest.java"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3910, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}