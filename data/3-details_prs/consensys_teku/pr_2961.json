{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyNzI0MzM2", "number": 2961, "title": "Move BlockManager class into ethereum:statetransition package", "bodyText": "PR Description\nMove BlockManager class into ethereum:statetransition package. Tested on Zinken.\nFixed Issue\nFixes #2912.\nDocumentation\n\n I thought about documentation and added the documentation label to this PR if updates are required.", "createdAt": "2020-10-13T19:16:11Z", "url": "https://github.com/ConsenSys/teku/pull/2961", "merged": true, "mergeCommit": {"oid": "591c0aca751289c00300713a938c6e09e50bb4d7"}, "closed": true, "closedAt": "2020-10-15T17:50:57Z", "author": {"login": "cemozerr"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSNgPNgH2gAyNTAyNzI0MzM2OjAyMzdiYjVlMGZlYjA4OWExODEwMGQxOTcyM2Q5ZmE4MmVlODIyYzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdS1VFMAH2gAyNTAyNzI0MzM2OjMzNTYzYjc2ZGQ2NDJkMWE4MTdjZGQyOWIyNDQ5OWJhODhjNTRiMjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0237bb5e0feb089a18100d19723d9fa82ee822c5", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/0237bb5e0feb089a18100d19723d9fa82ee822c5", "committedDate": "2020-10-13T19:11:51Z", "message": "Remove eventBus when propagating blocks from network to block manager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b3a43d1cf449d9c76cd85b67cfbeb1ea3dabc6c", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/4b3a43d1cf449d9c76cd85b67cfbeb1ea3dabc6c", "committedDate": "2020-10-13T19:15:07Z", "message": "Run spotless"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7646ad0478ba7cc704dc7498b2b0c985213df359", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/7646ad0478ba7cc704dc7498b2b0c985213df359", "committedDate": "2020-10-13T19:38:00Z", "message": "Remove onGossipedBlock method from BlockManager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13bc1c7be21ee022b2f55f2711227d81d3d24bb3", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/13bc1c7be21ee022b2f55f2711227d81d3d24bb3", "committedDate": "2020-10-13T19:38:27Z", "message": "Run spotless"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f8c0bd109b478916bd8e7114316e9f392415497", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/4f8c0bd109b478916bd8e7114316e9f392415497", "committedDate": "2020-10-13T20:11:20Z", "message": "Move BlockManager from sync to ethereum:statetransition"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6aa25828df58a807064b05b8314027eb727ab16f", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/6aa25828df58a807064b05b8314027eb727ab16f", "committedDate": "2020-10-13T20:11:32Z", "message": "Run spotless"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6191855a493e4d971121138380a039981df6c2c", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/b6191855a493e4d971121138380a039981df6c2c", "committedDate": "2020-10-13T20:17:48Z", "message": "Fix testFixture error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "446d194073be21405ca75ee1d206030467483482", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/446d194073be21405ca75ee1d206030467483482", "committedDate": "2020-10-13T20:28:16Z", "message": "Run spotless"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4dde201c03096cf46032ae2c87f69c268b1aac7a", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/4dde201c03096cf46032ae2c87f69c268b1aac7a", "committedDate": "2020-10-14T17:17:20Z", "message": "Fix gossip message handler test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b3afa4f268e569226a3de4cb43b4a1405d442cc", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/7b3afa4f268e569226a3de4cb43b4a1405d442cc", "committedDate": "2020-10-14T18:03:14Z", "message": "Fix block propagation integration test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "661c1e87cafb4fc1863c50003021a44abc963ddd", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/661c1e87cafb4fc1863c50003021a44abc963ddd", "committedDate": "2020-10-14T18:03:24Z", "message": "Run spotless"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d037d8699fd9be71852eed810e0bedd383fb04d", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/3d037d8699fd9be71852eed810e0bedd383fb04d", "committedDate": "2020-10-14T19:41:26Z", "message": "Merge remote-tracking branch 'remotes/origin/master' into removeEventBusInBlockTopicHandler"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4Njk2MTUw", "url": "https://github.com/ConsenSys/teku/pull/2961#pullrequestreview-508696150", "createdAt": "2020-10-14T20:17:35Z", "commit": {"oid": "3d037d8699fd9be71852eed810e0bedd383fb04d"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQyMDoxNzozNVrOHhjhew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQyMDoyNzo1NlrOHhj2zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDk0NzA2Nw==", "bodyText": "I don't think I'd expose this - just have callers use importBlock and then the caller should decide how they want to handle the result. I know it will mean a bunch of extra .reportExceptions() calls in places that otherwise could use a method reference, but I'm always very nervous about methods that automatically ignore results.", "url": "https://github.com/ConsenSys/teku/pull/2961#discussion_r504947067", "createdAt": "2020-10-14T20:17:35Z", "author": {"login": "ajsutton"}, "path": "ethereum/statetransition/src/main/java/tech/pegasys/teku/statetransition/block/BlockManager.java", "diffHunk": "@@ -121,12 +118,12 @@ void onBlockImported(ImportedBlockEvent blockImportedEvent) {\n     children.forEach(this::importBlockIgnoringResult);\n   }\n \n-  private void importBlockIgnoringResult(final SignedBeaconBlock block) {\n+  public void importBlockIgnoringResult(final SignedBeaconBlock block) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d037d8699fd9be71852eed810e0bedd383fb04d"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDk1MjUyNw==", "bodyText": "Stray println.", "url": "https://github.com/ConsenSys/teku/pull/2961#discussion_r504952527", "createdAt": "2020-10-14T20:27:56Z", "author": {"login": "ajsutton"}, "path": "sync/src/integration-test/java/tech/pegasys/teku/sync/BlockPropagationIntegrationTest.java", "diffHunk": "@@ -103,19 +103,20 @@ public void shouldFetchUnknownAncestorsOfPropagatedBlock(\n \n     // Propagate new block\n     final SignedBeaconBlock newBlock = node1.chainUtil().createBlockAtSlot(currentSlot);\n+    System.out.println(newBlock.getSlot());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d037d8699fd9be71852eed810e0bedd383fb04d"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b43658d31391334bd6fd2cef7ac9be444078272", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/9b43658d31391334bd6fd2cef7ac9be444078272", "committedDate": "2020-10-14T21:26:05Z", "message": "Explicitly handle the result when block import fails"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4dbce653b494c98a1f4e65d80ad971136d06418", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/b4dbce653b494c98a1f4e65d80ad971136d06418", "committedDate": "2020-10-14T21:26:36Z", "message": "Remove stray println and run spotless"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a729262ed268085bc04505c6114ebcd9284f21e", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/0a729262ed268085bc04505c6114ebcd9284f21e", "committedDate": "2020-10-14T21:32:16Z", "message": "Fix integration test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9020083309d8d2a2e48fb753447ad50d13e71274", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/9020083309d8d2a2e48fb753447ad50d13e71274", "committedDate": "2020-10-14T21:33:58Z", "message": "Run spotless"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "258a4c1c8b812cf05b44fe7e89ae53f94a418667", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/258a4c1c8b812cf05b44fe7e89ae53f94a418667", "committedDate": "2020-10-15T14:48:40Z", "message": "Fix integration test issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07e27ea0bfd72549e76a24bba0d3af671324c7e4", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/07e27ea0bfd72549e76a24bba0d3af671324c7e4", "committedDate": "2020-10-15T14:56:17Z", "message": "Fix naming"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddf278a4cd79e594610b2dd4b0f0301c27041775", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/ddf278a4cd79e594610b2dd4b0f0301c27041775", "committedDate": "2020-10-15T15:05:23Z", "message": "Fix future return value ignored warning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab0d75ca5b54900494912f5123cc9319488ef91e", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/ab0d75ca5b54900494912f5123cc9319488ef91e", "committedDate": "2020-10-15T15:24:52Z", "message": "Merge branch 'master' into removeEventBusInBlockTopicHandler"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33563b76dd642d1a817cdd29b24499ba88c54b22", "author": {"user": {"login": "cemozerr", "name": "Cem Ozer"}}, "url": "https://github.com/ConsenSys/teku/commit/33563b76dd642d1a817cdd29b24499ba88c54b22", "committedDate": "2020-10-15T17:35:52Z", "message": "Fix stuck text"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3353, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}