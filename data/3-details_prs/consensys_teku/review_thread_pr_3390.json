{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM2MTcwOTcw", "number": 3390, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMDo1OTowNVrOFDrgvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMDo1OTowNVrOFDrgvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NDAyOTQyOnYy", "diffSide": "RIGHT", "path": "validator/client/src/main/java/tech/pegasys/teku/validator/client/ValidatorClientService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMDo1OTowNVrOIDdBlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMTowODoyMVrOIDdWeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ5MjE4Mw==", "bodyText": "should log rather than println...", "url": "https://github.com/ConsenSys/teku/pull/3390#discussion_r540492183", "createdAt": "2020-12-10T20:59:05Z", "author": {"login": "rolfyone"}, "path": "validator/client/src/main/java/tech/pegasys/teku/validator/client/ValidatorClientService.java", "diffHunk": "@@ -156,17 +160,21 @@ private static void addValidatorCountMetric(\n \n   @Override\n   protected SafeFuture<?> doStart() {\n-    forkProvider.start().reportExceptions();\n-    validatorIndexProvider.lookupValidators();\n-    eventChannels.subscribe(\n-        ValidatorTimingChannel.class,\n-        new ValidatorTimingActions(\n-            validatorStatusLogger,\n-            validatorIndexProvider,\n-            blockProductionTimingChannel,\n-            attestationTimingChannel));\n-    validatorStatusLogger.printInitialValidatorStatuses();\n-    return beaconNodeApi.subscribeToEvents();\n+    return initializationComplete.thenCompose(\n+        (__) -> {\n+          System.out.println(\"initialization complete\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f6ea656db2fad677a99ce0ba0e16530b8dd49f8c"}, "originalPosition": 166}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ5NzUzMA==", "bodyText": "Done.", "url": "https://github.com/ConsenSys/teku/pull/3390#discussion_r540497530", "createdAt": "2020-12-10T21:08:21Z", "author": {"login": "cemozerr"}, "path": "validator/client/src/main/java/tech/pegasys/teku/validator/client/ValidatorClientService.java", "diffHunk": "@@ -156,17 +160,21 @@ private static void addValidatorCountMetric(\n \n   @Override\n   protected SafeFuture<?> doStart() {\n-    forkProvider.start().reportExceptions();\n-    validatorIndexProvider.lookupValidators();\n-    eventChannels.subscribe(\n-        ValidatorTimingChannel.class,\n-        new ValidatorTimingActions(\n-            validatorStatusLogger,\n-            validatorIndexProvider,\n-            blockProductionTimingChannel,\n-            attestationTimingChannel));\n-    validatorStatusLogger.printInitialValidatorStatuses();\n-    return beaconNodeApi.subscribeToEvents();\n+    return initializationComplete.thenCompose(\n+        (__) -> {\n+          System.out.println(\"initialization complete\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ5MjE4Mw=="}, "originalCommit": {"oid": "f6ea656db2fad677a99ce0ba0e16530b8dd49f8c"}, "originalPosition": 166}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2948, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}