{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0NTA1MTU3", "number": 1491, "title": "Add integration tests that show returning of data from the local chain", "bodyText": "Partially addresses #1473\nSigned-off-by: Paul Harris paul.harris@consensys.net", "createdAt": "2020-03-27T01:37:11Z", "url": "https://github.com/ConsenSys/teku/pull/1491", "merged": true, "mergeCommit": {"oid": "e4003658b10a073de9f4ee88a7bd4ca1fcdbb3c0"}, "closed": true, "closedAt": "2020-03-31T01:25:25Z", "author": {"login": "rolfyone"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRmiEcAH2gAyMzk0NTA1MTU3OmQ4NzVjOTliODI1NTAyMGQ5ZjFhM2NlNWQyYTY2ZDY3MzQwZTU4ZjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcS4mKOgH2gAyMzk0NTA1MTU3OjQ0ZDUyYjkyNjU1NjhiNzJjZDNiODkxNDljY2MxNGRhMWNjZjBlYzU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d875c99b8255020d9f1a3ce5d2a66d67340e58f5", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/d875c99b8255020d9f1a3ce5d2a66d67340e58f5", "committedDate": "2020-03-27T01:36:24Z", "message": "Add integration tests that show returning of data from the local chain\n\nPartially addresses #1473\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26a7c56e62b5299a03ea258693dc2e7d99baef69", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/26a7c56e62b5299a03ea258693dc2e7d99baef69", "committedDate": "2020-03-27T01:48:51Z", "message": "Merge remote-tracking branch 'upstream/master' into 1473-integration-tests-get-beaconBlock\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNTYxNTA2", "url": "https://github.com/ConsenSys/teku/pull/1491#pullrequestreview-382561506", "createdAt": "2020-03-27T03:39:01Z", "commit": {"oid": "26a7c56e62b5299a03ea258693dc2e7d99baef69"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwMzozOTowMlrOF8iH5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwMzozOTowMlrOF8iH5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTAxNzk1OQ==", "bodyText": "Could add final in plenty of spots here.", "url": "https://github.com/ConsenSys/teku/pull/1491#discussion_r399017959", "createdAt": "2020-03-27T03:39:02Z", "author": {"login": "mark-terry"}, "path": "data/beaconrestapi/src/integration-test/java/tech/pegasys/artemis/beaconrestapi/AbstractDataBackedRestAPIIntegrationTest.java", "diffHunk": "@@ -0,0 +1,74 @@\n+/*\n+ * Copyright 2020 ConsenSys AG.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with\n+ * the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\n+ * an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations under the License.\n+ */\n+\n+package tech.pegasys.artemis.beaconrestapi;\n+\n+import com.google.common.eventbus.EventBus;\n+import com.google.common.primitives.UnsignedLong;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.concurrent.TimeUnit;\n+import okhttp3.OkHttpClient;\n+import org.junit.jupiter.api.BeforeEach;\n+import tech.pegasys.artemis.api.DataProvider;\n+import tech.pegasys.artemis.api.schema.SignedBeaconBlock;\n+import tech.pegasys.artemis.statetransition.BeaconChainUtil;\n+import tech.pegasys.artemis.storage.ChainStorageClient;\n+import tech.pegasys.artemis.storage.CombinedChainDataClient;\n+import tech.pegasys.artemis.storage.HistoricalChainData;\n+import tech.pegasys.artemis.util.config.ArtemisConfiguration;\n+\n+public abstract class AbstractDataBackedRestAPIIntegrationTest\n+    extends AbstractBeaconRestAPIIntegrationTest {\n+  private BeaconChainUtil beaconChainUtil;\n+\n+  @Override\n+  @BeforeEach\n+  public void setup() {\n+    final EventBus eventBus = new EventBus();\n+    chainStorageClient = ChainStorageClient.memoryOnlyClient(eventBus);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26a7c56e62b5299a03ea258693dc2e7d99baef69"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35efcf5d3b4ff8081d74bf243c5638992886213a", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/35efcf5d3b4ff8081d74bf243c5638992886213a", "committedDate": "2020-03-29T22:17:22Z", "message": " Merge remote-tracking branch 'upstream/master' into 1473-integration-tests-get-beaconBlock"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f0972c44bed5c65db80b3a4e8f8400907f47296", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/8f0972c44bed5c65db80b3a4e8f8400907f47296", "committedDate": "2020-03-30T10:10:27Z", "message": "Merge remote-tracking branch 'upstream/master' into 1473-integration-tests-get-beaconBlock"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31ee5f7d452804658f09d6d038293816044fcdb3", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/31ee5f7d452804658f09d6d038293816044fcdb3", "committedDate": "2020-03-30T21:29:03Z", "message": "fix tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9633447ab032fddfb2716a62c8d68367bbe02f5f", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/9633447ab032fddfb2716a62c8d68367bbe02f5f", "committedDate": "2020-03-30T22:06:52Z", "message": "fix tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48794a8bee6c1a05341b869e98e8ab4308aa7f9d", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/48794a8bee6c1a05341b869e98e8ab4308aa7f9d", "committedDate": "2020-03-31T01:12:54Z", "message": "Merge remote-tracking branch 'upstream/master' into 1473-integration-tests-get-beaconBlock"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44d52b9265568b72cd3b89149ccc14da1ccf0ec5", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/44d52b9265568b72cd3b89149ccc14da1ccf0ec5", "committedDate": "2020-03-31T01:13:05Z", "message": "Merge remote-tracking branch 'upstream/master' into 1473-integration-tests-get-beaconBlock"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4397, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}