{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3NjI5NjY0", "number": 1655, "title": "append error message to end of help", "bodyText": "Signed-off-by: Sally MacFarlane sally.macfarlane@consensys.net\nTo save scrolling back past the full help text to see what the problem was, print any error messages at the end (after the help). #1651", "createdAt": "2020-04-23T01:32:02Z", "url": "https://github.com/ConsenSys/teku/pull/1655", "merged": true, "mergeCommit": {"oid": "21e6be032d7cecf4a2192b9d0133ad7b76c9c04a"}, "closed": true, "closedAt": "2020-04-24T00:57:32Z", "author": {"login": "macfarla"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcaSmrVgH2gAyNDA3NjI5NjY0OmQ0YmQ0ZTg4ZTkwNWEwMzViZmJhY2UwOTE0OGJjMWZkYTMxYzc3ZDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcamnssAFqTM5OTU3MDk4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d4bd4e88e905a035bfbace09148bc1fda31c77d5", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/ConsenSys/teku/commit/d4bd4e88e905a035bfbace09148bc1fda31c77d5", "committedDate": "2020-04-23T01:28:39Z", "message": "append error message to end of help\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NzA0NjQx", "url": "https://github.com/ConsenSys/teku/pull/1655#pullrequestreview-398704641", "createdAt": "2020-04-23T01:47:40Z", "commit": {"oid": "d4bd4e88e905a035bfbace09148bc1fda31c77d5"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMTo0Nzo0MFrOGKS8aA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMTo0Nzo0MFrOGKS8aA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ0OTMyMA==", "bodyText": "nit: These are not constants so should use normal camel case (or be moved to actual constants).", "url": "https://github.com/ConsenSys/teku/pull/1655#discussion_r413449320", "createdAt": "2020-04-23T01:47:40Z", "author": {"login": "ajsutton"}, "path": "artemis/src/main/java/tech/pegasys/artemis/cli/BeaconNodeCommand.java", "diffHunk": "@@ -217,12 +219,33 @@ private int handleParseException(final CommandLine.ParameterException ex, final\n     errorWriter.println(ex.getMessage());\n \n     if (!CommandLine.UnmatchedArgumentException.printSuggestions(ex, outputWriter)) {\n+      appendErrorMessageToHelp(ex.getCommandLine(), ex.getMessage());\n       ex.getCommandLine().usage(outputWriter, CommandLine.Help.Ansi.AUTO);\n     }\n \n     return ex.getCommandLine().getCommandSpec().exitCodeOnInvalidInput();\n   }\n \n+  private void appendErrorMessageToHelp(CommandLine cmd, String message) {\n+    final String SECTION_KEY_NEW_HEADING = \"errorHeading\";\n+    final String SECTION_KEY_NEW_DETAILS = \"errorContent\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4bd4e88e905a035bfbace09148bc1fda31c77d5"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55a732065685209ddff11699f335e6e5f5f4b4f2", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/ConsenSys/teku/commit/55a732065685209ddff11699f335e6e5f5f4b4f2", "committedDate": "2020-04-23T03:11:06Z", "message": "display instructions on how to get help instead of actual help\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NzQxOTQ1", "url": "https://github.com/ConsenSys/teku/pull/1655#pullrequestreview-398741945", "createdAt": "2020-04-23T03:56:45Z", "commit": {"oid": "55a732065685209ddff11699f335e6e5f5f4b4f2"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a5482a99893fa7522a6fe2182b1dc452515bc49", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/ConsenSys/teku/commit/5a5482a99893fa7522a6fe2182b1dc452515bc49", "committedDate": "2020-04-23T23:20:56Z", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into help-message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68368515b69fe8c5f92bf5c88547a86040fa1fe4", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/ConsenSys/teku/commit/68368515b69fe8c5f92bf5c88547a86040fa1fe4", "committedDate": "2020-04-24T00:34:19Z", "message": "added tests\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "201103f3b9996bc556f3ac3490473f3936a2b952", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/ConsenSys/teku/commit/201103f3b9996bc556f3ac3490473f3936a2b952", "committedDate": "2020-04-24T00:34:36Z", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into help-message"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5NTcwOTgy", "url": "https://github.com/ConsenSys/teku/pull/1655#pullrequestreview-399570982", "createdAt": "2020-04-24T00:47:52Z", "commit": {"oid": "201103f3b9996bc556f3ac3490473f3936a2b952"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4104, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}