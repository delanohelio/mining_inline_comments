{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY1MDkyNDYx", "number": 2538, "title": "Fix overflow in tests", "bodyText": "PR Description\nUpdates tests that were either encountering and silently ignoring or depending on uint64 overflow or underflow.\nOnly production change is to ForkChoiceUtil.getAncestors which had an underflow (but which didn't affect the result).\nFixed Issue(s)\n#2297\nDocumentation\n\n I thought about documentation and added the documentation label to this PR if updates are required.", "createdAt": "2020-08-09T01:07:20Z", "url": "https://github.com/ConsenSys/teku/pull/2538", "merged": true, "mergeCommit": {"oid": "f796cc5fe0f6dbed5ea3627fb3da921922a48952"}, "closed": true, "closedAt": "2020-08-09T22:40:29Z", "author": {"login": "ajsutton"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc9C-LJgH2gAyNDY1MDkyNDYxOmE5YWZmNDhlM2Y1NDc2YWRlMTlkNjM5NDY3Y2FlZWY4MmJkYmFiZDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc9VWCCAFqTQ2MzkwODE4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a9aff48e3f5476ade19d639467caeef82bdbabd5", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/a9aff48e3f5476ade19d639467caeef82bdbabd5", "committedDate": "2020-08-09T01:03:11Z", "message": "Fix PendingPool to avoid overflows instead of handling them afterwards.\nUpdate GetValidators to handle overflow when calculating slot from epoch.\nUpdate tests to avoid overflows."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c10cad65d3960dd0957d804112602be43f05626", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/2c10cad65d3960dd0957d804112602be43f05626", "committedDate": "2020-08-09T01:03:54Z", "message": "Fix underflow in ForkChoiceUtil.getAncestors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b88b6e543c203fd1f7bda5dac5e565fa18cab376", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/b88b6e543c203fd1f7bda5dac5e565fa18cab376", "committedDate": "2020-08-09T01:07:12Z", "message": "Undo rename."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzODM1NjQz", "url": "https://github.com/ConsenSys/teku/pull/2538#pullrequestreview-463835643", "createdAt": "2020-08-09T01:08:21Z", "commit": {"oid": "b88b6e543c203fd1f7bda5dac5e565fa18cab376"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wOVQwMTowODoyMVrOG93Okg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wOVQwMTowODoyMVrOG93Okg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzUyMTE3MA==", "bodyText": "These signing roots changed because the epoch included in the AttestationData generated (which is included in the block body) is different (it's now within the next 12,000 years).", "url": "https://github.com/ConsenSys/teku/pull/2538#discussion_r467521170", "createdAt": "2020-08-09T01:08:21Z", "author": {"login": "ajsutton"}, "path": "validator/client/src/test/java/tech/pegasys/teku/validator/client/signer/SignerTest.java", "diffHunk": "@@ -58,7 +58,7 @@ public void shouldSignBlock1() {\n     final BeaconBlock block = dataStructureUtil.randomBeaconBlock(10);\n     final BLSSignature signature = dataStructureUtil.randomSignature();\n     final Bytes expectedSigningRoot =\n-        Bytes.fromHexString(\"0xfa8b3cfed0268ed15e354e84db5558eb76ad30737a86d6d057615e331ff30d44\");\n+        Bytes.fromHexString(\"0xf6c68e87f3dbbe3d05de8eae204396ddea7fe13ffad0008f06748c9aa23fcc05\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b88b6e543c203fd1f7bda5dac5e565fa18cab376"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "503031ae80dfb447665782a8a785193c1007550a", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/503031ae80dfb447665782a8a785193c1007550a", "committedDate": "2020-08-09T21:11:30Z", "message": "Merge branch 'master' into fix-overflow-in-tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzOTA4MTgw", "url": "https://github.com/ConsenSys/teku/pull/2538#pullrequestreview-463908180", "createdAt": "2020-08-09T22:27:32Z", "commit": {"oid": "503031ae80dfb447665782a8a785193c1007550a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3598, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}