{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzODc5MDA1", "number": 1476, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQyMzo0MzoxM1rODrcIlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQyMzo0MzoxM1rODrcIlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2ODc2MzExOnYy", "diffSide": "RIGHT", "path": "artemis/src/main/java/tech/pegasys/artemis/cli/deposit/CommonParams.java", "isResolved": false, "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQyMzo0MzoxM1rOF7ycDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQwMTowNDozOVrOF7z3Iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIzNjY4Ng==", "bodyText": "We should only display the confirmation when we're outputting to a console.  So when you run the command with output redirected to a file it should automatically not show the warning (which will corrupt your file).  Not sure if it will help with the docker tests but would definitely be a good thing to do for normal command line users.", "url": "https://github.com/ConsenSys/teku/pull/1476#discussion_r398236686", "createdAt": "2020-03-25T23:43:13Z", "author": {"login": "ajsutton"}, "path": "artemis/src/main/java/tech/pegasys/artemis/cli/deposit/CommonParams.java", "diffHunk": "@@ -154,6 +154,10 @@ public UnsignedLong getAmount() {\n     return amount;\n   }\n \n+  public boolean isDisplayConfirmation() {\n+    return displayConfirmation;\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6da6b8bf8d0358a42d2c9176c90bc61b3f7c4ba"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIzNzQ3OA==", "bodyText": "yes, we only display confirmation if we are not outputting to a file. I exposed this method so that we can suppress the warning when we are in \"console\" mode so that we don't have to parse the output for acceptance test.", "url": "https://github.com/ConsenSys/teku/pull/1476#discussion_r398237478", "createdAt": "2020-03-25T23:45:40Z", "author": {"login": "usmansaleem"}, "path": "artemis/src/main/java/tech/pegasys/artemis/cli/deposit/CommonParams.java", "diffHunk": "@@ -154,6 +154,10 @@ public UnsignedLong getAmount() {\n     return amount;\n   }\n \n+  public boolean isDisplayConfirmation() {\n+    return displayConfirmation;\n+  }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIzNjY4Ng=="}, "originalCommit": {"oid": "b6da6b8bf8d0358a42d2c9176c90bc61b3f7c4ba"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODI0MjgyOQ==", "bodyText": "I think you're misunderstanding.  Even when you're outputting to system out you might be outputting to a file.  e.g.\nteku validator generate > someFile.yaml\nWe can check if System.console() returns null to set the default value (it's not perfect but seems to be the best you can do from plain java).", "url": "https://github.com/ConsenSys/teku/pull/1476#discussion_r398242829", "createdAt": "2020-03-26T00:02:46Z", "author": {"login": "ajsutton"}, "path": "artemis/src/main/java/tech/pegasys/artemis/cli/deposit/CommonParams.java", "diffHunk": "@@ -154,6 +154,10 @@ public UnsignedLong getAmount() {\n     return amount;\n   }\n \n+  public boolean isDisplayConfirmation() {\n+    return displayConfirmation;\n+  }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIzNjY4Ng=="}, "originalCommit": {"oid": "b6da6b8bf8d0358a42d2c9176c90bc61b3f7c4ba"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODI0ODc1Ng==", "bodyText": "Ohh ... we are currently throwing error if System.console returned null, I need to slightly re-design the approach.", "url": "https://github.com/ConsenSys/teku/pull/1476#discussion_r398248756", "createdAt": "2020-03-26T00:22:45Z", "author": {"login": "usmansaleem"}, "path": "artemis/src/main/java/tech/pegasys/artemis/cli/deposit/CommonParams.java", "diffHunk": "@@ -154,6 +154,10 @@ public UnsignedLong getAmount() {\n     return amount;\n   }\n \n+  public boolean isDisplayConfirmation() {\n+    return displayConfirmation;\n+  }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIzNjY4Ng=="}, "originalCommit": {"oid": "b6da6b8bf8d0358a42d2c9176c90bc61b3f7c4ba"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODI0OTA3Mg==", "bodyText": "we have introduced \"interactive mode\" ... for which we check System.console not to be null.", "url": "https://github.com/ConsenSys/teku/pull/1476#discussion_r398249072", "createdAt": "2020-03-26T00:23:55Z", "author": {"login": "usmansaleem"}, "path": "artemis/src/main/java/tech/pegasys/artemis/cli/deposit/CommonParams.java", "diffHunk": "@@ -154,6 +154,10 @@ public UnsignedLong getAmount() {\n     return amount;\n   }\n \n+  public boolean isDisplayConfirmation() {\n+    return displayConfirmation;\n+  }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIzNjY4Ng=="}, "originalCommit": {"oid": "b6da6b8bf8d0358a42d2c9176c90bc61b3f7c4ba"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODI1MDg4OA==", "bodyText": "Console can be null if either stdin or stdout is null :(. We only want to supress if stdout is null :(", "url": "https://github.com/ConsenSys/teku/pull/1476#discussion_r398250888", "createdAt": "2020-03-26T00:30:27Z", "author": {"login": "usmansaleem"}, "path": "artemis/src/main/java/tech/pegasys/artemis/cli/deposit/CommonParams.java", "diffHunk": "@@ -154,6 +154,10 @@ public UnsignedLong getAmount() {\n     return amount;\n   }\n \n+  public boolean isDisplayConfirmation() {\n+    return displayConfirmation;\n+  }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIzNjY4Ng=="}, "originalCommit": {"oid": "b6da6b8bf8d0358a42d2c9176c90bc61b3f7c4ba"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODI1MTI4NQ==", "bodyText": "http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/solaris/native/java/io/Console_md.c#l36", "url": "https://github.com/ConsenSys/teku/pull/1476#discussion_r398251285", "createdAt": "2020-03-26T00:31:55Z", "author": {"login": "usmansaleem"}, "path": "artemis/src/main/java/tech/pegasys/artemis/cli/deposit/CommonParams.java", "diffHunk": "@@ -154,6 +154,10 @@ public UnsignedLong getAmount() {\n     return amount;\n   }\n \n+  public boolean isDisplayConfirmation() {\n+    return displayConfirmation;\n+  }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIzNjY4Ng=="}, "originalCommit": {"oid": "b6da6b8bf8d0358a42d2c9176c90bc61b3f7c4ba"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODI1MTMyNA==", "bodyText": "If stdin is null someone is doing something interesting so you may as well just suppress.  It's better to suppress the message than to accidentally create a corrupt file.", "url": "https://github.com/ConsenSys/teku/pull/1476#discussion_r398251324", "createdAt": "2020-03-26T00:32:04Z", "author": {"login": "ajsutton"}, "path": "artemis/src/main/java/tech/pegasys/artemis/cli/deposit/CommonParams.java", "diffHunk": "@@ -154,6 +154,10 @@ public UnsignedLong getAmount() {\n     return amount;\n   }\n \n+  public boolean isDisplayConfirmation() {\n+    return displayConfirmation;\n+  }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIzNjY4Ng=="}, "originalCommit": {"oid": "b6da6b8bf8d0358a42d2c9176c90bc61b3f7c4ba"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODI2MDAwMw==", "bodyText": "In case of stdout redirection we don't print out warnings anymore.", "url": "https://github.com/ConsenSys/teku/pull/1476#discussion_r398260003", "createdAt": "2020-03-26T01:04:39Z", "author": {"login": "usmansaleem"}, "path": "artemis/src/main/java/tech/pegasys/artemis/cli/deposit/CommonParams.java", "diffHunk": "@@ -154,6 +154,10 @@ public UnsignedLong getAmount() {\n     return amount;\n   }\n \n+  public boolean isDisplayConfirmation() {\n+    return displayConfirmation;\n+  }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIzNjY4Ng=="}, "originalCommit": {"oid": "b6da6b8bf8d0358a42d2c9176c90bc61b3f7c4ba"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1749, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}