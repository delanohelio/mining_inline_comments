{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1MzU1NTQ1", "number": 3274, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMlQyMTozMjoxMVrOE8BXIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMlQyMTozMjoxMVrOE8BXIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxMzcyMzIwOnYy", "diffSide": "RIGHT", "path": "teku/src/main/java/tech/pegasys/teku/cli/subcommand/VoluntaryExitCommand.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMlQyMTozMjoxMVrOH37cnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMlQyMTozMjoxMVrOH37cnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQwNzcwOQ==", "bodyText": "Would be good to avoid the duplication in this try catch.  Given it's a RuntimeException I wonder if we can just catch it higher up instead of in these private methods and handle it in one place?\nWould also be kind of nice if the api client threw UncheckedIOException instead of RuntimeException so we don't have to catch something so generic.", "url": "https://github.com/ConsenSys/teku/pull/3274#discussion_r528407709", "createdAt": "2020-11-22T21:32:11Z", "author": {"login": "ajsutton"}, "path": "teku/src/main/java/tech/pegasys/teku/cli/subcommand/VoluntaryExitCommand.java", "diffHunk": "@@ -149,15 +153,31 @@ private void submitExitForValidator(final BLSPublicKey publicKey, final Integer\n   }\n \n   private Optional<Bytes32> getGenesisRoot() {\n-    return apiClient.getGenesis().map(response -> response.getData().getGenesisValidatorsRoot());\n+    try {\n+      return apiClient.getGenesis().map(response -> response.getData().getGenesisValidatorsRoot());\n+    } catch (RuntimeException ex) {\n+      if (Throwables.getRootCause(ex) instanceof ConnectException) {\n+        SUB_COMMAND_LOG.error(getFailedToConnectMessage());\n+        System.exit(1);\n+      }\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc1a2bfd54bfc55b2dee9f47bbc601af13ebc28b"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3054, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}