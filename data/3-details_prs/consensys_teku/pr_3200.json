{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5NTIyODU0", "number": 3200, "title": "Update slashing-protection interchange format version to v.5.", "bodyText": "fixes #3197\nSigned-off-by: Paul Harris paul.harris@consensys.net\nDocumentation\n\n I thought about documentation and added the documentation label to this PR if updates are required.", "createdAt": "2020-11-11T23:46:14Z", "url": "https://github.com/ConsenSys/teku/pull/3200", "merged": true, "mergeCommit": {"oid": "bc65cd6ed62de46f5b7d57a6f6f145416c357b42"}, "closed": true, "closedAt": "2020-11-12T04:50:15Z", "author": {"login": "rolfyone"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbmyjYAH2gAyNTE5NTIyODU0OjA4NTY5ZDg5ZmM2ZjZjMGU3OGQyNGFkNTc5MzBjMzc0Y2IwYTBmMzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdbrD4igFqTUyODc0NTg1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "08569d89fc6f6c0e78d24ad57930c374cb0a0f38", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/08569d89fc6f6c0e78d24ad57930c374cb0a0f38", "committedDate": "2020-11-11T23:44:48Z", "message": "Update slashing-protection interchange format version to v.5.\n\nThe difference is 'interchange_format' is no longer required. If you have v.4 and want to import it with v.5, delete that field from metadata, and update the version.\n\nfixes #3197\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d15c7c06d34c40decbdc8806fdd6872c818e5043", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/d15c7c06d34c40decbdc8806fdd6872c818e5043", "committedDate": "2020-11-11T23:45:33Z", "message": "Merge remote-tracking branch 'upstream/master' into 3197"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4NjUzMDA0", "url": "https://github.com/ConsenSys/teku/pull/3200#pullrequestreview-528653004", "createdAt": "2020-11-12T00:35:37Z", "commit": {"oid": "d15c7c06d34c40decbdc8806fdd6872c818e5043"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwMDozNTozN1rOHxkNVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwMDozNTozN1rOHxkNVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTczNTUxMQ==", "bodyText": "This doesn't seem ideal. If the only change is removing this field, can we support both version 4 and 5 and just mark the field optional?", "url": "https://github.com/ConsenSys/teku/pull/3200#discussion_r521735511", "createdAt": "2020-11-12T00:35:37Z", "author": {"login": "ajsutton"}, "path": "data/dataexchange/src/main/java/tech/pegasys/teku/data/SlashingProtectionImporter.java", "diffHunk": "@@ -81,6 +81,9 @@ public void initialise(final File inputFile) throws IOException {\n \n     } catch (JsonMappingException e) {\n       String cause = e.getCause() != null ? e.getCause().getMessage() : e.getMessage();\n+      if (cause.contains(\"\\\"interchange_format\\\"\")) {\n+        cause = \"Required version is \" + INTERCHANGE_VERSION;\n+      }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d15c7c06d34c40decbdc8806fdd6872c818e5043"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9394604af7bed24cc45b10d2169671bd299c9a5c", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/9394604af7bed24cc45b10d2169671bd299c9a5c", "committedDate": "2020-11-12T02:02:09Z", "message": "make interchange-format optional rather than removing it.\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3f28a6ad927aea7112b77f35fee6ea1dbb50dfc", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/e3f28a6ad927aea7112b77f35fee6ea1dbb50dfc", "committedDate": "2020-11-12T02:19:32Z", "message": "make interchange-format optional rather than removing it.\n\nallow v.4 or v.5 to be taken in, it's only the interchange_format that's been removed.\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "359574910cf3a4312c8d4dbfd65ca5689ed9197a", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/359574910cf3a4312c8d4dbfd65ca5689ed9197a", "committedDate": "2020-11-12T02:20:46Z", "message": "Merge remote-tracking branch 'upstream/master' into 3197"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4NzQ1ODUw", "url": "https://github.com/ConsenSys/teku/pull/3200#pullrequestreview-528745850", "createdAt": "2020-11-12T04:43:22Z", "commit": {"oid": "359574910cf3a4312c8d4dbfd65ca5689ed9197a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4434, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}