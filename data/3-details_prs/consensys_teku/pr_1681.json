{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5NzM3MTU2", "number": 1681, "title": "Inline CLI option names and defaults", "bodyText": "PR Description\nInlines the CLI option names and default values rather than using separate public static final variables for them all.\n\nFixes intermittently failing unit test because some default values were mutable lists that were being modified (causing the recent unit test failures on master)\nEasier to read as the option information is now all centralised at the field declaration\nTests are now separated from the production code so they can effectively test the default values and option names rather than automatically expecting whatever the production code does", "createdAt": "2020-04-27T20:44:11Z", "url": "https://github.com/ConsenSys/teku/pull/1681", "merged": true, "mergeCommit": {"oid": "1fa51255feac06b6f49639670a0c2dd95c87d947"}, "closed": true, "closedAt": "2020-04-27T22:27:17Z", "author": {"login": "ajsutton"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcb1gSEAH2gAyNDA5NzM3MTU2OmZkMWYwNDU4NGU0ODM0MTgwOTdjNThkNTZiOTI0MzFhZjNlM2NkY2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccHj0KgFqTQwMjA2OTgxMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fd1f04584e483418097c58d56b92431af3e3cdcc", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/fd1f04584e483418097c58d56b92431af3e3cdcc", "committedDate": "2020-04-27T20:42:16Z", "message": "Inline CLI option names and defaults.\n* Fixes intermittently failing unit test because some default values were mutable lists that were being modified\n* Easier to read\n* Tests are now separated from the production code so they can effectively test the default values and option names rather than automatically expecting whatever the production code does."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbf0e29e419aa279ccb41aece35cea2a6f484b4b", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/fbf0e29e419aa279ccb41aece35cea2a6f484b4b", "committedDate": "2020-04-27T21:01:35Z", "message": "Must use a mutable list as the default because PicoCLI mutates it."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bfb4cb867ff188cb45868404f473f755a9536665", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/bfb4cb867ff188cb45868404f473f755a9536665", "committedDate": "2020-04-27T21:14:56Z", "message": "Spotless."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b2bad6021dd6d8d0dadcf5fb69a52d8ff0b0dd6", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/0b2bad6021dd6d8d0dadcf5fb69a52d8ff0b0dd6", "committedDate": "2020-04-27T21:16:33Z", "message": "Use a log."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMzcxMDQ2", "url": "https://github.com/ConsenSys/teku/pull/1681#pullrequestreview-401371046", "createdAt": "2020-04-27T22:26:04Z", "commit": {"oid": "0b2bad6021dd6d8d0dadcf5fb69a52d8ff0b0dd6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMDY5ODEz", "url": "https://github.com/ConsenSys/teku/pull/1681#pullrequestreview-402069813", "createdAt": "2020-04-28T17:44:24Z", "commit": {"oid": "0b2bad6021dd6d8d0dadcf5fb69a52d8ff0b0dd6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNzo0NDoyNFrOGNfuXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNzo0NDoyNFrOGNfuXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjgwNDQ0NQ==", "bodyText": "I thought it was kind of a nice feature to not have to track down these strings when we change a CLI option name", "url": "https://github.com/ConsenSys/teku/pull/1681#discussion_r416804445", "createdAt": "2020-04-28T17:44:24Z", "author": {"login": "mbaxter"}, "path": "artemis/src/test/java/tech/pegasys/artemis/cli/BeaconNodeCommandTest.java", "diffHunk": "@@ -174,7 +165,7 @@ public void overrideDefaultValuesIfKeyIsPresentInConfigFile() throws IOException\n   @Test\n   public void interopEnabled_shouldNotRequireAValue() {\n     final ArtemisConfiguration artemisConfiguration =\n-        getArtemisConfigurationFromArguments(INTEROP_ENABLED_OPTION_NAME);\n+        getArtemisConfigurationFromArguments(\"--Xinterop-enabled\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b2bad6021dd6d8d0dadcf5fb69a52d8ff0b0dd6"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4134, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}