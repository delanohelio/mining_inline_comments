{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNjEyMzQw", "number": 1236, "title": "allow swagger endpoints to be disabled via configuration item.", "bodyText": "added enableSwagger to config.toml, and defaulted to true.\nWhen enableSwagger is set to false, both swagger-docs and swagger-ui become unavailable.\nSigned-off-by: Paul Harris paul.harris@consensys.net\n#1227", "createdAt": "2020-02-27T03:06:30Z", "url": "https://github.com/ConsenSys/teku/pull/1236", "merged": true, "mergeCommit": {"oid": "785517d207c992c2265ad039e6ba77c3b61466e2"}, "closed": true, "closedAt": "2020-02-28T00:56:28Z", "author": {"login": "rolfyone"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcISa-hAH2gAyMzgwNjEyMzQwOmMyZjA2YjZjNThhOWU4MTQ5YjljNzE4ZjdlYWYyNzRjYjljNjNhN2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIk9dFgH2gAyMzgwNjEyMzQwOjk3MjQxMDBlYTRhZGNmYWRjZTk2YWZmYjQ4YjkwZGFmYTc3OGU2YjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c2f06b6c58a9e8149b9c718f7eaf274cb9c63a7d", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/c2f06b6c58a9e8149b9c718f7eaf274cb9c63a7d", "committedDate": "2020-02-27T03:05:14Z", "message": "allow swagger endpoints to be disabled via configuration item.\n\nadded enableSwagger to config.toml, and defaulted to true.\n\nWhen enableSwagger is set to false, both swagger-docs and swagger-ui become unavailable.\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>\n\n#1227"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1MzkxMzM3", "url": "https://github.com/ConsenSys/teku/pull/1236#pullrequestreview-365391337", "createdAt": "2020-02-27T03:17:14Z", "commit": {"oid": "c2f06b6c58a9e8149b9c718f7eaf274cb9c63a7d"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QwMzoxNzoxNFrOFvEAxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QwMzoxOToyMVrOFvEClw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDg5MzEyNg==", "bodyText": "ohhh 12345 had a certain ring to it", "url": "https://github.com/ConsenSys/teku/pull/1236#discussion_r384893126", "createdAt": "2020-02-27T03:17:14Z", "author": {"login": "macfarla"}, "path": "data/beaconrestapi/src/test/java/tech/pegasys/artemis/beaconrestapi/BeaconRestApiTest.java", "diffHunk": "@@ -41,12 +42,15 @@\n       mock(CombinedChainDataClient.class);\n   private final JavalinServer server = mock(JavalinServer.class);\n   private final Javalin app = mock(Javalin.class);\n-  private static final Integer THE_PORT = 12345;\n+  private static final Integer THE_PORT = 5051;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2f06b6c58a9e8149b9c718f7eaf274cb9c63a7d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDg5MzQ2Mg==", "bodyText": "final", "url": "https://github.com/ConsenSys/teku/pull/1236#discussion_r384893462", "createdAt": "2020-02-27T03:18:44Z", "author": {"login": "macfarla"}, "path": "data/beaconrestapi/src/main/java/tech/pegasys/artemis/beaconrestapi/BeaconRestApi.java", "diffHunk": "@@ -132,14 +135,10 @@ private static OpenApiOptions getOpenApiOptions(JsonProvider jsonProvider) {\n                 new License()\n                     .name(\"Apache 2.0\")\n                     .url(\"https://www.apache.org/licenses/LICENSE-2.0.html\"));\n-    OpenApiOptions options =\n-        new OpenApiOptions(applicationInfo)\n-            //            .jacksonMapper(factory.getObjectMapper())\n-            .modelConverterFactory(factory)\n-            .path(\"/swagger-docs\")\n-            .swagger(new SwaggerOptions(\"/swagger-ui\"));\n-    // TODO: allow swagger-ui to be turned off - ideally still leave swagger-docs, just dont add the\n-    // swagger-ui endpoint\n+    OpenApiOptions options = new OpenApiOptions(applicationInfo).modelConverterFactory(factory);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2f06b6c58a9e8149b9c718f7eaf274cb9c63a7d"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDg5MzU5MQ==", "bodyText": "can 5051 not be hardcoded in here", "url": "https://github.com/ConsenSys/teku/pull/1236#discussion_r384893591", "createdAt": "2020-02-27T03:19:21Z", "author": {"login": "macfarla"}, "path": "data/beaconrestapi/src/test/java/tech/pegasys/artemis/beaconrestapi/BeaconRestApiTest.java", "diffHunk": "@@ -41,12 +42,15 @@\n       mock(CombinedChainDataClient.class);\n   private final JavalinServer server = mock(JavalinServer.class);\n   private final Javalin app = mock(Javalin.class);\n-  private static final Integer THE_PORT = 12345;\n+  private static final Integer THE_PORT = 5051;\n \n   @BeforeEach\n   public void setup() {\n+    ArtemisConfiguration config =\n+        ArtemisConfiguration.fromString(\n+            \"beaconrestapi.portNumber=5051\\nbeaconrestapi.enableSwagger=false\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2f06b6c58a9e8149b9c718f7eaf274cb9c63a7d"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf27554fb1b55a6f6ed3f5552a5be5013ceac243", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/bf27554fb1b55a6f6ed3f5552a5be5013ceac243", "committedDate": "2020-02-27T03:40:09Z", "message": "changes per review comments."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca58fe7fa05e8fe13ff263b22ca82d89d0e01b95", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/ca58fe7fa05e8fe13ff263b22ca82d89d0e01b95", "committedDate": "2020-02-27T03:47:26Z", "message": "Merge remote-tracking branch 'upstream/master' into 1227-config-item-for-swagger"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4268ddd03b8be8a6615ad903557a89056583d93e", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/4268ddd03b8be8a6615ad903557a89056583d93e", "committedDate": "2020-02-27T20:34:03Z", "message": "Merge remote-tracking branch 'upstream/master' into 1227-config-item-for-swagger"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94ddf701b801f9b6447e6a9641ac74fb64e6e4d5", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/94ddf701b801f9b6447e6a9641ac74fb64e6e4d5", "committedDate": "2020-02-27T22:26:26Z", "message": "fix AT with config changes. this is a bit of a left-field thing with the config being hand written for testing."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2MDkxNjUy", "url": "https://github.com/ConsenSys/teku/pull/1236#pullrequestreview-366091652", "createdAt": "2020-02-28T00:25:53Z", "commit": {"oid": "94ddf701b801f9b6447e6a9641ac74fb64e6e4d5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9724100ea4adcfadce96affb48b90dafa778e6b6", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/ConsenSys/teku/commit/9724100ea4adcfadce96affb48b90dafa778e6b6", "committedDate": "2020-02-28T00:41:11Z", "message": "Merge remote-tracking branch 'upstream/master' into 1227-config-item-for-swagger"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4120, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}