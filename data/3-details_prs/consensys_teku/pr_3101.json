{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExMjcxODQx", "number": 3101, "title": "Handle requests for a single block by slot or root not returning any result", "bodyText": "PR Description\nWhen the requested block is unknown the remote peer should return no results.  We were incorrectly requiring a block to be returned in the utility methods that request a single block by root or slot.\nFixed Issue(s)\nfixes #3027\nDocumentation\n\n I thought about documentation and added the documentation label to this PR if updates are required.", "createdAt": "2020-10-28T04:34:22Z", "url": "https://github.com/ConsenSys/teku/pull/3101", "merged": true, "mergeCommit": {"oid": "0ac5a2bb73e943f57ba20d92b15150b533065d66"}, "closed": true, "closedAt": "2020-10-28T20:26:48Z", "author": {"login": "ajsutton"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdW17L1gH2gAyNTExMjcxODQxOjhmMzAzYmUzYjVjZWYwMjUxZmFkNjRiMDk1ZmQ5ZDViMTBhMDBjMmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXDYluAH2gAyNTExMjcxODQxOmJmMzY0ZTRjMWE5Mjg2ZmJjNDY3MjE3MzNhOTVlYjkzY2I4OTJmMDY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8f303be3b5cef0251fad64b095fd9d5b10a00c2d", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/8f303be3b5cef0251fad64b095fd9d5b10a00c2d", "committedDate": "2020-10-28T04:33:11Z", "message": "Handle requests for a single block by slot or root not returning any results."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4NTI1NjYx", "url": "https://github.com/ConsenSys/teku/pull/3101#pullrequestreview-518525661", "createdAt": "2020-10-28T10:38:09Z", "commit": {"oid": "8f303be3b5cef0251fad64b095fd9d5b10a00c2d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4ODkwNzk3", "url": "https://github.com/ConsenSys/teku/pull/3101#pullrequestreview-518890797", "createdAt": "2020-10-28T17:01:51Z", "commit": {"oid": "8f303be3b5cef0251fad64b095fd9d5b10a00c2d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNzowMTo1MVrOHp0aZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNzowMTo1MVrOHp0aZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzYxMjM5MA==", "bodyText": "We can cut this exceptionally call now \ud83c\udf89", "url": "https://github.com/ConsenSys/teku/pull/3101#discussion_r513612390", "createdAt": "2020-10-28T17:01:51Z", "author": {"login": "mbaxter"}, "path": "networking/eth2/src/main/java/tech/pegasys/teku/networking/eth2/peers/PeerChainValidator.java", "diffHunk": "@@ -183,8 +183,6 @@ private boolean isForkValid(final Eth2Peer peer, final PeerStatus status) {\n       LOG.trace(\n           \"Request required checkpoint block from peer {}: {}\", peer.getId(), checkpointToVerify);\n       return peer.requestBlockByRoot(checkpointToVerify.getRoot())\n-          // Map result to an optional block\n-          .thenApply(Optional::of)\n           .exceptionally(\n               err -> {\n                 if (Throwables.getRootCause(err) instanceof NullPointerException) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f303be3b5cef0251fad64b095fd9d5b10a00c2d"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3fa24d007234d4bcc43090b89d3e742af332d77a", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/3fa24d007234d4bcc43090b89d3e742af332d77a", "committedDate": "2020-10-28T19:52:19Z", "message": "Remove unnecessary exception handling."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d656c0faab4a0b513dafd68e438c6d27ffbcc47", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/3d656c0faab4a0b513dafd68e438c6d27ffbcc47", "committedDate": "2020-10-28T20:03:57Z", "message": "Merge branch 'master' of github.com:ConsenSys/teku into get-optional-block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf364e4c1a9286fbc46721733a95eb93cb892f06", "author": {"user": {"login": "ajsutton", "name": "Adrian Sutton"}}, "url": "https://github.com/ConsenSys/teku/commit/bf364e4c1a9286fbc46721733a95eb93cb892f06", "committedDate": "2020-10-28T20:14:04Z", "message": "Update test as well."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3280, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}