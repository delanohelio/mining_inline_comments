{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyOTk0OTEx", "number": 9495, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQyMjozNToxM1rOFBVI0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQyMjozNToxM1rOFBVI0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2OTM5MjE2OnYy", "diffSide": "RIGHT", "path": "main/src/cgeo/geocaching/MainActivity.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQyMjozNToxM1rOIACIMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQxMDo1OTo1OFrOIAIuEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjkwNTc3Nw==", "bodyText": "We should make this translatable, shouldn't we?", "url": "https://github.com/cgeo/cgeo/pull/9495#discussion_r536905777", "createdAt": "2020-12-05T22:35:13Z", "author": {"login": "Lineflyer"}, "path": "main/src/cgeo/geocaching/MainActivity.java", "diffHunk": "@@ -278,6 +278,16 @@ public void onCreate(final Bundle savedInstanceState) {\n         // don't call the super implementation with the layout argument, as that would set the wrong theme\n         super.onCreate(savedInstanceState);\n \n+        //check database\n+        final String errorMsg = DataStore.initAndCheck(false);\n+        if (errorMsg != null) {\n+           Dialogs.message(this, \"Fatal DB error - please report\",\n+               \"Fatal error while trying to open/create cache database. \" +\n+                   \"c:geo cannot be used in this state.\\n\\n\" +\n+                   \"Please support us in analyzing and fixing this problem by report it via Settings -> System -> Generate logfile. \" +\n+                   \"\\n\\n[\" + errorMsg + \"]\");\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c5d00d85f6beddfc1bd2800ef03bc02ec64f8de"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjkxMjc1OA==", "bodyText": "IMHO we shouldn't as this is only a hopefully temporary debug feature...", "url": "https://github.com/cgeo/cgeo/pull/9495#discussion_r536912758", "createdAt": "2020-12-05T23:24:35Z", "author": {"login": "fm-sys"}, "path": "main/src/cgeo/geocaching/MainActivity.java", "diffHunk": "@@ -278,6 +278,16 @@ public void onCreate(final Bundle savedInstanceState) {\n         // don't call the super implementation with the layout argument, as that would set the wrong theme\n         super.onCreate(savedInstanceState);\n \n+        //check database\n+        final String errorMsg = DataStore.initAndCheck(false);\n+        if (errorMsg != null) {\n+           Dialogs.message(this, \"Fatal DB error - please report\",\n+               \"Fatal error while trying to open/create cache database. \" +\n+                   \"c:geo cannot be used in this state.\\n\\n\" +\n+                   \"Please support us in analyzing and fixing this problem by report it via Settings -> System -> Generate logfile. \" +\n+                   \"\\n\\n[\" + errorMsg + \"]\");\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjkwNTc3Nw=="}, "originalCommit": {"oid": "4c5d00d85f6beddfc1bd2800ef03bc02ec64f8de"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjkxNDU3NA==", "bodyText": "OK then.", "url": "https://github.com/cgeo/cgeo/pull/9495#discussion_r536914574", "createdAt": "2020-12-05T23:38:43Z", "author": {"login": "Lineflyer"}, "path": "main/src/cgeo/geocaching/MainActivity.java", "diffHunk": "@@ -278,6 +278,16 @@ public void onCreate(final Bundle savedInstanceState) {\n         // don't call the super implementation with the layout argument, as that would set the wrong theme\n         super.onCreate(savedInstanceState);\n \n+        //check database\n+        final String errorMsg = DataStore.initAndCheck(false);\n+        if (errorMsg != null) {\n+           Dialogs.message(this, \"Fatal DB error - please report\",\n+               \"Fatal error while trying to open/create cache database. \" +\n+                   \"c:geo cannot be used in this state.\\n\\n\" +\n+                   \"Please support us in analyzing and fixing this problem by report it via Settings -> System -> Generate logfile. \" +\n+                   \"\\n\\n[\" + errorMsg + \"]\");\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjkwNTc3Nw=="}, "originalCommit": {"oid": "4c5d00d85f6beddfc1bd2800ef03bc02ec64f8de"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzAxMzc3OA==", "bodyText": "Actually, I made strings translateable now because it is now part of a bigger \"user can report problem\" solution", "url": "https://github.com/cgeo/cgeo/pull/9495#discussion_r537013778", "createdAt": "2020-12-06T10:59:58Z", "author": {"login": "eddiemuc"}, "path": "main/src/cgeo/geocaching/MainActivity.java", "diffHunk": "@@ -278,6 +278,16 @@ public void onCreate(final Bundle savedInstanceState) {\n         // don't call the super implementation with the layout argument, as that would set the wrong theme\n         super.onCreate(savedInstanceState);\n \n+        //check database\n+        final String errorMsg = DataStore.initAndCheck(false);\n+        if (errorMsg != null) {\n+           Dialogs.message(this, \"Fatal DB error - please report\",\n+               \"Fatal error while trying to open/create cache database. \" +\n+                   \"c:geo cannot be used in this state.\\n\\n\" +\n+                   \"Please support us in analyzing and fixing this problem by report it via Settings -> System -> Generate logfile. \" +\n+                   \"\\n\\n[\" + errorMsg + \"]\");\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjkwNTc3Nw=="}, "originalCommit": {"oid": "4c5d00d85f6beddfc1bd2800ef03bc02ec64f8de"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1736, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}