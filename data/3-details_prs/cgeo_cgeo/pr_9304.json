{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExMTcxOTQ3", "number": 9304, "title": "lint changes/fixes", "bodyText": "categorie Correctness\n\ntype DefaultLocale:\nImplicitly using the default locale is a common source of bugs: Use String.format(Locale, ...) instead\n\nCalculatorVariable.java\nCompassActivity.java\nLog.java\n\n\ntype SimpleDateFormat:\nTo get local formatting use getDateInstance(), getDateTimeInstance(), or getTimeInstance(), or use new SimpleDateFormat(String template, Locale locale) with for example Locale.US for ASCII dates.\n\nContextLogger.java\nFormatter.java\nTrailHistoryExport.java\n\n\n\n\n\n@eddiemuc @moving-bits\nPlease check that the changes are set as intended in your PR\u00b4s.", "createdAt": "2020-10-27T23:15:16Z", "url": "https://github.com/cgeo/cgeo/pull/9304", "merged": true, "mergeCommit": {"oid": "799915bb6570be1960e71fbd84c9c213e58b0b14"}, "closed": true, "closedAt": "2020-10-29T18:34:25Z", "author": {"login": "bekuno"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdW3xNjAFqTUxODM2MDQ4MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXWjcRgFqTUxOTk2Mzc5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MzYwNDgw", "url": "https://github.com/cgeo/cgeo/pull/9304#pullrequestreview-518360480", "createdAt": "2020-10-28T06:42:06Z", "commit": {"oid": "dae411359f368c513a3b0ee9473f9c98659aca67"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5MDMyMTAy", "url": "https://github.com/cgeo/cgeo/pull/9304#pullrequestreview-519032102", "createdAt": "2020-10-28T19:54:16Z", "commit": {"oid": "dae411359f368c513a3b0ee9473f9c98659aca67"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxOTo1NDoxNlrOHp7BAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxOTo1NjowNFrOHp7FRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzcyMDU3Nw==", "bodyText": "I don't think we need a Locale for SimpleDateFormat as we give an explicit format string, but it should not harm either. (Valid for the other occurrences of SimpleDateFormat as well.)", "url": "https://github.com/cgeo/cgeo/pull/9304#discussion_r513720577", "createdAt": "2020-10-28T19:54:16Z", "author": {"login": "moving-bits"}, "path": "main/src/cgeo/geocaching/export/TrailHistoryExport.java", "diffHunk": "@@ -113,7 +113,7 @@ protected File doInBackgroundInternal(final TrailHistoryElement[] trail) {\n                 gpx.attribute(\"\", \"creator\", \"c:geo - http://www.cgeo.org/\");\n                 gpx.attribute(NS_XSI, \"schemaLocation\", NS_GPX + \" \" + GPX_SCHEMA);\n \n-                    final SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\");\n+                    final SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\", Locale.US);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dae411359f368c513a3b0ee9473f9c98659aca67"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzcyMTY3MA==", "bodyText": "Shouldn't we use the user's locale here (maybe default locale)?\nUsing Locale.US would format decimal numbers with a decimal point instead.", "url": "https://github.com/cgeo/cgeo/pull/9304#discussion_r513721670", "createdAt": "2020-10-28T19:56:04Z", "author": {"login": "moving-bits"}, "path": "main/src/cgeo/geocaching/CompassActivity.java", "diffHunk": "@@ -408,7 +409,7 @@ private void updateDeviceHeadingAndOrientation(final DirectionData dir) {\n         while (direction >= 360f) {\n             direction -= 360f;\n         }\n-        deviceHeading.setText(String.format(\"%3.1f\u00b0\", direction));\n+        deviceHeading.setText(String.format(Locale.US, \"%3.1f\u00b0\", direction));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dae411359f368c513a3b0ee9473f9c98659aca67"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "541171d91e32f8aaab86ea709a2f3a467e61ab37", "author": {"user": null}, "url": "https://github.com/cgeo/cgeo/commit/541171d91e32f8aaab86ea709a2f3a467e61ab37", "committedDate": "2020-10-28T22:41:23Z", "message": "lint changes/fixes\n\n- categorie Correctness\n  - type DefaultLocale:\n    Implicitly using the default locale is a common source of bugs: Use `String.format(Locale, ...)` instead\n    - CalculatorVariable.java\n\t- CompassActivity.java\n\t- Log.java\n  - type SimpleDateFormat:\n    To get local formatting use `getDateInstance()`, `getDateTimeInstance()`, or `getTimeInstance()`, or use `new SimpleDateFormat(String template, Locale locale)` with for example `Locale.US` for ASCII dates.\n    - ContextLogger.java\n\t- Formatter.java\n\t- TrailHistoryExport.java"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "008b1cf3061adbdd761cc6747f87f8cd60be8a70", "author": {"user": null}, "url": "https://github.com/cgeo/cgeo/commit/008b1cf3061adbdd761cc6747f87f8cd60be8a70", "committedDate": "2020-10-28T22:33:06Z", "message": "change to default locale in code in CompassActivity"}, "afterCommit": {"oid": "541171d91e32f8aaab86ea709a2f3a467e61ab37", "author": {"user": null}, "url": "https://github.com/cgeo/cgeo/commit/541171d91e32f8aaab86ea709a2f3a467e61ab37", "committedDate": "2020-10-28T22:41:23Z", "message": "lint changes/fixes\n\n- categorie Correctness\n  - type DefaultLocale:\n    Implicitly using the default locale is a common source of bugs: Use `String.format(Locale, ...)` instead\n    - CalculatorVariable.java\n\t- CompassActivity.java\n\t- Log.java\n  - type SimpleDateFormat:\n    To get local formatting use `getDateInstance()`, `getDateTimeInstance()`, or `getTimeInstance()`, or use `new SimpleDateFormat(String template, Locale locale)` with for example `Locale.US` for ASCII dates.\n    - ContextLogger.java\n\t- Formatter.java\n\t- TrailHistoryExport.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5OTYzNzk5", "url": "https://github.com/cgeo/cgeo/pull/9304#pullrequestreview-519963799", "createdAt": "2020-10-29T18:34:07Z", "commit": {"oid": "541171d91e32f8aaab86ea709a2f3a467e61ab37"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1575, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}