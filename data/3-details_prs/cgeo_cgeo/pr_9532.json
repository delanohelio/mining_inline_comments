{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM4OTI1Mjcw", "number": 9532, "title": "Add option to user-select one of the integrated translations instead of auto-select by system-default", "bodyText": "Adds an option to set c:geo's language independently from system language setting. Switches language on\n\nmain screen\nsettings activity\nmap activities\n\naccordingly.\nAddresses #7991 and #9197.\nFor now it's a proof-of-concept only. Language can be set by entering an ISO code (eg.: \"de\" for German) in \"settings\" - \"appearance\" - needs to be made more user-friendly later on.\n\nPrecedence is:\n\n\"use English\"\nuser-defined locale (if \"use English\" is unchecked)\nsystem-default locale (if \"use English\" is unchecked and user-defined locale is empty)", "createdAt": "2020-12-13T10:04:55Z", "url": "https://github.com/cgeo/cgeo/pull/9532", "merged": true, "mergeCommit": {"oid": "d96efdfc6773cc610b75873dd0f4ebd6c3c3d591"}, "closed": true, "closedAt": "2020-12-13T16:58:19Z", "author": {"login": "moving-bits"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdluM6NAH2gAyNTM4OTI1MjcwOjNiMjUxODhhYWNmMWU3ZTMwMWYzZDI3MWJlNzI2NzI4MzdmZTMwMzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmIH_2AFqTU1MTUyODU0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3b25188aacf1e7e301f3d271be72672837fe3030", "author": {"user": {"login": "moving-bits", "name": null}}, "url": "https://github.com/cgeo/cgeo/commit/3b25188aacf1e7e301f3d271be72672837fe3030", "committedDate": "2020-12-13T10:02:10Z", "message": "WIP: add language selector"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0aa86ded03e3d9e268021cef2c5c4a4140ceadcf", "author": {"user": {"login": "moving-bits", "name": null}}, "url": "https://github.com/cgeo/cgeo/commit/0aa86ded03e3d9e268021cef2c5c4a4140ceadcf", "committedDate": "2020-12-13T12:12:06Z", "message": "use language selector with built-in languages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1a37902d65b787e0f282faefacc9ba4a7fd1905", "author": {"user": {"login": "moving-bits", "name": null}}, "url": "https://github.com/cgeo/cgeo/commit/f1a37902d65b787e0f282faefacc9ba4a7fd1905", "committedDate": "2020-12-13T15:38:06Z", "message": "remove 'Use English' preference"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "963013318e8c725e61b3ed719fd4846bcedf2caa", "author": {"user": {"login": "moving-bits", "name": null}}, "url": "https://github.com/cgeo/cgeo/commit/963013318e8c725e61b3ed719fd4846bcedf2caa", "committedDate": "2020-12-13T16:06:41Z", "message": "remove unused methods / adapt OKAPI tests / adapt system information"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f92694010e9702dfbdfc22750a247731a72566b", "author": {"user": {"login": "moving-bits", "name": null}}, "url": "https://github.com/cgeo/cgeo/commit/9f92694010e9702dfbdfc22750a247731a72566b", "committedDate": "2020-12-13T16:14:17Z", "message": "display language name in language selector"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxNTI4NTQ2", "url": "https://github.com/cgeo/cgeo/pull/9532#pullrequestreview-551528546", "createdAt": "2020-12-14T16:14:20Z", "commit": {"oid": "9f92694010e9702dfbdfc22750a247731a72566b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNjoxNDoyMFrOIFYPKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNjoxNDoyMFrOIFYPKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjUxMDg5MQ==", "bodyText": "As far as I have understood the code, this will not work as it will only be run if the settingsVersion is lower than 1. But on the other hand this feature isn't critical enough that it needs its own new settingsVersion...", "url": "https://github.com/cgeo/cgeo/pull/9532#discussion_r542510891", "createdAt": "2020-12-14T16:14:20Z", "author": {"login": "fm-sys"}, "path": "main/src/cgeo/geocaching/settings/Settings.java", "diffHunk": "@@ -175,7 +175,7 @@ private static void migrateSettings() {\n             e.putInt(getKey(R.string.pref_version), prefsV0.getInt(getKey(R.string.pref_version), 0));\n             e.putBoolean(getKey(R.string.pref_ratingwanted), prefsV0.getBoolean(getKey(R.string.pref_ratingwanted), true));\n             e.putBoolean(getKey(R.string.pref_friendlogswanted), prefsV0.getBoolean(getKey(R.string.pref_friendlogswanted), true));\n-            e.putBoolean(getKey(R.string.pref_useenglish), prefsV0.getBoolean(getKey(R.string.pref_useenglish), false));\n+            e.putBoolean(getKey(R.string.old_pref_useenglish), prefsV0.getBoolean(getKey(R.string.old_pref_useenglish), false));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f92694010e9702dfbdfc22750a247731a72566b"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1524, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}