{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0MzMwODcw", "number": 9344, "title": "avoid crash when trying to log a PM cache as basic member", "bodyText": "fixes #9318\nParse Type, Name, Geocode, Difficulty, Terrain and Size for PM only caches - needed for corectly displaying the logCacheActivity and for supporting log templates...", "createdAt": "2020-11-02T21:27:57Z", "url": "https://github.com/cgeo/cgeo/pull/9344", "merged": true, "mergeCommit": {"oid": "5fdb8ae14937b259b8a087ff88eef6e4ac1afa15"}, "closed": true, "closedAt": "2020-11-07T10:55:20Z", "author": {"login": "fm-sys"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdY1hOygFqTUyMjMwMTA1Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZgrzegFqTUyNDE2OTQ1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMzAxMDUz", "url": "https://github.com/cgeo/cgeo/pull/9344#pullrequestreview-522301053", "createdAt": "2020-11-03T09:12:41Z", "commit": {"oid": "284c5e6d924cf41e73a291e56b1706840ede61aa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "284c5e6d924cf41e73a291e56b1706840ede61aa", "author": {"user": {"login": "fm-sys", "name": "Florian"}}, "url": "https://github.com/cgeo/cgeo/commit/284c5e6d924cf41e73a291e56b1706840ede61aa", "committedDate": "2020-11-02T21:23:49Z", "message": "parse PM only caches"}, "afterCommit": {"oid": "e491cabf7f1880f26a51e3f347eb36500bcbfe0c", "author": {"user": {"login": "fm-sys", "name": "Florian"}}, "url": "https://github.com/cgeo/cgeo/commit/e491cabf7f1880f26a51e3f347eb36500bcbfe0c", "committedDate": "2020-11-03T14:23:47Z", "message": "parse PM only caches"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzNjk5OTE4", "url": "https://github.com/cgeo/cgeo/pull/9344#pullrequestreview-523699918", "createdAt": "2020-11-04T20:11:50Z", "commit": {"oid": "e491cabf7f1880f26a51e3f347eb36500bcbfe0c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQyMDoxMTo1MFrOHtoBVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQyMDoxMTo1MFrOHtoBVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzYwMzY2OQ==", "bodyText": "This will not work when \"<\" is part of the cache name.\nI tested with creating such cache name - this was possible.\nWhat about <h1 class=\"heading-3\">(.+)<\\/h1> ?\n(plus extra \\ of cause)\nInteresting question: is or was a cache name eg. head </h1> or <h1> not? possible?\nAt least today the html tags were filtered out on my tests creating such cache name.", "url": "https://github.com/cgeo/cgeo/pull/9344#discussion_r517603669", "createdAt": "2020-11-04T20:11:50Z", "author": {"login": "bekuno"}, "path": "main/src/cgeo/geocaching/connector/gc/GCConstants.java", "diffHunk": "@@ -168,6 +168,13 @@\n \n     static final String STRING_PREMIUMONLY_2 = \"Sorry, the owner of this listing has made it viewable to Premium Members only.\";\n     static final String STRING_PREMIUMONLY_1 = \"class=\\\"illustration lock-icon\\\"\";\n+    static final Pattern PATTERN_PREMIUMONLY_CACHETYPE = Pattern.compile(\"/app/ui-icons/sprites/cache-types\\\\.svg#icon\\\\-([^\\\"\\\\-]+)-?([^\\\"]+)?\");\n+    static final Pattern PATTERN_PREMIUMONLY_CACHENAME = Pattern.compile(\"<h1 class=\\\"heading\\\\-3\\\">([^<]+)\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e491cabf7f1880f26a51e3f347eb36500bcbfe0c"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "feaf569a20c31a8a06936651b823b92eb51c5d79", "author": {"user": {"login": "fm-sys", "name": "Florian"}}, "url": "https://github.com/cgeo/cgeo/commit/feaf569a20c31a8a06936651b823b92eb51c5d79", "committedDate": "2020-11-05T11:14:28Z", "message": "parse PM only caches"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e491cabf7f1880f26a51e3f347eb36500bcbfe0c", "author": {"user": {"login": "fm-sys", "name": "Florian"}}, "url": "https://github.com/cgeo/cgeo/commit/e491cabf7f1880f26a51e3f347eb36500bcbfe0c", "committedDate": "2020-11-03T14:23:47Z", "message": "parse PM only caches"}, "afterCommit": {"oid": "feaf569a20c31a8a06936651b823b92eb51c5d79", "author": {"user": {"login": "fm-sys", "name": "Florian"}}, "url": "https://github.com/cgeo/cgeo/commit/feaf569a20c31a8a06936651b823b92eb51c5d79", "committedDate": "2020-11-05T11:14:28Z", "message": "parse PM only caches"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MTY5NDUz", "url": "https://github.com/cgeo/cgeo/pull/9344#pullrequestreview-524169453", "createdAt": "2020-11-05T11:30:09Z", "commit": {"oid": "feaf569a20c31a8a06936651b823b92eb51c5d79"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1584, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}