{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5MDQ3NzM3", "number": 9537, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQwNzo1NToyOVrOFFcpTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxODoxMjoyN1rOFFu_tQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxMjU2NTI3OnYy", "diffSide": "RIGHT", "path": "main/src/cgeo/geocaching/CacheListActivity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQwNzo1NToyOVrOIF9hfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQyMToyMzo0MVrOIHZwBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzEyMTc4OA==", "bodyText": "Why not use LoaderManager.getInstance(this). as with the other changes?", "url": "https://github.com/cgeo/cgeo/pull/9537#discussion_r543121788", "createdAt": "2020-12-15T07:55:29Z", "author": {"login": "bekuno"}, "path": "main/src/cgeo/geocaching/CacheListActivity.java", "diffHunk": "@@ -1536,9 +1536,9 @@ public void onClick(final View arg0) {\n             showProgress(true);\n             showFooterLoadingCaches();\n \n-            getSupportLoaderManager().restartLoader(CacheListLoaderType.NEXT_PAGE.getLoaderId(), null, CacheListActivity.this);\n+            LoaderManager.getInstance(CacheListActivity.this).restartLoader(CacheListLoaderType.NEXT_PAGE.getLoaderId(), null, CacheListActivity.this);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc6ae2220bdb28a5f9cde6b37777140df9c7d7f5"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDYzMjgzNw==", "bodyText": "The instance of the type variable has to exist, so the CacheListActivity has to be explicitly referred to.", "url": "https://github.com/cgeo/cgeo/pull/9537#discussion_r544632837", "createdAt": "2020-12-16T21:23:41Z", "author": {"login": "TacoTheDank"}, "path": "main/src/cgeo/geocaching/CacheListActivity.java", "diffHunk": "@@ -1536,9 +1536,9 @@ public void onClick(final View arg0) {\n             showProgress(true);\n             showFooterLoadingCaches();\n \n-            getSupportLoaderManager().restartLoader(CacheListLoaderType.NEXT_PAGE.getLoaderId(), null, CacheListActivity.this);\n+            LoaderManager.getInstance(CacheListActivity.this).restartLoader(CacheListLoaderType.NEXT_PAGE.getLoaderId(), null, CacheListActivity.this);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzEyMTc4OA=="}, "originalCommit": {"oid": "dc6ae2220bdb28a5f9cde6b37777140df9c7d7f5"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxMjU2NjI1OnYy", "diffSide": "RIGHT", "path": "main/src/cgeo/geocaching/CacheListActivity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQwNzo1NTo0NFrOIF9iCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQyMToyNDoyMFrOIHZxbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzEyMTkyOQ==", "bodyText": "Why not use LoaderManager.getInstance(this). as with the other changes?", "url": "https://github.com/cgeo/cgeo/pull/9537#discussion_r543121929", "createdAt": "2020-12-15T07:55:44Z", "author": {"login": "bekuno"}, "path": "main/src/cgeo/geocaching/CacheListActivity.java", "diffHunk": "@@ -1536,9 +1536,9 @@ public void onClick(final View arg0) {\n             showProgress(true);\n             showFooterLoadingCaches();\n \n-            getSupportLoaderManager().restartLoader(CacheListLoaderType.NEXT_PAGE.getLoaderId(), null, CacheListActivity.this);\n+            LoaderManager.getInstance(CacheListActivity.this).restartLoader(CacheListLoaderType.NEXT_PAGE.getLoaderId(), null, CacheListActivity.this);\n             // the loader for subsequent pages takes over - therefore the initial loader needs to be destroyed\n-            getSupportLoaderManager().destroyLoader(type.getLoaderId());\n+            LoaderManager.getInstance(CacheListActivity.this).destroyLoader(type.getLoaderId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc6ae2220bdb28a5f9cde6b37777140df9c7d7f5"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDYzMzE5Nw==", "bodyText": "See above.", "url": "https://github.com/cgeo/cgeo/pull/9537#discussion_r544633197", "createdAt": "2020-12-16T21:24:20Z", "author": {"login": "TacoTheDank"}, "path": "main/src/cgeo/geocaching/CacheListActivity.java", "diffHunk": "@@ -1536,9 +1536,9 @@ public void onClick(final View arg0) {\n             showProgress(true);\n             showFooterLoadingCaches();\n \n-            getSupportLoaderManager().restartLoader(CacheListLoaderType.NEXT_PAGE.getLoaderId(), null, CacheListActivity.this);\n+            LoaderManager.getInstance(CacheListActivity.this).restartLoader(CacheListLoaderType.NEXT_PAGE.getLoaderId(), null, CacheListActivity.this);\n             // the loader for subsequent pages takes over - therefore the initial loader needs to be destroyed\n-            getSupportLoaderManager().destroyLoader(type.getLoaderId());\n+            LoaderManager.getInstance(CacheListActivity.this).destroyLoader(type.getLoaderId());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzEyMTkyOQ=="}, "originalCommit": {"oid": "dc6ae2220bdb28a5f9cde6b37777140df9c7d7f5"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxNTU3MTczOnYy", "diffSide": "RIGHT", "path": "main/src/cgeo/geocaching/utils/ClipboardUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxODoxMjoyN1rOIGZGBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQyMToxMDo1NFrOIHZTKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzU3MzUxMQ==", "bodyText": "clipboard.getText(); is also deprecated. Is there a chance for solution as before for setText()?", "url": "https://github.com/cgeo/cgeo/pull/9537#discussion_r543573511", "createdAt": "2020-12-15T18:12:27Z", "author": {"login": "bekuno"}, "path": "main/src/cgeo/geocaching/utils/ClipboardUtils.java", "diffHunk": "@@ -25,22 +26,23 @@ private ClipboardUtils() {\n      * @param text\n      *            The text to place in the clipboard.\n      */\n-    @SuppressWarnings(\"deprecation\")\n     public static void copyToClipboard(@NonNull final CharSequence text) {\n         // fully qualified name used here to avoid buggy deprecation warning (of javac) on the import statement\n-        final android.text.ClipboardManager clipboard = (android.text.ClipboardManager) CgeoApplication.getInstance().getSystemService(Context.CLIPBOARD_SERVICE);\n-        clipboard.setText(text);\n+        final ClipboardManager clipboard = (ClipboardManager) CgeoApplication.getInstance().getSystemService(Context.CLIPBOARD_SERVICE);\n+        if (clipboard != null) {\n+            final ClipData data = ClipData.newPlainText(null, text);\n+            clipboard.setPrimaryClip(data);\n+        }\n     }\n \n     /**\n      * get clipboard content\n      *\n      */\n-    @SuppressWarnings(\"deprecation\")\n     @Nullable\n     public static String getText() {\n         // fully qualified name used here to avoid buggy deprecation warning (of javac) on the import statement\n-        final android.text.ClipboardManager clipboard = (android.text.ClipboardManager) CgeoApplication.getInstance().getSystemService(Context.CLIPBOARD_SERVICE);\n+        final ClipboardManager clipboard = (ClipboardManager) CgeoApplication.getInstance().getSystemService(Context.CLIPBOARD_SERVICE);\n         final CharSequence text = clipboard.getText();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ae5347080db827780d06e5c69dd50e188cbdbf9"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDYyNTQ0OA==", "bodyText": "Perhaps, though I'm not certain about how to go about it, so I'm leaving it as is so I don't break anything by accident.", "url": "https://github.com/cgeo/cgeo/pull/9537#discussion_r544625448", "createdAt": "2020-12-16T21:10:54Z", "author": {"login": "TacoTheDank"}, "path": "main/src/cgeo/geocaching/utils/ClipboardUtils.java", "diffHunk": "@@ -25,22 +26,23 @@ private ClipboardUtils() {\n      * @param text\n      *            The text to place in the clipboard.\n      */\n-    @SuppressWarnings(\"deprecation\")\n     public static void copyToClipboard(@NonNull final CharSequence text) {\n         // fully qualified name used here to avoid buggy deprecation warning (of javac) on the import statement\n-        final android.text.ClipboardManager clipboard = (android.text.ClipboardManager) CgeoApplication.getInstance().getSystemService(Context.CLIPBOARD_SERVICE);\n-        clipboard.setText(text);\n+        final ClipboardManager clipboard = (ClipboardManager) CgeoApplication.getInstance().getSystemService(Context.CLIPBOARD_SERVICE);\n+        if (clipboard != null) {\n+            final ClipData data = ClipData.newPlainText(null, text);\n+            clipboard.setPrimaryClip(data);\n+        }\n     }\n \n     /**\n      * get clipboard content\n      *\n      */\n-    @SuppressWarnings(\"deprecation\")\n     @Nullable\n     public static String getText() {\n         // fully qualified name used here to avoid buggy deprecation warning (of javac) on the import statement\n-        final android.text.ClipboardManager clipboard = (android.text.ClipboardManager) CgeoApplication.getInstance().getSystemService(Context.CLIPBOARD_SERVICE);\n+        final ClipboardManager clipboard = (ClipboardManager) CgeoApplication.getInstance().getSystemService(Context.CLIPBOARD_SERVICE);\n         final CharSequence text = clipboard.getText();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzU3MzUxMQ=="}, "originalCommit": {"oid": "4ae5347080db827780d06e5c69dd50e188cbdbf9"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1718, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}