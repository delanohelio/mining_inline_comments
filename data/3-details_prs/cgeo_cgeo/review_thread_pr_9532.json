{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM4OTI1Mjcw", "number": 9532, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNjoxNDoyMFrOFFEE2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNjoxNDoyMFrOFFEE2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwODUzOTc2OnYy", "diffSide": "RIGHT", "path": "main/src/cgeo/geocaching/settings/Settings.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNjoxNDoyMFrOIFYPKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMDowNDo0NlrOIFlFcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjUxMDg5MQ==", "bodyText": "As far as I have understood the code, this will not work as it will only be run if the settingsVersion is lower than 1. But on the other hand this feature isn't critical enough that it needs its own new settingsVersion...", "url": "https://github.com/cgeo/cgeo/pull/9532#discussion_r542510891", "createdAt": "2020-12-14T16:14:20Z", "author": {"login": "fm-sys"}, "path": "main/src/cgeo/geocaching/settings/Settings.java", "diffHunk": "@@ -175,7 +175,7 @@ private static void migrateSettings() {\n             e.putInt(getKey(R.string.pref_version), prefsV0.getInt(getKey(R.string.pref_version), 0));\n             e.putBoolean(getKey(R.string.pref_ratingwanted), prefsV0.getBoolean(getKey(R.string.pref_ratingwanted), true));\n             e.putBoolean(getKey(R.string.pref_friendlogswanted), prefsV0.getBoolean(getKey(R.string.pref_friendlogswanted), true));\n-            e.putBoolean(getKey(R.string.pref_useenglish), prefsV0.getBoolean(getKey(R.string.pref_useenglish), false));\n+            e.putBoolean(getKey(R.string.old_pref_useenglish), prefsV0.getBoolean(getKey(R.string.old_pref_useenglish), false));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f92694010e9702dfbdfc22750a247731a72566b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjU2MzkwOQ==", "bodyText": "This is some very old migration code, not directly related to the current PR.\nThe selected language is stored in a new string preference called \"selectedLanguage\" (whereas the old \"useenglish\" was a boolean preference). \"Migration\" is done in Settings.java:\npublic static String getUserLanguage() {\n    return getString(R.string.pref_selected_language, Settings.getBoolean(R.string.old_pref_useenglish, false) ? \"en\" : \"\");\n}", "url": "https://github.com/cgeo/cgeo/pull/9532#discussion_r542563909", "createdAt": "2020-12-14T17:22:19Z", "author": {"login": "moving-bits"}, "path": "main/src/cgeo/geocaching/settings/Settings.java", "diffHunk": "@@ -175,7 +175,7 @@ private static void migrateSettings() {\n             e.putInt(getKey(R.string.pref_version), prefsV0.getInt(getKey(R.string.pref_version), 0));\n             e.putBoolean(getKey(R.string.pref_ratingwanted), prefsV0.getBoolean(getKey(R.string.pref_ratingwanted), true));\n             e.putBoolean(getKey(R.string.pref_friendlogswanted), prefsV0.getBoolean(getKey(R.string.pref_friendlogswanted), true));\n-            e.putBoolean(getKey(R.string.pref_useenglish), prefsV0.getBoolean(getKey(R.string.pref_useenglish), false));\n+            e.putBoolean(getKey(R.string.old_pref_useenglish), prefsV0.getBoolean(getKey(R.string.old_pref_useenglish), false));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjUxMDg5MQ=="}, "originalCommit": {"oid": "9f92694010e9702dfbdfc22750a247731a72566b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjYxOTc2OQ==", "bodyText": "I always look at the code of others to learn something new, and this part had confused me a bit.Thanks for your explanation, now I got it and you're of course totally right!", "url": "https://github.com/cgeo/cgeo/pull/9532#discussion_r542619769", "createdAt": "2020-12-14T18:33:22Z", "author": {"login": "fm-sys"}, "path": "main/src/cgeo/geocaching/settings/Settings.java", "diffHunk": "@@ -175,7 +175,7 @@ private static void migrateSettings() {\n             e.putInt(getKey(R.string.pref_version), prefsV0.getInt(getKey(R.string.pref_version), 0));\n             e.putBoolean(getKey(R.string.pref_ratingwanted), prefsV0.getBoolean(getKey(R.string.pref_ratingwanted), true));\n             e.putBoolean(getKey(R.string.pref_friendlogswanted), prefsV0.getBoolean(getKey(R.string.pref_friendlogswanted), true));\n-            e.putBoolean(getKey(R.string.pref_useenglish), prefsV0.getBoolean(getKey(R.string.pref_useenglish), false));\n+            e.putBoolean(getKey(R.string.old_pref_useenglish), prefsV0.getBoolean(getKey(R.string.old_pref_useenglish), false));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjUxMDg5MQ=="}, "originalCommit": {"oid": "9f92694010e9702dfbdfc22750a247731a72566b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjcyMTM5Mg==", "bodyText": "One addition: The change in the lines above came from the fact that I renamed the string which holds the actual preference key \"useenglish\" from \"pref_useenglish\" to \"old_pref_useenglish\" to mark it as outdated.", "url": "https://github.com/cgeo/cgeo/pull/9532#discussion_r542721392", "createdAt": "2020-12-14T20:04:46Z", "author": {"login": "moving-bits"}, "path": "main/src/cgeo/geocaching/settings/Settings.java", "diffHunk": "@@ -175,7 +175,7 @@ private static void migrateSettings() {\n             e.putInt(getKey(R.string.pref_version), prefsV0.getInt(getKey(R.string.pref_version), 0));\n             e.putBoolean(getKey(R.string.pref_ratingwanted), prefsV0.getBoolean(getKey(R.string.pref_ratingwanted), true));\n             e.putBoolean(getKey(R.string.pref_friendlogswanted), prefsV0.getBoolean(getKey(R.string.pref_friendlogswanted), true));\n-            e.putBoolean(getKey(R.string.pref_useenglish), prefsV0.getBoolean(getKey(R.string.pref_useenglish), false));\n+            e.putBoolean(getKey(R.string.old_pref_useenglish), prefsV0.getBoolean(getKey(R.string.old_pref_useenglish), false));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjUxMDg5MQ=="}, "originalCommit": {"oid": "9f92694010e9702dfbdfc22750a247731a72566b"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1716, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}