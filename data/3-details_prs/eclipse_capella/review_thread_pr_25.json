{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY1ODk4NDcw", "number": 25, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QwODozOToxMVrODaFr_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QwODozOToxMVrODaFr_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4NjgyNzUxOnYy", "diffSide": "RIGHT", "path": "core/plugins/org.polarsys.capella.core.data.migration/src/org/polarsys/capella/core/data/migration/handlers/ProjectMigrationHandler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QwODozOToxMVrOFg2Oog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QwODozOToxMVrOFg2Oog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTk4NzIzNA==", "bodyText": "CapellaResourceHelper.CAPELLA_MODEL_FILE_EXTENSION", "url": "https://github.com/eclipse/capella/pull/25#discussion_r369987234", "createdAt": "2020-01-23T08:39:11Z", "author": {"login": "pdulth"}, "path": "core/plugins/org.polarsys.capella.core.data.migration/src/org/polarsys/capella/core/data/migration/handlers/ProjectMigrationHandler.java", "diffHunk": "@@ -55,9 +56,33 @@ public Object execute(ExecutionEvent event) throws ExecutionException {\n   }\r\n \r\n   @Override\r\n-  protected boolean isValidSelection(List<Object> selection) {\r\n+  public boolean isValidSelection(List<Object> selection) {\r\n+    // The selection is valid only if each element is an open project with a melodymodeller file inside.\r\n     for (Object select : selection) {\r\n-      if (!(select instanceof IProject)) {\r\n+      if (select instanceof IProject) {\r\n+        IProject project = (IProject) select;\r\n+        if (!project.isOpen()) {\r\n+          // One element is a closed project.\r\n+          return false;\r\n+        }\r\n+          try {\r\n+            boolean hasMelodymodellerFile = false;\r\n+            for (IResource content : project.members()) {\r\n+              if (\"melodymodeller\".equals(content.getFileExtension())) {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7df0ef1a03fc41f6c145dedfff2cc6a6c1bb0b3"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4347, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}