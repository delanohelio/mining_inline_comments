{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyOTU2Njgx", "number": 110, "title": "[560715] Avoid inter-resource set dependencies with platform plug-in elements", "bodyText": "Bug: 560715\nChange-Id: I63676ea870a5e8bcc6969fd612701e9bcc6fae04\nSigned-off-by: Olivier Constant olivier.constant@thalesgroup.com", "createdAt": "2020-03-03T13:39:44Z", "url": "https://github.com/eclipse/capella/pull/110", "merged": true, "mergeCommit": {"oid": "e0b6846f62f3e04b5a47e7dafca0f4cd947da94a"}, "closed": true, "closedAt": "2020-03-11T08:44:04Z", "author": {"login": "oconstant"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKCH9rAH2gAyMzgyOTU2NjgxOjY5NDE0YjYxMWI1MjEyNzM4NTMxOTE4ZDNlNmYzMDBiODVjYTYxZTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMjDCTAFqTM3MjU2MTI5Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "69414b611b5212738531918d3e6f300b85ca61e6", "author": {"user": {"login": "oconstant", "name": "Olivier Constant"}}, "url": "https://github.com/eclipse/capella/commit/69414b611b5212738531918d3e6f300b85ca61e6", "committedDate": "2020-03-03T13:13:50Z", "message": "[560715] Avoid inter-resource set dependencies with platform plug-in\nelements\n\nBug: 560715\nChange-Id: I63676ea870a5e8bcc6969fd612701e9bcc6fae04\nSigned-off-by: Olivier Constant <olivier.constant@thalesgroup.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d0e39b4c3483826ca6c9d3f1793cbb1f8d34379", "author": {"user": {"login": "pdulth", "name": "Philippe DUL"}}, "url": "https://github.com/eclipse/capella/commit/2d0e39b4c3483826ca6c9d3f1793cbb1f8d34379", "committedDate": "2020-03-03T15:17:17Z", "message": "[560715] Add junit\n\nBug: 560715\nChange-Id: I4cc004928fa6fb9ad9cdcfa03dae130e6cc7b89d\nSigned-off-by: Philippe DUL <philippe.dul@thalesgroup.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MDY4NzYy", "url": "https://github.com/eclipse/capella/pull/110#pullrequestreview-368068762", "createdAt": "2020-03-03T15:20:10Z", "commit": {"oid": "2d0e39b4c3483826ca6c9d3f1793cbb1f8d34379"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNToyMDoxMFrOFxKMag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNToyMDoxMFrOFxKMag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA5MTU2Mg==", "bodyText": "Are you sure about the false?\nDoes external resources are loaded as long as scope is used in diffmerge?", "url": "https://github.com/eclipse/capella/pull/110#discussion_r387091562", "createdAt": "2020-03-03T15:20:10Z", "author": {"login": "pdulth"}, "path": "core/plugins/org.polarsys.capella.core.compare/src/org/polarsys/capella/core/compare/CapellaScope.java", "diffHunk": "@@ -282,6 +292,36 @@ protected IFile getFileFor(Resource resource) {\n     return result;\n   }\n   \n+  /**\n+   * Return a scope-local element that corresponds to the given one, if any, otherwise return\n+   * the given element\n+   * @param element a potentially null element\n+   * @return an element that is null if and only if the given element is null\n+   */\n+  protected EObject getLocalElement(EObject element) {\n+    EObject result = element;\n+    ResourceSet localResourceSet = _resourceSet;\n+    if (element != null && localResourceSet != null ) {\n+      Resource valueResource = element.eResource();\n+      if (valueResource != null && localResourceSet != valueResource.getResourceSet()) {\n+        // Element belongs to another resource set\n+        URI valueResourceURI = valueResource.getURI();\n+        if (valueResourceURI != null && valueResourceURI.isPlatformPlugin()) {\n+          // And element belongs to a platform plug-in\n+          URI valueURI = EcoreUtil.getURI(element);\n+          if (valueURI != null) {\n+            // Try and get the same element (URI-based) in the local resource set\n+            EObject localElement = localResourceSet.getEObject(valueURI, false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d0e39b4c3483826ca6c9d3f1793cbb1f8d34379"}, "originalPosition": 47}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7adae76942576dfd25ceaede2e6186fff4798977", "author": {"user": {"login": "pdulth", "name": "Philippe DUL"}}, "url": "https://github.com/eclipse/capella/commit/7adae76942576dfd25ceaede2e6186fff4798977", "committedDate": "2020-03-03T16:14:19Z", "message": "[560715] Update junit accordingly\n\nBug: 560715\nChange-Id: I8ce75815686a5fa9a21f0a36d046e52a70f99d1f\nSigned-off-by: Philippe DUL <philippe.dul@thalesgroup.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyNTYxMjk2", "url": "https://github.com/eclipse/capella/pull/110#pullrequestreview-372561296", "createdAt": "2020-03-11T08:43:10Z", "commit": {"oid": "7adae76942576dfd25ceaede2e6186fff4798977"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1404, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}