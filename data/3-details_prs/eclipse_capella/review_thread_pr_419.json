{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwODM4MTIw", "number": 419, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMjo1NDowN1rOEzSLVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMjo1NDoxM1rOEzSLig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyMjEwNjQ1OnYy", "diffSide": "RIGHT", "path": "core/plugins/org.polarsys.capella.core.sirius.ui/src/org/polarsys/capella/core/sirius/ui/actions/MoveRepresentationsAction.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMjo1NDowN1rOHqaaZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMjo1NDowN1rOHqaaZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDIzNDk4MQ==", "bodyText": "descriptors shall also be from the same session, otherwise the run doesn't seems to work unlike MoveRepresentationMenuManager", "url": "https://github.com/eclipse/capella/pull/419#discussion_r514234981", "createdAt": "2020-10-29T12:54:07Z", "author": {"login": "pdulth"}, "path": "core/plugins/org.polarsys.capella.core.sirius.ui/src/org/polarsys/capella/core/sirius/ui/actions/MoveRepresentationsAction.java", "diffHunk": "@@ -0,0 +1,102 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 THALES GLOBAL SERVICES.\n+ * \n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ * \n+ * Contributors:\n+ *    Obeo - initial API and implementation\n+ *******************************************************************************/\n+package org.polarsys.capella.core.sirius.ui.actions;\n+\n+import java.util.Collection;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+\n+import org.eclipse.core.runtime.OperationCanceledException;\n+import org.eclipse.emf.ecore.EObject;\n+import org.eclipse.jface.viewers.IStructuredSelection;\n+import org.eclipse.sirius.business.api.dialect.command.MoveRepresentationCommand;\n+import org.eclipse.sirius.business.api.session.Session;\n+import org.eclipse.sirius.business.api.session.SessionManager;\n+import org.eclipse.sirius.business.api.session.danalysis.DAnalysisSelector;\n+import org.eclipse.sirius.business.api.session.danalysis.DAnalysisSelectorService;\n+import org.eclipse.sirius.business.api.session.danalysis.DAnalysisSession;\n+import org.eclipse.sirius.diagram.business.api.query.EObjectQuery;\n+import org.eclipse.sirius.ext.base.Option;\n+import org.eclipse.sirius.viewpoint.DAnalysis;\n+import org.eclipse.sirius.viewpoint.DRepresentationDescriptor;\n+import org.eclipse.sirius.viewpoint.ViewpointPackage;\n+import org.eclipse.ui.actions.BaseSelectionListenerAction;\n+import org.polarsys.capella.core.model.handler.helpers.RepresentationHelper;\n+import org.polarsys.capella.core.sirius.ui.Messages;\n+\n+/**\n+ * The action allowing to move representations to a different {@link DAnalysis}.\n+ * \n+ * @author <a href=\"mailto:steve.monnier@obeo.fr\">Steve Monnier</a>\n+ */\n+public class MoveRepresentationsAction extends BaseSelectionListenerAction {\n+\n+  /**\n+   * Constructs the action allowing to open representations.\n+   */\n+  public MoveRepresentationsAction() {\n+    super(Messages.MoveRepresentationsAction_move);\n+  }\n+\n+  @Override\n+  protected boolean updateSelection(IStructuredSelection selection) {\n+    List<DRepresentationDescriptor> validRepresentationDescriptors = getValidRepresentationDescriptors(selection);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5dda4e97ae148b114ec5a1904a6150b32b297157"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyMjEwNjk4OnYy", "diffSide": "LEFT", "path": "core/plugins/org.polarsys.capella.core.platform.sirius.ui.navigator/src/org/polarsys/capella/core/platform/sirius/ui/navigator/actions/providers/RepresentationActionProvider.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMjo1NDoxM1rOHqaatw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMjo1NDoxM1rOHqaatw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDIzNTA2Mw==", "bodyText": "this class was also used in org.polarsys.capella.core.explorer.activity.ui\\src\\org\\polarsys\\capella\\core\\explorer\\activity\\ui\\viewer\\CapellaDiagramViewer\ncan you use your new class in it too.", "url": "https://github.com/eclipse/capella/pull/419#discussion_r514235063", "createdAt": "2020-10-29T12:54:13Z", "author": {"login": "pdulth"}, "path": "core/plugins/org.polarsys.capella.core.platform.sirius.ui.navigator/src/org/polarsys/capella/core/platform/sirius/ui/navigator/actions/providers/RepresentationActionProvider.java", "diffHunk": "@@ -26,11 +27,12 @@\n import org.eclipse.ui.navigator.ICommonMenuConstants;\n import org.eclipse.ui.navigator.ICommonViewerSite;\n import org.eclipse.ui.navigator.ICommonViewerWorkbenchSite;\n+import org.eclipse.ui.plugin.AbstractUIPlugin;\n import org.polarsys.capella.core.platform.sirius.ui.navigator.actions.CloneAction;\n import org.polarsys.capella.core.platform.sirius.ui.navigator.actions.SelectionHelper;\n-import org.polarsys.capella.core.platform.sirius.ui.navigator.actions.move.representation.MoveRepresentationMenuManager;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5dda4e97ae148b114ec5a1904a6150b32b297157"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4199, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}