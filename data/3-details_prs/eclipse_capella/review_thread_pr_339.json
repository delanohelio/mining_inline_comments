{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0NTI2NTM1", "number": 339, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTozOTowMVrOEmidIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTozOTowMVrOEmidIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4ODQ1ODU3OnYy", "diffSide": "RIGHT", "path": "core/plugins/org.polarsys.capella.core.ui.semantic.browser/src/org/polarsys/capella/core/ui/semantic/browser/view/SemanticBrowserView.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTozOTowMVrOHWn8Cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNToyMDoyMFrOHkUDBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ4NTA2Nw==", "bodyText": "I think is shouldn't be executed in async in order to have the same process as before but using the UI Thread", "url": "https://github.com/eclipse/capella/pull/339#discussion_r493485067", "createdAt": "2020-09-23T11:39:01Z", "author": {"login": "SteveMonnier"}, "path": "core/plugins/org.polarsys.capella.core.ui.semantic.browser/src/org/polarsys/capella/core/ui/semantic/browser/view/SemanticBrowserView.java", "diffHunk": "@@ -397,7 +399,20 @@ public void clean() {\n     // No need to set focus.\n     boolean restoreState = shouldSetFocus ? true : false;\n     shouldSetFocus = false;\n-    setInput(null);\n+\n+    // Ensure execution of setInput in UI thread.\n+    if (Display.getCurrent() == null) {\n+        EclipseUIUtil.displayAsyncExec(new Runnable() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26645eb68e0961ca543393bb15873d6c9fc8a334"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDYzMTUwNg==", "bodyText": "@lredor any thought about this?", "url": "https://github.com/eclipse/capella/pull/339#discussion_r504631506", "createdAt": "2020-10-14T12:22:00Z", "author": {"login": "pdulth"}, "path": "core/plugins/org.polarsys.capella.core.ui.semantic.browser/src/org/polarsys/capella/core/ui/semantic/browser/view/SemanticBrowserView.java", "diffHunk": "@@ -397,7 +399,20 @@ public void clean() {\n     // No need to set focus.\n     boolean restoreState = shouldSetFocus ? true : false;\n     shouldSetFocus = false;\n-    setInput(null);\n+\n+    // Ensure execution of setInput in UI thread.\n+    if (Display.getCurrent() == null) {\n+        EclipseUIUtil.displayAsyncExec(new Runnable() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ4NTA2Nw=="}, "originalCommit": {"oid": "26645eb68e0961ca543393bb15873d6c9fc8a334"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgzOTIzNw==", "bodyText": "Oups, I missed the Steve comment. So I use async because there is no real reason to change the input in sync mode. If this method is called not in the UI thread, the UI thread is probably always in progress. Async allows to to the input refresh \"later\".", "url": "https://github.com/eclipse/capella/pull/339#discussion_r507839237", "createdAt": "2020-10-19T15:20:20Z", "author": {"login": "lredor"}, "path": "core/plugins/org.polarsys.capella.core.ui.semantic.browser/src/org/polarsys/capella/core/ui/semantic/browser/view/SemanticBrowserView.java", "diffHunk": "@@ -397,7 +399,20 @@ public void clean() {\n     // No need to set focus.\n     boolean restoreState = shouldSetFocus ? true : false;\n     shouldSetFocus = false;\n-    setInput(null);\n+\n+    // Ensure execution of setInput in UI thread.\n+    if (Display.getCurrent() == null) {\n+        EclipseUIUtil.displayAsyncExec(new Runnable() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ4NTA2Nw=="}, "originalCommit": {"oid": "26645eb68e0961ca543393bb15873d6c9fc8a334"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4233, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}