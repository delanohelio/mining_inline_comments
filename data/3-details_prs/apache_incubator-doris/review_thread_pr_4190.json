{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2OTUxMjc3", "number": 4190, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwMzozMToyOFrOETgXng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwMzozMjoxNFrOETgYMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4ODg4NzM0OnYy", "diffSide": "RIGHT", "path": "gensrc/proto/internal_service.proto", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwMzozMToyOFrOG5Ry1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwMzozMToyOFrOG5Ry1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjcxMzU1OA==", "bodyText": "For protobuf, we prefer optional than  required.", "url": "https://github.com/apache/incubator-doris/pull/4190#discussion_r462713558", "createdAt": "2020-07-30T03:31:28Z", "author": {"login": "kangkaisen"}, "path": "gensrc/proto/internal_service.proto", "diffHunk": "@@ -147,6 +147,59 @@ message PFetchDataResult {\n     optional PQueryStatistics query_statistics = 4;\n };\n \n+//Add message definition to fetch and update cache\n+enum PCacheStatus {    \n+    DEFAULT = 0;\n+    CACHE_OK = 1;\n+    PARAM_ERROR = 2;\n+    SIZE_OVER_LIMIT = 3;\n+    NO_SQL_KEY = 4;\n+    NO_PARTITION_KEY = 5;\n+    INVALID_KEY_RANGE = 6;\n+    DATA_OVERDUE = 7;\n+    EMPTY_DATA = 8;\n+};\n+\n+message PCacheParam {\n+    required int64 partition_key = 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b5ea6a6a165846575f734946b42da2d7077c447"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4ODg4ODgwOnYy", "diffSide": "RIGHT", "path": "gensrc/proto/internal_service.proto", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwMzozMjoxNFrOG5Rzpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwMzozMjoxNFrOG5Rzpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjcxMzc2Ng==", "bodyText": "Would better define the clear_type to enum", "url": "https://github.com/apache/incubator-doris/pull/4190#discussion_r462713766", "createdAt": "2020-07-30T03:32:14Z", "author": {"login": "kangkaisen"}, "path": "gensrc/proto/internal_service.proto", "diffHunk": "@@ -147,6 +147,59 @@ message PFetchDataResult {\n     optional PQueryStatistics query_statistics = 4;\n };\n \n+//Add message definition to fetch and update cache\n+enum PCacheStatus {    \n+    DEFAULT = 0;\n+    CACHE_OK = 1;\n+    PARAM_ERROR = 2;\n+    SIZE_OVER_LIMIT = 3;\n+    NO_SQL_KEY = 4;\n+    NO_PARTITION_KEY = 5;\n+    INVALID_KEY_RANGE = 6;\n+    DATA_OVERDUE = 7;\n+    EMPTY_DATA = 8;\n+};\n+\n+message PCacheParam {\n+    required int64 partition_key = 1;\n+    required int64 last_version = 2;\n+    required int64 last_version_time = 3;\n+};\n+\n+message PCacheValue {\n+    required PCacheParam param = 1;\n+    required int32 data_size = 2;\n+    repeated bytes row = 3;\n+};\n+\n+//for update&clear return\n+message PCacheResponse {\n+    required PCacheStatus status = 1;\n+};\n+\n+message PUpdateCacheRequest{\n+    required PUniqueId sql_key = 1;\n+    repeated PCacheValue value = 2;\n+};\n+\n+message PFetchCacheRequest {\n+    required PUniqueId sql_key = 1;\n+    repeated PCacheParam param = 2;\n+};\n+\n+message PFetchCacheResult {\n+    required PCacheStatus status = 1;\n+    repeated PCacheValue value = 2;\n+};\n+\n+message PClearCacheRequest {\n+    //0 clear all, 1 invoke prune,  2 clear before_time, 3 clear sql_key\n+    required int32 clear_type = 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b5ea6a6a165846575f734946b42da2d7077c447"}, "originalPosition": 51}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1245, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}