{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1MDQ5MjAw", "number": 4479, "reviewThreads": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzowMDowOFrOEddOZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQwMjo1NjoxOVrOEyoSMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzIyOTgwOnYy", "diffSide": "RIGHT", "path": "docs/zh-CN/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzowMDowOFrOHIn21w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzowMDowOFrOHIn21w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgwMzY3MQ==", "bodyText": "\u7b2c\u4e00\u53e5 \u91cc\u9762\u7684 \u6570\u636e\u5e93\u5c42 \u662f\u5e94\u7528\u5c42\uff1f", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r478803671", "createdAt": "2020-08-28T03:00:08Z", "author": {"login": "kangkaisen"}, "path": "docs/zh-CN/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,184 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"zh-CN\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+# QUERY CACHE\n+\n+\n+\n+## \u4e00 \u9700\u6c42\n+\n+\u867d\u7136\u5728\u6570\u636e\u5e93\u5c42\u4e5f\u505a\u4e86\u5bf9\u5e94\u7684\u7f13\u5b58\uff0c\u4f46\u8fd9\u79cd\u6570\u636e\u5e93\u5c42\u6b21\u7684\u7f13\u5b58\u4e00\u822c\u9488\u5bf9\u7684\u662f\u67e5\u8be2\u5185\u5bb9\uff0c\u800c\u4e14\u7c92\u5ea6\u4e5f\u592a\u5c0f\uff0c\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u589e\u3001\u5220\u3001\u67e5\u3001\u6539\u7684\u5e9e\u5927IO\u538b\u529b\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f\u5728\u6b64\u8bde\u751f\uff0c\u5b9e\u73b0\u70ed\u70b9\u6570\u636e\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u63d0\u9ad8\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u6781\u5927\u7f13\u89e3\u540e\u7aef\u6570\u636e\u5e93\u7684\u538b\u529b", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzIzMjE3OnYy", "diffSide": "RIGHT", "path": "docs/zh-CN/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzowMToyN1rOHIn4PA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzowMToyN1rOHIn4PA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgwNDAyOA==", "bodyText": "\u7a7a\u884c\u6709\u70b9\u592a\u591a\u4e86\u3002", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r478804028", "createdAt": "2020-08-28T03:01:27Z", "author": {"login": "kangkaisen"}, "path": "docs/zh-CN/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,184 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"zh-CN\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+# QUERY CACHE\n+\n+\n+\n+## \u4e00 \u9700\u6c42\n+\n+\u867d\u7136\u5728\u6570\u636e\u5e93\u5c42\u4e5f\u505a\u4e86\u5bf9\u5e94\u7684\u7f13\u5b58\uff0c\u4f46\u8fd9\u79cd\u6570\u636e\u5e93\u5c42\u6b21\u7684\u7f13\u5b58\u4e00\u822c\u9488\u5bf9\u7684\u662f\u67e5\u8be2\u5185\u5bb9\uff0c\u800c\u4e14\u7c92\u5ea6\u4e5f\u592a\u5c0f\uff0c\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u589e\u3001\u5220\u3001\u67e5\u3001\u6539\u7684\u5e9e\u5927IO\u538b\u529b\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f\u5728\u6b64\u8bde\u751f\uff0c\u5b9e\u73b0\u70ed\u70b9\u6570\u636e\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u63d0\u9ad8\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u6781\u5927\u7f13\u89e3\u540e\u7aef\u6570\u636e\u5e93\u7684\u538b\u529b\n+\n+- \u9ad8\u5e76\u53d1\u573a\u666f\n+  Doris\u53ef\u4ee5\u8f83\u597d\u7684\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u5355\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684QPS\n+\n+- \u590d\u6742\u56fe\u8868\u7684\u770b\u677f\n+  \u590d\u6742\u7684Dashboard\u6216\u8005\u5927\u5c4f\u7c7b\u5e94\u7528\uff0c\u6570\u636e\u6765\u81ea\u591a\u5f20\u8868\uff0c\u6bcf\u4e2a\u9875\u9762\u6709\u6570\u5341\u4e2a\u67e5\u8be2\uff0c\u867d\u7136\u6bcf\u4e2a\u67e5\u8be2\u53ea\u6709\u6570\u5341\u6beb\u79d2\uff0c\u4f46\u662f\u603b\u4f53\u67e5\u8be2\u65f6\u95f4\u4f1a\u5728\u6570\u79d2\n+\n+- \u8d8b\u52bf\u5206\u6790\n+  \u7ed9\u5b9a\u65e5\u671f\u8303\u56f4\u7684\u67e5\u8be2\uff0c\u6307\u6807\u6309\u65e5\u663e\u793a\uff0c\u6bd4\u5982\u67e5\u8be2\u6700\u8fd17\u5929\u5185\u7684\u7528\u6237\u6570\u7684\u8d8b\u52bf\uff0c\u8fd9\u7c7b\u67e5\u8be2\u6570\u636e\u91cf\u5927\uff0c\u67e5\u8be2\u8303\u56f4\u5e7f\uff0c\u67e5\u8be2\u65f6\u95f4\u5f80\u5f80\u9700\u8981\u6570\u5341\u79d2\n+\n+- \u7528\u6237\u91cd\u590d\u67e5\u8be2\n+  \u5982\u679c\u4ea7\u54c1\u6ca1\u6709\u9632\u91cd\u5237\u673a\u5236\uff0c\u7528\u6237\u56e0\u624b\u8bef\u6216\u5176\u4ed6\u539f\u56e0\u91cd\u590d\u5237\u65b0\u9875\u9762\uff0c\u5bfc\u81f4\u63d0\u4ea4\u5927\u91cf\u7684\u91cd\u590d\u7684SQL\n+\n+\n+\n+\u4ee5\u4e0a\u56db\u79cd\u573a\u666f\uff0c\u5728\u5e94\u7528\u5c42\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u628a\u67e5\u8be2\u7ed3\u679c\u653e\u5230Redis\u4e2d\uff0c\u5468\u671f\u6027\u7684\u66f4\u65b0\u7f13\u5b58\u6216\u8005\u7528\u6237\u624b\u5de5\u5237\u65b0\u7f13\u5b58\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u6709\u5982\u4e0b\u95ee\u9898\uff1a\n+\n+- \u6570\u636e\u4e0d\u4e00\u81f4\n+  \u65e0\u6cd5\u611f\u77e5\u6570\u636e\u7684\u66f4\u65b0\uff0c\u5bfc\u81f4\u7528\u6237\u7ecf\u5e38\u770b\u5230\u65e7\u7684\u6570\u636e\n+\n+- \u547d\u4e2d\u7387\u4f4e\n+  \u7f13\u5b58\u6574\u4e2a\u67e5\u8be2\u7ed3\u679c\uff0c\u5982\u679c\u6570\u636e\u5b9e\u65f6\u5199\u5165\uff0c\u7f13\u5b58\u9891\u7e41\u5931\u6548\uff0c\u547d\u4e2d\u7387\u4f4e\u4e14\u7cfb\u7edf\u8d1f\u8f7d\u8f83\u91cd\n+\n+- \u989d\u5916\u6210\u672c\n+  \u5f15\u5165\u5916\u90e8\u7f13\u5b58\u7ec4\u4ef6\uff0c\u4f1a\u5e26\u6765\u7cfb\u7edf\u590d\u6742\u5ea6\uff0c\u589e\u52a0\u989d\u5916\u6210\u672c\n+\n+\n+\n+## \u4e8c \u89e3\u51b3\u65b9\u6848\n+\n+\u76ee\u524d\u6211\u4eec\u8bbe\u8ba1\u51fa\u7ed3\u679c\u7f13\u5b58\u548c\u5206\u533a\u7f13\u5b58\u4e24\u4e2a\u6a21\u5757\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzIzNjk1OnYy", "diffSide": "RIGHT", "path": "docs/zh-CN/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzowNDozOFrOHIn6_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzowNDozOFrOHIn6_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgwNDczNA==", "bodyText": "\u914d\u7f6e\u7ed9\u4e2a\u7b80\u5355\u7684\u89e3\u91ca\u3002 \u548c\u9ed8\u8ba4\u503c\u3002  \u4ee5\u53ca\u8bf4\u660e\u4e0b\u8fd93\u79cdcache\u662f\u5426\u53ef\u4ee5\u540c\u65f6\u5f00\u542f\u3002", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r478804734", "createdAt": "2020-08-28T03:04:38Z", "author": {"login": "kangkaisen"}, "path": "docs/zh-CN/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,184 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"zh-CN\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+# QUERY CACHE\n+\n+\n+\n+## \u4e00 \u9700\u6c42\n+\n+\u867d\u7136\u5728\u6570\u636e\u5e93\u5c42\u4e5f\u505a\u4e86\u5bf9\u5e94\u7684\u7f13\u5b58\uff0c\u4f46\u8fd9\u79cd\u6570\u636e\u5e93\u5c42\u6b21\u7684\u7f13\u5b58\u4e00\u822c\u9488\u5bf9\u7684\u662f\u67e5\u8be2\u5185\u5bb9\uff0c\u800c\u4e14\u7c92\u5ea6\u4e5f\u592a\u5c0f\uff0c\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u589e\u3001\u5220\u3001\u67e5\u3001\u6539\u7684\u5e9e\u5927IO\u538b\u529b\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f\u5728\u6b64\u8bde\u751f\uff0c\u5b9e\u73b0\u70ed\u70b9\u6570\u636e\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u63d0\u9ad8\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u6781\u5927\u7f13\u89e3\u540e\u7aef\u6570\u636e\u5e93\u7684\u538b\u529b\n+\n+- \u9ad8\u5e76\u53d1\u573a\u666f\n+  Doris\u53ef\u4ee5\u8f83\u597d\u7684\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u5355\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684QPS\n+\n+- \u590d\u6742\u56fe\u8868\u7684\u770b\u677f\n+  \u590d\u6742\u7684Dashboard\u6216\u8005\u5927\u5c4f\u7c7b\u5e94\u7528\uff0c\u6570\u636e\u6765\u81ea\u591a\u5f20\u8868\uff0c\u6bcf\u4e2a\u9875\u9762\u6709\u6570\u5341\u4e2a\u67e5\u8be2\uff0c\u867d\u7136\u6bcf\u4e2a\u67e5\u8be2\u53ea\u6709\u6570\u5341\u6beb\u79d2\uff0c\u4f46\u662f\u603b\u4f53\u67e5\u8be2\u65f6\u95f4\u4f1a\u5728\u6570\u79d2\n+\n+- \u8d8b\u52bf\u5206\u6790\n+  \u7ed9\u5b9a\u65e5\u671f\u8303\u56f4\u7684\u67e5\u8be2\uff0c\u6307\u6807\u6309\u65e5\u663e\u793a\uff0c\u6bd4\u5982\u67e5\u8be2\u6700\u8fd17\u5929\u5185\u7684\u7528\u6237\u6570\u7684\u8d8b\u52bf\uff0c\u8fd9\u7c7b\u67e5\u8be2\u6570\u636e\u91cf\u5927\uff0c\u67e5\u8be2\u8303\u56f4\u5e7f\uff0c\u67e5\u8be2\u65f6\u95f4\u5f80\u5f80\u9700\u8981\u6570\u5341\u79d2\n+\n+- \u7528\u6237\u91cd\u590d\u67e5\u8be2\n+  \u5982\u679c\u4ea7\u54c1\u6ca1\u6709\u9632\u91cd\u5237\u673a\u5236\uff0c\u7528\u6237\u56e0\u624b\u8bef\u6216\u5176\u4ed6\u539f\u56e0\u91cd\u590d\u5237\u65b0\u9875\u9762\uff0c\u5bfc\u81f4\u63d0\u4ea4\u5927\u91cf\u7684\u91cd\u590d\u7684SQL\n+\n+\n+\n+\u4ee5\u4e0a\u56db\u79cd\u573a\u666f\uff0c\u5728\u5e94\u7528\u5c42\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u628a\u67e5\u8be2\u7ed3\u679c\u653e\u5230Redis\u4e2d\uff0c\u5468\u671f\u6027\u7684\u66f4\u65b0\u7f13\u5b58\u6216\u8005\u7528\u6237\u624b\u5de5\u5237\u65b0\u7f13\u5b58\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u6709\u5982\u4e0b\u95ee\u9898\uff1a\n+\n+- \u6570\u636e\u4e0d\u4e00\u81f4\n+  \u65e0\u6cd5\u611f\u77e5\u6570\u636e\u7684\u66f4\u65b0\uff0c\u5bfc\u81f4\u7528\u6237\u7ecf\u5e38\u770b\u5230\u65e7\u7684\u6570\u636e\n+\n+- \u547d\u4e2d\u7387\u4f4e\n+  \u7f13\u5b58\u6574\u4e2a\u67e5\u8be2\u7ed3\u679c\uff0c\u5982\u679c\u6570\u636e\u5b9e\u65f6\u5199\u5165\uff0c\u7f13\u5b58\u9891\u7e41\u5931\u6548\uff0c\u547d\u4e2d\u7387\u4f4e\u4e14\u7cfb\u7edf\u8d1f\u8f7d\u8f83\u91cd\n+\n+- \u989d\u5916\u6210\u672c\n+  \u5f15\u5165\u5916\u90e8\u7f13\u5b58\u7ec4\u4ef6\uff0c\u4f1a\u5e26\u6765\u7cfb\u7edf\u590d\u6742\u5ea6\uff0c\u589e\u52a0\u989d\u5916\u6210\u672c\n+\n+\n+\n+## \u4e8c \u89e3\u51b3\u65b9\u6848\n+\n+\u76ee\u524d\u6211\u4eec\u8bbe\u8ba1\u51fa\u7ed3\u679c\u7f13\u5b58\u548c\u5206\u533a\u7f13\u5b58\u4e24\u4e2a\u6a21\u5757\n+\n+\n+\n+## \u4e09 \u540d\u8bcd\u89e3\u91ca\n+\n+1. \u7ed3\u679c\u7f13\u5b58 result_cache\n+\n+\u9488\u5bf9\u7528\u6237\u7684sql\u76f4\u63a5\u7f13\u5b58\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u5408\n+\n+\n+\n+2. \u5206\u533a\u7f13\u5b58 partition_cache\n+\n+\u5728partition\u7c92\u5ea6\u505a\u9488\u5bf9\u6bcf\u4e2a\u5206\u533a\u67e5\u8be2\u7684\u7ed3\u679c\u7f13\u5b58 \n+\n+\n+\n+## \u56db \u8bbe\u8ba1\u539f\u7406\n+\n+### 1 \u7ed3\u679c\u7f13\u5b58 `result_cache`\n+\n+result_cache \u5206\u4e24\u5c42 \u7b2c\u4e00\u5c42\u4e3a result_cache_ttl \u7b2c\u4e8c\u5c42\u4e3a result_cache_version \n+\n+\n+\n+#### `result_cache_ttl`\n+\n+result_cache_ttl \u53d8\u91cf\u8bbe\u7f6e\u5728\u7528\u6237Session\u4e2d\uff0c\u7528\u6237\u53ef\u81ea\u5b9a\u4e49\u662f\u5426\u5f00\u542f,\u901a\u8fc7ttl\u65f6\u95f4\u6765\u786e\u5b9a\u7528\u6237\u7684sql\u662f\u5426\u4f7f\u7528\u7f13\u5b58\uff0c`\u8fd9\u91cc\u6570\u636e\u53d8\u66f4\u65f6\u4e0d\u4fdd\u8bc1\u6570\u636e\u7684\u6b63\u786e\u6027`\n+\n+\u6309\u7167 \u7528\u6237 connectid,\u548c\u67e5\u8be2\u7684sql \u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\uff0c\u8d85\u8fc7\u7f13\u5b58\u5931\u6548\u65f6\u95f4\u5219\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\uff0c\u8be5\u7f13\u5b58\u4e5f\u4f1a\u88ab\u6e05\u7406\n+\n+\n+\n+#### ` result_cache_version`\n+\n+result_cache_version \u6309SQL\u7684\u7b7e\u540d\u3001\u67e5\u8be2\u7684\u8868\u7684\u5206\u533aID\u3001\u5206\u533a\u6700\u65b0\u7248\u672c\u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\u3002\u4e09\u8005\u7ec4\u5408\u786e\u5b9a\u4e00\u4e2a\u7f13\u5b58\u6570\u636e\u96c6\uff0c\u4efb\u4f55\u4e00\u4e2a\u53d8\u5316\u4e86\uff0c\u5982SQL\u6709\u53d8\u5316\uff0c\u5982\u67e5\u8be2\u5b57\u6bb5\u6216\u6761\u4ef6\u4e0d\u4e00\u6837\uff0c\u6216\u6570\u636e\u66f4\u65b0\u540e\u7248\u672c\u53d8\u5316\u4e86\uff0c\u4f1a\u5bfc\u81f4\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\u3002\n+\n+\u5982\u679c\u591a\u5f20\u8868Join\uff0c\u4f7f\u7528\u6700\u8fd1\u66f4\u65b0\u7684\u5206\u533aID\u548c\u6700\u65b0\u7684\u7248\u672c\u53f7\uff0c\u5982\u679c\u5176\u4e2d\u4e00\u5f20\u8868\u66f4\u65b0\u4e86\uff0c\u4f1a\u5bfc\u81f4\u5206\u533aID\u6216\u7248\u672c\u53f7\u4e0d\u4e00\u6837\uff0c\u4e5f\u4e00\u6837\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\u3002\n+\n+\n+\n+### 2 \u5206\u533a\u7f13\u5b58 `partition_cache`\n+\n+1. SQL\u53ef\u4ee5\u5e76\u884c\u62c6\u5206\uff0cQ = Q1 \u222a Q2 ... \u222a Qn\uff0cR= R1 \u222a R2 ... \u222a Rn\uff0cQ\u4e3a\u67e5\u8be2\u8bed\u53e5\uff0cR\u4e3a\u7ed3\u679c\u96c6\n+\n+2. \u62c6\u5206\u4e3a\u53ea\u8bfb\u5206\u533a\u548c\u53ef\u66f4\u65b0\u5206\u533a\uff0c\u53ea\u8bfb\u5206\u533a\u7f13\u5b58\uff0c\u66f4\u65b0\u5206\u533a\u4e0d\u7f13\u5b58\n+\n+\n+\n+## \u4e94 \u53c2\u6570\n+\n+###  fe\n+\n+- cache \u5f00\u5173", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 117}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzIzNzM5OnYy", "diffSide": "RIGHT", "path": "docs/zh-CN/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzowNDo1OFrOHIn7Pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzowNDo1OFrOHIn7Pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgwNDc5OA==", "bodyText": "\u4f3c\u4e4e\u4e0d\u662f\u5c42\u6b21\u5173\u7cfb\uff1f", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r478804798", "createdAt": "2020-08-28T03:04:58Z", "author": {"login": "kangkaisen"}, "path": "docs/zh-CN/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,184 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"zh-CN\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+# QUERY CACHE\n+\n+\n+\n+## \u4e00 \u9700\u6c42\n+\n+\u867d\u7136\u5728\u6570\u636e\u5e93\u5c42\u4e5f\u505a\u4e86\u5bf9\u5e94\u7684\u7f13\u5b58\uff0c\u4f46\u8fd9\u79cd\u6570\u636e\u5e93\u5c42\u6b21\u7684\u7f13\u5b58\u4e00\u822c\u9488\u5bf9\u7684\u662f\u67e5\u8be2\u5185\u5bb9\uff0c\u800c\u4e14\u7c92\u5ea6\u4e5f\u592a\u5c0f\uff0c\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u589e\u3001\u5220\u3001\u67e5\u3001\u6539\u7684\u5e9e\u5927IO\u538b\u529b\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f\u5728\u6b64\u8bde\u751f\uff0c\u5b9e\u73b0\u70ed\u70b9\u6570\u636e\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u63d0\u9ad8\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u6781\u5927\u7f13\u89e3\u540e\u7aef\u6570\u636e\u5e93\u7684\u538b\u529b\n+\n+- \u9ad8\u5e76\u53d1\u573a\u666f\n+  Doris\u53ef\u4ee5\u8f83\u597d\u7684\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u5355\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684QPS\n+\n+- \u590d\u6742\u56fe\u8868\u7684\u770b\u677f\n+  \u590d\u6742\u7684Dashboard\u6216\u8005\u5927\u5c4f\u7c7b\u5e94\u7528\uff0c\u6570\u636e\u6765\u81ea\u591a\u5f20\u8868\uff0c\u6bcf\u4e2a\u9875\u9762\u6709\u6570\u5341\u4e2a\u67e5\u8be2\uff0c\u867d\u7136\u6bcf\u4e2a\u67e5\u8be2\u53ea\u6709\u6570\u5341\u6beb\u79d2\uff0c\u4f46\u662f\u603b\u4f53\u67e5\u8be2\u65f6\u95f4\u4f1a\u5728\u6570\u79d2\n+\n+- \u8d8b\u52bf\u5206\u6790\n+  \u7ed9\u5b9a\u65e5\u671f\u8303\u56f4\u7684\u67e5\u8be2\uff0c\u6307\u6807\u6309\u65e5\u663e\u793a\uff0c\u6bd4\u5982\u67e5\u8be2\u6700\u8fd17\u5929\u5185\u7684\u7528\u6237\u6570\u7684\u8d8b\u52bf\uff0c\u8fd9\u7c7b\u67e5\u8be2\u6570\u636e\u91cf\u5927\uff0c\u67e5\u8be2\u8303\u56f4\u5e7f\uff0c\u67e5\u8be2\u65f6\u95f4\u5f80\u5f80\u9700\u8981\u6570\u5341\u79d2\n+\n+- \u7528\u6237\u91cd\u590d\u67e5\u8be2\n+  \u5982\u679c\u4ea7\u54c1\u6ca1\u6709\u9632\u91cd\u5237\u673a\u5236\uff0c\u7528\u6237\u56e0\u624b\u8bef\u6216\u5176\u4ed6\u539f\u56e0\u91cd\u590d\u5237\u65b0\u9875\u9762\uff0c\u5bfc\u81f4\u63d0\u4ea4\u5927\u91cf\u7684\u91cd\u590d\u7684SQL\n+\n+\n+\n+\u4ee5\u4e0a\u56db\u79cd\u573a\u666f\uff0c\u5728\u5e94\u7528\u5c42\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u628a\u67e5\u8be2\u7ed3\u679c\u653e\u5230Redis\u4e2d\uff0c\u5468\u671f\u6027\u7684\u66f4\u65b0\u7f13\u5b58\u6216\u8005\u7528\u6237\u624b\u5de5\u5237\u65b0\u7f13\u5b58\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u6709\u5982\u4e0b\u95ee\u9898\uff1a\n+\n+- \u6570\u636e\u4e0d\u4e00\u81f4\n+  \u65e0\u6cd5\u611f\u77e5\u6570\u636e\u7684\u66f4\u65b0\uff0c\u5bfc\u81f4\u7528\u6237\u7ecf\u5e38\u770b\u5230\u65e7\u7684\u6570\u636e\n+\n+- \u547d\u4e2d\u7387\u4f4e\n+  \u7f13\u5b58\u6574\u4e2a\u67e5\u8be2\u7ed3\u679c\uff0c\u5982\u679c\u6570\u636e\u5b9e\u65f6\u5199\u5165\uff0c\u7f13\u5b58\u9891\u7e41\u5931\u6548\uff0c\u547d\u4e2d\u7387\u4f4e\u4e14\u7cfb\u7edf\u8d1f\u8f7d\u8f83\u91cd\n+\n+- \u989d\u5916\u6210\u672c\n+  \u5f15\u5165\u5916\u90e8\u7f13\u5b58\u7ec4\u4ef6\uff0c\u4f1a\u5e26\u6765\u7cfb\u7edf\u590d\u6742\u5ea6\uff0c\u589e\u52a0\u989d\u5916\u6210\u672c\n+\n+\n+\n+## \u4e8c \u89e3\u51b3\u65b9\u6848\n+\n+\u76ee\u524d\u6211\u4eec\u8bbe\u8ba1\u51fa\u7ed3\u679c\u7f13\u5b58\u548c\u5206\u533a\u7f13\u5b58\u4e24\u4e2a\u6a21\u5757\n+\n+\n+\n+## \u4e09 \u540d\u8bcd\u89e3\u91ca\n+\n+1. \u7ed3\u679c\u7f13\u5b58 result_cache\n+\n+\u9488\u5bf9\u7528\u6237\u7684sql\u76f4\u63a5\u7f13\u5b58\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u5408\n+\n+\n+\n+2. \u5206\u533a\u7f13\u5b58 partition_cache\n+\n+\u5728partition\u7c92\u5ea6\u505a\u9488\u5bf9\u6bcf\u4e2a\u5206\u533a\u67e5\u8be2\u7684\u7ed3\u679c\u7f13\u5b58 \n+\n+\n+\n+## \u56db \u8bbe\u8ba1\u539f\u7406\n+\n+### 1 \u7ed3\u679c\u7f13\u5b58 `result_cache`\n+\n+result_cache \u5206\u4e24\u5c42 \u7b2c\u4e00\u5c42\u4e3a result_cache_ttl \u7b2c\u4e8c\u5c42\u4e3a result_cache_version ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 85}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzIzODExOnYy", "diffSide": "RIGHT", "path": "docs/zh-CN/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzowNToyM1rOHIn7rA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzowNToyM1rOHIn7rA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgwNDkwOA==", "bodyText": "\u6bcf\u79cdcache\u6700\u597d\u7ed9\u4e0b \u5178\u578b\u7684\u5e94\u7528\u573a\u666f\u3002", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r478804908", "createdAt": "2020-08-28T03:05:23Z", "author": {"login": "kangkaisen"}, "path": "docs/zh-CN/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,184 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"zh-CN\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+# QUERY CACHE\n+\n+\n+\n+## \u4e00 \u9700\u6c42\n+\n+\u867d\u7136\u5728\u6570\u636e\u5e93\u5c42\u4e5f\u505a\u4e86\u5bf9\u5e94\u7684\u7f13\u5b58\uff0c\u4f46\u8fd9\u79cd\u6570\u636e\u5e93\u5c42\u6b21\u7684\u7f13\u5b58\u4e00\u822c\u9488\u5bf9\u7684\u662f\u67e5\u8be2\u5185\u5bb9\uff0c\u800c\u4e14\u7c92\u5ea6\u4e5f\u592a\u5c0f\uff0c\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u589e\u3001\u5220\u3001\u67e5\u3001\u6539\u7684\u5e9e\u5927IO\u538b\u529b\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f\u5728\u6b64\u8bde\u751f\uff0c\u5b9e\u73b0\u70ed\u70b9\u6570\u636e\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u63d0\u9ad8\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u6781\u5927\u7f13\u89e3\u540e\u7aef\u6570\u636e\u5e93\u7684\u538b\u529b\n+\n+- \u9ad8\u5e76\u53d1\u573a\u666f\n+  Doris\u53ef\u4ee5\u8f83\u597d\u7684\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u5355\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684QPS\n+\n+- \u590d\u6742\u56fe\u8868\u7684\u770b\u677f\n+  \u590d\u6742\u7684Dashboard\u6216\u8005\u5927\u5c4f\u7c7b\u5e94\u7528\uff0c\u6570\u636e\u6765\u81ea\u591a\u5f20\u8868\uff0c\u6bcf\u4e2a\u9875\u9762\u6709\u6570\u5341\u4e2a\u67e5\u8be2\uff0c\u867d\u7136\u6bcf\u4e2a\u67e5\u8be2\u53ea\u6709\u6570\u5341\u6beb\u79d2\uff0c\u4f46\u662f\u603b\u4f53\u67e5\u8be2\u65f6\u95f4\u4f1a\u5728\u6570\u79d2\n+\n+- \u8d8b\u52bf\u5206\u6790\n+  \u7ed9\u5b9a\u65e5\u671f\u8303\u56f4\u7684\u67e5\u8be2\uff0c\u6307\u6807\u6309\u65e5\u663e\u793a\uff0c\u6bd4\u5982\u67e5\u8be2\u6700\u8fd17\u5929\u5185\u7684\u7528\u6237\u6570\u7684\u8d8b\u52bf\uff0c\u8fd9\u7c7b\u67e5\u8be2\u6570\u636e\u91cf\u5927\uff0c\u67e5\u8be2\u8303\u56f4\u5e7f\uff0c\u67e5\u8be2\u65f6\u95f4\u5f80\u5f80\u9700\u8981\u6570\u5341\u79d2\n+\n+- \u7528\u6237\u91cd\u590d\u67e5\u8be2\n+  \u5982\u679c\u4ea7\u54c1\u6ca1\u6709\u9632\u91cd\u5237\u673a\u5236\uff0c\u7528\u6237\u56e0\u624b\u8bef\u6216\u5176\u4ed6\u539f\u56e0\u91cd\u590d\u5237\u65b0\u9875\u9762\uff0c\u5bfc\u81f4\u63d0\u4ea4\u5927\u91cf\u7684\u91cd\u590d\u7684SQL\n+\n+\n+\n+\u4ee5\u4e0a\u56db\u79cd\u573a\u666f\uff0c\u5728\u5e94\u7528\u5c42\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u628a\u67e5\u8be2\u7ed3\u679c\u653e\u5230Redis\u4e2d\uff0c\u5468\u671f\u6027\u7684\u66f4\u65b0\u7f13\u5b58\u6216\u8005\u7528\u6237\u624b\u5de5\u5237\u65b0\u7f13\u5b58\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u6709\u5982\u4e0b\u95ee\u9898\uff1a\n+\n+- \u6570\u636e\u4e0d\u4e00\u81f4\n+  \u65e0\u6cd5\u611f\u77e5\u6570\u636e\u7684\u66f4\u65b0\uff0c\u5bfc\u81f4\u7528\u6237\u7ecf\u5e38\u770b\u5230\u65e7\u7684\u6570\u636e\n+\n+- \u547d\u4e2d\u7387\u4f4e\n+  \u7f13\u5b58\u6574\u4e2a\u67e5\u8be2\u7ed3\u679c\uff0c\u5982\u679c\u6570\u636e\u5b9e\u65f6\u5199\u5165\uff0c\u7f13\u5b58\u9891\u7e41\u5931\u6548\uff0c\u547d\u4e2d\u7387\u4f4e\u4e14\u7cfb\u7edf\u8d1f\u8f7d\u8f83\u91cd\n+\n+- \u989d\u5916\u6210\u672c\n+  \u5f15\u5165\u5916\u90e8\u7f13\u5b58\u7ec4\u4ef6\uff0c\u4f1a\u5e26\u6765\u7cfb\u7edf\u590d\u6742\u5ea6\uff0c\u589e\u52a0\u989d\u5916\u6210\u672c\n+\n+\n+\n+## \u4e8c \u89e3\u51b3\u65b9\u6848\n+\n+\u76ee\u524d\u6211\u4eec\u8bbe\u8ba1\u51fa\u7ed3\u679c\u7f13\u5b58\u548c\u5206\u533a\u7f13\u5b58\u4e24\u4e2a\u6a21\u5757\n+\n+\n+\n+## \u4e09 \u540d\u8bcd\u89e3\u91ca\n+\n+1. \u7ed3\u679c\u7f13\u5b58 result_cache\n+\n+\u9488\u5bf9\u7528\u6237\u7684sql\u76f4\u63a5\u7f13\u5b58\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u5408\n+\n+\n+\n+2. \u5206\u533a\u7f13\u5b58 partition_cache\n+\n+\u5728partition\u7c92\u5ea6\u505a\u9488\u5bf9\u6bcf\u4e2a\u5206\u533a\u67e5\u8be2\u7684\u7ed3\u679c\u7f13\u5b58 \n+\n+\n+\n+## \u56db \u8bbe\u8ba1\u539f\u7406\n+\n+### 1 \u7ed3\u679c\u7f13\u5b58 `result_cache`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 83}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzYxMzE3OnYy", "diffSide": "RIGHT", "path": "docs/en/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNjozMzozOVrOHIrRQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNjoyNzo0N1rOHLdubA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg1OTU4NQ==", "bodyText": "However the data granularity in the cache is too slow and ...\nIs it slow or small?", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r478859585", "createdAt": "2020-08-28T06:33:39Z", "author": {"login": "WuZixing"}, "path": "docs/en/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,190 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"en\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+# QUERY CACHE\n+\n+\n+## \u4e00 Demond\n+\n+Usually, we have cache in the corresponding database layer which is focus on the query content.However the data granularity in the cache is too slow and it would have effect only when  data in the table didn't change.Obviously, it could not reduce the heavy IO load from the CRUD of the business system. So it comes the database caching technology, which could highspeed caching the hot data, improve the response speed of the application and greatly relieve the load of the backend database.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTc4MzQwNA==", "bodyText": "the data granularity in the cache is too slow", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r481783404", "createdAt": "2020-09-02T06:27:47Z", "author": {"login": "songenjie"}, "path": "docs/en/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,190 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"en\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+# QUERY CACHE\n+\n+\n+## \u4e00 Demond\n+\n+Usually, we have cache in the corresponding database layer which is focus on the query content.However the data granularity in the cache is too slow and it would have effect only when  data in the table didn't change.Obviously, it could not reduce the heavy IO load from the CRUD of the business system. So it comes the database caching technology, which could highspeed caching the hot data, improve the response speed of the application and greatly relieve the load of the backend database.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg1OTU4NQ=="}, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzYxNjY0OnYy", "diffSide": "RIGHT", "path": "docs/en/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNjozNTowOFrOHIrTTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNjozNTowOFrOHIrTTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg2MDExMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              It is not uncommon to see that,  data of the complex Dashboard and the lage screen applications come from many table together which have tens of queries in a single page.Even though every single query cost only few milliseconds, the total queries would cost seconds.\n          \n          \n            \n              It is not uncommon to see that,  data of the complex Dashboard and the large screen applications come from many table together which have tens of queries in a single page.Even though every single query cost only few milliseconds, the total queries would cost seconds.", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r478860111", "createdAt": "2020-08-28T06:35:08Z", "author": {"login": "WuZixing"}, "path": "docs/en/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,190 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"en\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+# QUERY CACHE\n+\n+\n+## \u4e00 Demond\n+\n+Usually, we have cache in the corresponding database layer which is focus on the query content.However the data granularity in the cache is too slow and it would have effect only when  data in the table didn't change.Obviously, it could not reduce the heavy IO load from the CRUD of the business system. So it comes the database caching technology, which could highspeed caching the hot data, improve the response speed of the application and greatly relieve the load of the backend database.\n+\n+- High concurrency scenarios\n+  Doris have a well support for high concurrency while single sever is unable to load too high QPS.\n+\n+\n+\n+- Complex Graph Dashboard\n+  It is not uncommon to see that,  data of the complex Dashboard and the lage screen applications come from many table together which have tens of queries in a single page.Even though every single query cost only few milliseconds, the total queries would cost seconds.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzYzNDk2OnYy", "diffSide": "RIGHT", "path": "docs/en/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNjo0Mjo0OFrOHIreSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNjo0Mjo0OFrOHIreSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg2MjkyMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ## \u4e00 Demond\n          \n          \n            \n            ## 1 Demand\n          \n      \n    \n    \n  \n\nMixing Chinese and English is a little bit weird...", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r478862923", "createdAt": "2020-08-28T06:42:48Z", "author": {"login": "WuZixing"}, "path": "docs/en/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,190 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"en\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+# QUERY CACHE\n+\n+\n+## \u4e00 Demond", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzYzNjI4OnYy", "diffSide": "RIGHT", "path": "docs/en/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNjo0MzoxN1rOHIrfDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNjo0MzoxN1rOHIrfDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg2MzExOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              In some scenarios, the queries are in a given date range , the index is shown by date.For example, we want to query the treend of the number of user in the last 7 days.This type of queries has a large amount of data and a wide range of fields, and the queries often takes tens of seconds.\n          \n          \n            \n              In some scenarios, the queries are in a given date range , the index is shown by date.For example, we want to query the trend of the number of user in the last 7 days.This type of queries has a large amount of data and a wide range of fields, and the queries often takes tens of seconds.", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r478863119", "createdAt": "2020-08-28T06:43:17Z", "author": {"login": "WuZixing"}, "path": "docs/en/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,190 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"en\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+# QUERY CACHE\n+\n+\n+## \u4e00 Demond\n+\n+Usually, we have cache in the corresponding database layer which is focus on the query content.However the data granularity in the cache is too slow and it would have effect only when  data in the table didn't change.Obviously, it could not reduce the heavy IO load from the CRUD of the business system. So it comes the database caching technology, which could highspeed caching the hot data, improve the response speed of the application and greatly relieve the load of the backend database.\n+\n+- High concurrency scenarios\n+  Doris have a well support for high concurrency while single sever is unable to load too high QPS.\n+\n+\n+\n+- Complex Graph Dashboard\n+  It is not uncommon to see that,  data of the complex Dashboard and the lage screen applications come from many table together which have tens of queries in a single page.Even though every single query cost only few milliseconds, the total queries would cost seconds.\n+  \n+\n+- Trend Analysis\n+  In some scenarios, the queries are in a given date range , the index is shown by date.For example, we want to query the treend of the number of user in the last 7 days.This type of queries has a large amount of data and a wide range of fields, and the queries often takes tens of seconds.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzY1ODkwOnYy", "diffSide": "RIGHT", "path": "docs/en/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNjo1MjoyM1rOHIrsbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNjo1MjoyM1rOHIrsbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg2NjU0Mw==", "bodyText": "The first layer is result_ cache_ The second layer of TTL is result_ cache_ version\nWhat do these underscore suffixes mean? Are they result_cache without separated space?", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r478866543", "createdAt": "2020-08-28T06:52:23Z", "author": {"login": "WuZixing"}, "path": "docs/en/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,190 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"en\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+# QUERY CACHE\n+\n+\n+## \u4e00 Demond\n+\n+Usually, we have cache in the corresponding database layer which is focus on the query content.However the data granularity in the cache is too slow and it would have effect only when  data in the table didn't change.Obviously, it could not reduce the heavy IO load from the CRUD of the business system. So it comes the database caching technology, which could highspeed caching the hot data, improve the response speed of the application and greatly relieve the load of the backend database.\n+\n+- High concurrency scenarios\n+  Doris have a well support for high concurrency while single sever is unable to load too high QPS.\n+\n+\n+\n+- Complex Graph Dashboard\n+  It is not uncommon to see that,  data of the complex Dashboard and the lage screen applications come from many table together which have tens of queries in a single page.Even though every single query cost only few milliseconds, the total queries would cost seconds.\n+  \n+\n+- Trend Analysis\n+  In some scenarios, the queries are in a given date range , the index is shown by date.For example, we want to query the treend of the number of user in the last 7 days.This type of queries has a large amount of data and a wide range of fields, and the queries often takes tens of seconds.\n+\n+\n+- User repeated query\n+  If the product does not have an anti-re-flash mechanism, the user accidentally  refreshes the page repeatedly due many reasons, which resulting in submitting a large number of repeated SQL\n+\n+\n+\n+In the above four scenarios, we have solutions at the application layer. We put the result of queries in the Redis and  update the cache periodically or the user update the cache manually.However, this solution has the following problems:\n+\n+\n+\n+- Inconsistence of data , we are unable to sense the update of data, causing users to often see old data\n+\n+- Low hit rate, we usually cache the whole result of query.If the data is writed real-time, we would often failed in cache, resulting in low hit rate and overload for the system.\n+\n+- Extra Cost we introduce external cache components, which will bring system complexity and increase additional costs.\n+\n+\n+\n+## \u4e8c Solutions\n+\n+At present, we design two modules: result cache and partition cache\n+\n+\n+\n+## \u4e09 Explanation of terms\n+\n+1. result cache\n+\n+SQL directly caches the result collection of queries for users\n+\n+\n+\n+2. partition cache\n+\n+In the partition granularity, cache the results of each partition query\n+\n+\n+\n+## \u56db Design\n+\n+### 1 `result cache`\n+\n+result_cache is divided into two layers. The first layer is result_ cache_ The second layer of TTL is result_ cache_ version", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 88}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzcwNzgzOnYy", "diffSide": "RIGHT", "path": "docs/en/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNzoxMDo0OVrOHIsJUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNzoxMDo0OVrOHIsJUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg3MzkzOQ==", "bodyText": "... data can be cached for more than 2 years. If you want to keep the cache for a longer time, ....\nI am not very clear about why count of cached partitions can affect the lifetime of the cache.", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r478873939", "createdAt": "2020-08-28T07:10:49Z", "author": {"login": "WuZixing"}, "path": "docs/en/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,190 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"en\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+# QUERY CACHE\n+\n+\n+## \u4e00 Demond\n+\n+Usually, we have cache in the corresponding database layer which is focus on the query content.However the data granularity in the cache is too slow and it would have effect only when  data in the table didn't change.Obviously, it could not reduce the heavy IO load from the CRUD of the business system. So it comes the database caching technology, which could highspeed caching the hot data, improve the response speed of the application and greatly relieve the load of the backend database.\n+\n+- High concurrency scenarios\n+  Doris have a well support for high concurrency while single sever is unable to load too high QPS.\n+\n+\n+\n+- Complex Graph Dashboard\n+  It is not uncommon to see that,  data of the complex Dashboard and the lage screen applications come from many table together which have tens of queries in a single page.Even though every single query cost only few milliseconds, the total queries would cost seconds.\n+  \n+\n+- Trend Analysis\n+  In some scenarios, the queries are in a given date range , the index is shown by date.For example, we want to query the treend of the number of user in the last 7 days.This type of queries has a large amount of data and a wide range of fields, and the queries often takes tens of seconds.\n+\n+\n+- User repeated query\n+  If the product does not have an anti-re-flash mechanism, the user accidentally  refreshes the page repeatedly due many reasons, which resulting in submitting a large number of repeated SQL\n+\n+\n+\n+In the above four scenarios, we have solutions at the application layer. We put the result of queries in the Redis and  update the cache periodically or the user update the cache manually.However, this solution has the following problems:\n+\n+\n+\n+- Inconsistence of data , we are unable to sense the update of data, causing users to often see old data\n+\n+- Low hit rate, we usually cache the whole result of query.If the data is writed real-time, we would often failed in cache, resulting in low hit rate and overload for the system.\n+\n+- Extra Cost we introduce external cache components, which will bring system complexity and increase additional costs.\n+\n+\n+\n+## \u4e8c Solutions\n+\n+At present, we design two modules: result cache and partition cache\n+\n+\n+\n+## \u4e09 Explanation of terms\n+\n+1. result cache\n+\n+SQL directly caches the result collection of queries for users\n+\n+\n+\n+2. partition cache\n+\n+In the partition granularity, cache the results of each partition query\n+\n+\n+\n+## \u56db Design\n+\n+### 1 `result cache`\n+\n+result_cache is divided into two layers. The first layer is result_ cache_ The second layer of TTL is result_ cache_ version\n+\n+\n+\n+#### `result_cache_ttl`\n+\n+result_ cache_ ttl  variable is set in the user session. The user can customize whether to turn it on or not. The TTL time is used to determine whether the user's SQL uses cache. The correctness of the data is not guaranteed when the data is changed`\n+\n+\n+\n+The cache is stored and retrieved according to the user connected and the query SQL. If it exceeds the cache expiration time, the cache will not be hit and the cache will be cleaned\n+\n+\n+\n+#### ` result_cache_version`\n+\n+result_ cache_ version stores and fetches the cache according to the signature of SQL, partition ID of the query table, latest version of partition. The combination of the three determines a cache dataset. If any one of them changes, such as SQL changes, query fields or conditions are not the same, or the version after data update changes, the cache will not be hit.\n+\n+\n+\n+If multiple tables are joined, the latest partition ID and the latest version number are used. If one of the tables is updated, the partition ID or version number will be different, and the cache will not be hit.\n+\n+\n+\n+### 2 `partition_cache`\n+\n+1. SQL can be split in parallel\uff0cQ = Q1 \u222a Q2 ... \u222a Qn\uff0cR= R1 \u222a R2 ... \u222a Rn\uff0cQ is the query statement and R is the result set\n+\n+2. Split into read-only partition and updatable partition, read-only partition cache, update partition not cache\n+\n+\n+\n+## \u4e94 parameter\n+\n+###  fe\n+\n+- Cache switch\n+\n+```\n+enable_result_cache_ttl\n+\n+enable_result_cache_version\n+\n+enable_partition_cache\n+```\n+\n+- Whether each query is cached or not\n+\n+```\n+cache_per_query_max_row_count\n+\n+cache_per_query_max_size_in_bytes\n+```\n+\n+- result cache til\n+\n+```\n+result_cache_ttl_in_milliseconds\n+```\n+\n+\n+\n+### be\n+\n+- Be maximum number of partitions cache_ max_ partition_ Count refers to the maximum number of partitions corresponding to each SQL. If the partition is based on date, the data can be cached for more than 2 years. If you want to keep the cache for a longer time, please set this parameter larger and modify the cache_ result_ max_ row_ Count parameter.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 152}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5ODI0NjUwOnYy", "diffSide": "RIGHT", "path": "docs/zh-CN/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwMzo0MDozMVrOHJYmMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwMzo0MDozMVrOHJYmMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYwMjIyNQ==", "bodyText": "\u867d\u7136\u5728\u6570\u636e\u5e93\u5c42  ->  \u867d\u7136\u5728\u6570\u636e\u5e93\u5b58\u50a8\u5c42?\n\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528 -> \u67e5\u8be2\u7ed3\u679c\u7684\u9ad8\u901f\u7f13\u5b58\u7684\u5b9e\u73b0\u65b9\u6848\u4e5f\u662f\u9700\u8981\u6570\u636e\u6ca1\u6709\u53d8\u66f4?\n\u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u589e\u3001\u5220\u3001\u67e5\u3001\u6539\u7684\u5e9e\u5927IO\u538b\u529b -> \u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u589e\u5220\u6539\u67e5\u6240\u5e26\u6765\u7684\u5e9e\u5927\u7684IO\u538b\u529b?\n\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f \u5728\u6b64\u8bde\u751f,  -> \u6570\u636e\u5e93\u8ba1\u7b97\u5c42\u7684\u7f13\u5b58\u6280\u672f?\n\u5b9e\u73b0\u70ed\u70b9\u6570\u636e  ->  \u5b9e\u73b0\u67e5\u8be2\u7ed3\u679c??", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r479602225", "createdAt": "2020-08-29T03:40:31Z", "author": {"login": "caiconghui"}, "path": "docs/zh-CN/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,184 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"zh-CN\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+# QUERY CACHE\n+\n+\n+\n+## \u4e00 \u9700\u6c42\n+\n+\u867d\u7136\u5728\u6570\u636e\u5e93\u5c42\u4e5f\u505a\u4e86\u5bf9\u5e94\u7684\u7f13\u5b58\uff0c\u4f46\u8fd9\u79cd\u6570\u636e\u5e93\u5c42\u6b21\u7684\u7f13\u5b58\u4e00\u822c\u9488\u5bf9\u7684\u662f\u67e5\u8be2\u5185\u5bb9\uff0c\u800c\u4e14\u7c92\u5ea6\u4e5f\u592a\u5c0f\uff0c\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u589e\u3001\u5220\u3001\u67e5\u3001\u6539\u7684\u5e9e\u5927IO\u538b\u529b\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f\u5728\u6b64\u8bde\u751f\uff0c\u5b9e\u73b0\u70ed\u70b9\u6570\u636e\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u63d0\u9ad8\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u6781\u5927\u7f13\u89e3\u540e\u7aef\u6570\u636e\u5e93\u7684\u538b\u529b", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5ODI0NzAzOnYy", "diffSide": "RIGHT", "path": "docs/zh-CN/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwMzo0MToyNVrOHJYmbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwMzo0MToyNVrOHJYmbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYwMjI4NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              Doris\u53ef\u4ee5\u8f83\u597d\u7684\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u5355\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684QPS\n          \n          \n            \n              Doris\u53ef\u4ee5\u8f83\u597d\u5730\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u5355\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684QPS", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r479602284", "createdAt": "2020-08-29T03:41:25Z", "author": {"login": "caiconghui"}, "path": "docs/zh-CN/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,184 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"zh-CN\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+# QUERY CACHE\n+\n+\n+\n+## \u4e00 \u9700\u6c42\n+\n+\u867d\u7136\u5728\u6570\u636e\u5e93\u5c42\u4e5f\u505a\u4e86\u5bf9\u5e94\u7684\u7f13\u5b58\uff0c\u4f46\u8fd9\u79cd\u6570\u636e\u5e93\u5c42\u6b21\u7684\u7f13\u5b58\u4e00\u822c\u9488\u5bf9\u7684\u662f\u67e5\u8be2\u5185\u5bb9\uff0c\u800c\u4e14\u7c92\u5ea6\u4e5f\u592a\u5c0f\uff0c\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u589e\u3001\u5220\u3001\u67e5\u3001\u6539\u7684\u5e9e\u5927IO\u538b\u529b\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f\u5728\u6b64\u8bde\u751f\uff0c\u5b9e\u73b0\u70ed\u70b9\u6570\u636e\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u63d0\u9ad8\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u6781\u5927\u7f13\u89e3\u540e\u7aef\u6570\u636e\u5e93\u7684\u538b\u529b\n+\n+- \u9ad8\u5e76\u53d1\u573a\u666f\n+  Doris\u53ef\u4ee5\u8f83\u597d\u7684\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u5355\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684QPS", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5ODI0ODY4OnYy", "diffSide": "RIGHT", "path": "docs/zh-CN/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwMzo0Mzo0N1rOHJYnKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwMzo0Mzo0N1rOHJYnKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYwMjQ3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u4ee5\u4e0a\u56db\u79cd\u573a\u666f\uff0c\u5728\u5e94\u7528\u5c42\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u628a\u67e5\u8be2\u7ed3\u679c\u653e\u5230Redis\u4e2d\uff0c\u5468\u671f\u6027\u7684\u66f4\u65b0\u7f13\u5b58\u6216\u8005\u7528\u6237\u624b\u5de5\u5237\u65b0\u7f13\u5b58\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u6709\u5982\u4e0b\u95ee\u9898\uff1a\n          \n          \n            \n            \u4ee5\u4e0a\u56db\u79cd\u573a\u666f\uff0c\u4e00\u79cd\u5728\u5e94\u7528\u5c42\u7684\u89e3\u51b3\u65b9\u6848\u662f\u628a\u67e5\u8be2\u7ed3\u679c\u653e\u5230Redis\u4e2d\uff0c\u5468\u671f\u6027\u5730\u66f4\u65b0\u7f13\u5b58\u6216\u8005\u7528\u6237\u624b\u52a8\u5237\u65b0\u7f13\u5b58\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u6709\u5982\u4e0b\u95ee\u9898\uff1a", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r479602472", "createdAt": "2020-08-29T03:43:47Z", "author": {"login": "caiconghui"}, "path": "docs/zh-CN/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,184 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"zh-CN\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+# QUERY CACHE\n+\n+\n+\n+## \u4e00 \u9700\u6c42\n+\n+\u867d\u7136\u5728\u6570\u636e\u5e93\u5c42\u4e5f\u505a\u4e86\u5bf9\u5e94\u7684\u7f13\u5b58\uff0c\u4f46\u8fd9\u79cd\u6570\u636e\u5e93\u5c42\u6b21\u7684\u7f13\u5b58\u4e00\u822c\u9488\u5bf9\u7684\u662f\u67e5\u8be2\u5185\u5bb9\uff0c\u800c\u4e14\u7c92\u5ea6\u4e5f\u592a\u5c0f\uff0c\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u589e\u3001\u5220\u3001\u67e5\u3001\u6539\u7684\u5e9e\u5927IO\u538b\u529b\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f\u5728\u6b64\u8bde\u751f\uff0c\u5b9e\u73b0\u70ed\u70b9\u6570\u636e\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u63d0\u9ad8\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u6781\u5927\u7f13\u89e3\u540e\u7aef\u6570\u636e\u5e93\u7684\u538b\u529b\n+\n+- \u9ad8\u5e76\u53d1\u573a\u666f\n+  Doris\u53ef\u4ee5\u8f83\u597d\u7684\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u5355\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684QPS\n+\n+- \u590d\u6742\u56fe\u8868\u7684\u770b\u677f\n+  \u590d\u6742\u7684Dashboard\u6216\u8005\u5927\u5c4f\u7c7b\u5e94\u7528\uff0c\u6570\u636e\u6765\u81ea\u591a\u5f20\u8868\uff0c\u6bcf\u4e2a\u9875\u9762\u6709\u6570\u5341\u4e2a\u67e5\u8be2\uff0c\u867d\u7136\u6bcf\u4e2a\u67e5\u8be2\u53ea\u6709\u6570\u5341\u6beb\u79d2\uff0c\u4f46\u662f\u603b\u4f53\u67e5\u8be2\u65f6\u95f4\u4f1a\u5728\u6570\u79d2\n+\n+- \u8d8b\u52bf\u5206\u6790\n+  \u7ed9\u5b9a\u65e5\u671f\u8303\u56f4\u7684\u67e5\u8be2\uff0c\u6307\u6807\u6309\u65e5\u663e\u793a\uff0c\u6bd4\u5982\u67e5\u8be2\u6700\u8fd17\u5929\u5185\u7684\u7528\u6237\u6570\u7684\u8d8b\u52bf\uff0c\u8fd9\u7c7b\u67e5\u8be2\u6570\u636e\u91cf\u5927\uff0c\u67e5\u8be2\u8303\u56f4\u5e7f\uff0c\u67e5\u8be2\u65f6\u95f4\u5f80\u5f80\u9700\u8981\u6570\u5341\u79d2\n+\n+- \u7528\u6237\u91cd\u590d\u67e5\u8be2\n+  \u5982\u679c\u4ea7\u54c1\u6ca1\u6709\u9632\u91cd\u5237\u673a\u5236\uff0c\u7528\u6237\u56e0\u624b\u8bef\u6216\u5176\u4ed6\u539f\u56e0\u91cd\u590d\u5237\u65b0\u9875\u9762\uff0c\u5bfc\u81f4\u63d0\u4ea4\u5927\u91cf\u7684\u91cd\u590d\u7684SQL\n+\n+\n+\n+\u4ee5\u4e0a\u56db\u79cd\u573a\u666f\uff0c\u5728\u5e94\u7528\u5c42\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u628a\u67e5\u8be2\u7ed3\u679c\u653e\u5230Redis\u4e2d\uff0c\u5468\u671f\u6027\u7684\u66f4\u65b0\u7f13\u5b58\u6216\u8005\u7528\u6237\u624b\u5de5\u5237\u65b0\u7f13\u5b58\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u6709\u5982\u4e0b\u95ee\u9898\uff1a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1c85c003a93e873b503f8b5a7a7737fc046921"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1OTE3NjM1OnYy", "diffSide": "RIGHT", "path": "docs/en/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMTozOToyNVrOHg_HhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMTozOToyNVrOHg_HhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDM1MDU5Nw==", "bodyText": "don`t mix use \u4e00\u4e8c\u4e09\u56db in en doc", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r504350597", "createdAt": "2020-10-14T01:39:25Z", "author": {"login": "yangzhg"}, "path": "docs/en/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,190 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"en\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+# QUERY CACHE\n+\n+\n+## \u4e00 Demond\n+\n+Usually, we have cache in the corresponding database layer which is focus on the query content.However the data granularity in the cache is too slow and it would have effect only when  data in the table didn't change.Obviously, it could not reduce the heavy IO load from the CRUD of the business system. So it comes the database caching technology, which could highspeed caching the hot data, improve the response speed of the application and greatly relieve the load of the backend database.\n+\n+- High concurrency scenarios\n+  Doris have a well support for high concurrency while single sever is unable to load too high QPS.\n+\n+\n+\n+- Complex Graph Dashboard\n+  It is not uncommon to see that,  data of the complex Dashboard and the lage screen applications come from many table together which have tens of queries in a single page.Even though every single query cost only few milliseconds, the total queries would cost seconds.\n+  \n+\n+- Trend Analysis\n+  In some scenarios, the queries are in a given date range , the index is shown by date.For example, we want to query the treend of the number of user in the last 7 days.This type of queries has a large amount of data and a wide range of fields, and the queries often takes tens of seconds.\n+\n+\n+- User repeated query\n+  If the product does not have an anti-re-flash mechanism, the user accidentally  refreshes the page repeatedly due many reasons, which resulting in submitting a large number of repeated SQL\n+\n+\n+\n+In the above four scenarios, we have solutions at the application layer. We put the result of queries in the Redis and  update the cache periodically or the user update the cache manually.However, this solution has the following problems:\n+\n+\n+\n+- Inconsistence of data , we are unable to sense the update of data, causing users to often see old data\n+\n+- Low hit rate, we usually cache the whole result of query.If the data is writed real-time, we would often failed in cache, resulting in low hit rate and overload for the system.\n+\n+- Extra Cost we introduce external cache components, which will bring system complexity and increase additional costs.\n+\n+\n+\n+## \u4e8c Solutions", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60ebbd3cbbe0b021599b7a652f1cd86f3ab34338"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NDgwNjM5OnYy", "diffSide": "RIGHT", "path": "docs/zh-CN/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QwODowNjo1NFrOHjYsWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwODoyNzowNVrOHowQTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjg2Njc3Ng==", "bodyText": "\u8fd9\u91cc\u5e76\u6ca1\u6709\u592a\u7406\u89e3\uff0c\u80fd\u4e3e\u4f8b\u4e00\u4e2aSQL\u8bf4\u660e\u5417\uff1f\n1\u3001\u4f55\u79cdSQL\u80fd\u5e94\u7528\u5206\u533a\u7f13\u5b58\u529f\u80fd\n2\u3001\u4f55\u79cdSQL\u6216\u8005\u64cd\u4f5c\u53ef\u80fd\u5bfc\u81f4\u5206\u533a\u7f13\u5b58\u529f\u80fd\u5931\u6548\n3\u3001\u7f13\u5b58\u7684\u662f\u5206\u533a\u6570\u636e\uff0c\u8fd8\u662f\u7ed3\u679c\u96c6\u6570\u636e\u3002\u5e0c\u671b\u53ef\u4ee5\u7b80\u8981\u4ecb\u7ecd\u4e0b\u539f\u7406\n4\u3001result_cache_ttl\u7f13\u5b58\u7b56\u7565\u548cresult_cache_version\u7f13\u5b58\u7b56\u7565\u95f4\u662f\u4ec0\u4e48\u5173\u7cfb\uff1f\u4e92\u65a5\u7684\uff0c\u8fd8\u662f\u4e92\u76f8\u517c\u5bb9\u7684", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r506866776", "createdAt": "2020-10-17T08:06:54Z", "author": {"login": "HangyuanLiu"}, "path": "docs/zh-CN/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,183 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"zh-CN\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+# QUERY CACHE\n+\n+\n+\n+## \u4e00 \u9700\u6c42\n+\n+\u867d\u7136\u5728\u6570\u636e\u5e93\u5c42\u4e5f\u505a\u4e86\u5bf9\u5e94\u7684\u7f13\u5b58\uff0c\u4f46\u8fd9\u79cd\u6570\u636e\u5e93\u5c42\u6b21\u7684\u7f13\u5b58\u4e00\u822c\u9488\u5bf9\u7684\u662f\u67e5\u8be2\u5185\u5bb9\uff0c\u800c\u4e14\u7c92\u5ea6\u4e5f\u592a\u5c0f\uff0c\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u589e\u3001\u5220\u3001\u67e5\u3001\u6539\u7684\u5e9e\u5927IO\u538b\u529b\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f\u5728\u6b64\u8bde\u751f\uff0c\u5b9e\u73b0\u70ed\u70b9\u6570\u636e\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u63d0\u9ad8\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u6781\u5927\u7f13\u89e3\u540e\u7aef\u6570\u636e\u5e93\u7684\u538b\u529b\n+\n+- \u9ad8\u5e76\u53d1\u573a\u666f\n+  Doris\u53ef\u4ee5\u8f83\u597d\u5730\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u5355\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684QPS\n+\n+- \u590d\u6742\u56fe\u8868\u7684\u770b\u677f\n+  \u590d\u6742\u7684Dashboard\u6216\u8005\u5927\u5c4f\u7c7b\u5e94\u7528\uff0c\u6570\u636e\u6765\u81ea\u591a\u5f20\u8868\uff0c\u6bcf\u4e2a\u9875\u9762\u6709\u6570\u5341\u4e2a\u67e5\u8be2\uff0c\u867d\u7136\u6bcf\u4e2a\u67e5\u8be2\u53ea\u6709\u6570\u5341\u6beb\u79d2\uff0c\u4f46\u662f\u603b\u4f53\u67e5\u8be2\u65f6\u95f4\u4f1a\u5728\u6570\u79d2\n+\n+- \u8d8b\u52bf\u5206\u6790\n+  \u7ed9\u5b9a\u65e5\u671f\u8303\u56f4\u7684\u67e5\u8be2\uff0c\u6307\u6807\u6309\u65e5\u663e\u793a\uff0c\u6bd4\u5982\u67e5\u8be2\u6700\u8fd17\u5929\u5185\u7684\u7528\u6237\u6570\u7684\u8d8b\u52bf\uff0c\u8fd9\u7c7b\u67e5\u8be2\u6570\u636e\u91cf\u5927\uff0c\u67e5\u8be2\u8303\u56f4\u5e7f\uff0c\u67e5\u8be2\u65f6\u95f4\u5f80\u5f80\u9700\u8981\u6570\u5341\u79d2\n+\n+- \u7528\u6237\u91cd\u590d\u67e5\u8be2\n+  \u5982\u679c\u4ea7\u54c1\u6ca1\u6709\u9632\u91cd\u5237\u673a\u5236\uff0c\u7528\u6237\u56e0\u624b\u8bef\u6216\u5176\u4ed6\u539f\u56e0\u91cd\u590d\u5237\u65b0\u9875\u9762\uff0c\u5bfc\u81f4\u63d0\u4ea4\u5927\u91cf\u7684\u91cd\u590d\u7684SQL\n+\n+\n+\n+\u4ee5\u4e0a\u56db\u79cd\u573a\u666f\uff0c\u4e00\u79cd\u5728\u5e94\u7528\u5c42\u7684\u89e3\u51b3\u65b9\u6848\u662f\u628a\u67e5\u8be2\u7ed3\u679c\u653e\u5230Redis\u4e2d\uff0c\u5468\u671f\u6027\u5730\u66f4\u65b0\u7f13\u5b58\u6216\u8005\u7528\u6237\u624b\u52a8\u5237\u65b0\u7f13\u5b58\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u6709\u5982\u4e0b\u95ee\u9898\uff1a\n+\n+- \u6570\u636e\u4e0d\u4e00\u81f4\n+  \u65e0\u6cd5\u611f\u77e5\u6570\u636e\u7684\u66f4\u65b0\uff0c\u5bfc\u81f4\u7528\u6237\u7ecf\u5e38\u770b\u5230\u65e7\u7684\u6570\u636e\n+\n+- \u547d\u4e2d\u7387\u4f4e\n+  \u7f13\u5b58\u6574\u4e2a\u67e5\u8be2\u7ed3\u679c\uff0c\u5982\u679c\u6570\u636e\u5b9e\u65f6\u5199\u5165\uff0c\u7f13\u5b58\u9891\u7e41\u5931\u6548\uff0c\u547d\u4e2d\u7387\u4f4e\u4e14\u7cfb\u7edf\u8d1f\u8f7d\u8f83\u91cd\n+\n+- \u989d\u5916\u6210\u672c\n+  \u5f15\u5165\u5916\u90e8\u7f13\u5b58\u7ec4\u4ef6\uff0c\u4f1a\u5e26\u6765\u7cfb\u7edf\u590d\u6742\u5ea6\uff0c\u589e\u52a0\u989d\u5916\u6210\u672c\n+\n+\n+\n+## \u4e8c \u89e3\u51b3\u65b9\u6848\n+\n+\u76ee\u524d\u6211\u4eec\u8bbe\u8ba1\u51fa\u7ed3\u679c\u7f13\u5b58\u548c\u5206\u533a\u7f13\u5b58\u4e24\u4e2a\u6a21\u5757\n+\n+\n+\n+## \u4e09 \u540d\u8bcd\u89e3\u91ca\n+\n+1. \u7ed3\u679c\u7f13\u5b58 result_cache\n+\n+\u9488\u5bf9\u7528\u6237\u7684sql\u76f4\u63a5\u7f13\u5b58\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u5408\n+\n+\n+\n+2. \u5206\u533a\u7f13\u5b58 partition_cache\n+\n+\u5728partition\u7c92\u5ea6\u505a\u9488\u5bf9\u6bcf\u4e2a\u5206\u533a\u67e5\u8be2\u7684\u7ed3\u679c\u7f13\u5b58 \n+\n+\n+\n+## \u56db \u8bbe\u8ba1\u539f\u7406\n+\n+### 1 \u7ed3\u679c\u7f13\u5b58 `result_cache`\n+\n+result_cache \u5206\u4e24\u5c42 \u7b2c\u4e00\u5c42\u4e3a result_cache_ttl \u7b2c\u4e8c\u5c42\u4e3a result_cache_version \n+\n+\n+\n+#### `result_cache_ttl`\n+\n+result_cache_ttl \u53d8\u91cf\u8bbe\u7f6e\u5728\u7528\u6237Session\u4e2d\uff0c\u7528\u6237\u53ef\u81ea\u5b9a\u4e49\u662f\u5426\u5f00\u542f,\u901a\u8fc7ttl\u65f6\u95f4\u6765\u786e\u5b9a\u7528\u6237\u7684sql\u662f\u5426\u4f7f\u7528\u7f13\u5b58\uff0c`\u8fd9\u91cc\u6570\u636e\u53d8\u66f4\u65f6\u4e0d\u4fdd\u8bc1\u6570\u636e\u7684\u6b63\u786e\u6027`\n+\n+\u6309\u7167 \u7528\u6237 connectid,\u548c\u67e5\u8be2\u7684sql \u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\uff0c\u8d85\u8fc7\u7f13\u5b58\u5931\u6548\u65f6\u95f4\u5219\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\uff0c\u8be5\u7f13\u5b58\u4e5f\u4f1a\u88ab\u6e05\u7406\n+\n+\n+\n+#### ` result_cache_version`\n+\n+result_cache_version \u6309SQL\u7684\u7b7e\u540d\u3001\u67e5\u8be2\u7684\u8868\u7684\u5206\u533aID\u3001\u5206\u533a\u6700\u65b0\u7248\u672c\u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\u3002\u4e09\u8005\u7ec4\u5408\u786e\u5b9a\u4e00\u4e2a\u7f13\u5b58\u6570\u636e\u96c6\uff0c\u4efb\u4f55\u4e00\u4e2a\u53d8\u5316\u4e86\uff0c\u5982SQL\u6709\u53d8\u5316\uff0c\u5982\u67e5\u8be2\u5b57\u6bb5\u6216\u6761\u4ef6\u4e0d\u4e00\u6837\uff0c\u6216\u6570\u636e\u66f4\u65b0\u540e\u7248\u672c\u53d8\u5316\u4e86\uff0c\u4f1a\u5bfc\u81f4\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\u3002\n+\n+\u5982\u679c\u591a\u5f20\u8868Join\uff0c\u4f7f\u7528\u6700\u8fd1\u66f4\u65b0\u7684\u5206\u533aID\u548c\u6700\u65b0\u7684\u7248\u672c\u53f7\uff0c\u5982\u679c\u5176\u4e2d\u4e00\u5f20\u8868\u66f4\u65b0\u4e86\uff0c\u4f1a\u5bfc\u81f4\u5206\u533aID\u6216\u7248\u672c\u53f7\u4e0d\u4e00\u6837\uff0c\u4e5f\u4e00\u6837\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\u3002\n+\n+\n+\n+### 2 \u5206\u533a\u7f13\u5b58 `partition_cache`\n+\n+1. SQL\u53ef\u4ee5\u5e76\u884c\u62c6\u5206\uff0cQ = Q1 \u222a Q2 ... \u222a Qn\uff0cR= R1 \u222a R2 ... \u222a Rn\uff0cQ\u4e3a\u67e5\u8be2\u8bed\u53e5\uff0cR\u4e3a\u7ed3\u679c\u96c6", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60ebbd3cbbe0b021599b7a652f1cd86f3ab34338"}, "originalPosition": 107}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjQ5NTY5Mg==", "bodyText": "\u5206\u533a\u7f13\u5b58\uff0c\u5373\u7528\u6237\u6309\u7167\u5929\u7ef4\u5ea6\u67e5\u8be2\u7684\uff0c\u67e5\u8be2\u7684\u5206\u533a\u6570\u636e\uff0c\u6ca1\u6709\u65b0\u7684\u6570\u636e\u5bfc\u5165\uff0c\u5373\u547d\u4e2d partition cache\n\u5206\u533a\u7f13\u5b58\u5931\u6548\uff0c\u7f13\u5b58\u7ed3\u679c\u6240\u5728\u7684\u5206\u533a\u6709\u65b0\u7684\u6570\u636e\u5bfc\u5165\n\u7f13\u5b58\u7684\u7ed3\u679c\u96c6\u6570\u636e\nversion \u9488\u5bf9\u5f53\u524d\u8868\u6ca1\u6709\u6570\u636e\u53d8\u66f4\u751f\u6548\uff0cttl \u4e0d\u4fdd\u8bc1\u6570\u636e\u7684\u51c6\u786e\u6027\uff0c\u65b0\u6570\u636e\u5bfc\u5165\uff0c\u5728ttl\u65f6\u95f4\u5185\uff0c\u4ecd\u7136\u4f1a\u547d\u4e2d", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r512495692", "createdAt": "2020-10-27T08:27:05Z", "author": {"login": "songenjie"}, "path": "docs/zh-CN/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,183 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"zh-CN\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+# QUERY CACHE\n+\n+\n+\n+## \u4e00 \u9700\u6c42\n+\n+\u867d\u7136\u5728\u6570\u636e\u5e93\u5c42\u4e5f\u505a\u4e86\u5bf9\u5e94\u7684\u7f13\u5b58\uff0c\u4f46\u8fd9\u79cd\u6570\u636e\u5e93\u5c42\u6b21\u7684\u7f13\u5b58\u4e00\u822c\u9488\u5bf9\u7684\u662f\u67e5\u8be2\u5185\u5bb9\uff0c\u800c\u4e14\u7c92\u5ea6\u4e5f\u592a\u5c0f\uff0c\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u589e\u3001\u5220\u3001\u67e5\u3001\u6539\u7684\u5e9e\u5927IO\u538b\u529b\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f\u5728\u6b64\u8bde\u751f\uff0c\u5b9e\u73b0\u70ed\u70b9\u6570\u636e\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u63d0\u9ad8\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u6781\u5927\u7f13\u89e3\u540e\u7aef\u6570\u636e\u5e93\u7684\u538b\u529b\n+\n+- \u9ad8\u5e76\u53d1\u573a\u666f\n+  Doris\u53ef\u4ee5\u8f83\u597d\u5730\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u5355\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684QPS\n+\n+- \u590d\u6742\u56fe\u8868\u7684\u770b\u677f\n+  \u590d\u6742\u7684Dashboard\u6216\u8005\u5927\u5c4f\u7c7b\u5e94\u7528\uff0c\u6570\u636e\u6765\u81ea\u591a\u5f20\u8868\uff0c\u6bcf\u4e2a\u9875\u9762\u6709\u6570\u5341\u4e2a\u67e5\u8be2\uff0c\u867d\u7136\u6bcf\u4e2a\u67e5\u8be2\u53ea\u6709\u6570\u5341\u6beb\u79d2\uff0c\u4f46\u662f\u603b\u4f53\u67e5\u8be2\u65f6\u95f4\u4f1a\u5728\u6570\u79d2\n+\n+- \u8d8b\u52bf\u5206\u6790\n+  \u7ed9\u5b9a\u65e5\u671f\u8303\u56f4\u7684\u67e5\u8be2\uff0c\u6307\u6807\u6309\u65e5\u663e\u793a\uff0c\u6bd4\u5982\u67e5\u8be2\u6700\u8fd17\u5929\u5185\u7684\u7528\u6237\u6570\u7684\u8d8b\u52bf\uff0c\u8fd9\u7c7b\u67e5\u8be2\u6570\u636e\u91cf\u5927\uff0c\u67e5\u8be2\u8303\u56f4\u5e7f\uff0c\u67e5\u8be2\u65f6\u95f4\u5f80\u5f80\u9700\u8981\u6570\u5341\u79d2\n+\n+- \u7528\u6237\u91cd\u590d\u67e5\u8be2\n+  \u5982\u679c\u4ea7\u54c1\u6ca1\u6709\u9632\u91cd\u5237\u673a\u5236\uff0c\u7528\u6237\u56e0\u624b\u8bef\u6216\u5176\u4ed6\u539f\u56e0\u91cd\u590d\u5237\u65b0\u9875\u9762\uff0c\u5bfc\u81f4\u63d0\u4ea4\u5927\u91cf\u7684\u91cd\u590d\u7684SQL\n+\n+\n+\n+\u4ee5\u4e0a\u56db\u79cd\u573a\u666f\uff0c\u4e00\u79cd\u5728\u5e94\u7528\u5c42\u7684\u89e3\u51b3\u65b9\u6848\u662f\u628a\u67e5\u8be2\u7ed3\u679c\u653e\u5230Redis\u4e2d\uff0c\u5468\u671f\u6027\u5730\u66f4\u65b0\u7f13\u5b58\u6216\u8005\u7528\u6237\u624b\u52a8\u5237\u65b0\u7f13\u5b58\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u6709\u5982\u4e0b\u95ee\u9898\uff1a\n+\n+- \u6570\u636e\u4e0d\u4e00\u81f4\n+  \u65e0\u6cd5\u611f\u77e5\u6570\u636e\u7684\u66f4\u65b0\uff0c\u5bfc\u81f4\u7528\u6237\u7ecf\u5e38\u770b\u5230\u65e7\u7684\u6570\u636e\n+\n+- \u547d\u4e2d\u7387\u4f4e\n+  \u7f13\u5b58\u6574\u4e2a\u67e5\u8be2\u7ed3\u679c\uff0c\u5982\u679c\u6570\u636e\u5b9e\u65f6\u5199\u5165\uff0c\u7f13\u5b58\u9891\u7e41\u5931\u6548\uff0c\u547d\u4e2d\u7387\u4f4e\u4e14\u7cfb\u7edf\u8d1f\u8f7d\u8f83\u91cd\n+\n+- \u989d\u5916\u6210\u672c\n+  \u5f15\u5165\u5916\u90e8\u7f13\u5b58\u7ec4\u4ef6\uff0c\u4f1a\u5e26\u6765\u7cfb\u7edf\u590d\u6742\u5ea6\uff0c\u589e\u52a0\u989d\u5916\u6210\u672c\n+\n+\n+\n+## \u4e8c \u89e3\u51b3\u65b9\u6848\n+\n+\u76ee\u524d\u6211\u4eec\u8bbe\u8ba1\u51fa\u7ed3\u679c\u7f13\u5b58\u548c\u5206\u533a\u7f13\u5b58\u4e24\u4e2a\u6a21\u5757\n+\n+\n+\n+## \u4e09 \u540d\u8bcd\u89e3\u91ca\n+\n+1. \u7ed3\u679c\u7f13\u5b58 result_cache\n+\n+\u9488\u5bf9\u7528\u6237\u7684sql\u76f4\u63a5\u7f13\u5b58\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u5408\n+\n+\n+\n+2. \u5206\u533a\u7f13\u5b58 partition_cache\n+\n+\u5728partition\u7c92\u5ea6\u505a\u9488\u5bf9\u6bcf\u4e2a\u5206\u533a\u67e5\u8be2\u7684\u7ed3\u679c\u7f13\u5b58 \n+\n+\n+\n+## \u56db \u8bbe\u8ba1\u539f\u7406\n+\n+### 1 \u7ed3\u679c\u7f13\u5b58 `result_cache`\n+\n+result_cache \u5206\u4e24\u5c42 \u7b2c\u4e00\u5c42\u4e3a result_cache_ttl \u7b2c\u4e8c\u5c42\u4e3a result_cache_version \n+\n+\n+\n+#### `result_cache_ttl`\n+\n+result_cache_ttl \u53d8\u91cf\u8bbe\u7f6e\u5728\u7528\u6237Session\u4e2d\uff0c\u7528\u6237\u53ef\u81ea\u5b9a\u4e49\u662f\u5426\u5f00\u542f,\u901a\u8fc7ttl\u65f6\u95f4\u6765\u786e\u5b9a\u7528\u6237\u7684sql\u662f\u5426\u4f7f\u7528\u7f13\u5b58\uff0c`\u8fd9\u91cc\u6570\u636e\u53d8\u66f4\u65f6\u4e0d\u4fdd\u8bc1\u6570\u636e\u7684\u6b63\u786e\u6027`\n+\n+\u6309\u7167 \u7528\u6237 connectid,\u548c\u67e5\u8be2\u7684sql \u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\uff0c\u8d85\u8fc7\u7f13\u5b58\u5931\u6548\u65f6\u95f4\u5219\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\uff0c\u8be5\u7f13\u5b58\u4e5f\u4f1a\u88ab\u6e05\u7406\n+\n+\n+\n+#### ` result_cache_version`\n+\n+result_cache_version \u6309SQL\u7684\u7b7e\u540d\u3001\u67e5\u8be2\u7684\u8868\u7684\u5206\u533aID\u3001\u5206\u533a\u6700\u65b0\u7248\u672c\u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\u3002\u4e09\u8005\u7ec4\u5408\u786e\u5b9a\u4e00\u4e2a\u7f13\u5b58\u6570\u636e\u96c6\uff0c\u4efb\u4f55\u4e00\u4e2a\u53d8\u5316\u4e86\uff0c\u5982SQL\u6709\u53d8\u5316\uff0c\u5982\u67e5\u8be2\u5b57\u6bb5\u6216\u6761\u4ef6\u4e0d\u4e00\u6837\uff0c\u6216\u6570\u636e\u66f4\u65b0\u540e\u7248\u672c\u53d8\u5316\u4e86\uff0c\u4f1a\u5bfc\u81f4\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\u3002\n+\n+\u5982\u679c\u591a\u5f20\u8868Join\uff0c\u4f7f\u7528\u6700\u8fd1\u66f4\u65b0\u7684\u5206\u533aID\u548c\u6700\u65b0\u7684\u7248\u672c\u53f7\uff0c\u5982\u679c\u5176\u4e2d\u4e00\u5f20\u8868\u66f4\u65b0\u4e86\uff0c\u4f1a\u5bfc\u81f4\u5206\u533aID\u6216\u7248\u672c\u53f7\u4e0d\u4e00\u6837\uff0c\u4e5f\u4e00\u6837\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\u3002\n+\n+\n+\n+### 2 \u5206\u533a\u7f13\u5b58 `partition_cache`\n+\n+1. SQL\u53ef\u4ee5\u5e76\u884c\u62c6\u5206\uff0cQ = Q1 \u222a Q2 ... \u222a Qn\uff0cR= R1 \u222a R2 ... \u222a Rn\uff0cQ\u4e3a\u67e5\u8be2\u8bed\u53e5\uff0cR\u4e3a\u7ed3\u679c\u96c6", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjg2Njc3Ng=="}, "originalCommit": {"oid": "60ebbd3cbbe0b021599b7a652f1cd86f3ab34338"}, "originalPosition": 107}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NDgyNDA0OnYy", "diffSide": "RIGHT", "path": "docs/zh-CN/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QwODowOTo0MVrOHjY4Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwODozNDoxNlrOHowhXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjg2OTg1OQ==", "bodyText": "\u4ee5\u4e0b\u53c2\u6570\u662fconfig\u53c2\u6570\u8fd8\u662fvariable\u53c2\u6570\u3002\u5e0c\u671b\u80fd\u591f\u8bf4\u660e", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r506869859", "createdAt": "2020-10-17T08:09:41Z", "author": {"login": "HangyuanLiu"}, "path": "docs/zh-CN/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,183 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"zh-CN\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+# QUERY CACHE\n+\n+\n+\n+## \u4e00 \u9700\u6c42\n+\n+\u867d\u7136\u5728\u6570\u636e\u5e93\u5c42\u4e5f\u505a\u4e86\u5bf9\u5e94\u7684\u7f13\u5b58\uff0c\u4f46\u8fd9\u79cd\u6570\u636e\u5e93\u5c42\u6b21\u7684\u7f13\u5b58\u4e00\u822c\u9488\u5bf9\u7684\u662f\u67e5\u8be2\u5185\u5bb9\uff0c\u800c\u4e14\u7c92\u5ea6\u4e5f\u592a\u5c0f\uff0c\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u589e\u3001\u5220\u3001\u67e5\u3001\u6539\u7684\u5e9e\u5927IO\u538b\u529b\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f\u5728\u6b64\u8bde\u751f\uff0c\u5b9e\u73b0\u70ed\u70b9\u6570\u636e\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u63d0\u9ad8\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u6781\u5927\u7f13\u89e3\u540e\u7aef\u6570\u636e\u5e93\u7684\u538b\u529b\n+\n+- \u9ad8\u5e76\u53d1\u573a\u666f\n+  Doris\u53ef\u4ee5\u8f83\u597d\u5730\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u5355\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684QPS\n+\n+- \u590d\u6742\u56fe\u8868\u7684\u770b\u677f\n+  \u590d\u6742\u7684Dashboard\u6216\u8005\u5927\u5c4f\u7c7b\u5e94\u7528\uff0c\u6570\u636e\u6765\u81ea\u591a\u5f20\u8868\uff0c\u6bcf\u4e2a\u9875\u9762\u6709\u6570\u5341\u4e2a\u67e5\u8be2\uff0c\u867d\u7136\u6bcf\u4e2a\u67e5\u8be2\u53ea\u6709\u6570\u5341\u6beb\u79d2\uff0c\u4f46\u662f\u603b\u4f53\u67e5\u8be2\u65f6\u95f4\u4f1a\u5728\u6570\u79d2\n+\n+- \u8d8b\u52bf\u5206\u6790\n+  \u7ed9\u5b9a\u65e5\u671f\u8303\u56f4\u7684\u67e5\u8be2\uff0c\u6307\u6807\u6309\u65e5\u663e\u793a\uff0c\u6bd4\u5982\u67e5\u8be2\u6700\u8fd17\u5929\u5185\u7684\u7528\u6237\u6570\u7684\u8d8b\u52bf\uff0c\u8fd9\u7c7b\u67e5\u8be2\u6570\u636e\u91cf\u5927\uff0c\u67e5\u8be2\u8303\u56f4\u5e7f\uff0c\u67e5\u8be2\u65f6\u95f4\u5f80\u5f80\u9700\u8981\u6570\u5341\u79d2\n+\n+- \u7528\u6237\u91cd\u590d\u67e5\u8be2\n+  \u5982\u679c\u4ea7\u54c1\u6ca1\u6709\u9632\u91cd\u5237\u673a\u5236\uff0c\u7528\u6237\u56e0\u624b\u8bef\u6216\u5176\u4ed6\u539f\u56e0\u91cd\u590d\u5237\u65b0\u9875\u9762\uff0c\u5bfc\u81f4\u63d0\u4ea4\u5927\u91cf\u7684\u91cd\u590d\u7684SQL\n+\n+\n+\n+\u4ee5\u4e0a\u56db\u79cd\u573a\u666f\uff0c\u4e00\u79cd\u5728\u5e94\u7528\u5c42\u7684\u89e3\u51b3\u65b9\u6848\u662f\u628a\u67e5\u8be2\u7ed3\u679c\u653e\u5230Redis\u4e2d\uff0c\u5468\u671f\u6027\u5730\u66f4\u65b0\u7f13\u5b58\u6216\u8005\u7528\u6237\u624b\u52a8\u5237\u65b0\u7f13\u5b58\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u6709\u5982\u4e0b\u95ee\u9898\uff1a\n+\n+- \u6570\u636e\u4e0d\u4e00\u81f4\n+  \u65e0\u6cd5\u611f\u77e5\u6570\u636e\u7684\u66f4\u65b0\uff0c\u5bfc\u81f4\u7528\u6237\u7ecf\u5e38\u770b\u5230\u65e7\u7684\u6570\u636e\n+\n+- \u547d\u4e2d\u7387\u4f4e\n+  \u7f13\u5b58\u6574\u4e2a\u67e5\u8be2\u7ed3\u679c\uff0c\u5982\u679c\u6570\u636e\u5b9e\u65f6\u5199\u5165\uff0c\u7f13\u5b58\u9891\u7e41\u5931\u6548\uff0c\u547d\u4e2d\u7387\u4f4e\u4e14\u7cfb\u7edf\u8d1f\u8f7d\u8f83\u91cd\n+\n+- \u989d\u5916\u6210\u672c\n+  \u5f15\u5165\u5916\u90e8\u7f13\u5b58\u7ec4\u4ef6\uff0c\u4f1a\u5e26\u6765\u7cfb\u7edf\u590d\u6742\u5ea6\uff0c\u589e\u52a0\u989d\u5916\u6210\u672c\n+\n+\n+\n+## \u4e8c \u89e3\u51b3\u65b9\u6848\n+\n+\u76ee\u524d\u6211\u4eec\u8bbe\u8ba1\u51fa\u7ed3\u679c\u7f13\u5b58\u548c\u5206\u533a\u7f13\u5b58\u4e24\u4e2a\u6a21\u5757\n+\n+\n+\n+## \u4e09 \u540d\u8bcd\u89e3\u91ca\n+\n+1. \u7ed3\u679c\u7f13\u5b58 result_cache\n+\n+\u9488\u5bf9\u7528\u6237\u7684sql\u76f4\u63a5\u7f13\u5b58\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u5408\n+\n+\n+\n+2. \u5206\u533a\u7f13\u5b58 partition_cache\n+\n+\u5728partition\u7c92\u5ea6\u505a\u9488\u5bf9\u6bcf\u4e2a\u5206\u533a\u67e5\u8be2\u7684\u7ed3\u679c\u7f13\u5b58 \n+\n+\n+\n+## \u56db \u8bbe\u8ba1\u539f\u7406\n+\n+### 1 \u7ed3\u679c\u7f13\u5b58 `result_cache`\n+\n+result_cache \u5206\u4e24\u5c42 \u7b2c\u4e00\u5c42\u4e3a result_cache_ttl \u7b2c\u4e8c\u5c42\u4e3a result_cache_version \n+\n+\n+\n+#### `result_cache_ttl`\n+\n+result_cache_ttl \u53d8\u91cf\u8bbe\u7f6e\u5728\u7528\u6237Session\u4e2d\uff0c\u7528\u6237\u53ef\u81ea\u5b9a\u4e49\u662f\u5426\u5f00\u542f,\u901a\u8fc7ttl\u65f6\u95f4\u6765\u786e\u5b9a\u7528\u6237\u7684sql\u662f\u5426\u4f7f\u7528\u7f13\u5b58\uff0c`\u8fd9\u91cc\u6570\u636e\u53d8\u66f4\u65f6\u4e0d\u4fdd\u8bc1\u6570\u636e\u7684\u6b63\u786e\u6027`\n+\n+\u6309\u7167 \u7528\u6237 connectid,\u548c\u67e5\u8be2\u7684sql \u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\uff0c\u8d85\u8fc7\u7f13\u5b58\u5931\u6548\u65f6\u95f4\u5219\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\uff0c\u8be5\u7f13\u5b58\u4e5f\u4f1a\u88ab\u6e05\u7406\n+\n+\n+\n+#### ` result_cache_version`\n+\n+result_cache_version \u6309SQL\u7684\u7b7e\u540d\u3001\u67e5\u8be2\u7684\u8868\u7684\u5206\u533aID\u3001\u5206\u533a\u6700\u65b0\u7248\u672c\u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\u3002\u4e09\u8005\u7ec4\u5408\u786e\u5b9a\u4e00\u4e2a\u7f13\u5b58\u6570\u636e\u96c6\uff0c\u4efb\u4f55\u4e00\u4e2a\u53d8\u5316\u4e86\uff0c\u5982SQL\u6709\u53d8\u5316\uff0c\u5982\u67e5\u8be2\u5b57\u6bb5\u6216\u6761\u4ef6\u4e0d\u4e00\u6837\uff0c\u6216\u6570\u636e\u66f4\u65b0\u540e\u7248\u672c\u53d8\u5316\u4e86\uff0c\u4f1a\u5bfc\u81f4\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\u3002\n+\n+\u5982\u679c\u591a\u5f20\u8868Join\uff0c\u4f7f\u7528\u6700\u8fd1\u66f4\u65b0\u7684\u5206\u533aID\u548c\u6700\u65b0\u7684\u7248\u672c\u53f7\uff0c\u5982\u679c\u5176\u4e2d\u4e00\u5f20\u8868\u66f4\u65b0\u4e86\uff0c\u4f1a\u5bfc\u81f4\u5206\u533aID\u6216\u7248\u672c\u53f7\u4e0d\u4e00\u6837\uff0c\u4e5f\u4e00\u6837\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\u3002\n+\n+\n+\n+### 2 \u5206\u533a\u7f13\u5b58 `partition_cache`\n+\n+1. SQL\u53ef\u4ee5\u5e76\u884c\u62c6\u5206\uff0cQ = Q1 \u222a Q2 ... \u222a Qn\uff0cR= R1 \u222a R2 ... \u222a Rn\uff0cQ\u4e3a\u67e5\u8be2\u8bed\u53e5\uff0cR\u4e3a\u7ed3\u679c\u96c6\n+\n+2. \u62c6\u5206\u4e3a\u53ea\u8bfb\u5206\u533a\u548c\u53ef\u66f4\u65b0\u5206\u533a\uff0c\u53ea\u8bfb\u5206\u533a\u7f13\u5b58\uff0c\u66f4\u65b0\u5206\u533a\u4e0d\u7f13\u5b58\n+\n+\n+\n+## \u4e94 \u53c2\u6570\n+\n+###  fe\n+\n+- cache \u5f00\u5173\n+\n+```\n+enable_result_cache_ttl", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60ebbd3cbbe0b021599b7a652f1cd86f3ab34338"}, "originalPosition": 120}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjQ5NjIyOA==", "bodyText": "\u90fd\u662f", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r512496228", "createdAt": "2020-10-27T08:27:52Z", "author": {"login": "songenjie"}, "path": "docs/zh-CN/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,183 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"zh-CN\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+# QUERY CACHE\n+\n+\n+\n+## \u4e00 \u9700\u6c42\n+\n+\u867d\u7136\u5728\u6570\u636e\u5e93\u5c42\u4e5f\u505a\u4e86\u5bf9\u5e94\u7684\u7f13\u5b58\uff0c\u4f46\u8fd9\u79cd\u6570\u636e\u5e93\u5c42\u6b21\u7684\u7f13\u5b58\u4e00\u822c\u9488\u5bf9\u7684\u662f\u67e5\u8be2\u5185\u5bb9\uff0c\u800c\u4e14\u7c92\u5ea6\u4e5f\u592a\u5c0f\uff0c\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u589e\u3001\u5220\u3001\u67e5\u3001\u6539\u7684\u5e9e\u5927IO\u538b\u529b\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f\u5728\u6b64\u8bde\u751f\uff0c\u5b9e\u73b0\u70ed\u70b9\u6570\u636e\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u63d0\u9ad8\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u6781\u5927\u7f13\u89e3\u540e\u7aef\u6570\u636e\u5e93\u7684\u538b\u529b\n+\n+- \u9ad8\u5e76\u53d1\u573a\u666f\n+  Doris\u53ef\u4ee5\u8f83\u597d\u5730\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u5355\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684QPS\n+\n+- \u590d\u6742\u56fe\u8868\u7684\u770b\u677f\n+  \u590d\u6742\u7684Dashboard\u6216\u8005\u5927\u5c4f\u7c7b\u5e94\u7528\uff0c\u6570\u636e\u6765\u81ea\u591a\u5f20\u8868\uff0c\u6bcf\u4e2a\u9875\u9762\u6709\u6570\u5341\u4e2a\u67e5\u8be2\uff0c\u867d\u7136\u6bcf\u4e2a\u67e5\u8be2\u53ea\u6709\u6570\u5341\u6beb\u79d2\uff0c\u4f46\u662f\u603b\u4f53\u67e5\u8be2\u65f6\u95f4\u4f1a\u5728\u6570\u79d2\n+\n+- \u8d8b\u52bf\u5206\u6790\n+  \u7ed9\u5b9a\u65e5\u671f\u8303\u56f4\u7684\u67e5\u8be2\uff0c\u6307\u6807\u6309\u65e5\u663e\u793a\uff0c\u6bd4\u5982\u67e5\u8be2\u6700\u8fd17\u5929\u5185\u7684\u7528\u6237\u6570\u7684\u8d8b\u52bf\uff0c\u8fd9\u7c7b\u67e5\u8be2\u6570\u636e\u91cf\u5927\uff0c\u67e5\u8be2\u8303\u56f4\u5e7f\uff0c\u67e5\u8be2\u65f6\u95f4\u5f80\u5f80\u9700\u8981\u6570\u5341\u79d2\n+\n+- \u7528\u6237\u91cd\u590d\u67e5\u8be2\n+  \u5982\u679c\u4ea7\u54c1\u6ca1\u6709\u9632\u91cd\u5237\u673a\u5236\uff0c\u7528\u6237\u56e0\u624b\u8bef\u6216\u5176\u4ed6\u539f\u56e0\u91cd\u590d\u5237\u65b0\u9875\u9762\uff0c\u5bfc\u81f4\u63d0\u4ea4\u5927\u91cf\u7684\u91cd\u590d\u7684SQL\n+\n+\n+\n+\u4ee5\u4e0a\u56db\u79cd\u573a\u666f\uff0c\u4e00\u79cd\u5728\u5e94\u7528\u5c42\u7684\u89e3\u51b3\u65b9\u6848\u662f\u628a\u67e5\u8be2\u7ed3\u679c\u653e\u5230Redis\u4e2d\uff0c\u5468\u671f\u6027\u5730\u66f4\u65b0\u7f13\u5b58\u6216\u8005\u7528\u6237\u624b\u52a8\u5237\u65b0\u7f13\u5b58\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u6709\u5982\u4e0b\u95ee\u9898\uff1a\n+\n+- \u6570\u636e\u4e0d\u4e00\u81f4\n+  \u65e0\u6cd5\u611f\u77e5\u6570\u636e\u7684\u66f4\u65b0\uff0c\u5bfc\u81f4\u7528\u6237\u7ecf\u5e38\u770b\u5230\u65e7\u7684\u6570\u636e\n+\n+- \u547d\u4e2d\u7387\u4f4e\n+  \u7f13\u5b58\u6574\u4e2a\u67e5\u8be2\u7ed3\u679c\uff0c\u5982\u679c\u6570\u636e\u5b9e\u65f6\u5199\u5165\uff0c\u7f13\u5b58\u9891\u7e41\u5931\u6548\uff0c\u547d\u4e2d\u7387\u4f4e\u4e14\u7cfb\u7edf\u8d1f\u8f7d\u8f83\u91cd\n+\n+- \u989d\u5916\u6210\u672c\n+  \u5f15\u5165\u5916\u90e8\u7f13\u5b58\u7ec4\u4ef6\uff0c\u4f1a\u5e26\u6765\u7cfb\u7edf\u590d\u6742\u5ea6\uff0c\u589e\u52a0\u989d\u5916\u6210\u672c\n+\n+\n+\n+## \u4e8c \u89e3\u51b3\u65b9\u6848\n+\n+\u76ee\u524d\u6211\u4eec\u8bbe\u8ba1\u51fa\u7ed3\u679c\u7f13\u5b58\u548c\u5206\u533a\u7f13\u5b58\u4e24\u4e2a\u6a21\u5757\n+\n+\n+\n+## \u4e09 \u540d\u8bcd\u89e3\u91ca\n+\n+1. \u7ed3\u679c\u7f13\u5b58 result_cache\n+\n+\u9488\u5bf9\u7528\u6237\u7684sql\u76f4\u63a5\u7f13\u5b58\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u5408\n+\n+\n+\n+2. \u5206\u533a\u7f13\u5b58 partition_cache\n+\n+\u5728partition\u7c92\u5ea6\u505a\u9488\u5bf9\u6bcf\u4e2a\u5206\u533a\u67e5\u8be2\u7684\u7ed3\u679c\u7f13\u5b58 \n+\n+\n+\n+## \u56db \u8bbe\u8ba1\u539f\u7406\n+\n+### 1 \u7ed3\u679c\u7f13\u5b58 `result_cache`\n+\n+result_cache \u5206\u4e24\u5c42 \u7b2c\u4e00\u5c42\u4e3a result_cache_ttl \u7b2c\u4e8c\u5c42\u4e3a result_cache_version \n+\n+\n+\n+#### `result_cache_ttl`\n+\n+result_cache_ttl \u53d8\u91cf\u8bbe\u7f6e\u5728\u7528\u6237Session\u4e2d\uff0c\u7528\u6237\u53ef\u81ea\u5b9a\u4e49\u662f\u5426\u5f00\u542f,\u901a\u8fc7ttl\u65f6\u95f4\u6765\u786e\u5b9a\u7528\u6237\u7684sql\u662f\u5426\u4f7f\u7528\u7f13\u5b58\uff0c`\u8fd9\u91cc\u6570\u636e\u53d8\u66f4\u65f6\u4e0d\u4fdd\u8bc1\u6570\u636e\u7684\u6b63\u786e\u6027`\n+\n+\u6309\u7167 \u7528\u6237 connectid,\u548c\u67e5\u8be2\u7684sql \u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\uff0c\u8d85\u8fc7\u7f13\u5b58\u5931\u6548\u65f6\u95f4\u5219\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\uff0c\u8be5\u7f13\u5b58\u4e5f\u4f1a\u88ab\u6e05\u7406\n+\n+\n+\n+#### ` result_cache_version`\n+\n+result_cache_version \u6309SQL\u7684\u7b7e\u540d\u3001\u67e5\u8be2\u7684\u8868\u7684\u5206\u533aID\u3001\u5206\u533a\u6700\u65b0\u7248\u672c\u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\u3002\u4e09\u8005\u7ec4\u5408\u786e\u5b9a\u4e00\u4e2a\u7f13\u5b58\u6570\u636e\u96c6\uff0c\u4efb\u4f55\u4e00\u4e2a\u53d8\u5316\u4e86\uff0c\u5982SQL\u6709\u53d8\u5316\uff0c\u5982\u67e5\u8be2\u5b57\u6bb5\u6216\u6761\u4ef6\u4e0d\u4e00\u6837\uff0c\u6216\u6570\u636e\u66f4\u65b0\u540e\u7248\u672c\u53d8\u5316\u4e86\uff0c\u4f1a\u5bfc\u81f4\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\u3002\n+\n+\u5982\u679c\u591a\u5f20\u8868Join\uff0c\u4f7f\u7528\u6700\u8fd1\u66f4\u65b0\u7684\u5206\u533aID\u548c\u6700\u65b0\u7684\u7248\u672c\u53f7\uff0c\u5982\u679c\u5176\u4e2d\u4e00\u5f20\u8868\u66f4\u65b0\u4e86\uff0c\u4f1a\u5bfc\u81f4\u5206\u533aID\u6216\u7248\u672c\u53f7\u4e0d\u4e00\u6837\uff0c\u4e5f\u4e00\u6837\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\u3002\n+\n+\n+\n+### 2 \u5206\u533a\u7f13\u5b58 `partition_cache`\n+\n+1. SQL\u53ef\u4ee5\u5e76\u884c\u62c6\u5206\uff0cQ = Q1 \u222a Q2 ... \u222a Qn\uff0cR= R1 \u222a R2 ... \u222a Rn\uff0cQ\u4e3a\u67e5\u8be2\u8bed\u53e5\uff0cR\u4e3a\u7ed3\u679c\u96c6\n+\n+2. \u62c6\u5206\u4e3a\u53ea\u8bfb\u5206\u533a\u548c\u53ef\u66f4\u65b0\u5206\u533a\uff0c\u53ea\u8bfb\u5206\u533a\u7f13\u5b58\uff0c\u66f4\u65b0\u5206\u533a\u4e0d\u7f13\u5b58\n+\n+\n+\n+## \u4e94 \u53c2\u6570\n+\n+###  fe\n+\n+- cache \u5f00\u5173\n+\n+```\n+enable_result_cache_ttl", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjg2OTg1OQ=="}, "originalCommit": {"oid": "60ebbd3cbbe0b021599b7a652f1cd86f3ab34338"}, "originalPosition": 120}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjUwMDA2MQ==", "bodyText": "MySQL [(none)]> show variables;\n+-------------------------------------+-------------------------+\n| Variable_name                       | Value                   |\n+-------------------------------------+-------------------------+\n| enable_result_cache_ttl             | false                   |\n| enable_result_cache_version         | false                   |\n| enable_partition_cache              | true                    |", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r512500061", "createdAt": "2020-10-27T08:34:16Z", "author": {"login": "songenjie"}, "path": "docs/zh-CN/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,183 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"zh-CN\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+# QUERY CACHE\n+\n+\n+\n+## \u4e00 \u9700\u6c42\n+\n+\u867d\u7136\u5728\u6570\u636e\u5e93\u5c42\u4e5f\u505a\u4e86\u5bf9\u5e94\u7684\u7f13\u5b58\uff0c\u4f46\u8fd9\u79cd\u6570\u636e\u5e93\u5c42\u6b21\u7684\u7f13\u5b58\u4e00\u822c\u9488\u5bf9\u7684\u662f\u67e5\u8be2\u5185\u5bb9\uff0c\u800c\u4e14\u7c92\u5ea6\u4e5f\u592a\u5c0f\uff0c\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u589e\u3001\u5220\u3001\u67e5\u3001\u6539\u7684\u5e9e\u5927IO\u538b\u529b\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f\u5728\u6b64\u8bde\u751f\uff0c\u5b9e\u73b0\u70ed\u70b9\u6570\u636e\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u63d0\u9ad8\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u6781\u5927\u7f13\u89e3\u540e\u7aef\u6570\u636e\u5e93\u7684\u538b\u529b\n+\n+- \u9ad8\u5e76\u53d1\u573a\u666f\n+  Doris\u53ef\u4ee5\u8f83\u597d\u5730\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u5355\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684QPS\n+\n+- \u590d\u6742\u56fe\u8868\u7684\u770b\u677f\n+  \u590d\u6742\u7684Dashboard\u6216\u8005\u5927\u5c4f\u7c7b\u5e94\u7528\uff0c\u6570\u636e\u6765\u81ea\u591a\u5f20\u8868\uff0c\u6bcf\u4e2a\u9875\u9762\u6709\u6570\u5341\u4e2a\u67e5\u8be2\uff0c\u867d\u7136\u6bcf\u4e2a\u67e5\u8be2\u53ea\u6709\u6570\u5341\u6beb\u79d2\uff0c\u4f46\u662f\u603b\u4f53\u67e5\u8be2\u65f6\u95f4\u4f1a\u5728\u6570\u79d2\n+\n+- \u8d8b\u52bf\u5206\u6790\n+  \u7ed9\u5b9a\u65e5\u671f\u8303\u56f4\u7684\u67e5\u8be2\uff0c\u6307\u6807\u6309\u65e5\u663e\u793a\uff0c\u6bd4\u5982\u67e5\u8be2\u6700\u8fd17\u5929\u5185\u7684\u7528\u6237\u6570\u7684\u8d8b\u52bf\uff0c\u8fd9\u7c7b\u67e5\u8be2\u6570\u636e\u91cf\u5927\uff0c\u67e5\u8be2\u8303\u56f4\u5e7f\uff0c\u67e5\u8be2\u65f6\u95f4\u5f80\u5f80\u9700\u8981\u6570\u5341\u79d2\n+\n+- \u7528\u6237\u91cd\u590d\u67e5\u8be2\n+  \u5982\u679c\u4ea7\u54c1\u6ca1\u6709\u9632\u91cd\u5237\u673a\u5236\uff0c\u7528\u6237\u56e0\u624b\u8bef\u6216\u5176\u4ed6\u539f\u56e0\u91cd\u590d\u5237\u65b0\u9875\u9762\uff0c\u5bfc\u81f4\u63d0\u4ea4\u5927\u91cf\u7684\u91cd\u590d\u7684SQL\n+\n+\n+\n+\u4ee5\u4e0a\u56db\u79cd\u573a\u666f\uff0c\u4e00\u79cd\u5728\u5e94\u7528\u5c42\u7684\u89e3\u51b3\u65b9\u6848\u662f\u628a\u67e5\u8be2\u7ed3\u679c\u653e\u5230Redis\u4e2d\uff0c\u5468\u671f\u6027\u5730\u66f4\u65b0\u7f13\u5b58\u6216\u8005\u7528\u6237\u624b\u52a8\u5237\u65b0\u7f13\u5b58\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u6709\u5982\u4e0b\u95ee\u9898\uff1a\n+\n+- \u6570\u636e\u4e0d\u4e00\u81f4\n+  \u65e0\u6cd5\u611f\u77e5\u6570\u636e\u7684\u66f4\u65b0\uff0c\u5bfc\u81f4\u7528\u6237\u7ecf\u5e38\u770b\u5230\u65e7\u7684\u6570\u636e\n+\n+- \u547d\u4e2d\u7387\u4f4e\n+  \u7f13\u5b58\u6574\u4e2a\u67e5\u8be2\u7ed3\u679c\uff0c\u5982\u679c\u6570\u636e\u5b9e\u65f6\u5199\u5165\uff0c\u7f13\u5b58\u9891\u7e41\u5931\u6548\uff0c\u547d\u4e2d\u7387\u4f4e\u4e14\u7cfb\u7edf\u8d1f\u8f7d\u8f83\u91cd\n+\n+- \u989d\u5916\u6210\u672c\n+  \u5f15\u5165\u5916\u90e8\u7f13\u5b58\u7ec4\u4ef6\uff0c\u4f1a\u5e26\u6765\u7cfb\u7edf\u590d\u6742\u5ea6\uff0c\u589e\u52a0\u989d\u5916\u6210\u672c\n+\n+\n+\n+## \u4e8c \u89e3\u51b3\u65b9\u6848\n+\n+\u76ee\u524d\u6211\u4eec\u8bbe\u8ba1\u51fa\u7ed3\u679c\u7f13\u5b58\u548c\u5206\u533a\u7f13\u5b58\u4e24\u4e2a\u6a21\u5757\n+\n+\n+\n+## \u4e09 \u540d\u8bcd\u89e3\u91ca\n+\n+1. \u7ed3\u679c\u7f13\u5b58 result_cache\n+\n+\u9488\u5bf9\u7528\u6237\u7684sql\u76f4\u63a5\u7f13\u5b58\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u5408\n+\n+\n+\n+2. \u5206\u533a\u7f13\u5b58 partition_cache\n+\n+\u5728partition\u7c92\u5ea6\u505a\u9488\u5bf9\u6bcf\u4e2a\u5206\u533a\u67e5\u8be2\u7684\u7ed3\u679c\u7f13\u5b58 \n+\n+\n+\n+## \u56db \u8bbe\u8ba1\u539f\u7406\n+\n+### 1 \u7ed3\u679c\u7f13\u5b58 `result_cache`\n+\n+result_cache \u5206\u4e24\u5c42 \u7b2c\u4e00\u5c42\u4e3a result_cache_ttl \u7b2c\u4e8c\u5c42\u4e3a result_cache_version \n+\n+\n+\n+#### `result_cache_ttl`\n+\n+result_cache_ttl \u53d8\u91cf\u8bbe\u7f6e\u5728\u7528\u6237Session\u4e2d\uff0c\u7528\u6237\u53ef\u81ea\u5b9a\u4e49\u662f\u5426\u5f00\u542f,\u901a\u8fc7ttl\u65f6\u95f4\u6765\u786e\u5b9a\u7528\u6237\u7684sql\u662f\u5426\u4f7f\u7528\u7f13\u5b58\uff0c`\u8fd9\u91cc\u6570\u636e\u53d8\u66f4\u65f6\u4e0d\u4fdd\u8bc1\u6570\u636e\u7684\u6b63\u786e\u6027`\n+\n+\u6309\u7167 \u7528\u6237 connectid,\u548c\u67e5\u8be2\u7684sql \u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\uff0c\u8d85\u8fc7\u7f13\u5b58\u5931\u6548\u65f6\u95f4\u5219\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\uff0c\u8be5\u7f13\u5b58\u4e5f\u4f1a\u88ab\u6e05\u7406\n+\n+\n+\n+#### ` result_cache_version`\n+\n+result_cache_version \u6309SQL\u7684\u7b7e\u540d\u3001\u67e5\u8be2\u7684\u8868\u7684\u5206\u533aID\u3001\u5206\u533a\u6700\u65b0\u7248\u672c\u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\u3002\u4e09\u8005\u7ec4\u5408\u786e\u5b9a\u4e00\u4e2a\u7f13\u5b58\u6570\u636e\u96c6\uff0c\u4efb\u4f55\u4e00\u4e2a\u53d8\u5316\u4e86\uff0c\u5982SQL\u6709\u53d8\u5316\uff0c\u5982\u67e5\u8be2\u5b57\u6bb5\u6216\u6761\u4ef6\u4e0d\u4e00\u6837\uff0c\u6216\u6570\u636e\u66f4\u65b0\u540e\u7248\u672c\u53d8\u5316\u4e86\uff0c\u4f1a\u5bfc\u81f4\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\u3002\n+\n+\u5982\u679c\u591a\u5f20\u8868Join\uff0c\u4f7f\u7528\u6700\u8fd1\u66f4\u65b0\u7684\u5206\u533aID\u548c\u6700\u65b0\u7684\u7248\u672c\u53f7\uff0c\u5982\u679c\u5176\u4e2d\u4e00\u5f20\u8868\u66f4\u65b0\u4e86\uff0c\u4f1a\u5bfc\u81f4\u5206\u533aID\u6216\u7248\u672c\u53f7\u4e0d\u4e00\u6837\uff0c\u4e5f\u4e00\u6837\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\u3002\n+\n+\n+\n+### 2 \u5206\u533a\u7f13\u5b58 `partition_cache`\n+\n+1. SQL\u53ef\u4ee5\u5e76\u884c\u62c6\u5206\uff0cQ = Q1 \u222a Q2 ... \u222a Qn\uff0cR= R1 \u222a R2 ... \u222a Rn\uff0cQ\u4e3a\u67e5\u8be2\u8bed\u53e5\uff0cR\u4e3a\u7ed3\u679c\u96c6\n+\n+2. \u62c6\u5206\u4e3a\u53ea\u8bfb\u5206\u533a\u548c\u53ef\u66f4\u65b0\u5206\u533a\uff0c\u53ea\u8bfb\u5206\u533a\u7f13\u5b58\uff0c\u66f4\u65b0\u5206\u533a\u4e0d\u7f13\u5b58\n+\n+\n+\n+## \u4e94 \u53c2\u6570\n+\n+###  fe\n+\n+- cache \u5f00\u5173\n+\n+```\n+enable_result_cache_ttl", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjg2OTg1OQ=="}, "originalCommit": {"oid": "60ebbd3cbbe0b021599b7a652f1cd86f3ab34338"}, "originalPosition": 120}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNTI0Mjc1OnYy", "diffSide": "RIGHT", "path": "docs/zh-CN/administrator-guide/query_cache.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQwMjo1NjoxOVrOHpYLGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQwMjo1NjoxOVrOHpYLGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzE0OTcyMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            1. `enable_result_cache_ttl`\n          \n          \n            \n            1. `enable_result_cache_ttl`\n          \n      \n    \n    \n  \n\n\u76ee\u524d\u4ee3\u7801\u4e2d\u5e76\u6ca1\u6709\u770b\u5230\u5173\u4e8eTTL\u7684\u76f8\u5173\u5b9e\u73b0\u903b\u8f91\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5b58\u5728\u8fd9\u4e2a\u529f\u80fd\uff1f", "url": "https://github.com/apache/incubator-doris/pull/4479#discussion_r513149723", "createdAt": "2020-10-28T02:56:19Z", "author": {"login": "HangyuanLiu"}, "path": "docs/zh-CN/administrator-guide/query_cache.md", "diffHunk": "@@ -0,0 +1,147 @@\n+---\n+{\n+    \"title\": \"QUERY CACHE\",\n+    \"language\": \"zh-CN\"\n+}\n+---\n+\n+<!-- \n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+# QUERY CACHE\n+\n+## 1 \u9700\u6c42\n+\n+\u867d\u7136\u5728\u6570\u636e\u5e93\u5b58\u50a8\u5c42\u4e5f\u505a\u4e86\u5bf9\u5e94\u7684\u7f13\u5b58\uff0c\u4f46\u8fd9\u79cd\u6570\u636e\u5e93\u5b58\u50a8\u5c42\u7684\u7f13\u5b58\u4e00\u822c\u9488\u5bf9\u7684\u662f\u67e5\u8be2\u5185\u5bb9\uff0c\u800c\u4e14\u7c92\u5ea6\u4e5f\u592a\u5c0f\uff0c\u4e00\u822c\u53ea\u6709\u8868\u4e2d\u6570\u636e\u6ca1\u6709\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u5bf9\u5e94\u7684cache\u624d\u53d1\u6325\u4e86\u4f5c\u7528\u3002 \u4f46\u8fd9\u5e76\u4e0d\u80fd\u51cf\u5c11\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u589e\u5220\u6539\u67e5\u6240\u5e26\u6765\u7684\u5e9e\u5927\u7684IO\u538b\u529b\u3002\u6240\u4ee5\u6570\u636e\u5e93\u7f13\u5b58\u6280\u672f\u5728\u6b64\u8bde\u751f\uff0c\u5b9e\u73b0\u70ed\u70b9\u6570\u636e\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u63d0\u9ad8\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\uff0c\u6781\u5927\u7f13\u89e3\u540e\u7aef\u6570\u636e\u5e93\u7684\u538b\u529b\n+\n+- \u9ad8\u5e76\u53d1\u573a\u666f\n+  Doris\u53ef\u4ee5\u8f83\u597d\u5730\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f46\u5355\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\u592a\u9ad8\u7684QPS\n+\n+- \u590d\u6742\u56fe\u8868\u7684\u770b\u677f\n+  \u590d\u6742\u7684Dashboard\u6216\u8005\u5927\u5c4f\u7c7b\u5e94\u7528\uff0c\u6570\u636e\u6765\u81ea\u591a\u5f20\u8868\uff0c\u6bcf\u4e2a\u9875\u9762\u6709\u6570\u5341\u4e2a\u67e5\u8be2\uff0c\u867d\u7136\u6bcf\u4e2a\u67e5\u8be2\u53ea\u6709\u6570\u5341\u6beb\u79d2\uff0c\u4f46\u662f\u603b\u4f53\u67e5\u8be2\u65f6\u95f4\u4f1a\u5728\u6570\u79d2\n+\n+- \u8d8b\u52bf\u5206\u6790\n+  \u7ed9\u5b9a\u65e5\u671f\u8303\u56f4\u7684\u67e5\u8be2\uff0c\u6307\u6807\u6309\u65e5\u663e\u793a\uff0c\u6bd4\u5982\u67e5\u8be2\u6700\u8fd17\u5929\u5185\u7684\u7528\u6237\u6570\u7684\u8d8b\u52bf\uff0c\u8fd9\u7c7b\u67e5\u8be2\u6570\u636e\u91cf\u5927\uff0c\u67e5\u8be2\u8303\u56f4\u5e7f\uff0c\u67e5\u8be2\u65f6\u95f4\u5f80\u5f80\u9700\u8981\u6570\u5341\u79d2\n+\n+- \u7528\u6237\u91cd\u590d\u67e5\u8be2\n+  \u5982\u679c\u4ea7\u54c1\u6ca1\u6709\u9632\u91cd\u5237\u673a\u5236\uff0c\u7528\u6237\u56e0\u624b\u8bef\u6216\u5176\u4ed6\u539f\u56e0\u91cd\u590d\u5237\u65b0\u9875\u9762\uff0c\u5bfc\u81f4\u63d0\u4ea4\u5927\u91cf\u7684\u91cd\u590d\u7684SQL\n+\n+\u4ee5\u4e0a\u56db\u79cd\u573a\u666f\uff0c\u4e00\u79cd\u5728\u5e94\u7528\u5c42\u7684\u89e3\u51b3\u65b9\u6848\u662f\u628a\u67e5\u8be2\u7ed3\u679c\u653e\u5230Redis\u4e2d\uff0c\u5468\u671f\u6027\u5730\u66f4\u65b0\u7f13\u5b58\u6216\u8005\u7528\u6237\u624b\u52a8\u5237\u65b0\u7f13\u5b58\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u6709\u5982\u4e0b\u95ee\u9898\uff1a\n+\n+- \u6570\u636e\u4e0d\u4e00\u81f4\n+  \u65e0\u6cd5\u611f\u77e5\u6570\u636e\u7684\u66f4\u65b0\uff0c\u5bfc\u81f4\u7528\u6237\u7ecf\u5e38\u770b\u5230\u65e7\u7684\u6570\u636e\n+\n+- \u547d\u4e2d\u7387\u4f4e\n+  \u7f13\u5b58\u6574\u4e2a\u67e5\u8be2\u7ed3\u679c\uff0c\u5982\u679c\u6570\u636e\u5b9e\u65f6\u5199\u5165\uff0c\u7f13\u5b58\u9891\u7e41\u5931\u6548\uff0c\u547d\u4e2d\u7387\u4f4e\u4e14\u7cfb\u7edf\u8d1f\u8f7d\u8f83\u91cd\n+\n+- \u989d\u5916\u6210\u672c\n+  \u5f15\u5165\u5916\u90e8\u7f13\u5b58\u7ec4\u4ef6\uff0c\u4f1a\u5e26\u6765\u7cfb\u7edf\u590d\u6742\u5ea6\uff0c\u589e\u52a0\u989d\u5916\u6210\u672c\n+\n+## 2 \u89e3\u51b3\u65b9\u6848\n+\n+\u76ee\u524d\u6211\u4eec\u8bbe\u8ba1\u51fa\u7ed3\u679c\u7f13\u5b58\u548c\u5206\u533a\u7f13\u5b58\u4e24\u4e2a\u6a21\u5757\n+\n+## 3 \u540d\u8bcd\u89e3\u91ca\n+\n+1. \u7ed3\u679c\u7f13\u5b58 result_cache\n+\n+\u9488\u5bf9\u7528\u6237\u7684sql\u76f4\u63a5\u7f13\u5b58\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u5408\n+\n+2. \u5206\u533a\u7f13\u5b58 partition_cache\n+\n+\u5728partition\u7c92\u5ea6\u505a\u9488\u5bf9\u6bcf\u4e2a\u5206\u533a\u67e5\u8be2\u7684\u7ed3\u679c\u7f13\u5b58 \n+\n+## 4 \u8bbe\u8ba1\u539f\u7406\n+\n+### 1 \u7ed3\u679c\u7f13\u5b58 `result_cache`\n+\n+result_cache \u5206\u4e24\u79cd \u7b2c\u4e00\u79cd\u4e3a result_cache_ttl \u7b2c\u4e8c\u79cd\u4e3a result_cache_version \n+\n+#### `result_cache_ttl`\n+\n+result_cache_ttl \u53d8\u91cf\u8bbe\u7f6e\u5728\u7528\u6237Session\u4e2d\uff0c\u7528\u6237\u53ef\u81ea\u5b9a\u4e49\u662f\u5426\u5f00\u542f,\u901a\u8fc7ttl\u65f6\u95f4\u6765\u786e\u5b9a\u7528\u6237\u7684sql\u662f\u5426\u4f7f\u7528\u7f13\u5b58\uff0c`\u8fd9\u91cc\u6570\u636e\u53d8\u66f4\u65f6\u4e0d\u4fdd\u8bc1\u6570\u636e\u7684\u6b63\u786e\u6027`\n+\u6309\u7167 \u7528\u6237 connectid,\u548c\u67e5\u8be2\u7684sql \u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\uff0c\u8d85\u8fc7\u7f13\u5b58\u5931\u6548\u65f6\u95f4\u5219\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\uff0c\u8be5\u7f13\u5b58\u4e5f\u4f1a\u88ab\u6e05\u7406\n+\n+#### ` result_cache_version`\n+\n+result_cache_version \u6309SQL\u7684\u7b7e\u540d\u3001\u67e5\u8be2\u7684\u8868\u7684\u5206\u533aID\u3001\u5206\u533a\u6700\u65b0\u7248\u672c\u6765\u5b58\u50a8\u548c\u83b7\u53d6\u7f13\u5b58\u3002\u4e09\u8005\u7ec4\u5408\u786e\u5b9a\u4e00\u4e2a\u7f13\u5b58\u6570\u636e\u96c6\uff0c\u4efb\u4f55\u4e00\u4e2a\u53d8\u5316\u4e86\uff0c\u5982SQL\u6709\u53d8\u5316\uff0c\u5982\u67e5\u8be2\u5b57\u6bb5\u6216\u6761\u4ef6\u4e0d\u4e00\u6837\uff0c\u6216\u6570\u636e\u66f4\u65b0\u540e\u7248\u672c\u53d8\u5316\u4e86\uff0c\u4f1a\u5bfc\u81f4\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\u3002\n+\n+\u5982\u679c\u591a\u5f20\u8868Join\uff0c\u4f7f\u7528\u6700\u8fd1\u66f4\u65b0\u7684\u5206\u533aID\u548c\u6700\u65b0\u7684\u7248\u672c\u53f7\uff0c\u5982\u679c\u5176\u4e2d\u4e00\u5f20\u8868\u66f4\u65b0\u4e86\uff0c\u4f1a\u5bfc\u81f4\u5206\u533aID\u6216\u7248\u672c\u53f7\u4e0d\u4e00\u6837\uff0c\u4e5f\u4e00\u6837\u547d\u4e2d\u4e0d\u4e86\u7f13\u5b58\u3002\n+\n+### 2 \u5206\u533a\u7f13\u5b58 `partition_cache`\n+\n+1. SQL\u53ef\u4ee5\u5e76\u884c\u62c6\u5206\uff0cQ = Q1 \u222a Q2 ... \u222a Qn\uff0cR= R1 \u222a R2 ... \u222a Rn\uff0cQ\u4e3a\u67e5\u8be2\u8bed\u53e5\uff0cR\u4e3a\u7ed3\u679c\u96c6\n+2. \u62c6\u5206\u4e3a\u53ea\u8bfb\u5206\u533a\u548c\u53ef\u66f4\u65b0\u5206\u533a\uff0c\u53ea\u8bfb\u5206\u533a\u7f13\u5b58\uff0c\u66f4\u65b0\u5206\u533a\u4e0d\u7f13\u5b58\n+\n+## 5 \u53c2\u6570\n+\n+###  fe\n+\n+####  cache \u5f00\u5173\n+\n+1. `enable_result_cache_ttl`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8597196495874362a06c0c4c2ee80a56cd200178"}, "originalPosition": 97}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1047, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}