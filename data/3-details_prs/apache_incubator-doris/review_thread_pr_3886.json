{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0OTcwOTI4", "number": 3886, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwNTozNDo1MlrOEFyZ-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwNjoxNDoxNlrOEFy49Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NTA0MTg3OnYy", "diffSide": "RIGHT", "path": "fe/src/main/java/org/apache/doris/planner/DistributedPlanner.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwNTozNDo1M1rOGkL2yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwNjoyMDo0MFrOGkMwUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU5NjE3MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // is always 0. Other ScanNode's cardinality is -1, so they won't be able the calculate the cost of\n          \n          \n            \n                    // is always -1. Other ScanNode's cardinality is greater than or equal to zero, so they won't be able to calculate the cost of", "url": "https://github.com/apache/incubator-doris/pull/3886#discussion_r440596171", "createdAt": "2020-06-16T05:34:53Z", "author": {"login": "wutiangan"}, "path": "fe/src/main/java/org/apache/doris/planner/DistributedPlanner.java", "diffHunk": "@@ -294,6 +294,11 @@ private PlanFragment createHashJoinFragment(HashJoinNode node, PlanFragment righ\n         // broadcast: send the rightChildFragment's output to each node executing\n         // the leftChildFragment; the cost across all nodes is proportional to the\n         // total amount of data sent\n+\n+        // NOTICE(cmy): for now, only MysqlScanNode and OlapScanNode has Cardinality. And MysqlScanNode's Cardinality\n+        // is always 0. Other ScanNode's cardinality is -1, so they won't be able the calculate the cost of", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61914eaf2d1663f39e4dc1d609ecdfb1a178cfe3"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDYxMDg5OA==", "bodyText": "done", "url": "https://github.com/apache/incubator-doris/pull/3886#discussion_r440610898", "createdAt": "2020-06-16T06:20:40Z", "author": {"login": "morningman"}, "path": "fe/src/main/java/org/apache/doris/planner/DistributedPlanner.java", "diffHunk": "@@ -294,6 +294,11 @@ private PlanFragment createHashJoinFragment(HashJoinNode node, PlanFragment righ\n         // broadcast: send the rightChildFragment's output to each node executing\n         // the leftChildFragment; the cost across all nodes is proportional to the\n         // total amount of data sent\n+\n+        // NOTICE(cmy): for now, only MysqlScanNode and OlapScanNode has Cardinality. And MysqlScanNode's Cardinality\n+        // is always 0. Other ScanNode's cardinality is -1, so they won't be able the calculate the cost of", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU5NjE3MQ=="}, "originalCommit": {"oid": "61914eaf2d1663f39e4dc1d609ecdfb1a178cfe3"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NTA0NjYzOnYy", "diffSide": "RIGHT", "path": "fe/src/main/java/org/apache/doris/planner/MysqlScanNode.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwNTozNzoyNVrOGkL5wQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwNTozNzoyNVrOGkL5wQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU5NjkyOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // even current node scan has no data,at least on backend will be assigned when the fragment actually execute\n          \n          \n            \n                    // even if current node scan has no data,at least on backend will be assigned when the fragment actually execute", "url": "https://github.com/apache/incubator-doris/pull/3886#discussion_r440596929", "createdAt": "2020-06-16T05:37:25Z", "author": {"login": "wutiangan"}, "path": "fe/src/main/java/org/apache/doris/planner/MysqlScanNode.java", "diffHunk": "@@ -149,4 +150,14 @@ public int getNumInstances() {\n         return 1;\n     }\n \n+    @Override\n+    public void computeStats(Analyzer analyzer) {\n+        super.computeStats(analyzer);\n+        // even current node scan has no data,at least on backend will be assigned when the fragment actually execute", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61914eaf2d1663f39e4dc1d609ecdfb1a178cfe3"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NTEyMTE3OnYy", "diffSide": "RIGHT", "path": "fe/src/main/java/org/apache/doris/planner/DistributedPlanner.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwNjoxNDoxNlrOGkMm2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwNjoxNDoxNlrOGkMm2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDYwODQ3NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // NOTICE(cmy): for now, only MysqlScanNode and OlapScanNode has Cardinality. And MysqlScanNode's Cardinality\n          \n          \n            \n                    // NOTICE: for now, only MysqlScanNode and OlapScanNode has Cardinality. And MysqlScanNode's Cardinality", "url": "https://github.com/apache/incubator-doris/pull/3886#discussion_r440608474", "createdAt": "2020-06-16T06:14:16Z", "author": {"login": "wuyunfeng"}, "path": "fe/src/main/java/org/apache/doris/planner/DistributedPlanner.java", "diffHunk": "@@ -294,6 +294,11 @@ private PlanFragment createHashJoinFragment(HashJoinNode node, PlanFragment righ\n         // broadcast: send the rightChildFragment's output to each node executing\n         // the leftChildFragment; the cost across all nodes is proportional to the\n         // total amount of data sent\n+\n+        // NOTICE(cmy): for now, only MysqlScanNode and OlapScanNode has Cardinality. And MysqlScanNode's Cardinality", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7469650d85d7a0207617fc2a33fd0d80ee9960a6"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1521, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}