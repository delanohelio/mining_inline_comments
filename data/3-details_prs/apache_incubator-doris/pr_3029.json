{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzMzI3NTA1", "number": 3029, "title": "[Bug] Fix bug of NPE when get replication number from olap table", "bodyText": "The default replication number of an olap table may not be set.\nEvery time we call getReplicationNum(), we have to check if it returns null,\nwhich is inconvenience and may cause problem\nSo in this PR, I set a default value to table's replication number.\nThis bug is introduced by #2958", "createdAt": "2020-03-04T04:04:52Z", "url": "https://github.com/apache/incubator-doris/pull/3029", "merged": true, "mergeCommit": {"oid": "c731c8b9bc10a19c522b681c9e2a0587cec5fff0"}, "closed": true, "closedAt": "2020-03-05T04:18:39Z", "author": {"login": "morningman"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKOBXKgH2gAyMzgzMzI3NTA1OjdjZTU5Y2ZhYThlOTM2ZDY1N2E1ZTcwNzIxZmM3ZTA3YTAwMGE2ZWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKjduOAFqTM2OTI4MzM4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7ce59cfaa8e936d657a5e70721fc7e07a000a6ea", "author": {"user": {"login": "morningman", "name": "Mingyu Chen"}}, "url": "https://github.com/apache/incubator-doris/commit/7ce59cfaa8e936d657a5e70721fc7e07a000a6ea", "committedDate": "2020-03-04T03:05:29Z", "message": "[]"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36a42ef687848cbd9c2061d70b8f5d4a2d7d4c92", "author": {"user": {"login": "morningman", "name": "Mingyu Chen"}}, "url": "https://github.com/apache/incubator-doris/commit/36a42ef687848cbd9c2061d70b8f5d4a2d7d4c92", "committedDate": "2020-03-04T05:41:05Z", "message": "fix bug"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "13da00204a2d08b1e077c6185c793b10ae1fa838", "author": {"user": {"login": "morningman", "name": "Mingyu Chen"}}, "url": "https://github.com/apache/incubator-doris/commit/13da00204a2d08b1e077c6185c793b10ae1fa838", "committedDate": "2020-03-04T09:32:27Z", "message": "[MemLimit] Normalize the setting of mem limit\n\nNormalize the setting of mem limit to avoid some unexpected exception.\nFor example, use may not setting query mem limit in query plan, which\nmay cause BE crash."}, "afterCommit": {"oid": "36a42ef687848cbd9c2061d70b8f5d4a2d7d4c92", "author": {"user": {"login": "morningman", "name": "Mingyu Chen"}}, "url": "https://github.com/apache/incubator-doris/commit/36a42ef687848cbd9c2061d70b8f5d4a2d7d4c92", "committedDate": "2020-03-04T05:41:05Z", "message": "fix bug"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MjcyNDU4", "url": "https://github.com/apache/incubator-doris/pull/3029#pullrequestreview-369272458", "createdAt": "2020-03-05T03:19:19Z", "commit": {"oid": "36a42ef687848cbd9c2061d70b8f5d4a2d7d4c92"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwMzoxOToxOVrOFyFO-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwMzoxOToxOVrOFyFO-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODA1ODg3NA==", "bodyText": "Is getReplicationNum  better?", "url": "https://github.com/apache/incubator-doris/pull/3029#discussion_r388058874", "createdAt": "2020-03-05T03:19:19Z", "author": {"login": "EmmyMiao87"}, "path": "fe/src/main/java/org/apache/doris/catalog/OlapTable.java", "diffHunk": "@@ -1247,11 +1248,11 @@ public void setReplicationNum(Short replicationNum) {\n         tableProperty.buildReplicationNum();\n     }\n \n-    public Short getReplicationNum() {\n+    public Short getDefaultReplicationNum() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36a42ef687848cbd9c2061d70b8f5d4a2d7d4c92"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MjgzMzg5", "url": "https://github.com/apache/incubator-doris/pull/3029#pullrequestreview-369283389", "createdAt": "2020-03-05T04:04:28Z", "commit": {"oid": "36a42ef687848cbd9c2061d70b8f5d4a2d7d4c92"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3494, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}