{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MDEzNjAx", "number": 5052, "title": "[Enhance] Add profile for load job", "bodyText": "Proposed changes\nAdd viewable profile for broker load. Similar to the query profile,\nthe user can submit the import job by setting the session variable is_report_success to true,\nand then view the running profile of the job on the FE web page for easy analysis and debugging.\nTypes of changes\n\n New feature (non-breaking change which adds functionality)", "createdAt": "2020-12-09T08:45:24Z", "url": "https://github.com/apache/incubator-doris/pull/5052", "merged": true, "mergeCommit": {"oid": "b640991e43147b8659045cd0a976de047aaf4431"}, "closed": true, "closedAt": "2020-12-16T15:52:11Z", "author": {"login": "morningman"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkaO2wAH2gAyNTM1MDEzNjAxOjMxZTY0NWUxMGNlNWI5ZWI1ODczYmIyNTNhMjA4Mjg5OTIzMTEyNzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmRHg2gFqTU1MjA2Mjk3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "31e645e10ce5b9eb5873bb253a20828992311274", "author": {"user": {"login": "morningman", "name": "Mingyu Chen"}}, "url": "https://github.com/apache/incubator-doris/commit/31e645e10ce5b9eb5873bb253a20828992311274", "committedDate": "2020-12-09T08:12:16Z", "message": "1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9926f6d5845abdc964028aab09dd5f95b6fac05a", "author": {"user": {"login": "morningman", "name": "Mingyu Chen"}}, "url": "https://github.com/apache/incubator-doris/commit/9926f6d5845abdc964028aab09dd5f95b6fac05a", "committedDate": "2020-12-09T08:12:16Z", "message": "2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8a0b395e882acb49226f909ae660a9c0513eed9", "author": {"user": {"login": "morningman-cmy", "name": null}}, "url": "https://github.com/apache/incubator-doris/commit/b8a0b395e882acb49226f909ae660a9c0513eed9", "committedDate": "2020-12-09T08:41:47Z", "message": "add doc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMjU3NTA3", "url": "https://github.com/apache/incubator-doris/pull/5052#pullrequestreview-551257507", "createdAt": "2020-12-14T10:58:00Z", "commit": {"oid": "b8a0b395e882acb49226f909ae660a9c0513eed9"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMDo1ODowMFrOIFLAAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMTowNDo0NFrOIFLQ7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjI5NDAxOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u53ef\u4ee5\u5728\u63d0\u4ef7 LOAD \u4f5c\u4e1a\u524d\uff0c\u5148\u6267\u884c `set is_report_success=true` \u6253\u5f00\u4f1a\u8bdd\u53d8\u91cf\u3002\u7136\u540e\u63d0\u4ea4\u5bfc\u5165\u4f5c\u4e1a\u3002\u5f85\u5bfc\u5165\u4f5c\u4e1a\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5728 FE \u7684 web \u9875\u9762\u7684 `Queris` \u6807\u7b7e\u4e2d\u67e5\u770b\u5230\u5bfc\u5165\u4f5c\u4e1a\u7684 Profile\u3002\n          \n          \n            \n            \u53ef\u4ee5\u5728\u63d0\u4ea4 LOAD \u4f5c\u4e1a\u524d\uff0c\u5148\u6267\u884c `set is_report_success=true` \u6253\u5f00\u4f1a\u8bdd\u53d8\u91cf\u3002\u7136\u540e\u63d0\u4ea4\u5bfc\u5165\u4f5c\u4e1a\u3002\u5f85\u5bfc\u5165\u4f5c\u4e1a\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5728 FE \u7684 web \u9875\u9762\u7684 `Queris` \u6807\u7b7e\u4e2d\u67e5\u770b\u5230\u5bfc\u5165\u4f5c\u4e1a\u7684 Profile\u3002", "url": "https://github.com/apache/incubator-doris/pull/5052#discussion_r542294019", "createdAt": "2020-12-14T10:58:00Z", "author": {"login": "EmmyMiao87"}, "path": "docs/zh-CN/administrator-guide/load-data/broker-load-manual.md", "diffHunk": "@@ -464,6 +464,14 @@ LoadFinishTime: 2019-07-27 11:50:16\n         \u6ce8\u610f\uff1a\u4e00\u822c\u7528\u6237\u7684\u73af\u5883\u53ef\u80fd\u8fbe\u4e0d\u5230 10M/s \u7684\u901f\u5ea6\uff0c\u6240\u4ee5\u5efa\u8bae\u8d85\u8fc7 500G \u7684\u6587\u4ef6\u90fd\u8fdb\u884c\u6587\u4ef6\u5207\u5206\uff0c\u518d\u5bfc\u5165\u3002\n         \n         ```\n+\n+### \u6027\u80fd\u5206\u6790\n+\n+\u53ef\u4ee5\u5728\u63d0\u4ef7 LOAD \u4f5c\u4e1a\u524d\uff0c\u5148\u6267\u884c `set is_report_success=true` \u6253\u5f00\u4f1a\u8bdd\u53d8\u91cf\u3002\u7136\u540e\u63d0\u4ea4\u5bfc\u5165\u4f5c\u4e1a\u3002\u5f85\u5bfc\u5165\u4f5c\u4e1a\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5728 FE \u7684 web \u9875\u9762\u7684 `Queris` \u6807\u7b7e\u4e2d\u67e5\u770b\u5230\u5bfc\u5165\u4f5c\u4e1a\u7684 Profile\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8a0b395e882acb49226f909ae660a9c0513eed9"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjI5NDUwMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            You can execute `set is_report_success=true` to open the session variables before submitting the import job. After the import job is completed, you can view the profile of the import job in the `Queris` tab of the FE web page.\n          \n          \n            \n            You can execute `set is_report_success=true` to open the load profile before submitting the import job. After the import job is completed, you can view the profile of the import job in the `Queris` tab of the FE web page.", "url": "https://github.com/apache/incubator-doris/pull/5052#discussion_r542294503", "createdAt": "2020-12-14T10:58:48Z", "author": {"login": "EmmyMiao87"}, "path": "docs/en/administrator-guide/load-data/broker-load-manual.md", "diffHunk": "@@ -456,6 +456,14 @@ We will only discuss the case of a single BE. If the user cluster has more than\n \t\t\n \t\t```\n \n+### Performance analysis\n+\n+You can execute `set is_report_success=true` to open the session variables before submitting the import job. After the import job is completed, you can view the profile of the import job in the `Queris` tab of the FE web page.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8a0b395e882acb49226f909ae660a9c0513eed9"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjI5ODM1MQ==", "bodyText": "Maybe it should under the java.*", "url": "https://github.com/apache/incubator-doris/pull/5052#discussion_r542298351", "createdAt": "2020-12-14T11:04:44Z", "author": {"login": "EmmyMiao87"}, "path": "fe/fe-core/src/test/java/org/apache/doris/load/loadv2/BrokerLoadJobTest.java", "diffHunk": "@@ -17,22 +17,29 @@\n \n package org.apache.doris.load.loadv2;\n \n+import mockit.Expectations;\n+import mockit.Injectable;\n+import mockit.Mock;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8a0b395e882acb49226f909ae660a9c0513eed9"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed4ba16b744df176ba934310aa9c62408518eeb8", "author": {"user": {"login": "morningman-cmy", "name": null}}, "url": "https://github.com/apache/incubator-doris/commit/ed4ba16b744df176ba934310aa9c62408518eeb8", "committedDate": "2020-12-14T12:06:46Z", "message": "review1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMDYyOTcy", "url": "https://github.com/apache/incubator-doris/pull/5052#pullrequestreview-552062972", "createdAt": "2020-12-15T02:42:57Z", "commit": {"oid": "ed4ba16b744df176ba934310aa9c62408518eeb8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3954, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}