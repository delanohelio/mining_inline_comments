{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1ODk5NTcw", "number": 5156, "title": "[Load] support ignoring eovercrowded when tablet sink", "bodyText": "Proposed changes\nIf adding the ignore_eovercrowded flag, the PTabletWriterAddBatchRequest won't failed on EOVERCROWDED to avoid load jobs failed in this error. It only effects the NodeChannel(the load job), other rpc requests will still check if overcrowded.\nTypes of changes\n\n New feature (non-breaking change which adds functionality)\n\nChecklist\n\n I have create an issue on (Fix #5147 ), and have described the bug/feature there in detail\n Compiling and unit tests pass locally with my changes", "createdAt": "2020-12-28T03:11:19Z", "url": "https://github.com/apache/incubator-doris/pull/5156", "merged": true, "mergeCommit": {"oid": "5d6a1a72903ed042823a0a4d9887f15f65f9fff1"}, "closed": true, "closedAt": "2021-01-09T15:40:52Z", "author": {"login": "vagetablechicken"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdqdNiIgH2gAyNTQ1ODk5NTcwOjBlYWNjMGU4MTE2ZWJmYzg1NWMzMjhjOGNjNjI3NjQxMDk2YTk1ZDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdtW3RxgFqTU2MjMwMTUzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0eacc0e8116ebfc855c328c8cc627641096a95d1", "author": {"user": {"login": "vagetablechicken", "name": "HuangWei"}}, "url": "https://github.com/apache/incubator-doris/commit/0eacc0e8116ebfc855c328c8cc627641096a95d1", "committedDate": "2020-12-28T03:04:05Z", "message": "[] support ignoring eovercrowded when adding batch"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5MTY3MjY1", "url": "https://github.com/apache/incubator-doris/pull/5156#pullrequestreview-559167265", "createdAt": "2020-12-28T14:29:00Z", "commit": {"oid": "0eacc0e8116ebfc855c328c8cc627641096a95d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxNDoyOTowMFrOIL6tkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxNDoyOTowMFrOIL6tkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTM2NzE4Ng==", "bodyText": "What will happen if OVERCROWDED being ignored?", "url": "https://github.com/apache/incubator-doris/pull/5156#discussion_r549367186", "createdAt": "2020-12-28T14:29:00Z", "author": {"login": "morningman"}, "path": "be/src/exec/tablet_sink.cpp", "diffHunk": "@@ -327,6 +327,9 @@ int NodeChannel::try_send_and_fetch_status() {\n \n         _add_batch_closure->reset();\n         _add_batch_closure->cntl.set_timeout_ms(_rpc_timeout_ms);\n+        if (config::tablet_writer_ignore_eovercrowded) {\n+            _add_batch_closure->cntl.ignore_eovercrowded();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0eacc0e8116ebfc855c328c8cc627641096a95d1"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37c0861e5bf51c554f388956deda186813fe5359", "author": {"user": {"login": "vagetablechicken", "name": "HuangWei"}}, "url": "https://github.com/apache/incubator-doris/commit/37c0861e5bf51c554f388956deda186813fe5359", "committedDate": "2021-01-05T03:08:20Z", "message": "[] fix& add doc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyMjgyNDUx", "url": "https://github.com/apache/incubator-doris/pull/5156#pullrequestreview-562282451", "createdAt": "2021-01-06T02:22:28Z", "commit": {"oid": "37c0861e5bf51c554f388956deda186813fe5359"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "065e445459bec7f243ecdd0747d50f3ba8340db2", "author": {"user": {"login": "vagetablechicken", "name": "HuangWei"}}, "url": "https://github.com/apache/incubator-doris/commit/065e445459bec7f243ecdd0747d50f3ba8340db2", "committedDate": "2021-01-06T02:32:04Z", "message": "Merge branch 'master' into issue-5147"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c69ccc376750a4f72bfac41892af5610118d1f2", "author": {"user": {"login": "vagetablechicken", "name": "HuangWei"}}, "url": "https://github.com/apache/incubator-doris/commit/1c69ccc376750a4f72bfac41892af5610118d1f2", "committedDate": "2021-01-06T02:32:47Z", "message": "Update config.h"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyMzAxNTM4", "url": "https://github.com/apache/incubator-doris/pull/5156#pullrequestreview-562301538", "createdAt": "2021-01-06T03:22:07Z", "commit": {"oid": "1c69ccc376750a4f72bfac41892af5610118d1f2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4538, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}