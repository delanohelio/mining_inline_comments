{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5ODIzMzYx", "number": 2682, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNTo0Mjo1NVrODWJ_eQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNTo0NjoyNlrODWKA-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTU4OTY5OnYy", "diffSide": "RIGHT", "path": "be/src/olap/storage_engine.h", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNTo0Mjo1NVrOFawSzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNjoyMjoxMFrOFawutw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU5ODU0MA==", "bodyText": "uesless?", "url": "https://github.com/apache/incubator-doris/pull/2682#discussion_r363598540", "createdAt": "2020-01-07T05:42:55Z", "author": {"login": "imay"}, "path": "be/src/olap/storage_engine.h", "diffHunk": "@@ -310,6 +308,8 @@ class StorageEngine {\n     uint32_t _min_percentage_of_error_disk;\n     Cache* _file_descriptor_lru_cache;\n     Cache* _index_stream_lru_cache;\n+    uint32_t _max_base_compaction_task_per_disk;\n+    uint32_t _max_cumulative_compaction_task_per_disk;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25d0118bfd8be2bb4eabf1140b545e74b2a09094"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYwNTY4Nw==", "bodyText": "done", "url": "https://github.com/apache/incubator-doris/pull/2682#discussion_r363605687", "createdAt": "2020-01-07T06:22:10Z", "author": {"login": "yangzhg"}, "path": "be/src/olap/storage_engine.h", "diffHunk": "@@ -310,6 +308,8 @@ class StorageEngine {\n     uint32_t _min_percentage_of_error_disk;\n     Cache* _file_descriptor_lru_cache;\n     Cache* _index_stream_lru_cache;\n+    uint32_t _max_base_compaction_task_per_disk;\n+    uint32_t _max_cumulative_compaction_task_per_disk;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU5ODU0MA=="}, "originalCommit": {"oid": "25d0118bfd8be2bb4eabf1140b545e74b2a09094"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTU5MTcwOnYy", "diffSide": "RIGHT", "path": "be/src/olap/rowset/segment_group.h", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNTo0NDo1NlrOFawUBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNjoyMTo1OFrOFawumQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU5ODg1NQ==", "bodyText": "prefer std::atomic<int32_t>.", "url": "https://github.com/apache/incubator-doris/pull/2682#discussion_r363598855", "createdAt": "2020-01-07T05:44:56Z", "author": {"login": "imay"}, "path": "be/src/olap/rowset/segment_group.h", "diffHunk": "@@ -291,7 +291,7 @@ class SegmentGroup {\n     PUniqueId _load_id;                // load id for segmentgroup\n     int32_t _num_segments;             // number of segments in this segmentgroup\n     bool _index_loaded;                // whether the segmentgroup has been read\n-    atomic_t _ref_count;               // reference count\n+    base::subtle::Atomic64 _ref_count; // reference count", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25d0118bfd8be2bb4eabf1140b545e74b2a09094"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYwNTY1Nw==", "bodyText": "gutil/atomicops need this type", "url": "https://github.com/apache/incubator-doris/pull/2682#discussion_r363605657", "createdAt": "2020-01-07T06:21:58Z", "author": {"login": "yangzhg"}, "path": "be/src/olap/rowset/segment_group.h", "diffHunk": "@@ -291,7 +291,7 @@ class SegmentGroup {\n     PUniqueId _load_id;                // load id for segmentgroup\n     int32_t _num_segments;             // number of segments in this segmentgroup\n     bool _index_loaded;                // whether the segmentgroup has been read\n-    atomic_t _ref_count;               // reference count\n+    base::subtle::Atomic64 _ref_count; // reference count", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU5ODg1NQ=="}, "originalCommit": {"oid": "25d0118bfd8be2bb4eabf1140b545e74b2a09094"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTU5MzUyOnYy", "diffSide": "RIGHT", "path": "be/src/olap/bhp_lib.h", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNTo0NjoyNlrOFawVBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNTo0NjoyNlrOFawVBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU5OTExMA==", "bodyText": "Is this can be unified through CpuInfo?", "url": "https://github.com/apache/incubator-doris/pull/2682#discussion_r363599110", "createdAt": "2020-01-07T05:46:26Z", "author": {"login": "imay"}, "path": "be/src/olap/bhp_lib.h", "diffHunk": "@@ -789,6 +790,11 @@ inline int check_sse4_2() {\n     );\n     return ret;\n }\n+#else\n+inline int check_sse4_2() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25d0118bfd8be2bb4eabf1140b545e74b2a09094"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2294, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}