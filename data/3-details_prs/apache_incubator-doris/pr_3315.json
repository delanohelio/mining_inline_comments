{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzMDA1OTg4", "number": 3315, "title": "[Doris on ES] fix bug of issue 3287", "bodyText": "#3287", "createdAt": "2020-04-14T07:03:35Z", "url": "https://github.com/apache/incubator-doris/pull/3315", "merged": true, "mergeCommit": {"oid": "688927918cf9ab4f590b2a50decf9e7d464b6f60"}, "closed": true, "closedAt": "2020-04-14T12:15:14Z", "author": {"login": "blackfox1983"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXdymDgH2gAyNDAzMDA1OTg4OjQxNzI4Y2ViOTYzNzczODA5MDRlZjg2MGQwYjZhZmM3NjQzNjBmNWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXicAPAFqTM5Mjg2NjYyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "41728ceb96377380904ef860d0b6afc764360f5e", "author": {"user": {"login": "blackfox1983", "name": "\u4ee4\u72d0\u5c11\u4fa0"}}, "url": "https://github.com/apache/incubator-doris/commit/41728ceb96377380904ef860d0b6afc764360f5e", "committedDate": "2020-04-14T06:48:51Z", "message": "fix bug of issue 3287"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNjUzMzA0", "url": "https://github.com/apache/incubator-doris/pull/3315#pullrequestreview-392653304", "createdAt": "2020-04-14T07:05:27Z", "commit": {"oid": "41728ceb96377380904ef860d0b6afc764360f5e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwNzowNToyN1rOGFA4Xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwNzowNToyN1rOGFA4Xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzkxMDQ5NQ==", "bodyText": "Can you delete the extra leading space?", "url": "https://github.com/apache/incubator-doris/pull/3315#discussion_r407910495", "createdAt": "2020-04-14T07:05:27Z", "author": {"login": "wuyunfeng"}, "path": "be/src/exec/es/es_scroll_parser.cpp", "diffHunk": "@@ -129,14 +140,13 @@ static const string ERROR_COL_DATA_IS_ARRAY = \"Data source returned an array for\n \n template <typename T>\n static Status get_int_value(const rapidjson::Value &col, PrimitiveType type, void* slot, bool pure_doc_value) {\n-\n-\n     if (col.IsNumber()) {\n         *reinterpret_cast<T*>(slot) = (T)(sizeof(T) < 8 ? col.GetInt() : col.GetInt64());\n         return Status::OK();\n     }\n \n     if (pure_doc_value && col.IsArray()) {\n+\tRETURN_ERROR_IF_COL_IS_NOT_NUMBER(col, type);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41728ceb96377380904ef860d0b6afc764360f5e"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb4fab7489317822f4e9ef15f5eff005142a4e27", "author": {"user": {"login": "blackfox1983", "name": "\u4ee4\u72d0\u5c11\u4fa0"}}, "url": "https://github.com/apache/incubator-doris/commit/eb4fab7489317822f4e9ef15f5eff005142a4e27", "committedDate": "2020-04-14T07:20:12Z", "message": "fix bug of 3315"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNzI3MzUy", "url": "https://github.com/apache/incubator-doris/pull/3315#pullrequestreview-392727352", "createdAt": "2020-04-14T08:51:07Z", "commit": {"oid": "eb4fab7489317822f4e9ef15f5eff005142a4e27"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwODo1MTowN1rOGFEmEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwODo1MTowN1rOGFEmEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk3MTM0NA==", "bodyText": "col is an array", "url": "https://github.com/apache/incubator-doris/pull/3315#discussion_r407971344", "createdAt": "2020-04-14T08:51:07Z", "author": {"login": "wuyunfeng"}, "path": "be/src/exec/es/es_scroll_parser.cpp", "diffHunk": "@@ -129,14 +140,13 @@ static const string ERROR_COL_DATA_IS_ARRAY = \"Data source returned an array for\n \n template <typename T>\n static Status get_int_value(const rapidjson::Value &col, PrimitiveType type, void* slot, bool pure_doc_value) {\n-\n-\n     if (col.IsNumber()) {\n         *reinterpret_cast<T*>(slot) = (T)(sizeof(T) < 8 ? col.GetInt() : col.GetInt64());\n         return Status::OK();\n     }\n \n     if (pure_doc_value && col.IsArray()) {\n+        RETURN_ERROR_IF_COL_IS_NOT_NUMBER(col, type);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb4fab7489317822f4e9ef15f5eff005142a4e27"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51d12fbff122240578c3ccf5f60ea69bb45dd528", "author": {"user": {"login": "blackfox1983", "name": "\u4ee4\u72d0\u5c11\u4fa0"}}, "url": "https://github.com/apache/incubator-doris/commit/51d12fbff122240578c3ccf5f60ea69bb45dd528", "committedDate": "2020-04-14T10:37:05Z", "message": "fix bug of issue 3287"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyODY1NDMx", "url": "https://github.com/apache/incubator-doris/pull/3315#pullrequestreview-392865431", "createdAt": "2020-04-14T12:12:00Z", "commit": {"oid": "51d12fbff122240578c3ccf5f60ea69bb45dd528"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyODY2NjI4", "url": "https://github.com/apache/incubator-doris/pull/3315#pullrequestreview-392866628", "createdAt": "2020-04-14T12:13:42Z", "commit": {"oid": "51d12fbff122240578c3ccf5f60ea69bb45dd528"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3234, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}