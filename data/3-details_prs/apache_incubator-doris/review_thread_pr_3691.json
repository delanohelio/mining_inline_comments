{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzMTQ4OTc1", "number": 3691, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDozMjoyNlrOD_s4gA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDozMjoyNlrOD_s4gA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MTIyMjQwOnYy", "diffSide": "RIGHT", "path": "be/src/olap/reader.cpp", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDozMjoyNlrOGahIlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNToyNjowMlrOGajocA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1OTAyOA==", "bodyText": "Is it safe to refer a local variable is_lower_keys_included?\nWill the local is_lower_keys_included be deconstructed after this method?", "url": "https://github.com/apache/incubator-doris/pull/3691#discussion_r430459028", "createdAt": "2020-05-26T14:32:26Z", "author": {"login": "morningman"}, "path": "be/src/olap/reader.cpp", "diffHunk": "@@ -532,33 +521,31 @@ OLAPStatus Reader::_capture_rs_readers(const ReaderParams& read_params) {\n         }\n     }\n \n-    _reader_context.reader_type = read_params.reader_type;\n-    _reader_context.tablet_schema = &_tablet->tablet_schema();\n-    _reader_context.need_ordered_result = need_ordered_result;\n-    _reader_context.return_columns = &_return_columns;\n-    _reader_context.seek_columns = &_seek_columns;\n-    _reader_context.load_bf_columns = &_load_bf_columns;\n-    _reader_context.conditions = &_conditions;\n-    _reader_context.predicates = &_col_predicates;\n-    _reader_context.lower_bound_keys = &_keys_param.start_keys;\n-    _reader_context.is_lower_keys_included = &_is_lower_keys_included;\n-    _reader_context.upper_bound_keys = &_keys_param.end_keys;\n-    _reader_context.is_upper_keys_included = &_is_upper_keys_included;\n-    _reader_context.delete_handler = &_delete_handler;\n-    _reader_context.stats = &_stats;\n-    _reader_context.runtime_state = read_params.runtime_state;\n-    _reader_context.use_page_cache = read_params.use_page_cache;\n+    RowsetReaderContext reader_context;\n+    reader_context.reader_type = read_params.reader_type;\n+    reader_context.tablet_schema = &_tablet->tablet_schema();\n+    reader_context.need_ordered_result = need_ordered_result;\n+    reader_context.return_columns = &_return_columns;\n+    reader_context.seek_columns = &_seek_columns;\n+    reader_context.load_bf_columns = &_load_bf_columns;\n+    reader_context.conditions = &_conditions;\n+    reader_context.predicates = &_col_predicates;\n+    reader_context.lower_bound_keys = &_keys_param.start_keys;\n+    reader_context.is_lower_keys_included = &is_lower_keys_included;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82c0ede40b2a4ff35d3de6b3a9eb1f4e3bcc4df0"}, "originalPosition": 231}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ5OTk1Mg==", "bodyText": "Oh, it's not safe, I've fixed it now.", "url": "https://github.com/apache/incubator-doris/pull/3691#discussion_r430499952", "createdAt": "2020-05-26T15:26:02Z", "author": {"login": "acelyc111"}, "path": "be/src/olap/reader.cpp", "diffHunk": "@@ -532,33 +521,31 @@ OLAPStatus Reader::_capture_rs_readers(const ReaderParams& read_params) {\n         }\n     }\n \n-    _reader_context.reader_type = read_params.reader_type;\n-    _reader_context.tablet_schema = &_tablet->tablet_schema();\n-    _reader_context.need_ordered_result = need_ordered_result;\n-    _reader_context.return_columns = &_return_columns;\n-    _reader_context.seek_columns = &_seek_columns;\n-    _reader_context.load_bf_columns = &_load_bf_columns;\n-    _reader_context.conditions = &_conditions;\n-    _reader_context.predicates = &_col_predicates;\n-    _reader_context.lower_bound_keys = &_keys_param.start_keys;\n-    _reader_context.is_lower_keys_included = &_is_lower_keys_included;\n-    _reader_context.upper_bound_keys = &_keys_param.end_keys;\n-    _reader_context.is_upper_keys_included = &_is_upper_keys_included;\n-    _reader_context.delete_handler = &_delete_handler;\n-    _reader_context.stats = &_stats;\n-    _reader_context.runtime_state = read_params.runtime_state;\n-    _reader_context.use_page_cache = read_params.use_page_cache;\n+    RowsetReaderContext reader_context;\n+    reader_context.reader_type = read_params.reader_type;\n+    reader_context.tablet_schema = &_tablet->tablet_schema();\n+    reader_context.need_ordered_result = need_ordered_result;\n+    reader_context.return_columns = &_return_columns;\n+    reader_context.seek_columns = &_seek_columns;\n+    reader_context.load_bf_columns = &_load_bf_columns;\n+    reader_context.conditions = &_conditions;\n+    reader_context.predicates = &_col_predicates;\n+    reader_context.lower_bound_keys = &_keys_param.start_keys;\n+    reader_context.is_lower_keys_included = &is_lower_keys_included;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1OTAyOA=="}, "originalCommit": {"oid": "82c0ede40b2a4ff35d3de6b3a9eb1f4e3bcc4df0"}, "originalPosition": 231}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1623, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}