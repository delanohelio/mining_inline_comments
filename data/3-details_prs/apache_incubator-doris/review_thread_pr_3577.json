{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MTcxNDc2", "number": 3577, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDoxNToxOVrOD8f5Pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDoxNToxOVrOD8f5Pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NzYzNzExOnYy", "diffSide": "RIGHT", "path": "fe/src/main/java/org/apache/doris/analysis/SlotRef.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDoxNToxOVrOGVeXoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNTo0ODozMVrOGVis3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE3MDg0OA==", "bodyText": "How about return both slot id and expr. I'm afraid that slot id may be used for some tracing debug.\nAnd please fix all related unit tests after you change here.", "url": "https://github.com/apache/incubator-doris/pull/3577#discussion_r425170848", "createdAt": "2020-05-14T14:15:19Z", "author": {"login": "morningman"}, "path": "fe/src/main/java/org/apache/doris/analysis/SlotRef.java", "diffHunk": "@@ -162,6 +162,12 @@ public String toSqlImpl() {\n             return tblName.toSql() + \".\" + label + sb.toString();\n         } else if (label != null) {\n             return label + sb.toString();\n+        } else if (desc.getSourceExprs() != null) {\n+            for (Expr expr : desc.getSourceExprs()) {\n+                sb.append(expr.toSql());\n+                sb.append(\" \");\n+            }\n+            return sb.toString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9f3a84e9d54cbe0d97d6d65bfc2fa9fa166b589"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI0MTgyMg==", "bodyText": "How about slot ID and expr? I need MD5 of SQL as the key of cache instead of slot ID. I'm trying to fix the other unit tests", "url": "https://github.com/apache/incubator-doris/pull/3577#discussion_r425241822", "createdAt": "2020-05-14T15:48:31Z", "author": {"login": "marising"}, "path": "fe/src/main/java/org/apache/doris/analysis/SlotRef.java", "diffHunk": "@@ -162,6 +162,12 @@ public String toSqlImpl() {\n             return tblName.toSql() + \".\" + label + sb.toString();\n         } else if (label != null) {\n             return label + sb.toString();\n+        } else if (desc.getSourceExprs() != null) {\n+            for (Expr expr : desc.getSourceExprs()) {\n+                sb.append(expr.toSql());\n+                sb.append(\" \");\n+            }\n+            return sb.toString();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE3MDg0OA=="}, "originalCommit": {"oid": "f9f3a84e9d54cbe0d97d6d65bfc2fa9fa166b589"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1542, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}