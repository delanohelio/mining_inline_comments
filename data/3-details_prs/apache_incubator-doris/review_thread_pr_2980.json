{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4ODc4MzY2", "number": 2980, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNDoyNTowOVrODkq8AA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNDoxOTo0NFrODn2Xyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5Nzc4ODE2OnYy", "diffSide": "RIGHT", "path": "fe/src/main/java/org/apache/doris/catalog/PartitionInfo.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNDoyNTowOVrOFxH0Vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNToyMzo0OVrOF2H4Sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA1MjYzMA==", "bodyText": "Here will be a problem.\nFor now, DataProperty.DEFAULT_DATA_PROPERTY is configuration, so here, it is all possible to write true or false. And when reading, true may point to HDD, may point to SSD, depends on the config.", "url": "https://github.com/apache/incubator-doris/pull/2980#discussion_r387052630", "createdAt": "2020-03-03T14:25:09Z", "author": {"login": "morningman"}, "path": "fe/src/main/java/org/apache/doris/catalog/PartitionInfo.java", "diffHunk": "@@ -127,7 +127,7 @@ public void write(DataOutput out) throws IOException {\n         out.writeInt(idToDataProperty.size());\n         for (Map.Entry<Long, DataProperty> entry : idToDataProperty.entrySet()) {\n             out.writeLong(entry.getKey());\n-            if (entry.getValue() == DataProperty.DEFAULT_HDD_DATA_PROPERTY) {\n+            if (entry.getValue() == DataProperty.DEFAULT_DATA_PROPERTY) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a41a00c2d022521106cce5d66a70102adff1f496"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUzMzU2Mg==", "bodyText": "I am confused why we should add a judge whether the DataProperty is default, can we just write entry.getValue().write(out);  and read as DataProperty.read(in). I think the idToDataProperty's values can't be null?", "url": "https://github.com/apache/incubator-doris/pull/2980#discussion_r387533562", "createdAt": "2020-03-04T09:12:40Z", "author": {"login": "WingsGo"}, "path": "fe/src/main/java/org/apache/doris/catalog/PartitionInfo.java", "diffHunk": "@@ -127,7 +127,7 @@ public void write(DataOutput out) throws IOException {\n         out.writeInt(idToDataProperty.size());\n         for (Map.Entry<Long, DataProperty> entry : idToDataProperty.entrySet()) {\n             out.writeLong(entry.getKey());\n-            if (entry.getValue() == DataProperty.DEFAULT_HDD_DATA_PROPERTY) {\n+            if (entry.getValue() == DataProperty.DEFAULT_DATA_PROPERTY) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA1MjYzMA=="}, "originalCommit": {"oid": "a41a00c2d022521106cce5d66a70102adff1f496"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODA2ODAyMg==", "bodyText": "If we need to compatible with old version, I can chnage it to entry.getValue() == new DataProperty(TStorageMedium.HDD)", "url": "https://github.com/apache/incubator-doris/pull/2980#discussion_r388068022", "createdAt": "2020-03-05T04:03:33Z", "author": {"login": "WingsGo"}, "path": "fe/src/main/java/org/apache/doris/catalog/PartitionInfo.java", "diffHunk": "@@ -127,7 +127,7 @@ public void write(DataOutput out) throws IOException {\n         out.writeInt(idToDataProperty.size());\n         for (Map.Entry<Long, DataProperty> entry : idToDataProperty.entrySet()) {\n             out.writeLong(entry.getKey());\n-            if (entry.getValue() == DataProperty.DEFAULT_HDD_DATA_PROPERTY) {\n+            if (entry.getValue() == DataProperty.DEFAULT_DATA_PROPERTY) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA1MjYzMA=="}, "originalCommit": {"oid": "a41a00c2d022521106cce5d66a70102adff1f496"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI1NTA0MQ==", "bodyText": "You are righ, it is a little bit confused..\nYou can change it as you said.", "url": "https://github.com/apache/incubator-doris/pull/2980#discussion_r392255041", "createdAt": "2020-03-13T14:17:28Z", "author": {"login": "morningman"}, "path": "fe/src/main/java/org/apache/doris/catalog/PartitionInfo.java", "diffHunk": "@@ -127,7 +127,7 @@ public void write(DataOutput out) throws IOException {\n         out.writeInt(idToDataProperty.size());\n         for (Map.Entry<Long, DataProperty> entry : idToDataProperty.entrySet()) {\n             out.writeLong(entry.getKey());\n-            if (entry.getValue() == DataProperty.DEFAULT_HDD_DATA_PROPERTY) {\n+            if (entry.getValue() == DataProperty.DEFAULT_DATA_PROPERTY) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA1MjYzMA=="}, "originalCommit": {"oid": "a41a00c2d022521106cce5d66a70102adff1f496"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI5NjUyMg==", "bodyText": "done", "url": "https://github.com/apache/incubator-doris/pull/2980#discussion_r392296522", "createdAt": "2020-03-13T15:23:49Z", "author": {"login": "WingsGo"}, "path": "fe/src/main/java/org/apache/doris/catalog/PartitionInfo.java", "diffHunk": "@@ -127,7 +127,7 @@ public void write(DataOutput out) throws IOException {\n         out.writeInt(idToDataProperty.size());\n         for (Map.Entry<Long, DataProperty> entry : idToDataProperty.entrySet()) {\n             out.writeLong(entry.getKey());\n-            if (entry.getValue() == DataProperty.DEFAULT_HDD_DATA_PROPERTY) {\n+            if (entry.getValue() == DataProperty.DEFAULT_DATA_PROPERTY) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA1MjYzMA=="}, "originalCommit": {"oid": "a41a00c2d022521106cce5d66a70102adff1f496"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzMTExODgzOnYy", "diffSide": "RIGHT", "path": "fe/src/main/java/org/apache/doris/catalog/PartitionInfo.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNDoxOTo0NFrOF2FbZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNToyMzo0NFrOF2H4DQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI1NjM1OA==", "bodyText": "Change the log print is HDD:", "url": "https://github.com/apache/incubator-doris/pull/2980#discussion_r392256358", "createdAt": "2020-03-13T14:19:44Z", "author": {"login": "morningman"}, "path": "fe/src/main/java/org/apache/doris/catalog/PartitionInfo.java", "diffHunk": "@@ -170,7 +170,7 @@ public String toString() {\n \n         for (Map.Entry<Long, DataProperty> entry : idToDataProperty.entrySet()) {\n             buff.append(entry.getKey()).append(\"is HDD: \");;\n-            if (entry.getValue() == DataProperty.DEFAULT_HDD_DATA_PROPERTY) {\n+            if (entry.getValue() == DataProperty.DEFAULT_DATA_PROPERTY) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09e49f7c8e43116b280e742346a0e4c35caf207c"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI5NjQ2MQ==", "bodyText": "done", "url": "https://github.com/apache/incubator-doris/pull/2980#discussion_r392296461", "createdAt": "2020-03-13T15:23:44Z", "author": {"login": "WingsGo"}, "path": "fe/src/main/java/org/apache/doris/catalog/PartitionInfo.java", "diffHunk": "@@ -170,7 +170,7 @@ public String toString() {\n \n         for (Map.Entry<Long, DataProperty> entry : idToDataProperty.entrySet()) {\n             buff.append(entry.getKey()).append(\"is HDD: \");;\n-            if (entry.getValue() == DataProperty.DEFAULT_HDD_DATA_PROPERTY) {\n+            if (entry.getValue() == DataProperty.DEFAULT_DATA_PROPERTY) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI1NjM1OA=="}, "originalCommit": {"oid": "09e49f7c8e43116b280e742346a0e4c35caf207c"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2040, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}