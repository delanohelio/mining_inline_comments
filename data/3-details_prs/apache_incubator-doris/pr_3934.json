{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4NjYwNTYy", "number": 3934, "title": "[Refactor] Replace some boost to std in OlapScanNode", "bodyText": "Replace some boost to std in OlapScanNode.\nThis refactor seems solve the problem describe in #3929.\nBecause I found that BE will crash to calling boost::condition_variable.notify_all().\nBut after upgrade to this, BE does not crash any more.", "createdAt": "2020-06-23T15:47:55Z", "url": "https://github.com/apache/incubator-doris/pull/3934", "merged": true, "mergeCommit": {"oid": "0cbacaf01d377d702068d2f04c97d4c74e3af388"}, "closed": true, "closedAt": "2020-06-29T11:13:04Z", "author": {"login": "morningman"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuHa6oAH2gAyNDM4NjYwNTYyOmI3YjdkZjFkMzkwMzI5NzU3Y2M3N2IwZmEzMTc0ZTgzODI0ZjM0YWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcvim1pgFqTQzODczNjM4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b7b7df1d390329757cc77b0fa3174e83824f34aa", "author": {"user": {"login": "morningman-cmy", "name": null}}, "url": "https://github.com/apache/incubator-doris/commit/b7b7df1d390329757cc77b0fa3174e83824f34aa", "committedDate": "2020-06-23T15:45:20Z", "message": "[Refactor] Replace some boost to std in OlapScanNode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "300c666304e2b85dbcdd1c6332facaf2942d1137", "author": {"user": {"login": "morningman-cmy", "name": null}}, "url": "https://github.com/apache/incubator-doris/commit/300c666304e2b85dbcdd1c6332facaf2942d1137", "committedDate": "2020-06-24T01:19:35Z", "message": "remove unused import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2MjY5NDUz", "url": "https://github.com/apache/incubator-doris/pull/3934#pullrequestreview-436269453", "createdAt": "2020-06-24T01:46:55Z", "commit": {"oid": "300c666304e2b85dbcdd1c6332facaf2942d1137"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwMTo0Njo1NVrOGoAJxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwMTo0Njo1NVrOGoAJxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU5ODcyNg==", "bodyText": "You can use util/condition_variable.h.\nIt comes from kudu, it's use is simple than std::", "url": "https://github.com/apache/incubator-doris/pull/3934#discussion_r444598726", "createdAt": "2020-06-24T01:46:55Z", "author": {"login": "chaoyli"}, "path": "be/src/exec/olap_scan_node.cpp", "diffHunk": "@@ -186,9 +185,9 @@ Status OlapScanNode::get_next(RuntimeState* state, RowBatch* row_batch, bool* eo\n \n     // check if Canceled.\n     if (state->is_cancelled()) {\n-        boost::unique_lock<boost::mutex> l(_row_batches_lock);\n+        std::unique_lock<std::mutex> l(_row_batches_lock);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "300c666304e2b85dbcdd1c6332facaf2942d1137"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3000ec93d647c1a45246b6224e493c1485d33d0", "author": {"user": {"login": "morningman-cmy", "name": null}}, "url": "https://github.com/apache/incubator-doris/commit/a3000ec93d647c1a45246b6224e493c1485d33d0", "committedDate": "2020-06-24T05:39:33Z", "message": "fix bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c3c2a92cfac5e8cc13118017a9a46c88cd025b3", "author": {"user": {"login": "morningman-cmy", "name": null}}, "url": "https://github.com/apache/incubator-doris/commit/4c3c2a92cfac5e8cc13118017a9a46c88cd025b3", "committedDate": "2020-06-24T06:00:15Z", "message": "modify header"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8989ac8d8591289a6be1b38b3ff0cb312bd07111", "author": {"user": {"login": "morningman", "name": "Mingyu Chen"}}, "url": "https://github.com/apache/incubator-doris/commit/8989ac8d8591289a6be1b38b3ff0cb312bd07111", "committedDate": "2020-06-25T09:20:20Z", "message": "fix bug"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NzM2Mzg5", "url": "https://github.com/apache/incubator-doris/pull/3934#pullrequestreview-438736389", "createdAt": "2020-06-28T01:59:43Z", "commit": {"oid": "8989ac8d8591289a6be1b38b3ff0cb312bd07111"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2172, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}