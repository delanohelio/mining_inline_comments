{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5NzE0NDcz", "number": 4881, "title": "[Bug] Fix bug introduced by split RowsDelFiltered profile", "bodyText": "Proposed changes\nbug introduced from pr #4825, will cause schema_change to report an error:\nschema_change.cpp:1271] fail to check row num! source_rows=1, merged_rows=0, filtered_rows=0, new_index_rows=0\nschema_change.cpp:1921] failed to process the version. version=2-2\nschema_change.cpp:1615] failed to alter tablet. base_tablet=44643.1383650721.b140317f6662c1e0-65bcbc87db8d22bc, drop new_tablet=45680.1530531459.474e41f3dd538fb6-9284085daac24f83\n\nTypes of changes\n\n Bugfix (non-breaking change which fixes an issue)", "createdAt": "2020-11-12T08:31:48Z", "url": "https://github.com/apache/incubator-doris/pull/4881", "merged": true, "mergeCommit": {"oid": "aca9b2da82a9c74141af8e8101256acc1ed4c6c9"}, "closed": true, "closedAt": "2020-11-13T08:16:10Z", "author": {"login": "xinyiZzz"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbuXpRgFqTUyODg1NDM4NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdb-9zygFqTUyOTY4NzQwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4ODU0Mzg0", "url": "https://github.com/apache/incubator-doris/pull/4881#pullrequestreview-528854384", "createdAt": "2020-11-12T08:34:26Z", "commit": {"oid": "5db783e2bacc3bd0e5e7109a34f1f20f2f1858dc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwODozNDoyNlrOHxv1cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwODozNDoyNlrOHxv1cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTkyNjAwMw==", "bodyText": "Add a comment for this method to notify that this method will be used for validation of schema change task, should be modified carefully.", "url": "https://github.com/apache/incubator-doris/pull/4881#discussion_r521926003", "createdAt": "2020-11-12T08:34:26Z", "author": {"login": "morningman"}, "path": "be/src/olap/rowset/beta_rowset_reader.h", "diffHunk": "@@ -48,7 +48,7 @@ class BetaRowsetReader : public RowsetReader {\n \n     RowsetSharedPtr rowset() override { return std::dynamic_pointer_cast<Rowset>(_rowset); }\n \n-    int64_t filtered_rows() override { return _stats->rows_del_filtered; }\n+    int64_t filtered_rows() override { return _stats->rows_del_filtered + _stats->rows_conditions_filtered; }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5db783e2bacc3bd0e5e7109a34f1f20f2f1858dc"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1eab49333a0683c5e4c7c0cddb8c469077951f8a", "author": {"user": null}, "url": "https://github.com/apache/incubator-doris/commit/1eab49333a0683c5e4c7c0cddb8c469077951f8a", "committedDate": "2020-11-12T09:30:28Z", "message": "[Bug] Fix bug introduced by split RowsDelFiltered profile"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5db783e2bacc3bd0e5e7109a34f1f20f2f1858dc", "author": {"user": null}, "url": "https://github.com/apache/incubator-doris/commit/5db783e2bacc3bd0e5e7109a34f1f20f2f1858dc", "committedDate": "2020-11-12T08:26:24Z", "message": "fix bug  by the split RowsDelFiltered profile"}, "afterCommit": {"oid": "1eab49333a0683c5e4c7c0cddb8c469077951f8a", "author": {"user": null}, "url": "https://github.com/apache/incubator-doris/commit/1eab49333a0683c5e4c7c0cddb8c469077951f8a", "committedDate": "2020-11-12T09:30:28Z", "message": "[Bug] Fix bug introduced by split RowsDelFiltered profile"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5Njg3NDAx", "url": "https://github.com/apache/incubator-doris/pull/4881#pullrequestreview-529687401", "createdAt": "2020-11-13T03:54:49Z", "commit": {"oid": "1eab49333a0683c5e4c7c0cddb8c469077951f8a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4586, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}