{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMTg5NjA3", "number": 4450, "title": "Fix mysql return bug", "bodyText": "Fix #4449\nSend fields after first row arrived so that error packet can be send to client when exception thrown from coord.getNext(). Golang and Python can not identify error if fields packet arrived before error packet.", "createdAt": "2020-08-25T13:03:45Z", "url": "https://github.com/apache/incubator-doris/pull/4450", "merged": true, "mergeCommit": {"oid": "fe0c21bf933ef232689ebcb2a834349e688d88fc"}, "closed": true, "closedAt": "2020-08-27T04:17:25Z", "author": {"login": "gengjun-git"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCWyfugH2gAyNDczMTg5NjA3OmNkZTY5ZGFhZDE2MDEwOTFmMTgwNzhjYTA3YjM3YjcyM2Q4YTc3ZTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCkRcPgFqTQ3NTE0NTYyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cde69daad1601091f18078ca07b37b723d8a77e5", "author": {"user": {"login": "gengjun-git", "name": null}}, "url": "https://github.com/apache/incubator-doris/commit/cde69daad1601091f18078ca07b37b723d8a77e5", "committedDate": "2020-08-25T12:58:09Z", "message": "fix mysql return bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1a7d9652940776a8020e39025a0c44d36f521ee", "author": {"user": {"login": "gengjun-git", "name": null}}, "url": "https://github.com/apache/incubator-doris/commit/e1a7d9652940776a8020e39025a0c44d36f521ee", "committedDate": "2020-08-25T12:58:09Z", "message": "fix bug"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NTEwOTk5", "url": "https://github.com/apache/incubator-doris/pull/4450#pullrequestreview-474510999", "createdAt": "2020-08-25T14:00:47Z", "commit": {"oid": "e1a7d9652940776a8020e39025a0c44d36f521ee"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNDowMDo0N1rOHGZhug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNDowMDo0N1rOHGZhug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ3MTczOA==", "bodyText": "So the reason is that the fields has been sent but no data is sent following?", "url": "https://github.com/apache/incubator-doris/pull/4450#discussion_r476471738", "createdAt": "2020-08-25T14:00:47Z", "author": {"login": "morningman"}, "path": "fe/fe-core/src/main/java/org/apache/doris/qe/StmtExecutor.java", "diffHunk": "@@ -622,13 +622,15 @@ private void handleQueryStmt() throws Exception {\n         RowBatch batch;\n         MysqlChannel channel = context.getMysqlChannel();\n         boolean isOutfileQuery = queryStmt.hasOutFileClause();\n-        if (!isOutfileQuery) {\n-            sendFields(queryStmt.getColLabels(), queryStmt.getResultExprs());\n-        }\n+        boolean isSendFields = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1a7d9652940776a8020e39025a0c44d36f521ee"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c326d5aefd849632bb12da8ade1ed28367d78ba", "author": {"user": {"login": "gengjun-git", "name": null}}, "url": "https://github.com/apache/incubator-doris/commit/9c326d5aefd849632bb12da8ade1ed28367d78ba", "committedDate": "2020-08-26T02:27:06Z", "message": "add comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1MTQ1NjI5", "url": "https://github.com/apache/incubator-doris/pull/4450#pullrequestreview-475145629", "createdAt": "2020-08-26T04:40:43Z", "commit": {"oid": "9c326d5aefd849632bb12da8ade1ed28367d78ba"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1914, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}