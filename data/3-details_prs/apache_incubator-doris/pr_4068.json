{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3MjQzODE5", "number": 4068, "title": "[Compaction] track RowsetReader's mem & add metric", "bodyText": "Ref #3624 (comment)\nOnly RowsetReaders in compaction are under the track.\nOther RowsetReaders won't be effected, because the parent_tracker is nullptr.", "createdAt": "2020-07-10T06:01:34Z", "url": "https://github.com/apache/incubator-doris/pull/4068", "merged": true, "mergeCommit": {"oid": "a01d1aec568247c681e26d3815421996f0c62544"}, "closed": true, "closedAt": "2020-07-23T23:58:10Z", "author": {"login": "vagetablechicken"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczdJ-rAH2gAyNDQ3MjQzODE5OjEyMmZmM2I1NmI1YjdmNTU0ODIwMmU5NWMxMDU0NjM2YzRmMDIwYjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3dEr-gFqTQ1MzQ2NDI3NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "122ff3b56b5b7f5548202e95c1054636c4f020b6", "author": {"user": null}, "url": "https://github.com/apache/incubator-doris/commit/122ff3b56b5b7f5548202e95c1054636c4f020b6", "committedDate": "2020-07-10T05:54:22Z", "message": "[] rowset reader support adding tracker"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a0b6f970d9eee5ef4b6afc192ca91cf503cb696", "author": {"user": null}, "url": "https://github.com/apache/incubator-doris/commit/5a0b6f970d9eee5ef4b6afc192ca91cf503cb696", "committedDate": "2020-07-10T05:54:22Z", "message": "[] fix log_if_zero in InitialReservations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd9bcf005ce93232606c76409f25c11a60127e04", "author": {"user": null}, "url": "https://github.com/apache/incubator-doris/commit/fd9bcf005ce93232606c76409f25c11a60127e04", "committedDate": "2020-07-10T05:54:22Z", "message": "[] RowBlock support parent tracker"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01d9e724577fbc741904717f0116873b6b7fd358", "author": {"user": null}, "url": "https://github.com/apache/incubator-doris/commit/01d9e724577fbc741904717f0116873b6b7fd358", "committedDate": "2020-07-10T05:54:22Z", "message": "[] ColumnData: RowBlock"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbf5d3d0783bf87ede48570abfa3c948c6618f9d", "author": {"user": null}, "url": "https://github.com/apache/incubator-doris/commit/fbf5d3d0783bf87ede48570abfa3c948c6618f9d", "committedDate": "2020-07-10T05:54:22Z", "message": "[] ColumnData: 2 VectorizedRowBatch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd69c36e418f836dc00e5e9d8fa2fe419077c6bd", "author": {"user": null}, "url": "https://github.com/apache/incubator-doris/commit/fd69c36e418f836dc00e5e9d8fa2fe419077c6bd", "committedDate": "2020-07-10T05:54:23Z", "message": "[] ColumnData: SegmentReader"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad88132c27830370947469fd1aecd973efb8b91a", "author": {"user": null}, "url": "https://github.com/apache/incubator-doris/commit/ad88132c27830370947469fd1aecd973efb8b91a", "committedDate": "2020-07-10T05:54:23Z", "message": "[] track Compactions mem"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MDk1Mzcz", "url": "https://github.com/apache/incubator-doris/pull/4068#pullrequestreview-449095373", "createdAt": "2020-07-15T15:57:35Z", "commit": {"oid": "ad88132c27830370947469fd1aecd973efb8b91a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNTo1NzozNVrOGyEuvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNTo1NzozNVrOGyEuvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTE1OTQ4Nw==", "bodyText": "Please add comment to these mem trackers.", "url": "https://github.com/apache/incubator-doris/pull/4068#discussion_r455159487", "createdAt": "2020-07-15T15:57:35Z", "author": {"login": "morningman"}, "path": "be/src/olap/compaction.h", "diffHunk": "@@ -77,6 +77,8 @@ class Compaction {\n     int64_t _get_input_num_rows_from_seg_grps();\n \n protected:\n+    MemTracker _mem_tracker;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad88132c27830370947469fd1aecd973efb8b91a"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29a847e5d04e3f1e08d0a8c6b8be329b820edf19", "author": {"user": {"login": "vagetablechicken", "name": "HuangWei"}}, "url": "https://github.com/apache/incubator-doris/commit/29a847e5d04e3f1e08d0a8c6b8be329b820edf19", "committedDate": "2020-07-16T03:54:50Z", "message": "add comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19d738210204422f1c4fb6ad01c956d7ebb62ce1", "author": {"user": {"login": "vagetablechicken", "name": "HuangWei"}}, "url": "https://github.com/apache/incubator-doris/commit/19d738210204422f1c4fb6ad01c956d7ebb62ce1", "committedDate": "2020-07-20T03:20:10Z", "message": "fix doris_metrics.h"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d4fbfc8f0aa16fa37a6d1220e25c708ac27ac70", "author": {"user": {"login": "vagetablechicken", "name": "HuangWei"}}, "url": "https://github.com/apache/incubator-doris/commit/1d4fbfc8f0aa16fa37a6d1220e25c708ac27ac70", "committedDate": "2020-07-20T03:21:11Z", "message": "Merge branch 'master' into compaction_mem"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a6e36fc4d178d5c22c7ed5f7db240f0679c398f", "author": {"user": {"login": "vagetablechicken", "name": "HuangWei"}}, "url": "https://github.com/apache/incubator-doris/commit/6a6e36fc4d178d5c22c7ed5f7db240f0679c398f", "committedDate": "2020-07-20T03:24:01Z", "message": "typo fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNjUxMjAw", "url": "https://github.com/apache/incubator-doris/pull/4068#pullrequestreview-451651200", "createdAt": "2020-07-20T14:19:27Z", "commit": {"oid": "6a6e36fc4d178d5c22c7ed5f7db240f0679c398f"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7151af1cfac99127c0b5ddc2b4264bf56ba252b3", "author": {"user": {"login": "vagetablechicken", "name": "HuangWei"}}, "url": "https://github.com/apache/incubator-doris/commit/7151af1cfac99127c0b5ddc2b4264bf56ba252b3", "committedDate": "2020-07-21T02:58:45Z", "message": "add in be-metrics.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNDY0Mjc1", "url": "https://github.com/apache/incubator-doris/pull/4068#pullrequestreview-453464275", "createdAt": "2020-07-22T16:04:17Z", "commit": {"oid": "7151af1cfac99127c0b5ddc2b4264bf56ba252b3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2353, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}