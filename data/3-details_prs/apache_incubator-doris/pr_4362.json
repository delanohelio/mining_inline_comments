{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4NDQxMzQ1", "number": 4362, "title": "[MySQL Compatibility 2/4][Bug] Fix bug and improve compatibility with mysql protocol", "bodyText": "Proposed changes\n\n\nselect database() will only return database name, without cluster name. #4361\n\n\nselect user() will return the IP which user connected in. #4360\n\n\nTypes of changes\n\n Bugfix (non-breaking change which fixes an issue)\n\nChecklist\n\n I have create an issue on (Fix #4361 #4360 ), and have described the bug/feature there in detail\n Compiling and unit tests pass locally with my changes", "createdAt": "2020-08-16T12:53:35Z", "url": "https://github.com/apache/incubator-doris/pull/4362", "merged": true, "mergeCommit": {"oid": "763a42c9af83650daf22b3abc113db5dcec9203f"}, "closed": true, "closedAt": "2020-08-26T02:40:42Z", "author": {"login": "morningman"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAsSiDAFqTQ3MTM5MzYzNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCidsCgFqTQ3NTEwOTQ4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxMzkzNjM2", "url": "https://github.com/apache/incubator-doris/pull/4362#pullrequestreview-471393636", "createdAt": "2020-08-20T08:53:17Z", "commit": {"oid": "2c4953df5b936ae82cb929ac6c3d28ec81f25715"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwODo1MzoxOFrOHD1VmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwODo1MzoxOFrOHD1VmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzc4MTY1Ng==", "bodyText": "two empty lines\uff1f", "url": "https://github.com/apache/incubator-doris/pull/4362#discussion_r473781656", "createdAt": "2020-08-20T08:53:18Z", "author": {"login": "yangzhg"}, "path": "fe/fe-core/src/main/java/org/apache/doris/analysis/InformationFunction.java", "diffHunk": "@@ -75,3 +80,5 @@ public String toSqlImpl() {\n         return funcType + \"()\";\n     }\n }\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c4953df5b936ae82cb929ac6c3d28ec81f25715"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNDI5NTI5", "url": "https://github.com/apache/incubator-doris/pull/4362#pullrequestreview-471429529", "createdAt": "2020-08-20T09:42:47Z", "commit": {"oid": "2c4953df5b936ae82cb929ac6c3d28ec81f25715"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwOTo0Mjo0N1rOHD32wQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwOTo0Mjo0N1rOHD32wQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzgyMjkxMw==", "bodyText": "Suggested change", "url": "https://github.com/apache/incubator-doris/pull/4362#discussion_r473822913", "createdAt": "2020-08-20T09:42:47Z", "author": {"login": "morningman"}, "path": "fe/fe-core/src/main/java/org/apache/doris/analysis/InformationFunction.java", "diffHunk": "@@ -75,3 +80,5 @@ public String toSqlImpl() {\n         return funcType + \"()\";\n     }\n }\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c4953df5b936ae82cb929ac6c3d28ec81f25715"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NDcxNzY2", "url": "https://github.com/apache/incubator-doris/pull/4362#pullrequestreview-474471766", "createdAt": "2020-08-25T13:19:05Z", "commit": {"oid": "f7ebe6097d406a3c224e03428dedb31d45a174b0"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7a7a4018a1f6ef2970800115258bb00d20de351", "author": {"user": {"login": "morningman-cmy", "name": null}}, "url": "https://github.com/apache/incubator-doris/commit/d7a7a4018a1f6ef2970800115258bb00d20de351", "committedDate": "2020-08-26T02:30:35Z", "message": "[Bug] Fix bug and improve compatibility with mysql protocol\n\n1. select database() will only return database name, without cluster name.\n2. select user() will return the IP which user connected in."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de97d8d8f2e6cfc3a53a7943a67269130252b15a", "author": {"user": {"login": "morningman-cmy", "name": null}}, "url": "https://github.com/apache/incubator-doris/commit/de97d8d8f2e6cfc3a53a7943a67269130252b15a", "committedDate": "2020-08-26T02:31:40Z", "message": "add ut"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b04d5d6dcafbbdae39edb64d0be0ea33c36c9391", "author": {"user": {"login": "morningman", "name": "Mingyu Chen"}}, "url": "https://github.com/apache/incubator-doris/commit/b04d5d6dcafbbdae39edb64d0be0ea33c36c9391", "committedDate": "2020-08-26T02:31:40Z", "message": "Update fe/fe-core/src/main/java/org/apache/doris/analysis/InformationFunction.java"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f7ebe6097d406a3c224e03428dedb31d45a174b0", "author": {"user": {"login": "morningman", "name": "Mingyu Chen"}}, "url": "https://github.com/apache/incubator-doris/commit/f7ebe6097d406a3c224e03428dedb31d45a174b0", "committedDate": "2020-08-20T09:43:00Z", "message": "Update fe/fe-core/src/main/java/org/apache/doris/analysis/InformationFunction.java"}, "afterCommit": {"oid": "b04d5d6dcafbbdae39edb64d0be0ea33c36c9391", "author": {"user": {"login": "morningman", "name": "Mingyu Chen"}}, "url": "https://github.com/apache/incubator-doris/commit/b04d5d6dcafbbdae39edb64d0be0ea33c36c9391", "committedDate": "2020-08-26T02:31:40Z", "message": "Update fe/fe-core/src/main/java/org/apache/doris/analysis/InformationFunction.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1MTA5NDgy", "url": "https://github.com/apache/incubator-doris/pull/4362#pullrequestreview-475109482", "createdAt": "2020-08-26T02:34:17Z", "commit": {"oid": "b04d5d6dcafbbdae39edb64d0be0ea33c36c9391"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1814, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}