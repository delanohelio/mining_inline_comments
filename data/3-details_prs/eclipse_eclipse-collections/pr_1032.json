{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwOTE5NzAw", "number": 1032, "title": "Port optimizations for primitive set operations to SetIterables.", "bodyText": "Signed-off-by: Donald Raab Donald.Raab@bnymellon.com", "createdAt": "2020-11-14T00:40:35Z", "url": "https://github.com/eclipse/eclipse-collections/pull/1032", "merged": true, "mergeCommit": {"oid": "00557933f648e2c3a2112bcfc7cfb349a7609844"}, "closed": true, "closedAt": "2020-11-17T03:31:34Z", "author": {"login": "donraab"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdcQ8CDAFqTUzMDUwODExMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABddPKMcgBqjQwMDMwODgyMTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwNTA4MTEx", "url": "https://github.com/eclipse/eclipse-collections/pull/1032#pullrequestreview-530508111", "createdAt": "2020-11-14T00:51:03Z", "commit": {"oid": "f18875bcfe503288aaf3f0803e623a7f2d54a916"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNFQwMDo1MTowM1rOHzD7Lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNFQwMDo1MTowM1rOHzD7Lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzMwMzcyNg==", "bodyText": "the order doesn't seem to make any difference here...", "url": "https://github.com/eclipse/eclipse-collections/pull/1032#discussion_r523303726", "createdAt": "2020-11-14T00:51:03Z", "author": {"login": "mohrezaei"}, "path": "eclipse-collections/src/main/java/org/eclipse/collections/impl/utility/internal/SetIterables.java", "diffHunk": "@@ -51,8 +52,16 @@ private SetIterables()\n             SetIterable<? extends E> setB,\n             R targetSet)\n     {\n-        Iterate.addAllIterable(setA, targetSet);\n-        Iterate.addAllIterable(setB, targetSet);\n+        if (setA.size() > setB.size())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f18875bcfe503288aaf3f0803e623a7f2d54a916"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f18875bcfe503288aaf3f0803e623a7f2d54a916", "author": {"user": {"login": "donraab", "name": "Donald Raab"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/f18875bcfe503288aaf3f0803e623a7f2d54a916", "committedDate": "2020-11-14T00:34:43Z", "message": "Port optimizations for primitive set operations to SetIterables.\n\nSigned-off-by: Donald Raab <Donald.Raab@bnymellon.com>"}, "afterCommit": {"oid": "8ffdc4110079ba9cbbf5eadc9924a26feda5073b", "author": {"user": {"login": "donraab", "name": "Donald Raab"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/8ffdc4110079ba9cbbf5eadc9924a26feda5073b", "committedDate": "2020-11-14T05:40:01Z", "message": "Port optimizations for primitive set operations to SetIterables.\n\nSigned-off-by: Donald Raab <Donald.Raab@bnymellon.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwNTU2ODcy", "url": "https://github.com/eclipse/eclipse-collections/pull/1032#pullrequestreview-530556872", "createdAt": "2020-11-14T05:48:46Z", "commit": {"oid": "8ffdc4110079ba9cbbf5eadc9924a26feda5073b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNFQwNTo0ODo0NlrOHzIo_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNFQwNTo0ODo0NlrOHzIo_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzM4MDk5MQ==", "bodyText": "The following code should reduce bytecode size and increase inlining chance:\nif (setA.size() > setB.size())\n{\n    SetIterable<? extends E> tmp = setA;\n    setA = setB;\n    setB = tmp;\n}\n(and below)", "url": "https://github.com/eclipse/eclipse-collections/pull/1032#discussion_r523380991", "createdAt": "2020-11-14T05:48:46Z", "author": {"login": "mohrezaei"}, "path": "eclipse-collections/src/main/java/org/eclipse/collections/impl/utility/internal/SetIterables.java", "diffHunk": "@@ -43,7 +42,13 @@ private SetIterables()\n             SetIterable<? extends E> setA,\n             SetIterable<? extends E> setB)\n     {\n-        return SetIterables.unionInto(setA, setB, UnifiedSet.newSet());\n+        if (setA.size() > setB.size())\n+        {\n+            UnifiedSet<E> result = UnifiedSet.newSet(setA);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ffdc4110079ba9cbbf5eadc9924a26feda5073b"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8ffdc4110079ba9cbbf5eadc9924a26feda5073b", "author": {"user": {"login": "donraab", "name": "Donald Raab"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/8ffdc4110079ba9cbbf5eadc9924a26feda5073b", "committedDate": "2020-11-14T05:40:01Z", "message": "Port optimizations for primitive set operations to SetIterables.\n\nSigned-off-by: Donald Raab <Donald.Raab@bnymellon.com>"}, "afterCommit": {"oid": "895d6cfcebe052e63f7606188e0d97672c5174ed", "author": {"user": {"login": "donraab", "name": "Donald Raab"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/895d6cfcebe052e63f7606188e0d97672c5174ed", "committedDate": "2020-11-15T03:59:53Z", "message": "Port optimizations for primitive set operations to SetIterables.\n\nSigned-off-by: Donald Raab <Donald.Raab@bnymellon.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "895d6cfcebe052e63f7606188e0d97672c5174ed", "author": {"user": {"login": "donraab", "name": "Donald Raab"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/895d6cfcebe052e63f7606188e0d97672c5174ed", "committedDate": "2020-11-15T03:59:53Z", "message": "Port optimizations for primitive set operations to SetIterables.\n\nSigned-off-by: Donald Raab <Donald.Raab@bnymellon.com>"}, "afterCommit": {"oid": "2592a827eaef7d924fd842a05ceaa6ba40a814aa", "author": {"user": {"login": "donraab", "name": "Donald Raab"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/2592a827eaef7d924fd842a05ceaa6ba40a814aa", "committedDate": "2020-11-15T04:15:11Z", "message": "Port optimizations for primitive set operations to SetIterables.\n\nSigned-off-by: Donald Raab <Donald.Raab@bnymellon.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwNzY1NTY2", "url": "https://github.com/eclipse/eclipse-collections/pull/1032#pullrequestreview-530765566", "createdAt": "2020-11-15T04:17:29Z", "commit": {"oid": "2592a827eaef7d924fd842a05ceaa6ba40a814aa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2592a827eaef7d924fd842a05ceaa6ba40a814aa", "author": {"user": {"login": "donraab", "name": "Donald Raab"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/2592a827eaef7d924fd842a05ceaa6ba40a814aa", "committedDate": "2020-11-15T04:15:11Z", "message": "Port optimizations for primitive set operations to SetIterables.\n\nSigned-off-by: Donald Raab <Donald.Raab@bnymellon.com>"}, "afterCommit": {"oid": "6627e07a9427e7c1b689287d4000ee0bd47386ea", "author": {"user": {"login": "donraab", "name": "Donald Raab"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/6627e07a9427e7c1b689287d4000ee0bd47386ea", "committedDate": "2020-11-17T00:53:28Z", "message": "Port optimizations for primitive set operations to SetIterables.\n\nSigned-off-by: Donald Raab <Donald.Raab@bnymellon.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c19c28431520e1fbf949250a8bbeb99e482a16a", "author": {"user": {"login": "donraab", "name": "Donald Raab"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/5c19c28431520e1fbf949250a8bbeb99e482a16a", "committedDate": "2020-11-17T01:20:34Z", "message": "Port optimizations for primitive set operations to SetIterables.\n\nSigned-off-by: Donald Raab <Donald.Raab@bnymellon.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6627e07a9427e7c1b689287d4000ee0bd47386ea", "author": {"user": {"login": "donraab", "name": "Donald Raab"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/6627e07a9427e7c1b689287d4000ee0bd47386ea", "committedDate": "2020-11-17T00:53:28Z", "message": "Port optimizations for primitive set operations to SetIterables.\n\nSigned-off-by: Donald Raab <Donald.Raab@bnymellon.com>"}, "afterCommit": {"oid": "5c19c28431520e1fbf949250a8bbeb99e482a16a", "author": {"user": {"login": "donraab", "name": "Donald Raab"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/5c19c28431520e1fbf949250a8bbeb99e482a16a", "committedDate": "2020-11-17T01:20:34Z", "message": "Port optimizations for primitive set operations to SetIterables.\n\nSigned-off-by: Donald Raab <Donald.Raab@bnymellon.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 642, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}