{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0NzU2ODU0", "number": 881, "title": "Added to primitive iterables toArray() method which takes an array parameter", "bodyText": "If the collection fits into the provided array it is used to store its elements and is returned from the method, otherwise a new array of the appropriate size is allocated and returned. If the iterable is empty, the target array is returned unchanged.\nSigned-off-by: vmzakharov zakharov.vladimir.m@gmail.com", "createdAt": "2020-05-07T15:23:05Z", "url": "https://github.com/eclipse/eclipse-collections/pull/881", "merged": true, "mergeCommit": {"oid": "ab941bfacb2dddca5d01824e47138f81db020584"}, "closed": true, "closedAt": "2020-05-09T00:15:14Z", "author": {"login": "vmzakharov"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcfACGtABqjMzMTM3MzU3NDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcfUezigBqjMzMTc1OTM3NTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f78f602d2c75bf508d6fa02d8cbdfadab60c348f", "author": {"user": {"login": "vmzakharov", "name": null}}, "url": "https://github.com/eclipse/eclipse-collections/commit/f78f602d2c75bf508d6fa02d8cbdfadab60c348f", "committedDate": "2020-05-07T15:18:30Z", "message": "Added to primitive iteralbles toArray() method which takes an array as a parameter to store the elements of the iterable\n\nSigned-off-by: vmzakharov <zakharov.vladimir.m@gmail.com>"}, "afterCommit": {"oid": "f07d21838beb50baacd3aca5b57fb774edf67a30", "author": {"user": {"login": "vmzakharov", "name": null}}, "url": "https://github.com/eclipse/eclipse-collections/commit/f07d21838beb50baacd3aca5b57fb774edf67a30", "committedDate": "2020-05-07T16:37:50Z", "message": "Added to primitive iteralbles toArray() method which takes an array as a parameter to store the elements of the iterable\n\nSigned-off-by: vmzakharov <zakharov.vladimir.m@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3OTcxNTE1", "url": "https://github.com/eclipse/eclipse-collections/pull/881#pullrequestreview-407971515", "createdAt": "2020-05-08T03:21:53Z", "commit": {"oid": "f07d21838beb50baacd3aca5b57fb774edf67a30"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3OTcyOTY4", "url": "https://github.com/eclipse/eclipse-collections/pull/881#pullrequestreview-407972968", "createdAt": "2020-05-08T03:27:10Z", "commit": {"oid": "f07d21838beb50baacd3aca5b57fb774edf67a30"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwMzoyNzoxMFrOGSXtZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwMzoyNzoxMFrOGSXtZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTkxNjAwNw==", "bodyText": "If you implement this as a default method, then we can release in a minor version.", "url": "https://github.com/eclipse/eclipse-collections/pull/881#discussion_r421916007", "createdAt": "2020-05-08T03:27:10Z", "author": {"login": "donraab"}, "path": "eclipse-collections-code-generator/src/main/resources/api/primitiveIterable.stg", "diffHunk": "@@ -63,6 +63,13 @@ public interface <name>Iterable extends PrimitiveIterable\n      */\n     <type>[] toArray();\n \n+    /**\n+     * Converts the <name>Iterable to a primitive <type> array. If the collection fits into the provided array it is used\n+     * to store its elements and is returned from the method, otherwise a new array of the appropriate size is allocated\n+     * and returned. If the iterable is empty, the target array is returned unchanged.\n+     */\n+    <type>[] toArray(<type>[] target);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f07d21838beb50baacd3aca5b57fb774edf67a30"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4MjkwMzcz", "url": "https://github.com/eclipse/eclipse-collections/pull/881#pullrequestreview-408290373", "createdAt": "2020-05-08T14:44:39Z", "commit": {"oid": "f07d21838beb50baacd3aca5b57fb774edf67a30"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxNDo0NDo0MFrOGSoGWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxNDo0NTozNlrOGSoIXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjE4NDUzNg==", "bodyText": "Nitpick: I don't see much advantage of using forEachWithOccurrences when the output is of size size(). Might as well delegate to forEachWithIndex or forEach?", "url": "https://github.com/eclipse/eclipse-collections/pull/881#discussion_r422184536", "createdAt": "2020-05-08T14:44:40Z", "author": {"login": "motlin"}, "path": "eclipse-collections-code-generator/src/main/resources/impl/bag/mutable/primitiveHashBag.stg", "diffHunk": "@@ -745,6 +745,28 @@ public class <name>HashBag\n         return array;\n     }\n \n+    @Override\n+    public <type>[] toArray(<type>[] array)\n+    {\n+        if (array.length \\< this.size())\n+        {\n+            array = new <type>[this.size()];\n+        }\n+\n+        int[] index = {0};\n+\n+        <type>[] finalBypass = array;\n+        this.forEachWithOccurrences((<type> each, int occurrences) ->\n+        {\n+            for (int i = 0; i \\< occurrences; i++)\n+            {\n+                finalBypass[index[0]] = each;\n+                index[0]++;\n+            }\n+        });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f07d21838beb50baacd3aca5b57fb774edf67a30"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjE4NTA1NQ==", "bodyText": "Is this an unrelated change that snuck in?", "url": "https://github.com/eclipse/eclipse-collections/pull/881#discussion_r422185055", "createdAt": "2020-05-08T14:45:36Z", "author": {"login": "motlin"}, "path": "eclipse-collections-code-generator/src/main/resources/impl/list/immutable/immutablePrimitiveArrayList.stg", "diffHunk": "@@ -92,6 +92,12 @@ final class Immutable<name>ArrayList\n         return new Immutable<name>ArrayList(newArray);\n     }\n \n+    public static Immutable<name>ArrayList newListFrom(<name>List itemList)\n+    {\n+        <type>[] newArray = itemList.toArray(new <type>[itemList.size()]);\n+        return new Immutable<name>ArrayList(newArray);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f07d21838beb50baacd3aca5b57fb774edf67a30"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f07d21838beb50baacd3aca5b57fb774edf67a30", "author": {"user": {"login": "vmzakharov", "name": null}}, "url": "https://github.com/eclipse/eclipse-collections/commit/f07d21838beb50baacd3aca5b57fb774edf67a30", "committedDate": "2020-05-07T16:37:50Z", "message": "Added to primitive iteralbles toArray() method which takes an array as a parameter to store the elements of the iterable\n\nSigned-off-by: vmzakharov <zakharov.vladimir.m@gmail.com>"}, "afterCommit": {"oid": "edd6eb80d916d6f97b8b2cb67cee22bfa41b022b", "author": {"user": {"login": "vmzakharov", "name": null}}, "url": "https://github.com/eclipse/eclipse-collections/commit/edd6eb80d916d6f97b8b2cb67cee22bfa41b022b", "committedDate": "2020-05-08T15:21:57Z", "message": "Added to primitive iteralbles toArray() method which takes an array as a parameter to store the elements of the iterable\n\nSigned-off-by: vmzakharov <zakharov.vladimir.m@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4973bbce73d24c28db5663e4268c86d2391c5f9", "author": {"user": {"login": "vmzakharov", "name": null}}, "url": "https://github.com/eclipse/eclipse-collections/commit/e4973bbce73d24c28db5663e4268c86d2391c5f9", "committedDate": "2020-05-08T16:29:14Z", "message": "Added to primitive iteralbles toArray() method which takes an array as a parameter to store the elements of the iterable\n\nSigned-off-by: vmzakharov <zakharov.vladimir.m@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "edd6eb80d916d6f97b8b2cb67cee22bfa41b022b", "author": {"user": {"login": "vmzakharov", "name": null}}, "url": "https://github.com/eclipse/eclipse-collections/commit/edd6eb80d916d6f97b8b2cb67cee22bfa41b022b", "committedDate": "2020-05-08T15:21:57Z", "message": "Added to primitive iteralbles toArray() method which takes an array as a parameter to store the elements of the iterable\n\nSigned-off-by: vmzakharov <zakharov.vladimir.m@gmail.com>"}, "afterCommit": {"oid": "e4973bbce73d24c28db5663e4268c86d2391c5f9", "author": {"user": {"login": "vmzakharov", "name": null}}, "url": "https://github.com/eclipse/eclipse-collections/commit/e4973bbce73d24c28db5663e4268c86d2391c5f9", "committedDate": "2020-05-08T16:29:14Z", "message": "Added to primitive iteralbles toArray() method which takes an array as a parameter to store the elements of the iterable\n\nSigned-off-by: vmzakharov <zakharov.vladimir.m@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 666, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}