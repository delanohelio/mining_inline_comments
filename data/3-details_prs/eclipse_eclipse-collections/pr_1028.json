{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0NDgwNzky", "number": 1028, "title": "Add new methods withMapIterable to Mutable Maps and newWithMap, newWithMapIterable to Immutable Maps. Closes #875", "bodyText": "Added two methods withMap, withMapIterable to Mutable Maps and newWithMap, newWithMapIterable to Immutable Maps. Closes #875\nSigned-off-by: nsardana-bny neha.sardana@bnymellon.com", "createdAt": "2020-11-03T04:57:02Z", "url": "https://github.com/eclipse/eclipse-collections/pull/1028", "merged": true, "mergeCommit": {"oid": "36c8fe4bc9b1c17593415533c7877f281c6c4a74"}, "closed": true, "closedAt": "2020-11-24T03:02:28Z", "author": {"login": "nsardana-bny"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdY6ERvgFqTUyMjU0NDc0NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdxhov7AFqTU3MDg1OTY1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyNTQ0NzQ0", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#pullrequestreview-522544744", "createdAt": "2020-11-03T14:24:23Z", "commit": {"oid": "e12d560e98264657769c06c282c8ac0f1b467741"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxNDoyNDoyNFrOHsxFKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxNDozMDoxNlrOHsxXIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwMzUyOQ==", "bodyText": "This is a breaking change albeit a correct change. But I would want it to be a part of a separate commit to show it on the Release notes.", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r516703529", "createdAt": "2020-11-03T14:24:24Z", "author": {"login": "nikhilnanivadekar"}, "path": "eclipse-collections-api/src/main/java/org/eclipse/collections/api/map/FixedSizeMap.java", "diffHunk": "@@ -70,7 +70,12 @@\n     @Override\n     default FixedSizeMap<K, V> withMap(Map<? extends K, ? extends V> map)\n     {\n-        this.putAll(map);\n-        return this;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e12d560e98264657769c06c282c8ac0f1b467741"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwNDA1OA==", "bodyText": "please revert. This is an unrelated change.", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r516704058", "createdAt": "2020-11-03T14:25:02Z", "author": {"login": "nikhilnanivadekar"}, "path": "eclipse-collections-api/src/main/java/org/eclipse/collections/api/map/ImmutableMap.java", "diffHunk": "@@ -145,7 +153,9 @@\n      * @since 9.2\n      */\n     @Override\n-    default <P, R> ImmutableBag<R> flatCollectWith(Function2<? super V, ? super P, ? extends Iterable<R>> function, P parameter)\n+    default <P, R> ImmutableBag<R> flatCollectWith(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e12d560e98264657769c06c282c8ac0f1b467741"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwNDE3MA==", "bodyText": "please revert. This is an unrelated change.", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r516704170", "createdAt": "2020-11-03T14:25:10Z", "author": {"login": "nikhilnanivadekar"}, "path": "eclipse-collections-api/src/main/java/org/eclipse/collections/api/map/ImmutableMap.java", "diffHunk": "@@ -216,7 +226,11 @@\n     {\n         MutableMap<K1, V2> map = Maps.mutable.empty();\n         this.forEachKeyValue((key, value) -> {\n-            map.updateValueWith(keyFunction.valueOf(key), zeroValueFactory, nonMutatingAggregator, valueFunction.valueOf(value));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e12d560e98264657769c06c282c8ac0f1b467741"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwNDkxNQ==", "bodyText": "please revert. This is an unrelated change.", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r516704915", "createdAt": "2020-11-03T14:26:08Z", "author": {"login": "nikhilnanivadekar"}, "path": "eclipse-collections/src/main/java/org/eclipse/collections/impl/bimap/mutable/SynchronizedBiMap.java", "diffHunk": "@@ -35,7 +36,8 @@\n import org.eclipse.collections.impl.set.mutable.SynchronizedMutableSet;\n import org.eclipse.collections.impl.utility.LazyIterate;\n \n-public class SynchronizedBiMap<K, V> extends AbstractSynchronizedMapIterable<K, V> implements MutableBiMap<K, V>, Serializable\n+public class SynchronizedBiMap<K, V> extends AbstractSynchronizedMapIterable<K, V>\n+        implements MutableBiMap<K, V>, Serializable", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e12d560e98264657769c06c282c8ac0f1b467741"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwNDk4NA==", "bodyText": "please revert. This is an unrelated change.", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r516704984", "createdAt": "2020-11-03T14:26:14Z", "author": {"login": "nikhilnanivadekar"}, "path": "eclipse-collections/src/main/java/org/eclipse/collections/impl/bimap/mutable/SynchronizedBiMap.java", "diffHunk": "@@ -85,7 +87,8 @@ public V forcePut(K key, V value)\n     @Override\n     public MutableBiMap<K, V> asUnmodifiable()\n     {\n-        throw new UnsupportedOperationException(this.getClass().getSimpleName() + \".asUnmodifiable() not implemented yet\");\n+        throw new UnsupportedOperationException(this.getClass().getSimpleName()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e12d560e98264657769c06c282c8ac0f1b467741"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwNTk1NA==", "bodyText": "Effective Java principles state that interface should be on the left hand side. Also, this should ideally be replaced by Maps.mutable.with().", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r516705954", "createdAt": "2020-11-03T14:27:29Z", "author": {"login": "nikhilnanivadekar"}, "path": "eclipse-collections/src/main/java/org/eclipse/collections/impl/map/immutable/AbstractImmutableMap.java", "diffHunk": "@@ -171,6 +172,22 @@ public void clear()\n         return map.toImmutable();\n     }\n \n+    @Override\n+    public ImmutableMap<K, V> newWithMap(Map<? extends K, ? extends V> map)\n+    {\n+        UnifiedMap<K, V> unifiedMap = UnifiedMap.newMap(this);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e12d560e98264657769c06c282c8ac0f1b467741"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwNzI3MQ==", "bodyText": "same comment as above", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r516707271", "createdAt": "2020-11-03T14:29:13Z", "author": {"login": "nikhilnanivadekar"}, "path": "eclipse-collections/src/main/java/org/eclipse/collections/impl/map/immutable/AbstractImmutableMap.java", "diffHunk": "@@ -171,6 +172,22 @@ public void clear()\n         return map.toImmutable();\n     }\n \n+    @Override\n+    public ImmutableMap<K, V> newWithMap(Map<? extends K, ? extends V> map)\n+    {\n+        UnifiedMap<K, V> unifiedMap = UnifiedMap.newMap(this);\n+        unifiedMap.putAll(map);\n+        return unifiedMap.toImmutable();\n+    }\n+\n+    @Override\n+    public ImmutableMap<K, V> newWithMapIterable(MapIterable<? extends K, ? extends V> mapIterable)\n+    {\n+        UnifiedMap<K, V> unifiedMap = UnifiedMap.newMap(this);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e12d560e98264657769c06c282c8ac0f1b467741"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwNzg3OQ==", "bodyText": "please revert. This is an unrelated change.", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r516707879", "createdAt": "2020-11-03T14:29:58Z", "author": {"login": "nikhilnanivadekar"}, "path": "unit-tests/src/test/java/org/eclipse/collections/impl/bimap/mutable/UnmodifiableBiMapTest.java", "diffHunk": "@@ -73,7 +80,15 @@\n     }\n \n     @Override\n-    protected <K, V> MutableBiMap<K, V> newMapWithKeysValues(K key1, V value1, K key2, V value2, K key3, V value3, K key4, V value4)\n+    protected <K, V> MutableBiMap<K, V> newMapWithKeysValues(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e12d560e98264657769c06c282c8ac0f1b467741"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwODA0Ng==", "bodyText": "please revert. This is an unrelated change.", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r516708046", "createdAt": "2020-11-03T14:30:11Z", "author": {"login": "nikhilnanivadekar"}, "path": "unit-tests/src/test/java/org/eclipse/collections/impl/bimap/mutable/UnmodifiableBiMapTest.java", "diffHunk": "@@ -165,28 +180,36 @@ public void withKeyValue()\n     @Test\n     public void withMap()\n     {\n-        Verify.assertThrows(UnsupportedOperationException.class, () -> this.newMapWithKeyValue(1, 'a').withMap(Maps.mutable.with(1, Character.valueOf('a'))));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e12d560e98264657769c06c282c8ac0f1b467741"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwODEyOA==", "bodyText": "please revert. This is an unrelated change.", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r516708128", "createdAt": "2020-11-03T14:30:16Z", "author": {"login": "nikhilnanivadekar"}, "path": "unit-tests/src/test/java/org/eclipse/collections/impl/bimap/mutable/UnmodifiableBiMapTest.java", "diffHunk": "@@ -165,28 +180,36 @@ public void withKeyValue()\n     @Test\n     public void withMap()\n     {\n-        Verify.assertThrows(UnsupportedOperationException.class, () -> this.newMapWithKeyValue(1, 'a').withMap(Maps.mutable.with(1, Character.valueOf('a'))));\n+        Verify.assertThrows(\n+                UnsupportedOperationException.class,\n+                () -> this.newMapWithKeyValue(1, 'a').withMap(Maps.mutable.with(1, Character.valueOf('a'))));\n     }\n \n     @Override\n     @Test\n     public void withMapEmpty()\n     {\n-        Verify.assertThrows(UnsupportedOperationException.class, () -> this.newMapWithKeyValue(1, 'a').withMap(Maps.mutable.empty()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e12d560e98264657769c06c282c8ac0f1b467741"}, "originalPosition": 45}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e12d560e98264657769c06c282c8ac0f1b467741", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/e12d560e98264657769c06c282c8ac0f1b467741", "committedDate": "2020-11-03T04:52:50Z", "message": "Added two methods withMap, withMapIterable to Mutable Maps and newWithMap, newWithMapIterable to Immutable Maps. Closes #875\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}, "afterCommit": {"oid": "32af7748c8c3cc21b5f4aeb30fb4014de43603ae", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/32af7748c8c3cc21b5f4aeb30fb4014de43603ae", "committedDate": "2020-11-04T06:33:53Z", "message": "FixedSizeMap to throw UnsupportedOperationException on calling withMap method\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "32af7748c8c3cc21b5f4aeb30fb4014de43603ae", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/32af7748c8c3cc21b5f4aeb30fb4014de43603ae", "committedDate": "2020-11-04T06:33:53Z", "message": "FixedSizeMap to throw UnsupportedOperationException on calling withMap method\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}, "afterCommit": {"oid": "a1e5a1b2dcbaaf437dd1276ddfcedbd61fcb78db", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/a1e5a1b2dcbaaf437dd1276ddfcedbd61fcb78db", "committedDate": "2020-11-04T08:20:18Z", "message": "FixedSizeMap to throw UnsupportedOperationException on calling withMap method\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a1e5a1b2dcbaaf437dd1276ddfcedbd61fcb78db", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/a1e5a1b2dcbaaf437dd1276ddfcedbd61fcb78db", "committedDate": "2020-11-04T08:20:18Z", "message": "FixedSizeMap to throw UnsupportedOperationException on calling withMap method\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}, "afterCommit": {"oid": "54d86857043b0de7becb5cfe5e7809a92367c482", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/54d86857043b0de7becb5cfe5e7809a92367c482", "committedDate": "2020-11-06T17:09:15Z", "message": "Added two methods newWithMap and newWithMapIterable to ImmutableMap. Closes #875\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "54d86857043b0de7becb5cfe5e7809a92367c482", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/54d86857043b0de7becb5cfe5e7809a92367c482", "committedDate": "2020-11-06T17:09:15Z", "message": "Added two methods newWithMap and newWithMapIterable to ImmutableMap. Closes #875\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}, "afterCommit": {"oid": "00410102ce67ef0a3025d0ba586eb02b0e01b7d2", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/00410102ce67ef0a3025d0ba586eb02b0e01b7d2", "committedDate": "2020-11-08T01:29:33Z", "message": "Added two methods newWithMap and newWithMapIterable to ImmutableMap. Closes #875\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2MjU3ODYy", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#pullrequestreview-526257862", "createdAt": "2020-11-09T13:30:47Z", "commit": {"oid": "31b45abbb75c086d646af53dc97075fcbf1e3698"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMzozMDo0N1rOHvvA8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxNDo1NzoxNFrOHvyr9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTgxNTQxMA==", "bodyText": "I would expect a test case also to be fixed or updated, what did I miss? If there are no test cases failing due to this change, we need to add a test \ud83d\ude04", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r519815410", "createdAt": "2020-11-09T13:30:47Z", "author": {"login": "nikhilnanivadekar"}, "path": "eclipse-collections-api/src/main/java/org/eclipse/collections/api/map/FixedSizeMap.java", "diffHunk": "@@ -70,7 +70,12 @@\n     @Override\n     default FixedSizeMap<K, V> withMap(Map<? extends K, ? extends V> map)\n     {\n-        this.putAll(map);\n-        return this;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwMzUyOQ=="}, "originalCommit": {"oid": "e12d560e98264657769c06c282c8ac0f1b467741"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg3MTA1Mg==", "bodyText": "Shouldn't this be in AbstractSynchronizedMapIterable ?", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r519871052", "createdAt": "2020-11-09T14:51:31Z", "author": {"login": "nikhilnanivadekar"}, "path": "eclipse-collections/src/main/java/org/eclipse/collections/impl/bimap/mutable/SynchronizedBiMap.java", "diffHunk": "@@ -302,6 +303,16 @@ public V forcePut(K key, V value)\n         }\n     }\n \n+    @Override\n+    public MutableBiMap<K, V> withMapIterable(MapIterable<? extends K, ? extends V> mapIterable)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f28644ab38b4a1fd97d0fe05faa42ff41476919"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg3MTcxMQ==", "bodyText": "Same comment as SynchronizedBiMap", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r519871711", "createdAt": "2020-11-09T14:52:23Z", "author": {"login": "nikhilnanivadekar"}, "path": "eclipse-collections/src/main/java/org/eclipse/collections/impl/map/mutable/SynchronizedMutableMap.java", "diffHunk": "@@ -124,6 +125,16 @@ public SynchronizedMutableMap(MutableMap<K, V> newMap, Object newLock)\n         }\n     }\n \n+    @Override\n+    public MutableMap<K, V> withMapIterable(MapIterable<? extends K, ? extends V> mapIterable)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f28644ab38b4a1fd97d0fe05faa42ff41476919"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg3Mjg2Mg==", "bodyText": "Same comment as SynchronizedBiMap", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r519872862", "createdAt": "2020-11-09T14:53:54Z", "author": {"login": "nikhilnanivadekar"}, "path": "eclipse-collections/src/main/java/org/eclipse/collections/impl/map/sorted/mutable/SynchronizedSortedMap.java", "diffHunk": "@@ -133,6 +134,16 @@ public SynchronizedSortedMap(MutableSortedMap<K, V> newMap, Object lock)\n         }\n     }\n \n+    @Override\n+    public MutableSortedMap<K, V> withMapIterable(MapIterable<? extends K, ? extends V> mapIterable)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f28644ab38b4a1fd97d0fe05faa42ff41476919"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg3NDIwMA==", "bodyText": "Please reorder this to move it around the other tests of method.", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r519874200", "createdAt": "2020-11-09T14:55:24Z", "author": {"login": "nikhilnanivadekar"}, "path": "unit-tests/src/test/java/org/eclipse/collections/impl/bimap/mutable/UnmodifiableBiMapTest.java", "diffHunk": "@@ -60,6 +60,13 @@\n         return UnmodifiableBiMap.of(Maps.mutable.of(key, value));\n     }\n \n+    @Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f28644ab38b4a1fd97d0fe05faa42ff41476919"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg3NTU3NQ==", "bodyText": "Reorder the tests please to bunch all of them together.", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r519875575", "createdAt": "2020-11-09T14:57:14Z", "author": {"login": "nikhilnanivadekar"}, "path": "unit-tests/src/test/java/org/eclipse/collections/impl/map/mutable/MutableMapIterableTestCase.java", "diffHunk": "@@ -574,6 +575,17 @@ public void withMap()\n         Verify.assertMapsEqual(UnifiedMap.newWithKeysValues(\"A\", 1, \"B\", 22, \"C\", 3), mapWith);\n     }\n \n+    @Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f28644ab38b4a1fd97d0fe05faa42ff41476919"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc9b52470c65dfaf7f67c245e8dbd311999038c2", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/fc9b52470c65dfaf7f67c245e8dbd311999038c2", "committedDate": "2020-11-22T20:21:54Z", "message": "FixedSizeMap to throw UnsupportedOperationException on calling withMap method\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "00410102ce67ef0a3025d0ba586eb02b0e01b7d2", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/00410102ce67ef0a3025d0ba586eb02b0e01b7d2", "committedDate": "2020-11-08T01:29:33Z", "message": "Added two methods newWithMap and newWithMapIterable to ImmutableMap. Closes #875\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}, "afterCommit": {"oid": "43d8d3675c924ebdda9eff79fd1a3fd71b8bbfd5", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/43d8d3675c924ebdda9eff79fd1a3fd71b8bbfd5", "committedDate": "2020-11-22T20:41:07Z", "message": "Add two methods newWithMap and newWithMapIterable to ImmutableMap. Closes #875\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "43d8d3675c924ebdda9eff79fd1a3fd71b8bbfd5", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/43d8d3675c924ebdda9eff79fd1a3fd71b8bbfd5", "committedDate": "2020-11-22T20:41:07Z", "message": "Add two methods newWithMap and newWithMapIterable to ImmutableMap. Closes #875\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}, "afterCommit": {"oid": "dcdf2db233efcf422069fb10331ff4baa54df7c6", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/dcdf2db233efcf422069fb10331ff4baa54df7c6", "committedDate": "2020-11-22T22:41:05Z", "message": "Add two methods newWithMap and newWithMapIterable to ImmutableMap. Closes #875\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MTI4NTc3", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#pullrequestreview-536128577", "createdAt": "2020-11-22T23:31:13Z", "commit": {"oid": "dcdf2db233efcf422069fb10331ff4baa54df7c6"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dcdf2db233efcf422069fb10331ff4baa54df7c6", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/dcdf2db233efcf422069fb10331ff4baa54df7c6", "committedDate": "2020-11-22T22:41:05Z", "message": "Add two methods newWithMap and newWithMapIterable to ImmutableMap. Closes #875\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}, "afterCommit": {"oid": "a5b7b94098992dc95edf81b5c71d34cd4de670be", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/a5b7b94098992dc95edf81b5c71d34cd4de670be", "committedDate": "2020-11-23T17:03:32Z", "message": "Add two methods newWithMap and newWithMapIterable to ImmutableMap. Closes #875\n\nSigned-off-by: Neha Sardana <neha.sardana@bnymellon.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a5b7b94098992dc95edf81b5c71d34cd4de670be", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/a5b7b94098992dc95edf81b5c71d34cd4de670be", "committedDate": "2020-11-23T17:03:32Z", "message": "Add two methods newWithMap and newWithMapIterable to ImmutableMap. Closes #875\n\nSigned-off-by: Neha Sardana <neha.sardana@bnymellon.com>"}, "afterCommit": {"oid": "abfccd304e6844aab2d45f00dcd3c8f75e2f1658", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/abfccd304e6844aab2d45f00dcd3c8f75e2f1658", "committedDate": "2020-11-23T18:34:56Z", "message": "Add two methods newWithMap and newWithMapIterable to ImmutableMap. Closes #875\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2Nzg5NzI1", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#pullrequestreview-536789725", "createdAt": "2020-11-23T19:41:09Z", "commit": {"oid": "abfccd304e6844aab2d45f00dcd3c8f75e2f1658"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2NzkzNzE0", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#pullrequestreview-536793714", "createdAt": "2020-11-23T19:47:11Z", "commit": {"oid": "d63d0036537f9024b2a1c88309a17b590aa4736c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxOTo0NzoxMlrOH4c2hQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxOTo1MDo1OVrOH4c-yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk1NTAxMw==", "bodyText": "@donraab the return type here is a void should we return a MutableMapIterable instead of void, i.e. return a this?\nThe way I look at it is that, if we return a MutableMapIterable it never hurts, but if we return a void, reassigning in user code is impossible.\nI prefer returning this. Thoughts?\nAny case, we will take this in as void and fix it in a next PR.", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r528955013", "createdAt": "2020-11-23T19:47:12Z", "author": {"login": "nikhilnanivadekar"}, "path": "eclipse-collections-api/src/main/java/org/eclipse/collections/api/map/MutableMapIterable.java", "diffHunk": "@@ -172,6 +172,11 @@ default V getOrDefault(Object key, V defaultValue)\n         return this;\n     }\n \n+    default void putAllMapIterable(MapIterable<? extends K, ? extends V> mapIterable)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d63d0036537f9024b2a1c88309a17b590aa4736c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk1NzEzMA==", "bodyText": "Can be replaced with Maps.mutable.with() instead of UnifiedMap", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r528957130", "createdAt": "2020-11-23T19:50:59Z", "author": {"login": "nikhilnanivadekar"}, "path": "unit-tests/src/test/java/org/eclipse/collections/impl/map/mutable/MutableMapIterableTestCase.java", "diffHunk": "@@ -608,6 +608,45 @@ public void withMapNull()\n         Assert.assertThrows(NullPointerException.class, () -> this.newMap().withMap(null));\n     }\n \n+    @Test\n+    public void putAllMapIterable()\n+    {\n+        MutableMapIterable<String, Integer> map = this.newMapWithKeysValues(\"A\", 1, \"B\", 2);\n+        MutableMapIterable<String, Integer> simpleMap = Maps.mutable.with(\"B\", 22, \"C\", 3);\n+        map.putAllMapIterable(simpleMap);\n+        Verify.assertMapsEqual(UnifiedMap.newWithKeysValues(\"A\", 1, \"B\", 22, \"C\", 3), map);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d63d0036537f9024b2a1c88309a17b590aa4736c"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2Nzk5MzUy", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#pullrequestreview-536799352", "createdAt": "2020-11-23T19:55:37Z", "commit": {"oid": "25a7a9f505cc2aa903c43d3081e0504f435c03ca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxOTo1NTozN1rOH4dIig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxOTo1NTozN1rOH4dIig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk1OTYyNg==", "bodyText": "I dont think you need default method here because all the implementing interfaces should have a default method. It is easy to check by removing this method, or you can check the coverage and this method will be uncovered in this interface. If it is uncovered you can delete it.\nThat said, it is good to have default methods to help users with custom implementations, so I would say, you can add a test to cover this method. It can be done separately as a different PR.", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r528959626", "createdAt": "2020-11-23T19:55:37Z", "author": {"login": "nikhilnanivadekar"}, "path": "eclipse-collections-api/src/main/java/org/eclipse/collections/api/map/MutableMapIterable.java", "diffHunk": "@@ -172,6 +172,12 @@ default V getOrDefault(Object key, V defaultValue)\n         return this;\n     }\n \n+    default MutableMapIterable<K, V> withMapIterable(MapIterable<? extends K, ? extends V> mapIterable)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25a7a9f505cc2aa903c43d3081e0504f435c03ca"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2ODAzNDA3", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#pullrequestreview-536803407", "createdAt": "2020-11-23T20:01:33Z", "commit": {"oid": "25a7a9f505cc2aa903c43d3081e0504f435c03ca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMDowMTozNFrOH4dVQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMDowMTozNFrOH4dVQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk2Mjg4Mg==", "bodyText": "Same comment as the previous commit, change to Maps.mutable.with()", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r528962882", "createdAt": "2020-11-23T20:01:34Z", "author": {"login": "nikhilnanivadekar"}, "path": "unit-tests/src/test/java/org/eclipse/collections/impl/map/mutable/MutableMapIterableTestCase.java", "diffHunk": "@@ -608,6 +608,50 @@ public void withMapNull()\n         Assert.assertThrows(NullPointerException.class, () -> this.newMap().withMap(null));\n     }\n \n+    @Test\n+    public void withMapIterable()\n+    {\n+        MutableMapIterable<String, Integer> map = this.newMapWithKeysValues(\"A\", 1, \"B\", 2);\n+        MutableMapIterable<String, Integer> simpleMap = Maps.mutable.with(\"B\", 22, \"C\", 3);\n+        map.putAll(simpleMap);\n+        MutableMapIterable<String, Integer> mapWith = map.withMapIterable(simpleMap);\n+        Assert.assertSame(map, mapWith);\n+        Verify.assertMapsEqual(UnifiedMap.newWithKeysValues(\"A\", 1, \"B\", 22, \"C\", 3), mapWith);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25a7a9f505cc2aa903c43d3081e0504f435c03ca"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2ODA5NjM2", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#pullrequestreview-536809636", "createdAt": "2020-11-23T20:11:08Z", "commit": {"oid": "abfccd304e6844aab2d45f00dcd3c8f75e2f1658"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMDoxMTowOFrOH4doLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMDoxMTowOFrOH4doLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk2NzcyNA==", "bodyText": "I think we need better assertions here. It should be possible to assert with a MutableMap no?", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r528967724", "createdAt": "2020-11-23T20:11:08Z", "author": {"login": "nikhilnanivadekar"}, "path": "unit-tests/src/test/java/org/eclipse/collections/impl/map/immutable/ImmutableMapIterableTestCase.java", "diffHunk": "@@ -383,6 +383,81 @@ public void newWithKeyValue()\n         Verify.assertSize(immutable.size() + 1, immutable2);\n     }\n \n+    @Test\n+    public void newWithMap1()\n+    {\n+        ImmutableMapIterable<Integer, String> immutable = this.classUnderTest();\n+        ImmutableMapIterable<Integer, String> immutable2 =\n+                immutable.newWithMap(UnifiedMap.newMapWith(\n+                        Tuples.pair(\n+                                Integer.MAX_VALUE,\n+                                Integer.toString(Integer.MAX_VALUE)),\n+                        Tuples.pair(\n+                                Integer.MIN_VALUE,\n+                                Integer.toString(Integer.MIN_VALUE))));\n+        Verify.assertSize(immutable.size() + 2, immutable2);\n+    }\n+\n+    @Test\n+    public void withMapNull()\n+    {\n+        Assert.assertThrows(NullPointerException.class, () -> this.classUnderTest().newWithMap(null));\n+    }\n+\n+    @Test\n+    public void newWithMapTargetEmpty()\n+    {\n+        ImmutableMapIterable<Integer, String> immutable = this.classUnderTest();\n+        ImmutableMapIterable<Integer, String> immutable2 = immutable.newWithMap(UnifiedMap.newMap());\n+        Assert.assertNotSame(immutable, immutable2);\n+        Verify.assertMapsEqual(immutable2.castToMap(), immutable.castToMap());\n+    }\n+\n+    @Test\n+    public void newWithMapEmptyAndTargetEmpty()\n+    {\n+        ImmutableMapIterable<Integer, String> immutable = this.classUnderTest();\n+        ImmutableMapIterable<Integer, String> immutable2 = immutable.newWithMap(Maps.mutable.empty());\n+        Assert.assertNotSame(immutable, immutable2);\n+        Verify.assertMapsEqual(immutable2.castToMap(), immutable.castToMap());\n+    }\n+\n+    @Test\n+    public void newWithMapIterable()\n+    {\n+        ImmutableMapIterable<Integer, String> immutable = this.classUnderTest();\n+        ImmutableMapIterable<Integer, String> immutable2 =\n+                immutable.newWithMapIterable(Maps.immutable.of(\n+                        Integer.MAX_VALUE,\n+                        Integer.toString(Integer.MAX_VALUE),\n+                        Integer.MIN_VALUE,\n+                        Integer.toString(Integer.MIN_VALUE)));\n+        Verify.assertSize(immutable.size() + 2, immutable2);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abfccd304e6844aab2d45f00dcd3c8f75e2f1658"}, "originalPosition": 53}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b50f8cbc6b4ca7b2ea110d8cd89e5aea8ecca94", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/5b50f8cbc6b4ca7b2ea110d8cd89e5aea8ecca94", "committedDate": "2020-11-23T23:40:58Z", "message": "Add putAllMapIterable method to Mutable Maps.\n\nSigned-off-by: Neha Sardana <neha.sardana@bnymellon.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d219774a762b92dcdca71ad0142ce201edcf122c", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/d219774a762b92dcdca71ad0142ce201edcf122c", "committedDate": "2020-11-23T23:40:59Z", "message": "Add withMapIterable to MutableMap. Partially closes #875\n\nSigned-off-by: Neha Sardana <neha.sardana@bnymellon.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a46f458c09610557233eb684354fab698645587", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/0a46f458c09610557233eb684354fab698645587", "committedDate": "2020-11-23T23:41:51Z", "message": "Add two methods newWithMap and newWithMapIterable to ImmutableMap. Closes #875\n\nSigned-off-by: Neha Sardana <neha.sardana@bnymellon.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "abfccd304e6844aab2d45f00dcd3c8f75e2f1658", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/abfccd304e6844aab2d45f00dcd3c8f75e2f1658", "committedDate": "2020-11-23T18:34:56Z", "message": "Add two methods newWithMap and newWithMapIterable to ImmutableMap. Closes #875\n\nSigned-off-by: nsardana-bny <neha.sardana@bnymellon.com>"}, "afterCommit": {"oid": "0a46f458c09610557233eb684354fab698645587", "author": {"user": {"login": "nsardana-bny", "name": "Neha Sardana"}}, "url": "https://github.com/eclipse/eclipse-collections/commit/0a46f458c09610557233eb684354fab698645587", "committedDate": "2020-11-23T23:41:51Z", "message": "Add two methods newWithMap and newWithMapIterable to ImmutableMap. Closes #875\n\nSigned-off-by: Neha Sardana <neha.sardana@bnymellon.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MDM2MjI1", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#pullrequestreview-537036225", "createdAt": "2020-11-24T02:46:24Z", "commit": {"oid": "0a46f458c09610557233eb684354fab698645587"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTcwODU5NjUz", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#pullrequestreview-570859653", "createdAt": "2021-01-19T02:10:53Z", "commit": {"oid": "0a46f458c09610557233eb684354fab698645587"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOVQwMjoxMDo1M1rOIV73kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOVQwMjoxMDo1M1rOIV73kA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTg3MTg4OA==", "bodyText": "This is a strange inconsistency we have. withKeyValue on a fixed-size map is capable of replacing a value at a key without growing the map, but put() always throws.", "url": "https://github.com/eclipse/eclipse-collections/pull/1028#discussion_r559871888", "createdAt": "2021-01-19T02:10:53Z", "author": {"login": "motlin"}, "path": "eclipse-collections-api/src/main/java/org/eclipse/collections/api/map/FixedSizeMap.java", "diffHunk": "@@ -70,7 +70,18 @@\n     @Override\n     default FixedSizeMap<K, V> withMap(Map<? extends K, ? extends V> map)\n     {\n-        this.putAll(map);\n-        return this;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a46f458c09610557233eb684354fab698645587"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 637, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}