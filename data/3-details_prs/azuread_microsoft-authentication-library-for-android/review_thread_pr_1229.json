{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwMjQ5NjQ4", "number": 1229, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzowMDozMFrOE5wDHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDo0NTo1MVrOE-1b-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4OTkxNTE5OnYy", "diffSide": "RIGHT", "path": "msal/src/test/java/com/microsoft/identity/client/e2e/shadows/ShadowDeviceCodeFlowCommandSuccessful.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzowMDozMVrOH0Z_nQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzowMDozMVrOH0Z_nQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDcxMzg4NQ==", "bodyText": "Nit: Variable naming here may be improvable", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1229#discussion_r524713885", "createdAt": "2020-11-16T23:00:31Z", "author": {"login": "iambmelt"}, "path": "msal/src/test/java/com/microsoft/identity/client/e2e/shadows/ShadowDeviceCodeFlowCommandSuccessful.java", "diffHunk": "@@ -64,16 +64,18 @@ public AcquireTokenResult execute() {\n                 expiryDate);\n \n         // Create parameters for dummy authentication result\n-        final CacheRecord cacheRecord = new CacheRecord();\n-        cacheRecord.setAccount(new AccountRecord());\n-        cacheRecord.getAccount().setHomeAccountId(\"abcd\");\n-        cacheRecord.getAccount().setLocalAccountId(\"abcd\");\n+        final CacheRecordBuilder cacheRecord = new CacheRecord.builder();\n+        final AccountRecord accountRecord = new AccountRecord();\n+        cacheRecord.account(accountRecord);\n+        accountRecord.setHomeAccountId(\"abcd\");\n+        accountRecord.setLocalAccountId(\"abcd\");\n         final List<ICacheRecord> cacheRecordList = new ArrayList<>();\n-        cacheRecordList.add(cacheRecord);\n+        final ICacheRecord build = cacheRecord.build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8aa480049dbc716724b147dec76962d11d5a06b5"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0MzIyNjgxOnYy", "diffSide": "RIGHT", "path": "msal/src/main/java/com/microsoft/identity/client/AccountAdapter.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDo0NTo1MlrOH8NLDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDo0NTo1MlrOH8NLDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg5MjQzMQ==", "bodyText": "Checking this for null is now moot.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            final AccountRecord account = cacheRecord.getAccount();\n          \n          \n            \n                            if (account == null) {\n          \n          \n            \n                                // If the account is null, it can't be a home account.\n          \n          \n            \n                                continue;\n          \n          \n            \n                            }\n          \n          \n            \n                            final String acctHomeAccountId = account.getHomeAccountId();\n          \n          \n            \n                            final String acctLocalAccountId = account.getLocalAccountId();\n          \n          \n            \n                            final String acctHomeAccountId = cacheRecord.getAccount().getHomeAccountId();\n          \n          \n            \n                            final String acctLocalAccountId = cacheRecord.getAccount().getLocalAccountId();", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1229#discussion_r532892431", "createdAt": "2020-11-30T20:45:52Z", "author": {"login": "AdamBJohnsonx"}, "path": "msal/src/main/java/com/microsoft/identity/client/AccountAdapter.java", "diffHunk": "@@ -79,8 +79,13 @@\n             final List<ICacheRecord> result = new ArrayList<>();\n \n             for (final ICacheRecord cacheRecord : records) {\n-                final String acctHomeAccountId = cacheRecord.getAccount().getHomeAccountId();\n-                final String acctLocalAccountId = cacheRecord.getAccount().getLocalAccountId();\n+                final AccountRecord account = cacheRecord.getAccount();\n+                if (account == null) {\n+                    // If the account is null, it can't be a home account.\n+                    continue;\n+                }\n+                final String acctHomeAccountId = account.getHomeAccountId();\n+                final String acctLocalAccountId = account.getLocalAccountId();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc4a319f59925460918465133ed5a9a71eba712f"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1870, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}