{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4NDg3MDQz", "number": 881, "title": "Introduce AuthorizationFragment", "bodyText": "Requirement:\n\nThere's an ask to display MSAL AuthorizationActivity in a certain area on a screen.\n\nProposed change:\n\nExtracts AuthorizationFragment from AuthorizationActivity\nExpose an API on MSAL to take in a fragment.\nIf a fragment is provided, replace that fragment with AuthorizationFragment (instead of popping up an activity).\n\nLimitation:\n\nThis will only work with MSAL-only (no broker), WebView flow. (Which satisfies the ask).\nonBackPressed will not work when MSAL is in fragment mode.\n\nVerified with the sample app.\nAlso removed unused AuthenticationActivity and related tests.\nRelated PR in common: AzureAD/microsoft-authentication-library-common-for-android#763", "createdAt": "2020-01-01T13:17:05Z", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/881", "merged": true, "mergeCommit": {"oid": "dce3e35353c19f7d821d6c0896e570d0fb503a5e"}, "closed": true, "closedAt": "2020-01-03T04:39:40Z", "author": {"login": "rpdome"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb2EzbbAH2gAyMzU4NDg3MDQzOmE4OTkwYjZmYWJkZTExYzFiMzJmM2Y0NTVjNDljZjYwOWE1ZWNiMGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb2l9QTAH2gAyMzU4NDg3MDQzOmVhZThjNjFjYjA5YWE4OTIxYjY5MTdjMzYwMmNkZWM2ZmY1MTlmMTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a8990b6fabde11c1b32f3f455c49cf609a5ecb0d", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/a8990b6fabde11c1b32f3f455c49cf609a5ecb0d", "committedDate": "2020-01-01T13:02:38Z", "message": "Add fragment support. Remove AuthenticationActivity."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7134e515b76c2abdc65b8287982f7004c44d7c6", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/b7134e515b76c2abdc65b8287982f7004c44d7c6", "committedDate": "2020-01-01T13:03:05Z", "message": "Update common"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dcd89729718338d6a62c5f02e8194ed3d1dd9ef6", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/dcd89729718338d6a62c5f02e8194ed3d1dd9ef6", "committedDate": "2020-01-02T19:36:38Z", "message": "Merge branch 'dev' into rapong/supportFragment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3ODMzOTEz", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/881#pullrequestreview-337833913", "createdAt": "2020-01-02T20:05:06Z", "commit": {"oid": "dcd89729718338d6a62c5f02e8194ed3d1dd9ef6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQyMDowNTowNlrOFZ0BWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQyMDowNTowNlrOFZ0BWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxMTAzMw==", "bodyText": "Why add new overloads ? I personally prefer to add  overloads only if it's must,  else too many methods would effect the readability of public api's . We spent a lot of time cleaning up the overloads already and we introduced AcquireTokenParameters for this reason . Since we expose Fragment through AcquireTokenParameters the developers should be able to use that.", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/881#discussion_r362611033", "createdAt": "2020-01-02T20:05:06Z", "author": {"login": "kreedula"}, "path": "msal/src/main/java/com/microsoft/identity/client/IMultipleAccountPublicClientApplication.java", "diffHunk": "@@ -115,6 +116,31 @@ void acquireToken(@NonNull final Activity activity,\n                       @NonNull final AuthenticationCallback callback\n     );\n \n+    /**\n+     * Acquire token interactively, will pop-up webUI. Interactive flow will skip the cache lookup.\n+     * Default value for {@link Prompt} is {@link Prompt#SELECT_ACCOUNT}.\n+     *\n+     * @param fragment Non-null {@link Fragment} that will be replaced by {@link com.microsoft.identity.common.internal.providers.oauth2.AuthorizationFragment}.\n+     *                 NOTE: Only when the following conditions in the config file are satisfied, MSAL UI will be displayed as a fragment.\n+     *                 1. \"broker_redirect_uri_registered\" : \"FALSE\"\n+     *                 2. \"authorization_user_agent\" : \"WEBVIEW\"\n+     *                 Otherwise, it will be displayed as an {@link com.microsoft.identity.common.internal.providers.oauth2.AuthorizationActivity}.\n+     * @param scopes   The non-null array of scopes to be requested for the access token.\n+     *                 MSAL always sends the scopes 'openid profile offline_access'.  Do not include any of these scopes in the scope parameter.\n+     * @param callback The {@link AuthenticationCallback} to receive the result back.\n+     *                 1) If user cancels the flow by pressing the device back button, the result will be sent\n+     *                 back via {@link AuthenticationCallback#onCancel()}.\n+     *                 2) If the sdk successfully receives the token back, result will be sent back via\n+     *                 {@link AuthenticationCallback#onSuccess(IAuthenticationResult)}\n+     *                 3) All the other errors will be sent back via\n+     *                 {@link AuthenticationCallback#onError(MsalException)}.\n+     */\n+    void acquireToken(@NonNull final Fragment fragment,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dcd89729718338d6a62c5f02e8194ed3d1dd9ef6"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbb2272f2626f67495bc5cb7f71a6b2f504e2539", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/bbb2272f2626f67495bc5cb7f71a6b2f504e2539", "committedDate": "2020-01-02T20:41:17Z", "message": "Address comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3ODQ5Njc1", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/881#pullrequestreview-337849675", "createdAt": "2020-01-02T20:44:38Z", "commit": {"oid": "bbb2272f2626f67495bc5cb7f71a6b2f504e2539"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3ODkyODAz", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/881#pullrequestreview-337892803", "createdAt": "2020-01-02T22:42:12Z", "commit": {"oid": "bbb2272f2626f67495bc5cb7f71a6b2f504e2539"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "945c5852f24eadf8b68e082a44a284710b803b14", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/945c5852f24eadf8b68e082a44a284710b803b14", "committedDate": "2020-01-03T03:40:03Z", "message": "Update common"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eae8c61cb09aa8921b6917c3602cdec6ff519f19", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/eae8c61cb09aa8921b6917c3602cdec6ff519f19", "committedDate": "2020-01-03T03:40:14Z", "message": "Merge branch 'dev' into rapong/supportFragment"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1350, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}