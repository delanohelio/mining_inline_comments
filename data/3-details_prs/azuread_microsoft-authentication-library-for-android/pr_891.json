{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxNjQyODE3", "number": 891, "title": "Merge the provided authority/clientid with the config object. Add redirectUri as part of PCA factory overload.", "bodyText": "Fix #890\nTwo issues here.\n\nPCA is not honoring authority/clientID before it makes a call to get device mode. Since no configuration file is passed. clientID will be null and exception is thrown.\nredirectURI is also not there. Given that there are more than one default redirectURI format (broker Redirect URI was introduced as part of MSAL 1.0), we decided that this should be passed explicitly (instead of trying to prefill it).", "createdAt": "2020-01-10T22:12:36Z", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/891", "merged": true, "mergeCommit": {"oid": "5f16522be411b401c138cacee236a0957abdea9d"}, "closed": true, "closedAt": "2020-01-10T23:00:55Z", "author": {"login": "rpdome"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb5F-RGgH2gAyMzYxNjQyODE3OmUzNjViMGE2NDdmMWQ1NzkzZmNhMDYwOWNmODc3NWFmM2RlZjc1ZTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb5GrYzAFqTM0MTQ2NDgyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e365b0a647f1d5793fca0609cf8775af3def75e9", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/e365b0a647f1d5793fca0609cf8775af3def75e9", "committedDate": "2020-01-10T22:06:09Z", "message": "Merge the provided authority/clientid with the config object. Add redirectUri as part of PCA factory overload."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff80ab0abd9dbfbce3d46ea2f24d89906eb2fb46", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/ff80ab0abd9dbfbce3d46ea2f24d89906eb2fb46", "committedDate": "2020-01-10T22:11:56Z", "message": "Add comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNDUzMDk5", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/891#pullrequestreview-341453099", "createdAt": "2020-01-10T22:20:01Z", "commit": {"oid": "e365b0a647f1d5793fca0609cf8775af3def75e9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNDUxMDk1", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/891#pullrequestreview-341451095", "createdAt": "2020-01-10T22:14:44Z", "commit": {"oid": "e365b0a647f1d5793fca0609cf8775af3def75e9"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjoxNDo0NVrOFchZxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjoyMTo0NFrOFchh7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MTcxOQ==", "bodyText": "nit: add // redirectUri as a comment for readability like above", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/891#discussion_r365451719", "createdAt": "2020-01-10T22:14:45Z", "author": {"login": "kreedula"}, "path": "msal/src/main/java/com/microsoft/identity/client/PublicClientApplication.java", "diffHunk": "@@ -247,6 +247,7 @@ public static void create(@NonNull final Context context,\n                 initializeConfiguration(context, configFileResourceId),\n                 null, // client id\n                 null, // authority\n+                null,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e365b0a647f1d5793fca0609cf8775af3def75e9"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MTc1Mw==", "bodyText": "same", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/891#discussion_r365451753", "createdAt": "2020-01-10T22:14:54Z", "author": {"login": "kreedula"}, "path": "msal/src/main/java/com/microsoft/identity/client/PublicClientApplication.java", "diffHunk": "@@ -285,44 +285,8 @@ public static void create(@NonNull final Context context,\n         create(\n                 initializeConfiguration(context, configFile),\n                 null, // client id\n-                null, // authority\n-                listener\n-        );\n-    }\n-\n-    /**\n-     * {@link PublicClientApplication#create(Context, String, ApplicationCreatedListener)} allows\n-     * the client id to be passed instead of providing through the AndroidManifest metadata.\n-     * If this constructor is called, the default authority https://login.microsoftonline.com/common\n-     * will be used.\n-     *\n-     * @param context  Application's {@link Context}. The sdk requires the application context to\n-     *                 be passed in {@link PublicClientApplication}. Cannot be null.\n-     *                 <p>\n-     *                 Note: The {@link Context} should be the application context instead of the\n-     *                 running activity's context, which could potentially make the sdk hold a\n-     *                 strong reference to the activity, thus preventing correct garbage collection\n-     *                 and causing bugs.\n-     *                 </p>\n-     * @param clientId The application's client id. Cannot be null.\n-     * @param listener a callback to be invoked when the object is successfully created.\n-     *                 Cannot be null.\n-     * @see PublicClientApplication#create(Context, int, ApplicationCreatedListener)\n-     * @see PublicClientApplication#create(Context, File, ApplicationCreatedListener)\n-     * @see PublicClientApplication#create(Context, String, String, ApplicationCreatedListener)\n-     * @see PublicClientApplication#create(Context, int)\n-     */\n-    public static void create(@NonNull final Context context,\n-                              @NonNull final String clientId,\n-                              @NonNull final ApplicationCreatedListener listener) {\n-        validateNonNullArgument(context, NONNULL_CONSTANTS.CONTEXT);\n-        validateNonNullArgument(clientId, NONNULL_CONSTANTS.CLIENT_ID);\n-        validateNonNullArgument(listener, NONNULL_CONSTANTS.LISTENER);\n-\n-        create(\n-                initializeConfiguration(context),\n-                clientId,\n-                null, // authority\n+                null, // authority,\n+                null,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e365b0a647f1d5793fca0609cf8775af3def75e9"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MzQxNg==", "bodyText": "why null checks here, since we are already validating in public api's above.", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/891#discussion_r365453416", "createdAt": "2020-01-10T22:20:13Z", "author": {"login": "kreedula"}, "path": "msal/src/main/java/com/microsoft/identity/client/PublicClientApplication.java", "diffHunk": "@@ -849,8 +815,23 @@ private static ISingleAccountPublicClientApplication createSingleAccountPublicCl\n     private static void create(@NonNull final PublicClientApplicationConfiguration config,\n                                @Nullable final String clientId,\n                                @Nullable final String authority,\n+                               @Nullable final String redirectUri,\n                                @NonNull final ApplicationCreatedListener listener) {\n+        if (clientId != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e365b0a647f1d5793fca0609cf8775af3def75e9"}, "originalPosition": 190}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MzgwNA==", "bodyText": "same", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/891#discussion_r365453804", "createdAt": "2020-01-10T22:21:44Z", "author": {"login": "kreedula"}, "path": "msal/src/main/java/com/microsoft/identity/client/PublicClientApplication.java", "diffHunk": "@@ -768,6 +733,7 @@ private static IPublicClientApplication create(\n         final ResultFuture<AsyncResult<IPublicClientApplication>> future = new ResultFuture<>();\n         create(configuration,\n                 null, // client id\n+                null,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e365b0a647f1d5793fca0609cf8775af3def75e9"}, "originalPosition": 153}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3c149967f2efd760ec632885a190e9c6f4bd105", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/f3c149967f2efd760ec632885a190e9c6f4bd105", "committedDate": "2020-01-10T22:30:35Z", "message": "Update test cases to work with the updated API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNDU4OTI3", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/891#pullrequestreview-341458927", "createdAt": "2020-01-10T22:36:21Z", "commit": {"oid": "f3c149967f2efd760ec632885a190e9c6f4bd105"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNDY0ODI1", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/891#pullrequestreview-341464825", "createdAt": "2020-01-10T22:55:26Z", "commit": {"oid": "f3c149967f2efd760ec632885a190e9c6f4bd105"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1356, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}