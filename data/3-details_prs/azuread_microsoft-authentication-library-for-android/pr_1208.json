{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1MDkyNzgx", "number": 1208, "title": "Implement support for client_claims in ATs, SHRs", "bodyText": "Impetus:\n\n#1207\n\nDepends on:\n\nAzureAD/microsoft-authentication-library-common-for-android#1111", "createdAt": "2020-11-04T02:21:17Z", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208", "merged": true, "mergeCommit": {"oid": "c994ae7affd118711c4abed44753dde3df88eeeb"}, "closed": true, "closedAt": "2020-11-13T04:21:29Z", "author": {"login": "iambmelt"}, "timelineItems": {"totalCount": 64, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZABq7AH2gAyNTE1MDkyNzgxOjdkOWE0NWZkYjQwOTE0NjM3ZjNiZjQxOTRlMWRkYjVkMjQzMDBhMWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdb-r0bAH2gAyNTE1MDkyNzgxOjc1NWRiMmQ5YjAzM2RhOWE4MTYzZDU0OTg4NTVhMzYxNzRiNjM3OTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7d9a45fdb40914637f3bf4194e1ddb5d24300a1a", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/7d9a45fdb40914637f3bf4194e1ddb5d24300a1a", "committedDate": "2020-11-03T21:27:10Z", "message": "Stubbing out API"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "078173193f966ce1a99903f677de3e14239ed3b2", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/078173193f966ce1a99903f677de3e14239ed3b2", "committedDate": "2020-11-03T21:58:35Z", "message": "Stubbing out new UI for accepting client_claims in testapp"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dde92592a65458c4b145182cb72dc816a327bd09", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/dde92592a65458c4b145182cb72dc816a327bd09", "committedDate": "2020-11-03T22:31:40Z", "message": "Adding testapp btn to control generateShr"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64f3123bd5e6875515bd07ced1057c8d4021c61a", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/64f3123bd5e6875515bd07ced1057c8d4021c61a", "committedDate": "2020-11-04T00:38:42Z", "message": "WIP implementing client_claims"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b0c169b4507712f7f25799aa2e97b7f00ce84b1", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/4b0c169b4507712f7f25799aa2e97b7f00ce84b1", "committedDate": "2020-11-04T02:19:43Z", "message": "Update submodule, wire up testapp controls"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d31228990002152369b87adead2cf73a1285d02", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/7d31228990002152369b87adead2cf73a1285d02", "committedDate": "2020-11-04T02:24:26Z", "message": "Fix POSIX warning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f418e513d098c6caf5e4c907a15be4d22ae6240b", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/f418e513d098c6caf5e4c907a15be4d22ae6240b", "committedDate": "2020-11-04T02:26:32Z", "message": "Adds javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5d1c15bbe8caead7c96e3a525bfd6f632b27a0b", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/a5d1c15bbe8caead7c96e3a525bfd6f632b27a0b", "committedDate": "2020-11-04T02:42:33Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d2d431eea3bfdc3927c7dfc5b66566fe061a62e", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/9d2d431eea3bfdc3927c7dfc5b66566fe061a62e", "committedDate": "2020-11-05T00:23:52Z", "message": "Stubbing out more impl"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "529c3688f47002d9da82cedeeab2d7a079c113af", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/529c3688f47002d9da82cedeeab2d7a079c113af", "committedDate": "2020-11-05T01:15:15Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d81dd2c19d86fd486b852f06a993a9db16941b8", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/8d81dd2c19d86fd486b852f06a993a9db16941b8", "committedDate": "2020-11-05T01:46:33Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "439acce047a81f655cd67367a2e7de3024ebbfc2", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/439acce047a81f655cd67367a2e7de3024ebbfc2", "committedDate": "2020-11-05T02:21:53Z", "message": "Correcting error message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b47b75e643cf9f41880b53ad515a8129927de04", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/2b47b75e643cf9f41880b53ad515a8129927de04", "committedDate": "2020-11-05T23:11:18Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abd27b93a5caba2a668bdf55c79a1c5ca3b82372", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/abd27b93a5caba2a668bdf55c79a1c5ca3b82372", "committedDate": "2020-11-06T00:09:35Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a784e5a0c91a60b51b90c9d1b5f3189e0605f353", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/a784e5a0c91a60b51b90c9d1b5f3189e0605f353", "committedDate": "2020-11-06T01:39:29Z", "message": "Bugfixing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c4e69e3f09c7c4c440d7a47e7c5f221b098cdbb", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/3c4e69e3f09c7c4c440d7a47e7c5f221b098cdbb", "committedDate": "2020-11-06T01:41:23Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0ODMxNzY3", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-524831767", "createdAt": "2020-11-06T03:23:00Z", "commit": {"oid": "3c4e69e3f09c7c4c440d7a47e7c5f221b098cdbb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMzoyMzowMFrOHue1Lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMzoyMzowMFrOHue1Lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODUwMTY3OQ==", "bodyText": "?", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#discussion_r518501679", "createdAt": "2020-11-06T03:23:00Z", "author": {"login": "iambmelt"}, "path": "msal/src/main/java/com/microsoft/identity/client/PublicClientApplication.java", "diffHunk": "@@ -1263,6 +1266,123 @@ public boolean isSharedDevice() {\n         return mPublicClientConfiguration.getIsSharedDevice();\n     }\n \n+    @Override\n+    public String generateSignedHttpRequest(@NonNull final IAccount account,\n+                                            @NonNull final PoPAuthenticationScheme popParameters) throws MsalException {\n+        final ResultFuture<AsyncResult<GenerateShrResult>> future = new ResultFuture<>();\n+\n+        final GenerateShrCommandParameters cmdParams =\n+                CommandParametersAdapter.createGenerateShrCommandParameters(\n+                        mPublicClientConfiguration,\n+                        mPublicClientConfiguration.getOAuth2TokenCache(),\n+                        ((Account) account).getHomeAccountId(), // TODO Cleanup?\n+                        popParameters\n+                );\n+        final GenerateShrCommand generateShrCommand = new GenerateShrCommand(\n+                cmdParams,\n+                MSALControllerFactory.getAllControllers(\n+                        mPublicClientConfiguration.getAppContext(),\n+                        mPublicClientConfiguration.getDefaultAuthority(),\n+                        mPublicClientConfiguration\n+                ),\n+                new CommandCallback<GenerateShrResult, BaseException>() {\n+                    @Override\n+                    public void onCancel() {\n+                        // Not cancellable\n+                    }\n+\n+                    @Override\n+                    public void onError(BaseException error) {\n+                        future.setResult(\n+                                new AsyncResult<GenerateShrResult>(\n+                                        null,\n+                                        baseExceptionToMsalException(error)\n+                                )\n+                        );\n+                    }\n+\n+                    @Override\n+                    public void onTaskCompleted(GenerateShrResult generateShrResult) {\n+                        future.setResult(new AsyncResult<>(generateShrResult, null));\n+                    }\n+                },\n+                \"\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c4e69e3f09c7c4c440d7a47e7c5f221b098cdbb"}, "originalPosition": 66}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0ODMxOTM1", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-524831935", "createdAt": "2020-11-06T03:23:39Z", "commit": {"oid": "3c4e69e3f09c7c4c440d7a47e7c5f221b098cdbb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMzoyMzozOVrOHue1ww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMzoyMzozOVrOHue1ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODUwMTgyNw==", "bodyText": "remove todo, this is fine", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#discussion_r518501827", "createdAt": "2020-11-06T03:23:39Z", "author": {"login": "iambmelt"}, "path": "msal/src/main/java/com/microsoft/identity/client/PublicClientApplication.java", "diffHunk": "@@ -1263,6 +1266,123 @@ public boolean isSharedDevice() {\n         return mPublicClientConfiguration.getIsSharedDevice();\n     }\n \n+    @Override\n+    public String generateSignedHttpRequest(@NonNull final IAccount account,\n+                                            @NonNull final PoPAuthenticationScheme popParameters) throws MsalException {\n+        final ResultFuture<AsyncResult<GenerateShrResult>> future = new ResultFuture<>();\n+\n+        final GenerateShrCommandParameters cmdParams =\n+                CommandParametersAdapter.createGenerateShrCommandParameters(\n+                        mPublicClientConfiguration,\n+                        mPublicClientConfiguration.getOAuth2TokenCache(),\n+                        ((Account) account).getHomeAccountId(), // TODO Cleanup?\n+                        popParameters\n+                );\n+        final GenerateShrCommand generateShrCommand = new GenerateShrCommand(\n+                cmdParams,\n+                MSALControllerFactory.getAllControllers(\n+                        mPublicClientConfiguration.getAppContext(),\n+                        mPublicClientConfiguration.getDefaultAuthority(),\n+                        mPublicClientConfiguration\n+                ),\n+                new CommandCallback<GenerateShrResult, BaseException>() {\n+                    @Override\n+                    public void onCancel() {\n+                        // Not cancellable\n+                    }\n+\n+                    @Override\n+                    public void onError(BaseException error) {\n+                        future.setResult(\n+                                new AsyncResult<GenerateShrResult>(\n+                                        null,\n+                                        baseExceptionToMsalException(error)\n+                                )\n+                        );\n+                    }\n+\n+                    @Override\n+                    public void onTaskCompleted(GenerateShrResult generateShrResult) {\n+                        future.setResult(new AsyncResult<>(generateShrResult, null));\n+                    }\n+                },\n+                \"\"\n+        );\n+\n+        // Execute this command silently...\n+        CommandDispatcher.submitSilent(generateShrCommand);\n+\n+        try {\n+            final AsyncResult<GenerateShrResult> asyncResult = future.get();\n+\n+            if (asyncResult.getSuccess()) {\n+                return asyncResult.getResult().getShr();\n+            } else {\n+                throw asyncResult.getException();\n+            }\n+        } catch (ExecutionException | InterruptedException e) {\n+            throw new MsalClientException(\n+                    UNKNOWN_ERROR,\n+                    \"Unexpected error while generating SHR.\",\n+                    e\n+            );\n+        }\n+    }\n+\n+    @Override\n+    public void generateSignedHttpRequest(@NonNull final IAccount account,\n+                                          @NonNull final PoPAuthenticationScheme popParameters,\n+                                          @NonNull final SignedHttpRequestRequestCallback callback) {\n+        final GenerateShrCommandParameters cmdParams =\n+                CommandParametersAdapter.createGenerateShrCommandParameters(\n+                        mPublicClientConfiguration,\n+                        mPublicClientConfiguration.getOAuth2TokenCache(),\n+                        ((Account) account).getHomeAccountId(), // TODO Cleanup?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c4e69e3f09c7c4c440d7a47e7c5f221b098cdbb"}, "originalPosition": 97}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0ODMxOTky", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-524831992", "createdAt": "2020-11-06T03:23:49Z", "commit": {"oid": "3c4e69e3f09c7c4c440d7a47e7c5f221b098cdbb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMzoyMzo0OVrOHue18w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMzoyMzo0OVrOHue18w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODUwMTg3NQ==", "bodyText": "final", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#discussion_r518501875", "createdAt": "2020-11-06T03:23:49Z", "author": {"login": "iambmelt"}, "path": "msal/src/main/java/com/microsoft/identity/client/PublicClientApplication.java", "diffHunk": "@@ -1263,6 +1266,123 @@ public boolean isSharedDevice() {\n         return mPublicClientConfiguration.getIsSharedDevice();\n     }\n \n+    @Override\n+    public String generateSignedHttpRequest(@NonNull final IAccount account,\n+                                            @NonNull final PoPAuthenticationScheme popParameters) throws MsalException {\n+        final ResultFuture<AsyncResult<GenerateShrResult>> future = new ResultFuture<>();\n+\n+        final GenerateShrCommandParameters cmdParams =\n+                CommandParametersAdapter.createGenerateShrCommandParameters(\n+                        mPublicClientConfiguration,\n+                        mPublicClientConfiguration.getOAuth2TokenCache(),\n+                        ((Account) account).getHomeAccountId(), // TODO Cleanup?\n+                        popParameters\n+                );\n+        final GenerateShrCommand generateShrCommand = new GenerateShrCommand(\n+                cmdParams,\n+                MSALControllerFactory.getAllControllers(\n+                        mPublicClientConfiguration.getAppContext(),\n+                        mPublicClientConfiguration.getDefaultAuthority(),\n+                        mPublicClientConfiguration\n+                ),\n+                new CommandCallback<GenerateShrResult, BaseException>() {\n+                    @Override\n+                    public void onCancel() {\n+                        // Not cancellable\n+                    }\n+\n+                    @Override\n+                    public void onError(BaseException error) {\n+                        future.setResult(\n+                                new AsyncResult<GenerateShrResult>(\n+                                        null,\n+                                        baseExceptionToMsalException(error)\n+                                )\n+                        );\n+                    }\n+\n+                    @Override\n+                    public void onTaskCompleted(GenerateShrResult generateShrResult) {\n+                        future.setResult(new AsyncResult<>(generateShrResult, null));\n+                    }\n+                },\n+                \"\"\n+        );\n+\n+        // Execute this command silently...\n+        CommandDispatcher.submitSilent(generateShrCommand);\n+\n+        try {\n+            final AsyncResult<GenerateShrResult> asyncResult = future.get();\n+\n+            if (asyncResult.getSuccess()) {\n+                return asyncResult.getResult().getShr();\n+            } else {\n+                throw asyncResult.getException();\n+            }\n+        } catch (ExecutionException | InterruptedException e) {\n+            throw new MsalClientException(\n+                    UNKNOWN_ERROR,\n+                    \"Unexpected error while generating SHR.\",\n+                    e\n+            );\n+        }\n+    }\n+\n+    @Override\n+    public void generateSignedHttpRequest(@NonNull final IAccount account,\n+                                          @NonNull final PoPAuthenticationScheme popParameters,\n+                                          @NonNull final SignedHttpRequestRequestCallback callback) {\n+        final GenerateShrCommandParameters cmdParams =\n+                CommandParametersAdapter.createGenerateShrCommandParameters(\n+                        mPublicClientConfiguration,\n+                        mPublicClientConfiguration.getOAuth2TokenCache(),\n+                        ((Account) account).getHomeAccountId(), // TODO Cleanup?\n+                        popParameters\n+                );\n+        try {\n+            final GenerateShrCommand generateShrCommand = new GenerateShrCommand(\n+                    cmdParams,\n+                    MSALControllerFactory.getAllControllers(\n+                            mPublicClientConfiguration.getAppContext(),\n+                            mPublicClientConfiguration.getDefaultAuthority(),\n+                            mPublicClientConfiguration\n+                    ),\n+                    new CommandCallback<GenerateShrResult, BaseException>() {\n+                        @Override\n+                        public void onCancel() {\n+                            // Not cancellable\n+                        }\n+\n+                        @Override\n+                        public void onError(BaseException error) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c4e69e3f09c7c4c440d7a47e7c5f221b098cdbb"}, "originalPosition": 115}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0ODMyMDA3", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-524832007", "createdAt": "2020-11-06T03:23:54Z", "commit": {"oid": "3c4e69e3f09c7c4c440d7a47e7c5f221b098cdbb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMzoyMzo1NFrOHue2Bg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMzoyMzo1NFrOHue2Bg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODUwMTg5NA==", "bodyText": "final", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#discussion_r518501894", "createdAt": "2020-11-06T03:23:54Z", "author": {"login": "iambmelt"}, "path": "msal/src/main/java/com/microsoft/identity/client/PublicClientApplication.java", "diffHunk": "@@ -1263,6 +1266,123 @@ public boolean isSharedDevice() {\n         return mPublicClientConfiguration.getIsSharedDevice();\n     }\n \n+    @Override\n+    public String generateSignedHttpRequest(@NonNull final IAccount account,\n+                                            @NonNull final PoPAuthenticationScheme popParameters) throws MsalException {\n+        final ResultFuture<AsyncResult<GenerateShrResult>> future = new ResultFuture<>();\n+\n+        final GenerateShrCommandParameters cmdParams =\n+                CommandParametersAdapter.createGenerateShrCommandParameters(\n+                        mPublicClientConfiguration,\n+                        mPublicClientConfiguration.getOAuth2TokenCache(),\n+                        ((Account) account).getHomeAccountId(), // TODO Cleanup?\n+                        popParameters\n+                );\n+        final GenerateShrCommand generateShrCommand = new GenerateShrCommand(\n+                cmdParams,\n+                MSALControllerFactory.getAllControllers(\n+                        mPublicClientConfiguration.getAppContext(),\n+                        mPublicClientConfiguration.getDefaultAuthority(),\n+                        mPublicClientConfiguration\n+                ),\n+                new CommandCallback<GenerateShrResult, BaseException>() {\n+                    @Override\n+                    public void onCancel() {\n+                        // Not cancellable\n+                    }\n+\n+                    @Override\n+                    public void onError(BaseException error) {\n+                        future.setResult(\n+                                new AsyncResult<GenerateShrResult>(\n+                                        null,\n+                                        baseExceptionToMsalException(error)\n+                                )\n+                        );\n+                    }\n+\n+                    @Override\n+                    public void onTaskCompleted(GenerateShrResult generateShrResult) {\n+                        future.setResult(new AsyncResult<>(generateShrResult, null));\n+                    }\n+                },\n+                \"\"\n+        );\n+\n+        // Execute this command silently...\n+        CommandDispatcher.submitSilent(generateShrCommand);\n+\n+        try {\n+            final AsyncResult<GenerateShrResult> asyncResult = future.get();\n+\n+            if (asyncResult.getSuccess()) {\n+                return asyncResult.getResult().getShr();\n+            } else {\n+                throw asyncResult.getException();\n+            }\n+        } catch (ExecutionException | InterruptedException e) {\n+            throw new MsalClientException(\n+                    UNKNOWN_ERROR,\n+                    \"Unexpected error while generating SHR.\",\n+                    e\n+            );\n+        }\n+    }\n+\n+    @Override\n+    public void generateSignedHttpRequest(@NonNull final IAccount account,\n+                                          @NonNull final PoPAuthenticationScheme popParameters,\n+                                          @NonNull final SignedHttpRequestRequestCallback callback) {\n+        final GenerateShrCommandParameters cmdParams =\n+                CommandParametersAdapter.createGenerateShrCommandParameters(\n+                        mPublicClientConfiguration,\n+                        mPublicClientConfiguration.getOAuth2TokenCache(),\n+                        ((Account) account).getHomeAccountId(), // TODO Cleanup?\n+                        popParameters\n+                );\n+        try {\n+            final GenerateShrCommand generateShrCommand = new GenerateShrCommand(\n+                    cmdParams,\n+                    MSALControllerFactory.getAllControllers(\n+                            mPublicClientConfiguration.getAppContext(),\n+                            mPublicClientConfiguration.getDefaultAuthority(),\n+                            mPublicClientConfiguration\n+                    ),\n+                    new CommandCallback<GenerateShrResult, BaseException>() {\n+                        @Override\n+                        public void onCancel() {\n+                            // Not cancellable\n+                        }\n+\n+                        @Override\n+                        public void onError(BaseException error) {\n+                            callback.onError(baseExceptionToMsalException(error));\n+                        }\n+\n+                        @Override\n+                        public void onTaskCompleted(GenerateShrResult generateShrResult) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c4e69e3f09c7c4c440d7a47e7c5f221b098cdbb"}, "originalPosition": 120}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0ODMyMDg0", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-524832084", "createdAt": "2020-11-06T03:24:12Z", "commit": {"oid": "3c4e69e3f09c7c4c440d7a47e7c5f221b098cdbb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMzoyNDoxMlrOHue2RA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMzoyNDoxMlrOHue2RA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODUwMTk1Ng==", "bodyText": "javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#discussion_r518501956", "createdAt": "2020-11-06T03:24:12Z", "author": {"login": "iambmelt"}, "path": "msal/src/main/java/com/microsoft/identity/client/internal/CommandParametersAdapter.java", "diffHunk": "@@ -405,4 +406,27 @@ private static OpenIdConnectPromptParameter getPromptParameter(@NonNull final Ac\n             return parameters.getPrompt().toOpenIdConnectPromptParameter();\n         }\n     }\n+\n+    public static GenerateShrCommandParameters createGenerateShrCommandParameters(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c4e69e3f09c7c4c440d7a47e7c5f221b098cdbb"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0ODMyMzU4", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-524832358", "createdAt": "2020-11-06T03:25:18Z", "commit": {"oid": "3c4e69e3f09c7c4c440d7a47e7c5f221b098cdbb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMzoyNToxOFrOHue3Rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwMzoyNToxOFrOHue3Rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODUwMjIxNQ==", "bodyText": "Wire this up", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#discussion_r518502215", "createdAt": "2020-11-06T03:25:18Z", "author": {"login": "iambmelt"}, "path": "testapps/testapp/src/main/java/com/microsoft/identity/client/testapp/SingleAccountModeWrapper.java", "diffHunk": "@@ -129,4 +130,12 @@ void acquireTokenWithDeviceCodeFlowInternal(@NonNull String[] scopes,\n                                                 @NonNull final IPublicClientApplication.DeviceCodeFlowCallback callback) {\n         mApp.acquireTokenWithDeviceCode(scopes, callback);\n     }\n+\n+    @Override\n+    public void generateSignedHttpRequestInternal(@NonNull final IAccount account,\n+                                                  @NonNull final PoPAuthenticationScheme params,\n+                                                  @NonNull final INotifyOperationResultCallback<String> generateShrCallback) {\n+        // TODO Make async!\n+        generateShrCallback.onSuccess(\"Result!\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c4e69e3f09c7c4c440d7a47e7c5f221b098cdbb"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "587b167a8c98231a0f535793c5283f3ed714ba8c", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/587b167a8c98231a0f535793c5283f3ed714ba8c", "committedDate": "2020-11-06T20:11:51Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c251c11546a9434077f21e8fe7032162ac658628", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/c251c11546a9434077f21e8fe7032162ac658628", "committedDate": "2020-11-06T20:25:19Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a754e8f62366d7375a974f789ab3ce20835e45bc", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/a754e8f62366d7375a974f789ab3ce20835e45bc", "committedDate": "2020-11-06T23:12:26Z", "message": "Update submodule"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9fa617b8933ee5f9e3b06d72bde1fccf967177d", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/d9fa617b8933ee5f9e3b06d72bde1fccf967177d", "committedDate": "2020-11-06T23:55:13Z", "message": "Code cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27e1d491d9927f6251f7b9d505b3fd8b8752cfd7", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/27e1d491d9927f6251f7b9d505b3fd8b8752cfd7", "committedDate": "2020-11-06T23:58:58Z", "message": "Adding comment for (as yet) unused var"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79413034067fcae64f6f97b0c16dcd0a9f34ccdc", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/79413034067fcae64f6f97b0c16dcd0a9f34ccdc", "committedDate": "2020-11-07T00:00:30Z", "message": "Removing TODO"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08cb11b2ffa63b8797a05eed1e8efae62850f121", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/08cb11b2ffa63b8797a05eed1e8efae62850f121", "committedDate": "2020-11-07T00:15:22Z", "message": "Annotating callback params"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1f276e65efe45748059dc88dab613da30b83562", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/e1f276e65efe45748059dc88dab613da30b83562", "committedDate": "2020-11-07T00:23:01Z", "message": "Adds javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cab112794c7be8cf4f850eaa5f7395345169df2", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/5cab112794c7be8cf4f850eaa5f7395345169df2", "committedDate": "2020-11-07T00:30:22Z", "message": "Wire up Singleaccountmode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23bd092689093cc3402748ca91b680801350caf7", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/23bd092689093cc3402748ca91b680801350caf7", "committedDate": "2020-11-07T01:08:40Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a57d8364e0cdc0d23df4b4a3687804c52f375ce", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/2a57d8364e0cdc0d23df4b4a3687804c52f375ce", "committedDate": "2020-11-07T01:33:50Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c30c347cda62d33ef29a61e18e5a75504e45ce65", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/c30c347cda62d33ef29a61e18e5a75504e45ce65", "committedDate": "2020-11-07T01:55:46Z", "message": "Update javadoc to capture required broker API version code + update the\nsubmodule"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2deaf8fdf18d55e64b716647184e6df66782a4f3", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/2deaf8fdf18d55e64b716647184e6df66782a4f3", "committedDate": "2020-11-07T02:00:27Z", "message": "Update submodule"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2NTYxMjMz", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-526561233", "createdAt": "2020-11-09T18:59:25Z", "commit": {"oid": "2deaf8fdf18d55e64b716647184e6df66782a4f3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxODo1OToyNVrOHv9Bvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxODo1OToyNVrOHv9Bvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDA0NDk5MQ==", "bodyText": "Use value 1100", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#discussion_r520044991", "createdAt": "2020-11-09T18:59:25Z", "author": {"login": "iambmelt"}, "path": "msal/src/main/java/com/microsoft/identity/client/PublicClientApplication.java", "diffHunk": "@@ -1263,6 +1267,130 @@ public boolean isSharedDevice() {\n         return mPublicClientConfiguration.getIsSharedDevice();\n     }\n \n+    @Override\n+    public String generateSignedHttpRequest(@NonNull final IAccount account,\n+                                            @NonNull final PoPAuthenticationScheme popParameters) throws MsalException {\n+        final ResultFuture<AsyncResult<GenerateShrResult>> future = new ResultFuture<>();\n+\n+        final GenerateShrCommandParameters cmdParams =\n+                CommandParametersAdapter.createGenerateShrCommandParameters(\n+                        mPublicClientConfiguration,\n+                        mPublicClientConfiguration.getOAuth2TokenCache(),\n+                        ((Account) account).getHomeAccountId(),\n+                        popParameters\n+                );\n+        final GenerateShrCommand generateShrCommand = new GenerateShrCommand(\n+                cmdParams,\n+                MSALControllerFactory.getAllControllers(\n+                        mPublicClientConfiguration.getAppContext(),\n+                        mPublicClientConfiguration.getDefaultAuthority(),\n+                        mPublicClientConfiguration\n+                ),\n+                new CommandCallback<GenerateShrResult, BaseException>() {\n+                    @Override\n+                    public void onCancel() {\n+                        // Not cancellable\n+                    }\n+\n+                    @Override\n+                    public void onError(@NonNull final BaseException error) {\n+                        future.setResult(\n+                                new AsyncResult<GenerateShrResult>(\n+                                        null,\n+                                        baseExceptionToMsalException(error)\n+                                )\n+                        );\n+                    }\n+\n+                    @Override\n+                    public void onTaskCompleted(@NonNull final GenerateShrResult generateShrResult) {\n+                        future.setResult(new AsyncResult<>(generateShrResult, null));\n+                    }\n+                },\n+                \"\" // Public API ID", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2deaf8fdf18d55e64b716647184e6df66782a4f3"}, "originalPosition": 74}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2NTYxNzM4", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-526561738", "createdAt": "2020-11-09T18:59:40Z", "commit": {"oid": "2deaf8fdf18d55e64b716647184e6df66782a4f3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxODo1OTo0MVrOHv9CZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxODo1OTo0MVrOHv9CZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDA0NTE1OA==", "bodyText": "Use value: 1101", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#discussion_r520045158", "createdAt": "2020-11-09T18:59:41Z", "author": {"login": "iambmelt"}, "path": "msal/src/main/java/com/microsoft/identity/client/PublicClientApplication.java", "diffHunk": "@@ -1263,6 +1267,130 @@ public boolean isSharedDevice() {\n         return mPublicClientConfiguration.getIsSharedDevice();\n     }\n \n+    @Override\n+    public String generateSignedHttpRequest(@NonNull final IAccount account,\n+                                            @NonNull final PoPAuthenticationScheme popParameters) throws MsalException {\n+        final ResultFuture<AsyncResult<GenerateShrResult>> future = new ResultFuture<>();\n+\n+        final GenerateShrCommandParameters cmdParams =\n+                CommandParametersAdapter.createGenerateShrCommandParameters(\n+                        mPublicClientConfiguration,\n+                        mPublicClientConfiguration.getOAuth2TokenCache(),\n+                        ((Account) account).getHomeAccountId(),\n+                        popParameters\n+                );\n+        final GenerateShrCommand generateShrCommand = new GenerateShrCommand(\n+                cmdParams,\n+                MSALControllerFactory.getAllControllers(\n+                        mPublicClientConfiguration.getAppContext(),\n+                        mPublicClientConfiguration.getDefaultAuthority(),\n+                        mPublicClientConfiguration\n+                ),\n+                new CommandCallback<GenerateShrResult, BaseException>() {\n+                    @Override\n+                    public void onCancel() {\n+                        // Not cancellable\n+                    }\n+\n+                    @Override\n+                    public void onError(@NonNull final BaseException error) {\n+                        future.setResult(\n+                                new AsyncResult<GenerateShrResult>(\n+                                        null,\n+                                        baseExceptionToMsalException(error)\n+                                )\n+                        );\n+                    }\n+\n+                    @Override\n+                    public void onTaskCompleted(@NonNull final GenerateShrResult generateShrResult) {\n+                        future.setResult(new AsyncResult<>(generateShrResult, null));\n+                    }\n+                },\n+                \"\" // Public API ID\n+        );\n+\n+        // Execute this command silently...\n+        CommandDispatcher.submitSilent(generateShrCommand);\n+\n+        try {\n+            final AsyncResult<GenerateShrResult> asyncResult = future.get();\n+\n+            if (asyncResult.getSuccess()) {\n+                return asyncResult.getResult().getShr();\n+            } else {\n+                throw asyncResult.getException();\n+            }\n+        } catch (ExecutionException | InterruptedException e) {\n+            throw new MsalClientException(\n+                    UNKNOWN_ERROR,\n+                    \"Unexpected error while generating SHR.\",\n+                    e\n+            );\n+        }\n+    }\n+\n+    @Override\n+    public void generateSignedHttpRequest(@NonNull final IAccount account,\n+                                          @NonNull final PoPAuthenticationScheme popParameters,\n+                                          @NonNull final SignedHttpRequestRequestCallback callback) {\n+        final GenerateShrCommandParameters cmdParams =\n+                CommandParametersAdapter.createGenerateShrCommandParameters(\n+                        mPublicClientConfiguration,\n+                        mPublicClientConfiguration.getOAuth2TokenCache(),\n+                        ((Account) account).getHomeAccountId(),\n+                        popParameters\n+                );\n+        try {\n+            final GenerateShrCommand generateShrCommand = new GenerateShrCommand(\n+                    cmdParams,\n+                    MSALControllerFactory.getAllControllers(\n+                            mPublicClientConfiguration.getAppContext(),\n+                            mPublicClientConfiguration.getDefaultAuthority(),\n+                            mPublicClientConfiguration\n+                    ),\n+                    new CommandCallback<GenerateShrResult, BaseException>() {\n+                        @Override\n+                        public void onCancel() {\n+                            // Not cancellable\n+                        }\n+\n+                        @Override\n+                        public void onError(@NonNull final BaseException error) {\n+                            callback.onError(baseExceptionToMsalException(error));\n+                        }\n+\n+                        @Override\n+                        public void onTaskCompleted(@NonNull final GenerateShrResult generateShrResult) {\n+                            callback.onTaskCompleted(generateShrResult.getShr());\n+                        }\n+                    },\n+                    \"\" // Public API ID", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2deaf8fdf18d55e64b716647184e6df66782a4f3"}, "originalPosition": 132}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6936f5103e0b6cd4deb394b4e1be72aa6b6b924", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/a6936f5103e0b6cd4deb394b4e1be72aa6b6b924", "committedDate": "2020-11-10T01:33:19Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ecee80b9ba5fdd9d32683f24ac2b892dcc42df5", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/4ecee80b9ba5fdd9d32683f24ac2b892dcc42df5", "committedDate": "2020-11-10T01:43:22Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9451ca5c15e2edd0ec2ead6b0743560211a4f88a", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/9451ca5c15e2edd0ec2ead6b0743560211a4f88a", "committedDate": "2020-11-10T01:43:32Z", "message": "Add public API ID"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0cb6046344038792c704d45878cec3ccaf850191", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/0cb6046344038792c704d45878cec3ccaf850191", "committedDate": "2020-11-10T01:48:43Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "334c303d984c6b8951bd7ee573d20add75f80bf0", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/334c303d984c6b8951bd7ee573d20add75f80bf0", "committedDate": "2020-11-10T02:28:33Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2b8e46e4e7c2824cbf6124975e1d90b3b91892b", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/a2b8e46e4e7c2824cbf6124975e1d90b3b91892b", "committedDate": "2020-11-10T02:30:47Z", "message": "Merge branch 'dev' into iambmelt/1207"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3ODUwODYx", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-527850861", "createdAt": "2020-11-11T04:18:23Z", "commit": {"oid": "a2b8e46e4e7c2824cbf6124975e1d90b3b91892b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQwNDoxODoyM1rOHw9kLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQwNDoxODoyM1rOHw9kLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTEwMjM4MA==", "bodyText": "return type", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#discussion_r521102380", "createdAt": "2020-11-11T04:18:23Z", "author": {"login": "shahzaibj"}, "path": "msal/src/main/java/com/microsoft/identity/client/PoPAuthenticationScheme.java", "diffHunk": "@@ -98,14 +107,28 @@ public Builder withNonce(@Nullable final String nonce) {\n             return this;\n         }\n \n+        /**\n+         * Sets the client_claims to be embedded in the resulting SHR.\n+         * <p>\n+         * Important: Use of this API requires setting the minimum_required_broker_protocol_version to\n+         * \"6.0\" or higher.\n+         *\n+         * @param clientClaims\n+         * @return", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2b8e46e4e7c2824cbf6124975e1d90b3b91892b"}, "originalPosition": 50}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3ODUyMzQ0", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-527852344", "createdAt": "2020-11-11T04:23:49Z", "commit": {"oid": "a2b8e46e4e7c2824cbf6124975e1d90b3b91892b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQwNDoyMzo0OVrOHw9pjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQwNDoyMzo0OVrOHw9pjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTEwMzc1Ng==", "bodyText": "so basically the user needs to get a token? even though they don't want it", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#discussion_r521103756", "createdAt": "2020-11-11T04:23:49Z", "author": {"login": "shahzaibj"}, "path": "msal/src/main/java/com/microsoft/identity/client/PublicClientApplication.java", "diffHunk": "@@ -1263,6 +1267,130 @@ public boolean isSharedDevice() {\n         return mPublicClientConfiguration.getIsSharedDevice();\n     }\n \n+    @Override\n+    public String generateSignedHttpRequest(@NonNull final IAccount account,\n+                                            @NonNull final PoPAuthenticationScheme popParameters) throws MsalException {\n+        final ResultFuture<AsyncResult<GenerateShrResult>> future = new ResultFuture<>();\n+\n+        final GenerateShrCommandParameters cmdParams =\n+                CommandParametersAdapter.createGenerateShrCommandParameters(\n+                        mPublicClientConfiguration,\n+                        mPublicClientConfiguration.getOAuth2TokenCache(),\n+                        ((Account) account).getHomeAccountId(),\n+                        popParameters\n+                );\n+        final GenerateShrCommand generateShrCommand = new GenerateShrCommand(\n+                cmdParams,\n+                MSALControllerFactory.getAllControllers(\n+                        mPublicClientConfiguration.getAppContext(),\n+                        mPublicClientConfiguration.getDefaultAuthority(),\n+                        mPublicClientConfiguration\n+                ),\n+                new CommandCallback<GenerateShrResult, BaseException>() {\n+                    @Override\n+                    public void onCancel() {\n+                        // Not cancellable\n+                    }\n+\n+                    @Override\n+                    public void onError(@NonNull final BaseException error) {\n+                        future.setResult(\n+                                new AsyncResult<GenerateShrResult>(\n+                                        null,\n+                                        baseExceptionToMsalException(error)\n+                                )\n+                        );\n+                    }\n+\n+                    @Override\n+                    public void onTaskCompleted(@NonNull final GenerateShrResult generateShrResult) {\n+                        future.setResult(new AsyncResult<>(generateShrResult, null));\n+                    }\n+                },\n+                \"1100\" // Public API ID\n+        );\n+\n+        // Execute this command silently...\n+        CommandDispatcher.submitSilent(generateShrCommand);\n+\n+        try {\n+            final AsyncResult<GenerateShrResult> asyncResult = future.get();\n+\n+            if (asyncResult.getSuccess()) {\n+                return asyncResult.getResult().getShr();\n+            } else {\n+                throw asyncResult.getException();\n+            }\n+        } catch (ExecutionException | InterruptedException e) {\n+            throw new MsalClientException(\n+                    UNKNOWN_ERROR,\n+                    \"Unexpected error while generating SHR.\",\n+                    e\n+            );\n+        }\n+    }\n+\n+    @Override\n+    public void generateSignedHttpRequest(@NonNull final IAccount account,\n+                                          @NonNull final PoPAuthenticationScheme popParameters,\n+                                          @NonNull final SignedHttpRequestRequestCallback callback) {\n+        final GenerateShrCommandParameters cmdParams =\n+                CommandParametersAdapter.createGenerateShrCommandParameters(\n+                        mPublicClientConfiguration,\n+                        mPublicClientConfiguration.getOAuth2TokenCache(),\n+                        ((Account) account).getHomeAccountId(),\n+                        popParameters\n+                );\n+        try {\n+            final GenerateShrCommand generateShrCommand = new GenerateShrCommand(\n+                    cmdParams,\n+                    MSALControllerFactory.getAllControllers(\n+                            mPublicClientConfiguration.getAppContext(),\n+                            mPublicClientConfiguration.getDefaultAuthority(),\n+                            mPublicClientConfiguration\n+                    ),\n+                    new CommandCallback<GenerateShrResult, BaseException>() {\n+                        @Override\n+                        public void onCancel() {\n+                            // Not cancellable\n+                        }\n+\n+                        @Override\n+                        public void onError(@NonNull final BaseException error) {\n+                            callback.onError(baseExceptionToMsalException(error));\n+                        }\n+\n+                        @Override\n+                        public void onTaskCompleted(@NonNull final GenerateShrResult generateShrResult) {\n+                            callback.onTaskCompleted(generateShrResult.getShr());\n+                        }\n+                    },\n+                    \"1101\" // Public API ID\n+            );\n+\n+            // Execute this command silently...\n+            CommandDispatcher.submitSilent(generateShrCommand);\n+        } catch (final MsalClientException e) {\n+            final MsalClientException clientException = new MsalClientException(\n+                    UNKNOWN_ERROR,\n+                    \"Unexpected error while generating SHR.\",\n+                    e\n+            );\n+            callback.onError(clientException);\n+        }\n+    }\n+\n+    private MsalException baseExceptionToMsalException(@NonNull final BaseException exception) {\n+        if (GenerateShrResult.Errors.NO_ACCOUNT_FOUND.equalsIgnoreCase(exception.getErrorCode())) {\n+            return new MsalUiRequiredException(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2b8e46e4e7c2824cbf6124975e1d90b3b91892b"}, "originalPosition": 149}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3924ba8fd6a0af6c3612503f52e9a8d6a1f29115", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/3924ba8fd6a0af6c3612503f52e9a8d6a1f29115", "committedDate": "2020-11-11T22:31:30Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "053671396f45f872257bf9f6c9bcac3ee5dba6cd", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/053671396f45f872257bf9f6c9bcac3ee5dba6cd", "committedDate": "2020-11-11T22:43:21Z", "message": "Merge branch 'dev' into iambmelt/1207"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4NjAxMDQz", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-528601043", "createdAt": "2020-11-11T23:10:36Z", "commit": {"oid": "053671396f45f872257bf9f6c9bcac3ee5dba6cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQyMzoxMDozNlrOHxhlmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQyMzoxMDozNlrOHxhlmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTY5MjU3MQ==", "bodyText": "This should never return null?", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#discussion_r521692571", "createdAt": "2020-11-11T23:10:36Z", "author": {"login": "shahzaibj"}, "path": "msal/src/main/java/com/microsoft/identity/client/IPublicClientApplication.java", "diffHunk": "@@ -109,6 +110,58 @@ void acquireToken(@NonNull final Activity activity,\n      */\n     boolean isSharedDevice();\n \n+    /**\n+     * Signs the provided {@link PoPAuthenticationScheme} parameters into a JWT on behalf of the\n+     * provided {@link IAccount}.\n+     * <p>\n+     * Important: Use of this API requires setting the minimum_required_broker_protocol_version to\n+     * \"6.0\" or higher.\n+     *\n+     * @param account       The account for whom signing shall occur.\n+     * @param popParameters The input parameters.\n+     * @return The resulting SHR.\n+     */\n+    String generateSignedHttpRequest(@NonNull final IAccount account,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "053671396f45f872257bf9f6c9bcac3ee5dba6cd"}, "originalPosition": 36}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4NjAyMjAy", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-528602202", "createdAt": "2020-11-11T23:13:27Z", "commit": {"oid": "053671396f45f872257bf9f6c9bcac3ee5dba6cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQyMzoxMzoyN1rOHxhpMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQyMzoxMzoyN1rOHxhpMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTY5MzQ4OA==", "bodyText": "Instead of writing all this, could potentially just call the overload below by passing a custom callback that sets the result on the future....so we can avoid this mostly identical code.", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#discussion_r521693488", "createdAt": "2020-11-11T23:13:27Z", "author": {"login": "shahzaibj"}, "path": "msal/src/main/java/com/microsoft/identity/client/PublicClientApplication.java", "diffHunk": "@@ -1263,6 +1267,130 @@ public boolean isSharedDevice() {\n         return mPublicClientConfiguration.getIsSharedDevice();\n     }\n \n+    @Override\n+    public String generateSignedHttpRequest(@NonNull final IAccount account,\n+                                            @NonNull final PoPAuthenticationScheme popParameters) throws MsalException {\n+        final ResultFuture<AsyncResult<GenerateShrResult>> future = new ResultFuture<>();\n+\n+        final GenerateShrCommandParameters cmdParams =\n+                CommandParametersAdapter.createGenerateShrCommandParameters(\n+                        mPublicClientConfiguration,\n+                        mPublicClientConfiguration.getOAuth2TokenCache(),\n+                        ((Account) account).getHomeAccountId(),\n+                        popParameters\n+                );\n+        final GenerateShrCommand generateShrCommand = new GenerateShrCommand(\n+                cmdParams,\n+                MSALControllerFactory.getAllControllers(\n+                        mPublicClientConfiguration.getAppContext(),\n+                        mPublicClientConfiguration.getDefaultAuthority(),\n+                        mPublicClientConfiguration\n+                ),\n+                new CommandCallback<GenerateShrResult, BaseException>() {\n+                    @Override\n+                    public void onCancel() {\n+                        // Not cancellable\n+                    }\n+\n+                    @Override\n+                    public void onError(@NonNull final BaseException error) {\n+                        future.setResult(\n+                                new AsyncResult<GenerateShrResult>(\n+                                        null,\n+                                        baseExceptionToMsalException(error)\n+                                )\n+                        );\n+                    }\n+\n+                    @Override\n+                    public void onTaskCompleted(@NonNull final GenerateShrResult generateShrResult) {\n+                        future.setResult(new AsyncResult<>(generateShrResult, null));\n+                    }\n+                },\n+                \"1100\" // Public API ID\n+        );\n+\n+        // Execute this command silently...\n+        CommandDispatcher.submitSilent(generateShrCommand);\n+\n+        try {\n+            final AsyncResult<GenerateShrResult> asyncResult = future.get();\n+\n+            if (asyncResult.getSuccess()) {\n+                return asyncResult.getResult().getShr();\n+            } else {\n+                throw asyncResult.getException();\n+            }\n+        } catch (ExecutionException | InterruptedException e) {\n+            throw new MsalClientException(\n+                    UNKNOWN_ERROR,\n+                    \"Unexpected error while generating SHR.\",\n+                    e\n+            );\n+        }\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "053671396f45f872257bf9f6c9bcac3ee5dba6cd"}, "originalPosition": 95}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de843f4983d161e476a11b4c8bd162b9716f5037", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/de843f4983d161e476a11b4c8bd162b9716f5037", "committedDate": "2020-11-11T23:34:54Z", "message": "Update submodule to latest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77b2bcb3db2b456396ca0dc80f177d1db47cbebf", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/77b2bcb3db2b456396ca0dc80f177d1db47cbebf", "committedDate": "2020-11-11T23:35:48Z", "message": "Merge branch 'iambmelt/1207' of https://github.com/AzureAD/microsoft-authentication-library-for-android into iambmelt/1207"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "448954f0a9b9ca28efa4e37c5639f29589b9de78", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/448954f0a9b9ca28efa4e37c5639f29589b9de78", "committedDate": "2020-11-11T23:39:51Z", "message": "Fix up javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fc28b4a9972e91c3722b5b512ff7d98e3a3dca7", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/1fc28b4a9972e91c3722b5b512ff7d98e3a3dca7", "committedDate": "2020-11-11T23:41:28Z", "message": "Adding @NonNull annot to capture API behavior"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d3ded5873f0e1164a390059887b1de952e5d055", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/2d3ded5873f0e1164a390059887b1de952e5d055", "committedDate": "2020-11-12T00:03:57Z", "message": "Minor refactor for code sharing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4abf4834b0551a6195b8af322d6eb4fffdd0dd7c", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/4abf4834b0551a6195b8af322d6eb4fffdd0dd7c", "committedDate": "2020-11-12T00:22:02Z", "message": "Merge branch 'dev' into iambmelt/1207"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c972a288487ee9ff3cee369d502593dac38fc6e", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/3c972a288487ee9ff3cee369d502593dac38fc6e", "committedDate": "2020-11-12T21:02:56Z", "message": "Merge branch 'dev' into iambmelt/1207"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5NjA0MzQz", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-529604343", "createdAt": "2020-11-13T00:10:33Z", "commit": {"oid": "3c972a288487ee9ff3cee369d502593dac38fc6e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwMDoxMDozNFrOHyUHrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwMDoxMDozNFrOHyUHrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjUyMDQ5NA==", "bodyText": "move this to PublicApiId.java", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#discussion_r522520494", "createdAt": "2020-11-13T00:10:34Z", "author": {"login": "shahzaibj"}, "path": "msal/src/main/java/com/microsoft/identity/client/PublicClientApplication.java", "diffHunk": "@@ -1263,6 +1268,131 @@ public boolean isSharedDevice() {\n         return mPublicClientConfiguration.getIsSharedDevice();\n     }\n \n+    @Override\n+    public String generateSignedHttpRequest(@NonNull final IAccount account,\n+                                            @NonNull final PoPAuthenticationScheme popParameters) throws MsalException {\n+        final ResultFuture<AsyncResult<GenerateShrResult>> future = new ResultFuture<>();\n+\n+        final GenerateShrCommand generateShrCommand = createGenerateShrCommand(\n+                account,\n+                popParameters,\n+                new CommandCallback<GenerateShrResult, BaseException>() {\n+                    @Override\n+                    public void onCancel() {\n+                        // Not cancellable\n+                    }\n+\n+                    @Override\n+                    public void onError(@NonNull final BaseException error) {\n+                        future.setResult(\n+                                new AsyncResult<GenerateShrResult>(\n+                                        null,\n+                                        baseExceptionToMsalException(error)\n+                                )\n+                        );\n+                    }\n+\n+                    @Override\n+                    public void onTaskCompleted(@NonNull final GenerateShrResult generateShrResult) {\n+                        future.setResult(new AsyncResult<>(generateShrResult, null));\n+                    }\n+                },\n+                \"1100\" // Public API ID", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c972a288487ee9ff3cee369d502593dac38fc6e"}, "originalPosition": 71}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5NjA0NjIx", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-529604621", "createdAt": "2020-11-13T00:11:14Z", "commit": {"oid": "3c972a288487ee9ff3cee369d502593dac38fc6e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwMDoxMToxNVrOHyUIlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwMDoxMToxNVrOHyUIlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjUyMDcyNA==", "bodyText": "move this constant to PublicApiId.java", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#discussion_r522520724", "createdAt": "2020-11-13T00:11:15Z", "author": {"login": "shahzaibj"}, "path": "msal/src/main/java/com/microsoft/identity/client/PublicClientApplication.java", "diffHunk": "@@ -1263,6 +1268,131 @@ public boolean isSharedDevice() {\n         return mPublicClientConfiguration.getIsSharedDevice();\n     }\n \n+    @Override\n+    public String generateSignedHttpRequest(@NonNull final IAccount account,\n+                                            @NonNull final PoPAuthenticationScheme popParameters) throws MsalException {\n+        final ResultFuture<AsyncResult<GenerateShrResult>> future = new ResultFuture<>();\n+\n+        final GenerateShrCommand generateShrCommand = createGenerateShrCommand(\n+                account,\n+                popParameters,\n+                new CommandCallback<GenerateShrResult, BaseException>() {\n+                    @Override\n+                    public void onCancel() {\n+                        // Not cancellable\n+                    }\n+\n+                    @Override\n+                    public void onError(@NonNull final BaseException error) {\n+                        future.setResult(\n+                                new AsyncResult<GenerateShrResult>(\n+                                        null,\n+                                        baseExceptionToMsalException(error)\n+                                )\n+                        );\n+                    }\n+\n+                    @Override\n+                    public void onTaskCompleted(@NonNull final GenerateShrResult generateShrResult) {\n+                        future.setResult(new AsyncResult<>(generateShrResult, null));\n+                    }\n+                },\n+                \"1100\" // Public API ID\n+        );\n+\n+        // Execute this command silently...\n+        CommandDispatcher.submitSilent(generateShrCommand);\n+\n+        try {\n+            final AsyncResult<GenerateShrResult> asyncResult = future.get();\n+\n+            if (asyncResult.getSuccess()) {\n+                return asyncResult.getResult().getShr();\n+            } else {\n+                throw asyncResult.getException();\n+            }\n+        } catch (ExecutionException | InterruptedException e) {\n+            throw new MsalClientException(\n+                    UNKNOWN_ERROR,\n+                    \"Unexpected error while generating SHR.\",\n+                    e\n+            );\n+        }\n+    }\n+\n+    @Override\n+    public void generateSignedHttpRequest(@NonNull final IAccount account,\n+                                          @NonNull final PoPAuthenticationScheme popParameters,\n+                                          @NonNull final SignedHttpRequestRequestCallback callback) {\n+        try {\n+            final GenerateShrCommand generateShrCommand = createGenerateShrCommand(\n+                    account,\n+                    popParameters,\n+                    new CommandCallback<GenerateShrResult, BaseException>() {\n+                        @Override\n+                        public void onCancel() {\n+                            // Not cancellable\n+                        }\n+\n+                        @Override\n+                        public void onError(@NonNull final BaseException error) {\n+                            callback.onError(baseExceptionToMsalException(error));\n+                        }\n+\n+                        @Override\n+                        public void onTaskCompleted(@NonNull final GenerateShrResult generateShrResult) {\n+                            callback.onTaskCompleted(generateShrResult.getShr());\n+                        }\n+                    },\n+                    \"1101\" // Public API ID", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c972a288487ee9ff3cee369d502593dac38fc6e"}, "originalPosition": 118}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5NjE2NTc1", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1208#pullrequestreview-529616575", "createdAt": "2020-11-13T00:43:04Z", "commit": {"oid": "3c972a288487ee9ff3cee369d502593dac38fc6e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a9eed5aa1a9920e9fa2d14a320314ef52719eda", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/6a9eed5aa1a9920e9fa2d14a320314ef52719eda", "committedDate": "2020-11-13T02:28:28Z", "message": "Merge branch 'dev' into iambmelt/1207"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f522df9eb1255f6a991ded8c52db47bdb4919a5f", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/f522df9eb1255f6a991ded8c52db47bdb4919a5f", "committedDate": "2020-11-13T02:34:37Z", "message": "Update submodule"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc33739f1c87ea2ae37c86ab5a15ef440c3a5b6e", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/cc33739f1c87ea2ae37c86ab5a15ef440c3a5b6e", "committedDate": "2020-11-13T02:44:49Z", "message": "Relocate public api id for generateShr"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53e199f856aa5ae281dc98b1285304314b7fef85", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/53e199f856aa5ae281dc98b1285304314b7fef85", "committedDate": "2020-11-13T03:33:58Z", "message": "Update submodule"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "755db2d9b033da9a8163d5498855a36174b63798", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/755db2d9b033da9a8163d5498855a36174b63798", "committedDate": "2020-11-13T03:35:10Z", "message": "Update submodule (again)"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1283, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}