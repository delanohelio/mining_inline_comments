{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0MzMzMjg1", "number": 1124, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMTowMDozM1rOEWCoVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QyMjowMzoxN1rOEWYBYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNTQ3MjIyOnYy", "diffSide": "RIGHT", "path": "msal/build.gradle", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMTowMDozM1rOG9I-4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNzoyNjozOVrOG9h_UQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2MzQ4OA==", "bodyText": "What about the other tasks?", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1124#discussion_r466763488", "createdAt": "2020-08-07T01:00:33Z", "author": {"login": "shahzaibj"}, "path": "msal/build.gradle", "diffHunk": "@@ -277,7 +277,7 @@ publishing {\n }\n \n tasks.whenTaskAdded { task ->\n-    if (task.name == 'assembleDebug' || task.name == 'assembleRelease') {\n+    if (task.name == 'assembleDebug' || task.name == 'assembleRelease' || task.name == 'assembleDistRelease') {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67660cf1d1cc392f4f4f8e5f9026d8b5eae2f7ed"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2MzU0NQ==", "bodyText": "There are more assemble tasks - let's run for all of them", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1124#discussion_r466763545", "createdAt": "2020-08-07T01:00:47Z", "author": {"login": "shahzaibj"}, "path": "msal/build.gradle", "diffHunk": "@@ -277,7 +277,7 @@ publishing {\n }\n \n tasks.whenTaskAdded { task ->\n-    if (task.name == 'assembleDebug' || task.name == 'assembleRelease') {\n+    if (task.name == 'assembleDebug' || task.name == 'assembleRelease' || task.name == 'assembleDistRelease') {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2MzQ4OA=="}, "originalCommit": {"oid": "67660cf1d1cc392f4f4f8e5f9026d8b5eae2f7ed"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NDI2NQ==", "bodyText": "Good point, that way we catch lint and other errors early", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1124#discussion_r466764265", "createdAt": "2020-08-07T01:03:48Z", "author": {"login": "kreedula"}, "path": "msal/build.gradle", "diffHunk": "@@ -277,7 +277,7 @@ publishing {\n }\n \n tasks.whenTaskAdded { task ->\n-    if (task.name == 'assembleDebug' || task.name == 'assembleRelease') {\n+    if (task.name == 'assembleDebug' || task.name == 'assembleRelease' || task.name == 'assembleDistRelease') {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2MzQ4OA=="}, "originalCommit": {"oid": "67660cf1d1cc392f4f4f8e5f9026d8b5eae2f7ed"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzEyOTYwOQ==", "bodyText": "These are our current assemble variants -- I don't think we necessarily want to enable this for assembleSnapshot (as it will slow that build down, generate unused artifacts). We could do task.name.contains('assemble') && !task.name.equals('assembleSnapshot').\nThoughts? @shahzaibj\nbrianmel@brianmel-devbox MINGW64 /c/dev/android-complete/msal (iambmelt/simple-build-prep)\n$ ./gradlew tasks | egrep assemble\nassemble - Assemble main outputs for all the variants.\nassembleAndroidTest - Assembles all the Test applications.\nassembleDebug - Assembles main outputs for all Debug variants.\nassembleDist - Assembles main outputs for all Dist variants.\nassembleLocal - Assembles main outputs for all Local variants.\nassembleRelease - Assembles main outputs for all Release variants.\nassembleSnapshot - Assembles main outputs for all Snapshot variants.", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1124#discussion_r467129609", "createdAt": "2020-08-07T16:00:42Z", "author": {"login": "iambmelt"}, "path": "msal/build.gradle", "diffHunk": "@@ -277,7 +277,7 @@ publishing {\n }\n \n tasks.whenTaskAdded { task ->\n-    if (task.name == 'assembleDebug' || task.name == 'assembleRelease') {\n+    if (task.name == 'assembleDebug' || task.name == 'assembleRelease' || task.name == 'assembleDistRelease') {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2MzQ4OA=="}, "originalCommit": {"oid": "67660cf1d1cc392f4f4f8e5f9026d8b5eae2f7ed"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzE1OTc0Mw==", "bodyText": "I think there are even more tasks actually:\n- assemble\n- assembleLocal\n- assembleLocalDebug\n- assembleLocalRelease\n- assembleSnapshot\n- assembleSnapshotDebug\n- assembleSnapshotRelease\n- assembleDist\n- assembleDistDebug\n- assembleDistRelease \n\nThere's actually even more tasks for testing (assembleLocalReleaseUnitTest and many more)....I didn't list them here.\nIf we want to avoid running for snapshot, then I think we want to avoid for each build type of snapshot (debug vs release vs task for assemble test).\nMay be we can do this:\nif (task.name.contains('assemble') && !task.name.contains('Snapshot'))\nbut most likely we also want to avoid the test tasks so then, we can do like:\nif (task.name.contains('assemble') && !task.name.contains('Snapshot') && !task.name.contains('Test'))\nI'd leave up to you to decide how want to do it @iambmelt .\nAlso if @kreedula has any input.", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1124#discussion_r467159743", "createdAt": "2020-08-07T16:59:34Z", "author": {"login": "shahzaibj"}, "path": "msal/build.gradle", "diffHunk": "@@ -277,7 +277,7 @@ publishing {\n }\n \n tasks.whenTaskAdded { task ->\n-    if (task.name == 'assembleDebug' || task.name == 'assembleRelease') {\n+    if (task.name == 'assembleDebug' || task.name == 'assembleRelease' || task.name == 'assembleDistRelease') {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2MzQ4OA=="}, "originalCommit": {"oid": "67660cf1d1cc392f4f4f8e5f9026d8b5eae2f7ed"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzE3MzIwMQ==", "bodyText": "See 653bf38", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1124#discussion_r467173201", "createdAt": "2020-08-07T17:26:39Z", "author": {"login": "iambmelt"}, "path": "msal/build.gradle", "diffHunk": "@@ -277,7 +277,7 @@ publishing {\n }\n \n tasks.whenTaskAdded { task ->\n-    if (task.name == 'assembleDebug' || task.name == 'assembleRelease') {\n+    if (task.name == 'assembleDebug' || task.name == 'assembleRelease' || task.name == 'assembleDistRelease') {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2MzQ4OA=="}, "originalCommit": {"oid": "67660cf1d1cc392f4f4f8e5f9026d8b5eae2f7ed"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNTQ3NjI2OnYy", "diffSide": "RIGHT", "path": "msal/build.gradle", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMTowMzowMFrOG9JBKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMTowMzoxOFrOG9JBZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NDA3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if (task.name == 'assembleDebug' || task.name == 'assembleRelease' || task.name == 'assembleDistRelease') {\n          \n          \n            \n                if (task.name.contains(\"assemble\")) {", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1124#discussion_r466764072", "createdAt": "2020-08-07T01:03:00Z", "author": {"login": "shahzaibj"}, "path": "msal/build.gradle", "diffHunk": "@@ -277,7 +277,7 @@ publishing {\n }\n \n tasks.whenTaskAdded { task ->\n-    if (task.name == 'assembleDebug' || task.name == 'assembleRelease') {\n+    if (task.name == 'assembleDebug' || task.name == 'assembleRelease' || task.name == 'assembleDistRelease') {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67660cf1d1cc392f4f4f8e5f9026d8b5eae2f7ed"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NDEzNA==", "bodyText": "We can do something like this I think", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1124#discussion_r466764134", "createdAt": "2020-08-07T01:03:18Z", "author": {"login": "shahzaibj"}, "path": "msal/build.gradle", "diffHunk": "@@ -277,7 +277,7 @@ publishing {\n }\n \n tasks.whenTaskAdded { task ->\n-    if (task.name == 'assembleDebug' || task.name == 'assembleRelease') {\n+    if (task.name == 'assembleDebug' || task.name == 'assembleRelease' || task.name == 'assembleDistRelease') {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NDA3Mg=="}, "originalCommit": {"oid": "67660cf1d1cc392f4f4f8e5f9026d8b5eae2f7ed"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxODExMzg2OnYy", "diffSide": "RIGHT", "path": "msal/build.gradle", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNzoxNzowNlrOG9hs0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNzoyNjozM1rOG9h_FA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzE2ODQ2Ng==", "bodyText": "I think it's better to have two separate if loops\nif (task.name.contains('assemble')) { task.dependsOn 'checkstyle', 'pmd', 'lint' }\nif (task.name.contains('assemble') && !task.name.contains('Snapshot') && !task.name.contains('Test')) { task.dependsOn  'javadocJar', 'sourcesJar' }\t    }", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1124#discussion_r467168466", "createdAt": "2020-08-07T17:17:06Z", "author": {"login": "kreedula"}, "path": "msal/build.gradle", "diffHunk": "@@ -277,7 +277,7 @@ publishing {\n }\n \n tasks.whenTaskAdded { task ->\n-    if (task.name == 'assembleDebug' || task.name == 'assembleRelease') {\n+    if (task.name.contains('assemble') && !task.name.contains('Snapshot') && !task.name.contains('Test')) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1f964d2bf3499e50282356b43edb9557f378118"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzE3MzE0MA==", "bodyText": "653bf38", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1124#discussion_r467173140", "createdAt": "2020-08-07T17:26:33Z", "author": {"login": "iambmelt"}, "path": "msal/build.gradle", "diffHunk": "@@ -277,7 +277,7 @@ publishing {\n }\n \n tasks.whenTaskAdded { task ->\n-    if (task.name == 'assembleDebug' || task.name == 'assembleRelease') {\n+    if (task.name.contains('assemble') && !task.name.contains('Snapshot') && !task.name.contains('Test')) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzE2ODQ2Ng=="}, "originalCommit": {"oid": "b1f964d2bf3499e50282356b43edb9557f378118"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxODk3Njk4OnYy", "diffSide": "RIGHT", "path": "msal/build.gradle", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QyMjowMzoxN1rOG9qEZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QyMjowNjoyMVrOG9qInA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzMwNTU3NA==", "bodyText": "Don't we want lint for local?", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1124#discussion_r467305574", "createdAt": "2020-08-07T22:03:17Z", "author": {"login": "AdamBJohnsonx"}, "path": "msal/build.gradle", "diffHunk": "@@ -277,7 +277,14 @@ publishing {\n }\n \n tasks.whenTaskAdded { task ->\n-    if (task.name == 'assembleDebug' || task.name == 'assembleRelease') {\n-        task.dependsOn 'checkstyle', 'pmd', 'lint', 'javadocJar', 'sourcesJar'\n+    if (task.name.contains('assemble')) {\n+        task.dependsOn 'checkstyle', 'pmd'\n+    }\n+\n+    if (task.name.contains('assemble')\n+        && !task.name.contains('Snapshot')\n+        && !task.name.contains('Test')\n+        && !task.name.contains('Local')) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da2fc37bfbca71501f556f8baaa723d1df72d0a9"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzMwNjI4MA==", "bodyText": "See commit message for da2fc37\nRunning lint was also running dist tasks for reasons I didn't fully troubleshoot", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1124#discussion_r467306280", "createdAt": "2020-08-07T22:05:00Z", "author": {"login": "iambmelt"}, "path": "msal/build.gradle", "diffHunk": "@@ -277,7 +277,14 @@ publishing {\n }\n \n tasks.whenTaskAdded { task ->\n-    if (task.name == 'assembleDebug' || task.name == 'assembleRelease') {\n-        task.dependsOn 'checkstyle', 'pmd', 'lint', 'javadocJar', 'sourcesJar'\n+    if (task.name.contains('assemble')) {\n+        task.dependsOn 'checkstyle', 'pmd'\n+    }\n+\n+    if (task.name.contains('assemble')\n+        && !task.name.contains('Snapshot')\n+        && !task.name.contains('Test')\n+        && !task.name.contains('Local')) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzMwNTU3NA=="}, "originalCommit": {"oid": "da2fc37bfbca71501f556f8baaa723d1df72d0a9"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzMwNjY1Mg==", "bodyText": "(Try it locally, you'll see a dist build kickoff and subsequently fail)", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1124#discussion_r467306652", "createdAt": "2020-08-07T22:06:21Z", "author": {"login": "iambmelt"}, "path": "msal/build.gradle", "diffHunk": "@@ -277,7 +277,14 @@ publishing {\n }\n \n tasks.whenTaskAdded { task ->\n-    if (task.name == 'assembleDebug' || task.name == 'assembleRelease') {\n-        task.dependsOn 'checkstyle', 'pmd', 'lint', 'javadocJar', 'sourcesJar'\n+    if (task.name.contains('assemble')) {\n+        task.dependsOn 'checkstyle', 'pmd'\n+    }\n+\n+    if (task.name.contains('assemble')\n+        && !task.name.contains('Snapshot')\n+        && !task.name.contains('Test')\n+        && !task.name.contains('Local')) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzMwNTU3NA=="}, "originalCommit": {"oid": "da2fc37bfbca71501f556f8baaa723d1df72d0a9"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1808, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}