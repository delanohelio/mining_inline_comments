{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyMDQzMDA0", "number": 1251, "title": "Retry auto mfa test cases + sleep before making two back to back AUTO MFA requests", "bodyText": "", "createdAt": "2020-12-17T18:20:13Z", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1251", "merged": true, "mergeCommit": {"oid": "27efc3aeabb312f6e19c8080e69d9883468d36ac"}, "closed": true, "closedAt": "2020-12-19T01:44:15Z", "author": {"login": "shahzaibj"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnHs6-gH2gAyNTQyMDQzMDA0OmM4ZjA0OGEzMWMxNDQ4NjBkNTZhOWNmZTk0M2Q5Nzc5YWJiNzgyN2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdniCmxAFqTU1NTg5ODQzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c8f048a31c144860d56a9cfe943d9779abb7827f", "author": {"user": {"login": "shahzaibj", "name": "Shahzaib"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/c8f048a31c144860d56a9cfe943d9779abb7827f", "committedDate": "2020-12-17T18:18:41Z", "message": "Retry auto mfa test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5fcb9492fad0b68d236716d81b6855745c6a7ce", "author": {"user": {"login": "shahzaibj", "name": "Shahzaib"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/d5fcb9492fad0b68d236716d81b6855745c6a7ce", "committedDate": "2020-12-19T00:46:43Z", "message": "Add thread sleep before calling auto mfa second time"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1ODk2NzE1", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1251#pullrequestreview-555896715", "createdAt": "2020-12-19T00:48:37Z", "commit": {"oid": "d5fcb9492fad0b68d236716d81b6855745c6a7ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOVQwMDo0ODozOFrOII3NKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOVQwMDo0ODozOFrOII3NKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjE2NDAwOQ==", "bodyText": "ThreadUtils.sleepSafely()?", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1251#discussion_r546164009", "createdAt": "2020-12-19T00:48:38Z", "author": {"login": "AdamBJohnsonx"}, "path": "msalautomationapp/src/androidTest/java/com/microsoft/identity/client/msal/automationapp/testpass/local/TestCase99656.java", "diffHunk": "@@ -103,6 +106,8 @@ public void handleUserInteraction() {\n         silentLatch.await(TokenRequestTimeout.SILENT);\n \n         // second interactive request\n+        // wait about a minute here to throttle usage of AUTO MFA account\n+        Thread.sleep(TimeUnit.MINUTES.toMillis(1));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d5fcb9492fad0b68d236716d81b6855745c6a7ce"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d514d73ac6efdc725d2117f2fb9f66bba9dc4862", "author": {"user": {"login": "shahzaibj", "name": "Shahzaib"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/d514d73ac6efdc725d2117f2fb9f66bba9dc4862", "committedDate": "2020-12-19T00:49:09Z", "message": "Reduce retry count to 1 for auto mfa test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd1a43460545e3ca9127b24b0f85b96cfc8c9022", "author": {"user": {"login": "shahzaibj", "name": "Shahzaib"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/fd1a43460545e3ca9127b24b0f85b96cfc8c9022", "committedDate": "2020-12-19T00:53:45Z", "message": "Address comment and use thread utils sleep safely while sleeping"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "628dd4fa81be71fe9cd4d55b68032338b8d17da1", "author": {"user": {"login": "shahzaibj", "name": "Shahzaib"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/628dd4fa81be71fe9cd4d55b68032338b8d17da1", "committedDate": "2020-12-19T00:56:13Z", "message": "Merge branch 'dev' into shahzaibj/retryAutoMfaTestCases"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1ODk4Mjc1", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1251#pullrequestreview-555898275", "createdAt": "2020-12-19T00:58:42Z", "commit": {"oid": "628dd4fa81be71fe9cd4d55b68032338b8d17da1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1ODk4NDM2", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1251#pullrequestreview-555898436", "createdAt": "2020-12-19T00:59:46Z", "commit": {"oid": "628dd4fa81be71fe9cd4d55b68032338b8d17da1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOVQwMDo1OTo0N1rOII3Urw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOVQwMDo1OTo0N1rOII3Urw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjE2NTkzNQ==", "bodyText": "I mean, there's nothing really safe about it, it just takes care of the boilerplate for you in terms of thread.sleep.", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/1251#discussion_r546165935", "createdAt": "2020-12-19T00:59:47Z", "author": {"login": "AdamBJohnsonx"}, "path": "msalautomationapp/src/androidTest/java/com/microsoft/identity/client/msal/automationapp/testpass/local/TestCase99656.java", "diffHunk": "@@ -103,6 +108,12 @@ public void handleUserInteraction() {\n         silentLatch.await(TokenRequestTimeout.SILENT);\n \n         // second interactive request\n+        // wait about a minute here to throttle usage of AUTO MFA account\n+        ThreadUtils.sleepSafely(\n+                (int) TimeUnit.MINUTES.toMillis(1),\n+                TAG,\n+                \"Problem occurred while sleeping safely to throttle AUTO MFA requests.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "628dd4fa81be71fe9cd4d55b68032338b8d17da1"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1220, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}