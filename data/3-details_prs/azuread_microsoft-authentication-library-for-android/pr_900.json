{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2MTA5NTk2", "number": 900, "title": "Do not throw any exception until we've tried all strategies", "bodyText": "I found out today that we cannot be so sure what kind of exception would be thrown when bind service fails (i.e. in a variant of Samsung S8, NullPointerException is thrown).\nFor that particular device, AccountManager method would work (forced through android debugger), but the current code will never trigger that as an exception will be thrown before it tries the next strategy.\nThe fix here is to try every strategy, and then only throw if all strategies fail.", "createdAt": "2020-01-22T23:16:06Z", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/900", "merged": true, "mergeCommit": {"oid": "b80b261d43b20abbf8c9f257534b1b28cea14ce2"}, "closed": true, "closedAt": "2020-01-23T00:27:06Z", "author": {"login": "rpdome"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb89_vcgH2gAyMzY2MTA5NTk2OmIwZjk5ZmY0ZmIwMDRkMGE1NjIxYjNkYjg1YWY5Yzc3ZDVhOTgxOGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8_CkygFqTM0Njk5MjMyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b0f99ff4fb004d0a5621b3db85af9c77d5a9818c", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/b0f99ff4fb004d0a5621b3db85af9c77d5a9818c", "committedDate": "2020-01-22T23:04:13Z", "message": "Do not throw any exception until we've tried all strategies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3991b18df1bdd4f17fed4d3fe1a3a3f335e08ea0", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/3991b18df1bdd4f17fed4d3fe1a3a3f335e08ea0", "committedDate": "2020-01-22T23:10:42Z", "message": "Move exception from common"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2OTcxNjgy", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/900#pullrequestreview-346971682", "createdAt": "2020-01-22T23:18:36Z", "commit": {"oid": "3991b18df1bdd4f17fed4d3fe1a3a3f335e08ea0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQyMzoxODozNlrOFguYsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQyMzoxODozNlrOFguYsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTg1ODczNw==", "bodyText": "Minor nit regarding comments: flips between AccountManager and Account manager", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/900#discussion_r369858737", "createdAt": "2020-01-22T23:18:36Z", "author": {"login": "iambmelt"}, "path": "msal/src/main/java/com/microsoft/identity/client/internal/controllers/BrokerAccountManagerStrategy.java", "diffHunk": "@@ -135,7 +134,7 @@ void hello(@NonNull final OperationParameters parameters)\n             throws BaseException {\n \n         if (!BrokerMsalController.isAccountManagerPermissionsGranted(parameters.getAppContext())) {\n-            throw new BrokerCommunicationException(\"Account manager permissions are not granted\");\n+            throw new BrokerCommunicationException(\"Account manager permissions are not granted\", null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3991b18df1bdd4f17fed4d3fe1a3a3f335e08ea0"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2OTcxOTcy", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/900#pullrequestreview-346971972", "createdAt": "2020-01-22T23:19:21Z", "commit": {"oid": "3991b18df1bdd4f17fed4d3fe1a3a3f335e08ea0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b3d2e9006976cc86aba3abfc63224972bbc1d9b", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/0b3d2e9006976cc86aba3abfc63224972bbc1d9b", "committedDate": "2020-01-22T23:21:24Z", "message": "address comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2OTg3OTc4", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/900#pullrequestreview-346987978", "createdAt": "2020-01-23T00:03:52Z", "commit": {"oid": "0b3d2e9006976cc86aba3abfc63224972bbc1d9b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2OTkyMzI3", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/900#pullrequestreview-346992327", "createdAt": "2020-01-23T00:17:13Z", "commit": {"oid": "0b3d2e9006976cc86aba3abfc63224972bbc1d9b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1310, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}