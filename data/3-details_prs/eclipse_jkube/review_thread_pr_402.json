{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyNDE0MTAy", "number": 402, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzoxOTowNlrOEoE0tA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNTo1MjoxNVrOEoYS_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNDU3NTI0OnYy", "diffSide": "RIGHT", "path": "jkube-kit/build/service/docker/src/main/java/org/eclipse/jkube/kit/build/service/docker/WatchService.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzoxOTowNlrOHY9Sqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzozMDozN1rOHY9yiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTkzMjA3NA==", "bodyText": "I'm not sure if this configuration renders the private String watchPostGoal; (L417) field useless.\nCould you double check?\nIn case it's no longer used, we need to either rename the new one, or update docs accordingly.", "url": "https://github.com/eclipse/jkube/pull/402#discussion_r495932074", "createdAt": "2020-09-28T13:19:06Z", "author": {"login": "manusa"}, "path": "jkube-kit/build/service/docker/src/main/java/org/eclipse/jkube/kit/build/service/docker/WatchService.java", "diffHunk": "@@ -417,6 +431,7 @@ private WatchMode getWatchMode(ImageConfiguration imageConfig) {\n         private String showLogs;\n         private Date buildTimestamp;\n         private String containerNamePattern;\n+        private Predicate<String> postGoalTask;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5bd8da2904580c23a8f5f5e8e5d8798a3158be3"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTkzMzEzNQ==", "bodyText": "hmm, Ok, I see the first is used by the second. Something seems a little bit bizarre here. Checking...", "url": "https://github.com/eclipse/jkube/pull/402#discussion_r495933135", "createdAt": "2020-09-28T13:20:32Z", "author": {"login": "manusa"}, "path": "jkube-kit/build/service/docker/src/main/java/org/eclipse/jkube/kit/build/service/docker/WatchService.java", "diffHunk": "@@ -417,6 +431,7 @@ private WatchMode getWatchMode(ImageConfiguration imageConfig) {\n         private String showLogs;\n         private Date buildTimestamp;\n         private String containerNamePattern;\n+        private Predicate<String> postGoalTask;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTkzMjA3NA=="}, "originalCommit": {"oid": "a5bd8da2904580c23a8f5f5e8e5d8798a3158be3"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTk0MDIzMw==", "bodyText": "See suggestion: https://github.com/eclipse/jkube/pull/402/files#r495938227", "url": "https://github.com/eclipse/jkube/pull/402#discussion_r495940233", "createdAt": "2020-09-28T13:30:37Z", "author": {"login": "manusa"}, "path": "jkube-kit/build/service/docker/src/main/java/org/eclipse/jkube/kit/build/service/docker/WatchService.java", "diffHunk": "@@ -417,6 +431,7 @@ private WatchMode getWatchMode(ImageConfiguration imageConfig) {\n         private String showLogs;\n         private Date buildTimestamp;\n         private String containerNamePattern;\n+        private Predicate<String> postGoalTask;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTkzMjA3NA=="}, "originalCommit": {"oid": "a5bd8da2904580c23a8f5f5e8e5d8798a3158be3"}, "originalPosition": 79}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNDYxNDMxOnYy", "diffSide": "RIGHT", "path": "kubernetes-maven-plugin/plugin/src/main/java/org/eclipse/jkube/maven/plugin/mojo/develop/WatchMojo.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzoyNzo0OFrOHY9qsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzoyNzo0OFrOHY9qsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTkzODIyNw==", "bodyText": "After https://github.com/eclipse/jkube/pull/402/files#r495933135\nI think that you could remove the redundant configurations from the WatchContext.\nThe WatchContext should have the field for postGoalTask like\n// private String postGoal; REMOVED\nprivate Supplier<Boolean> postGoalTask;\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            .postGoalTask(s -> MavenUtil.callMavenPluginWithGoal(project, session, pluginManager, s))\n          \n          \n            \n                            .postGoalTask(() -> MavenUtil.callMavenPluginWithGoal(project, session, pluginManager, watchPostGoal))", "url": "https://github.com/eclipse/jkube/pull/402#discussion_r495938227", "createdAt": "2020-09-28T13:27:48Z", "author": {"login": "manusa"}, "path": "kubernetes-maven-plugin/plugin/src/main/java/org/eclipse/jkube/maven/plugin/mojo/develop/WatchMojo.java", "diffHunk": "@@ -171,6 +176,7 @@ protected KitLogger createLogger(String prefix) {\n                 .serviceHubFactory(serviceHubFactory)\n                 .hub(hub)\n                 .dispatcher(getLogDispatcher(hub))\n+                .postGoalTask(s -> MavenUtil.callMavenPluginWithGoal(project, session, pluginManager, s))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5bd8da2904580c23a8f5f5e8e5d8798a3158be3"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNzc2NTcyOnYy", "diffSide": "RIGHT", "path": "jkube-kit/build/service/docker/src/main/java/org/eclipse/jkube/kit/build/service/docker/WatchService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNTo1MjoxNVrOHZb5oQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNTo1MjoxNVrOHZb5oQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQzMzU2OQ==", "bodyText": "You are now using a Runnable instead of a Supplier<Boolean>.\nBut the MavenUtil#callMavenPluginWithGoal method created specifically for this tasks is still returning a boolean.\nI'm not sure how important this return value is (why is it ignored in the former vs. why is it returned in the latter).", "url": "https://github.com/eclipse/jkube/pull/402#discussion_r496433569", "createdAt": "2020-09-29T05:52:15Z", "author": {"login": "manusa"}, "path": "jkube-kit/build/service/docker/src/main/java/org/eclipse/jkube/kit/build/service/docker/WatchService.java", "diffHunk": "@@ -417,6 +429,7 @@ private WatchMode getWatchMode(ImageConfiguration imageConfig) {\n         private String showLogs;\n         private Date buildTimestamp;\n         private String containerNamePattern;\n+        private Runnable postGoalTask;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f494a3f8c12479d86ae683fc4b59aadc8f27e00c"}, "originalPosition": 95}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1896, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}