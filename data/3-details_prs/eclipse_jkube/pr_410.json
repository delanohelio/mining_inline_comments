{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkzOTk1MDg3", "number": 410, "title": "fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.", "bodyText": "Description\nFixes: #327\n\nMoved logic from ResourceMojo to separate service\nFixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\nnot in individual resource files.\nPlaceholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\nFixed Helm chart generation, template placeholders are NOT replaced.\nProvided support for Parameters with no default value (values.yml) will only contain those which have a default.\nThe rest of parameters can be specified with --set option\nAdded integration test to verify behavior for resource and helm YAML generation.\n\nType of change\n\n\n Bug fix (non-breaking change which fixes an issue)\n Feature (non-breaking change which adds functionality)\n Breaking change (fix or feature that would cause existing functionality to change (breaks current behavior because current behavior is buggy and inaccurate to spec)\n Chore (non-breaking change which doesn't affect codebase;\ntest, version modification, documentation, etc.)\n\nChecklist\n\n I have read the contributing guidelines\n I signed-off my commit with a user that has signed the Eclipse Contributor Agreement\n I Added CHANGELOG entry\n I have implemented unit tests to cover my changes\n I have updated the documentation accordingly\n No new bugs, code smells, etc. in SonarCloud report\n I tested my code in Kubernetes\n I tested my code in OpenShift", "createdAt": "2020-09-28T09:02:00Z", "url": "https://github.com/eclipse/jkube/pull/410", "merged": true, "mergeCommit": {"oid": "a80ecbdb2bba680b173b32e6104133b112e6041c"}, "closed": true, "closedAt": "2020-09-30T12:12:00Z", "author": {"login": "manusa"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNQPbZgBqjM4MTM1Njg3MjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdN7FenABqjM4MjQwMTYyOTI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6acadc801eac4fb11f593ad358978e6a170d6360", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/6acadc801eac4fb11f593ad358978e6a170d6360", "committedDate": "2020-09-28T09:01:18Z", "message": "WIP fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}, "afterCommit": {"oid": "fd3da680c12d9675ae827babb38f932f631d1fc4", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/fd3da680c12d9675ae827babb38f932f631d1fc4", "committedDate": "2020-09-28T09:33:24Z", "message": "fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>\n\nWIP fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fd3da680c12d9675ae827babb38f932f631d1fc4", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/fd3da680c12d9675ae827babb38f932f631d1fc4", "committedDate": "2020-09-28T09:33:24Z", "message": "fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>\n\nWIP fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}, "afterCommit": {"oid": "69dafe9bbb22f6d13b909dac3454efbea5e80916", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/69dafe9bbb22f6d13b909dac3454efbea5e80916", "committedDate": "2020-09-29T12:37:36Z", "message": "fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>\n\nWIP fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5Mjk4Mzgx", "url": "https://github.com/eclipse/jkube/pull/410#pullrequestreview-499298381", "createdAt": "2020-09-30T10:37:47Z", "commit": {"oid": "69dafe9bbb22f6d13b909dac3454efbea5e80916"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxMDozNzo0N1rOHaXhcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxMDozNzo0N1rOHaXhcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQxMDQxOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              aggregated resource list YAML file (not in the individual generated resourcs) if this option is enabled.\n          \n          \n            \n              aggregated resource list YAML file (not in the individual generated resources) if this option is enabled.", "url": "https://github.com/eclipse/jkube/pull/410#discussion_r497410418", "createdAt": "2020-09-30T10:37:47Z", "author": {"login": "rohanKanojia"}, "path": "kubernetes-maven-plugin/doc/src/main/asciidoc/inc/goals/build/_jkube-resource.adoc", "diffHunk": "@@ -415,6 +415,20 @@ endif::[]\n   Defaults to `false`.\n | `jkube.mergeWithDekorate`\n \n+| *interpolateTemplateParameters*\n+| Interpolate parameter values from `*template.yml` fragments in the generated resource list (`kubernetes.yml`).\n+\n+  This is useful when using JKube in combination with Helm.\n+\n+  Placeholders for variables defined in template files can be used in the different resource fragments. Helm generated\n+  charts will contain these placeholders/parameters.\n+\n+  For `resource` goal, these placeholders are replaced in the\n+  aggregated resource list YAML file (not in the individual generated resourcs) if this option is enabled.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69dafe9bbb22f6d13b909dac3454efbea5e80916"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "983b8a9a57a9c633ca628e988ad299a031593324", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/983b8a9a57a9c633ca628e988ad299a031593324", "committedDate": "2020-09-30T11:28:27Z", "message": "fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>\n\nWIP fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "69dafe9bbb22f6d13b909dac3454efbea5e80916", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/69dafe9bbb22f6d13b909dac3454efbea5e80916", "committedDate": "2020-09-29T12:37:36Z", "message": "fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>\n\nWIP fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}, "afterCommit": {"oid": "983b8a9a57a9c633ca628e988ad299a031593324", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/983b8a9a57a9c633ca628e988ad299a031593324", "committedDate": "2020-09-30T11:28:27Z", "message": "fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>\n\nWIP fix: k8s:resource replaces template variables in provided fragments, k8s:helm doesn't.\n\n- Moved logic from ResourceMojo to separate service\n- Fixed Resource generation, template placeholders are replaced only in aggregated YAML file (kubernetes.yml)\n  not in individual resource files.\n- Placeholder/variable replacement can be turned off (jkube.interpolateTemplateParameters)\n- Fixed Helm chart generation, template placeholders are NOT replaced.\n  Provided support for Parameters with no default value (values.yml) will only contain those which have a default.\n  The rest of parameters can be specified with `--set` option\n- Added integration test to verify behavior for resource and helm YAML generation.\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 251, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}