{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxOTQ5MjU2", "number": 400, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzozNToxNlrOEoFRhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwODo0MDo0MlrOEocXdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNDY0OTAxOnYy", "diffSide": "RIGHT", "path": "kubernetes-maven-plugin/doc/src/main/asciidoc/inc/goals/develop/_jkube-watch.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzozNToxNlrOHY9_hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzozNToxNlrOHY9_hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTk0MzU1OQ==", "bodyText": "typo\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - Sprint Boot Watcher(based on Spring Boot Devtools)\n          \n          \n            \n            - Spring Boot Watcher(based on Spring Boot Devtools)", "url": "https://github.com/eclipse/jkube/pull/400#discussion_r495943559", "createdAt": "2020-09-28T13:35:16Z", "author": {"login": "manusa"}, "path": "kubernetes-maven-plugin/doc/src/main/asciidoc/inc/goals/develop/_jkube-watch.adoc", "diffHunk": "@@ -3,27 +3,10 @@\n == *{goal-prefix}:watch*\n \n This goal is used to monitor the project workspace for changes and automatically trigger a redeploy of the application\n-running on Kubernetes.\n+running on Kubernetes. There are two kinds of watchers present at the moment:\n \n-In order to use {goal-prefix}:watch for spring-boot, you need to make sure that `devtools` is included in the repacked\n-archive, as shown in the following listing:\n-\n-[source,xml,indent=0,subs=\"verbatim,quotes,attributes\"]\n-----\n-<plugin>\n-  <groupId>org.springframework.boot</groupId>\n-  <artifactId>spring-boot-maven-plugin</artifactId>\n-  <configuration>\n-    <excludeDevtools>false</excludeDevtools>\n-  </configuration>\n-</plugin>\n-----\n-\n-Then you need to set a `spring.devtools.remote.secret` in application.properties, as shown in the following example:\n-\n-----\n-spring.devtools.remote.secret=mysecret\n-----\n+- Docker Image Watcher(watches docker images)\n+- Sprint Boot Watcher(based on Spring Boot Devtools)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59fa7188ea8388066c340861a02c207979fbee5f"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwODQzMjU0OnYy", "diffSide": "RIGHT", "path": "jkube-kit/build/service/docker/src/main/java/org/eclipse/jkube/kit/build/service/docker/WatchService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwODo0MDo0MlrOHZiZcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwODo0MDo0MlrOHZiZcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjU0MDAxNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        log.info(\"Files successfully coped to the container..\");\n          \n          \n            \n                        log.info(\"Files successfully copied to the container..\");", "url": "https://github.com/eclipse/jkube/pull/400#discussion_r496540016", "createdAt": "2020-09-29T08:40:42Z", "author": {"login": "manusa"}, "path": "jkube-kit/build/service/docker/src/main/java/org/eclipse/jkube/kit/build/service/docker/WatchService.java", "diffHunk": "@@ -159,11 +155,31 @@ public void run() {\n         };\n     }\n \n-    private void callPostExec(ImageWatcher watcher) throws DockerAccessException, ExecException {\n+    void copyFilesToContainer(File changedFilesArchive, ImageWatcher watcher) {\n+        Predicate<File> copyTask = watcher.getWatchContext().getContainerCopyTask();\n+        if (copyTask != null) {\n+            boolean copyStatus = copyTask.test(changedFilesArchive);\n+            if (!copyStatus) {\n+                log.warn(\"Unable to copy files into container\");\n+                return;\n+            }\n+            log.info(\"Files successfully coped to the container..\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86d6311085d4a078ca5fb8c54ea780c2e6618e14"}, "originalPosition": 81}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1893, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}