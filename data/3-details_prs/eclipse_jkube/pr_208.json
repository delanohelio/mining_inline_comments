{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxNDAyNDEw", "number": 208, "title": "Fix #197: Provided  Dockerfile is always skipped in simple Dockerfile mode", "bodyText": "Fix #197\nAfter cloning this simple repository with Dockerfile: https://github.com/r0haaaan/jkube-dockerfile-sample. I was able to see Dockerfile being picked correctly when I used on top of this patch:\n~/work/repos/jkube-dockerfile-sample : $ mvn k8s:build\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -------------------< com.companyname.ol:my-service >--------------------\n[INFO] Building my-service 1.0\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- kubernetes-maven-plugin:1.0.0-SNAPSHOT:build (default-cli) @ my-service ---\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.bouncycastle.jcajce.provider.drbg.DRBG (file:/home/rohaan/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.61/bcprov-jdk15on-1.61.jar) to constructor sun.security.provider.Sun()\nWARNING: Please consider reporting this to the maintainers of org.bouncycastle.jcajce.provider.drbg.DRBG\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n[INFO] k8s: Running in Kubernetes mode\n[INFO] k8s: Building Docker image in Kubernetes mode\n[INFO] k8s: [ol/my-service:1.0]: Created docker-build.tar in 248 milliseconds\n[INFO] k8s: [ol/my-service:1.0]: Built image sha256:db892\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.336 s\n[INFO] Finished at: 2020-05-21T19:58:05+05:30\n[INFO] ------------------------------------------------------------------------\n~/work/repos/jkube-dockerfile-sample : $ cat target/docker/ol/my-service/1.0/build/Dockerfile \nFROM openjdk:latest\n~/work/repos/jkube-dockerfile-sample : $\n\nSame project on version 1.0.0-alpha-3 :\n~/work/repos/jkube-dockerfile-sample : $ mvn k8s:build\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -------------------< com.companyname.ol:my-service >--------------------\n[INFO] Building my-service 1.0\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- kubernetes-maven-plugin:1.0.0-alpha-3:build (default-cli) @ my-service ---\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.bouncycastle.jcajce.provider.drbg.DRBG (file:/home/rohaan/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.61/bcprov-jdk15on-1.61.jar) to constructor sun.security.provider.Sun()\nWARNING: Please consider reporting this to the maintainers of org.bouncycastle.jcajce.provider.drbg.DRBG\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n[INFO] k8s: Running in Kubernetes mode\n[INFO] k8s: Building Docker image in Kubernetes mode\n[INFO] k8s: Running generator spring-boot\n[INFO] k8s: spring-boot: Using Docker image fabric8/java-centos-openjdk8-jdk:1.5.6 as base / builder\n[INFO] k8s: Pulling from fabric8/java-centos-openjdk8-jdk\nac9208207ada: Pulling fs layer \n743ce65d298d: Pulling fs layer \n08f3d26bbf99: Pulling fs layer \n6b82b8ee52d8: Waiting     \n8e2fef958d6c: Waiting", "createdAt": "2020-05-21T14:58:35Z", "url": "https://github.com/eclipse/jkube/pull/208", "merged": true, "mergeCommit": {"oid": "ff20c54c0e82befd7b29c2832285d24ae9c52172"}, "closed": true, "closedAt": "2020-06-09T11:28:54Z", "author": {"login": "rohanKanojia"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjfH8fAFqTQxNjIzMzE0Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpd_BwABqjM0MjMwNDk3NjQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MjMzMTQz", "url": "https://github.com/eclipse/jkube/pull/208#pullrequestreview-416233143", "createdAt": "2020-05-21T15:09:09Z", "commit": {"oid": "24aa029d50f0ba9916e84ed23c6eb5926894a572"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTowOTowOVrOGY2u1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTowOTowOVrOGY2u1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODcxNTczMw==", "bodyText": "It would be good to split this statement too:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return !containsBuildConfiguration(configs) || Configs.asBoolean(getConfig(Config.add));\n          \n          \n            \n                    if (containsBuildConfiguration(configs)) {\n          \n          \n            \n                        return false;\n          \n          \n            \n                    }        \n          \n          \n            \n                    return Configs.asBoolean(getConfig(Config.add));", "url": "https://github.com/eclipse/jkube/pull/208#discussion_r428715733", "createdAt": "2020-05-21T15:09:09Z", "author": {"login": "manusa"}, "path": "jkube-kit/generator/api/src/main/java/org/eclipse/jkube/generator/api/support/BaseGenerator.java", "diffHunk": "@@ -204,6 +205,9 @@ protected String getAlias() {\n     }\n \n     protected boolean shouldAddImageConfiguration(List<ImageConfiguration> configs) {\n+        if (isSimpleDockerfileMode()) {\n+            return false;\n+        }\n         return !containsBuildConfiguration(configs) || Configs.asBoolean(getConfig(Config.add));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24aa029d50f0ba9916e84ed23c6eb5926894a572"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "24aa029d50f0ba9916e84ed23c6eb5926894a572", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/24aa029d50f0ba9916e84ed23c6eb5926894a572", "committedDate": "2020-05-21T14:25:02Z", "message": "Fix #197: Provided  Dockerfile is always skipped in simple Dockerfile mode"}, "afterCommit": {"oid": "fb860e2598b1de6b24ce74f7a541b060c9deb4a3", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/fb860e2598b1de6b24ce74f7a541b060c9deb4a3", "committedDate": "2020-05-21T16:37:52Z", "message": "Fix #197: Provided  Dockerfile is always skipped in simple Dockerfile mode"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NjI4NjQw", "url": "https://github.com/eclipse/jkube/pull/208#pullrequestreview-416628640", "createdAt": "2020-05-22T03:40:36Z", "commit": {"oid": "fb860e2598b1de6b24ce74f7a541b060c9deb4a3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d1d5d5a6c42e2bffd40875be376d053041ca4d7e", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/d1d5d5a6c42e2bffd40875be376d053041ca4d7e", "committedDate": "2020-05-22T14:45:43Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}, "afterCommit": {"oid": "a32319023d658ba8a646bf63dffc08b18944ffe9", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/a32319023d658ba8a646bf63dffc08b18944ffe9", "committedDate": "2020-05-26T07:13:50Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MDY2NzI5", "url": "https://github.com/eclipse/jkube/pull/208#pullrequestreview-418066729", "createdAt": "2020-05-26T08:12:42Z", "commit": {"oid": "a32319023d658ba8a646bf63dffc08b18944ffe9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwODoxMjo0MlrOGaTWMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwODoxMjo0MlrOGaTWMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDIzMzEzOQ==", "bodyText": "I think this is related to what we discussed during the stand-up, this example highlights how the contextDir is computed from the actual Dockerfile location.\nExample expects no contextDirto be defined and also Dockerfile to be located under src/main/docker\nhttps://github.com/eclipse/jkube/tree/a32319023d658ba8a646bf63dffc08b18944ffe9/quickstarts/maven/docker-file-provided#contextdir-and-dockerfile", "url": "https://github.com/eclipse/jkube/pull/208#discussion_r430233139", "createdAt": "2020-05-26T08:12:42Z", "author": {"login": "manusa"}, "path": "quickstarts/maven/docker-file-provided/pom.xml", "diffHunk": "@@ -103,7 +103,8 @@\n                                 <image>\n                                     <name>jkube/docker-file-provided</name>\n                                     <build>\n-                                        <dockerFile>subdir/Dockerfile</dockerFile>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a32319023d658ba8a646bf63dffc08b18944ffe9"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a32319023d658ba8a646bf63dffc08b18944ffe9", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/a32319023d658ba8a646bf63dffc08b18944ffe9", "committedDate": "2020-05-26T07:13:50Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}, "afterCommit": {"oid": "91fa0ffbee8943bea5e2db63a866361dba22ca99", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/91fa0ffbee8943bea5e2db63a866361dba22ca99", "committedDate": "2020-05-26T12:06:27Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "91fa0ffbee8943bea5e2db63a866361dba22ca99", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/91fa0ffbee8943bea5e2db63a866361dba22ca99", "committedDate": "2020-05-26T12:06:27Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}, "afterCommit": {"oid": "0320fd381bd12257f086783386e8d241f12fa472", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/0320fd381bd12257f086783386e8d241f12fa472", "committedDate": "2020-05-28T10:41:28Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0320fd381bd12257f086783386e8d241f12fa472", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/0320fd381bd12257f086783386e8d241f12fa472", "committedDate": "2020-05-28T10:41:28Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}, "afterCommit": {"oid": "bdac4b3511d1fca7844df5fe3215e5b2e163cbdb", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/bdac4b3511d1fca7844df5fe3215e5b2e163cbdb", "committedDate": "2020-05-28T10:49:24Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bdac4b3511d1fca7844df5fe3215e5b2e163cbdb", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/bdac4b3511d1fca7844df5fe3215e5b2e163cbdb", "committedDate": "2020-05-28T10:49:24Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}, "afterCommit": {"oid": "ad1bee1df48773e14d231c01c62d0ae5df80a7de", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/ad1bee1df48773e14d231c01c62d0ae5df80a7de", "committedDate": "2020-05-28T12:14:55Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ad1bee1df48773e14d231c01c62d0ae5df80a7de", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/ad1bee1df48773e14d231c01c62d0ae5df80a7de", "committedDate": "2020-05-28T12:14:55Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}, "afterCommit": {"oid": "23e20461f464e01161205b3a9c841d6b6478178b", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/23e20461f464e01161205b3a9c841d6b6478178b", "committedDate": "2020-05-28T14:17:33Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "23e20461f464e01161205b3a9c841d6b6478178b", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/23e20461f464e01161205b3a9c841d6b6478178b", "committedDate": "2020-05-28T14:17:33Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}, "afterCommit": {"oid": "cfe229e5e44106143acf9981a0eb483d1f9620a9", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/cfe229e5e44106143acf9981a0eb483d1f9620a9", "committedDate": "2020-05-28T14:52:52Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cfe229e5e44106143acf9981a0eb483d1f9620a9", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/cfe229e5e44106143acf9981a0eb483d1f9620a9", "committedDate": "2020-05-28T14:52:52Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}, "afterCommit": {"oid": "3ce4f52429edf6324943ab81b56e83aaceb70445", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/3ce4f52429edf6324943ab81b56e83aaceb70445", "committedDate": "2020-06-02T13:36:52Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3ce4f52429edf6324943ab81b56e83aaceb70445", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/3ce4f52429edf6324943ab81b56e83aaceb70445", "committedDate": "2020-06-02T13:36:52Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}, "afterCommit": {"oid": "a447a3d38bc054ec9d2e719eb2c42a1333d7e7e2", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/a447a3d38bc054ec9d2e719eb2c42a1333d7e7e2", "committedDate": "2020-06-02T14:03:14Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce7d0b4407979917b6d4552b2ac9f97d9e8aed65", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/ce7d0b4407979917b6d4552b2ac9f97d9e8aed65", "committedDate": "2020-06-05T13:55:09Z", "message": "Fix #197: Provided  Dockerfile is always skipped in simple Dockerfile mode"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a447a3d38bc054ec9d2e719eb2c42a1333d7e7e2", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/a447a3d38bc054ec9d2e719eb2c42a1333d7e7e2", "committedDate": "2020-06-02T14:03:14Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}, "afterCommit": {"oid": "d0df47f2d49bbc424dec74425a2ac9829dfbe9bd", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/d0df47f2d49bbc424dec74425a2ac9829dfbe9bd", "committedDate": "2020-06-05T15:45:07Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d0df47f2d49bbc424dec74425a2ac9829dfbe9bd", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/d0df47f2d49bbc424dec74425a2ac9829dfbe9bd", "committedDate": "2020-06-05T15:45:07Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}, "afterCommit": {"oid": "64d97ddaf382d97d787e870984785b3a077e3539", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/64d97ddaf382d97d787e870984785b3a077e3539", "committedDate": "2020-06-05T16:54:20Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MTA3NzM5", "url": "https://github.com/eclipse/jkube/pull/208#pullrequestreview-426107739", "createdAt": "2020-06-08T10:38:47Z", "commit": {"oid": "64d97ddaf382d97d787e870984785b3a077e3539"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMDozODo0N1rOGgYN9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMDozODo0N1rOGgYN9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYwNDQwNQ==", "bodyText": "This example showcases the use case of a docker file provided with just the contextDir configuration tag. Adding a dockerFile configuration defeats the purpose.\nExample should work just by providing this setting:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                                    <contextDir>${project.basedir}</contextDir>\n          \n          \n            \n                                                    <dockerFile>${project.basedir}/src/main/assembly-dockerfile/Dockerfile</dockerFile>\n          \n          \n            \n                                                    <contextDir>${project.basedir}/src/main/assembly-dockerfile</contextDir>", "url": "https://github.com/eclipse/jkube/pull/208#discussion_r436604405", "createdAt": "2020-06-08T10:38:47Z", "author": {"login": "manusa"}, "path": "quickstarts/maven/docker-file-provided/pom.xml", "diffHunk": "@@ -147,6 +147,7 @@\n                                     <name>jkube/context-and-assembly</name>\n                                     <build>\n                                         <contextDir>${project.basedir}</contextDir>\n+                                        <dockerFile>${project.basedir}/src/main/assembly-dockerfile/Dockerfile</dockerFile>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64d97ddaf382d97d787e870984785b3a077e3539"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MTA5MTg3", "url": "https://github.com/eclipse/jkube/pull/208#pullrequestreview-426109187", "createdAt": "2020-06-08T10:41:00Z", "commit": {"oid": "64d97ddaf382d97d787e870984785b3a077e3539"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMDo0MTowMVrOGgYSaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMDo0MTowMVrOGgYSaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYwNTU0NA==", "bodyText": "Maybe the quickstart would be clearer if we provided a COPY statement with a file that exists in the project root directory in order to showcase how the inferred contextdirectory + assembly behaves.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            COPY maven/target/zero-config-dockerfile.jar /tmp/zero-config-dockerfile.jar\n          \n          \n            \n            CMD [\"java\", \"-jar\", \"/tmp/zero-config-dockerfile.jar\"]\n          \n          \n            \n            COPY maven/target/zero-config-dockerfile.jar /tmp/zero-config-dockerfile.jar\n          \n          \n            \n            COPY maven/static-dir-in-project-root/my-file.txt /tmp/my-file.txt\n          \n          \n            \n            CMD [\"java\", \"-jar\", \"/tmp/zero-config-dockerfile.jar\"]", "url": "https://github.com/eclipse/jkube/pull/208#discussion_r436605544", "createdAt": "2020-06-08T10:41:01Z", "author": {"login": "manusa"}, "path": "quickstarts/maven/simple-dockerfile/Dockerfile", "diffHunk": "@@ -0,0 +1,17 @@\n+#\n+# Copyright (c) 2019 Red Hat, Inc.\n+# This program and the accompanying materials are made\n+# available under the terms of the Eclipse Public License 2.0\n+# which is available at:\n+#\n+#     https://www.eclipse.org/legal/epl-2.0/\n+#\n+# SPDX-License-Identifier: EPL-2.0\n+#\n+# Contributors:\n+#   Red Hat, Inc. - initial API and implementation\n+#\n+\n+FROM openjdk:latest\n+COPY maven/target/zero-config-dockerfile.jar /tmp/zero-config-dockerfile.jar\n+CMD [\"java\", \"-jar\", \"/tmp/zero-config-dockerfile.jar\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64d97ddaf382d97d787e870984785b3a077e3539"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7677d0089030dfb7248332c143110c22a802752", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/e7677d0089030dfb7248332c143110c22a802752", "committedDate": "2020-06-09T05:12:46Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "64d97ddaf382d97d787e870984785b3a077e3539", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/64d97ddaf382d97d787e870984785b3a077e3539", "committedDate": "2020-06-05T16:54:20Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}, "afterCommit": {"oid": "e7677d0089030dfb7248332c143110c22a802752", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/e7677d0089030dfb7248332c143110c22a802752", "committedDate": "2020-06-09T05:12:46Z", "message": "Send Dockerfile's parent directory as zip archive in case of no Docker contextDir being provided\n\n+ Updated DockerAssemblyManager to handle no contextDir case\n+ Added Simple Dockerfile sample"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 265, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}