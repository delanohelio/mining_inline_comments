{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0MTE2NDEx", "number": 411, "title": "Fix #356: Add further support for router config (tls termination and - Incremental to #375", "bodyText": "Description\nIncremental PR for #375 (@sejacobsen) (Closes #375 + #356 )\nAdded annotations so Router can be configured w/ TLS termination from the pom. Updated docs accordingly.\nType of change\n\n\n Bug fix (non-breaking change which fixes an issue)\n Feature (non-breaking change which adds functionality)\n Breaking change (fix or feature that would cause existing functionality to change\n Chore (non-breaking change which doesn't affect codebase;\ntest, version modification, documentation, etc.)\n\nChecklist\n\n I have read the contributing guidelines\n I signed-off my commit with a user that has signed the Eclipse Contributor Agreement\n I Added CHANGELOG entry\n I have implemented unit tests to cover my changes\n I have updated the documentation accordingly\n No new bugs, code smells, etc. in SonarCloud report\n I tested my code in Kubernetes\n I tested my code in OpenShift", "createdAt": "2020-09-28T12:45:43Z", "url": "https://github.com/eclipse/jkube/pull/411", "merged": true, "mergeCommit": {"oid": "082bc465b1e51433bfc14065b440ad8cf4a0b7c2"}, "closed": true, "closedAt": "2020-09-29T12:27:25Z", "author": {"login": "manusa"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdD7WaKgH2gAyNDk0MTE2NDExOjlhYzViMDExZmU5MjczN2E3Yjk4ZGZhZjQ1ZTU5MzgzMTQyNGY3YmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNnTytAFqTQ5ODQxMTgwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9ac5b011fe92737a7b98dfaf45e593831424f7bc", "author": {"user": {"login": "sejacobsen", "name": "S\u00f8ren Jacobsen"}}, "url": "https://github.com/eclipse/jkube/commit/9ac5b011fe92737a7b98dfaf45e593831424f7bc", "committedDate": "2020-08-30T10:07:53Z", "message": "Fix #356: Add further support for router config (tls termination and insecureEdgeTerminationPolicy) in pom.xml\n\nSigned-off-by: S\u00f8ren Jacobsen <sej@aety.io>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3NDgzNTg4", "url": "https://github.com/eclipse/jkube/pull/411#pullrequestreview-497483588", "createdAt": "2020-09-28T12:58:31Z", "commit": {"oid": "06f713a52142bf2d95480bc28aa315764885c79c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMjo1ODozMlrOHY8beQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMjo1ODozMlrOHY8beQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTkxNzk0NQ==", "bodyText": "should be 'tlsTermination', no?", "url": "https://github.com/eclipse/jkube/pull/411#discussion_r495917945", "createdAt": "2020-09-28T12:58:32Z", "author": {"login": "sejacobsen"}, "path": "kubernetes-maven-plugin/doc/src/main/asciidoc/inc/goals/build/_jkube-resource.adoc", "diffHunk": "@@ -226,8 +226,54 @@ If you do not want to generate a Route descriptor, you can set the `jkube.opensh\n | `jkube.openshift.generateRoute`\n \n   `jkube.enricher.jkube-openshift-route.generateRoute`\n+\n+| *termination*\n+a| termination indicates termination type. The following values are supported:\n+\n+* edge (default)\n+* passthrough\n+* reencrypt\n+\n+See https://docs.openshift.com/container-platform/3.11/architecture/networking/routes.html#secured-routes or https://docs.openshift.com/container-platform/latest/networking/routes/secured-routes.html\n+| `jkube.enricher.jkube-openshift-route.termination`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06f713a52142bf2d95480bc28aa315764885c79c"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3NDg0OTU5", "url": "https://github.com/eclipse/jkube/pull/411#pullrequestreview-497484959", "createdAt": "2020-09-28T12:59:59Z", "commit": {"oid": "06f713a52142bf2d95480bc28aa315764885c79c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMjo1OTo1OVrOHY8fpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMjo1OTo1OVrOHY8fpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTkxOTAxMg==", "bodyText": "<tlsInsecureEdgeTerminationPolicy>Allow</tlsInsecureEdgeTerminationPolicy>\n          <tlsTermination>edge</tlsTermination>", "url": "https://github.com/eclipse/jkube/pull/411#discussion_r495919012", "createdAt": "2020-09-28T12:59:59Z", "author": {"login": "sejacobsen"}, "path": "kubernetes-maven-plugin/doc/src/main/asciidoc/inc/goals/build/_jkube-resource.adoc", "diffHunk": "@@ -226,8 +226,54 @@ If you do not want to generate a Route descriptor, you can set the `jkube.opensh\n | `jkube.openshift.generateRoute`\n \n   `jkube.enricher.jkube-openshift-route.generateRoute`\n+\n+| *termination*\n+a| termination indicates termination type. The following values are supported:\n+\n+* edge (default)\n+* passthrough\n+* reencrypt\n+\n+See https://docs.openshift.com/container-platform/3.11/architecture/networking/routes.html#secured-routes or https://docs.openshift.com/container-platform/latest/networking/routes/secured-routes.html\n+| `jkube.enricher.jkube-openshift-route.termination`\n+\n+| *insecureEdgeTerminationPolicy*\n+a| insecureEdgeTerminationPolicy indicates the desired behavior for insecure connections to a route.\n+While each router may make its own decisions on which ports to expose, this is normally port 80.\n+\n+* Allow - traffic is sent to the server on the insecure port (default)\n+* Disable - no traffic is allowed on the insecure port.\n+* Redirect - clients are redirected to the secure port.\n+\n+See https://docs.openshift.com/container-platform/latest/rest_api/network_apis/route-route-openshift-io-v1.html\n+| `jkube.enricher.jkube-openshift-route.insecureEdgeTerminationPolicy`\n |===\n \n+Below is an example of generating a Route with \"edge\" termination and \"Allow\" insecureEdgeTerminationPolicy:\n+.Example for generating route resource by configuring it in `pom.xml`\n+\n+[source,xml,indent=0,subs=\"verbatim,quotes,attributes\"]\n+----\n+<plugin>\n+  <groupId>org.eclipse.jkube</groupId>\n+  <artifactId>{plugin}</artifactId>\n+  <version>{version}</version>\n+  <configuration>\n+    <enricher>\n+      <config>\n+        <jkube-openshift-route>\n+          <generateRoute>true</generateRoute>\n+          <insecureEdgeTerminationPolicy>Allow</insecureEdgeTerminationPolicy>\n+          <termination>edge</termination>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06f713a52142bf2d95480bc28aa315764885c79c"}, "originalPosition": 42}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3NDg1OTM2", "url": "https://github.com/eclipse/jkube/pull/411#pullrequestreview-497485936", "createdAt": "2020-09-28T13:01:03Z", "commit": {"oid": "06f713a52142bf2d95480bc28aa315764885c79c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c330b815f8eb614af44bbe270f24e87b504155e2", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/c330b815f8eb614af44bbe270f24e87b504155e2", "committedDate": "2020-09-28T13:01:52Z", "message": "fix: Address PR comments for Add further support for router config\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "06f713a52142bf2d95480bc28aa315764885c79c", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/06f713a52142bf2d95480bc28aa315764885c79c", "committedDate": "2020-09-28T12:42:56Z", "message": "fix: Address PR comments for Add further support for router config\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}, "afterCommit": {"oid": "c330b815f8eb614af44bbe270f24e87b504155e2", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/c330b815f8eb614af44bbe270f24e87b504155e2", "committedDate": "2020-09-28T13:01:52Z", "message": "fix: Address PR comments for Add further support for router config\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NDExODA4", "url": "https://github.com/eclipse/jkube/pull/411#pullrequestreview-498411808", "createdAt": "2020-09-29T12:26:10Z", "commit": {"oid": "c330b815f8eb614af44bbe270f24e87b504155e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 252, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}