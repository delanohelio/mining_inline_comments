{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY1NTk1MTcz", "number": 353, "title": "fix: OpenShift build resources are deleted (as long as build config manifest is available)", "bodyText": "Description\nfix: #332 OpenShift build resources are deleted (as long as build config manifest is available)\n\nOpenShift BuildConfig and Build resources  will be deleted during oc:undeploy phase provided that\nthe target/${artifactId}-is.yml file is available.\nOpenShift BuildConfig and Build resources inferred from DeploymentConfig image stream will be deleted during oc:undeploy phase. The provider label in these entities must match in case DeploymentConfig has the label set.\nAdded spring-boot-crd example to showcase a Spring Boot application that deploys Custom resources and\nqueries them at runtime\n\nType of change\n\n\n Bug fix (non-breaking change which fixes an issue)\n Feature (non-breaking change which adds functionality)\n Breaking change (fix or feature that would cause existing functionality to change\n Chore (non-breaking change which doesn't affect codebase;\ntest, version modification, documentation, etc.)\n\nChecklist\n\n I have read the contributing guidelines\n I signed-off my commit with a user that has signed the Eclipse Contributor Agreement\n I Added CHANGELOG entry\n I have implemented unit tests to cover my changes\n I have updated the documentation accordingly\n No new bugs, code smells, etc. in SonarCloud report\n I tested my code in Kubernetes\n I tested my code in OpenShift", "createdAt": "2020-08-10T16:08:21Z", "url": "https://github.com/eclipse/jkube/pull/353", "merged": true, "mergeCommit": {"oid": "6e988b156cda08c454f4bf1241eb5864acfceefb"}, "closed": true, "closedAt": "2020-08-17T10:42:54Z", "author": {"login": "manusa"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc9ktO1gBqjM2Mzk1MjI2NTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc_vssaABqjM2NjExOTM0MTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "879b9978eada8cbbce8478e3a9070cab36193603", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/879b9978eada8cbbce8478e3a9070cab36193603", "committedDate": "2020-08-10T16:06:45Z", "message": "fix: OpenShift build resources are deleted (as long as build config manifest is available)\n\n- OpenShift builds and build configs will be deleted during oc:undeploy phase provided that\n  the target/${artifactId}-is.yml file is available\n- Added spring-boot-crd example to showcase a Spring Boot application that deploys Custom resources and\n  queries them at runtime\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}, "afterCommit": {"oid": "1d5990ad354092c01e0801296ac79cf39b20c2d7", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/1d5990ad354092c01e0801296ac79cf39b20c2d7", "committedDate": "2020-08-10T16:21:17Z", "message": "fix: OpenShift build resources are deleted (as long as build config manifest is available)\n\n- OpenShift builds and build configs will be deleted during oc:undeploy phase provided that\n  the target/${artifactId}-is.yml file is available\n- Added spring-boot-crd example to showcase a Spring Boot application that deploys Custom resources and\n  queries them at runtime\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1d5990ad354092c01e0801296ac79cf39b20c2d7", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/1d5990ad354092c01e0801296ac79cf39b20c2d7", "committedDate": "2020-08-10T16:21:17Z", "message": "fix: OpenShift build resources are deleted (as long as build config manifest is available)\n\n- OpenShift builds and build configs will be deleted during oc:undeploy phase provided that\n  the target/${artifactId}-is.yml file is available\n- Added spring-boot-crd example to showcase a Spring Boot application that deploys Custom resources and\n  queries them at runtime\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}, "afterCommit": {"oid": "87a8ac7a1fb0884e45216c4f32e1b22f4637d1b8", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/87a8ac7a1fb0884e45216c4f32e1b22f4637d1b8", "committedDate": "2020-08-11T05:17:22Z", "message": "fix: OpenShift build resources are deleted (as long as build config manifest is available)\n\n- OpenShift builds and build configs will be deleted during oc:undeploy phase provided that\n  the target/${artifactId}-is.yml file is available\n- Added spring-boot-crd example to showcase a Spring Boot application that deploys Custom resources and\n  queries them at runtime\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "87a8ac7a1fb0884e45216c4f32e1b22f4637d1b8", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/87a8ac7a1fb0884e45216c4f32e1b22f4637d1b8", "committedDate": "2020-08-11T05:17:22Z", "message": "fix: OpenShift build resources are deleted (as long as build config manifest is available)\n\n- OpenShift builds and build configs will be deleted during oc:undeploy phase provided that\n  the target/${artifactId}-is.yml file is available\n- Added spring-boot-crd example to showcase a Spring Boot application that deploys Custom resources and\n  queries them at runtime\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}, "afterCommit": {"oid": "701d16feeb7938dfd93091eb5832c121b3e85207", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/701d16feeb7938dfd93091eb5832c121b3e85207", "committedDate": "2020-08-11T06:27:28Z", "message": "fix: OpenShift build resources are deleted (as long as build config manifest is available)\n\n- OpenShift builds and build configs will be deleted during oc:undeploy phase provided that\n  the target/${artifactId}-is.yml file is available\n- Added spring-boot-crd example to showcase a Spring Boot application that deploys Custom resources and\n  queries them at runtime\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1f4278476dab1f41bf781a1ecfe1532bc9849536", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/1f4278476dab1f41bf781a1ecfe1532bc9849536", "committedDate": "2020-08-11T09:13:41Z", "message": "fix: OpenshiftUndeployService can retrieve image stream tags from DeploymentConfig\n\n- Enhancement that enables OpenshiftUndeployService to retrieve IS tags and their related\n  BuildConfig and Build resources from DeploymentConfig resources\n  provided that their \"provider\" label match (i.e. \"provider\":\"jkube\"\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}, "afterCommit": {"oid": "cfa2ef8c264b6f889b4dd342d4838a5f17e2084e", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/cfa2ef8c264b6f889b4dd342d4838a5f17e2084e", "committedDate": "2020-08-11T10:23:41Z", "message": "fix: OpenshiftUndeployService can retrieve image stream tags from DeploymentConfig\n\n- Enhancement that enables OpenshiftUndeployService to retrieve IS tags and their related\n  BuildConfig and Build resources from DeploymentConfig resources\n  provided that their \"provider\" label match (i.e. \"provider\":\"jkube\"\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cfa2ef8c264b6f889b4dd342d4838a5f17e2084e", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/cfa2ef8c264b6f889b4dd342d4838a5f17e2084e", "committedDate": "2020-08-11T10:23:41Z", "message": "fix: OpenshiftUndeployService can retrieve image stream tags from DeploymentConfig\n\n- Enhancement that enables OpenshiftUndeployService to retrieve IS tags and their related\n  BuildConfig and Build resources from DeploymentConfig resources\n  provided that their \"provider\" label match (i.e. \"provider\":\"jkube\"\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}, "afterCommit": {"oid": "958e79bc45def9bdff52a2c913088159d74d04cb", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/958e79bc45def9bdff52a2c913088159d74d04cb", "committedDate": "2020-08-11T13:55:10Z", "message": "fix: OpenshiftUndeployService can retrieve image stream tags from DeploymentConfig\n\n- Enhancement that enables OpenshiftUndeployService to retrieve IS tags and their related\n  BuildConfig and Build resources from DeploymentConfig resources\n  provided that their \"provider\" label match (i.e. \"provider\":\"jkube\"\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2NDk2OTI5", "url": "https://github.com/eclipse/jkube/pull/353#pullrequestreview-466496929", "createdAt": "2020-08-13T07:08:17Z", "commit": {"oid": "958e79bc45def9bdff52a2c913088159d74d04cb"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QwNzowODoxOFrOG_-vRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QwNzoxMToyOFrOG_-0_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTc0MTM4MA==", "bodyText": "license header missing, Our license check is not working as expected. I've created #355 to fix it", "url": "https://github.com/eclipse/jkube/pull/353#discussion_r469741380", "createdAt": "2020-08-13T07:08:18Z", "author": {"login": "rohanKanojia"}, "path": "openshift-maven-plugin/plugin/src/test/java/org/eclipse/jkube/maven/plugin/mojo/develop/OpenshiftUndeployMojoTest.java", "diffHunk": "@@ -0,0 +1,71 @@\n+package org.eclipse.jkube.maven.plugin.mojo.develop;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "958e79bc45def9bdff52a2c913088159d74d04cb"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTc0Mjg0NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If your have problems with this fragment, or need special customization for your K8s cluster,\n          \n          \n            \n            If you have problems with this fragment or need special customization for your K8s cluster,", "url": "https://github.com/eclipse/jkube/pull/353#discussion_r469742844", "createdAt": "2020-08-13T07:11:28Z", "author": {"login": "rohanKanojia"}, "path": "quickstarts/maven/spring-boot-crd/README.md", "diffHunk": "@@ -0,0 +1,53 @@\n+# Spring Boot with Custom Resources\n+\n+This example shows how to use Eclipse JKube to deploy a Spring Boot application that uses Custom Resource Definitions.\n+\n+## Requirements\n+\n+- JDK 8 or 11+\n+- Kubernetes Cluster (Minikube, OpenShift, CRC, etc.)\n+\n+## Preparing the environment\n+\n+The deployment requires access to the underlying cluster, in order to enable this we must \n+provide access to the cluster to the default service account.\n+\n+The example provides a resource fragment (`src/main/jkube/default-cluster-admin-crb.yml`)\n+to achieve this.\n+\n+If your have problems with this fragment, or need special customization for your K8s cluster,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "958e79bc45def9bdff52a2c913088159d74d04cb"}, "originalPosition": 18}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "958e79bc45def9bdff52a2c913088159d74d04cb", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/958e79bc45def9bdff52a2c913088159d74d04cb", "committedDate": "2020-08-11T13:55:10Z", "message": "fix: OpenshiftUndeployService can retrieve image stream tags from DeploymentConfig\n\n- Enhancement that enables OpenshiftUndeployService to retrieve IS tags and their related\n  BuildConfig and Build resources from DeploymentConfig resources\n  provided that their \"provider\" label match (i.e. \"provider\":\"jkube\"\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}, "afterCommit": {"oid": "506a6a891ddaafb32d9c80b51ad70beb7af233b6", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/506a6a891ddaafb32d9c80b51ad70beb7af233b6", "committedDate": "2020-08-17T10:08:08Z", "message": "fix: OpenshiftUndeployService can retrieve image stream tags from DeploymentConfig\n\n- Enhancement that enables OpenshiftUndeployService to retrieve IS tags and their related\n  BuildConfig and Build resources from DeploymentConfig resources\n  provided that their \"provider\" label match (i.e. \"provider\":\"jkube\"\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ffc9976ea693cbe946d637ab5f76385a95c8708", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/7ffc9976ea693cbe946d637ab5f76385a95c8708", "committedDate": "2020-08-17T10:17:27Z", "message": "fix: OpenShift build resources are deleted (as long as build config manifest is available)\n\n- OpenShift builds and build configs will be deleted during oc:undeploy phase provided that\n  the target/${artifactId}-is.yml file is available\n- Added spring-boot-crd example to showcase a Spring Boot application that deploys Custom resources and\n  queries them at runtime\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "506a6a891ddaafb32d9c80b51ad70beb7af233b6", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/506a6a891ddaafb32d9c80b51ad70beb7af233b6", "committedDate": "2020-08-17T10:08:08Z", "message": "fix: OpenshiftUndeployService can retrieve image stream tags from DeploymentConfig\n\n- Enhancement that enables OpenshiftUndeployService to retrieve IS tags and their related\n  BuildConfig and Build resources from DeploymentConfig resources\n  provided that their \"provider\" label match (i.e. \"provider\":\"jkube\"\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}, "afterCommit": {"oid": "7ffc9976ea693cbe946d637ab5f76385a95c8708", "author": {"user": {"login": "manusa", "name": "Marc Nuri"}}, "url": "https://github.com/eclipse/jkube/commit/7ffc9976ea693cbe946d637ab5f76385a95c8708", "committedDate": "2020-08-17T10:17:27Z", "message": "fix: OpenShift build resources are deleted (as long as build config manifest is available)\n\n- OpenShift builds and build configs will be deleted during oc:undeploy phase provided that\n  the target/${artifactId}-is.yml file is available\n- Added spring-boot-crd example to showcase a Spring Boot application that deploys Custom resources and\n  queries them at runtime\n\nSigned-off-by: Marc Nuri <marc@marcnuri.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 242, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}