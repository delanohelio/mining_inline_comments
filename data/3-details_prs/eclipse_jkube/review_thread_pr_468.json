{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0NTI1NDIz", "number": 468, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNjoyNjoxOVrOE1FiGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNjozNTozMVrOE1FpSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MTAwNjM1OnYy", "diffSide": "RIGHT", "path": "jkube-kit/build/api/src/main/java/org/eclipse/jkube/kit/build/api/helper/DockerFileUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNjoyNjoxOVrOHtKhcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNjoyNjoxOVrOHtKhcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzEyMDM2OA==", "bodyText": "nit: Please make it consistent, rename to extractPorts", "url": "https://github.com/eclipse/jkube/pull/468#discussion_r517120368", "createdAt": "2020-11-04T06:26:19Z", "author": {"login": "manusa"}, "path": "jkube-kit/build/api/src/main/java/org/eclipse/jkube/kit/build/api/helper/DockerFileUtil.java", "diffHunk": "@@ -312,4 +317,23 @@ private static String trimSurroundingQuotes(String argStringValue) {\n         }\n         return argStringValue;\n     }\n+\n+    static List<String> getPortsFromDockerFile(File dockerFile) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0176a2d8275433d17496a02ccfa81449fb12ac4"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MTAxMDg3OnYy", "diffSide": "RIGHT", "path": "jkube-kit/build/api/src/main/java/org/eclipse/jkube/kit/build/api/helper/DockerFileUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNjoyODozNFrOHtKj7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNjoyODozNFrOHtKj7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzEyMTAwNA==", "bodyText": "If this is visible for testing, make it private and test using the dependent method (should be easy enough).\nAlso, nit: rename it to be consistent: extractPorts", "url": "https://github.com/eclipse/jkube/pull/468#discussion_r517121004", "createdAt": "2020-11-04T06:28:34Z", "author": {"login": "manusa"}, "path": "jkube-kit/build/api/src/main/java/org/eclipse/jkube/kit/build/api/helper/DockerFileUtil.java", "diffHunk": "@@ -312,4 +317,23 @@ private static String trimSurroundingQuotes(String argStringValue) {\n         }\n         return argStringValue;\n     }\n+\n+    static List<String> getPortsFromDockerFile(File dockerFile) {\n+        Properties properties = new Properties();\n+        try {\n+            return getPortsFromDockerFileLines(extractLines(dockerFile, \"EXPOSE\", properties, null));\n+        } catch (IOException ioException) {\n+            throw new IllegalArgumentException(\"Error in reading Dockerfile\", ioException);\n+        }\n+    }\n+\n+    static List<String> getPortsFromDockerFileLines(List<String[]> dockerLinesContainingExpose) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0176a2d8275433d17496a02ccfa81449fb12ac4"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MTAyNDc0OnYy", "diffSide": "RIGHT", "path": "jkube-kit/build/api/src/test/resources/docker/Dockerfile_expose_ports", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNjozNTozMVrOHtKsDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNjozNTozMVrOHtKsDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzEyMzA4NA==", "bodyText": "Use a corner-case scenario to validate it works as expected:\n\nAdd several EXPOSE lines (top of the document, bottom, in the middle lines).\nAdd expose using all possible formats: EXPOSE 80, EXPOSE 80/http, EXPOSE 99/udp, EXPOSE 8080...\nAdd duplicate EXPOSE values", "url": "https://github.com/eclipse/jkube/pull/468#discussion_r517123084", "createdAt": "2020-11-04T06:35:31Z", "author": {"login": "manusa"}, "path": "jkube-kit/build/api/src/test/resources/docker/Dockerfile_expose_ports", "diffHunk": "@@ -0,0 +1,7 @@\n+ARG VERSION=latest\n+FROM openjdk:$VERSION\n+COPY maven/target/docker-file-simple.jar /deployments/docker-file-simple.jar\n+# Copying a file inside project root directory\n+COPY maven/static-dir-in-project-root/my-file.txt /deployments/my-file.txt\n+EXPOSE 8080", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0176a2d8275433d17496a02ccfa81449fb12ac4"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1834, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}