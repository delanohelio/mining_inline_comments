{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4MDU1MzIx", "number": 503, "title": "Fix #484: CacheFrom parameter is missing in BuildConfiguration", "bodyText": "Description\n\nFix #484 : Port Cachefrom Support from DMP\nType of change\n\n\n Bug fix (non-breaking change which fixes an issue)\n Feature (non-breaking change which adds functionality)\n Breaking change (fix or feature that would cause existing functionality to change\n Chore (non-breaking change which doesn't affect codebase;\ntest, version modification, documentation, etc.)\n\nChecklist\n\n I have read the contributing guidelines\n I signed-off my commit with a user that has signed the Eclipse Contributor Agreement\n I Added CHANGELOG entry\n I have implemented unit tests to cover my changes\n I have updated the documentation accordingly\n No new bugs, code smells, etc. in SonarCloud report\n I tested my code in Kubernetes\n I tested my code in OpenShift", "createdAt": "2020-11-26T12:48:01Z", "url": "https://github.com/eclipse/jkube/pull/503", "merged": true, "mergeCommit": {"oid": "bf88230a5c110d686ea02ffb45dba8a294f5e2e9"}, "closed": true, "closedAt": "2020-12-04T10:00:09Z", "author": {"login": "rohanKanojia"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgiFwIABqjQwNDQ4NDUxMjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdi0SlCgFqTU0NDc4NjY5NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6704c04bbda0583a31241641faab26a6e9e5755e", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/6704c04bbda0583a31241641faab26a6e9e5755e", "committedDate": "2020-11-26T12:46:17Z", "message": "Fix #484: CacheFrom parameter is missing in BuildConfiguration"}, "afterCommit": {"oid": "e1844e8c7103efaf5ce9aadd727f577bc1b9b71e", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/e1844e8c7103efaf5ce9aadd727f577bc1b9b71e", "committedDate": "2020-11-27T07:05:39Z", "message": "Fix #484: CacheFrom parameter is missing in BuildConfiguration"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e1844e8c7103efaf5ce9aadd727f577bc1b9b71e", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/e1844e8c7103efaf5ce9aadd727f577bc1b9b71e", "committedDate": "2020-11-27T07:05:39Z", "message": "Fix #484: CacheFrom parameter is missing in BuildConfiguration"}, "afterCommit": {"oid": "5e3571f4072f802fadc45508b6be9fdb28a363c7", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/5e3571f4072f802fadc45508b6be9fdb28a363c7", "committedDate": "2020-11-27T07:14:32Z", "message": "Fix #484: CacheFrom parameter is missing in BuildConfiguration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzOTA3NzM5", "url": "https://github.com/eclipse/jkube/pull/503#pullrequestreview-543907739", "createdAt": "2020-12-03T12:33:49Z", "commit": {"oid": "5e3571f4072f802fadc45508b6be9fdb28a363c7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjozMzo0OVrOH-ZcdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjozMzo0OVrOH-ZcdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE5MDY0NA==", "bodyText": "Why is implementation here different to that of DMP?\nhttps://github.com/fabric8io/docker-maven-plugin/blob/e7fefdaddd99294d5842ef8c5b16070ce230d29e/src/main/java/io/fabric8/maven/docker/config/handler/property/PropertyConfigHandler.java#L141", "url": "https://github.com/eclipse/jkube/pull/503#discussion_r535190644", "createdAt": "2020-12-03T12:33:49Z", "author": {"login": "manusa"}, "path": "jkube-kit/build/service/docker/src/main/java/org/eclipse/jkube/kit/build/service/docker/config/handler/property/PropertyConfigHandler.java", "diffHunk": "@@ -229,6 +232,7 @@ private BuildConfiguration extractBuildConfiguration(ImageConfiguration fromConf\n                 .cmd(extractArguments(valueProvider, CMD, valueOrNull(config, BuildConfiguration::getCmd)))\n                 .cleanup(valueProvider.getString(CLEANUP, valueOrNull(config, BuildConfiguration::getCleanup)))\n                 .nocache(valueProvider.getBoolean(NOCACHE, valueOrNull(config, BuildConfiguration::getNocache)))\n+                .cacheFrom(extractCacheFrom(valueProvider.getString(CACHEFROM, config == null ? null : (config.getCacheFrom() == null ? null : config.getCacheFrom().toString()))))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5e3571f4072f802fadc45508b6be9fdb28a363c7"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzOTEwNzE0", "url": "https://github.com/eclipse/jkube/pull/503#pullrequestreview-543910714", "createdAt": "2020-12-03T12:37:58Z", "commit": {"oid": "5e3571f4072f802fadc45508b6be9fdb28a363c7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjozNzo1OFrOH-ZmkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMjozNzo1OFrOH-ZmkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE5MzIzMg==", "bodyText": "Given this is a list, to improve the builder, maybe we should make this a @Singular (You'll need to tune the name, because cacheFrom is already singular - not standard)", "url": "https://github.com/eclipse/jkube/pull/503#discussion_r535193232", "createdAt": "2020-12-03T12:37:58Z", "author": {"login": "manusa"}, "path": "jkube-kit/config/image/src/main/java/org/eclipse/jkube/kit/config/image/build/BuildConfiguration.java", "diffHunk": "@@ -228,6 +228,8 @@\n   @Setter(AccessLevel.PRIVATE)\n   private File dockerArchiveFile;\n \n+  private List<String> cacheFrom;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5e3571f4072f802fadc45508b6be9fdb28a363c7"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb12beace4bb39464a4494492e8f9c31c251a356", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/fb12beace4bb39464a4494492e8f9c31c251a356", "committedDate": "2020-12-03T16:48:38Z", "message": "Fix #484: CacheFrom parameter is missing in BuildConfiguration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3277d645864cb245e37042fe08bd55add119f07", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/c3277d645864cb245e37042fe08bd55add119f07", "committedDate": "2020-12-03T16:48:39Z", "message": "Add @Singular annotation to cacheFrom in BuildConfiguration"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b0107421ba625ac89ec189211f5e202f4824213a", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/b0107421ba625ac89ec189211f5e202f4824213a", "committedDate": "2020-12-03T16:46:56Z", "message": "Add @Singular annotation to cacheFrom in BuildConfiguration"}, "afterCommit": {"oid": "c3277d645864cb245e37042fe08bd55add119f07", "author": {"user": {"login": "rohanKanojia", "name": "Rohan Kumar "}}, "url": "https://github.com/eclipse/jkube/commit/c3277d645864cb245e37042fe08bd55add119f07", "committedDate": "2020-12-03T16:48:39Z", "message": "Add @Singular annotation to cacheFrom in BuildConfiguration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0Nzg2Njk0", "url": "https://github.com/eclipse/jkube/pull/503#pullrequestreview-544786694", "createdAt": "2020-12-04T09:26:01Z", "commit": {"oid": "c3277d645864cb245e37042fe08bd55add119f07"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 231, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}