{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzOTk4MDA2", "number": 142, "title": "#141 - Added Header.Wrap", "bodyText": "Closes #141", "createdAt": "2020-05-06T10:03:54Z", "url": "https://github.com/artipie/http/pull/142", "merged": true, "mergeCommit": {"oid": "3122ad218a822d3398451c2d93c704b668bf6673"}, "closed": true, "closedAt": "2020-05-06T14:47:20Z", "author": {"login": "olegmoz"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcelxYTAH2gAyNDEzOTk4MDA2OjFhNDhlNDQzYTczYmE2MzA5Nzk1NTE1ODMwN2ZmY2IwZjgwZjQ3NzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcepfWxAFqTQwNjY2NDkxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1a48e443a73ba63097955158307ffcb0f80f4775", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/http/commit/1a48e443a73ba63097955158307ffcb0f80f4775", "committedDate": "2020-05-06T10:04:14Z", "message": "#141 - Added Header.Wrap"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NTQ2MzM4", "url": "https://github.com/artipie/http/pull/142#pullrequestreview-406546338", "createdAt": "2020-05-06T12:06:41Z", "commit": {"oid": "1a48e443a73ba63097955158307ffcb0f80f4775"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxMjowNjo0MlrOGRP18g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxMjowOToxMVrOGRP7Kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDczODU0Ng==", "bodyText": "@olegmoz let's throw exception here to make this class immutable", "url": "https://github.com/artipie/http/pull/142#discussion_r420738546", "createdAt": "2020-05-06T12:06:42Z", "author": {"login": "Vatavuk"}, "path": "src/main/java/com/artipie/http/rs/Header.java", "diffHunk": "@@ -112,4 +112,56 @@ public String toString() {\n     private String lowercaseName() {\n         return this.name.toLowerCase(Locale.US);\n     }\n+\n+    /**\n+     * Abstract decorator for Header.\n+     *\n+     * @since 0.9\n+     */\n+    abstract static class Wrap implements Map.Entry<String, String> {\n+\n+        /**\n+         * Origin header.\n+         */\n+        private final Map.Entry<String, String> header;\n+\n+        /**\n+         * Ctor.\n+         *\n+         * @param header Header.\n+         */\n+        protected Wrap(final Map.Entry<String, String> header) {\n+            this.header = header;\n+        }\n+\n+        @Override\n+        public String getKey() {\n+            return this.header.getKey();\n+        }\n+\n+        @Override\n+        public String getValue() {\n+            return this.header.getValue();\n+        }\n+\n+        @Override\n+        public String setValue(final String value) {\n+            return this.header.setValue(value);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a48e443a73ba63097955158307ffcb0f80f4775"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDczODY2MA==", "bodyText": "@olegmoz all methods should be final", "url": "https://github.com/artipie/http/pull/142#discussion_r420738660", "createdAt": "2020-05-06T12:06:54Z", "author": {"login": "Vatavuk"}, "path": "src/main/java/com/artipie/http/rs/Header.java", "diffHunk": "@@ -112,4 +112,56 @@ public String toString() {\n     private String lowercaseName() {\n         return this.name.toLowerCase(Locale.US);\n     }\n+\n+    /**\n+     * Abstract decorator for Header.\n+     *\n+     * @since 0.9\n+     */\n+    abstract static class Wrap implements Map.Entry<String, String> {\n+\n+        /**\n+         * Origin header.\n+         */\n+        private final Map.Entry<String, String> header;\n+\n+        /**\n+         * Ctor.\n+         *\n+         * @param header Header.\n+         */\n+        protected Wrap(final Map.Entry<String, String> header) {\n+            this.header = header;\n+        }\n+\n+        @Override\n+        public String getKey() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a48e443a73ba63097955158307ffcb0f80f4775"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDczOTg4Mg==", "bodyText": "@olegmoz why have you remove this check? If we compare this class with non-header object we will get class cast exception", "url": "https://github.com/artipie/http/pull/142#discussion_r420739882", "createdAt": "2020-05-06T12:09:11Z", "author": {"login": "Vatavuk"}, "path": "src/main/java/com/artipie/http/rs/Header.java", "diffHunk": "@@ -86,7 +86,7 @@ public boolean equals(final Object that) {\n         if (this == that) {\n             return true;\n         }\n-        if (that == null || getClass() != that.getClass()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a48e443a73ba63097955158307ffcb0f80f4775"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f977e5e92467ddcb4b90faa6705632bd5ca4af7", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/http/commit/0f977e5e92467ddcb4b90faa6705632bd5ca4af7", "committedDate": "2020-05-06T13:02:57Z", "message": "#141 - Changes by review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NjY0OTE5", "url": "https://github.com/artipie/http/pull/142#pullrequestreview-406664919", "createdAt": "2020-05-06T14:24:10Z", "commit": {"oid": "0f977e5e92467ddcb4b90faa6705632bd5ca4af7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3183, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}