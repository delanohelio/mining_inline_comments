{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2Njg5NTgx", "number": 71, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwNzowNjoxM1rODnWk4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwNzowNjoxM1rODnWk4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyNTkwOTQ2OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/artipie/http/stream/ByteByByteSplit.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwNzowNjoxM1rOF1TM5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwOTozMTowOVrOF1W-Hg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQzMzQ0NQ==", "bodyText": "@Sammers21 you say in PR description:\n\nFor now, stream splitter does now work correctly with delimiters of size 2 or more. This PR fixes the problem\n\nSo why did it work with small delimiters then, and how using 0 index can fixe it?", "url": "https://github.com/artipie/http/pull/71#discussion_r391433445", "createdAt": "2020-03-12T07:06:13Z", "author": {"login": "g4s8"}, "path": "src/main/java/com/artipie/http/stream/ByteByByteSplit.java", "diffHunk": "@@ -173,7 +173,7 @@ public synchronized void onNext(final ByteBuffer next) {\n         for (final byte each : bytes) {\n             final boolean eviction = this.ring.isAtFullCapacity();\n             if (eviction) {\n-                final Byte last = this.ring.get(this.delim.length - 1);\n+                final Byte last = this.ring.get(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4bbe86eb4b689e71675c6c1d4f18a06ed6db8847"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQ5NTE5OA==", "bodyText": "@g4s8, Because in the single element case, the last element is also the first one in the buffer.", "url": "https://github.com/artipie/http/pull/71#discussion_r391495198", "createdAt": "2020-03-12T09:31:09Z", "author": {"login": "Sammers21"}, "path": "src/main/java/com/artipie/http/stream/ByteByByteSplit.java", "diffHunk": "@@ -173,7 +173,7 @@ public synchronized void onNext(final ByteBuffer next) {\n         for (final byte each : bytes) {\n             final boolean eviction = this.ring.isAtFullCapacity();\n             if (eviction) {\n-                final Byte last = this.ring.get(this.delim.length - 1);\n+                final Byte last = this.ring.get(0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQzMzQ0NQ=="}, "originalCommit": {"oid": "4bbe86eb4b689e71675c6c1d4f18a06ed6db8847"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1977, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}