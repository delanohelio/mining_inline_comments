{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzOTIxMzU0", "number": 215, "title": "#214 - Better types and more constructors header matchers", "bodyText": "Closes #214\nBetter types and more constructors in RsHasHeaders and ResponseMatcher.", "createdAt": "2020-08-06T09:55:28Z", "url": "https://github.com/artipie/http/pull/215", "merged": true, "mergeCommit": {"oid": "d7083438f3e588e539426a8610f48a4e36155937"}, "closed": true, "closedAt": "2020-08-06T14:51:12Z", "author": {"login": "olegmoz"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8M0nQABqjM2MjgzMTc4NzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8RBD6gFqTQ2MjU5NTM4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8c1f40e8470b368eba67b456341b68cfc9d8dd67", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/http/commit/8c1f40e8470b368eba67b456341b68cfc9d8dd67", "committedDate": "2020-08-06T09:53:06Z", "message": "#214 - Better types and more constructors in RsHasHeaders and ResponseMatcher"}, "afterCommit": {"oid": "235998305155ef4eb438b6aa886bb3713d7d1a13", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/http/commit/235998305155ef4eb438b6aa886bb3713d7d1a13", "committedDate": "2020-08-06T09:57:37Z", "message": "#214 - Better types and more constructors in RsHasHeaders and ResponseMatcher"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "235998305155ef4eb438b6aa886bb3713d7d1a13", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/http/commit/235998305155ef4eb438b6aa886bb3713d7d1a13", "committedDate": "2020-08-06T09:57:37Z", "message": "#214 - Better types and more constructors in RsHasHeaders and ResponseMatcher"}, "afterCommit": {"oid": "e4fcbd5699f1e682a4483da2e3522ed7b8d8551c", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/http/commit/e4fcbd5699f1e682a4483da2e3522ed7b8d8551c", "committedDate": "2020-08-06T10:00:40Z", "message": "#214 - Better types and more constructors in RsHasHeaders and ResponseMatcher"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f27e5223bb30ff84a192e61afb70c678deabd232", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/http/commit/f27e5223bb30ff84a192e61afb70c678deabd232", "committedDate": "2020-08-06T10:09:12Z", "message": "#214 - Better types and more constructors in RsHasHeaders and ResponseMatcher"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e4fcbd5699f1e682a4483da2e3522ed7b8d8551c", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/http/commit/e4fcbd5699f1e682a4483da2e3522ed7b8d8551c", "committedDate": "2020-08-06T10:00:40Z", "message": "#214 - Better types and more constructors in RsHasHeaders and ResponseMatcher"}, "afterCommit": {"oid": "f27e5223bb30ff84a192e61afb70c678deabd232", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/http/commit/f27e5223bb30ff84a192e61afb70c678deabd232", "committedDate": "2020-08-06T10:09:12Z", "message": "#214 - Better types and more constructors in RsHasHeaders and ResponseMatcher"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNTc2OTMz", "url": "https://github.com/artipie/http/pull/215#pullrequestreview-462576933", "createdAt": "2020-08-06T14:31:31Z", "commit": {"oid": "f27e5223bb30ff84a192e61afb70c678deabd232"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNDozMTozMVrOG82O3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNDozMTozMVrOG82O3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ1NjI4NQ==", "bodyText": "@olegmoz I'd use single order for constructor parameters: now we have status, body, headers and status, headers, body. I think second option would be more correct here.", "url": "https://github.com/artipie/http/pull/215#discussion_r466456285", "createdAt": "2020-08-06T14:31:31Z", "author": {"login": "g4s8"}, "path": "src/main/java/com/artipie/http/hm/ResponseMatcher.java", "diffHunk": "@@ -39,11 +39,37 @@\n \n     /**\n      * Ctor.\n+     *\n      * @param status Expected status\n      * @param body Expected body\n      * @param headers Expected headers\n      */\n-    public ResponseMatcher(final RsStatus status, final byte[] body, final Header... headers) {\n+    public ResponseMatcher(\n+        final RsStatus status,\n+        final byte[] body,\n+        final Iterable<? extends Map.Entry<String, String>> headers\n+    ) {\n+        super(\n+            new ListOf<Matcher<? super Response>>(\n+                new RsHasStatus(status),\n+                new RsHasHeaders(headers),\n+                new RsHasBody(body)\n+            )\n+        );\n+    }\n+\n+    /**\n+     * Ctor.\n+     * @param status Expected status\n+     * @param body Expected body\n+     * @param headers Expected headers\n+     */\n+    @SafeVarargs\n+    public ResponseMatcher(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f27e5223bb30ff84a192e61afb70c678deabd232"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47418d8528174cfb0c855c59ed7aa5efce82c011", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/http/commit/47418d8528174cfb0c855c59ed7aa5efce82c011", "committedDate": "2020-08-06T14:39:04Z", "message": "#214 - Changes by review"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3e3459852ff14878daf78e474364085fd1545b03", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/http/commit/3e3459852ff14878daf78e474364085fd1545b03", "committedDate": "2020-08-06T14:36:35Z", "message": "#214 - Changes by review"}, "afterCommit": {"oid": "47418d8528174cfb0c855c59ed7aa5efce82c011", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/http/commit/47418d8528174cfb0c855c59ed7aa5efce82c011", "committedDate": "2020-08-06T14:39:04Z", "message": "#214 - Changes by review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNTk1Mzg5", "url": "https://github.com/artipie/http/pull/215#pullrequestreview-462595389", "createdAt": "2020-08-06T14:51:05Z", "commit": {"oid": "47418d8528174cfb0c855c59ed7aa5efce82c011"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3245, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}