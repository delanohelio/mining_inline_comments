{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxNDU0NjU5", "number": 3363, "title": "Remove javadoc.astub file; fixes #3357", "bodyText": "Merge together with:\nplume-lib/options#66\ncodespecs/daikon#254", "createdAt": "2020-06-08T23:48:37Z", "url": "https://github.com/typetools/checker-framework/pull/3363", "merged": true, "mergeCommit": {"oid": "904592ab580b07c452f98c9cc248b8bbb2a66e07"}, "closed": true, "closedAt": "2020-06-10T03:52:41Z", "author": {"login": "mernst"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpWFw1gH2gAyNDMxNDU0NjU5OmJkYTliZDc0OWE3YzhmNjQ3YzgwZDA1NjllZTU0NjdmZWUzMmRjZDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcptNOYgH2gAyNDMxNDU0NjU5OjkzOWMyODk5NDQ2OTcyYzlmNWNlNDcyZmZhZThlMWJjYjFlNDQ2Nzg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bda9bd749a7c8f647c80d0569ee5467fee32dcd8", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/bda9bd749a7c8f647c80d0569ee5467fee32dcd8", "committedDate": "2020-06-08T20:01:11Z", "message": "Remove javadoc.astub file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3MzIzMTA1", "url": "https://github.com/typetools/checker-framework/pull/3363#pullrequestreview-427323105", "createdAt": "2020-06-09T16:10:26Z", "commit": {"oid": "bda9bd749a7c8f647c80d0569ee5467fee32dcd8"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNjoxMDoyNlrOGhSBLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNjoxMToxN1rOGhSDgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzU1MTQwNw==", "bodyText": "Should this be in org.checkerframework.javacutil.SystemUtil?", "url": "https://github.com/typetools/checker-framework/pull/3363#discussion_r437551407", "createdAt": "2020-06-09T16:10:26Z", "author": {"login": "smillst"}, "path": "checker/src/test/java/tests/NullnessJavadocTest.java", "diffHunk": "@@ -0,0 +1,51 @@\n+package tests;\n+\n+import java.io.File;\n+import java.util.Collections;\n+import java.util.List;\n+import org.checkerframework.framework.test.CheckerFrameworkPerDirectoryTest;\n+import org.junit.runners.Parameterized.Parameters;\n+\n+/**\n+ * JUnit tests for the Nullness Checker -- testing type-checking of code that uses Javadoc classes.\n+ */\n+public class NullnessJavadocTest extends CheckerFrameworkPerDirectoryTest {\n+\n+    /** @param testFiles the files containing test code, which will be type-checked */\n+    public NullnessJavadocTest(List<File> testFiles) {\n+        super(\n+                testFiles,\n+                org.checkerframework.checker.nullness.NullnessChecker.class,\n+                \"nullness\",\n+                toolsJar(),\n+                \"-Anomsgtext\");\n+    }\n+\n+    /**\n+     * Return a list that contains the pathname to the tools.jar file, if it exists.\n+     *\n+     * @returns a list that contains the pathname to the tools.jar file, or an empty list\n+     */\n+    private static List<String> toolsJar() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bda9bd749a7c8f647c80d0569ee5467fee32dcd8"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzU1MjAwMw==", "bodyText": "This should use org.checkerframework.javacutil.SystemUtil#getJreVersion.", "url": "https://github.com/typetools/checker-framework/pull/3363#discussion_r437552003", "createdAt": "2020-06-09T16:11:17Z", "author": {"login": "smillst"}, "path": "checker/src/test/java/tests/NullnessJavadocTest.java", "diffHunk": "@@ -0,0 +1,51 @@\n+package tests;\n+\n+import java.io.File;\n+import java.util.Collections;\n+import java.util.List;\n+import org.checkerframework.framework.test.CheckerFrameworkPerDirectoryTest;\n+import org.junit.runners.Parameterized.Parameters;\n+\n+/**\n+ * JUnit tests for the Nullness Checker -- testing type-checking of code that uses Javadoc classes.\n+ */\n+public class NullnessJavadocTest extends CheckerFrameworkPerDirectoryTest {\n+\n+    /** @param testFiles the files containing test code, which will be type-checked */\n+    public NullnessJavadocTest(List<File> testFiles) {\n+        super(\n+                testFiles,\n+                org.checkerframework.checker.nullness.NullnessChecker.class,\n+                \"nullness\",\n+                toolsJar(),\n+                \"-Anomsgtext\");\n+    }\n+\n+    /**\n+     * Return a list that contains the pathname to the tools.jar file, if it exists.\n+     *\n+     * @returns a list that contains the pathname to the tools.jar file, or an empty list\n+     */\n+    private static List<String> toolsJar() {\n+        if (!System.getProperty(\"java.version\").startsWith(\"1.8\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bda9bd749a7c8f647c80d0569ee5467fee32dcd8"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3MzI4MTY0", "url": "https://github.com/typetools/checker-framework/pull/3363#pullrequestreview-427328164", "createdAt": "2020-06-09T16:16:14Z", "commit": {"oid": "bda9bd749a7c8f647c80d0569ee5467fee32dcd8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNjoxNjoxNFrOGhSQAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNjoxNjoxNFrOGhSQAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzU1NTIwMA==", "bodyText": "There should be a pull request into typetools/jdk where these annotations are moved, right?", "url": "https://github.com/typetools/checker-framework/pull/3363#discussion_r437555200", "createdAt": "2020-06-09T16:16:14Z", "author": {"login": "smillst"}, "path": "checker/src/main/resources/javadoc.astub", "diffHunk": "@@ -1,127 +0,0 @@\n-// This file, javadoc.astub, models the JavaDoc classes in the JDK 8's", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bda9bd749a7c8f647c80d0569ee5467fee32dcd8"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f8d9b4d81382e23bc5bccb966892fce713108c6", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/1f8d9b4d81382e23bc5bccb966892fce713108c6", "committedDate": "2020-06-09T17:46:54Z", "message": "Move code to SystemUtil.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b90eea2ab4b87f4fb34184f5ee49798fa8f52f28", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/b90eea2ab4b87f4fb34184f5ee49798fa8f52f28", "committedDate": "2020-06-09T19:07:16Z", "message": "Fix visibility"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "477eb458e1ae6119059fee952b199c8acd1e2b6a", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/477eb458e1ae6119059fee952b199c8acd1e2b6a", "committedDate": "2020-06-09T19:30:03Z", "message": "Fix typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e52e0475c43ce6bc8effd2a8d2e74ce7dfe75155", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/e52e0475c43ce6bc8effd2a8d2e74ce7dfe75155", "committedDate": "2020-06-09T22:23:45Z", "message": "Add diagnostics to test whether tools.jar file exists"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ffddeb2446056821a695975c5f0bfcef98d78230", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/ffddeb2446056821a695975c5f0bfcef98d78230", "committedDate": "2020-06-09T22:03:31Z", "message": "Add temporary diagnostic output"}, "afterCommit": {"oid": "e52e0475c43ce6bc8effd2a8d2e74ce7dfe75155", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/e52e0475c43ce6bc8effd2a8d2e74ce7dfe75155", "committedDate": "2020-06-09T22:23:45Z", "message": "Add diagnostics to test whether tools.jar file exists"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "939c2899446972c9f5ce472ffae8e1bcb1e44678", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/939c2899446972c9f5ce472ffae8e1bcb1e44678", "committedDate": "2020-06-09T22:57:09Z", "message": "Fix problem with format string"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2819, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}