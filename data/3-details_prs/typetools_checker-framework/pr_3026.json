{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4NzQyODM0", "number": 3026, "title": "Fix #2985 by using proper types.", "bodyText": "", "createdAt": "2020-01-02T18:01:27Z", "url": "https://github.com/typetools/checker-framework/pull/3026", "merged": true, "mergeCommit": {"oid": "9121f00a85dae55079e872698a7e4de971ef5254"}, "closed": true, "closedAt": "2020-01-03T17:27:25Z", "author": {"login": "wmdietl"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb2dqYtgH2gAyMzU4NzQyODM0OmIwYmQwYmNlODdhYzhmZTEwYmNhOGI1YzhjZTNhYTdlYmE3ZTFmZjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb2xtpngFqTMzODE4NDcxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b0bd0bce87ac8fe10bca8b5c8ce3aa7eba7e1ff2", "author": {"user": {"login": "wmdietl", "name": "Werner Dietl"}}, "url": "https://github.com/typetools/checker-framework/commit/b0bd0bce87ac8fe10bca8b5c8ce3aa7eba7e1ff2", "committedDate": "2020-01-02T18:00:23Z", "message": "Fix #2985 by using proper types."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "effb0c5cbdb52784f7928e32cb26ef253bf5ab28", "author": {"user": {"login": "wmdietl", "name": "Werner Dietl"}}, "url": "https://github.com/typetools/checker-framework/commit/effb0c5cbdb52784f7928e32cb26ef253bf5ab28", "committedDate": "2020-01-02T19:04:16Z", "message": "Suppress unused variable warning."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3ODE0OTg1", "url": "https://github.com/typetools/checker-framework/pull/3026#pullrequestreview-337814985", "createdAt": "2020-01-02T19:23:36Z", "commit": {"oid": "effb0c5cbdb52784f7928e32cb26ef253bf5ab28"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxOToyMzozN1rOFZzHVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxOToyMzozN1rOFZzHVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU5NjE4Mw==", "bodyText": "Instead of suppressing this warning and the ErrorProne warning, you could use clazz.cast(...) instead.  Any reason not to do that?", "url": "https://github.com/typetools/checker-framework/pull/3026#discussion_r362596183", "createdAt": "2020-01-02T19:23:37Z", "author": {"login": "smillst"}, "path": "framework/src/main/java/org/checkerframework/framework/util/ContractsUtils.java", "diffHunk": "@@ -135,16 +140,20 @@ public static ContractsUtils getInstance(GenericAnnotatedTypeFactory<?, ?, ?, ?>\n         if (enforcedQualifier == null) {\n             return Collections.emptySet();\n         }\n-        Set<Contract> result = new LinkedHashSet<>();\n+        Set<T> result = new LinkedHashSet<>();\n         List<String> expressions =\n                 AnnotationUtils.getElementValueArray(\n                         contractAnnotation, \"expression\", String.class, false);\n         Boolean annoResult =\n                 AnnotationUtils.getElementValueOrNull(\n                         contractAnnotation, \"result\", Boolean.class, false);\n         for (String expr : expressions) {\n-            result.add(\n-                    Contract.create(kind, expr, enforcedQualifier, contractAnnotation, annoResult));\n+            @SuppressWarnings(\"unchecked\") // clazz consistent with enum", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "effb0c5cbdb52784f7928e32cb26ef253bf5ab28"}, "originalPosition": 91}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "332ce993603a5718df754e5a7ffb6bc1bd1f499f", "author": {"user": {"login": "wmdietl", "name": "Werner Dietl"}}, "url": "https://github.com/typetools/checker-framework/commit/332ce993603a5718df754e5a7ffb6bc1bd1f499f", "committedDate": "2020-01-02T19:36:46Z", "message": "Use clazz.cast."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3ODM3MTA2", "url": "https://github.com/typetools/checker-framework/pull/3026#pullrequestreview-337837106", "createdAt": "2020-01-02T20:13:01Z", "commit": {"oid": "332ce993603a5718df754e5a7ffb6bc1bd1f499f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQyMDoxMzowMVrOFZ0Kkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQyMDoxMzowMVrOFZ0Kkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYxMzM5NA==", "bodyText": "/__w/1/s/framework/src/main/java/org/checkerframework/framework/util/ContractsUtils.java:131: warning: no @param for <T>\n/__w/1/s/framework/src/main/java/org/checkerframework/framework/util/ContractsUtils.java:166: warning: no @param for <T>", "url": "https://github.com/typetools/checker-framework/pull/3026#discussion_r362613394", "createdAt": "2020-01-02T20:13:01Z", "author": {"login": "smillst"}, "path": "framework/src/main/java/org/checkerframework/framework/util/ContractsUtils.java", "diffHunk": "@@ -123,10 +124,12 @@ public static ContractsUtils getInstance(GenericAnnotatedTypeFactory<?, ?, ?, ?>\n      * @param contractAnnotation a {@link RequiresQualifier}, {@link EnsuresQualifier}, {@link\n      *     EnsuresQualifierIf}, or null\n      * @param kind the kind of {@code contractAnnotation}\n+     * @param clazz the class to determine the return type\n      * @return the contracts expressed by the given annotation, or the empty set if the argument is\n      *     null\n      */\n-    private Set<Contract> getContract(Contract.Kind kind, AnnotationMirror contractAnnotation) {\n+    private <T extends Contract> Set<T> getContract(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "332ce993603a5718df754e5a7ffb6bc1bd1f499f"}, "originalPosition": 69}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fd5883d451a40c3199d47cc06856363608f660e", "author": {"user": {"login": "wmdietl", "name": "Werner Dietl"}}, "url": "https://github.com/typetools/checker-framework/commit/6fd5883d451a40c3199d47cc06856363608f660e", "committedDate": "2020-01-03T13:05:48Z", "message": "Merge branch 'master' of github.com:typetools/checker-framework into fix-2985"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "232afc1d345ff99c5f7c7d3308408fc18ca6b654", "author": {"user": {"login": "wmdietl", "name": "Werner Dietl"}}, "url": "https://github.com/typetools/checker-framework/commit/232afc1d345ff99c5f7c7d3308408fc18ca6b654", "committedDate": "2020-01-03T13:10:09Z", "message": "Javadoc for type parameter."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd5104ba5accb7c92e47d5b8bd7e0813b020ac9b", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/cd5104ba5accb7c92e47d5b8bd7e0813b020ac9b", "committedDate": "2020-01-03T16:34:12Z", "message": "Fix Javadoc."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MTg0NzEy", "url": "https://github.com/typetools/checker-framework/pull/3026#pullrequestreview-338184712", "createdAt": "2020-01-03T17:22:03Z", "commit": {"oid": "cd5104ba5accb7c92e47d5b8bd7e0813b020ac9b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3025, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}