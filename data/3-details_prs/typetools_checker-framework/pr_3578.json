{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0OTE2NjYx", "number": 3578, "title": "Treat Name as interned when type-checking the Checker Framework", "bodyText": "Also contains some cleanup, which could be separated into a different pull request if desired.", "createdAt": "2020-08-08T00:57:31Z", "url": "https://github.com/typetools/checker-framework/pull/3578", "merged": true, "mergeCommit": {"oid": "d2b9b3141a0b0de7d201389b2c04f2feee67cac9"}, "closed": true, "closedAt": "2020-08-12T17:33:47Z", "author": {"login": "mernst"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4H4sVAH2gAyNDY0OTE2NjYxOjUyNzk0M2IzMjE5NWFlZWQzZDNhNmFkNGY4ODI3ODdjMmVjNzFhMDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-O72nAFqTQ2NjEyOTY2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "527943b32195aeed3d3a6ad4f882787c2ec71a08", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/527943b32195aeed3d3a6ad4f882787c2ec71a08", "committedDate": "2020-07-24T17:57:06Z", "message": "Treat Name as interned\n\nSome changes are for debugging and need to be reverted"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6f0bcd9ec2ded1e48c6dc27e7b444c54e33cc2a", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/d6f0bcd9ec2ded1e48c6dc27e7b444c54e33cc2a", "committedDate": "2020-07-24T17:58:36Z", "message": "Merge ../checker-framework-branch-master into name-interned"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96019b03b533d079a624c5bf3456f96cb1e3ca1f", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/96019b03b533d079a624c5bf3456f96cb1e3ca1f", "committedDate": "2020-07-27T14:42:15Z", "message": "Merge ../checker-framework-branch-master into name-interned"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc48ebcd57f2cbde013e27ab229fe792b59433da", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/dc48ebcd57f2cbde013e27ab229fe792b59433da", "committedDate": "2020-07-27T18:01:46Z", "message": "Merge ../checker-framework-branch-master into name-interned"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6cd6ea4d7fed2124f6693285fae9619277c1df96", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/6cd6ea4d7fed2124f6693285fae9619277c1df96", "committedDate": "2020-07-27T18:17:46Z", "message": "How to distribute stub files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f875f65c0bd3e5597a2c2f24041b273ff8d71ba4", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/f875f65c0bd3e5597a2c2f24041b273ff8d71ba4", "committedDate": "2020-07-27T18:34:03Z", "message": "Improve interning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5f802d53025e9b5a0e6d12aa301ebb42bc29553", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/e5f802d53025e9b5a0e6d12aa301ebb42bc29553", "committedDate": "2020-07-27T18:34:39Z", "message": "Undo unrelated change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cda52e0445321efd6be670e6fa8a82e951ca80a", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/2cda52e0445321efd6be670e6fa8a82e951ca80a", "committedDate": "2020-08-08T00:28:36Z", "message": "Merge ../checker-framework-branch-master into name-interned"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93885da368bbe63f11ed8d520d532126579c260d", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/93885da368bbe63f11ed8d520d532126579c260d", "committedDate": "2020-08-08T00:54:23Z", "message": "Fix build problems"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99c39caa2659e72d237c1d68388832cdde9d234a", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/99c39caa2659e72d237c1d68388832cdde9d234a", "committedDate": "2020-08-08T03:55:35Z", "message": "Undo a change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0efa4c477cfa6fb8a24a1956e24404ceb2ec75b1", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/0efa4c477cfa6fb8a24a1956e24404ceb2ec75b1", "committedDate": "2020-08-08T03:56:16Z", "message": "Merge ../checker-framework-branch-master into name-interned"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0MTk1OTYz", "url": "https://github.com/typetools/checker-framework/pull/3578#pullrequestreview-464195963", "createdAt": "2020-08-10T12:47:31Z", "commit": {"oid": "0efa4c477cfa6fb8a24a1956e24404ceb2ec75b1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxMjo0NzozMVrOG-NCyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxMjo1NjoyOFrOG-NVrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg3ODYwMw==", "bodyText": "This should be passed when creating the checkIntering class:\ncreateCheckTypeTask(project.name, 'org.checkerframework.checker.interning.InterningChecker', 'Interning', ['-Astubs=javax-lang-model-element-name.astub'])", "url": "https://github.com/typetools/checker-framework/pull/3578#discussion_r467878603", "createdAt": "2020-08-10T12:47:31Z", "author": {"login": "smillst"}, "path": "build.gradle", "diffHunk": "@@ -307,7 +307,12 @@ def createCheckTypeTask(projectName, checker, shortName, args = []) {\n                 '-Xmaxerrs', '10000',\n                 '-Xmaxwarns', '10000',\n                 '-ArequirePrefixInWarningSuppressions',\n-                ]\n+        ]\n+        if (shortName.equals(\"Interning\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0efa4c477cfa6fb8a24a1956e24404ceb2ec75b1"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg4MzQzNg==", "bodyText": "The errors in this method are because com.sun.tools.javac.util.Name is used. com.sun.tools.javac.util.Name implements  javax.lang.model.element.Name, so I think we can also annotate it as @Interned.", "url": "https://github.com/typetools/checker-framework/pull/3578#discussion_r467883436", "createdAt": "2020-08-10T12:56:28Z", "author": {"login": "smillst"}, "path": "framework/src/main/java/org/checkerframework/common/reflection/DefaultReflectionResolver.java", "diffHunk": "@@ -506,7 +506,6 @@ private boolean isUnknownMethod(MethodInvocationTree tree) {\n      * @param env the environment\n      * @return the (potentially empty) set of corresponding method Symbol(s)\n      */\n-    @SuppressWarnings(\"interning:not.interned\") // bug?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0efa4c477cfa6fb8a24a1956e24404ceb2ec75b1"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1022696d1f975bd71018dedcfdfc40a4d2e52c14", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/1022696d1f975bd71018dedcfdfc40a4d2e52c14", "committedDate": "2020-08-11T21:03:24Z", "message": "Merge ../checker-framework-branch-master into name-interned"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c08e4f8171ed16855070acc1467b73639179f47", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/7c08e4f8171ed16855070acc1467b73639179f47", "committedDate": "2020-08-11T21:24:06Z", "message": "Changes from code review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3fea3f263a98cde0955e381732b568a028c479af", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/3fea3f263a98cde0955e381732b568a028c479af", "committedDate": "2020-08-11T22:12:19Z", "message": "Fix package name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MTI5NjY5", "url": "https://github.com/typetools/checker-framework/pull/3578#pullrequestreview-466129669", "createdAt": "2020-08-12T17:33:26Z", "commit": {"oid": "3fea3f263a98cde0955e381732b568a028c479af"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2602, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}