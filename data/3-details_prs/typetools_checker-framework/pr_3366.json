{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxOTQ4MDEy", "number": 3366, "title": "AbstractQualifierPolymorphism: use AnnotationMirrors instead of sets of AnnotationMirrors", "bodyText": "Sets were used in the past because @PolyAll could be instantiated  with multiple qualifiers.", "createdAt": "2020-06-09T17:05:38Z", "url": "https://github.com/typetools/checker-framework/pull/3366", "merged": true, "mergeCommit": {"oid": "99c300397d2f7fa6a8253e718b80fb6049764c36"}, "closed": true, "closedAt": "2020-06-16T15:46:06Z", "author": {"login": "smillst"}, "timelineItems": {"totalCount": 49, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXa9oBgH2gAyNDMxOTQ4MDEyOjcxMDNmMzE1NjRjOTEwYzhhMjBmZmMzNjE2YTRkMjNjZDFkNjZiZjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrm1PJAH2gAyNDMxOTQ4MDEyOmU1ODkzZmUwZDg2ZTg1NDU3ZDNhNzYwZWYzNGJmZmFkZjEyOGJiOWE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7103f31564c910c8a20ffc3616a4d23cd1d66bf2", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/7103f31564c910c8a20ffc3616a4d23cd1d66bf2", "committedDate": "2020-04-14T03:31:11Z", "message": "Move a file and explain the `visitor` directory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3740dd645b4b0f1c8f368e4922baadea72e6cf22", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/3740dd645b4b0f1c8f368e4922baadea72e6cf22", "committedDate": "2020-04-19T21:57:13Z", "message": "Move text to a different file."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee7dfaa9df28eb509ba16d5f4bda4d7de6b768ee", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/ee7dfaa9df28eb509ba16d5f4bda4d7de6b768ee", "committedDate": "2020-04-19T22:00:41Z", "message": "Make classes abstract"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "565bbf06c221eeabcff84c2a7f8294b84d5552c8", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/565bbf06c221eeabcff84c2a7f8294b84d5552c8", "committedDate": "2020-04-19T22:27:55Z", "message": "Merge ../checker-framework-branch-master into framework-visitor-2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed6cda52a5a0e65539177dbe4f65020922ff71d0", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/ed6cda52a5a0e65539177dbe4f65020922ff71d0", "committedDate": "2020-04-19T23:04:38Z", "message": "Fix compilation errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35a3014ad19c20bf270dc22db08579ba6c6aaa85", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/35a3014ad19c20bf270dc22db08579ba6c6aaa85", "committedDate": "2020-04-20T14:55:18Z", "message": "Add (vague) Javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22fb38f515d864cf9ba9aaf45c923adec2dc6cf3", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/22fb38f515d864cf9ba9aaf45c923adec2dc6cf3", "committedDate": "2020-04-20T21:24:09Z", "message": "Merge ../checker-framework-branch-master into framework-visitor-2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e58efe0ce6115d200bee89d8140f845a47ec64d", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/2e58efe0ce6115d200bee89d8140f845a47ec64d", "committedDate": "2020-05-18T20:10:44Z", "message": "Merge branch 'master' into framework-visitor-2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b4892e7b99cbea9b7030ad5c31ad3b9483681a4", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/3b4892e7b99cbea9b7030ad5c31ad3b9483681a4", "committedDate": "2020-05-19T16:50:41Z", "message": "Add functional constructors."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8898b99c7ab41faa83766257cdeb387ae16ca86c", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/8898b99c7ab41faa83766257cdeb387ae16ca86c", "committedDate": "2020-05-19T17:47:12Z", "message": "Convert to functional."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f80a5b2793c44660feb2b94f069abe1c47115f3b", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/f80a5b2793c44660feb2b94f069abe1c47115f3b", "committedDate": "2020-05-19T20:18:51Z", "message": "Fix bug."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b41c86c37cb8eddba85cef6a5e38efc348e3459e", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/b41c86c37cb8eddba85cef6a5e38efc348e3459e", "committedDate": "2020-05-20T16:09:52Z", "message": "Add default value, add Javadoc, fix few bugs."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ee72e9ea85d63d473cce7295a101d70f4c97c5d", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/0ee72e9ea85d63d473cce7295a101d70f4c97c5d", "committedDate": "2020-05-20T16:41:04Z", "message": "Use SimpleATS."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28c281da948096eaddbf9dcfc7be94be7ad5a0a6", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/28c281da948096eaddbf9dcfc7be94be7ad5a0a6", "committedDate": "2020-05-20T16:43:26Z", "message": "Add default result and javadoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c192b0512056c34adc6aae615b86652b3a3e0422", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/c192b0512056c34adc6aae615b86652b3a3e0422", "committedDate": "2020-05-20T16:46:06Z", "message": "Correct Javadoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e97dd0114ccc166446d03a033040912a770cfccd", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/e97dd0114ccc166446d03a033040912a770cfccd", "committedDate": "2020-05-20T16:49:24Z", "message": "Correct bug."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70e676bc132e67233219cf9c6807acb2a3c8c1f7", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/70e676bc132e67233219cf9c6807acb2a3c8c1f7", "committedDate": "2020-05-20T16:58:15Z", "message": "Merge branch 'tmp' into type-scanner-function\n\n# Conflicts:\n#\tframework/src/main/java/org/checkerframework/framework/type/visitor/AnnotatedTypeScanner.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bad9816fbd07f3035bc8ec30069486620f0e0b4f", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/bad9816fbd07f3035bc8ec30069486620f0e0b4f", "committedDate": "2020-05-20T17:14:13Z", "message": "Clean up hashcode visitor."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1dcfd96d3fe3b150d59eb608bcb1193f52e4621", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/f1dcfd96d3fe3b150d59eb608bcb1193f52e4621", "committedDate": "2020-05-20T17:26:38Z", "message": "ExpressionErrorChecker and TCConvert"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07610753024f13a0ddc0b478037495d194e070b1", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/07610753024f13a0ddc0b478037495d194e070b1", "committedDate": "2020-05-20T17:37:53Z", "message": "Add comment."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b992c77d3df48b6a3b726e8a8a6cadc36f54de12", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/b992c77d3df48b6a3b726e8a8a6cadc36f54de12", "committedDate": "2020-05-20T17:40:41Z", "message": "Correct."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59103e378c782fe54f8158769b0ac74e3a7d3af8", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/59103e378c782fe54f8158769b0ac74e3a7d3af8", "committedDate": "2020-05-20T19:17:50Z", "message": "Javadoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2636e540146622be03f40c27fb1225e4cf1b962c", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/2636e540146622be03f40c27fb1225e4cf1b962c", "committedDate": "2020-05-20T19:39:00Z", "message": "Javadoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c01e604c0ad74166dfe323fe84fe27c456c8a806", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/c01e604c0ad74166dfe323fe84fe27c456c8a806", "committedDate": "2020-05-20T19:51:08Z", "message": "Javadoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8347e3ba6c46741936d664059faa8ce76d37d32", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/e8347e3ba6c46741936d664059faa8ce76d37d32", "committedDate": "2020-05-20T20:08:55Z", "message": "Fix Javdoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfceaa0a720d64de442c21c10f91b643c346a0dc", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/dfceaa0a720d64de442c21c10f91b643c346a0dc", "committedDate": "2020-05-20T20:28:10Z", "message": "Fix typo."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f38d40f2fa15b8550cae149c87e4611e7c868bff", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/f38d40f2fa15b8550cae149c87e4611e7c868bff", "committedDate": "2020-05-20T21:02:01Z", "message": "Checkpoint."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8eb1004a223e016120840b4a411901908a754648", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/8eb1004a223e016120840b4a411901908a754648", "committedDate": "2020-05-20T21:18:15Z", "message": "Checkpoint."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8c5b0e128335c5a57c4b17f38cf454fbb3bd702", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/c8c5b0e128335c5a57c4b17f38cf454fbb3bd702", "committedDate": "2020-05-20T21:30:35Z", "message": "Checkpoint."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75d67dfef6a288d082df3a6b6e92bcad980de8d8", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/75d67dfef6a288d082df3a6b6e92bcad980de8d8", "committedDate": "2020-05-20T21:48:29Z", "message": "Correct HashCodeVisitor."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c09b8089e7041dbe85f7602dc97df2e0972e1f09", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/c09b8089e7041dbe85f7602dc97df2e0972e1f09", "committedDate": "2020-05-21T16:29:08Z", "message": "Tweaks and more Javadoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b00e050d41f6f2d2e6bd17ca441c726c3d922a2", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/0b00e050d41f6f2d2e6bd17ca441c726c3d922a2", "committedDate": "2020-05-21T16:30:10Z", "message": "Tweaks and more Javadoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dffc1a07134b6eefc853d44009b47dbb6e289120", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/dffc1a07134b6eefc853d44009b47dbb6e289120", "committedDate": "2020-05-21T16:31:35Z", "message": "Correction."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbd9774dd7bc614620ba09af5d456bca388a53c9", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/bbd9774dd7bc614620ba09af5d456bca388a53c9", "committedDate": "2020-05-21T17:08:11Z", "message": "Reduce code."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0f0bdbf974c2a6cc957dd822700b8fb40436201", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/c0f0bdbf974c2a6cc957dd822700b8fb40436201", "committedDate": "2020-05-21T17:36:39Z", "message": "Corrections."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f04357c88e82fc2df5b9838a51b0c99e6b2b7ce6", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/f04357c88e82fc2df5b9838a51b0c99e6b2b7ce6", "committedDate": "2020-05-21T18:37:14Z", "message": "Add Javadoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b4bd7e7bb1135871bb86e9f93c4bf01e991716a", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/7b4bd7e7bb1135871bb86e9f93c4bf01e991716a", "committedDate": "2020-05-21T18:56:11Z", "message": "Add Javadoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4b17b6712f68b47617081c80b11cc05f102006f", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/e4b17b6712f68b47617081c80b11cc05f102006f", "committedDate": "2020-06-02T19:26:30Z", "message": "Merge remote-tracking branch 'remotes/origin/master' into type-scanner-function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abb998e995b1f6d7c39f62704509ecbf25735fca", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/abb998e995b1f6d7c39f62704509ecbf25735fca", "committedDate": "2020-06-03T16:53:28Z", "message": "Merge ../checker-framework-branch-master into type-scanner-function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0120a6ebe6437728b7b47e1621eabe59eed0cd3e", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/0120a6ebe6437728b7b47e1621eabe59eed0cd3e", "committedDate": "2020-06-03T18:43:51Z", "message": "Fix ErrorProne warnings."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ff2a8003d1123f13f5dc2d4d5cf49d41af9f3ab", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/0ff2a8003d1123f13f5dc2d4d5cf49d41af9f3ab", "committedDate": "2020-06-09T17:02:37Z", "message": "In AbstractQualifierPolymorphism, use AnnotationMirrors instead of sets of AnnotationMirrors\n\nSet were used in the past because `@PolyAll` could be instantiated  with multiple qualifiers."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d21baa7e6a06bf123ee5fac4ccf21077493ecb8", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/4d21baa7e6a06bf123ee5fac4ccf21077493ecb8", "committedDate": "2020-06-09T17:19:26Z", "message": "Add Javadoc."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5OTU3MTg5", "url": "https://github.com/typetools/checker-framework/pull/3366#pullrequestreview-429957189", "createdAt": "2020-06-12T18:33:13Z", "commit": {"oid": "4d21baa7e6a06bf123ee5fac4ccf21077493ecb8"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODozMzoxM1rOGjN72Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODozNDoxN1rOGjN9sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU4MTY1Nw==", "bodyText": "The set should be removed, right? Returns the annotation that is....", "url": "https://github.com/typetools/checker-framework/pull/3366#discussion_r439581657", "createdAt": "2020-06-12T18:33:13Z", "author": {"login": "wmdietl"}, "path": "framework/src/main/java/org/checkerframework/framework/type/poly/AbstractQualifierPolymorphism.java", "diffHunk": "@@ -235,42 +235,46 @@ public void resolve(\n     }\n \n     /**\n-     * If the primary annotation of {@code actualType} is a polymorphic qualifier, then it is mapped\n+     * If the primary annotation of {@code polyType} is a polymorphic qualifier, then it is mapped\n      * to the primary annotation of {@code type} and the map is returned. Otherwise, an empty map is\n      * returned.\n+     *\n+     * @param type type with qualifier to us in the map\n+     * @param polyType type that may have polymorphic qualifiers\n+     * @return a mapping from the polymorphic qualifiers in {@code polyType} to the qualifiers in\n+     *     {@code type}\n      */\n-    private AnnotationMirrorMap<AnnotationMirrorSet> mapQualifierToPoly(\n-            AnnotatedTypeMirror type, AnnotatedTypeMirror actualType) {\n-        AnnotationMirrorMap<AnnotationMirrorSet> result = new AnnotationMirrorMap<>();\n+    private AnnotationMirrorMap<AnnotationMirror> mapQualifierToPoly(\n+            AnnotatedTypeMirror type, AnnotatedTypeMirror polyType) {\n+        AnnotationMirrorMap<AnnotationMirror> result = new AnnotationMirrorMap<>();\n \n         for (Map.Entry<AnnotationMirror, AnnotationMirror> kv : polyQuals.entrySet()) {\n             AnnotationMirror top = kv.getValue();\n             AnnotationMirror poly = kv.getKey();\n-            if (actualType.hasAnnotation(poly)) {\n+            if (polyType.hasAnnotation(poly)) {\n                 AnnotationMirror typeQual = type.getAnnotationInHierarchy(top);\n                 if (typeQual != null) {\n-                    result.put(poly, AnnotationMirrorSet.singleElementSet(typeQual));\n+                    result.put(poly, typeQual);\n                 }\n             }\n         }\n         return result;\n     }\n \n     /**\n-     * Returns an annotation set that is the merge of the two sets of annotations. The sets are\n+     * Returns annotation set that is the combination of the two annotations. The annotations are", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d21baa7e6a06bf123ee5fac4ccf21077493ecb8"}, "originalPosition": 74}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU4MjEzMQ==", "bodyText": "an annotation", "url": "https://github.com/typetools/checker-framework/pull/3366#discussion_r439582131", "createdAt": "2020-06-12T18:34:17Z", "author": {"login": "wmdietl"}, "path": "framework/src/main/java/org/checkerframework/framework/type/poly/AbstractQualifierPolymorphism.java", "diffHunk": "@@ -235,42 +235,46 @@ public void resolve(\n     }\n \n     /**\n-     * If the primary annotation of {@code actualType} is a polymorphic qualifier, then it is mapped\n+     * If the primary annotation of {@code polyType} is a polymorphic qualifier, then it is mapped\n      * to the primary annotation of {@code type} and the map is returned. Otherwise, an empty map is\n      * returned.\n+     *\n+     * @param type type with qualifier to us in the map\n+     * @param polyType type that may have polymorphic qualifiers\n+     * @return a mapping from the polymorphic qualifiers in {@code polyType} to the qualifiers in\n+     *     {@code type}\n      */\n-    private AnnotationMirrorMap<AnnotationMirrorSet> mapQualifierToPoly(\n-            AnnotatedTypeMirror type, AnnotatedTypeMirror actualType) {\n-        AnnotationMirrorMap<AnnotationMirrorSet> result = new AnnotationMirrorMap<>();\n+    private AnnotationMirrorMap<AnnotationMirror> mapQualifierToPoly(\n+            AnnotatedTypeMirror type, AnnotatedTypeMirror polyType) {\n+        AnnotationMirrorMap<AnnotationMirror> result = new AnnotationMirrorMap<>();\n \n         for (Map.Entry<AnnotationMirror, AnnotationMirror> kv : polyQuals.entrySet()) {\n             AnnotationMirror top = kv.getValue();\n             AnnotationMirror poly = kv.getKey();\n-            if (actualType.hasAnnotation(poly)) {\n+            if (polyType.hasAnnotation(poly)) {\n                 AnnotationMirror typeQual = type.getAnnotationInHierarchy(top);\n                 if (typeQual != null) {\n-                    result.put(poly, AnnotationMirrorSet.singleElementSet(typeQual));\n+                    result.put(poly, typeQual);\n                 }\n             }\n         }\n         return result;\n     }\n \n     /**\n-     * Returns an annotation set that is the merge of the two sets of annotations. The sets are\n+     * Returns annotation set that is the combination of the two annotations. The annotations are\n      * instantiations for {@code polyQual}.\n      *\n      * <p>The combination is typically their least upper bound. (It could be the GLB in the case\n      * that all arguments to a polymorphic method must have the same annotation.)\n      *\n-     * @param polyQual polymorphic qualifier for which {@code a1Annos} and {@code a2Annos} are\n-     *     instantiations\n-     * @param a1Annos a set that is an instantiation of {@code polyQual}\n-     * @param a2Annos a set that is an instantiation of {@code polyQual}\n-     * @return the merge of the two sets\n+     * @param polyQual polymorphic qualifier for which {@code a1} and {@code a2} are instantiations\n+     * @param a1 an annotation that is an instantiation of {@code polyQual}\n+     * @param a2 an annotation that is an instantiation of {@code polyQual}\n+     * @return a annotation that is the combination of the two annotations", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d21baa7e6a06bf123ee5fac4ccf21077493ecb8"}, "originalPosition": 88}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6aff8870268e3e1cbd6e4445dc1bb70a160d56dc", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/6aff8870268e3e1cbd6e4445dc1bb70a160d56dc", "committedDate": "2020-06-15T16:51:19Z", "message": "Address review comments."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb54febe1a04efa57236d034ef6fa92993679496", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/bb54febe1a04efa57236d034ef6fa92993679496", "committedDate": "2020-06-15T16:52:17Z", "message": "Merge remote-tracking branch 'origin/master' into type-scanner-function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2aea1c0b2e6664d2999de3a94352a2550bafff9b", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/2aea1c0b2e6664d2999de3a94352a2550bafff9b", "committedDate": "2020-06-15T16:54:14Z", "message": "Fix comments."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bce6a57133202f2f057f059951a94951e606e5f", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/4bce6a57133202f2f057f059951a94951e606e5f", "committedDate": "2020-06-15T16:54:21Z", "message": "Merge remote-tracking branch 'origin/master' into polyQuals"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc8df2496b13ae4f7151244714aad480e5f6bbd3", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/bc8df2496b13ae4f7151244714aad480e5f6bbd3", "committedDate": "2020-06-15T16:59:04Z", "message": "Merge branch 'type-scanner-function' into polyQuals"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5893fe0d86e85457d3a760ef34bffadf128bb9a", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/e5893fe0d86e85457d3a760ef34bffadf128bb9a", "committedDate": "2020-06-15T20:39:22Z", "message": "Merge remote-tracking branch 'remotes/origin/master' into polyQuals"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2824, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}