{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYxNjM5NzY5", "number": 3545, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzoxMzoxN1rOEVMxJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzoxMzoxN1rOEVMxJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNjY0NzQyOnYy", "diffSide": "RIGHT", "path": "framework/src/main/java/org/checkerframework/framework/flow/CFAbstractStore.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzoxMzoxN1rOG70lyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzo1ODo1MlrOG71cGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM4MDgxMQ==", "bodyText": "This is removing leading/trailing spaces, right? Would just calling trim on the result be easier? A comment might be useful to document the intent.", "url": "https://github.com/typetools/checker-framework/pull/3545#discussion_r465380811", "createdAt": "2020-08-04T23:13:17Z", "author": {"login": "wmdietl"}, "path": "framework/src/main/java/org/checkerframework/framework/flow/CFAbstractStore.java", "diffHunk": "@@ -1024,11 +1024,14 @@ public String visualize(CFGVisualizer<?, S, ?> viz) {\n          * CFGVisualizer<Value, Store, TransferFunction> createCFGVisualizer() of GenericAnnotatedTypeFactory */\n         @SuppressWarnings(\"unchecked\")\n         CFGVisualizer<V, S, ?> castedViz = (CFGVisualizer<V, S, ?>) viz;\n-        StringBuilder sbVisualize = new StringBuilder();\n-        sbVisualize.append(castedViz.visualizeStoreHeader(this.getClass().getSimpleName()));\n-        sbVisualize.append(internalVisualize(castedViz));\n-        sbVisualize.append(castedViz.visualizeStoreFooter());\n-        return sbVisualize.toString();\n+        String header = castedViz.visualizeStoreHeader(this.getClass().getSimpleName());\n+        String internal = internalVisualize(castedViz);\n+        String footer = castedViz.visualizeStoreFooter();\n+        if (internal.trim().isEmpty()) {\n+            return header.replaceAll(\"\\\\s+$\", \"\") + footer.replaceAll(\"^\\\\s+\", \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d2c9d7a07bf1538ed36e4b1d65dcba0fd3f03d6"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM5NDcxNA==", "bodyText": "It removes trailing spaces from header and leading spaces from footer.  That is different than trim().  I added a comment.", "url": "https://github.com/typetools/checker-framework/pull/3545#discussion_r465394714", "createdAt": "2020-08-04T23:58:52Z", "author": {"login": "mernst"}, "path": "framework/src/main/java/org/checkerframework/framework/flow/CFAbstractStore.java", "diffHunk": "@@ -1024,11 +1024,14 @@ public String visualize(CFGVisualizer<?, S, ?> viz) {\n          * CFGVisualizer<Value, Store, TransferFunction> createCFGVisualizer() of GenericAnnotatedTypeFactory */\n         @SuppressWarnings(\"unchecked\")\n         CFGVisualizer<V, S, ?> castedViz = (CFGVisualizer<V, S, ?>) viz;\n-        StringBuilder sbVisualize = new StringBuilder();\n-        sbVisualize.append(castedViz.visualizeStoreHeader(this.getClass().getSimpleName()));\n-        sbVisualize.append(internalVisualize(castedViz));\n-        sbVisualize.append(castedViz.visualizeStoreFooter());\n-        return sbVisualize.toString();\n+        String header = castedViz.visualizeStoreHeader(this.getClass().getSimpleName());\n+        String internal = internalVisualize(castedViz);\n+        String footer = castedViz.visualizeStoreFooter();\n+        if (internal.trim().isEmpty()) {\n+            return header.replaceAll(\"\\\\s+$\", \"\") + footer.replaceAll(\"^\\\\s+\", \"\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM4MDgxMQ=="}, "originalCommit": {"oid": "8d2c9d7a07bf1538ed36e4b1d65dcba0fd3f03d6"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1632, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}