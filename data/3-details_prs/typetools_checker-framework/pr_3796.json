{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1MzM5NTA4", "number": 3796, "title": "Add task to run JSpecify tests", "bodyText": "", "createdAt": "2020-10-17T20:03:17Z", "url": "https://github.com/typetools/checker-framework/pull/3796", "merged": true, "mergeCommit": {"oid": "2d788d66cdb823296f76bd8ba24701c0082c2ba1"}, "closed": true, "closedAt": "2020-10-19T23:24:04Z", "author": {"login": "mernst"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdTP1vIAH2gAyNTA1MzM5NTA4OjA4MWNjODk3MGM3NTQ1ZTI2M2ZkY2FiZjBkN2I4ZTA3MzU0MDRkMTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdULoyxAH2gAyNTA1MzM5NTA4OjFhYzdlOGYzMWJkNmQzNzNjMDYxOGFjODYzNGJlN2I2N2VmODg2ZWI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "081cc8970c7545e263fdcabf0d7b8e0735404d16", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/081cc8970c7545e263fdcabf0d7b8e0735404d16", "committedDate": "2020-10-17T00:29:04Z", "message": "Tweaks to test infrastructure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0b75495480a7dd709a42ae9e0765dfc7520b964", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/b0b75495480a7dd709a42ae9e0765dfc7520b964", "committedDate": "2020-10-17T02:51:03Z", "message": "JSpecify tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "864f5c3b6e2dc7470e70408f1ea9a5a305c663e5", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/864f5c3b6e2dc7470e70408f1ea9a5a305c663e5", "committedDate": "2020-10-17T05:21:43Z", "message": "Javadoc fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "779c83e13a37953adb30b05ef19af8c504ef2d86", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/779c83e13a37953adb30b05ef19af8c504ef2d86", "committedDate": "2020-10-17T05:31:09Z", "message": "Disable assertion that directory with test files exists"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac6f01457c91067946ff7df83103d51621f1a2a7", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/ac6f01457c91067946ff7df83103d51621f1a2a7", "committedDate": "2020-10-17T05:34:04Z", "message": "Merge ../checker-framework-fork-mernst-branch-tests into jspecify-tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51d8f32bfb9e14ea48d974e84e833da8c840f824", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/51d8f32bfb9e14ea48d974e84e833da8c840f824", "committedDate": "2020-10-17T14:54:14Z", "message": "Disable JSpecify tests by default"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85ef16cda9cb9fbeef5317a596edf5e269a151ee", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/85ef16cda9cb9fbeef5317a596edf5e269a151ee", "committedDate": "2020-10-17T16:10:25Z", "message": "Remove one instance of duplicate code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c73f23957e671e37bfbb30c534779b9a05b657b", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/3c73f23957e671e37bfbb30c534779b9a05b657b", "committedDate": "2020-10-17T19:30:13Z", "message": "Fix test for JDK version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44d94bfe2b8473564a4410b325ea772f3efb1e0a", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/44d94bfe2b8473564a4410b325ea772f3efb1e0a", "committedDate": "2020-10-17T19:35:22Z", "message": "Merge ../checker-framework-branch-master into jspecify-tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4324bd367cf4890e19a4cf26149cd378d979780e", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/4324bd367cf4890e19a4cf26149cd378d979780e", "committedDate": "2020-10-17T19:36:43Z", "message": "Fix cut-and-paste typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1623e61b5cdf55a4de62f2083126c547bbc20a2a", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/1623e61b5cdf55a4de62f2083126c547bbc20a2a", "committedDate": "2020-10-17T19:38:42Z", "message": "Issue error if cannot find java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4314d799f7721969a4bce172c59e6f2597adddf4", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/4314d799f7721969a4bce172c59e6f2597adddf4", "committedDate": "2020-10-17T19:48:54Z", "message": "Tweaks"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExOTQyODMz", "url": "https://github.com/typetools/checker-framework/pull/3796#pullrequestreview-511942833", "createdAt": "2020-10-19T16:25:35Z", "commit": {"oid": "4314d799f7721969a4bce172c59e6f2597adddf4"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjoyNTozNlrOHkW_fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjozMTowN1rOHkXNtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg4NzQ4Ng==", "bodyText": "The exclude takes a file path, not a class name.", "url": "https://github.com/typetools/checker-framework/pull/3796#discussion_r507887486", "createdAt": "2020-10-19T16:25:36Z", "author": {"login": "smillst"}, "path": "checker/build.gradle", "diffHunk": "@@ -247,6 +247,15 @@ task jtregJdk11Tests(dependsOn: ':downloadJtreg', group: 'Verification') {\n     }\n }\n \n+// JSpecify tests are excluded by default.  To run them:\n+// ./gradlew NullnessJspecifySamplesTest\n+test {\n+    // The fully-qualified name does not work.  I'm not sure why.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4314d799f7721969a4bce172c59e6f2597adddf4"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg4ODE1Nw==", "bodyText": "You also need to have jspecify installed in a sibling directory.", "url": "https://github.com/typetools/checker-framework/pull/3796#discussion_r507888157", "createdAt": "2020-10-19T16:26:36Z", "author": {"login": "smillst"}, "path": "checker/src/test/java/org/checkerframework/checker/test/junit/NullnessJspecifySamplesTest.java", "diffHunk": "@@ -0,0 +1,133 @@\n+package org.checkerframework.checker.test.junit;\n+\n+import java.io.File;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+import org.checkerframework.framework.test.CheckerFrameworkPerDirectoryTest;\n+import org.checkerframework.framework.test.TypecheckResult;\n+import org.checkerframework.framework.test.diagnostics.DiagnosticKind;\n+import org.checkerframework.framework.test.diagnostics.TestDiagnostic;\n+import org.checkerframework.javacutil.BugInCF;\n+import org.junit.runners.Parameterized.Parameters;\n+\n+/**\n+ * JUnit tests for the Nullness Checker -- test the Jspecify samples. To run this test:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4314d799f7721969a4bce172c59e6f2597adddf4"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg5MTEyNA==", "bodyText": "This should be \"../../../jspecify/samples\".", "url": "https://github.com/typetools/checker-framework/pull/3796#discussion_r507891124", "createdAt": "2020-10-19T16:31:07Z", "author": {"login": "smillst"}, "path": "checker/src/test/java/org/checkerframework/checker/test/junit/NullnessJspecifySamplesTest.java", "diffHunk": "@@ -0,0 +1,133 @@\n+package org.checkerframework.checker.test.junit;\n+\n+import java.io.File;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+import org.checkerframework.framework.test.CheckerFrameworkPerDirectoryTest;\n+import org.checkerframework.framework.test.TypecheckResult;\n+import org.checkerframework.framework.test.diagnostics.DiagnosticKind;\n+import org.checkerframework.framework.test.diagnostics.TestDiagnostic;\n+import org.checkerframework.javacutil.BugInCF;\n+import org.junit.runners.Parameterized.Parameters;\n+\n+/**\n+ * JUnit tests for the Nullness Checker -- test the Jspecify samples. To run this test:\n+ *\n+ * <pre>{@code\n+ * ./gradlew :checker:NullnessJspecifySamples\n+ * }</pre>\n+ */\n+public class NullnessJspecifySamplesTest extends CheckerFrameworkPerDirectoryTest {\n+\n+    /**\n+     * Create a NullnessJspecifySamplesTest.\n+     *\n+     * @param testFiles the files containing test code, which will be type-checked\n+     */\n+    public NullnessJspecifySamplesTest(List<File> testFiles) {\n+        super(\n+                testFiles,\n+                org.checkerframework.checker.nullness.NullnessChecker.class,\n+                \"nullness\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4314d799f7721969a4bce172c59e6f2597adddf4"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61985e92b13591d4fcacaf4e09d35e143eeb5ae3", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/61985e92b13591d4fcacaf4e09d35e143eeb5ae3", "committedDate": "2020-10-19T17:51:01Z", "message": "Address code review feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2870237bc917daa4e459ec2e746d361181f270fd", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/2870237bc917daa4e459ec2e746d361181f270fd", "committedDate": "2020-10-19T18:25:51Z", "message": "Fix glob"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b36619dff75d7634881ddaee9f813068caabe8e", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/6b36619dff75d7634881ddaee9f813068caabe8e", "committedDate": "2020-10-19T18:54:31Z", "message": "Tweak glob"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4598b4d19017bb8eeff570ccdf22271c3417dba6", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/4598b4d19017bb8eeff570ccdf22271c3417dba6", "committedDate": "2020-10-19T20:44:37Z", "message": "Prefix the glob"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ac7e8f31bd6d373c0618ac8634be7b67ef886eb", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/1ac7e8f31bd6d373c0618ac8634be7b67ef886eb", "committedDate": "2020-10-19T22:09:14Z", "message": "Tweak the lovely glob"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2584, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}