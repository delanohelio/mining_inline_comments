{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwODY0NjQ2", "number": 3893, "title": "Don't distinguish methods and constructors in purity messages", "bodyText": "", "createdAt": "2020-11-13T21:40:16Z", "url": "https://github.com/typetools/checker-framework/pull/3893", "merged": true, "mergeCommit": {"oid": "c98a797f2e4dde110c72d318b17dd6b2e59e2efb"}, "closed": true, "closedAt": "2020-11-16T22:09:04Z", "author": {"login": "mernst"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdcNZQYAH2gAyNTIwODY0NjQ2OjY5MWZjMDQ3MTE1MmU5Y2VlZTVkZDdjZGU4MjE3Yjk1NzUxNDM4YTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddIoIlgH2gAyNTIwODY0NjQ2OjFjZDZjOTY1MzgwNWExM2UwOGNjNDc1ZmExNjE3NmE2MGE3M2UzYjQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "691fc0471152e9ceee5dd7cde8217b95751438a6", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/691fc0471152e9ceee5dd7cde8217b95751438a6", "committedDate": "2020-11-13T20:43:28Z", "message": "Don't distinguish methods and constructors in purity messages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02c1767bb5ff0ad5e901534516df42fe39fb85ab", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/02c1767bb5ff0ad5e901534516df42fe39fb85ab", "committedDate": "2020-11-13T21:00:41Z", "message": "Merge ../checker-framework-branch-master into lock-purity-fewer-messagekeys"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxNTU0MDI4", "url": "https://github.com/typetools/checker-framework/pull/3893#pullrequestreview-531554028", "createdAt": "2020-11-16T17:38:04Z", "commit": {"oid": "02c1767bb5ff0ad5e901534516df42fe39fb85ab"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNzozODowNFrOH0KBFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNzozODowNFrOH0KBFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQ1MjExOQ==", "bodyText": "This should be r.first.getKind() == Kind.METHOD_INVOCATION.", "url": "https://github.com/typetools/checker-framework/pull/3893#discussion_r524452119", "createdAt": "2020-11-16T17:38:04Z", "author": {"login": "smillst"}, "path": "framework/src/main/java/org/checkerframework/common/basetype/BaseTypeVisitor.java", "diffHunk": "@@ -893,9 +893,14 @@ private void reportPurityError(String msgKeyPrefix, Pair<Tree, String> r) {\n         String reason = r.second;\n         @SuppressWarnings(\"compilermessages\")\n         @CompilerMessageKey String msgKey = msgKeyPrefix + reason;\n-        if (reason.equals(\"call\") || reason.equals(\"call.method\")) {\n-            MethodInvocationTree mitree = (MethodInvocationTree) r.first;\n-            checker.reportError(r.first, msgKey, mitree.getMethodSelect());\n+        if (reason.equals(\"call\")) {\n+            if (r.first instanceof MethodInvocationTree) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02c1767bb5ff0ad5e901534516df42fe39fb85ab"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab813904748c780520f6a0b96fe712eff9dfebad", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/ab813904748c780520f6a0b96fe712eff9dfebad", "committedDate": "2020-11-16T17:40:59Z", "message": "Don't use instanceof"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cd6c9653805a13e08cc475fa16176a60a73e3b4", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/1cd6c9653805a13e08cc475fa16176a60a73e3b4", "committedDate": "2020-11-16T17:44:07Z", "message": "Add outer class"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2515, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}