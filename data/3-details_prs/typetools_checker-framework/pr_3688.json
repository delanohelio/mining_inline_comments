{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyNzI2Mjg1", "number": 3688, "title": "Handle widening primitive conversions", "bodyText": "The main changes are to add a @SignedPositiveFromUnsigned annotation and to add logic related to the widening that Java automatically does at arithmetic operations.\nFixes #3668; fixes #3669", "createdAt": "2020-09-24T22:13:09Z", "url": "https://github.com/typetools/checker-framework/pull/3688", "merged": true, "mergeCommit": {"oid": "80cd773cfea62dc4c3633c84fdf4c1b91da6f9c8"}, "closed": true, "closedAt": "2020-09-30T21:38:08Z", "author": {"login": "mernst"}, "timelineItems": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdMCQTwgH2gAyNDkyNzI2Mjg1OjEzZmU5NWQ5NmM1OGEzMWY3YjE5ZjljOGI5NzFjYjY1MTUyYzgyOWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdODhGvgFqTQ5OTgxOTIxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "13fe95d96c58a31f7b19f9c8b971cb65152c829c", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/13fe95d96c58a31f7b19f9c8b971cb65152c829c", "committedDate": "2020-09-24T14:41:57Z", "message": "Move the 3 overrides of commonAssignmentCheck next to one another"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e868f321e7cb07af0a05dcad2a06889e38065a9", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/1e868f321e7cb07af0a05dcad2a06889e38065a9", "committedDate": "2020-09-24T14:43:04Z", "message": "Make capitalization consistent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "194ff1a59bfabc57abe416b2597f4425fc78c0a6", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/194ff1a59bfabc57abe416b2597f4425fc78c0a6", "committedDate": "2020-09-24T14:43:27Z", "message": "Refill long lines"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71fa59586cdfde590e279c7b7ac9e84149598e23", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/71fa59586cdfde590e279c7b7ac9e84149598e23", "committedDate": "2020-09-24T15:00:14Z", "message": "Merge branch 'master' of github.com:typetools/checker-framework"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ec70b40a6e0309ba7415fbd566c43e9046f94ec", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/2ec70b40a6e0309ba7415fbd566c43e9046f94ec", "committedDate": "2020-09-24T19:28:03Z", "message": "Merge ../checker-framework-branch-master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79a354ab326f66cad6123f520ebee9c0f76b5856", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/79a354ab326f66cad6123f520ebee9c0f76b5856", "committedDate": "2020-09-24T22:05:19Z", "message": "Merge ../checker-framework-branch-master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3dc1d8e6de4a431d45bdbe287ff9c3c58b7a3eb", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/d3dc1d8e6de4a431d45bdbe287ff9c3c58b7a3eb", "committedDate": "2020-09-24T22:09:03Z", "message": "Handle widening primitive conversions\n\nThe main changes are to add a `@SignedPositiveFromUnsigned` annotation and to add logic related to the widening that Java automatically does at arithmetic operations.\n\nFixes #3668; fixes #3669"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5efe11a7063be182f016a779cc27e0518e11c55", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/c5efe11a7063be182f016a779cc27e0518e11c55", "committedDate": "2020-09-24T22:20:59Z", "message": "Comment tweaks"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2ODAwMTY2", "url": "https://github.com/typetools/checker-framework/pull/3688#pullrequestreview-496800166", "createdAt": "2020-09-25T20:18:14Z", "commit": {"oid": "c5efe11a7063be182f016a779cc27e0518e11c55"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQyMjo1MjozNFrOHYWgzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQyMjo1MjozNFrOHYWgzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTI5NjcxNg==", "bodyText": "This comment doesn't make sense.  The code here is setting the annotations of the TypeCastTree not the subexpression, so it can be moved to PropagationTreeAnnotator.  (Though this code is replacing the annotations on TypeCastTree which would change the annotation even if it was explicitly written. I'm not sure if that is desired or not.). Also, I'm not sure what work the last sentence is referring to.", "url": "https://github.com/typetools/checker-framework/pull/3688#discussion_r495296716", "createdAt": "2020-09-25T22:52:34Z", "author": {"login": "smillst"}, "path": "checker/src/main/java/org/checkerframework/checker/signedness/SignednessAnnotatedTypeFactory.java", "diffHunk": "@@ -230,6 +260,24 @@ public Void visitCompoundAssignment(CompoundAssignmentTree tree, AnnotatedTypeMi\n             annotateBooleanAsUnknownSignedness(type);\n             return null;\n         }\n+\n+        // This cannot appear in PropagationTreeAnnotator because it sets the annotations of a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5efe11a7063be182f016a779cc27e0518e11c55"}, "originalPosition": 107}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4762d78db92f651ec8e6e4655f3de1441259b8e0", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/4762d78db92f651ec8e6e4655f3de1441259b8e0", "committedDate": "2020-09-25T22:58:03Z", "message": "Merge remote-tracking branch 'origin/master' into signedness-widening"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ea1903502ec72184e651d5d1bce7e1daa7076b1", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/2ea1903502ec72184e651d5d1bce7e1daa7076b1", "committedDate": "2020-09-26T00:35:47Z", "message": "Merge ../checker-framework-branch-master into signedness-widening"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2be0902a78ed662d9d0342b8d82c2677ce2db31", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/f2be0902a78ed662d9d0342b8d82c2677ce2db31", "committedDate": "2020-09-28T01:48:19Z", "message": "Merge ../checker-framework-branch-master into signedness-widening"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "601efb6b327c856e7b0d069f75a67f9fbb152713", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/601efb6b327c856e7b0d069f75a67f9fbb152713", "committedDate": "2020-09-28T02:21:24Z", "message": "Merge ../checker-framework-branch-master into signedness-widening"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b98de25253d0121419c8fc502e34dfd5e024b767", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/b98de25253d0121419c8fc502e34dfd5e024b767", "committedDate": "2020-09-29T00:52:14Z", "message": "Merge ../checker-framework-branch-master into signedness-widening"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6419649a88dbf82028a4be6c67346116757ca3e7", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/6419649a88dbf82028a4be6c67346116757ca3e7", "committedDate": "2020-09-29T15:40:36Z", "message": "Merge ../checker-framework-branch-master into signedness-widening"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02f433ec1b9edd18c94a9ca100d1a8350f233175", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/02f433ec1b9edd18c94a9ca100d1a8350f233175", "committedDate": "2020-09-29T17:42:39Z", "message": "Move logic to PropagationTreeAnnotator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "280f055388602027c144faf3951ea5c3f083037c", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/280f055388602027c144faf3951ea5c3f083037c", "committedDate": "2020-09-29T17:46:07Z", "message": "Merge ../checker-framework-branch-master into signedness-widening"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d498ebb8513ceb7e743bb0229009797411ec5a4", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/4d498ebb8513ceb7e743bb0229009797411ec5a4", "committedDate": "2020-09-29T17:47:51Z", "message": "Merge ../checker-framework-fork-mernst-branch-signedness-widening into signedness-widening-move-logic-to-propagationtreeannotator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b966d2d722ba6acb2321f7722bfc2b4e511316f4", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/b966d2d722ba6acb2321f7722bfc2b4e511316f4", "committedDate": "2020-09-29T19:30:27Z", "message": "Move logic from SignednessVisitor to SignednessAnnotatedTypeFactory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc0394e037a2c8a53a573d3f29a336f0f828e496", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/cc0394e037a2c8a53a573d3f29a336f0f828e496", "committedDate": "2020-09-29T19:35:47Z", "message": "Comment tweaks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "337c4b50721dc444f477de9a62bd2a62d1d761c1", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/337c4b50721dc444f477de9a62bd2a62d1d761c1", "committedDate": "2020-09-29T19:50:46Z", "message": "Add Javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d9cc799c496c7d1b247cca68e09965aa8d8e733", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/4d9cc799c496c7d1b247cca68e09965aa8d8e733", "committedDate": "2020-09-29T20:21:55Z", "message": "Don't advertise a change that will change again later"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1453ec9b6405b56eff4ea0027cd2474b7cba90a4", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/1453ec9b6405b56eff4ea0027cd2474b7cba90a4", "committedDate": "2020-09-30T00:32:55Z", "message": "Rename a method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e6afef1470b886865ec1d314c1e6c8d4a5e55ca", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/2e6afef1470b886865ec1d314c1e6c8d4a5e55ca", "committedDate": "2020-09-30T00:35:47Z", "message": "Merge ../checker-framework-branch-master into signedness-widening"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5ODE5MjE1", "url": "https://github.com/typetools/checker-framework/pull/3688#pullrequestreview-499819215", "createdAt": "2020-09-30T21:18:03Z", "commit": {"oid": "2e6afef1470b886865ec1d314c1e6c8d4a5e55ca"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2650, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}