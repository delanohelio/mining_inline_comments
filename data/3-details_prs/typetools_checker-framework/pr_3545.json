{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYxNjM5NzY5", "number": 3545, "title": "More concise visualization of empty store", "bodyText": "", "createdAt": "2020-08-02T02:49:11Z", "url": "https://github.com/typetools/checker-framework/pull/3545", "merged": true, "mergeCommit": {"oid": "13008026403e1de8337598dbe3f2ea12ad6903ad"}, "closed": true, "closedAt": "2020-08-05T03:35:25Z", "author": {"login": "mernst"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6y8_vAH2gAyNDYxNjM5NzY5OjAxNTIzMzhkMjFlOTMyYjhhMDUyZjkyNmJjOTk4YWQzZWU4OTAwOTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7vp-aAH2gAyNDYxNjM5NzY5OjUwMmU3NDY5OWU2NWEyYTVkZmVlNDhjMTQ5MTUwMjE4NzkzMjdiODM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0152338d21e932b8a052f926bc998ad3ee890092", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/0152338d21e932b8a052f926bc998ad3ee890092", "committedDate": "2020-08-02T01:15:34Z", "message": "More concise visualization of empty store"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d2c9d7a07bf1538ed36e4b1d65dcba0fd3f03d6", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/8d2c9d7a07bf1538ed36e4b1d65dcba0fd3f03d6", "committedDate": "2020-08-02T03:54:35Z", "message": "Remove whitespace that is not present in other methods"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjM3NDQ1", "url": "https://github.com/typetools/checker-framework/pull/3545#pullrequestreview-461237445", "createdAt": "2020-08-04T23:13:17Z", "commit": {"oid": "8d2c9d7a07bf1538ed36e4b1d65dcba0fd3f03d6"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzoxMzoxN1rOG70lyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMzoxMzoxN1rOG70lyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM4MDgxMQ==", "bodyText": "This is removing leading/trailing spaces, right? Would just calling trim on the result be easier? A comment might be useful to document the intent.", "url": "https://github.com/typetools/checker-framework/pull/3545#discussion_r465380811", "createdAt": "2020-08-04T23:13:17Z", "author": {"login": "wmdietl"}, "path": "framework/src/main/java/org/checkerframework/framework/flow/CFAbstractStore.java", "diffHunk": "@@ -1024,11 +1024,14 @@ public String visualize(CFGVisualizer<?, S, ?> viz) {\n          * CFGVisualizer<Value, Store, TransferFunction> createCFGVisualizer() of GenericAnnotatedTypeFactory */\n         @SuppressWarnings(\"unchecked\")\n         CFGVisualizer<V, S, ?> castedViz = (CFGVisualizer<V, S, ?>) viz;\n-        StringBuilder sbVisualize = new StringBuilder();\n-        sbVisualize.append(castedViz.visualizeStoreHeader(this.getClass().getSimpleName()));\n-        sbVisualize.append(internalVisualize(castedViz));\n-        sbVisualize.append(castedViz.visualizeStoreFooter());\n-        return sbVisualize.toString();\n+        String header = castedViz.visualizeStoreHeader(this.getClass().getSimpleName());\n+        String internal = internalVisualize(castedViz);\n+        String footer = castedViz.visualizeStoreFooter();\n+        if (internal.trim().isEmpty()) {\n+            return header.replaceAll(\"\\\\s+$\", \"\") + footer.replaceAll(\"^\\\\s+\", \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d2c9d7a07bf1538ed36e4b1d65dcba0fd3f03d6"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "502e74699e65a2a5dfee48c14915021879327b83", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/502e74699e65a2a5dfee48c14915021879327b83", "committedDate": "2020-08-04T23:59:00Z", "message": "Add comment to explain what replaceAll does."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2764, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}