{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5MTQ4Njk5", "number": 3273, "title": "Parse the annotated JDK as a stub file and remove jdk8.jar", "bodyText": "Fixes #2943.\nMerge with: typetools/checker-framework-inference#158.\nTODO:\n\n Finish addressing review comments.\n Remove checker/jdk before merging this pull request.  (I haven't done this so that it is easier to see the changes in this pull request.)\n Add change log.\n Redo typetools/checker-framework-inference#157. this with the correct branch name.\n Move the new parseAllJdk option to a different pull request and add a test that used it. Merge #3279\n Fix checker-framework.demos (and possibly other downstream tests).\n Remove more methods from SystemUtil that use jdk.jar and update CFI.\n Merge typetools/checker-framework.demos#17.", "createdAt": "2020-04-26T20:04:13Z", "url": "https://github.com/typetools/checker-framework/pull/3273", "merged": true, "mergeCommit": {"oid": "415220c163b4cc2d3288b4701cebadf59afd3f06"}, "closed": true, "closedAt": "2020-05-03T16:55:31Z", "author": {"login": "smillst"}, "timelineItems": {"totalCount": 24, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcbgSlfAH2gAyNDA5MTQ4Njk5OmU4NWE4ZmJmZTJhM2E2ZGZjZjZlNmU2NzFkNWFjZjg2ODkwNjQ0NTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcdspHUgH2gAyNDA5MTQ4Njk5OmE2Nzg3N2UzYzlkNmZhMTgwNjljM2M0ZTAzY2M4YmFhMzFmMzg1ZTI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e85a8fbfe2a3a6dfcf6e6e671d5acf8689064450", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/e85a8fbfe2a3a6dfcf6e6e671d5acf8689064450", "committedDate": "2020-04-26T19:59:18Z", "message": "Remove jdk8.jar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2eb79753cbd0ff07ef08418bf28205ec9cb0a79c", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/2eb79753cbd0ff07ef08418bf28205ec9cb0a79c", "committedDate": "2020-04-26T21:39:40Z", "message": "Add back so test pass."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69d293e21f02181e9dbf40bdc29498b69807849f", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/69d293e21f02181e9dbf40bdc29498b69807849f", "committedDate": "2020-04-28T00:47:17Z", "message": "Code review tweaks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "964303fd66651a9e56d5a3ada93483ca212df254", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/964303fd66651a9e56d5a3ada93483ca212df254", "committedDate": "2020-04-28T02:38:13Z", "message": "Edits from code review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "862ed0ee0c89c66499ce057da922cc3db18b53e4", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/862ed0ee0c89c66499ce057da922cc3db18b53e4", "committedDate": "2020-04-28T02:40:48Z", "message": "Improve documentation about libraries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b5981b5fe29e1c3cffc130223ac2230cc2cca29", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/8b5981b5fe29e1c3cffc130223ac2230cc2cca29", "committedDate": "2020-04-28T02:43:48Z", "message": "Merge ../checker-framework-branch-master into removeJdk8Jar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e9bb71620b3ebf98eb6f82705af4a5ca5b8e8b8", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/4e9bb71620b3ebf98eb6f82705af4a5ca5b8e8b8", "committedDate": "2020-04-28T03:20:39Z", "message": "Remove obsolete troubleshooting items"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40cf67a982f9af0ae76a8dbd50dc3d68aa363e79", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/40cf67a982f9af0ae76a8dbd50dc3d68aa363e79", "committedDate": "2020-04-28T03:21:45Z", "message": "Capitalization fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2af9ddbc4846bb3e49f82b5bacd6fc6f0ba14d75", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/2af9ddbc4846bb3e49f82b5bacd6fc6f0ba14d75", "committedDate": "2020-04-28T03:24:43Z", "message": "Manual improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5b8612b8802886bb0527b6495defc560268b78e", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/e5b8612b8802886bb0527b6495defc560268b78e", "committedDate": "2020-04-28T03:25:04Z", "message": "More updates from code review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2f53029957bd502c74dc6236c79eeac4dfc8788", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/f2f53029957bd502c74dc6236c79eeac4dfc8788", "committedDate": "2020-04-28T03:27:14Z", "message": "Merge ../checker-framework-branch-master into removeJdk8Jar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1712606f93aa5cd71107dd9ad98a76fe7790cfc0", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/1712606f93aa5cd71107dd9ad98a76fe7790cfc0", "committedDate": "2020-04-28T03:30:42Z", "message": "More updates from code review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f1faeb855f7abe7b0b29a8c5342b6e06b8af786", "author": {"user": {"login": "mernst", "name": "Michael Ernst"}}, "url": "https://github.com/typetools/checker-framework/commit/8f1faeb855f7abe7b0b29a8c5342b6e06b8af786", "committedDate": "2020-04-28T03:39:21Z", "message": "Merge ../checker-framework-branch-master into removeJdk8Jar"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxNDIzNjg3", "url": "https://github.com/typetools/checker-framework/pull/3273#pullrequestreview-401423687", "createdAt": "2020-04-28T00:44:32Z", "commit": {"oid": "2eb79753cbd0ff07ef08418bf28205ec9cb0a79c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQwMDo0NDozMlrOGM9qgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQwMDo0NDozMlrOGM9qgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjI0NjQwMw==", "bodyText": "I think this was handled by typetools/jdk@8bc4048 so maybe it can be removed too.", "url": "https://github.com/typetools/checker-framework/pull/3273#discussion_r416246403", "createdAt": "2020-04-28T00:44:32Z", "author": {"login": "mernst"}, "path": "docs/manual/introduction.tex", "diffHunk": "@@ -553,12 +553,9 @@\n % running your code, you can use either the annotated library or the regular\n % distributed version of the library --- they behave identically.\n \n-There are two special cases.\n+There is one special case.\n \\begin{itemize}\n \\item\n-The annotated JDK is automatically put on your\n-classpath; you don't have to do anything special for it.\n-\\item\n For the Javadoc classes in the JDK's \\<com.sun.javadoc> package,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2eb79753cbd0ff07ef08418bf28205ec9cb0a79c"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMjcwMzU4", "url": "https://github.com/typetools/checker-framework/pull/3273#pullrequestreview-402270358", "createdAt": "2020-04-28T22:59:58Z", "commit": {"oid": "8f1faeb855f7abe7b0b29a8c5342b6e06b8af786"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMjo1OTo1OVrOGNqEhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMzowMToyNFrOGNqGiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk3Mzk1OA==", "bodyText": "Could you add a comment why they are skipped?\nIsn't the build file already not copying the module-info from the JDK?\nAt some point we might want default annotations on the module level.", "url": "https://github.com/typetools/checker-framework/pull/3273#discussion_r416973958", "createdAt": "2020-04-28T22:59:59Z", "author": {"login": "wmdietl"}, "path": "framework/src/main/java/org/checkerframework/framework/stub/StubTypes.java", "diffHunk": "@@ -480,6 +485,13 @@ private void prepJdkFromFile(URL resourceURL) {\n                     parseStubFile(path);\n                     continue;\n                 }\n+                if (path.getFileName().toString().equals(\"module-info.java\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f1faeb855f7abe7b0b29a8c5342b6e06b8af786"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk3NDQ3NQ==", "bodyText": "This new option should be documented in the manual.", "url": "https://github.com/typetools/checker-framework/pull/3273#discussion_r416974475", "createdAt": "2020-04-28T23:01:24Z", "author": {"login": "wmdietl"}, "path": "framework/src/main/java/org/checkerframework/framework/source/SourceChecker.java", "diffHunk": "@@ -356,7 +356,10 @@\n \n     // Whether to output resource statistics at JVM shutdown\n     // org.checkerframework.framework.source.SourceChecker.shutdownHook()\n-    \"resourceStats\"\n+    \"resourceStats\",\n+\n+    // Parse all JDK files at startup rather than as needed.\n+    \"parseAllJdk\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f1faeb855f7abe7b0b29a8c5342b6e06b8af786"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NDAzNTk5", "url": "https://github.com/typetools/checker-framework/pull/3273#pullrequestreview-404403599", "createdAt": "2020-05-01T21:12:13Z", "commit": {"oid": "8f1faeb855f7abe7b0b29a8c5342b6e06b8af786"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQyMToxMjoxNFrOGPV3SQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQyMToxMjoxNFrOGPV3SQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc0MDA0MQ==", "bodyText": "You should", "url": "https://github.com/typetools/checker-framework/pull/3273#discussion_r418740041", "createdAt": "2020-05-01T21:12:14Z", "author": {"login": "smillst"}, "path": "changelog.txt", "diffHunk": "@@ -1,5 +1,13 @@\n ---------------------------------------------------------------------------\n \n+Version 3.4.0, May 1, 2020\n+\n+The annotated jdk8.jar is no longer used.  You can remove any occurrence of", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f1faeb855f7abe7b0b29a8c5342b6e06b8af786"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5a34d0d1d7dcc335c719e8d4408d143a735b33e", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/e5a34d0d1d7dcc335c719e8d4408d143a735b33e", "committedDate": "2020-05-01T23:19:58Z", "message": "Merge branch 'master' into removeJdk8Jar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b87aba22a4431031a3ffc27f0a1ef6260e8bb32", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/4b87aba22a4431031a3ffc27f0a1ef6260e8bb32", "committedDate": "2020-05-01T23:21:37Z", "message": "Remove methods from SystemUtil."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d718ad5b270013551a885e14bf5e58ed8a28dae5", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/d718ad5b270013551a885e14bf5e58ed8a28dae5", "committedDate": "2020-05-03T15:09:14Z", "message": "Merge remote-tracking branch 'origin/master' into removeJdk8Jar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "674bc5e3ce7deec029a3514bb2a0b79571c5bc47", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/674bc5e3ce7deec029a3514bb2a0b79571c5bc47", "committedDate": "2020-05-03T15:14:05Z", "message": "Delete section."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c42c2df15b0cbb9a4de53d134ededf55174f0434", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/c42c2df15b0cbb9a4de53d134ededf55174f0434", "committedDate": "2020-05-03T15:25:47Z", "message": "Update changelog."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "852eead5f6e06577954e1f2505d4b0c7e33ada73", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/852eead5f6e06577954e1f2505d4b0c7e33ada73", "committedDate": "2020-05-03T15:28:07Z", "message": "Address javadoc.astub."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79abf279d2639aeefd84cc86d141e7ddc32575d7", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/79abf279d2639aeefd84cc86d141e7ddc32575d7", "committedDate": "2020-05-03T15:29:18Z", "message": "Add comment."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a67877e3c9d6fa18069c3c4e03cc8baa31f385e2", "author": {"user": {"login": "smillst", "name": "Suzanne Millstein"}}, "url": "https://github.com/typetools/checker-framework/commit/a67877e3c9d6fa18069c3c4e03cc8baa31f385e2", "committedDate": "2020-05-03T15:30:37Z", "message": "Remove checker/jdk."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2969, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}