{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4OTIxNDQx", "number": 617, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMToyOTowMVrODVo7jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMTozMjo0MlrODVo9zQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MDE3Mjk1OnYy", "diffSide": "RIGHT", "path": "en/docs/Learn/APISecurity/Authorization/role-based-access-control-using-xacml.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMToyOTowMVrOFZ-ThQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQwODo0NToyN1rOFaYFCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc3OTUyNQ==", "bodyText": "Without using ../ in the link use the {{base_path}} variable with the correct path.", "url": "https://github.com/wso2/docs-apim/pull/617#discussion_r362779525", "createdAt": "2020-01-03T11:29:01Z", "author": {"login": "Mariangela"}, "path": "en/docs/Learn/APISecurity/Authorization/role-based-access-control-using-xacml.md", "diffHunk": "@@ -1,6 +1,6 @@\n # Enabling Role-Based Access Control Using XACML\n \n-Many\u00a0organizations\u00a0expose their business capabilities\u00a0through APIs.\u00a0One of the key challenges is controlling access to these exposed APIs in such a way that all authorized users are able to access its APIs without any interruption, while at the same time making\u00a0sure that\u00a0any\u00a0unauthorized\u00a0users are kept out. In order to achieve this, parameters such as the user role can be used in determining whether to grant or deny access to an API for a given user. There are two ways to control access to users, namely [OAuth 2.0 scope](_Scope_Management_with_OAuth_Scopes_) and XACML.\u00a0This section explains how an external extensible Access Control Markup Language (XACML) entitlement server can be integrated with WSO2 API Manager to provide role-based access control to APIs exposed via WSO2 API Manager.\u00a0XACML\u00a0is a declarative access control policy language based on XML that can provide a standardized way of validating authorization requests.\n+Many\u00a0organizations\u00a0expose their business capabilities\u00a0through APIs.\u00a0One of the key challenges is controlling access to these exposed APIs in such a way that all authorized users are able to access its APIs without any interruption, while at the same time making\u00a0sure that\u00a0any\u00a0unauthorized\u00a0users are kept out. In order to achieve this, parameters such as the user role can be used in determining whether to grant or deny access to an API for a given user. There are two ways to control access to users, namely [OAuth 2.0 scope](../../../APISecurity/OAuth2DeepDive/OAuth2Scopes/fine-grained-access-control-with-oauth-scopes/) and XACML.\u00a0This section explains how an external extensible Access Control Markup Language (XACML) entitlement server can be integrated with WSO2 API Manager to provide role-based access control to APIs exposed via WSO2 API Manager.\u00a0XACML\u00a0is a declarative access control policy language based on XML that can provide a standardized way of validating authorization requests.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f8cb2a553d847622a0b9b1c76eace95986a558d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzIwMTgwMA==", "bodyText": "Fixed with a8f029f", "url": "https://github.com/wso2/docs-apim/pull/617#discussion_r363201800", "createdAt": "2020-01-06T08:45:27Z", "author": {"login": "Meruja"}, "path": "en/docs/Learn/APISecurity/Authorization/role-based-access-control-using-xacml.md", "diffHunk": "@@ -1,6 +1,6 @@\n # Enabling Role-Based Access Control Using XACML\n \n-Many\u00a0organizations\u00a0expose their business capabilities\u00a0through APIs.\u00a0One of the key challenges is controlling access to these exposed APIs in such a way that all authorized users are able to access its APIs without any interruption, while at the same time making\u00a0sure that\u00a0any\u00a0unauthorized\u00a0users are kept out. In order to achieve this, parameters such as the user role can be used in determining whether to grant or deny access to an API for a given user. There are two ways to control access to users, namely [OAuth 2.0 scope](_Scope_Management_with_OAuth_Scopes_) and XACML.\u00a0This section explains how an external extensible Access Control Markup Language (XACML) entitlement server can be integrated with WSO2 API Manager to provide role-based access control to APIs exposed via WSO2 API Manager.\u00a0XACML\u00a0is a declarative access control policy language based on XML that can provide a standardized way of validating authorization requests.\n+Many\u00a0organizations\u00a0expose their business capabilities\u00a0through APIs.\u00a0One of the key challenges is controlling access to these exposed APIs in such a way that all authorized users are able to access its APIs without any interruption, while at the same time making\u00a0sure that\u00a0any\u00a0unauthorized\u00a0users are kept out. In order to achieve this, parameters such as the user role can be used in determining whether to grant or deny access to an API for a given user. There are two ways to control access to users, namely [OAuth 2.0 scope](../../../APISecurity/OAuth2DeepDive/OAuth2Scopes/fine-grained-access-control-with-oauth-scopes/) and XACML.\u00a0This section explains how an external extensible Access Control Markup Language (XACML) entitlement server can be integrated with WSO2 API Manager to provide role-based access control to APIs exposed via WSO2 API Manager.\u00a0XACML\u00a0is a declarative access control policy language based on XML that can provide a standardized way of validating authorization requests.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc3OTUyNQ=="}, "originalCommit": {"oid": "9f8cb2a553d847622a0b9b1c76eace95986a558d"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MDE3NTA5OnYy", "diffSide": "RIGHT", "path": "en/docs/Learn/APISecurity/Authorization/role-based-access-control-using-xacml.md", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMTozMDoxNlrOFZ-UuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxNToyOToxNlrOFnqYfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc3OTgzMw==", "bodyText": "Why are we pointing to AM260 docs in the AM3.0.0 doc space", "url": "https://github.com/wso2/docs-apim/pull/617#discussion_r362779833", "createdAt": "2020-01-03T11:30:16Z", "author": {"login": "Mariangela"}, "path": "en/docs/Learn/APISecurity/Authorization/role-based-access-control-using-xacml.md", "diffHunk": "@@ -33,7 +33,7 @@ Based on the requirement, a single API is exposed to add or retrieve order\u00a0info\n         In an actual deployment, both these servers can [share the user store](../../../Learn/Extensions/SAML2SSO/configuring-identity-server-as-idp-for-sso.md#sharing-the-user-store) of your organization.\n \n \n-2.  Share the registry of both WSO2 API Manager and WSO2 Identity Server. Refer [Sharing the registry space](https://docs.wso2.com/display/AM2xx/Configuring+External+IDP+through+Identity+Server+for+SSO#ConfiguringExternalIDPthroughIdentityServerforSSO-Sharingtheregistryspace) for the steps.\n+2.  Share the registry of both WSO2 API Manager and WSO2 Identity Server. Refer [Sharing the registry space](https://docs.wso2.com/display/AM260/Configuring+External+IDP+through+Identity+Server+for+SSO#ConfiguringExternalIDPthroughIdentityServerforSSO-Sharingtheregistryspace) for the steps.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f8cb2a553d847622a0b9b1c76eace95986a558d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzIwMjAwOQ==", "bodyText": "Still, we do not have the documentation for \"Share the registry space\".", "url": "https://github.com/wso2/docs-apim/pull/617#discussion_r363202009", "createdAt": "2020-01-06T08:46:12Z", "author": {"login": "Meruja"}, "path": "en/docs/Learn/APISecurity/Authorization/role-based-access-control-using-xacml.md", "diffHunk": "@@ -33,7 +33,7 @@ Based on the requirement, a single API is exposed to add or retrieve order\u00a0info\n         In an actual deployment, both these servers can [share the user store](../../../Learn/Extensions/SAML2SSO/configuring-identity-server-as-idp-for-sso.md#sharing-the-user-store) of your organization.\n \n \n-2.  Share the registry of both WSO2 API Manager and WSO2 Identity Server. Refer [Sharing the registry space](https://docs.wso2.com/display/AM2xx/Configuring+External+IDP+through+Identity+Server+for+SSO#ConfiguringExternalIDPthroughIdentityServerforSSO-Sharingtheregistryspace) for the steps.\n+2.  Share the registry of both WSO2 API Manager and WSO2 Identity Server. Refer [Sharing the registry space](https://docs.wso2.com/display/AM260/Configuring+External+IDP+through+Identity+Server+for+SSO#ConfiguringExternalIDPthroughIdentityServerforSSO-Sharingtheregistryspace) for the steps.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc3OTgzMw=="}, "originalCommit": {"oid": "9f8cb2a553d847622a0b9b1c76eace95986a558d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU4NjY0MA==", "bodyText": "@bhathiya , pls confirm", "url": "https://github.com/wso2/docs-apim/pull/617#discussion_r363586640", "createdAt": "2020-01-07T04:23:53Z", "author": {"login": "Mariangela"}, "path": "en/docs/Learn/APISecurity/Authorization/role-based-access-control-using-xacml.md", "diffHunk": "@@ -33,7 +33,7 @@ Based on the requirement, a single API is exposed to add or retrieve order\u00a0info\n         In an actual deployment, both these servers can [share the user store](../../../Learn/Extensions/SAML2SSO/configuring-identity-server-as-idp-for-sso.md#sharing-the-user-store) of your organization.\n \n \n-2.  Share the registry of both WSO2 API Manager and WSO2 Identity Server. Refer [Sharing the registry space](https://docs.wso2.com/display/AM2xx/Configuring+External+IDP+through+Identity+Server+for+SSO#ConfiguringExternalIDPthroughIdentityServerforSSO-Sharingtheregistryspace) for the steps.\n+2.  Share the registry of both WSO2 API Manager and WSO2 Identity Server. Refer [Sharing the registry space](https://docs.wso2.com/display/AM260/Configuring+External+IDP+through+Identity+Server+for+SSO#ConfiguringExternalIDPthroughIdentityServerforSSO-Sharingtheregistryspace) for the steps.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc3OTgzMw=="}, "originalCommit": {"oid": "9f8cb2a553d847622a0b9b1c76eace95986a558d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU4NzEzNA==", "bodyText": "that's not correct because 2.6 configs are not working for 3.0\nlet's ask the doc owner to fix it.", "url": "https://github.com/wso2/docs-apim/pull/617#discussion_r363587134", "createdAt": "2020-01-07T04:27:20Z", "author": {"login": "bhathiya"}, "path": "en/docs/Learn/APISecurity/Authorization/role-based-access-control-using-xacml.md", "diffHunk": "@@ -33,7 +33,7 @@ Based on the requirement, a single API is exposed to add or retrieve order\u00a0info\n         In an actual deployment, both these servers can [share the user store](../../../Learn/Extensions/SAML2SSO/configuring-identity-server-as-idp-for-sso.md#sharing-the-user-store) of your organization.\n \n \n-2.  Share the registry of both WSO2 API Manager and WSO2 Identity Server. Refer [Sharing the registry space](https://docs.wso2.com/display/AM2xx/Configuring+External+IDP+through+Identity+Server+for+SSO#ConfiguringExternalIDPthroughIdentityServerforSSO-Sharingtheregistryspace) for the steps.\n+2.  Share the registry of both WSO2 API Manager and WSO2 Identity Server. Refer [Sharing the registry space](https://docs.wso2.com/display/AM260/Configuring+External+IDP+through+Identity+Server+for+SSO#ConfiguringExternalIDPthroughIdentityServerforSSO-Sharingtheregistryspace) for the steps.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc3OTgzMw=="}, "originalCommit": {"oid": "9f8cb2a553d847622a0b9b1c76eace95986a558d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzEzMzE4MQ==", "bodyText": "Fixed with 62cd606", "url": "https://github.com/wso2/docs-apim/pull/617#discussion_r377133181", "createdAt": "2020-02-10T15:29:16Z", "author": {"login": "Meruja"}, "path": "en/docs/Learn/APISecurity/Authorization/role-based-access-control-using-xacml.md", "diffHunk": "@@ -33,7 +33,7 @@ Based on the requirement, a single API is exposed to add or retrieve order\u00a0info\n         In an actual deployment, both these servers can [share the user store](../../../Learn/Extensions/SAML2SSO/configuring-identity-server-as-idp-for-sso.md#sharing-the-user-store) of your organization.\n \n \n-2.  Share the registry of both WSO2 API Manager and WSO2 Identity Server. Refer [Sharing the registry space](https://docs.wso2.com/display/AM2xx/Configuring+External+IDP+through+Identity+Server+for+SSO#ConfiguringExternalIDPthroughIdentityServerforSSO-Sharingtheregistryspace) for the steps.\n+2.  Share the registry of both WSO2 API Manager and WSO2 Identity Server. Refer [Sharing the registry space](https://docs.wso2.com/display/AM260/Configuring+External+IDP+through+Identity+Server+for+SSO#ConfiguringExternalIDPthroughIdentityServerforSSO-Sharingtheregistryspace) for the steps.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc3OTgzMw=="}, "originalCommit": {"oid": "9f8cb2a553d847622a0b9b1c76eace95986a558d"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MDE3ODY5OnYy", "diffSide": "RIGHT", "path": "en/docs/Learn/APISecurity/Authorization/role-based-access-control-using-xacml.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMTozMjo0MlrOFZ-W0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQwODo0NToxNVrOFaYE0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc4MDM2OQ==", "bodyText": "The images need to be moved out of the {{base_path}}/assets/attachments folder and added in the {{base_path}}/assets/img folder based on where it should be located (e.g., If the doc is under the learn section then add it in the /learn folder\nThe image names need to be changed to a meaningful name.", "url": "https://github.com/wso2/docs-apim/pull/617#discussion_r362780369", "createdAt": "2020-01-03T11:32:42Z", "author": {"login": "Mariangela"}, "path": "en/docs/Learn/APISecurity/Authorization/role-based-access-control-using-xacml.md", "diffHunk": "@@ -47,42 +47,57 @@ Based on the requirement, a single API is exposed to add or retrieve order\u00a0info\n \n 5.  Start the WSO2 Identity Server and log in to its Admin Console.\n \n-        !!! tip\n-    Since API Manager and Identity Server run on the same server, offset the Identity Server by 1.\n+    !!! tip\n+        Since API Manager and Identity Server run on the same server, offset the Identity Server by 1.\n \n \n 6.  Under the **Entitlement** section, click **Policy Administration &gt; Add New Entitlement Policy** .\n     ![]({{base_path}}/assets/attachments/103334839/103334836.png)\n     ![]({{base_path}}/assets/attachments/103334839/103334835.png)\n-7.  You are redirected to a page listing all available policy editors. Select **Standard Policy Editor** from the list and add the values shown below in the policy editor. Refer [Creating a XACML Policy](https://docs.wso2.com/display/IS570/Creating+a+XACML+Policy) in WSO2 Identity Server for more information.\n+7.  You are redirected to a page listing all available policy editors. Select **Standard Policy Editor** from the list and add the values shown below in the policy editor. Refer [Creating a XACML Policy](https://is.docs.wso2.com/en/5.9.0/learn/creating-a-xacml-policy/) in WSO2 Identity Server for more information.\n     1.  **Entitlement Policy Name:** PizzaShackPolicy\n     2.  **Rule Combining Algorithm:** Deny unless Permit\n \n     When the rule combination algorithm is set to **Deny Unless Permit** , you need to set the permit criteria as a rule.\n+    \n 8.  In the **Define Entitlement Rule(s)** area, set the following 2 rules to define the kind of requests and from which user they should be permitted.\n     1.  AdminGrant - grants full access to the admin user. Give the information below,\n+\n         **Rule Name:** AdminGrant\n+        \n         **Conditions:** Under **Define your conditions by using followings....** , select drop down options as **Subject** , **is/are** , **at-least-one-member-of** in order and enter **admin** in the last field.\n         Click the icon next to **END** shown below to configure the attribute value and attribute source to retrieve the user roles from the user store.\n         ![]({{base_path}}/assets/attachments/103334839/103334834.png)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f8cb2a553d847622a0b9b1c76eace95986a558d"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzIwMTc0NQ==", "bodyText": "fixed with a8f029f", "url": "https://github.com/wso2/docs-apim/pull/617#discussion_r363201745", "createdAt": "2020-01-06T08:45:15Z", "author": {"login": "Meruja"}, "path": "en/docs/Learn/APISecurity/Authorization/role-based-access-control-using-xacml.md", "diffHunk": "@@ -47,42 +47,57 @@ Based on the requirement, a single API is exposed to add or retrieve order\u00a0info\n \n 5.  Start the WSO2 Identity Server and log in to its Admin Console.\n \n-        !!! tip\n-    Since API Manager and Identity Server run on the same server, offset the Identity Server by 1.\n+    !!! tip\n+        Since API Manager and Identity Server run on the same server, offset the Identity Server by 1.\n \n \n 6.  Under the **Entitlement** section, click **Policy Administration &gt; Add New Entitlement Policy** .\n     ![]({{base_path}}/assets/attachments/103334839/103334836.png)\n     ![]({{base_path}}/assets/attachments/103334839/103334835.png)\n-7.  You are redirected to a page listing all available policy editors. Select **Standard Policy Editor** from the list and add the values shown below in the policy editor. Refer [Creating a XACML Policy](https://docs.wso2.com/display/IS570/Creating+a+XACML+Policy) in WSO2 Identity Server for more information.\n+7.  You are redirected to a page listing all available policy editors. Select **Standard Policy Editor** from the list and add the values shown below in the policy editor. Refer [Creating a XACML Policy](https://is.docs.wso2.com/en/5.9.0/learn/creating-a-xacml-policy/) in WSO2 Identity Server for more information.\n     1.  **Entitlement Policy Name:** PizzaShackPolicy\n     2.  **Rule Combining Algorithm:** Deny unless Permit\n \n     When the rule combination algorithm is set to **Deny Unless Permit** , you need to set the permit criteria as a rule.\n+    \n 8.  In the **Define Entitlement Rule(s)** area, set the following 2 rules to define the kind of requests and from which user they should be permitted.\n     1.  AdminGrant - grants full access to the admin user. Give the information below,\n+\n         **Rule Name:** AdminGrant\n+        \n         **Conditions:** Under **Define your conditions by using followings....** , select drop down options as **Subject** , **is/are** , **at-least-one-member-of** in order and enter **admin** in the last field.\n         Click the icon next to **END** shown below to configure the attribute value and attribute source to retrieve the user roles from the user store.\n         ![]({{base_path}}/assets/attachments/103334839/103334834.png)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc4MDM2OQ=="}, "originalCommit": {"oid": "9f8cb2a553d847622a0b9b1c76eace95986a558d"}, "originalPosition": 44}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2046, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}