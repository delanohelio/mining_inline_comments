{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2ODk4MTk4", "number": 1167, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwODoyNzozNVrOEE-f8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwODoyODoxOVrOEE-g0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjUzNzQ1OnYy", "diffSide": "RIGHT", "path": "en/docs/develop/extending-api-manager/extending-key-management/extending-scope-validation.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwODoyNzozNVrOGi7lmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwODoyNzozNVrOGi7lmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI4MTA1MA==", "bodyText": "OAuth scopes, which were introduced from WSO2 API Manager 1.7.0 onwards, allow -> OAuth scopes, which were introduced from WSO2 API Manager 1.7.0 onwards, allows", "url": "https://github.com/wso2/docs-apim/pull/1167#discussion_r439281050", "createdAt": "2020-06-12T08:27:35Z", "author": {"login": "shaniR"}, "path": "en/docs/develop/extending-api-manager/extending-key-management/extending-scope-validation.md", "diffHunk": "@@ -1,14 +1,14 @@\n # Extending Scope Validation\n \n-OAuth scopes, which were introduced from WSO2 API Manager 1.7.0 onwards, allow you to have fine grained access control to API resources based on the user roles.\u00a0It allows you to define scopes per API and associate defined scopes with API resources.\u00a0OAuth 2.0 bearer tokens are obtained for a set of requested scopes and the token obtained is not allowed to access any API resources beyond the associated scopes. For more information, see [OAuth Scopes](https://docs.wso2.com/display/AM210/Key+Concepts#KeyConcepts-OAuthscopes) .\n+OAuth scopes, which were introduced from WSO2 API Manager 1.7.0 onwards, allow you to have fine grained access control to API resources based on the user roles.\u00a0It allows you to define scopes per API and associate defined scopes with API resources.\u00a0OAuth 2.0 bearer tokens are obtained for a set of requested scopes and the token obtained is not allowed to access any API resources beyond the associated scopes. For more information, see [OAuth Scopes](https://apim.docs.wso2.com/en/latest/learn/api-security/oauth2/oauth2-scopes/fine-grained-access-control-with-oauth-scopes/) .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55390dff71e76434352a1f56889918ac02c2b686"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjUzODQ1OnYy", "diffSide": "RIGHT", "path": "en/docs/develop/extending-api-manager/extending-key-management/extending-scope-validation.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwODoyNzo1NVrOGi7mMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwODoyNzo1NVrOGi7mMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI4MTIwMw==", "bodyText": "Please use versioned URL's in oppose to using latest URL", "url": "https://github.com/wso2/docs-apim/pull/1167#discussion_r439281203", "createdAt": "2020-06-12T08:27:55Z", "author": {"login": "shaniR"}, "path": "en/docs/develop/extending-api-manager/extending-key-management/extending-scope-validation.md", "diffHunk": "@@ -1,14 +1,14 @@\n # Extending Scope Validation\n \n-OAuth scopes, which were introduced from WSO2 API Manager 1.7.0 onwards, allow you to have fine grained access control to API resources based on the user roles.\u00a0It allows you to define scopes per API and associate defined scopes with API resources.\u00a0OAuth 2.0 bearer tokens are obtained for a set of requested scopes and the token obtained is not allowed to access any API resources beyond the associated scopes. For more information, see [OAuth Scopes](https://docs.wso2.com/display/AM210/Key+Concepts#KeyConcepts-OAuthscopes) .\n+OAuth scopes, which were introduced from WSO2 API Manager 1.7.0 onwards, allow you to have fine grained access control to API resources based on the user roles.\u00a0It allows you to define scopes per API and associate defined scopes with API resources.\u00a0OAuth 2.0 bearer tokens are obtained for a set of requested scopes and the token obtained is not allowed to access any API resources beyond the associated scopes. For more information, see [OAuth Scopes](https://apim.docs.wso2.com/en/latest/learn/api-security/oauth2/oauth2-scopes/fine-grained-access-control-with-oauth-scopes/) .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55390dff71e76434352a1f56889918ac02c2b686"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjUzOTY5OnYy", "diffSide": "RIGHT", "path": "en/docs/develop/extending-api-manager/extending-key-management/extending-scope-validation.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwODoyODoxOVrOGi7m-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwODoyODoxOVrOGi7m-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI4MTQwMA==", "bodyText": "please use version URL", "url": "https://github.com/wso2/docs-apim/pull/1167#discussion_r439281400", "createdAt": "2020-06-12T08:28:19Z", "author": {"login": "shaniR"}, "path": "en/docs/develop/extending-api-manager/extending-key-management/extending-scope-validation.md", "diffHunk": "@@ -1,14 +1,14 @@\n # Extending Scope Validation\n \n-OAuth scopes, which were introduced from WSO2 API Manager 1.7.0 onwards, allow you to have fine grained access control to API resources based on the user roles.\u00a0It allows you to define scopes per API and associate defined scopes with API resources.\u00a0OAuth 2.0 bearer tokens are obtained for a set of requested scopes and the token obtained is not allowed to access any API resources beyond the associated scopes. For more information, see [OAuth Scopes](https://docs.wso2.com/display/AM210/Key+Concepts#KeyConcepts-OAuthscopes) .\n+OAuth scopes, which were introduced from WSO2 API Manager 1.7.0 onwards, allow you to have fine grained access control to API resources based on the user roles.\u00a0It allows you to define scopes per API and associate defined scopes with API resources.\u00a0OAuth 2.0 bearer tokens are obtained for a set of requested scopes and the token obtained is not allowed to access any API resources beyond the associated scopes. For more information, see [OAuth Scopes](https://apim.docs.wso2.com/en/latest/learn/api-security/oauth2/oauth2-scopes/fine-grained-access-control-with-oauth-scopes/) .\n \n API manager uses scopes as a way of defining permissions for\u00a0a resource. If a resource is assigned a scope, then the token accessing the resource should be generated\u00a0with that scope. By associating a scope with a role, you can control which users are permitted to have tokens under certain scopes. In this instance, associating a role to a scope seems legitimate.\n \n Validating the role of a requester does not make much sense in some scenarios. For instance, when the scope is used as a means of generating an access token and not for securing a resource (e.g. openId scope).\u00a0In such situations, scope validation can be extended to skip role validation for certain scopes.\n \n ### Skipping role validation for scopes\n \n-When scopes which cannot be associated to roles are requested, the token should be issued without validating the scope. In WSO2 API Manager, you do this by [whitelisting the scope](https://docs.wso2.com/display/AM260/Key+Concepts#KeyConcepts-Scopewhitelisting) through configuration.\u00a0Patterns of the whitelisted scopes are specified via a configuration under the `<OAuthConfigurations>` element in the `<APIM_HOME>/repository/conf/api-manager.xml` file. S copes that match the pattern are not validated by role and are available to anyone requesting it.\n+When scopes which cannot be associated to roles are requested, the token should be issued without validating the scope. In WSO2 API Manager, you do this by [whitelisting the scope](https://apim.docs.wso2.com/en/latest/learn/api-security/oauth2/oauth2-scopes/scope-whitelisting/#scope-whitelisting) through configuration.\u00a0Patterns of the whitelisted scopes are specified via a configuration under the `apim.oauth_config` element in the `<APIM_HOME>/repository/conf/deployment.toml` file. Scopes that match the pattern are not validated by role and are available to anyone requesting it.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55390dff71e76434352a1f56889918ac02c2b686"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1942, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}