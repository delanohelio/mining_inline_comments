{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxMjE5OTM2", "number": 1005, "title": "Modifying documentation on Configuring Environment Specific Parameters", "bodyText": "Purpose\nFixes: wso2/product-apim-tooling#270\nGoals\nMove the content on Configuring Environment Specific Parameters under Advanced Topics.\nApproach\n\nCreated a new page titled Configuring Environment Specific Parameters under Advanced Topics as shown below.\n\nRemoved the repetitive content related to the above topic from other pages and referred to this page using Tips.\n\nRemoved the section named \"Configure Environment Specific Details\" from the page Importing APIs Via Dev First Approach. Updated the reference within the content in the flags to point to the newly created page as shown below.\n\nRemoved the section named \"Configuring Environment Specific Parameters\" from the page Migrating APIs to Different Environments and referred to the new page within a Note.\n\nUpdated the hyperlink named \"Configuring Environment Specific Parameters\" on the page CI/CD with WSO2 API Manager.\n\nUpdated the hyperlink named \"Configuring Environment Specific Parameters\" on the page Building a Jenkins CI/CD Pipeline for Dev First Approach.\n\n\n\n\nUser stories\nUsers can refer to the newly added page to learn on using api_params.yaml file to configure environment specific details.", "createdAt": "2020-04-09T05:39:11Z", "url": "https://github.com/wso2/docs-apim/pull/1005", "merged": true, "mergeCommit": {"oid": "3fd58088d0969a22dc9c87edfde1dbb71fc25ec7"}, "closed": true, "closedAt": "2020-04-09T05:47:32Z", "author": {"login": "wasuradananjith"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcV1lY9AH2gAyNDAxMjE5OTM2OjYwNzkxYTI2NmQxYTdlOGQ2MzU1YjQxNzZhMTg5MmIxOWIwOTNiM2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABd0w64JgFqTU3ODkxOTY5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "60791a266d1a7e8d6355b4176a1892b19b093b3a", "author": {"user": {"login": "wasuradananjith", "name": "Wasura Wattearachchi"}}, "url": "https://github.com/wso2/docs-apim/commit/60791a266d1a7e8d6355b4176a1892b19b093b3a", "committedDate": "2020-04-09T05:24:18Z", "message": "Add new page for env specific details"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7066da2079facd9a6161783bf4a9526dfb26d93e", "author": {"user": {"login": "wasuradananjith", "name": "Wasura Wattearachchi"}}, "url": "https://github.com/wso2/docs-apim/commit/7066da2079facd9a6161783bf4a9526dfb26d93e", "committedDate": "2020-04-09T05:28:04Z", "message": "Edit existing env specific details in pages"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwNTA1NTQ5", "url": "https://github.com/wso2/docs-apim/pull/1005#pullrequestreview-390505549", "createdAt": "2020-04-09T05:47:26Z", "commit": {"oid": "7066da2079facd9a6161783bf4a9526dfb26d93e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc4OTE5MTgy", "url": "https://github.com/wso2/docs-apim/pull/1005#pullrequestreview-578919182", "createdAt": "2021-01-29T03:39:22Z", "commit": {"oid": "7066da2079facd9a6161783bf4a9526dfb26d93e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yOVQwMzozOToyM1rOIcUCdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yOVQwMzozOToyM1rOIcUCdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjU1OTM0OQ==", "bodyText": "Shall we change this to \"you can provide a\"?", "url": "https://github.com/wso2/docs-apim/pull/1005#discussion_r566559349", "createdAt": "2021-01-29T03:39:23Z", "author": {"login": "hisanhunais"}, "path": "en/docs/learn/api-controller/advanced-topics/configuring-environment-specific-parameters.md", "diffHunk": "@@ -0,0 +1,82 @@\n+#  Configuring Environment Specific Parameters\n+\n+When there are multiple environments, to allow easily configuring environment-specific details, apictl supports an additional parameter file named `api_params.yaml`. It is recommended to store the parameter file with the API Project; however, it can be stored anywhere as required. \n+\n+After the file is placed in the project directory, the tool will auto-detect the parameters file upon running the `import-api` command and create an environment-based artifact for API Manager. If the `api_params.yaml` is not found in the project directory, the tool will lookup in the project\u2019s base path and the current working directory. \n+\n+The following is the structure of the parameter file.\n+\n+```go\n+environments:\n+    - name: <environment_name>\n+      endpoints:\n+          production:\n+              url: <production_endpoint_url>\n+              config:\n+                  retryTimeOut: <no_of_retries_before_suspension>\n+                  retryDelay: <retry_delay_in_ms>\n+                  factor: <suspension_factor>\n+          sandbox:\n+              url: <sandbox_endpoint_url>\n+              config:\n+                  retryTimeOut: <no_of_retries_before_suspension>\n+                  retryDelay: <retry_delay_in_ms>\n+                  factor: <suspension_factor>\n+      security:\n+        - enabled: <whether_security_is_enabled>\n+          type: <endpoint_authentication_type_basic_or_digest>\n+          username: <endpoint_username>\n+          password: <endpoint_password>\n+      gatewayEnvironments:\n+        - <gateway_environment_name>           \n+      certs:\n+        - hostName: <endpoint_url>\n+          alias: <certificate_alias>\n+          path: <certificate_file_path>\n+```\n+The following code snippet contains sample configuration of the parameter file.\n+\n+!!! example\n+    ```go\n+    environments:\n+        - name: dev\n+          endpoints:\n+            production:\n+              url: 'https://dev.wso2.com'\n+          security:\n+           - enabled: true\n+             type: basic\n+             username: admin\n+             password: admin\n+          certs:\n+            - hostName: 'https://dev.wso2.com'\n+              alias: Dev\n+              path: ~/.certs/dev.pem \n+          gatewayEnvironments:\n+            - Production and Sandbox    \n+        - name: test\n+          endpoints:\n+            production:\n+              url: 'https://test.wso2.com'\n+          security:\n+           - enabled: true\n+             type: digest\n+             username: admin\n+             password: admin\n+              config:\n+                retryTimeOut: $RETRY\n+            sandbox:\n+              url: 'https://test.sandbox.wso2.com'\n+    ```\n+Instead of the default `api_params.yaml`, you can a provide custom parameter file using `--params` flag. A sample command will be as follows.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7066da2079facd9a6161783bf4a9526dfb26d93e"}, "originalPosition": 71}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc4OTE5Njkz", "url": "https://github.com/wso2/docs-apim/pull/1005#pullrequestreview-578919693", "createdAt": "2021-01-29T03:41:03Z", "commit": {"oid": "7066da2079facd9a6161783bf4a9526dfb26d93e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yOVQwMzo0MTowM1rOIcUEVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yOVQwMzo0MTowM1rOIcUEVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjU1OTgyOA==", "bodyText": "In the middle of the second line, shall we change \"non\" to \"none\"?", "url": "https://github.com/wso2/docs-apim/pull/1005#discussion_r566559828", "createdAt": "2021-01-29T03:41:03Z", "author": {"login": "hisanhunais"}, "path": "en/docs/learn/api-controller/advanced-topics/configuring-environment-specific-parameters.md", "diffHunk": "@@ -0,0 +1,82 @@\n+#  Configuring Environment Specific Parameters\n+\n+When there are multiple environments, to allow easily configuring environment-specific details, apictl supports an additional parameter file named `api_params.yaml`. It is recommended to store the parameter file with the API Project; however, it can be stored anywhere as required. \n+\n+After the file is placed in the project directory, the tool will auto-detect the parameters file upon running the `import-api` command and create an environment-based artifact for API Manager. If the `api_params.yaml` is not found in the project directory, the tool will lookup in the project\u2019s base path and the current working directory. \n+\n+The following is the structure of the parameter file.\n+\n+```go\n+environments:\n+    - name: <environment_name>\n+      endpoints:\n+          production:\n+              url: <production_endpoint_url>\n+              config:\n+                  retryTimeOut: <no_of_retries_before_suspension>\n+                  retryDelay: <retry_delay_in_ms>\n+                  factor: <suspension_factor>\n+          sandbox:\n+              url: <sandbox_endpoint_url>\n+              config:\n+                  retryTimeOut: <no_of_retries_before_suspension>\n+                  retryDelay: <retry_delay_in_ms>\n+                  factor: <suspension_factor>\n+      security:\n+        - enabled: <whether_security_is_enabled>\n+          type: <endpoint_authentication_type_basic_or_digest>\n+          username: <endpoint_username>\n+          password: <endpoint_password>\n+      gatewayEnvironments:\n+        - <gateway_environment_name>           \n+      certs:\n+        - hostName: <endpoint_url>\n+          alias: <certificate_alias>\n+          path: <certificate_file_path>\n+```\n+The following code snippet contains sample configuration of the parameter file.\n+\n+!!! example\n+    ```go\n+    environments:\n+        - name: dev\n+          endpoints:\n+            production:\n+              url: 'https://dev.wso2.com'\n+          security:\n+           - enabled: true\n+             type: basic\n+             username: admin\n+             password: admin\n+          certs:\n+            - hostName: 'https://dev.wso2.com'\n+              alias: Dev\n+              path: ~/.certs/dev.pem \n+          gatewayEnvironments:\n+            - Production and Sandbox    \n+        - name: test\n+          endpoints:\n+            production:\n+              url: 'https://test.wso2.com'\n+          security:\n+           - enabled: true\n+             type: digest\n+             username: admin\n+             password: admin\n+              config:\n+                retryTimeOut: $RETRY\n+            sandbox:\n+              url: 'https://test.sandbox.wso2.com'\n+    ```\n+Instead of the default `api_params.yaml`, you can a provide custom parameter file using `--params` flag. A sample command will be as follows.\n+\n+!!! example\n+    ```go\n+    apictl import-api -f dev/PhoneVerification_1.0.zip -e production --params /home/user/custom_params.yaml \n+    ```\n+\n+!!! info\n+    -   Production/Sandbox backends for each environment can be specified in the parameter file with additional configurations, such as timeouts.\n+    -   Under the security field, if the `enabled` attribute is `true`, you must specify the `username`, `password` and the `type` (can be either only `basic` or `digest`). If the `enabled` attribute is `false`, then non of the security parameters will be set. If the `enabled` attribute is not set (blank), then the security parameters in api.yaml file will be considered.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7066da2079facd9a6161783bf4a9526dfb26d93e"}, "originalPosition": 80}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1931, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}