{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzOTU5MDE4", "number": 2706, "title": "[3.1.0]Add code sample for tenant based configuration for external portals", "bodyText": "Purpose\nFixes: #2182\nGoals\nTo add code sample for tenant based configuration for external portals when there is no super tenant participation.\nApproach\nAdd separate code sample to demonstrate how will be the external-api-stores.xml file after making changes as Tip that is already showing three Developer Portals' deployment.", "createdAt": "2020-12-22T08:28:49Z", "url": "https://github.com/wso2/docs-apim/pull/2706", "merged": true, "mergeCommit": {"oid": "6ea30163fc3371c866a81291c87ec13d3f1e50ca"}, "closed": true, "closedAt": "2020-12-23T10:45:54Z", "author": {"login": "YasasRangika"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdomIAygH2gAyNTQzOTU5MDE4OjdjNDY1MjI4ODRlMzU0YTI0NDYzMTAxNTY4OTM5OTQ2NzMzMzMzMTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdo80c2AFqTU1Nzc4OTk3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7c46522884e354a2446310156893994673333316", "author": {"user": {"login": "YasasRangika", "name": "Yasas Rangika Mendis"}}, "url": "https://github.com/wso2/docs-apim/commit/7c46522884e354a2446310156893994673333316", "committedDate": "2020-12-22T08:19:21Z", "message": "Add code sample for tenant based configuration for external portals"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2OTcwNjU1", "url": "https://github.com/wso2/docs-apim/pull/2706#pullrequestreview-556970655", "createdAt": "2020-12-22T10:19:10Z", "commit": {"oid": "7c46522884e354a2446310156893994673333316"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxMDoxOToxMVrOIJ18Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxMDoxOToxMVrOIJ18Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE5MTkwNw==", "bodyText": "Needs to be re-worded. The idea isn't clear...", "url": "https://github.com/wso2/docs-apim/pull/2706#discussion_r547191907", "createdAt": "2020-12-22T10:19:11Z", "author": {"login": "jaadds"}, "path": "en/docs/learn/design-api/publish-api/publish-to-multiple-external-api-stores.md", "diffHunk": "@@ -102,20 +102,37 @@ In this guide, let's use two separate instances of WSO2 API Manager, and let's p\n                 \n                 <ExternalAPIStore id=\"USStore\" type=\"wso2\" className=\"org.wso2.carbon.apimgt.impl.publishers.WSO2APIPublisher\">\n                     <DisplayName>US-Store</DisplayName>\n-                    <Endpoint>http://<ip_address>:<port>/devportal</Endpoint>\n+                    <Endpoint>http://<ip_address>:<port>/devportal/apis?tenant={tenant_domain}</Endpoint>\n                     <Username>{tenantadmin_username}@{tenant_domain}</Username>\n                     <Password>{tenantadmin_password}</Password>\n                 </ExternalAPIStore>\n \n-\n                 <ExternalAPIStore id=\"UKStore\" type=\"wso2\" className=\"org.wso2.carbon.apimgt.impl.publishers.WSO2APIPublisher\">\n                     <DisplayName>UKStore</DisplayName>\n-                    <Endpoint>http://l<ip_address>:<port>/devportal</Endpoint>\n+                    <Endpoint>http://<ip_address>:<port>/devportal/apis?tenant={tenant_domain}</Endpoint>\n                     <Username>{tenantadmin_username}@{tenant_domain}</Username>\n                     <Password>{tenantadmin_password}</Password>\n                 </ExternalAPIStore>\n         </ExternalAPIStores>\n         ```\n+        \n+        If the current API-M deployment's API Developer Portal is also not in super tenant, you can configure the above file as follows:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c46522884e354a2446310156893994673333316"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4fe0c7f23283b7d94dfd2ba6d82a2ff46f56553a", "author": {"user": {"login": "YasasRangika", "name": "Yasas Rangika Mendis"}}, "url": "https://github.com/wso2/docs-apim/commit/4fe0c7f23283b7d94dfd2ba6d82a2ff46f56553a", "committedDate": "2020-12-23T10:29:50Z", "message": "Rewording description"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3Nzg5OTc4", "url": "https://github.com/wso2/docs-apim/pull/2706#pullrequestreview-557789978", "createdAt": "2020-12-23T10:45:48Z", "commit": {"oid": "4fe0c7f23283b7d94dfd2ba6d82a2ff46f56553a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1485, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}