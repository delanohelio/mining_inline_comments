{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg0OTY4NzYy", "number": 1900, "title": "IS as a KM doc", "bodyText": "Purpose\n\nDescribe the problems, issues, or needs driving this feature/fix and include links to related issues in the following format: Resolves issue1, issue2, etc.\n\nGoals\n\nDescribe the solutions that this feature/fix will introduce to resolve the problems described above\n\nApproach\n\nDescribe how you are implementing the solutions. Include an animated GIF or screenshot if the change affects the UI (email documentation@wso2.com to review all UI text). Include a link to a Markdown file or Google doc if the feature write-up is too long to paste here.\n\nUser stories\n\nSummary of user stories addressed by this change>\n\nRelease note\n\nBrief description of the new feature or bug fix as it will appear in the release notes\n\nDocumentation\n\nLink(s) to product documentation that addresses the changes of this PR. If no doc impact, enter \u201cN/A\u201d plus brief explanation of why there\u2019s no doc impact\n\nTraining\n\nLink to the PR for changes to the training content in https://github.com/wso2/WSO2-Training, if applicable\n\nCertification\n\nType \u201cSent\u201d when you have provided new/updated certification questions, plus four answers for each question (correct answer highlighted in bold), based on this change. Certification questions/answers should be sent to certification@wso2.com and NOT pasted in this PR. If there is no impact on certification exams, type \u201cN/A\u201d and explain why.\n\nMarketing\n\nLink to drafts of marketing content that will describe and promote this feature, including product page changes, technical articles, blog posts, videos, etc., if applicable\n\nAutomation tests\n\nUnit tests\n\nCode coverage information\n\n\nIntegration tests\n\nDetails about the test cases and coverage\n\n\n\nSecurity checks\n\nFollowed secure coding standards in http://wso2.com/technical-reports/wso2-secure-engineering-guidelines? yes/no\nRan FindSecurityBugs plugin and verified report? yes/no\nConfirmed that this PR doesn't commit any keys, passwords, tokens, usernames, or other secrets? yes/no\n\nSamples\n\nProvide high-level details about the samples related to this feature\n\nRelated PRs\n\nList any other related PRs\n\nMigrations (if applicable)\n\nDescribe migration steps and platforms on which migration has been tested\n\nTest environment\n\nList all JDK versions, operating systems, databases, and browser/versions on which this feature/fix was tested\n\nLearning\n\nDescribe the research phase and any blog posts, patterns, libraries, or add-ons you used to solve the problem.", "createdAt": "2020-09-11T11:31:45Z", "url": "https://github.com/wso2/docs-apim/pull/1900", "merged": true, "mergeCommit": {"oid": "0e701d6ba392ae32685128e73a308e202643ee77"}, "closed": true, "closedAt": "2020-09-11T14:47:50Z", "author": {"login": "isharac"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCXzIcgH2gAyNDg0OTY4NzYyOjgxYWM4MjU4MGFjNzQyYTY1NTdmOWZlN2Q1NDExNDMwYTkzNmMyZTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdH2ViNAFqTQ4Njg2MTA0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "81ac82580ac742a6557f9fe7d5411430a936c2e5", "author": {"user": {"login": "isharac", "name": "Ishara"}}, "url": "https://github.com/wso2/docs-apim/commit/81ac82580ac742a6557f9fe7d5411430a936c2e5", "committedDate": "2020-08-25T14:08:45Z", "message": "revamp IS KM docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffb238b93caab007efd17715b938adf646079a25", "author": {"user": {"login": "isharac", "name": "Ishara"}}, "url": "https://github.com/wso2/docs-apim/commit/ffb238b93caab007efd17715b938adf646079a25", "committedDate": "2020-08-25T14:09:48Z", "message": "Merge remote-tracking branch 'origin/master' into introspect"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "627886512b7f25d53daa43f809022e3f7c0d2cee", "author": {"user": {"login": "isharac", "name": "Ishara"}}, "url": "https://github.com/wso2/docs-apim/commit/627886512b7f25d53daa43f809022e3f7c0d2cee", "committedDate": "2020-08-26T04:06:32Z", "message": "Merge remote-tracking branch 'origin/master' into introspect\n\n# Conflicts:\n#\ten/mkdocs.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd00c1d448b1c5af5a65eeb0180d0227fa58c6fd", "author": {"user": {"login": "isharac", "name": "Ishara"}}, "url": "https://github.com/wso2/docs-apim/commit/cd00c1d448b1c5af5a65eeb0180d0227fa58c6fd", "committedDate": "2020-08-26T04:21:20Z", "message": "update connection diagrams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbe77ac1cc42e16f425ab5cd9f21ee2ffc6c292a", "author": {"user": {"login": "isharac", "name": "Ishara"}}, "url": "https://github.com/wso2/docs-apim/commit/cbe77ac1cc42e16f425ab5cd9f21ee2ffc6c292a", "committedDate": "2020-08-26T04:39:51Z", "message": "remove duplicates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd92a4f5de4becbb3800ec4fa435b5880960144f", "author": {"user": {"login": "isharac", "name": "Ishara"}}, "url": "https://github.com/wso2/docs-apim/commit/dd92a4f5de4becbb3800ec4fa435b5880960144f", "committedDate": "2020-08-26T04:45:23Z", "message": "remove throttling urls"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07f2f7d212fe041863fa0425cade2ed6cdb1d6d9", "author": {"user": {"login": "isharac", "name": "Ishara"}}, "url": "https://github.com/wso2/docs-apim/commit/07f2f7d212fe041863fa0425cade2ed6cdb1d6d9", "committedDate": "2020-09-11T11:29:57Z", "message": "Merge remote-tracking branch 'origin/3.2.0' into distributed\n\n# Conflicts:\n#\ten/docs/assets/img/setup-and-install/dev-portal-connections.png\n#\ten/docs/assets/img/setup-and-install/gateway-connections.png\n#\ten/docs/assets/img/setup-and-install/key-manager-connections.png\n#\ten/docs/assets/img/setup-and-install/publisher-connections.png\n#\ten/docs/assets/img/setup-and-install/traffic-manager-connections.png\n#\ten/docs/install-and-setup/setup/distributed-deployment/deploying-wso2-api-m-in-a-distributed-setup.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2NzQzNzcx", "url": "https://github.com/wso2/docs-apim/pull/1900#pullrequestreview-486743771", "createdAt": "2020-09-11T12:01:33Z", "commit": {"oid": "07f2f7d212fe041863fa0425cade2ed6cdb1d6d9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5bb52d07c7b29c21ddf96dcec740cf98d3172ef0", "author": {"user": {"login": "Mariangela", "name": "Mariangela Hills"}}, "url": "https://github.com/wso2/docs-apim/commit/5bb52d07c7b29c21ddf96dcec740cf98d3172ef0", "committedDate": "2020-09-11T14:23:20Z", "message": "Reviewed and updated\n\nReviewed and updated configuring-wso2-identity-server-as-a-key-manager.md. Technical aspects were verified with @isharac"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25a0375d88b21d788edc256f87019588da0b6a1b", "author": {"user": {"login": "Mariangela", "name": "Mariangela Hills"}}, "url": "https://github.com/wso2/docs-apim/commit/25a0375d88b21d788edc256f87019588da0b6a1b", "committedDate": "2020-09-11T14:29:35Z", "message": "Minor formatting\n\nRemoved extra lines."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2ODYxMDQz", "url": "https://github.com/wso2/docs-apim/pull/1900#pullrequestreview-486861043", "createdAt": "2020-09-11T14:32:53Z", "commit": {"oid": "25a0375d88b21d788edc256f87019588da0b6a1b"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxNDozMjo1M1rOHQhWDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxNDozMjo1M1rOHQhWDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA4NTU4Mw==", "bodyText": "The images states \"Store\". This needs to state \"Developer Portal\".", "url": "https://github.com/wso2/docs-apim/pull/1900#discussion_r487085583", "createdAt": "2020-09-11T14:32:53Z", "author": {"login": "Mariangela"}, "path": "en/docs/install-and-setup/setup/distributed-deployment/configuring-wso2-identity-server-as-a-key-manager.md", "diffHunk": "@@ -1,77 +1,64 @@\n # Configuring WSO2 Identity Server as a Key Manager\n \n-Please follow below steps to configure the prepackaged WSO2 Identity Server as the Key Manager of WSO2 API Manager deployment. \n+Follow the instructions below to configure WSO2 Identity Server (WSO2 IS) as the Key Manager of the WSO2 API Manager (WSO2 API-M) deployment globally.\n \n-!!! warning\n-    Before you begin check the product compatibility for [WSO2 IS as Key Manager]({{base_path}}/install-and-setup/ProductCompatibility/#compatible-wso2-identity-server-as-the-key-managers).\n-\n-- [Step 1 - Download\u00a0Prepackaged WSO2 IS as a Key Manager (WSO2 IS-KM)](#step-1---downloadprepackaged-wso2-is-as-a-key-manager-wso2-is-km)\n-- [Step 2 - Optionally, configure port offset for WSO2 IS](#step-2---optionally-configure-port-offset-for-wso2-is)\n-- [Step 3 - Install and configure the databases](#step-3---install-and-configure-the-databases)\n-- [Step 4 - Configure the WSO2 IS as Key Manager with WSO2 API Manager](#step-4---configure-the-wso2-is-as-key-manager-with-wso2-api-manager)\n-- [Step 5 - Configure WSO2 API-M with the WSO2 IS as Key Manager](#step-5---configure-wso2-api-m-with-the-wso2-is-as-key-manager)\n-- [Step 6 - Optionally,\u00a0configure High Availability (HA) for the Key Manager](#step-6---optionallyconfigure-high-availability-ha-for-the-key-manager)\n-- [Step 7 - Start the Key Manager(s)](#step-7---start-the-key-managers)\n-- [Step 8 - Configure the other API-M components](#step-8---configure-the-other-api-m-components)\n+- [Step 1 - Download and install WSO2 IS](#step-1-download-and-install-wso2-is)\n+- [Step 2 - Optionally, configure port offset for WSO2 IS](#step-2-optionally-configure-port-offset-for-wso2-is)\n+- [Step 3 - Install and configure the databases](#step-3-install-and-configure-the-databases)\n+- [Step 4 - Configure WSO2 IS with WSO2 API-M](#step-4-configure-wso2-is-with-wso2-api-m)\n+- [Step 5 - Configure WSO2 API-M with the WSO2 IS](#step-5-configure-wso2-api-m-with-the-wso2-is)\n+- [Step 6 - Optionally, configure High Availability (HA) for the Identity Server](#step-6-optionally-configure-high-availability-ha-for-the-identity-server)\n+- [Step 7 - Start the Identity Server(s)](#step-7-start-the-identity-servers)\n \n-### Step 1 - Download\u00a0Prepackaged WSO2 IS as a Key Manager (WSO2 IS-KM)\n+## Step 1 - Download and install WSO2 IS\n \n-!!! Info\n-    What is referred to as the prepackaged WSO2 Identity Server as a Key Manager?\n+Download and install the [latest WSO2 Identity Server](https://wso2.com/identity-and-access-management/#). If you downloaded the archive, extract it. `<IS_HOME>` refers to the root folder of the extracted WSO2 Identity Server.\n \n-    The **prepackaged WSO2 Identity Server as a Key Manager 5.10.0** comes with the necessary configurations already installed in order to connect it with WSO2 API Manager, and is therefore different to the default version (vanilla pack) of WSO2 Identity Server 5.10.0. The prepackaged WSO2 Identity Server\u00a0as a Key Manager 5.10.0 is compatible with WSO2 API Manager 3.2.0 and is available as  by [WUM](https://wso2.com/updates).\n-    \n-Download the\u00a0prepackaged WSO2 Identity Server from [here](https://wso2.com/api-management/install/key-manager/) or get the [wum updated distribution](https://wso2.com/updates) and unzip it. `<IS_KM_HOME>` will refer to the root folder of the unzipped WSO2 IS pack. It is assumed that you have already downloaded WSO2 API Manager. `<APIM_HOME>` will refer to the root folder of the unzipped WSO2 API-M pack.\n+It is assumed that you have already downloaded WSO2 API Manager.\n+`<APIM_HOME>` refers to the root folder of the unzipped WSO2 API-M pack.\n \n-### Step 2 - Optionally, configure port offset for WSO2 IS\n+## Step 2 - Optionally, configure port offset for WSO2 IS\n \n !!! note\n-    This is only required if you are running both WSO2 API Manager and WSO2 Identity Server on the same Virtual Machine (VM). Please refer [Changing the Default Ports with Offset]({{base_path}}/install-and-setup/deploying-wso2-api-manager/changing-the-default-ports-with-offset) for more information.\n+    This is only required if you are running both WSO2 API Manager and WSO2 Identity Server on the same Virtual Machine (VM). For more information, see [Changing the Default Ports with Offset]({{base_path}}/install-and-setup/deploying-wso2-api-manager/changing-the-default-ports-with-offset).\n \n-Open the `<IS_KM_HOME>/repository/conf/deployment.toml` file and change the offset to 1 by applying following config. This increments the product's default port by one.\n+Open the `<IS_HOME>/repository/conf/deployment.toml` file and change the offset to 1 by applying the following config as follows:\n \n ``` yaml\n [server]\n offset = 1\n ```\n \n-### Step 3 - Install and configure the databases\n+This increments the product's default port by one.\n+\n+## Step 3 - Install and configure the databases\n \n You can create the required databases for the API-M deployment on a separate server and point to the databases from the respective nodes.\n \n The following diagram depicts how the databases are shared between WSO2 IS and WSO2 API-M.\n \n-<a href=\"{{base_path}}/assets/img/setup-and-install/is-as-km-dbs.png\" ><img src=\"{{base_path}}/assets/img/setup-and-install/is-as-km-dbs.png\" alt=\"IS-AS-KM-DBS\" title=\"IS-AS-KM-DBS\" width=\"70%\" /></a>\n-\n--   **WSO2AM_DB** - This database stores the identity data and API-related data and it includes OAuth tokens and keys. When serving key-validation requests, the Key Manager accesses the `WSO2AM_DB` , validates whether there are subscriptions made by the particular key. \n+<a href=\"{{base_path}}/assets/img/setup-and-install/is-as-km-dbs.png\" ><img src=\"{{base_path}}/assets/img/setup-and-install/is-as-km-dbs.png\" alt=\"IS-AS-KM-DBS\" title=\"IS-AS-KM-DBS\" width=\"90%\" /></a>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25a0375d88b21d788edc256f87019588da0b6a1b"}, "originalPosition": 65}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1708, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}