{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3OTk0MDAy", "number": 1298, "reviewThreads": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxODoyNzoxM1rOECrqYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjo1MjoxMFrOEE86ZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxMjQ3OTY4OnYy", "diffSide": "RIGHT", "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxODoyNzoxM1rOGfSjuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxODoyNzoxM1rOGfSjuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ2MzA5OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            -   [Invoke an API Secured with Mutual SSL from the Developer Portal](#SecuringAPIswithMutualSSL-InvokeanAPIsecuredwithMutualSSLfromtheDeveloperPortal)\n          \n          \n            \n            -   [Invoke an API Secured with Mutual SSL from Postman](#invoke-an-api-secured-with-mutual-ssl-using-postman)", "url": "https://github.com/wso2/docs-apim/pull/1298#discussion_r435463099", "createdAt": "2020-06-04T18:27:13Z", "author": {"login": "bhathiya"}, "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "diffHunk": "@@ -6,7 +6,7 @@ This section explains how to APIs in WSO2 API Manager can be secured using mutua\n \n -   [Create an API Secured with Mutual SSL](#SecuringAPIswithMutualSSL-CreateanAPISecuredwithMutualSSL)\n -   [Invoke an API Secured with Mutual SSL from the Developer Portal](#SecuringAPIswithMutualSSL-InvokeanAPIsecuredwithMutualSSLfromtheDeveloperPortal)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7286f1d570d33b75a0ed106e9ee9a86c5ff78e6"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxMjQ4Nzk4OnYy", "diffSide": "RIGHT", "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxODoyOTowMFrOGfSo1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxODoyOTowMFrOGfSo1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ2NDQwNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            -   [Create an API Secured with Mutual SSL](#SecuringAPIswithMutualSSL-CreateanAPISecuredwithMutualSSL)\n          \n          \n            \n            -   [Create an API Secured with Mutual SSL](#create-an-api-secured-with-mutual-ssl)", "url": "https://github.com/wso2/docs-apim/pull/1298#discussion_r435464406", "createdAt": "2020-06-04T18:29:00Z", "author": {"login": "bhathiya"}, "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "diffHunk": "@@ -6,7 +6,7 @@ This section explains how to APIs in WSO2 API Manager can be secured using mutua\n \n -   [Create an API Secured with Mutual SSL](#SecuringAPIswithMutualSSL-CreateanAPISecuredwithMutualSSL)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7286f1d570d33b75a0ed106e9ee9a86c5ff78e6"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxMjU2MTMyOnYy", "diffSide": "RIGHT", "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxODo0NDo1OFrOGfTWxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxODo0NTozNVrOGfTYbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ3NjE2Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ### Invoke an API secured with Mutual SSL though SSL Terminated Load Balancer.\n          \n          \n            \n            ### Handling MTLS when SSL is terminated by the loadbalancer/reverse proxy.", "url": "https://github.com/wso2/docs-apim/pull/1298#discussion_r435476166", "createdAt": "2020-06-04T18:44:58Z", "author": {"login": "bhathiya"}, "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "diffHunk": "@@ -51,3 +51,28 @@ Listed below are the known limitations for this feature.\n -   Resource level security will not be applicable for the APIs that are only protected with mutual SSL.\n \n -   Scope level security will not be applicable for the APIs that are only protected with mutual SSL.\n+### Invoke an API secured with Mutual SSL though SSL Terminated Load Balancer.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7286f1d570d33b75a0ed106e9ee9a86c5ff78e6"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ3NjU5MQ==", "bodyText": "Also fix the link", "url": "https://github.com/wso2/docs-apim/pull/1298#discussion_r435476591", "createdAt": "2020-06-04T18:45:35Z", "author": {"login": "bhathiya"}, "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "diffHunk": "@@ -51,3 +51,28 @@ Listed below are the known limitations for this feature.\n -   Resource level security will not be applicable for the APIs that are only protected with mutual SSL.\n \n -   Scope level security will not be applicable for the APIs that are only protected with mutual SSL.\n+### Invoke an API secured with Mutual SSL though SSL Terminated Load Balancer.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ3NjE2Ng=="}, "originalCommit": {"oid": "d7286f1d570d33b75a0ed106e9ee9a86c5ff78e6"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxMjU2ODU5OnYy", "diffSide": "RIGHT", "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxODo0Njo1MlrOGfTbqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxODo0Njo1MlrOGfTbqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ3NzQxOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            When SSL Termination of invocation request happens at the loadbalancer, following prerequisites need to be met from the load balancer.\n          \n          \n            \n            When SSL Termination of invocation request happens at the loadbalancer/reverse proxy, the following prerequisites need to be met from the load balancer.", "url": "https://github.com/wso2/docs-apim/pull/1298#discussion_r435477418", "createdAt": "2020-06-04T18:46:52Z", "author": {"login": "bhathiya"}, "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "diffHunk": "@@ -51,3 +51,28 @@ Listed below are the known limitations for this feature.\n -   Resource level security will not be applicable for the APIs that are only protected with mutual SSL.\n \n -   Scope level security will not be applicable for the APIs that are only protected with mutual SSL.\n+### Invoke an API secured with Mutual SSL though SSL Terminated Load Balancer.\n+\n+When SSL Termination of invocation request happens at the loadbalancer, following prerequisites need to be met from the load balancer.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7286f1d570d33b75a0ed106e9ee9a86c5ff78e6"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxMjU3MDU5OnYy", "diffSide": "RIGHT", "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxODo0NzozMVrOGfTc-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxODo0NzozMVrOGfTc-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ3Nzc1NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            -   Offload the Terminated SSL certficate from client into the Gateway in a Header.(eg: https://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_client_certificate)\n          \n          \n            \n            -   Pass the client SSL certificate to the Gateway in an HTTP Header. ( eg: https://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_client_certificate )", "url": "https://github.com/wso2/docs-apim/pull/1298#discussion_r435477754", "createdAt": "2020-06-04T18:47:31Z", "author": {"login": "bhathiya"}, "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "diffHunk": "@@ -51,3 +51,28 @@ Listed below are the known limitations for this feature.\n -   Resource level security will not be applicable for the APIs that are only protected with mutual SSL.\n \n -   Scope level security will not be applicable for the APIs that are only protected with mutual SSL.\n+### Invoke an API secured with Mutual SSL though SSL Terminated Load Balancer.\n+\n+When SSL Termination of invocation request happens at the loadbalancer, following prerequisites need to be met from the load balancer.\n+\n+-   Terminate the mutual SSL connection from client\n+-   Offload the Terminated SSL certficate from client into the Gateway in a Header.(eg: https://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_client_certificate)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7286f1d570d33b75a0ed106e9ee9a86c5ff78e6"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxMjU3NTIxOnYy", "diffSide": "RIGHT", "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxODo0ODo1NlrOGfTf6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxODo0ODo1NlrOGfTf6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ3ODUwNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Default WSO2 API Manager supports to retrieve Certificate from **X-WSO2-CLIENT-CERTIFICATE** header. In order to change the retrival header,\n          \n          \n            \n            follow the below instructions.\n          \n          \n            \n            By default, the WSO2 API Manager retrieves the client certificate from the **X-WSO2-CLIENT-CERTIFICATE** HTTP header. In order to change the header,", "url": "https://github.com/wso2/docs-apim/pull/1298#discussion_r435478504", "createdAt": "2020-06-04T18:48:56Z", "author": {"login": "bhathiya"}, "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "diffHunk": "@@ -51,3 +51,28 @@ Listed below are the known limitations for this feature.\n -   Resource level security will not be applicable for the APIs that are only protected with mutual SSL.\n \n -   Scope level security will not be applicable for the APIs that are only protected with mutual SSL.\n+### Invoke an API secured with Mutual SSL though SSL Terminated Load Balancer.\n+\n+When SSL Termination of invocation request happens at the loadbalancer, following prerequisites need to be met from the load balancer.\n+\n+-   Terminate the mutual SSL connection from client\n+-   Offload the Terminated SSL certficate from client into the Gateway in a Header.(eg: https://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_client_certificate)\n+\n+Below diagram show how MutualSSL works in such environment.\n+\n+![]({{base_path}}/assets/img/learn/mtls-loadbalancer.png)\n+\n+Default WSO2 API Manager supports to retrieve Certificate from **X-WSO2-CLIENT-CERTIFICATE** header. In order to change the retrival header,\n+follow the below instructions.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7286f1d570d33b75a0ed106e9ee9a86c5ff78e6"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjI2ODM1OnYy", "diffSide": "RIGHT", "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjo0Nzo1M1rOGi49Gw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjo0Nzo1M1rOGi49Gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzNzkxNQ==", "bodyText": "need a new line above this i think.", "url": "https://github.com/wso2/docs-apim/pull/1298#discussion_r439237915", "createdAt": "2020-06-12T06:47:53Z", "author": {"login": "bhathiya"}, "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "diffHunk": "@@ -51,3 +54,27 @@ Listed below are the known limitations for this feature.\n -   Resource level security will not be applicable for the APIs that are only protected with mutual SSL.\n \n -   Scope level security will not be applicable for the APIs that are only protected with mutual SSL.\n+### Handling MTLS when SSL is terminated by the loadbalancer/reverse proxy.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3feb1e655b0a9cae0131ba405ee55bb9a0097464"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjI3Mjk4OnYy", "diffSide": "RIGHT", "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjo1MDowOFrOGi5AHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjo1MDowOFrOGi5AHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzODY4Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            When SSL Termination of invocation request happens at the loadbalancer/reverse proxy,the following prerequisites need to be met from the load balancer.\n          \n          \n            \n            When SSL Termination of API requests happens at the loadbalancer/reverse proxy, the following prerequisites need to be met from the load balancer.", "url": "https://github.com/wso2/docs-apim/pull/1298#discussion_r439238686", "createdAt": "2020-06-12T06:50:08Z", "author": {"login": "bhathiya"}, "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "diffHunk": "@@ -51,3 +54,27 @@ Listed below are the known limitations for this feature.\n -   Resource level security will not be applicable for the APIs that are only protected with mutual SSL.\n \n -   Scope level security will not be applicable for the APIs that are only protected with mutual SSL.\n+### Handling MTLS when SSL is terminated by the loadbalancer/reverse proxy.\n+\n+When SSL Termination of invocation request happens at the loadbalancer/reverse proxy,the following prerequisites need to be met from the load balancer.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3feb1e655b0a9cae0131ba405ee55bb9a0097464"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjI3MzgwOnYy", "diffSide": "RIGHT", "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjo1MDozMlrOGi5Aqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjo1MDozMlrOGi5Aqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzODgyNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Below diagram show how MutualSSL works in such environment.\n          \n          \n            \n            The below diagram shows how MutualSSL works in such environment.", "url": "https://github.com/wso2/docs-apim/pull/1298#discussion_r439238826", "createdAt": "2020-06-12T06:50:32Z", "author": {"login": "bhathiya"}, "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "diffHunk": "@@ -51,3 +54,27 @@ Listed below are the known limitations for this feature.\n -   Resource level security will not be applicable for the APIs that are only protected with mutual SSL.\n \n -   Scope level security will not be applicable for the APIs that are only protected with mutual SSL.\n+### Handling MTLS when SSL is terminated by the loadbalancer/reverse proxy.\n+\n+When SSL Termination of invocation request happens at the loadbalancer/reverse proxy,the following prerequisites need to be met from the load balancer.\n+\n+-   Terminate the mutual SSL connection from client\n+-   Pass the client SSL certificate to the Gateway in an HTTP Header. ( eg: https://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_client_certificate )\n+\n+Below diagram show how MutualSSL works in such environment.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3feb1e655b0a9cae0131ba405ee55bb9a0097464"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjI3NTA4OnYy", "diffSide": "RIGHT", "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjo1MTowM1rOGi5BYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjo1MTowM1rOGi5BYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzOTAxMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            -  Configure the *certificate_header* under the [apimgt.mutual_ssl]. \n          \n          \n            \n            -  Configure the *certificate_header* under the [apimgt.mutual_ssl] configuration.", "url": "https://github.com/wso2/docs-apim/pull/1298#discussion_r439239011", "createdAt": "2020-06-12T06:51:03Z", "author": {"login": "bhathiya"}, "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "diffHunk": "@@ -51,3 +54,27 @@ Listed below are the known limitations for this feature.\n -   Resource level security will not be applicable for the APIs that are only protected with mutual SSL.\n \n -   Scope level security will not be applicable for the APIs that are only protected with mutual SSL.\n+### Handling MTLS when SSL is terminated by the loadbalancer/reverse proxy.\n+\n+When SSL Termination of invocation request happens at the loadbalancer/reverse proxy,the following prerequisites need to be met from the load balancer.\n+\n+-   Terminate the mutual SSL connection from client\n+-   Pass the client SSL certificate to the Gateway in an HTTP Header. ( eg: https://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_client_certificate )\n+\n+Below diagram show how MutualSSL works in such environment.\n+\n+![]({{base_path}}/assets/img/learn/mtls-loadbalancer.png)\n+\n+By default, the WSO2 API Manager retrieves the client certificate from the **X-WSO2-CLIENT-CERTIFICATE** HTTP header. In order to change the header,\n+\n+-  Navigate to the `<API-M_HOME>/repository/conf/deployment.toml` file.\n+-  Configure the *certificate_header* under the [apimgt.mutual_ssl]. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3feb1e655b0a9cae0131ba405ee55bb9a0097464"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNjI3NzQ5OnYy", "diffSide": "RIGHT", "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjo1MjoxMFrOGi5C7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNjo1MjoxMFrOGi5C7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzOTQwNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ### Handling MTLS when SSL is terminated by the loadbalancer/reverse proxy.\n          \n          \n            \n            ### Handling MTLS when SSL is terminated by the loadbalancer/reverse proxy.\n          \n      \n    \n    \n  \n\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ### Handling MTLS when SSL is terminated by the loadbalancer/reverse proxy.\n          \n          \n            \n            \n          \n          \n            \n            ### Handling MTLS when SSL is terminated by the loadbalancer/reverse proxy.", "url": "https://github.com/wso2/docs-apim/pull/1298#discussion_r439239405", "createdAt": "2020-06-12T06:52:10Z", "author": {"login": "bhathiya"}, "path": "en/docs/learn/api-security/api-authentication/secure-apis-using-mutual-ssl.md", "diffHunk": "@@ -51,3 +54,27 @@ Listed below are the known limitations for this feature.\n -   Resource level security will not be applicable for the APIs that are only protected with mutual SSL.\n \n -   Scope level security will not be applicable for the APIs that are only protected with mutual SSL.\n+### Handling MTLS when SSL is terminated by the loadbalancer/reverse proxy.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3feb1e655b0a9cae0131ba405ee55bb9a0097464"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1915, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}