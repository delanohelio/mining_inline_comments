{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4ODc2NTI5", "number": 614, "title": "Update H2 docs", "bodyText": "Purpose\nUpdate h2 docs", "createdAt": "2020-01-03T05:25:19Z", "url": "https://github.com/wso2/docs-apim/pull/614", "merged": true, "mergeCommit": {"oid": "7ccc5da53a8bc5b20c582d04928f2a00bb5b3fb9"}, "closed": true, "closedAt": "2020-01-09T08:08:05Z", "author": {"login": "pahans"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb2ZNQqgH2gAyMzU4ODc2NTI5OjdkNjg1NzE2OGRiYzFiNjgwMjczNTY2NGI0YjNkMWRlNTU3OGYxMjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4lYf2AFqTM0MDM0MzQ2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7d6857168dbc1b6802735664b4b3d1de5578f124", "author": {"user": null}, "url": "https://github.com/wso2/docs-apim/commit/7d6857168dbc1b6802735664b4b3d1de5578f124", "committedDate": "2020-01-02T12:48:57Z", "message": "Update H2 docs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MjExNzM4", "url": "https://github.com/wso2/docs-apim/pull/614#pullrequestreview-339211738", "createdAt": "2020-01-07T12:42:20Z", "commit": {"oid": "7d6857168dbc1b6802735664b4b3d1de5578f124"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxMjo0MjoyMFrOFa4UDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxMjo1MDo1OFrOFa4fTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzcyOTkzNA==", "bodyText": "Shall we change this <PRODUCT_HOME> to <API-M_HOME> as we are only referring to APIM docs", "url": "https://github.com/wso2/docs-apim/pull/614#discussion_r363729934", "createdAt": "2020-01-07T12:42:20Z", "author": {"login": "Mariangela"}, "path": "en/docs/InstallAndSetup/SettingUpDatabases/ChangingDefaultDatabases/changing-to-embedded-h2.md", "diffHunk": "@@ -5,28 +5,28 @@ The following sections describe how to set up an embedded H2 database to replace\n -   [Setting up the database](#SettingupEmbeddedH2-Settingupthedatabase)\n -   [Setting up the drivers](#SettingupEmbeddedH2-Settingupthedrivers)\n \n-!!! warning\n-H2 is not recommended in production\n+!!! warning \n+    H2 is not recommended in production\n \n-The embedded H2 database is NOT recommended\u00a0in enterprise testing and production environments.\u00a0It has lower performance, clustering limitations, and can cause file corruption failures.\u00a0Please\u00a0use an industry-standard RDBMS such as Oracle, PostgreSQL, MySQL, or MS SQL instead.\n+    The embedded H2 database is NOT recommended\u00a0in enterprise testing and production environments.\u00a0It has lower performance, clustering limitations, and can cause file corruption failures.\u00a0Please\u00a0use an industry-standard RDBMS such as Oracle, PostgreSQL, MySQL, or MS SQL instead.\n \n-You can use the embedded H2 database in development environments and as the local registry in a registry mount.\n+    You can use the embedded H2 database in development environments and as the local registry in a registry mount.\n \n \n ### Setting up the database\n \n Download and install the H2 database engine on your computer.\n \n !!! info\n-For instructions on installing DB2 Express-C, see [H2 installation guide.](http://www.h2database.com/html/quickstart.html)\n+    For instructions on installing DB2 Express-C, see [H2 installation guide.](http://www.h2database.com/html/quickstart.html)\n \n \n ### Setting up the drivers\n \n-WSO2 currently ships H2 database engine version h2-1.2.140.\\* and its related H2 database driver. If you want to use a different H2 database driver, take the following steps:\n+WSO2 currently ships H2 database engine version h2_1.4.199.\\* and its related H2 database driver. If you want to use a different H2 database driver, take the following steps:\n \n 1.  Delete the following H2 database-related JAR file, which is shipped with WSO2 products:\n-`<PRODUCT_HOME>/repository/components/plugins/h2-database-engine_1.2.140.wso2v3.jar`\n+`<PRODUCT_HOME>/repository/components/plugins/h2_1.4.199.wso2v1.jar`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7d6857168dbc1b6802735664b4b3d1de5578f124"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzczMTkzOA==", "bodyText": "We should not be pointing to Admin docs https://docs.wso2.com/display/ADMIN44x/Setting+up+Embedded+H2\nas that content is in the APIM docs already\nFor example:\nhttps://apim.docs.wso2.com/en/latest/InstallAndSetup/SettingUpDatabases/ChangingDefaultDatabases/changing-to-embedded-h2/\nSo this link should change as {{base_path}}/InstallAndSetup/SettingUpDatabases/ChangingDefaultDatabases/changing-to-embedded-h2/", "url": "https://github.com/wso2/docs-apim/pull/614#discussion_r363731938", "createdAt": "2020-01-07T12:48:14Z", "author": {"login": "Mariangela"}, "path": "en/docs/InstallAndSetup/SettingUpDatabases/ChangingDefaultDatabases/changing-to-embedded-h2.md", "diffHunk": "@@ -42,16 +42,16 @@ The following sections describe how to replace the default H2 database with Embe\n -   [Creating database tables](#ChangingtoEmbeddedH2-Creatingdatabasetables)\n \n !!! warning\n-H2 is not recommended in production\n+    H2 is not recommended in production\n \n-The embedded H2 database is NOT recommended\u00a0in enterprise testing and production environments.\u00a0It has lower performance, clustering limitations, and can cause file corruption failures.\u00a0Please\u00a0use an industry-standard RDBMS such as Oracle, PostgreSQL, MySQL, or MS SQL instead.\n+    The embedded H2 database is NOT recommended\u00a0in enterprise testing and production environments.\u00a0It has lower performance, clustering limitations, and can cause file corruption failures.\u00a0Please\u00a0use an industry-standard RDBMS such as Oracle, PostgreSQL, MySQL, or MS SQL instead.\n \n-You can use the embedded H2 database in development environments and as the local registry in a registry mount.\n+    You can use the embedded H2 database in development environments and as the local registry in a registry mount.\n \n !!! tip\n-Before you begin\n+    Before you begin,\n \n-You need to set up Embedded H2 before following the steps to configure your product with it. For more information, see [Setting up Embedded H2](https://docs.wso2.com/display/ADMIN44x/Setting+up+Embedded+H2) .\n+    You need to set up Embedded H2 before following the steps to configure your product with it. For more information, see [Setting up Embedded H2](https://docs.wso2.com/display/ADMIN44x/Setting+up+Embedded+H2) .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7d6857168dbc1b6802735664b4b3d1de5578f124"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzczMjgxNQ==", "bodyText": "The link is wrong. It should be https://docs.wso2.com/display/updates/", "url": "https://github.com/wso2/docs-apim/pull/614#discussion_r363732815", "createdAt": "2020-01-07T12:50:58Z", "author": {"login": "Mariangela"}, "path": "en/docs/InstallAndSetup/SettingUpDatabases/ChangingDefaultDatabases/changing-to-embedded-h2.md", "diffHunk": "@@ -107,24 +101,24 @@ The elements in the above configuration are described below:\n   When\u00a0auto committing\u00a0is enabled, each SQL statement will be committed to the database as an individual transaction, as opposed to committing multiple statements as a single transaction.                                                                                                                                                     |\n \n !!! info\n-For more information on other parameters that can be defined in the &lt; `PRODUCT_HOME>/repository/conf/datasources/master-datasources.xml` file, see [Tomcat JDBC Connection Pool](http://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html#Tomcat_JDBC_Enhanced_Attributes) .\n+    For more information on other parameters that can be defined in the &lt; `PRODUCT_HOME>/repository/conf/deployment.toml` file, see [Tomcat JDBC Connection Pool](http://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html#Tomcat_JDBC_Enhanced_Attributes) .\n \n \n !!! warning\n-The following elements are available only as a **WUM** update and is effective from 14th September 2018 (2018-09-14).\u00a0 For more information, see [Updating WSO2 Products](https://www.google.com/url?q=https%3A%2F%2Fdocs.wso2.com%2Fdisplay%2FADMIN44x%2FUpdating%2BWSO2%2BProducts&sa=D&sntz=1&usg=AFQjCNEMvqxxFtu8Qv8K4YugxNXrTfNtUA) .\n-This WUM update is only applicable to Carbon 4.4.11 and will be shipped out-out-the-box with Carbon versions newer than Carbon 4.4.35. For more information on Carbon compatibility, see [Release Matrix](https://wso2.com/products/carbon/release-matrix/) .\n+    The following elements are available only as a **WUM** update and is effective from 14th September 2018 (2018-09-14).\u00a0 For more information, see [Updating WSO2 Products](https://www.google.com/url?q=https%3A%2F%2Fdocs.wso2.com%2Fdisplay%2FADMIN44x%2FUpdating%2BWSO2%2BProducts&sa=D&sntz=1&usg=AFQjCNEMvqxxFtu8Qv8K4YugxNXrTfNtUA) .\n+    This WUM update is only applicable to Carbon 4.4.11 and will be shipped out-out-the-box with Carbon versions newer than Carbon 4.4.35. For more information on Carbon compatibility, see [Release Matrix](https://wso2.com/products/carbon/release-matrix/) .\n \n \n | **Element**          | **Description**                                                                                                                                                                                                                                                                                                                                                                |\n |----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n | **commitOnReturn**   | If `defaultAutoCommit =false`, then you can set `commitOnReturn =true`, so that the pool can complete the transaction by calling the commit on the connection as it is returned to the pool. However, If `rollbackOnReturn =true` then this attribute is ignored. The default value is false. |\n | **rollbackOnReturn** | If `defaultAutoCommit =false`, then you can set `rollbackOnReturn =true` so that the pool can terminate the transaction by calling rollback on the connection as it is returned to the pool. The default value is false.                                                                                            |\n \n-**Configuring the connection pool behavior on return\n+**Configuring the connection pool behavior on return**\n ** When a database connection is returned to the pool, by default\u00a0 the product rolls back the pending transactions if defaultAutoCommit =true . However, if required you can disable the latter mentioned default behavior by disabling the `ConnectionRollbackOnReturnInterceptor` , which is\u00a0a JDBC-Pool JDBC interceptor,\u00a0and setting the connection pool behavior on return via the datasource configurations by using the following options.\n \n !!! warning\n-Disabling the `ConnectionRollbackOnReturnInterceptor` is only possible with the **WUM** update and is effective from 14th September 2018 (2018-09-14).\u00a0For more information on updating WSO2 API Manager, see [Updating WSO2 Products](https://www.google.com/url?q=https%3A%2F%2Fdocs.wso2.com%2Fdisplay%2FADMIN44x%2FUpdating%2BWSO2%2BProducts&sa=D&sntz=1&usg=AFQjCNEMvqxxFtu8Qv8K4YugxNXrTfNtUA) . This WUM update is only applicable to Carbon 4.4.11.\n+    Disabling the `ConnectionRollbackOnReturnInterceptor` is only possible with the **WUM** update and is effective from 14th September 2018 (2018-09-14).\u00a0For more information on updating WSO2 API Manager, see [Updating WSO2 Products](https://www.google.com/url?q=https%3A%2F%2Fdocs.wso2.com%2Fdisplay%2FADMIN44x%2FUpdating%2BWSO2%2BProducts&sa=D&sntz=1&usg=AFQjCNEMvqxxFtu8Qv8K4YugxNXrTfNtUA) . This WUM update is only applicable to Carbon 4.4.11.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7d6857168dbc1b6802735664b4b3d1de5578f124"}, "originalPosition": 144}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f40c499f0243ffc7a6d3916d34c87e1e0684319e", "author": {"user": null}, "url": "https://github.com/wso2/docs-apim/commit/f40c499f0243ffc7a6d3916d34c87e1e0684319e", "committedDate": "2020-01-08T11:16:50Z", "message": "Address review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwMzQzNDYy", "url": "https://github.com/wso2/docs-apim/pull/614#pullrequestreview-340343462", "createdAt": "2020-01-09T08:07:56Z", "commit": {"oid": "f40c499f0243ffc7a6d3916d34c87e1e0684319e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1987, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}