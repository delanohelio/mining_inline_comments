{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyODEzNjIy", "number": 798, "title": "Bug Fixes and Doc Update", "bodyText": "Purpose\nBug Fixes and Doc Update.", "createdAt": "2020-03-03T08:37:07Z", "url": "https://github.com/wso2/docs-apim/pull/798", "merged": true, "mergeCommit": {"oid": "8faf624981d4e2492d9f4b0e493c9d4ddbb9d86c"}, "closed": true, "closedAt": "2020-03-04T12:36:48Z", "author": {"login": "Mariangela"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJpoMwgH2gAyMzgyODEzNjIyOmVhNDYzNDM0NzdiMzNhMDk5Njc3ZGRlOTIyMDljYjRkZDg5ZGU2NTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKWMU5AFqTM2ODc0MTE2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ea46343477b33a099677dde92209cb4dd89de653", "author": {"user": {"login": "Mariangela", "name": "Mariangela Hills"}}, "url": "https://github.com/wso2/docs-apim/commit/ea46343477b33a099677dde92209cb4dd89de653", "committedDate": "2020-03-02T08:41:25Z", "message": "deleted distributed-deployment-of-api-manager.md based on Rukshan feeback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6ff0dd1e3a95966cc041013284f6e757d021cf7", "author": {"user": {"login": "Mariangela", "name": "Mariangela Hills"}}, "url": "https://github.com/wso2/docs-apim/commit/b6ff0dd1e3a95966cc041013284f6e757d021cf7", "committedDate": "2020-03-03T04:09:24Z", "message": "fix for https://github.com/wso2/docs-apim/issues/793 tuning-performance.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe332da006acdd8974ffb8a695c112136e549171", "author": {"user": {"login": "Mariangela", "name": "Mariangela Hills"}}, "url": "https://github.com/wso2/docs-apim/commit/fe332da006acdd8974ffb8a695c112136e549171", "committedDate": "2020-03-03T04:16:02Z", "message": " formatted en/docs/install-and-setup/perfromance-tuning-and-test-results/tuning-performance.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3554f601afaa936b181ba889fec2ee5a7a57ab8", "author": {"user": {"login": "Mariangela", "name": "Mariangela Hills"}}, "url": "https://github.com/wso2/docs-apim/commit/f3554f601afaa936b181ba889fec2ee5a7a57ab8", "committedDate": "2020-03-03T08:21:27Z", "message": "Reviewed and updated tuning-performance.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e2f6331dc3f5172e301d1ab7f527d93146f6ce5", "author": {"user": {"login": "Mariangela", "name": "Mariangela Hills"}}, "url": "https://github.com/wso2/docs-apim/commit/5e2f6331dc3f5172e301d1ab7f527d93146f6ce5", "committedDate": "2020-03-03T08:23:31Z", "message": "Merge branch '3.0.0' of https://github.com/wso2/docs-apim into 3.0.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a46853b2ba8ca8d94613c45ff2b7a62324ed9966", "author": {"user": {"login": "Mariangela", "name": "Mariangela Hills"}}, "url": "https://github.com/wso2/docs-apim/commit/a46853b2ba8ca8d94613c45ff2b7a62324ed9966", "committedDate": "2020-03-03T09:18:19Z", "message": "Removed the change done for docs-apim/issues/793 as the WUM update is not applicable for 3.0.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21656b015870353cf39520a553d19d0ab240411f", "author": {"user": {"login": "Mariangela", "name": "Mariangela Hills"}}, "url": "https://github.com/wso2/docs-apim/commit/21656b015870353cf39520a553d19d0ab240411f", "committedDate": "2020-03-03T10:48:26Z", "message": "fix for https://github.com/wso2/docs-apim/issues/34 passing-enduser-attributes-to-the-backend-using-jwt.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3ODg0MTU4", "url": "https://github.com/wso2/docs-apim/pull/798#pullrequestreview-367884158", "createdAt": "2020-03-03T10:59:50Z", "commit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxMDo1OTo1MVrOFxBPQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxMDo1OTo1MVrOFxBPQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk0NDgzNQ==", "bodyText": "Why don't we have these as points listed under a topic \"Recommendations\" ?", "url": "https://github.com/wso2/docs-apim/pull/798#discussion_r386944835", "createdAt": "2020-03-03T10:59:51Z", "author": {"login": "shaniR"}, "path": "en/docs/install-and-setup/perfromance-tuning-and-test-results/tuning-performance.md", "diffHunk": "@@ -1,6 +1,6 @@\n # Tuning Performance\n \n-This section describes some recommended performance tuning configurations to optimize the WSO2 API Manager. It assumes that you have set up the API Manager on Unix/Linux, which is recommended for a production deployment. We also recommend [a distributed API Manager setup]({{base_path}}/install-and-setup/deploying-wso2-api-manager/deployment-patterns/) for most production systems. Out of all components of an API Manager distributed setup, the API Gateway is the most critical, because\u00a0it handles all inbound calls to APIs. Therefore, we recommend you to have at least a 2-node cluster of API Gateways in a distributed setup.\n+This section describes some recommended performance tuning configurations to optimize WSO2 API Manager. It assumes that you have set up the API Manager on Unix/Linux, which is recommended for a production deployment. WSO2 also recommends [a distributed API Manager setup]({{base_path}}/install-and-setup/deploying-wso2-api-manager/deployment-patterns/) for most production systems. Out of all components of an API Manager distributed setup, the API Gateway is the most critical, because\u00a0it handles all inbound calls to APIs. Therefore, WSO2 recommends that you have at least a 2-node cluster of API Gateways in a distributed setup.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3ODg1MDc0", "url": "https://github.com/wso2/docs-apim/pull/798#pullrequestreview-367885074", "createdAt": "2020-03-03T11:01:09Z", "commit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxMTowMTowOVrOFxBSAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxMTowMTowOVrOFxBSAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk0NTUzNw==", "bodyText": "should \"not\" be in bold?", "url": "https://github.com/wso2/docs-apim/pull/798#discussion_r386945537", "createdAt": "2020-03-03T11:01:09Z", "author": {"login": "shaniR"}, "path": "en/docs/install-and-setup/perfromance-tuning-and-test-results/tuning-performance.md", "diffHunk": "@@ -32,81 +32,83 @@ Following are the configurations that can be applied to optimize the OS-level pe\n 1.  To optimize network and OS performance, configure the following settings in the `/etc/sysctl.conf` file of Linux. These settings specify a larger port range, a more effective TCP connection timeout value, and a number of other important parameters at the OS-level.\n \n     !!! info\n-            It is not recommended to use `net.ipv4.tcp_tw_recycle = 1` when working with network address translation (NAT), such as if you are deploying products in EC2 or any other environment configured with NAT.\n+        It is not recommended to use `net.ipv4.tcp_tw_recycle = 1` when working with network address translation (NAT), such as if you are deploying products in EC2 or any other environment configured with NAT.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3ODg1Mzk0", "url": "https://github.com/wso2/docs-apim/pull/798#pullrequestreview-367885394", "createdAt": "2020-03-03T11:01:39Z", "commit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxMTowMTozOVrOFxBTDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxMTo0MDoyN1rOFxCcYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk0NTgwNg==", "bodyText": "Have we explained or given some reference to what these configurations mean?", "url": "https://github.com/wso2/docs-apim/pull/798#discussion_r386945806", "createdAt": "2020-03-03T11:01:39Z", "author": {"login": "shaniR"}, "path": "en/docs/install-and-setup/perfromance-tuning-and-test-results/tuning-performance.md", "diffHunk": "@@ -32,81 +32,83 @@ Following are the configurations that can be applied to optimize the OS-level pe\n 1.  To optimize network and OS performance, configure the following settings in the `/etc/sysctl.conf` file of Linux. These settings specify a larger port range, a more effective TCP connection timeout value, and a number of other important parameters at the OS-level.\n \n     !!! info\n-            It is not recommended to use `net.ipv4.tcp_tw_recycle = 1` when working with network address translation (NAT), such as if you are deploying products in EC2 or any other environment configured with NAT.\n+        It is not recommended to use `net.ipv4.tcp_tw_recycle = 1` when working with network address translation (NAT), such as if you are deploying products in EC2 or any other environment configured with NAT.\n \n \n     ``` java\n-     net.ipv4.tcp_fin_timeout = 30\n-     fs.file-max = 2097152\n-     net.ipv4.tcp_tw_recycle = 1\n-     net.ipv4.tcp_tw_reuse = 1\n-     net.core.rmem_default = 524288\n-     net.core.wmem_default = 524288\n-     net.core.rmem_max = 67108864\n-     net.core.wmem_max = 67108864\n-     net.ipv4.tcp_rmem = 4096 87380 16777216\n-     net.ipv4.tcp_wmem = 4096 65536 16777216\n-     net.ipv4.ip_local_port_range = 1024 65535      \n+    net.ipv4.tcp_fin_timeout = 30\n+    fs.file-max = 2097152\n+    net.ipv4.tcp_tw_recycle = 1\n+    net.ipv4.tcp_tw_reuse = 1\n+    net.core.rmem_default = 524288\n+    net.core.wmem_default = 524288\n+    net.core.rmem_max = 67108864\n+    net.core.wmem_max = 67108864\n+    net.ipv4.tcp_rmem = 4096 87380 16777216\n+    net.ipv4.tcp_wmem = 4096 65536 16777216\n+    net.ipv4.ip_local_port_range = 1024 65535      \n     ```", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk0NzkxNg==", "bodyText": "EI documentation -> WSO2 EI documentation?", "url": "https://github.com/wso2/docs-apim/pull/798#discussion_r386947916", "createdAt": "2020-03-03T11:06:01Z", "author": {"login": "shaniR"}, "path": "en/docs/install-and-setup/perfromance-tuning-and-test-results/tuning-performance.md", "diffHunk": "@@ -116,25 +118,26 @@ The following diagram shows the communication/network paths that occur when an A\n     If the Key Manager caching is enabled, the calls between the API Gateway and Key Manager are cached. As a result, the Key Manager is not invoked for each API call.\n \n -   **Client call API Gateway + API Gateway call Backend**\n-    For backend communication, the API Manager uses PassThrough transport. This is configured in the `<API-M_HOME>/repository/conf/deployment.toml` file. For more information, see [Configuring passthru properties](https://docs.wso2.com/display/EI650/Tuning+the+HTTP+Transport) in the EI\u00a0documentation. To configure socket timeout value, add following to the `deployment.toml`\n-            ```java\n-             [passthru_http]\n-             http.socket.timeout=180000\n+\n+    For backend communication, the API Manager uses PassThrough transport. This is configured in the `<API-M_HOME>/repository/conf/deployment.toml` file. For more information, see [Configuring passthru properties](https://docs.wso2.com/display/EI650/Tuning+the+HTTP+Transport) in the EI\u00a0documentation. Add the following section to the `deployment.toml` file to configure the Socket timeout value.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "originalPosition": 144}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk0ODE2Mw==", "bodyText": "any minimum value for this ?", "url": "https://github.com/wso2/docs-apim/pull/798#discussion_r386948163", "createdAt": "2020-03-03T11:06:32Z", "author": {"login": "shaniR"}, "path": "en/docs/install-and-setup/perfromance-tuning-and-test-results/tuning-performance.md", "diffHunk": "@@ -116,25 +118,26 @@ The following diagram shows the communication/network paths that occur when an A\n     If the Key Manager caching is enabled, the calls between the API Gateway and Key Manager are cached. As a result, the Key Manager is not invoked for each API call.\n \n -   **Client call API Gateway + API Gateway call Backend**\n-    For backend communication, the API Manager uses PassThrough transport. This is configured in the `<API-M_HOME>/repository/conf/deployment.toml` file. For more information, see [Configuring passthru properties](https://docs.wso2.com/display/EI650/Tuning+the+HTTP+Transport) in the EI\u00a0documentation. To configure socket timeout value, add following to the `deployment.toml`\n-            ```java\n-             [passthru_http]\n-             http.socket.timeout=180000\n+\n+    For backend communication, the API Manager uses PassThrough transport. This is configured in the `<API-M_HOME>/repository/conf/deployment.toml` file. For more information, see [Configuring passthru properties](https://docs.wso2.com/display/EI650/Tuning+the+HTTP+Transport) in the EI\u00a0documentation. Add the following section to the `deployment.toml` file to configure the Socket timeout value.\n+            ``` java\n+            [passthru_http]\n+            http.socket.timeout=180000", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "originalPosition": 147}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk1MDY2Ng==", "bodyText": "what does it index? when you say registry indexing , that is an internal detail.. but for a user it is different, for e.g. APIs.", "url": "https://github.com/wso2/docs-apim/pull/798#discussion_r386950666", "createdAt": "2020-03-03T11:11:45Z", "author": {"login": "shaniR"}, "path": "en/docs/install-and-setup/perfromance-tuning-and-test-results/tuning-performance.md", "diffHunk": "@@ -384,28 +387,28 @@ validationQuery = \"SELECT 2\"\n </code></pre>\n </div>\n </div>\n-<p>Note that you set the <code>               &lt;testOnBorrow&gt;              </code> element to <code>               true              </code> and provide a validation query (e.g., in Oracle, <code>               SELECT 1 FROM DUAL              </code> ), which is run to refresh any stale connections in the connection pool. Set a suitable value for the <code>               &lt;validationInterval&gt;              </code> element, which defaults to 30000 milliseconds. It determines the time period after which the next iteration of the validation query will be run on a particular connection. It avoids excess validations and ensures better performance.</p>\n+<p>Note that you set the <code>               &lt;testOnBorrow&gt;              </code> element to <code>               true              </code> and provide a validation query (e.g., in Oracle, <code>               SELECT 1 FROM DUAL              </code> ), which is run to refresh any stale connections in the connection pool. Set a suitable value for the <code>               &lt;validationInterval&gt;              </code> element, which defaults to 30000 milliseconds. It determines the time period, after which the next iteration of the validation query will be run on a particular connection. It avoids excess validations and ensures better performance.</p>\n </div></td>\n </tr>\n </tbody>\n </table>\n \n-##### Registry indexing configurations\n+### Registry indexing configurations\n \n-The registry indexing process is only required to be run on the API Publisher and Developer Portal nodes. To disable the indexing process from running on the other nodes (Gateways and Key Managers), you need to following in the `<API-M_HOME>/repository/conf/deployment.toml` file.\n+The registry indexing process is only required to be run on the API Publisher and Developer Portal nodes. To disable the indexing process from running on the other nodes (Gateways and Key Managers), you need to add the following configuration section in the `<API-M_HOME>/repository/conf/deployment.toml` file.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "originalPosition": 265}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk1MDg5Ng==", "bodyText": "We use the term rate-limiting in place of throttling.", "url": "https://github.com/wso2/docs-apim/pull/798#discussion_r386950896", "createdAt": "2020-03-03T11:12:14Z", "author": {"login": "shaniR"}, "path": "en/docs/install-and-setup/perfromance-tuning-and-test-results/tuning-performance.md", "diffHunk": "@@ -384,28 +387,28 @@ validationQuery = \"SELECT 2\"\n </code></pre>\n </div>\n </div>\n-<p>Note that you set the <code>               &lt;testOnBorrow&gt;              </code> element to <code>               true              </code> and provide a validation query (e.g., in Oracle, <code>               SELECT 1 FROM DUAL              </code> ), which is run to refresh any stale connections in the connection pool. Set a suitable value for the <code>               &lt;validationInterval&gt;              </code> element, which defaults to 30000 milliseconds. It determines the time period after which the next iteration of the validation query will be run on a particular connection. It avoids excess validations and ensures better performance.</p>\n+<p>Note that you set the <code>               &lt;testOnBorrow&gt;              </code> element to <code>               true              </code> and provide a validation query (e.g., in Oracle, <code>               SELECT 1 FROM DUAL              </code> ), which is run to refresh any stale connections in the connection pool. Set a suitable value for the <code>               &lt;validationInterval&gt;              </code> element, which defaults to 30000 milliseconds. It determines the time period, after which the next iteration of the validation query will be run on a particular connection. It avoids excess validations and ensures better performance.</p>\n </div></td>\n </tr>\n </tbody>\n </table>\n \n-##### Registry indexing configurations\n+### Registry indexing configurations\n \n-The registry indexing process is only required to be run on the API Publisher and Developer Portal nodes. To disable the indexing process from running on the other nodes (Gateways and Key Managers), you need to following in the `<API-M_HOME>/repository/conf/deployment.toml` file.\n+The registry indexing process is only required to be run on the API Publisher and Developer Portal nodes. To disable the indexing process from running on the other nodes (Gateways and Key Managers), you need to add the following configuration section in the `<API-M_HOME>/repository/conf/deployment.toml` file.\n \n ```java\n- [indexing]\n- enable = false\n+[indexing]\n+enable = false\n ```\n \n-#### Throttle data and Analytics-related settings\n+## Throttle data and Analytics-related settings\n \n-This section describes the parameters you need to configure to tune the performance of API-M Analytics and Throttling when it is affected by high load, network traffic etc. You need to tune these parameters based on the deployment environment.\n+This section describes the parameters you need to configure to tune the performance of API-M Analytics and Throttling when it is affected by high load, network traffic, etc. You need to tune these parameters based on the deployment environment.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "originalPosition": 278}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk1MTM1Ng==", "bodyText": "Throttling - > rate limiting.", "url": "https://github.com/wso2/docs-apim/pull/798#discussion_r386951356", "createdAt": "2020-03-03T11:13:07Z", "author": {"login": "shaniR"}, "path": "en/docs/install-and-setup/perfromance-tuning-and-test-results/tuning-performance.md", "diffHunk": "@@ -414,15 +417,15 @@ The following parameters should be configured in the `<API-M_HOME>/repository/co\n [transport.binary.agent]\n :\n ```\n-The Thrift section is related to Analytics and the Binary section is related to Throttling. Same set of parameters mentioned below can be found in both sections. The parameter descriptions and recommendations are intended towards the for performance tuning of Analytics, but the same recommendations are relevant for Throttling data related tuning in the Binary section.\u00a0Note that the section for Thrift is relevant only if Analytics is enabled.\n+The Thrift section is related to Analytics, and the Binary section is related to Throttling. The same set of parameters mentioned below can be found in both sections. The parameter descriptions and recommendations are intended towards the for performance tuning of Analytics, but the same recommendations are relevant for Throttling data related tuning in the Binary section.\u00a0Note that the section for Thrift is relevant only if Analytics is enabled.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "originalPosition": 293}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk1MTkyNg==", "bodyText": "The parameter descriptions and recommendations are intended towards the performance tuning of Analytics", "url": "https://github.com/wso2/docs-apim/pull/798#discussion_r386951926", "createdAt": "2020-03-03T11:14:20Z", "author": {"login": "shaniR"}, "path": "en/docs/install-and-setup/perfromance-tuning-and-test-results/tuning-performance.md", "diffHunk": "@@ -414,15 +417,15 @@ The following parameters should be configured in the `<API-M_HOME>/repository/co\n [transport.binary.agent]\n :\n ```\n-The Thrift section is related to Analytics and the Binary section is related to Throttling. Same set of parameters mentioned below can be found in both sections. The parameter descriptions and recommendations are intended towards the for performance tuning of Analytics, but the same recommendations are relevant for Throttling data related tuning in the Binary section.\u00a0Note that the section for Thrift is relevant only if Analytics is enabled.\n+The Thrift section is related to Analytics, and the Binary section is related to Throttling. The same set of parameters mentioned below can be found in both sections. The parameter descriptions and recommendations are intended towards the for performance tuning of Analytics, but the same recommendations are relevant for Throttling data related tuning in the Binary section.\u00a0Note that the section for Thrift is relevant only if Analytics is enabled.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "originalPosition": 293}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk1NTQ0MQ==", "bodyText": "\"This value\" is repeated in each sentence. Can we use some other way to convey the message?", "url": "https://github.com/wso2/docs-apim/pull/798#discussion_r386955441", "createdAt": "2020-03-03T11:21:56Z", "author": {"login": "shaniR"}, "path": "en/docs/install-and-setup/perfromance-tuning-and-test-results/tuning-performance.md", "diffHunk": "@@ -445,7 +448,7 @@ The Thrift section is related to Analytics and the Binary section is related to\n <td><code>             batch_size            </code></td>\n <td>The WSO2 API-M statistical data sent to the Analytics Server to be published in the Analytics Dashboard are grouped into batches. This parameter specifies the number of requests to be included in a batch.</td>\n <td>200</td>\n-<td>This value should be tuned in proportion to the volume of requests sent from WSO2 API-M to the Analytics Server. This value should be reduced if you want to reduce the system overhead of the Analytics Server. This value should be increased if WSO2 API-M is generating a high amount of statistics and if the <code>             queue_size            </code> cannot be further increased without causing an overconsumption of memory.</td>\n+<td>This value should be tuned in proportion to the volume of requests sent from WSO2 API-M to the Analytics Server. This value should be reduced if you want to reduce the system overhead of the Analytics Server. This value should be increased if WSO2 API-M is generating a high amount of statistics and if the <code>             queue_size            </code> cannot be further increased without causing overconsumption of memory.</td>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "originalPosition": 325}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk2NDU3OA==", "bodyText": "To get a list of users to be included in the JWT, simply uncomment this element after enabling the JWT -> I don't think this gets the list of users. Instead it gets the users claims?", "url": "https://github.com/wso2/docs-apim/pull/798#discussion_r386964578", "createdAt": "2020-03-03T11:40:27Z", "author": {"login": "shaniR"}, "path": "en/docs/learn/api-gateway/passing-end-user-attributes-to-the-backend/passing-enduser-attributes-to-the-backend-using-jwt.md", "diffHunk": "@@ -125,7 +125,7 @@ if the <code>getClaims</code> method returns <code>{email:user1@wso2.com, gender\n <td><pre><code>apim.jwt.claim_dialect</code></pre></td>\n <td><div class=\"content-wrapper\">\n <p>The dialect URI under which the user's claims are be looked for. Only works with the default value of the <code>apim.jwt.claims_extractor_impl</code> element defined above.</p>\n-<p>The JWT token contains all claims define in the <code>apim.jwt.claim_dialect</code> element. The default value of this element is <code>http://wso2.org/claims</code>. To get a list of users to be included in the JWT, simply uncomment this element after enabling the JWT. It will include all claims in <code>http://wso2.org/claims</code> to the JWT token.</p>\n+<p>The JWT token contains all claims that are defined in the <code>apim.jwt.claim_dialect</code> element. The default value of this element is <code>http://wso2.org/claims</code>. To get a list of users to be included in the JWT, simply uncomment this element after enabling the JWT. It will include all claims in <code>http://wso2.org/claims</code> to the JWT token.</p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bfe5e9a2ca27772e7c72e68aa1b679f54063c16", "author": {"user": {"login": "Mariangela", "name": "Mariangela Hills"}}, "url": "https://github.com/wso2/docs-apim/commit/6bfe5e9a2ca27772e7c72e68aa1b679f54063c16", "committedDate": "2020-03-03T12:41:03Z", "message": "Updated based on PR review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad35368762f90e93da8563604b42628e902ea243", "author": {"user": {"login": "Mariangela", "name": "Mariangela Hills"}}, "url": "https://github.com/wso2/docs-apim/commit/ad35368762f90e93da8563604b42628e902ea243", "committedDate": "2020-03-04T06:11:55Z", "message": "Updated based on PR review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4NTQwMTYz", "url": "https://github.com/wso2/docs-apim/pull/798#pullrequestreview-368540163", "createdAt": "2020-03-04T06:56:28Z", "commit": {"oid": "ad35368762f90e93da8563604b42628e902ea243"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwNjo1NjoyOFrOFxhyvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxMDo0NTowNlrOFxoWMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ3ODIwNg==", "bodyText": "Well yeah not a \"Recommendations\" section, but maybe deployment or something that suits it. Just that it doesn't look like a general introduction, but has important points. I don't actually see why we cannot have it in point form. It will increase readability IMO.", "url": "https://github.com/wso2/docs-apim/pull/798#discussion_r387478206", "createdAt": "2020-03-04T06:56:28Z", "author": {"login": "shaniR"}, "path": "en/docs/install-and-setup/perfromance-tuning-and-test-results/tuning-performance.md", "diffHunk": "@@ -1,6 +1,6 @@\n # Tuning Performance\n \n-This section describes some recommended performance tuning configurations to optimize the WSO2 API Manager. It assumes that you have set up the API Manager on Unix/Linux, which is recommended for a production deployment. We also recommend [a distributed API Manager setup]({{base_path}}/install-and-setup/deploying-wso2-api-manager/deployment-patterns/) for most production systems. Out of all components of an API Manager distributed setup, the API Gateway is the most critical, because\u00a0it handles all inbound calls to APIs. Therefore, we recommend you to have at least a 2-node cluster of API Gateways in a distributed setup.\n+This section describes some recommended performance tuning configurations to optimize WSO2 API Manager. It assumes that you have set up the API Manager on Unix/Linux, which is recommended for a production deployment. WSO2 also recommends [a distributed API Manager setup]({{base_path}}/install-and-setup/deploying-wso2-api-manager/deployment-patterns/) for most production systems. Out of all components of an API Manager distributed setup, the API Gateway is the most critical, because\u00a0it handles all inbound calls to APIs. Therefore, WSO2 recommends that you have at least a 2-node cluster of API Gateways in a distributed setup.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk0NDgzNQ=="}, "originalCommit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU4NDY3NA==", "bodyText": "That is not what I meant. This value should be greater than the value specified in worker_thread_keepalive_sec right?", "url": "https://github.com/wso2/docs-apim/pull/798#discussion_r387584674", "createdAt": "2020-03-04T10:43:20Z", "author": {"login": "shaniR"}, "path": "en/docs/install-and-setup/perfromance-tuning-and-test-results/tuning-performance.md", "diffHunk": "@@ -116,25 +118,26 @@ The following diagram shows the communication/network paths that occur when an A\n     If the Key Manager caching is enabled, the calls between the API Gateway and Key Manager are cached. As a result, the Key Manager is not invoked for each API call.\n \n -   **Client call API Gateway + API Gateway call Backend**\n-    For backend communication, the API Manager uses PassThrough transport. This is configured in the `<API-M_HOME>/repository/conf/deployment.toml` file. For more information, see [Configuring passthru properties](https://docs.wso2.com/display/EI650/Tuning+the+HTTP+Transport) in the EI\u00a0documentation. To configure socket timeout value, add following to the `deployment.toml`\n-            ```java\n-             [passthru_http]\n-             http.socket.timeout=180000\n+\n+    For backend communication, the API Manager uses PassThrough transport. This is configured in the `<API-M_HOME>/repository/conf/deployment.toml` file. For more information, see [Configuring passthru properties](https://docs.wso2.com/display/EI650/Tuning+the+HTTP+Transport) in the EI\u00a0documentation. Add the following section to the `deployment.toml` file to configure the Socket timeout value.\n+            ``` java\n+            [passthru_http]\n+            http.socket.timeout=180000", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk0ODE2Mw=="}, "originalCommit": {"oid": "21656b015870353cf39520a553d19d0ab240411f"}, "originalPosition": 147}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU4NTU4Nw==", "bodyText": "is it still a list of user claims? or a list of a particular user's claims?", "url": "https://github.com/wso2/docs-apim/pull/798#discussion_r387585587", "createdAt": "2020-03-04T10:45:06Z", "author": {"login": "shaniR"}, "path": "en/docs/learn/api-gateway/passing-end-user-attributes-to-the-backend/passing-enduser-attributes-to-the-backend-using-jwt.md", "diffHunk": "@@ -125,7 +125,7 @@ if the <code>getClaims</code> method returns <code>{email:user1@wso2.com, gender\n <td><pre><code>apim.jwt.claim_dialect</code></pre></td>\n <td><div class=\"content-wrapper\">\n <p>The dialect URI under which the user's claims are be looked for. Only works with the default value of the <code>apim.jwt.claims_extractor_impl</code> element defined above.</p>\n-<p>The JWT token contains all claims define in the <code>apim.jwt.claim_dialect</code> element. The default value of this element is <code>http://wso2.org/claims</code>. To get a list of users to be included in the JWT, simply uncomment this element after enabling the JWT. It will include all claims in <code>http://wso2.org/claims</code> to the JWT token.</p>\n+<p>The JWT token contains all claims that are defined in the <code>apim.jwt.claim_dialect</code> element. The default value of this element is <code>http://wso2.org/claims</code>. To get a list of user claims to be included in the JWT, simply uncomment this element after enabling the JWT. It will include all claims in <code>http://wso2.org/claims</code> to the JWT token.</p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad35368762f90e93da8563604b42628e902ea243"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2c420afb90302c4d2f7cdfcba6653e538abcf0a", "author": {"user": {"login": "Mariangela", "name": "Mariangela Hills"}}, "url": "https://github.com/wso2/docs-apim/commit/b2c420afb90302c4d2f7cdfcba6653e538abcf0a", "committedDate": "2020-03-04T11:03:22Z", "message": "Updated based on PR review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7554bc2eb4e58f59fa40bf8df0f43fe9e5b78b7b", "author": {"user": {"login": "Mariangela", "name": "Mariangela Hills"}}, "url": "https://github.com/wso2/docs-apim/commit/7554bc2eb4e58f59fa40bf8df0f43fe9e5b78b7b", "committedDate": "2020-03-04T12:19:18Z", "message": "Updated based on discussion with Bhathiya and Shani on PR comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4NzQxMTY0", "url": "https://github.com/wso2/docs-apim/pull/798#pullrequestreview-368741164", "createdAt": "2020-03-04T12:36:42Z", "commit": {"oid": "7554bc2eb4e58f59fa40bf8df0f43fe9e5b78b7b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1950, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}