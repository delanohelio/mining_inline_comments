{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3MjEwNTAy", "number": 1075, "title": "Modify the docs on scope schemes", "bodyText": "[Please don\u2019t  merge  Until WUM fix is released]\nPurpose\nChange the description of adding oauth2 scopes using an open API swagger definition.\nGoals\nFixes: wso2/product-apim-tooling#271\nApproach\nPreviously it stated that name of the security scheme when adding scopes should be \"default\". But with the newest fix, this name can be an arbitrary one. This will state that change in docs.\nWhen adding user roles for scopes there is the standard keyword to use. That also stated in here.\n\nUser stories\nUsers can follow the steps to create API using Swagger definition without changing the name of the security scheme.", "createdAt": "2020-04-22T10:52:56Z", "url": "https://github.com/wso2/docs-apim/pull/1075", "merged": true, "mergeCommit": {"oid": "b721aede645d79f4ad14d97d0033083f665db6d5"}, "closed": true, "closedAt": "2020-06-01T08:52:32Z", "author": {"login": "Chamindu36"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcaGDwngH2gAyNDA3MjEwNTAyOjU1YjllNmI4ZTYxYWZiMTNlYmZhNDJmNGMwMzRhYjI1NDc2ZGUyZmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcm8NqhAH2gAyNDA3MjEwNTAyOjMwZWQzNTg1M2VkMmE5NmQ3ZDY4MWRjYzRkZmM3YTIwYmIyYmFhMjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "55b9e6b8e61afb13ebfa42f4c034ab25476de2ff", "author": {"user": {"login": "Chamindu36", "name": "Chamindu Udakara"}}, "url": "https://github.com/wso2/docs-apim/commit/55b9e6b8e61afb13ebfa42f4c034ab25476de2ff", "committedDate": "2020-04-22T10:51:39Z", "message": "Modify the docs on scope schemes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNjI1NTI4", "url": "https://github.com/wso2/docs-apim/pull/1075#pullrequestreview-421625528", "createdAt": "2020-06-01T06:45:11Z", "commit": {"oid": "55b9e6b8e61afb13ebfa42f4c034ab25476de2ff"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNjo0NToxMVrOGdAXBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNjo0NToxMVrOGdAXBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzA2Nzc4MQ==", "bodyText": "Let's edit as below.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            First you need to define the scope name (\"read\") under `security > default` section inside the required resource and then define the role binding under the `securitySchemes` section. You can use any preferred name as the security scheme.", "url": "https://github.com/wso2/docs-apim/pull/1075#discussion_r433067781", "createdAt": "2020-06-01T06:45:11Z", "author": {"login": "npamudika"}, "path": "en/docs/learn/api-controller/importing-apis-via-dev-first-approach.md", "diffHunk": "@@ -129,14 +129,14 @@ WSO2 API Controller, **apictl** allows to create and deploy APIs without using W\n                             implicit: \n                             authorizationUrl: \"https://test.com\"\n                             scopes: \n-                                products:read: \"\"\n+                                read: \"\"\n                             x-scopes-bindings: \n-                                products:read: \"admin\"\n+                                read: \"admin\"\n                 ```\n \n-            First you need to define the scope name (products:read) under `security > default` section inside the required resource and then define the role binding under the `securitySchemes` section.\n+            First you need to define the scope name (\"read\") under `security > default` section inside the required resource and then define the role binding under the `securitySchemes` section. You can use your choice of name as the security scheme.\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55b9e6b8e61afb13ebfa42f4c034ab25476de2ff"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNjI2NjYy", "url": "https://github.com/wso2/docs-apim/pull/1075#pullrequestreview-421626662", "createdAt": "2020-06-01T06:48:13Z", "commit": {"oid": "55b9e6b8e61afb13ebfa42f4c034ab25476de2ff"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNjo0ODoxNFrOGdAahw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNjo0ODoxNFrOGdAahw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzA2ODY3OQ==", "bodyText": "Shall we edit like this?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            Make sure to set the security type as **`oauth2`** when defining the scopes. Also when defining the roles under a particular scope, put them under **x-scopes-bindings:**  as a scope name and roles mapping.", "url": "https://github.com/wso2/docs-apim/pull/1075#discussion_r433068679", "createdAt": "2020-06-01T06:48:14Z", "author": {"login": "npamudika"}, "path": "en/docs/learn/api-controller/importing-apis-via-dev-first-approach.md", "diffHunk": "@@ -129,14 +129,14 @@ WSO2 API Controller, **apictl** allows to create and deploy APIs without using W\n                             implicit: \n                             authorizationUrl: \"https://test.com\"\n                             scopes: \n-                                products:read: \"\"\n+                                read: \"\"\n                             x-scopes-bindings: \n-                                products:read: \"admin\"\n+                                read: \"admin\"\n                 ```\n \n-            First you need to define the scope name (products:read) under `security > default` section inside the required resource and then define the role binding under the `securitySchemes` section.\n+            First you need to define the scope name (\"read\") under `security > default` section inside the required resource and then define the role binding under the `securitySchemes` section. You can use your choice of name as the security scheme.\n \n-            Make sure to set the security name as **`default`** when defining the scopes.        \n+            Make sure to set the security type as **`oauth2`** when defining the scopes and when defining roles under a particular scope make sure that roles are include in **x-scopes-bindings:**  then scope name and the role permitted by the scope.          \n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55b9e6b8e61afb13ebfa42f4c034ab25476de2ff"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e08c635e252d639df36a1a5da77f64a38ebd957", "author": {"user": {"login": "Chamindu36", "name": "Chamindu Udakara"}}, "url": "https://github.com/wso2/docs-apim/commit/8e08c635e252d639df36a1a5da77f64a38ebd957", "committedDate": "2020-06-01T07:23:25Z", "message": "Providing suggested changes."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNjc4Nzkz", "url": "https://github.com/wso2/docs-apim/pull/1075#pullrequestreview-421678793", "createdAt": "2020-06-01T08:34:11Z", "commit": {"oid": "8e08c635e252d639df36a1a5da77f64a38ebd957"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30ed35853ed2a96d7d681dcc4dfc7a20bb2baa27", "author": {"user": {"login": "Chamindu36", "name": "Chamindu Udakara"}}, "url": "https://github.com/wso2/docs-apim/commit/30ed35853ed2a96d7d681dcc4dfc7a20bb2baa27", "committedDate": "2020-06-01T08:44:26Z", "message": "Merge branch 'master' into scope_Fix-master"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1872, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}