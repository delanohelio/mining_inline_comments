{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2MjMzMjkw", "number": 948, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMDo0MTozNlrODtDH1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMDo0Njo0MFrODtDOhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4NTYzNjY4OnYy", "diffSide": "RIGHT", "path": "en/docs/learn/api-security/oauth2/grant-types/authorization-code-grant.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMDo0MTozNlrOF-Pt5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMDo1NTowM1rOF-QJTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDgxMzU0Mw==", "bodyText": "Shall we replace it with basepath?", "url": "https://github.com/wso2/docs-apim/pull/948#discussion_r400813543", "createdAt": "2020-03-31T10:41:36Z", "author": {"login": "vithu30"}, "path": "en/docs/learn/api-security/oauth2/grant-types/authorization-code-grant.md", "diffHunk": "@@ -2,53 +2,59 @@\n \n Instead of requesting authorization directly from the resource owner (resource owner's credentials), in this grant type, the client directs the resource owner to an authorization server. The\u00a0authorization server works as an\u00a0intermediary between the client and resource owner to issues an authorization code, authenticate the resource owner and obtain authorization. As this is a redirection-based flow, the client must be capable of interacting with the resource owner's user-agent (typically a Web browser) and receiving incoming requests (via redirection) from the authorization server.\n \n+#### Flow\n+\n The client initiates the flow by directing the resource owner's user-agent to the authorization endpoint (you can use the `/authorize` endpoint for the authorization code grant type of OAuth 2.0). It includes the client identifier, response\\_type, requested scope, and a redirection URI to which the authorization server sends the user-agent back after granting access. The authorization server authenticates the resource owner (via the user-agent) and establishes whether the resource owner granted or denied the client's access request. Assuming the resource owner grants access, the authorization server then redirects the user-agent back to the client using the redirection URI provided earlier. The redirection URI includes an authorization code.\n \n The client then requests an access token from the authorization server's `/token` endpoint by including the authorization code received in the previous step. When making the request, the client authenticates with the authorization server. It then includes the redirection URI used to obtain the authorization code for verification. The authorization server authenticates the client, validates the authorization code, and ensures that the redirection URI matches the URI used to redirect the client from the /authorize endpoint in the previous response. If valid, the authorization server responds back with an access token and, optionally, a refresh token.\n \n+The diagram below depicts the flow of Authorization Code Grant :\n+\n+![](../../../../assets/img/learn/oauth-authorization-code-grant-diagram.png)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3a62693d5b516e4b83c077605d290a099909ca1"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDgyMDU1Ng==", "bodyText": "fixed with 34f4e03", "url": "https://github.com/wso2/docs-apim/pull/948#discussion_r400820556", "createdAt": "2020-03-31T10:55:03Z", "author": {"login": "Meruja"}, "path": "en/docs/learn/api-security/oauth2/grant-types/authorization-code-grant.md", "diffHunk": "@@ -2,53 +2,59 @@\n \n Instead of requesting authorization directly from the resource owner (resource owner's credentials), in this grant type, the client directs the resource owner to an authorization server. The\u00a0authorization server works as an\u00a0intermediary between the client and resource owner to issues an authorization code, authenticate the resource owner and obtain authorization. As this is a redirection-based flow, the client must be capable of interacting with the resource owner's user-agent (typically a Web browser) and receiving incoming requests (via redirection) from the authorization server.\n \n+#### Flow\n+\n The client initiates the flow by directing the resource owner's user-agent to the authorization endpoint (you can use the `/authorize` endpoint for the authorization code grant type of OAuth 2.0). It includes the client identifier, response\\_type, requested scope, and a redirection URI to which the authorization server sends the user-agent back after granting access. The authorization server authenticates the resource owner (via the user-agent) and establishes whether the resource owner granted or denied the client's access request. Assuming the resource owner grants access, the authorization server then redirects the user-agent back to the client using the redirection URI provided earlier. The redirection URI includes an authorization code.\n \n The client then requests an access token from the authorization server's `/token` endpoint by including the authorization code received in the previous step. When making the request, the client authenticates with the authorization server. It then includes the redirection URI used to obtain the authorization code for verification. The authorization server authenticates the client, validates the authorization code, and ensures that the redirection URI matches the URI used to redirect the client from the /authorize endpoint in the previous response. If valid, the authorization server responds back with an access token and, optionally, a refresh token.\n \n+The diagram below depicts the flow of Authorization Code Grant :\n+\n+![](../../../../assets/img/learn/oauth-authorization-code-grant-diagram.png)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDgxMzU0Mw=="}, "originalCommit": {"oid": "a3a62693d5b516e4b83c077605d290a099909ca1"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4NTY1MzgyOnYy", "diffSide": "RIGHT", "path": "en/docs/learn/api-security/oauth2/grant-types/authorization-code-grant.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMDo0Njo0MFrOF-P4EA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMDo1NDo1MVrOF-QI7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDgxNjE0NA==", "bodyText": "I think the file name should be changed as /etc/hosts?", "url": "https://github.com/wso2/docs-apim/pull/948#discussion_r400816144", "createdAt": "2020-03-31T10:46:40Z", "author": {"login": "vithu30"}, "path": "en/docs/learn/api-security/oauth2/grant-types/authorization-code-grant.md", "diffHunk": "@@ -63,52 +69,67 @@ The steps below show how access tokens are generated for the authorization code\n !!! note\n     **Before you begin**\n \n-    The following instructions use the sample playground webapp. For instructions on how to set up the sample webapp, see [Setting up the Sample Webapp](https://is.docs.wso2.com/en/5.9.0/develop/deploying-the-sample-app/) .\n+    The following instructions use the sample playground webapp. For instructions on how to set up the sample webapp, see [Setting up the Sample Webapp](https://is.docs.wso2.com/en/5.9.0/develop/deploying-the-sample-app/).\n \n \n-1.  Log in to the API Developer Portal and create a new application.\n+1.  Open a terminal window and add the following entry to the `/etc/hosts` file of your machine to configure the hostname.\n+    ```\n+    127.0.0.1   wso2is.local\n+    127.0.0.1   localhost.com\n+    ```\n+        \n+    !!!info \"Why is this step needed?\"\n+        Some browsers do not allow you to create cookies for a naked hostname, such as `localhost`. Cookies are required when working with SSO. Therefore, to ensure that the SSO capabilities work as expected in this tutorial, you need to configure the `/etc/host` file as explained in this step.\n+            \n+        The `/etc/host` file is a read-only file. Therefore, you won't be able to edit it by opening the file via a text editor. Instead, edit the file using the terminal commands. For example, use the following command if you are working on a Mac/Linux environment.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3a62693d5b516e4b83c077605d290a099909ca1"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDgyMDQ2MQ==", "bodyText": "fixed with 34f4e03", "url": "https://github.com/wso2/docs-apim/pull/948#discussion_r400820461", "createdAt": "2020-03-31T10:54:51Z", "author": {"login": "Meruja"}, "path": "en/docs/learn/api-security/oauth2/grant-types/authorization-code-grant.md", "diffHunk": "@@ -63,52 +69,67 @@ The steps below show how access tokens are generated for the authorization code\n !!! note\n     **Before you begin**\n \n-    The following instructions use the sample playground webapp. For instructions on how to set up the sample webapp, see [Setting up the Sample Webapp](https://is.docs.wso2.com/en/5.9.0/develop/deploying-the-sample-app/) .\n+    The following instructions use the sample playground webapp. For instructions on how to set up the sample webapp, see [Setting up the Sample Webapp](https://is.docs.wso2.com/en/5.9.0/develop/deploying-the-sample-app/).\n \n \n-1.  Log in to the API Developer Portal and create a new application.\n+1.  Open a terminal window and add the following entry to the `/etc/hosts` file of your machine to configure the hostname.\n+    ```\n+    127.0.0.1   wso2is.local\n+    127.0.0.1   localhost.com\n+    ```\n+        \n+    !!!info \"Why is this step needed?\"\n+        Some browsers do not allow you to create cookies for a naked hostname, such as `localhost`. Cookies are required when working with SSO. Therefore, to ensure that the SSO capabilities work as expected in this tutorial, you need to configure the `/etc/host` file as explained in this step.\n+            \n+        The `/etc/host` file is a read-only file. Therefore, you won't be able to edit it by opening the file via a text editor. Instead, edit the file using the terminal commands. For example, use the following command if you are working on a Mac/Linux environment.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDgxNjE0NA=="}, "originalCommit": {"oid": "a3a62693d5b516e4b83c077605d290a099909ca1"}, "originalPosition": 94}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1963, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}