{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4OTcwMDU5", "number": 619, "title": "Changing to Oracle RAC doc update", "bodyText": "Changing to Oracle RAC\n\nUpdate doc\nfix #618", "createdAt": "2020-01-03T12:15:58Z", "url": "https://github.com/wso2/docs-apim/pull/619", "merged": true, "mergeCommit": {"oid": "56f7a3db5ef41b6d68e19b0cf8ac9dbee9bf55c3"}, "closed": true, "closedAt": "2020-01-06T04:42:58Z", "author": {"login": "renuka-fernando"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb2tQuRAH2gAyMzU4OTcwMDU5OjFhYjk0MWNmZmMxOTVjZGY2MTM4OTY5YTdjOWMzNGY4Y2I0YmFiNzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb3kphdAFqTMzODQ2NTg5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1ab941cffc195cdf6138969a7c9c34f8cb4bab72", "author": {"user": {"login": "renuka-fernando", "name": "Renuka Piyumal Fernando"}}, "url": "https://github.com/wso2/docs-apim/commit/1ab941cffc195cdf6138969a7c9c34f8cb4bab72", "committedDate": "2020-01-03T12:10:50Z", "message": "update \"Changing to Oracle RAC\" documentation\nwso2/docs-apim#618"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NDYyNTc0", "url": "https://github.com/wso2/docs-apim/pull/619#pullrequestreview-338462574", "createdAt": "2020-01-06T04:19:23Z", "commit": {"oid": "1ab941cffc195cdf6138969a7c9c34f8cb4bab72"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQwNDoxOToyM1rOFaVJ4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQwNDoxOToyM1rOFaVJ4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzE1Mzg5MQ==", "bodyText": "Shall we change the path as <API-M_HOME>/dbscripts?", "url": "https://github.com/wso2/docs-apim/pull/619#discussion_r363153891", "createdAt": "2020-01-06T04:19:23Z", "author": {"login": "npamudika"}, "path": "en/docs/InstallAndSetup/SettingUpDatabases/ChangingDefaultDatabases/changing-to-oracle-rac.md", "diffHunk": "@@ -1,206 +1,162 @@\n-# Setting up Oracle RAC\n+# Changing to Oracle RAC\n \n-The following sections describe how to set up Oracle RAC to replace the default H2 database in your WSO2 product:\n+By default, WSO2 API Manager uses the embedded H2 database as the database for storing user management and registry data. Given below are the steps you need to follow in order to use Oracle RAC for this purpose.\n \n--   [Setting up the database and users](#SettingupOracleRAC-Settingupthedatabaseandusers)\n--   [Setting up the JDBC driver](#SettingupOracleRAC-SettinguptheJDBCdriver)\n+## Setting up Oracle RAC\n \n-Oracle Real Application Clusters (RAC) is an option that facilitates clustering and high availability in Oracle database environments. In the Oracle RAC environment, some of the commands used in `oracle.sql` are considered inefficient. Therefore, the product has a separate SQL script ( `oracle_rac.sql` ) for Oracle RAC. The Oracle RAC-friendly script is located in the `dbscripts` folder together with other `.sql` scripts.\n+The following sections describe how to set up Oracle RAC to replace the default H2 database in your WSO2 product:\n \n-!!! info\n-To test products on Oracle RAC, rename `oracle_rac.sql` to `oracle.sql` before running `-Dsetup` .\n+-   [Setting up the database and users](#setting-up-the-database-and-users)\n+-   [Setting up the drivers](#setting-up-the-drivers)\n+-   [Executing db scripts to create tables on Oracle RAC database](#executing-db-scripts-to-create-tables-on-oracle-rac-database)\n \n+Oracle Real Application Clusters (RAC) is an option that facilitates clustering and high availability in Oracle database environments. In the Oracle RAC environment, some of the commands used in `oracle.sql` are considered inefficient. Therefore, the product has a separate SQL script, `oracle_rac.sql` for Oracle RAC. The Oracle RAC-friendly script is located in the `dbscripts` folder together with other `.sql` scripts.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ab941cffc195cdf6138969a7c9c34f8cb4bab72"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NDYyNzMy", "url": "https://github.com/wso2/docs-apim/pull/619#pullrequestreview-338462732", "createdAt": "2020-01-06T04:20:34Z", "commit": {"oid": "1ab941cffc195cdf6138969a7c9c34f8cb4bab72"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQwNDoyMDozNVrOFaVKUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQwNDoyMDozNVrOFaVKUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzE1NDAwMg==", "bodyText": "Shall we change as \"call it as <API-M_HOME>\"", "url": "https://github.com/wso2/docs-apim/pull/619#discussion_r363154002", "createdAt": "2020-01-06T04:20:35Z", "author": {"login": "npamudika"}, "path": "en/docs/InstallAndSetup/SettingUpDatabases/ChangingDefaultDatabases/changing-to-oracle-rac.md", "diffHunk": "@@ -1,206 +1,162 @@\n-# Setting up Oracle RAC\n+# Changing to Oracle RAC\n \n-The following sections describe how to set up Oracle RAC to replace the default H2 database in your WSO2 product:\n+By default, WSO2 API Manager uses the embedded H2 database as the database for storing user management and registry data. Given below are the steps you need to follow in order to use Oracle RAC for this purpose.\n \n--   [Setting up the database and users](#SettingupOracleRAC-Settingupthedatabaseandusers)\n--   [Setting up the JDBC driver](#SettingupOracleRAC-SettinguptheJDBCdriver)\n+## Setting up Oracle RAC\n \n-Oracle Real Application Clusters (RAC) is an option that facilitates clustering and high availability in Oracle database environments. In the Oracle RAC environment, some of the commands used in `oracle.sql` are considered inefficient. Therefore, the product has a separate SQL script ( `oracle_rac.sql` ) for Oracle RAC. The Oracle RAC-friendly script is located in the `dbscripts` folder together with other `.sql` scripts.\n+The following sections describe how to set up Oracle RAC to replace the default H2 database in your WSO2 product:\n \n-!!! info\n-To test products on Oracle RAC, rename `oracle_rac.sql` to `oracle.sql` before running `-Dsetup` .\n+-   [Setting up the database and users](#setting-up-the-database-and-users)\n+-   [Setting up the drivers](#setting-up-the-drivers)\n+-   [Executing db scripts to create tables on Oracle RAC database](#executing-db-scripts-to-create-tables-on-oracle-rac-database)\n \n+Oracle Real Application Clusters (RAC) is an option that facilitates clustering and high availability in Oracle database environments. In the Oracle RAC environment, some of the commands used in `oracle.sql` are considered inefficient. Therefore, the product has a separate SQL script, `oracle_rac.sql` for Oracle RAC. The Oracle RAC-friendly script is located in the `dbscripts` folder together with other `.sql` scripts.\n \n ### Setting up the database and users\n \n-Follow the steps below to set up an\u00a0Oracle RAC\u00a0database.\n+Follow the steps below to set up an\u00a0Oracle RAC\u00a0database:\n \n-1.  Set environment variables &lt; `ORACLE_HOME>` , `PATH` , `` and `ORACLE_SID` with the corresponding values ( `/oracle/app/oracle/product/11.2.0/dbhome_1` , `$PATH:<ORACLE_HOME>/bin` , and `orcl1` ) as follows:\n-    ![]({{base_path}}/assets/attachments/126562524/126562530.png)2.  Connect to Oracle using SQL\\*Plus as SYSDBA.\n-    ![]({{base_path}}/assets/attachments/126562524/126562542.png)3.  Create a database user and grant privileges to the user as shown below:\n+1.  As SYSDBA, create a database user and grant privileges to the user as shown below:\n \n-    ``` powershell\n-        Create user <USER_NAME> identified by password account unlock;\n-        grant connect to <USER_NAME>;\n-        grant create session, create table, create sequence, create trigger to <USER_NAME>;\n-        alter user <USER_NAME> quota <SPACE_QUOTA_SIZE_IN_MEGABYTES> on '<TABLE_SPACE_NAME>';\n-        commit;\n+    ```sh\n+    CREATE USER '<USER_NAME>' IDENTIFIED BY '<PASSWORD>' ACCOUNT UNLOCK;\n+    GRANT CONNECT TO '<USER_NAME>';\n+    GRANT CREATE SESSION, CREATE TABLE, CREATE SEQUENCE, CREATE TRIGGER, CREATE PROCEDURE TO '<USER_NAME>';\n+    ALTER USER '<USER_NAME'> QUOTA '<SPACE_QUOTA_SIZE_IN_MEGABYTES>' ON '<TABLE_SPACE_NAME>';\n+    GRANT DBA TO '<USER_NAME>';\n+    COMMIT;\n     ```\n \n-4.  Exit from the SQL\\*Plus session by executing the `quit` command.\n+1.  Exit from the session by executing the `quit;` command.\n \n-### Setting up the JDBC driver\n+### Setting up the drivers\n \n Copy the Oracle JDBC libraries (for example, the `<ORACLE_HOME>/jdbc/lib/ojdbc14.jar` file)\u00a0to the `<PRODUCT_HOME>/repository/components/lib/` directory.\n \n-!!! info\n-Remove the old database driver from the `<PRODUCT_HOME>/repository/components/dropins` directory when you upgrade the database driver.\n-\n+1. Unzip the WSO2 API Manager pack. Let's call it `<API-M_HOME>`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ab941cffc195cdf6138969a7c9c34f8cb4bab72"}, "originalPosition": 58}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NDY1NDMy", "url": "https://github.com/wso2/docs-apim/pull/619#pullrequestreview-338465432", "createdAt": "2020-01-06T04:39:29Z", "commit": {"oid": "2c49dea90e2c24ab57b4dbf7c8549ff78be98a05"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQwNDozOTozMFrOFaVTOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQwNDozOTozMFrOFaVTOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzE1NjI4MQ==", "bodyText": "Shall we change like this?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            1. Unzip the WSO2 API Manager pack. Let's call it `<API-M_HOME>`.\n          \n          \n            \n            1. Unzip the WSO2 API Manager pack. Let's call it as `<API-M_HOME>`.", "url": "https://github.com/wso2/docs-apim/pull/619#discussion_r363156281", "createdAt": "2020-01-06T04:39:30Z", "author": {"login": "npamudika"}, "path": "en/docs/InstallAndSetup/SettingUpDatabases/ChangingDefaultDatabases/changing-to-oracle-rac.md", "diffHunk": "@@ -1,206 +1,162 @@\n-# Setting up Oracle RAC\n+# Changing to Oracle RAC\n \n-The following sections describe how to set up Oracle RAC to replace the default H2 database in your WSO2 product:\n+By default, WSO2 API Manager uses the embedded H2 database as the database for storing user management and registry data. Given below are the steps you need to follow in order to use Oracle RAC for this purpose.\n \n--   [Setting up the database and users](#SettingupOracleRAC-Settingupthedatabaseandusers)\n--   [Setting up the JDBC driver](#SettingupOracleRAC-SettinguptheJDBCdriver)\n+## Setting up Oracle RAC\n \n-Oracle Real Application Clusters (RAC) is an option that facilitates clustering and high availability in Oracle database environments. In the Oracle RAC environment, some of the commands used in `oracle.sql` are considered inefficient. Therefore, the product has a separate SQL script ( `oracle_rac.sql` ) for Oracle RAC. The Oracle RAC-friendly script is located in the `dbscripts` folder together with other `.sql` scripts.\n+The following sections describe how to set up Oracle RAC to replace the default H2 database in your WSO2 product:\n \n-!!! info\n-To test products on Oracle RAC, rename `oracle_rac.sql` to `oracle.sql` before running `-Dsetup` .\n+-   [Setting up the database and users](#setting-up-the-database-and-users)\n+-   [Setting up the drivers](#setting-up-the-drivers)\n+-   [Executing db scripts to create tables on Oracle RAC database](#executing-db-scripts-to-create-tables-on-oracle-rac-database)\n \n+Oracle Real Application Clusters (RAC) is an option that facilitates clustering and high availability in Oracle database environments. In the Oracle RAC environment, some of the commands used in `oracle.sql` are considered inefficient. Therefore, the product has a separate SQL script, `oracle_rac.sql` for Oracle RAC. The Oracle RAC-friendly script is located in the `<API-M_HOME>/dbscripts` folder together with other `.sql` scripts.\n \n ### Setting up the database and users\n \n-Follow the steps below to set up an\u00a0Oracle RAC\u00a0database.\n+Follow the steps below to set up an\u00a0Oracle RAC\u00a0database:\n \n-1.  Set environment variables &lt; `ORACLE_HOME>` , `PATH` , `` and `ORACLE_SID` with the corresponding values ( `/oracle/app/oracle/product/11.2.0/dbhome_1` , `$PATH:<ORACLE_HOME>/bin` , and `orcl1` ) as follows:\n-    ![]({{base_path}}/assets/attachments/126562524/126562530.png)2.  Connect to Oracle using SQL\\*Plus as SYSDBA.\n-    ![]({{base_path}}/assets/attachments/126562524/126562542.png)3.  Create a database user and grant privileges to the user as shown below:\n+1.  As SYSDBA, create a database user and grant privileges to the user as shown below:\n \n-    ``` powershell\n-        Create user <USER_NAME> identified by password account unlock;\n-        grant connect to <USER_NAME>;\n-        grant create session, create table, create sequence, create trigger to <USER_NAME>;\n-        alter user <USER_NAME> quota <SPACE_QUOTA_SIZE_IN_MEGABYTES> on '<TABLE_SPACE_NAME>';\n-        commit;\n+    ```sh\n+    CREATE USER '<USER_NAME>' IDENTIFIED BY '<PASSWORD>' ACCOUNT UNLOCK;\n+    GRANT CONNECT TO '<USER_NAME>';\n+    GRANT CREATE SESSION, CREATE TABLE, CREATE SEQUENCE, CREATE TRIGGER, CREATE PROCEDURE TO '<USER_NAME>';\n+    ALTER USER '<USER_NAME'> QUOTA '<SPACE_QUOTA_SIZE_IN_MEGABYTES>' ON '<TABLE_SPACE_NAME>';\n+    GRANT DBA TO '<USER_NAME>';\n+    COMMIT;\n     ```\n \n-4.  Exit from the SQL\\*Plus session by executing the `quit` command.\n-\n-### Setting up the JDBC driver\n+1.  Exit from the session by executing the `quit;` command.\n \n-Copy the Oracle JDBC libraries (for example, the `<ORACLE_HOME>/jdbc/lib/ojdbc14.jar` file)\u00a0to the `<PRODUCT_HOME>/repository/components/lib/` directory.\n+### Setting up the drivers\n \n-!!! info\n-Remove the old database driver from the `<PRODUCT_HOME>/repository/components/dropins` directory when you upgrade the database driver.\n+Copy the Oracle JDBC libraries (for example, the `<ORACLE_HOME>/jdbc/lib/ojdbc14.jar` file)\u00a0to the `<API-M_HOME>/repository/components/lib/` directory.\n \n+1. Unzip the WSO2 API Manager pack. Let's call it `<API-M_HOME>`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c49dea90e2c24ab57b4dbf7c8549ff78be98a05"}, "originalPosition": 59}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef579d597ed624a53917bc454be2b8d355845668", "author": {"user": {"login": "renuka-fernando", "name": "Renuka Piyumal Fernando"}}, "url": "https://github.com/wso2/docs-apim/commit/ef579d597ed624a53917bc454be2b8d355845668", "committedDate": "2020-01-06T04:41:16Z", "message": "fix comment - rename home path to '<API-M_HOME>'\nwso2/docs-apim#618"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2c49dea90e2c24ab57b4dbf7c8549ff78be98a05", "author": {"user": {"login": "renuka-fernando", "name": "Renuka Piyumal Fernando"}}, "url": "https://github.com/wso2/docs-apim/commit/2c49dea90e2c24ab57b4dbf7c8549ff78be98a05", "committedDate": "2020-01-06T04:24:30Z", "message": "fix comment - rename home path to '<API-M_HOME>'\nwso2/docs-apim#618"}, "afterCommit": {"oid": "ef579d597ed624a53917bc454be2b8d355845668", "author": {"user": {"login": "renuka-fernando", "name": "Renuka Piyumal Fernando"}}, "url": "https://github.com/wso2/docs-apim/commit/ef579d597ed624a53917bc454be2b8d355845668", "committedDate": "2020-01-06T04:41:16Z", "message": "fix comment - rename home path to '<API-M_HOME>'\nwso2/docs-apim#618"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NDY1ODkz", "url": "https://github.com/wso2/docs-apim/pull/619#pullrequestreview-338465893", "createdAt": "2020-01-06T04:42:42Z", "commit": {"oid": "ef579d597ed624a53917bc454be2b8d355845668"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1993, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}