{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxOTQ2NTIy", "number": 1025, "title": "Add details on how to add scopes for a resource", "bodyText": "Fixes related to wso2/product-apim-tooling#258", "createdAt": "2020-04-10T15:09:12Z", "url": "https://github.com/wso2/docs-apim/pull/1025", "merged": true, "mergeCommit": {"oid": "a99dbedc265b34a4a883a25f1c029d329d8b0b92"}, "closed": true, "closedAt": "2020-04-15T08:34:42Z", "author": {"login": "npamudika"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWSwPeABqjMyMjIxODI1NTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXz5OMAFqTM5MzU2NTY0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aed55080752747966a6afc2a72fd6283594b6099", "author": {"user": {"login": "npamudika", "name": "Naduni Pamudika"}}, "url": "https://github.com/wso2/docs-apim/commit/aed55080752747966a6afc2a72fd6283594b6099", "committedDate": "2020-04-10T15:07:49Z", "message": "Add details on how to add scopes for a resource"}, "afterCommit": {"oid": "2856b8e0572240a13de4222836bde90fbd65dd03", "author": {"user": {"login": "npamudika", "name": "Naduni Pamudika"}}, "url": "https://github.com/wso2/docs-apim/commit/2856b8e0572240a13de4222836bde90fbd65dd03", "committedDate": "2020-04-10T15:22:39Z", "message": "Add details on how to add scopes for a resource"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNTAzMTA4", "url": "https://github.com/wso2/docs-apim/pull/1025#pullrequestreview-391503108", "createdAt": "2020-04-10T15:27:55Z", "commit": {"oid": "2856b8e0572240a13de4222836bde90fbd65dd03"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNzcxMTc0", "url": "https://github.com/wso2/docs-apim/pull/1025#pullrequestreview-391771174", "createdAt": "2020-04-11T14:32:37Z", "commit": {"oid": "2856b8e0572240a13de4222836bde90fbd65dd03"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMVQxNDozMjozN1rOGENoJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMVQxNDozMjozN1rOGENoJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA3MDc1Ng==", "bodyText": "Should this be indented?", "url": "https://github.com/wso2/docs-apim/pull/1025#discussion_r407070756", "createdAt": "2020-04-11T14:32:37Z", "author": {"login": "malinthaprasan"}, "path": "en/docs/learn/api-controller/importing-apis-via-dev-first-approach.md", "diffHunk": "@@ -86,6 +86,57 @@ WSO2 API Controller, **apictl** allows to create and deploy APIs without using W\n                         `--oas` : Provide an OpenAPI specification file/URL for the API   \n                         `--force` or `-f` : To overwrite directory and create project \n \n+        !!! note\n+            You can define scopes for a resource when defining a Swagger2 or OpenAPI3 specification to generate an API.\n+\n+            !!! example\n+                ```yaml\n+                openapi: 3.0.0\n+                info:\n+                title: Online-Store\n+                version: v1.0.0\n+                description: This API contains operations related to online shopping store.\n+                x-wso2-basePath: /store/{version}\n+                x-wso2-production-endpoints:\n+                urls:\n+                    - http://products\n+                paths:\n+                /products:\n+                    get:\n+                    responses:\n+                        \"200\":\n+                        description: successful operation\n+                /products/{productId}:\n+                    get:\n+                    parameters:\n+                        - name: productId\n+                        in: path\n+                        required: true\n+                        schema:\n+                            type: string\n+                    security: \n+                        - \n+                        default: \n+                            - \"products:read\"\n+                    responses:\n+                        \"200\":\n+                        description: successful operation\n+                components: \n+                securitySchemes: \n+                    default: \n+                    type: \"oauth2\"\n+                    flows: \n+                        implicit: \n+                        authorizationUrl: \"https://test.com\"\n+                        scopes: \n+                            products:read: \"\"\n+                        x-scopes-bindings: \n+                            products:read: \"admin\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2856b8e0572240a13de4222836bde90fbd65dd03"}, "originalPosition": 58}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNzcxMzkx", "url": "https://github.com/wso2/docs-apim/pull/1025#pullrequestreview-391771391", "createdAt": "2020-04-11T14:35:23Z", "commit": {"oid": "2856b8e0572240a13de4222836bde90fbd65dd03"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMVQxNDozNToyNFrOGENpXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMVQxNDozNToyNFrOGENpXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA3MTA2OA==", "bodyText": "Let's remove this line if we fixed wso2/product-apim#7648", "url": "https://github.com/wso2/docs-apim/pull/1025#discussion_r407071068", "createdAt": "2020-04-11T14:35:24Z", "author": {"login": "malinthaprasan"}, "path": "en/docs/learn/api-controller/importing-apis-via-dev-first-approach.md", "diffHunk": "@@ -86,6 +86,57 @@ WSO2 API Controller, **apictl** allows to create and deploy APIs without using W\n                         `--oas` : Provide an OpenAPI specification file/URL for the API   \n                         `--force` or `-f` : To overwrite directory and create project \n \n+        !!! note\n+            You can define scopes for a resource when defining a Swagger2 or OpenAPI3 specification to generate an API.\n+\n+            !!! example\n+                ```yaml\n+                openapi: 3.0.0\n+                info:\n+                title: Online-Store\n+                version: v1.0.0\n+                description: This API contains operations related to online shopping store.\n+                x-wso2-basePath: /store/{version}\n+                x-wso2-production-endpoints:\n+                urls:\n+                    - http://products\n+                paths:\n+                /products:\n+                    get:\n+                    responses:\n+                        \"200\":\n+                        description: successful operation\n+                /products/{productId}:\n+                    get:\n+                    parameters:\n+                        - name: productId\n+                        in: path\n+                        required: true\n+                        schema:\n+                            type: string\n+                    security: \n+                        - \n+                        default: \n+                            - \"products:read\"\n+                    responses:\n+                        \"200\":\n+                        description: successful operation\n+                components: \n+                securitySchemes: \n+                    default: \n+                    type: \"oauth2\"\n+                    flows: \n+                        implicit: \n+                        authorizationUrl: \"https://test.com\"\n+                        scopes: \n+                            products:read: \"\"\n+                        x-scopes-bindings: \n+                            products:read: \"admin\"\n+                ```\n+\n+            First you need to define the scope name (products:read) under `security > default` section inside the required resource and then define the role binding under the `securitySchemes` section.\n+\n+            Make sure to set the security name as **`default`** when defining the scopes.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2856b8e0572240a13de4222836bde90fbd65dd03"}, "originalPosition": 63}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1ec10e51b5ca15bedc89afea454460eeaca89f4", "author": {"user": {"login": "npamudika", "name": "Naduni Pamudika"}}, "url": "https://github.com/wso2/docs-apim/commit/d1ec10e51b5ca15bedc89afea454460eeaca89f4", "committedDate": "2020-04-15T08:10:06Z", "message": "Add details on how to add scopes for a resource"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2856b8e0572240a13de4222836bde90fbd65dd03", "author": {"user": {"login": "npamudika", "name": "Naduni Pamudika"}}, "url": "https://github.com/wso2/docs-apim/commit/2856b8e0572240a13de4222836bde90fbd65dd03", "committedDate": "2020-04-10T15:22:39Z", "message": "Add details on how to add scopes for a resource"}, "afterCommit": {"oid": "d1ec10e51b5ca15bedc89afea454460eeaca89f4", "author": {"user": {"login": "npamudika", "name": "Naduni Pamudika"}}, "url": "https://github.com/wso2/docs-apim/commit/d1ec10e51b5ca15bedc89afea454460eeaca89f4", "committedDate": "2020-04-15T08:10:06Z", "message": "Add details on how to add scopes for a resource"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzNTY1NjQ4", "url": "https://github.com/wso2/docs-apim/pull/1025#pullrequestreview-393565648", "createdAt": "2020-04-15T08:34:00Z", "commit": {"oid": "d1ec10e51b5ca15bedc89afea454460eeaca89f4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1941, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}