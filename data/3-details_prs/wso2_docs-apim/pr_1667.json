{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2MDEzMjg5", "number": 1667, "title": "Add ingress hostname config for Private Jet mode", "bodyText": "Purpose\n\nAdd ingress hostname\nUpdate configs using kubectl patch command\nRemove quotes in replica count field.\n\nAPIM 3.2.0\nDoc preview", "createdAt": "2020-08-11T10:23:36Z", "url": "https://github.com/wso2/docs-apim/pull/1667", "merged": true, "mergeCommit": {"oid": "870f00e10b807933b50cb0985b05bcbaf405ede3"}, "closed": true, "closedAt": "2020-08-12T09:45:51Z", "author": {"login": "renuka-fernando"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-EUEwABqjM2NDYwMDEzNjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-GcaVgFqTQ2NTY2NDE4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "81b62b00002a03105e1aa8b3b127625d02067e52", "author": {"user": {"login": "renuka-fernando", "name": "Renuka Piyumal Fernando"}}, "url": "https://github.com/wso2/docs-apim/commit/81b62b00002a03105e1aa8b3b127625d02067e52", "committedDate": "2020-08-11T10:18:02Z", "message": "Add ingress hostname config for Private Jet mode and apply configs using kubectl patch"}, "afterCommit": {"oid": "4b3116e061e382071537285a4c08c5291f06acad", "author": {"user": {"login": "renuka-fernando", "name": "Renuka Piyumal Fernando"}}, "url": "https://github.com/wso2/docs-apim/commit/4b3116e061e382071537285a4c08c5291f06acad", "committedDate": "2020-08-12T05:09:07Z", "message": "Add ingress hostname config for Private Jet mode and apply configs using kubectl patch"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NjA2OTU3", "url": "https://github.com/wso2/docs-apim/pull/1667#pullrequestreview-465606957", "createdAt": "2020-08-12T05:48:21Z", "commit": {"oid": "4b3116e061e382071537285a4c08c5291f06acad"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNTo0ODoyMVrOG_So8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNTo0ODoyMVrOG_So8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTAxODg2Ng==", "bodyText": "There are extra space lines. Can we remove them?", "url": "https://github.com/wso2/docs-apim/pull/1667#discussion_r469018866", "createdAt": "2020-08-12T05:48:21Z", "author": {"login": "shaniR"}, "path": "en/docs/learn/api-microgateway/deploy-apis-in-privatejet-mode.md", "diffHunk": "@@ -19,15 +19,33 @@ Follow the steps below to enable PrivateJet mode for Microgateways in API Manage\n     \n     i. First install the [Nginx-ingress controller](https://kubernetes.github.io/ingress-nginx/deploy/)\n     \n-    ii. Navigate to the `api-operator/controller-artifacts` directory and set the operatorMode to `ingress` in the **controler_conf.yaml** file.\n+    ii. Change operator mode to `ingress` and set ingress hostname to `\"internal.wso2.com\"`.\n+\n+      ```sh\n+      kubectl patch configmap controller-config -n wso2-system \\\n+          -p '{\"data\":{\"operatorMode\":\"ingress\"}}'\n+      kubectl patch configmap ingress-configs -n wso2-system \\\n+          -p '{\"data\":{\"ingressHostName\":\"internal.wso2.com\"}}'\n+      ```\n         \n+    !!! info \"More Info\"\n+\n+        You can find all configs related to ingress mode in the file **controler_conf.yaml**.\n+        Navigate to the directory `api-operator/controller-artifacts` to find the configuration file.\n+        You can set the `operatorMode`, `ingressHostName` and other configurations in the file.\n+        ```yaml\n         operatorMode: \"ingress\"\n-        \n-    iii. If you have already deployed the operator you have to update operatorMode to `ingress` and apply the changes using following command.\n-    \n+\n+        ingressHostName : \"internal.wso2.com\"\n+        ```\n+\n+        Finally apply the changes using apictl.\n+\n+        ```sh", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b3116e061e382071537285a4c08c5291f06acad"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "febad6cd269da2811fc8d62ac7dd9d446d8515cf", "author": {"user": {"login": "renuka-fernando", "name": "Renuka Piyumal Fernando"}}, "url": "https://github.com/wso2/docs-apim/commit/febad6cd269da2811fc8d62ac7dd9d446d8515cf", "committedDate": "2020-08-12T06:01:06Z", "message": "Add ingress hostname config for Private Jet mode and apply configs using kubectl patch"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b3116e061e382071537285a4c08c5291f06acad", "author": {"user": {"login": "renuka-fernando", "name": "Renuka Piyumal Fernando"}}, "url": "https://github.com/wso2/docs-apim/commit/4b3116e061e382071537285a4c08c5291f06acad", "committedDate": "2020-08-12T05:09:07Z", "message": "Add ingress hostname config for Private Jet mode and apply configs using kubectl patch"}, "afterCommit": {"oid": "febad6cd269da2811fc8d62ac7dd9d446d8515cf", "author": {"user": {"login": "renuka-fernando", "name": "Renuka Piyumal Fernando"}}, "url": "https://github.com/wso2/docs-apim/commit/febad6cd269da2811fc8d62ac7dd9d446d8515cf", "committedDate": "2020-08-12T06:01:06Z", "message": "Add ingress hostname config for Private Jet mode and apply configs using kubectl patch"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MTgzMDM1", "url": "https://github.com/wso2/docs-apim/pull/1667#pullrequestreview-465183035", "createdAt": "2020-08-11T15:29:49Z", "commit": {"oid": "81b62b00002a03105e1aa8b3b127625d02067e52"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxNToyOTo0OVrOG-9Zbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxNTozNToxM1rOG-9ntA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODY3MDgzMA==", "bodyText": "formatting issue ?", "url": "https://github.com/wso2/docs-apim/pull/1667#discussion_r468670830", "createdAt": "2020-08-11T15:29:49Z", "author": {"login": "Shehanir"}, "path": "en/docs/learn/api-microgateway/deploy-apis-in-privatejet-mode.md", "diffHunk": "@@ -19,15 +19,32 @@ Follow the steps below to enable PrivateJet mode for Microgateways in API Manage\n     \n     i. First install the [Nginx-ingress controller](https://kubernetes.github.io/ingress-nginx/deploy/)\n     \n-    ii. Navigate to the `api-operator/controller-artifacts` directory and set the operatorMode to `ingress` in the **controler_conf.yaml** file.\n+    ii. Change operator mode to `ingress` and set ingress hostname to `\"internal.wso2.com\"`.\n+        ```sh", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81b62b00002a03105e1aa8b3b127625d02067e52"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODY3NDQ4NA==", "bodyText": "formatting issue", "url": "https://github.com/wso2/docs-apim/pull/1667#discussion_r468674484", "createdAt": "2020-08-11T15:35:13Z", "author": {"login": "Shehanir"}, "path": "en/docs/learn/api-microgateway/deploy-apis-in-privatejet-mode.md", "diffHunk": "@@ -19,15 +19,32 @@ Follow the steps below to enable PrivateJet mode for Microgateways in API Manage\n     \n     i. First install the [Nginx-ingress controller](https://kubernetes.github.io/ingress-nginx/deploy/)\n     \n-    ii. Navigate to the `api-operator/controller-artifacts` directory and set the operatorMode to `ingress` in the **controler_conf.yaml** file.\n+    ii. Change operator mode to `ingress` and set ingress hostname to `\"internal.wso2.com\"`.\n+        ```sh\n+        kubectl patch configmap controller-config -n wso2-system \\\n+            -p '{\"data\":{\"operatorMode\":\"ingress\"}}'\n+        kubectl patch configmap ingress-configs -n wso2-system \\\n+            -p '{\"data\":{\"ingressHostName\":\"internal.wso2.com\"}}'\n+        ```\n         \n+    !!! info \"More Info\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81b62b00002a03105e1aa8b3b127625d02067e52"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NjY0MTg4", "url": "https://github.com/wso2/docs-apim/pull/1667#pullrequestreview-465664188", "createdAt": "2020-08-12T07:39:51Z", "commit": {"oid": "febad6cd269da2811fc8d62ac7dd9d446d8515cf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1731, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}