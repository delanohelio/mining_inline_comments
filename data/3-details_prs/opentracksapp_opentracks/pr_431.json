{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2MjA5ODQx", "number": 431, "title": "Interval list refactoring", "bodyText": "Following this: #368 (comment)\nI've moved LinearLayout to ListView for intervals.\nAlso I've refactored intervals fragment to delete duplicated code. Previous IntervalsRecordingFragment was a version of IntervalsRecordedFragment. So now we have only one fragment (IntervalsFragment) with a version like an inner class that refresh the intervals using a runnable.\nFinally, intervals adapter now accept two modes:\n\nStack from top: the first item of the list is on the top.\nStack from bottom: the first item of the list is on the bottom (reverse list).", "createdAt": "2020-09-13T17:00:05Z", "url": "https://github.com/OpenTracksApp/OpenTracks/pull/431", "merged": true, "mergeCommit": {"oid": "d1957331b890d8f998269acd3c7badcac93c87ba"}, "closed": true, "closedAt": "2020-09-14T16:31:13Z", "author": {"login": "rgmf"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdIwuSjAFqTQ4NzYyNTM0MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdI1tWeAH2gAyNDg2MjA5ODQxOmM1ZWIxZDNlM2QyMDdhOWQ2YjJiNjdmZGU4MzlmZGUzMjkyZDc1NTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NjI1MzQx", "url": "https://github.com/OpenTracksApp/OpenTracks/pull/431#pullrequestreview-487625341", "createdAt": "2020-09-14T10:34:15Z", "commit": {"oid": "bb4caff059874ca5e5cc9752f7f1e8c254b8eb54"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMDozNDoxNVrOHRNwKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMDozNDoxNVrOHRNwKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzgxMzE2Mw==", "bodyText": "Split over multiple statements.", "url": "https://github.com/OpenTracksApp/OpenTracks/pull/431#discussion_r487813163", "createdAt": "2020-09-14T10:34:15Z", "author": {"login": "dennisguse"}, "path": "src/main/java/de/dennisguse/opentracks/adapters/IntervalStatisticsAdapter.java", "diffHunk": "@@ -48,7 +51,7 @@ public View getView(int position, @Nullable View intervalView, @NonNull ViewGrou\n             viewHolder = (ViewHolder) intervalView.getTag();\n         }\n \n-        sumDistance_m += interval.getDistance_m();\n+        sumDistance_m = actualPosition + 1 == getCount() && actualPosition > 0 ? (actualPosition * getItem(actualPosition - 1).getDistance_m()) + interval.getDistance_m() : (actualPosition + 1) * interval.getDistance_m();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb4caff059874ca5e5cc9752f7f1e8c254b8eb54"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ab34d8af62b08a8f5e6b7163b6c8b3631bdcd0b", "author": {"user": {"login": "rgmf", "name": "Rom\u00e1n Mart\u00ednez"}}, "url": "https://github.com/OpenTracksApp/OpenTracks/commit/1ab34d8af62b08a8f5e6b7163b6c8b3631bdcd0b", "committedDate": "2020-09-14T16:14:59Z", "message": "Intervals refactoring: ListView instead of LinearLayout with a list of views."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97ff76c26ddcf2170baad4f42005cda6941ac4e7", "author": {"user": {"login": "rgmf", "name": "Rom\u00e1n Mart\u00ednez"}}, "url": "https://github.com/OpenTracksApp/OpenTracks/commit/97ff76c26ddcf2170baad4f42005cda6941ac4e7", "committedDate": "2020-09-14T16:14:59Z", "message": "Intervals refactoring: avoid duplication code: IntervalsRecordingFragment is a version of IntervalsFragment."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bb4caff059874ca5e5cc9752f7f1e8c254b8eb54", "author": {"user": {"login": "rgmf", "name": "Rom\u00e1n Mart\u00ednez"}}, "url": "https://github.com/OpenTracksApp/OpenTracks/commit/bb4caff059874ca5e5cc9752f7f1e8c254b8eb54", "committedDate": "2020-09-13T16:50:46Z", "message": "Intervals refactoring: added stack mode to the intervals adapter with two possibilities: stack from top and stack from bottom.\nStack from top for recorded intervals (the first lap in the top).\nStack from bottom for recording intervals (the last lap in the top)."}, "afterCommit": {"oid": "c5eb1d3e3d207a9d6b2b67fde839fde3292d7556", "author": {"user": {"login": "rgmf", "name": "Rom\u00e1n Mart\u00ednez"}}, "url": "https://github.com/OpenTracksApp/OpenTracks/commit/c5eb1d3e3d207a9d6b2b67fde839fde3292d7556", "committedDate": "2020-09-14T16:23:08Z", "message": "Intervals refactoring: added stack mode to the intervals adapter with two possibilities: stack from top and stack from bottom.\nStack from top for recorded intervals (the first lap in the top).\nStack from bottom for recording intervals (the last lap in the top)."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5eb1d3e3d207a9d6b2b67fde839fde3292d7556", "author": {"user": {"login": "rgmf", "name": "Rom\u00e1n Mart\u00ednez"}}, "url": "https://github.com/OpenTracksApp/OpenTracks/commit/c5eb1d3e3d207a9d6b2b67fde839fde3292d7556", "committedDate": "2020-09-14T16:23:08Z", "message": "Intervals refactoring: added stack mode to the intervals adapter with two possibilities: stack from top and stack from bottom.\nStack from top for recorded intervals (the first lap in the top).\nStack from bottom for recording intervals (the last lap in the top)."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2262, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}