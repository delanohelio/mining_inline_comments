{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1ODg2NTg2", "number": 466, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwNjoyNjoxN1rOEvndlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwNjoyNjoxN1rOEvndlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MzY1MDc3OnYy", "diffSide": "RIGHT", "path": "src/main/AndroidManifest.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwNjoyNjoxN1rOHksZdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwODowNzozN1rOHkvy6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODIzODE5OA==", "bodyText": "Why not include BROWSABLE and VIEW here?", "url": "https://github.com/OpenTracksApp/OpenTracks/pull/466#discussion_r508238198", "createdAt": "2020-10-20T06:26:17Z", "author": {"login": "dennisguse"}, "path": "src/main/AndroidManifest.xml", "diffHunk": "@@ -72,34 +72,94 @@ limitations under the License.\n             android:name=\".io.file.importer.ImportActivity\"\n             android:theme=\"@style/ThemeCustomTransparentActivity\">\n \n-            <intent-filter>\n+            <intent-filter\n+                android:label=\"@string/app_name\"\n+                android:priority=\"50\">\n                 <action android:name=\"android.intent.action.VIEW\" />\n                 <category android:name=\"android.intent.category.DEFAULT\" />\n-                <data android:mimeType=\"application/vnd.google-earth.kmz\" />\n-                <data\n-                    android:scheme=\"content\"\n-                    android:host=\"*\"\n-                    android:pathPattern=\"*kmz\" />\n+                <category android:name=\"android.intent.category.BROWSABLE\" />\n+                <data android:scheme=\"file\"/>\n+                <data android:scheme=\"content\"/>\n+                <data android:scheme=\"data\"/>\n+                <data android:host=\"*\"/>\n+                <data android:mimeType=\"*/*\"/>\n+                <data android:pathPattern=\".*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n             </intent-filter>\n \n-            <intent-filter>\n+            <intent-filter\n+                android:label=\"@string/app_name\"\n+                android:priority=\"50\">\n                 <action android:name=\"android.intent.action.VIEW\" />\n                 <category android:name=\"android.intent.category.DEFAULT\" />\n-                <data android:mimeType=\"application/vnd.google-earth.kml+xml\" />\n-                <data\n-                    android:scheme=\"content\"\n-                    android:host=\"*\"\n-                    android:pathPattern=\"*kml\" />\n+                <category android:name=\"android.intent.category.BROWSABLE\" />\n+                <data android:scheme=\"file\"/>\n+                <data android:scheme=\"content\"/>\n+                <data android:scheme=\"data\"/>\n+                <data android:host=\"*\"/>\n+                <data android:pathPattern=\".*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n             </intent-filter>\n \n             <intent-filter>\n+                <action android:name=\"android.intent.action.SEND\"/>\n+                <category android:name=\"android.intent.category.DEFAULT\"/>\n+                <data android:mimeType=\"application/gpx+xml\"/>\n+            </intent-filter>\n+            <intent-filter>\n+                <action android:name=\"android.intent.action.SEND\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8f1abcda96c62dfe99881f36b1903f9ceaaaa56"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODI0ODY4NQ==", "bodyText": "No idea, I don't know what other apps are using. But if it doesn't harm, we could/should add it.\nAnd yes, the whole intent filter thingy from Android is very ugly.", "url": "https://github.com/OpenTracksApp/OpenTracks/pull/466#discussion_r508248685", "createdAt": "2020-10-20T06:49:30Z", "author": {"login": "pstorch"}, "path": "src/main/AndroidManifest.xml", "diffHunk": "@@ -72,34 +72,94 @@ limitations under the License.\n             android:name=\".io.file.importer.ImportActivity\"\n             android:theme=\"@style/ThemeCustomTransparentActivity\">\n \n-            <intent-filter>\n+            <intent-filter\n+                android:label=\"@string/app_name\"\n+                android:priority=\"50\">\n                 <action android:name=\"android.intent.action.VIEW\" />\n                 <category android:name=\"android.intent.category.DEFAULT\" />\n-                <data android:mimeType=\"application/vnd.google-earth.kmz\" />\n-                <data\n-                    android:scheme=\"content\"\n-                    android:host=\"*\"\n-                    android:pathPattern=\"*kmz\" />\n+                <category android:name=\"android.intent.category.BROWSABLE\" />\n+                <data android:scheme=\"file\"/>\n+                <data android:scheme=\"content\"/>\n+                <data android:scheme=\"data\"/>\n+                <data android:host=\"*\"/>\n+                <data android:mimeType=\"*/*\"/>\n+                <data android:pathPattern=\".*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n             </intent-filter>\n \n-            <intent-filter>\n+            <intent-filter\n+                android:label=\"@string/app_name\"\n+                android:priority=\"50\">\n                 <action android:name=\"android.intent.action.VIEW\" />\n                 <category android:name=\"android.intent.category.DEFAULT\" />\n-                <data android:mimeType=\"application/vnd.google-earth.kml+xml\" />\n-                <data\n-                    android:scheme=\"content\"\n-                    android:host=\"*\"\n-                    android:pathPattern=\"*kml\" />\n+                <category android:name=\"android.intent.category.BROWSABLE\" />\n+                <data android:scheme=\"file\"/>\n+                <data android:scheme=\"content\"/>\n+                <data android:scheme=\"data\"/>\n+                <data android:host=\"*\"/>\n+                <data android:pathPattern=\".*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n             </intent-filter>\n \n             <intent-filter>\n+                <action android:name=\"android.intent.action.SEND\"/>\n+                <category android:name=\"android.intent.category.DEFAULT\"/>\n+                <data android:mimeType=\"application/gpx+xml\"/>\n+            </intent-filter>\n+            <intent-filter>\n+                <action android:name=\"android.intent.action.SEND\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODIzODE5OA=="}, "originalCommit": {"oid": "a8f1abcda96c62dfe99881f36b1903f9ceaaaa56"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODI5Mzg2Nw==", "bodyText": "If you include VIEW together SEND a \"Missing URL\" error is gotten. So if we need VIEW and SEND then we have to create two intent-filter (the other solution is even more ugly: add tools:ignore=\"AppLinkUrlError\" attribute to intent-filter).", "url": "https://github.com/OpenTracksApp/OpenTracks/pull/466#discussion_r508293867", "createdAt": "2020-10-20T08:07:37Z", "author": {"login": "rgmf"}, "path": "src/main/AndroidManifest.xml", "diffHunk": "@@ -72,34 +72,94 @@ limitations under the License.\n             android:name=\".io.file.importer.ImportActivity\"\n             android:theme=\"@style/ThemeCustomTransparentActivity\">\n \n-            <intent-filter>\n+            <intent-filter\n+                android:label=\"@string/app_name\"\n+                android:priority=\"50\">\n                 <action android:name=\"android.intent.action.VIEW\" />\n                 <category android:name=\"android.intent.category.DEFAULT\" />\n-                <data android:mimeType=\"application/vnd.google-earth.kmz\" />\n-                <data\n-                    android:scheme=\"content\"\n-                    android:host=\"*\"\n-                    android:pathPattern=\"*kmz\" />\n+                <category android:name=\"android.intent.category.BROWSABLE\" />\n+                <data android:scheme=\"file\"/>\n+                <data android:scheme=\"content\"/>\n+                <data android:scheme=\"data\"/>\n+                <data android:host=\"*\"/>\n+                <data android:mimeType=\"*/*\"/>\n+                <data android:pathPattern=\".*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n             </intent-filter>\n \n-            <intent-filter>\n+            <intent-filter\n+                android:label=\"@string/app_name\"\n+                android:priority=\"50\">\n                 <action android:name=\"android.intent.action.VIEW\" />\n                 <category android:name=\"android.intent.category.DEFAULT\" />\n-                <data android:mimeType=\"application/vnd.google-earth.kml+xml\" />\n-                <data\n-                    android:scheme=\"content\"\n-                    android:host=\"*\"\n-                    android:pathPattern=\"*kml\" />\n+                <category android:name=\"android.intent.category.BROWSABLE\" />\n+                <data android:scheme=\"file\"/>\n+                <data android:scheme=\"content\"/>\n+                <data android:scheme=\"data\"/>\n+                <data android:host=\"*\"/>\n+                <data android:pathPattern=\".*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n+                <data android:pathPattern=\".*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.gpx\" />\n             </intent-filter>\n \n             <intent-filter>\n+                <action android:name=\"android.intent.action.SEND\"/>\n+                <category android:name=\"android.intent.category.DEFAULT\"/>\n+                <data android:mimeType=\"application/gpx+xml\"/>\n+            </intent-filter>\n+            <intent-filter>\n+                <action android:name=\"android.intent.action.SEND\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODIzODE5OA=="}, "originalCommit": {"oid": "a8f1abcda96c62dfe99881f36b1903f9ceaaaa56"}, "originalPosition": 67}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1954, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}