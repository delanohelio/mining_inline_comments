{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2MDQ0Mjg4", "number": 2125, "title": "Fix issue with fragment field type conditions", "bodyText": "When fragment defined on the same type as parent field, don't generate fragment field type conditions otherwise it breaks parsing response for any new type.\nSee original issue for more details.\nNow for cases when fragment is defined on type of parent field we don't generate type conditions:\nquery TestQuery {\n  hero { # hero here has type Character\n    ...HeroDetails\n  }  \n}\n\nfragment HeroDetails on Character {\n   ...\n}\n\nhttps://github.com/apollographql/apollo-android/pull/2125/files#diff-988687da010965f3832fb8c9216ff862\nCloses #2097", "createdAt": "2020-03-31T03:33:41Z", "url": "https://github.com/apollographql/apollo-android/pull/2125", "merged": true, "mergeCommit": {"oid": "d7df9516855088b9e419a91d5a28dad940736a4a"}, "closed": true, "closedAt": "2020-04-03T07:34:19Z", "author": {"login": "sav007"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcS6lgngH2gAyMzk2MDQ0Mjg4OmU5NjFkZjVkODQyZDllZWMwYTc4N2EwYWQ0MWIxZjBkZDFjOTIzNzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcT4enXABqjMxOTQ3MTI1MTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e961df5d842d9eec0a787a0ad41b1f0dd1c92372", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/e961df5d842d9eec0a787a0ad41b1f0dd1c92372", "committedDate": "2020-03-31T03:32:11Z", "message": "Fix issue with fragment field type conditions\n\nWhen fragment defined on the same type as parent field, don't generate fragment field type conditions otherwise it breaks parsing response for any new type.\n\nCloses https://github.com/apollographql/apollo-android/issues/2097"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0NDI1MTc5", "url": "https://github.com/apollographql/apollo-android/pull/2125#pullrequestreview-384425179", "createdAt": "2020-03-31T06:08:14Z", "commit": {"oid": "e961df5d842d9eec0a787a0ad41b1f0dd1c92372"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNjowODoxNFrOF-GlWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNjowOToxMVrOF-Gmwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY2Mzg5Nw==", "bodyText": "It would be good to hold off for the depreciation changes in bug fixes. They are because of Kotlin changes and will make it harder to cherry pick into 1.4.x branch.", "url": "https://github.com/apollographql/apollo-android/pull/2125#discussion_r400663897", "createdAt": "2020-03-31T06:08:14Z", "author": {"login": "tasomaniac"}, "path": "apollo-runtime/src/main/java/com/apollographql/apollo/internal/response/RealResponseReader.java", "diffHunk": "@@ -199,7 +199,7 @@ public RealResponseReader(Operation.Variables operationVariables, R recordSet,\n       resolveDelegate.didResolveNull();\n       result = null;\n     } else {\n-      CustomTypeAdapter<T> typeAdapter = scalarTypeAdapters.adapterFor(field.scalarType());\n+      CustomTypeAdapter<T> typeAdapter = scalarTypeAdapters.adapterFor(field.getScalarType());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e961df5d842d9eec0a787a0ad41b1f0dd1c92372"}, "originalPosition": 107}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY2NDI1OA==", "bodyText": "Just double checking. Is this intentional? I don't really understand what's going on here and Im curious how this works.", "url": "https://github.com/apollographql/apollo-android/pull/2125#discussion_r400664258", "createdAt": "2020-03-31T06:09:11Z", "author": {"login": "tasomaniac"}, "path": "apollo-compiler/src/test/graphql/com/example/simple_fragment/TestQuery.java", "diffHunk": "@@ -360,9 +360,7 @@ public int hashCode() {\n \n       public static final class Mapper implements ResponseFieldMapper<Fragments> {\n         static final ResponseField[] $responseFields = {\n-          ResponseField.forFragment(\"__typename\", \"__typename\", Arrays.<ResponseField.Condition>asList(\n-            ResponseField.Condition.typeCondition(new String[] {\"Human\", \"Droid\"})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e961df5d842d9eec0a787a0ad41b1f0dd1c92372"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "562cef18b29164df031859222f9e3f5751eed0cc", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/562cef18b29164df031859222f9e3f5751eed0cc", "committedDate": "2020-04-03T03:38:35Z", "message": "Feedback"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "13d9220b9da75fc8b86f81481e3b0a988d2061e8", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/13d9220b9da75fc8b86f81481e3b0a988d2061e8", "committedDate": "2020-04-03T03:36:52Z", "message": "Feedback"}, "afterCommit": {"oid": "562cef18b29164df031859222f9e3f5751eed0cc", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/562cef18b29164df031859222f9e3f5751eed0cc", "committedDate": "2020-04-03T03:38:35Z", "message": "Feedback"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3917, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}