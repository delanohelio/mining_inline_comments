{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwNzYxODA0", "number": 1891, "title": "Add support directives to inline fragments", "bodyText": "Address issue with directives with inline fragments\nSimplify and unify code generation for  regular fragments and inline fragments\nAddress issue with fragment serialization in ResponseWriter\n\nCloses #1883", "createdAt": "2020-01-09T04:21:08Z", "url": "https://github.com/apollographql/apollo-android/pull/1891", "merged": true, "mergeCommit": {"oid": "523697634cc204968c5d02ad9bbe4ae941db0349"}, "closed": true, "closedAt": "2020-01-16T04:55:14Z", "author": {"login": "sav007"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb5tlzhAH2gAyMzYwNzYxODA0OmM0YTJmMzcxMzIyYzE1OGY0NjE5NDQzOWQzZDZkZjExNmU1YjJlNzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb6yDG1gH2gAyMzYwNzYxODA0OjM1YzJkYmMwNzY4OTM3YmNiNjRiODNkODEzOGU4NTgxMTE3ZmNiOGU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c4a2f371322c158f46194439d3d6df116e5b2e71", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/c4a2f371322c158f46194439d3d6df116e5b2e71", "committedDate": "2020-01-12T20:15:38Z", "message": "Add support directives to inline fragments\n\n- Address issue with directives with inline fragments\n- Simplify and unify code generation for  regular fragments and inline fragments\n- Address issue with fragment serialization in `ResponseWriter`\n\nCloses https://github.com/apollographql/apollo-android/issues/1883"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3b34ab76907915e1469ce01f8d6c4d3a67be068", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/b3b34ab76907915e1469ce01f8d6c4d3a67be068", "committedDate": "2020-01-12T20:15:38Z", "message": "Fix issue with Java generics"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "357a6c7ab72956d474891172a4890a5101a562b3", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/357a6c7ab72956d474891172a4890a5101a562b3", "committedDate": "2020-01-09T05:48:04Z", "message": "Fix issue with Java generics"}, "afterCommit": {"oid": "b3b34ab76907915e1469ce01f8d6c4d3a67be068", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/b3b34ab76907915e1469ce01f8d6c4d3a67be068", "committedDate": "2020-01-12T20:15:38Z", "message": "Fix issue with Java generics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43b519e9a0694c8cfc37bdd848e5399f0a4eb012", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/43b519e9a0694c8cfc37bdd848e5399f0a4eb012", "committedDate": "2020-01-12T23:09:48Z", "message": "Fix Java fragment codegen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2360d7d5e83e98836de640ec99ed166adbd7a4f", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/e2360d7d5e83e98836de640ec99ed166adbd7a4f", "committedDate": "2020-01-12T23:19:10Z", "message": "Fix read fragment test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d7c4befa02d01e494068cc27d7e0f358d377e44", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/8d7c4befa02d01e494068cc27d7e0f358d377e44", "committedDate": "2020-01-13T01:35:40Z", "message": "Remove unused `FragmentResponseFieldMapper` + fix regular fragment serialization / deserialization codegen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ae25a2f4f696ec67d3f16929415ef7ceff7e098", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/9ae25a2f4f696ec67d3f16929415ef7ceff7e098", "committedDate": "2020-01-13T22:52:48Z", "message": "Update gitignore"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyNDgzMTIy", "url": "https://github.com/apollographql/apollo-android/pull/1891#pullrequestreview-342483122", "createdAt": "2020-01-14T12:04:20Z", "commit": {"oid": "9ae25a2f4f696ec67d3f16929415ef7ceff7e098"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxMjowNDoyMFrOFdVPdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxMjowODoxMVrOFdVVJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjMwMTA0NA==", "bodyText": "typo here.", "url": "https://github.com/apollographql/apollo-android/pull/1891#discussion_r366301044", "createdAt": "2020-01-14T12:04:20Z", "author": {"login": "tasomaniac"}, "path": "apollo-api/src/test/java/com/apollographql/apollo/api/internal/SimpleResponseReaderTest.java", "diffHunk": "@@ -95,7 +95,7 @@\n     }\n   }\n \n-  @Test public void readDouble() {\n+  @Test public void readD1ouble() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ae25a2f4f696ec67d3f16929415ef7ceff7e098"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjMwMjA4NA==", "bodyText": "should this be deleted?", "url": "https://github.com/apollographql/apollo-android/pull/1891#discussion_r366302084", "createdAt": "2020-01-14T12:07:05Z", "author": {"login": "tasomaniac"}, "path": "apollo-compiler/src/main/kotlin/com/apollographql/apollo/compiler/ResponseFieldSpec.kt", "diffHunk": "@@ -212,40 +230,26 @@ class ResponseFieldSpec(\n         READ_METHODS[responseFieldType], fieldParam, readerTypeSpec)\n   }\n \n-  private fun readInlineFragmentCode(readerParam: CodeBlock, fieldParam: CodeBlock): CodeBlock {\n-    val readerTypeSpec = TypeSpec.anonymousClassBuilder(\"\")\n-        .superclass(conditionalResponseFieldReaderType(normalizedFieldSpec.type))\n-        .addMethod(MethodSpec\n-            .methodBuilder(\"read\")\n-            .addModifiers(Modifier.PUBLIC)\n-            .addAnnotation(Override::class.java)\n-            .returns(normalizedFieldSpec.type)\n-            .addParameter(ParameterSpec.builder(String::class.java, CONDITIONAL_TYPE_VAR).build())\n-            .addParameter(RESPONSE_READER_PARAM)\n-            .addStatement(\"return \\$L.map(\\$L)\", (normalizedFieldSpec.type as ClassName).mapperFieldName(),\n-                RESPONSE_READER_PARAM.name)\n-            .build())\n-        .build()\n-    return CodeBlock.of(\"final \\$T \\$L = \\$L.\\$L(\\$L, \\$L);\\n\", normalizedFieldSpec.type, fieldSpec.name,\n-        readerParam, READ_METHODS[responseFieldType], fieldParam, readerTypeSpec)\n-  }\n-\n-  private fun readFragmentsCode(readerParam: CodeBlock, fieldParam: CodeBlock): CodeBlock {\n-    val readerTypeSpec = TypeSpec.anonymousClassBuilder(\"\")\n-        .superclass(conditionalResponseFieldReaderType(FRAGMENTS_CLASS))\n-        .addMethod(MethodSpec\n-            .methodBuilder(\"read\")\n-            .addModifiers(Modifier.PUBLIC)\n-            .addAnnotation(Override::class.java)\n-            .returns(FRAGMENTS_CLASS)\n-            .addParameter(ParameterSpec.builder(String::class.java, CONDITIONAL_TYPE_VAR).build())\n-            .addParameter(RESPONSE_READER_PARAM)\n-            .addStatement(\"return \\$L.map(\\$L, \\$L)\", FRAGMENTS_CLASS.mapperFieldName(),\n-                RESPONSE_READER_PARAM.name, CONDITIONAL_TYPE_VAR)\n-            .build())\n-        .build()\n-    return CodeBlock.of(\"final \\$T \\$L = \\$L.\\$L(\\$L, \\$L);\\n\", normalizedFieldSpec.type, fieldSpec.name,\n-        readerParam, READ_METHODS[responseFieldType], fieldParam, readerTypeSpec)\n+//  private fun readFragmentCode(readerParam: CodeBlock, fieldParam: CodeBlock): CodeBlock {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ae25a2f4f696ec67d3f16929415ef7ceff7e098"}, "originalPosition": 132}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjMwMjUwMQ==", "bodyText": "codestyle: Looks like here, it would be better to put the first param in a new line", "url": "https://github.com/apollographql/apollo-android/pull/1891#discussion_r366302501", "createdAt": "2020-01-14T12:08:11Z", "author": {"login": "tasomaniac"}, "path": "apollo-compiler/src/main/kotlin/com/apollographql/apollo/compiler/SchemaTypeSpecBuilder.kt", "diffHunk": "@@ -433,18 +449,18 @@ class SchemaTypeSpecBuilder(\n   }\n \n   private fun inlineFragmentsResponseMapperSpec(nameOverrideMap: Map<String, String>,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ae25a2f4f696ec67d3f16929415ef7ceff7e098"}, "originalPosition": 137}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35c2dbc0768937bcb64b83d8138e8581117fcb8e", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/35c2dbc0768937bcb64b83d8138e8581117fcb8e", "committedDate": "2020-01-16T04:01:11Z", "message": "Address feedback"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4099, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}