{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0NjAxMjAw", "number": 2365, "title": "[Build scripts] publish on maven central", "bodyText": "Added ./gradlew publishAllPublicationsToOssStaging. OssStaging is the sonatype staging repo, which is used to publish on mavenCentral.\nI just published 2.2.0 there, the artifacts should appear soon the artifacts are on https://repo1.maven.org/maven2/com/apollographql/apollo/\nThe process is still manual for now, I'll automate it for 2.2.1 if 2.2.0 worked well.", "createdAt": "2020-06-15T15:06:30Z", "url": "https://github.com/apollographql/apollo-android/pull/2365", "merged": true, "mergeCommit": {"oid": "37c7698392be986ec07c202301e78704dd21e03f"}, "closed": true, "closedAt": "2020-06-16T11:33:39Z", "author": {"login": "martinbonnin"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrh_VKAH2gAyNDM0NjAxMjAwOjUzYmNiMzI0NTRkNTMwMDJlNTk5MzJiNzJhMjZjNmM4ZjdkOTljMmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrx1CHAFqTQzMTMyMzc3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "53bcb32454d53002e59932b72a26c6c8f7d99c2e", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/53bcb32454d53002e59932b72a26c6c8f7d99c2e", "committedDate": "2020-06-15T15:00:52Z", "message": "add the maven central repo and the signing plugin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4cf21050db8d83fc0304045f35debd06c7af761f", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/4cf21050db8d83fc0304045f35debd06c7af761f", "committedDate": "2020-06-15T15:00:52Z", "message": "fix looking up name and description"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fd2486577f7d80e37d5f4e5de5a617f3828437f", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/5fd2486577f7d80e37d5f4e5de5a617f3828437f", "committedDate": "2020-06-15T15:00:52Z", "message": "fix the packaging and always publish javadoc and sources"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e353b323f69012107262eb62eaf26e37f381c8f0", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/e353b323f69012107262eb62eaf26e37f381c8f0", "committedDate": "2020-06-15T15:00:52Z", "message": "fix publishing of the plugin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNzM1Nzc5", "url": "https://github.com/apollographql/apollo-android/pull/2365#pullrequestreview-430735779", "createdAt": "2020-06-15T15:07:25Z", "commit": {"oid": "e353b323f69012107262eb62eaf26e37f381c8f0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNTowNzoyNVrOGj2a9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNTowNzoyNVrOGj2a9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDI0NDk4MA==", "bodyText": "This is required to not override the default <packaging>pom</packaging> for the plugin marker. If packaging is set to jar, sonatype expects a man jar file and closing the repository fails if not present.", "url": "https://github.com/apollographql/apollo-android/pull/2365#discussion_r440244980", "createdAt": "2020-06-15T15:07:25Z", "author": {"login": "martinbonnin"}, "path": "apollo-gradle-plugin/gradle.properties", "diffHunk": "@@ -1,4 +1,3 @@\n POM_ARTIFACT_ID=apollo-gradle-plugin\n POM_NAME=Apollo Gradle Plugin\n POM_DESCRIPTION=Gradle plugin for generating java/kotlin classes for graphql files\n-POM_PACKAGING=jar", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e353b323f69012107262eb62eaf26e37f381c8f0"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNzM2MDY0", "url": "https://github.com/apollographql/apollo-android/pull/2365#pullrequestreview-430736064", "createdAt": "2020-06-15T15:07:43Z", "commit": {"oid": "e353b323f69012107262eb62eaf26e37f381c8f0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNTowNzo0M1rOGj2bzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNTowNzo0M1rOGj2bzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDI0NTE5Nw==", "bodyText": "Same as above, this is required to not override the default <packaging>klib</packaging> for the plugin marker", "url": "https://github.com/apollographql/apollo-android/pull/2365#discussion_r440245197", "createdAt": "2020-06-15T15:07:43Z", "author": {"login": "martinbonnin"}, "path": "apollo-normalized-cache-sqlite/gradle.properties", "diffHunk": "@@ -1,4 +1,3 @@\n POM_ARTIFACT_ID=apollo-normalized-cache-sqlite\n POM_NAME=Apollo GraphQL SQLite Cache\n POM_DESCRIPTION=Apollo GraphQL SQLite Cache\n-POM_PACKAGING=jar", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e353b323f69012107262eb62eaf26e37f381c8f0"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNzM3NTM3", "url": "https://github.com/apollographql/apollo-android/pull/2365#pullrequestreview-430737537", "createdAt": "2020-06-15T15:09:19Z", "commit": {"oid": "e353b323f69012107262eb62eaf26e37f381c8f0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNTowOToxOVrOGj2f9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNTowOToxOVrOGj2f9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDI0NjI2Mw==", "bodyText": "The scoping was wrong here and the pom properties were always read from the root gradle.properties", "url": "https://github.com/apollographql/apollo-android/pull/2365#discussion_r440246263", "createdAt": "2020-06-15T15:09:19Z", "author": {"login": "martinbonnin"}, "path": "build.gradle.kts", "diffHunk": "@@ -255,8 +249,8 @@ fun Project.configurePublishing() {\n         }\n       }\n \n-      withType<MavenPublication>() {\n-        setDefaultPomFields()\n+      withType<MavenPublication> {\n+        setDefaultPomFields(this)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e353b323f69012107262eb62eaf26e37f381c8f0"}, "originalPosition": 110}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ad9d4f58530727ac12fdd2aea1a184cb529efef", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/9ad9d4f58530727ac12fdd2aea1a184cb529efef", "committedDate": "2020-06-15T15:38:18Z", "message": "add the GPG key to Github actions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "605f23e14e55dc3650597f7e8c2cbaa52b6043ad", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/605f23e14e55dc3650597f7e8c2cbaa52b6043ad", "committedDate": "2020-06-15T18:15:53Z", "message": "trigger a build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13f8134478d138670397dd146a5e95979a10693c", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/13f8134478d138670397dd146a5e95979a10693c", "committedDate": "2020-06-15T20:32:53Z", "message": "do not fail if there is no signing key"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxMzIzNzc5", "url": "https://github.com/apollographql/apollo-android/pull/2365#pullrequestreview-431323779", "createdAt": "2020-06-16T09:28:06Z", "commit": {"oid": "13f8134478d138670397dd146a5e95979a10693c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3845, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}