{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0NDcyMDk0", "number": 1916, "title": "Generate Operation.Data toJson implementation", "bodyText": "Introduce new toJson API to make it easier to serialize Operation.Data response into Json.\nExample of how to dump response data into JSON format:\n  Response<AllPlanetsQuery.Data> response = ...;\n  String json = response.data().toJson(\"  \");\n\nCloses #1881", "createdAt": "2020-01-18T22:26:54Z", "url": "https://github.com/apollographql/apollo-android/pull/1916", "merged": true, "mergeCommit": {"oid": "9de847eb07def2c330ce21457c0b01f318a0e475"}, "closed": true, "closedAt": "2020-01-20T15:17:48Z", "author": {"login": "sav007"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7rAmXAH2gAyMzY0NDcyMDk0OmE2YjY5YjYwMzE1ZTJkZDYwODMxMzk1NDZkZGMyOTM3Zjg0MTM2ZGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8DyuFABqjI5NjE0NTEzODU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a6b69b60315e2dd6083139546ddc2937f84136de", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/a6b69b60315e2dd6083139546ddc2937f84136de", "committedDate": "2020-01-18T22:23:02Z", "message": "Generate Operation.Data toJson implementation\n\nintroduce `toJson` API to make it easier to serialize `Operation.Data` response into Json.\n\nCloses https://github.com/apollographql/apollo-android/issues/1881"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2a8ecd81f1e7eda08f03baf17ddd85add5e5b45", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/b2a8ecd81f1e7eda08f03baf17ddd85add5e5b45", "committedDate": "2020-01-18T22:27:18Z", "message": "Update generated test fixtures"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "da17117ef76428473a446de545183c88c6971c80", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/da17117ef76428473a446de545183c88c6971c80", "committedDate": "2020-01-18T22:23:23Z", "message": "Update generated test fixtures"}, "afterCommit": {"oid": "b2a8ecd81f1e7eda08f03baf17ddd85add5e5b45", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/b2a8ecd81f1e7eda08f03baf17ddd85add5e5b45", "committedDate": "2020-01-18T22:27:18Z", "message": "Update generated test fixtures"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0OTY1OTUz", "url": "https://github.com/apollographql/apollo-android/pull/1916#pullrequestreview-344965953", "createdAt": "2020-01-18T22:37:50Z", "commit": {"oid": "b2a8ecd81f1e7eda08f03baf17ddd85add5e5b45"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOFQyMjozNzo1MFrOFfMWnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOFQyMjozNzo1MFrOFfMWnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI1MjU3Mw==", "bodyText": "Would it make sense to put this first since the other one overloads this function?", "url": "https://github.com/apollographql/apollo-android/pull/1916#discussion_r368252573", "createdAt": "2020-01-18T22:37:50Z", "author": {"login": "tasomaniac"}, "path": "apollo-api/src/main/java/com/apollographql/apollo/api/Operation.java", "diffHunk": "@@ -78,6 +78,59 @@\n      * @return {@link ResponseFieldMarshaller} to serialize operation data\n      */\n     ResponseFieldMarshaller marshaller();\n+\n+    /**\n+     * Serializes GraphQL operation response data into its equivalent Json representation.\n+     * For example:\n+     * <pre>{@code\n+     *    {\n+     *      \"data\": {\n+     *        \"allPlanets\": {\n+     *          \"__typename\": \"PlanetsConnection\",\n+     *          \"planets\": [\n+     *            {\n+     *              \"__typename\": \"Planet\",\n+     *              \"name\": \"Tatooine\",\n+     *              \"surfaceWater\": 1.0\n+     *            }\n+     *          ]\n+     *        }\n+     *      }\n+     *    }\n+     * }</pre>\n+     *\n+     * @param indent the indentation string to be repeated for each level of indentation in the encoded document. Must be a string\n+     * containing only whitespace,\n+     * @param scalarTypeAdapters configured instance of custom GraphQL scalar type adapters\n+     * @return json representation of GraphQL operation response\n+     */\n+    String toJson(@NotNull String indent, @NotNull ScalarTypeAdapters scalarTypeAdapters);\n+\n+    /**\n+     * Serializes GraphQL operation response data into its equivalent Json representation.\n+     * For example:\n+     * <pre>{@code\n+     *    {\n+     *      \"data\": {\n+     *        \"allPlanets\": {\n+     *          \"__typename\": \"PlanetsConnection\",\n+     *          \"planets\": [\n+     *            {\n+     *              \"__typename\": \"Planet\",\n+     *              \"name\": \"Tatooine\",\n+     *              \"surfaceWater\": 1.0\n+     *            }\n+     *          ]\n+     *        }\n+     *      }\n+     *    }\n+     * }</pre>\n+     *\n+     * @param indent the indentation string to be repeated for each level of indentation in the encoded document. Must be a string\n+     * containing only whitespace,\n+     * @return json representation of GraphQL operation response\n+     */\n+    String toJson(@NotNull String indent);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2a8ecd81f1e7eda08f03baf17ddd85add5e5b45"}, "originalPosition": 56}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0OTY2MjE0", "url": "https://github.com/apollographql/apollo-android/pull/1916#pullrequestreview-344966214", "createdAt": "2020-01-18T22:45:46Z", "commit": {"oid": "b2a8ecd81f1e7eda08f03baf17ddd85add5e5b45"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOFQyMjo0NTo0NlrOFfMX2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOFQyMjo0NTo0NlrOFfMX2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI1Mjg5MQ==", "bodyText": "I wonder if there is a way to move this implementation to somewhere we can share so that we don't have to duplicate in every class generated.\nIf we target Java8, then we could use default method implementations.", "url": "https://github.com/apollographql/apollo-android/pull/1916#discussion_r368252891", "createdAt": "2020-01-18T22:45:46Z", "author": {"login": "tasomaniac"}, "path": "apollo-compiler/src/test/graphql/com/example/union_inline_fragments/TestQuery.kt", "diffHunk": "@@ -410,6 +411,14 @@ class TestQuery : Query<TestQuery.Data, TestQuery.Data, Operation.Variables> {\n       }\n     }\n \n+    override fun toJson(indent: String): String = toJson(indent, DEFAULT)\n+\n+    override fun toJson(indent: String, scalarTypeAdapters: ScalarTypeAdapters): String {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2a8ecd81f1e7eda08f03baf17ddd85add5e5b45"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1MDE2MzI2", "url": "https://github.com/apollographql/apollo-android/pull/1916#pullrequestreview-345016326", "createdAt": "2020-01-19T17:52:20Z", "commit": {"oid": "b2a8ecd81f1e7eda08f03baf17ddd85add5e5b45"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ffcf4657c261ce1b2ccd90a4b87845f308f2ada", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/8ffcf4657c261ce1b2ccd90a4b87845f308f2ada", "committedDate": "2020-01-20T02:58:45Z", "message": "Revert \"Update generated test fixtures\"\n\nThis reverts commit b2a8ecd8"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6dd861c71b134a5965a065b93691458e1f746e19", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/6dd861c71b134a5965a065b93691458e1f746e19", "committedDate": "2020-01-20T03:15:14Z", "message": "Revert changes and introduce `OperationDataJsonSerializer` instead"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a28b971cce9f8612c6b096f22b82df06eb90b0e1", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/a28b971cce9f8612c6b096f22b82df06eb90b0e1", "committedDate": "2020-01-20T03:11:50Z", "message": "Revert changes and introduce `OperationDataJsonSerializer` instead"}, "afterCommit": {"oid": "6dd861c71b134a5965a065b93691458e1f746e19", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/6dd861c71b134a5965a065b93691458e1f746e19", "committedDate": "2020-01-20T03:15:14Z", "message": "Revert changes and introduce `OperationDataJsonSerializer` instead"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4006, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}