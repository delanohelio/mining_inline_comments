{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MjA4NjU1", "number": 2054, "title": "Update Okio and Okhttp", "bodyText": "Okio and Okhttp also brings kotlin stdlib dependencies. So I thought it would be a good step towards Kotlin MPP\n\nThis also forces us to use Gradle metadata (must have for Kotlin MPP).\nAnd also for Java 8\nAlso upgraded Gradle and Kotlin\n\nGradle for better Metadata support\nKotlin because 1.3.50 has a bug about metadata", "createdAt": "2020-03-08T00:20:06Z", "url": "https://github.com/apollographql/apollo-android/pull/2054", "merged": true, "mergeCommit": {"oid": "9915dd2ad43b2a4e52dedcd4ba9c81e87bd82f6b"}, "closed": true, "closedAt": "2020-03-10T20:55:09Z", "author": {"login": "tasomaniac"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcLeFEKAFqTM3MDc5NjM1MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMY6O3AFqTM3MjMxNDIxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzk2MzUx", "url": "https://github.com/apollographql/apollo-android/pull/2054#pullrequestreview-370796351", "createdAt": "2020-03-08T00:21:55Z", "commit": {"oid": "5637c20ea5f3caf4e96e8fa2491a60a4a4ce7ed8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMDoyMTo1NVrOFzSYsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMDoyMTo1NVrOFzSYsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMyMjkzMA==", "bodyText": "these were never used since integration tests use the real module instead of latest maven dependency.", "url": "https://github.com/apollographql/apollo-android/pull/2054#discussion_r389322930", "createdAt": "2020-03-08T00:21:55Z", "author": {"login": "tasomaniac"}, "path": "gradle/dependencies.gradle", "diffHunk": "@@ -39,11 +38,9 @@ ext.dep = [\n         runtime: \"org.antlr:antlr4-runtime:$versions.antlr4\",\n     ],\n     apollo                : [\n-        plugin          : \"com.apollographql.apollo:apollo-gradle-plugin:$versions.apollo\",\n-        runtime         : \"com.apollographql.apollo:apollo-runtime:$versions.apollo\",\n-        rx2             : \"com.apollographql.apollo:apollo-rx2-support:$versions.apollo\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5637c20ea5f3caf4e96e8fa2491a60a4a4ce7ed8"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c79888e3666ce933db9f46944abc16d3f073d80", "author": {"user": {"login": "tasomaniac", "name": "Said Tahsin Dane"}}, "url": "https://github.com/apollographql/apollo-android/commit/7c79888e3666ce933db9f46944abc16d3f073d80", "committedDate": "2020-03-08T00:30:19Z", "message": "Update Okio and Okhttp which also brings kotlin stdlib dependencies\n\nThis also forces us to use Gradle metadata (must have for Kotlin MPP).\nAnd also for Java 8"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a7eb066540f274aa70d34c40a9324b66a093f45", "author": {"user": {"login": "tasomaniac", "name": "Said Tahsin Dane"}}, "url": "https://github.com/apollographql/apollo-android/commit/4a7eb066540f274aa70d34c40a9324b66a093f45", "committedDate": "2020-03-08T00:41:04Z", "message": "Also fix deprecations in integration and samples"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5637c20ea5f3caf4e96e8fa2491a60a4a4ce7ed8", "author": {"user": {"login": "tasomaniac", "name": "Said Tahsin Dane"}}, "url": "https://github.com/apollographql/apollo-android/commit/5637c20ea5f3caf4e96e8fa2491a60a4a4ce7ed8", "committedDate": "2020-03-08T00:19:10Z", "message": "Update Okio and Okhttp which also brings kotlin stdlib dependencies\n\nThis also forces us to use Gradle metadata (must have for Kotlin MPP).\nAnd also for Java 8"}, "afterCommit": {"oid": "4a7eb066540f274aa70d34c40a9324b66a093f45", "author": {"user": {"login": "tasomaniac", "name": "Said Tahsin Dane"}}, "url": "https://github.com/apollographql/apollo-android/commit/4a7eb066540f274aa70d34c40a9324b66a093f45", "committedDate": "2020-03-08T00:41:04Z", "message": "Also fix deprecations in integration and samples"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzk3MDg1", "url": "https://github.com/apollographql/apollo-android/pull/2054#pullrequestreview-370797085", "createdAt": "2020-03-08T00:44:47Z", "commit": {"oid": "4a7eb066540f274aa70d34c40a9324b66a093f45"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMDo0NDo0N1rOFzScpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMDo0NDo0N1rOFzScpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMyMzk0Mg==", "bodyText": "Looks like this was never used. And also not published anymore as of OkHttp 4.x", "url": "https://github.com/apollographql/apollo-android/pull/2054#discussion_r389323942", "createdAt": "2020-03-08T00:44:47Z", "author": {"login": "tasomaniac"}, "path": "apollo-runtime/build.gradle.kts", "diffHunk": "@@ -19,7 +19,6 @@ dependencies {\n   add(\"testImplementation\", groovy.util.Eval.x(project, \"x.dep.junit\"))\n   add(\"testImplementation\", groovy.util.Eval.x(project, \"x.dep.truth\"))\n   add(\"testImplementation\", groovy.util.Eval.x(project, \"x.dep.okHttp.mockWebServer\"))\n-  add(\"testImplementation\", groovy.util.Eval.x(project, \"x.dep.okHttp.testSupport\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a7eb066540f274aa70d34c40a9324b66a093f45"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f413fd7396b3de9990c41d25e3262d68c517999c", "author": {"user": {"login": "tasomaniac", "name": "Said Tahsin Dane"}}, "url": "https://github.com/apollographql/apollo-android/commit/f413fd7396b3de9990c41d25e3262d68c517999c", "committedDate": "2020-03-08T00:49:52Z", "message": "Remove unused import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40fb998fc1564cc7e3d13a2861e21a9740ed6b96", "author": {"user": {"login": "tasomaniac", "name": "Said Tahsin Dane"}}, "url": "https://github.com/apollographql/apollo-android/commit/40fb998fc1564cc7e3d13a2861e21a9740ed6b96", "committedDate": "2020-03-08T01:02:23Z", "message": "More deprecation fixes in integration module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "678ceb28f78c4ba5ef3d73eb70567cbd3388653e", "author": {"user": {"login": "tasomaniac", "name": "Said Tahsin Dane"}}, "url": "https://github.com/apollographql/apollo-android/commit/678ceb28f78c4ba5ef3d73eb70567cbd3388653e", "committedDate": "2020-03-08T16:53:12Z", "message": "Revert to Gradle 5.6.4"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce3f708cf1c6be5c0e3e08b6316bee83975b0fc3", "author": {"user": {"login": "tasomaniac", "name": "Said Tahsin Dane"}}, "url": "https://github.com/apollographql/apollo-android/commit/ce3f708cf1c6be5c0e3e08b6316bee83975b0fc3", "committedDate": "2020-03-08T21:56:09Z", "message": "Fix Java8 related issues in tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41f6c625bb7cfedc24ff50030730424cdd05ffea", "author": {"user": {"login": "tasomaniac", "name": "Said Tahsin Dane"}}, "url": "https://github.com/apollographql/apollo-android/commit/41f6c625bb7cfedc24ff50030730424cdd05ffea", "committedDate": "2020-03-09T20:15:17Z", "message": "Also have Java 1.8 on integration module"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxNTk4NzYz", "url": "https://github.com/apollographql/apollo-android/pull/2054#pullrequestreview-371598763", "createdAt": "2020-03-09T23:46:04Z", "commit": {"oid": "41f6c625bb7cfedc24ff50030730424cdd05ffea"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMzo0NjowNFrOFz9ARA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMzo0NjowNFrOFz9ARA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDAyMTE4OA==", "bodyText": "\ud83d\ude80", "url": "https://github.com/apollographql/apollo-android/pull/2054#discussion_r390021188", "createdAt": "2020-03-09T23:46:04Z", "author": {"login": "martinbonnin"}, "path": "gradle/dependencies.gradle", "diffHunk": "@@ -9,13 +9,12 @@ def versions = [\n     javaPoet              : '1.9.0',\n     jetbrainsAnnotations  : '13.0',\n     junit                 : '4.12',\n-    kotlin                : '1.3.50',\n+    kotlin                : '1.3.70',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41f6c625bb7cfedc24ff50030730424cdd05ffea"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxNjAxODEz", "url": "https://github.com/apollographql/apollo-android/pull/2054#pullrequestreview-371601813", "createdAt": "2020-03-09T23:55:41Z", "commit": {"oid": "41f6c625bb7cfedc24ff50030730424cdd05ffea"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMzo1NTo0MVrOFz9K5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMzo1NTo0MVrOFz9K5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDAyMzkxMQ==", "bodyText": "I think this is ok but I guess it's worth double checking and give a warning in release notes if needed. I started a thread over there: #2057", "url": "https://github.com/apollographql/apollo-android/pull/2054#discussion_r390023911", "createdAt": "2020-03-09T23:55:41Z", "author": {"login": "martinbonnin"}, "path": "apollo-android-support/build.gradle.kts", "diffHunk": "@@ -11,8 +11,8 @@ extensions.findByType(BaseExtension::class.java)!!.apply {\n   compileSdkVersion(groovy.util.Eval.x(project, \"x.androidConfig.compileSdkVersion\").toString().toInt())\n \n   compileOptions {\n-    sourceCompatibility = JavaVersion.VERSION_1_7\n-    targetCompatibility = JavaVersion.VERSION_1_7\n+    sourceCompatibility = JavaVersion.VERSION_1_8\n+    targetCompatibility = JavaVersion.VERSION_1_8", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41f6c625bb7cfedc24ff50030730424cdd05ffea"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxNjAzMjEx", "url": "https://github.com/apollographql/apollo-android/pull/2054#pullrequestreview-371603211", "createdAt": "2020-03-10T00:00:04Z", "commit": {"oid": "41f6c625bb7cfedc24ff50030730424cdd05ffea"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwMDowMDowNFrOFz9PsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwMDowMDowNFrOFz9PsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDAyNTEzNw==", "bodyText": "Should this be factored-in the root build.gradle.kts file ? Make sure all sub-projects target JAVA 8 ? Or are Android projects different ?", "url": "https://github.com/apollographql/apollo-android/pull/2054#discussion_r390025137", "createdAt": "2020-03-10T00:00:04Z", "author": {"login": "martinbonnin"}, "path": "apollo-rx2-support/build.gradle.kts", "diffHunk": "@@ -4,8 +4,8 @@ plugins {\n }\n \n java {\n-  targetCompatibility = JavaVersion.VERSION_1_7\n-  sourceCompatibility = JavaVersion.VERSION_1_7\n+  targetCompatibility = JavaVersion.VERSION_1_8\n+  sourceCompatibility = JavaVersion.VERSION_1_8", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41f6c625bb7cfedc24ff50030730424cdd05ffea"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxNjAzOTI5", "url": "https://github.com/apollographql/apollo-android/pull/2054#pullrequestreview-371603929", "createdAt": "2020-03-10T00:02:21Z", "commit": {"oid": "41f6c625bb7cfedc24ff50030730424cdd05ffea"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwMDowMjoyMVrOFz9SSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwMDowMjoyMVrOFz9SSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDAyNTgwMA==", "bodyText": "I was thinking of bumping Gradle to latest version (6.2.2 IIRC). It should be safe to use the latest Gradle version since we have test that check against older versions.", "url": "https://github.com/apollographql/apollo-android/pull/2054#discussion_r390025800", "createdAt": "2020-03-10T00:02:21Z", "author": {"login": "martinbonnin"}, "path": "gradle/wrapper/gradle-wrapper.properties", "diffHunk": "@@ -1,5 +1,5 @@\n distributionBase=GRADLE_USER_HOME\n distributionPath=wrapper/dists\n-distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6-all.zip\n+distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41f6c625bb7cfedc24ff50030730424cdd05ffea"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "475c975d2aa3a3a4117eaa236ba9515873e0b558", "author": {"user": {"login": "tasomaniac", "name": "Said Tahsin Dane"}}, "url": "https://github.com/apollographql/apollo-android/commit/475c975d2aa3a3a4117eaa236ba9515873e0b558", "committedDate": "2020-03-10T19:44:47Z", "message": "Merge branch 'master' into update-okio-okhttp"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ff40ebb5567cbdf1625488cd66acdbf775297f6", "author": {"user": {"login": "tasomaniac", "name": "Said Tahsin Dane"}}, "url": "https://github.com/apollographql/apollo-android/commit/7ff40ebb5567cbdf1625488cd66acdbf775297f6", "committedDate": "2020-03-10T20:11:56Z", "message": "Move all Java source/target version into central place"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyMzA2MTM4", "url": "https://github.com/apollographql/apollo-android/pull/2054#pullrequestreview-372306138", "createdAt": "2020-03-10T20:42:32Z", "commit": {"oid": "7ff40ebb5567cbdf1625488cd66acdbf775297f6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyMzE0MTY0", "url": "https://github.com/apollographql/apollo-android/pull/2054#pullrequestreview-372314164", "createdAt": "2020-03-10T20:54:26Z", "commit": {"oid": "7ff40ebb5567cbdf1625488cd66acdbf775297f6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQyMDo1NDoyNlrOF0gnhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQyMDo1NDoyNlrOF0gnhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYwNDY3OQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/apollographql/apollo-android/pull/2054#discussion_r390604679", "createdAt": "2020-03-10T20:54:26Z", "author": {"login": "martinbonnin"}, "path": "build.gradle.kts", "diffHunk": "@@ -56,6 +53,21 @@ subprojects {\n       google()\n     }\n   }\n+\n+  plugins.withType(com.android.build.gradle.BasePlugin::class.java) {\n+    extension.compileOptions {\n+      sourceCompatibility = JavaVersion.VERSION_1_8\n+      targetCompatibility = JavaVersion.VERSION_1_8\n+    }\n+  }\n+\n+  plugins.withType(org.gradle.api.plugins.JavaPlugin::class.java) {\n+    extensions.configure(JavaPluginExtension::class.java) {\n+      sourceCompatibility = JavaVersion.VERSION_1_8\n+      targetCompatibility = JavaVersion.VERSION_1_8\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ff40ebb5567cbdf1625488cd66acdbf775297f6"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyMzE0MjEx", "url": "https://github.com/apollographql/apollo-android/pull/2054#pullrequestreview-372314211", "createdAt": "2020-03-10T20:54:30Z", "commit": {"oid": "7ff40ebb5567cbdf1625488cd66acdbf775297f6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4080, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}