{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg4NzY1OTYz", "number": 2070, "title": "Add iOS targets to API module", "bodyText": "Refactor couple classes to make easier to add support for iOS targets\nProvide iOS implementations of expected classes", "createdAt": "2020-03-15T17:08:33Z", "url": "https://github.com/apollographql/apollo-android/pull/2070", "merged": true, "mergeCommit": {"oid": "58e17b960fdc181d04d904b616a80e80bb8ff453"}, "closed": true, "closedAt": "2020-03-16T14:46:11Z", "author": {"login": "sav007"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcN8qncgH2gAyMzg4NzY1OTYzOmZmOWNhMThiNTllNjRmZGY1MmI0ZjRkNzdiNDI5YWU1MWI0ZjJmNDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOHcMQgH2gAyMzg4NzY1OTYzOjJmMzEwZTQ3NDQ5MWVhMWMyZTdkODM4MWMxZWI4MTE4ZDJmZDhmN2Q=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ff9ca18b59e64fdf52b4f4d77b429ae51b4f2f42", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/ff9ca18b59e64fdf52b4f4d77b429ae51b4f2f42", "committedDate": "2020-03-15T17:07:57Z", "message": "Add iOS targets to API module\n\n- Refactor couple classes to make easier to add support for iOS targets\n- Provide iOS implementations of expected classes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0ODE2ODI1", "url": "https://github.com/apollographql/apollo-android/pull/2070#pullrequestreview-374816825", "createdAt": "2020-03-15T17:11:35Z", "commit": {"oid": "ff9ca18b59e64fdf52b4f4d77b429ae51b4f2f42"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQxNzoxMTozNVrOF2gGBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQxNzoxMTozNVrOF2gGBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY5MzI1NA==", "bodyText": "Changing from File to String would be additional binary incompatible change. Are we ok with that?", "url": "https://github.com/apollographql/apollo-android/pull/2070#discussion_r392693254", "createdAt": "2020-03-15T17:11:35Z", "author": {"login": "tasomaniac"}, "path": "apollo-api/src/commonMain/kotlin/com/apollographql/apollo/api/FileUpload.kt", "diffHunk": "@@ -1,5 +1,19 @@\n package com.apollographql.apollo.api\n \n-expect class FileUpload constructor(mimetype: String, file: File) {\n-  val mimetype: String\n+class FileUpload(val mimetype: String, val filePath: String) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff9ca18b59e64fdf52b4f4d77b429ae51b4f2f42"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ee4de1775fde730db6988d0a966d832011601ae9", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/ee4de1775fde730db6988d0a966d832011601ae9", "committedDate": "2020-03-15T18:22:55Z", "message": "Fix build"}, "afterCommit": {"oid": "87cdb8495ee80520db440e15839b352e75daf19d", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/87cdb8495ee80520db440e15839b352e75daf19d", "committedDate": "2020-03-15T18:38:58Z", "message": "Fix build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25dee1ad757c1124f9a21cecfa1d3b527541d0cf", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/25dee1ad757c1124f9a21cecfa1d3b527541d0cf", "committedDate": "2020-03-15T19:20:29Z", "message": "Fix build"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "87cdb8495ee80520db440e15839b352e75daf19d", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/87cdb8495ee80520db440e15839b352e75daf19d", "committedDate": "2020-03-15T18:38:58Z", "message": "Fix build"}, "afterCommit": {"oid": "25dee1ad757c1124f9a21cecfa1d3b527541d0cf", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/25dee1ad757c1124f9a21cecfa1d3b527541d0cf", "committedDate": "2020-03-15T19:20:29Z", "message": "Fix build"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0ODQyMDQz", "url": "https://github.com/apollographql/apollo-android/pull/2070#pullrequestreview-374842043", "createdAt": "2020-03-15T22:49:10Z", "commit": {"oid": "25dee1ad757c1124f9a21cecfa1d3b527541d0cf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0ODUwODcx", "url": "https://github.com/apollographql/apollo-android/pull/2070#pullrequestreview-374850871", "createdAt": "2020-03-16T00:15:41Z", "commit": {"oid": "25dee1ad757c1124f9a21cecfa1d3b527541d0cf"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwMDoxNTo0MVrOF2iX-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwMDoyMToxMFrOF2iaIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjczMDYxNw==", "bodyText": "Totally optional but is it worth making this iOSTarget so it's easier to parse visually? I think I'm fine with iosTargets below but the uppercase here threw me off", "url": "https://github.com/apollographql/apollo-android/pull/2070#discussion_r392730617", "createdAt": "2020-03-16T00:15:41Z", "author": {"login": "designatednerd"}, "path": "apollo-api/build.gradle.kts", "diffHunk": "@@ -4,6 +4,21 @@ plugins {\n }\n \n kotlin {\n+  data class IosTarget(val name: String, val preset: String, val id: String)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25dee1ad757c1124f9a21cecfa1d3b527541d0cf"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjczMDk4Mg==", "bodyText": "FWIW, there is a graphQL multi-part request spec that's mostly intended to handle Upload types.\nHowever as Apollo we only recommend it for proof-of-concept and recommend only sending the URL the file was uploaded to via GraphQL in most normal cases.", "url": "https://github.com/apollographql/apollo-android/pull/2070#discussion_r392730982", "createdAt": "2020-03-16T00:19:18Z", "author": {"login": "designatednerd"}, "path": "apollo-api/src/commonMain/kotlin/com/apollographql/apollo/api/FileUpload.kt", "diffHunk": "@@ -1,5 +1,19 @@\n package com.apollographql.apollo.api\n \n-expect class FileUpload constructor(mimetype: String, file: File) {\n-  val mimetype: String\n+class FileUpload(val mimetype: String, val filePath: String) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY5MzI1NA=="}, "originalCommit": {"oid": "ff9ca18b59e64fdf52b4f4d77b429ae51b4f2f42"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjczMTA5Nw==", "bodyText": "Will Kotlin not auto-generate hashCode for MPP stuff?", "url": "https://github.com/apollographql/apollo-android/pull/2070#discussion_r392731097", "createdAt": "2020-03-16T00:20:28Z", "author": {"login": "designatednerd"}, "path": "apollo-api/src/commonMain/kotlin/com/apollographql/apollo/api/FileUpload.kt", "diffHunk": "@@ -1,5 +1,19 @@\n package com.apollographql.apollo.api\n \n-expect class FileUpload constructor(mimetype: String, file: File) {\n-  val mimetype: String\n+class FileUpload(val mimetype: String, val filePath: String) {\n+  override fun equals(other: Any?): Boolean {\n+    if (this === other) return true\n+    if (other !is FileUpload) return false\n+\n+    if (mimetype != other.mimetype) return false\n+    if (filePath != other.filePath) return false\n+\n+    return true\n+  }\n+\n+  override fun hashCode(): Int {\n+    var result = mimetype.hashCode()\n+    result = 31 * result + filePath.hashCode()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25dee1ad757c1124f9a21cecfa1d3b527541d0cf"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjczMTE3MQ==", "bodyText": "Is this something you really want to crash on if it's not working?", "url": "https://github.com/apollographql/apollo-android/pull/2070#discussion_r392731171", "createdAt": "2020-03-16T00:21:10Z", "author": {"login": "designatednerd"}, "path": "apollo-api/src/commonMain/kotlin/com/apollographql/apollo/api/internal/json/ResponseJsonStreamReader.kt", "diffHunk": "@@ -104,7 +104,7 @@ open class ResponseJsonStreamReader(\n     return when {\n       isNextNull -> skipNext().let { null }\n       isNextBoolean -> nextBoolean(false)\n-      isNextNumber -> BigDecimal(nextString(false))\n+      isNextNumber -> BigDecimal(nextString(false)!!)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25dee1ad757c1124f9a21cecfa1d3b527541d0cf"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f310e474491ea1c2e7d8381c1eb8118d2fd8f7d", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/2f310e474491ea1c2e7d8381c1eb8118d2fd8f7d", "committedDate": "2020-03-16T05:41:09Z", "message": "Feedback"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3866, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}