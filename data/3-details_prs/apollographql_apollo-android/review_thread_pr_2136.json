{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4ODM3MDc2", "number": 2136, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOTowNzo1NVrODu2uUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOToyODozNlrODu21Wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNDU3NjgxOnYy", "diffSide": "LEFT", "path": "apollo-api/src/commonMain/kotlin/com/apollographql/apollo/api/internal/ResponseReader.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOTowNzo1NVrOGA-Mcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOToxMzo0OFrOGA-PBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3MjE3OA==", "bodyText": "Not sure I follow. Why removing that/Why did we need that in the first place ?", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403672178", "createdAt": "2020-04-05T09:07:55Z", "author": {"login": "martinbonnin"}, "path": "apollo-api/src/commonMain/kotlin/com/apollographql/apollo/api/internal/ResponseReader.kt", "diffHunk": "@@ -21,7 +20,6 @@ interface ResponseReader {\n \n   fun <T : Any> readObject(field: ResponseField, objectReader: ObjectReader<T>): T?\n \n-  @JvmSynthetic", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dd61cd6fa869b581c5c3c50740b7a500656de52"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3MjgzOA==", "bodyText": "This somehow allowed us not to implement these methods in Java since they were not visible to Jvm. I think using JvmDefault while targeting 1.8 would work but that's not available in Kotlin common.", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403672838", "createdAt": "2020-04-05T09:13:48Z", "author": {"login": "tasomaniac"}, "path": "apollo-api/src/commonMain/kotlin/com/apollographql/apollo/api/internal/ResponseReader.kt", "diffHunk": "@@ -21,7 +20,6 @@ interface ResponseReader {\n \n   fun <T : Any> readObject(field: ResponseField, objectReader: ObjectReader<T>): T?\n \n-  @JvmSynthetic", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3MjE3OA=="}, "originalCommit": {"oid": "0dd61cd6fa869b581c5c3c50740b7a500656de52"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNDU3NzU5OnYy", "diffSide": "RIGHT", "path": "apollo-runtime/build.gradle.kts", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOTowODo0MlrOGA-M1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOTozMToxNVrOGA-WoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3MjI3Nw==", "bodyText": "So we don't need the jetbrainsAnnotations at compileTime anymore ?", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403672277", "createdAt": "2020-04-05T09:08:42Z", "author": {"login": "martinbonnin"}, "path": "apollo-runtime/build.gradle.kts", "diffHunk": "@@ -1,13 +1,14 @@\n plugins {\n   `java-library`\n+  kotlin(\"jvm\")\n }\n \n dependencies {\n-  add(\"api\", project(\":apollo-api\")) // apollo-espresso-support uses some apollo-api internals\n-  add(\"api\", project(\":apollo-http-cache-api\"))\n-  add(\"api\", groovy.util.Eval.x(project, \"x.dep.okHttp.okHttp\"))\n-  add(\"compileOnly\", groovy.util.Eval.x(project, \"x.dep.jetbrainsAnnotations\"))\n-  add(\"implementation\", groovy.util.Eval.x(project, \"x.dep.cache\"))\n+  api(project(\":apollo-api\"))\n+  api(project(\":apollo-http-cache-api\"))\n+  api(groovy.util.Eval.x(project, \"x.dep.kotlin.stdLib\"))\n+  api(groovy.util.Eval.x(project, \"x.dep.okHttp.okHttp\"))\n+  implementation(groovy.util.Eval.x(project, \"x.dep.cache\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dd61cd6fa869b581c5c3c50740b7a500656de52"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3MjUyMg==", "bodyText": "Once we add Kotlin we don't need them anymore. They're actually transitively added already.", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403672522", "createdAt": "2020-04-05T09:10:34Z", "author": {"login": "tasomaniac"}, "path": "apollo-runtime/build.gradle.kts", "diffHunk": "@@ -1,13 +1,14 @@\n plugins {\n   `java-library`\n+  kotlin(\"jvm\")\n }\n \n dependencies {\n-  add(\"api\", project(\":apollo-api\")) // apollo-espresso-support uses some apollo-api internals\n-  add(\"api\", project(\":apollo-http-cache-api\"))\n-  add(\"api\", groovy.util.Eval.x(project, \"x.dep.okHttp.okHttp\"))\n-  add(\"compileOnly\", groovy.util.Eval.x(project, \"x.dep.jetbrainsAnnotations\"))\n-  add(\"implementation\", groovy.util.Eval.x(project, \"x.dep.cache\"))\n+  api(project(\":apollo-api\"))\n+  api(project(\":apollo-http-cache-api\"))\n+  api(groovy.util.Eval.x(project, \"x.dep.kotlin.stdLib\"))\n+  api(groovy.util.Eval.x(project, \"x.dep.okHttp.okHttp\"))\n+  implementation(groovy.util.Eval.x(project, \"x.dep.cache\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3MjI3Nw=="}, "originalCommit": {"oid": "0dd61cd6fa869b581c5c3c50740b7a500656de52"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3NDc4NQ==", "bodyText": "Could we remove the annotations part in the README.md ?https://github.com/apollographql/apollo-android/blame/master/README.md#L53\nThis has always confused me.", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403674785", "createdAt": "2020-04-05T09:31:15Z", "author": {"login": "martinbonnin"}, "path": "apollo-runtime/build.gradle.kts", "diffHunk": "@@ -1,13 +1,14 @@\n plugins {\n   `java-library`\n+  kotlin(\"jvm\")\n }\n \n dependencies {\n-  add(\"api\", project(\":apollo-api\")) // apollo-espresso-support uses some apollo-api internals\n-  add(\"api\", project(\":apollo-http-cache-api\"))\n-  add(\"api\", groovy.util.Eval.x(project, \"x.dep.okHttp.okHttp\"))\n-  add(\"compileOnly\", groovy.util.Eval.x(project, \"x.dep.jetbrainsAnnotations\"))\n-  add(\"implementation\", groovy.util.Eval.x(project, \"x.dep.cache\"))\n+  api(project(\":apollo-api\"))\n+  api(project(\":apollo-http-cache-api\"))\n+  api(groovy.util.Eval.x(project, \"x.dep.kotlin.stdLib\"))\n+  api(groovy.util.Eval.x(project, \"x.dep.okHttp.okHttp\"))\n+  implementation(groovy.util.Eval.x(project, \"x.dep.cache\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3MjI3Nw=="}, "originalCommit": {"oid": "0dd61cd6fa869b581c5c3c50740b7a500656de52"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNDU3NzkzOnYy", "diffSide": "RIGHT", "path": "gradle/dependencies.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOTowODo1NlrOGA-NAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOTowODo1NlrOGA-NAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3MjMyMQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403672321", "createdAt": "2020-04-05T09:08:56Z", "author": {"login": "martinbonnin"}, "path": "gradle/dependencies.gradle", "diffHunk": "@@ -1,6 +1,6 @@\n def versions = [\n     minAndroidPlugin      : '3.4.2',\n-    androidPlugin         : '3.6.1',\n+    androidPlugin         : '3.6.2',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dd61cd6fa869b581c5c3c50740b7a500656de52"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNDU3OTQ4OnYy", "diffSide": "RIGHT", "path": "apollo-api/build.gradle.kts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOToxMDo0NVrOGA-N2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOToxMDo0NVrOGA-N2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3MjUzOQ==", "bodyText": "Maybe put this in apollo-android/build.gradle.kts next to the others ? \n  \n    \n      apollo-android/build.gradle.kts\n    \n    \n         Line 57\n      in\n      3e37125\n    \n    \n    \n    \n\n        \n          \n           plugins.withType(com.android.build.gradle.BasePlugin::class.java) {", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403672539", "createdAt": "2020-04-05T09:10:45Z", "author": {"login": "martinbonnin"}, "path": "apollo-api/build.gradle.kts", "diffHunk": "@@ -58,6 +60,10 @@ kotlin {\n   }\n }\n \n+tasks.withType<KotlinCompile> {\n+  kotlinOptions.jvmTarget = \"1.8\"\n+}\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a22b3df8760b61b79868983b13d56a02d757864"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNDU4MTQwOnYy", "diffSide": "RIGHT", "path": "samples/multiplatform/kmp-android-app/build.gradle.kts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOToxMzoyN1rOGA-O0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQxMToxMDo0MVrOGA_DOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3Mjc4NQ==", "bodyText": "No plugin marker for the kotlin-android-extensions plugin I guess ?\nAlso, I'd like to remove this to use ViewBinding instead at some point but definitely not the priority.", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403672785", "createdAt": "2020-04-05T09:13:27Z", "author": {"login": "martinbonnin"}, "path": "samples/multiplatform/kmp-android-app/build.gradle.kts", "diffHunk": "@@ -0,0 +1,52 @@\n+import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n+\n+plugins {\n+    id(\"com.android.application\")\n+    id(\"org.jetbrains.kotlin.multiplatform\")\n+}\n+apply(plugin = \"kotlin-android-extensions\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a22b3df8760b61b79868983b13d56a02d757864"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY4NjIwMg==", "bodyText": "3cb048c", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403686202", "createdAt": "2020-04-05T11:10:41Z", "author": {"login": "tasomaniac"}, "path": "samples/multiplatform/kmp-android-app/build.gradle.kts", "diffHunk": "@@ -0,0 +1,52 @@\n+import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n+\n+plugins {\n+    id(\"com.android.application\")\n+    id(\"org.jetbrains.kotlin.multiplatform\")\n+}\n+apply(plugin = \"kotlin-android-extensions\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3Mjc4NQ=="}, "originalCommit": {"oid": "3a22b3df8760b61b79868983b13d56a02d757864"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNDU4MzUzOnYy", "diffSide": "RIGHT", "path": "samples/multiplatform/kmp-android-app/build.gradle.kts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOToxNTo0MFrOGA-P5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQxMToxMDozNVrOGA_DLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3MzA2MA==", "bodyText": "Do we actually need the multiplatform plugin here ? This module will always be just Android, right ?", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403673060", "createdAt": "2020-04-05T09:15:40Z", "author": {"login": "martinbonnin"}, "path": "samples/multiplatform/kmp-android-app/build.gradle.kts", "diffHunk": "@@ -0,0 +1,52 @@\n+import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n+\n+plugins {\n+    id(\"com.android.application\")\n+    id(\"org.jetbrains.kotlin.multiplatform\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcd5ffde1dce0eda6ca3a86bd32b2af2cccc6772"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY4NjE4OQ==", "bodyText": "Addressed here: 3cb048c", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403686189", "createdAt": "2020-04-05T11:10:35Z", "author": {"login": "tasomaniac"}, "path": "samples/multiplatform/kmp-android-app/build.gradle.kts", "diffHunk": "@@ -0,0 +1,52 @@\n+import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n+\n+plugins {\n+    id(\"com.android.application\")\n+    id(\"org.jetbrains.kotlin.multiplatform\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3MzA2MA=="}, "originalCommit": {"oid": "fcd5ffde1dce0eda6ca3a86bd32b2af2cccc6772"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNDU4Njg0OnYy", "diffSide": "RIGHT", "path": "samples/multiplatform/kmp-android-app/src/main/kotlin/com/apollographql/apollo/kmpsample/data/ApolloCoroutinesService.kt", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOToxOToxM1rOGA-Rjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOToyOTo1N1rOGA-WKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3MzQ4Nw==", "bodyText": "It would be nice to move the ApolloCoroutinesService class to the multiplatform lib module since it is common logic between android/ios.", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403673487", "createdAt": "2020-04-05T09:19:13Z", "author": {"login": "martinbonnin"}, "path": "samples/multiplatform/kmp-android-app/src/main/kotlin/com/apollographql/apollo/kmpsample/data/ApolloCoroutinesService.kt", "diffHunk": "@@ -0,0 +1,49 @@\n+package com.apollographql.apollo.kmpsample.data\n+\n+import com.apollographql.apollo.ApolloClient\n+import com.apollographql.apollo.api.Response\n+import com.apollographql.apollo.coroutines.toDeferred\n+import com.apollographql.apollo.kmpsample.fragment.RepositoryFragment\n+import com.apollographql.apollo.kmpsample.GithubRepositoriesQuery\n+import com.apollographql.apollo.kmpsample.GithubRepositoryCommitsQuery\n+import com.apollographql.apollo.kmpsample.GithubRepositoryDetailQuery\n+import com.apollographql.apollo.kmpsample.fragment.RepositoryDetail\n+import com.apollographql.apollo.kmpsample.type.OrderDirection\n+import com.apollographql.apollo.kmpsample.type.PullRequestState\n+import com.apollographql.apollo.kmpsample.type.RepositoryOrderField\n+import kotlinx.coroutines.invoke\n+\n+/**\n+ * An implementation of a [GitHubDataSource] that shows how we can use coroutines to make our apollo requests.\n+ */\n+class ApolloCoroutinesService(private val apolloClient: ApolloClient) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcd5ffde1dce0eda6ca3a86bd32b2af2cccc6772"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3NDY2NA==", "bodyText": "For sure. I kind of like to do that in a separate PR. That would allow us to remove networking call from SceneDelegate. That is also misplaced atm.", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403674664", "createdAt": "2020-04-05T09:29:57Z", "author": {"login": "tasomaniac"}, "path": "samples/multiplatform/kmp-android-app/src/main/kotlin/com/apollographql/apollo/kmpsample/data/ApolloCoroutinesService.kt", "diffHunk": "@@ -0,0 +1,49 @@\n+package com.apollographql.apollo.kmpsample.data\n+\n+import com.apollographql.apollo.ApolloClient\n+import com.apollographql.apollo.api.Response\n+import com.apollographql.apollo.coroutines.toDeferred\n+import com.apollographql.apollo.kmpsample.fragment.RepositoryFragment\n+import com.apollographql.apollo.kmpsample.GithubRepositoriesQuery\n+import com.apollographql.apollo.kmpsample.GithubRepositoryCommitsQuery\n+import com.apollographql.apollo.kmpsample.GithubRepositoryDetailQuery\n+import com.apollographql.apollo.kmpsample.fragment.RepositoryDetail\n+import com.apollographql.apollo.kmpsample.type.OrderDirection\n+import com.apollographql.apollo.kmpsample.type.PullRequestState\n+import com.apollographql.apollo.kmpsample.type.RepositoryOrderField\n+import kotlinx.coroutines.invoke\n+\n+/**\n+ * An implementation of a [GitHubDataSource] that shows how we can use coroutines to make our apollo requests.\n+ */\n+class ApolloCoroutinesService(private val apolloClient: ApolloClient) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3MzQ4Nw=="}, "originalCommit": {"oid": "fcd5ffde1dce0eda6ca3a86bd32b2af2cccc6772"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNDU5MTM0OnYy", "diffSide": "RIGHT", "path": "samples/multiplatform/kmp-ios-app/kmp-ios-app/SceneDelegate.swift", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOToyNDowNVrOGA-TwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQxMDozMDozOVrOGA-ylw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3NDA0OA==", "bodyText": "What about adding fun Query.toJson(): String to factor this code ?", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403674048", "createdAt": "2020-04-05T09:24:05Z", "author": {"login": "martinbonnin"}, "path": "samples/multiplatform/kmp-ios-app/kmp-ios-app/SceneDelegate.swift", "diffHunk": "@@ -0,0 +1,111 @@\n+//\n+//  SceneDelegate.swift\n+//  kmp-ios-app\n+//\n+//  Created by Taso Dane on 4/5/20.\n+//\n+\n+import UIKit\n+import SwiftUI\n+import kmp_lib_sample\n+\n+class SceneDelegate: UIResponder, UIWindowSceneDelegate {\n+\n+    var window: UIWindow?\n+\n+\n+    func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {\n+        // Use this method to optionally configure and attach the UIWindow `window` to the provided UIWindowScene `scene`.\n+        // If using a storyboard, the `window` property will automatically be initialized and attached to the scene.\n+        // This delegate does not imply the connecting scene or session are new (see `application:configurationForConnectingSceneSession` instead).\n+        let query = GithubRepositoriesQuery(\n+            repositoriesCount: 50,\n+            orderBy: RepositoryOrderField.updatedAt,\n+            orderDirection: OrderDirection.desc\n+        )\n+        let requestPayload = \"{\" +\n+        \"\\\"operationName\\\": \\\"\" + query.name().name() + \"\\\", \" +\n+        \"\\\"query\\\": \\\"\" + query.queryDocument() + \"\\\", \" +\n+        \"\\\"variables\\\": \" + query.variables().marshal() +\n+        \"}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcd5ffde1dce0eda6ca3a86bd32b2af2cccc6772"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3NDUzNg==", "bodyText": "Yes! definitely. I got this from our docs. I compared it with what we have in runtime. Runtime also adds more in case autoPersist is enabled. We should do that and move this to common code", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403674536", "createdAt": "2020-04-05T09:28:43Z", "author": {"login": "tasomaniac"}, "path": "samples/multiplatform/kmp-ios-app/kmp-ios-app/SceneDelegate.swift", "diffHunk": "@@ -0,0 +1,111 @@\n+//\n+//  SceneDelegate.swift\n+//  kmp-ios-app\n+//\n+//  Created by Taso Dane on 4/5/20.\n+//\n+\n+import UIKit\n+import SwiftUI\n+import kmp_lib_sample\n+\n+class SceneDelegate: UIResponder, UIWindowSceneDelegate {\n+\n+    var window: UIWindow?\n+\n+\n+    func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {\n+        // Use this method to optionally configure and attach the UIWindow `window` to the provided UIWindowScene `scene`.\n+        // If using a storyboard, the `window` property will automatically be initialized and attached to the scene.\n+        // This delegate does not imply the connecting scene or session are new (see `application:configurationForConnectingSceneSession` instead).\n+        let query = GithubRepositoriesQuery(\n+            repositoriesCount: 50,\n+            orderBy: RepositoryOrderField.updatedAt,\n+            orderDirection: OrderDirection.desc\n+        )\n+        let requestPayload = \"{\" +\n+        \"\\\"operationName\\\": \\\"\" + query.name().name() + \"\\\", \" +\n+        \"\\\"query\\\": \\\"\" + query.queryDocument() + \"\\\", \" +\n+        \"\\\"variables\\\": \" + query.variables().marshal() +\n+        \"}\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3NDA0OA=="}, "originalCommit": {"oid": "fcd5ffde1dce0eda6ca3a86bd32b2af2cccc6772"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY4MTk0Mw==", "bodyText": "Created a follow-up on this #2137", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403681943", "createdAt": "2020-04-05T10:30:39Z", "author": {"login": "tasomaniac"}, "path": "samples/multiplatform/kmp-ios-app/kmp-ios-app/SceneDelegate.swift", "diffHunk": "@@ -0,0 +1,111 @@\n+//\n+//  SceneDelegate.swift\n+//  kmp-ios-app\n+//\n+//  Created by Taso Dane on 4/5/20.\n+//\n+\n+import UIKit\n+import SwiftUI\n+import kmp_lib_sample\n+\n+class SceneDelegate: UIResponder, UIWindowSceneDelegate {\n+\n+    var window: UIWindow?\n+\n+\n+    func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {\n+        // Use this method to optionally configure and attach the UIWindow `window` to the provided UIWindowScene `scene`.\n+        // If using a storyboard, the `window` property will automatically be initialized and attached to the scene.\n+        // This delegate does not imply the connecting scene or session are new (see `application:configurationForConnectingSceneSession` instead).\n+        let query = GithubRepositoriesQuery(\n+            repositoriesCount: 50,\n+            orderBy: RepositoryOrderField.updatedAt,\n+            orderDirection: OrderDirection.desc\n+        )\n+        let requestPayload = \"{\" +\n+        \"\\\"operationName\\\": \\\"\" + query.name().name() + \"\\\", \" +\n+        \"\\\"query\\\": \\\"\" + query.queryDocument() + \"\\\", \" +\n+        \"\\\"variables\\\": \" + query.variables().marshal() +\n+        \"}\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3NDA0OA=="}, "originalCommit": {"oid": "fcd5ffde1dce0eda6ca3a86bd32b2af2cccc6772"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNDU5NDgyOnYy", "diffSide": "RIGHT", "path": "samples/multiplatform/kmp-ios-app/kmp-ios-app/SceneDelegate.swift", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOToyODozNlrOGA-Vjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwOToyODozNlrOGA-Vjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY3NDUxMQ==", "bodyText": "\ud83d\ude4c \ud83d\ude03", "url": "https://github.com/apollographql/apollo-android/pull/2136#discussion_r403674511", "createdAt": "2020-04-05T09:28:36Z", "author": {"login": "martinbonnin"}, "path": "samples/multiplatform/kmp-ios-app/kmp-ios-app/SceneDelegate.swift", "diffHunk": "@@ -0,0 +1,111 @@\n+//\n+//  SceneDelegate.swift\n+//  kmp-ios-app\n+//\n+//  Created by Taso Dane on 4/5/20.\n+//\n+\n+import UIKit\n+import SwiftUI\n+import kmp_lib_sample\n+\n+class SceneDelegate: UIResponder, UIWindowSceneDelegate {\n+\n+    var window: UIWindow?\n+\n+\n+    func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {\n+        // Use this method to optionally configure and attach the UIWindow `window` to the provided UIWindowScene `scene`.\n+        // If using a storyboard, the `window` property will automatically be initialized and attached to the scene.\n+        // This delegate does not imply the connecting scene or session are new (see `application:configurationForConnectingSceneSession` instead).\n+        let query = GithubRepositoriesQuery(\n+            repositoriesCount: 50,\n+            orderBy: RepositoryOrderField.updatedAt,\n+            orderDirection: OrderDirection.desc\n+        )\n+        let requestPayload = \"{\" +\n+        \"\\\"operationName\\\": \\\"\" + query.name().name() + \"\\\", \" +\n+        \"\\\"query\\\": \\\"\" + query.queryDocument() + \"\\\", \" +\n+        \"\\\"variables\\\": \" + query.variables().marshal() +\n+        \"}\"\n+        print(requestPayload)\n+        \n+        let url = URL(string: \"https://api.github.com/graphql\")!\n+        var request = URLRequest(url: url)\n+        request.httpMethod = \"POST\"\n+        request.setValue(\"application/json\", forHTTPHeaderField: \"Accept\")\n+        request.setValue(\"application/json\", forHTTPHeaderField: \"Content-Type\")\n+        request.setValue(query.operationId(), forHTTPHeaderField: \"X-APOLLO-OPERATION-ID\")\n+        request.setValue(query.name().name(), forHTTPHeaderField: \"X-APOLLO-OPERATION-NAME\")\n+        request.setValue(\"bearer 230a8a1fcf3b2d318b7640b4b394d469d8783970\", forHTTPHeaderField: \"Authorization\")\n+\n+        request.httpBody = requestPayload.data(using: String.Encoding.utf8)\n+        \n+        let task = URLSession.shared.dataTask(with: request) { (data, response, error) in\n+            // Check for Error\n+            if let error = error {\n+                print(\"Error took place \\(error)\")\n+                return\n+            }\n+     \n+            // Convert HTTP Response Data to a String\n+            if let data = data, let dataString = String(data: data, encoding: .utf8) {\n+                query.parse(source: OkioBuffer())\n+                print(\"Response data string:\\n\" + (dataString.data(using: .utf8)!.prettyPrintedJSONString! as String))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcd5ffde1dce0eda6ca3a86bd32b2af2cccc6772"}, "originalPosition": 54}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3178, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}