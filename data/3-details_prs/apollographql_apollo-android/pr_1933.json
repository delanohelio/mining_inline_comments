{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2OTM1NDM3", "number": 1933, "title": "Remove bintray plugin and upload marker to bintray", "bodyText": "It turns out that the maven-publish plugin is very capable of uploading to bintray. Use that and remove a dependency.\nI also took the opportunity to upload the Gradle plugin marker to jcenter bintray. I made it manually for 1.3.0. It should be done by the CI for next versions.\nPromotion to jcenter is not possible at the moment because \"there's no binary file, aar, jar, ... in the package\". I emailed bintray support about it.", "createdAt": "2020-01-24T17:15:25Z", "url": "https://github.com/apollographql/apollo-android/pull/1933", "merged": true, "mergeCommit": {"oid": "ec1f26a70bd3ba461ee598fb689040fc3244fc92"}, "closed": true, "closedAt": "2020-01-26T10:07:41Z", "author": {"login": "martinbonnin"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb9l6dZgFqTM0ODIzNzgwNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-BI4DAFqTM0ODM1OTE2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MjM3ODA1", "url": "https://github.com/apollographql/apollo-android/pull/1933#pullrequestreview-348237805", "createdAt": "2020-01-24T21:34:35Z", "commit": {"oid": "01ff32610f69b98aba72095e1c4bff93b18d910d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQyMTozNDozNlrOFhrDEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQyMTozNDozNlrOFhrDEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDg1MjYyNw==", "bodyText": "Wouldn't it be possible to keep the artifact id in gradle files?", "url": "https://github.com/apollographql/apollo-android/pull/1933#discussion_r370852627", "createdAt": "2020-01-24T21:34:36Z", "author": {"login": "tasomaniac"}, "path": "scripts/deploy.sh", "diffHunk": "@@ -32,7 +32,11 @@ if [ \"$TRAVIS_TAG\" == \"\" ]; then\n   echo \"Skipping release deployment: not a tag\"\n else\n   echo \"Deploy to bintray...\"\n-  ./gradlew bintrayUpload -Pbintray.user=\"${BINTRAY_USER}\" -Pbintray.apikey=\"${BINTRAY_API_KEY}\"\n+  ./gradlew publishDefaultPublicationToBintrayRepository -Pbintray.user=\"${BINTRAY_USER}\" -Pbintray.apikey=\"${BINTRAY_API_KEY}\"\n   echo \"Deployed to bintray!\"\n+  echo \"Deploy gradle plugin marker to bintray...\"\n+  # We override the artifact_id for the marker else it is uploaded at the same coordinates as apollo-gradle-plugin\n+  ./gradlew publishApolloGradlePluginPluginMarkerMavenPublicationToBintrayRepository -Pbintray.user=\"${BINTRAY_USER}\" -Pbintray.apikey=\"${BINTRAY_API_KEY}\" -PPOM_ARTIFACT_ID=com.apollographql.apollo.gradle.plugin", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01ff32610f69b98aba72095e1c4bff93b18d910d"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa637b7e6ac5acfb2e55dadde3670b7ba08a6b52", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/fa637b7e6ac5acfb2e55dadde3670b7ba08a6b52", "committedDate": "2020-01-25T13:19:26Z", "message": "use `maven-publish` to deploy to bintray"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca9117efdb28253ce4c36f242fed6d2fee27785d", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/ca9117efdb28253ce4c36f242fed6d2fee27785d", "committedDate": "2020-01-25T13:20:13Z", "message": "deploy gradle plugin marker"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39e3232234febaca4ab6d17bb4865a98c321505f", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/39e3232234febaca4ab6d17bb4865a98c321505f", "committedDate": "2020-01-25T13:20:13Z", "message": "fix publication name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46cbca030985c49c753f1826028b3c2df1293e6d", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/46cbca030985c49c753f1826028b3c2df1293e6d", "committedDate": "2020-01-25T13:20:13Z", "message": "always use the local packages if they exist"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "01ff32610f69b98aba72095e1c4bff93b18d910d", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/01ff32610f69b98aba72095e1c4bff93b18d910d", "committedDate": "2020-01-24T18:40:18Z", "message": "always use the local packages if they exist"}, "afterCommit": {"oid": "46cbca030985c49c753f1826028b3c2df1293e6d", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/46cbca030985c49c753f1826028b3c2df1293e6d", "committedDate": "2020-01-25T13:20:13Z", "message": "always use the local packages if they exist"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MzU5MTYw", "url": "https://github.com/apollographql/apollo-android/pull/1933#pullrequestreview-348359160", "createdAt": "2020-01-26T05:17:50Z", "commit": {"oid": "46cbca030985c49c753f1826028b3c2df1293e6d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4012, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}