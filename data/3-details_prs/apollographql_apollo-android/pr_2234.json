{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyMDM1NTY1", "number": 2234, "title": "Make sqlite module multiplatform", "bodyText": "SqlNormalizedCacheFactory have now 3 different versions for Jvm, Android and iOS.\nIt can be used in common code but cannot be initialized in common code since every platform specific implementation has its own constructor parameters (as per SqlDelight). Plus, Android's Context makes it impossible.\nFollow-up idea: We could use ContentProvider hack to get a global reference to application Context and use that. If we do that, we can keep the most basic constructor in common code.\nTests are moved to automatically test jvm and ios\nFixes #2212", "createdAt": "2020-05-01T08:16:28Z", "url": "https://github.com/apollographql/apollo-android/pull/2234", "merged": true, "mergeCommit": {"oid": "4eb4604b77d1f33ab7c172741bc2c91351819b80"}, "closed": true, "closedAt": "2020-05-01T14:36:16Z", "author": {"login": "tasomaniac"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcc9LjBgH2gAyNDEyMDM1NTY1OjBhZTc2ZmRhODM3MjA1NzE0YmUzOWFjNzY2YmQ0ZGUxOGQwYTkzZTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcdCRCFAFqTQwNDE3NzY5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0ae76fda837205714be39ac766bd4de18d0a93e7", "author": {"user": {"login": "tasomaniac", "name": "Said Tahsin Dane"}}, "url": "https://github.com/apollographql/apollo-android/commit/0ae76fda837205714be39ac766bd4de18d0a93e7", "committedDate": "2020-05-01T08:12:47Z", "message": "Move sqlite to multiplatform.\n\n`SqlNormalizedCacheFactory` have 3 different versions for jvm, android and ios.\nTests are moved to automatically test jvm and ios"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MDY0NDU2", "url": "https://github.com/apollographql/apollo-android/pull/2234#pullrequestreview-404064456", "createdAt": "2020-05-01T08:17:52Z", "commit": {"oid": "0ae76fda837205714be39ac766bd4de18d0a93e7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwODoxNzo1M1rOGPEpVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwODoxNzo1M1rOGPEpVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ1Nzk0Mw==", "bodyText": "By having this in commonTest, I was able to keep all tests in common module and run them against multiple platforms.", "url": "https://github.com/apollographql/apollo-android/pull/2234#discussion_r418457943", "createdAt": "2020-05-01T08:17:53Z", "author": {"login": "tasomaniac"}, "path": "apollo-normalized-cache-sqlite/src/commonTest/kotlin/com/apollographql/apollo/cache/normalized/sql/createDriver.kt", "diffHunk": "@@ -0,0 +1,5 @@\n+package com.apollographql.apollo.cache.normalized.sql\n+\n+import com.squareup.sqldelight.db.SqlDriver\n+\n+expect fun createDriver(): SqlDriver", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ae76fda837205714be39ac766bd4de18d0a93e7"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MDY2Mzgz", "url": "https://github.com/apollographql/apollo-android/pull/2234#pullrequestreview-404066383", "createdAt": "2020-05-01T08:24:49Z", "commit": {"oid": "0ae76fda837205714be39ac766bd4de18d0a93e7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MTc3Njkz", "url": "https://github.com/apollographql/apollo-android/pull/2234#pullrequestreview-404177693", "createdAt": "2020-05-01T14:08:18Z", "commit": {"oid": "0ae76fda837205714be39ac766bd4de18d0a93e7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3770, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}