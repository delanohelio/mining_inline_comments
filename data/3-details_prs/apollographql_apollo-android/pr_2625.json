{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3NTA1MzI0", "number": 2625, "title": "Massive Fall Cleanup \ud83c\udf41\ud83c\udf43", "bodyText": "Very sorry for the huge PR, there's no real other solution. This PR:\n\nremoves the java codegen (see #2616)\nmakes the Gradle plugin tests and integration tests use Kotlin models\nconvert integration tests source code to Kotlin\ndisables metalava checks while we tweak the APIs\n\nDon't merge yet, it's based on #2604 and should be merged after.", "createdAt": "2020-10-04T21:57:13Z", "url": "https://github.com/apollographql/apollo-android/pull/2625", "merged": true, "mergeCommit": {"oid": "6d4e9640858bc8e951db75485a1bdc9aa0ec5297"}, "closed": true, "closedAt": "2020-10-06T21:08:29Z", "author": {"login": "martinbonnin"}, "timelineItems": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdPkxbMAH2gAyNDk3NTA1MzI0Ojk1Yzk4ZTM1NGEzMzZjZWViOGIzMGVjYTcyYjY1NTVlN2EyNzZmNzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdP6nMOAFqTUwMzEyNzM1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "95c98e354a336ceeb8b30eca72b6555e7a276f79", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/95c98e354a336ceeb8b30eca72b6555e7a276f79", "committedDate": "2020-10-05T14:36:40Z", "message": "cleanup the Java codegen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35df233e520d1948d61fef81629a64cd615a7f7f", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/35df233e520d1948d61fef81629a64cd615a7f7f", "committedDate": "2020-10-05T14:36:40Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d586b6c68cc7fc23527078da5dd9f258ead2829", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/6d586b6c68cc7fc23527078da5dd9f258ead2829", "committedDate": "2020-10-05T14:36:40Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fec07eb82a407e5cfb7b89b0b660161444937618", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/fec07eb82a407e5cfb7b89b0b660161444937618", "committedDate": "2020-10-05T14:36:40Z", "message": "ResponseWriteTestCase is now Kotlin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "200255d57c6aed20cc5cd029dd477a1fb576cca5", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/200255d57c6aed20cc5cd029dd477a1fb576cca5", "committedDate": "2020-10-05T14:36:40Z", "message": "convert java file to kotlin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80ae4f0983684ed47b0826fe4ffd067fb97bee60", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/80ae4f0983684ed47b0826fe4ffd067fb97bee60", "committedDate": "2020-10-05T14:36:40Z", "message": "make compile with Kotlin models"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e087ec4e70ebe528ce904d1e44bca700a7c6b7a", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/0e087ec4e70ebe528ce904d1e44bca700a7c6b7a", "committedDate": "2020-10-05T14:36:40Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "412abace821854cef2fb59dbd63bf483fa60a829", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/412abace821854cef2fb59dbd63bf483fa60a829", "committedDate": "2020-10-05T14:36:40Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dba6ba81ddda69d162c5dfecf383ceff97abc4c5", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/dba6ba81ddda69d162c5dfecf383ceff97abc4c5", "committedDate": "2020-10-05T14:36:40Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7124005b92dcc6641c7e5f941b54474785cf2cb6", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/7124005b92dcc6641c7e5f941b54474785cf2cb6", "committedDate": "2020-10-05T14:36:40Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "828ea522749dce9592ec969adeb6cc21cb8d3402", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/828ea522749dce9592ec969adeb6cc21cb8d3402", "committedDate": "2020-10-05T14:36:40Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29db3daf3a0ad0864c229a11f1556286d137a8a2", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/29db3daf3a0ad0864c229a11f1556286d137a8a2", "committedDate": "2020-10-05T14:36:40Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3096478395df322d69c0f837b7bc59c07075478", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/c3096478395df322d69c0f837b7bc59c07075478", "committedDate": "2020-10-05T14:36:40Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5edc10325cfd273951e5f2493fe7acb79b6b9e59", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/5edc10325cfd273951e5f2493fe7acb79b6b9e59", "committedDate": "2020-10-05T14:36:40Z", "message": "convert last integration files to kotlin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20b116e3750bbc78c72c0f5bbf810144d04e1129", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/20b116e3750bbc78c72c0f5bbf810144d04e1129", "committedDate": "2020-10-05T14:36:40Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbe377dbe10c576b99a0374bc8815fd48631f12b", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/cbe377dbe10c576b99a0374bc8815fd48631f12b", "committedDate": "2020-10-05T14:36:40Z", "message": "make tests pass"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6f71b73aad75513539f3427e613482ab6b59039", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/e6f71b73aad75513539f3427e613482ab6b59039", "committedDate": "2020-10-05T14:36:40Z", "message": "add Android again, fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7645e2f92b7c1a10ffad0ad714b3642d9d182dbe", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/7645e2f92b7c1a10ffad0ad714b3642d9d182dbe", "committedDate": "2020-10-05T14:36:40Z", "message": "disable metalava in the dev-3.x branch for now"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4cc4853b687ecc7577a6a40eb53ee89ab9c6be2a", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/4cc4853b687ecc7577a6a40eb53ee89ab9c6be2a", "committedDate": "2020-10-05T08:31:31Z", "message": "disable metalava in the dev-3.x branch for now"}, "afterCommit": {"oid": "7645e2f92b7c1a10ffad0ad714b3642d9d182dbe", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/7645e2f92b7c1a10ffad0ad714b3642d9d182dbe", "committedDate": "2020-10-05T14:36:40Z", "message": "disable metalava in the dev-3.x branch for now"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMjU3NjEz", "url": "https://github.com/apollographql/apollo-android/pull/2625#pullrequestreview-502257613", "createdAt": "2020-10-05T17:10:41Z", "commit": {"oid": "7645e2f92b7c1a10ffad0ad714b3642d9d182dbe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzoxMDo0MVrOHcmP0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzoxMDo0MVrOHcmP0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0ODgxOQ==", "bodyText": "Since these are in the api, is it fine to remove without deprecating them first?", "url": "https://github.com/apollographql/apollo-android/pull/2625#discussion_r499748819", "createdAt": "2020-10-05T17:10:41Z", "author": {"login": "tasomaniac"}, "path": "apollo-api/src/commonMain/kotlin/com/apollographql/apollo/api/ResponseField.kt", "diffHunk": "@@ -304,34 +304,6 @@ open class ResponseField internal constructor(\n       )\n     }\n \n-    /**\n-     * Factory method for creating a Field instance representing [Type.LONG].\n-     *\n-     * @param responseName alias for the result of a field\n-     * @param fieldName name of the field in the GraphQL operation\n-     * @param arguments arguments to be passed along with the field\n-     * @param optional whether the arguments passed along are optional or required\n-     * @param conditions list of conditions for this field\n-     * @return Field instance representing [Type.LONG]\n-     */\n-    @JvmStatic\n-    fun forLong(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7645e2f92b7c1a10ffad0ad714b3642d9d182dbe"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMjU4MzU2", "url": "https://github.com/apollographql/apollo-android/pull/2625#pullrequestreview-502258356", "createdAt": "2020-10-05T17:11:45Z", "commit": {"oid": "7645e2f92b7c1a10ffad0ad714b3642d9d182dbe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzoxMTo0NVrOHcmSAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzoxMTo0NVrOHcmSAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0OTM3OA==", "bodyText": "Is this change here by mistake?", "url": "https://github.com/apollographql/apollo-android/pull/2625#discussion_r499749378", "createdAt": "2020-10-05T17:11:45Z", "author": {"login": "tasomaniac"}, "path": "apollo-compiler/src/main/kotlin/com/apollographql/apollo/compiler/GraphQLCompiler.kt", "diffHunk": "@@ -189,13 +163,13 @@ class GraphQLCompiler(val logger: Logger = NoOpLogger) {\n   private fun idClassName(generateKotlinModels: Boolean) = if (generateKotlinModels) {\n     String::class.asClassName().toString()\n   } else {\n-    ClassNames.STRING.toString()\n+    TODO(\"ClassNames.STRING.toString()\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7645e2f92b7c1a10ffad0ad714b3642d9d182dbe"}, "originalPosition": 76}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMjYxNzk1", "url": "https://github.com/apollographql/apollo-android/pull/2625#pullrequestreview-502261795", "createdAt": "2020-10-05T17:16:29Z", "commit": {"oid": "7645e2f92b7c1a10ffad0ad714b3642d9d182dbe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzoxNjoyOVrOHcmclg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzoxNjoyOVrOHcmclg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc1MjA4Ng==", "bodyText": "Can we not inline this function too? Do we still need it?", "url": "https://github.com/apollographql/apollo-android/pull/2625#discussion_r499752086", "createdAt": "2020-10-05T17:16:29Z", "author": {"login": "tasomaniac"}, "path": "apollo-gradle-plugin/src/main/kotlin/com/apollographql/apollo/gradle/internal/DefaultCompilationUnit.kt", "diffHunk": "@@ -89,10 +89,7 @@ abstract class DefaultCompilationUnit @Inject constructor(\n     }\n   }\n \n-  fun generateKotlinModels(): Boolean = when {\n-    project.isKotlinMultiplatform -> true\n-    else -> generateKotlinModels.orElse(service.generateKotlinModels).orElse(apolloExtension.generateKotlinModels).getOrElse(false)\n-  }\n+  fun generateKotlinModels(): Boolean = true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7645e2f92b7c1a10ffad0ad714b3642d9d182dbe"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMjY0NTc1", "url": "https://github.com/apollographql/apollo-android/pull/2625#pullrequestreview-502264575", "createdAt": "2020-10-05T17:20:13Z", "commit": {"oid": "7645e2f92b7c1a10ffad0ad714b3642d9d182dbe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzoyMDoxM1rOHcmk4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzoyMDoxM1rOHcmk4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc1NDIxMQ==", "bodyText": "What is the reason to remove samples from composite project? Are we going to replace this with something else?", "url": "https://github.com/apollographql/apollo-android/pull/2625#discussion_r499754211", "createdAt": "2020-10-05T17:20:13Z", "author": {"login": "tasomaniac"}, "path": "composite/settings.gradle.kts", "diffHunk": "@@ -1,16 +1,5 @@\n rootProject.name = \"apollo-composite\"\n \n-// Samples", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7645e2f92b7c1a10ffad0ad714b3642d9d182dbe"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1f92d625f30daf3a61ceed96109cdeacce810fb", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/d1f92d625f30daf3a61ceed96109cdeacce810fb", "committedDate": "2020-10-05T19:37:27Z", "message": "add the samples back"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMTI3MzU3", "url": "https://github.com/apollographql/apollo-android/pull/2625#pullrequestreview-503127357", "createdAt": "2020-10-06T16:03:24Z", "commit": {"oid": "d1f92d625f30daf3a61ceed96109cdeacce810fb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4137, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}