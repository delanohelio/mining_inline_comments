{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5NTI3OTgz", "number": 2447, "title": "[apollo-normalized-cache] Add the Kotlin multiplatform plugin", "bodyText": "This PR is dependent on #2446\nIt adds the Kotlin multiplatform plugin to apollo-normalized-cache. Everything ApolloStore and LruNormalizedCache is still in jvmMain due to JVM dependencies.", "createdAt": "2020-07-15T14:41:03Z", "url": "https://github.com/apollographql/apollo-android/pull/2447", "merged": true, "mergeCommit": {"oid": "c797786828186c83685e0b81467bff9c184242b6"}, "closed": true, "closedAt": "2020-07-20T17:28:21Z", "author": {"login": "martinbonnin"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2i1NYgFqTQ1MTE1OTc5NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc2w6aJABqjM1NjU1OTE4NTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMTU5Nzk1", "url": "https://github.com/apollographql/apollo-android/pull/2447#pullrequestreview-451159795", "createdAt": "2020-07-19T20:12:53Z", "commit": {"oid": "3dca6a6ae7cfab65030b822ce908f1eb0344e474"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMTY0NzQ1", "url": "https://github.com/apollographql/apollo-android/pull/2447#pullrequestreview-451164745", "createdAt": "2020-07-19T21:29:07Z", "commit": {"oid": "3dca6a6ae7cfab65030b822ce908f1eb0344e474"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQyMToyOTowN1rOGzyfbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQyMToyOTowN1rOGzyfbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk1NzgwNg==", "bodyText": "nit: should buffer.toSortedMap() do the same?", "url": "https://github.com/apollographql/apollo-android/pull/2447#discussion_r456957806", "createdAt": "2020-07-19T21:29:07Z", "author": {"login": "sav007"}, "path": "apollo-normalized-cache/src/commonMain/kotlin/com/apollographql/apollo/cache/normalized/internal/SortedInputFieldMapWriter.kt", "diffHunk": "@@ -3,18 +3,14 @@ package com.apollographql.apollo.cache.normalized.internal\n import com.apollographql.apollo.api.ScalarType\n import com.apollographql.apollo.api.internal.InputFieldMarshaller\n import com.apollographql.apollo.api.internal.InputFieldWriter\n-import com.apollographql.apollo.api.internal.Utils.__checkNotNull\n-import java.io.IOException\n-import java.util.ArrayList\n-import java.util.Collections\n-import java.util.Comparator\n-import java.util.TreeMap\n+import com.apollographql.apollo.api.internal.Throws\n+import okio.IOException\n \n-class SortedInputFieldMapWriter(private val fieldNameComparator: Comparator<String>) : InputFieldWriter {\n-  private val buffer = TreeMap<String, Any?>(fieldNameComparator)\n+class SortedInputFieldMapWriter() : InputFieldWriter {\n+  private val buffer = mutableMapOf<String, Any?>()\n \n   fun map(): Map<String, Any?> {\n-    return Collections.unmodifiableMap(buffer)\n+    return buffer.toList().sortedBy { it.first }.toMap()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3dca6a6ae7cfab65030b822ce908f1eb0344e474"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "031a438c4d6d5560dbff7c10f56bb54ef89cf5f9", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/031a438c4d6d5560dbff7c10f56bb54ef89cf5f9", "committedDate": "2020-07-20T12:36:55Z", "message": "introduce the plugin multiplatform plugin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdf6dd0f0491d9620121e5645b92d439f268674f", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/cdf6dd0f0491d9620121e5645b92d439f268674f", "committedDate": "2020-07-20T12:36:55Z", "message": "remove some java imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad59c558e2713de3616071cd1ea706b67c5ace6b", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/ad59c558e2713de3616071cd1ea706b67c5ace6b", "committedDate": "2020-07-20T12:36:55Z", "message": "remove the fieldNameComparator"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3dca6a6ae7cfab65030b822ce908f1eb0344e474", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/3dca6a6ae7cfab65030b822ce908f1eb0344e474", "committedDate": "2020-07-15T14:32:01Z", "message": "remove the fieldNameComparator"}, "afterCommit": {"oid": "ad59c558e2713de3616071cd1ea706b67c5ace6b", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/ad59c558e2713de3616071cd1ea706b67c5ace6b", "committedDate": "2020-07-20T12:36:55Z", "message": "remove the fieldNameComparator"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4298, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}