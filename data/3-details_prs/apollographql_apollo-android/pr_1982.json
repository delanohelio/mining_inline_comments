{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyNzY5NTQ1", "number": 1982, "title": "[Plugin] Fix compile task naming", "bodyText": "Closes #1981\nThe java plugin removes the dash when generating the task name, do the same in the apollo plugin.", "createdAt": "2020-02-08T23:26:24Z", "url": "https://github.com/apollographql/apollo-android/pull/1982", "merged": true, "mergeCommit": {"oid": "9cbc5819ea363e8c23bee6c8c7df96502856e054"}, "closed": true, "closedAt": "2020-02-10T15:31:06Z", "author": {"login": "martinbonnin"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcCcvOHgFqTM1NTU3NDgzMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcC5tXKABqjMwMjE5MTkyNjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NTc0ODMy", "url": "https://github.com/apollographql/apollo-android/pull/1982#pullrequestreview-355574832", "createdAt": "2020-02-08T23:41:50Z", "commit": {"oid": "086e39aef70cc5e7e8b058b363e086a911ff96e1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOFQyMzo0MTo1MVrOFnSfgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOFQyMzo0MTo1MVrOFnSfgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc0MTc2Mw==", "bodyText": "Hmm, I'm not sure about using internal APIs. This bite me back a lot of times before. Task names are public. Gradle and Kotlin team will never change task names like compileKotlin or compileFooJava. But they may do internal refactoring which even removed/renames this class.\nLittle duplication of code where you need to remove Main is not too bad.", "url": "https://github.com/apollographql/apollo-android/pull/1982#discussion_r376741763", "createdAt": "2020-02-08T23:41:51Z", "author": {"login": "tasomaniac"}, "path": "apollo-gradle-plugin/src/main/kotlin/com/apollographql/apollo/gradle/internal/JvmTaskConfigurator.kt", "diffHunk": "@@ -2,6 +2,7 @@ package com.apollographql.apollo.gradle.internal\n \n import org.gradle.api.NamedDomainObjectContainer\n import org.gradle.api.Project\n+import org.gradle.api.internal.jvm.ClassDirectoryBinaryNamingScheme", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "086e39aef70cc5e7e8b058b363e086a911ff96e1"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NjMzMjA4", "url": "https://github.com/apollographql/apollo-android/pull/1982#pullrequestreview-355633208", "createdAt": "2020-02-09T21:01:07Z", "commit": {"oid": "49af672d4f20c110ee6d7c77a5cb519bdd7f892d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQyMTowMTowN1rOFnW9nA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQyMTowMTowN1rOFnW9nA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgxNTAwNA==", "bodyText": "nit: \ud83e\udd14 I think Kotlin 'String.decapitalize()' provides the same function?", "url": "https://github.com/apollographql/apollo-android/pull/1982#discussion_r376815004", "createdAt": "2020-02-09T21:01:07Z", "author": {"login": "sav007"}, "path": "apollo-gradle-plugin/src/main/kotlin/com/apollographql/apollo/gradle/internal/GUtil.kt", "diffHunk": "@@ -0,0 +1,59 @@\n+package com.apollographql.apollo.gradle.internal\n+\n+import java.util.regex.Pattern\n+\n+/*\n+ * Adapted from Gradle GUtil.java so that we can match the task names\n+ *\n+ * Copyright 2010 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+object GUtil {\n+  private val WORD_SEPARATOR: Pattern = Pattern.compile(\"\\\\W+\")\n+\n+  fun String.uncapitalize(): String {\n+    return if (isNotEmpty() && this[0].isUpperCase()) substring(0, 1).toLowerCase() + substring(1) else this\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "49af672d4f20c110ee6d7c77a5cb519bdd7f892d"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NjMzMjQz", "url": "https://github.com/apollographql/apollo-android/pull/1982#pullrequestreview-355633243", "createdAt": "2020-02-09T21:01:37Z", "commit": {"oid": "49af672d4f20c110ee6d7c77a5cb519bdd7f892d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NjMzNzQy", "url": "https://github.com/apollographql/apollo-android/pull/1982#pullrequestreview-355633742", "createdAt": "2020-02-09T21:09:57Z", "commit": {"oid": "49af672d4f20c110ee6d7c77a5cb519bdd7f892d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64e1156f27a2564e979af20fb17053446e5131de", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/64e1156f27a2564e979af20fb17053446e5131de", "committedDate": "2020-02-10T09:26:15Z", "message": "borrow some code from the Java plugin to make sure the taskName matches"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "122c558824174d012748231359d9efc7edc7a58e", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/122c558824174d012748231359d9efc7edc7a58e", "committedDate": "2020-02-10T09:26:15Z", "message": "Added a test for sourceSets with a dash inside"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e53827a36479680884d2ac47520ee8dcf28a23df", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/e53827a36479680884d2ac47520ee8dcf28a23df", "committedDate": "2020-02-10T09:26:15Z", "message": "do not rely on internal APIs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f96c093835c1e6bb4932e5edc1a87fec6d50b62", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/1f96c093835c1e6bb4932e5edc1a87fec6d50b62", "committedDate": "2020-02-10T09:26:55Z", "message": "use Kotlin builtin function"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "49af672d4f20c110ee6d7c77a5cb519bdd7f892d", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/49af672d4f20c110ee6d7c77a5cb519bdd7f892d", "committedDate": "2020-02-09T00:06:38Z", "message": "do not rely on internal APIs"}, "afterCommit": {"oid": "1f96c093835c1e6bb4932e5edc1a87fec6d50b62", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/1f96c093835c1e6bb4932e5edc1a87fec6d50b62", "committedDate": "2020-02-10T09:26:55Z", "message": "use Kotlin builtin function"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4034, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}