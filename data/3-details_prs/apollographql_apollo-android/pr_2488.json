{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4OTgwMTc2", "number": 2488, "title": "[Plugin] better error message for multiple schemas", "bodyText": "do not put absolute paths in the error message\nadd a rootPackageName\nuse .set instead of = as it works for both Groovy and Kotlin build scripts\n\nbefore\n  ApolloGraphQL: By default only one schema.[json | sdl] file is supported.\n  Please use multiple services instead:\n  apollo {\n  \n    service(\"github\") {\n      sourceFolder = \"/Users/mbonnin/git/apollo-android-samples/multiple-services/src/main/graphql/com/github\"\n    }\n  \n    service(\"fullstack\") {\n      sourceFolder = \"/Users/mbonnin/git/apollo-android-samples/multiple-services/src/main/graphql/com/apollographql/fullstack\"\n    }\n  }\n\nafter\n  ApolloGraphQL: By default only one schema.[json | sdl] file is supported.\n  Please use multiple services instead:\n  apollo {\n  \n    service(\"service1\") {\n      sourceFolder.set(\"com/service1)\"\n      rootPackageName.set(\"com.service1)\n    }\n  \n    service(\"service2\") {\n      sourceFolder.set(\"com/service2)\"\n      rootPackageName.set(\"com.service2)\n    }\n  }", "createdAt": "2020-07-30T08:44:58Z", "url": "https://github.com/apollographql/apollo-android/pull/2488", "merged": true, "mergeCommit": {"oid": "316b167136a32d4540bc8d99f9fb9d1f35f5927d"}, "closed": true, "closedAt": "2020-08-07T18:55:53Z", "author": {"login": "martinbonnin"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc57jMGAH2gAyNDU4OTgwMTc2OmY4YTlkM2JhZTVmNmY0YWJhYmFiYTJkZDcxZjAxODc2OTMwOTNkZWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8mV7egFqTQ2MzQxNDA4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f8a9d3bae5f6f4abababa2dd71f0187693093def", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/f8a9d3bae5f6f4abababa2dd71f0187693093def", "committedDate": "2020-07-30T08:42:36Z", "message": "better error for multiple schemas:\n\n* do not put absolute paths\n* add a rootPackageName"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NTY2NTgy", "url": "https://github.com/apollographql/apollo-android/pull/2488#pullrequestreview-459566582", "createdAt": "2020-08-01T09:26:47Z", "commit": {"oid": "f8a9d3bae5f6f4abababa2dd71f0187693093def"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMVQwOToyNjo0N1rOG6c4fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMVQwOToyNjo0N1rOG6c4fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzk0MzgwNg==", "bodyText": "Are you sure the parentFile is enough? What happens if there are multiple nested folders? It might be better to relativize to the project folder?", "url": "https://github.com/apollographql/apollo-android/pull/2488#discussion_r463943806", "createdAt": "2020-08-01T09:26:47Z", "author": {"login": "tasomaniac"}, "path": "apollo-gradle-plugin/src/main/kotlin/com/apollographql/apollo/gradle/internal/DefaultCompilationUnit.kt", "diffHunk": "@@ -99,11 +99,13 @@ abstract class DefaultCompilationUnit @Inject constructor(\n       }\n     }\n \n-    private fun multipleSchemaError(schemaList: List<File>): String {\n+    private fun multipleSchemaError(project: Project, schemaList: List<File>): String {\n       val services = schemaList.joinToString(\"\\n\") {\n+        val name = it.parentFile.name", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8a9d3bae5f6f4abababa2dd71f0187693093def"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b53b06331751827a61e921c8629eda7fe61106e8", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/b53b06331751827a61e921c8629eda7fe61106e8", "committedDate": "2020-08-04T11:55:28Z", "message": "use placeholders and redirect to the documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7791a8e49f147989a9e6c3dfacf16fa95b237e00", "author": {"user": {"login": "martinbonnin", "name": "Martin Bonnin"}}, "url": "https://github.com/apollographql/apollo-android/commit/7791a8e49f147989a9e6c3dfacf16fa95b237e00", "committedDate": "2020-08-04T11:56:54Z", "message": "remove unused parameters"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzNDE0MDgy", "url": "https://github.com/apollographql/apollo-android/pull/2488#pullrequestreview-463414082", "createdAt": "2020-08-07T15:41:53Z", "commit": {"oid": "7791a8e49f147989a9e6c3dfacf16fa95b237e00"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4235, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}