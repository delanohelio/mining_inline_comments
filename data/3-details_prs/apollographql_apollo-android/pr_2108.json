{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0OTkzODI4", "number": 2108, "title": "Fix IdlingResources issue with Watcher", "bodyText": "Fixes #1805\nSolution\nAdding a Watcher adds a call internally so that already contributes to the callCount. Watcher itself should not contribute to the call count.\nTest case contributed by @odlund \ud83d\udc4f", "createdAt": "2020-03-27T22:23:35Z", "url": "https://github.com/apollographql/apollo-android/pull/2108", "merged": true, "mergeCommit": {"oid": "a483d3cc1b76abc679e1972015d7b3ec2022a742"}, "closed": true, "closedAt": "2020-03-30T17:33:41Z", "author": {"login": "tasomaniac"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcR4WEZgH2gAyMzk0OTkzODI4OjVlNGM3YmY2YTE1ZDYwYTZiMzZhYmNjMTgyODI0Zjc1ZDljMzQ1ZTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcSNYgRgFqTM4MzM1NjUxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5e4c7bf6a15d60a6b36abcc182824f75d9c345e1", "author": {"user": {"login": "tasomaniac", "name": "Said Tahsin Dane"}}, "url": "https://github.com/apollographql/apollo-android/commit/5e4c7bf6a15d60a6b36abcc182824f75d9c345e1", "committedDate": "2020-03-27T22:21:35Z", "message": "Also fix IdlingResources issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f880ba89b1cce2642b588d2caeba5f8913e5e90c", "author": {"user": null}, "url": "https://github.com/apollographql/apollo-android/commit/f880ba89b1cce2642b588d2caeba5f8913e5e90c", "committedDate": "2020-03-27T22:21:35Z", "message": "Test that shows watcher idling issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc778ff290f738bf7547b4a55b366e9fccf758d7", "author": {"user": {"login": "tasomaniac", "name": "Said Tahsin Dane"}}, "url": "https://github.com/apollographql/apollo-android/commit/bc778ff290f738bf7547b4a55b366e9fccf758d7", "committedDate": "2020-03-27T22:21:35Z", "message": "Proper fix for IdlingResource issue\n\nAdding a Watcher adds a call internally so that already contributes to the callCount. Watcher itself should not contribute to the call count."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMjMzMzYx", "url": "https://github.com/apollographql/apollo-android/pull/2108#pullrequestreview-383233361", "createdAt": "2020-03-27T22:25:44Z", "commit": {"oid": "bc778ff290f738bf7547b4a55b366e9fccf758d7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QyMjoyNTo0NFrOF9DjCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QyMjoyNTo0NFrOF9DjCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU2NTU3OA==", "bodyText": "I can revert these if wanted. IntelliJ automatically put them", "url": "https://github.com/apollographql/apollo-android/pull/2108#discussion_r399565578", "createdAt": "2020-03-27T22:25:44Z", "author": {"login": "tasomaniac"}, "path": "apollo-runtime/src/main/java/com/apollographql/apollo/internal/ApolloCallTracker.java", "diffHunk": "@@ -160,12 +164,13 @@ void registerMutationCall(@NotNull ApolloMutationCall apolloMutationCall) {\n     checkNotNull(apolloMutationCall, \"apolloMutationCall == null\");\n     OperationName operationName = apolloMutationCall.operation().name();\n     registerCall(activeMutationCalls, operationName, apolloMutationCall);\n+    activeCallCount.incrementAndGet();\n   }\n \n   /**\n    * <p>Removes provided {@link ApolloMutationCall} that finished his execution, if it is found, else throws an\n    * {@link AssertionError}.</p>\n-   *\n+   * <p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc778ff290f738bf7547b4a55b366e9fccf758d7"}, "originalPosition": 92}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzU2NTE0", "url": "https://github.com/apollographql/apollo-android/pull/2108#pullrequestreview-383356514", "createdAt": "2020-03-28T22:52:15Z", "commit": {"oid": "bc778ff290f738bf7547b4a55b366e9fccf758d7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3900, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}