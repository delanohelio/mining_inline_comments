{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzMTYzODEz", "number": 2356, "title": "Introduce KN subscriptions", "bodyText": "Introduce new API ApolloClient.subscribe to execute subscriptions\nReplace GraphQLRequest.kt / GraphQLResponse.kt with new ApolloRequest.kt / ApolloResponse.kt\nRefactor NetworkTransport to execute ApolloRequest and return ApolloResponse\nMove ApolloHttpNetworkTransport and everything related to own package http\n\nAs side effect of this refactoring is that on iOS parsing GraphQL response is done on background thread.\nPart of #2222", "createdAt": "2020-06-11T15:33:11Z", "url": "https://github.com/apollographql/apollo-android/pull/2356", "merged": true, "mergeCommit": {"oid": "1465640c4bd8920a3755d0df62b09e6ae568c262"}, "closed": true, "closedAt": "2020-06-23T01:09:34Z", "author": {"login": "sav007"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrwa9dgFqTQzMTI0NTI0Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABct6gEqAH2gAyNDMzMTYzODEzOmFiMWQxMjMxZjNhMDc2MmQxN2RmMDlkNDA3ODdjNjIwNmYwNzg5NWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxMjQ1MjQz", "url": "https://github.com/apollographql/apollo-android/pull/2356#pullrequestreview-431245243", "createdAt": "2020-06-16T07:49:42Z", "commit": {"oid": "4666e8851bc89b80b23cb0f860caa81401e7568d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwNzo0OTo0M1rOGkPW3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwNzo0OTo0M1rOGkPW3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDY1MzUzMg==", "bodyText": "Looks like requestUuid is specific to WebSockets, a bit similar to how headers are specific to Http. Should it be in an opaque ExecutionContext.Element ?", "url": "https://github.com/apollographql/apollo-android/pull/2356#discussion_r440653532", "createdAt": "2020-06-16T07:49:43Z", "author": {"login": "martinbonnin"}, "path": "apollo-runtime-kotlin/src/commonMain/kotlin/com/apollographql/apollo/interceptor/ApolloRequest.kt", "diffHunk": "@@ -4,10 +4,13 @@ import com.apollographql.apollo.api.ApolloExperimental\n import com.apollographql.apollo.api.ExecutionContext\n import com.apollographql.apollo.api.Operation\n import com.apollographql.apollo.api.ScalarTypeAdapters\n+import com.benasher44.uuid.uuid4\n \n @ApolloExperimental\n-class ApolloRequest<T> constructor(\n-    val operation: Operation<*, T, *>,\n+class ApolloRequest<D : Operation.Data>(\n+    val operation: Operation<D, D, *>,\n     val scalarTypeAdapters: ScalarTypeAdapters,\n-    val executionContext: ExecutionContext = ExecutionContext.Empty\n-)\n+    val executionContext: ExecutionContext\n+) {\n+  val requestUuid = uuid4()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4666e8851bc89b80b23cb0f860caa81401e7568d"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxMjU2Mzc5", "url": "https://github.com/apollographql/apollo-android/pull/2356#pullrequestreview-431256379", "createdAt": "2020-06-16T08:04:12Z", "commit": {"oid": "4666e8851bc89b80b23cb0f860caa81401e7568d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecdf4681dd6a1742ccbad8fc77295266bfa09624", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/ecdf4681dd6a1742ccbad8fc77295266bfa09624", "committedDate": "2020-06-22T22:04:22Z", "message": "Introduce KN subscriptions\n\n- Introduce new API `ApolloClient.subscribe` to execute subscriptions\n- Replace `GraphQLRequest.kt` / `GraphQLResponse.kt` with new `ApolloRequest.kt` / `ApolloResponse.kt`\n- Refactor `NetworkTransport` to execute `ApolloRequest` and return `ApolloResponse`\n- Move `ApolloHttpNetworkTransport` and everything related to own package `http`\n\nAs side effect of this refactoring is that on iOS parsing now is done on background thread.\n\nPart of https://github.com/apollographql/apollo-android/issues/2222"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0811bfa9a8372cb9ecdbeae601a366f22177589a", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/0811bfa9a8372cb9ecdbeae601a366f22177589a", "committedDate": "2020-06-22T22:04:25Z", "message": "Make `ApolloWebSocketNetworkTransportTest` to be common"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f51fbee38478a2052acd59f79bf22a0eee8fedf", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/0f51fbee38478a2052acd59f79bf22a0eee8fedf", "committedDate": "2020-06-22T22:04:25Z", "message": "Introduce auto disconnect the socket connection after timeout"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c313dd97241fb71901af742de3c44c9616d12dc", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/2c313dd97241fb71901af742de3c44c9616d12dc", "committedDate": "2020-06-22T22:04:25Z", "message": "Update default timeouts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1cec46bea708b1dc700c6ce50e1ef6f30cb3787", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/d1cec46bea708b1dc700c6ce50e1ef6f30cb3787", "committedDate": "2020-06-22T22:04:25Z", "message": "Remove garbage"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4666e8851bc89b80b23cb0f860caa81401e7568d", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/4666e8851bc89b80b23cb0f860caa81401e7568d", "committedDate": "2020-06-16T03:57:42Z", "message": "Remove garbage"}, "afterCommit": {"oid": "d1cec46bea708b1dc700c6ce50e1ef6f30cb3787", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/d1cec46bea708b1dc700c6ce50e1ef6f30cb3787", "committedDate": "2020-06-22T22:04:25Z", "message": "Remove garbage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab1d1231f3a0762d17df09d40787c6206f07895f", "author": {"user": {"login": "sav007", "name": "Ivan Savytskyi"}}, "url": "https://github.com/apollographql/apollo-android/commit/ab1d1231f3a0762d17df09d40787c6206f07895f", "committedDate": "2020-06-23T00:42:12Z", "message": "Fix test"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3839, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}