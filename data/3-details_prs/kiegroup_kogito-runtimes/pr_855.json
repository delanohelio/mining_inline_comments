{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExNDk0MDM2", "number": 855, "title": "FAI-214: add the execution ID as a header in the response", "bodyText": "Jira Task\nRelated PR in kogito-examples", "createdAt": "2020-10-28T12:00:37Z", "url": "https://github.com/kiegroup/kogito-runtimes/pull/855", "merged": true, "mergeCommit": {"oid": "aee26e0aa39065b0780b22f9bc2c0617037f2c42"}, "closed": true, "closedAt": "2020-11-05T16:55:59Z", "author": {"login": "kostola"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdW8JVSAH2gAyNTExNDk0MDM2OjhlZmFkYjE2MTNlOWEwNGEyYWU3NjU0ZjU3OGFmMjM3YmQ5Y2IzNGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZlUEagFqTUyNDQ2NTIyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8efadb1613e9a04a2ae7654f578af237bd9cb34f", "author": {"user": {"login": "kostola", "name": "Alessandro Costa"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/8efadb1613e9a04a2ae7654f578af237bd9cb34f", "committedDate": "2020-10-28T11:48:04Z", "message": "FAI-214: add the execution ID as a header in the response"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f21d4b79c387783347e200812eae33602524c95", "author": {"user": {"login": "kostola", "name": "Alessandro Costa"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/3f21d4b79c387783347e200812eae33602524c95", "committedDate": "2020-10-29T09:23:54Z", "message": "FAI-214: merge 'master' into 'FAI-214'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c94a3747b28b68e9de1c9b92f7f4c0d952a4b34", "author": {"user": {"login": "kostola", "name": "Alessandro Costa"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/5c94a3747b28b68e9de1c9b92f7f4c0d952a4b34", "committedDate": "2020-10-29T10:52:46Z", "message": "FAI-214: cleaner code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5NTc3NzQ1", "url": "https://github.com/kiegroup/kogito-runtimes/pull/855#pullrequestreview-519577745", "createdAt": "2020-10-29T11:40:56Z", "commit": {"oid": "5c94a3747b28b68e9de1c9b92f7f4c0d952a4b34"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMTo0MDo1NlrOHqX6bA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMTo0MTo1NlrOHqX8Yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE5NDAyOA==", "bodyText": "I think you should swap these two lines and avoid to add Metadata to rest.DMNResult. This object is sent back to user and it should not contain other/external data\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    org.kie.kogito.dmn.rest.DMNResult result = new org.kie.kogito.dmn.rest.DMNResult(\"$modelNamespace$\", \"$modelName$\", decision.evaluateAll(DMNJSONUtils.ctx(decision, $inputData$)));\n          \n          \n            \n                    enrichResponseHeaders(result);\n          \n          \n            \n                    enrichResponseHeaders(result);\n          \n          \n            \n                    org.kie.kogito.dmn.rest.DMNResult result = new org.kie.kogito.dmn.rest.DMNResult(\"$modelNamespace$\", \"$modelName$\", decision.evaluateAll(DMNJSONUtils.ctx(decision, $inputData$)));", "url": "https://github.com/kiegroup/kogito-runtimes/pull/855#discussion_r514194028", "createdAt": "2020-10-29T11:40:56Z", "author": {"login": "danielezonca"}, "path": "kogito-codegen/src/main/resources/class-templates/DecisionRestResourceTemplate.java", "diffHunk": "@@ -39,11 +33,12 @@\n     @io.swagger.v3.oas.annotations.responses.ApiResponse(content = @io.swagger.v3.oas.annotations.media.Content(mediaType = \"application/json\",schema = @io.swagger.v3.oas.annotations.media.Schema(ref = \"/dmnDefinitions.json#/definitions/OutputSet1\")))\n     public $outputType$ dmn($inputType$ variables) {\n         org.kie.kogito.decision.DecisionModel decision = application.decisionModels().getDecisionModel(\"$modelNamespace$\", \"$modelName$\");\n-        OutputSet outputSet = (OutputSet)StronglyTypedUtils.convertToOutputSet(variables, OutputSet.class);\n+        OutputSet outputSet = (OutputSet) StronglyTypedUtils.convertToOutputSet(variables, OutputSet.class);\n         org.kie.kogito.dmn.rest.DMNResult result = new org.kie.kogito.dmn.rest.DMNResult(\"$modelNamespace$\", \"$modelName$\", decision.evaluateAll(DMNJSONUtils.ctx(decision, $inputData$)));\n+        enrichResponseHeaders(result);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c94a3747b28b68e9de1c9b92f7f4c0d952a4b34"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE5NDUzMA==", "bodyText": "Why return a value that is not used?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private DMNResult enrichResponseHeaders(DMNResult result) {\n          \n          \n            \n                private void enrichResponseHeaders(DMNResult result) {", "url": "https://github.com/kiegroup/kogito-runtimes/pull/855#discussion_r514194530", "createdAt": "2020-10-29T11:41:56Z", "author": {"login": "danielezonca"}, "path": "kogito-codegen/src/main/resources/class-templates/DecisionRestResourceTemplate.java", "diffHunk": "@@ -102,11 +94,18 @@ private Object extractSingletonDSIfSucceded(DMNResult result) {\n             throw new DMNEvaluationErrorException(result);\n         }\n     }\n-    \n-    private void enrichResponseHeaders(DMNResult result) {\n-        if (!result.getMessages().isEmpty()) {\n+\n+    private DMNResult enrichResponseHeaders(DMNResult result) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c94a3747b28b68e9de1c9b92f7f4c0d952a4b34"}, "originalPosition": 80}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5NTkzOTcx", "url": "https://github.com/kiegroup/kogito-runtimes/pull/855#pullrequestreview-519593971", "createdAt": "2020-10-29T12:04:19Z", "commit": {"oid": "5c94a3747b28b68e9de1c9b92f7f4c0d952a4b34"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f40be8bb761093e97feee2b49bd62344afae4a5", "author": {"user": {"login": "kostola", "name": "Alessandro Costa"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/7f40be8bb761093e97feee2b49bd62344afae4a5", "committedDate": "2020-10-29T12:29:15Z", "message": "FAI-214: cleaner code pt.2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5ODA4NzQ4", "url": "https://github.com/kiegroup/kogito-runtimes/pull/855#pullrequestreview-519808748", "createdAt": "2020-10-29T15:45:14Z", "commit": {"oid": "7f40be8bb761093e97feee2b49bd62344afae4a5"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzMzUyMjg3", "url": "https://github.com/kiegroup/kogito-runtimes/pull/855#pullrequestreview-523352287", "createdAt": "2020-11-04T13:21:34Z", "commit": {"oid": "7f40be8bb761093e97feee2b49bd62344afae4a5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d7861812f146f63c0ecde63eb75d175b83f38a6", "author": {"user": {"login": "kostola", "name": "Alessandro Costa"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/0d7861812f146f63c0ecde63eb75d175b83f38a6", "committedDate": "2020-11-04T15:45:04Z", "message": "FAI-214: merge branch 'master' into 'FAI-214'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0NDY1MjIx", "url": "https://github.com/kiegroup/kogito-runtimes/pull/855#pullrequestreview-524465221", "createdAt": "2020-11-05T16:53:45Z", "commit": {"oid": "0d7861812f146f63c0ecde63eb75d175b83f38a6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3795, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}