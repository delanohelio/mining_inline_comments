{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0MDQ1NTU0", "number": 729, "title": "[KOGITO-1920] - Example for persistence in Mongo DB with Quarkus(native image )", "bodyText": "Signed-off-by: Swati Kale swkale@redhat.com\nMany thanks for submitting your Pull Request \u2764\ufe0f!\nPlease make sure that your PR meets the following requirements:\n\n You have read the contributors guide\n Pull Request title is properly formatted: KOGITO-XYZ Subject\n Pull Request title contains the target branch if not targeting master: [0.9.x] KOGITO-XYZ Subject\n Pull Request contains link to the JIRA issue\n Pull Request contains link to any dependent or related Pull Request\n Pull Request contains description of the issue\n Pull Request does not include fixes for issues other than the main ticket", "createdAt": "2020-08-26T17:17:21Z", "url": "https://github.com/kiegroup/kogito-runtimes/pull/729", "merged": true, "mergeCommit": {"oid": "cf08baa73323f032d1c95a0e8863dd343f22d131"}, "closed": true, "closedAt": "2020-08-28T01:32:16Z", "author": {"login": "swati-kale"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdC2opIgFqTQ3NjMzNDcwNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdDKxgcAFqTQ3NzE4NTU5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2MzM0NzA1", "url": "https://github.com/kiegroup/kogito-runtimes/pull/729#pullrequestreview-476334705", "createdAt": "2020-08-27T02:04:15Z", "commit": {"oid": "257c659bd750b2a6627377faf69c02ab5bb1087d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwMjowNDoxNVrOHHx3Yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwMjowNDoxNVrOHHx3Yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzkxOTA3NA==", "bodyText": "@swati-kale I think the solution is good but we shouldnt depend on the mongo client parameter to define if the native items should be produced. I think a better approach would be to check the persistence type. Perhaps extract the logic from the PersistenceGenerator and reuse the type here and as parameter to the generator.", "url": "https://github.com/kiegroup/kogito-runtimes/pull/729#discussion_r477919074", "createdAt": "2020-08-27T02:04:15Z", "author": {"login": "cristianonicolai"}, "path": "kogito-quarkus-extension/deployment/src/main/java/org/kie/kogito/quarkus/deployment/KogitoAssetsProcessor.java", "diffHunk": "@@ -287,6 +288,18 @@ private void generatePersistenceInfo(AppPaths appPaths, IndexView inputIndex) th\n         if (usePersistence) {\n             resource.produce(new NativeImageResourceBuildItem(\"kogito-types.proto\"));\n         }\n+        \n+        if(!parameters.isEmpty() && parameters.contains(\"com.mongodb.client.MongoClient\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "257c659bd750b2a6627377faf69c02ab5bb1087d"}, "originalPosition": 13}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "257c659bd750b2a6627377faf69c02ab5bb1087d", "author": {"user": {"login": "swati-kale", "name": "Swati Kale"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/257c659bd750b2a6627377faf69c02ab5bb1087d", "committedDate": "2020-08-26T17:12:57Z", "message": "[KOGITO-1920] - Example for persistence in Mongo DB with Quarkus\n\nSigned-off-by: Swati Kale <swkale@redhat.com>"}, "afterCommit": {"oid": "38d642b18d55862ff9d9c773a801bf23a7afe940", "author": {"user": {"login": "swati-kale", "name": "Swati Kale"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/38d642b18d55862ff9d9c773a801bf23a7afe940", "committedDate": "2020-08-27T04:24:36Z", "message": "[KOGITO-1920] - Example for persistence in Mongo DB with Quarkus\n\nSigned-off-by: Swati Kale <swkale@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "38d642b18d55862ff9d9c773a801bf23a7afe940", "author": {"user": {"login": "swati-kale", "name": "Swati Kale"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/38d642b18d55862ff9d9c773a801bf23a7afe940", "committedDate": "2020-08-27T04:24:36Z", "message": "[KOGITO-1920] - Example for persistence in Mongo DB with Quarkus\n\nSigned-off-by: Swati Kale <swkale@redhat.com>"}, "afterCommit": {"oid": "63f29bbd4eb554fb439a315f833d4ec253e1e1e0", "author": {"user": {"login": "swati-kale", "name": "Swati Kale"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/63f29bbd4eb554fb439a315f833d4ec253e1e1e0", "committedDate": "2020-08-27T06:16:26Z", "message": "[KOGITO-1920] - Example for persistence in Mongo DB with Quarkus\n\nSigned-off-by: Swati Kale <swkale@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2NDI3OTkw", "url": "https://github.com/kiegroup/kogito-runtimes/pull/729#pullrequestreview-476427990", "createdAt": "2020-08-27T06:44:54Z", "commit": {"oid": "63f29bbd4eb554fb439a315f833d4ec253e1e1e0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwNjo0NDo1NVrOHICd2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwNjo0NDo1NVrOHICd2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODE5MTA2Nw==", "bodyText": "just to make it consistent with the other tyes\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private static final String FILESYSTEM_PERSISTENCE_TYPE = \"filesystem\";\n          \n          \n            \n                private static final String INFINISPAN_PERSISTENCE_TYPE = \"infinispan\";\n          \n          \n            \n                public static final String FILESYSTEM_PERSISTENCE_TYPE = \"filesystem\";\n          \n          \n            \n                public static final String INFINISPAN_PERSISTENCE_TYPE = \"infinispan\";", "url": "https://github.com/kiegroup/kogito-runtimes/pull/729#discussion_r478191067", "createdAt": "2020-08-27T06:44:55Z", "author": {"login": "cristianonicolai"}, "path": "kogito-codegen/src/main/java/org/kie/kogito/codegen/process/persistence/PersistenceGenerator.java", "diffHunk": "@@ -66,8 +66,8 @@\n \n     private static final String FILESYSTEM_PERSISTENCE_TYPE = \"filesystem\";\n     private static final String INFINISPAN_PERSISTENCE_TYPE = \"infinispan\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63f29bbd4eb554fb439a315f833d4ec253e1e1e0"}, "originalPosition": 3}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "63f29bbd4eb554fb439a315f833d4ec253e1e1e0", "author": {"user": {"login": "swati-kale", "name": "Swati Kale"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/63f29bbd4eb554fb439a315f833d4ec253e1e1e0", "committedDate": "2020-08-27T06:16:26Z", "message": "[KOGITO-1920] - Example for persistence in Mongo DB with Quarkus\n\nSigned-off-by: Swati Kale <swkale@redhat.com>"}, "afterCommit": {"oid": "264660e55c61919e7010adbe2e6b5bcd7eb4bc14", "author": {"user": {"login": "swati-kale", "name": "Swati Kale"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/264660e55c61919e7010adbe2e6b5bcd7eb4bc14", "committedDate": "2020-08-27T12:28:43Z", "message": "[KOGITO-1920] - Example for persistence in Mongo DB with Quarkus\n\nSigned-off-by: Swati Kale <swkale@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b245b511a6a69c65d64c6db6889244a9994b16c", "author": {"user": {"login": "swati-kale", "name": "Swati Kale"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/0b245b511a6a69c65d64c6db6889244a9994b16c", "committedDate": "2020-08-27T13:05:07Z", "message": "[KOGITO-1920] - Example for persistence in Mongo DB with Quarkus\n\nSigned-off-by: Swati Kale <swkale@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "264660e55c61919e7010adbe2e6b5bcd7eb4bc14", "author": {"user": {"login": "swati-kale", "name": "Swati Kale"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/264660e55c61919e7010adbe2e6b5bcd7eb4bc14", "committedDate": "2020-08-27T12:28:43Z", "message": "[KOGITO-1920] - Example for persistence in Mongo DB with Quarkus\n\nSigned-off-by: Swati Kale <swkale@redhat.com>"}, "afterCommit": {"oid": "0b245b511a6a69c65d64c6db6889244a9994b16c", "author": {"user": {"login": "swati-kale", "name": "Swati Kale"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/0b245b511a6a69c65d64c6db6889244a9994b16c", "committedDate": "2020-08-27T13:05:07Z", "message": "[KOGITO-1920] - Example for persistence in Mongo DB with Quarkus\n\nSigned-off-by: Swati Kale <swkale@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2ODg0Mjkz", "url": "https://github.com/kiegroup/kogito-runtimes/pull/729#pullrequestreview-476884293", "createdAt": "2020-08-27T16:22:06Z", "commit": {"oid": "0b245b511a6a69c65d64c6db6889244a9994b16c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTg1NTk4", "url": "https://github.com/kiegroup/kogito-runtimes/pull/729#pullrequestreview-477185598", "createdAt": "2020-08-28T01:32:08Z", "commit": {"oid": "0b245b511a6a69c65d64c6db6889244a9994b16c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4146, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}