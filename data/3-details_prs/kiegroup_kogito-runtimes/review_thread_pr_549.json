{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxMjg1OTU1", "number": 549, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQyMDowNzoxNVrOEEcYUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQyMDozMDoyMlrOEEczig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMDk0NzM4OnYy", "diffSide": "RIGHT", "path": "integration-tests/integration-tests-kogito-plugin/pom.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQyMDowNzoxNVrOGiEhLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxMzozODo1MlrOGidkNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM3ODc5OA==", "bodyText": "What is the reason to use invoker here? To run Maven with different properties/goals?\nAlso for springboot integration tests which are already there (done as #515) I don't see different properties, just custom settings.xml, what is it for?", "url": "https://github.com/kiegroup/kogito-runtimes/pull/549#discussion_r438378798", "createdAt": "2020-06-10T20:07:15Z", "author": {"login": "MarianMacik"}, "path": "integration-tests/integration-tests-kogito-plugin/pom.xml", "diffHunk": "@@ -0,0 +1,41 @@\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <parent>\n+    <groupId>org.kie.kogito</groupId>\n+    <artifactId>integration-tests</artifactId>\n+    <version>8.0.0-SNAPSHOT</version>\n+  </parent>\n+  <artifactId>integration-tests-kogito-plugin</artifactId>\n+  \n+  <dependencies>\n+  <dependency> <!-- make this IT module to depend on the plugin for Maven reactor build intention -->\n+    <groupId>org.kie.kogito</groupId>\n+    <artifactId>kogito-maven-plugin</artifactId>\n+    <version>${project.version}</version>\n+  </dependency>\n+  </dependencies>\n+  \n+  <build>\n+    <plugins>\n+      <plugin>\n+        <artifactId>maven-invoker-plugin</artifactId>\n+        <configuration>\n+          <streamLogs>true</streamLogs>\n+          <cloneProjectsTo>${project.build.directory}/it</cloneProjectsTo>\n+          <settingsFile>src/it/settings.xml</settingsFile>\n+          <localRepositoryPath>${project.build.directory}/local-repo</localRepositoryPath>\n+          <postBuildHookScript>verify</postBuildHookScript> <!-- no extension required -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ebe34db62d8340c9483db09cb3502e5cb5e14adc"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODYxNTA0OQ==", "bodyText": "What is the reason to use invoker here? To run Maven with different properties/goals?\n\nit's to run the Kogito Maven plug-in in the in-tree version. Otherwise it will download it from nexus, resolving to an older snapshot.\nnot sure about the other questions, @mariofusco ?", "url": "https://github.com/kiegroup/kogito-runtimes/pull/549#discussion_r438615049", "createdAt": "2020-06-11T08:09:25Z", "author": {"login": "evacchi"}, "path": "integration-tests/integration-tests-kogito-plugin/pom.xml", "diffHunk": "@@ -0,0 +1,41 @@\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <parent>\n+    <groupId>org.kie.kogito</groupId>\n+    <artifactId>integration-tests</artifactId>\n+    <version>8.0.0-SNAPSHOT</version>\n+  </parent>\n+  <artifactId>integration-tests-kogito-plugin</artifactId>\n+  \n+  <dependencies>\n+  <dependency> <!-- make this IT module to depend on the plugin for Maven reactor build intention -->\n+    <groupId>org.kie.kogito</groupId>\n+    <artifactId>kogito-maven-plugin</artifactId>\n+    <version>${project.version}</version>\n+  </dependency>\n+  </dependencies>\n+  \n+  <build>\n+    <plugins>\n+      <plugin>\n+        <artifactId>maven-invoker-plugin</artifactId>\n+        <configuration>\n+          <streamLogs>true</streamLogs>\n+          <cloneProjectsTo>${project.build.directory}/it</cloneProjectsTo>\n+          <settingsFile>src/it/settings.xml</settingsFile>\n+          <localRepositoryPath>${project.build.directory}/local-repo</localRepositoryPath>\n+          <postBuildHookScript>verify</postBuildHookScript> <!-- no extension required -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM3ODc5OA=="}, "originalCommit": {"oid": "ebe34db62d8340c9483db09cb3502e5cb5e14adc"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODc4OTE3Mw==", "bodyText": "@evacchi Can this be achieved just by leaving the version of the plugin set to <version>${project.version}</version> as we already do? We run it with disabled snapshot updates so I presume it would use the snapshot which was just built anyway as with other artifacts, or not?", "url": "https://github.com/kiegroup/kogito-runtimes/pull/549#discussion_r438789173", "createdAt": "2020-06-11T13:38:52Z", "author": {"login": "MarianMacik"}, "path": "integration-tests/integration-tests-kogito-plugin/pom.xml", "diffHunk": "@@ -0,0 +1,41 @@\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <parent>\n+    <groupId>org.kie.kogito</groupId>\n+    <artifactId>integration-tests</artifactId>\n+    <version>8.0.0-SNAPSHOT</version>\n+  </parent>\n+  <artifactId>integration-tests-kogito-plugin</artifactId>\n+  \n+  <dependencies>\n+  <dependency> <!-- make this IT module to depend on the plugin for Maven reactor build intention -->\n+    <groupId>org.kie.kogito</groupId>\n+    <artifactId>kogito-maven-plugin</artifactId>\n+    <version>${project.version}</version>\n+  </dependency>\n+  </dependencies>\n+  \n+  <build>\n+    <plugins>\n+      <plugin>\n+        <artifactId>maven-invoker-plugin</artifactId>\n+        <configuration>\n+          <streamLogs>true</streamLogs>\n+          <cloneProjectsTo>${project.build.directory}/it</cloneProjectsTo>\n+          <settingsFile>src/it/settings.xml</settingsFile>\n+          <localRepositoryPath>${project.build.directory}/local-repo</localRepositoryPath>\n+          <postBuildHookScript>verify</postBuildHookScript> <!-- no extension required -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM3ODc5OA=="}, "originalCommit": {"oid": "ebe34db62d8340c9483db09cb3502e5cb5e14adc"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMDk3Nzk5OnYy", "diffSide": "RIGHT", "path": "integration-tests/integration-tests-kogito-plugin/src/it/settings.xml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQyMDoxNzo1MlrOGiE1MA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxMzoyOToxOFrOGidDIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4MzkyMA==", "bodyText": "Where is this property specified?", "url": "https://github.com/kiegroup/kogito-runtimes/pull/549#discussion_r438383920", "createdAt": "2020-06-10T20:17:52Z", "author": {"login": "MarianMacik"}, "path": "integration-tests/integration-tests-kogito-plugin/src/it/settings.xml", "diffHunk": "@@ -0,0 +1,37 @@\n+<settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n+  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+  xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0\n+                      https://maven.apache.org/xsd/settings-1.0.0.xsd\">\n+    <profiles>\n+        <profile>\n+        <id>it-repo</id>\n+        <activation>\n+            <activeByDefault>true</activeByDefault>\n+        </activation>\n+        <repositories>\n+            <repository>\n+            <id>local.central</id>\n+            <url>@localRepositoryUrl@</url>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ebe34db62d8340c9483db09cb3502e5cb5e14adc"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU5MDI5MQ==", "bodyText": "That's just to make maven happy if I remove the property, it fails with\n[INFO] [ERROR] Error executing Maven.\n[INFO] [ERROR] 2 problems were encountered while building the effective settings\n[INFO] [ERROR] 'profiles.profile[it-repo].repositories.repository.url' for local.central is missing @ /home/mfusco/workspace/kogito/kogito-runtimes/integration-tests/integration-tests-kogito-plugin/target/it/interpolated-settings.xml\n[INFO] [ERROR] 'profiles.profile[it-repo].pluginRepositories.pluginRepository.url' for local.central is missing @ /home/mfusco/workspace/kogito/kogito-runtimes/integration-tests/integration-tests-kogito-plugin/target/it/interpolated-settings.xml", "url": "https://github.com/kiegroup/kogito-runtimes/pull/549#discussion_r438590291", "createdAt": "2020-06-11T07:19:55Z", "author": {"login": "mariofusco"}, "path": "integration-tests/integration-tests-kogito-plugin/src/it/settings.xml", "diffHunk": "@@ -0,0 +1,37 @@\n+<settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n+  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+  xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0\n+                      https://maven.apache.org/xsd/settings-1.0.0.xsd\">\n+    <profiles>\n+        <profile>\n+        <id>it-repo</id>\n+        <activation>\n+            <activeByDefault>true</activeByDefault>\n+        </activation>\n+        <repositories>\n+            <repository>\n+            <id>local.central</id>\n+            <url>@localRepositoryUrl@</url>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4MzkyMA=="}, "originalCommit": {"oid": "ebe34db62d8340c9483db09cb3502e5cb5e14adc"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODYxNDQyMA==", "bodyText": "@MarianMacik this is necessary for invoker to use the local .m2, otherwise it hits Maven Central", "url": "https://github.com/kiegroup/kogito-runtimes/pull/549#discussion_r438614420", "createdAt": "2020-06-11T08:08:06Z", "author": {"login": "evacchi"}, "path": "integration-tests/integration-tests-kogito-plugin/src/it/settings.xml", "diffHunk": "@@ -0,0 +1,37 @@\n+<settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n+  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+  xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0\n+                      https://maven.apache.org/xsd/settings-1.0.0.xsd\">\n+    <profiles>\n+        <profile>\n+        <id>it-repo</id>\n+        <activation>\n+            <activeByDefault>true</activeByDefault>\n+        </activation>\n+        <repositories>\n+            <repository>\n+            <id>local.central</id>\n+            <url>@localRepositoryUrl@</url>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4MzkyMA=="}, "originalCommit": {"oid": "ebe34db62d8340c9483db09cb3502e5cb5e14adc"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODc4MDcwNQ==", "bodyText": "Thanks.", "url": "https://github.com/kiegroup/kogito-runtimes/pull/549#discussion_r438780705", "createdAt": "2020-06-11T13:29:18Z", "author": {"login": "MarianMacik"}, "path": "integration-tests/integration-tests-kogito-plugin/src/it/settings.xml", "diffHunk": "@@ -0,0 +1,37 @@\n+<settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n+  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+  xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0\n+                      https://maven.apache.org/xsd/settings-1.0.0.xsd\">\n+    <profiles>\n+        <profile>\n+        <id>it-repo</id>\n+        <activation>\n+            <activeByDefault>true</activeByDefault>\n+        </activation>\n+        <repositories>\n+            <repository>\n+            <id>local.central</id>\n+            <url>@localRepositoryUrl@</url>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4MzkyMA=="}, "originalCommit": {"oid": "ebe34db62d8340c9483db09cb3502e5cb5e14adc"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMTAxMDE1OnYy", "diffSide": "RIGHT", "path": "kogito-quarkus-extension/deployment/src/main/java/org/kie/kogito/quarkus/deployment/KogitoAssetsProcessor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQyMDoyODowMVrOGiFJUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQyMDoyODowMVrOGiFJUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4OTA3NA==", "bodyText": "Shouldn't we call this generatedCustomizableSourcesDir to be in line with GenerateModelMojo?", "url": "https://github.com/kiegroup/kogito-runtimes/pull/549#discussion_r438389074", "createdAt": "2020-06-10T20:28:01Z", "author": {"login": "MarianMacik"}, "path": "kogito-quarkus-extension/deployment/src/main/java/org/kie/kogito/quarkus/deployment/KogitoAssetsProcessor.java", "diffHunk": "@@ -70,9 +70,9 @@\n \n public class KogitoAssetsProcessor {\n \n-    private static final String generatedResourcesDir = System.getProperty(\"kogito.codegen.sources.directory\", \"target/generated-resources/kogito\");\n-    private static final String generatedSourcesDir = System.getProperty(\"kogito.codegen.resources.directory\", \"target/generated-sources/kogito/\");\n-    private static final String generatedRestSourcesDir = System.getProperty(\"kogito.codegen.rest.directory\", \"target/generated-sources/kogito/\");\n+    private static final String generatedResourcesDir = System.getProperty(\"kogito.codegen.resources.directory\", \"target/generated-resources/kogito\");\n+    private static final String generatedSourcesDir = \"target/generated-sources/kogito/\";\n+    private static final String generatedRestSourcesDir = System.getProperty(\"kogito.codegen.sources.directory\", \"target/generated-sources/kogito/\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ebe34db62d8340c9483db09cb3502e5cb5e14adc"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMTAxNzA2OnYy", "diffSide": "RIGHT", "path": "kogito-quarkus-extension/deployment/src/main/java/org/kie/kogito/quarkus/deployment/KogitoAssetsProcessor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQyMDozMDoyMlrOGiFOEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQyMDozMDoyMlrOGiFOEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM5MDI4OA==", "bodyText": "Don't we want to add this as another parameter to GenerateModelMojo?", "url": "https://github.com/kiegroup/kogito-runtimes/pull/549#discussion_r438390288", "createdAt": "2020-06-10T20:30:22Z", "author": {"login": "MarianMacik"}, "path": "kogito-quarkus-extension/deployment/src/main/java/org/kie/kogito/quarkus/deployment/KogitoAssetsProcessor.java", "diffHunk": "@@ -70,9 +70,9 @@\n \n public class KogitoAssetsProcessor {\n \n-    private static final String generatedResourcesDir = System.getProperty(\"kogito.codegen.sources.directory\", \"target/generated-resources/kogito\");\n-    private static final String generatedSourcesDir = System.getProperty(\"kogito.codegen.resources.directory\", \"target/generated-sources/kogito/\");\n-    private static final String generatedRestSourcesDir = System.getProperty(\"kogito.codegen.rest.directory\", \"target/generated-sources/kogito/\");\n+    private static final String generatedResourcesDir = System.getProperty(\"kogito.codegen.resources.directory\", \"target/generated-resources/kogito\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ebe34db62d8340c9483db09cb3502e5cb5e14adc"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 148, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}