{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0Mjc5MTAy", "number": 834, "title": "[KOGITO-3611] Fix \"implicit\" module dependencies", "bodyText": "https://issues.redhat.com/browse/KOGITO-3611\nWhen there is a failure in one of the core modules of Kogito, for example kogito-codegen, all dependent modules should be skipped by maven but this is not happening because a module that contains a @QuarkusTest only depends on kogito-quarkus and not the compile time component kogito-quarkus-deployment that is automatically loaded by Quarkus.\nThis is a waste of build time and even more important it makes output logs quite noisy because of a lot failed test that was not supposed to run\nWithout the fix\n[INFO] Reactor Summary for Kogito Runtimes 1.0.0-SNAPSHOT:\n[INFO] \n[INFO] Kogito Runtimes .................................... SUCCESS [  3.902 s]\n[INFO] Kogito Runtimes Build BOM .......................... SUCCESS [  1.591 s]\n...\n[INFO] Kogito :: Codegen .................................. FAILURE [01:52 min]\n...\n[INFO] Kogito :: Quarkus Extension :: Deployment .......... SKIPPED\n[INFO] Kogito :: Quarkus Extension :: Integration Tests ... FAILURE [  9.276 s]\n[INFO] Kogito :: Quarkus Extension :: Integration Tests (Hot Reload) SKIPPED\n[INFO] Kogito :: Quarkus Extension :: Integration Tests (Legacy API) FAILURE [  5.872 s]\n[INFO] Kogito :: Maven Archetypes ......................... SUCCESS [  0.012 s]\n[INFO] Kogito :: Maven Archetypes :: SpringBoot ........... FAILURE [  3.664 s]\n[INFO] Kogito :: Maven Archetypes :: Quarkus .............. FAILURE [ 17.838 s]\n[INFO] Kogito :: Integration Tests ........................ SUCCESS [  0.015 s]\n[INFO] Kogito :: Integration Tests :: Quarkus :: Rules .... FAILURE [  6.908 s]\n[INFO] Kogito :: Integration Tests :: Quarkus :: Processes  FAILURE [ 10.124 s]\n[INFO] Kogito :: Integration Tests :: Quarkus :: Decisions  FAILURE [  7.350 s]\n[INFO] Kogito :: Integration Tests :: Quarkus :: Predictions FAILURE [  7.101 s]\n[INFO] Kogito :: Integration Tests :: SpringBoot .......... SKIPPED\n[INFO] Kogito :: Integration Tests :: Maven Plugin ........ SKIPPED\n[INFO] Kogito :: Jenkins Spock Tests ...................... SUCCESS [ 24.302 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n\nAfter the fix\n[INFO] Reactor Summary for Kogito Runtimes 1.0.0-SNAPSHOT:\n[INFO] \n[INFO] Kogito Runtimes .................................... SUCCESS [  1.531 s]\n[INFO] Kogito Runtimes Build BOM .......................... SUCCESS [  0.479 s]\n...\n[INFO] Kogito :: Codegen .................................. FAILURE [01:43 min]\n\n...\n[INFO] Kogito :: Quarkus Extension :: Deployment .......... SKIPPED\n[INFO] Kogito :: Quarkus Extension :: Integration Tests ... SKIPPED\n[INFO] Kogito :: Quarkus Extension :: Integration Tests (Hot Reload) SKIPPED\n[INFO] Kogito :: Quarkus Extension :: Integration Tests (Legacy API) SKIPPED\n[INFO] Kogito :: Maven Archetypes ......................... SUCCESS [  0.008 s]\n[INFO] Kogito :: Maven Archetypes :: SpringBoot ........... SKIPPED\n[INFO] Kogito :: Maven Archetypes :: Quarkus .............. SKIPPED\n[INFO] Kogito :: Integration Tests ........................ SUCCESS [  0.008 s]\n[INFO] Kogito :: Integration Tests :: Quarkus :: Rules .... SKIPPED\n[INFO] Kogito :: Integration Tests :: Quarkus :: Processes  SKIPPED\n[INFO] Kogito :: Integration Tests :: Quarkus :: Decisions  SKIPPED\n[INFO] Kogito :: Integration Tests :: Quarkus :: Predictions SKIPPED\n[INFO] Kogito :: Integration Tests :: SpringBoot .......... SKIPPED\n[INFO] Kogito :: Integration Tests :: Maven Plugin ........ SKIPPED\n[INFO] Kogito :: Jenkins Spock Tests ...................... SUCCESS [ 26.543 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n\nMany thanks for submitting your Pull Request \u2764\ufe0f!\nPlease make sure that your PR meets the following requirements:\n\n You have read the contributors guide\n Pull Request title is properly formatted: KOGITO-XYZ Subject\n Pull Request title contains the target branch if not targeting master: [0.9.x] KOGITO-XYZ Subject\n Pull Request contains link to the JIRA issue\n Pull Request contains link to any dependent or related Pull Request\n Pull Request contains description of the issue\n Pull Request does not include fixes for issues other than the main ticket", "createdAt": "2020-10-15T17:57:21Z", "url": "https://github.com/kiegroup/kogito-runtimes/pull/834", "merged": true, "mergeCommit": {"oid": "7b9e070ca79aa25739f1a11086832a1355c4d04e"}, "closed": true, "closedAt": "2020-10-19T10:22:02Z", "author": {"login": "danielezonca"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdS1dmHAH2gAyNTA0Mjc5MTAyOmZhZGM5ODRmOGMwZmEzNWNhZjllODU1NzhlNzRiMjNjN2Y2YzExODY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUAzSAAFqTUxMTU3NzMyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fadc984f8c0fa35caf9e85578e74b23c7f6c1186", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/fadc984f8c0fa35caf9e85578e74b23c7f6c1186", "committedDate": "2020-10-15T17:45:10Z", "message": "[KOGITO-3611] Fix \"implicit\" module dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "439dc0b01193a797bebad3cd4892b3d861aa1ec8", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/439dc0b01193a797bebad3cd4892b3d861aa1ec8", "committedDate": "2020-10-15T17:47:14Z", "message": "[KOGITO-3611] Add broken test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af8014dc8a6565a9e61f307706b44d40aaee8045", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/af8014dc8a6565a9e61f307706b44d40aaee8045", "committedDate": "2020-10-16T20:08:52Z", "message": "Update AddonsConfigTest.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNDg2MjEy", "url": "https://github.com/kiegroup/kogito-runtimes/pull/834#pullrequestreview-511486212", "createdAt": "2020-10-19T07:40:12Z", "commit": {"oid": "af8014dc8a6565a9e61f307706b44d40aaee8045"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNzo0MDoxM1rOHkBdLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNzo0MDoxM1rOHkBdLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzUzNDYzOQ==", "bodyText": "@danielezonca\nJust out of curiosity: what are those two configurations\naddonsConfig.useMonitoring()\naddonsConfig.withMonitoring(true).useMonitoring()\n, and why they should be different in the test ?", "url": "https://github.com/kiegroup/kogito-runtimes/pull/834#discussion_r507534639", "createdAt": "2020-10-19T07:40:13Z", "author": {"login": "gitgabrio"}, "path": "kogito-codegen/src/test/java/org/kie/kogito/codegen/AddonsConfigTest.java", "diffHunk": "@@ -33,7 +33,7 @@ public void allAddonsAreDisabledInDefaultConfiguration() {\n     public void addonsAreProperlyActivated() {\n         AddonsConfig addonsConfig = new AddonsConfig();\n \n-        assertThat(addonsConfig.useMonitoring()).isTrue();\n+        assertThat(addonsConfig.useMonitoring()).isFalse();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af8014dc8a6565a9e61f307706b44d40aaee8045"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNDg2NjI1", "url": "https://github.com/kiegroup/kogito-runtimes/pull/834#pullrequestreview-511486625", "createdAt": "2020-10-19T07:40:50Z", "commit": {"oid": "af8014dc8a6565a9e61f307706b44d40aaee8045"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNTY1NzEw", "url": "https://github.com/kiegroup/kogito-runtimes/pull/834#pullrequestreview-511565710", "createdAt": "2020-10-19T09:17:53Z", "commit": {"oid": "af8014dc8a6565a9e61f307706b44d40aaee8045"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNTc3MzI5", "url": "https://github.com/kiegroup/kogito-runtimes/pull/834#pullrequestreview-511577329", "createdAt": "2020-10-19T09:31:44Z", "commit": {"oid": "af8014dc8a6565a9e61f307706b44d40aaee8045"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4037, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}