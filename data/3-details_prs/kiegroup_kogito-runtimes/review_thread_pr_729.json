{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0MDQ1NTU0", "number": 729, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwMjowNDoxNVrOEc7sTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwNjo0NDo1NVrOEdFUxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4NzczNTgxOnYy", "diffSide": "RIGHT", "path": "kogito-quarkus-extension/deployment/src/main/java/org/kie/kogito/quarkus/deployment/KogitoAssetsProcessor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwMjowNDoxNVrOHHx3Yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwNDoyNzoyMlrOHH8umg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzkxOTA3NA==", "bodyText": "@swati-kale I think the solution is good but we shouldnt depend on the mongo client parameter to define if the native items should be produced. I think a better approach would be to check the persistence type. Perhaps extract the logic from the PersistenceGenerator and reuse the type here and as parameter to the generator.", "url": "https://github.com/kiegroup/kogito-runtimes/pull/729#discussion_r477919074", "createdAt": "2020-08-27T02:04:15Z", "author": {"login": "cristianonicolai"}, "path": "kogito-quarkus-extension/deployment/src/main/java/org/kie/kogito/quarkus/deployment/KogitoAssetsProcessor.java", "diffHunk": "@@ -287,6 +288,18 @@ private void generatePersistenceInfo(AppPaths appPaths, IndexView inputIndex) th\n         if (usePersistence) {\n             resource.produce(new NativeImageResourceBuildItem(\"kogito-types.proto\"));\n         }\n+        \n+        if(!parameters.isEmpty() && parameters.contains(\"com.mongodb.client.MongoClient\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "257c659bd750b2a6627377faf69c02ab5bb1087d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODA5NzA1MA==", "bodyText": "ok, done,", "url": "https://github.com/kiegroup/kogito-runtimes/pull/729#discussion_r478097050", "createdAt": "2020-08-27T04:27:22Z", "author": {"login": "swati-kale"}, "path": "kogito-quarkus-extension/deployment/src/main/java/org/kie/kogito/quarkus/deployment/KogitoAssetsProcessor.java", "diffHunk": "@@ -287,6 +288,18 @@ private void generatePersistenceInfo(AppPaths appPaths, IndexView inputIndex) th\n         if (usePersistence) {\n             resource.produce(new NativeImageResourceBuildItem(\"kogito-types.proto\"));\n         }\n+        \n+        if(!parameters.isEmpty() && parameters.contains(\"com.mongodb.client.MongoClient\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzkxOTA3NA=="}, "originalCommit": {"oid": "257c659bd750b2a6627377faf69c02ab5bb1087d"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4OTMxMzk2OnYy", "diffSide": "RIGHT", "path": "kogito-codegen/src/main/java/org/kie/kogito/codegen/process/persistence/PersistenceGenerator.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwNjo0NDo1NVrOHICd2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwNjo0NDo1NVrOHICd2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODE5MTA2Nw==", "bodyText": "just to make it consistent with the other tyes\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private static final String FILESYSTEM_PERSISTENCE_TYPE = \"filesystem\";\n          \n          \n            \n                private static final String INFINISPAN_PERSISTENCE_TYPE = \"infinispan\";\n          \n          \n            \n                public static final String FILESYSTEM_PERSISTENCE_TYPE = \"filesystem\";\n          \n          \n            \n                public static final String INFINISPAN_PERSISTENCE_TYPE = \"infinispan\";", "url": "https://github.com/kiegroup/kogito-runtimes/pull/729#discussion_r478191067", "createdAt": "2020-08-27T06:44:55Z", "author": {"login": "cristianonicolai"}, "path": "kogito-codegen/src/main/java/org/kie/kogito/codegen/process/persistence/PersistenceGenerator.java", "diffHunk": "@@ -66,8 +66,8 @@\n \n     private static final String FILESYSTEM_PERSISTENCE_TYPE = \"filesystem\";\n     private static final String INFINISPAN_PERSISTENCE_TYPE = \"infinispan\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63f29bbd4eb554fb439a315f833d4ec253e1e1e0"}, "originalPosition": 3}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4960, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}