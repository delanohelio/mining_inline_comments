{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1MjY4MDM0", "number": 497, "title": "KOGITO-2136 Add integration tests to archetypes", "bodyText": "archetypes are currently tested manually. Add integration tests so that we can make sure that the code that is generated works as expected.\nhttps://issues.redhat.com/browse/KOGITO-2136\n\nMany thanks for submitting your Pull Request \u2764\ufe0f!\nPlease make sure that your PR meets the following requirements:\n\n You have read the contributors guide\n Pull Request title is properly formatted: KOGITO-XYZ Subject\n Pull Request title contains the target branch if not targeting master: [0.9.x] KOGITO-XYZ Subject\n Pull Request contains link to the JIRA issue\n Pull Request contains link to any dependent or related Pull Request\n Pull Request contains description of the issue\n Pull Request does not include fixes for issues other than the main ticket", "createdAt": "2020-05-08T14:39:02Z", "url": "https://github.com/kiegroup/kogito-runtimes/pull/497", "merged": true, "mergeCommit": {"oid": "7fefe36cc17c87054a499f94828cd2d83d77361b"}, "closed": true, "closedAt": "2020-05-13T16:40:55Z", "author": {"login": "evacchi"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgIm5TgFqTQwODg2MzQxOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcg4ohOAFqTQxMDkwNjkwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4ODYzNDE4", "url": "https://github.com/kiegroup/kogito-runtimes/pull/497#pullrequestreview-408863418", "createdAt": "2020-05-11T05:12:59Z", "commit": {"oid": "8aeff17d20d6287330ac15d0f10bdd37f117a1e0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNToxMzowMFrOGTMt4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNToxMzowMFrOGTMt4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc4NDQ4Mg==", "bodyText": "@evacchi this will be removed once #493 is merged and also would suggest doing the upgrade on a separated PR?", "url": "https://github.com/kiegroup/kogito-runtimes/pull/497#discussion_r422784482", "createdAt": "2020-05-11T05:13:00Z", "author": {"login": "cristianonicolai"}, "path": "archetypes/kogito-quarkus-archetype/pom.xml", "diffHunk": "@@ -17,11 +17,12 @@\n \n   <properties>\n     <!-- override for archetype: remove when kogito-apps are upgraded -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8aeff17d20d6287330ac15d0f10bdd37f117a1e0"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4OTUxNjg0", "url": "https://github.com/kiegroup/kogito-runtimes/pull/497#pullrequestreview-408951684", "createdAt": "2020-05-11T08:10:45Z", "commit": {"oid": "8aeff17d20d6287330ac15d0f10bdd37f117a1e0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwODoxMDo0NVrOGTRWgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwOTo0NTozOFrOGTU24w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg2MDQxNw==", "bodyText": "+1 to have upgrade to 1.4.2.Final in another PR", "url": "https://github.com/kiegroup/kogito-runtimes/pull/497#discussion_r422860417", "createdAt": "2020-05-11T08:10:45Z", "author": {"login": "radtriste"}, "path": "archetypes/kogito-quarkus-archetype/pom.xml", "diffHunk": "@@ -17,11 +17,12 @@\n \n   <properties>\n     <!-- override for archetype: remove when kogito-apps are upgraded -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc4NDQ4Mg=="}, "originalCommit": {"oid": "8aeff17d20d6287330ac15d0f10bdd37f117a1e0"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjkxNzg1OQ==", "bodyText": "can you link to quarkus issue explaining the workaround in comments ?\nquarkusio/quarkus#9162", "url": "https://github.com/kiegroup/kogito-runtimes/pull/497#discussion_r422917859", "createdAt": "2020-05-11T09:45:38Z", "author": {"login": "radtriste"}, "path": "archetypes/kogito-quarkus-archetype/pom.xml", "diffHunk": "@@ -17,11 +17,12 @@\n \n   <properties>\n     <!-- override for archetype: remove when kogito-apps are upgraded -->\n-    <version.io.quarkus>1.4.1.Final</version.io.quarkus>\n+    <version.io.quarkus>1.4.2.Final</version.io.quarkus>\n   </properties>\n \n   <build>\n-\n+    <!-- default directory (test-classes) confuses @QuarkusTest -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8aeff17d20d6287330ac15d0f10bdd37f117a1e0"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwMDQzMjUy", "url": "https://github.com/kiegroup/kogito-runtimes/pull/497#pullrequestreview-410043252", "createdAt": "2020-05-12T13:31:32Z", "commit": {"oid": "6c161db16ed1c922341ba77c13824e18822f34a4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwMjQyMDky", "url": "https://github.com/kiegroup/kogito-runtimes/pull/497#pullrequestreview-410242092", "createdAt": "2020-05-12T16:58:20Z", "commit": {"oid": "6c161db16ed1c922341ba77c13824e18822f34a4"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNjo1ODoyMFrOGUQM_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNzowODozMVrOGUQlng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg5MDE3NQ==", "bodyText": "Please also include src/test/resources.", "url": "https://github.com/kiegroup/kogito-runtimes/pull/497#discussion_r423890175", "createdAt": "2020-05-12T16:58:20Z", "author": {"login": "MarianMacik"}, "path": "archetypes/kogito-quarkus-archetype/src/main/resources/META-INF/maven/archetype-metadata.xml", "diffHunk": "@@ -33,6 +33,10 @@ under the License.\n     <fileSet filtered=\"true\" packaged=\"true\">\n       <directory>src/main/java</directory>\n     </fileSet>\n+    <fileSet filtered=\"true\" packaged=\"true\">\n+      <directory>src/test/java</directory>\n+    </fileSet>\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c161db16ed1c922341ba77c13824e18822f34a4"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg5NTk4OQ==", "bodyText": "I played with it a little bit and it seems that unless you specify statusCode(200), it will keep passing as for example Quarkus will return 404 and HTML body when I change the endpoint or delete a bpmn. When I change the matcher to nullValue() then it is complaining that id contains Resource not found but expected is null, which is weird as id is not even on the page. I will probably file an issue for that.", "url": "https://github.com/kiegroup/kogito-runtimes/pull/497#discussion_r423895989", "createdAt": "2020-05-12T17:07:41Z", "author": {"login": "MarianMacik"}, "path": "archetypes/kogito-quarkus-archetype/src/main/resources/archetype-resources/src/test/java/GreetingsTest.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package ${package};\n+\n+import io.quarkus.test.junit.QuarkusTest;\n+import io.restassured.http.ContentType;\n+import org.junit.jupiter.api.Test;\n+\n+import java.util.UUID;\n+\n+import static io.restassured.RestAssured.given;\n+import static org.hamcrest.CoreMatchers.*;\n+\n+@QuarkusTest\n+public class GreetingsTest {\n+\n+    @Test\n+    public void testHelloEndpoint() {\n+        given()\n+            .contentType(ContentType.JSON)\n+            .accept(ContentType.JSON)\n+            .body(\"{}\")\n+        .when()\n+            .post(\"/greetings\")\n+        .then()\n+            .body(\"id\", notNullValue());    ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c161db16ed1c922341ba77c13824e18822f34a4"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg5NjQ3OA==", "bodyText": "Same here, we can also include src/test/resources.", "url": "https://github.com/kiegroup/kogito-runtimes/pull/497#discussion_r423896478", "createdAt": "2020-05-12T17:08:31Z", "author": {"login": "MarianMacik"}, "path": "archetypes/kogito-springboot-archetype/src/main/resources/META-INF/maven/archetype-metadata.xml", "diffHunk": "@@ -33,6 +33,9 @@ under the License.\n     <fileSet filtered=\"true\" packaged=\"true\">\n       <directory>src/main/java</directory>\n     </fileSet>\n+    <fileSet filtered=\"true\" packaged=\"true\">\n+      <directory>src/test/java</directory>\n+    </fileSet>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c161db16ed1c922341ba77c13824e18822f34a4"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab59a0c55a15ae9d3aaa2ea2aac9e435644be290", "author": {"user": {"login": "evacchi", "name": "Edoardo Vacchi"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/ab59a0c55a15ae9d3aaa2ea2aac9e435644be290", "committedDate": "2020-05-13T09:40:22Z", "message": "example IT test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a36a485cb9d0ec4c478d1b8121f739da20f2adf", "author": {"user": {"login": "evacchi", "name": "Edoardo Vacchi"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/3a36a485cb9d0ec4c478d1b8121f739da20f2adf", "committedDate": "2020-05-13T09:41:37Z", "message": "add tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d45b08dca0565e622a1ae6f3b2d385006a735e66", "author": {"user": {"login": "evacchi", "name": "Edoardo Vacchi"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/d45b08dca0565e622a1ae6f3b2d385006a735e66", "committedDate": "2020-05-13T09:41:46Z", "message": "springboot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a18ffec08a0c7278b539d03b7637c50c1ce3ead", "author": {"user": {"login": "evacchi", "name": "Edoardo Vacchi"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/6a18ffec08a0c7278b539d03b7637c50c1ce3ead", "committedDate": "2020-05-13T09:41:46Z", "message": "fix annotation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75afd18633689b4d55da5c19d07d49525c769e4c", "author": {"user": {"login": "evacchi", "name": "Edoardo Vacchi"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/75afd18633689b4d55da5c19d07d49525c769e4c", "committedDate": "2020-05-13T09:41:46Z", "message": "add rest assured for spring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f63a8292fb1698ec782bab93753780b00555df8", "author": {"user": {"login": "evacchi", "name": "Edoardo Vacchi"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/5f63a8292fb1698ec782bab93753780b00555df8", "committedDate": "2020-05-13T09:42:20Z", "message": "comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a4236a20e0f9813fc4242d00d81902d7ff12d74", "author": {"user": {"login": "evacchi", "name": "Edoardo Vacchi"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/5a4236a20e0f9813fc4242d00d81902d7ff12d74", "committedDate": "2020-05-13T09:42:24Z", "message": "fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8ccb0be6a8d7b6b4687c2f65bc31f4400efee0b", "author": {"user": {"login": "evacchi", "name": "Edoardo Vacchi"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/e8ccb0be6a8d7b6b4687c2f65bc31f4400efee0b", "committedDate": "2020-05-13T09:42:24Z", "message": "create test/resources"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "24c060445d2e61ceb44c3860097374da67e5eee2", "author": {"user": {"login": "evacchi", "name": "Edoardo Vacchi"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/24c060445d2e61ceb44c3860097374da67e5eee2", "committedDate": "2020-05-13T09:38:44Z", "message": "create test/resources"}, "afterCommit": {"oid": "e8ccb0be6a8d7b6b4687c2f65bc31f4400efee0b", "author": {"user": {"login": "evacchi", "name": "Edoardo Vacchi"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/e8ccb0be6a8d7b6b4687c2f65bc31f4400efee0b", "committedDate": "2020-05-13T09:42:24Z", "message": "create test/resources"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwOTA2OTAy", "url": "https://github.com/kiegroup/kogito-runtimes/pull/497#pullrequestreview-410906902", "createdAt": "2020-05-13T13:10:36Z", "commit": {"oid": "e8ccb0be6a8d7b6b4687c2f65bc31f4400efee0b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3470, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}