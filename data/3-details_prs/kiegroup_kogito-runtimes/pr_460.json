{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2MDAxMDcz", "number": 460, "title": "KOGITO-1924 DMN DMNDecisionModel to expose via Kogito API DMNModel", "bodyText": "", "createdAt": "2020-04-20T11:22:07Z", "url": "https://github.com/kiegroup/kogito-runtimes/pull/460", "merged": true, "mergeCommit": {"oid": "9618529b4679145c692db0808cde0a8cc5eb2ace"}, "closed": true, "closedAt": "2020-04-21T10:02:12Z", "author": {"login": "tarilabs"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZdT-LgFqTM5NjM2NDU2Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZvthdgH2gAyNDA2MDAxMDczOmJiNmMyZWUwY2NlNTY5NGJiZTU1ODBlMGM4ZTdhYWM3YmE2YTliYWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MzY0NTYy", "url": "https://github.com/kiegroup/kogito-runtimes/pull/460#pullrequestreview-396364562", "createdAt": "2020-04-20T11:23:09Z", "commit": {"oid": "fddfaa0d0be3bd7165f0995298e0dd49876a3e2c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMToyMzowOVrOGIPtWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMToyMzowOVrOGIPtWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTI5OTE2MA==", "bodyText": "my preference would be to @Override this so it is available up in Kogito API's DecisionModel\ndo you concur @mswiderski ? :)", "url": "https://github.com/kiegroup/kogito-runtimes/pull/460#discussion_r411299160", "createdAt": "2020-04-20T11:23:09Z", "author": {"login": "tarilabs"}, "path": "drools/kogito-dmn/src/main/java/org/kie/kogito/dmn/DmnDecisionModel.java", "diffHunk": "@@ -26,19 +26,22 @@ public DMNContext newContext(Map<String, Object> variables) {\n \n     @Override\n     public DMNResult evaluateAll(DMNContext context) {\n-        DMNModel dmnModel = dmnRuntime.getModel(namespace, name);\n-        if (dmnModel == null) {\n-            throw new IllegalArgumentException(\"DMN model '\" + name + \"' not found with namespace '\" + namespace + \"'\");\n-        }\n+        DMNModel dmnModel = getDMNModel();\n         return dmnRuntime.evaluateAll(dmnModel, context);\n     }\n \n     @Override\n     public DMNResult evaluateDecisionService(DMNContext context, String decisionServiceName) {\n+        DMNModel dmnModel = getDMNModel();\n+        return dmnRuntime.evaluateDecisionService(dmnModel, context, decisionServiceName);\n+    }\n+\n+    public DMNModel getDMNModel() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fddfaa0d0be3bd7165f0995298e0dd49876a3e2c"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NDA1MjE5", "url": "https://github.com/kiegroup/kogito-runtimes/pull/460#pullrequestreview-396405219", "createdAt": "2020-04-20T12:27:21Z", "commit": {"oid": "49dbda406dc34d687bafc1236aa9e9df7c189716"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMjoyNzoyMVrOGIR9CA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMjoyNzoyMVrOGIR9CA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMzNTk0NA==", "bodyText": "I would prefer to do it in the constructor and store it as field. Is there any reason to keep this get lazy?", "url": "https://github.com/kiegroup/kogito-runtimes/pull/460#discussion_r411335944", "createdAt": "2020-04-20T12:27:21Z", "author": {"login": "danielezonca"}, "path": "drools/kogito-dmn/src/main/java/org/kie/kogito/dmn/DmnDecisionModel.java", "diffHunk": "@@ -26,19 +26,23 @@ public DMNContext newContext(Map<String, Object> variables) {\n \n     @Override\n     public DMNResult evaluateAll(DMNContext context) {\n-        DMNModel dmnModel = dmnRuntime.getModel(namespace, name);\n-        if (dmnModel == null) {\n-            throw new IllegalArgumentException(\"DMN model '\" + name + \"' not found with namespace '\" + namespace + \"'\");\n-        }\n+        DMNModel dmnModel = getDMNModel();\n         return dmnRuntime.evaluateAll(dmnModel, context);\n     }\n \n     @Override\n     public DMNResult evaluateDecisionService(DMNContext context, String decisionServiceName) {\n+        DMNModel dmnModel = getDMNModel();\n+        return dmnRuntime.evaluateDecisionService(dmnModel, context, decisionServiceName);\n+    }\n+\n+    @Override\n+    public DMNModel getDMNModel() {\n         DMNModel dmnModel = dmnRuntime.getModel(namespace, name);\n         if (dmnModel == null) {\n-            throw new IllegalArgumentException(\"DMN model '\" + name + \"' not found with namespace '\" + namespace + \"'\");\n+            throw new IllegalStateException(\"DMN model '\" + name + \"' not found with namespace '\" + namespace + \"' in the inherent DMNRuntime.\");\n         }\n-        return dmnRuntime.evaluateDecisionService(dmnModel, context, decisionServiceName);\n+        return dmnModel;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "49dbda406dc34d687bafc1236aa9e9df7c189716"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NDUzOTE3", "url": "https://github.com/kiegroup/kogito-runtimes/pull/460#pullrequestreview-396453917", "createdAt": "2020-04-20T13:30:37Z", "commit": {"oid": "26ac0ac4be5ab77551aa92df737aedd7596729f3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NTI0MjMy", "url": "https://github.com/kiegroup/kogito-runtimes/pull/460#pullrequestreview-396524232", "createdAt": "2020-04-20T14:46:30Z", "commit": {"oid": "26ac0ac4be5ab77551aa92df737aedd7596729f3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f86d8ed6e54b239f71c38fe07c1bba85d25fa477", "author": {"user": {"login": "tarilabs", "name": "Matteo Mortari"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/f86d8ed6e54b239f71c38fe07c1bba85d25fa477", "committedDate": "2020-04-21T08:07:14Z", "message": "KOGITO-1924 DMN DMNDecisionModel to expose via Kogito API DMNModel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c5cd242740c2a6b4e335fede0050b30d8c9aeb7", "author": {"user": {"login": "tarilabs", "name": "Matteo Mortari"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/6c5cd242740c2a6b4e335fede0050b30d8c9aeb7", "committedDate": "2020-04-21T08:07:15Z", "message": "Kogito API amend\n\nAs discussed here:\nhttps://github.com/kiegroup/kogito-runtimes/pull/460#discussion_r411303792"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a12d54a678b7f6843f1cd4d40d85fcf53b8a40f5", "author": {"user": {"login": "tarilabs", "name": "Matteo Mortari"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/a12d54a678b7f6843f1cd4d40d85fcf53b8a40f5", "committedDate": "2020-04-21T08:10:42Z", "message": "implement code review feedback"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "26ac0ac4be5ab77551aa92df737aedd7596729f3", "author": {"user": {"login": "tarilabs", "name": "Matteo Mortari"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/26ac0ac4be5ab77551aa92df737aedd7596729f3", "committedDate": "2020-04-20T13:06:27Z", "message": "implement code review feedback"}, "afterCommit": {"oid": "a12d54a678b7f6843f1cd4d40d85fcf53b8a40f5", "author": {"user": {"login": "tarilabs", "name": "Matteo Mortari"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/a12d54a678b7f6843f1cd4d40d85fcf53b8a40f5", "committedDate": "2020-04-21T08:10:42Z", "message": "implement code review feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MTExMzI3", "url": "https://github.com/kiegroup/kogito-runtimes/pull/460#pullrequestreview-397111327", "createdAt": "2020-04-21T08:38:27Z", "commit": {"oid": "a12d54a678b7f6843f1cd4d40d85fcf53b8a40f5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb6c2ee0cce5694bbe5580e0c8e7aac7ba6a9bae", "author": {"user": {"login": "tarilabs", "name": "Matteo Mortari"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/bb6c2ee0cce5694bbe5580e0c8e7aac7ba6a9bae", "committedDate": "2020-04-21T08:49:27Z", "message": "."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3657, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}