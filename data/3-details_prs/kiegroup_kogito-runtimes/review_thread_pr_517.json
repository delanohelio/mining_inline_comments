{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwMTk3NzQ3", "number": 517, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwNzoxNTo0MlrOD-Flaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwNzoxNjowNFrOD-Fl2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NDI5ODAzOnYy", "diffSide": "RIGHT", "path": "kogito-codegen/src/main/java/org/kie/kogito/codegen/decision/DecisionContainerGenerator.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwNzoxNTo0MlrOGX-O5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMDoxNjoyNFrOGYE2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc5MDA1Mg==", "bodyText": "what happened to Path basePath ? was it unused? Why is the Collection now a list?", "url": "https://github.com/kiegroup/kogito-runtimes/pull/517#discussion_r427790052", "createdAt": "2020-05-20T07:15:42Z", "author": {"login": "evacchi"}, "path": "kogito-codegen/src/main/java/org/kie/kogito/codegen/decision/DecisionContainerGenerator.java", "diffHunk": "@@ -55,15 +53,13 @@\n     private static final String TEMPLATE_JAVA = \"/class-templates/DMNApplicationClassDeclTemplate.java\";\n \n     private String applicationCanonicalName;\n-    private final Path basePath;\n-    private final Collection<DMNModel> models;\n+    private final List<DMNResource> resources;\n     private boolean useTracing = false;\n \n-    public DecisionContainerGenerator(String applicationCanonicalName, Path basePath, Collection<DMNModel> models) {\n+    public DecisionContainerGenerator(String applicationCanonicalName, List<DMNResource> resources) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ec61eb7eb19dc293382d88a55c96c1ff78838b8"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzg5ODQyMg==", "bodyText": "@evacchi I discussed this change with @tarilabs. Now we can have multiple paths, so a DMNResource is basically a Pair<Path, DMNModel>. In this way you know from which path each model has been created and this should also answer to the question you made on the other comment.", "url": "https://github.com/kiegroup/kogito-runtimes/pull/517#discussion_r427898422", "createdAt": "2020-05-20T10:16:24Z", "author": {"login": "mariofusco"}, "path": "kogito-codegen/src/main/java/org/kie/kogito/codegen/decision/DecisionContainerGenerator.java", "diffHunk": "@@ -55,15 +53,13 @@\n     private static final String TEMPLATE_JAVA = \"/class-templates/DMNApplicationClassDeclTemplate.java\";\n \n     private String applicationCanonicalName;\n-    private final Path basePath;\n-    private final Collection<DMNModel> models;\n+    private final List<DMNResource> resources;\n     private boolean useTracing = false;\n \n-    public DecisionContainerGenerator(String applicationCanonicalName, Path basePath, Collection<DMNModel> models) {\n+    public DecisionContainerGenerator(String applicationCanonicalName, List<DMNResource> resources) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc5MDA1Mg=="}, "originalCommit": {"oid": "5ec61eb7eb19dc293382d88a55c96c1ff78838b8"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NDI5OTE0OnYy", "diffSide": "RIGHT", "path": "kogito-codegen/src/main/java/org/kie/kogito/codegen/decision/DecisionContainerGenerator.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwNzoxNjowNFrOGX-PmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwNzoxNjowNFrOGX-PmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc5MDIzMw==", "bodyText": "are you sure this will always work?", "url": "https://github.com/kiegroup/kogito-runtimes/pull/517#discussion_r427790233", "createdAt": "2020-05-20T07:16:04Z", "author": {"login": "evacchi"}, "path": "kogito-codegen/src/main/java/org/kie/kogito/codegen/decision/DecisionContainerGenerator.java", "diffHunk": "@@ -91,9 +87,9 @@ public ClassOrInterfaceDeclaration classDeclaration() {\n         ClassOrInterfaceDeclaration typeDeclaration = (ClassOrInterfaceDeclaration) clazz.getTypes().get(0);\n         ClassOrInterfaceType applicationClass = StaticJavaParser.parseClassOrInterfaceType(applicationCanonicalName);\n         ClassOrInterfaceType inputStreamReaderClass = StaticJavaParser.parseClassOrInterfaceType(java.io.InputStreamReader.class.getCanonicalName());\n-        for (DMNModel model : models) {\n-            Path sourcePath = Paths.get(model.getResource().getSourcePath());\n-            Path relativizedPath = basePath.relativize(sourcePath);\n+        for (DMNResource resource : resources) {\n+            Path sourcePath = Paths.get(resource.getDmnModel().getResource().getSourcePath());\n+            Path relativizedPath = resource.getPath().relativize(sourcePath);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ec61eb7eb19dc293382d88a55c96c1ff78838b8"}, "originalPosition": 44}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 122, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}