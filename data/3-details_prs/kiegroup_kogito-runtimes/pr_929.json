{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MzU0OTM2", "number": 929, "title": "[KOGITO-3975] Refactor Application and Config API to make them easier to extend", "bodyText": "https://issues.redhat.com/browse/KOGITO-3975\nDetails:\n\nApplication now has a generic .get(Class<> engine) to get the engine instance\nConfig  now has a generic .get(Class<> engine) to get the conf instance\nCreated KogitoEngine as marker interface for each engine (process, rule, etc)\nCreated KogitoConfig as marker interface for each engine (process, rule, etc)\nAll Application templates now delegate to StaticApplication\nApplication now accepts an arbitrary number of engines (still not dynamic linking)\nConfig now accepts an arbitrary number of configs (still not dynamic linking)\n\nTo be merged after #922 Merged\nPR list:\n\n#929\nkiegroup/kogito-examples#488", "createdAt": "2020-12-09T17:49:38Z", "url": "https://github.com/kiegroup/kogito-runtimes/pull/929", "merged": true, "mergeCommit": {"oid": "4006249fe97bd155b163d9cea29ec6389c65b678"}, "closed": true, "closedAt": "2020-12-16T22:48:29Z", "author": {"login": "danielezonca"}, "timelineItems": {"totalCount": 51, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdjKs-zAH2gAyNTM1MzU0OTM2OjA1Y2JjZDU2NjQ2MTQ0NWRhYmFlMjAzMGFmMjlhOWJlYWRmZGZmZjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdm01ihAH2gAyNTM1MzU0OTM2Ojg0NzAyZWE0YzI1ZDZhODM3MjM1NzVkYTJkYzU3ZDAwMTM0MDNkNTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "05cbcd566461445dabae2030af29a9beadfdfff3", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/05cbcd566461445dabae2030af29a9beadfdfff3", "committedDate": "2020-12-05T11:32:46Z", "message": "WIP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "706005c407df0f5f3261d82cc688ffd3a45fe3c4", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/706005c407df0f5f3261d82cc688ffd3a45fe3c4", "committedDate": "2020-12-07T17:48:27Z", "message": "[KOGITO-3974] PredictionModels and DecisionModels are now using templates + Created AbstractPredictionModels and AbstractDecisionModels with common code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "493c6d44e0de485fa4c41a43586e9f7b89454c8c", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/493c6d44e0de485fa4c41a43586e9f7b89454c8c", "committedDate": "2020-12-07T17:56:45Z", "message": "Merge branch 'decisionmodels-predictionmodels-inject' into application-config-refactoring\n\n# Conflicts:\n#\tapi/kogito-api/src/main/java/org/kie/kogito/StaticApplication.java\n#\tkogito-codegen/src/main/java/org/kie/kogito/codegen/ApplicationContainerGenerator.java\n#\tkogito-codegen/src/main/resources/class-templates/ApplicationTemplate.java\n#\tkogito-codegen/src/main/resources/class-templates/CdiApplicationTemplate.java\n#\tkogito-codegen/src/main/resources/class-templates/DecisionContainerTemplate.java\n#\tkogito-codegen/src/main/resources/class-templates/SpringApplicationTemplate.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccff35b5ae42d0b004dcafac5c4bee67ffc87f4f", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/ccff35b5ae42d0b004dcafac5c4bee67ffc87f4f", "committedDate": "2020-12-07T18:19:44Z", "message": "[KOGITO-3975] WIP, compile but integration broken tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa17449e1540d66253fcf821cf7f2d33c464e579", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/fa17449e1540d66253fcf821cf7f2d33c464e579", "committedDate": "2020-12-08T10:56:50Z", "message": "[KOGITO-3975] Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccc8b2778a2094e23cc5f739e69277481daf6355", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/ccc8b2778a2094e23cc5f739e69277481daf6355", "committedDate": "2020-12-09T09:26:53Z", "message": "[KOGITO-3974] Revert ApplicationContainerGenerator changes and postpone ApplicationTemplate to a different PR"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5bbbbbec2ce2706b1870ed496db19fcef605ce63", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/5bbbbbec2ce2706b1870ed496db19fcef605ce63", "committedDate": "2020-12-09T10:51:34Z", "message": "Merge branch 'decisionmodels-predictionmodels-inject' into application-config-refactoring\n\n# Conflicts:\n#\tkogito-codegen/src/main/java/org/kie/kogito/codegen/ApplicationContainerGenerator.java\n#\tkogito-codegen/src/main/resources/class-templates/ApplicationTemplate.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84213694108c1e538ee83dc739c9fa33659d34c8", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/84213694108c1e538ee83dc739c9fa33659d34c8", "committedDate": "2020-12-09T10:53:18Z", "message": "[KOGITO-3975] Minor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b300a420b7fd675c3ef785d8611759c23aaefba", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/0b300a420b7fd675c3ef785d8611759c23aaefba", "committedDate": "2020-12-09T10:54:54Z", "message": "[KOGITO-3974] Fix missing conf use case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a841c41acb1762d6d18fb2535d3c7e9a079ef5da", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/a841c41acb1762d6d18fb2535d3c7e9a079ef5da", "committedDate": "2020-12-09T10:55:44Z", "message": "Merge branch 'decisionmodels-predictionmodels-inject' into application-config-refactoring\n\n# Conflicts:\n#\tapi/kogito-api/src/main/java/org/kie/kogito/StaticApplication.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3aaaaff98b25df1659a9b116b9f14f670ac348ec", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/3aaaaff98b25df1659a9b116b9f14f670ac348ec", "committedDate": "2020-12-09T10:56:20Z", "message": "[KOGITO-3975] Fix missing conf use case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0015e0e655122b0a85f2fe5d48fbd56965da8c10", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/0015e0e655122b0a85f2fe5d48fbd56965da8c10", "committedDate": "2020-12-09T17:00:41Z", "message": "Merge remote-tracking branch 'upstream/master' into application-config-refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c60dcc1182311a4f0fa990d8e6b5fc98a5b57b5", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/2c60dcc1182311a4f0fa990d8e6b5fc98a5b57b5", "committedDate": "2020-12-09T18:32:54Z", "message": "Merge remote-tracking branch 'upstream/master' into decisionmodels-predictionmodels-inject"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6756417b267b2b9e3ce52383983dc20b241e203e", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/6756417b267b2b9e3ce52383983dc20b241e203e", "committedDate": "2020-12-09T18:49:47Z", "message": "[KOGITO-3974] Fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f1d3c685351b97095407148faa4aa242fe80e59", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/0f1d3c685351b97095407148faa4aa242fe80e59", "committedDate": "2020-12-09T18:50:54Z", "message": "Merge branch 'decisionmodels-predictionmodels-inject' into application-config-refactoring\n\n# Conflicts:\n#\tkogito-codegen/src/test/java/org/kie/kogito/codegen/ApplicationGeneratorTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34c72010322a151e39c635f70bc36b19a6ef87cc", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/34c72010322a151e39c635f70bc36b19a6ef87cc", "committedDate": "2020-12-10T10:48:57Z", "message": "Merge remote-tracking branch 'upstream/master' into decisionmodels-predictionmodels-inject"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e24f8c9e4112069783e4b58c4be11cb6cff4cdb", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/2e24f8c9e4112069783e4b58c4be11cb6cff4cdb", "committedDate": "2020-12-10T12:17:39Z", "message": "[KOGITO-3974] Reviewed DecisionModels/PredictionModels templates to move all the code to abstract"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e8130a635412afe82873d36750533f2c41133f4", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/2e8130a635412afe82873d36750533f2c41133f4", "committedDate": "2020-12-10T13:13:06Z", "message": "[KOGITO-3974] Fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "677168287084dd48cb1e9f3444035143c73fd30e", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/677168287084dd48cb1e9f3444035143c73fd30e", "committedDate": "2020-12-10T13:27:04Z", "message": "Merge remote-tracking branch 'upstream/master' into application-config-refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e076e1cc12c9d3b48065a08e83a7973702b6dc27", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/e076e1cc12c9d3b48065a08e83a7973702b6dc27", "committedDate": "2020-12-10T13:27:56Z", "message": "Merge branch 'decisionmodels-predictionmodels-inject' into application-config-refactoring\n\n# Conflicts:\n#\tdrools/kogito-dmn/src/main/java/org/kie/kogito/dmn/AbstractDecisionModels.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc3199d588bf1b59e0fad3d2a678895698798576", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/cc3199d588bf1b59e0fad3d2a678895698798576", "committedDate": "2020-12-10T13:28:48Z", "message": "[KOGITO-3975] update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21e6d6f868f9f869746263e9f8c0c9f3fa104b37", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/21e6d6f868f9f869746263e9f8c0c9f3fa104b37", "committedDate": "2020-12-10T13:46:10Z", "message": "[KOGITO-3975] Minor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "533c4baaa2f5b5c47a767023ab02c60646de81f9", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/533c4baaa2f5b5c47a767023ab02c60646de81f9", "committedDate": "2020-12-10T17:43:31Z", "message": "[KOGITO-3972] Fix DMN hot reload"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "574cf923f0cce1da08ea0675c4a8ab3c9c0d8cea", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/574cf923f0cce1da08ea0675c4a8ab3c9c0d8cea", "committedDate": "2020-12-10T17:44:14Z", "message": "Fix DMN hot reload"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a46411d39a7ea54008dd3956910383ead6ad619", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/2a46411d39a7ea54008dd3956910383ead6ad619", "committedDate": "2020-12-11T08:46:49Z", "message": "Moved packageName, annotator and addonsConfig to AbstractGenerator + Renamed ApplicationGenerator.withGenerator as ApplicationGenerator.registerAndInitGenerator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ece772c26ad38bfe561a46cea8b3ec0fdbe9e599", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/ece772c26ad38bfe561a46cea8b3ec0fdbe9e599", "committedDate": "2020-12-11T08:47:14Z", "message": "Merge remote-tracking branch 'upstream/master' into decisionmodels-predictionmodels-inject"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3769ea2644548e7e397cb39ee229c316bd759a2c", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/3769ea2644548e7e397cb39ee229c316bd759a2c", "committedDate": "2020-12-11T08:49:18Z", "message": "Added comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5212fe6aa74496f83876e6b009d6ffe5825cc4c", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/b5212fe6aa74496f83876e6b009d6ffe5825cc4c", "committedDate": "2020-12-11T10:28:05Z", "message": "Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "def5ad8c6c4c5423d6bdcc1e4a0b301e23892c4b", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/def5ad8c6c4c5423d6bdcc1e4a0b301e23892c4b", "committedDate": "2020-12-11T10:44:27Z", "message": "Merge remote-tracking branch 'upstream/master' into application-config-refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1615bf999a950dc28fda15459f15154bf93b2313", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/1615bf999a950dc28fda15459f15154bf93b2313", "committedDate": "2020-12-11T10:45:18Z", "message": "Merge branch 'decisionmodels-predictionmodels-inject' into application-config-refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b62c04b10bf2dfedd95306c714a4eb2350eb080", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/0b62c04b10bf2dfedd95306c714a4eb2350eb080", "committedDate": "2020-12-11T11:08:08Z", "message": "Fix after merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab6757ed87ee6dfb7907f3f22e2848dc5b3f7fb1", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/ab6757ed87ee6dfb7907f3f22e2848dc5b3f7fb1", "committedDate": "2020-12-11T11:13:08Z", "message": "Revert ApplicationGenerator.registerAndInitGenerator to ApplicationGenerator.withGenerator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efd7579ee1a6c32b84a6ec1a3db9fb28af7e0177", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/efd7579ee1a6c32b84a6ec1a3db9fb28af7e0177", "committedDate": "2020-12-11T13:34:02Z", "message": "Merge remote-tracking branch 'upstream/master' into decisionmodels-predictionmodels-inject\n\n# Conflicts:\n#\tkogito-codegen/src/main/java/org/kie/kogito/codegen/prediction/PredictionCodegen.java\n#\tkogito-codegen/src/main/java/org/kie/kogito/codegen/rules/IncrementalRuleCodegen.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b458daececbdd894c13e9a4037873c7268eadaf", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/5b458daececbdd894c13e9a4037873c7268eadaf", "committedDate": "2020-12-11T14:11:01Z", "message": "Merge branch 'decisionmodels-predictionmodels-inject' into application-config-refactoring\n\n# Conflicts:\n#\tkogito-codegen/src/test/java/org/kie/kogito/codegen/tests/BusinessRuleUnitTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c94782d5455c081bfdfd09b93ea1682572d7655", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/9c94782d5455c081bfdfd09b93ea1682572d7655", "committedDate": "2020-12-11T17:41:55Z", "message": "Merge remote-tracking branch 'upstream/master' into decisionmodels-predictionmodels-inject\n\n# Conflicts:\n#\tkogito-maven-plugin/src/main/java/org/kie/kogito/maven/plugin/GenerateModelMojo.java\n#\tkogito-quarkus-extension/deployment/src/main/java/org/kie/kogito/quarkus/deployment/KogitoAssetsProcessor.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9ae5bd440ea96f8b43bcdbd7bf004f77ccf00ec", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/e9ae5bd440ea96f8b43bcdbd7bf004f77ccf00ec", "committedDate": "2020-12-11T17:50:43Z", "message": "Postponing moduleGenerator initialization when used (compilationUnit() module) + ApplicationSection.classDeclaration renamed compilationUnit to return the whole template"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45b250167be698163d1bc9c608d24da4df13aac2", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/45b250167be698163d1bc9c608d24da4df13aac2", "committedDate": "2020-12-11T19:02:02Z", "message": "Minor fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a1193edd4d88de5e18bdfdd1ea7ee76aede9fdf", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/0a1193edd4d88de5e18bdfdd1ea7ee76aede9fdf", "committedDate": "2020-12-11T19:02:34Z", "message": "Merge branch 'decisionmodels-predictionmodels-inject' into application-config-refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de56f00f83a8fb69f677b4a05c26a75b73554106", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/de56f00f83a8fb69f677b4a05c26a75b73554106", "committedDate": "2020-12-14T08:26:51Z", "message": "Introduced static AtomicReference in AbstractPredictionModels to make DMN+PMML integration works even if DecisionModels is loaded first + Fix native-image check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6333968f476681bde3421f71b143573b68e42f37", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/6333968f476681bde3421f71b143573b68e42f37", "committedDate": "2020-12-14T08:36:47Z", "message": "Merge remote-tracking branch 'upstream/master' into decisionmodels-predictionmodels-inject"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a79cec343d0321a2b2b98c8fdccf31c1e454c867", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/a79cec343d0321a2b2b98c8fdccf31c1e454c867", "committedDate": "2020-12-14T08:37:10Z", "message": "Merge branch 'decisionmodels-predictionmodels-inject' into application-config-refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2823d1abd49e67951abc23fccd504b7b4fde26a9", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/2823d1abd49e67951abc23fccd504b7b4fde26a9", "committedDate": "2020-12-14T14:58:48Z", "message": "Merge remote-tracking branch 'upstream/master' into application-config-refactoring\n\n# Conflicts:\n#\tapi/kogito-api/src/main/java/org/kie/kogito/StaticApplication.java\n#\tdrools/kogito-dmn/src/main/java/org/kie/kogito/dmn/AbstractDecisionModels.java\n#\tdrools/kogito-pmml/src/main/java/org/kie/kogito/pmml/AbstractPredictionModels.java\n#\tintegration-tests/integration-tests-quarkus-decisions/src/main/java/org/kie/kogito/integrationtests/InjectDecisionModels.java\n#\tintegration-tests/integration-tests-quarkus-predictions/src/main/java/org/kie/kogito/integrationtests/InjectPredictionModels.java\n#\tintegration-tests/integration-tests-quarkus-processes/src/main/java/org/kie/kogito/integrationtests/InjectProcesses.java\n#\tintegration-tests/integration-tests-springboot/src/it/integration-tests-springboot-it/src/main/java/org/kie/kogito/integrationtests/SpringInjectDecisionModels.java\n#\tintegration-tests/integration-tests-springboot/src/it/integration-tests-springboot-it/src/main/java/org/kie/kogito/integrationtests/SpringInjectPredictionModels.java\n#\tintegration-tests/integration-tests-springboot/src/it/integration-tests-springboot-it/src/main/java/org/kie/kogito/integrationtests/SpringInjectProcesses.java\n#\tintegration-tests/integration-tests-springboot/src/it/integration-tests-springboot-it/src/main/java/org/kie/kogito/integrationtests/SpringInjectRuleUnits.java\n#\tkogito-codegen/src/main/java/org/kie/kogito/codegen/ApplicationContainerGenerator.java\n#\tkogito-codegen/src/main/resources/class-templates/CdiDecisionContainerTemplate.java\n#\tkogito-codegen/src/main/resources/class-templates/DecisionContainerTemplate.java\n#\tkogito-codegen/src/main/resources/class-templates/spring/SpringDecisionContainerTemplate.java\n#\tkogito-codegen/src/test/java/org/kie/kogito/codegen/ApplicationGeneratorTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce55a30505a065f433aa913d8748bb057a9bc56f", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/ce55a30505a065f433aa913d8748bb057a9bc56f", "committedDate": "2020-12-14T15:09:48Z", "message": "After merge fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d09bce0b91a153415d118275b016761895df717", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/4d09bce0b91a153415d118275b016761895df717", "committedDate": "2020-12-14T15:32:23Z", "message": "Minor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMjcyMzY4", "url": "https://github.com/kiegroup/kogito-runtimes/pull/929#pullrequestreview-552272368", "createdAt": "2020-12-15T09:46:19Z", "commit": {"oid": "4d09bce0b91a153415d118275b016761895df717"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQwOTo0NjoxOVrOIGB97Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQwOTo0NjoxOVrOIGB97Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzE5NDYwNQ==", "bodyText": "this may be useless", "url": "https://github.com/kiegroup/kogito-runtimes/pull/929#discussion_r543194605", "createdAt": "2020-12-15T09:46:19Z", "author": {"login": "evacchi"}, "path": "kogito-quarkus-extension/deployment/src/main/java/org/kie/kogito/quarkus/deployment/DMNCompilationProvider.java", "diffHunk": "@@ -25,6 +25,7 @@\n import org.kie.kogito.codegen.ApplicationGenerator;\n import org.kie.kogito.codegen.Generator;\n import org.kie.kogito.codegen.decision.DecisionCodegen;\n+import org.kie.kogito.codegen.di.CDIDependencyInjectionAnnotator;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d09bce0b91a153415d118275b016761895df717"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMjcyNTgz", "url": "https://github.com/kiegroup/kogito-runtimes/pull/929#pullrequestreview-552272583", "createdAt": "2020-12-15T09:46:34Z", "commit": {"oid": "4d09bce0b91a153415d118275b016761895df717"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e85a15742c563918e2ee617d0ed5afe0218116b5", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/e85a15742c563918e2ee617d0ed5afe0218116b5", "committedDate": "2020-12-15T11:30:08Z", "message": "Update DMNCompilationProvider.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c6776b516c04209c7197017a01cf9ec65f8238e", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/9c6776b516c04209c7197017a01cf9ec65f8238e", "committedDate": "2020-12-15T12:53:18Z", "message": "Update ApplicationContainerGenerator.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzNzU1OTUw", "url": "https://github.com/kiegroup/kogito-runtimes/pull/929#pullrequestreview-553755950", "createdAt": "2020-12-16T14:45:35Z", "commit": {"oid": "9c6776b516c04209c7197017a01cf9ec65f8238e"}, "state": "APPROVED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxNDo0NTozNVrOIHIzgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxNTowNTo1NFrOIHJ3fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDM1NTIwMw==", "bodyText": "Maybe param description could be added?", "url": "https://github.com/kiegroup/kogito-runtimes/pull/929#discussion_r544355203", "createdAt": "2020-12-16T14:45:35Z", "author": {"login": "MarianMacik"}, "path": "api/kogito-api/src/main/java/org/kie/kogito/Application.java", "diffHunk": "@@ -37,36 +33,13 @@\n     Config config();\n \n     /**\n-     * Returns processes found in the application otherwise null\n-     * @return processes information or null of non found\n+     * Returns the desired KogitoEngine impl or null if not found\n+     * @param clazz\n+     * @param <T>\n+     * @return", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c6776b516c04209c7197017a01cf9ec65f8238e"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDM1NTM4OA==", "bodyText": "Same here.", "url": "https://github.com/kiegroup/kogito-runtimes/pull/929#discussion_r544355388", "createdAt": "2020-12-16T14:45:49Z", "author": {"login": "MarianMacik"}, "path": "api/kogito-api/src/main/java/org/kie/kogito/Config.java", "diffHunk": "@@ -15,43 +15,18 @@\n \n package org.kie.kogito;\n \n-import org.kie.kogito.decision.DecisionConfig;\n-import org.kie.kogito.prediction.PredictionConfig;\n-import org.kie.kogito.process.ProcessConfig;\n-import org.kie.kogito.rules.RuleConfig;\n-\n /**\n  * Provides general configuration of Kogito application\n  */\n public interface Config {\n \n     /**\n-     * Provides process specific configuration\n-     *\n-     * @return process specific configuration or null of no process is found in the application\n-     */\n-    ProcessConfig process();\n-\n-    /**\n-     * Provides rule specific configuration\n-     *\n-     * @return rule specific configuration or null of no rule is found in the application\n-     */\n-    RuleConfig rule();\n-\n-    /**\n-     * Provides decision specific configuration\n-     *\n-     * @return decision specific configuration or null of no decision is found in the application\n-     */\n-    DecisionConfig decision();\n-\n-    /**\n-     * Provides prediction specific configuration\n-     *\n-     * @return prediction specific configuration or null of no prediction is found in the application\n+     * Provides instance of requested KogitoConfig or null if not available\n+     * @param clazz\n+     * @param <T>\n+     * @return", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c6776b516c04209c7197017a01cf9ec65f8238e"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDM1NzgwNg==", "bodyText": "Maybe unnecessary org.kie.kogito.process.ProcessConfig.class and could be just ProcessConfig.class.", "url": "https://github.com/kiegroup/kogito-runtimes/pull/929#discussion_r544357806", "createdAt": "2020-12-16T14:48:40Z", "author": {"login": "MarianMacik"}, "path": "api/kogito-api/src/main/java/org/kie/kogito/StaticApplication.java", "diffHunk": "@@ -15,67 +15,59 @@\n \n package org.kie.kogito;\n \n-import org.kie.kogito.decision.DecisionModels;\n-import org.kie.kogito.prediction.PredictionModels;\n-import org.kie.kogito.process.Processes;\n-import org.kie.kogito.rules.RuleUnits;\n+import org.kie.kogito.process.ProcessConfig;\n import org.kie.kogito.uow.UnitOfWorkManager;\n \n+import java.util.Arrays;\n+import java.util.HashMap;\n+import java.util.Map;\n+\n public class StaticApplication implements Application {\n \n     protected Config config;\n-    protected Processes processes;\n-    protected RuleUnits ruleUnits;\n-    protected DecisionModels decisionModels;\n-    protected PredictionModels predictionModels;\n+    private final Map<Class<? extends KogitoEngine>, KogitoEngine> engineMap = new HashMap<>();\n \n     public StaticApplication() {\n \n     }\n \n     public StaticApplication(\n             Config config,\n-            Processes processes,\n-            RuleUnits ruleUnits,\n-            DecisionModels decisionModels,\n-            PredictionModels predictionModels) {\n+            KogitoEngine ... engines) {\n         this.config = config;\n-        this.processes = processes;\n-        this.ruleUnits = ruleUnits;\n-        this.decisionModels = decisionModels;\n-        this.predictionModels = predictionModels;\n-\n-        if (config() != null && config().process() != null) {\n-            unitOfWorkManager().eventManager().setAddons(config().addons());\n-        }\n+        loadEngines(engines);\n     }\n \n     public Config config() {\n         return config;\n     }\n \n+    @SuppressWarnings(\"unchecked\")\n     @Override\n-    public Processes processes() {\n-        return processes;\n+    public <T extends KogitoEngine> T get(Class<T> clazz) {\n+        return (T) engineMap.entrySet().stream()\n+                .filter(entry -> clazz.isAssignableFrom(entry.getKey()))\n+                .map(Map.Entry::getValue)\n+                .findFirst()\n+                .orElse(null);\n     }\n \n-    @Override\n-    public RuleUnits ruleUnits() {\n-        return ruleUnits;\n-    }\n+    protected void loadEngines(KogitoEngine ... engines) {\n+        Arrays.stream(engines).forEach(this::loadEngine);\n \n-    @Override\n-    public DecisionModels decisionModels() {\n-        return decisionModels;\n+        if (config() != null && config().get(org.kie.kogito.process.ProcessConfig.class) != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c6776b516c04209c7197017a01cf9ec65f8238e"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDM2NDUyOQ==", "bodyText": "Wouldn't equals be even better?", "url": "https://github.com/kiegroup/kogito-runtimes/pull/929#discussion_r544364529", "createdAt": "2020-12-16T14:55:53Z", "author": {"login": "MarianMacik"}, "path": "drools/kogito-ruleunits/src/main/java/org/kie/kogito/rules/units/InterpretedRuleUnit.java", "diffHunk": "@@ -73,15 +74,20 @@ public Config config() {\n             return null;\n         }\n \n-        public UnitOfWorkManager unitOfWorkManager() {\n+        @SuppressWarnings(\"unchecked\")\n+        @Override\n+        public <T extends KogitoEngine> T get(Class<T> clazz) {\n+            if(clazz.isAssignableFrom(org.kie.kogito.rules.RuleUnits.class)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c6776b516c04209c7197017a01cf9ec65f8238e"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDM2NTQ0Mw==", "bodyText": "Why no imports here? I thought we do it just in templates.", "url": "https://github.com/kiegroup/kogito-runtimes/pull/929#discussion_r544365443", "createdAt": "2020-12-16T14:56:57Z", "author": {"login": "MarianMacik"}, "path": "integration-tests/integration-tests-quarkus-decisions/src/main/java/org/kie/kogito/integrationtests/InjectDecisionModels.java", "diffHunk": "@@ -16,19 +16,16 @@\n \n package org.kie.kogito.integrationtests;\n \n-import io.quarkus.runtime.Startup;\n-import org.kie.kogito.Application;\n-import org.kie.kogito.decision.DecisionModels;\n-\n-import javax.inject.Inject;\n-\n-@Startup\n+@io.quarkus.runtime.Startup", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c6776b516c04209c7197017a01cf9ec65f8238e"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDM3MjYwNg==", "bodyText": "and same instance as... :)", "url": "https://github.com/kiegroup/kogito-runtimes/pull/929#discussion_r544372606", "createdAt": "2020-12-16T15:05:54Z", "author": {"login": "MarianMacik"}, "path": "integration-tests/integration-tests-quarkus-rules/src/main/java/org/kie/kogito/integrationtests/InjectRuleUnits.java", "diffHunk": "@@ -16,19 +16,16 @@\n \n package org.kie.kogito.integrationtests;\n \n-import io.quarkus.runtime.Startup;\n-import org.kie.kogito.Application;\n-import org.kie.kogito.rules.RuleUnits;\n-\n-import javax.inject.Inject;\n-\n-@Startup\n+@io.quarkus.runtime.Startup\n public class InjectRuleUnits {\n \n-    @Inject\n-    public InjectRuleUnits(RuleUnits ruleUnits, Application application) {\n-        if (ruleUnits != application.ruleUnits()) {\n-            throw new IllegalStateException(\"RuleUnits should be injectable and same instance as application.ruleUnits()\");\n+    @javax.inject.Inject\n+    public InjectRuleUnits(org.kie.kogito.rules.RuleUnits ruleUnits, org.kie.kogito.Application application) {\n+        if (ruleUnits != application.get(org.kie.kogito.rules.RuleUnits.class)) {\n+            throw new IllegalStateException(\"RuleUnits should be injectable and same instance application.get(RuleUnits.class)\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c6776b516c04209c7197017a01cf9ec65f8238e"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f48ccfdbfb2802ef925404c0ef96af0018f4852", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/4f48ccfdbfb2802ef925404c0ef96af0018f4852", "committedDate": "2020-12-16T20:19:43Z", "message": "Minor changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84702ea4c25d6a83723575da2dc57d0013403d55", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/84702ea4c25d6a83723575da2dc57d0013403d55", "committedDate": "2020-12-16T20:19:54Z", "message": "Merge remote-tracking branch 'origin/application-config-refactoring' into application-config-refactoring"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3898, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}