{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3MzcxMTU0", "number": 470, "title": "[KOGITO-1644] Move docker-based test cases to maven-failsafe", "bodyText": "Moving tests depending on docker images to integration phase using maven failsafe plugin (in case of 'infinispan-persistence-addon' also enabling previously disabled test).", "createdAt": "2020-04-22T15:37:44Z", "url": "https://github.com/kiegroup/kogito-runtimes/pull/470", "merged": true, "mergeCommit": {"oid": "d732b1f12014358f3556073b322b24cadecaa2ed"}, "closed": true, "closedAt": "2020-05-12T23:50:05Z", "author": {"login": "jstastny-cz"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcaX7GcgFqTM5ODgzNjg2NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgtLJrAFqTQxMDQ5OTE0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4ODM2ODY0", "url": "https://github.com/kiegroup/kogito-runtimes/pull/470#pullrequestreview-398836864", "createdAt": "2020-04-23T07:40:29Z", "commit": {"oid": "87049481396e80df554abbe0486767ff251903a4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4ODc1MzAy", "url": "https://github.com/kiegroup/kogito-runtimes/pull/470#pullrequestreview-398875302", "createdAt": "2020-04-23T08:30:21Z", "commit": {"oid": "87049481396e80df554abbe0486767ff251903a4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4ODk2OTAx", "url": "https://github.com/kiegroup/kogito-runtimes/pull/470#pullrequestreview-398896901", "createdAt": "2020-04-23T08:57:27Z", "commit": {"oid": "87049481396e80df554abbe0486767ff251903a4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwODo1NzoyN1rOGKefdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwODo1NzoyN1rOGKefdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzYzODUxOA==", "bodyText": "@jstastny-cz if you want, this can be simplified by https://github.com/kiegroup/kogito-examples/pull/243/files#diff-8e9ae312cb9d5554bd4e5cd70c566376R47", "url": "https://github.com/kiegroup/kogito-runtimes/pull/470#discussion_r413638518", "createdAt": "2020-04-23T08:57:27Z", "author": {"login": "cristianonicolai"}, "path": "addons/persistence/infinispan-persistence-addon/src/test/java/org/kie/kogito/infinispan/CacheProcessInstancesIT.java", "diffHunk": "@@ -25,25 +25,41 @@\n \n import org.drools.core.io.impl.ClassPathResource;\n import org.infinispan.client.hotrod.RemoteCacheManager;\n+import org.infinispan.client.hotrod.configuration.ClientIntelligence;\n import org.infinispan.client.hotrod.configuration.ConfigurationBuilder;\n import org.infinispan.client.hotrod.impl.ConfigurationProperties;\n-import org.junit.jupiter.api.Disabled;\n import org.junit.jupiter.api.Test;\n+import org.kie.kogito.auth.SecurityPolicy;\n import org.kie.kogito.persistence.KogitoProcessInstancesFactory;\n import org.kie.kogito.process.ProcessInstance;\n import org.kie.kogito.process.WorkItem;\n import org.kie.kogito.process.bpmn2.BpmnProcess;\n import org.kie.kogito.process.bpmn2.BpmnVariables;\n+import org.kie.kogito.services.identity.StaticIdentityProvider;\n+import org.testcontainers.junit.jupiter.Container;\n+import org.testcontainers.junit.jupiter.Testcontainers;\n \n-@Disabled(\"Requires running Infinispan instance\")\n-public class CacheProcessInstancesTest {\n+@Testcontainers\n+public class CacheProcessInstancesIT {\n+\n+    @Container\n+    public InfinispanServerContainer container = new InfinispanServerContainer();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87049481396e80df554abbe0486767ff251903a4"}, "originalPosition": 25}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "87049481396e80df554abbe0486767ff251903a4", "author": {"user": {"login": "jstastny-cz", "name": "Jan Stastny"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/87049481396e80df554abbe0486767ff251903a4", "committedDate": "2020-04-22T15:29:25Z", "message": "[KOGITO-1644] Move docker-based test cases to maven-failsafe (integration tests)"}, "afterCommit": {"oid": "6ad9d40db5b46cbfee67537adaaad586bc089584", "author": {"user": {"login": "jstastny-cz", "name": "Jan Stastny"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/6ad9d40db5b46cbfee67537adaaad586bc089584", "committedDate": "2020-04-23T11:02:16Z", "message": "don't fail on integration-test failure,collect failsafe results"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMDI4MTAx", "url": "https://github.com/kiegroup/kogito-runtimes/pull/470#pullrequestreview-402028101", "createdAt": "2020-04-28T16:50:48Z", "commit": {"oid": "d35ae96e5b0703a2d3ae8ffb068b644af209b290"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d35ae96e5b0703a2d3ae8ffb068b644af209b290", "author": {"user": {"login": "jstastny-cz", "name": "Jan Stastny"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/d35ae96e5b0703a2d3ae8ffb068b644af209b290", "committedDate": "2020-04-28T12:02:35Z", "message": "remove hardcoded image spec from test resources"}, "afterCommit": {"oid": "08ff7f510f94b5d4227f735144ff1814acc2235c", "author": {"user": {"login": "jstastny-cz", "name": "Jan Stastny"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/08ff7f510f94b5d4227f735144ff1814acc2235c", "committedDate": "2020-04-28T18:31:59Z", "message": "remove hardcoded image spec from test resources"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0OTIwMTkx", "url": "https://github.com/kiegroup/kogito-runtimes/pull/470#pullrequestreview-404920191", "createdAt": "2020-05-04T11:57:48Z", "commit": {"oid": "08ff7f510f94b5d4227f735144ff1814acc2235c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9332641482f170bc82ee3135d07a9f8e67c3bad", "author": {"user": {"login": "jstastny-cz", "name": "Jan Stastny"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/b9332641482f170bc82ee3135d07a9f8e67c3bad", "committedDate": "2020-05-07T07:25:57Z", "message": "[KOGITO-1644] Move docker-based test cases to maven-failsafe (integration tests)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b2975ba96e5b9696d9f6d3872e3ed4c791c17be", "author": {"user": {"login": "jstastny-cz", "name": "Jan Stastny"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/2b2975ba96e5b9696d9f6d3872e3ed4c791c17be", "committedDate": "2020-05-07T07:25:57Z", "message": "don't fail on integration-test failure,collect failsafe results"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6c7b3518b9b5fa8f4bb0ddf8344b1045090acd6", "author": {"user": {"login": "jstastny-cz", "name": "Jan Stastny"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/a6c7b3518b9b5fa8f4bb0ddf8344b1045090acd6", "committedDate": "2020-05-07T07:25:57Z", "message": "KOGITO-1644 added failsafe verify goal"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d209298c66d99286c47b2ed12ee3f8c23a4ec43", "author": {"user": {"login": "jstastny-cz", "name": "Jan Stastny"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/2d209298c66d99286c47b2ed12ee3f8c23a4ec43", "committedDate": "2020-05-07T07:25:57Z", "message": "remove hardcoded image spec from test resources"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f7bc6337b1514f54bc3795c82858234a62e6575", "author": {"user": {"login": "jstastny-cz", "name": "Jan Stastny"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/2f7bc6337b1514f54bc3795c82858234a62e6575", "committedDate": "2020-05-07T07:25:57Z", "message": "add notes into README.md"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "08ff7f510f94b5d4227f735144ff1814acc2235c", "author": {"user": {"login": "jstastny-cz", "name": "Jan Stastny"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/08ff7f510f94b5d4227f735144ff1814acc2235c", "committedDate": "2020-04-28T18:31:59Z", "message": "remove hardcoded image spec from test resources"}, "afterCommit": {"oid": "2f7bc6337b1514f54bc3795c82858234a62e6575", "author": {"user": {"login": "jstastny-cz", "name": "Jan Stastny"}}, "url": "https://github.com/kiegroup/kogito-runtimes/commit/2f7bc6337b1514f54bc3795c82858234a62e6575", "committedDate": "2020-05-07T07:25:57Z", "message": "add notes into README.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNDk5MTQx", "url": "https://github.com/kiegroup/kogito-runtimes/pull/470#pullrequestreview-410499141", "createdAt": "2020-05-12T23:49:34Z", "commit": {"oid": "2f7bc6337b1514f54bc3795c82858234a62e6575"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3674, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}