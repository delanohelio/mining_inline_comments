{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2Njc2OTY2", "number": 189, "title": "Add helm adapter", "bodyText": "_Closes #188", "createdAt": "2020-06-02T15:52:17Z", "url": "https://github.com/artipie/artipie/pull/189", "merged": true, "mergeCommit": {"oid": "3d2df13cb9c7983cc7b639930e715e3adc5e9511"}, "closed": true, "closedAt": "2020-06-05T07:31:51Z", "author": {"login": "Sammers21"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnW7MrAH2gAyNDI2Njc2OTY2OjEzOWU1MzMxYjhmODAwMTA0MjM1YWNiNzcyZTdkN2EyYjU2Mjc2ZTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoNkiwAFqTQyNTA1OTUwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "139e5331b8f800104235acb772e7d7a2b56276e1", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/139e5331b8f800104235acb772e7d7a2b56276e1", "committedDate": "2020-06-02T15:51:42Z", "message": "#188 - add helm adapter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMzY4NTM0", "url": "https://github.com/artipie/artipie/pull/189#pullrequestreview-423368534", "createdAt": "2020-06-03T09:16:57Z", "commit": {"oid": "139e5331b8f800104235acb772e7d7a2b56276e1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwOToxNjo1N1rOGeTR0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwOToxNjo1N1rOGeTR0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQyNjMyMQ==", "bodyText": "@Sammers21 do you need full path URIs for Helm? If not, please wrap it with TrimPathSlice as some other endpoints", "url": "https://github.com/artipie/artipie/pull/189#discussion_r434426321", "createdAt": "2020-06-03T09:16:57Z", "author": {"login": "g4s8"}, "path": "src/main/java/com/artipie/SliceFromConfig.java", "diffHunk": "@@ -120,6 +121,10 @@ public SliceFromConfig(final RepoConfig config, final Vertx vertx,\n                         \"gem\",\n                         config -> CompletableFuture.completedStage(new GemSlice(storage, vertx.fileSystem()))\n                     ),\n+                    new MapEntry<>(\n+                        \"helm\",\n+                        config -> CompletableFuture.completedStage(new HelmSlice(storage))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "139e5331b8f800104235acb772e7d7a2b56276e1"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fba7076340e3ad1011b8a3cd9bbde640d8214aa", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/6fba7076340e3ad1011b8a3cd9bbde640d8214aa", "committedDate": "2020-06-03T09:20:13Z", "message": "Merge branch 'master' into add_helm"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eca5ce746bec16488713e3ac5e7ec350bb200a4a", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/eca5ce746bec16488713e3ac5e7ec350bb200a4a", "committedDate": "2020-06-03T10:11:45Z", "message": "Merge branch 'master' of https://github.com/artipie/artipie into add_helm"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "618d476a8dc78c7963d349f3d1a820b7fda32498", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/618d476a8dc78c7963d349f3d1a820b7fda32498", "committedDate": "2020-06-03T10:18:14Z", "message": "Merge branch 'master' into add_helm"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "632590a54305d06996d1212b2c382aeca4a2fa05", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/632590a54305d06996d1212b2c382aeca4a2fa05", "committedDate": "2020-06-04T12:32:52Z", "message": "Merge branch 'master' of https://github.com/artipie/artipie into add_helm"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "976a7256d22764bd579f4261a8565666dba7d836", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/976a7256d22764bd579f4261a8565666dba7d836", "committedDate": "2020-06-04T12:37:29Z", "message": "#188 - update readme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d38794b2c6f712a24c17720bf84c62cd1be04f0", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/0d38794b2c6f712a24c17720bf84c62cd1be04f0", "committedDate": "2020-06-04T12:37:41Z", "message": "Merge branch 'add_helm' of github.com:Sammers21/artipie into add_helm"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0NDI5Njc1", "url": "https://github.com/artipie/artipie/pull/189#pullrequestreview-424429675", "createdAt": "2020-06-04T13:17:01Z", "commit": {"oid": "0d38794b2c6f712a24c17720bf84c62cd1be04f0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxMzoxNzowMlrOGfFOLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxMzoxNzowMlrOGfFOLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI0NDU5MQ==", "bodyText": "@Sammers21 helm adapter supports \"helm push plugin\" https://github.com/chartmuseum/helm-push see: artipie/helm-adapter#12\nSo it should be helm repo add artipie http://localhost:8080 && helm push artipie @my_chart-1.6.4.tgz, isn't it?", "url": "https://github.com/artipie/artipie/pull/189#discussion_r435244591", "createdAt": "2020-06-04T13:17:02Z", "author": {"login": "g4s8"}, "path": "README.md", "diffHunk": "@@ -371,6 +371,31 @@ Install a gem:\n $ gem install my_first_gem --source http://localhost:8080/gem\n ```\n \n+## Helm chart repo\n+\n+Try this `helm.yaml` file:\n+\n+```yaml\n+repo:\n+  type: helm\n+  storage:\n+    type: fs\n+    path: /tmp/artipie/data/helm-charts\n+```\n+\n+Publish a chart:\n+\n+```bash\n+$ curl --data-binary \"@my_chart-1.6.4.tgz\" http://localhost:8080/helm", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d38794b2c6f712a24c17720bf84c62cd1be04f0"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19f34894fb2b374fb213098ad358b032b60975bb", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/19f34894fb2b374fb213098ad358b032b60975bb", "committedDate": "2020-06-05T00:26:15Z", "message": "Merge branch 'master' of https://github.com/artipie/artipie into add_helm"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84b21d6fa87569fbf6c01a8cc860ef83f466bc68", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/84b21d6fa87569fbf6c01a8cc860ef83f466bc68", "committedDate": "2020-06-05T00:27:11Z", "message": "#188 - add helm"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MDU5NTAx", "url": "https://github.com/artipie/artipie/pull/189#pullrequestreview-425059501", "createdAt": "2020-06-05T07:31:44Z", "commit": {"oid": "84b21d6fa87569fbf6c01a8cc860ef83f466bc68"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3208, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}