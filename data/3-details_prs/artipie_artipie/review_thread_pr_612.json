{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5ODY2NjEz", "number": 612, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwOTowNzowMVrOElkH8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwOTowNzowMVrOElkH8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3ODI0NjI3OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/artipie/auth/AuthFromYaml.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwOTowNzowMVrOHVGq4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwOTowNzowMVrOHVGq4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg5MTQyNQ==", "bodyText": "@olenagerasimova merging of nested if/else statements you've mad are not identical. Is it intentional? I'd suggest to keep it as it is for now and address in separate issue/PR if it needs to be fixed", "url": "https://github.com/artipie/artipie/pull/612#discussion_r491891425", "createdAt": "2020-09-21T09:07:01Z", "author": {"login": "olegmoz"}, "path": "src/main/java/com/artipie/auth/AuthFromYaml.java", "diffHunk": "@@ -65,22 +68,18 @@ public AuthFromYaml(final YamlMapping cred) {\n     }\n \n     @Override\n-    public Optional<String> user(final String user, final String pass) {\n+    public Optional<Authentication.User> user(final String user, final String pass) {\n         final YamlMapping users = this.cred.yamlMapping(\"credentials\");\n-        Optional<String> res = Optional.empty();\n+        Optional<Authentication.User> res = Optional.empty();\n         //@checkstyle NestedIfDepthCheck (10 lines)\n         if (users != null && users.yamlMapping(user) != null) {\n             final String stored = users.yamlMapping(user).string(\"pass\");\n             if (stored != null) {\n                 final String type = users.yamlMapping(user).string(\"type\");\n-                if (type != null) {\n-                    if (check(stored, type, pass)) {\n-                        res = Optional.of(user);\n-                    }\n-                } else {\n-                    if (check(stored, pass)) {\n-                        res = Optional.of(user);\n-                    }\n+                if (type != null && check(stored, type, pass)) {\n+                    res = Optional.of(new User(user, AuthFromYaml.groups(users.yamlMapping(user))));\n+                } else if (check(stored, pass)) {\n+                    res = Optional.of(new User(user, AuthFromYaml.groups(users.yamlMapping(user))));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30db0aed4bcae9e7cdf10d4da310ec89be0ea01a"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2206, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}