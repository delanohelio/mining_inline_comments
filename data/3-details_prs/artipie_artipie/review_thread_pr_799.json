{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1Njk4MTg4", "number": 799, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMjo0Njo0OFrOFDdbkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMjo0Njo0OFrOFDdbkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MTcyMjQxOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/artipie/VertxMain.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMjo0Njo0OFrOIDHk_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxODoxODoyOVrOIDXBWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE0MDc5Nw==", "bodyText": "@olenagerasimova it seems that this change is not really related to other changes in this PR", "url": "https://github.com/artipie/artipie/pull/799#discussion_r540140797", "createdAt": "2020-12-10T12:46:48Z", "author": {"login": "olegmoz"}, "path": "src/main/java/com/artipie/VertxMain.java", "diffHunk": "@@ -194,7 +194,7 @@ private void startRepos(final Settings settings, final Metrics metrics) {\n         final String yaml = \".yaml\";\n         final Collection<RepoConfig> configs = storage.list(Key.ROOT).thenApply(\n             keys -> keys.stream().map(Key::string)\n-                .filter(name -> name.endsWith(yaml))\n+                .filter(name -> name.endsWith(yaml) && name.charAt(0) != '_')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "afb06b2de76e85acab9aa2c4d5755098e8acf201"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDI2ODQ3Mw==", "bodyText": "@olegmoz hm, please, check #798 description - I've described this bug there, so I think it can be make here", "url": "https://github.com/artipie/artipie/pull/799#discussion_r540268473", "createdAt": "2020-12-10T15:36:44Z", "author": {"login": "olenagerasimova"}, "path": "src/main/java/com/artipie/VertxMain.java", "diffHunk": "@@ -194,7 +194,7 @@ private void startRepos(final Settings settings, final Metrics metrics) {\n         final String yaml = \".yaml\";\n         final Collection<RepoConfig> configs = storage.list(Key.ROOT).thenApply(\n             keys -> keys.stream().map(Key::string)\n-                .filter(name -> name.endsWith(yaml))\n+                .filter(name -> name.endsWith(yaml) && name.charAt(0) != '_')", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE0MDc5Nw=="}, "originalCommit": {"oid": "afb06b2de76e85acab9aa2c4d5755098e8acf201"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDMzNDM1OQ==", "bodyText": "@olenagerasimova I see it in the issue now, yet do not understand how these bug fixes are related to replacing existing classes with api-management library. Especially the one with underscore names. If we don't allow names starting with underscore, then with should document it", "url": "https://github.com/artipie/artipie/pull/799#discussion_r540334359", "createdAt": "2020-12-10T16:55:36Z", "author": {"login": "olegmoz"}, "path": "src/main/java/com/artipie/VertxMain.java", "diffHunk": "@@ -194,7 +194,7 @@ private void startRepos(final Settings settings, final Metrics metrics) {\n         final String yaml = \".yaml\";\n         final Collection<RepoConfig> configs = storage.list(Key.ROOT).thenApply(\n             keys -> keys.stream().map(Key::string)\n-                .filter(name -> name.endsWith(yaml))\n+                .filter(name -> name.endsWith(yaml) && name.charAt(0) != '_')", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE0MDc5Nw=="}, "originalCommit": {"oid": "afb06b2de76e85acab9aa2c4d5755098e8acf201"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM2MzE0MA==", "bodyText": "@olegmoz dashboard with org layout cannot be used while any of these bugs are valid - I faced them trying to start artipie and access any dashboard page locally.\nI'd suggest to properly deal with underscore names (or catching exceptions with invalid repo configs, whatever we decide) in the separate issue/PR.", "url": "https://github.com/artipie/artipie/pull/799#discussion_r540363140", "createdAt": "2020-12-10T17:35:08Z", "author": {"login": "olenagerasimova"}, "path": "src/main/java/com/artipie/VertxMain.java", "diffHunk": "@@ -194,7 +194,7 @@ private void startRepos(final Settings settings, final Metrics metrics) {\n         final String yaml = \".yaml\";\n         final Collection<RepoConfig> configs = storage.list(Key.ROOT).thenApply(\n             keys -> keys.stream().map(Key::string)\n-                .filter(name -> name.endsWith(yaml))\n+                .filter(name -> name.endsWith(yaml) && name.charAt(0) != '_')", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE0MDc5Nw=="}, "originalCommit": {"oid": "afb06b2de76e85acab9aa2c4d5755098e8acf201"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM5MzgxNg==", "bodyText": "@olenagerasimova got it, thanks", "url": "https://github.com/artipie/artipie/pull/799#discussion_r540393816", "createdAt": "2020-12-10T18:18:29Z", "author": {"login": "olegmoz"}, "path": "src/main/java/com/artipie/VertxMain.java", "diffHunk": "@@ -194,7 +194,7 @@ private void startRepos(final Settings settings, final Metrics metrics) {\n         final String yaml = \".yaml\";\n         final Collection<RepoConfig> configs = storage.list(Key.ROOT).thenApply(\n             keys -> keys.stream().map(Key::string)\n-                .filter(name -> name.endsWith(yaml))\n+                .filter(name -> name.endsWith(yaml) && name.charAt(0) != '_')", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE0MDc5Nw=="}, "originalCommit": {"oid": "afb06b2de76e85acab9aa2c4d5755098e8acf201"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1988, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}