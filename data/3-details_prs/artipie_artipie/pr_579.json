{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1MDgzNzM3", "number": 579, "title": "#569 - created Credentials.User", "bodyText": "Part of #569\nI've added Credentials.User class with username and email, changed methods of Credentials signature, implementations and usages.\nNext part would be to properly correct and extend tests.", "createdAt": "2020-09-11T13:38:10Z", "url": "https://github.com/artipie/artipie/pull/579", "merged": true, "mergeCommit": {"oid": "cc666b9909a1c38a9f1d7cbc4b21de3cfafd2ec8"}, "closed": true, "closedAt": "2020-09-14T12:01:04Z", "author": {"login": "olenagerasimova"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdH1hSdAH2gAyNDg1MDgzNzM3OjJjMzM5YTJiZjFkMTNiNGNkNDI5YjI5OTA0YTE3YjJmNjVhNDVmYmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdIx1yuAH2gAyNDg1MDgzNzM3OmEwMTkyMDNjMjIwNGY3MDVhMzI0ZmMxMTA4OTFlMzcyOTExMjcyOTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2c339a2bf1d13b4cd429b29904a17b2f65a45fba", "author": {"user": {"login": "olenagerasimova", "name": "Alena"}}, "url": "https://github.com/artipie/artipie/commit/2c339a2bf1d13b4cd429b29904a17b2f65a45fba", "committedDate": "2020-09-11T13:36:02Z", "message": "#569 - created Credentials.User"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NTUzMTA0", "url": "https://github.com/artipie/artipie/pull/579#pullrequestreview-487553104", "createdAt": "2020-09-14T08:57:46Z", "commit": {"oid": "2c339a2bf1d13b4cd429b29904a17b2f65a45fba"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwODo1Nzo0N1rOHRKUwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwOTowNTowMlrOHRKlVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc1Njk5Mg==", "bodyText": "@olenagerasimova looks odd that password is not part of User class. Maybe it should not be in scope of PR, but I'd suggest to add an issue for that to address it later", "url": "https://github.com/artipie/artipie/pull/579#discussion_r487756992", "createdAt": "2020-09-14T08:57:47Z", "author": {"login": "olegmoz"}, "path": "src/main/java/com/artipie/Credentials.java", "diffHunk": "@@ -56,16 +57,16 @@\n      * Artipie users list.\n      * @return Yaml as completion action\n      */\n-    CompletionStage<List<String>> users();\n+    CompletionStage<List<User>> users();\n \n     /**\n      * Adds user to artipie users.\n-     * @param username User name\n+     * @param user User info\n      * @param pswd Password\n      * @param format Password format\n      * @return Completion add action\n      */\n-    CompletionStage<Void> add(String username, String pswd, PasswordFormat format);\n+    CompletionStage<Void> add(User user, String pswd, PasswordFormat format);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c339a2bf1d13b4cd429b29904a17b2f65a45fba"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc2MTIzOA==", "bodyText": "@olenagerasimova not every user has an email, so I think it will make more sense to make it Optional. If the field is required in certain Slice then we may put default value there, but not in all places where User is added/modified", "url": "https://github.com/artipie/artipie/pull/579#discussion_r487761238", "createdAt": "2020-09-14T09:05:02Z", "author": {"login": "olegmoz"}, "path": "src/main/java/com/artipie/Credentials.java", "diffHunk": "@@ -274,4 +290,47 @@ public FromEnv(final Map<String, String> env) {\n             return CompletableFuture.completedFuture(new AuthFromEnv());\n         }\n     }\n+\n+    /**\n+     * User.\n+     * @since 0.11\n+     */\n+    final class User {\n+\n+        /**\n+         * User name.\n+         */\n+        private final String uname;\n+\n+        /**\n+         * User email.\n+         */\n+        private final String mail;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c339a2bf1d13b4cd429b29904a17b2f65a45fba"}, "originalPosition": 125}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccdf526f404598207b66a98461fd9858c5172ed4", "author": {"user": {"login": "olenagerasimova", "name": "Alena"}}, "url": "https://github.com/artipie/artipie/commit/ccdf526f404598207b66a98461fd9858c5172ed4", "committedDate": "2020-09-14T10:43:23Z", "message": "Merge branch 'master' into 569-add-email"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1850f821551ccdca703a02ca54af5dab4a886f1c", "author": {"user": {"login": "olenagerasimova", "name": "Alena"}}, "url": "https://github.com/artipie/artipie/commit/1850f821551ccdca703a02ca54af5dab4a886f1c", "committedDate": "2020-09-14T11:03:06Z", "message": "#569 - CR"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ed83e687bc334ec9028d1905f9b014c68bd9467", "author": {"user": {"login": "olenagerasimova", "name": "Alena"}}, "url": "https://github.com/artipie/artipie/commit/9ed83e687bc334ec9028d1905f9b014c68bd9467", "committedDate": "2020-09-14T11:06:25Z", "message": "#569 - todo added"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3Njc2MzUz", "url": "https://github.com/artipie/artipie/pull/579#pullrequestreview-487676353", "createdAt": "2020-09-14T11:52:38Z", "commit": {"oid": "9ed83e687bc334ec9028d1905f9b014c68bd9467"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a019203c2204f705a324fc110891e37291127294", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/artipie/commit/a019203c2204f705a324fc110891e37291127294", "committedDate": "2020-09-14T11:52:44Z", "message": "Merge branch 'master' into 569-add-email"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3560, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}