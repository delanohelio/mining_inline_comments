{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4ODI5NDI4", "number": 665, "title": "#652 - Verify publish for pypi", "bodyText": "Part of #652\nVerify package publishing in pypiITCase. Also started using RepoConfigYaml for building config instead of method config()", "createdAt": "2020-10-06T20:54:09Z", "url": "https://github.com/artipie/artipie/pull/665", "merged": true, "mergeCommit": {"oid": "f696d763dd3ab47e40f08d7983caf5d7e858f6a8"}, "closed": true, "closedAt": "2020-10-08T13:43:13Z", "author": {"login": "genryxy"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdP-uIWAH2gAyNDk4ODI5NDI4OmEzZThiYjc4N2QxMDRjMTUxYjFmNmIzMzQ1MzBiN2EwMjA0MjgzMTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQhQt4gH2gAyNDk4ODI5NDI4OjExZTRiOWJkNjM2NGZjYzJkYjEwMjRhYmNlOTk1ODg2NjlkY2FkMmU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a3e8bb787d104c151b1f6b334530b7a020428310", "author": {"user": {"login": "genryxy", "name": "Alexander"}}, "url": "https://github.com/artipie/artipie/commit/a3e8bb787d104c151b1f6b334530b7a020428310", "committedDate": "2020-10-06T20:50:36Z", "message": "#652 - Verify publish for pypi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "305831f5fdf80ff176a0c25e4e7fed8513fb3f08", "author": {"user": {"login": "genryxy", "name": "Alexander"}}, "url": "https://github.com/artipie/artipie/commit/305831f5fdf80ff176a0c25e4e7fed8513fb3f08", "committedDate": "2020-10-06T21:17:57Z", "message": "#652 - Add description in assertThat"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNTYwMzI2", "url": "https://github.com/artipie/artipie/pull/665#pullrequestreview-503560326", "createdAt": "2020-10-07T06:30:56Z", "commit": {"oid": "305831f5fdf80ff176a0c25e4e7fed8513fb3f08"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNjozMDo1NlrOHdkYMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNjozMDo1NlrOHdkYMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDc2Njc2OQ==", "bodyText": "@genryxy I'd suggest to perform this operation in our \"storage terms\": TestResource has addFilesTo() method to copy resources to provided storage and base key. Also, as this will be just one expression, I think that method can be inlined", "url": "https://github.com/artipie/artipie/pull/665#discussion_r500766769", "createdAt": "2020-10-07T06:30:56Z", "author": {"login": "olenagerasimova"}, "path": "src/test/java/com/artipie/pypi/PypiITCase.java", "diffHunk": "@@ -124,19 +158,16 @@ private String exec(final String... command) throws Exception {\n         return this.cntn.execInContainer(command).getStdout();\n     }\n \n-    private String config() {\n-        return Yaml.createYamlMappingBuilder().add(\n-            \"repo\",\n-            Yaml.createYamlMappingBuilder()\n-                .add(\"type\", \"pypi\")\n-                .add(\n-                    \"storage\",\n-                    Yaml.createYamlMappingBuilder()\n-                        .add(\"type\", \"fs\")\n-                        .add(\"path\", this.tmp.resolve(\"repos\").toString())\n-                        .build()\n-                )\n-                .build()\n-        ).build().toString();\n+    private void prepareDirectory(final String dist) throws IOException {\n+        FileUtils.copyDirectory(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "305831f5fdf80ff176a0c25e4e7fed8513fb3f08"}, "originalPosition": 117}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54bb63420c23b61f811752d470334186b0a913dc", "author": {"user": {"login": "genryxy", "name": "Alexander"}}, "url": "https://github.com/artipie/artipie/commit/54bb63420c23b61f811752d470334186b0a913dc", "committedDate": "2020-10-08T06:04:09Z", "message": "#652 - Use TestResource"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a7f94b51b68fa2090b645bc21f430868aa49dc2", "author": {"user": {"login": "genryxy", "name": "Alexander"}}, "url": "https://github.com/artipie/artipie/commit/6a7f94b51b68fa2090b645bc21f430868aa49dc2", "committedDate": "2020-10-08T06:04:15Z", "message": "Merge remote-tracking branch 'upstream/master' into 652-publish-pypiIT"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NTE1NTUw", "url": "https://github.com/artipie/artipie/pull/665#pullrequestreview-504515550", "createdAt": "2020-10-08T07:54:16Z", "commit": {"oid": "6a7f94b51b68fa2090b645bc21f430868aa49dc2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11e4b9bd6364fcc2db1024abce99588669dcad2e", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/artipie/commit/11e4b9bd6364fcc2db1024abce99588669dcad2e", "committedDate": "2020-10-08T13:05:09Z", "message": "Merge branch 'master' into 652-publish-pypiIT"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3403, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}