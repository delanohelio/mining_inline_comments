{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5MjY0ODEx", "number": 805, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwOTowNDoxM1rOFE38Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwOTowNDoxM1rOFE38Eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNjU1MTIyOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/artipie/SliceFromConfig.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwOTowNDoxM1rOIFGT7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwOTowNDoxM1rOIFGT7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIxNzE5Nw==", "bodyText": "@genryxy it is not something you added, but there is a big problem in this code. Vertx.vertx() call creates a Vert.x instance, a very heavy object. It should be created only once for whole application on start an reused everywhere. Could you please add a puzzle for solving this issue?", "url": "https://github.com/artipie/artipie/pull/805#discussion_r542217197", "createdAt": "2020-12-14T09:04:13Z", "author": {"login": "olegmoz"}, "path": "src/main/java/com/artipie/SliceFromConfig.java", "diffHunk": "@@ -250,15 +250,12 @@ static Slice build(\n                 );\n                 break;\n             case \"npm-proxy\":\n-                slice = trimIfNotStandalone(\n-                    settings, standalone,\n-                    new NpmProxySlice(\n-                        cfg.path(),\n-                        new NpmProxy(\n-                            new NpmProxyConfig(cfg.settings().orElseThrow()),\n-                            Vertx.vertx(),\n-                            cfg.storage()\n-                        )\n+                slice = new NpmProxySlice(\n+                    cfg.path(),\n+                    new NpmProxy(\n+                        new NpmProxyConfig(cfg.settings().orElseThrow()),\n+                        Vertx.vertx(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "924f013f390140ebe403701799f3a0d48a51860a"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1994, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}