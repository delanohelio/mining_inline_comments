{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczOTA3Nzg1", "number": 516, "title": "Nuget proof", "bodyText": "Fixes #517 NuGet install\nRelated to #154", "createdAt": "2020-08-26T13:28:44Z", "url": "https://github.com/artipie/artipie/pull/516", "merged": true, "mergeCommit": {"oid": "519c376e8d2a139701c1565b9c8a987c8b557c21"}, "closed": true, "closedAt": "2020-08-27T08:19:11Z", "author": {"login": "Sammers21"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCsHSaAH2gAyNDczOTA3Nzg1OjQ2YTRlOTdjZmYxNzI0ZjMyMjIxZjFlMzRhMzkxNmQ2Y2M0MzYwMGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdC7zNYgH2gAyNDczOTA3Nzg1OjhkNjAxNzA0Njk4NTgyMzVjMWJkYWJmMjA3NGE1YjE5MjE5NGYxMWM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "46a4e97cff1724f32221f1e34a3916d6cc43600c", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/46a4e97cff1724f32221f1e34a3916d6cc43600c", "committedDate": "2020-08-26T13:48:52Z", "message": "#154 - nuget proof"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aa023731324df04e9cd5ebad2576d12d3c4114e9", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/aa023731324df04e9cd5ebad2576d12d3c4114e9", "committedDate": "2020-08-26T13:44:46Z", "message": "#154 - run ubuntu-latest"}, "afterCommit": {"oid": "46a4e97cff1724f32221f1e34a3916d6cc43600c", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/46a4e97cff1724f32221f1e34a3916d6cc43600c", "committedDate": "2020-08-26T13:48:52Z", "message": "#154 - nuget proof"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c02d0a23b67907fe78d734c56a7ed5aa5e74f5b", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/8c02d0a23b67907fe78d734c56a7ed5aa5e74f5b", "committedDate": "2020-08-26T13:54:32Z", "message": "#154 - use pwsh for linux"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4669a08025a9e424ab7ca05f81cc3fdf0023706a", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/4669a08025a9e424ab7ca05f81cc3fdf0023706a", "committedDate": "2020-08-26T14:04:51Z", "message": "#154 - remove file -f + correct img name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0c87fd96eb947054673ad7cba75a10450440987", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/a0c87fd96eb947054673ad7cba75a10450440987", "committedDate": "2020-08-26T14:09:50Z", "message": "#154 - setup nuget client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32a8c11ee66d06ada2c0ab897d07c05f2a96989a", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/32a8c11ee66d06ada2c0ab897d07c05f2a96989a", "committedDate": "2020-08-26T14:14:11Z", "message": "#154 - fix nuget install"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NzA1NDkz", "url": "https://github.com/artipie/artipie/pull/516#pullrequestreview-475705493", "createdAt": "2020-08-26T17:27:11Z", "commit": {"oid": "32a8c11ee66d06ada2c0ab897d07c05f2a96989a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNzoyNzoxMVrOHHWUCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNzozMTo0MFrOHHWd-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ2NzY1Ng==", "bodyText": "@Sammers21 there is typo Repalce", "url": "https://github.com/artipie/artipie/pull/516#discussion_r477467656", "createdAt": "2020-08-26T17:27:11Z", "author": {"login": "olegmoz"}, "path": ".github/workflows/proof-nuget.yml", "diffHunk": "@@ -3,17 +3,26 @@ on:\n   push:\n     branches:\n       - \"master\"\n+  pull_request:\n+    branches:\n+      - \"master\"\n jobs:\n   proof:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Check out the code\n         uses: actions/checkout@v2\n+      - name: Setup NuGet client\n+        uses: nuget/setup-nuget@v1\n       - name: Build docker image\n         run: |\n           docker build . -t artipie\n-      - name: Start nuget example and proof it works\n+      - name: Repalce docker image with locally built one", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32a8c11ee66d06ada2c0ab897d07c05f2a96989a"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ2ODEyOA==", "bodyText": "@Sammers21 permissions may be removed, permissions are \"everyone can do anything\" by default", "url": "https://github.com/artipie/artipie/pull/516#discussion_r477468128", "createdAt": "2020-08-26T17:28:07Z", "author": {"login": "olegmoz"}, "path": "examples/nuget/configs/my-nuget.yaml", "diffHunk": "@@ -0,0 +1,10 @@\n+repo:\n+  type: nuget\n+  path: my-nuget\n+  url: http://localhost:8080/my-nuget\n+  storage:\n+    type: fs\n+    path: /var/artipie/data\n+  permissions:\n+    \"*\":\n+      - \"*\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32a8c11ee66d06ada2c0ab897d07c05f2a96989a"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ2ODk4OA==", "bodyText": "@Sammers21 I think that path is not supported by NuGet anymore so I think it will be better to remove it", "url": "https://github.com/artipie/artipie/pull/516#discussion_r477468988", "createdAt": "2020-08-26T17:29:40Z", "author": {"login": "olegmoz"}, "path": "examples/nuget/configs/my-nuget.yaml", "diffHunk": "@@ -0,0 +1,10 @@\n+repo:\n+  type: nuget\n+  path: my-nuget", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32a8c11ee66d06ada2c0ab897d07c05f2a96989a"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ3MDIwMg==", "bodyText": "@Sammers21 sample-for-deployment and sample-consumer do not seem to make sense in context of a user. Maybe it will be better to name them sample-library and sample-project? WDYT?", "url": "https://github.com/artipie/artipie/pull/516#discussion_r477470202", "createdAt": "2020-08-26T17:31:40Z", "author": {"login": "olegmoz"}, "path": "examples/nuget/run.ps1", "diffHunk": "@@ -0,0 +1,30 @@\n+# Trace executed commands.\n+Set-PSDebug -Trace 1\n+\n+# Start Artipie.\n+docker run --rm -d --name artipie -it -v ${PWD}/artipie.yaml:/etc/artipie.yml -v  ${PWD}:/var/artipie -p 8080:80 artipie/artipie:latest\n+\n+# Wait for container to be ready for new connections.\n+Start-Sleep 5\n+\n+# Enter dir with a package for deployment.\n+Set-Location sample-for-deployment\n+\n+# Clear cache.\n+Remove-Item SampleForDeployment.1.0.0.nupkg -ErrorAction Ignore\n+nuget locals all -list\n+\n+# Create a NuGet package.\n+nuget pack\n+\n+# Push the package to Artipie.\n+nuget push SampleForDeployment.1.0.0.nupkg -SkipDuplicate -src http://localhost:8080/my-nuget/index.json\n+\n+# Getting to the consumer dir.\n+Set-Location ../sample-consumer", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32a8c11ee66d06ada2c0ab897d07c05f2a96989a"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba2f62b4911e7c44f5b405563c66062946442090", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/ba2f62b4911e7c44f5b405563c66062946442090", "committedDate": "2020-08-27T07:19:19Z", "message": "#154 - fix typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc56df08122d4ad108301e42094c9c78042e553f", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/fc56df08122d4ad108301e42094c9c78042e553f", "committedDate": "2020-08-27T07:24:18Z", "message": "#154 - config simplification"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2NDgwMzc3", "url": "https://github.com/artipie/artipie/pull/516#pullrequestreview-476480377", "createdAt": "2020-08-27T08:05:00Z", "commit": {"oid": "fc56df08122d4ad108301e42094c9c78042e553f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d60170469858235c1bdabf2074a5b192194f11c", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/artipie/commit/8d60170469858235c1bdabf2074a5b192194f11c", "committedDate": "2020-08-27T08:05:25Z", "message": "Merge branch 'master' into nuget_proof"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3514, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}