{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2NzI2OTQ1", "number": 437, "title": "Benchmarks publication process changes", "bodyText": "Benchmark publication process has been changed in accordance with the latest changes in the benchmarking repository.\nRelated to #431\nThose changes were tested on my fork repository.", "createdAt": "2020-08-12T12:10:48Z", "url": "https://github.com/artipie/artipie/pull/437", "merged": true, "mergeCommit": {"oid": "a8db99fb03c00e3ec308c20b8bc54acfc8a897c6"}, "closed": true, "closedAt": "2020-08-13T12:26:50Z", "author": {"login": "Sammers21"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-KS02AH2gAyNDY2NzI2OTQ1OjhjY2FmMTcwNjE4MDU0MDlhOGViNDc2MjZlYjFkMjkzYjViNDVhY2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-eQEAgFqTQ2NjY3MTc5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8ccaf17061805409a8eb47626eb1d293b5b45aca", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/8ccaf17061805409a8eb47626eb1d293b5b45aca", "committedDate": "2020-08-12T12:09:00Z", "message": "#432 - fix benchmarks publication process"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1OTg2NTQ0", "url": "https://github.com/artipie/artipie/pull/437#pullrequestreview-465986544", "createdAt": "2020-08-12T14:43:06Z", "commit": {"oid": "8ccaf17061805409a8eb47626eb1d293b5b45aca"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNDo0MzowNlrOG_kjbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNDo0MzowNlrOG_kjbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMxMjM2Nw==", "bodyText": "@Sammers21 please add $VERSION name to commit message, e.g. Add benchmark results for $VERSION", "url": "https://github.com/artipie/artipie/pull/437#discussion_r469312367", "createdAt": "2020-08-12T14:43:06Z", "author": {"login": "g4s8"}, "path": ".github/workflows/release.yml", "diffHunk": "@@ -35,17 +35,23 @@ jobs:\n       - name: Set env\n         run: echo ::set-env name=RELEASE_VERSION::${GITHUB_REF:10}\n       - name: Run benchmarks\n+        id: run_benchmarks\n         uses: artipie/benchmarks@master\n         with:\n           aws-access-key: '${{ secrets.PERF_AWS_ACCESS_KEY }}'\n           aws-secret-key: '${{ secrets.PERF_AWS_SECRET_KEY }}'\n-          adapter: 'files'\n-          scenario: 'upload-files.jmx'\n           version: '${{ env.RELEASE_VERSION }}'\n-      - name: Publish reports\n-        uses: JamesIves/github-pages-deploy-action@releases/v3\n+      - name: Commit benchmark results\n+        run: |\n+          export REPORT=${{ steps.run_benchmarks.outputs.report }}\n+          export VERSION=${{ env.RELEASE_VERSION }}\n+          git checkout gh-pages\n+          mkdir -p benchmarks/$VERSION\n+          mv $REPORT benchmarks/$VERSION/$REPORT\n+          git add benchmarks/$VERSION/$REPORT\n+          git commit -m \"Add benchmark results\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ccaf17061805409a8eb47626eb1d293b5b45aca"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f785b2b2cecf062e6eb303ae281a7d797833f290", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/f785b2b2cecf062e6eb303ae281a7d797833f290", "committedDate": "2020-08-13T11:16:24Z", "message": "Merge branch 'master' into push_benchmark_results"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4bb9edab6cd2754f9a62d2a143e15b685b29774", "author": {"user": {"login": "Sammers21", "name": "Pavel Drankov"}}, "url": "https://github.com/artipie/artipie/commit/a4bb9edab6cd2754f9a62d2a143e15b685b29774", "committedDate": "2020-08-13T11:18:14Z", "message": "#431 - review fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2NjcxNzk5", "url": "https://github.com/artipie/artipie/pull/437#pullrequestreview-466671799", "createdAt": "2020-08-13T11:24:05Z", "commit": {"oid": "a4bb9edab6cd2754f9a62d2a143e15b685b29774"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3100, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}