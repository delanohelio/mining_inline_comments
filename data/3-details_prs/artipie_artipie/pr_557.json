{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyODAwNzU5", "number": 557, "title": "#555 - document Artifactory API", "bodyText": "For #555 I've started to document supported Artifactory API, please, take a look and let me know if chosen format is appropriate. You can check readme here.", "createdAt": "2020-09-09T12:15:13Z", "url": "https://github.com/artipie/artipie/pull/557", "merged": true, "mergeCommit": {"oid": "d7b8c158e6d3d6d2c1bde91157114cff88d1a4f0"}, "closed": true, "closedAt": "2020-09-09T14:23:24Z", "author": {"login": "olenagerasimova"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHLDuoAH2gAyNDgyODAwNzU5OmI5MTFkY2RlMzdiMWUyY2ViOGJlOTAyZDI3MzBhM2U1NDZiMjMxZDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHM5wVgH2gAyNDgyODAwNzU5Ojc1ZjgzNTAzMWZjMmRkYjAyMDhiZGQ3ZGYyZTcyNmU5ZjllN2MzNTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b911dcde37b1e2ceb8be902d2730a3e546b231d4", "author": {"user": {"login": "olenagerasimova", "name": "Alena"}}, "url": "https://github.com/artipie/artipie/commit/b911dcde37b1e2ceb8be902d2730a3e546b231d4", "committedDate": "2020-09-09T12:07:44Z", "message": "#555 - created readme for Artifactory API description"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "631b267e41e26676e64e7f1e0d3d602a07ce3c55", "author": {"user": {"login": "olenagerasimova", "name": "Alena"}}, "url": "https://github.com/artipie/artipie/commit/631b267e41e26676e64e7f1e0d3d602a07ce3c55", "committedDate": "2020-09-09T12:11:33Z", "message": "#555 - point added at the end of the sentence"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0OTg1MDEx", "url": "https://github.com/artipie/artipie/pull/557#pullrequestreview-484985011", "createdAt": "2020-09-09T13:04:03Z", "commit": {"oid": "631b267e41e26676e64e7f1e0d3d602a07ce3c55"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzowNDowM1rOHPGS3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzoxMDoxNVrOHPGj4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTU5MzgyMA==", "bodyText": "@olenagerasimova typo in REQUIEST", "url": "https://github.com/artipie/artipie/pull/557#discussion_r485593820", "createdAt": "2020-09-09T13:04:03Z", "author": {"login": "olegmoz"}, "path": "ARTIFACTORY_API_SUPPORT.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Artifactory API support\n+\n+Artipie supports artifactory API to manage repositories, users and repository permissions.\n+\n+## Create Repository\n+\n+Creates new docker repository with `default` storage alias and provided name.\n+\n+> **PUT** /api/repositories/{repoKey}\n+\n+Consumes json with the following fields (any other fields are ignored): \n+\n+Field name | Type | Meaning | Required\n+------------ | ------------- | ------------ | ---------\n+key | string | New repository name | Y\n+rclass | string | Repository class, only `local` type is supported | Y\n+packageType | string | Artifact type, only `docker` type is supported | Y\n+dockerApiVersion | string | Docker API version, we only support `V2` | Y\n+\n+Possible responses:\n+- `200 OK` when new repository was successfully created\n+- `400 BAD REQUIEST` in the cases when repository with such name already exists or invalid json was sent", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631b267e41e26676e64e7f1e0d3d602a07ce3c55"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTU5NTQ4MA==", "bodyText": "@olenagerasimova title should be capitalized to be in line with other titles in the file and general formatting rules for English texts", "url": "https://github.com/artipie/artipie/pull/557#discussion_r485595480", "createdAt": "2020-09-09T13:06:20Z", "author": {"login": "olegmoz"}, "path": "ARTIFACTORY_API_SUPPORT.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Artifactory API support\n+\n+Artipie supports artifactory API to manage repositories, users and repository permissions.\n+\n+## Create Repository\n+\n+Creates new docker repository with `default` storage alias and provided name.\n+\n+> **PUT** /api/repositories/{repoKey}\n+\n+Consumes json with the following fields (any other fields are ignored): \n+\n+Field name | Type | Meaning | Required\n+------------ | ------------- | ------------ | ---------\n+key | string | New repository name | Y\n+rclass | string | Repository class, only `local` type is supported | Y\n+packageType | string | Artifact type, only `docker` type is supported | Y\n+dockerApiVersion | string | Docker API version, we only support `V2` | Y\n+\n+Possible responses:\n+- `200 OK` when new repository was successfully created\n+- `400 BAD REQUIEST` in the cases when repository with such name already exists or invalid json was sent\n+- `500 INTERNAL ERROR` in the case of unexpected server error\n+\n+## Users\n+\n+### Get the users list", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631b267e41e26676e64e7f1e0d3d602a07ce3c55"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTU5ODE3Nw==", "bodyText": "@olenagerasimova we have got Internal and internal values in the docs. Is it a typo or these values are actually different?", "url": "https://github.com/artipie/artipie/pull/557#discussion_r485598177", "createdAt": "2020-09-09T13:10:15Z", "author": {"login": "olegmoz"}, "path": "ARTIFACTORY_API_SUPPORT.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Artifactory API support\n+\n+Artipie supports artifactory API to manage repositories, users and repository permissions.\n+\n+## Create Repository\n+\n+Creates new docker repository with `default` storage alias and provided name.\n+\n+> **PUT** /api/repositories/{repoKey}\n+\n+Consumes json with the following fields (any other fields are ignored): \n+\n+Field name | Type | Meaning | Required\n+------------ | ------------- | ------------ | ---------\n+key | string | New repository name | Y\n+rclass | string | Repository class, only `local` type is supported | Y\n+packageType | string | Artifact type, only `docker` type is supported | Y\n+dockerApiVersion | string | Docker API version, we only support `V2` | Y\n+\n+Possible responses:\n+- `200 OK` when new repository was successfully created\n+- `400 BAD REQUIEST` in the cases when repository with such name already exists or invalid json was sent\n+- `500 INTERNAL ERROR` in the case of unexpected server error\n+\n+## Users\n+\n+### Get the users list\n+\n+Endpoint to obtain list of the existing users.\n+\n+> **GET** /api/security/users\n+\n+Returns json array of the following form:\n+```json\n+[\n+  {\n+    \"name\": \"davids\",\n+    \"uri\" : \"http://localhost:8081/artifactory/api/security/users/davids\",\n+    \"realm\" : \"internal\"\n+  }, {\n+    \"name\": \"danl\",\n+    \"uri\" : \"http://localhost:8081/artifactory/api/security/users/danl\",\n+    \"realm\" : \"internal\"\n+  }\n+]\n+```\n+Where `name` field contains user name, `uri` - URI to obtain user details, user `realm` is always `internal`.\n+\n+### Get User Details\n+\n+Endpoint to obtain user details.\n+\n+> **GET** /api/security/users/{userName}\n+\n+Returns json with the following fields:\n+\n+Field name | Type | Meaning | Required\n+------ | ------ | ------ | ------\n+name | string | User name | Y\n+email | string | User email, always constructed as {userName}@artipie.com | Y\n+lastLoggedIn | string | Default `2020-01-01T01:01:01.000+01:00` | Y\n+realm | string | User realm, value `Internal` is always returned | Y\n+\n+If user is not found `404 NOT FOUND` status is returned.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "631b267e41e26676e64e7f1e0d3d602a07ce3c55"}, "originalPosition": 64}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70a8e8a4c3a1336f1c7f0077e78e250e4cf1c34f", "author": {"user": {"login": "olenagerasimova", "name": "Alena"}}, "url": "https://github.com/artipie/artipie/commit/70a8e8a4c3a1336f1c7f0077e78e250e4cf1c34f", "committedDate": "2020-09-09T13:47:14Z", "message": "#555 - CR"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1MDU2NTMx", "url": "https://github.com/artipie/artipie/pull/557#pullrequestreview-485056531", "createdAt": "2020-09-09T14:16:34Z", "commit": {"oid": "70a8e8a4c3a1336f1c7f0077e78e250e4cf1c34f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75f835031fc2ddb0208bdd7df2e726e9f9e7c351", "author": {"user": {"login": "olegmoz", "name": "Oleg Mozzhechkov"}}, "url": "https://github.com/artipie/artipie/commit/75f835031fc2ddb0208bdd7df2e726e9f9e7c351", "committedDate": "2020-09-09T14:16:39Z", "message": "Merge branch 'master' into 555-setup"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3544, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}