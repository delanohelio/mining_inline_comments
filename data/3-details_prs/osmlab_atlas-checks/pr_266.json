{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzMTYwMzU5", "number": 266, "title": "OceanBleedingCheck new check", "bodyText": "Description:\nA new check to flag streets (configurable), railways(configurable) and buildings that bleed into (intersect) oceans. Oceans are defined by a set of configurable tags. There are invalid and valid tags for an ocean that can be used to precisely define it. The goal is to bring attention to OSM features that should have their tags redefined or their geometry rearranged so they either validly intersect the ocean or no longer intersect it.\nThis PR also has a small configuration update for LineCrossingWaterBodyCheck.\nPotential Impact:\nNone, it's a new check\nUnit Test Approach:\nNew unit tests for various features that can bleed into the ocean\nTest Results:\nPassing tests", "createdAt": "2020-03-03T20:32:51Z", "url": "https://github.com/osmlab/atlas-checks/pull/266", "merged": true, "mergeCommit": {"oid": "bc161543f4d61d203c2f3763e30441d13e3fc282"}, "closed": true, "closedAt": "2020-03-04T23:10:03Z", "author": {"login": "seancoulter"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBw0nNgH2gAyMzgzMTYwMzU5OjJmOWExZmZiZDQ1M2RiMTBhNmZmMjk3ZWZmNTY5OTNhZjE1NjMxNzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKfOSJgFqTM2OTE5MDgyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2f9a1ffbd453db10a6ff297eff56993af1563171", "author": {"user": null}, "url": "https://github.com/osmlab/atlas-checks/commit/2f9a1ffbd453db10a6ff297eff56993af1563171", "committedDate": "2020-02-06T20:32:55Z", "message": "intital commit ocean bleeding check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb9ccd632bd3cee1decffb18fa1c7d5bbd66d506", "author": {"user": null}, "url": "https://github.com/osmlab/atlas-checks/commit/eb9ccd632bd3cee1decffb18fa1c7d5bbd66d506", "committedDate": "2020-02-12T21:48:45Z", "message": "add invalid ocean tags"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ceb5518293a6d6d84caa517dfe6b638c3bf1edb3", "author": {"user": null}, "url": "https://github.com/osmlab/atlas-checks/commit/ceb5518293a6d6d84caa517dfe6b638c3bf1edb3", "committedDate": "2020-03-03T01:00:32Z", "message": "Merge https://github.com/osmlab/atlas-checks into waterBleederCheck"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6c5dd2220fb4749aac226411efc69335552c8f1", "author": {"user": null}, "url": "https://github.com/osmlab/atlas-checks/commit/c6c5dd2220fb4749aac226411efc69335552c8f1", "committedDate": "2020-03-03T18:01:30Z", "message": "Merge https://github.com/osmlab/atlas-checks into waterBleederCheck"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "142072f4b238b746b7ccf4aa6db96e40b1469f37", "author": {"user": null}, "url": "https://github.com/osmlab/atlas-checks/commit/142072f4b238b746b7ccf4aa6db96e40b1469f37", "committedDate": "2020-03-03T18:02:29Z", "message": "add LCWB config data; update OceanBleedingCheck"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f", "author": {"user": null}, "url": "https://github.com/osmlab/atlas-checks/commit/392b4baeb5fbeb28051e2218ef89666c288be55f", "committedDate": "2020-03-03T18:33:59Z", "message": "OceanBleeding check make configurable items"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MzM0MzY5", "url": "https://github.com/osmlab/atlas-checks/pull/266#pullrequestreview-368334369", "createdAt": "2020-03-03T21:23:25Z", "commit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMToyMzoyNVrOFxXAnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMToyMzoyNVrOFxXAnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzMwMTUzMg==", "bodyText": "Could you also add the md doc for this check and update the available_checks.md file to include this check?", "url": "https://github.com/osmlab/atlas-checks/pull/266#discussion_r387301532", "createdAt": "2020-03-03T21:23:25Z", "author": {"login": "sayas01"}, "path": "config/configuration.json", "diffHunk": "@@ -964,5 +969,20 @@\n       \"difficulty\":\"NORMAL\",\n       \"defaultPriority\":\"MEDIUM\"\n     }\n+  },\n+  \"OceanBleedingCheck\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MDUyOTI3", "url": "https://github.com/osmlab/atlas-checks/pull/266#pullrequestreview-369052927", "createdAt": "2020-03-04T19:19:11Z", "commit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxOToxOToxMlrOFx6TEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxOToyNDowM1rOFx6ddw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg3OTY5OQ==", "bodyText": "nit: this could be\n\"ocean\" : {\n     \"valid\": \n     \"invalid\":\n  }", "url": "https://github.com/osmlab/atlas-checks/pull/266#discussion_r387879699", "createdAt": "2020-03-04T19:19:12Z", "author": {"login": "sayas01"}, "path": "config/configuration.json", "diffHunk": "@@ -964,5 +969,20 @@\n       \"difficulty\":\"NORMAL\",\n       \"defaultPriority\":\"MEDIUM\"\n     }\n+  },\n+  \"OceanBleedingCheck\": {\n+    \"ocean.valid\": \"natural->strait,channel,fjord,sound,bay|harbour->*&harbour->!no|estuary->*&estuary->!no|bay->*&bay->!no|place->sea|seamark:type->harbour,harbour_basin,sea_area|water->bay,cove,harbour|waterway->artificial,dock\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg4MjM1OQ==", "bodyText": "Could you also add a check with non empty config?", "url": "https://github.com/osmlab/atlas-checks/pull/266#discussion_r387882359", "createdAt": "2020-03-04T19:24:03Z", "author": {"login": "sayas01"}, "path": "src/test/java/org/openstreetmap/atlas/checks/validation/intersections/OceanBleedingCheckTest.java", "diffHunk": "@@ -0,0 +1,61 @@\n+package org.openstreetmap.atlas.checks.validation.intersections;\n+\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.openstreetmap.atlas.checks.configuration.ConfigurationResolver;\n+import org.openstreetmap.atlas.checks.validation.verifier.ConsumerBasedExpectedCheckVerifier;\n+\n+/**\n+ * Unit tests for {@link OceanBleedingCheck}\n+ *\n+ * @author seancoulter\n+ */\n+public class OceanBleedingCheckTest\n+{\n+    @Rule\n+    public OceanBleedingCheckTestRule setup = new OceanBleedingCheckTestRule();\n+\n+    @Rule\n+    public ConsumerBasedExpectedCheckVerifier verifier = new ConsumerBasedExpectedCheckVerifier();\n+\n+    @Test\n+    public void invalidBuildingBleedingIntoOcean()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MTI5NDE0", "url": "https://github.com/osmlab/atlas-checks/pull/266#pullrequestreview-369129414", "createdAt": "2020-03-04T21:17:51Z", "commit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMToxNzo1MVrOFx99YA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMToxNzo1MVrOFx99YA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzkzOTY4MA==", "bodyText": "Do \"offending\" and \"invalid\" have the same definitions? If so, we should stick to one naming convention", "url": "https://github.com/osmlab/atlas-checks/pull/266#discussion_r387939680", "createdAt": "2020-03-04T21:17:51Z", "author": {"login": "danielduhh"}, "path": "config/configuration.json", "diffHunk": "@@ -964,5 +969,20 @@\n       \"difficulty\":\"NORMAL\",\n       \"defaultPriority\":\"MEDIUM\"\n     }\n+  },\n+  \"OceanBleedingCheck\": {\n+    \"ocean.valid\": \"natural->strait,channel,fjord,sound,bay|harbour->*&harbour->!no|estuary->*&estuary->!no|bay->*&bay->!no|place->sea|seamark:type->harbour,harbour_basin,sea_area|water->bay,cove,harbour|waterway->artificial,dock\",\n+    \"ocean.invalid\": \"man_made->breakwater,pier|natural->beach,marsh,swamp|water->marsh|wetland->bog,fen,mangrove,marsh,saltern,saltmarsh,string_bog,swamp,wet_meadow|landuse->*\",\n+    \"highway.minimum\": \"path\",\n+    \"highways.exclude\": [\n+      \"bus_guideway\"\n+    ],\n+    \"lineItems.offending\": \"railway->rail,narrow_gauge,preserved,subway,disused,monorail,tram,light_rail,funicular,construction,miniature\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "392b4baeb5fbeb28051e2218ef89666c288be55f"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed3358632b6fcdb4074a1a80d0a354fb5f74dc97", "author": {"user": null}, "url": "https://github.com/osmlab/atlas-checks/commit/ed3358632b6fcdb4074a1a80d0a354fb5f74dc97", "committedDate": "2020-03-04T21:54:53Z", "message": "add readme, update unit tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MTUzNjUy", "url": "https://github.com/osmlab/atlas-checks/pull/266#pullrequestreview-369153652", "createdAt": "2020-03-04T21:57:25Z", "commit": {"oid": "ed3358632b6fcdb4074a1a80d0a354fb5f74dc97"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fbfb620ad93bc1ad06df92e26fe4af279629087", "author": {"user": null}, "url": "https://github.com/osmlab/atlas-checks/commit/9fbfb620ad93bc1ad06df92e26fe4af279629087", "committedDate": "2020-03-04T21:59:04Z", "message": "Merge https://github.com/osmlab/atlas-checks into waterBleederCheck"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6aeadcde2bb808e16f589ba815f027ade6de017", "author": {"user": null}, "url": "https://github.com/osmlab/atlas-checks/commit/f6aeadcde2bb808e16f589ba815f027ade6de017", "committedDate": "2020-03-04T21:59:43Z", "message": "spotlessApply"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a985be2217811194a0da3bdb93f98c3760120cad", "author": {"user": null}, "url": "https://github.com/osmlab/atlas-checks/commit/a985be2217811194a0da3bdb93f98c3760120cad", "committedDate": "2020-03-04T22:01:58Z", "message": "revert change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MTYxNTA4", "url": "https://github.com/osmlab/atlas-checks/pull/266#pullrequestreview-369161508", "createdAt": "2020-03-04T22:10:38Z", "commit": {"oid": "a985be2217811194a0da3bdb93f98c3760120cad"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MTU3MTU4", "url": "https://github.com/osmlab/atlas-checks/pull/266#pullrequestreview-369157158", "createdAt": "2020-03-04T22:03:15Z", "commit": {"oid": "ed3358632b6fcdb4074a1a80d0a354fb5f74dc97"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMjoxNzo1MVrOFx_tvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMjoxNzo1MVrOFx_tvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzk2ODQ0NA==", "bodyText": "This could be\nhighway:{\nminimum: path,\nexclude: []\n}", "url": "https://github.com/osmlab/atlas-checks/pull/266#discussion_r387968444", "createdAt": "2020-03-04T22:17:51Z", "author": {"login": "danielduhh"}, "path": "config/configuration.json", "diffHunk": "@@ -964,5 +969,22 @@\n       \"difficulty\":\"NORMAL\",\n       \"defaultPriority\":\"MEDIUM\"\n     }\n+  },\n+  \"OceanBleedingCheck\": {\n+    \"ocean\": {\n+      \"valid\": \"natural->strait,channel,fjord,sound,bay|harbour->*&harbour->!no|estuary->*&estuary->!no|bay->*&bay->!no|place->sea|seamark:type->harbour,harbour_basin,sea_area|water->bay,cove,harbour|waterway->artificial,dock\",\n+      \"invalid\": \"man_made->breakwater,pier|natural->beach,marsh,swamp|water->marsh|wetland->bog,fen,mangrove,marsh,saltern,saltmarsh,string_bog,swamp,wet_meadow|landuse->*\"\n+    },\n+    \"highway.minimum\": \"path\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a985be2217811194a0da3bdb93f98c3760120cad"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e3f51a0670c742739175a5236a52d824ac1d5f9", "author": {"user": null}, "url": "https://github.com/osmlab/atlas-checks/commit/2e3f51a0670c742739175a5236a52d824ac1d5f9", "committedDate": "2020-03-04T22:31:02Z", "message": "update config value name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MTc0NzA4", "url": "https://github.com/osmlab/atlas-checks/pull/266#pullrequestreview-369174708", "createdAt": "2020-03-04T22:34:52Z", "commit": {"oid": "2e3f51a0670c742739175a5236a52d824ac1d5f9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MTkwODIx", "url": "https://github.com/osmlab/atlas-checks/pull/266#pullrequestreview-369190821", "createdAt": "2020-03-04T23:07:59Z", "commit": {"oid": "2e3f51a0670c742739175a5236a52d824ac1d5f9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3290, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}