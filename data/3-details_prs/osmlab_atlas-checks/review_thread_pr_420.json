{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwMDA5ODc1", "number": 420, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNTowNDowNlrOE4fHrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNTowNTowN1rOE4fJyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3NjY1NTgyOnYy", "diffSide": "RIGHT", "path": "pyatlas_checks/pyatlas_checks/cli/cli.py", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNTowNDowNlrOHyb0aA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNFQwMjozMzoyOVrOHzHU-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY0NjYzMg==", "bodyText": "Do you have to declare a name here? How would you call this from the cli?", "url": "https://github.com/osmlab/atlas-checks/pull/420#discussion_r522646632", "createdAt": "2020-11-13T05:04:06Z", "author": {"login": "danielduhh"}, "path": "pyatlas_checks/pyatlas_checks/cli/cli.py", "diffHunk": "@@ -0,0 +1,20 @@\n+import click\n+from pyatlas_checks.commands.test_command import TestCommand\n+\n+\n+@click.group()\n+@click.option('--verbose', is_flag=True)\n+@click.pass_context\n+def cli(ctx, verbose):\n+    ctx.obj = {\n+        'verbose': verbose\n+    }\n+\n+\n+@cli.command()\n+@click.argument('test_string')\n+@click.pass_context\n+def test_command(ctx, test_string):", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50e78fd2472a4508ffe22bebb48155085a0fb0c7"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzA2NjYwNw==", "bodyText": "@danielduhh To call this command, all you have to do is pass:\npyatlas test-command\n\nOf course, calling the above will throw an error since we didn't pass the required parameter.\nClick automatically converts all underscores in method names to dashes.", "url": "https://github.com/osmlab/atlas-checks/pull/420#discussion_r523066607", "createdAt": "2020-11-13T16:36:19Z", "author": {"login": "mattmanley"}, "path": "pyatlas_checks/pyatlas_checks/cli/cli.py", "diffHunk": "@@ -0,0 +1,20 @@\n+import click\n+from pyatlas_checks.commands.test_command import TestCommand\n+\n+\n+@click.group()\n+@click.option('--verbose', is_flag=True)\n+@click.pass_context\n+def cli(ctx, verbose):\n+    ctx.obj = {\n+        'verbose': verbose\n+    }\n+\n+\n+@cli.command()\n+@click.argument('test_string')\n+@click.pass_context\n+def test_command(ctx, test_string):", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY0NjYzMg=="}, "originalCommit": {"oid": "50e78fd2472a4508ffe22bebb48155085a0fb0c7"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzM1OTQ4MA==", "bodyText": "\ud83d\udcaf", "url": "https://github.com/osmlab/atlas-checks/pull/420#discussion_r523359480", "createdAt": "2020-11-14T02:33:29Z", "author": {"login": "danielduhh"}, "path": "pyatlas_checks/pyatlas_checks/cli/cli.py", "diffHunk": "@@ -0,0 +1,20 @@\n+import click\n+from pyatlas_checks.commands.test_command import TestCommand\n+\n+\n+@click.group()\n+@click.option('--verbose', is_flag=True)\n+@click.pass_context\n+def cli(ctx, verbose):\n+    ctx.obj = {\n+        'verbose': verbose\n+    }\n+\n+\n+@cli.command()\n+@click.argument('test_string')\n+@click.pass_context\n+def test_command(ctx, test_string):", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY0NjYzMg=="}, "originalCommit": {"oid": "50e78fd2472a4508ffe22bebb48155085a0fb0c7"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3NjY2MTIxOnYy", "diffSide": "RIGHT", "path": "pyatlas_checks/setup.py", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNTowNTowN1rOHyb4Cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNTowNTowN1rOHyb4Cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY0NzU2Mw==", "bodyText": "The cli.py file could live in the package root (instead of in its own module). That way you could avoid the cli.cli:cli", "url": "https://github.com/osmlab/atlas-checks/pull/420#discussion_r522647563", "createdAt": "2020-11-13T05:05:07Z", "author": {"login": "danielduhh"}, "path": "pyatlas_checks/setup.py", "diffHunk": "@@ -0,0 +1,21 @@\n+#!/usr/bin/env python\n+\n+import os\n+from setuptools import setup, find_packages\n+\n+here = os.path.abspath(os.path.dirname(__file__))\n+README = open(os.path.join(here, 'README.md')).read()\n+exclude_dirs = ['tests', 'venv']\n+\n+packs = find_packages(exclude=exclude_dirs)\n+\n+setup(name='pyatlas_checks',\n+      version=\"1.0\",\n+      packages=find_packages(),\n+      include_package_data=True,\n+      install_requires=[\"Click\"],\n+      entry_points='''\n+            [console_scripts]\n+            pyatlas=pyatlas_checks.cli.cli:cli", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50e78fd2472a4508ffe22bebb48155085a0fb0c7"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3214, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}