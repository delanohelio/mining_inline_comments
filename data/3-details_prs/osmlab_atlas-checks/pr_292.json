{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MjgzMjA0", "number": 292, "title": "Update FlaggedRelation to Output Atlas Identifier and OSM Identifier as String", "bodyText": "Description:\nFor all FlaggedObjects, except FlaggedRelation, the \"osmIdentifer\" and \"identifier\" fields in the feature properties are string. In case of FlaggedRelation, these fields are populated as integers. This PR updates the \"asGeoJsonFeature\" method in FlaggedRelation to populate the  \"osmIdentifer\" and \"identifier\" fields as string instead of as integers.\nList potential impact to downstream libraries here (ex. atlas-checks, atlas-generator)\nThe \"identifier\" and \"osmIdentifier\" keys in the properties of geojson features for FlaggedRelation will be string just like in other FlaggedObjects.\nUnit Test Approach:\nLocally ran the updates on checks that flag relation and verified the geojson and log files\nTest Results:\nBefore updates:\n\nAfter updates:", "createdAt": "2020-05-06T19:15:19Z", "url": "https://github.com/osmlab/atlas-checks/pull/292", "merged": true, "mergeCommit": {"oid": "51a6b819d7b7c31725d0a187491043932d9ff7ba"}, "closed": true, "closedAt": "2020-05-12T02:59:18Z", "author": {"login": "sayas01"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcetK4AgH2gAyNDE0MjgzMjA0Ojk1N2EyMmEwZTFlY2U5MzUzODA3YzVmODk1MmIzMjJkMDkzNGMwNTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgbSZBgFqTQwOTY2NTQwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "957a22a0e1ece9353807c5f8952b322d0934c055", "author": {"user": {"login": "sayas01", "name": "Sayana Saithu"}}, "url": "https://github.com/osmlab/atlas-checks/commit/957a22a0e1ece9353807c5f8952b322d0934c055", "committedDate": "2020-05-06T18:41:25Z", "message": "Update FlaggedRelation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ff123dcdae495c8eff54969deac7d88e96649c7", "author": {"user": {"login": "sayas01", "name": "Sayana Saithu"}}, "url": "https://github.com/osmlab/atlas-checks/commit/8ff123dcdae495c8eff54969deac7d88e96649c7", "committedDate": "2020-05-06T18:43:47Z", "message": "Revert change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7661184cec4ff8f65d42cfbd027811c95eb9c64c", "author": {"user": {"login": "sayas01", "name": "Sayana Saithu"}}, "url": "https://github.com/osmlab/atlas-checks/commit/7661184cec4ff8f65d42cfbd027811c95eb9c64c", "committedDate": "2020-05-06T18:54:22Z", "message": "spotless"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NjE3Nzg4", "url": "https://github.com/osmlab/atlas-checks/pull/292#pullrequestreview-407617788", "createdAt": "2020-05-07T16:02:12Z", "commit": {"oid": "7661184cec4ff8f65d42cfbd027811c95eb9c64c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNjowMjoxMlrOGSFjrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNjowMjoxMlrOGSFjrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTYxODYwNg==", "bodyText": "Do you mind adding a comment here on why we're deleting and adding the same properties/values ?", "url": "https://github.com/osmlab/atlas-checks/pull/292#discussion_r421618606", "createdAt": "2020-05-07T16:02:12Z", "author": {"login": "danielduhh"}, "path": "src/main/java/org/openstreetmap/atlas/checks/flag/FlaggedRelation.java", "diffHunk": "@@ -64,10 +67,15 @@ public FlaggedRelation(final Relation relation, final MultiPolygon geoJsonGeomet\n     public JsonObject asGeoJsonFeature(final String flagIdentifier)\n     {\n         final JsonObject featureProperties = this.relation.getGeoJsonProperties();\n+        final JsonElement osmIdentifier = featureProperties.get(OSM_IDENTIFIER_TAG);\n+        final JsonElement identifier = featureProperties.get(IDENTIFIER);\n+        featureProperties.remove(OSM_IDENTIFIER_TAG);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7661184cec4ff8f65d42cfbd027811c95eb9c64c"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7576f45aaece64d5f4613b7851041ca71b7377c3", "author": {"user": {"login": "sayas01", "name": "Sayana Saithu"}}, "url": "https://github.com/osmlab/atlas-checks/commit/7576f45aaece64d5f4613b7851041ca71b7377c3", "committedDate": "2020-05-07T17:14:22Z", "message": "Add comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64c7e85d70969dc3e09b69852d29e71394c9ad90", "author": {"user": null}, "url": "https://github.com/osmlab/atlas-checks/commit/64c7e85d70969dc3e09b69852d29e71394c9ad90", "committedDate": "2020-05-07T17:15:47Z", "message": "Merge branch 'dev' into flaggedrelation-update"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5MzE2NzI5", "url": "https://github.com/osmlab/atlas-checks/pull/292#pullrequestreview-409316729", "createdAt": "2020-05-11T16:07:17Z", "commit": {"oid": "64c7e85d70969dc3e09b69852d29e71394c9ad90"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NjY1NDAx", "url": "https://github.com/osmlab/atlas-checks/pull/292#pullrequestreview-409665401", "createdAt": "2020-05-12T02:59:11Z", "commit": {"oid": "64c7e85d70969dc3e09b69852d29e71394c9ad90"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3324, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}