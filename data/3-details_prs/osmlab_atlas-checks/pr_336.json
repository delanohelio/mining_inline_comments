{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3OTc0MDU0", "number": 336, "title": "Updates to AtGradeSignPostCheck", "bodyText": "Description:\nThis PR adds following updates to the existing AtGradeSignPostCheck:\n\nIn case of At-Grade junctions with turn lanes between connected edges, the AtGradeSignPostCheck flags the Link road instead of the connected edges of the at-grade junction. This update is made considering the fact that the destination information should go to these link roads as they are the most logical routes at such junctions.\nExample:\n\n\nIn the above image, the inEdge and outEdge of the at-grade junctions(https://www.openstreetmap.org/node/5992479635) were flagged previously for missing destination_sign relation/ destination_sign tag. The link road https://www.openstreetmap.org/way/611793210 is the most logical route from the flagged inEdge to the flagged outEdge. With this enhancement, the link road will be flagged for missing destination information instead of the inEdge and outEdge.\n\nThe use of EdgeDirectionComparator was resulting in large FN, mostly for at-grade junctions at roundabouts.  The EdgeDirectionComparator has been omitted for validating the at-grade junctions based on analysis.\n\nPotential Impact:\nFlags more valid cases (mostly associated with roundabouts) that were skipped previously. Changes to existing flags for at-grade junctions with turn lanes. Flag will have lesser features compared to before as only the link road and junction are flagged instead of all connected edges.\nUnit Test Approach:\nAdded new unit test.\nTest Results:\nAll tests passing.\nTODO\n\n Analysis", "createdAt": "2020-07-28T18:21:24Z", "url": "https://github.com/osmlab/atlas-checks/pull/336", "merged": true, "mergeCommit": {"oid": "b78efe1f68035a832f87ace4c7fd38959fad2278"}, "closed": true, "closedAt": "2020-08-05T19:38:23Z", "author": {"login": "sayas01"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5WB7bgH2gAyNDU3OTc0MDU0OmIyZGZlOTdhNzVmN2UzN2UwMmIyMTkzODQ0ZDVmYWE0M2JmMjk5MWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8Ag_DAFqTQ2MTk2NjAwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b2dfe97a75f7e37e02b2193844d5faa43bf2991c", "author": {"user": {"login": "sayas01", "name": "Sayana Saithu"}}, "url": "https://github.com/osmlab/atlas-checks/commit/b2dfe97a75f7e37e02b2193844d5faa43bf2991c", "committedDate": "2020-07-28T12:59:47Z", "message": "Fix error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7f483dcacdc07bd24096700e30b6dab24d1caaf", "author": {"user": {"login": "sayas01", "name": "Sayana Saithu"}}, "url": "https://github.com/osmlab/atlas-checks/commit/b7f483dcacdc07bd24096700e30b6dab24d1caaf", "committedDate": "2020-07-28T13:04:28Z", "message": "Checkstyle issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79e676db193ee7cb79d50915fcede4cc25b46c16", "author": {"user": {"login": "sayas01", "name": "Sayana Saithu"}}, "url": "https://github.com/osmlab/atlas-checks/commit/79e676db193ee7cb79d50915fcede4cc25b46c16", "committedDate": "2020-07-28T17:35:00Z", "message": "Add unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e443b29025eddaa9e9d6deed2cef8724cc3b1a1f", "author": {"user": {"login": "sayas01", "name": "Sayana Saithu"}}, "url": "https://github.com/osmlab/atlas-checks/commit/e443b29025eddaa9e9d6deed2cef8724cc3b1a1f", "committedDate": "2020-07-28T18:20:55Z", "message": "Fix checkstyle and spotlessApply"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxODc2Mjc3", "url": "https://github.com/osmlab/atlas-checks/pull/336#pullrequestreview-461876277", "createdAt": "2020-08-05T17:28:07Z", "commit": {"oid": "e443b29025eddaa9e9d6deed2cef8724cc3b1a1f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxNzoyODowN1rOG8TjHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxNzoyODowN1rOG8TjHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTg4ODAyOQ==", "bodyText": "Very descriptive, love it!", "url": "https://github.com/osmlab/atlas-checks/pull/336#discussion_r465888029", "createdAt": "2020-08-05T17:28:07Z", "author": {"login": "danielduhh"}, "path": "src/main/java/org/openstreetmap/atlas/checks/validation/intersections/AtGradeSignPostCheck.java", "diffHunk": "@@ -105,30 +103,26 @@ private Integer getInstructionIndex()\n             + \"at-grade junction. It is part of destination sign relation(s). Either the existing relations are missing destination sign tag or following connected edges {1} \"\n             + \"could also form destination sign relations with this node. Either add destination tags to existing relations or create new destination sign relation \"\n             + \"with these edges and the node.\";\n+    private static final String LINK_WITH_NO_DESTINATION_SIGN_RELATION = \"Node {0,number,#} forms an at-grade junction. Link road {1} is the most logical route between the OSM ways connected to this node, but is either not part of a destination sign relation or is missing a destination sign tag.\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e443b29025eddaa9e9d6deed2cef8724cc3b1a1f"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxOTEwNjI2", "url": "https://github.com/osmlab/atlas-checks/pull/336#pullrequestreview-461910626", "createdAt": "2020-08-05T18:16:42Z", "commit": {"oid": "e443b29025eddaa9e9d6deed2cef8724cc3b1a1f"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c7617b5cb3c1127b0a28c1537b2030fd8f8529b", "author": {"user": {"login": "sayas01", "name": "Sayana Saithu"}}, "url": "https://github.com/osmlab/atlas-checks/commit/7c7617b5cb3c1127b0a28c1537b2030fd8f8529b", "committedDate": "2020-08-05T19:29:51Z", "message": "Fix code smell"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxOTY1OTc4", "url": "https://github.com/osmlab/atlas-checks/pull/336#pullrequestreview-461965978", "createdAt": "2020-08-05T19:37:31Z", "commit": {"oid": "7c7617b5cb3c1127b0a28c1537b2030fd8f8529b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxOTY2MDA4", "url": "https://github.com/osmlab/atlas-checks/pull/336#pullrequestreview-461966008", "createdAt": "2020-08-05T19:37:34Z", "commit": {"oid": "7c7617b5cb3c1127b0a28c1537b2030fd8f8529b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3148, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}